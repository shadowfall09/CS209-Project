{"items":[{"tags":["java",".net","exception"],"answers":[{"comments":[{"owner":{"account_id":30896,"reputation":10219,"user_id":84535,"display_name":"Dykam"},"score":33,"creation_date":1267045279,"post_id":2329381,"comment_id":2299491,"body_markdown":"I say it is something quite different. The NIE also tells it may not implemented yet, where the UOE says me it never will...","body":"I say it is something quite different. The NIE also tells it may not implemented yet, where the UOE says me it never will..."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":5,"creation_date":1267045598,"post_id":2329381,"comment_id":2299534,"body_markdown":"@Dykam, then wouldn&#39;t it be a NotImplementedYetException?","body":"@Dykam, then wouldn&#39;t it be a NotImplementedYetException?"},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":127,"creation_date":1267045711,"post_id":2329381,"comment_id":2299555,"body_markdown":"@Dykam: `new UnsupportedOperationException(&quot;Not implemented yet&quot;)` - happy?","body":"@Dykam: <code>new UnsupportedOperationException(&quot;Not implemented yet&quot;)</code> - happy?"},{"owner":{"account_id":30896,"reputation":10219,"user_id":84535,"display_name":"Dykam"},"score":3,"creation_date":1267076817,"post_id":2329381,"comment_id":2302212,"body_markdown":"I didn&#39;t mean it was worse, just had a different use case.","body":"I didn&#39;t mean it was worse, just had a different use case."},{"owner":{"account_id":29845,"reputation":31302,"user_id":80932,"accept_rate":85,"display_name":"ufk"},"score":6,"creation_date":1309944911,"post_id":2329381,"comment_id":7779490,"body_markdown":"new UnsupportedOperationException(&quot;Not implemented yet&quot;) is an awesome idea! :) in lang3 for some reason I don&#39;t have NotImplementedException so this is a great solution","body":"new UnsupportedOperationException(&quot;Not implemented yet&quot;) is an awesome idea! :) in lang3 for some reason I don&#39;t have NotImplementedException so this is a great solution"},{"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"score":3,"creation_date":1390083766,"post_id":2329381,"comment_id":31942629,"body_markdown":"@Dykam In .NET, `NotSupportedException` and `NotImplementedException` have very different meanings. In Java, however, the de facto standard is using `UnsupportedOperationException` in both cases, with the message indicating that the method is not yet implemented (where applicable). Even if you use a custom `NotImplementedException` for your own code, you can never assume in Java that `UnsupportedOperationException` means the method &quot;won&#39;t&quot; be implemented.","body":"@Dykam In .NET, <code>NotSupportedException</code> and <code>NotImplementedException</code> have very different meanings. In Java, however, the de facto standard is using <code>UnsupportedOperationException</code> in both cases, with the message indicating that the method is not yet implemented (where applicable). Even if you use a custom <code>NotImplementedException</code> for your own code, you can never assume in Java that <code>UnsupportedOperationException</code> means the method &quot;won&#39;t&quot; be implemented."},{"owner":{"account_id":30896,"reputation":10219,"user_id":84535,"display_name":"Dykam"},"score":1,"creation_date":1390090635,"post_id":2329381,"comment_id":31944541,"body_markdown":"Funny that you comment, started using Java more often not too long ago, and this is in the Apache libs: [`NotImplementedException`](http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html). Which inherits `UnsupportedOperationException`.","body":"Funny that you comment, started using Java more often not too long ago, and this is in the Apache libs: <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\" rel=\"nofollow noreferrer\"><code>NotImplementedException</code></a>. Which inherits <code>UnsupportedOperationException</code>."},{"owner":{"account_id":90734,"reputation":2071,"user_id":249623,"display_name":"Ryan"},"score":2,"creation_date":1433378395,"post_id":2329381,"comment_id":49331771,"body_markdown":"FWIW this is how the Netbeans IDE implements auto-generated methods.  Actually Netbeans also adds a comment:  `throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.`","body":"FWIW this is how the Netbeans IDE implements auto-generated methods.  Actually Netbeans also adds a comment:  <code>throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); &#47;&#47;To change body of generated methods, choose Tools | Templates.</code>"}],"tags":[],"owner":{"account_id":3519,"reputation":25773,"user_id":5077,"accept_rate":71,"display_name":"Chris Dail"},"comment_count":8,"down_vote_count":2,"up_vote_count":335,"is_accepted":false,"score":333,"last_activity_date":1463483626,"creation_date":1267044424,"answer_id":2329381,"question_id":2329358,"body_markdown":"I think the [`java.lang.UnsupportedOperationException`][1] is what you are looking for.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>I think the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>java.lang.UnsupportedOperationException</code></a> is what you are looking for.</p>\n"},{"comments":[{"owner":{"account_id":155120,"reputation":798,"user_id":371553,"display_name":"Michael Younkin"},"score":27,"creation_date":1313767057,"post_id":2329389,"comment_id":8536958,"body_markdown":"It appears that NotImplementedException has been removed from Commons Lang 3.0.","body":"It appears that NotImplementedException has been removed from Commons Lang 3.0."},{"owner":{"account_id":250793,"reputation":2496,"user_id":527718,"accept_rate":88,"display_name":"L.Butz"},"score":16,"creation_date":1337177168,"post_id":2329389,"comment_id":13762993,"body_markdown":"I think since the UnsupportedOperationException is part of the collections framework, it should only be used if it is used in the conext of Collections. Otherwise a RuntimeException should be used. http://docs.oracle.com/javase/7/docs/technotes/guides/collections/index.html","body":"I think since the UnsupportedOperationException is part of the collections framework, it should only be used if it is used in the conext of Collections. Otherwise a RuntimeException should be used. <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/collections/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/collections/&hellip;</a>"},{"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"score":14,"creation_date":1337887533,"post_id":2329389,"comment_id":13960399,"body_markdown":"@LeonardButz It comes from java.lang: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/UnsupportedOperationException.html","body":"@LeonardButz It comes from java.lang: <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.5.0/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":250793,"reputation":2496,"user_id":527718,"accept_rate":88,"display_name":"L.Butz"},"score":5,"creation_date":1342004171,"post_id":2329389,"comment_id":15079961,"body_markdown":"@RaviWallau I saw this: http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html There stands that this class is a member of the Java Collection Framework.","body":"@RaviWallau I saw this: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a> There stands that this class is a member of the Java Collection Framework."},{"owner":{"account_id":936266,"reputation":16127,"user_id":965176,"accept_rate":33,"display_name":"qwertzguy"},"score":5,"creation_date":1421188762,"post_id":2329389,"comment_id":44263272,"body_markdown":"It has been readded in Commons Lang 3.2: http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/","body":"It has been readded in Commons Lang 3.2: <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.2/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-3.2</a>"}],"tags":[],"owner":{"account_id":24844,"reputation":10434,"user_id":63436,"accept_rate":75,"display_name":"Ravi Wallau"},"comment_count":5,"down_vote_count":1,"up_vote_count":585,"is_accepted":true,"score":584,"last_activity_date":1524460262,"creation_date":1267044484,"answer_id":2329389,"question_id":2329358,"body_markdown":"[Commons Lang][1] has it. Or you could throw an [`UnsupportedOperationException`][2].\n\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/NotImplementedException.html\" rel=\"noreferrer\">Commons Lang</a> has it. Or you could throw an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"noreferrer\"><code>UnsupportedOperationException</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":374340,"reputation":4231,"user_id":724491,"display_name":"Chiara Coetzee"},"score":3,"creation_date":1333199956,"post_id":5607373,"comment_id":12714981,"body_markdown":"I like this solution the best because it&#39;s easy to have a special error handler for it, it&#39;s easy to search for it by finding all references to the NotImplementedException constructor, and it&#39;s just a few lines of code. But it is a bit inconvenient to have to declare a new class with its own file.","body":"I like this solution the best because it&#39;s easy to have a special error handler for it, it&#39;s easy to search for it by finding all references to the NotImplementedException constructor, and it&#39;s just a few lines of code. But it is a bit inconvenient to have to declare a new class with its own file."},{"owner":{"account_id":1230575,"reputation":16783,"user_id":1195273,"accept_rate":81,"display_name":"crush"},"score":1,"creation_date":1378385434,"post_id":5607373,"comment_id":27437572,"body_markdown":"I agree. This is better than the use of `UnsupportedOperationException` in my opinion. Now, if only Java would add this to the common library of exceptions!","body":"I agree. This is better than the use of <code>UnsupportedOperationException</code> in my opinion. Now, if only Java would add this to the common library of exceptions!"},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1593608916,"post_id":5607373,"comment_id":110840381,"body_markdown":"Actually, `UnsupportedOperationException` also extends `RuntimeException`, and it supports an optional message.","body":"Actually, <code>UnsupportedOperationException</code> also extends <code>RuntimeException</code>, and it supports an optional message."}],"tags":[],"owner":{"account_id":359077,"reputation":2022,"user_id":700254,"accept_rate":100,"display_name":"Ready4Android"},"comment_count":3,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1696496420,"creation_date":1302377954,"answer_id":5607373,"question_id":2329358,"body_markdown":"You could do it yourself (that&#39;s what I did) - in order to not be bothered with exception handling, you simply extend RuntimeException. Your class could look something like this:\r\n\r\n    public class NotImplementedException extends RuntimeException {\r\n    \r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \tpublic NotImplementedException(){}\r\n    }\r\n\r\nYou could extend it to take a message - but if you use the method as I do (that is, as a reminder that there is still something to be implemented), then usually there is no need for additional messages.\r\n\r\nI dare say, that I only use this method, while I am in the process of developing a system, makes it easier for me to not lose track of which methods are still not implemented properly :)","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>You could do it yourself (that's what I did) - in order to not be bothered with exception handling, you simply extend RuntimeException. Your class could look something like this:</p>\n<pre><code>public class NotImplementedException extends RuntimeException {\n\n    private static final long serialVersionUID = 1L;\n\n    public NotImplementedException(){}\n}\n</code></pre>\n<p>You could extend it to take a message - but if you use the method as I do (that is, as a reminder that there is still something to be implemented), then usually there is no need for additional messages.</p>\n<p>I dare say, that I only use this method, while I am in the process of developing a system, makes it easier for me to not lose track of which methods are still not implemented properly :)</p>\n"},{"tags":[],"owner":{"account_id":474122,"reputation":1627,"user_id":883603,"accept_rate":75,"display_name":"Dormouse"},"comment_count":0,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1402640148,"creation_date":1390083122,"answer_id":21210530,"question_id":2329358,"body_markdown":"No there isn&#39;t and it&#39;s probably not there, because there are very few valid uses for it. I would think twice before using it. Also, it is indeed easy to create yourself.\r\n\r\nPlease refer to [this discussion](https://stackoverflow.com/questions/410719/why-does-notimplementedexception-exist) about why it&#39;s even in .NET.\r\n\r\nI guess `UnsupportedOperationException` comes close, although it doesn&#39;t say the operation is just not implemented, but unsupported even. That could imply no valid implementation is possible. Why would the operation be unsupported? Should it even be there? \r\nInterface segregation or Liskov substitution issues maybe?\r\n\r\nIf it&#39;s work in progress I&#39;d go for `ToBeImplementedException`, but I&#39;ve never caught myself defining a concrete method and then leave it for so long it makes it into production and there would be a need for such an exception.","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>No there isn't and it's probably not there, because there are very few valid uses for it. I would think twice before using it. Also, it is indeed easy to create yourself.</p>\n\n<p>Please refer to <a href=\"https://stackoverflow.com/questions/410719/why-does-notimplementedexception-exist\">this discussion</a> about why it's even in .NET.</p>\n\n<p>I guess <code>UnsupportedOperationException</code> comes close, although it doesn't say the operation is just not implemented, but unsupported even. That could imply no valid implementation is possible. Why would the operation be unsupported? Should it even be there? \nInterface segregation or Liskov substitution issues maybe?</p>\n\n<p>If it's work in progress I'd go for <code>ToBeImplementedException</code>, but I've never caught myself defining a concrete method and then leave it for so long it makes it into production and there would be a need for such an exception.</p>\n"},{"tags":[],"owner":{"account_id":4922,"reputation":4885,"user_id":7641,"accept_rate":83,"display_name":"Jens Bannmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1531047940,"creation_date":1526972791,"answer_id":50461711,"question_id":2329358,"body_markdown":"As mentioned, the JDK does not have a close match. However, my team occasionally has a use for such an exception as well. We could have gone with `UnsupportedOperationException` as suggested by other answers, but we prefer a custom exception class in our base library that has deprecated constructors:\r\n\r\n    public class NotYetImplementedException extends RuntimeException\r\n    {\r\n        /**\r\n         * @deprecated Deprecated to remind you to implement the corresponding code\r\n         *             before releasing the software.\r\n         */\r\n        @Deprecated\r\n        public NotYetImplementedException()\r\n        {\r\n        }\r\n    \r\n        /**\r\n         * @deprecated Deprecated to remind you to implement the corresponding code\r\n         *             before releasing the software.\r\n         */\r\n        @Deprecated\r\n        public NotYetImplementedException(String message)\r\n        {\r\n            super(message);\r\n        }\r\n    }\r\n\r\nThis approach has the following benefits:\r\n\r\n 1. When readers see `NotYetImplementedException`, they know that an implementation was planned and was either forgotten or is still in progress, whereas `UnsupportedOperationException` says (in line with [collection contracts][1]) that something will never be implemented. That&#39;s why we have the word &quot;yet&quot; in the class name. Also, an IDE can easily list the call sites.\r\n 2. With the deprecation warning at each call site, your IDE and static code analysis tool can remind you where you still have to implement something. (This use of deprecation may feel wrong to some, but in fact [deprecation is not limited to announcing removal][2].)\r\n 3. The constructors are deprecated, not the class. This way, you only get a deprecation warning inside the method that needs implementing, not at the `import` line (JDK 9 [fixed this][3], though).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\r\n  [2]: https://stackoverflow.com/a/50303393/7641\r\n  [3]: https://bugs.openjdk.java.net/browse/JDK-8032211","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>As mentioned, the JDK does not have a close match. However, my team occasionally has a use for such an exception as well. We could have gone with <code>UnsupportedOperationException</code> as suggested by other answers, but we prefer a custom exception class in our base library that has deprecated constructors:</p>\n\n<pre><code>public class NotYetImplementedException extends RuntimeException\n{\n    /**\n     * @deprecated Deprecated to remind you to implement the corresponding code\n     *             before releasing the software.\n     */\n    @Deprecated\n    public NotYetImplementedException()\n    {\n    }\n\n    /**\n     * @deprecated Deprecated to remind you to implement the corresponding code\n     *             before releasing the software.\n     */\n    @Deprecated\n    public NotYetImplementedException(String message)\n    {\n        super(message);\n    }\n}\n</code></pre>\n\n<p>This approach has the following benefits:</p>\n\n<ol>\n<li>When readers see <code>NotYetImplementedException</code>, they know that an implementation was planned and was either forgotten or is still in progress, whereas <code>UnsupportedOperationException</code> says (in line with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\" rel=\"noreferrer\">collection contracts</a>) that something will never be implemented. That's why we have the word \"yet\" in the class name. Also, an IDE can easily list the call sites.</li>\n<li>With the deprecation warning at each call site, your IDE and static code analysis tool can remind you where you still have to implement something. (This use of deprecation may feel wrong to some, but in fact <a href=\"https://stackoverflow.com/a/50303393/7641\">deprecation is not limited to announcing removal</a>.)</li>\n<li>The constructors are deprecated, not the class. This way, you only get a deprecation warning inside the method that needs implementing, not at the <code>import</code> line (JDK 9 <a href=\"https://bugs.openjdk.java.net/browse/JDK-8032211\" rel=\"noreferrer\">fixed this</a>, though).</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248677,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658029411,"creation_date":1658029411,"answer_id":73009122,"question_id":2329358,"body_markdown":"In the spirit of Stackoverflow being a [combination of Reddit and Wikipedia][1], here&#39;s some additional information, which is relevant to the question, and can also be an answer to the question.\r\n\r\nWhen you ask NetBeans IDE to create a missing implementation, it uses a [**UnsupportedOperationException**][2]:\r\n\r\n\r\n```\r\nvoid setPropertiesWithReader(IDataReader rdr)\r\n{\r\n   throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\r\n}\r\n```\r\n\r\nIf it&#39;s good enough for NetBeans, it&#39;s good enough for us.\r\n\r\n\r\n  [1]: https://www.joelonsoftware.com/2008/09/15/stack-overflow-launches/\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>In the spirit of Stackoverflow being a <a href=\"https://www.joelonsoftware.com/2008/09/15/stack-overflow-launches/\" rel=\"nofollow noreferrer\">combination of Reddit and Wikipedia</a>, here's some additional information, which is relevant to the question, and can also be an answer to the question.</p>\n<p>When you ask NetBeans IDE to create a missing implementation, it uses a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html\" rel=\"nofollow noreferrer\"><strong>UnsupportedOperationException</strong></a>:</p>\n<pre><code>void setPropertiesWithReader(IDataReader rdr)\n{\n   throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); // Generated from nbfs://nbhost/SystemFileSystem/Templates/Classes/Code/GeneratedMethodBody\n}\n</code></pre>\n<p>If it's good enough for NetBeans, it's good enough for us.</p>\n"}],"owner":{"account_id":44529,"reputation":102230,"user_id":130758,"accept_rate":76,"display_name":"devoured elysium"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191636,"favorite_count":0,"down_vote_count":3,"up_vote_count":611,"accepted_answer_id":2329389,"answer_count":6,"score":608,"last_activity_date":1696496420,"creation_date":1267044268,"question_id":2329358,"body_markdown":"Is there anything like .NET&#39;s `NotImplementedException` in Java?","title":"Is there anything like .NET&#39;s NotImplementedException in Java?","body":"<p>Is there anything like .NET's <code>NotImplementedException</code> in Java?</p>\n"},{"tags":["java","geotools","jts"],"comments":[{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696503474,"post_id":77235454,"comment_id":136162702,"body_markdown":"It sounds like eclipse is not picking up the jts jar - can you check it&#39;s on the project classpath? I think that is in build options tab","body":"It sounds like eclipse is not picking up the jts jar - can you check it&#39;s on the project classpath? I think that is in build options tab"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696504067,"post_id":77235454,"comment_id":136162807,"body_markdown":"Hi Ian, thank you for your response. Yes, the jts jar is in the ./classpath of eclipse. The error appears when I execute the code, not in the compilation of the project. That&#39;s the wierd part.","body":"Hi Ian, thank you for your response. Yes, the jts jar is in the ./classpath of eclipse. The error appears when I execute the code, not in the compilation of the project. That&#39;s the wierd part."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696508464,"post_id":77235454,"comment_id":136163733,"body_markdown":"How are you executing it? this would be using the SPI factory finding code which requires all the `META-INF/services` files to be combined some how - so it&#39;s possible that one of them is being overwritten by a later one","body":"How are you executing it? this would be using the SPI factory finding code which requires all the <code>META-INF&#47;services</code> files to be combined some how - so it&#39;s possible that one of them is being overwritten by a later one"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696587399,"post_id":77235454,"comment_id":136175353,"body_markdown":"I&#39;m running the application with Wildfly. I can&#39;t find the meta-inf/services directory. How i can know if one of them is being overwritten by a later one?","body":"I&#39;m running the application with Wildfly. I can&#39;t find the meta-inf/services directory. How i can know if one of them is being overwritten by a later one?"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696595105,"post_id":77235454,"comment_id":136176763,"body_markdown":"Do you drop in multiple jars or a single jar? See the bottom of the [FAQ](https://docs.geotools.org/latest/userguide/build/faq.html)","body":"Do you drop in multiple jars or a single jar? See the bottom of the <a href=\"https://docs.geotools.org/latest/userguide/build/faq.html\" rel=\"nofollow noreferrer\">FAQ</a>"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696835327,"post_id":77235454,"comment_id":136198700,"body_markdown":"Hi, I don&#39;t drop the project in any jar, I create a war. When I compile with maven I could use the maven plugin that is explained in the last question of the FAQ? Thank you again.","body":"Hi, I don&#39;t drop the project in any jar, I create a war. When I compile with maven I could use the maven plugin that is explained in the last question of the FAQ? Thank you again."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696839413,"post_id":77235454,"comment_id":136199357,"body_markdown":"A correctly constructed war file should have no problem - are you sure it contains the jts jar?","body":"A correctly constructed war file should have no problem - are you sure it contains the jts jar?"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1696842711,"post_id":77235454,"comment_id":136199972,"body_markdown":"Yes, all the jars are in the WEB-INF/lib, including the jts jar. When I compile it with maven it works fine. Is when i try to execute it with Eclipse that shows the error.","body":"Yes, all the jars are in the WEB-INF/lib, including the jts jar. When I compile it with maven it works fine. Is when i try to execute it with Eclipse that shows the error."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1696847171,"post_id":77235454,"comment_id":136200761,"body_markdown":"Then eclipse isn&#39;t picking up the jars in the WEB-INF/lib have you added that to your classpath?","body":"Then eclipse isn&#39;t picking up the jars in the WEB-INF/lib have you added that to your classpath?"},{"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"score":0,"creation_date":1697177289,"post_id":77235454,"comment_id":136249439,"body_markdown":"I don&#39;t thick so. I tried to build a project only with the GeoTools and JTS libraries and there is working fine. Maybe in the project I have some libraries that are not compatible with this ones.","body":"I don&#39;t thick so. I tried to build a project only with the GeoTools and JTS libraries and there is working fine. Maybe in the project I have some libraries that are not compatible with this ones."}],"owner":{"account_id":23915267,"reputation":15,"user_id":17911757,"display_name":"Clara"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696495414,"creation_date":1696494593,"question_id":77235454,"body_markdown":"I&#39;m having some trouble trying to create a Point and Polygon with JTS and GeoTools. I don&#39;t know what is causing the problem and I&#39;ve tried everything but nothing worked for me.\r\n\r\nIf I compile the project with maven everything works fine, but when I&#39;m executing it with Eclipse, when I try to create the Geometry Factory:\r\n\r\n    GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\r\n\r\nIt appears the next error: \r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.geotools.geometry.jts.JTSFactoryFinder from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\r\n\r\nIt happens the same when using the constructor:\r\n\r\n    GeometryFactory geometryFactory = new GeometryFactory();;\r\n \r\nIt shows the following error:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.locationtech.jts.geom.GeometryFactory from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\r\n\r\nThese are the imports:\r\n\r\n    import org.geotools.geometry.jts.JTSFactoryFinder;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.locationtech.jts.geom.Coordinate;\r\n    import org.locationtech.jts.geom.GeometryFactory;\r\n    import org.locationtech.jts.geom.Point;\r\n    import org.locationtech.jts.geom.Polygon;\r\n\r\nAnd this is the code:\r\n\r\n    // Patr&#243;n de expresi&#243;n regular para encontrar pares de n&#250;meros entre corchetes\r\n\tMatcher matcher;\r\n\t// GeometryFactory geometryFactory = new GeometryFactory();\r\n\tGeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\r\n\tif (&quot;Point&quot;.equals(geometryType))\r\n\t{\r\n\t\tPattern patternPoint = Pattern.compile(&quot;\\\\[([\\\\d.]+),\\\\s*([\\\\d.]+),\\\\s*([\\\\d.]+)\\\\]&quot;);\r\n\t\tmatcher = patternPoint.matcher(coordinates);\r\n\t\tif (matcher.find())\r\n\t\t{\r\n\t\t\tdouble x = Double.parseDouble(matcher.group(1));\r\n\t\t\tdouble y = Double.parseDouble(matcher.group(2));\r\n\r\n\t\t\tPoint point = geometryFactory.createPoint(new Coordinate(x, y));\r\n\t\t\tgeometryFeature.put(&quot;coordinates&quot;, point);\r\n\t\t}\r\n\t}\r\n\telse\r\n\t{\r\n\t\tPattern patternPolyline = Pattern.compile(&quot;\\\\[\\\\s*([-+]?\\\\d+\\\\.\\\\d+),\\\\s*([-+]?\\\\d+\\\\.\\\\d+)\\\\s*\\\\]&quot;);\r\n\t\tmatcher = patternPolyline.matcher(coordinates);\r\n\r\n\t\t// Buscar y crear objetos Point/Polygon\r\n\t\tint i = 0;\r\n\t\tCoordinate[] coords = new Coordinate[] {};\r\n\t\twhile (matcher.find())\r\n\t\t{\r\n\t\t\tdouble x = Double.parseDouble(matcher.group(1));\r\n\t\t\tdouble y = Double.parseDouble(matcher.group(2));\r\n\r\n\t\t\tcoords[i] = new Coordinate(x, y);\r\n\t\t}\r\n\r\n\t\tPolygon polygon = geometryFactory.createPolygon(coords);\r\n\t\tgeometryFeature.put(&quot;coordinates&quot;, polygon);\r\n\t}\r\nThe pom.xml is this:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jts-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\t\r\n\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\r\n\t     &lt;version&gt;28.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t &lt;groupId&gt;org.geotools&lt;/groupId&gt;\r\n\t\t &lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\r\n\t\t &lt;version&gt;28.5&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI don&#39;t know if I&#39;m missing some dependencies or if I&#39;m using the wrong version. In my project I&#39;m using java 8. \r\nI&#39;ve tried to add gt-main dependencies and is still not working. Do you think of something that I&#39;m doing wrong?\r\n\r\nThank you very much.","title":"Cannot create GeometryFactory : Caused by: java.lang.NoClassDefFoundError: org/geotools/geometry/jts/JTSFactoryFinder","body":"<p>I'm having some trouble trying to create a Point and Polygon with JTS and GeoTools. I don't know what is causing the problem and I've tried everything but nothing worked for me.</p>\n<p>If I compile the project with maven everything works fine, but when I'm executing it with Eclipse, when I try to create the Geometry Factory:</p>\n<pre><code>GeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\n</code></pre>\n<p>It appears the next error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.geotools.geometry.jts.JTSFactoryFinder from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\n</code></pre>\n<p>It happens the same when using the constructor:</p>\n<pre><code>GeometryFactory geometryFactory = new GeometryFactory();;\n</code></pre>\n<p>It shows the following error:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.locationtech.jts.geom.GeometryFactory from [Module &quot;deployment.famaWebApp.war&quot; from Service Module Loader]\n</code></pre>\n<p>These are the imports:</p>\n<pre><code>import org.geotools.geometry.jts.JTSFactoryFinder;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.locationtech.jts.geom.Coordinate;\nimport org.locationtech.jts.geom.GeometryFactory;\nimport org.locationtech.jts.geom.Point;\nimport org.locationtech.jts.geom.Polygon;\n</code></pre>\n<p>And this is the code:</p>\n<pre><code>// Patrón de expresión regular para encontrar pares de números entre corchetes\nMatcher matcher;\n// GeometryFactory geometryFactory = new GeometryFactory();\nGeometryFactory geometryFactory = JTSFactoryFinder.getGeometryFactory();\nif (&quot;Point&quot;.equals(geometryType))\n{\n    Pattern patternPoint = Pattern.compile(&quot;\\\\[([\\\\d.]+),\\\\s*([\\\\d.]+),\\\\s*([\\\\d.]+)\\\\]&quot;);\n    matcher = patternPoint.matcher(coordinates);\n    if (matcher.find())\n    {\n        double x = Double.parseDouble(matcher.group(1));\n        double y = Double.parseDouble(matcher.group(2));\n\n        Point point = geometryFactory.createPoint(new Coordinate(x, y));\n        geometryFeature.put(&quot;coordinates&quot;, point);\n    }\n}\nelse\n{\n    Pattern patternPolyline = Pattern.compile(&quot;\\\\[\\\\s*([-+]?\\\\d+\\\\.\\\\d+),\\\\s*([-+]?\\\\d+\\\\.\\\\d+)\\\\s*\\\\]&quot;);\n    matcher = patternPolyline.matcher(coordinates);\n\n    // Buscar y crear objetos Point/Polygon\n    int i = 0;\n    Coordinate[] coords = new Coordinate[] {};\n    while (matcher.find())\n    {\n        double x = Double.parseDouble(matcher.group(1));\n        double y = Double.parseDouble(matcher.group(2));\n\n        coords[i] = new Coordinate(x, y);\n    }\n\n    Polygon polygon = geometryFactory.createPolygon(coords);\n    geometryFeature.put(&quot;coordinates&quot;, polygon);\n}\n</code></pre>\n<p>The pom.xml is this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.locationtech.jts&lt;/groupId&gt;\n    &lt;artifactId&gt;jts-core&lt;/artifactId&gt;\n    &lt;version&gt;1.18.2&lt;/version&gt;\n&lt;/dependency&gt;   \n&lt;dependency&gt;\n     &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n     &lt;artifactId&gt;gt-main&lt;/artifactId&gt;\n     &lt;version&gt;28.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;org.geotools&lt;/groupId&gt;\n     &lt;artifactId&gt;gt-metadata&lt;/artifactId&gt;\n     &lt;version&gt;28.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I don't know if I'm missing some dependencies or if I'm using the wrong version. In my project I'm using java 8.\nI've tried to add gt-main dependencies and is still not working. Do you think of something that I'm doing wrong?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","android","android-databinding"],"comments":[{"owner":{"account_id":6972846,"reputation":319,"user_id":5348568,"display_name":"rguzman"},"score":0,"creation_date":1589458918,"post_id":61796884,"comment_id":109306129,"body_markdown":"Hello! Podr&#237;as agregar la clase de tu activity y de tu xml para poder ayudarte :)","body":"Hello! Podr&#237;as agregar la clase de tu activity y de tu xml para poder ayudarte :)"},{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1589460858,"post_id":61796884,"comment_id":109307288,"body_markdown":"added layout and fragment code","body":"added layout and fragment code"}],"answers":[{"comments":[{"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"score":0,"creation_date":1589988476,"post_id":61800643,"comment_id":109512459,"body_markdown":"Changed my import to specify the import [root-package].BR, and I don&#39;t see errors in the IDE, but at compilation, it fails to find the Br class. I also moved my @Bindable as you suggested.","body":"Changed my import to specify the import [root-package].BR, and I don&#39;t see errors in the IDE, but at compilation, it fails to find the Br class. I also moved my @Bindable as you suggested."}],"tags":[],"owner":{"account_id":12649988,"reputation":529,"user_id":9194489,"display_name":"Mateo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589468456,"creation_date":1589468456,"answer_id":61800643,"question_id":61796884,"body_markdown":"The `BR` class that is generated should be at the root package of your project, you&#39;re importing the wrong one. Also the `@Bindable` annotation should go on the public getter, not the private backing field. ","title":"databinding - can&#39;t find BR class","body":"<p>The <code>BR</code> class that is generated should be at the root package of your project, you're importing the wrong one. Also the <code>@Bindable</code> annotation should go on the public getter, not the private backing field. </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684847724,"post_id":76314296,"comment_id":134574669,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76314296/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28462674,"reputation":16,"user_id":21779185,"display_name":"Sharain Kapoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684936951,"creation_date":1684841706,"answer_id":76314296,"question_id":61796884,"body_markdown":"**Just restart the android studio, it would work.** \r\n","title":"databinding - can&#39;t find BR class","body":"<p><strong>Just restart the android studio, it would work.</strong></p>\n"},{"tags":[],"owner":{"account_id":17299257,"reputation":159,"user_id":12529245,"display_name":"Mohammad Taqi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696495412,"creation_date":1696494467,"answer_id":77235440,"question_id":61796884,"body_markdown":"Try to resolve the issue by adding the namespace.\r\n\r\n\r\n     android {\r\n           //...\r\n            namespace = &quot;com.your.package&quot;\r\n            android.buildFeatures.dataBinding = true\r\n        }","title":"databinding - can&#39;t find BR class","body":"<p>Try to resolve the issue by adding the namespace.</p>\n<pre><code> android {\n       //...\n        namespace = &quot;com.your.package&quot;\n        android.buildFeatures.dataBinding = true\n    }\n</code></pre>\n"}],"owner":{"account_id":346626,"reputation":10196,"user_id":680268,"accept_rate":66,"display_name":"Stealth Rabbi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1984,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696495412,"creation_date":1589457769,"question_id":61796884,"body_markdown":"I&#39;m using android databinding, using [this post][1] as a guide. I realize it&#39;s not targeting androidx databinding, but I&#39;m not using androidx on my project yet, but am using the latest android support libraries.\r\n\r\nAnyways, I have my ViewModel extending BaseObservable. The BR class is being generated and appears correct. e.g. I can ctrl-click on BR.stateText and I&#39;m navigated to teh genreated class which is in `[app]\\build\\generated\\ap_generated_sources\\debug\\com.android.databinding.library.baseAdapters\\BR`. But, IntelliJ seems to not understand that the class acutally exists when I go to compile it.\r\n\r\n```\r\nimport android.databinding.BaseObservable;\r\nimport android.databinding.Bindable;\r\nimport com.android.databinding.library.baseAdapters.BR;\r\n\r\npublic class MyViewModel extends BaseObservable {\r\n\r\n    public MyViewModel() {\r\n        mStateText = &quot;DEFAULT_TEXT_123&quot;;\r\n    }\r\n\r\n    @Bindable\r\n    private String mStateText = null;\r\n\r\n    public String getStateText() {\r\n        return mStateText;\r\n    }\r\n\r\n    public void setStateText(String stateText) {\r\n        mStateText = stateText;\r\n        notifyPropertyChanged(BR.stateText);\r\n    }\r\n}\r\n\r\n```\r\n\r\nlayout:\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:bind=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;data&gt;\r\n        &lt;variable\r\n                name=&quot;viewModel&quot;\r\n                type=&quot;my.org.MyViewModel &quot;/&gt;\r\n    &lt;/data&gt;\r\n\r\n...\r\n\r\n\r\n        &lt;Button\r\n                android:layout_width=&quot;200dp&quot; android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_row=&quot;1&quot; android:layout_column=&quot;1&quot;\r\n                android:id=&quot;@+id/system_state_btn&quot;\r\n                android:text=&quot;@{viewModel.stateText}&quot;/&gt;\r\n```\r\n\r\n\r\nFragment:\r\n\r\n```\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        MainStatusBinding activityMainBinding = DataBindingUtil.setContentView(getActivity(), R.layout.main_status);\r\n        activityMainBinding.setViewModel(new MyViewModel());\r\n        activityMainBinding.executePendingBindings();\r\n\r\n        View rootView = inflater.inflate(R.layout.main_status, container, false);\r\n    ...\r\n\t```\r\n.\r\n\r\n```\r\nerror: cannot find symbol\r\nimport com.android.databinding.library.baseAdapters.BR;\r\n                                                   ^\r\n  symbol:   class BR\r\n  location: package com.android.databinding.library.baseAdapters\r\n```\r\n\r\nWhat is wrong with my setup that&#39;s causing IntelliJ to not recognize the class exists? Note, this fails for me when building on the commandline, so it&#39;s not specific to IntelliJ.\r\n\r\nIntelliJ: 2020.1\r\n\r\nGradle wrapper: 6.3\r\n\r\nandroid build tools: 28.0.3\r\n\r\nandroid gradle plugin: 3.5.0\r\n\r\n  [1]: https://www.journaldev.com/20292/android-mvvm-design-pattern","title":"databinding - can&#39;t find BR class","body":"<p>I'm using android databinding, using [this post][1] as a guide. I realize it's not targeting androidx databinding, but I'm not using androidx on my project yet, but am using the latest android support libraries.</p>\n\n<p>Anyways, I have my ViewModel extending BaseObservable. The BR class is being generated and appears correct. e.g. I can ctrl-click on BR.stateText and I'm navigated to teh genreated class which is in <code>[app]\\build\\generated\\ap_generated_sources\\debug\\com.android.databinding.library.baseAdapters\\BR</code>. But, IntelliJ seems to not understand that the class acutally exists when I go to compile it.</p>\n\n<pre><code>import android.databinding.BaseObservable;\nimport android.databinding.Bindable;\nimport com.android.databinding.library.baseAdapters.BR;\n\npublic class MyViewModel extends BaseObservable {\n\n    public MyViewModel() {\n        mStateText = \"DEFAULT_TEXT_123\";\n    }\n\n    @Bindable\n    private String mStateText = null;\n\n    public String getStateText() {\n        return mStateText;\n    }\n\n    public void setStateText(String stateText) {\n        mStateText = stateText;\n        notifyPropertyChanged(BR.stateText);\n    }\n}\n\n</code></pre>\n\n<p>layout:</p>\n\n<pre><code>\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:bind=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n                name=\"viewModel\"\n                type=\"my.org.MyViewModel \"/&gt;\n    &lt;/data&gt;\n\n...\n\n\n        &lt;Button\n                android:layout_width=\"200dp\" android:layout_height=\"wrap_content\"\n                android:layout_row=\"1\" android:layout_column=\"1\"\n                android:id=\"@+id/system_state_btn\"\n                android:text=\"@{viewModel.stateText}\"/&gt;\n</code></pre>\n\n<p>Fragment:</p>\n\n<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        MainStatusBinding activityMainBinding = DataBindingUtil.setContentView(getActivity(), R.layout.main_status);\n        activityMainBinding.setViewModel(new MyViewModel());\n        activityMainBinding.executePendingBindings();\n\n        View rootView = inflater.inflate(R.layout.main_status, container, false);\n    ...\n    ```\n.\n\n</code></pre>\n\n<p>error: cannot find symbol\nimport com.android.databinding.library.baseAdapters.BR;\n                                                   ^\n  symbol:   class BR\n  location: package com.android.databinding.library.baseAdapters</p>\n\n<pre><code>\nWhat is wrong with my setup that's causing IntelliJ to not recognize the class exists? Note, this fails for me when building on the commandline, so it's not specific to IntelliJ.\n\nIntelliJ: 2020.1\n\nGradle wrapper: 6.3\n\nandroid build tools: 28.0.3\n\nandroid gradle plugin: 3.5.0\n\n  [1]: https://www.journaldev.com/20292/android-mvvm-design-pattern\n</code></pre>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"score":0,"creation_date":1420975879,"post_id":27886169,"comment_id":44174131,"body_markdown":"The warning indicates that the annotation processor will not look at your generated code anymore because you are already in the last round of processing. This could be a problem if your generated code does also have annotations to be processed (like `Factory.class in your example)","body":"The warning indicates that the annotation processor will not look at your generated code anymore because you are already in the last round of processing. This could be a problem if your generated code does also have annotations to be processed (like `Factory.class in your example)"},{"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"score":1,"creation_date":1420978135,"post_id":27886169,"comment_id":44174692,"body_markdown":"I do understand that, my question is how should I implement that correctly to make the warning dismiss. Should I keep track of files I have already generated to generating duplicated files? Is it possible that java source files for the same annotation are processed in two differend processing rounds? (I do not generate java code with annotations that need further process in my processor)","body":"I do understand that, my question is how should I implement that correctly to make the warning dismiss. Should I keep track of files I have already generated to generating duplicated files? Is it possible that java source files for the same annotation are processed in two differend processing rounds? (I do not generate java code with annotations that need further process in my processor)"},{"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"score":0,"creation_date":1420990380,"post_id":27886169,"comment_id":44178447,"body_markdown":"It is possible that the same annotation occurs in different rounds but not the same source files. Each source file is only processed once. So in the first round you&#39;ll see all annotations from the source files that are present at the beginning. As long as you don&#39;t generate code with more annotations to be processed, the second round is the last one and it will be called with an empty set of annotations. So if it is still possible in your case that the same class could be generated twice, I suggest that you keep manually track of the classes that you already created.","body":"It is possible that the same annotation occurs in different rounds but not the same source files. Each source file is only processed once. So in the first round you&#39;ll see all annotations from the source files that are present at the beginning. As long as you don&#39;t generate code with more annotations to be processed, the second round is the last one and it will be called with an empty set of annotations. So if it is still possible in your case that the same class could be generated twice, I suggest that you keep manually track of the classes that you already created."},{"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"score":0,"creation_date":1421019055,"post_id":27886169,"comment_id":44187902,"body_markdown":"I see ... any idea how to do that? I can annotate any class with my annotation, and out of all annotated classes I want to generate a single java file (no containing any further annotation). So I have to wait unit last round to generate java file because only in this round im sure that I have collected all classes annotated with my annotation, right? Any hint?","body":"I see ... any idea how to do that? I can annotate any class with my annotation, and out of all annotated classes I want to generate a single java file (no containing any further annotation). So I have to wait unit last round to generate java file because only in this round im sure that I have collected all classes annotated with my annotation, right? Any hint?"},{"owner":{"account_id":1620331,"reputation":5165,"user_id":1497059,"display_name":"Stefan Ferstl"},"score":0,"creation_date":1421052408,"post_id":27886169,"comment_id":44196335,"body_markdown":"Oh, I didn&#39;t realize that you need all classes processed before you can generate your code. My understanding so far was that you could generate your code during the processing rounds with the risk that classes could be generated twice. So, I think in your case it is legitimate to generate your code in the last round. The warning would still be there but it does not affect you since your generated code does not need to be processed. If you want to avoid that warning the only option I see is that you generate your code in the first round assuming that the second round is &quot;empty&quot;.","body":"Oh, I didn&#39;t realize that you need all classes processed before you can generate your code. My understanding so far was that you could generate your code during the processing rounds with the risk that classes could be generated twice. So, I think in your case it is legitimate to generate your code in the last round. The warning would still be there but it does not affect you since your generated code does not need to be processed. If you want to avoid that warning the only option I see is that you generate your code in the first round assuming that the second round is &quot;empty&quot;."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1696169107,"post_id":27886169,"comment_id":136116249,"body_markdown":"We need a way to disable this warning. In many cases this is completely desired behavior, and we don&#39;t want these incorrect warnings cluttering up the build output, causing confusion, and and hiding real problems. There needs to be a way to suppress this warning.","body":"We need a way to disable this warning. In many cases this is completely desired behavior, and we don&#39;t want these incorrect warnings cluttering up the build output, causing confusion, and and hiding real problems. There needs to be a way to suppress this warning."},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696181603,"post_id":27886169,"comment_id":136117630,"body_markdown":"@GarretWilson Can you please provide a minimum example to fix your issue quickly?","body":"@GarretWilson Can you please provide a minimum example to fix your issue quickly?"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1696186413,"post_id":27886169,"comment_id":136118199,"body_markdown":"`if(roundEnvironment.processingOver()) { /*generate a class*/ }` produces this warning. I want to suppress that warning. Is there part of that that needs more explanation?","body":"<code>if(roundEnvironment.processingOver()) { &#47;*generate a class*&#47; }</code> produces this warning. I want to suppress that warning. Is there part of that that needs more explanation?"},{"owner":{"account_id":11377012,"reputation":12772,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1696243943,"post_id":27886169,"comment_id":136123918,"body_markdown":"@GarretWilson Please provide mimimum reproducable codebase to fix this quickly.","body":"@GarretWilson Please provide mimimum reproducable codebase to fix this quickly."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696266772,"post_id":27886169,"comment_id":136128200,"body_markdown":"@AnishB. Their use case is essentially the same as the OP (and note Garret is not the OP).","body":"@AnishB. Their use case is essentially the same as the OP (and note Garret is not the OP)."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1696497645,"post_id":77235530,"comment_id":136161577,"body_markdown":"&quot;_I can annotate any class with my annotation, and out of all annotated classes I want to generate a single java file (no containing any further annotation). So I have to wait unit last round to generate java file because only in this round im sure that I have collected all classes annotated with my annotation, right?_&quot; – [Comment by OP](https://stackoverflow.com/questions/27886169/file-for-type-path-to-generated-java-file-created-in-the-last-round-will-not-b/77235530#comment44187902_27886169).","body":"&quot;<i>I can annotate any class with my annotation, and out of all annotated classes I want to generate a single java file (no containing any further annotation). So I have to wait unit last round to generate java file because only in this round im sure that I have collected all classes annotated with my annotation, right?</i>&quot; – <a href=\"https://stackoverflow.com/questions/27886169/file-for-type-path-to-generated-java-file-created-in-the-last-round-will-not-b/77235530#comment44187902_27886169\">Comment by OP</a>."}],"tags":[],"owner":{"account_id":9661155,"reputation":104,"user_id":22683654,"display_name":"Roma S"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1696495412,"creation_date":1696495412,"answer_id":77235530,"question_id":27886169,"body_markdown":"In case that you generate SINGLE FILE for every KEY i suppose you just need to rework your code to something like this:  \r\n**WARN:** _pseudocode_\r\n```java\r\n private Multimap&lt;String, Element&gt; elements;\r\n private Set&lt;String&gt; files = new HashSet&lt;String&gt;();\r\n\r\n @Override\r\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n\r\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\r\n\r\n        elements.put(annotatedElement.getSimpleName());\r\n    }\r\n    for (Element e : elements) {\r\n       String file = resolveFile(e);\r\n       if (files.contains(file)) continue;\r\n       generateCodeForFile(file, e);\r\n       files.add(file);\r\n    }\r\n\r\n}\r\n```","title":"File for type [path to generated java file] created in the last round will not be subject to annotation processing","body":"<p>In case that you generate SINGLE FILE for every KEY i suppose you just need to rework your code to something like this:<br />\n<strong>WARN:</strong> <em>pseudocode</em></p>\n<pre class=\"lang-java prettyprint-override\"><code> private Multimap&lt;String, Element&gt; elements;\n private Set&lt;String&gt; files = new HashSet&lt;String&gt;();\n\n @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\n\n        elements.put(annotatedElement.getSimpleName());\n    }\n    for (Element e : elements) {\n       String file = resolveFile(e);\n       if (files.contains(file)) continue;\n       generateCodeForFile(file, e);\n       files.add(file);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":977031,"reputation":15734,"user_id":997851,"accept_rate":60,"display_name":"sockeqwe"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1105,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1696495412,"creation_date":1420973042,"question_id":27886169,"body_markdown":"I have written an `AnnotationProcessor` which scans the code for a certain annotation and generates a Java Class out of it. \r\nIt basically does something like this:\r\n\r\n      private Multimap&lt;String, Element&gt; elements;\r\n    \r\n     @Override\r\n      public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    \r\n        for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\r\n\r\n            elements.put(annotatedElement.getSimpleName());\r\n        }\r\n    \r\n       generateCode(elements);\r\n    }\r\n\r\n\r\nJust in case that it matters:\r\n`generateCode()` will iterate over the `elements`, which is a multimap, and create for each key a class (key+SUFFIX is the name of the file I want to generate) with code created from information of  the list of elements (the value of the mulitimap for a certain key) associated with the key . \r\n\r\nObviously I will call `generateCode()` every round of annotation processing. Therefore, I will get an compile error that says that a file for the same name has already generated in a previous round.\r\n\r\nWhat is the correct way to handle that? I thought it would be a good idea to collect all annotations and generate it the classes only in last round, like this:\r\n\r\n      private Multimap&lt;String, Element&gt; elements;\r\n    \r\n     @Override\r\n      public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\r\n    \r\n        for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\r\n\r\n            elements.put(annotatedElement.getSimpleName());\r\n        }\r\n    \r\n       if (roundEnv.processingOver()){\r\n          generateCode(elements);\r\n       }\r\n    }\r\n\r\n\r\nThis fixes the problem of generating the same file multiple time, but now I get the following warning:\r\n\r\nWarning:java: File for type [path to generated java file] created in the last round will not be subject to annotation processing.\r\n\r\nThe javadoc states out that you should not generate code in last round.\r\nWhen should I generate my files?\r\n\r\n\r\nAdditionally I also get this warning in IntelliJ 14 if I click on rebuild project:\r\nWarning:Output path [path to generated java file] intersects with a source root. Only files that were created by build will be cleaned.","title":"File for type [path to generated java file] created in the last round will not be subject to annotation processing","body":"<p>I have written an <code>AnnotationProcessor</code> which scans the code for a certain annotation and generates a Java Class out of it. \nIt basically does something like this:</p>\n\n<pre><code>  private Multimap&lt;String, Element&gt; elements;\n\n @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\n\n        elements.put(annotatedElement.getSimpleName());\n    }\n\n   generateCode(elements);\n}\n</code></pre>\n\n<p>Just in case that it matters:\n<code>generateCode()</code> will iterate over the <code>elements</code>, which is a multimap, and create for each key a class (key+SUFFIX is the name of the file I want to generate) with code created from information of  the list of elements (the value of the mulitimap for a certain key) associated with the key . </p>\n\n<p>Obviously I will call <code>generateCode()</code> every round of annotation processing. Therefore, I will get an compile error that says that a file for the same name has already generated in a previous round.</p>\n\n<p>What is the correct way to handle that? I thought it would be a good idea to collect all annotations and generate it the classes only in last round, like this:</p>\n\n<pre><code>  private Multimap&lt;String, Element&gt; elements;\n\n @Override\n  public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n\n    for (Element annotatedElement : roundEnv.getElementsAnnotatedWith(Factory.class)) {\n\n        elements.put(annotatedElement.getSimpleName());\n    }\n\n   if (roundEnv.processingOver()){\n      generateCode(elements);\n   }\n}\n</code></pre>\n\n<p>This fixes the problem of generating the same file multiple time, but now I get the following warning:</p>\n\n<p>Warning:java: File for type [path to generated java file] created in the last round will not be subject to annotation processing.</p>\n\n<p>The javadoc states out that you should not generate code in last round.\nWhen should I generate my files?</p>\n\n<p>Additionally I also get this warning in IntelliJ 14 if I click on rebuild project:\nWarning:Output path [path to generated java file] intersects with a source root. Only files that were created by build will be cleaned.</p>\n"},{"tags":["java","spring-boot","azure","connection-string","appinsights"],"comments":[{"owner":{"account_id":26331226,"reputation":3311,"user_id":19991670,"display_name":"Pravallika KV"},"score":0,"creation_date":1696495563,"post_id":77235499,"comment_id":136161122,"body_markdown":"Try defining multiple connection strings in the JSON file like  `{ &quot;ConnectionStrings&quot;: {&quot;conn1:&quot;value&quot;, &quot;conn2&quot;:&quot;value&quot;, &quot;conn3&quot;:&quot;value&quot;}}`.","body":"Try defining multiple connection strings in the JSON file like  <code>{ &quot;ConnectionStrings&quot;: {&quot;conn1:&quot;value&quot;, &quot;conn2&quot;:&quot;value&quot;, &quot;conn3&quot;:&quot;value&quot;}}</code>."},{"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"score":0,"creation_date":1696496804,"post_id":77235499,"comment_id":136161386,"body_markdown":"@PravallikaKV Then how does the app know which one to connect to? Can you kindly elaborate.","body":"@PravallikaKV Then how does the app know which one to connect to? Can you kindly elaborate."}],"owner":{"account_id":1041234,"reputation":1441,"user_id":1047226,"accept_rate":70,"display_name":"hell_storm2004"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696495143,"creation_date":1696495143,"question_id":77235499,"body_markdown":"I am trying to implement App Insights for my Spring Boot/JAVA application. Is there a way to have multiple connection strings in one JSON. I have multiple JSONs at the moment for each environment (dev/test/prod). But only the connectionString changes, rest of the JSON is the same. So in order to minimize the code, I was wondering if i can have just one JSON with all three connection strings in it.\r\n\r\nAnd the application fetches the right one depending on the environment it is deploying to.\r\n\r\nI am new to App Insights, so don&#39;t know all the ins and outs. And the documentation is a bit thin. So any pointers would be helpful.","title":"Multiple Connection Strings in One JSON (App Insights)","body":"<p>I am trying to implement App Insights for my Spring Boot/JAVA application. Is there a way to have multiple connection strings in one JSON. I have multiple JSONs at the moment for each environment (dev/test/prod). But only the connectionString changes, rest of the JSON is the same. So in order to minimize the code, I was wondering if i can have just one JSON with all three connection strings in it.</p>\n<p>And the application fetches the right one depending on the environment it is deploying to.</p>\n<p>I am new to App Insights, so don't know all the ins and outs. And the documentation is a bit thin. So any pointers would be helpful.</p>\n"},{"tags":["java","lambda","java-8"],"answers":[{"comments":[{"owner":{"account_id":2749095,"reputation":971,"user_id":2368848,"accept_rate":64,"display_name":"atom217"},"score":3,"creation_date":1506066398,"post_id":31130491,"comment_id":79678542,"body_markdown":"isn&#39;t it peek() is recommended to use for debugging only. I think one should try map() instead","body":"isn&#39;t it peek() is recommended to use for debugging only. I think one should try map() instead"},{"owner":{"account_id":290433,"reputation":509,"user_id":591987,"display_name":"Cristiano Costantini"},"score":2,"creation_date":1625800585,"post_id":31130491,"comment_id":120729620,"body_markdown":"unfortunately we should not use peek... see https://rules.sonarsource.com/java/RSPEC-3864","body":"unfortunately we should not use peek... see <a href=\"https://rules.sonarsource.com/java/RSPEC-3864\" rel=\"nofollow noreferrer\">rules.sonarsource.com/java/RSPEC-3864</a>"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":3,"up_vote_count":86,"is_accepted":true,"score":83,"last_activity_date":1696494968,"creation_date":1435643276,"answer_id":31130491,"question_id":31130457,"body_markdown":"**WARNING**\r\n&lt;BR/&gt;\r\nAs mentioned in comments, **[Using peek() for production code is considered bad practice][1]**&lt;BR/&gt;\r\nThe reasson is that &quot;*According to its JavaDocs, the intermediate Stream operation java.util.Stream.peek() “exists mainly to support debugging” purposes.*&quot;&lt;BR/&gt;\r\nAs a consequence, this proposed solution SHOULD NOT be used.\r\n***\r\n\r\nForgot to relate to the first code snippet. I wouldn&#39;t use `forEach` at all. Since you are collecting the elements of the `Stream` into a `List`, it would make more sense to end the `Stream` processing with `collect`. Then you would need `peek` in order to set the ID.\r\n\r\n    List&lt;Entry&gt; updatedEntries = \r\n        entryList.stream()\r\n                 .peek(e -&gt; e.setTempId(tempId))\r\n                 .collect (Collectors.toList());\r\n\r\n\r\nFor the second snippet, `forEach` can execute multiple expressions, just like any lambda expression can :\r\n\r\n    entryList.forEach(entry -&gt; {\r\n      if(entry.getA() == null){\r\n        printA();\r\n      }\r\n      if(entry.getB() == null){\r\n        printB();\r\n      }\r\n      if(entry.getC() == null){\r\n        printC();\r\n      }\r\n    });\r\n\r\nHowever (looking at your commented attempt), you can&#39;t use filter in this scenario, since you will only process some of the entries (for example, the entries for which `entry.getA() == null`) if you do.\r\n\r\n\r\n  [1]: https://rules.sonarsource.com/java/rspec-3864/","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p><strong>WARNING</strong>\n<BR/>\nAs mentioned in comments, <strong><a href=\"https://rules.sonarsource.com/java/rspec-3864/\" rel=\"nofollow noreferrer\">Using peek() for production code is considered bad practice</a></strong><BR/>\nThe reasson is that &quot;<em>According to its JavaDocs, the intermediate Stream operation java.util.Stream.peek() “exists mainly to support debugging” purposes.</em>&quot;<BR/>\nAs a consequence, this proposed solution SHOULD NOT be used.</p>\n<hr />\n<p>Forgot to relate to the first code snippet. I wouldn't use <code>forEach</code> at all. Since you are collecting the elements of the <code>Stream</code> into a <code>List</code>, it would make more sense to end the <code>Stream</code> processing with <code>collect</code>. Then you would need <code>peek</code> in order to set the ID.</p>\n<pre><code>List&lt;Entry&gt; updatedEntries = \n    entryList.stream()\n             .peek(e -&gt; e.setTempId(tempId))\n             .collect (Collectors.toList());\n</code></pre>\n<p>For the second snippet, <code>forEach</code> can execute multiple expressions, just like any lambda expression can :</p>\n<pre><code>entryList.forEach(entry -&gt; {\n  if(entry.getA() == null){\n    printA();\n  }\n  if(entry.getB() == null){\n    printB();\n  }\n  if(entry.getC() == null){\n    printC();\n  }\n});\n</code></pre>\n<p>However (looking at your commented attempt), you can't use filter in this scenario, since you will only process some of the entries (for example, the entries for which <code>entry.getA() == null</code>) if you do.</p>\n"},{"comments":[{"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"score":0,"creation_date":1435643977,"post_id":31130592,"comment_id":50272734,"body_markdown":"what&#39;s the advantage of using `peek`. I haven&#39;t tried that function","body":"what&#39;s the advantage of using <code>peek</code>. I haven&#39;t tried that function"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1435644560,"post_id":31130592,"comment_id":50272986,"body_markdown":"@Reddy In this case I see no real advantage, since you can execute the `setTempId` call either in `peek` or in `forEach`, and the behavior will be similar. If, however, you don&#39;t use `forEach` at all, and use collect instead, in order to produce the output List (see my updated answer), you would need `peek` in order to call `setTempId`.","body":"@Reddy In this case I see no real advantage, since you can execute the <code>setTempId</code> call either in <code>peek</code> or in <code>forEach</code>, and the behavior will be similar. If, however, you don&#39;t use <code>forEach</code> at all, and use collect instead, in order to produce the output List (see my updated answer), you would need <code>peek</code> in order to call <code>setTempId</code>."},{"owner":{"account_id":3337277,"reputation":417,"user_id":2804473,"accept_rate":100,"display_name":"Simon Cedergren Malmqvist"},"score":2,"creation_date":1487943976,"post_id":31130592,"comment_id":72024280,"body_markdown":"Keep in mind that `peek` [mainly should be used in debug purpose](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-). Use `forEach` when applying side effects to your streamed data.","body":"Keep in mind that <code>peek</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">mainly should be used in debug purpose</a>. Use <code>forEach</code> when applying side effects to your streamed data."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":3,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1435643704,"creation_date":1435643704,"answer_id":31130592,"question_id":31130457,"body_markdown":"In the first case alternatively to multiline `forEach` you can use the `peek` stream operation:\r\n\r\n    entryList.stream()\r\n             .peek(entry -&gt; entry.setTempId(tempId))\r\n             .forEach(updatedEntries.add(entityManager.update(entry, entry.getId())));\r\n\r\nIn the second case I&#39;d suggest to extract the loop body to the separate method and use method reference to call it via `forEach`. Even without lambdas it would make your code more clear as the loop body is independent algorithm which processes the single entry so it might be useful in other places as well and can be tested separately.\r\n\r\n*Update after question editing*. if you have checked exceptions then you have two options: either change them to unchecked ones or don&#39;t use lambdas/streams at this piece of code at all.","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>In the first case alternatively to multiline <code>forEach</code> you can use the <code>peek</code> stream operation:</p>\n\n<pre><code>entryList.stream()\n         .peek(entry -&gt; entry.setTempId(tempId))\n         .forEach(updatedEntries.add(entityManager.update(entry, entry.getId())));\n</code></pre>\n\n<p>In the second case I'd suggest to extract the loop body to the separate method and use method reference to call it via <code>forEach</code>. Even without lambdas it would make your code more clear as the loop body is independent algorithm which processes the single entry so it might be useful in other places as well and can be tested separately.</p>\n\n<p><em>Update after question editing</em>. if you have checked exceptions then you have two options: either change them to unchecked ones or don't use lambdas/streams at this piece of code at all.</p>\n"},{"tags":[],"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1435644926,"creation_date":1435644926,"answer_id":31130901,"question_id":31130457,"body_markdown":"You don&#39;t have to cram multiple operations into one stream/lambda.  Consider separating them into 2 statements  (using static import of `toList()`):\r\n\r\n    entryList.forEach(e-&gt;e.setTempId(tempId));\r\n\r\n    List&lt;Entry&gt; updatedEntries = entryList.stream()\r\n      .map(e-&gt;entityManager.update(entry, entry.getId()))\r\n      .collect(toList());\r\n","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>You don't have to cram multiple operations into one stream/lambda.  Consider separating them into 2 statements  (using static import of <code>toList()</code>):</p>\n\n<pre><code>entryList.forEach(e-&gt;e.setTempId(tempId));\n\nList&lt;Entry&gt; updatedEntries = entryList.stream()\n  .map(e-&gt;entityManager.update(entry, entry.getId()))\n  .collect(toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":472489,"reputation":2168,"user_id":1442960,"accept_rate":80,"display_name":"Marcus"},"score":5,"creation_date":1603843322,"post_id":44647896,"comment_id":114164107,"body_markdown":"It seems like this is invalid syntax.  Isn&#39;t there an extra `}` at the end?","body":"It seems like this is invalid syntax.  Isn&#39;t there an extra <code>}</code> at the end?"}],"tags":[],"owner":{"account_id":3674070,"reputation":279,"user_id":3060544,"display_name":"user3060544"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1497947757,"creation_date":1497947757,"answer_id":44647896,"question_id":31130457,"body_markdown":"    List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n    items.add(&quot;A&quot;);\r\n    items.add(&quot;B&quot;);\r\n    items.add(&quot;C&quot;);\r\n    items.add(&quot;D&quot;);\r\n    items.add(&quot;E&quot;);\r\n    \r\n    //lambda\r\n    //Output : A,B,C,D,E\r\n    items.forEach(item-&gt;System.out.println(item));\r\n    \r\n    //Output : C\r\n    items.forEach(item-&gt;{\r\n        System.out.println(item);\r\n        System.out.println(item.toLowerCase());\r\n      }\r\n    });","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<pre><code>List&lt;String&gt; items = new ArrayList&lt;&gt;();\nitems.add(\"A\");\nitems.add(\"B\");\nitems.add(\"C\");\nitems.add(\"D\");\nitems.add(\"E\");\n\n//lambda\n//Output : A,B,C,D,E\nitems.forEach(item-&gt;System.out.println(item));\n\n//Output : C\nitems.forEach(item-&gt;{\n    System.out.println(item);\n    System.out.println(item.toLowerCase());\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":290433,"reputation":509,"user_id":591987,"display_name":"Cristiano Costantini"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625803698,"creation_date":1625803698,"answer_id":68311156,"question_id":31130457,"body_markdown":"My preferred approach is to concatenate `java.util.function.Consumer&lt;?&gt;` with `andThen(...)`.\r\n\r\nApplied to your example, it can be written in:\r\n\r\n```\r\nentryList.stream()\r\n  .forEach(\r\n    ((Consumer&lt;Entry&gt;) entry -&gt; entry.setTempId(tempId))\r\n    .andThen(entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId())))\r\n  );\r\n```\r\n\r\nseen this way, is not that nice to read... but you can move the 2 consumers into local function variables and it would become as nice as:\r\n\r\n```\r\nConsumer&lt;Entry&gt; c1 = entry -&gt; entry.setTempId(tempId);\r\nConsumer&lt;Entry&gt; c2 = entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()));\r\nentryList.stream().forEach(c1.andThen(c2));\r\n```\r\n\r\n\r\n----------\r\n#### Bonus\r\n\r\nYou may write your combinator of consumers like:\r\n```\r\npublic static &lt;T&gt; Consumer&lt;T&gt; combine(Consumer&lt;? super T&gt;... consumers){\r\n  return (T t) -&gt;\tArrays.stream(consumers).forEach(c -&gt; c.accept(t));\r\n}\r\n```\r\n\r\nand it will allow to re-write the above example in:\r\n\r\n```\r\nentryList.stream()\r\n  .forEach(combine(\r\n    entry -&gt; entry.setTempId(tempId),\r\n    entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()))));\r\n```\r\n\r\n\r\nI wish `Consumer` class had a method to combine multiple consumers of the same type, maybe this `combine` already exists somewhere and I&#39;m not aware of it, so I invite you to search &#128517;","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>My preferred approach is to concatenate <code>java.util.function.Consumer&lt;?&gt;</code> with <code>andThen(...)</code>.</p>\n<p>Applied to your example, it can be written in:</p>\n<pre><code>entryList.stream()\n  .forEach(\n    ((Consumer&lt;Entry&gt;) entry -&gt; entry.setTempId(tempId))\n    .andThen(entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId())))\n  );\n</code></pre>\n<p>seen this way, is not that nice to read... but you can move the 2 consumers into local function variables and it would become as nice as:</p>\n<pre><code>Consumer&lt;Entry&gt; c1 = entry -&gt; entry.setTempId(tempId);\nConsumer&lt;Entry&gt; c2 = entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()));\nentryList.stream().forEach(c1.andThen(c2));\n</code></pre>\n<hr />\n<h4>Bonus</h4>\n<p>You may write your combinator of consumers like:</p>\n<pre><code>public static &lt;T&gt; Consumer&lt;T&gt; combine(Consumer&lt;? super T&gt;... consumers){\n  return (T t) -&gt;   Arrays.stream(consumers).forEach(c -&gt; c.accept(t));\n}\n</code></pre>\n<p>and it will allow to re-write the above example in:</p>\n<pre><code>entryList.stream()\n  .forEach(combine(\n    entry -&gt; entry.setTempId(tempId),\n    entry -&gt; updatedEntries.add(entityManager.update(entry, entry.getId()))));\n</code></pre>\n<p>I wish <code>Consumer</code> class had a method to combine multiple consumers of the same type, maybe this <code>combine</code> already exists somewhere and I'm not aware of it, so I invite you to search 😅</p>\n"}],"owner":{"account_id":1628531,"reputation":18498,"user_id":1503535,"accept_rate":92,"display_name":"RaceBase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172024,"favorite_count":0,"down_vote_count":1,"up_vote_count":69,"accepted_answer_id":31130491,"answer_count":5,"score":68,"last_activity_date":1696494968,"creation_date":1435643103,"question_id":31130457,"body_markdown":"I am still in the process of learning Lambda, please excuse me If I am doing something wrong\r\n\r\n\r\n    final Long tempId = 12345L;\r\n    List&lt;Entry&gt; updatedEntries = new LinkedList&lt;&gt;();\r\n    \r\n    for (Entry entry : entryList) {\r\n    \tentry.setTempId(tempId);\r\n        updatedEntries.add(entityManager.update(entry, entry.getId()));\r\n    }\r\n    \r\n    //entryList.stream().forEach(entry -&gt; entry.setTempId(tempId));\r\n\r\nSeems like `forEach` can be executed for one statement only. It doesn&#39;t return updated stream or function to process further. I might have selected wrong one altogether.\r\n\r\nCan someone guide me how to do this effectively?\r\n\r\nOne more question,\r\n\r\n    public void doSomething() throws Exception {\r\n        for(Entry entry: entryList){\r\n            if(entry.getA() == null){\r\n                printA() throws Exception;\r\n            }\r\n            if(entry.getB() == null){\r\n                printB() throws Exception;\r\n            }\r\n            if(entry.getC() == null){\r\n                printC() throws Exception;\r\n            }\r\n        }\r\n    }\r\n        //entryList.stream().filter(entry -&gt; entry.getA() == null).forEach(entry -&gt; printA()); something like this?\r\n\r\nHow do I convert this to Lambda expression?","title":"Java 8 Lambda Stream forEach with multiple statements","body":"<p>I am still in the process of learning Lambda, please excuse me If I am doing something wrong</p>\n\n<pre><code>final Long tempId = 12345L;\nList&lt;Entry&gt; updatedEntries = new LinkedList&lt;&gt;();\n\nfor (Entry entry : entryList) {\n    entry.setTempId(tempId);\n    updatedEntries.add(entityManager.update(entry, entry.getId()));\n}\n\n//entryList.stream().forEach(entry -&gt; entry.setTempId(tempId));\n</code></pre>\n\n<p>Seems like <code>forEach</code> can be executed for one statement only. It doesn't return updated stream or function to process further. I might have selected wrong one altogether.</p>\n\n<p>Can someone guide me how to do this effectively?</p>\n\n<p>One more question,</p>\n\n<pre><code>public void doSomething() throws Exception {\n    for(Entry entry: entryList){\n        if(entry.getA() == null){\n            printA() throws Exception;\n        }\n        if(entry.getB() == null){\n            printB() throws Exception;\n        }\n        if(entry.getC() == null){\n            printC() throws Exception;\n        }\n    }\n}\n    //entryList.stream().filter(entry -&gt; entry.getA() == null).forEach(entry -&gt; printA()); something like this?\n</code></pre>\n\n<p>How do I convert this to Lambda expression?</p>\n"},{"tags":["java","spring","spring-boot","snakeyaml"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1696501250,"post_id":77232059,"comment_id":136162316,"body_markdown":"https://ruudvanasseldonk.com/2023/01/11/the-yaml-document-from-hell","body":"<a href=\"https://ruudvanasseldonk.com/2023/01/11/the-yaml-document-from-hell\" rel=\"nofollow noreferrer\">ruudvanasseldonk.com/2023/01/11/the-yaml-document-from-hell</a>"}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696447645,"post_id":77232071,"comment_id":136155756,"body_markdown":"String is read as String just fine. However, if you put an octal literal in your YAML, that&#39;ll be read as the number it is first, *then* converted to String (in decimal).","body":"String is read as String just fine. However, if you put an octal literal in your YAML, that&#39;ll be read as the number it is first, <i>then</i> converted to String (in decimal)."},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1696494514,"post_id":77232071,"comment_id":136160879,"body_markdown":"How _normal_ people would know that rather than from facing a related failure?","body":"How <i>normal</i> people would know that rather than from facing a related failure?"},{"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"score":0,"creation_date":1696494557,"post_id":77232071,"comment_id":136160890,"body_markdown":"@Jorn I would like you to turn your comment to the official answer, it really makes sense.","body":"@Jorn I would like you to turn your comment to the official answer, it really makes sense."}],"tags":[],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696444487,"creation_date":1696443566,"answer_id":77232071,"question_id":77232059,"body_markdown":"    acquiring:\r\n      bic: &quot;044525266&quot;\r\n\r\nQuotes did the trick. And I have no idea why, why `String` can&#39;t be read just as a `String`?","title":"I&#39;m getting totally wrong String value from the application.yaml file in the Spring Boot app.The value in yaml config is 044525266 and in var 9611958","body":"<pre><code>acquiring:\n  bic: &quot;044525266&quot;\n</code></pre>\n<p>Quotes did the trick. And I have no idea why, why <code>String</code> can't be read just as a <code>String</code>?</p>\n"},{"tags":[],"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696494843,"creation_date":1696444769,"answer_id":77232193,"question_id":77232059,"body_markdown":"As you&#39;ve pointed out, quotes fix the issue. The reason can be found in the [YAML 1.1 spec](https://yaml.org/spec/1.1/).\r\n\r\n\r\n&gt; **Example 2.19. Integers**\r\n&gt; \r\n&gt; canonical: 12345  \r\n&gt; decimal: +12,345  \r\n&gt; sexagesimal: 3:25:45  \r\n&gt; octal: 014 &lt;&lt;&lt;&lt;&lt;&lt;&lt;  \r\n&gt; hexadecimal: 0xC\r\n\r\nIn YAML 1.2, octals use `0o` instead of `0`.\r\n\r\nSo `044525266` in octal becomes `9611958` in decimal.\r\n\r\nFor correct usage is should use quotes  \r\n\r\n    acquiring:\r\n      bic: &quot;044525266&quot;","title":"I&#39;m getting totally wrong String value from the application.yaml file in the Spring Boot app.The value in yaml config is 044525266 and in var 9611958","body":"<p>As you've pointed out, quotes fix the issue. The reason can be found in the <a href=\"https://yaml.org/spec/1.1/\" rel=\"nofollow noreferrer\">YAML 1.1 spec</a>.</p>\n<blockquote>\n<p><strong>Example 2.19. Integers</strong></p>\n<p>canonical: 12345<br />\ndecimal: +12,345<br />\nsexagesimal: 3:25:45<br />\noctal: 014 &lt;&lt;&lt;&lt;&lt;&lt;&lt;<br />\nhexadecimal: 0xC</p>\n</blockquote>\n<p>In YAML 1.2, octals use <code>0o</code> instead of <code>0</code>.</p>\n<p>So <code>044525266</code> in octal becomes <code>9611958</code> in decimal.</p>\n<p>For correct usage is should use quotes</p>\n<pre><code>acquiring:\n  bic: &quot;044525266&quot;\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77232193,"answer_count":2,"score":0,"last_activity_date":1696494843,"creation_date":1696443440,"question_id":77232059,"body_markdown":"May be this is because of leading zero?\r\n\r\n    acquiring:\r\n      bic: 044525266\r\n\r\nin yaml is loaded through \r\n\r\n       @Autowired\r\n        public AcquiringService(\r\n    ...\r\n                                @Value(&quot;${acquiring.bic}&quot;) String bic,\r\n    ...\r\n    )\r\n\r\nThe Spring Boot version is: `2.1.8.RELEASE`\r\n\r\nIt uses library `org.yaml:snakeyaml:1.23`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHHaz.png","title":"I&#39;m getting totally wrong String value from the application.yaml file in the Spring Boot app.The value in yaml config is 044525266 and in var 9611958","body":"<p>May be this is because of leading zero?</p>\n<pre><code>acquiring:\n  bic: 044525266\n</code></pre>\n<p>in yaml is loaded through</p>\n<pre><code>   @Autowired\n    public AcquiringService(\n...\n                            @Value(&quot;${acquiring.bic}&quot;) String bic,\n...\n)\n</code></pre>\n<p>The Spring Boot version is: <code>2.1.8.RELEASE</code></p>\n<p>It uses library <code>org.yaml:snakeyaml:1.23</code></p>\n<p><a href=\"https://i.stack.imgur.com/bHHaz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bHHaz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","date","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696424467,"post_id":77229597,"comment_id":136150863,"body_markdown":"Are you sure you need an old-fashioned `Date`? If you are not, I recommend you stick to `ZonedDateTime` (or `OffsetDateTime`).","body":"Are you sure you need an old-fashioned <code>Date</code>? If you are not, I recommend you stick to <code>ZonedDateTime</code> (or <code>OffsetDateTime</code>)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696424540,"post_id":77229597,"comment_id":136150881,"body_markdown":"If I remember correctly from reading the RFC, there are numerous variants that `DateTimeFormatter.RFC_1123_DATE_TIME` does not cover.","body":"If I remember correctly from reading the RFC, there are numerous variants that <code>DateTimeFormatter.RFC_1123_DATE_TIME</code> does not cover."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696441584,"post_id":77229597,"comment_id":136154655,"body_markdown":"If I understand RFC 1123 and RFC 822 correctly, everything in parentheses is a *comment* meant for humans and should be ignored by the computer. In your case the `(CET)`. If the comment always comes at the end, you can parse as much of the string as you can and ignore the rest: `OffsetDateTime.from(DateTimeFormatter.RFC_1123_DATE_TIME.parse(&quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;, new ParsePosition(0)))`. This yields `2019-11-26T09:00:01+01:00`.","body":"If I understand RFC 1123 and RFC 822 correctly, everything in parentheses is a <i>comment</i> meant for humans and should be ignored by the computer. In your case the <code>(CET)</code>. If the comment always comes at the end, you can parse as much of the string as you can and ignore the rest: <code>OffsetDateTime.from(DateTimeFormatter.RFC_1123_DATE_TIME.par&zwnj;&#8203;se(&quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;, new ParsePosition(0)))</code>. This yields <code>2019-11-26T09:00:01+01:00</code>."}],"answers":[{"comments":[{"owner":{"account_id":16026181,"reputation":1072,"user_id":11566361,"display_name":"Paolo Mossini"},"score":0,"creation_date":1696424605,"post_id":77229668,"comment_id":136150897,"body_markdown":"I tried, but the code you posted gives me `Text &#39;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&#39; could not be parsed at index 0`","body":"I tried, but the code you posted gives me <code>Text &#39;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&#39; could not be parsed at index 0</code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1696424638,"post_id":77229668,"comment_id":136150904,"body_markdown":"For validation i would additionally parse separately into an `OffsetDateTime`, which will use the offset, and a `ZonedDateTime`, wihch will use the time zone abbreviation, and check if the offsets of the two parsed date-times match.","body":"For validation i would additionally parse separately into an <code>OffsetDateTime</code>, which will use the offset, and a <code>ZonedDateTime</code>, wihch will use the time zone abbreviation, and check if the offsets of the two parsed date-times match."}],"tags":[],"owner":{"account_id":29596343,"reputation":56,"user_id":22682764,"display_name":"Vindurrin"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696424855,"creation_date":1696423442,"answer_id":77229668,"question_id":77229597,"body_markdown":"Yes, you can use a custom `DateTimeFormatter` to parse the string in the format &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;. The format you provided contains additional information in parentheses, which is not part of the standard RFC 1123 format. \r\n\r\nHere&#39;s an example of how you might have some code to handle that case using a custom `DateTimeFormatter`:\r\n\r\n```\r\nimport java.time.*;\r\nimport java.time.format.*;\r\nimport java.util.*;\r\n\r\nString dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\r\n\r\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\r\nZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\r\nInstant instant = zonedDateTime.toInstant();\r\nDate date = Date.from(instant);\r\n```\r\n\r\nThis defined a custom `DateTimeFormatter` matching the format &quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;. \r\n\r\n- EEE: day of the week\r\n- d: day of the month\r\n- MMM: abbreviated month name\r\n- yyyy: year\r\n- HH: hours\r\n- mm: minutes\r\n- ss: seconds\r\n- Z: time zone offset\r\n- zzz: time zone abbreviation\r\n\r\nFollowing that, parse `dateString` using the formatter, returning a `ZonedDateTime` object. Grab the `Instant` from `ZonedDateTime` and convert it back to `Date`. This should successfully parse the string you provided and do so via a `Date` object.\r\n\r\nSample Java Class\r\n```\r\nimport java.time.*;\r\nimport java.time.format.*;\r\nimport java.util.*;\r\n\r\npublic class DateTest{\r\n    public static void main(String[] args) {\r\n        String dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\r\n\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\r\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\r\n        Instant instant = zonedDateTime.toInstant();\r\n        Date date = Date.from(instant);\r\n\r\n        System.out.println(date);\r\n    }\r\n}\r\n```\r\n\r\nGiven the string: &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;\r\nThis program prints: Tue Nov 26 03:00:01 EST 2019.\r\n\r\nPerhaps I did not need to specify parsing because my installation is already set to an English speaking locale, but you can try the Locale.ROOT parameter at the end of the parser. \r\n","title":"Error parsing Date with RFC_1123_DATE_TIME (Java)","body":"<p>Yes, you can use a custom <code>DateTimeFormatter</code> to parse the string in the format &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;. The format you provided contains additional information in parentheses, which is not part of the standard RFC 1123 format.</p>\n<p>Here's an example of how you might have some code to handle that case using a custom <code>DateTimeFormatter</code>:</p>\n<pre><code>import java.time.*;\nimport java.time.format.*;\nimport java.util.*;\n\nString dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\n\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\nZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\nInstant instant = zonedDateTime.toInstant();\nDate date = Date.from(instant);\n</code></pre>\n<p>This defined a custom <code>DateTimeFormatter</code> matching the format &quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;.</p>\n<ul>\n<li>EEE: day of the week</li>\n<li>d: day of the month</li>\n<li>MMM: abbreviated month name</li>\n<li>yyyy: year</li>\n<li>HH: hours</li>\n<li>mm: minutes</li>\n<li>ss: seconds</li>\n<li>Z: time zone offset</li>\n<li>zzz: time zone abbreviation</li>\n</ul>\n<p>Following that, parse <code>dateString</code> using the formatter, returning a <code>ZonedDateTime</code> object. Grab the <code>Instant</code> from <code>ZonedDateTime</code> and convert it back to <code>Date</code>. This should successfully parse the string you provided and do so via a <code>Date</code> object.</p>\n<p>Sample Java Class</p>\n<pre><code>import java.time.*;\nimport java.time.format.*;\nimport java.util.*;\n\npublic class DateTest{\n    public static void main(String[] args) {\n        String dateString = &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;;\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;EEE, d MMM yyyy HH:mm:ss Z (zzz)&quot;);\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(dateString, formatter);\n        Instant instant = zonedDateTime.toInstant();\n        Date date = Date.from(instant);\n\n        System.out.println(date);\n    }\n}\n</code></pre>\n<p>Given the string: &quot;Tue, 26 Nov 2019 09:00:01 +0100 (CET)&quot;\nThis program prints: Tue Nov 26 03:00:01 EST 2019.</p>\n<p>Perhaps I did not need to specify parsing because my installation is already set to an English speaking locale, but you can try the Locale.ROOT parameter at the end of the parser.</p>\n"},{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696494567,"creation_date":1696423545,"answer_id":77229680,"question_id":77229597,"body_markdown":"According to [RFC 1123 section 5.2.14][1] and [RFC 822 section 5][2], the `(CET)` shouldn&#39;t be there. The zone should be either the zone (`CET`) or the offset (`+0100`) but not both. However, [RFC_1123_DATE_TIME][3] mentions this:\r\n\r\n&gt; This returns an immutable formatter capable of formatting and parsing most of the RFC-1123 format. RFC-1123 updates RFC-822 changing the year from two digits to four. This implementation requires a four digit year. This implementation also does not handle North American or military zone names, only &#39;GMT&#39; and offset amounts.\r\n\r\nIn other words, unless the time zone is `GMT`, only offsets are supported.\r\n\r\nIf you still need to support dates like the example you gave you&#39;ll need to create your own `DateTimeFormatter` instance. When using a `DateTimeFormatterBuilder` you can include [optional parts][4].\r\n\r\nEdit: here&#39;s a formatter you can use:\r\n```\r\nnew DateTimeFormatterBuilder()\r\n        .append(DateTimeFormatter.RFC_1123_DATE_TIME)\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot; (z)&quot;))\r\n        .toFormatter(Locale.ROOT)\r\n```\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc1123#page-55\r\n  [2]: https://www.rfc-editor.org/rfc/rfc822#section-5\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\r\n  [4]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendOptional(java.time.format.DateTimeFormatter)","title":"Error parsing Date with RFC_1123_DATE_TIME (Java)","body":"<p>According to <a href=\"https://www.rfc-editor.org/rfc/rfc1123#page-55\" rel=\"nofollow noreferrer\">RFC 1123 section 5.2.14</a> and <a href=\"https://www.rfc-editor.org/rfc/rfc822#section-5\" rel=\"nofollow noreferrer\">RFC 822 section 5</a>, the <code>(CET)</code> shouldn't be there. The zone should be either the zone (<code>CET</code>) or the offset (<code>+0100</code>) but not both. However, <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatter.html#RFC_1123_DATE_TIME\" rel=\"nofollow noreferrer\">RFC_1123_DATE_TIME</a> mentions this:</p>\n<blockquote>\n<p>This returns an immutable formatter capable of formatting and parsing most of the RFC-1123 format. RFC-1123 updates RFC-822 changing the year from two digits to four. This implementation requires a four digit year. This implementation also does not handle North American or military zone names, only 'GMT' and offset amounts.</p>\n</blockquote>\n<p>In other words, unless the time zone is <code>GMT</code>, only offsets are supported.</p>\n<p>If you still need to support dates like the example you gave you'll need to create your own <code>DateTimeFormatter</code> instance. When using a <code>DateTimeFormatterBuilder</code> you can include <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendOptional(java.time.format.DateTimeFormatter)\" rel=\"nofollow noreferrer\">optional parts</a>.</p>\n<p>Edit: here's a formatter you can use:</p>\n<pre><code>new DateTimeFormatterBuilder()\n        .append(DateTimeFormatter.RFC_1123_DATE_TIME)\n        .appendOptional(DateTimeFormatter.ofPattern(&quot; (z)&quot;))\n        .toFormatter(Locale.ROOT)\n</code></pre>\n"}],"owner":{"account_id":16026181,"reputation":1072,"user_id":11566361,"display_name":"Paolo Mossini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77229668,"answer_count":2,"score":0,"last_activity_date":1696494567,"creation_date":1696422857,"question_id":77229597,"body_markdown":"I am extracting a Date object from a String using this piece of code:\r\n```\r\nDate.from(ZonedDateTime.parse(exchange.getIn().getHeader(&quot;Date&quot;).toString(), DateTimeFormatter.RFC_1123_DATE_TIME).toInstant());\r\n```\r\nBut I have errors when the String is something like that: `Tue, 26 Nov 2019 09:00:01 +0100 (CET)`\r\n\r\nHow can I parse this kind of string obtaining a Date object? Do I need to use another DateTimeFormatter?","title":"Error parsing Date with RFC_1123_DATE_TIME (Java)","body":"<p>I am extracting a Date object from a String using this piece of code:</p>\n<pre><code>Date.from(ZonedDateTime.parse(exchange.getIn().getHeader(&quot;Date&quot;).toString(), DateTimeFormatter.RFC_1123_DATE_TIME).toInstant());\n</code></pre>\n<p>But I have errors when the String is something like that: <code>Tue, 26 Nov 2019 09:00:01 +0100 (CET)</code></p>\n<p>How can I parse this kind of string obtaining a Date object? Do I need to use another DateTimeFormatter?</p>\n"},{"tags":["java","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1550600595,"post_id":54772606,"comment_id":96325426,"body_markdown":"*&quot;is there easy, concise way to do it?&quot;* Streams would seem to be what you&#39;re looking for.","body":"<i>&quot;is there easy, concise way to do it?&quot;</i> Streams would seem to be what you&#39;re looking for."},{"owner":{"account_id":7491292,"reputation":288,"user_id":5692905,"display_name":"togise"},"score":0,"creation_date":1550600607,"post_id":54772606,"comment_id":96325432,"body_markdown":"It seems you need to do a filter on the map. See https://www.mkyong.com/java8/java-8-filter-a-map-examples/","body":"It seems you need to do a filter on the map. See <a href=\"https://www.mkyong.com/java8/java-8-filter-a-map-examples/\" rel=\"nofollow noreferrer\">mkyong.com/java8/java-8-filter-a-map-examples</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696495089,"post_id":54772606,"comment_id":136161004,"body_markdown":"If you want ordering you should be using a `TreeMap`.","body":"If you want ordering you should be using a <code>TreeMap</code>."}],"answers":[{"tags":[],"owner":{"account_id":8153102,"reputation":15213,"user_id":6139527,"display_name":"Nicholas K"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550600838,"creation_date":1550600838,"answer_id":54772727,"question_id":54772606,"body_markdown":"This will do the trick using streams :\r\n\r\n    expirationMap.entrySet().stream().filter(e -&gt; e.getValue() &gt; 3)\r\n                 .forEach(e -&gt; {\r\n    \t\t\t     System.out.println(&quot;key &quot; + e.getKey() + &quot;value&quot; + e.getValue());\r\n    \t\t      });","title":"Java Hashmap: get all keys greater than X value","body":"<p>This will do the trick using streams :</p>\n\n<pre><code>expirationMap.entrySet().stream().filter(e -&gt; e.getValue() &gt; 3)\n             .forEach(e -&gt; {\n                 System.out.println(\"key \" + e.getKey() + \"value\" + e.getValue());\n              });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1550602230,"post_id":54772757,"comment_id":96326201,"body_markdown":"*We need to stream over the map entries*... It&#39;s not a must though. Detailed in [my answer](https://stackoverflow.com/a/54773064/1746118)","body":"<i>We need to stream over the map entries</i>... It&#39;s not a must though. Detailed in <a href=\"https://stackoverflow.com/a/54773064/1746118\">my answer</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1550651382,"post_id":54772757,"comment_id":96342371,"body_markdown":"@nullpointer for most maps, e.g. `HashMap` and `TreeMap`, it’s rather inefficient to iterate only over the keys and perform a lookup for each of them, whereas `Map.Entry` provides access to the value for free.","body":"@nullpointer for most maps, e.g. <code>HashMap</code> and <code>TreeMap</code>, it’s rather inefficient to iterate only over the keys and perform a lookup for each of them, whereas <code>Map.Entry</code> provides access to the value for free."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1550651592,"post_id":54772757,"comment_id":96342469,"body_markdown":"@Holger *access to the value for free*.. that still means `O(1)`(same as a lookup) isn&#39;t it? In this context, would mapping the entry to key further wouldn&#39;t incur some cost again? I understand though that the difference should ideally be something to be least worried about, just wondering to clarify the concepts in detail.","body":"@Holger <i>access to the value for free</i>.. that still means <code>O(1)</code>(same as a lookup) isn&#39;t it? In this context, would mapping the entry to key further wouldn&#39;t incur some cost again? I understand though that the difference should ideally be something to be least worried about, just wondering to clarify the concepts in detail."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1550652014,"post_id":54772757,"comment_id":96342673,"body_markdown":"@nullpointer `O(1)` doesn’t mean “for free”. It only denotes that the costs are independent to other variables, like the number of contained elements. There’s still a difference between `HashMap.Entry.getValue()`, which just reads a field, and `HashMap.get(…)`, which calculates a hash code, reads an array entry, invokes `equals` on the key, and perhaps has to handle collisions. And that’s for every key here. Not to speak of `TreeMap`, where lookup is `O(log n)`.","body":"@nullpointer <code>O(1)</code> doesn’t mean “for free”. It only denotes that the costs are independent to other variables, like the number of contained elements. There’s still a difference between <code>HashMap.Entry.getValue()</code>, which just reads a field, and <code>HashMap.get(…)</code>, which calculates a hash code, reads an array entry, invokes <code>equals</code> on the key, and perhaps has to handle collisions. And that’s for every key here. Not to speak of <code>TreeMap</code>, where lookup is <code>O(log n)</code>."}],"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1696494386,"creation_date":1550600955,"answer_id":54772757,"question_id":54772606,"body_markdown":"Streams, yes. Use\r\n\r\n```java\r\nexpirationMap.entrySet().stream()\r\n    .filter(entry -&gt; entry.getValue() &gt; 3L)\r\n    .map(Entry::getKey)\r\n    .toList();\r\n```\r\n\r\nto get a list of the keys.\r\n\r\nWe need to stream over the map entries rather than the values or keys only, because we need to compare the one (the value) and return the other (the key). Okay, one *need not*, as nullpointed out in the comments.\r\n\r\nThe `filter` method gets the value and compares it to 3, discarding elements not greater than 3; and then we map the entries to their values using the `map` method. Finally, we collect the result into a `List`.","title":"Java Hashmap: get all keys greater than X value","body":"<p>Streams, yes. Use</p>\n<pre class=\"lang-java prettyprint-override\"><code>expirationMap.entrySet().stream()\n    .filter(entry -&gt; entry.getValue() &gt; 3L)\n    .map(Entry::getKey)\n    .toList();\n</code></pre>\n<p>to get a list of the keys.</p>\n<p>We need to stream over the map entries rather than the values or keys only, because we need to compare the one (the value) and return the other (the key). Okay, one <em>need not</em>, as nullpointed out in the comments.</p>\n<p>The <code>filter</code> method gets the value and compares it to 3, discarding elements not greater than 3; and then we map the entries to their values using the <code>map</code> method. Finally, we collect the result into a <code>List</code>.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1550602143,"creation_date":1550602143,"answer_id":54773064,"question_id":54772606,"body_markdown":"A slightly different variation using just set and key lookup:\r\n\r\n    Set&lt;String&gt; greppedKeys = expirationMap.keySet().stream() // keyset only\r\n            .filter(key -&gt; expirationMap.get(key) &gt; 3L) // X here being 3L\r\n            .collect(Collectors.toSet()); // all keys would be unique anyway","title":"Java Hashmap: get all keys greater than X value","body":"<p>A slightly different variation using just set and key lookup:</p>\n\n<pre><code>Set&lt;String&gt; greppedKeys = expirationMap.keySet().stream() // keyset only\n        .filter(key -&gt; expirationMap.get(key) &gt; 3L) // X here being 3L\n        .collect(Collectors.toSet()); // all keys would be unique anyway\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14886619,"reputation":61,"user_id":10749612,"display_name":"sims_gfl"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1550603255,"creation_date":1550603255,"answer_id":54773314,"question_id":54772606,"body_markdown":"See below for another readable approach.\r\n\r\n    expirationMap.forEach((key, value) -&gt; {\r\n         if (value &gt; x) {\r\n             System.out.println(format(&quot;key: %s, value: %s&quot;, key, value));\r\n         }\r\n    });\r\nThe .forEach part will iterate over the map&#39;s entrySet() and extract each entry&#39;s key and value respectively onto (key, value).","title":"Java Hashmap: get all keys greater than X value","body":"<p>See below for another readable approach.</p>\n\n<pre><code>expirationMap.forEach((key, value) -&gt; {\n     if (value &gt; x) {\n         System.out.println(format(\"key: %s, value: %s\", key, value));\n     }\n});\n</code></pre>\n\n<p>The .forEach part will iterate over the map's entrySet() and extract each entry's key and value respectively onto (key, value).</p>\n"},{"tags":[],"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550641686,"creation_date":1550641686,"answer_id":54779599,"question_id":54772606,"body_markdown":"Another approach apart from what others have done can be to use [`Interface Predicate&lt;T&gt;`][1] whose default method `test(T t)` can be used to evaluate values greater than 3.\r\n\r\n      Predicate&lt;Long&gt; filterGreater3 = f-&gt; f&gt;3;\r\n      expirationMap.entrySet()\r\n            \t   .stream()\r\n            \t   .filter(x-&gt;filterGreater3.test(x.getValue()))\r\n                   .forEach(System.out::println);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","title":"Java Hashmap: get all keys greater than X value","body":"<p>Another approach apart from what others have done can be to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Interface Predicate&lt;T&gt;</code></a> whose default method <code>test(T t)</code> can be used to evaluate values greater than 3.</p>\n\n<pre><code>  Predicate&lt;Long&gt; filterGreater3 = f-&gt; f&gt;3;\n  expirationMap.entrySet()\n               .stream()\n               .filter(x-&gt;filterGreater3.test(x.getValue()))\n               .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":1862257,"reputation":12143,"user_id":1686628,"accept_rate":75,"display_name":"ealeon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12820,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":54772757,"answer_count":5,"score":7,"last_activity_date":1696494386,"creation_date":1550600367,"question_id":54772606,"body_markdown":"     import java.util.*;\r\n     import static java.lang.String.format;\r\n     \r\n     public class Dumpground {\r\n     \r\n         private static final String[] fruits = new String[]{&quot;apples&quot;, &quot;bananas&quot;, &quot;grapes&quot;, &quot;oranges&quot;, &quot;watermelons&quot;, &quot;kiwis&quot;};\r\n         static Map&lt;String, Long&gt; expirationMap;\r\n     \r\n         public static void main(String[] args) {\r\n             long expiration = 1L;\r\n             expirationMap = new HashMap&lt;&gt;();\r\n             for (String fruit : values()){\r\n                 expirationMap.put(fruit, expiration);\r\n                 expiration++;\r\n             }\r\n             for (Map.Entry&lt;String, Long&gt; item : expirationMap.entrySet()) {\r\n                   String key = item.getKey();\r\n                   Long value = item.getValue();\r\n                   System.out.println(format(&quot;key: %s, value: %s&quot;, key, value));\r\n               }\r\n     \r\n     \r\n         }\r\n     \r\n         public static String[] values() {return fruits;}\r\n     }\r\n\r\nOUTPUT\r\n\r\n    key: oranges, value: 4\r\n    key: watermelons, value: 5\r\n    key: kiwis, value: 6\r\n    key: bananas, value: 2\r\n    key: apples, value: 1\r\n    key: grapes, value: 3\r\n\r\nI am trying to find a clever ways to grep all keys where its values are greater than X \r\n\r\nfor example, if X == 3, it should return oranges, and watermelons and kiwis\r\n\r\nthe obvious way is just iterate through map and compare the value, but is there easy, concise way to do it?","title":"Java Hashmap: get all keys greater than X value","body":"<pre><code> import java.util.*;\n import static java.lang.String.format;\n\n public class Dumpground {\n\n     private static final String[] fruits = new String[]{\"apples\", \"bananas\", \"grapes\", \"oranges\", \"watermelons\", \"kiwis\"};\n     static Map&lt;String, Long&gt; expirationMap;\n\n     public static void main(String[] args) {\n         long expiration = 1L;\n         expirationMap = new HashMap&lt;&gt;();\n         for (String fruit : values()){\n             expirationMap.put(fruit, expiration);\n             expiration++;\n         }\n         for (Map.Entry&lt;String, Long&gt; item : expirationMap.entrySet()) {\n               String key = item.getKey();\n               Long value = item.getValue();\n               System.out.println(format(\"key: %s, value: %s\", key, value));\n           }\n\n\n     }\n\n     public static String[] values() {return fruits;}\n }\n</code></pre>\n\n<p>OUTPUT</p>\n\n<pre><code>key: oranges, value: 4\nkey: watermelons, value: 5\nkey: kiwis, value: 6\nkey: bananas, value: 2\nkey: apples, value: 1\nkey: grapes, value: 3\n</code></pre>\n\n<p>I am trying to find a clever ways to grep all keys where its values are greater than X </p>\n\n<p>for example, if X == 3, it should return oranges, and watermelons and kiwis</p>\n\n<p>the obvious way is just iterate through map and compare the value, but is there easy, concise way to do it?</p>\n"},{"tags":["java","android","android-studio","itext"],"owner":{"account_id":27044541,"reputation":13,"user_id":20598914,"display_name":"IT Student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696494183,"creation_date":1696494183,"question_id":77235406,"body_markdown":"I am using this library\r\n\r\nimplementation &#39;com.itextpdf:itext7-core:7.1.15&#39;\r\nimplementation &#39;com.itextpdf:layout:7.1.15&#39;\r\n\r\nI want to add the image in the header of the pdf document\r\n\r\nString Url = &quot;https://image.jpg&quot;\r\n\r\ntable1.addCell(new Cell(3, 1).add(image1));\r\ntable1.addCell(new Cell().add(new Paragraph(&quot;&quot;)));\r\ntable1.addCell(new Cell(1, 2).add(new Paragraph(&quot;Company Name&quot;)).setTextAlignment(TextAlignment.CENTER).setFontSize(fontSize).setBold());\r\n\r\n","title":"How to add the image in the PDF from URL in android java","body":"<p>I am using this library</p>\n<p>implementation 'com.itextpdf:itext7-core:7.1.15'\nimplementation 'com.itextpdf:layout:7.1.15'</p>\n<p>I want to add the image in the header of the pdf document</p>\n<p>String Url = &quot;https://image.jpg&quot;</p>\n<p>table1.addCell(new Cell(3, 1).add(image1));\ntable1.addCell(new Cell().add(new Paragraph(&quot;&quot;)));\ntable1.addCell(new Cell(1, 2).add(new Paragraph(&quot;Company Name&quot;)).setTextAlignment(TextAlignment.CENTER).setFontSize(fontSize).setBold());</p>\n"},{"tags":["java","static","program-entry-point"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":1,"creation_date":1459635511,"post_id":146576,"comment_id":60376109,"body_markdown":"in this case, we shouldn&#39;t say *the method signature*, because the term refers only to method names and its parameters","body":"in this case, we shouldn&#39;t say <i>the method signature</i>, because the term refers only to method names and its parameters"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1462613156,"post_id":146576,"comment_id":61717682,"body_markdown":"Java is deliberately designed to look familiar to a C programmer.  This is very close to the C convention.","body":"Java is deliberately designed to look familiar to a C programmer.  This is very close to the C convention."}],"answers":[{"comments":[{"owner":{"account_id":2539,"reputation":48119,"user_id":3542,"display_name":"Rob"},"score":0,"creation_date":1222631489,"post_id":146581,"comment_id":41434,"body_markdown":"It&#39;s not a convention; it&#39;s part of the language specification; the runtime won&#39;t recognise a class without a static main method as a valid entry point.","body":"It&#39;s not a convention; it&#39;s part of the language specification; the runtime won&#39;t recognise a class without a static main method as a valid entry point."},{"owner":{"account_id":4663,"reputation":42832,"user_id":7122,"accept_rate":94,"display_name":"David Arno"},"score":2,"creation_date":1222631753,"post_id":146581,"comment_id":41440,"body_markdown":"The language spec itself follows the convention. There is no actual requirement for the Java designers to have opted for requiring a static main. However, as Logan explains, the alternatives are more complicated.","body":"The language spec itself follows the convention. There is no actual requirement for the Java designers to have opted for requiring a static main. However, as Logan explains, the alternatives are more complicated."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1461465282,"post_id":146581,"comment_id":61209681,"body_markdown":"@DavidArno It would make more sense to say that the convention follows the language specification.","body":"@DavidArno It would make more sense to say that the convention follows the language specification."}],"tags":[],"owner":{"account_id":2524,"reputation":1892,"user_id":3518,"display_name":"Logan"},"comment_count":3,"down_vote_count":6,"up_vote_count":12,"is_accepted":false,"score":6,"last_activity_date":1222631838,"creation_date":1222631256,"answer_id":146581,"question_id":146576,"body_markdown":"It&#39;s just a convention, but probably more convenient than the alternative. With a static main, all you need to know to invoke a Java program is the name and location of a class. If it weren&#39;t static, you&#39;d also have to know how to instantiate that class, or require that the class have an empty constructor.","title":"Why is the Java main method static?","body":"<p>It's just a convention, but probably more convenient than the alternative. With a static main, all you need to know to invoke a Java program is the name and location of a class. If it weren't static, you'd also have to know how to instantiate that class, or require that the class have an empty constructor.</p>\n"},{"comments":[{"owner":{"account_id":1345,"reputation":20408,"user_id":1796,"accept_rate":92,"display_name":"Andrei R&#238;nea"},"score":1,"creation_date":1222720238,"post_id":146583,"comment_id":43952,"body_markdown":"Alright but couldn&#39;t the runtime instantiate one object of the class? And then call the Main method? Why?","body":"Alright but couldn&#39;t the runtime instantiate one object of the class? And then call the Main method? Why?"},{"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"score":13,"creation_date":1222728104,"post_id":146583,"comment_id":44300,"body_markdown":"How would the JVM know which constructor to call, if your main class had overloaded constructors?  What parameters would it pass?","body":"How would the JVM know which constructor to call, if your main class had overloaded constructors?  What parameters would it pass?"},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":1,"creation_date":1336823333,"post_id":146583,"comment_id":13673701,"body_markdown":"@Noah when you say parent class do you mean the class containing the main method? Because if so, the term &quot;parent class&quot; is rather confusing here, and otherwise it would make no sense to me. Also, if by convention we use `public static void main...`, why couldn&#39;t the convention be that the application entry point class should have a public default constructor?","body":"@Noah when you say parent class do you mean the class containing the main method? Because if so, the term &quot;parent class&quot; is rather confusing here, and otherwise it would make no sense to me. Also, if by convention we use <code>public static void main...</code>, why couldn&#39;t the convention be that the application entry point class should have a public default constructor?"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1342476009,"post_id":146583,"comment_id":15214552,"body_markdown":"@Jacob How would the JVM know which overloaded `static void main` to call? Not a problem at all.","body":"@Jacob How would the JVM know which overloaded <code>static void main</code> to call? Not a problem at all."},{"owner":{"account_id":161147,"reputation":16670,"user_id":381699,"accept_rate":67,"display_name":"Namratha"},"score":0,"creation_date":1348478682,"post_id":146583,"comment_id":16921532,"body_markdown":"Since main has to be a static method, what if I have to call foo() and bar() from main? They would have to be static too right? Because static method cannot reference non-static method. Now, if foo and bar call some other functions in turn, then they would have to be static too! So, we&#39;d end up with all functions being static. But, I feel I&#39;m missing something here. Because this can&#39;t happen.","body":"Since main has to be a static method, what if I have to call foo() and bar() from main? They would have to be static too right? Because static method cannot reference non-static method. Now, if foo and bar call some other functions in turn, then they would have to be static too! So, we&#39;d end up with all functions being static. But, I feel I&#39;m missing something here. Because this can&#39;t happen."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":5,"creation_date":1354579951,"post_id":146583,"comment_id":18802940,"body_markdown":"@Namratha: Yes, you&#39;re missing something.  It&#39;s just not true that &quot;static method cannot reference non-static method&quot;.  The correct statement is: &quot;Every static method must provide an object when using any non-static method&quot;.  And look, `static` methods such as `main` frequently use `new` to create such an object.","body":"@Namratha: Yes, you&#39;re missing something.  It&#39;s just not true that &quot;static method cannot reference non-static method&quot;.  The correct statement is: &quot;Every static method must provide an object when using any non-static method&quot;.  And look, <code>static</code> methods such as <code>main</code> frequently use <code>new</code> to create such an object."},{"owner":{"account_id":1206090,"reputation":8868,"user_id":1175714,"accept_rate":93,"display_name":"Braden Best"},"score":1,"creation_date":1471805441,"post_id":146583,"comment_id":65483614,"body_markdown":"In **C++**, `static int main` won&#39;t compile: `cannot declare &#39;::main&#39; to be static`. On the other hand, in **C**, it will compile and then fail on the linker when it tries to make sense of the OS&#39;s reference to `main`: `In function _start: (.text+0x20): undefined reference to &#39;main&#39;`. Because you made it static, making it impossible for an external compilation unit to &quot;see&quot; it.","body":"In <b>C++</b>, <code>static int main</code> won&#39;t compile: <code>cannot declare &#39;::main&#39; to be static</code>. On the other hand, in <b>C</b>, it will compile and then fail on the linker when it tries to make sense of the OS&#39;s reference to <code>main</code>: <code>In function _start: (.text+0x20): undefined reference to &#39;main&#39;</code>. Because you made it static, making it impossible for an external compilation unit to &quot;see&quot; it."}],"tags":[],"owner":{"account_id":10637,"reputation":24965,"user_id":20178,"accept_rate":81,"display_name":"Noah Goodrich"},"comment_count":7,"down_vote_count":4,"up_vote_count":201,"is_accepted":false,"score":197,"last_activity_date":1639121141,"creation_date":1222631281,"answer_id":146583,"question_id":146576,"body_markdown":"The `main` method in C++, C# and Java are static.\r\n\r\nThis is because they can then be invoked by the runtime engine **without** having to instantiate any objects then the code in the body of `main` will do the rest.","title":"Why is the Java main method static?","body":"<p>The <code>main</code> method in C++, C# and Java are static.</p>\n<p>This is because they can then be invoked by the runtime engine <strong>without</strong> having to instantiate any objects then the code in the body of <code>main</code> will do the rest.</p>\n"},{"comments":[{"owner":{"account_id":14630,"reputation":16827,"user_id":30316,"accept_rate":82,"display_name":"eljenso"},"score":0,"creation_date":1231763227,"post_id":146584,"comment_id":258093,"body_markdown":"Wrong. Or at least very unprecise. \npublic class Main\n{\n\tstatic Object object = new Object()\n\t{\n\t\t{\n\t\t\tSystem.out.println(&quot;object created&quot;);\n\t\t}\n\t};\n\n\tpublic static void main(String[] args)\n\t{\n\t\tSystem.out.println(&quot;in main&quot;);\n\t}\n}","body":"Wrong. Or at least very unprecise.  public class Main { \tstatic Object object = new Object() \t{ \t\t{ \t\t\tSystem.out.println(&quot;object created&quot;); \t\t} \t};  \tpublic static void main(String[] args) \t{ \t\tSystem.out.println(&quot;in main&quot;); \t} }"},{"owner":{"account_id":11359,"reputation":4953,"user_id":21862,"accept_rate":91,"display_name":"BlackWasp"},"score":0,"creation_date":1238353932,"post_id":146584,"comment_id":508413,"body_markdown":"Fair comment. Technically, I should have said that before the Main method is called, the class containing the main method is not instantiated.","body":"Fair comment. Technically, I should have said that before the Main method is called, the class containing the main method is not instantiated."}],"tags":[],"owner":{"account_id":11359,"reputation":4953,"user_id":21862,"accept_rate":91,"display_name":"BlackWasp"},"comment_count":2,"down_vote_count":4,"up_vote_count":17,"is_accepted":false,"score":13,"last_activity_date":1222631289,"creation_date":1222631289,"answer_id":146584,"question_id":146576,"body_markdown":"Before the main method is called, no objects are instantiated. Having the static keyword means the method can be called without creating any objects first.","title":"Why is the Java main method static?","body":"<p>Before the main method is called, no objects are instantiated. Having the static keyword means the method can be called without creating any objects first.</p>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1222631310,"creation_date":1222631310,"answer_id":146587,"question_id":146576,"body_markdown":"Because otherwise, it would need an instance of the object to be executed. But it must be called from scratch, without constructing the object first, since it is usually the task of the main() function (bootstrap), to parse the arguments and construct the object, usually by using these arguments/program parameters.","title":"Why is the Java main method static?","body":"<p>Because otherwise, it would need an instance of the object to be executed. But it must be called from scratch, without constructing the object first, since it is usually the task of the main() function (bootstrap), to parse the arguments and construct the object, usually by using these arguments/program parameters.</p>\n"},{"tags":[],"owner":{"account_id":4907,"reputation":2907,"user_id":7610,"display_name":"Hank"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1222631463,"creation_date":1222631463,"answer_id":146592,"question_id":146576,"body_markdown":"If it wasn&#39;t, which constructor should be used if there are more than one?\r\n\r\nThere is more information on the initialization and execution of Java programs available in the [Java Language Specification](http://java.sun.com/docs/books/jls/third_edition/html/execution.html).","title":"Why is the Java main method static?","body":"<p>If it wasn't, which constructor should be used if there are more than one?</p>\n\n<p>There is more information on the initialization and execution of Java programs available in the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/execution.html\" rel=\"noreferrer\">Java Language Specification</a>.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532616786,"creation_date":1222632252,"answer_id":146609,"question_id":146576,"body_markdown":"Applets, midlets, servlets and beans of various kinds are constructed and then have lifecycle methods called on them. Invoking main is all that is ever done to the main class, so there is no need for a state to be held in an object that is called multiple times. It&#39;s quite normal to pin main on another class (although not a great idea), which would get in the way of using the class to create the main object.","title":"Why is the Java main method static?","body":"<p>Applets, midlets, servlets and beans of various kinds are constructed and then have lifecycle methods called on them. Invoking main is all that is ever done to the main class, so there is no need for a state to be held in an object that is called multiple times. It's quite normal to pin main on another class (although not a great idea), which would get in the way of using the class to create the main object.</p>\n"},{"tags":[],"owner":{"account_id":11769,"reputation":55893,"user_id":22850,"accept_rate":60,"display_name":"Tom"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1222632922,"creation_date":1222632922,"answer_id":146631,"question_id":146576,"body_markdown":"It is just a convention. The JVM could certainly deal with non-static main methods if that would have been the convention. After all, you can define a static initializer on your class, and instantiate a zillion objects before ever getting to your main() method.\r\n","title":"Why is the Java main method static?","body":"<p>It is just a convention. The JVM could certainly deal with non-static main methods if that would have been the convention. After all, you can define a static initializer on your class, and instantiate a zillion objects before ever getting to your main() method.</p>\n"},{"comments":[{"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"score":0,"creation_date":1222728002,"post_id":146662,"comment_id":44296,"body_markdown":"Of course, you are correct.\n\npublic class JavaClass{\n\n  private static JavaClass initme = new JavaClass();\n\n  public void main(String[] args){ }\n\n}\n\n\n\ninitme is initialized before main() is called.\n\nHowever, the main body of my answer still holds.","body":"Of course, you are correct.  public class JavaClass{    private static JavaClass initme = new JavaClass();    public void main(String[] args){ }  }    initme is initialized before main() is called.  However, the main body of my answer still holds."},{"owner":{"account_id":160367,"reputation":4028,"user_id":380374,"accept_rate":75,"display_name":"Peter"},"score":0,"creation_date":1321162667,"post_id":146662,"comment_id":9945389,"body_markdown":"Why not use an entry-point interface to solve these problems; any main object would have to implement the interface.","body":"Why not use an entry-point interface to solve these problems; any main object would have to implement the interface."},{"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"score":5,"creation_date":1321383540,"post_id":146662,"comment_id":9991299,"body_markdown":"Implementing an interface does not solve the instantiation problem.","body":"Implementing an interface does not solve the instantiation problem."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1336823145,"post_id":146662,"comment_id":13673664,"body_markdown":"Well, if by convention we use `public static void main...`, why couldn&#39;t the convention be that the application entry point class should have a public default constructor?","body":"Well, if by convention we use <code>public static void main...</code>, why couldn&#39;t the convention be that the application entry point class should have a public default constructor?"},{"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"score":28,"creation_date":1336841910,"post_id":146662,"comment_id":13677384,"body_markdown":"I personally like that `public static void main` serves as a marker of an entry point – a public parameterless constructor doesn&#39;t scream out &quot;This is probably an entry point!&quot; in the same way.","body":"I personally like that <code>public static void main</code> serves as a marker of an entry point – a public parameterless constructor doesn&#39;t scream out &quot;This is probably an entry point!&quot; in the same way."},{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":6,"creation_date":1342295332,"post_id":146662,"comment_id":15170741,"body_markdown":"@EdwinDalorzo - What would be gained by forcing the entry point class to be instantiated? Calling a static method places the least amount of burden on the class. It&#39;s free to instantiate itself if that makes more sense for your design.","body":"@EdwinDalorzo - What would be gained by forcing the entry point class to be instantiated? Calling a static method places the least amount of burden on the class. It&#39;s free to instantiate itself if that makes more sense for your design."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":18,"creation_date":1342554620,"post_id":146662,"comment_id":15241632,"body_markdown":"“which constructor should be called?” How is that *even conceivably* a problem? The same “problem” exists for the decision which `main` to call. Weirdly enough (for you), the JVM manages this just fine.","body":"“which constructor should be called?” How is that <i>even conceivably</i> a problem? The same “problem” exists for the decision which <code>main</code> to call. Weirdly enough (for you), the JVM manages this just fine."},{"owner":{"account_id":1136398,"reputation":1908,"user_id":1121396,"accept_rate":63,"display_name":"gthm"},"score":10,"creation_date":1362077292,"post_id":146662,"comment_id":21318555,"body_markdown":"The main method is always public because it has to be accessed by the runtime engine, the JVM.","body":"The main method is always public because it has to be accessed by the runtime engine, the JVM."},{"owner":{"account_id":1937706,"reputation":1634,"user_id":1744745,"accept_rate":0,"display_name":"Praveen Kumar"},"score":0,"creation_date":1362909145,"post_id":146662,"comment_id":21631587,"body_markdown":"May be this ambiguity can be resolved by just calling the default constructor although no default constructor exists in this case but this could have been marked as an exception  , but then there would have been memory allocation overhead . Also , public is used so that JVM can access it , certainly default access provider won&#39;t work.","body":"May be this ambiguity can be resolved by just calling the default constructor although no default constructor exists in this case but this could have been marked as an exception  , but then there would have been memory allocation overhead . Also , public is used so that JVM can access it , certainly default access provider won&#39;t work."},{"owner":{"account_id":1128840,"reputation":2152,"user_id":1115406,"accept_rate":86,"display_name":"Akhilesh Dhar Dubey"},"score":0,"creation_date":1399029561,"post_id":146662,"comment_id":35902163,"body_markdown":"Hmm... absolutely right, that&#39;s why JVM don&#39;t have to create newInstance() and it just invike() main method.","body":"Hmm... absolutely right, that&#39;s why JVM don&#39;t have to create newInstance() and it just invike() main method."},{"owner":{"account_id":1682720,"reputation":2955,"user_id":1602343,"accept_rate":37,"display_name":"Master"},"score":1,"creation_date":1401633550,"post_id":146662,"comment_id":36950762,"body_markdown":"main is made public static so that when you run a class from command line then compiler internally calls YourClass.main(args).","body":"main is made public static so that when you run a class from command line then compiler internally calls YourClass.main(args)."},{"owner":{"account_id":1613382,"reputation":3295,"user_id":1502439,"accept_rate":40,"display_name":"Janac Meena"},"score":0,"creation_date":1458780701,"post_id":146662,"comment_id":60017531,"body_markdown":"This answer made sense to me once I realized that because main is not static in this example, the only way to call it - is to instantiate a JavaClass object and call main on that object. This implies that we must call a constructor for JavaClass, but which one, since we haven&#39;t had a chance to specify any code yet.","body":"This answer made sense to me once I realized that because main is not static in this example, the only way to call it - is to instantiate a JavaClass object and call main on that object. This implies that we must call a constructor for JavaClass, but which one, since we haven&#39;t had a chance to specify any code yet."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1462613107,"post_id":146662,"comment_id":61717668,"body_markdown":"There is nothing wrong with defining that the main entry point is a given constructor on a class (taking a String[] argument), but the Java designers just made another decision.","body":"There is nothing wrong with defining that the main entry point is a given constructor on a class (taking a String[] argument), but the Java designers just made another decision."},{"owner":{"account_id":282582,"reputation":379,"user_id":579568,"display_name":"Sudheesh"},"score":0,"creation_date":1484209335,"post_id":146662,"comment_id":70418015,"body_markdown":"The main method is called by the JVM. JVM is outside the scope of the project. So if the main function is not public the JVM won&#39;t be aable to call the function.","body":"The main method is called by the JVM. JVM is outside the scope of the project. So if the main function is not public the JVM won&#39;t be aable to call the function."},{"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"score":4,"creation_date":1501779572,"post_id":146662,"comment_id":77942064,"body_markdown":"@Sudheesh: the JVM is the very thing that enforces access modifiers. It can do whatever it wants with private methods.","body":"@Sudheesh: the JVM is the very thing that enforces access modifiers. It can do whatever it wants with private methods."},{"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"score":2,"creation_date":1501779609,"post_id":146662,"comment_id":77942086,"body_markdown":"@gthm: The JVM can access all methods, whether private or public. How would it be able to execute them otherwise?","body":"@gthm: The JVM can access all methods, whether private or public. How would it be able to execute them otherwise?"}],"tags":[],"owner":{"account_id":2271,"reputation":28480,"user_id":3140,"accept_rate":57,"display_name":"Jacob Krall"},"comment_count":16,"down_vote_count":10,"up_vote_count":363,"is_accepted":true,"score":353,"last_activity_date":1501758196,"creation_date":1222633714,"answer_id":146662,"question_id":146576,"body_markdown":"The method is static because otherwise there would be ambiguity: which constructor should be called?  Especially if your class looks like this:\r\n\r\n    public class JavaClass{\r\n      protected JavaClass(int x){}\r\n      public void main(String[] args){\r\n      }\r\n    }\r\n\r\nShould the JVM call `new JavaClass(int)`?  What should it pass for `x`?\r\n\r\nIf not, should the JVM instantiate `JavaClass` without running any constructor method?  I think it shouldn&#39;t, because that will special-case your entire class - sometimes you have an instance that hasn&#39;t been initialized, and you have to check for it in every method that could be called.\r\n\r\nThere are just too many edge cases and ambiguities for it to make sense for the JVM to have to instantiate a class before the entry point is called.  That&#39;s why `main` is static.\r\n\r\nI have no idea why `main` is always marked `public` though.","title":"Why is the Java main method static?","body":"<p>The method is static because otherwise there would be ambiguity: which constructor should be called?  Especially if your class looks like this:</p>\n\n<pre><code>public class JavaClass{\n  protected JavaClass(int x){}\n  public void main(String[] args){\n  }\n}\n</code></pre>\n\n<p>Should the JVM call <code>new JavaClass(int)</code>?  What should it pass for <code>x</code>?</p>\n\n<p>If not, should the JVM instantiate <code>JavaClass</code> without running any constructor method?  I think it shouldn't, because that will special-case your entire class - sometimes you have an instance that hasn't been initialized, and you have to check for it in every method that could be called.</p>\n\n<p>There are just too many edge cases and ambiguities for it to make sense for the JVM to have to instantiate a class before the entry point is called.  That's why <code>main</code> is static.</p>\n\n<p>I have no idea why <code>main</code> is always marked <code>public</code> though.</p>\n"},{"tags":[],"owner":{"account_id":11945,"reputation":322,"user_id":23275,"accept_rate":50,"display_name":"micro"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1222640051,"creation_date":1222639742,"answer_id":146865,"question_id":146576,"body_markdown":"If the main method would not be static, you would need to create an object of your main class from outside the program. How would you want to do that?","title":"Why is the Java main method static?","body":"<p>If the main method would not be static, you would need to create an object of your main class from outside the program. How would you want to do that?</p>\n"},{"comments":[{"owner":{"account_id":18236,"reputation":46374,"user_id":41619,"accept_rate":91,"display_name":"Adam Paynter"},"score":74,"creation_date":1304241337,"post_id":151666,"comment_id":6716804,"body_markdown":"+1: Very fascinating (especially the part about writing a custom `java.exe`)","body":"+1: Very fascinating (especially the part about writing a custom <code>java.exe</code>)"},{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":0,"creation_date":1342296052,"post_id":151666,"comment_id":15170890,"body_markdown":"Honestly, while Jacob and Noah&#39;s answers are logical and probably partly what went through the minds of Gosling et al when designing the language, I think &quot;convenience&quot; and &quot;C convention&quot; as mentioned in the last paragraph are 99.9% of why the default is to use a public static method named `main`. The details of the executable&#39;s use of JNI to bootstrap the JVM, process the args, and pass them to whatever method it wants should win this answer the bounty.","body":"Honestly, while Jacob and Noah&#39;s answers are logical and probably partly what went through the minds of Gosling et al when designing the language, I think &quot;convenience&quot; and &quot;C convention&quot; as mentioned in the last paragraph are 99.9% of why the default is to use a public static method named <code>main</code>. The details of the executable&#39;s use of JNI to bootstrap the JVM, process the args, and pass them to whatever method it wants should win this answer the bounty."},{"owner":{"account_id":370202,"reputation":5900,"user_id":718003,"accept_rate":83,"display_name":"Jared"},"score":10,"creation_date":1342314925,"post_id":151666,"comment_id":15173743,"body_markdown":"Interesting, I do disagree with the &quot;This is just convention.&quot; Part of the answer.  The OP&#39;s primary question was the reason for static in the declaration.  I don&#39;t think `static` in the `main()` declaration is just for the sake of convention.  The fact that it&#39;s `main()&#39; and not something else is feasible however.","body":"Interesting, I do disagree with the &quot;This is just convention.&quot; Part of the answer.  The OP&#39;s primary question was the reason for static in the declaration.  I don&#39;t think <code>static</code> in the <code>main()</code> declaration is just for the sake of convention.  The fact that it&#39;s `main()&#39; and not something else is feasible however."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1342554326,"post_id":151666,"comment_id":15241501,"body_markdown":"@David So it did. I actually would have preferred an answer from one of the people originally involved –&#160;but that was a very far shot. Most of the other answers are unfortunately an exercise in ad-hoc reasoning. This one gives quite interesting details, besides having the humility not to invent wrong technical details to reason away a (probably) non-technical cause.","body":"@David So it did. I actually would have preferred an answer from one of the people originally involved – but that was a very far shot. Most of the other answers are unfortunately an exercise in ad-hoc reasoning. This one gives quite interesting details, besides having the humility not to invent wrong technical details to reason away a (probably) non-technical cause."},{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":0,"creation_date":1342555711,"post_id":151666,"comment_id":15242170,"body_markdown":"@Jared - Static methods are as close to C functions as you can get. A non-static method would require instantiating the class which isn&#39;t necessary in C.","body":"@Jared - Static methods are as close to C functions as you can get. A non-static method would require instantiating the class which isn&#39;t necessary in C."},{"owner":{"account_id":370202,"reputation":5900,"user_id":718003,"accept_rate":83,"display_name":"Jared"},"score":1,"creation_date":1342557747,"post_id":151666,"comment_id":15243055,"body_markdown":"@DavidHarkness I&#39;m aware of this.  I&#39;m saying that static being required in the declaration of `main()` falls in line with the requirements of the language and not &quot;just convention&quot;","body":"@DavidHarkness I&#39;m aware of this.  I&#39;m saying that static being required in the declaration of <code>main()</code> falls in line with the requirements of the language and not &quot;just convention&quot;"},{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":2,"creation_date":1342558723,"post_id":151666,"comment_id":15243453,"body_markdown":"@Jared - They could have required a public no-arg constructor and made `main` non-static and still fit within the bounds of the language. Without hearing from the designers, we&#39;ll just have to agree to disagree. :)","body":"@Jared - They could have required a public no-arg constructor and made <code>main</code> non-static and still fit within the bounds of the language. Without hearing from the designers, we&#39;ll just have to agree to disagree. :)"},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":1,"creation_date":1344481839,"post_id":151666,"comment_id":15801784,"body_markdown":"@James My pleasure.  If you ever get a chance to write a little JNI launcher, I highly recommend it - it&#39;s not hard to do (there&#39;s plenty of examples online), and it&#39;ll give you a feel for part of the Java world that we normally take for granted.","body":"@James My pleasure.  If you ever get a chance to write a little JNI launcher, I highly recommend it - it&#39;s not hard to do (there&#39;s plenty of examples online), and it&#39;ll give you a feel for part of the Java world that we normally take for granted."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1354580051,"post_id":151666,"comment_id":18802956,"body_markdown":"Why would JNI be involved here?  `java.exe` is a native application.  The JVM is a native library with a native entrypoint.  Native application calling native entrypoint in a native library needs no JNI.  JNI services are provided by the JVM -- therefore it should be apparent that JNI can&#39;t be used to load the JVM, since that would create a chicken-and-egg problem.","body":"Why would JNI be involved here?  <code>java.exe</code> is a native application.  The JVM is a native library with a native entrypoint.  Native application calling native entrypoint in a native library needs no JNI.  JNI services are provided by the JVM -- therefore it should be apparent that JNI can&#39;t be used to load the JVM, since that would create a chicken-and-egg problem."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":1,"creation_date":1354592294,"post_id":151666,"comment_id":18805691,"body_markdown":"@BenVoigt JNI is used for both directions (native -&gt; JVM and JVM -&gt; native).  You use JNI to load the JVM, instruct it to load a class, locate the main method, and invoke that method. This is very much JNI. Contrary to popular belief, java.exe is *not* the Java VM - it is a thin wrapper that just loads the JNI DLL and invokes methods on it.","body":"@BenVoigt JNI is used for both directions (native -&gt; JVM and JVM -&gt; native).  You use JNI to load the JVM, instruct it to load a class, locate the main method, and invoke that method. This is very much JNI. Contrary to popular belief, java.exe is <i>not</i> the Java VM - it is a thin wrapper that just loads the JNI DLL and invokes methods on it."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1354598465,"post_id":151666,"comment_id":18807126,"body_markdown":"@Kevin: But neither java.exe nor the JVM library it loads are Java bytecode.  There&#39;s no JNI involved in loading the JVM, because there&#39;s no Java until the JVM is loaded.","body":"@Kevin: But neither java.exe nor the JVM library it loads are Java bytecode.  There&#39;s no JNI involved in loading the JVM, because there&#39;s no Java until the JVM is loaded."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":5,"creation_date":1354680267,"post_id":151666,"comment_id":18840048,"body_markdown":"@BenVoigt You call LoadLibrary() to get the jvm dll. Then you call getprocaddress(&quot;JNI_CreateJavaVM&quot;), then you invoke the JNI_CreateJavaVM function (http://docs.oracle.com/javase/1.4.2/docs/guide/jni/spec/invocation.html ). Once the VM is loaded you use standard JNI calls to find the correct class, load the static main method and invoke it. There&#39;s not a lot of room for misinterpretation there. JNI is absolutely how you load the VM. You may be used to writing only client side JNI using the native keyword, javah -jni, etc... but that&#39;s only half of JNI.","body":"@BenVoigt You call LoadLibrary() to get the jvm dll. Then you call getprocaddress(&quot;JNI_CreateJavaVM&quot;), then you invoke the JNI_CreateJavaVM function (<a href=\"http://docs.oracle.com/javase/1.4.2/docs/guide/jni/spec/invocation.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.4.2/docs/guide/jni/spec/&hellip;</a> ). Once the VM is loaded you use standard JNI calls to find the correct class, load the static main method and invoke it. There&#39;s not a lot of room for misinterpretation there. JNI is absolutely how you load the VM. You may be used to writing only client side JNI using the native keyword, javah -jni, etc... but that&#39;s only half of JNI."},{"owner":{"account_id":36215,"reputation":279358,"user_id":103167,"accept_rate":53,"display_name":"Ben Voigt"},"score":0,"creation_date":1354680726,"post_id":151666,"comment_id":18840123,"body_markdown":"@Kevin: Umm `LoadLibrary` is a native function.","body":"@Kevin: Umm <code>LoadLibrary</code> is a native function."},{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":2,"creation_date":1354680863,"post_id":151666,"comment_id":18840151,"body_markdown":"@BenVoigt I don&#39;t think this is productive at this point. Feel free to believe what you wish about it.","body":"@BenVoigt I don&#39;t think this is productive at this point. Feel free to believe what you wish about it."},{"owner":{"account_id":4364735,"reputation":1449,"user_id":3560873,"display_name":"searchengine27"},"score":0,"creation_date":1415992422,"post_id":151666,"comment_id":42418630,"body_markdown":"This is the answer I was looking for. I had suspected the reasoning for the main method being static had something to do with the JNI, but Google wasn&#39;t coming up with much with the search terms I was using.","body":"This is the answer I was looking for. I had suspected the reasoning for the main method being static had something to do with the JNI, but Google wasn&#39;t coming up with much with the search terms I was using."},{"owner":{"account_id":1032118,"reputation":2439,"user_id":1040245,"accept_rate":80,"display_name":"golimar"},"score":0,"creation_date":1484735973,"post_id":151666,"comment_id":70629021,"body_markdown":"Useful and interesting answer but doesn&#39;t answer the OP&#39;s question","body":"Useful and interesting answer but doesn&#39;t answer the OP&#39;s question"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1506832529,"post_id":151666,"comment_id":79972678,"body_markdown":"This is an interesting and informative answer, but I feel it&#39;s actually badly wrong.  The true reason is very simple - `main` is `static` so that the JVM doesn&#39;t have to create an object before calling it.  That has nothing to do with convention.","body":"This is an interesting and informative answer, but I feel it&#39;s actually badly wrong.  The true reason is very simple - <code>main</code> is <code>static</code> so that the JVM doesn&#39;t have to create an object before calling it.  That has nothing to do with convention."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696493426,"post_id":151666,"comment_id":136160679,"body_markdown":"@DawoodibnKareem well, invoking the main method without constructing an instance *is* a convention, as much as constructing an instance through a zero-arg constructor, followed by invoking a non-static main method would be another convention. Which is, of course, easy to say in hindsight, as [the other convention has been implemented now](https://openjdk.org/jeps/445).","body":"@DawoodibnKareem well, invoking the main method without constructing an instance <i>is</i> a convention, as much as constructing an instance through a zero-arg constructor, followed by invoking a non-static main method would be another convention. Which is, of course, easy to say in hindsight, as <a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\">the other convention has been implemented now</a>."}],"tags":[],"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"comment_count":18,"down_vote_count":2,"up_vote_count":438,"is_accepted":false,"score":436,"last_activity_date":1696494107,"creation_date":1222745538,"answer_id":151666,"question_id":146576,"body_markdown":"This is just convention.  In fact, even the name main(), and the arguments passed in are purely convention.\r\n\r\nJava&#160;21 introduced [alternative conventions] as a preview feature; you can omit the `String[]` parameter, the `public` modifier, and even the `static` modifier. If you omit the `static` modifier, an instance of the class will be created before the invocation, which requires that the class has a non-private zero-parameter constructor. The default constructor created by the compiler if no constructor has been declared, is sufficient.\r\n\r\nWhen you run java.exe (or javaw.exe on Windows), what is really happening is a couple of Java Native Interface (JNI) calls.  These calls load the DLL that is really the JVM (that&#39;s right - java.exe is NOT the JVM).  JNI is the tool that we use when we have to bridge the virtual machine world, and the world of C, C++, etc...  The reverse is also true - it is not possible (at least to my knowledge) to actually get a JVM  running without using JNI.\r\n\r\nBasically, java.exe is a super simple C application that parses the command line, creates a new String array in the JVM to hold those arguments, parses out the class name that you specified as containing main(), uses JNI calls to find the main() method itself, then invokes the main() method, passing in the newly created string array as a parameter.  This is very, very much like what you do when you use reflection from Java - it just uses confusingly named native function calls instead.\r\n\r\nIt would be perfectly legal for you to write your own version of java.exe (the source is distributed with the JDK) and have it do something entirely different.  In fact, that&#39;s exactly what we do with all of our Java-based apps.\r\n\r\nEach of our Java apps has its own launcher.  We primarily do this so we get our own icon and process name, but it has come in handy in other situations where we want to do something besides the regular main() call to get things going (For example, in one case we are doing COM interoperability, and we actually pass a COM handle into main() instead of a string array).\r\n\r\nSo, long and short:  the reason it is static is b/c that&#39;s convenient.  The reason it&#39;s called &#39;main&#39; is that it had to be something, and main() is what they did in the old days of C (and in those days, the name of the function *was* important).  I suppose that java.exe could have allowed you to just specify a fully qualified main method name, instead of just the class (java com.mycompany.Foo.someSpecialMain) - but that just makes it harder on IDEs to auto-detect the &#39;launchable&#39; classes in a project.\r\n\r\n[alternative conventions]: https://openjdk.org/jeps/445","title":"Why is the Java main method static?","body":"<p>This is just convention.  In fact, even the name main(), and the arguments passed in are purely convention.</p>\n<p>Java 21 introduced <a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\">alternative conventions</a> as a preview feature; you can omit the <code>String[]</code> parameter, the <code>public</code> modifier, and even the <code>static</code> modifier. If you omit the <code>static</code> modifier, an instance of the class will be created before the invocation, which requires that the class has a non-private zero-parameter constructor. The default constructor created by the compiler if no constructor has been declared, is sufficient.</p>\n<p>When you run java.exe (or javaw.exe on Windows), what is really happening is a couple of Java Native Interface (JNI) calls.  These calls load the DLL that is really the JVM (that's right - java.exe is NOT the JVM).  JNI is the tool that we use when we have to bridge the virtual machine world, and the world of C, C++, etc...  The reverse is also true - it is not possible (at least to my knowledge) to actually get a JVM  running without using JNI.</p>\n<p>Basically, java.exe is a super simple C application that parses the command line, creates a new String array in the JVM to hold those arguments, parses out the class name that you specified as containing main(), uses JNI calls to find the main() method itself, then invokes the main() method, passing in the newly created string array as a parameter.  This is very, very much like what you do when you use reflection from Java - it just uses confusingly named native function calls instead.</p>\n<p>It would be perfectly legal for you to write your own version of java.exe (the source is distributed with the JDK) and have it do something entirely different.  In fact, that's exactly what we do with all of our Java-based apps.</p>\n<p>Each of our Java apps has its own launcher.  We primarily do this so we get our own icon and process name, but it has come in handy in other situations where we want to do something besides the regular main() call to get things going (For example, in one case we are doing COM interoperability, and we actually pass a COM handle into main() instead of a string array).</p>\n<p>So, long and short:  the reason it is static is b/c that's convenient.  The reason it's called 'main' is that it had to be something, and main() is what they did in the old days of C (and in those days, the name of the function <em>was</em> important).  I suppose that java.exe could have allowed you to just specify a fully qualified main method name, instead of just the class (java com.mycompany.Foo.someSpecialMain) - but that just makes it harder on IDEs to auto-detect the 'launchable' classes in a project.</p>\n"},{"comments":[{"owner":{"account_id":2039086,"reputation":3525,"user_id":1820722,"accept_rate":88,"display_name":"joey rohan"},"score":0,"creation_date":1447106636,"post_id":435245,"comment_id":55012777,"body_markdown":"Answer is very misleading.","body":"Answer is very misleading."}],"tags":[],"owner":{"display_name":"sowmya"},"comment_count":1,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1231762550,"creation_date":1231762550,"answer_id":435245,"question_id":146576,"body_markdown":"because, a static members are not part of any specific class and that main method, not requires to create its Object, but can still refer to all other classes.","title":"Why is the Java main method static?","body":"<p>because, a static members are not part of any specific class and that main method, not requires to create its Object, but can still refer to all other classes.</p>\n"},{"tags":[],"owner":{"account_id":569473,"reputation":1,"user_id":203225,"display_name":"debants"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1257404420,"creation_date":1257404420,"answer_id":1678792,"question_id":146576,"body_markdown":"static indicates that this method is class method.and called without requirment of any object of class.","title":"Why is the Java main method static?","body":"<p>static indicates that this method is class method.and called without requirment of any object of class.</p>\n"},{"tags":[],"owner":{"account_id":596637,"reputation":1,"user_id":292163,"display_name":"Bijoy das"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1268378969,"creation_date":1268378969,"answer_id":2431130,"question_id":146576,"body_markdown":"As the execution start of a program from main() and and java is purely object oriented program where the object is declared inside main() that means main() is called before object creation so if main() would non static then to call it there would be needed a object because static means no need of object..........","title":"Why is the Java main method static?","body":"<p>As the execution start of a program from main() and and java is purely object oriented program where the object is declared inside main() that means main() is called before object creation so if main() would non static then to call it there would be needed a object because static means no need of object..........</p>\n"},{"tags":[],"owner":{"account_id":618230,"reputation":1,"user_id":355420,"display_name":"c k ravi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1323344260,"creation_date":1275396591,"answer_id":2949842,"question_id":146576,"body_markdown":"Static methods don&#39;t require any object.  It runs directly so main runs directly.","title":"Why is the Java main method static?","body":"<p>Static methods don't require any object.  It runs directly so main runs directly.</p>\n"},{"tags":[],"owner":{"account_id":791755,"reputation":11,"user_id":732351,"display_name":"Abhishek"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1461465532,"creation_date":1304163569,"answer_id":5841473,"question_id":146576,"body_markdown":"The `public` keyword is an access modifier, which allows the programmer to control\r\nthe visibility of class members. When a class member is preceded by `public`, then that\r\nmember may be accessed by code outside the class in which it is declared.\r\n\r\nThe opposite of `public` is `private`, which prevents a member from being used by code defined outside of its class.\r\n\r\nIn this case, `main()` must be declared as `public`, since it must be called\r\nby code outside of its class when the program is started.\r\n\r\nThe keyword `static` allows\r\n`main()` to be called without having to instantiate a particular instance of the class. This is necessary since `main()` is called by the Java interpreter before any objects are made.\r\n  \r\nThe keyword `void` simply tells the compiler that `main()` does not return a value.","title":"Why is the Java main method static?","body":"<p>The <code>public</code> keyword is an access modifier, which allows the programmer to control\nthe visibility of class members. When a class member is preceded by <code>public</code>, then that\nmember may be accessed by code outside the class in which it is declared.</p>\n\n<p>The opposite of <code>public</code> is <code>private</code>, which prevents a member from being used by code defined outside of its class.</p>\n\n<p>In this case, <code>main()</code> must be declared as <code>public</code>, since it must be called\nby code outside of its class when the program is started.</p>\n\n<p>The keyword <code>static</code> allows\n<code>main()</code> to be called without having to instantiate a particular instance of the class. This is necessary since <code>main()</code> is called by the Java interpreter before any objects are made.</p>\n\n<p>The keyword <code>void</code> simply tells the compiler that <code>main()</code> does not return a value.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":7,"creation_date":1309579242,"post_id":6552623,"comment_id":7724476,"body_markdown":"This answer was first given in September 2008. The question has been answered. You&#39;re not adding any value here.","body":"This answer was first given in September 2008. The question has been answered. You&#39;re not adding any value here."}],"tags":[],"owner":{"account_id":779395,"reputation":1,"user_id":825455,"display_name":"sanyashi kumar nayak"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1309561789,"creation_date":1309549888,"answer_id":6552623,"question_id":146576,"body_markdown":"It&#39;s a frequently asked question why main() is static in Java.\r\n\r\n**Answer**: We know that in Java, execution starts from main() by JVM. When JVM executes  main() at that time, the class which contains main() is not instantiated so we can&#39;t call a nonstatic method without the reference of it&#39;s object. So to call it we made it static, due to which the class loader loads all the static methods in JVM context memory space from where JVM can directly call them.","title":"Why is the Java main method static?","body":"<p>It's a frequently asked question why main() is static in Java.</p>\n\n<p><strong>Answer</strong>: We know that in Java, execution starts from main() by JVM. When JVM executes  main() at that time, the class which contains main() is not instantiated so we can't call a nonstatic method without the reference of it's object. So to call it we made it static, due to which the class loader loads all the static methods in JVM context memory space from where JVM can directly call them.</p>\n"},{"tags":[],"owner":{"account_id":1182845,"reputation":11,"user_id":1157396,"display_name":"eagles"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1326930662,"creation_date":1326930662,"answer_id":8919261,"question_id":146576,"body_markdown":"The static key word in the main method is used because there isn&#39;t any instantiation that take place in the main method. \r\nBut object is constructed rather than invocation as a result we use the static key word in the main method.\r\nIn jvm context memory is created when class loads into it.And all static members are present in that memory. if we make the main static now it will be in memory and can be accessible to jvm (class.main(..)) so we can call the main method with out need of even need for heap been created.\r\n  ","title":"Why is the Java main method static?","body":"<p>The static key word in the main method is used because there isn't any instantiation that take place in the main method. \nBut object is constructed rather than invocation as a result we use the static key word in the main method.\nIn jvm context memory is created when class loads into it.And all static members are present in that memory. if we make the main static now it will be in memory and can be accessible to jvm (class.main(..)) so we can call the main method with out need of even need for heap been created.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1461465302,"post_id":10996990,"comment_id":61209689,"body_markdown":"All methods &#39;have only one copy of it&#39;.","body":"All methods &#39;have only one copy of it&#39;."}],"tags":[],"owner":{"account_id":1561477,"reputation":31,"user_id":1451254,"display_name":"Aysha"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1339505313,"creation_date":1339505313,"answer_id":10996990,"question_id":146576,"body_markdown":"I think the keyword &#39;static&#39; makes the main method a class method, and class methods have only one copy of it and can be shared by all, and also, it does not require an object for reference. So when the driver class is compiled the main method can be invoked. (I&#39;m just in alphabet level of java, sorry if I&#39;m wrong)","title":"Why is the Java main method static?","body":"<p>I think the keyword 'static' makes the main method a class method, and class methods have only one copy of it and can be shared by all, and also, it does not require an object for reference. So when the driver class is compiled the main method can be invoked. (I'm just in alphabet level of java, sorry if I'm wrong)</p>\n"},{"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":7,"creation_date":1341990105,"post_id":11415727,"comment_id":15074176,"body_markdown":"This is incorrect. Plenty of objects are instantiated before `main` is reached. And if you include a static constructor in the class containing main, that gets executed before `main` likewise.","body":"This is incorrect. Plenty of objects are instantiated before <code>main</code> is reached. And if you include a static constructor in the class containing main, that gets executed before <code>main</code> likewise."}],"tags":[],"owner":{"account_id":1643019,"reputation":39,"user_id":1515114,"display_name":"hellaciousprogger"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1341931040,"creation_date":1341931040,"answer_id":11415727,"question_id":146576,"body_markdown":"main() is static because; at that point in the application&#39;s lifecycle, the application stack is procedural in nature due to there being no objects yet instantiated.\r\n\r\nIt&#39;s a clean slate. Your application is running at this point, even without any objects being declared (remember, there&#39;s procedural AND OO coding patterns). You, as the developer, turn the application into an object-oriented solution by creating instances of your objects and depending upon the code compiled within.\r\n\r\nObject-oriented is great for millions of obvious reasons. However, gone are the days when most VB developers regularly used keywords like &quot;goto&quot; in their code. &quot;goto&quot; is a procedural command in VB that is replaced by its OO counterpart: method invocation.\r\n\r\nYou could also look at the static entry point (main) as pure liberty. Had Java been different enough to instantiate an object and present only that instance to you on run, you would have no choice BUT to write a procedural app. As unimaginable as it might sound for Java, it&#39;s possible there are many scenarios which call for procedural approaches.\r\n\r\nThis is probably a very obscure reply. Remember, &quot;class&quot; is only a collection of inter-related code. &quot;Instance&quot; is an isolated, living and breathing autonomous generation of that class.","title":"Why is the Java main method static?","body":"<p>main() is static because; at that point in the application's lifecycle, the application stack is procedural in nature due to there being no objects yet instantiated.</p>\n\n<p>It's a clean slate. Your application is running at this point, even without any objects being declared (remember, there's procedural AND OO coding patterns). You, as the developer, turn the application into an object-oriented solution by creating instances of your objects and depending upon the code compiled within.</p>\n\n<p>Object-oriented is great for millions of obvious reasons. However, gone are the days when most VB developers regularly used keywords like \"goto\" in their code. \"goto\" is a procedural command in VB that is replaced by its OO counterpart: method invocation.</p>\n\n<p>You could also look at the static entry point (main) as pure liberty. Had Java been different enough to instantiate an object and present only that instance to you on run, you would have no choice BUT to write a procedural app. As unimaginable as it might sound for Java, it's possible there are many scenarios which call for procedural approaches.</p>\n\n<p>This is probably a very obscure reply. Remember, \"class\" is only a collection of inter-related code. \"Instance\" is an isolated, living and breathing autonomous generation of that class.</p>\n"},{"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1341990196,"post_id":11423098,"comment_id":15074192,"body_markdown":"This is just begging the question. Java needs an application loader anyway which does heavy lifting before calling `main`. Your rationale about `main` being too complex for beginners seems unbelievable. In fact, the static `main` is *very* confusing for beginners, I doubt a constructor would be more so. You say a “constructor should not be responsible for the object’s behaviour”. This sounds interesting but I’m not sure I’d agree. Why doesn’t it? What prevents this?","body":"This is just begging the question. Java needs an application loader anyway which does heavy lifting before calling <code>main</code>. Your rationale about <code>main</code> being too complex for beginners seems unbelievable. In fact, the static <code>main</code> is <i>very</i> confusing for beginners, I doubt a constructor would be more so. You say a “constructor should not be responsible for the object’s behaviour”. This sounds interesting but I’m not sure I’d agree. Why doesn’t it? What prevents this?"}],"tags":[],"owner":{"account_id":46788,"reputation":98219,"user_id":138304,"accept_rate":65,"display_name":"Sam Harwell"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1341960204,"creation_date":1341960204,"answer_id":11423098,"question_id":146576,"body_markdown":"The true entry point to any application is a static method. If the Java language supported an instance method as the &quot;entry point&quot;, then the runtime would need implement it internally as a static method which constructed an instance of the object followed by calling the instance method.\r\n\r\nWith that out of the way, I&#39;ll examine the rationale for choosing a specific one of the following three options:\r\n\r\n1. A `static void main()` as we see it today.\r\n2. An instance method `void main()` called on a freshly constructed object.\r\n3. Using the constructor of a type as the entry point (e.g., if the entry class was called `Program`, then the execution would effectively consist of `new Program()`).\r\n\r\n## Breakdown:\r\n\r\n`static void main()`\r\n\r\n1. Calls the static constructor of the enclosing class.\r\n2. Calls the static method `main()`.\r\n\r\n`void main()`\r\n\r\n1. Calls the static constructor of the enclosing class.\r\n2. Constructs an instance of the enclosing class by effectively calling `new ClassName()`.\r\n3. Calls the instance method `main()`.\r\n\r\n`new ClassName()`\r\n\r\n1. Calls the static constructor of the enclosing class.\r\n2. Constructs an instance of the class (then does nothing with it and simply returns).\r\n\r\n## Rationale:\r\n\r\nI&#39;ll go in reverse order for this one.\r\n\r\nKeep in mind that one of the design goals of Java was to emphasize (require when possible) good object-oriented programming practices. In this context, the constructor of an object *initializes* the object, but should not be responsible for the object&#39;s behavior. Therefore, a specification that gave an entry point of `new ClassName()` would confuse the situation for new Java developers by forcing an exception to the design of an &quot;ideal&quot; constructor on every application.\r\n\r\nBy making `main()` an instance method, the above problem is certainly solved. However, it creates complexity by requiring the specification to list the signature of the entry class&#39;s constructor as well as the signature of the `main()` method.\r\n\r\nIn summary, **specifying a `static void main()` creates a specification with the least complexity while adhering to the principle of placing behavior into methods**. Considering how straightforward it is to implement a `main()` method which itself constructs an instance of a class and calls an instance method, there is no real advantage to specifying `main()` as an instance method.","title":"Why is the Java main method static?","body":"<p>The true entry point to any application is a static method. If the Java language supported an instance method as the \"entry point\", then the runtime would need implement it internally as a static method which constructed an instance of the object followed by calling the instance method.</p>\n\n<p>With that out of the way, I'll examine the rationale for choosing a specific one of the following three options:</p>\n\n<ol>\n<li>A <code>static void main()</code> as we see it today.</li>\n<li>An instance method <code>void main()</code> called on a freshly constructed object.</li>\n<li>Using the constructor of a type as the entry point (e.g., if the entry class was called <code>Program</code>, then the execution would effectively consist of <code>new Program()</code>).</li>\n</ol>\n\n<h2>Breakdown:</h2>\n\n<p><code>static void main()</code></p>\n\n<ol>\n<li>Calls the static constructor of the enclosing class.</li>\n<li>Calls the static method <code>main()</code>.</li>\n</ol>\n\n<p><code>void main()</code></p>\n\n<ol>\n<li>Calls the static constructor of the enclosing class.</li>\n<li>Constructs an instance of the enclosing class by effectively calling <code>new ClassName()</code>.</li>\n<li>Calls the instance method <code>main()</code>.</li>\n</ol>\n\n<p><code>new ClassName()</code></p>\n\n<ol>\n<li>Calls the static constructor of the enclosing class.</li>\n<li>Constructs an instance of the class (then does nothing with it and simply returns).</li>\n</ol>\n\n<h2>Rationale:</h2>\n\n<p>I'll go in reverse order for this one.</p>\n\n<p>Keep in mind that one of the design goals of Java was to emphasize (require when possible) good object-oriented programming practices. In this context, the constructor of an object <em>initializes</em> the object, but should not be responsible for the object's behavior. Therefore, a specification that gave an entry point of <code>new ClassName()</code> would confuse the situation for new Java developers by forcing an exception to the design of an \"ideal\" constructor on every application.</p>\n\n<p>By making <code>main()</code> an instance method, the above problem is certainly solved. However, it creates complexity by requiring the specification to list the signature of the entry class's constructor as well as the signature of the <code>main()</code> method.</p>\n\n<p>In summary, <strong>specifying a <code>static void main()</code> creates a specification with the least complexity while adhering to the principle of placing behavior into methods</strong>. Considering how straightforward it is to implement a <code>main()</code> method which itself constructs an instance of a class and calls an instance method, there is no real advantage to specifying <code>main()</code> as an instance method.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1461465667,"post_id":11438809,"comment_id":61209749,"body_markdown":"Rule of the language, you mean.","body":"Rule of the language, you mean."}],"tags":[],"owner":{"account_id":981398,"reputation":23613,"user_id":1001027,"accept_rate":72,"display_name":"Francisco Spaeth"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1342030380,"creation_date":1342030380,"answer_id":11438809,"question_id":146576,"body_markdown":"It is just a convention as we can see here:\r\n\r\n&gt; The method **must be declared public and static**, it must not return any\r\n&gt; value, and it must accept a String array as a parameter. By default,\r\n&gt; the first non-option argument is the name of the class to be invoked.\r\n&gt; A fully-qualified class name should be used. If the -jar option is\r\n&gt; specified, the first non-option argument is the name of a JAR archive\r\n&gt; containing class and resource files for the application, with the\r\n&gt; startup class indicated by the Main-Class manifest header.\r\n\r\nhttp://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html#description","title":"Why is the Java main method static?","body":"<p>It is just a convention as we can see here:</p>\n\n<blockquote>\n  <p>The method <strong>must be declared public and static</strong>, it must not return any\n  value, and it must accept a String array as a parameter. By default,\n  the first non-option argument is the name of the class to be invoked.\n  A fully-qualified class name should be used. If the -jar option is\n  specified, the first non-option argument is the name of a JAR archive\n  containing class and resource files for the application, with the\n  startup class indicated by the Main-Class manifest header.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html#description\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/tooldocs/windows/java.html#description</a></p>\n"},{"tags":[],"owner":{"account_id":1643932,"reputation":33,"user_id":1515855,"display_name":"user1515855"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1342037028,"creation_date":1342037028,"answer_id":11440558,"question_id":146576,"body_markdown":"&gt; *The public static void keywords mean the Java virtual machine (JVM) interpreter can call the program&#39;s main method to start the program (public) without creating an instance of the class (static), and the program does not return data to the Java VM interpreter (void) when it ends.*\r\n\r\nSource:\r\n[Essentials, Part 1, Lesson 2: Building Applications][1]\r\n\r\n\r\n  [1]: http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html","title":"Why is the Java main method static?","body":"<blockquote>\n  <p><em>The public static void keywords mean the Java virtual machine (JVM) interpreter can call the program's main method to start the program (public) without creating an instance of the class (static), and the program does not return data to the Java VM interpreter (void) when it ends.</em></p>\n</blockquote>\n\n<p>Source:\n<a href=\"http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html\" rel=\"nofollow\">Essentials, Part 1, Lesson 2: Building Applications</a></p>\n"},{"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":5,"creation_date":1342076260,"post_id":11444861,"comment_id":15104990,"body_markdown":"The problem here is that this is actually a *very* good answer to the question in its original form, with plenty of references (+1). However, I’d love to learn about the *rationale* for the design decision of making a static method the entry point, rather than a constructor or instance method.","body":"The problem here is that this is actually a <i>very</i> good answer to the question in its original form, with plenty of references (+1). However, I’d love to learn about the <i>rationale</i> for the design decision of making a static method the entry point, rather than a constructor or instance method."},{"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"score":1,"creation_date":1342085252,"post_id":11444861,"comment_id":15108363,"body_markdown":"@KonradRudolph, for questions regarding to language and JVM specification design, perhaps you could try contact original source from Oracle and see if you can get any positive feedback.","body":"@KonradRudolph, for questions regarding to language and JVM specification design, perhaps you could try contact original source from Oracle and see if you can get any positive feedback."},{"owner":{"account_id":382517,"reputation":10216,"user_id":737790,"accept_rate":60,"display_name":"Yves Martin"},"score":3,"creation_date":1342388287,"post_id":11444861,"comment_id":15185896,"body_markdown":"Generally speaking when a method result computation depends only on its parameters, so that it does not depend on the object instance internal state, it can be static. And it is recommended to set it as static for code maintainability/re-usability. If the method `main` was not static, it means the class instance state must be known and it is much more complex to define, like which constructor to use first.","body":"Generally speaking when a method result computation depends only on its parameters, so that it does not depend on the object instance internal state, it can be static. And it is recommended to set it as static for code maintainability/re-usability. If the method <code>main</code> was not static, it means the class instance state must be known and it is much more complex to define, like which constructor to use first."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1342441152,"post_id":11444861,"comment_id":15199064,"body_markdown":"@KonradRudolph Interestingly, Oak (the predecessor of Java) already required the main method to have a similar prototype: `public static void main(String arguments[])` - Reference: [Oak 0.2 Spec](http://www.me.umn.edu/~shivane/blogs/cafefeed/resources/14-jun-2007/OakSpec0.2.zip).","body":"@KonradRudolph Interestingly, Oak (the predecessor of Java) already required the main method to have a similar prototype: <code>public static void main(String arguments[])</code> - Reference: <a href=\"http://www.me.umn.edu/~shivane/blogs/cafefeed/resources/14-jun-2007/OakSpec0.2.zip\" rel=\"nofollow noreferrer\">Oak 0.2 Spec</a>."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1342452640,"post_id":11444861,"comment_id":15205027,"body_markdown":"@Yves It *can* be. It needn’t, if another design makes sense. I’ve heard some good arguments in the comments here but I still think that a process is effectively very much like a thread (it *is*), and a thread in Java is usually represented as an instance of `Runnable`. Representing the whole process in the same way (i.e. having `Runnable.Run` as the entry point) definitely makes sense in Java. Of course, `Runnable` itself is arguably a design flaw, caused by the fact that Java doesn’t have anonymous methods (yet). But since it’s there already …","body":"@Yves It <i>can</i> be. It needn’t, if another design makes sense. I’ve heard some good arguments in the comments here but I still think that a process is effectively very much like a thread (it <i>is</i>), and a thread in Java is usually represented as an instance of <code>Runnable</code>. Representing the whole process in the same way (i.e. having <code>Runnable.Run</code> as the entry point) definitely makes sense in Java. Of course, <code>Runnable</code> itself is arguably a design flaw, caused by the fact that Java doesn’t have anonymous methods (yet). But since it’s there already …"}],"tags":[],"owner":{"account_id":468095,"reputation":40996,"user_id":873875,"display_name":"yorkw"},"comment_count":5,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1342091678,"creation_date":1342065957,"answer_id":11444861,"question_id":146576,"body_markdown":"### Why public static void main(String[] args) ? ###\n\nThis is how Java Language is designed and Java Virtual Machine is designed and written.\n\n### [Oracle Java Language Specification][1] ###\n\nCheck out [Chapter 12 Execution - Section 12.1.4 Invoke Test.main][2]:\n\n&gt; Finally, after completion of the initialization for class Test (during which other consequential loading, linking, and initializing may have occurred), the method main of Test is invoked.\n&gt;\n&gt;The method main must be declared public, static, and void. It must accept a single argument that is an array of strings. This method can be declared as either\n&gt;\n&gt;     public static void main(String[] args)\n&gt;\n&gt;or\n&gt;\n&gt;     public static void main(String... args)\n\n### [Oracle Java Virtual Machine Specification][3] ###\n\nCheck out [Chapter 2 Java Programming Language Concepts - Section 2.17 Execution][4]:\n\n&gt; The Java virtual machine starts execution by invoking the method main of some specified class and passing it a single argument, which is an array of strings. This causes the specified class to be loaded (&#167;2.17.2), linked (&#167;2.17.3) to other types that it uses, and initialized (&#167;2.17.4). The method main must be declared public, static, and void.\n\n### [Oracle OpenJDK Source][5] ###\nDownload and extract the source jar and see how JVM is written, check out `../launcher/java.c`, which contains native C code behind command `java [-options] class [args...]`:\n\n\n    /*\n     * Get the application&#39;s main class.\n     * ... ...\n     */\n    if (jarfile != 0) {\n        mainClassName = GetMainClassName(env, jarfile);\n\n    ... ...\n\n        mainClass = LoadClass(env, classname);\n        if(mainClass == NULL) { /* exception occured */\n\n    ... ...\n\n    /* Get the application&#39;s main method */\n    mainID = (*env)-&gt;GetStaticMethodID(env, mainClass, &quot;main&quot;,\n                                       &quot;([Ljava/lang/String;)V&quot;);\n\n    ... ...\n\n    {    /* Make sure the main method is public */\n        jint mods;\n        jmethodID mid;\n        jobject obj = (*env)-&gt;ToReflectedMethod(env, mainClass,\n                                                mainID, JNI_TRUE);\n\n    ... ...\n\n    /* Build argument array */\n    mainArgs = NewPlatformStringArray(env, argv, argc);\n    if (mainArgs == NULL) {\n        ReportExceptionDescription(env);\n        goto leave;\n    }\n\n    /* Invoke main method. */\n    (*env)-&gt;CallStaticVoidMethod(env, mainClass, mainID, mainArgs);\n\n    ... ...\n\n\n  [1]: http://docs.oracle.com/javase/specs/jls/se5.0/html/j3TOC.html\n  [2]: http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#12.1.4\n  [3]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/VMSpecTOC.doc.html\n  [4]: http://docs.oracle.com/javase/specs/jvms/se5.0/html/Concepts.doc.html#19042\n  [5]: http://grepcode.com/snapshot/repository.grepcode.com/java/root/jdk/openjdk/6-b14/","title":"Why is the Java main method static?","body":"<h3>Why public static void main(String[] args) ?</h3>\n<p>This is how Java Language is designed and Java Virtual Machine is designed and written.</p>\n<h3><a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/j3TOC.html\" rel=\"noreferrer\">Oracle Java Language Specification</a></h3>\n<p>Check out <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/execution.html#12.1.4\" rel=\"noreferrer\">Chapter 12 Execution - Section 12.1.4 Invoke Test.main</a>:</p>\n<blockquote>\n<p>Finally, after completion of the initialization for class Test (during which other consequential loading, linking, and initializing may have occurred), the method main of Test is invoked.</p>\n<p>The method main must be declared public, static, and void. It must accept a single argument that is an array of strings. This method can be declared as either</p>\n<pre><code>public static void main(String[] args)\n</code></pre>\n<p>or</p>\n<pre><code>public static void main(String... args)\n</code></pre>\n</blockquote>\n<h3><a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/VMSpecTOC.doc.html\" rel=\"noreferrer\">Oracle Java Virtual Machine Specification</a></h3>\n<p>Check out <a href=\"http://docs.oracle.com/javase/specs/jvms/se5.0/html/Concepts.doc.html#19042\" rel=\"noreferrer\">Chapter 2 Java Programming Language Concepts - Section 2.17 Execution</a>:</p>\n<blockquote>\n<p>The Java virtual machine starts execution by invoking the method main of some specified class and passing it a single argument, which is an array of strings. This causes the specified class to be loaded (§2.17.2), linked (§2.17.3) to other types that it uses, and initialized (§2.17.4). The method main must be declared public, static, and void.</p>\n</blockquote>\n<h3><a href=\"http://grepcode.com/snapshot/repository.grepcode.com/java/root/jdk/openjdk/6-b14/\" rel=\"noreferrer\">Oracle OpenJDK Source</a></h3>\n<p>Download and extract the source jar and see how JVM is written, check out <code>../launcher/java.c</code>, which contains native C code behind command <code>java [-options] class [args...]</code>:</p>\n<pre><code>/*\n * Get the application's main class.\n * ... ...\n */\nif (jarfile != 0) {\n    mainClassName = GetMainClassName(env, jarfile);\n\n... ...\n\n    mainClass = LoadClass(env, classname);\n    if(mainClass == NULL) { /* exception occured */\n\n... ...\n\n/* Get the application's main method */\nmainID = (*env)-&gt;GetStaticMethodID(env, mainClass, &quot;main&quot;,\n                                   &quot;([Ljava/lang/String;)V&quot;);\n\n... ...\n\n{    /* Make sure the main method is public */\n    jint mods;\n    jmethodID mid;\n    jobject obj = (*env)-&gt;ToReflectedMethod(env, mainClass,\n                                            mainID, JNI_TRUE);\n\n... ...\n\n/* Build argument array */\nmainArgs = NewPlatformStringArray(env, argv, argc);\nif (mainArgs == NULL) {\n    ReportExceptionDescription(env);\n    goto leave;\n}\n\n/* Invoke main method. */\n(*env)-&gt;CallStaticVoidMethod(env, mainClass, mainID, mainArgs);\n\n... ...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1342100421,"post_id":11452122,"comment_id":15115266,"body_markdown":"But it does **not** run “before anything else in the program”. The whole argument is a fallacy, and what’s more, this isn’t the first answer mentioning it, nor even the second or third.","body":"But it does <b>not</b> run “before anything else in the program”. The whole argument is a fallacy, and what’s more, this isn’t the first answer mentioning it, nor even the second or third."},{"owner":{"account_id":1486441,"reputation":175,"user_id":1394610,"accept_rate":75,"display_name":"Jesse M"},"score":0,"creation_date":1342100962,"post_id":11452122,"comment_id":15115516,"body_markdown":"I&#39;m sorry that my answer repeats what others have said; I only answered to the best of my understanding and from what I could find online.  From the results that I&#39;ve looked at there is no other reason as to why the main method is static; unless there&#39;s one deeply hidden somewhere perhaps that&#39;s the only answer there is.  My understanding of Java is fairly basic, but I have heard the above reason (from professors, textbooks, etc) and never any other.","body":"I&#39;m sorry that my answer repeats what others have said; I only answered to the best of my understanding and from what I could find online.  From the results that I&#39;ve looked at there is no other reason as to why the main method is static; unless there&#39;s one deeply hidden somewhere perhaps that&#39;s the only answer there is.  My understanding of Java is fairly basic, but I have heard the above reason (from professors, textbooks, etc) and never any other."},{"owner":{"account_id":194190,"reputation":676,"user_id":436382,"accept_rate":50,"display_name":"LeoR"},"score":0,"creation_date":1342185223,"post_id":11452122,"comment_id":15145168,"body_markdown":"@Jesse M Your comment only makes sense if you didn&#39;t even consider reading the other answers first. Which by the way is not a far fetched thing to do. As you mentioned yourself, your understanding is fairly basic so it is very probable that somebody else already answered the question more competently. And your comment seems to be an  rationalization in order to make your answer look better. It&#39;s an extraordinary claim that you have Java textbooks and professors that think what you claim and frankly I don&#39;t believe they do. (Any references?)","body":"@Jesse M Your comment only makes sense if you didn&#39;t even consider reading the other answers first. Which by the way is not a far fetched thing to do. As you mentioned yourself, your understanding is fairly basic so it is very probable that somebody else already answered the question more competently. And your comment seems to be an  rationalization in order to make your answer look better. It&#39;s an extraordinary claim that you have Java textbooks and professors that think what you claim and frankly I don&#39;t believe they do. (Any references?)"},{"owner":{"account_id":450019,"reputation":10440,"user_id":845128,"accept_rate":67,"display_name":"telkins"},"score":1,"creation_date":1342215546,"post_id":11452122,"comment_id":15157955,"body_markdown":"@KonradRudolph The top comments seem pretty reasonable. main() is used as an entry point to the program and there are several references on the Java website saying that it is supposed to be similar to how C/C++ have a main() function. Because Java is all Objects, it has to be static to avoid object instantiation. Having it static also lets it be loaded and executable into the JVM at runtime. I&#39;m just regurgitating previous answers, but I&#39;m wondering what you would consider a satisfying answer. I think the best you will get is &quot;That&#39;s how they wanted it&quot;. Keep in mind the date Java was made.","body":"@KonradRudolph The top comments seem pretty reasonable. main() is used as an entry point to the program and there are several references on the Java website saying that it is supposed to be similar to how C/C++ have a main() function. Because Java is all Objects, it has to be static to avoid object instantiation. Having it static also lets it be loaded and executable into the JVM at runtime. I&#39;m just regurgitating previous answers, but I&#39;m wondering what you would consider a satisfying answer. I think the best you will get is &quot;That&#39;s how they wanted it&quot;. Keep in mind the date Java was made."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1342296862,"post_id":11452122,"comment_id":15171065,"body_markdown":"@Atlos Your reasons are not actually explanations: you say “it has to be static to avoid object instantiation” but why do you want to avoid object instantiation in the first place? *This* is the real question here.","body":"@Atlos Your reasons are not actually explanations: you say “it has to be static to avoid object instantiation” but why do you want to avoid object instantiation in the first place? <i>This</i> is the real question here."},{"owner":{"account_id":450019,"reputation":10440,"user_id":845128,"accept_rate":67,"display_name":"telkins"},"score":0,"creation_date":1342299725,"post_id":11452122,"comment_id":15171602,"body_markdown":"@KonradRudolph Avoiding object instantiation isn&#39;t much of a problem today, but when Java came out I see it being a memory and speed issue.  Java was initially targeted for consumer digital electronics in the early 90&#39;s and I could imagine the restrictions they had to deal with.  Java was competing with C/C++ in that market specifically.  I&#39;m just piecing both ideas together, so no &quot;hard proof&quot; like you want, but I think it makes the most sense.  Your best chance is to email Sun Microsystems and ask a design engineer.","body":"@KonradRudolph Avoiding object instantiation isn&#39;t much of a problem today, but when Java came out I see it being a memory and speed issue.  Java was initially targeted for consumer digital electronics in the early 90&#39;s and I could imagine the restrictions they had to deal with.  Java was competing with C/C++ in that market specifically.  I&#39;m just piecing both ideas together, so no &quot;hard proof&quot; like you want, but I think it makes the most sense.  Your best chance is to email Sun Microsystems and ask a design engineer."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1342299817,"post_id":11452122,"comment_id":15171614,"body_markdown":"@Atlos I don’t buy that. It’s a *one-time* thing, it takes less then a microsecond. Even when Java came out. It probably wouldn’t even be measurable.","body":"@Atlos I don’t buy that. It’s a <i>one-time</i> thing, it takes less then a microsecond. Even when Java came out. It probably wouldn’t even be measurable."},{"owner":{"account_id":1486441,"reputation":175,"user_id":1394610,"accept_rate":75,"display_name":"Jesse M"},"score":0,"creation_date":1342451194,"post_id":11452122,"comment_id":15204260,"body_markdown":"@LeoR I admit that I was at fault by not reading all of the other answers first; I wasn&#39;t aware to what extent my answer had been repeated.  The reason I felt confident enough to answer the question was that I&#39;ve never had to think &#39;deeply&#39; about this issue before; when I said that I had heard the statement made by professors, I was conveying the fact that this was simply what I&#39;d been taught.  I can&#39;t quote when or where exactly I learned this for the same reason I can&#39;t tell you when I learned about for loops; I&#39;ve always taken the reasoning for granted.","body":"@LeoR I admit that I was at fault by not reading all of the other answers first; I wasn&#39;t aware to what extent my answer had been repeated.  The reason I felt confident enough to answer the question was that I&#39;ve never had to think &#39;deeply&#39; about this issue before; when I said that I had heard the statement made by professors, I was conveying the fact that this was simply what I&#39;d been taught.  I can&#39;t quote when or where exactly I learned this for the same reason I can&#39;t tell you when I learned about for loops; I&#39;ve always taken the reasoning for granted."},{"owner":{"account_id":1486441,"reputation":175,"user_id":1394610,"accept_rate":75,"display_name":"Jesse M"},"score":0,"creation_date":1342451416,"post_id":11452122,"comment_id":15204387,"body_markdown":"I also don&#39;t see why it&#39;s such an extraordinary claim.  You said yourself that all the other answers were the same as mine; so why is it unreasonable that this is a commonly held belief that many people have learned or been taught?  I have no reason to lie about what I learned, unless I was that desperate for Konrad&#39;s bounty-- which I knew I wasn&#39;t getting, since many of the answers were longer and more elaborate than mine.  Which brings up the main reason that I answered the question at all:","body":"I also don&#39;t see why it&#39;s such an extraordinary claim.  You said yourself that all the other answers were the same as mine; so why is it unreasonable that this is a commonly held belief that many people have learned or been taught?  I have no reason to lie about what I learned, unless I was that desperate for Konrad&#39;s bounty-- which I knew I wasn&#39;t getting, since many of the answers were longer and more elaborate than mine.  Which brings up the main reason that I answered the question at all:"},{"owner":{"account_id":1486441,"reputation":175,"user_id":1394610,"accept_rate":75,"display_name":"Jesse M"},"score":0,"creation_date":1342451592,"post_id":11452122,"comment_id":15204486,"body_markdown":"@KonradRudolph Is it possible that the answer you&#39;re looking for simply doesn&#39;t exist?  Yes, object instantiation takes an extremely small amount of time, but does that mean that it makes sense to force programmers to do it when it&#39;s not necessary?  Why can&#39;t the reasoning be the same as with any other static method?  As far as I know, you could accomplish the same goals not using static methods as by using them in any program.  But when a method isn&#39;t logically related to a particular class, there is the option not to associate it with a class.","body":"@KonradRudolph Is it possible that the answer you&#39;re looking for simply doesn&#39;t exist?  Yes, object instantiation takes an extremely small amount of time, but does that mean that it makes sense to force programmers to do it when it&#39;s not necessary?  Why can&#39;t the reasoning be the same as with any other static method?  As far as I know, you could accomplish the same goals not using static methods as by using them in any program.  But when a method isn&#39;t logically related to a particular class, there is the option not to associate it with a class."},{"owner":{"account_id":1486441,"reputation":175,"user_id":1394610,"accept_rate":75,"display_name":"Jesse M"},"score":0,"creation_date":1342451687,"post_id":11452122,"comment_id":15204528,"body_markdown":"I don&#39;t see why it can&#39;t just be a matter of convention, readability and choice on the programmer&#39;s side.  If that&#39;s not a sufficient answer, then perhaps you should contact Sun as Atlos recommended.","body":"I don&#39;t see why it can&#39;t just be a matter of convention, readability and choice on the programmer&#39;s side.  If that&#39;s not a sufficient answer, then perhaps you should contact Sun as Atlos recommended."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1342452340,"post_id":11452122,"comment_id":15204862,"body_markdown":"@Jesse Spot-on. It’s entirely possible that it’s merely a matter of convention (although I hope that it’s not, that would be such a boring answer). My original interest in this question was because I thought that using a proper instance to represent the object “running application”, and having the entry point be a method (or the constructor) of this class would be a much more obvious design, since Java was designed to be object oriented from the get-go, and since seemingly analogous objects (threads, via `Runnable`) in Java *do* use this design. Why the (apparent) exception here?","body":"@Jesse Spot-on. It’s entirely possible that it’s merely a matter of convention (although I hope that it’s not, that would be such a boring answer). My original interest in this question was because I thought that using a proper instance to represent the object “running application”, and having the entry point be a method (or the constructor) of this class would be a much more obvious design, since Java was designed to be object oriented from the get-go, and since seemingly analogous objects (threads, via <code>Runnable</code>) in Java <i>do</i> use this design. Why the (apparent) exception here?"}],"tags":[],"owner":{"account_id":1486441,"reputation":175,"user_id":1394610,"accept_rate":75,"display_name":"Jesse M"},"comment_count":12,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1461579781,"creation_date":1342096995,"answer_id":11452122,"question_id":146576,"body_markdown":"From [java.sun.com][1] (there&#39;s more information on the site) :\r\n\r\n&gt; The main method is static to give the Java VM interpreter a way to start the class without creating an instance of the control class first. Instances of the control class are created in the main method after the program starts.\r\n\r\nMy understanding has always been simply that the main method, like any static method, can be called without creating an instance of the associated class, allowing it to run before anything else in the program.  If it weren&#39;t static, you would have to instantiate an object before calling it-- which creates a &#39;chicken and egg&#39; problem, since the main method is generally what you use to instantiate objects at the beginning of the program.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html","title":"Why is the Java main method static?","body":"<p>From <a href=\"http://java.sun.com/developer/onlineTraining/Programming/BasicJava1/prog.html\" rel=\"nofollow\">java.sun.com</a> (there's more information on the site) :</p>\n\n<blockquote>\n  <p>The main method is static to give the Java VM interpreter a way to start the class without creating an instance of the control class first. Instances of the control class are created in the main method after the program starts.</p>\n</blockquote>\n\n<p>My understanding has always been simply that the main method, like any static method, can be called without creating an instance of the associated class, allowing it to run before anything else in the program.  If it weren't static, you would have to instantiate an object before calling it-- which creates a 'chicken and egg' problem, since the main method is generally what you use to instantiate objects at the beginning of the program.</p>\n"},{"tags":[],"owner":{"account_id":1161303,"reputation":19991,"user_id":1140748,"accept_rate":93,"display_name":"alain.janinm"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1342258656,"creation_date":1342192547,"answer_id":11473329,"question_id":146576,"body_markdown":"The protoype `public static void main(String[])` is a convention defined in the [JLS][1] :\r\n\r\n&gt;The method main must be declared public, static, and void. It must specify a formal parameter (&#167;8.4.1) whose declared type is array of String. \r\n\r\nIn the JVM specification [5.2. Virtual Machine Start-up ][2] we can read:\r\n\r\n&gt;The Java virtual machine starts up by creating an initial class, which is specified in an implementation-dependent manner, using the bootstrap class loader (&#167;5.3.1). The Java virtual machine then links the initial class, initializes it, and invokes **the public class method void main(String[])**. The invocation of this method drives all further execution. Execution of the Java virtual machine instructions constituting the main method may cause linking (and consequently creation) of additional classes and interfaces, as well as invocation of additional methods.\r\n\r\nFunny thing, in the JVM specification it&#39;s not mention that the main method has to be static.\r\nBut the spec also says that the Java virtual machine perform 2 steps before :\r\n\r\n- links the initial class ([5.4. Linking][3])\r\n- initializes it ([5.5. Initialization][4])\r\n\r\n&gt;Initialization of a class or interface consists of executing its class or interface initialization method.\r\n\r\nIn [2.9. Special Methods][5] :\r\n\r\nA **class or interface initialization method** is defined :\r\n\r\n&gt;A class or interface has at most one class or interface initialization method and is initialized (&#167;5.5) by invoking that method. The initialization method of a class or interface has the special name `&lt;clinit&gt;`, takes no arguments, and is void.\r\n\r\nAnd a **class or interface initialization method** is different from an **instance initialization method** defined as follow :\r\n\r\n&gt;At the level of the Java virtual machine, every constructor written in the Java programming language (JLS &#167;8.8) appears as an instance initialization method that has the special name `&lt;init&gt;`. \r\n\r\nSo the JVM initialize a **class or interface initialization method** and not an **instance initialization method** that is actually a constructor.\r\nSo they don&#39;t need to mention that the main method has to be static in the JVM spec because it&#39;s implied by the fact that no instance are created before calling the main method.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.1.4\r\n  [2]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.2\r\n  [3]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.4\r\n  [4]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\r\n  [5]: http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.9","title":"Why is the Java main method static?","body":"<p>The protoype <code>public static void main(String[])</code> is a convention defined in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.1.4\" rel=\"nofollow\">JLS</a> :</p>\n\n<blockquote>\n  <p>The method main must be declared public, static, and void. It must specify a formal parameter (§8.4.1) whose declared type is array of String. </p>\n</blockquote>\n\n<p>In the JVM specification <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.2\" rel=\"nofollow\">5.2. Virtual Machine Start-up </a> we can read:</p>\n\n<blockquote>\n  <p>The Java virtual machine starts up by creating an initial class, which is specified in an implementation-dependent manner, using the bootstrap class loader (§5.3.1). The Java virtual machine then links the initial class, initializes it, and invokes <strong>the public class method void main(String[])</strong>. The invocation of this method drives all further execution. Execution of the Java virtual machine instructions constituting the main method may cause linking (and consequently creation) of additional classes and interfaces, as well as invocation of additional methods.</p>\n</blockquote>\n\n<p>Funny thing, in the JVM specification it's not mention that the main method has to be static.\nBut the spec also says that the Java virtual machine perform 2 steps before :</p>\n\n<ul>\n<li>links the initial class (<a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.4\" rel=\"nofollow\">5.4. Linking</a>)</li>\n<li>initializes it (<a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html#jvms-5.5\" rel=\"nofollow\">5.5. Initialization</a>)</li>\n</ul>\n\n<blockquote>\n  <p>Initialization of a class or interface consists of executing its class or interface initialization method.</p>\n</blockquote>\n\n<p>In <a href=\"http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.9\" rel=\"nofollow\">2.9. Special Methods</a> :</p>\n\n<p>A <strong>class or interface initialization method</strong> is defined :</p>\n\n<blockquote>\n  <p>A class or interface has at most one class or interface initialization method and is initialized (§5.5) by invoking that method. The initialization method of a class or interface has the special name <code>&lt;clinit&gt;</code>, takes no arguments, and is void.</p>\n</blockquote>\n\n<p>And a <strong>class or interface initialization method</strong> is different from an <strong>instance initialization method</strong> defined as follow :</p>\n\n<blockquote>\n  <p>At the level of the Java virtual machine, every constructor written in the Java programming language (JLS §8.8) appears as an instance initialization method that has the special name <code>&lt;init&gt;</code>. </p>\n</blockquote>\n\n<p>So the JVM initialize a <strong>class or interface initialization method</strong> and not an <strong>instance initialization method</strong> that is actually a constructor.\nSo they don't need to mention that the main method has to be static in the JVM spec because it's implied by the fact that no instance are created before calling the main method.</p>\n"},{"comments":[{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1342355037,"post_id":11491829,"comment_id":15178887,"body_markdown":"Actually, the requirements are more complex: there must be a `main` method which is `public`, `static`, and has the signature `void main(String[])`. I agree that, if the method were an instance method, the JRE would have *slightly* more work but the *kind* of work would be the same, and the complexity not significantly higher (see discussions in comments of previous answer). I do not believe that this difference accounts for the decision to make the entry point static, in particular since the required methods for the resolution of an instance method exist, and are readily usable.","body":"Actually, the requirements are more complex: there must be a <code>main</code> method which is <code>public</code>, <code>static</code>, and has the signature <code>void main(String[])</code>. I agree that, if the method were an instance method, the JRE would have <i>slightly</i> more work but the <i>kind</i> of work would be the same, and the complexity not significantly higher (see discussions in comments of previous answer). I do not believe that this difference accounts for the decision to make the entry point static, in particular since the required methods for the resolution of an instance method exist, and are readily usable."},{"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"score":3,"creation_date":1342355293,"post_id":11491829,"comment_id":15178946,"body_markdown":"@KonradRudolph: My point is not about the work the JRE would have to do. My point is about forcing _every user_ of the language to follow more contracts as necessary. In this sense a `static public main(String[])` method is _one_ signature and hence _one_ contract. Otherwise three _independent_ contracts must be followed.","body":"@KonradRudolph: My point is not about the work the JRE would have to do. My point is about forcing <i>every user</i> of the language to follow more contracts as necessary. In this sense a <code>static public main(String[])</code> method is <i>one</i> signature and hence <i>one</i> contract. Otherwise three <i>independent</i> contracts must be followed."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":1,"creation_date":1342355858,"post_id":11491829,"comment_id":15179066,"body_markdown":"Ah. I still disagree that this makes any difference though. Entry point classes could well implement `Runnable`. Clearly, Java expects developers to follow that contract all the time, why should it be too much for the application entry point? That makes no sense.","body":"Ah. I still disagree that this makes any difference though. Entry point classes could well implement <code>Runnable</code>. Clearly, Java expects developers to follow that contract all the time, why should it be too much for the application entry point? That makes no sense."},{"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"score":0,"creation_date":1342356022,"post_id":11491829,"comment_id":15179094,"body_markdown":"@KonradRudolph: Because the instance of `Runnable` is created by the user and not by the system. Hence contract #1 and #3 are not required for `Runnable`.","body":"@KonradRudolph: Because the instance of <code>Runnable</code> is created by the user and not by the system. Hence contract #1 and #3 are not required for <code>Runnable</code>."},{"owner":{"account_id":1425717,"reputation":6278,"user_id":1349295,"accept_rate":83,"display_name":"Czar Pino"},"score":0,"creation_date":1342356041,"post_id":11491829,"comment_id":15179097,"body_markdown":"@KonradRudolph Even if the magnitude of the complexity is not significant, an instance method is more complex. In that case, complexity is a reasonable justification for choosing `static`.","body":"@KonradRudolph Even if the magnitude of the complexity is not significant, an instance method is more complex. In that case, complexity is a reasonable justification for choosing <code>static</code>."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1342358151,"post_id":11491829,"comment_id":15179562,"body_markdown":"@A.H. Now you are contradicting yourself, I thought you objected to the fact that *user*, not the system has to work against fixed contracts. Be that as it may, the requirements in both cases are the same, for the system as for the user: the user has to abide by the contracts, the system has to enforce them.","body":"@A.H. Now you are contradicting yourself, I thought you objected to the fact that <i>user</i>, not the system has to work against fixed contracts. Be that as it may, the requirements in both cases are the same, for the system as for the user: the user has to abide by the contracts, the system has to enforce them."},{"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"score":3,"creation_date":1342358484,"post_id":11491829,"comment_id":15179630,"body_markdown":"@KonradRudolph: There is no contradiction: In one case the system would force three contracts upon the user. Contracts which are dubious, which are not checkable via the compiler and which are, from the user&#39;s point of view, independent. In the usual `Thread` and  `Runnable` case nothing is hidden from the user, he can clearly see what&#39;s going on and he has the change to implement _only_ those contracts which suit him - he is in control, not the system.","body":"@KonradRudolph: There is no contradiction: In one case the system would force three contracts upon the user. Contracts which are dubious, which are not checkable via the compiler and which are, from the user&#39;s point of view, independent. In the usual <code>Thread</code> and  <code>Runnable</code> case nothing is hidden from the user, he can clearly see what&#39;s going on and he has the change to implement <i>only</i> those contracts which suit him - he is in control, not the system."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1342358658,"post_id":11491829,"comment_id":15179652,"body_markdown":"@A.H. Now I see what you’re saying. I need to think about whether this convinces me.","body":"@A.H. Now I see what you’re saying. I need to think about whether this convinces me."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1414732772,"post_id":11491829,"comment_id":41937205,"body_markdown":"This is the best answer here.  It&#39;s a shame that many users will only read the top 2 or 3 answers on the page; and this one is unlikely to get there any time soon.  It mentions the important point of a constructor being ONLY for initialisation - and therefore it makes no sense to code in a style where the constructor runs the entire application.","body":"This is the best answer here.  It&#39;s a shame that many users will only read the top 2 or 3 answers on the page; and this one is unlikely to get there any time soon.  It mentions the important point of a constructor being ONLY for initialisation - and therefore it makes no sense to code in a style where the constructor runs the entire application."}],"tags":[],"owner":{"account_id":911998,"reputation":64395,"user_id":947357,"accept_rate":75,"display_name":"A.H."},"comment_count":9,"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1532616570,"creation_date":1342354802,"answer_id":11491829,"question_id":146576,"body_markdown":"Let&#39;s simply pretend, that `static` would not be required as the application entry point.\r\n\r\nAn application class would then look like this:\r\n\r\n\r\n    class MyApplication {\r\n        public MyApplication(){\r\n            // Some init code here\r\n        }\r\n        public void main(String[] args){\r\n            // real application code here\r\n        }\r\n    }\r\n\r\nThe distinction between constructor code and `main` method is necessary because in OO speak a constructor shall only make sure, that an instance is _initialized_ properly. After initialization, the instance can be used for the intended &quot;service&quot;. Putting the complete application code into the constructor would spoil that.\r\n\r\nSo this approach would force __three__ different contracts upon the application:\r\n\r\n- There _must_ be a default constructor. Otherwise, the JVM would not know which constructor to call and what parameters should be provided. \r\n- There _must_ be a `main` method&lt;sup&gt;1&lt;/sup&gt;. Ok, this is not surprising.\r\n- The class _must not_ be `abstract`. Otherwise, the JVM could not instantiate it.\r\n\r\n\r\nThe `static` approach on the other hand only requires __one__ contract: \r\n\r\n- There must be a `main` method&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nHere neither `abstract` nor multiple constructors matters.\r\n\r\nSince Java was designed to be a simple language _for the user_ it is not surprising that also the application entry point has been designed in a simple way using __one__ contract and not in a complex way using __three__ independent and brittle contracts.\r\n\r\nPlease note: This argument is __not__ about simplicity inside the JVM or inside the JRE. This argument is about simplicity for the __user__. \r\n\r\n&lt;hr&gt;\r\n&lt;sup&gt;1&lt;/sup&gt;Here the complete signature counts as only one contract.","title":"Why is the Java main method static?","body":"<p>Let's simply pretend, that <code>static</code> would not be required as the application entry point.</p>\n\n<p>An application class would then look like this:</p>\n\n<pre><code>class MyApplication {\n    public MyApplication(){\n        // Some init code here\n    }\n    public void main(String[] args){\n        // real application code here\n    }\n}\n</code></pre>\n\n<p>The distinction between constructor code and <code>main</code> method is necessary because in OO speak a constructor shall only make sure, that an instance is <em>initialized</em> properly. After initialization, the instance can be used for the intended \"service\". Putting the complete application code into the constructor would spoil that.</p>\n\n<p>So this approach would force <strong>three</strong> different contracts upon the application:</p>\n\n<ul>\n<li>There <em>must</em> be a default constructor. Otherwise, the JVM would not know which constructor to call and what parameters should be provided. </li>\n<li>There <em>must</em> be a <code>main</code> method<sup>1</sup>. Ok, this is not surprising.</li>\n<li>The class <em>must not</em> be <code>abstract</code>. Otherwise, the JVM could not instantiate it.</li>\n</ul>\n\n<p>The <code>static</code> approach on the other hand only requires <strong>one</strong> contract: </p>\n\n<ul>\n<li>There must be a <code>main</code> method<sup>1</sup>.</li>\n</ul>\n\n<p>Here neither <code>abstract</code> nor multiple constructors matters.</p>\n\n<p>Since Java was designed to be a simple language <em>for the user</em> it is not surprising that also the application entry point has been designed in a simple way using <strong>one</strong> contract and not in a complex way using <strong>three</strong> independent and brittle contracts.</p>\n\n<p>Please note: This argument is <strong>not</strong> about simplicity inside the JVM or inside the JRE. This argument is about simplicity for the <strong>user</strong>. </p>\n\n<p><hr>\n<sup>1</sup>Here the complete signature counts as only one contract.</p>\n"},{"tags":[],"owner":{"account_id":446514,"reputation":6212,"user_id":839601,"display_name":"gnat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1343195925,"creation_date":1343195925,"answer_id":11643561,"question_id":146576,"body_markdown":"Recently, similar question has been posted at Programmers.SE\r\n\r\n* [Why a static main method in Java and C#, rather than a constructor?](https://softwareengineering.stackexchange.com/q/156336/31260)\r\n&gt; Looking for a definitive answer from a primary or secondary source for why did (notably) Java and C# decide to have a static method as their entry point – rather than representing an application instance by an instance of an `Application` class, with the entry point being an appropriate constructor?\r\n \r\n[TL;DR](http://en.wiktionary.org/wiki/TL;DR &quot;what&#39;s this?&quot;) part of the accepted answer is,\r\n\r\n&gt; In Java, the reason of `public static void main(String[] args)` is that\r\n&gt; \r\n&gt; 1. [Gosling](http://en.wikipedia.org/wiki/James_Gosling &quot;who&#39;s that?&quot;) wanted\r\n&gt; 1. the code written by someone experienced in C (not in Java)\r\n&gt; 1. to be executed by someone used to running [PostScript](http://en.wikipedia.org/wiki/PostScript &quot;scripts&quot;) on [NeWS](http://en.wikipedia.org/wiki/NeWS &quot;Networked Extensible Window System&quot;)\r\n&gt; \r\n&gt; &gt; [![https://i.stack.imgur.com/qcmzP.png][1]][2]\r\n&gt; \r\n&gt; &amp;nbsp;  \r\n&gt; For C#, the reasoning is _transitively similar_ so to speak. Language designers kept the [program entry point][3] syntax familiar for programmers coming from Java. As C# architect [Anders Hejlsberg puts it](http://windowsdevcenter.com/pub/a/oreilly/windows/news/hejlsberg_0800.html &quot;An interview by O&#39;Reilly editor John Osborn&quot;),\r\n&gt; &gt; ...our approach with C# has simply been to offer an alternative... to Java programmers...\r\n&gt; \r\n&gt; ...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qcmzP.png\r\n  [2]: http://www.infoq.com/presentations/gosling-jvm-lang-summit-keynote &quot;key note&quot;\r\n  [3]: http://en.wikipedia.org/wiki/Main_function_(programming) &quot;what&#39;s in the &#39;main&#39;?&quot;","title":"Why is the Java main method static?","body":"<p>Recently, similar question has been posted at Programmers.SE</p>\n\n<ul>\n<li><a href=\"https://softwareengineering.stackexchange.com/q/156336/31260\">Why a static main method in Java and C#, rather than a constructor?</a>\n\n<blockquote>\n  <p>Looking for a definitive answer from a primary or secondary source for why did (notably) Java and C# decide to have a static method as their entry point – rather than representing an application instance by an instance of an <code>Application</code> class, with the entry point being an appropriate constructor?</p>\n</blockquote></li>\n</ul>\n\n<p><a href=\"http://en.wiktionary.org/wiki/TL;DR\" rel=\"nofollow noreferrer\" title=\"what&#39;s this?\">TL;DR</a> part of the accepted answer is,</p>\n\n<blockquote>\n  <p>In Java, the reason of <code>public static void main(String[] args)</code> is that</p>\n  \n  <ol>\n  <li><a href=\"http://en.wikipedia.org/wiki/James_Gosling\" rel=\"nofollow noreferrer\" title=\"who&#39;s that?\">Gosling</a> wanted</li>\n  <li>the code written by someone experienced in C (not in Java)</li>\n  <li>to be executed by someone used to running <a href=\"http://en.wikipedia.org/wiki/PostScript\" rel=\"nofollow noreferrer\" title=\"scripts\">PostScript</a> on <a href=\"http://en.wikipedia.org/wiki/NeWS\" rel=\"nofollow noreferrer\" title=\"Networked Extensible Window System\">NeWS</a></li>\n  </ol>\n  \n  <blockquote>\n    <p><a href=\"http://www.infoq.com/presentations/gosling-jvm-lang-summit-keynote\" rel=\"nofollow noreferrer\" title=\"key note\"><img src=\"https://i.stack.imgur.com/qcmzP.png\" alt=\"https://i.stack.imgur.com/qcmzP.png\"></a></p>\n  </blockquote>\n  \n  <p>&nbsp;<br>\n  For C#, the reasoning is <em>transitively similar</em> so to speak. Language designers kept the <a href=\"http://en.wikipedia.org/wiki/Main_function_(programming)\" rel=\"nofollow noreferrer\" title=\"what&#39;s in the &#39;main&#39;?\">program entry point</a> syntax familiar for programmers coming from Java. As C# architect <a href=\"http://windowsdevcenter.com/pub/a/oreilly/windows/news/hejlsberg_0800.html\" rel=\"nofollow noreferrer\" title=\"An interview by O&#39;Reilly editor John Osborn\">Anders Hejlsberg puts it</a>,</p>\n  \n  <blockquote>\n    <p>...our approach with C# has simply been to offer an alternative... to Java programmers...</p>\n  </blockquote>\n  \n  <p>...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3016115,"reputation":3733,"user_id":2558244,"display_name":"Isabella Engineer"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1461465240,"creation_date":1373242265,"answer_id":17517621,"question_id":146576,"body_markdown":"What is the meaning of `public static void main(String args[])`?\r\n\r\n1. `public` is an access specifier meaning anyone can access/invoke it such as JVM(Java Virtual Machine.\r\n2. `static` allows `main()` to be called before an object of the class has been created. This is neccesary because `main()` is called by the JVM before any objects are made. Since it is static it can be directly invoked via the class.\r\n       \r\n        class demo { \t\r\n            private int length;\r\n            private static int breadth;\r\n            void output(){\r\n                length=5;\r\n                System.out.println(length);\r\n            }\r\n    \r\n            static void staticOutput(){\r\n                breadth=10;\t\r\n                System.out.println(breadth);\r\n            }\r\n    \r\n            public static  void main(String args[]){\r\n                demo d1=new demo();\r\n                d1.output(); // Note here output() function is not static so here\r\n                // we need to create object\r\n                staticOutput(); // Note here staticOutput() function is  static so here\r\n                // we needn&#39;t to create object Similar is the case with main\r\n                /* Although:\r\n                demo.staticOutput();  Works fine\r\n                d1.staticOutput();  Works fine */\r\n            }\r\n        }\r\n\r\n    Similarly, we use static sometime for user defined methods so that we need not to make objects.\r\n\r\n3. `void` indicates that the `main()` method being declared \r\ndoes not return a value.\r\n4. `String[] args` specifies the only parameter in the `main()` method.\r\n\r\n    `args` - a parameter which contains an array of objects of class type `String`.\r\n\r\n","title":"Why is the Java main method static?","body":"<p>What is the meaning of <code>public static void main(String args[])</code>?</p>\n\n<ol>\n<li><code>public</code> is an access specifier meaning anyone can access/invoke it such as JVM(Java Virtual Machine.</li>\n<li><p><code>static</code> allows <code>main()</code> to be called before an object of the class has been created. This is neccesary because <code>main()</code> is called by the JVM before any objects are made. Since it is static it can be directly invoked via the class.</p>\n\n<pre><code>class demo {    \n    private int length;\n    private static int breadth;\n    void output(){\n        length=5;\n        System.out.println(length);\n    }\n\n    static void staticOutput(){\n        breadth=10; \n        System.out.println(breadth);\n    }\n\n    public static  void main(String args[]){\n        demo d1=new demo();\n        d1.output(); // Note here output() function is not static so here\n        // we need to create object\n        staticOutput(); // Note here staticOutput() function is  static so here\n        // we needn't to create object Similar is the case with main\n        /* Although:\n        demo.staticOutput();  Works fine\n        d1.staticOutput();  Works fine */\n    }\n}\n</code></pre>\n\n<p>Similarly, we use static sometime for user defined methods so that we need not to make objects.</p></li>\n<li><p><code>void</code> indicates that the <code>main()</code> method being declared \ndoes not return a value.</p></li>\n<li><p><code>String[] args</code> specifies the only parameter in the <code>main()</code> method.</p>\n\n<p><code>args</code> - a parameter which contains an array of objects of class type <code>String</code>.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1461465648,"post_id":28099497,"comment_id":61209747,"body_markdown":"It happens when the program is executed, not compiled.","body":"It happens when the program is executed, not compiled."}],"tags":[],"owner":{"account_id":4246694,"reputation":153,"user_id":3475143,"accept_rate":25,"display_name":"Sourav Saha"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1461465629,"creation_date":1421964121,"answer_id":28099497,"question_id":146576,"body_markdown":"Any method declared as static in Java belongs to the class itself .\r\nAgain  static method of a particular class can be accessed only by referring to the class like `Class_name.method_name();`\r\n\r\n\r\nSo a class need not to be instantiated before accessing a static method.\r\n\r\nSo the main() method is declared as `static` so that it can be accessed without creating an object of that class.\r\n\r\nSince we save the program with the name of the class where the main method is present( or from where the program should begin its execution, applicable for classes without a `main()` method()(Advanced Level)). So by the above mentioned way:\r\n\r\n    Class_name.method_name();\r\n\r\nthe main method can be accessed.\r\n\r\nIn brief when the program is compiled it searches for the `main()` method having `String` arguments like: `main(String args[])` in the class mentioned(i.e. by the name of the program), and since at the the beginning it has no scope to instantiate that class, so the main() method is declared as static.","title":"Why is the Java main method static?","body":"<p>Any method declared as static in Java belongs to the class itself .\nAgain  static method of a particular class can be accessed only by referring to the class like <code>Class_name.method_name();</code></p>\n\n<p>So a class need not to be instantiated before accessing a static method.</p>\n\n<p>So the main() method is declared as <code>static</code> so that it can be accessed without creating an object of that class.</p>\n\n<p>Since we save the program with the name of the class where the main method is present( or from where the program should begin its execution, applicable for classes without a <code>main()</code> method()(Advanced Level)). So by the above mentioned way:</p>\n\n<pre><code>Class_name.method_name();\n</code></pre>\n\n<p>the main method can be accessed.</p>\n\n<p>In brief when the program is compiled it searches for the <code>main()</code> method having <code>String</code> arguments like: <code>main(String args[])</code> in the class mentioned(i.e. by the name of the program), and since at the the beginning it has no scope to instantiate that class, so the main() method is declared as static.</p>\n"},{"tags":[],"owner":{"account_id":6138244,"reputation":676,"user_id":4786435,"display_name":"Lordferrous "},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1502338640,"creation_date":1431178287,"answer_id":30140527,"question_id":146576,"body_markdown":"Let me explain these things in a much simpler way:\r\n\r\n    public static void main(String args[])\r\n\r\nAll Java applications, except applets, start their execution from `main()`.\r\n\r\nThe keyword `public` is an access modifier which allows the member to be called from outside the class.\r\n\r\n`static` is used because it allows `main()` to be called without having to instantiate a particular instance of that class.\r\n\r\n`void` indicates that `main()` does not return any value.\r\n","title":"Why is the Java main method static?","body":"<p>Let me explain these things in a much simpler way:</p>\n\n<pre><code>public static void main(String args[])\n</code></pre>\n\n<p>All Java applications, except applets, start their execution from <code>main()</code>.</p>\n\n<p>The keyword <code>public</code> is an access modifier which allows the member to be called from outside the class.</p>\n\n<p><code>static</code> is used because it allows <code>main()</code> to be called without having to instantiate a particular instance of that class.</p>\n\n<p><code>void</code> indicates that <code>main()</code> does not return any value.</p>\n"},{"tags":[],"owner":{"account_id":4959948,"reputation":968,"user_id":3991447,"display_name":"Vamsi Sangam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532616665,"creation_date":1433359011,"answer_id":30628730,"question_id":146576,"body_markdown":"I don&#39;t know if the JVM calls the main method before the objects are instantiated... But there is a far more powerful reason why the main() method is static... When JVM calls the main method of the class (say, Person). it invokes it by &quot;**Person.main()**&quot;. You see, the JVM invokes it by the class name. That is why the main() method is supposed to be static and public so that it can be accessed by the JVM.\r\n\r\nHope it helped. If it did, let me know by commenting.","title":"Why is the Java main method static?","body":"<p>I don't know if the JVM calls the main method before the objects are instantiated... But there is a far more powerful reason why the main() method is static... When JVM calls the main method of the class (say, Person). it invokes it by \"<strong>Person.main()</strong>\". You see, the JVM invokes it by the class name. That is why the main() method is supposed to be static and public so that it can be accessed by the JVM.</p>\n\n<p>Hope it helped. If it did, let me know by commenting.</p>\n"},{"tags":[],"owner":{"account_id":6147792,"reputation":157,"user_id":4793214,"display_name":"Varun Vashista"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436526390,"creation_date":1436526390,"answer_id":31339228,"question_id":146576,"body_markdown":"Basically we make those DATA MEMBERS and MEMBER FUNCTIONS as STATIC which are not performing any task related to an object. And in case of main method, we are making it as an STATIC because it is nothing to do with object, as the main method always run whether we are creating an object or not.","title":"Why is the Java main method static?","body":"<p>Basically we make those DATA MEMBERS and MEMBER FUNCTIONS as STATIC which are not performing any task related to an object. And in case of main method, we are making it as an STATIC because it is nothing to do with object, as the main method always run whether we are creating an object or not.</p>\n"},{"tags":[],"owner":{"account_id":5357575,"reputation":54,"user_id":5255840,"display_name":"Jatin Kathuria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461896280,"creation_date":1461896280,"answer_id":36928469,"question_id":146576,"body_markdown":"there is the simple reason behind it that is because object is not required to call static method , if It were non-static method, java virtual machine creates object first then call main() method that will lead to the problem of extra memory allocation.","title":"Why is the Java main method static?","body":"<p>there is the simple reason behind it that is because object is not required to call static method , if It were non-static method, java virtual machine creates object first then call main() method that will lead to the problem of extra memory allocation.</p>\n"},{"tags":[],"owner":{"account_id":2910075,"reputation":11,"user_id":2494522,"display_name":"Mayank Chopra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471540328,"creation_date":1471540328,"answer_id":39023932,"question_id":146576,"body_markdown":"The **main method** of the program has the **reserved word** **static** which means it is allowed to be used in the static context. A context relates to the use of computer memory during the running of the program. When the virtual machine loads a program, it creates the static context for it, allocating **computer memory** to store the program and its data, etc.. A **dynamic context** is certain kind of allocation of memory which is made later, during the running of the program. The program would not be able to start if the main method was not allowed to run in the static context.","title":"Why is the Java main method static?","body":"<p>The <strong>main method</strong> of the program has the <strong>reserved word</strong> <strong>static</strong> which means it is allowed to be used in the static context. A context relates to the use of computer memory during the running of the program. When the virtual machine loads a program, it creates the static context for it, allocating <strong>computer memory</strong> to store the program and its data, etc.. A <strong>dynamic context</strong> is certain kind of allocation of memory which is made later, during the running of the program. The program would not be able to start if the main method was not allowed to run in the static context.</p>\n"},{"tags":[],"owner":{"account_id":7494390,"reputation":690,"user_id":5695126,"accept_rate":73,"display_name":"Kero Fawzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481191440,"creation_date":1481191440,"answer_id":41036654,"question_id":146576,"body_markdown":"static - When the JVM makes a call to the main method there is no object that exists for the class being called therefore it has to have static method to allow invocation from class.","title":"Why is the Java main method static?","body":"<p>static - When the JVM makes a call to the main method there is no object that exists for the class being called therefore it has to have static method to allow invocation from class.</p>\n"},{"tags":[],"owner":{"account_id":5330844,"reputation":14681,"user_id":4251431,"accept_rate":80,"display_name":"Basheer AL-MOMANI"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1487671014,"creation_date":1487671014,"answer_id":42364080,"question_id":146576,"body_markdown":"When you execute the Java Virtual Machine (JVM) with the `java` command, \r\n\r\n    java ClassName argument1 argument2 ...\r\n\r\n When you execute your application, you specify its class name as an argument to the java command, as above\r\n\r\nthe JVM attempts to invoke the main method of the class you specify \r\n\r\n&gt; —at this point, no objects of the class have been created.\r\n\r\n&gt;  Declaring `main` as static `allows` the JVM to `invoke` main `without` creating\r\n&gt; an `instance` of the class.\r\n\r\nlet&#39;s back to the command \r\n\r\n `ClassName` is a `command-line argument` to the JVM that tells it which class to execute. Following the ClassName, you can also specify a `list of Strings` (separated by spaces) as command-line arguments that the JVM will pass to your application. -Such arguments might be used to specify options (e.g., a filename) to run the application- this is why there is a parameter called `String[] args` in the main \r\n\r\nReferences:[Java™ How To Program (Early Objects), Tenth Edition][1] \r\n\r\n\r\n  [1]: https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch06lev2sec4.html","title":"Why is the Java main method static?","body":"<p>When you execute the Java Virtual Machine (JVM) with the <code>java</code> command, </p>\n\n<pre><code>java ClassName argument1 argument2 ...\n</code></pre>\n\n<p>When you execute your application, you specify its class name as an argument to the java command, as above</p>\n\n<p>the JVM attempts to invoke the main method of the class you specify </p>\n\n<blockquote>\n  <p>—at this point, no objects of the class have been created.</p>\n  \n  <p>Declaring <code>main</code> as static <code>allows</code> the JVM to <code>invoke</code> main <code>without</code> creating\n  an <code>instance</code> of the class.</p>\n</blockquote>\n\n<p>let's back to the command </p>\n\n<p><code>ClassName</code> is a <code>command-line argument</code> to the JVM that tells it which class to execute. Following the ClassName, you can also specify a <code>list of Strings</code> (separated by spaces) as command-line arguments that the JVM will pass to your application. -Such arguments might be used to specify options (e.g., a filename) to run the application- this is why there is a parameter called <code>String[] args</code> in the main </p>\n\n<p>References:<a href=\"https://www.safaribooksonline.com/library/view/javatm-how-to/9780133813036/ch06lev2sec4.html\" rel=\"noreferrer\">Java™ How To Program (Early Objects), Tenth Edition</a> </p>\n"},{"tags":[],"owner":{"account_id":14541547,"reputation":16,"user_id":10503089,"display_name":"Manish Dwivedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539534472,"creation_date":1539534472,"answer_id":52804756,"question_id":146576,"body_markdown":"main method always needs to be static because at RunTime JVM does not create any object to call main method and as we know in java static methods are the only methods which can be called using class name so main methods always needs to be static.\r\n\r\nfor more information visit this video :https://www.youtube.com/watch?v=Z7rPNwg-bfk&amp;feature=youtu.be ","title":"Why is the Java main method static?","body":"<p>main method always needs to be static because at RunTime JVM does not create any object to call main method and as we know in java static methods are the only methods which can be called using class name so main methods always needs to be static.</p>\n\n<p>for more information visit this video :<a href=\"https://www.youtube.com/watch?v=Z7rPNwg-bfk&amp;feature=youtu.be\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=Z7rPNwg-bfk&amp;feature=youtu.be</a> </p>\n"}],"owner":{"account_id":2130,"reputation":7437,"user_id":2937,"accept_rate":85,"display_name":"Alotor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":521905,"favorite_count":0,"down_vote_count":10,"up_vote_count":549,"accepted_answer_id":146662,"answer_count":37,"score":539,"last_activity_date":1696494107,"creation_date":1222631134,"question_id":146576,"body_markdown":"The method signature of a Java `main`method is:\r\n\r\n    public static void main(String[] args) {\r\n        ...\r\n    }\r\n\r\nIs there a reason why this method must be static?\r\n","title":"Why is the Java main method static?","body":"<p>The method signature of a Java <code>main</code>method is:</p>\n<pre><code>public static void main(String[] args) {\n    ...\n}\n</code></pre>\n<p>Is there a reason why this method must be static?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1841805,"reputation":3174,"user_id":1671058,"accept_rate":71,"display_name":"gaurav jain"},"score":0,"creation_date":1696443985,"post_id":77231995,"comment_id":136155112,"body_markdown":"Check this: https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed","body":"Check this: <a href=\"https://stackoverflow.com/questions/6056564/installation-error-install-parse-failed-manifest-malformed\" title=\"installation error install parse failed manifest malformed\">stackoverflow.com/questions/6056564/&hellip;</a>"},{"owner":{"account_id":16171161,"reputation":3532,"user_id":11762907,"display_name":"Shivo&#39;ham"},"score":0,"creation_date":1696487716,"post_id":77231995,"comment_id":136159669,"body_markdown":"check this https://stackoverflow.com/a/14014855/11762907","body":"check this <a href=\"https://stackoverflow.com/a/14014855/11762907\">stackoverflow.com/a/14014855/11762907</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696495161,"post_id":77231995,"comment_id":136161020,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696839957,"post_id":77234665,"comment_id":136199442,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77234665/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29364323,"reputation":15,"user_id":22498371,"display_name":"Re Za"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696493440,"creation_date":1696487169,"answer_id":77234665,"question_id":77231995,"body_markdown":"If your package name has a uppercase letter:\r\n\r\n 1. Change all your package names to lowercase\r\n 2. Update the&#160;meta-data&#160;attribute in manifest to have a valid value.","title":"10/05 01:55:54: Launching &#39;app&#39; on Pixel 3a API 34. The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED","body":"<p>If your package name has a uppercase letter:</p>\n<ol>\n<li>Change all your package names to lowercase</li>\n<li>Update the meta-data attribute in manifest to have a valid value.</li>\n</ol>\n"}],"owner":{"account_id":26997170,"reputation":1,"user_id":20559081,"display_name":"Klaive"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696493440,"creation_date":1696442627,"question_id":77231995,"body_markdown":"Installation failed due to: &#39;Failed to commit install session 1173230427 with command package install-commit 1173230427. Error: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI: /data/app/vmdl1173230427.tmp/base.apk (at Binary XML file line #73): &lt;meta-data&gt; requires an android:value or android:resource attribute&#39;\r\n\r\nI already added android:exported=&quot;true&quot; in my manifest file, but I am still getting this error. I&#39;m using Java btw. Please help.","title":"10/05 01:55:54: Launching &#39;app&#39; on Pixel 3a API 34. The application could not be installed: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED","body":"<p>Installation failed due to: 'Failed to commit install session 1173230427 with command package install-commit 1173230427. Error: INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI: /data/app/vmdl1173230427.tmp/base.apk (at Binary XML file line #73):  requires an android:value or android:resource attribute'</p>\n<p>I already added android:exported=&quot;true&quot; in my manifest file, but I am still getting this error. I'm using Java btw. Please help.</p>\n"},{"tags":["javascript","java","highcharts","gwt","gwt-jsinterop"],"comments":[{"owner":{"account_id":21370194,"reputation":11,"user_id":22687364,"display_name":"Sam"},"score":0,"creation_date":1696492467,"post_id":77234793,"comment_id":136160511,"body_markdown":"It seems that using `&lt;script src=&quot;https://code.highcharts.com/maps/modules/map.js&quot;&gt;&lt;/script&gt;` instead of `&lt;script src=&quot;https://code.highcharts.com/maps/highmaps.js&quot;&gt;&lt;/script&gt;` will do the job.","body":"It seems that using <code>&lt;script src=&quot;https:&#47;&#47;code.highcharts.com&#47;maps&#47;modules&#47;map.js&quot;&gt;&lt;&#47;scri&zwnj;&#8203;pt&gt;</code> instead of <code>&lt;script src=&quot;https:&#47;&#47;code.highcharts.com&#47;maps&#47;highmaps.js&quot;&gt;&lt;&#47;script&gt;</code> will do the job."}],"answers":[{"comments":[{"owner":{"account_id":12264495,"reputation":37046,"user_id":8951377,"display_name":"ppotaczek"},"score":0,"creation_date":1696581614,"post_id":77235201,"comment_id":136174336,"body_markdown":"That&#39;s correct, highstock and highmaps use the same namespace, so you need to add on of them as a plugin. Docs: https://www.highcharts.com/docs/maps/getting-started","body":"That&#39;s correct, highstock and highmaps use the same namespace, so you need to add on of them as a plugin. Docs: <a href=\"https://www.highcharts.com/docs/maps/getting-started\" rel=\"nofollow noreferrer\">highcharts.com/docs/maps/getting-started</a>"}],"tags":[],"owner":{"account_id":21370194,"reputation":11,"user_id":22687364,"display_name":"Sam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696492525,"creation_date":1696492525,"answer_id":77235201,"question_id":77234793,"body_markdown":"It seems that using \r\n\r\n    &lt;script src=&quot;https://code.highcharts.com/maps/modules/map.js&quot;&gt;&lt;/script&gt;\r\n\r\n instead of \r\n\r\n    &lt;script src=&quot;https://code.highcharts.com/maps/highmaps.js&quot;&gt;&lt;/script&gt;\r\n\r\n will do the job.","title":"The highcmaps library does not work if I have imported the highcstock library before it","body":"<p>It seems that using</p>\n<pre><code>&lt;script src=&quot;https://code.highcharts.com/maps/modules/map.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>instead of</p>\n<pre><code>&lt;script src=&quot;https://code.highcharts.com/maps/highmaps.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>will do the job.</p>\n"}],"owner":{"account_id":21370194,"reputation":11,"user_id":22687364,"display_name":"Sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696492525,"creation_date":1696488682,"question_id":77234793,"body_markdown":"\r\nI&#39;m working on a Java project where I&#39;m using Highcharts v10.3.2 as my charting library, and I&#39;m using the latest GWT as my client framework. To interact with Highcharts from Java, I&#39;ve created a Java wrapper using jsinterop.\r\n\r\nHowever, I&#39;ve run into a puzzling issue – it seems I can&#39;t use both Highmaps and Highstock in the same project simultaneously.\r\n\r\nHere&#39;s the problem:\r\n\r\nIf I import Highmaps before Highstock, Highmaps works perfectly as expected, but when I try to utilize Highstock, I encounter an error: \r\n\r\n    $wnd.Highcharts.stockChart is not a function.\r\n\r\nConversely, if I change the order and import Highstock before Highmaps, Highstock works like a charm, but now Highmaps throws an error: \r\n\r\n    $wnd.Highcharts.mapChart is not a function.\r\n\r\nThis is how I&#39;m importing the libraries in my project:\r\n\r\n```\r\n&lt;%--Highcharts v10.3.2--%&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-maps.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-stock.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-more.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\r\n```\r\n\r\nI&#39;ve also attempted to reproduce this issue in a CodePen, and it indeed seems to be replicable there as well: [CodePen Example](https://codepen.io/Palacean-Samuel/pen/qBLJgOX)\r\n\r\nHas anyone encountered a similar problem before, or does anyone have insights into why Highstock and Highmaps might not play nicely together when imported in this manner?\r\n\r\n","title":"The highcmaps library does not work if I have imported the highcstock library before it","body":"<p>I'm working on a Java project where I'm using Highcharts v10.3.2 as my charting library, and I'm using the latest GWT as my client framework. To interact with Highcharts from Java, I've created a Java wrapper using jsinterop.</p>\n<p>However, I've run into a puzzling issue – it seems I can't use both Highmaps and Highstock in the same project simultaneously.</p>\n<p>Here's the problem:</p>\n<p>If I import Highmaps before Highstock, Highmaps works perfectly as expected, but when I try to utilize Highstock, I encounter an error:</p>\n<pre><code>$wnd.Highcharts.stockChart is not a function.\n</code></pre>\n<p>Conversely, if I change the order and import Highstock before Highmaps, Highstock works like a charm, but now Highmaps throws an error:</p>\n<pre><code>$wnd.Highcharts.mapChart is not a function.\n</code></pre>\n<p>This is how I'm importing the libraries in my project:</p>\n<pre><code>&lt;%--Highcharts v10.3.2--%&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-maps.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-stock.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;assets/js/highcharts-more.min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;\n</code></pre>\n<p>I've also attempted to reproduce this issue in a CodePen, and it indeed seems to be replicable there as well: <a href=\"https://codepen.io/Palacean-Samuel/pen/qBLJgOX\" rel=\"nofollow noreferrer\">CodePen Example</a></p>\n<p>Has anyone encountered a similar problem before, or does anyone have insights into why Highstock and Highmaps might not play nicely together when imported in this manner?</p>\n"},{"tags":["java","spring-boot","junit","mocking","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1696491990,"post_id":77235123,"comment_id":136160422,"body_markdown":"Use `@MockBean` instead of `@Mock`, remove the `@BeforeEach` method then.","body":"Use <code>@MockBean</code> instead of <code>@Mock</code>, remove the <code>@BeforeEach</code> method then."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696494029,"post_id":77235123,"comment_id":136160792,"body_markdown":"Also your first test doesn&#39;t have any mocked behavior, so it will fail .","body":"Also your first test doesn&#39;t have any mocked behavior, so it will fail ."},{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1696497828,"post_id":77235123,"comment_id":136161621,"body_markdown":"But I wanted to return the Tokens from the database, that is the reason why I haven&#39;t added any When condition in the first test case. Am I doing this right? like retrieving data from the database, I am new to this unit testing, so any help would be appreciated. Thank you","body":"But I wanted to return the Tokens from the database, that is the reason why I haven&#39;t added any When condition in the first test case. Am I doing this right? like retrieving data from the database, I am new to this unit testing, so any help would be appreciated. Thank you"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696498007,"post_id":77235123,"comment_id":136161662,"body_markdown":"You are using a mock not  a real database.","body":"You are using a mock not  a real database."}],"answers":[{"comments":[{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1696497338,"post_id":77235187,"comment_id":136161517,"body_markdown":"But I wanted to return the Tokens from the database, that is the reason why I haven&#39;t added any When condition in the first test case. Am I doing this right? like retrieving data from the database, I am new to this unit testing, so any help would be appreciated. Thank you","body":"But I wanted to return the Tokens from the database, that is the reason why I haven&#39;t added any When condition in the first test case. Am I doing this right? like retrieving data from the database, I am new to this unit testing, so any help would be appreciated. Thank you"},{"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"score":0,"creation_date":1696501296,"post_id":77235187,"comment_id":136162332,"body_markdown":"When unit testing you should just test the behavior&#39;s of a single class and fake (mock) the rest.","body":"When unit testing you should just test the behavior&#39;s of a single class and fake (mock) the rest."},{"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"score":0,"creation_date":1696503486,"post_id":77235187,"comment_id":136162705,"body_markdown":"Ahh , got it , thanks Joan","body":"Ahh , got it , thanks Joan"}],"tags":[],"owner":{"account_id":26746848,"reputation":226,"user_id":20346807,"display_name":"Joan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696492388,"creation_date":1696492388,"answer_id":77235187,"question_id":77235123,"body_markdown":"It&#39;s normal that it fails with the @InjectMocks. You don&#39;t have any &quot;when&quot; in the first test. You should add something like this:\r\n\r\n    when(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(List.of(...));\r\n\r\nYou can also remove the @BeforeEach.","title":"Mocking using @Mock annotation is not working for my junit test case","body":"<p>It's normal that it fails with the @InjectMocks. You don't have any &quot;when&quot; in the first test. You should add something like this:</p>\n<pre><code>when(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(List.of(...));\n</code></pre>\n<p>You can also remove the @BeforeEach.</p>\n"}],"owner":{"account_id":17412700,"reputation":5,"user_id":22410466,"display_name":"Faiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77235187,"answer_count":1,"score":0,"last_activity_date":1696492388,"creation_date":1696491872,"question_id":77235123,"body_markdown":"I have been Unit testing a class where when I use @Autowired the testing class one of the test methods passes and the other test methods fails, when I use @Inject mocks instead of @Autowired the failed methods work and the previously working method fails, I don&#39;t know what the issue is here.\r\n\r\n&#39;My test case&#39; : \r\n```\r\n@SpringBootTest\r\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\npublic class NotificationRepositoryTest {\r\n\r\n      //@InjectMocks\r\n\t@Autowired\r\n\tprivate NotificationRepository notificationRepository;\r\n\t\r\n\t\r\n\t@Mock\r\n\tprivate SendNotificationDao sendNotificationDao;\r\n\r\n\t@BeforeEach\r\n\tpublic void setUp() {\r\n\t\tMockitoAnnotations.openMocks(this);\r\n\t}\r\n\r\n\t@Test\r\n\t@Order(1)\r\n\tpublic void getAllTokensTest() {\r\n\t\tString platformId = &quot;push-notifications-27933&quot;;\r\n\t\tList&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\r\n\t\tassertNotNull(tokens);\r\n\t\tassertTrue(tokens.size() &gt; 0);\r\n\t}\r\n\r\n\t@Test\r\n\t@Order(2)\r\n\tpublic void tokenExistsTest() {\r\n\t\tString platformId = &quot;some String&quot;;\r\n\t\twhen(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(new ArrayList&lt;&gt;());\r\n\t\tList&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\r\n\t\tassertFalse(tokens.size() &gt; 0);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy NotificationRepository class :\r\n```\r\n@Repository\r\npublic class NotificationRepository {\r\n\r\n\t@Autowired\r\n\tprivate SendNotificationDao sendNotificationDao;\r\n\r\n\tpublic List&lt;String&gt; getAllTokens(String platformId) {\r\n\t\treturn sendNotificationDao.fetchAllTokens(platformId);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nmy SendNotificationDao class :\r\n```\r\n@Repository\r\npublic class SendNotificationDao {\r\n\r\n\t@Autowired\r\n\tprivate JdbcTemplate jdbcTemplate;\r\n\t@Autowired\r\n\tprivate NotificationIdGenerator idGenerator;\r\n\r\n\tpublic List&lt;String&gt; fetchAllTokens(String platformId) {\r\n\t\tList&lt;RegisteredTokens&gt; tokens = this.jdbcTemplate.query(Queries.getAllTokens, new PlatformTokenMapper(),platformId);\r\n\t\tList&lt;String&gt; listOfTokens = new ArrayList&lt;&gt;();\r\n\t\tfor (RegisteredTokens registeredTokens : tokens) {\r\n\t\t\tlistOfTokens.add(registeredTokens.getToken());\r\n\t\t}\r\n\t\treturn listOfTokens;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nwhen i use @autowired my Test of order(1) passes and when test of order(2) fails, vice-versa happens when i replace @autowired with @InjectMocks\r\n\r\n\r\nwhen i use @Autowired\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;false&gt; but was: &lt;true&gt;\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertFalse.failNotFalse(AssertFalse.java:63)\r\n\tat org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:36)\r\n\tat org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:31)\r\n\tat org.junit.jupiter.api.Assertions.assertFalse(Assertions.java:228)\r\n\tat com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.tokenExistsTest(NotificationRepositoryTest.java:56)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\n```\r\n\r\nwhen i use @InjectMocks :\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\r\n\tat org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\r\n\tat org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)\r\n\tat org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)\r\n\tat org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)\r\n\tat org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:180)\r\n\tat com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.getAllTokensTest(NotificationRepositoryTest.java:47)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\n```","title":"Mocking using @Mock annotation is not working for my junit test case","body":"<p>I have been Unit testing a class where when I use @Autowired the testing class one of the test methods passes and the other test methods fails, when I use @Inject mocks instead of @Autowired the failed methods work and the previously working method fails, I don't know what the issue is here.</p>\n<p>'My test case' :</p>\n<pre><code>@SpringBootTest\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class NotificationRepositoryTest {\n\n      //@InjectMocks\n    @Autowired\n    private NotificationRepository notificationRepository;\n    \n    \n    @Mock\n    private SendNotificationDao sendNotificationDao;\n\n    @BeforeEach\n    public void setUp() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    @Order(1)\n    public void getAllTokensTest() {\n        String platformId = &quot;push-notifications-27933&quot;;\n        List&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\n        assertNotNull(tokens);\n        assertTrue(tokens.size() &gt; 0);\n    }\n\n    @Test\n    @Order(2)\n    public void tokenExistsTest() {\n        String platformId = &quot;some String&quot;;\n        when(sendNotificationDao.fetchAllTokens(platformId)).thenReturn(new ArrayList&lt;&gt;());\n        List&lt;String&gt; tokens = notificationRepository.getAllTokens(platformId);\n        assertFalse(tokens.size() &gt; 0);\n\n    }\n\n}\n</code></pre>\n<p>My NotificationRepository class :</p>\n<pre><code>@Repository\npublic class NotificationRepository {\n\n    @Autowired\n    private SendNotificationDao sendNotificationDao;\n\n    public List&lt;String&gt; getAllTokens(String platformId) {\n        return sendNotificationDao.fetchAllTokens(platformId);\n    }\n}\n\n</code></pre>\n<p>my SendNotificationDao class :</p>\n<pre><code>@Repository\npublic class SendNotificationDao {\n\n    @Autowired\n    private JdbcTemplate jdbcTemplate;\n    @Autowired\n    private NotificationIdGenerator idGenerator;\n\n    public List&lt;String&gt; fetchAllTokens(String platformId) {\n        List&lt;RegisteredTokens&gt; tokens = this.jdbcTemplate.query(Queries.getAllTokens, new PlatformTokenMapper(),platformId);\n        List&lt;String&gt; listOfTokens = new ArrayList&lt;&gt;();\n        for (RegisteredTokens registeredTokens : tokens) {\n            listOfTokens.add(registeredTokens.getToken());\n        }\n        return listOfTokens;\n    }\n}\n</code></pre>\n<p>when i use @autowired my Test of order(1) passes and when test of order(2) fails, vice-versa happens when i replace @autowired with @InjectMocks</p>\n<p>when i use @Autowired</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;false&gt; but was: &lt;true&gt;\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertFalse.failNotFalse(AssertFalse.java:63)\n    at org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:36)\n    at org.junit.jupiter.api.AssertFalse.assertFalse(AssertFalse.java:31)\n    at org.junit.jupiter.api.Assertions.assertFalse(Assertions.java:228)\n    at com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.tokenExistsTest(NotificationRepositoryTest.java:56)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n<p>when i use @InjectMocks :</p>\n<pre><code>org.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;\n    at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)\n    at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)\n    at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)\n    at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)\n    at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:31)\n    at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:180)\n    at com.crystalbi.sharedAlertingPlatform.repositoryTests.NotificationRepositoryTest.getAllTokensTest(NotificationRepositoryTest.java:47)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n\n\n</code></pre>\n"},{"tags":["java","apache-camel","camel-cxf"],"owner":{"account_id":29602525,"reputation":1,"user_id":22687612,"display_name":"Matteo Baglietto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696492029,"creation_date":1696492029,"question_id":77235140,"body_markdown":"I&#39;ve implemented a dynamic CxfEndpoint that i&#39;m invoking through a FluentProducerTemplate. The service is invoked correctly, and it returns a what it appears to be a chunked response, even if without the Content-Encoding header: a first empty payload, with just the headers, and a second with the full response. Camel seems to close the transaction after the first chunk, giving back an empty body.\r\n\r\nIs there any way to force it to await the second chunk, based on the Content-Length header?\r\n\r\nHere is the FluentProducer:\r\n\r\n```\r\nInputStream inputStream = camelContext.createFluentProducerTemplate()\r\n                   .withHeader(&quot;SOAPAction&quot;, soapActionPrefix + soapActionSeparator + operationName)\r\n                   .withHeader(&quot;Content-Type&quot;, &quot;text/xml; charset=UTF-8&quot;)\r\n                   .withBody(exchange.getMessage().getBody())\r\n                   .to(&quot;cxf://bean://&quot; + ServiceEndpointUtil.getEndpointName(serviceEndpoint))\r\n                   .request(InputStream.class);\r\n```\r\n\r\nHere the &quot;chunked&quot; payloads:\r\n\r\n\r\n```\r\n----------------------------\r\nID: 50537\r\nResponse-Code: 200\r\nEncoding: UTF-8\r\nContent-Type: text/xml; charset=utf-8\r\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\r\n----------------------------\r\n\r\n----------------------------\r\nID: 50537\r\nResponse-Code: 200\r\nEncoding: UTF-8\r\nContent-Type: text/xml; charset=utf-8\r\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\r\nPayload: &lt;s:Envelope xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n  &lt;s:Header&gt;\r\n    &lt;ActivityId xmlns=&quot;http://schemas.microsoft.com/2004/09/ServiceModel/Diagnostics&quot; CorrelationId=&quot;c24eb538-4dfe-4dc1-94aa-5ab7f19cb248&quot;&gt;00000000-0000-0000-0000-000000000000&lt;/ActivityId&gt;\r\n  &lt;/s:Header&gt;\r\n  &lt;s:Body xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    \r\n          ...  ...  ...\r\n\r\n  &lt;/s:Body&gt;\r\n&lt;/s:Envelope&gt;\r\n\r\n--------------------------------------\r\n```\r\n\r\n","title":"Invoking CXF SOAP service with a chunked response gives null body","body":"<p>I've implemented a dynamic CxfEndpoint that i'm invoking through a FluentProducerTemplate. The service is invoked correctly, and it returns a what it appears to be a chunked response, even if without the Content-Encoding header: a first empty payload, with just the headers, and a second with the full response. Camel seems to close the transaction after the first chunk, giving back an empty body.</p>\n<p>Is there any way to force it to await the second chunk, based on the Content-Length header?</p>\n<p>Here is the FluentProducer:</p>\n<pre><code>InputStream inputStream = camelContext.createFluentProducerTemplate()\n                   .withHeader(&quot;SOAPAction&quot;, soapActionPrefix + soapActionSeparator + operationName)\n                   .withHeader(&quot;Content-Type&quot;, &quot;text/xml; charset=UTF-8&quot;)\n                   .withBody(exchange.getMessage().getBody())\n                   .to(&quot;cxf://bean://&quot; + ServiceEndpointUtil.getEndpointName(serviceEndpoint))\n                   .request(InputStream.class);\n</code></pre>\n<p>Here the &quot;chunked&quot; payloads:</p>\n<pre><code>----------------------------\nID: 50537\nResponse-Code: 200\nEncoding: UTF-8\nContent-Type: text/xml; charset=utf-8\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\n----------------------------\n\n----------------------------\nID: 50537\nResponse-Code: 200\nEncoding: UTF-8\nContent-Type: text/xml; charset=utf-8\nHeaders: {Content-Length=[860], Content-Type=[text/xml; charset=utf-8], Date=[Thu, 05 Oct 2023 06:58:04 GMT], Server=[Microsoft-IIS/10.0], X-Powered-By=[ASP.NET]}\nPayload: &lt;s:Envelope xmlns:s=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;s:Header&gt;\n    &lt;ActivityId xmlns=&quot;http://schemas.microsoft.com/2004/09/ServiceModel/Diagnostics&quot; CorrelationId=&quot;c24eb538-4dfe-4dc1-94aa-5ab7f19cb248&quot;&gt;00000000-0000-0000-0000-000000000000&lt;/ActivityId&gt;\n  &lt;/s:Header&gt;\n  &lt;s:Body xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    \n          ...  ...  ...\n\n  &lt;/s:Body&gt;\n&lt;/s:Envelope&gt;\n\n--------------------------------------\n</code></pre>\n"},{"tags":["java","list","java-11","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1663066439,"post_id":73701094,"comment_id":130146621,"body_markdown":"you are missing a `)` after `0)`","body":"you are missing a <code>)</code> after <code>0)</code>"},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1663067272,"post_id":73701094,"comment_id":130146921,"body_markdown":"Thanks @LucaBassoRicci for pointing that out. Now Impl is getting generated but in that I am getting an error there , upload in description","body":"Thanks @LucaBassoRicci for pointing that out. Now Impl is getting generated but in that I am getting an error there , upload in description"}],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663070581,"creation_date":1663069950,"answer_id":73702538,"question_id":73701094,"body_markdown":"IMHO the best way to solve this problem is to use a `@Named` paired with `@Mapping#qualifiedByName`\r\n\r\n    @Mapper\r\n    class Mapper {\r\n    \r\n      @Mapping(target = &quot;orderInvoice&quot;, source =&quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;, qualifiedByName=&quot;firstElement&quot;)\r\n      ChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\r\n    \r\n      @Named(&quot;firstElement&quot;)\r\n      OrderInvoice map(List&lt;OrderInvoice&gt; value) {\r\n        if(value == null) return null;\r\n        if(value.isEmpty()) return null;\r\n        return map(value.get(0));\r\n      }\r\n    \r\n      abstract com.sams.oms.ng.common.models.payment.request.OrderInvoice map(com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice invoice);\r\n    }\r\n\r\nIn this way you are instructed MapStruct to use `map(List&lt;&gt;)` to convert invoices to a single OrderInvoice and abstract `map(OrderInvoice)` to let MapStruct autogenerate mapping code.\r\n\r\nCode in untested because I haven&#39;t limited spare time today,but I hope my example may be useful;if anything is wrong feel free to comment and I will correct code asap.","title":"MapStruct - Map list of objects in single object","body":"<p>IMHO the best way to solve this problem is to use a <code>@Named</code> paired with <code>@Mapping#qualifiedByName</code></p>\n<pre><code>@Mapper\nclass Mapper {\n\n  @Mapping(target = &quot;orderInvoice&quot;, source =&quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;, qualifiedByName=&quot;firstElement&quot;)\n  ChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\n\n  @Named(&quot;firstElement&quot;)\n  OrderInvoice map(List&lt;OrderInvoice&gt; value) {\n    if(value == null) return null;\n    if(value.isEmpty()) return null;\n    return map(value.get(0));\n  }\n\n  abstract com.sams.oms.ng.common.models.payment.request.OrderInvoice map(com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice invoice);\n}\n</code></pre>\n<p>In this way you are instructed MapStruct to use <code>map(List&lt;&gt;)</code> to convert invoices to a single OrderInvoice and abstract <code>map(OrderInvoice)</code> to let MapStruct autogenerate mapping code.</p>\n<p>Code in untested because I haven't limited spare time today,but I hope my example may be useful;if anything is wrong feel free to comment and I will correct code asap.</p>\n"},{"tags":[],"owner":{"account_id":5251236,"reputation":26,"user_id":4195428,"display_name":"Abhilash Galipally"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679343859,"creation_date":1678898445,"answer_id":75747658,"question_id":73701094,"body_markdown":"If we are mapping with the Java expression we need to add `get` and `()` in the expression like below.\r\n```java\r\n@Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.getInvoice().getEventPayload().getOrderInvoices().get(0))&quot;)\r\n```","title":"MapStruct - Map list of objects in single object","body":"<p>If we are mapping with the Java expression we need to add <code>get</code> and <code>()</code> in the expression like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.getInvoice().getEventPayload().getOrderInvoices().get(0))&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29602695,"reputation":1,"user_id":22687753,"display_name":"swdEagle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696491951,"creation_date":1696491951,"answer_id":77235130,"question_id":73701094,"body_markdown":"The first answer provided is correct, but you do not need to use the qualifiedByName attribute and @Named annotation in this case. Mapstruct is smart enough to pick up your method itself if there is only one possible candidate to map a collection of OrderInvoice to one single OrderInvoice.\r\n\r\nI prefer to leave those out to make the code a bit cleaner.\r\n\r\nIn general, you typically only need qualifiedByName when you overwrite a standard mapstruct conversion (like String to String, but your custom function isn&#39;t a straight copy) or when multiple conversions of the same type exist.\r\n\r\nThe 2nd answer is risky, as there are no null checks and any of those &quot;get&quot; calls could result in a null being returned and then doing a get on that will result in NPE.","title":"MapStruct - Map list of objects in single object","body":"<p>The first answer provided is correct, but you do not need to use the qualifiedByName attribute and @Named annotation in this case. Mapstruct is smart enough to pick up your method itself if there is only one possible candidate to map a collection of OrderInvoice to one single OrderInvoice.</p>\n<p>I prefer to leave those out to make the code a bit cleaner.</p>\n<p>In general, you typically only need qualifiedByName when you overwrite a standard mapstruct conversion (like String to String, but your custom function isn't a straight copy) or when multiple conversions of the same type exist.</p>\n<p>The 2nd answer is risky, as there are no null checks and any of those &quot;get&quot; calls could result in a null being returned and then doing a get on that will result in NPE.</p>\n"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5927,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75747658,"answer_count":3,"score":0,"last_activity_date":1696491951,"creation_date":1663063543,"question_id":73701094,"body_markdown":"I am getting a list of objects from 3rd party but it will always contain one object only. So at my end in target I have created it as an object rather than list. That object contains multiple lists inside it just like source object. \r\n\r\nThis is how I am trying to map a list to an object. ChargeTransaction contain orderInvoice as an object and not a list. For list which are inside ChargeTransaction I have created separate mappers. I dont want to write java code in @afterMapping because then how nested lists will be mapped. The nested lists are of type in both the objects.\r\n    \r\n\r\n   \t@Mapping(target = &quot;orderInvoice&quot;, source = &quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;)\r\n\tChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\r\n\r\nError\r\n    \r\n    java: Can&#39;t map property &quot;List&lt;OrderInvoice&gt; basePaymentRequest.invoice.eventPayload.orderInvoices&quot; to &quot;OrderInvoice orderInvoice&quot;. Consider to declare/implement a mapping method: &quot;OrderInvoice map(List&lt;OrderInvoice&gt; value)&quot;.\r\n\r\nI tried \r\n\r\n    @Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.invoice.eventPayload.orderInvoices.get(0))&quot;)\r\n\r\nBut it gives error in Impl class \r\n\r\n     chargeTransaction.setOrderInvoice( basePaymentRequest.invoice.eventPayload.orderInvoices.get(0) );\r\n\r\n     java: incompatible types: com.sams.oms.ng.common.models.payment.request.OrderInvoice cannot be converted to com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice\r\n","title":"MapStruct - Map list of objects in single object","body":"<p>I am getting a list of objects from 3rd party but it will always contain one object only. So at my end in target I have created it as an object rather than list. That object contains multiple lists inside it just like source object.</p>\n<p>This is how I am trying to map a list to an object. ChargeTransaction contain orderInvoice as an object and not a list. For list which are inside ChargeTransaction I have created separate mappers. I dont want to write java code in @afterMapping because then how nested lists will be mapped. The nested lists are of type in both the objects.</p>\n<pre><code>@Mapping(target = &quot;orderInvoice&quot;, source = &quot;basePaymentRequest.invoice.eventPayload.orderInvoices&quot;)\nChargeTransaction createInvoiceCTMapper(PaymentTriggerBaseModel basePaymentRequest, ChargeType chargeType);\n</code></pre>\n<p>Error</p>\n<pre><code>java: Can't map property &quot;List&lt;OrderInvoice&gt; basePaymentRequest.invoice.eventPayload.orderInvoices&quot; to &quot;OrderInvoice orderInvoice&quot;. Consider to declare/implement a mapping method: &quot;OrderInvoice map(List&lt;OrderInvoice&gt; value)&quot;.\n</code></pre>\n<p>I tried</p>\n<pre><code>@Mapping(target = &quot;orderInvoice&quot;, expression= &quot;java(basePaymentRequest.invoice.eventPayload.orderInvoices.get(0))&quot;)\n</code></pre>\n<p>But it gives error in Impl class</p>\n<pre><code> chargeTransaction.setOrderInvoice( basePaymentRequest.invoice.eventPayload.orderInvoices.get(0) );\n\n java: incompatible types: com.sams.oms.ng.common.models.payment.request.OrderInvoice cannot be converted to com.sams.oms.ng.common.models.payment.cosmos.OrderInvoice\n</code></pre>\n"},{"tags":["java","json","moodle","lti"],"answers":[{"tags":[],"owner":{"account_id":29333649,"reputation":56,"user_id":22474513,"display_name":"snake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696491812,"creation_date":1695965008,"answer_id":77199594,"question_id":75530210,"body_markdown":"I&#39;d suggest reading the specification, specifically the part about the tool&#39;s openid-configuration, and even more specifically about the jwks_uri property:\r\nhttps://www.imsglobal.org/spec/lti-dr/v1p0#openid-configuration-0\r\n\r\nThis section clearly states:\r\n&gt; &quot;This specification requires the tool to expose its public key using a JSON Web Key Set URI.&quot;","title":"Moodle. LTI Advantage Automatic Registration","body":"<p>I'd suggest reading the specification, specifically the part about the tool's openid-configuration, and even more specifically about the jwks_uri property:\n<a href=\"https://www.imsglobal.org/spec/lti-dr/v1p0#openid-configuration-0\" rel=\"nofollow noreferrer\">https://www.imsglobal.org/spec/lti-dr/v1p0#openid-configuration-0</a></p>\n<p>This section clearly states:</p>\n<blockquote>\n<p>&quot;This specification requires the tool to expose its public key using a JSON Web Key Set URI.&quot;</p>\n</blockquote>\n"}],"owner":{"account_id":14767792,"reputation":51,"user_id":10665272,"display_name":"saladukha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696491812,"creation_date":1677056054,"question_id":75530210,"body_markdown":"I&#39;m trying to implement automatic Tool registration in Moodle. As described here: https://moodlelti.theedtech.dev/dynreg/\r\n\r\nRegistration is successful and in the settings, I get the following result:\r\n[![enter image description here][1]][1]\r\n\r\nBut I am not satisfied with the &quot;**Public type key**&quot; field.\r\n\r\nI want the &quot;**Public key type**&quot; field to be set as **RSA key** and the **Public key** field to be filled in after automatic registration.\r\n[![enter image description here][2]][2]\r\n\r\nI can&#39;t find the JSON structure that should be passed for this setting. So how and what parameters should I pass to set the key fields the way I want?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ElswE.png\r\n  [2]: https://i.stack.imgur.com/oQq2Q.png","title":"Moodle. LTI Advantage Automatic Registration","body":"<p>I'm trying to implement automatic Tool registration in Moodle. As described here: <a href=\"https://moodlelti.theedtech.dev/dynreg/\" rel=\"nofollow noreferrer\">https://moodlelti.theedtech.dev/dynreg/</a></p>\n<p>Registration is successful and in the settings, I get the following result:\n<a href=\"https://i.stack.imgur.com/ElswE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ElswE.png\" alt=\"enter image description here\" /></a></p>\n<p>But I am not satisfied with the &quot;<strong>Public type key</strong>&quot; field.</p>\n<p>I want the &quot;<strong>Public key type</strong>&quot; field to be set as <strong>RSA key</strong> and the <strong>Public key</strong> field to be filled in after automatic registration.\n<a href=\"https://i.stack.imgur.com/oQq2Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oQq2Q.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't find the JSON structure that should be passed for this setting. So how and what parameters should I pass to set the key fields the way I want?</p>\n"},{"tags":["java","sockets","networking","udp"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1590020012,"post_id":61923676,"comment_id":109526503,"body_markdown":"1. There is no such thing as a UDP connection. 2. There is no problem using the same port for send and receive, and you should not waste ports in this way. 3. You need `ew ByteArrayInputStream(packetReceive.getData(), 0, packetReceive.getLength());` 4. Most importantly, you are probably failing to *send* the datagram of 65507 bytes. You can&#39;t send a datagram larger than your socket send buffer, for a start, and in any case this is in practice far too large for UDP, and also too small for most images. Basically you can&#39;t do this. Use TCP.","body":"1. There is no such thing as a UDP connection. 2. There is no problem using the same port for send and receive, and you should not waste ports in this way. 3. You need <code>ew ByteArrayInputStream(packetReceive.getData(), 0, packetReceive.getLength());</code> 4. Most importantly, you are probably failing to <i>send</i> the datagram of 65507 bytes. You can&#39;t send a datagram larger than your socket send buffer, for a start, and in any case this is in practice far too large for UDP, and also too small for most images. Basically you can&#39;t do this. Use TCP."},{"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"score":0,"creation_date":1590044127,"post_id":61923676,"comment_id":109532388,"body_markdown":"I know TCP would solve my issues perfectly, but it&#39;s homework I must understand. I am going to try apply your points. Thank you","body":"I know TCP would solve my issues perfectly, but it&#39;s homework I must understand. I am going to try apply your points. Thank you"},{"owner":{"account_id":4620081,"reputation":6197,"user_id":3745413,"display_name":"Ron Maupin"},"score":3,"creation_date":1590067313,"post_id":61923676,"comment_id":109543610,"body_markdown":"Because you must use UDP for your exercise, you need to create an application-layer protocol that will handle converting a stream into individual messages that are much smaller than the data stream. UDP works best if you use data sizes of around 576 bytes. Real-time protocols, e.g. VoIP, use much smaller (20 bytes or so) for the data size on UDP because UDP is connectionless and packets will be lost. You need to take that into account and your protocol must re-request data lost in transit.","body":"Because you must use UDP for your exercise, you need to create an application-layer protocol that will handle converting a stream into individual messages that are much smaller than the data stream. UDP works best if you use data sizes of around 576 bytes. Real-time protocols, e.g. VoIP, use much smaller (20 bytes or so) for the data size on UDP because UDP is connectionless and packets will be lost. You need to take that into account and your protocol must re-request data lost in transit."},{"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"score":0,"creation_date":1590070172,"post_id":61923676,"comment_id":109545262,"body_markdown":"Good comment @RonMaupin. This would be a nice addition to polish the assigment, although for now I am just learning the basics. I&#39;ve got a solution which I am going to post afterwards one I handle a problem with Netbeans path to files...","body":"Good comment @RonMaupin. This would be a nice addition to polish the assigment, although for now I am just learning the basics. I&#39;ve got a solution which I am going to post afterwards one I handle a problem with Netbeans path to files..."}],"answers":[{"comments":[{"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"score":0,"creation_date":1590070227,"post_id":61926190,"comment_id":109545303,"body_markdown":"I will work that head info today. The assigment just wants the basics but I like to give the teacher a good application. Thanks a lot for pointing out","body":"I will work that head info today. The assigment just wants the basics but I like to give the teacher a good application. Thanks a lot for pointing out"},{"owner":{"account_id":17843673,"reputation":1414,"user_id":12961033,"display_name":"tyChen"},"score":1,"creation_date":1590070477,"post_id":61926190,"comment_id":109545457,"body_markdown":"Hope you can do a good job! And I suggest you learn some basic knowledge first, like the udp socket patterns, and the basic TCP design thought like the GBN and FEC is also really good but not used in TCP. For a long term learning, you may find QUIC, libutp, KCP or some other open source projects really helpful.","body":"Hope you can do a good job! And I suggest you learn some basic knowledge first, like the udp socket patterns, and the basic TCP design thought like the GBN and FEC is also really good but not used in TCP. For a long term learning, you may find QUIC, libutp, KCP or some other open source projects really helpful."},{"owner":{"account_id":17843673,"reputation":1414,"user_id":12961033,"display_name":"tyChen"},"score":1,"creation_date":1590070756,"post_id":61926190,"comment_id":109545648,"body_markdown":"And what&#39;s more, the suggestions I give you are how to realise the example you write correctly, you need to do these if you really want to use UDP..","body":"And what&#39;s more, the suggestions I give you are how to realise the example you write correctly, you need to do these if you really want to use UDP.."}],"tags":[],"owner":{"account_id":17843673,"reputation":1414,"user_id":12961033,"display_name":"tyChen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590070865,"creation_date":1590028097,"answer_id":61926190,"question_id":61923676,"body_markdown":"Firstly, I think you need to learn how to use wirshark or tcmpdump to analysis network streams when debugging, that will help you find out the problem and solve it.\r\n\r\n\r\nAs for your program, there are several problems the user207421 has mensioned. I think it&#39;s better to use TCP, but if you want to learn UDP by this way, the thing you need is to do a slim reliable UDP by yourself.\r\n\r\n\r\nFor example, you may need the following models\r\n\r\n- Build a send buffer and recive buffer, check every time if the buffer is empty, if not, send/receive and process it.（Cause UDP has MTU）\r\n\r\n- Add some extra format of information in the head of each datagram, which includes the size of the whole message, the sequence of the datagram, the left size, etc.(Cause you need to cut your message into many parts)\r\n\r\n- Build a controller, which need to have some function like retransmission, rebuild the message, etc.(Cause UDP is unreliable, you need to check the completeness of all parts)\r\n\r\nHope that can help you.","title":"UDP client does not receive bytes","body":"<p>Firstly, I think you need to learn how to use wirshark or tcmpdump to analysis network streams when debugging, that will help you find out the problem and solve it.</p>\n\n<p>As for your program, there are several problems the user207421 has mensioned. I think it's better to use TCP, but if you want to learn UDP by this way, the thing you need is to do a slim reliable UDP by yourself.</p>\n\n<p>For example, you may need the following models</p>\n\n<ul>\n<li><p>Build a send buffer and recive buffer, check every time if the buffer is empty, if not, send/receive and process it.（Cause UDP has MTU）</p></li>\n<li><p>Add some extra format of information in the head of each datagram, which includes the size of the whole message, the sequence of the datagram, the left size, etc.(Cause you need to cut your message into many parts)</p></li>\n<li><p>Build a controller, which need to have some function like retransmission, rebuild the message, etc.(Cause UDP is unreliable, you need to check the completeness of all parts)</p></li>\n</ul>\n\n<p>Hope that can help you.</p>\n"},{"comments":[{"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"score":0,"creation_date":1590065890,"post_id":61933253,"comment_id":109542894,"body_markdown":"This is a UDP exercise. I know TCP is the correct way. I will add a note about it. Thanks","body":"This is a UDP exercise. I know TCP is the correct way. I will add a note about it. Thanks"},{"owner":{"account_id":5081709,"reputation":1159,"user_id":4077574,"accept_rate":88,"display_name":"Galaxy"},"score":0,"creation_date":1590129016,"post_id":61933253,"comment_id":109567981,"body_markdown":"@WhiteGlove Updated for the UDP solution","body":"@WhiteGlove Updated for the UDP solution"}],"tags":[],"owner":{"account_id":5081709,"reputation":1159,"user_id":4077574,"accept_rate":88,"display_name":"Galaxy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696491722,"creation_date":1590059715,"answer_id":61933253,"question_id":61923676,"body_markdown":"# The Reason\r\n\r\n[MTU](https://en.wikipedia.org/wiki/Maximum_transmission_unit)!\r\n\r\nYou send packets with long buffers through UDP directly, which may not work in most network circumstances.\r\n\r\nA packet sent through UDP should not be longer than the network MTU. Otherwise, it would be dropped. The network MTU may not be more than 1500 on most net nods(routers/switches/hosts...) and even smaller sometimes. Though some nodes may do segmentation for IP packets, you should not count on it when you are using UDP.\r\n\r\n# Suggestions\r\n\r\nUse TCP instead in this application as for:\r\n\r\n* You are sending data expected to be complete (otherwise, it would be useless).\r\n\r\n* You do not care about congestion control algorithms.\r\n\r\nSo go with TCP.\r\n\r\n# Edit Based on The Update of The Question\r\n\r\nSo, as this is an exercise, in which you have to use UDP only.\r\n\r\nAs a file might be useless unless it is complete, you have to make sure:\r\n\r\n* All packets are possible to pass the path. This means the network should be physically and virtually connected, and the packet size should always be smaller than the MTU.\r\n* If any packets are lost, both the receiver and the sender should be able to know.\r\n* If any packets come out of order, the receiver should be able to know.\r\n* The sender should be able to cache and resend the packets not yet confirmed by the receiver.\r\n\r\nMake sure you have a good network connection. Split the image buffer into a buffer array with each buffer item length less than 1000 bytes (should be safe).\r\n\r\nThen let&#39;s design an amature but simple protocol for this:\r\n\r\n~~~\r\n    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\r\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n   | type                          | sequence number               |\r\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\r\n   | payload ...                                                   |\r\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n   | ...                                                           |\r\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\r\n~~~\r\n\r\nFor types, we may need:\r\n\r\n* hello: 0x01\r\n* bye: 0x02\r\n* ack: 0x03\r\n* nack: 0x04\r\n* data: 0x05\r\n* feedback: 0x06\r\n* ...\r\n\r\nThe sequence should be mono-increasing. e.g. 1, 2, 3, 4.... (It is not necessary to start from 1, but OK.)\r\n\r\nIt works like the following:\r\n\r\n~~~\r\nSender-&gt;Receiver: hello(seq=i)\r\nReceiver-&gt;Sender: ack(seq=i)\r\n\r\n# Sender-&gt;Receiver: hello(seq=i)\r\n# if timeout and got no ack for seq=i\r\n\r\nSender-&gt;Receiver: data(seq=i+1)\r\nReceiver-&gt;Sender: ack(seq=i+1)\r\n\r\n# Sender-&gt;Receiver: hello(seq=i+1)\r\n# if timeout and got no ack for seq=i+1\r\n\r\nSender-&gt;Receiver: data(seq=i+2)\r\nSender-&gt;Receiver: data(seq=i+3)\r\nReceiver-&gt;Sender: ack(seq=i+2)\r\nReceiver-&gt;Sender: ack(seq=i+3)\r\n\r\n# Sender-&gt;Receiver: hello(seq=i+2)\r\n# if timeout and got no ack for seq=i+2 or got nack for seq=i+2\r\n\r\nSender-&gt;Receiver: bye(seq=n)\r\nReceiver-&gt;Sender: ack(seq=n)\r\n\r\n# bye is not necessary\r\n~~~","title":"UDP client does not receive bytes","body":"<h1>The Reason</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Maximum_transmission_unit\" rel=\"nofollow noreferrer\">MTU</a>!</p>\n<p>You send packets with long buffers through UDP directly, which may not work in most network circumstances.</p>\n<p>A packet sent through UDP should not be longer than the network MTU. Otherwise, it would be dropped. The network MTU may not be more than 1500 on most net nods(routers/switches/hosts...) and even smaller sometimes. Though some nodes may do segmentation for IP packets, you should not count on it when you are using UDP.</p>\n<h1>Suggestions</h1>\n<p>Use TCP instead in this application as for:</p>\n<ul>\n<li><p>You are sending data expected to be complete (otherwise, it would be useless).</p>\n</li>\n<li><p>You do not care about congestion control algorithms.</p>\n</li>\n</ul>\n<p>So go with TCP.</p>\n<h1>Edit Based on The Update of The Question</h1>\n<p>So, as this is an exercise, in which you have to use UDP only.</p>\n<p>As a file might be useless unless it is complete, you have to make sure:</p>\n<ul>\n<li>All packets are possible to pass the path. This means the network should be physically and virtually connected, and the packet size should always be smaller than the MTU.</li>\n<li>If any packets are lost, both the receiver and the sender should be able to know.</li>\n<li>If any packets come out of order, the receiver should be able to know.</li>\n<li>The sender should be able to cache and resend the packets not yet confirmed by the receiver.</li>\n</ul>\n<p>Make sure you have a good network connection. Split the image buffer into a buffer array with each buffer item length less than 1000 bytes (should be safe).</p>\n<p>Then let's design an amature but simple protocol for this:</p>\n<pre><code>    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   | type                          | sequence number               |\n   +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+\n   | payload ...                                                   |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n   | ...                                                           |\n   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n</code></pre>\n<p>For types, we may need:</p>\n<ul>\n<li>hello: 0x01</li>\n<li>bye: 0x02</li>\n<li>ack: 0x03</li>\n<li>nack: 0x04</li>\n<li>data: 0x05</li>\n<li>feedback: 0x06</li>\n<li>...</li>\n</ul>\n<p>The sequence should be mono-increasing. e.g. 1, 2, 3, 4.... (It is not necessary to start from 1, but OK.)</p>\n<p>It works like the following:</p>\n<pre><code>Sender-&gt;Receiver: hello(seq=i)\nReceiver-&gt;Sender: ack(seq=i)\n\n# Sender-&gt;Receiver: hello(seq=i)\n# if timeout and got no ack for seq=i\n\nSender-&gt;Receiver: data(seq=i+1)\nReceiver-&gt;Sender: ack(seq=i+1)\n\n# Sender-&gt;Receiver: hello(seq=i+1)\n# if timeout and got no ack for seq=i+1\n\nSender-&gt;Receiver: data(seq=i+2)\nSender-&gt;Receiver: data(seq=i+3)\nReceiver-&gt;Sender: ack(seq=i+2)\nReceiver-&gt;Sender: ack(seq=i+3)\n\n# Sender-&gt;Receiver: hello(seq=i+2)\n# if timeout and got no ack for seq=i+2 or got nack for seq=i+2\n\nSender-&gt;Receiver: bye(seq=n)\nReceiver-&gt;Sender: ack(seq=n)\n\n# bye is not necessary\n</code></pre>\n"}],"owner":{"account_id":9047065,"reputation":564,"user_id":6738917,"accept_rate":67,"display_name":"Jonalcaide"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1203,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61933253,"answer_count":2,"score":0,"last_activity_date":1696491722,"creation_date":1590011993,"question_id":61923676,"body_markdown":"This question has been asked a lot, but so far, none of the solutions that I applied from previous answers have helped me.\r\n\r\n**Main goal**\r\n\r\nI am trying to learn UDP conexions and this is my attempt. I want to have a client ask for a picture at a server via UDP and the server will send it. Then the client will create a file with that information given.\r\n\r\n**Explanation**\r\n\r\nMy main idea is to ask the server for an image using a &quot;GET&quot; command (not the HTTP, just GET) followed by the name of the image(extension included). Then the client awaits an answer which is the image requested.\r\n\r\n**Problems**\r\n\r\nThe client waits and answer which does no come\r\n\r\n\r\n**Research**\r\n\r\n- From another similar question it was a problem that I was using the same PORT for both receive and connect, so I added two ports, receivingPORT and sendingPORT, no results from the Client.\r\n\r\n- From other similar questions, It was a Firewall problem. So, on a Win10 machine, I created a new rule for UDP in the Firewall for the ports that I am using for this application, and nothing was received by the Client...\r\n\r\nI have checked that the image is loaded into `byte[]` and the image is sent. But on the Client, nothing is received and stays there waiting for a connection to come through\r\n\r\n\r\n**CODE from Server**\r\n\r\n    public class UDPserver {\r\n        \r\n        static DatagramSocket serverUDP;\r\n        static DatagramPacket packet;\r\n        static InetAddress address;\r\n        static byte[] buffer = new byte[65507];//65507\r\n        final static int receivingPORT = 6668;\r\n        final static int sendingPORT = 6669; \r\n            \r\n        public static void main(String[] args) throws SocketException, IOException, InterruptedException{\r\n            \r\n            boolean serverActive = true;\r\n            \r\n            String order = &quot;&quot;;\r\n            String file = &quot;&quot;;\r\n            \r\n            //Instantiate server\r\n            serverUDP = new DatagramSocket(receivingPORT);\r\n            \r\n            while(serverActive){            \r\n    \r\n                //Kind of packet we want to receive\r\n                packet = new DatagramPacket(buffer, buffer.length);\r\n    \r\n                System.out.println(&quot;Server awaiting connection...&quot;);\r\n                //Receive it\r\n                serverUDP.receive(packet);\r\n                System.out.println(&quot;Received packet from: &quot; + packet.getAddress() + &quot;/&quot; + packet.getPort());\r\n    \r\n                //What does the packet contain?\r\n                String msg = new String(packet.getData());\r\n                address = packet.getAddress();\r\n                System.out.println(&quot;Order from: &quot; + address + &quot;/&quot; + receivingPORT + &quot; says: &quot; + msg);\r\n                \r\n                try{\r\n                    order = msg.split(&quot; &quot;)[0].trim();\r\n                    file = msg.split(&quot; &quot;)[1].trim();\r\n                } catch (Exception e){\r\n                    \r\n                }           \r\n    \r\n                switch(order){\r\n                    case(&quot;GET&quot;):{\r\n                        System.out.println(&quot;Sending back an image...&quot;);\r\n                        buffer = loadImageFromServer(file);\r\n                        packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\r\n                        Thread.sleep(5000);\r\n                        serverUDP.send(packet); \r\n                        System.out.println(&quot;Client served&quot;);\r\n                        break;\r\n                    }\r\n                    case(&quot;DISCONNECT&quot;):{\r\n                        buffer = &quot;Server is disconnecting...&quot;.getBytes();\r\n                        packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\r\n                        serverUDP.send(packet);\r\n                        serverActive = false;\r\n                        serverUDP.close();\r\n                        break;\r\n                    }                \r\n                }                   \r\n            }        \r\n        }\r\n        \r\n        static byte[] loadImageFromServer(String path) {\r\n                \r\n            try {\r\n                System.out.println(&quot;Loading path: &quot; + path);\r\n                //Instantiate a buffer from the image for it\r\n                BufferedImage img = ImageIO.read(UDPserver.class.getResource(path));\r\n                //Create a byte[] stream object to handle the data\r\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                //Write the image data into those above with jpg format\r\n                ImageIO.write(img, &quot;png&quot;, baos);\r\n                //Flush the information\r\n                baos.flush();\r\n                \r\n                byte[] buffer = baos.toByteArray(); //Write it out on a byte string and return it\r\n                return buffer;            \r\n                \r\n            } catch (IOException ex) {\r\n                Logger.getLogger(UDPserver.class.getName()).log(Level.SEVERE, null, ex.fillInStackTrace());\r\n                System.exit(-1);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n**CODE client**\r\n\r\n    public class Client {\r\n        \r\n        static DatagramSocket clientUDP;\r\n        static InetAddress address;\r\n        static DatagramPacket packetSend;\r\n        static DatagramPacket packetReceive;\r\n        \r\n        static int SIZE = 65507;\r\n        final static int receivingPORT = 6669;\r\n        final static int sendingPORT = 6668; \r\n        \r\n        static byte[] buffer = new byte[SIZE];\r\n        \r\n        static Scanner scan = new Scanner(System.in);\r\n        \r\n        public static void main(String[] args) throws SocketException, UnknownHostException, IOException{\r\n            \r\n    \r\n                boolean clientLoop = true;\r\n            \r\n                //Get address\r\n                address = InetAddress.getByName(&quot;localhost&quot;);\r\n    \r\n                //Instantiate Client -&gt; UDP\r\n                clientUDP = new DatagramSocket();\r\n    \r\n                while(clientLoop){\r\n                    System.out.print(&quot;Enter any key and press enter&quot;);\r\n                    scan.next(); //Just to stop the loop\r\n                    \r\n                    //Load the buffer\r\n                    buffer = &quot;GET imagenServidor.png&quot;.getBytes();\r\n                    //buffer = &quot;DISCONNECT&quot;.getBytes();\r\n    \r\n                    System.out.println(&quot;Buffer is ready&quot;);\r\n    \r\n                    //Arm the packet\r\n                    packetSend = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\r\n                    System.out.println(&quot;Packet is armed!&quot;);\r\n    \r\n                    //Send the packet to the server\r\n                    clientUDP.send(packetSend);\r\n                    System.out.println(&quot;Order sent to server&quot;);\r\n                    \r\n                    System.out.println(&quot;Waiting an answer&quot;);\r\n                    \r\n                    packetReceive = new DatagramPacket(buffer, buffer.length, address, receivingPORT);\r\n                    clientUDP.receive(packetReceive);\r\n                    System.out.println(&quot;Server answered!&quot;);\r\n    \r\n                    ByteArrayInputStream bais = new ByteArrayInputStream(packetReceive.getData());\r\n                    BufferedImage image = ImageIO.read(bais);\r\n                    System.out.println(image);\r\n                }            \r\n                clientUDP.close();\r\n        }    \r\n    }\r\n\r\nNOTES\r\n\r\n- This is a UDP exercise","title":"UDP client does not receive bytes","body":"<p>This question has been asked a lot, but so far, none of the solutions that I applied from previous answers have helped me.</p>\n\n<p><strong>Main goal</strong></p>\n\n<p>I am trying to learn UDP conexions and this is my attempt. I want to have a client ask for a picture at a server via UDP and the server will send it. Then the client will create a file with that information given.</p>\n\n<p><strong>Explanation</strong></p>\n\n<p>My main idea is to ask the server for an image using a \"GET\" command (not the HTTP, just GET) followed by the name of the image(extension included). Then the client awaits an answer which is the image requested.</p>\n\n<p><strong>Problems</strong></p>\n\n<p>The client waits and answer which does no come</p>\n\n<p><strong>Research</strong></p>\n\n<ul>\n<li><p>From another similar question it was a problem that I was using the same PORT for both receive and connect, so I added two ports, receivingPORT and sendingPORT, no results from the Client.</p></li>\n<li><p>From other similar questions, It was a Firewall problem. So, on a Win10 machine, I created a new rule for UDP in the Firewall for the ports that I am using for this application, and nothing was received by the Client...</p></li>\n</ul>\n\n<p>I have checked that the image is loaded into <code>byte[]</code> and the image is sent. But on the Client, nothing is received and stays there waiting for a connection to come through</p>\n\n<p><strong>CODE from Server</strong></p>\n\n<pre><code>public class UDPserver {\n\n    static DatagramSocket serverUDP;\n    static DatagramPacket packet;\n    static InetAddress address;\n    static byte[] buffer = new byte[65507];//65507\n    final static int receivingPORT = 6668;\n    final static int sendingPORT = 6669; \n\n    public static void main(String[] args) throws SocketException, IOException, InterruptedException{\n\n        boolean serverActive = true;\n\n        String order = \"\";\n        String file = \"\";\n\n        //Instantiate server\n        serverUDP = new DatagramSocket(receivingPORT);\n\n        while(serverActive){            \n\n            //Kind of packet we want to receive\n            packet = new DatagramPacket(buffer, buffer.length);\n\n            System.out.println(\"Server awaiting connection...\");\n            //Receive it\n            serverUDP.receive(packet);\n            System.out.println(\"Received packet from: \" + packet.getAddress() + \"/\" + packet.getPort());\n\n            //What does the packet contain?\n            String msg = new String(packet.getData());\n            address = packet.getAddress();\n            System.out.println(\"Order from: \" + address + \"/\" + receivingPORT + \" says: \" + msg);\n\n            try{\n                order = msg.split(\" \")[0].trim();\n                file = msg.split(\" \")[1].trim();\n            } catch (Exception e){\n\n            }           \n\n            switch(order){\n                case(\"GET\"):{\n                    System.out.println(\"Sending back an image...\");\n                    buffer = loadImageFromServer(file);\n                    packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\n                    Thread.sleep(5000);\n                    serverUDP.send(packet); \n                    System.out.println(\"Client served\");\n                    break;\n                }\n                case(\"DISCONNECT\"):{\n                    buffer = \"Server is disconnecting...\".getBytes();\n                    packet = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\n                    serverUDP.send(packet);\n                    serverActive = false;\n                    serverUDP.close();\n                    break;\n                }                \n            }                   \n        }        \n    }\n\n    static byte[] loadImageFromServer(String path) {\n\n        try {\n            System.out.println(\"Loading path: \" + path);\n            //Instantiate a buffer from the image for it\n            BufferedImage img = ImageIO.read(UDPserver.class.getResource(path));\n            //Create a byte[] stream object to handle the data\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            //Write the image data into those above with jpg format\n            ImageIO.write(img, \"png\", baos);\n            //Flush the information\n            baos.flush();\n\n            byte[] buffer = baos.toByteArray(); //Write it out on a byte string and return it\n            return buffer;            \n\n        } catch (IOException ex) {\n            Logger.getLogger(UDPserver.class.getName()).log(Level.SEVERE, null, ex.fillInStackTrace());\n            System.exit(-1);\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p><strong>CODE client</strong></p>\n\n<pre><code>public class Client {\n\n    static DatagramSocket clientUDP;\n    static InetAddress address;\n    static DatagramPacket packetSend;\n    static DatagramPacket packetReceive;\n\n    static int SIZE = 65507;\n    final static int receivingPORT = 6669;\n    final static int sendingPORT = 6668; \n\n    static byte[] buffer = new byte[SIZE];\n\n    static Scanner scan = new Scanner(System.in);\n\n    public static void main(String[] args) throws SocketException, UnknownHostException, IOException{\n\n\n            boolean clientLoop = true;\n\n            //Get address\n            address = InetAddress.getByName(\"localhost\");\n\n            //Instantiate Client -&gt; UDP\n            clientUDP = new DatagramSocket();\n\n            while(clientLoop){\n                System.out.print(\"Enter any key and press enter\");\n                scan.next(); //Just to stop the loop\n\n                //Load the buffer\n                buffer = \"GET imagenServidor.png\".getBytes();\n                //buffer = \"DISCONNECT\".getBytes();\n\n                System.out.println(\"Buffer is ready\");\n\n                //Arm the packet\n                packetSend = new DatagramPacket(buffer, buffer.length, address, sendingPORT);\n                System.out.println(\"Packet is armed!\");\n\n                //Send the packet to the server\n                clientUDP.send(packetSend);\n                System.out.println(\"Order sent to server\");\n\n                System.out.println(\"Waiting an answer\");\n\n                packetReceive = new DatagramPacket(buffer, buffer.length, address, receivingPORT);\n                clientUDP.receive(packetReceive);\n                System.out.println(\"Server answered!\");\n\n                ByteArrayInputStream bais = new ByteArrayInputStream(packetReceive.getData());\n                BufferedImage image = ImageIO.read(bais);\n                System.out.println(image);\n            }            \n            clientUDP.close();\n    }    \n}\n</code></pre>\n\n<p>NOTES</p>\n\n<ul>\n<li>This is a UDP exercise</li>\n</ul>\n"},{"tags":["java","spring","dependency-injection"],"answers":[{"tags":[],"owner":{"account_id":273624,"reputation":7478,"user_id":565342,"accept_rate":100,"display_name":"gabuzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1299077935,"creation_date":1299077935,"answer_id":5169298,"question_id":5169230,"body_markdown":"Sure you can add `autowire-candidate=&quot;false&quot;` on the definition of the bean you want to *hide*.","title":"Spring: how to hide bean from dependency injection?","body":"<p>Sure you can add <code>autowire-candidate=\"false\"</code> on the definition of the bean you want to <em>hide</em>.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1381914694,"creation_date":1381914694,"answer_id":19399370,"question_id":5169230,"body_markdown":"In many cases it could be better to promote one bean with [primary=&quot;true&quot;][1] or [@Primary][2] instead of demoting all other candidates with [autowire-candidate=&quot;false&quot;][3].\r\n\r\n  [1]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-autowired-exceptions\r\n  [2]: http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/annotation/Primary.html\r\n  [3]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-factory-autowire-candidate","title":"Spring: how to hide bean from dependency injection?","body":"<p>In many cases it could be better to promote one bean with <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-autowired-exceptions\" rel=\"nofollow\">primary=\"true\"</a> or <a href=\"http://docs.spring.io/spring/docs/3.2.x/javadoc-api/org/springframework/context/annotation/Primary.html\" rel=\"nofollow\">@Primary</a> instead of demoting all other candidates with <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/beans.html#beans-factory-autowire-candidate\" rel=\"nofollow\">autowire-candidate=\"false\"</a>.</p>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696491470,"creation_date":1696491470,"answer_id":77235085,"question_id":5169230,"body_markdown":"With java config, use `@Bean(autowireCandidate = false)`","title":"Spring: how to hide bean from dependency injection?","body":"<p>With java config, use <code>@Bean(autowireCandidate = false)</code></p>\n"}],"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2936,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5169298,"answer_count":3,"score":3,"last_activity_date":1696491470,"creation_date":1299077643,"question_id":5169230,"body_markdown":"The situation is that I have two different resource bundles, a general one and a more specific one. They don&#39;t share any message keys.\r\n\r\nGeneral one:\r\n\r\n\t&lt;bean id=&quot;messageSourceGlobal&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;messages/messagesGlobal&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nI include the general one in my specific one (different file obviously):\r\n\r\n\t&lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;basename&quot; value=&quot;messages/messages&quot; /&gt;\r\n\t\t&lt;property name=&quot;parentMessageSource&quot; ref=&quot;messageSourceGlobal&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThe Java-code then autowires it:\r\n\r\n\t@Autowired\r\n\tprivate MessageSource messages;\r\n\r\nThis will cause an exception when starting the web-app as two `MessageSource`s are found. Obviously I can use a `@Qualifier` to make it clear to Spring what I want. However, the general resource bundle won&#39;t be used alone. Therefore, I thought that in this case it would make sense to hide the general resource bundle from dependency injection. One benefit would be that others won&#39;t run into the &quot;duplicates&quot;.\r\n\r\nIs this possible? How would I do this?","title":"Spring: how to hide bean from dependency injection?","body":"<p>The situation is that I have two different resource bundles, a general one and a more specific one. They don't share any message keys.</p>\n\n<p>General one:</p>\n\n<pre><code>&lt;bean id=\"messageSourceGlobal\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"messages/messagesGlobal\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I include the general one in my specific one (different file obviously):</p>\n\n<pre><code>&lt;bean id=\"messageSource\" class=\"org.springframework.context.support.ResourceBundleMessageSource\"&gt;\n    &lt;property name=\"basename\" value=\"messages/messages\" /&gt;\n    &lt;property name=\"parentMessageSource\" ref=\"messageSourceGlobal\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The Java-code then autowires it:</p>\n\n<pre><code>@Autowired\nprivate MessageSource messages;\n</code></pre>\n\n<p>This will cause an exception when starting the web-app as two <code>MessageSource</code>s are found. Obviously I can use a <code>@Qualifier</code> to make it clear to Spring what I want. However, the general resource bundle won't be used alone. Therefore, I thought that in this case it would make sense to hide the general resource bundle from dependency injection. One benefit would be that others won't run into the \"duplicates\".</p>\n\n<p>Is this possible? How would I do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1696488786,"post_id":77234787,"comment_id":136159844,"body_markdown":"Try using a simple for loop.","body":"Try using a simple for loop."},{"owner":{"account_id":29602357,"reputation":3,"user_id":22687481,"display_name":"Arv Cork"},"score":0,"creation_date":1696488977,"post_id":77234787,"comment_id":136159865,"body_markdown":"I did originally do that but I didn&#39;t know if there was a more convenient way rather than doing the for loop. If that&#39;s all I can do, I will revert from this approach.","body":"I did originally do that but I didn&#39;t know if there was a more convenient way rather than doing the for loop. If that&#39;s all I can do, I will revert from this approach."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1696489060,"post_id":77234787,"comment_id":136159875,"body_markdown":"Shouldn&#39;t you be using `streamedItems` instead of `items`?","body":"Shouldn&#39;t you be using <code>streamedItems</code> instead of <code>items</code>?"},{"owner":{"account_id":29602357,"reputation":3,"user_id":22687481,"display_name":"Arv Cork"},"score":0,"creation_date":1696489144,"post_id":77234787,"comment_id":136159895,"body_markdown":"Apologies, that was a typo. Will edit now.","body":"Apologies, that was a typo. Will edit now."},{"owner":{"account_id":12341551,"reputation":108,"user_id":9004515,"display_name":"Gabriel Carrera"},"score":0,"creation_date":1696489817,"post_id":77234787,"comment_id":136160020,"body_markdown":"You are declaring a HashSet&lt;int&gt; but you are assigning to it a HashSet&lt;int[]&gt;","body":"You are declaring a HashSet&lt;int&gt; but you are assigning to it a HashSet&lt;int[]&gt;"}],"answers":[{"comments":[{"owner":{"account_id":29602357,"reputation":3,"user_id":22687481,"display_name":"Arv Cork"},"score":0,"creation_date":1696493296,"post_id":77234963,"comment_id":136160657,"body_markdown":"Hi, thanks for answering! In terms of the code smell, would you do a method `hasItem` and another method `requiresAllItems()` ?","body":"Hi, thanks for answering! In terms of the code smell, would you do a method <code>hasItem</code> and another method <code>requiresAllItems()</code> ?"},{"owner":{"account_id":12341551,"reputation":108,"user_id":9004515,"display_name":"Gabriel Carrera"},"score":0,"creation_date":1696515728,"post_id":77234963,"comment_id":136165540,"body_markdown":"Yes. IMHO I would probably name them `hasItem` and `hasAllItems`.","body":"Yes. IMHO I would probably name them <code>hasItem</code> and <code>hasAllItems</code>."}],"tags":[],"owner":{"account_id":12341551,"reputation":108,"user_id":9004515,"display_name":"Gabriel Carrera"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696490461,"creation_date":1696490461,"answer_id":77234963,"question_id":77234787,"body_markdown":"I think this would do the trick:\r\n\r\n```java\r\n        private boolean hasItem(Integer[] searchableIds, boolean requiresAll) {\r\n            final Set&lt;Integer&gt; available = Arrays.stream(items).map(it -&gt; it.id).collect(Collectors.toSet());\r\n            final Set&lt;Integer&gt; searched = new HashSet&lt;&gt;(Arrays.asList(searchableIds));\r\n\r\n            return requiresAll\r\n                    ? available.containsAll(searched)\r\n                    : !Collections.disjoint(available, searched);\r\n        }\r\n```\r\n\r\nBut you should use two methods instead of one single method with a flag. It is a code smell.","title":"Java check if 2 arrays have any matching items or all items","body":"<p>I think this would do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        private boolean hasItem(Integer[] searchableIds, boolean requiresAll) {\n            final Set&lt;Integer&gt; available = Arrays.stream(items).map(it -&gt; it.id).collect(Collectors.toSet());\n            final Set&lt;Integer&gt; searched = new HashSet&lt;&gt;(Arrays.asList(searchableIds));\n\n            return requiresAll\n                    ? available.containsAll(searched)\n                    : !Collections.disjoint(available, searched);\n        }\n</code></pre>\n<p>But you should use two methods instead of one single method with a flag. It is a code smell.</p>\n"},{"tags":[],"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696490473,"creation_date":1696490473,"answer_id":77234967,"question_id":77234787,"body_markdown":"Always try simple for loops first.\r\n\r\nBut if you want to use streams you can use the below code for reference:\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\nclass Item {\r\n    private int id;\r\n    \r\n    public Item(int id_) {\r\n        this.id = id_;\r\n    }\r\n    \r\n    public int getId() {\r\n        return id;\r\n    }\r\n}\r\n\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        Item[] available = {new Item(1), new Item(2), new Item(3)};\r\n        int[] toSearch = {1,2};\r\n        Set&lt;Integer&gt; ids = Arrays.stream(toSearch).boxed().collect(Collectors.toSet());\r\n        \r\n        var streamedAvailable = Arrays.stream(available);\r\n        var num = streamedAvailable.map(x -&gt; x.getId())\r\n                        .filter(x -&gt; ids.contains(x))\r\n                        .count();\r\n        System.out.println(num);\r\n\r\n        var streamedAvailable2 = Arrays.stream(available);\r\n        var res = streamedAvailable2.map(x -&gt; x.getId())\r\n                        .anyMatch(x -&gt; ids.contains(x));\r\n        System.out.println(res);\r\n    }\r\n}\r\n```\r\n\r\nBut it seems you want intersection of two arrays. Just use `Set::retainAll` like this:\r\n```\r\nSet&lt;Type&gt; intersection = new HashSet&lt;Type&gt;(s1);\r\nintersection.retainAll(s2);\r\n```\r\nThen just check the size of `intersection`. If greater than 1, then there is some match. If equal to size of s2, then complete match.\r\n","title":"Java check if 2 arrays have any matching items or all items","body":"<p>Always try simple for loops first.</p>\n<p>But if you want to use streams you can use the below code for reference:</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\nclass Item {\n    private int id;\n    \n    public Item(int id_) {\n        this.id = id_;\n    }\n    \n    public int getId() {\n        return id;\n    }\n}\n\nclass Main {\n    public static void main(String[] args) {\n        Item[] available = {new Item(1), new Item(2), new Item(3)};\n        int[] toSearch = {1,2};\n        Set&lt;Integer&gt; ids = Arrays.stream(toSearch).boxed().collect(Collectors.toSet());\n        \n        var streamedAvailable = Arrays.stream(available);\n        var num = streamedAvailable.map(x -&gt; x.getId())\n                        .filter(x -&gt; ids.contains(x))\n                        .count();\n        System.out.println(num);\n\n        var streamedAvailable2 = Arrays.stream(available);\n        var res = streamedAvailable2.map(x -&gt; x.getId())\n                        .anyMatch(x -&gt; ids.contains(x));\n        System.out.println(res);\n    }\n}\n</code></pre>\n<p>But it seems you want intersection of two arrays. Just use <code>Set::retainAll</code> like this:</p>\n<pre><code>Set&lt;Type&gt; intersection = new HashSet&lt;Type&gt;(s1);\nintersection.retainAll(s2);\n</code></pre>\n<p>Then just check the size of <code>intersection</code>. If greater than 1, then there is some match. If equal to size of s2, then complete match.</p>\n"}],"owner":{"account_id":29602357,"reputation":3,"user_id":22687481,"display_name":"Arv Cork"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77234963,"answer_count":2,"score":0,"last_activity_date":1696490473,"creation_date":1696488643,"question_id":77234787,"body_markdown":"I want to check in Java if two arrays either have one of the same items or all of the items in the other array.\r\n\r\nMy setup is like this:\r\n\r\nA model class which I am using to determine an item.\r\n\r\n```java\r\npublic class Item {\r\n  @Getter\r\n  private int id;\r\n\r\n  public Item(int id) {\r\n    this.id = id;\r\n  }\r\n}\r\n```\r\n\r\nA manager class which I am using which contains some items.\r\n\r\n```java\r\npublic class Manager {\r\n  @Getter\r\n  private Item[] items = {\r\n    new Item(1), new Item(2), new Item(3)\r\n  }\r\n}\r\n```\r\n\r\nI have tried to implement a method called `hasItem` but whenever it runs, it doesn&#39;t seem to resolve if there is any existing.\r\n\r\n```\r\npublic class Manager {\r\n  ...\r\n\r\n  \r\n  private boolean hasItem(int[] searchableIds, boolean requiresAll) {\r\n    final Stream&lt;Item&gt; streamedItems = Arrays.stream(items);\r\n    HashSet&lt;int&gt; ids = new HashSet&lt;&gt;(Collections.singleton(searchableIds));\r\n\r\n    if (requiresAll) {\r\n      // Make sure the items are identical.\r\n      return streamedItems.map(Item::getId).filter(ids::contains).count() == searchableIds.length;\r\n    }\r\n\r\n    return streamedItems.map(Item::getId).anyMatch(ids::contains);\r\n  }\r\n}\r\n```\r\n\r\nThe goal is - if requiresAll is passed in as `true`, then it&#39;ll ensure that *all* the items are contained within the `streamedItems` variable. If it is `false` then it&#39;ll just see if there&#39;s any matches within.","title":"Java check if 2 arrays have any matching items or all items","body":"<p>I want to check in Java if two arrays either have one of the same items or all of the items in the other array.</p>\n<p>My setup is like this:</p>\n<p>A model class which I am using to determine an item.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Item {\n  @Getter\n  private int id;\n\n  public Item(int id) {\n    this.id = id;\n  }\n}\n</code></pre>\n<p>A manager class which I am using which contains some items.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Manager {\n  @Getter\n  private Item[] items = {\n    new Item(1), new Item(2), new Item(3)\n  }\n}\n</code></pre>\n<p>I have tried to implement a method called <code>hasItem</code> but whenever it runs, it doesn't seem to resolve if there is any existing.</p>\n<pre><code>public class Manager {\n  ...\n\n  \n  private boolean hasItem(int[] searchableIds, boolean requiresAll) {\n    final Stream&lt;Item&gt; streamedItems = Arrays.stream(items);\n    HashSet&lt;int&gt; ids = new HashSet&lt;&gt;(Collections.singleton(searchableIds));\n\n    if (requiresAll) {\n      // Make sure the items are identical.\n      return streamedItems.map(Item::getId).filter(ids::contains).count() == searchableIds.length;\n    }\n\n    return streamedItems.map(Item::getId).anyMatch(ids::contains);\n  }\n}\n</code></pre>\n<p>The goal is - if requiresAll is passed in as <code>true</code>, then it'll ensure that <em>all</em> the items are contained within the <code>streamedItems</code> variable. If it is <code>false</code> then it'll just see if there's any matches within.</p>\n"},{"tags":["java","intellij-idea","gradle"],"comments":[{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1527847613,"post_id":40430004,"comment_id":88291997,"body_markdown":"Hi Mike, I&#39;m facing the same issue, exept I&#39;m not using Gradle. Did you solve in the end?","body":"Hi Mike, I&#39;m facing the same issue, exept I&#39;m not using Gradle. Did you solve in the end?"},{"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"score":0,"creation_date":1532629598,"post_id":40430004,"comment_id":90058467,"body_markdown":"The frustrating problem has been that when you edit the gradle file, that the IDE sees that and adjusts its build settings accordingly. So editing the gradle file overwrites what you might be trying to change in the project settings. If only they explained that. It&#39;s all very poorly or just completely not documented at all, or else it&#39;s hiding. There is no avoiding gradle, because android studio for instance, which is a modified IntelliJ, imposes it as well.","body":"The frustrating problem has been that when you edit the gradle file, that the IDE sees that and adjusts its build settings accordingly. So editing the gradle file overwrites what you might be trying to change in the project settings. If only they explained that. It&#39;s all very poorly or just completely not documented at all, or else it&#39;s hiding. There is no avoiding gradle, because android studio for instance, which is a modified IntelliJ, imposes it as well."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1532630528,"post_id":40430004,"comment_id":90058902,"body_markdown":"Well I discovered that IDEA rebuild everything if it finds an error, even with Eclipse compiler. This is what caused long build time in my case.\nBtw, I really prefer Maven to Gradle.","body":"Well I discovered that IDEA rebuild everything if it finds an error, even with Eclipse compiler. This is what caused long build time in my case. Btw, I really prefer Maven to Gradle."},{"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"score":0,"creation_date":1532633524,"post_id":40430004,"comment_id":90060221,"body_markdown":"I recall seeing endless rebuild loops at one point, but I can&#39;t remember the cause. I *think* I saw endless reinit stuff happening when my drive was full at one point.\nAs for speed, I tell IntelliJ to use the Eclipse compiler, and in the Run config dialog box, I replace &quot;build&quot; with &quot;build, no error check&quot;. I also tell gradle to build offline.\nLovely all those obscure hidden gotchas left and right isn&#39;t it. Other than those poorly designed things,  once it all goes, it&#39;s pretty productive though....","body":"I recall seeing endless rebuild loops at one point, but I can&#39;t remember the cause. I <i>think</i> I saw endless reinit stuff happening when my drive was full at one point. As for speed, I tell IntelliJ to use the Eclipse compiler, and in the Run config dialog box, I replace &quot;build&quot; with &quot;build, no error check&quot;. I also tell gradle to build offline. Lovely all those obscure hidden gotchas left and right isn&#39;t it. Other than those poorly designed things,  once it all goes, it&#39;s pretty productive though...."},{"owner":{"account_id":1483504,"reputation":20404,"user_id":1392277,"accept_rate":84,"display_name":"LppEdd"},"score":0,"creation_date":1532634145,"post_id":40430004,"comment_id":90060493,"body_markdown":"The &quot;no error check&quot; does not count. Read my post here till the end https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000623464-Project-Build-and-Artifacts-Build-clarification\n\nThe company I code for is using MyEclipse. First thing I&#39;ve done is configure IntelliJ. I&#39;ve been paying for it for a couple of years now, but I only use EAPs.\nInspections are an absolute MUST for me, they help delivering awesome quality and clean code","body":"The &quot;no error check&quot; does not count. Read my post here till the end <a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000623464-Project-Build-and-Artifacts-Build-clarification\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/community/posts/&hellip;</a>  The company I code for is using MyEclipse. First thing I&#39;ve done is configure IntelliJ. I&#39;ve been paying for it for a couple of years now, but I only use EAPs. Inspections are an absolute MUST for me, they help delivering awesome quality and clean code"},{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":0,"creation_date":1623403014,"post_id":40430004,"comment_id":120074709,"body_markdown":"Two issues that cause full rebuilds: 1) code generation, 2) cyclical dependencies. Cyclical dependencies are legal but not generally checked against by code checkers. However, they do cause every class to be dependent on every other class. Which of course means a 1 letter edit potentially means a full rebuild. Then there&#39;s the notion that a lot of stuff is done by gradle which means Intellij and gradle are doing double bookkeeping on the state of the world and constantly disagree with each other. Worst case you are dealing with 2x the work or repeated rebuilds or cache invalidation.","body":"Two issues that cause full rebuilds: 1) code generation, 2) cyclical dependencies. Cyclical dependencies are legal but not generally checked against by code checkers. However, they do cause every class to be dependent on every other class. Which of course means a 1 letter edit potentially means a full rebuild. Then there&#39;s the notion that a lot of stuff is done by gradle which means Intellij and gradle are doing double bookkeeping on the state of the world and constantly disagree with each other. Worst case you are dealing with 2x the work or repeated rebuilds or cache invalidation."}],"answers":[{"comments":[{"owner":{"account_id":1033633,"reputation":7977,"user_id":1041442,"accept_rate":75,"display_name":"Jilles van Gurp"},"score":1,"creation_date":1623402811,"post_id":54497820,"comment_id":120074642,"body_markdown":"None of this is relevant. I see the same pattern on every install of intellij I&#39;ve ever used, including on platforms that don&#39;t have a virus scanner. The virus scanner is not the root cause for this though it obviously does not help if you have a particularly aggressive one.","body":"None of this is relevant. I see the same pattern on every install of intellij I&#39;ve ever used, including on platforms that don&#39;t have a virus scanner. The virus scanner is not the root cause for this though it obviously does not help if you have a particularly aggressive one."},{"owner":{"account_id":122115,"reputation":5060,"user_id":315702,"accept_rate":88,"display_name":"Mark McClelland"},"score":2,"creation_date":1623447873,"post_id":54497820,"comment_id":120091322,"body_markdown":"@JillesvanGurp Actually, it is relevant, and has helped me and others many times, sometimes cutting build times by 40% or more. I think what you&#39;re saying is that even with virus scanning and search indexing out of the picture, build times are still slow? If so, I agree. Gradle builds are slow, and there&#39;s only so much that can be done to tweak that. However, if you have to use Gradle, the tweaks make a big difference. This isn&#39;t a single-root-cause problem.","body":"@JillesvanGurp Actually, it is relevant, and has helped me and others many times, sometimes cutting build times by 40% or more. I think what you&#39;re saying is that even with virus scanning and search indexing out of the picture, build times are still slow? If so, I agree. Gradle builds are slow, and there&#39;s only so much that can be done to tweak that. However, if you have to use Gradle, the tweaks make a big difference. This isn&#39;t a single-root-cause problem."}],"tags":[],"owner":{"account_id":122115,"reputation":5060,"user_id":315702,"accept_rate":88,"display_name":"Mark McClelland"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1600706849,"creation_date":1549143807,"answer_id":54497820,"question_id":40430004,"body_markdown":"Make sure to disable anti-virus protection in your Gradle caches directory and your IntelliJ project directory. For me, this reduces Java compilation time dramatically, because of all the intermediate files and JARs associated with Java builds. Excluding those same directories from Windows Search indexing can also help.\r\n\r\nAs of September, 2020, this is the list of default directory locations that should be exluded from virus scanning and Windows search indexing, published [here][1].\r\n\r\n- Gradle cache: `%USERPROFILE%\\.gradle`\r\n- Android Studio projects: `%USERPROFILE%\\AndroidStudioProjects`\r\n- Android SDK: `%USERPROFILE%\\AppData\\Local\\Android\\SDK`\r\n- Android Studio system files: `%USERPROFILE%\\.AndroidStudio&lt;version&gt;\\system`\r\n\r\nI published some [instructions][2] on my blog for doing this for Windows Defender and Windows Search Indexing, which I&#39;ll repost here for completeness:\r\n\r\n**Windows Defender - How to Exclude a Directory**\r\n\r\n1. Open Windows Defender Settings\r\n2. Click &quot;Virus &amp; threat protection&quot;\r\n3. Click &quot;Virus &amp; threat protection settings&quot;\r\n4. Scroll down to &quot;Exclusions&quot; and click &quot;Add or remove exclusions&quot;\r\n5. Click &quot;Add an exclusion&quot; and select &quot;Folder&quot; from the drop-down menu\r\n6. Navigate to the directory to be excluded, or paste its path into the &quot;Folder&quot; text-box, and click &quot;Select Folder&quot;\r\n\r\n**Windows Search Indexing - How to Exclude A Directory**\r\n\r\n1. Open Windows Control Panel\r\n2. Search for &quot;index&quot; and choose &quot;Indexing Options&quot;\r\n3. Click the &quot;Modify&quot; button\r\n4. Under the appropriate drive letter, navigate to the folder you want to exclude, and make sure it is unchecked\r\n5. Double-check your work by verifying the directory shows up in the &quot;Exclude&quot; column of the &quot;Summary of selected locations&quot; table\r\n\r\n\r\n  [1]: https://developer.android.com/studio/intro/studio-config?utm_source=android-studio#antivirus-impact\r\n  [2]: https://poetengineer.postach.io/post/how-to-speed-up-your-gradle-build","title":"Intellij build times are too long. Gradle not helping","body":"<p>Make sure to disable anti-virus protection in your Gradle caches directory and your IntelliJ project directory. For me, this reduces Java compilation time dramatically, because of all the intermediate files and JARs associated with Java builds. Excluding those same directories from Windows Search indexing can also help.</p>\n<p>As of September, 2020, this is the list of default directory locations that should be exluded from virus scanning and Windows search indexing, published <a href=\"https://developer.android.com/studio/intro/studio-config?utm_source=android-studio#antivirus-impact\" rel=\"nofollow noreferrer\">here</a>.</p>\n<ul>\n<li>Gradle cache: <code>%USERPROFILE%\\.gradle</code></li>\n<li>Android Studio projects: <code>%USERPROFILE%\\AndroidStudioProjects</code></li>\n<li>Android SDK: <code>%USERPROFILE%\\AppData\\Local\\Android\\SDK</code></li>\n<li>Android Studio system files: <code>%USERPROFILE%\\.AndroidStudio&lt;version&gt;\\system</code></li>\n</ul>\n<p>I published some <a href=\"https://poetengineer.postach.io/post/how-to-speed-up-your-gradle-build\" rel=\"nofollow noreferrer\">instructions</a> on my blog for doing this for Windows Defender and Windows Search Indexing, which I'll repost here for completeness:</p>\n<p><strong>Windows Defender - How to Exclude a Directory</strong></p>\n<ol>\n<li>Open Windows Defender Settings</li>\n<li>Click &quot;Virus &amp; threat protection&quot;</li>\n<li>Click &quot;Virus &amp; threat protection settings&quot;</li>\n<li>Scroll down to &quot;Exclusions&quot; and click &quot;Add or remove exclusions&quot;</li>\n<li>Click &quot;Add an exclusion&quot; and select &quot;Folder&quot; from the drop-down menu</li>\n<li>Navigate to the directory to be excluded, or paste its path into the &quot;Folder&quot; text-box, and click &quot;Select Folder&quot;</li>\n</ol>\n<p><strong>Windows Search Indexing - How to Exclude A Directory</strong></p>\n<ol>\n<li>Open Windows Control Panel</li>\n<li>Search for &quot;index&quot; and choose &quot;Indexing Options&quot;</li>\n<li>Click the &quot;Modify&quot; button</li>\n<li>Under the appropriate drive letter, navigate to the folder you want to exclude, and make sure it is unchecked</li>\n<li>Double-check your work by verifying the directory shows up in the &quot;Exclude&quot; column of the &quot;Summary of selected locations&quot; table</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7648417,"reputation":83,"user_id":5798166,"display_name":"Carl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558690796,"creation_date":1558690796,"answer_id":56289877,"question_id":40430004,"body_markdown":"Even I was facing the same issue and found one option in Intellij IDE, which closely solves my issue, but not fully.\r\n\r\n[`Build Project Automatically` and Compile in Parallel][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2c9zF.png\r\n\r\n\r\nThough it does not solve fully, but I see some performance improvement in build time, whenever I add/upgrade dependency and run the tests.","title":"Intellij build times are too long. Gradle not helping","body":"<p>Even I was facing the same issue and found one option in Intellij IDE, which closely solves my issue, but not fully.</p>\n\n<p><a href=\"https://i.stack.imgur.com/2c9zF.png\" rel=\"nofollow noreferrer\"><code>Build Project Automatically</code> and Compile in Parallel</a></p>\n\n<p>Though it does not solve fully, but I see some performance improvement in build time, whenever I add/upgrade dependency and run the tests.</p>\n"},{"tags":[],"owner":{"account_id":21427279,"reputation":9,"user_id":15784373,"display_name":"ivvasch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696490360,"creation_date":1696490321,"answer_id":77234954,"question_id":40430004,"body_markdown":"I had a some problem with gradle. When i add some changes or after long time between had ran project I detect long build time of project. I solve this problem. Before start project I open gradle tab and run update on tab. After this process application run with standard speed.\r\n[gradle tab][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yHq2Y.png","title":"Intellij build times are too long. Gradle not helping","body":"<p>I had a some problem with gradle. When i add some changes or after long time between had ran project I detect long build time of project. I solve this problem. Before start project I open gradle tab and run update on tab. After this process application run with standard speed.\n<a href=\"https://i.stack.imgur.com/yHq2Y.png\" rel=\"nofollow noreferrer\">gradle tab</a></p>\n"}],"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15482,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1696490360,"creation_date":1478285945,"question_id":40430004,"body_markdown":"I am frustrated by the long build time that IDEA needs before starting my application. I do use DCEVM to enjoy changing code on the fly better than plain hot-swap does, but this doesn&#39;t work if I really do need to start my applications multiple times.\r\n\r\nIDEA is supposed to be able to have incremental compilation, but I&#39;m not seeing it. I see no options to enable this. Start or starting a debug of the application, takes nearly half a minute. Must it take so long? In theory, IDEA has all the class files already generated, except for the source files that were *just* edited. IDEA ought to be able to fill in the few blanks, and get the application running almost instantly. What&#39;s the hold up, why does it insist it must re-compile every single source file again?\r\nps. I&#39;m using the Eclipse compiler in IDEA, so that it tolerates some source files not being compilable. I have to do that, because it is one giant tree of java files, where I can not control every one.\r\n\r\nThen I saw that perhaps Gradle does have incremental compilation. So I thought to re-create my project, this time with Gradle. I am having a very difficult time figuring out how it works, how it integrates, what tasks are moved from IDEA to Gradle (if any). Even creating a simple skeleton test application with Gradle in IDEA is very frustrating. There are all sorts of fuzzy bits all over the place that leaves you guessing. The tutorials on Jetbrains are almost useless. I can&#39;t find one single clear to the point that just explains it in a nutshell how it works. I see some demos that says, click here, and here, and there, but the results on my end aren&#39;t the same as what I see outlined.\r\n\r\nFor instance, Gradle complains that it can&#39;t find the junit jar. Ok, so I go into the project settings, and attempt to add the junit jar to the classpath. Under Libraries, I then see an entry to &quot;Gradle: junit:junit:4.11&quot;. But there is a second one: &quot;junit-4.11&quot;. Why two? Can I delete one? Why is the one so verbal, colon this colon that, etc.\r\nSo I add the junit jar files I have to both.\r\nBut then in the Gradle Projects window, where I see the hierarchical breakdown of the gradle project setup, verification-&gt;test. This is then supposed to run the test class I did manage to create.\r\n\r\n    FAILURE: Build failed with an exception.\r\n    * What went wrong:\r\n    Could not resolve all dependencies for configuration &#39;:testCompileClasspath&#39;.\r\n    &gt; Could not resolve junit:junit:4.11.\r\n      Required by:\r\n          xpert_client4:xpert_client4:1.0-SNAPSHOT\r\n       &gt; No cached version of junit:junit:4.11 available for offline mode.\r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n\r\n&quot;Could not resolve junit:junit:4.11&quot;.\r\n\r\nGradle is extremely frustrating. If all I have to have, is to start a main() in a large project, why would I go through this trouble of using this gradle system that offers things I don&#39;t need? Why is it so convoluted, fuzzy, and confusing?\r\n\r\nSame goes for an Android project. IDEA can compile and run an Android app without Gradle just fine. Simply avoid anything gradle when setting up, and it just works.\r\n\r\nPlus there are all the things that one has to do to speed up the supposedly slow Gradle system. There is the daemon thing. Parallelize, and apparently you can set it in two ways (why). Configure on demand. Globalize. Minimize. minSdkVersion. Offline (oh no, not that Maven thing that pulls down jar files from the internet over and over). jCenter. Profile.... it goes on and on. All those workarounds, hacks, adjustments, tweaks.\r\nIs there *anything* to be gained by gradle-ifying a working IDEA project? *Would* I get faster build and startup times if I go through all this trouble? Can I avoid Gradle altogether, and forever (in the hopes that it doesn&#39;t somehow becomes mandatory).\r\n\r\nI&#39;ve been coding since the 80s. I&#39;ve used all sorts of systems. I&#39;ve build my own build systems. I&#39;m not green here. I also hate having RTFM, if those FMs don&#39;t get to the point, and don&#39;t explain things well - as if the ones that wrote it, don&#39;t really understand it themselves - they know what buttons to press to get it going and that&#39;s it.\r\nI find this thing one of the most frustrating things I have seen in a long time. The previous horrible build system I&#39;ve tried in the past, and have avoided like the plague since, is Maven. The lack of clear thinking with these systems is astounding.\r\n\r\nSo, aside from these frustrations, what I&#39;m after is: is it worth figuring out Gradle and applying all the workarounds and tweaks, so that I may, once I go through this grief, enjoy faster build and startup times of my application?\r\n\r\nOr, would I be better off, avoid Gradle altogether, and instead, do something like place the startup of my application in a loop, so that every time I exit that the application that it re-runs main(). I would then use DCEVM to code on the fly while possible.\r\n\r\nLastly, I forgot to mention. Enabling automatic build in IDEA works really badly. A build seems to always involve re-building every single file, over and over. And setting build to automatic, all it ends up doing is it redoing this in the background over and over. There is nothing that happens in an asynchronous way, where when I finish editing a source file, and start the debug of the application, where IDEA has done any of the building in the background ahead of time, because it redoes the whole thing again after every single tiny little code change. Plus it makes the CPUs spike to near 100% constantly.\r\nIDEA is a great IDE, but the whole compile thing is a total nightmare front to back.","title":"Intellij build times are too long. Gradle not helping","body":"<p>I am frustrated by the long build time that IDEA needs before starting my application. I do use DCEVM to enjoy changing code on the fly better than plain hot-swap does, but this doesn't work if I really do need to start my applications multiple times.</p>\n\n<p>IDEA is supposed to be able to have incremental compilation, but I'm not seeing it. I see no options to enable this. Start or starting a debug of the application, takes nearly half a minute. Must it take so long? In theory, IDEA has all the class files already generated, except for the source files that were <em>just</em> edited. IDEA ought to be able to fill in the few blanks, and get the application running almost instantly. What's the hold up, why does it insist it must re-compile every single source file again?\nps. I'm using the Eclipse compiler in IDEA, so that it tolerates some source files not being compilable. I have to do that, because it is one giant tree of java files, where I can not control every one.</p>\n\n<p>Then I saw that perhaps Gradle does have incremental compilation. So I thought to re-create my project, this time with Gradle. I am having a very difficult time figuring out how it works, how it integrates, what tasks are moved from IDEA to Gradle (if any). Even creating a simple skeleton test application with Gradle in IDEA is very frustrating. There are all sorts of fuzzy bits all over the place that leaves you guessing. The tutorials on Jetbrains are almost useless. I can't find one single clear to the point that just explains it in a nutshell how it works. I see some demos that says, click here, and here, and there, but the results on my end aren't the same as what I see outlined.</p>\n\n<p>For instance, Gradle complains that it can't find the junit jar. Ok, so I go into the project settings, and attempt to add the junit jar to the classpath. Under Libraries, I then see an entry to \"Gradle: junit:junit:4.11\". But there is a second one: \"junit-4.11\". Why two? Can I delete one? Why is the one so verbal, colon this colon that, etc.\nSo I add the junit jar files I have to both.\nBut then in the Gradle Projects window, where I see the hierarchical breakdown of the gradle project setup, verification->test. This is then supposed to run the test class I did manage to create.</p>\n\n<pre><code>FAILURE: Build failed with an exception.\n* What went wrong:\nCould not resolve all dependencies for configuration ':testCompileClasspath'.\n&gt; Could not resolve junit:junit:4.11.\n  Required by:\n      xpert_client4:xpert_client4:1.0-SNAPSHOT\n   &gt; No cached version of junit:junit:4.11 available for offline mode.\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n</code></pre>\n\n<p>\"Could not resolve junit:junit:4.11\".</p>\n\n<p>Gradle is extremely frustrating. If all I have to have, is to start a main() in a large project, why would I go through this trouble of using this gradle system that offers things I don't need? Why is it so convoluted, fuzzy, and confusing?</p>\n\n<p>Same goes for an Android project. IDEA can compile and run an Android app without Gradle just fine. Simply avoid anything gradle when setting up, and it just works.</p>\n\n<p>Plus there are all the things that one has to do to speed up the supposedly slow Gradle system. There is the daemon thing. Parallelize, and apparently you can set it in two ways (why). Configure on demand. Globalize. Minimize. minSdkVersion. Offline (oh no, not that Maven thing that pulls down jar files from the internet over and over). jCenter. Profile.... it goes on and on. All those workarounds, hacks, adjustments, tweaks.\nIs there <em>anything</em> to be gained by gradle-ifying a working IDEA project? <em>Would</em> I get faster build and startup times if I go through all this trouble? Can I avoid Gradle altogether, and forever (in the hopes that it doesn't somehow becomes mandatory).</p>\n\n<p>I've been coding since the 80s. I've used all sorts of systems. I've build my own build systems. I'm not green here. I also hate having RTFM, if those FMs don't get to the point, and don't explain things well - as if the ones that wrote it, don't really understand it themselves - they know what buttons to press to get it going and that's it.\nI find this thing one of the most frustrating things I have seen in a long time. The previous horrible build system I've tried in the past, and have avoided like the plague since, is Maven. The lack of clear thinking with these systems is astounding.</p>\n\n<p>So, aside from these frustrations, what I'm after is: is it worth figuring out Gradle and applying all the workarounds and tweaks, so that I may, once I go through this grief, enjoy faster build and startup times of my application?</p>\n\n<p>Or, would I be better off, avoid Gradle altogether, and instead, do something like place the startup of my application in a loop, so that every time I exit that the application that it re-runs main(). I would then use DCEVM to code on the fly while possible.</p>\n\n<p>Lastly, I forgot to mention. Enabling automatic build in IDEA works really badly. A build seems to always involve re-building every single file, over and over. And setting build to automatic, all it ends up doing is it redoing this in the background over and over. There is nothing that happens in an asynchronous way, where when I finish editing a source file, and start the debug of the application, where IDEA has done any of the building in the background ahead of time, because it redoes the whole thing again after every single tiny little code change. Plus it makes the CPUs spike to near 100% constantly.\nIDEA is a great IDE, but the whole compile thing is a total nightmare front to back.</p>\n"},{"tags":["java","swing","netbeans-7"],"answers":[{"tags":[],"owner":{"account_id":366509,"reputation":3373,"user_id":712089,"accept_rate":100,"display_name":"Eric Lilja"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1356085813,"creation_date":1356085813,"answer_id":13988395,"question_id":13986466,"body_markdown":"    package radiobuttongroup;\r\n    \r\n    import java.awt.Container;\r\n    import java.awt.GridLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.swing.ButtonGroup;\r\n    import javax.swing.ButtonModel;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JRadioButton;\r\n    \r\n    public class RadioButtonGroup {\r\n    \r\n      public static void main(String[] args) {\r\n        new RadioButtonGroup();\r\n      }\r\n    \r\n      private RadioButtonGroup() {\r\n        Container contentPane = frame.getContentPane();\r\n        contentPane.setLayout(new GridLayout(0, 1));\r\n    \r\n        for (int i = 1; i &lt;= 5; i++) {\r\n          JRadioButton radio = new JRadioButton(Integer.toString(i));\r\n          ButtonModel buttonModel = radio.getModel();\r\n          modelToRadioButton.put(buttonModel, radio);\r\n          buttonGroup.add(radio);\r\n          contentPane.add(radio);\r\n        }\r\n    \r\n        JButton buttonTestSelection = new JButton(&quot;Selection Test&quot;);\r\n        JButton buttonClearSelection = new JButton(&quot;Clear Selection&quot;);\r\n        contentPane.add(buttonTestSelection);\r\n        contentPane.add(buttonClearSelection);\r\n    \r\n        buttonTestSelection.addActionListener(new ActionListener() {\r\n            @Override public void actionPerformed(ActionEvent arg0) {\r\n              ButtonModel buttonModel = buttonGroup.getSelection();\r\n    \r\n              if (buttonModel == null) {\r\n                System.out.println(&quot;No radio button is selected&quot;);\r\n              }\r\n              else {\r\n                if (modelToRadioButton.containsKey(buttonModel)) {\r\n                  JRadioButton b = modelToRadioButton.get(buttonModel);\r\n                  System.out.println(&quot;You selected button &quot; + b.getText());\r\n                }\r\n                else {\r\n                  System.err.println(&quot;Weird, unrecognised button model!&quot;);\r\n                }\r\n              }\r\n            }\r\n          });\r\n    \r\n        buttonClearSelection.addActionListener(new ActionListener() {\r\n            @Override public void actionPerformed(ActionEvent e) {\r\n              buttonGroup.clearSelection();\r\n            }\r\n          });\r\n    \r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    \r\n      private JFrame frame = new JFrame(&quot;RadioButtonGroup&quot;);\r\n      private Map&lt;ButtonModel, JRadioButton&gt; modelToRadioButton =\r\n        new LinkedHashMap&lt;ButtonModel, JRadioButton&gt;();\r\n      private ButtonGroup buttonGroup = new ButtonGroup();\r\n    }\r\n\r\n","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<pre><code>package radiobuttongroup;\n\nimport java.awt.Container;\nimport java.awt.GridLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport javax.swing.ButtonGroup;\nimport javax.swing.ButtonModel;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JRadioButton;\n\npublic class RadioButtonGroup {\n\n  public static void main(String[] args) {\n    new RadioButtonGroup();\n  }\n\n  private RadioButtonGroup() {\n    Container contentPane = frame.getContentPane();\n    contentPane.setLayout(new GridLayout(0, 1));\n\n    for (int i = 1; i &lt;= 5; i++) {\n      JRadioButton radio = new JRadioButton(Integer.toString(i));\n      ButtonModel buttonModel = radio.getModel();\n      modelToRadioButton.put(buttonModel, radio);\n      buttonGroup.add(radio);\n      contentPane.add(radio);\n    }\n\n    JButton buttonTestSelection = new JButton(\"Selection Test\");\n    JButton buttonClearSelection = new JButton(\"Clear Selection\");\n    contentPane.add(buttonTestSelection);\n    contentPane.add(buttonClearSelection);\n\n    buttonTestSelection.addActionListener(new ActionListener() {\n        @Override public void actionPerformed(ActionEvent arg0) {\n          ButtonModel buttonModel = buttonGroup.getSelection();\n\n          if (buttonModel == null) {\n            System.out.println(\"No radio button is selected\");\n          }\n          else {\n            if (modelToRadioButton.containsKey(buttonModel)) {\n              JRadioButton b = modelToRadioButton.get(buttonModel);\n              System.out.println(\"You selected button \" + b.getText());\n            }\n            else {\n              System.err.println(\"Weird, unrecognised button model!\");\n            }\n          }\n        }\n      });\n\n    buttonClearSelection.addActionListener(new ActionListener() {\n        @Override public void actionPerformed(ActionEvent e) {\n          buttonGroup.clearSelection();\n        }\n      });\n\n    frame.pack();\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n  }\n\n  private JFrame frame = new JFrame(\"RadioButtonGroup\");\n  private Map&lt;ButtonModel, JRadioButton&gt; modelToRadioButton =\n    new LinkedHashMap&lt;ButtonModel, JRadioButton&gt;();\n  private ButtonGroup buttonGroup = new ButtonGroup();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1384037,"reputation":319,"user_id":2001348,"accept_rate":67,"display_name":"C.Neal"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1364318176,"creation_date":1364318176,"answer_id":15643410,"question_id":13986466,"body_markdown":"Since you only have 5 radio buttons you could manually check all of them \r\n(assume the radio buttons are named radio1, ... , radio5):\r\n\r\n     boolean isRadio1, isRadio2, isRadio3, isRadio4, isRadio5 = false;\r\n\r\n     if (radio1.isSelected() == true) isRadio1 = true;\r\n     if (radio2.isSelected() == true) isRadio2 = true;\r\n     if (radio3.isSelected() == true) isRadio3 = true;\r\n     if (radio4.isSelected() == true) isRadio4 = true;\r\n     if (radio5.isSelected() == true) isRadio5 = true;\r\n\r\nNot the most elegant solution, but it will do the trick.","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>Since you only have 5 radio buttons you could manually check all of them \n(assume the radio buttons are named radio1, ... , radio5):</p>\n\n<pre><code> boolean isRadio1, isRadio2, isRadio3, isRadio4, isRadio5 = false;\n\n if (radio1.isSelected() == true) isRadio1 = true;\n if (radio2.isSelected() == true) isRadio2 = true;\n if (radio3.isSelected() == true) isRadio3 = true;\n if (radio4.isSelected() == true) isRadio4 = true;\n if (radio5.isSelected() == true) isRadio5 = true;\n</code></pre>\n\n<p>Not the most elegant solution, but it will do the trick.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1374571562,"post_id":17806151,"comment_id":25980347,"body_markdown":"hmm .. nothing new compared to a [previous answer](http://stackoverflow.com/a/13988395/203657), is there?","body":"hmm .. nothing new compared to a <a href=\"http://stackoverflow.com/a/13988395/203657\">previous answer</a>, is there?"}],"tags":[],"owner":{"account_id":422616,"reputation":305,"user_id":801485,"display_name":"EOC"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1374571149,"creation_date":1374571149,"answer_id":17806151,"question_id":13986466,"body_markdown":"    buttonGroup1.getSelection()==null","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<pre><code>buttonGroup1.getSelection()==null\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3895396,"reputation":11,"user_id":3224578,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390411577,"creation_date":1390411577,"answer_id":21289736,"question_id":13986466,"body_markdown":"You can&#39;t do much by way of the ButtonModel when it comes to finding a selected radio button.  But a ButtonGroup does have the method getElements() that returns an Enumeration of AbstractButtons.  These AbstractButtons can be cast to JRadioButtons during iteration through the Enumeration...\r\n\r\nThe following method will return the selected JRadioButton of the ButtonGroup passed into it, or return null if none is selected...\r\n\r\n    private JRadioButton getSelectedRadioButton(ButtonGroup buttonGroup) {\r\n\r\n        Enumeration&lt;AbstractButton&gt; abstractButtons = buttonGroup.getElements();\r\n        JRadioButton radioButton = null;\r\n\r\n        while (abstractButtons.hasMoreElements()) {\r\n            radioButton = (JRadioButton) abstractButtons.nextElement();\r\n            if (radioButton.isSelected()) {\r\n                break;\r\n            }\r\n        }\r\n        return radioButton;\r\n    }\r\n \r\n\r\nOnce you have the selected JRadioButton, it&#39;s elementary to access its properties.  Suppose you want the text property of whatever button is selected...\r\n\r\n    String selectedRadioButtonText = getSelectedRadioButton(buttonGroup).getText();\r\n\r\nI hope this helps someone!!!","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>You can't do much by way of the ButtonModel when it comes to finding a selected radio button.  But a ButtonGroup does have the method getElements() that returns an Enumeration of AbstractButtons.  These AbstractButtons can be cast to JRadioButtons during iteration through the Enumeration...</p>\n\n<p>The following method will return the selected JRadioButton of the ButtonGroup passed into it, or return null if none is selected...</p>\n\n<pre><code>private JRadioButton getSelectedRadioButton(ButtonGroup buttonGroup) {\n\n    Enumeration&lt;AbstractButton&gt; abstractButtons = buttonGroup.getElements();\n    JRadioButton radioButton = null;\n\n    while (abstractButtons.hasMoreElements()) {\n        radioButton = (JRadioButton) abstractButtons.nextElement();\n        if (radioButton.isSelected()) {\n            break;\n        }\n    }\n    return radioButton;\n}\n</code></pre>\n\n<p>Once you have the selected JRadioButton, it's elementary to access its properties.  Suppose you want the text property of whatever button is selected...</p>\n\n<pre><code>String selectedRadioButtonText = getSelectedRadioButton(buttonGroup).getText();\n</code></pre>\n\n<p>I hope this helps someone!!!</p>\n"},{"tags":[],"owner":{"account_id":3895913,"reputation":21,"user_id":3224966,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390419542,"creation_date":1390418323,"answer_id":21291958,"question_id":13986466,"body_markdown":"Additionally, and more to the point of your question, you can determine if there is a selection among the radio buttons of a button group using the getSelected() method of the ButtonGroup class since it returns null if nothing is selected.\r\n    \r\n    private boolean isSelection(ButtonGroup buttonGroup) {\r\n        return (buttonGroup.getSelected() != null);\r\n    }\r\n\r\nI hope this helps someone!!!\r\n\r\n   \r\n","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>Additionally, and more to the point of your question, you can determine if there is a selection among the radio buttons of a button group using the getSelected() method of the ButtonGroup class since it returns null if nothing is selected.</p>\n\n<pre><code>private boolean isSelection(ButtonGroup buttonGroup) {\n    return (buttonGroup.getSelected() != null);\n}\n</code></pre>\n\n<p>I hope this helps someone!!!</p>\n"},{"tags":[],"owner":{"account_id":3957359,"reputation":1,"user_id":3265424,"display_name":"Adriano Ellero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696490314,"creation_date":1696490314,"answer_id":77234953,"question_id":13986466,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;html&gt;\r\n    &lt;body&gt;\r\n       &lt;h3&gt;Using the &lt;i&gt;checked property&lt;/i&gt; of the radio button to check whether a radio button is selected&lt;/h3&gt;\r\n       &lt;input type = &quot;radio&quot; name = &quot;radio&quot; value = &quot;10&quot; id = &quot;radio1&quot;&gt; 10 &lt;/input&gt; &lt;br&gt;\r\n       &lt;input type = &quot;radio&quot; name = &quot;radio&quot; value = &quot;20&quot; id = &quot;radio2&quot;&gt; 20 &lt;/input&gt; &lt;br&gt;\r\n       &lt;input type = &quot;radio&quot; name = &quot;radio&quot; value = &quot;30&quot; id = &quot;radio3&quot; /&gt; 30 &lt;/input&gt;\r\n       &lt;p id = &quot;output&quot;&gt; &lt;/p&gt;\r\n       &lt;button onclick = &quot;getSelectedRadio()&quot;&gt; Check radio &lt;/button&gt;\r\n       &lt;script&gt;\r\n          let output = document.getElementById(&quot;output&quot;);\r\n          function getSelectedRadio() {\r\n             let radioButtons = document.getElementsByName(&#39;radio&#39;);\r\n             for (let radio of radioButtons) {\r\n                if (radio.checked) {\r\n                   output.innerHTML = &quot;The radio button is selected and it&#39;s value is &quot; + radio.value;\r\n                }\r\n             }\r\n          }\r\n       &lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;body&gt;\n   &lt;h3&gt;Using the &lt;i&gt;checked property&lt;/i&gt; of the radio button to check whether a radio button is selected&lt;/h3&gt;\n   &lt;input type = \"radio\" name = \"radio\" value = \"10\" id = \"radio1\"&gt; 10 &lt;/input&gt; &lt;br&gt;\n   &lt;input type = \"radio\" name = \"radio\" value = \"20\" id = \"radio2\"&gt; 20 &lt;/input&gt; &lt;br&gt;\n   &lt;input type = \"radio\" name = \"radio\" value = \"30\" id = \"radio3\" /&gt; 30 &lt;/input&gt;\n   &lt;p id = \"output\"&gt; &lt;/p&gt;\n   &lt;button onclick = \"getSelectedRadio()\"&gt; Check radio &lt;/button&gt;\n   &lt;script&gt;\n      let output = document.getElementById(\"output\");\n      function getSelectedRadio() {\n         let radioButtons = document.getElementsByName('radio');\n         for (let radio of radioButtons) {\n            if (radio.checked) {\n               output.innerHTML = \"The radio button is selected and it's value is \" + radio.value;\n            }\n         }\n      }\n   &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":2168375,"reputation":31,"user_id":1920964,"display_name":"Hemant"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49784,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1696490314,"creation_date":1356077558,"question_id":13986466,"body_markdown":"I have a buttongroup of 5 radio buttons and I need to check if at least one of them is selected or not.\r\n\r\nIs this right?\r\n\r\n`buttonGroup1.isSelected(ButtonModel);`\r\n\r\nBut what is `ButtonmModel` here?","title":"How to check whether a radiobutton is selected in a buttongroup?","body":"<p>I have a buttongroup of 5 radio buttons and I need to check if at least one of them is selected or not.</p>\n\n<p>Is this right?</p>\n\n<p><code>buttonGroup1.isSelected(ButtonModel);</code></p>\n\n<p>But what is <code>ButtonmModel</code> here?</p>\n"},{"tags":["java","android","flutter","kotlin","dart"],"owner":{"account_id":28591776,"reputation":9,"user_id":21890833,"display_name":"dr3kiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696490217,"creation_date":1696490217,"question_id":77234937,"body_markdown":"I am making a vpn app in Android Studio / Flutter, and I need to communicate between flutter and native code (as flutter_openvpn package doesn&#39;t work anymore). I have set up a method channel for the flutter to communicate back and forth between but it won&#39;t even allow a simple connection between it and Kotlin. Flutter compiles fine, error only when button is pressed.\r\nI am getting this error \r\n\r\n    Error: MissingPluginException(No implementation found for method connectOpenVPN on channel com.example.myapp/openvpn)\r\n\r\nHere is the sample code I have for both.\r\n\r\n```flutter\r\nimport &#39;package:flutter/material.dart&#39;;\r\nimport &#39;package:flutter/services.dart&#39;;\r\n\r\nvoid main() {\r\n  runApp(MyApp());\r\n}\r\n\r\nclass MyApp extends StatelessWidget {\r\n  // Define a channel with the same name as on the native side\r\n  final MethodChannel platform = MethodChannel(&#39;com.example.myapp/openvpn&#39;);\r\n\r\n  Future&lt;void&gt; connectOpenVPN() async {\r\n    try {\r\n      final String result = await platform.invokeMethod(&#39;connectOpenVPN&#39;);\r\n      print(&#39;OpenVPN Result: $result&#39;);\r\n    } on PlatformException catch (e) {\r\n      print(&#39;Error executing OpenVPN: ${e.message}&#39;);\r\n    }\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return MaterialApp(\r\n      home: Scaffold(\r\n        appBar: AppBar(\r\n          title: Text(&#39;OpenVPN Example&#39;),\r\n        ),\r\n        body: Center(\r\n          child: ElevatedButton(\r\n            onPressed: () {\r\n              connectOpenVPN(); // Call the OpenVPN method here\r\n            },\r\n            child: Text(&#39;Connect to OpenVPN&#39;),\r\n          ),\r\n        ),\r\n      ),\r\n    );\r\n  }\r\n}\r\n```\r\nthat is flutter and this is the kotlin\r\n```kotlin\r\npackage com.example.myapp\r\n\r\nimport android.content.Context\r\nimport android.os.Handler\r\nimport android.os.Looper\r\nimport android.util.Log\r\nimport android.widget.Toast\r\nimport io.flutter.embedding.android.FlutterActivity\r\nimport io.flutter.embedding.engine.FlutterEngine\r\nimport io.flutter.plugin.common.MethodCall\r\nimport io.flutter.plugin.common.MethodChannel\r\nimport java.io.BufferedReader\r\nimport java.io.IOException\r\nimport java.io.InputStreamReader\r\n\r\nclass MainActivity : FlutterActivity() {\r\n    private val CHANNEL = &quot;com.example.myapp/openvpn&quot;\r\n\r\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\r\n        super.configureFlutterEngine(flutterEngine)\r\n\r\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result -&gt;\r\n\r\n            if (call.method == &quot;connectOpenVPN&quot;) {\r\n                val serverHostname = &quot;example.com&quot;\r\n                val serverPort = 443\r\n                val protocol = &quot;udp&quot;\r\n                val username = &quot;example&quot;\r\n                val password = &quot;example&quot;\r\n\r\n                val openvpnCommand = &quot;openvpn --remote $serverHostname $serverPort --proto $protocol --auth-user-pass &lt;(echo -e &#39;$username\\n$password&#39;)&quot;\r\n\r\n                try {\r\n                    val processBuilder = ProcessBuilder(&quot;/bin/sh&quot;, &quot;-c&quot;, openvpnCommand)\r\n                    val process = processBuilder.start()\r\n\r\n                    val reader = BufferedReader(InputStreamReader(process.inputStream))\r\n                    val output = StringBuilder()\r\n                    var line: String?\r\n                    while (reader.readLine().also { line = it } != null) {\r\n                        output.append(line).append(&#39;\\n&#39;)\r\n                    }\r\n\r\n                    val exitCode = process.waitFor()\r\n                    val outputString = output.toString()\r\n\r\n                    // Show a Toast message with OpenVPN output (optional)\r\n                    Handler(Looper.getMainLooper()).post {\r\n                        showToast(this@MainActivity, &quot;OpenVPN process exited with code: $exitCode\\n$outputString&quot;)\r\n                    }\r\n\r\n                    result.success(outputString)\r\n                } catch (e: IOException) {\r\n                    result.error(&quot;COMMAND_ERROR&quot;, &quot;Error executing OpenVPN command: ${e.message}&quot;, null)\r\n                } catch (e: InterruptedException) {\r\n                    result.error(&quot;INTERRUPTED_ERROR&quot;, &quot;Command execution interrupted: ${e.message}&quot;, null)\r\n                }\r\n            } else {\r\n                result.notImplemented()\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun showToast(context: Context, message: String) {\r\n        Toast.makeText(context, message, Toast.LENGTH_LONG).show()\r\n    }\r\n}\r\n```\r\n\r\nI saw some other threads have the same error occur but their solutions like restarting IDE, invalidating caches and cleaning flutter did not help at all. Perhaps I am missing something very obvious. My flutter code is in the /lib directory and the Kotlin is in the android/app/src/main/kotlin/com/example/vpn/MainActivity.kt  . I have used dummy variables for all of the names and details, the error is just with the method channel.\r\n\r\nPlease help so for now and future I understand where I&#39;ve gone wrong. Thank you. ","title":"Flutter Method Channels &quot;Error: MissingPluginException(No implementation found for method nativeMethod on channel com.example.myapp/methodChannel)&quot;","body":"<p>I am making a vpn app in Android Studio / Flutter, and I need to communicate between flutter and native code (as flutter_openvpn package doesn't work anymore). I have set up a method channel for the flutter to communicate back and forth between but it won't even allow a simple connection between it and Kotlin. Flutter compiles fine, error only when button is pressed.\nI am getting this error</p>\n<pre><code>Error: MissingPluginException(No implementation found for method connectOpenVPN on channel com.example.myapp/openvpn)\n</code></pre>\n<p>Here is the sample code I have for both.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>import 'package:flutter/material.dart';\nimport 'package:flutter/services.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  // Define a channel with the same name as on the native side\n  final MethodChannel platform = MethodChannel('com.example.myapp/openvpn');\n\n  Future&lt;void&gt; connectOpenVPN() async {\n    try {\n      final String result = await platform.invokeMethod('connectOpenVPN');\n      print('OpenVPN Result: $result');\n    } on PlatformException catch (e) {\n      print('Error executing OpenVPN: ${e.message}');\n    }\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('OpenVPN Example'),\n        ),\n        body: Center(\n          child: ElevatedButton(\n            onPressed: () {\n              connectOpenVPN(); // Call the OpenVPN method here\n            },\n            child: Text('Connect to OpenVPN'),\n          ),\n        ),\n      ),\n    );\n  }\n}\n</code></pre>\n<p>that is flutter and this is the kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com.example.myapp\n\nimport android.content.Context\nimport android.os.Handler\nimport android.os.Looper\nimport android.util.Log\nimport android.widget.Toast\nimport io.flutter.embedding.android.FlutterActivity\nimport io.flutter.embedding.engine.FlutterEngine\nimport io.flutter.plugin.common.MethodCall\nimport io.flutter.plugin.common.MethodChannel\nimport java.io.BufferedReader\nimport java.io.IOException\nimport java.io.InputStreamReader\n\nclass MainActivity : FlutterActivity() {\n    private val CHANNEL = &quot;com.example.myapp/openvpn&quot;\n\n    override fun configureFlutterEngine(flutterEngine: FlutterEngine) {\n        super.configureFlutterEngine(flutterEngine)\n\n        MethodChannel(flutterEngine.dartExecutor.binaryMessenger, CHANNEL).setMethodCallHandler { call, result -&gt;\n\n            if (call.method == &quot;connectOpenVPN&quot;) {\n                val serverHostname = &quot;example.com&quot;\n                val serverPort = 443\n                val protocol = &quot;udp&quot;\n                val username = &quot;example&quot;\n                val password = &quot;example&quot;\n\n                val openvpnCommand = &quot;openvpn --remote $serverHostname $serverPort --proto $protocol --auth-user-pass &lt;(echo -e '$username\\n$password')&quot;\n\n                try {\n                    val processBuilder = ProcessBuilder(&quot;/bin/sh&quot;, &quot;-c&quot;, openvpnCommand)\n                    val process = processBuilder.start()\n\n                    val reader = BufferedReader(InputStreamReader(process.inputStream))\n                    val output = StringBuilder()\n                    var line: String?\n                    while (reader.readLine().also { line = it } != null) {\n                        output.append(line).append('\\n')\n                    }\n\n                    val exitCode = process.waitFor()\n                    val outputString = output.toString()\n\n                    // Show a Toast message with OpenVPN output (optional)\n                    Handler(Looper.getMainLooper()).post {\n                        showToast(this@MainActivity, &quot;OpenVPN process exited with code: $exitCode\\n$outputString&quot;)\n                    }\n\n                    result.success(outputString)\n                } catch (e: IOException) {\n                    result.error(&quot;COMMAND_ERROR&quot;, &quot;Error executing OpenVPN command: ${e.message}&quot;, null)\n                } catch (e: InterruptedException) {\n                    result.error(&quot;INTERRUPTED_ERROR&quot;, &quot;Command execution interrupted: ${e.message}&quot;, null)\n                }\n            } else {\n                result.notImplemented()\n            }\n        }\n    }\n\n    private fun showToast(context: Context, message: String) {\n        Toast.makeText(context, message, Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n<p>I saw some other threads have the same error occur but their solutions like restarting IDE, invalidating caches and cleaning flutter did not help at all. Perhaps I am missing something very obvious. My flutter code is in the /lib directory and the Kotlin is in the android/app/src/main/kotlin/com/example/vpn/MainActivity.kt  . I have used dummy variables for all of the names and details, the error is just with the method channel.</p>\n<p>Please help so for now and future I understand where I've gone wrong. Thank you.</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":1410409,"reputation":3690,"user_id":1337135,"accept_rate":80,"display_name":"maszter"},"score":0,"creation_date":1477941571,"post_id":40348899,"comment_id":67952612,"body_markdown":"Does it really has to be an array? You cannot keep different data types in the same array","body":"Does it really has to be an array? You cannot keep different data types in the same array"}],"answers":[{"tags":[],"owner":{"account_id":4013516,"reputation":1381,"user_id":3306301,"display_name":"Rotem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477942246,"creation_date":1477941546,"answer_id":40349069,"question_id":40348899,"body_markdown":"Any addition of data into a two-dimensional array is based on the row and the column:\r\n\r\nmeans for 2d-array with size of NXN:\r\n\r\n    database[0];       // Related to the first row in the array\r\n    database[0][0];    // Is the top left cell in the array.\r\n    database[N-1]      // Related to the last array row\r\n    database[N-1][N-1] // Is the down right cell in the array.\r\n\r\nIf you wish to add grade3 into the array for the second student you should insert the grade into:\r\n\r\n     database[1][2]\r\nWhy? \r\nBecause the counting in the array is zero based, and hence the second student data is saved in \r\n\r\n    database[1]  // The second array row.\r\n\r\nThe first grade should be save in column number 0:\r\n\r\n    database[1][0]\r\n\r\nThe second grade should be save in column number 1:\r\n\r\n    database[1][1]\r\n\r\nThe third grade should be save in column number 2:\r\n\r\n    database[1][2]\r\n\r\nHere you have a very useful [link related to grades 2d-arrays][1].\r\n\r\n**Tip for best practice:**\r\n\r\nWhen using two-dimensional array it is a good practice to make the numbers in the array as static final names with meaning. Instead of:\r\n\r\n    double [][] database = new double[4][15];\r\n\r\nFor example you can try the following syntax:\r\n    \r\n    private static final Integer NUM_OF_STUDENTS = 4\r\n    private static final Integer NUM_OF_TESTS = 15\r\n    double [][] database = new double[NUM_OF_STUDENTS][NUM_OF_TESTS];\r\n\r\n\r\n  [1]: https://chortle.ccsu.edu/java5/Notes/chap49C/ch49C_3.html","title":"How to add data to a two-dimensional array?","body":"<p>Any addition of data into a two-dimensional array is based on the row and the column:</p>\n\n<p>means for 2d-array with size of NXN:</p>\n\n<pre><code>database[0];       // Related to the first row in the array\ndatabase[0][0];    // Is the top left cell in the array.\ndatabase[N-1]      // Related to the last array row\ndatabase[N-1][N-1] // Is the down right cell in the array.\n</code></pre>\n\n<p>If you wish to add grade3 into the array for the second student you should insert the grade into:</p>\n\n<pre><code> database[1][2]\n</code></pre>\n\n<p>Why? \nBecause the counting in the array is zero based, and hence the second student data is saved in </p>\n\n<pre><code>database[1]  // The second array row.\n</code></pre>\n\n<p>The first grade should be save in column number 0:</p>\n\n<pre><code>database[1][0]\n</code></pre>\n\n<p>The second grade should be save in column number 1:</p>\n\n<pre><code>database[1][1]\n</code></pre>\n\n<p>The third grade should be save in column number 2:</p>\n\n<pre><code>database[1][2]\n</code></pre>\n\n<p>Here you have a very useful <a href=\"https://chortle.ccsu.edu/java5/Notes/chap49C/ch49C_3.html\" rel=\"nofollow\">link related to grades 2d-arrays</a>.</p>\n\n<p><strong>Tip for best practice:</strong></p>\n\n<p>When using two-dimensional array it is a good practice to make the numbers in the array as static final names with meaning. Instead of:</p>\n\n<pre><code>double [][] database = new double[4][15];\n</code></pre>\n\n<p>For example you can try the following syntax:</p>\n\n<pre><code>private static final Integer NUM_OF_STUDENTS = 4\nprivate static final Integer NUM_OF_TESTS = 15\ndouble [][] database = new double[NUM_OF_STUDENTS][NUM_OF_TESTS];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2578864,"reputation":2991,"user_id":2235972,"display_name":"denvercoder9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477941861,"creation_date":1477941861,"answer_id":40349158,"question_id":40348899,"body_markdown":"This is what a 2d array looks like:\r\n\r\n[![][1]][1]\r\n\r\nSo, according to my understanding, this is how you should declare your 2d array:\r\n\r\n    double [][] database = new double[15][5];\r\nIt means that there are 15 rows (15 students) and 5 columns (1 column to store the name and the other 4 to store the grades of that student). Now you need a way to store both name and grade in the same array. So the only you can do this is if you declare the type of the array an `Object`.\r\n\r\n    Object [][] database = new Object[15][5];\r\n\r\nAn Object can hold any type of data. Here is an example:\r\n\r\n    database[0][0] = &quot;jon skeet&quot;;\r\n    database[0][1] = 4.0; // grade in double type... you can also keep it as String\r\n    database[0][2] = 4.0;\r\n    database[0][3] = 4.0;\r\n    database[0][4] = 4.0;\r\n\r\n\r\nIf 2d array is not a requirement then I would suggest you to use a HashMap or something else.\r\n  [1]: https://i.stack.imgur.com/tFdLk.gif","title":"How to add data to a two-dimensional array?","body":"<p>This is what a 2d array looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tFdLk.gif\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/tFdLk.gif\" alt=\"\"></a></p>\n\n<p>So, according to my understanding, this is how you should declare your 2d array:</p>\n\n<pre><code>double [][] database = new double[15][5];\n</code></pre>\n\n<p>It means that there are 15 rows (15 students) and 5 columns (1 column to store the name and the other 4 to store the grades of that student). Now you need a way to store both name and grade in the same array. So the only you can do this is if you declare the type of the array an <code>Object</code>.</p>\n\n<pre><code>Object [][] database = new Object[15][5];\n</code></pre>\n\n<p>An Object can hold any type of data. Here is an example:</p>\n\n<pre><code>database[0][0] = \"jon skeet\";\ndatabase[0][1] = 4.0; // grade in double type... you can also keep it as String\ndatabase[0][2] = 4.0;\ndatabase[0][3] = 4.0;\ndatabase[0][4] = 4.0;\n</code></pre>\n\n<p>If 2d array is not a requirement then I would suggest you to use a HashMap or something else.</p>\n"},{"tags":[],"owner":{"account_id":5943913,"reputation":326,"user_id":4674104,"display_name":"Manuel Mejias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477942448,"creation_date":1477942448,"answer_id":40349294,"question_id":40348899,"body_markdown":"Create a Class Student in that class put an Array of Notes, then in the StudenGrade class create an array of Students \r\n\r\n    class Student {\r\n     int []grades;\r\n     String name;\r\n    \r\n     public Student(String name, int NGrades){\r\n     this.name = name\r\n     grades = new int[NGrades];\r\n     }\r\n     public void setGrade(int index, int grade){\r\n     grade[index] = grade;\r\n     }\r\n     public int getGrade(int index){\r\n     return grade[index];\r\n     }\r\n     public String getName(){\r\n     return name;\r\n     }\r\n    }\r\n    \r\n    class StudentGrades {\r\n     Student students[];\r\n    \r\n     public StudentGrades(int NStudents, int NGrades){\r\n     students = new Student[NStudents];\r\n     String names[] = {&quot;Bob&quot;,&quot;Pete&quot;,&quot;Rafi&quot;,&quot;Roff&quot;};\r\n     for(int i=0;i&lt;NStudents;i++){\r\n      students[i] = new Studen(names[i],NGrades);\r\n     }\r\n    }\r\n\r\n    ","title":"How to add data to a two-dimensional array?","body":"<p>Create a Class Student in that class put an Array of Notes, then in the StudenGrade class create an array of Students </p>\n\n<pre><code>class Student {\n int []grades;\n String name;\n\n public Student(String name, int NGrades){\n this.name = name\n grades = new int[NGrades];\n }\n public void setGrade(int index, int grade){\n grade[index] = grade;\n }\n public int getGrade(int index){\n return grade[index];\n }\n public String getName(){\n return name;\n }\n}\n\nclass StudentGrades {\n Student students[];\n\n public StudentGrades(int NStudents, int NGrades){\n students = new Student[NStudents];\n String names[] = {\"Bob\",\"Pete\",\"Rafi\",\"Roff\"};\n for(int i=0;i&lt;NStudents;i++){\n  students[i] = new Studen(names[i],NGrades);\n }\n}\n</code></pre>\n"}],"owner":{"account_id":9325270,"reputation":85,"user_id":6922789,"accept_rate":22,"display_name":"ckorvee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13598,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696489670,"creation_date":1477940873,"question_id":40348899,"body_markdown":"I have to create a program that uses a two-dimensional array to store student names and their grades. The user inputs the students name and their grades and it is then supposed to be added. It has to be able to hold data for 15 students. Can someone tell me how to add data to such an array? I have attached my code so far, as well as my design preview.\r\n\r\n    public class StudentGrades extends javax.swing.JFrame {\r\n        double [][] database = new double[4][15];\r\n    /**\r\n     * Creates new form StudentGrades\r\n     */\r\n    public StudentGrades() {\r\n        initComponents();\r\n        displayButton.setEnabled(false);\r\n        studentButton.setEnabled(false);\r\n        courseButton.setEnabled(false);\r\n    }\r\n   \r\n ...\r\n\r\n    private void exitButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \r\n        //set code to close program\r\n        System.exit(0);\r\n    }                                          \r\n\r\n    private void addButtonActionPerformed(java.awt.event.ActionEvent evt) {                                          \r\n        //clear output area\r\n        outputArea.setText(null);\r\n        \r\n        //enable buttons\r\n        displayButton.setEnabled(true);\r\n        studentButton.setEnabled(true);\r\n        courseButton.setEnabled(true);\r\n        \r\n        //declare variables\r\n        double grade1 = Double.parseDouble(test1.getText());\r\n        double grade2 = Double.parseDouble(test2.getText());\r\n        double grade3 = Double.parseDouble(test3.getText());\r\n        double grade4 = Double.parseDouble(test4.getText());\r\n\r\n[User Interface][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Pw5F3.jpg","title":"How to add data to a two-dimensional array?","body":"<p>I have to create a program that uses a two-dimensional array to store student names and their grades. The user inputs the students name and their grades and it is then supposed to be added. It has to be able to hold data for 15 students. Can someone tell me how to add data to such an array? I have attached my code so far, as well as my design preview.</p>\n\n<pre><code>public class StudentGrades extends javax.swing.JFrame {\n    double [][] database = new double[4][15];\n/**\n * Creates new form StudentGrades\n */\npublic StudentGrades() {\n    initComponents();\n    displayButton.setEnabled(false);\n    studentButton.setEnabled(false);\n    courseButton.setEnabled(false);\n}\n</code></pre>\n\n<p>...</p>\n\n<pre><code>private void exitButtonActionPerformed(java.awt.event.ActionEvent evt) {                                           \n    //set code to close program\n    System.exit(0);\n}                                          \n\nprivate void addButtonActionPerformed(java.awt.event.ActionEvent evt) {                                          \n    //clear output area\n    outputArea.setText(null);\n\n    //enable buttons\n    displayButton.setEnabled(true);\n    studentButton.setEnabled(true);\n    courseButton.setEnabled(true);\n\n    //declare variables\n    double grade1 = Double.parseDouble(test1.getText());\n    double grade2 = Double.parseDouble(test2.getText());\n    double grade3 = Double.parseDouble(test3.getText());\n    double grade4 = Double.parseDouble(test4.getText());\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Pw5F3.jpg\" rel=\"nofollow\">User Interface</a></p>\n"},{"tags":["java","jpa"],"answers":[{"comments":[{"owner":{"account_id":1157141,"reputation":21,"user_id":1137440,"display_name":"Bhumir Jhaveri"},"score":0,"creation_date":1341876308,"post_id":11391685,"comment_id":15037983,"body_markdown":"well thats correct, but its really strange why framework is abandoning you to implement such odd situation.","body":"well thats correct, but its really strange why framework is abandoning you to implement such odd situation."},{"owner":{"account_id":1157141,"reputation":21,"user_id":1137440,"display_name":"Bhumir Jhaveri"},"score":1,"creation_date":1341876457,"post_id":11391685,"comment_id":15038023,"body_markdown":"All this is good when it&#39;s ideal scenario, but everytime one dont end up in getting ideal scenario and there are hardly any changes that can be applied to the data model.","body":"All this is good when it&#39;s ideal scenario, but everytime one dont end up in getting ideal scenario and there are hardly any changes that can be applied to the data model."},{"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"score":0,"creation_date":1341903057,"post_id":11391685,"comment_id":15043085,"body_markdown":"I think it is good they do not support such ridiculous stuff. It is just that if they were to workaround every feature concerning other layers, it would be over-engineered. Here is a workaround you can try http://stackoverflow.com/a/1506775/685962","body":"I think it is good they do not support such ridiculous stuff. It is just that if they were to workaround every feature concerning other layers, it would be over-engineered. Here is a workaround you can try <a href=\"http://stackoverflow.com/a/1506775/685962\">stackoverflow.com/a/1506775/685962</a>"},{"owner":{"account_id":23591,"reputation":11260,"user_id":59202,"accept_rate":86,"display_name":"cbmeeks"},"score":9,"creation_date":1441056432,"post_id":11391685,"comment_id":52515542,"body_markdown":"Telling someone to normalize their database does not work when you have legacy databases that actually pre-date Hibernate and contain millions upon millions of records and 15 years of legacy business logic running on dozens of servers.","body":"Telling someone to normalize their database does not work when you have legacy databases that actually pre-date Hibernate and contain millions upon millions of records and 15 years of legacy business logic running on dozens of servers."},{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":0,"creation_date":1668171757,"post_id":11391685,"comment_id":131347082,"body_markdown":"this is useless advice if you can&#39;t change your data model ffs","body":"this is useless advice if you can&#39;t change your data model ffs"},{"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"score":0,"creation_date":1669792665,"post_id":11391685,"comment_id":131720971,"body_markdown":"Did you manage to resolve the problem?","body":"Did you manage to resolve the problem?"}],"tags":[],"owner":{"account_id":350230,"reputation":6382,"user_id":685962,"display_name":"d1e"},"comment_count":6,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1341823507,"creation_date":1341823507,"answer_id":11391685,"question_id":11386610,"body_markdown":"\r\n1. [JPA does not allow references to non-PK columns](https://stackoverflow.com/questions/5818373/does-the-jpa-specification-allow-references-to-non-primary-key-columns).\r\n\r\n2. [ReferencedColumn property is used to specify join column, when there is a composite PK in referenced table](https://stackoverflow.com/a/11245823/685962).\r\n\r\n&gt; How can I make this work??\r\n\r\nNormalize your database to use common PK-FK relationships. If needed - define composite PK.","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/5818373/does-the-jpa-specification-allow-references-to-non-primary-key-columns\">JPA does not allow references to non-PK columns</a>.</p></li>\n<li><p><a href=\"https://stackoverflow.com/a/11245823/685962\">ReferencedColumn property is used to specify join column, when there is a composite PK in referenced table</a>.</p></li>\n</ol>\n\n<blockquote>\n  <p>How can I make this work??</p>\n</blockquote>\n\n<p>Normalize your database to use common PK-FK relationships. If needed - define composite PK.</p>\n"},{"comments":[{"owner":{"account_id":1157141,"reputation":21,"user_id":1137440,"display_name":"Bhumir Jhaveri"},"score":0,"creation_date":1341876392,"post_id":11395525,"comment_id":15038003,"body_markdown":"its true, but this cant be modified since its coming from certain external apps, but this is not appropriate functionality supported by jpa framework","body":"its true, but this cant be modified since its coming from certain external apps, but this is not appropriate functionality supported by jpa framework"}],"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1341838726,"creation_date":1341838726,"answer_id":11395525,"question_id":11386610,"body_markdown":"Unusual data model, you may want to rethink it.\r\n\r\nAlso, normally it is best to define a @OneToMany using a mappedBy and an inverse @ManyToOne.\r\n\r\nJPA does not directly support your data model, but if you are using EclipseLink, you can define the OneToManyMapping using a DescriptorCustomizer and use whatever foreign keys or join conditions you require.\r\n","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<p>Unusual data model, you may want to rethink it.</p>\n\n<p>Also, normally it is best to define a @OneToMany using a mappedBy and an inverse @ManyToOne.</p>\n\n<p>JPA does not directly support your data model, but if you are using EclipseLink, you can define the OneToManyMapping using a DescriptorCustomizer and use whatever foreign keys or join conditions you require.</p>\n"},{"tags":[],"owner":{"account_id":1244635,"reputation":2457,"user_id":1206349,"display_name":"zdrsoft"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683298705,"creation_date":1683298705,"answer_id":76183538,"question_id":11386610,"body_markdown":"You should use right @Id annotation on the joined Entity(table) property(column), which you want to join by. The best solution is to normalize the tables in the DB, and make the appropriate changes in your Entities.\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;person&quot;)\r\n    class Person {\r\n\r\n        @Id\r\n        String person_sk;\r\n\r\n        int person_id;\r\n\r\n        String Person_name;\r\n\r\n        @OneToMany(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;person_sk&quot;)\r\n        List&lt;address&gt; getAddresses() {}\r\n    }\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;address&quot;)\r\n    class Address {\r\n\r\n        @Id\r\n        int person_reference_id;\r\n\r\n        int address_id;\r\n\r\n        int phone_id;\r\n\r\n        String street_name, zip_code;\r\n    }\r\n    \r\n\r\n","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<p>You should use right @Id annotation on the joined Entity(table) property(column), which you want to join by. The best solution is to normalize the tables in the DB, and make the appropriate changes in your Entities.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;person&quot;)\nclass Person {\n\n    @Id\n    String person_sk;\n\n    int person_id;\n\n    String Person_name;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;person_sk&quot;)\n    List&lt;address&gt; getAddresses() {}\n}\n\n@Data\n@Entity\n@Table(name = &quot;address&quot;)\nclass Address {\n\n    @Id\n    int person_reference_id;\n\n    int address_id;\n\n    int phone_id;\n\n    String street_name, zip_code;\n}\n</code></pre>\n"}],"owner":{"account_id":1157141,"reputation":21,"user_id":1137440,"display_name":"Bhumir Jhaveri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19162,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1696489670,"creation_date":1341780685,"question_id":11386610,"body_markdown":"   I want to connect table based on one direction join, here is my code:\r\n\r\n    Class Person {\r\n    \r\n    @id\r\n    String person_sk;\r\n    \r\n    int person_id;\r\n    \r\n    String Person_name;\r\n    \r\n    @OneToMany\r\n    @joinColumn (name=&quot;person_reference_id&quot;)\r\n    List&lt;address&gt; getAddresses() {}\r\n    \r\n    }\r\n    \r\n    class Address\r\n    {\r\n    \r\n    @id\r\n    int person_reference_id (referred from Person);\r\n    \r\n    @id\r\n    int address_id;\r\n    \r\n    @id\r\n    int phone_id;\r\n    \r\n    String street_name, zip_code;\r\n    \r\n    }\r\n\r\n\r\n\r\nNow when I do getAddress, it does not work, because my join is based on person_ref_id and @id (primaryKey) column in Person class is person_sk.\r\n\r\nIf I use referencedColumn then also it doesn&#39;t work.\r\n","title":"JPA @JoinColumn issues while joining on non primary key columns","body":"<p>I want to connect table based on one direction join, here is my code:</p>\n\n<pre><code>Class Person {\n\n@id\nString person_sk;\n\nint person_id;\n\nString Person_name;\n\n@OneToMany\n@joinColumn (name=\"person_reference_id\")\nList&lt;address&gt; getAddresses() {}\n\n}\n\nclass Address\n{\n\n@id\nint person_reference_id (referred from Person);\n\n@id\nint address_id;\n\n@id\nint phone_id;\n\nString street_name, zip_code;\n\n}\n</code></pre>\n\n<p>Now when I do getAddress, it does not work, because my join is based on person_ref_id and @id (primaryKey) column in Person class is person_sk.</p>\n\n<p>If I use referencedColumn then also it doesn't work.</p>\n"},{"tags":["java","reflection","jvm","classloader"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696492727,"post_id":77234591,"comment_id":136160553,"body_markdown":"The reimplementation happened in Java&#160;18. But it’s indeed the simplest solution. But unless excessive class reloading happens, the required amount of metaspace should be finite.","body":"The reimplementation happened in Java 18. But it’s indeed the simplest solution. But unless excessive class reloading happens, the required amount of metaspace should be finite."},{"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"score":0,"creation_date":1696493246,"post_id":77234591,"comment_id":136160649,"body_markdown":"Github repo changes were done via https://bugs.openjdk.org/browse/JDK-8305104 are part of jdk 22; could you provide bit more information about the change in jdk 18 that I can go through - Thank you","body":"Github repo changes were done via <a href=\"https://bugs.openjdk.org/browse/JDK-8305104\" rel=\"nofollow noreferrer\">bugs.openjdk.org/browse/JDK-8305104</a> are part of jdk 22; could you provide bit more information about the change in jdk 18 that I can go through - Thank you"},{"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"score":0,"creation_date":1696493340,"post_id":77234591,"comment_id":136160670,"body_markdown":"found it in the description of the call - https://openjdk.org/jeps/416","body":"found it in the description of the call - <a href=\"https://openjdk.org/jeps/416\" rel=\"nofollow noreferrer\">openjdk.org/jeps/416</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1696495882,"post_id":77234591,"comment_id":136161200,"body_markdown":"Right, 18. Not sure why I wrote 12 there.","body":"Right, 18. Not sure why I wrote 12 there."},{"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"score":0,"creation_date":1696496821,"post_id":77234591,"comment_id":136161389,"body_markdown":"Any clue why &#39;sun.reflect.noInflation&#39; and &#39;sun.reflect.inflationThreshold&#39; options dont work with OpenJDK11 ?","body":"Any clue why &#39;sun.reflect.noInflation&#39; and &#39;sun.reflect.inflationThreshold&#39; options dont work with OpenJDK11 ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696504192,"post_id":77234591,"comment_id":136162835,"body_markdown":"I don’t know any reason why these properties shouldn’t work. I just verified that their support code is still there.","body":"I don’t know any reason why these properties shouldn’t work. I just verified that their support code is still there."}],"owner":{"account_id":154431,"reputation":219,"user_id":370363,"accept_rate":100,"display_name":"Rakesh A"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696489475,"creation_date":1696486176,"question_id":77234591,"body_markdown":"Our application uses object serialization/deserialization and while profiling we observe that this results in too many DelegatingClassLoaders in metaspace. And over the period of time application results OutOfMemoryError.\r\n\r\nQuick search we found that JVM&#39;s reflection optimization is the reason and was also mentioned at \r\n\r\n - https://stackoverflow.com/questions/6505274/what-for-sun-jvm-creates-instances-of-sun-reflect-delegatingclassloader-at-runti\r\n - https://www.ibm.com/support/pages/potential-native-memory-use-reflection-delegating-classloaders\r\n\r\nBut the suggested options &#39;sun.reflect.noInflation&#39; and &#39;sun.reflect.inflationThreshold&#39; do not work for OpenJDK 11\r\n\r\nIs there any other option to solve this problem?","title":"DelegatingClassLoader instances causing OutOfMemoryError: metaspace","body":"<p>Our application uses object serialization/deserialization and while profiling we observe that this results in too many DelegatingClassLoaders in metaspace. And over the period of time application results OutOfMemoryError.</p>\n<p>Quick search we found that JVM's reflection optimization is the reason and was also mentioned at</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6505274/what-for-sun-jvm-creates-instances-of-sun-reflect-delegatingclassloader-at-runti\">What for Sun JVM creates instances of sun.reflect.DelegatingClassLoader at runtime?</a></li>\n<li><a href=\"https://www.ibm.com/support/pages/potential-native-memory-use-reflection-delegating-classloaders\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/potential-native-memory-use-reflection-delegating-classloaders</a></li>\n</ul>\n<p>But the suggested options 'sun.reflect.noInflation' and 'sun.reflect.inflationThreshold' do not work for OpenJDK 11</p>\n<p>Is there any other option to solve this problem?</p>\n"},{"tags":["java","inputstream","bytebuffer"],"answers":[{"comments":[{"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"score":4,"creation_date":1430729620,"post_id":30026117,"comment_id":48169155,"body_markdown":"and then to ByteBuffer?","body":"and then to ByteBuffer?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":8,"creation_date":1430729670,"post_id":30026117,"comment_id":48169190,"body_markdown":"@elect yes, `ByteBuffer.wrap(bytes)`","body":"@elect yes, <code>ByteBuffer.wrap(bytes)</code>"},{"owner":{"account_id":11657083,"reputation":172,"user_id":8536476,"display_name":"chen"},"score":4,"creation_date":1590645151,"post_id":30026117,"comment_id":109758304,"body_markdown":"it may OutOfMemory","body":"it may OutOfMemory"},{"owner":{"account_id":1396489,"reputation":554,"user_id":1326149,"display_name":"digital_infinity"},"score":2,"creation_date":1597082621,"post_id":30026117,"comment_id":112012009,"body_markdown":"@chen it may OOM. This method is for small files only. That&#39;s why people invented InputStream API :-) &gt;&gt; to read something as a stream (some piece after piece).","body":"@chen it may OOM. This method is for small files only. That&#39;s why people invented InputStream API :-) &gt;&gt; to read something as a stream (some piece after piece)."}],"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"comment_count":4,"down_vote_count":5,"up_vote_count":57,"is_accepted":true,"score":52,"last_activity_date":1533722511,"creation_date":1430729553,"answer_id":30026117,"question_id":30026060,"body_markdown":"For me the best in this case is [Apache commons-io][1] to handle this and similar tasks.\r\n\r\nThe `IOUtils` type has a static method to read an `InputStream` and return a `byte[]`.\r\n\r\n    InputStream is;\r\n    byte[] bytes = IOUtils.toByteArray(is);\r\n\r\nInternally this creates a `ByteArrayOutputStream` and copies the bytes to the output, then calls `toByteArray()`. \r\n\r\n**UPDATE**: as long as you have the `byte array`, as [@Peter][2] pointed, you have to convert to `ByteBuffer`\r\n\r\n    ByteBuffer.wrap(bytes)\r\n\r\n----------\r\n\r\n**JAVA 9 UPDATE**: as stated by [@saka1029][4] if you&#39;re using java 9+ you can use the default `InputStream` API which now includes [`InputStream::readAllBytes`][3] function, so no external libraries needed \r\n\r\n    InputStream is;\r\n    byte[] bytes = is.readAllBytes()\r\n\r\n\r\n  [1]: http://commons.apache.org/io/\r\n  [2]: https://stackoverflow.com/users/57695/peter-lawrey\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\r\n  [4]: https://stackoverflow.com/users/4910279/saka1029","title":"Java InputStream to ByteBuffer","body":"<p>For me the best in this case is <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">Apache commons-io</a> to handle this and similar tasks.</p>\n\n<p>The <code>IOUtils</code> type has a static method to read an <code>InputStream</code> and return a <code>byte[]</code>.</p>\n\n<pre><code>InputStream is;\nbyte[] bytes = IOUtils.toByteArray(is);\n</code></pre>\n\n<p>Internally this creates a <code>ByteArrayOutputStream</code> and copies the bytes to the output, then calls <code>toByteArray()</code>. </p>\n\n<p><strong>UPDATE</strong>: as long as you have the <code>byte array</code>, as <a href=\"https://stackoverflow.com/users/57695/peter-lawrey\">@Peter</a> pointed, you have to convert to <code>ByteBuffer</code></p>\n\n<pre><code>ByteBuffer.wrap(bytes)\n</code></pre>\n\n<hr>\n\n<p><strong>JAVA 9 UPDATE</strong>: as stated by <a href=\"https://stackoverflow.com/users/4910279/saka1029\">@saka1029</a> if you're using java 9+ you can use the default <code>InputStream</code> API which now includes <a href=\"https://docs.oracle.com/javase/9/docs/api/java/io/InputStream.html#readAllBytes--\" rel=\"noreferrer\"><code>InputStream::readAllBytes</code></a> function, so no external libraries needed </p>\n\n<pre><code>InputStream is;\nbyte[] bytes = is.readAllBytes()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1502497,"reputation":2147,"user_id":1406702,"accept_rate":50,"display_name":"happy_marmoset"},"score":0,"creation_date":1618747077,"post_id":65670676,"comment_id":118690243,"body_markdown":"Are you sure that `read()` returns -1 when input stream ends? Sometimes it returns 0.","body":"Are you sure that <code>read()</code> returns -1 when input stream ends? Sometimes it returns 0."},{"owner":{"account_id":2188410,"reputation":491,"user_id":1936214,"display_name":"swepss"},"score":1,"creation_date":1620819511,"post_id":65670676,"comment_id":119312609,"body_markdown":"Yes, I am %)) this is from javadoc from ReadableByteChannel\n\n\n```Returns:\nThe number of bytes read, possibly zero, or -1 if the channel has reached end-of-stream```","body":"Yes, I am %)) this is from javadoc from ReadableByteChannel   <code>Returns: The number of bytes read, possibly zero, or -1 if the channel has reached end-of-stream</code>"},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1629407491,"post_id":65670676,"comment_id":121686263,"body_markdown":"If the buffer isn&#39;t big enough to read the entire input stream this can get stuck in a busy loop trying to read 0 bytes over and over.  Depending on how the body of the loop deals with the buffer. e.g. if you just want to read everything into a buffer and return the buffer, so the buffer won&#39;t be emptied or flipped in the loop.","body":"If the buffer isn&#39;t big enough to read the entire input stream this can get stuck in a busy loop trying to read 0 bytes over and over.  Depending on how the body of the loop deals with the buffer. e.g. if you just want to read everything into a buffer and return the buffer, so the buffer won&#39;t be emptied or flipped in the loop."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696489895,"post_id":65670676,"comment_id":136160031,"body_markdown":"@happy_marmoset It returns -1 at end of stream, and 0 if the buffer is full or if you are reading from a non-ready non-blocking `SocketChannel`.","body":"@happy_marmoset It returns -1 at end of stream, and 0 if the buffer is full or if you are reading from a non-ready non-blocking <code>SocketChannel</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696489926,"post_id":65670676,"comment_id":136160037,"body_markdown":"@swpalmer That&#39;s what `compact()` is for.","body":"@swpalmer That&#39;s what <code>compact()</code> is for."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1696537176,"post_id":65670676,"comment_id":136169737,"body_markdown":"@user207421 Yes, I know.  I was just pointing out that there are assumptions about the body of the loop. E.g. where did the &quot;write buffer&quot; idea come from? The OP is reading &quot;dds textures&quot; (whatever they are) and presumably needs the entire contents of the stream in memory at once. `compact()` likely doesn&#39;t apply.","body":"@user207421 Yes, I know.  I was just pointing out that there are assumptions about the body of the loop. E.g. where did the &quot;write buffer&quot; idea come from? The OP is reading &quot;dds textures&quot; (whatever they are) and presumably needs the entire contents of the stream in memory at once. <code>compact()</code> likely doesn&#39;t apply."}],"tags":[],"owner":{"account_id":2188410,"reputation":491,"user_id":1936214,"display_name":"swepss"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1610382119,"creation_date":1610382119,"answer_id":65670676,"question_id":30026060,"body_markdown":"What is about:\r\n\r\n    ReadableByteChannel channel = Channels.newChannel(inputStream);\r\n    ByteBuffer buffer = ByteBuffer.allocate(bufferSize);\r\n    \r\n    while (channel.read(buffer) != -1) {\r\n      //write buffer\r\n    \r\n    };","title":"Java InputStream to ByteBuffer","body":"<p>What is about:</p>\n<pre><code>ReadableByteChannel channel = Channels.newChannel(inputStream);\nByteBuffer buffer = ByteBuffer.allocate(bufferSize);\n\nwhile (channel.read(buffer) != -1) {\n  //write buffer\n\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1502497,"reputation":2147,"user_id":1406702,"accept_rate":50,"display_name":"happy_marmoset"},"score":0,"creation_date":1618746778,"post_id":65926551,"comment_id":118690172,"body_markdown":"Are you sure that one `read()` is enough to read all input stream?","body":"Are you sure that one <code>read()</code> is enough to read all input stream?"},{"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"score":0,"creation_date":1618845621,"post_id":65926551,"comment_id":118719872,"body_markdown":"No, it depends on the `InputStream` you are using. If it has all the bytes available then it will work.","body":"No, it depends on the <code>InputStream</code> you are using. If it has all the bytes available then it will work."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1696489955,"post_id":65926551,"comment_id":136160046,"body_markdown":"This is not a correct use of `InputStream.available()`, and the Javadoc specifically says so. It does not return the total number of bytes in the stream, and may return zero.","body":"This is not a correct use of <code>InputStream.available()</code>, and the Javadoc specifically says so. It does not return the total number of bytes in the stream, and may return zero."}],"tags":[],"owner":{"account_id":5914240,"reputation":1974,"user_id":4653517,"display_name":"James Mudd"},"comment_count":3,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1611777757,"creation_date":1611777757,"answer_id":65926551,"question_id":30026060,"body_markdown":"A neat solution with no 3rd party library needed is\r\n```\r\nByteBuffer byteBuffer = ByteBuffer.allocate(inputStream.available());\r\nChannels.newChannel(inputStream).read(byteBuffer);\r\n```\r\nSee [ReadableByteChannel#read(ByteBuffer)][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html#read(java.nio.ByteBuffer)","title":"Java InputStream to ByteBuffer","body":"<p>A neat solution with no 3rd party library needed is</p>\n<pre><code>ByteBuffer byteBuffer = ByteBuffer.allocate(inputStream.available());\nChannels.newChannel(inputStream).read(byteBuffer);\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/channels/ReadableByteChannel.html#read(java.nio.ByteBuffer)\" rel=\"nofollow noreferrer\">ReadableByteChannel#read(ByteBuffer)</a></p>\n"},{"tags":[],"owner":{"account_id":20399566,"reputation":306,"user_id":14965614,"display_name":"Andrea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696489389,"creation_date":1696433744,"answer_id":77230974,"question_id":30026060,"body_markdown":"From Java 9, there is method [readAllBytes][1] (in class `java.io.InputStream`) that returns a byte array. You pass that byte array to [static] method [wrap][2] (in class `java.nio.ByteBuffer`), for example:\r\n\r\n    public ByteBuffer fromInputStrem(InputStream is) throws IOException {\r\n\t\treturn ByteBuffer.wrap(is.readAllBytes());\r\n\t}\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#readAllBytes()\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#wrap(byte%5B%5D)","title":"Java InputStream to ByteBuffer","body":"<p>From Java 9, there is method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/io/InputStream.html#readAllBytes()\" rel=\"nofollow noreferrer\">readAllBytes</a> (in class <code>java.io.InputStream</code>) that returns a byte array. You pass that byte array to [static] method <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/nio/ByteBuffer.html#wrap(byte%5B%5D)\" rel=\"nofollow noreferrer\">wrap</a> (in class <code>java.nio.ByteBuffer</code>), for example:</p>\n<pre><code>public ByteBuffer fromInputStrem(InputStream is) throws IOException {\n    return ByteBuffer.wrap(is.readAllBytes());\n}\n</code></pre>\n"}],"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49682,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":30026117,"answer_count":4,"score":35,"last_activity_date":1696489389,"creation_date":1430729282,"question_id":30026060,"body_markdown":"I am reading dds textures, but since once built the jar I can&#39;t access those textures through `url` and `file` and have to use `InputStream` instead.\r\n\r\nSo I would need to know how I can obtain a `java.​nio.ByteBuffer` from an `java.io.InputStream`.\r\n\r\n**Ps:** no matter through 3rd part libraries, I just need it working ","title":"Java InputStream to ByteBuffer","body":"<p>I am reading dds textures, but since once built the jar I can't access those textures through <code>url</code> and <code>file</code> and have to use <code>InputStream</code> instead.</p>\n\n<p>So I would need to know how I can obtain a <code>java.​nio.ByteBuffer</code> from an <code>java.io.InputStream</code>.</p>\n\n<p><strong>Ps:</strong> no matter through 3rd part libraries, I just need it working </p>\n"},{"tags":["javascript","java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1696485221,"post_id":77234516,"comment_id":136159379,"body_markdown":"You can try [this](https://stackoverflow.com/questions/76645174/object-not-being-passed-to-html-file-not-being-printed-on-webpage/76647120#76647120)","body":"You can try <a href=\"https://stackoverflow.com/questions/76645174/object-not-being-passed-to-html-file-not-being-printed-on-webpage/76647120#76647120\">this</a>"}],"answers":[{"comments":[{"owner":{"account_id":20707202,"reputation":11,"user_id":15204773,"display_name":"Bahast Saber"},"score":0,"creation_date":1697276001,"post_id":77234806,"comment_id":136261610,"body_markdown":"it didnt work, \nI found a way to Ajax, but not still have some problems","body":"it didnt work,  I found a way to Ajax, but not still have some problems"}],"tags":[],"owner":{"account_id":21006793,"reputation":1,"user_id":15436396,"display_name":"kasim alshaikh ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696488778,"creation_date":1696488778,"answer_id":77234806,"question_id":77234516,"body_markdown":"try using @RequestParam\r\n\r\n        @PostMapping(&quot;/submitTransactions&quot;)\r\n    public String updateTableOfContents(@RequestParam List&lt;TransactionMealList&gt; transactionList) {\r\n        // Process the updated transactions\r\n        return &quot;redirect:/table-of-contents&quot;;\r\n    }\r\n\r\n","title":"I have tried to create editable table. I have table with seven columns. I want to edit table and submit to controller","body":"<p>try using @RequestParam</p>\n<pre><code>    @PostMapping(&quot;/submitTransactions&quot;)\npublic String updateTableOfContents(@RequestParam List&lt;TransactionMealList&gt; transactionList) {\n    // Process the updated transactions\n    return &quot;redirect:/table-of-contents&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":20707202,"reputation":11,"user_id":15204773,"display_name":"Bahast Saber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696488778,"creation_date":1696484785,"question_id":77234516,"body_markdown":"problem:\r\nI have tried to retrieve all the data that I have, and then edit column date and/or meal times in the Table. \r\nas shown in the code, I have two methods one for GET, and POST for submitting the form  I want to edit the data. \r\nmy problem is I can&#39;t deal with getting List&lt;TransactionMealList&gt;. it shows me an error or an empty list. \r\n\r\nController: \r\n```\r\n    @GetMapping(&quot;/table-of-contents&quot;)\r\n    public String showTableOfContents(Model model) {\r\n        transactions = getTableOfContents();\r\n        model.addAttribute(&quot;transactionList&quot;, transactions);\r\n        return &quot;table_of_contents&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/submitTransactions&quot;)\r\n    public String updateTableOfContents(@ModelAttribute(&quot;transactionList&quot;) List&lt;TransactionMealList&gt; transactions) {\r\n      // process of transactions\r\n        return &quot;redirect:/table-of-contents&quot;;\r\n    }\r\n```\r\nand front end code: \r\n    &lt;div class=&quot;table-responsive&quot;&gt;\r\n        &lt;form id=&quot;transactionForm&quot; action=&quot;/submitTransactions&quot; th:object=&quot;${transactionList}&quot; method=&quot;post&quot;&gt;\r\n\r\n            &lt;table id=&quot;example&quot; class=&quot;table table-striped table-bordered&quot; style=&quot;width:100%&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{table.sequence}&quot;&gt; Number&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{full.name.english}&quot;&gt;Full Name&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{date.transaction}&quot;&gt;Date&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{breakfast}&quot;&gt;Breakfast&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Lunch&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Dinner&lt;/th&gt;\r\n                    &lt;th class=&quot;text-center&quot; th:text=&quot;#{restaurants}&quot;&gt;Restaurant&lt;/th&gt;\r\n\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                &lt;tr style=&quot;border: #757171 solid 1pt&quot; th:each=&quot;transaction, iterStat : *{transactionList}&quot;&gt;\r\n\r\n                    &lt;td th:text=&quot;${transaction.employeeHrId} &quot;&gt;123\r\n                    &lt;/td&gt;\r\n                    &lt;td th:text=&quot;${transaction.employeeFullName}&quot;&gt;Some name\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input class=&quot;form-control&quot; type=&quot;date&quot;\r\n                               th:field=&quot;*{transactionList[__${iterStat.index}__].mealDate}&quot; id=&quot;validFrom&quot;\r\n                               name=&quot;validFrom&quot;\r\n                               style=&quot;color: #FFFFFF&quot;&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isBreakfast}&quot;\r\n                               style=&quot;width:20px; height:20px;&quot;/&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isLunch}&quot;\r\n                               style=&quot;width:20px; height:20px;&quot;/&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td&gt;\r\n                        &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isDinner}&quot;\r\n                               style=&quot;width:20px; height:20px;&quot;/&gt;\r\n                    &lt;/td&gt;\r\n                    &lt;td th:text=&quot;${transaction.restaurantName}&quot;&gt;A\r\n                    &lt;/td&gt;\r\n\r\n\r\n                    &lt;/td&gt;\r\n                &lt;/tr&gt;\r\n\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n\r\n            &lt;button class=&quot;btn btn-outline-light&quot; type=&quot;button&quot; id=&quot;submitButton&quot;&gt;Submit&lt;/button&gt;\r\n\r\n        &lt;/form&gt;\r\n\r\n\r\n    &lt;/div&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n```\r\n```","title":"I have tried to create editable table. I have table with seven columns. I want to edit table and submit to controller","body":"<p>problem:\nI have tried to retrieve all the data that I have, and then edit column date and/or meal times in the Table.\nas shown in the code, I have two methods one for GET, and POST for submitting the form  I want to edit the data.\nmy problem is I can't deal with getting List. it shows me an error or an empty list.</p>\n<p>Controller:</p>\n<pre><code>    @GetMapping(&quot;/table-of-contents&quot;)\n    public String showTableOfContents(Model model) {\n        transactions = getTableOfContents();\n        model.addAttribute(&quot;transactionList&quot;, transactions);\n        return &quot;table_of_contents&quot;;\n    }\n\n    @PostMapping(&quot;/submitTransactions&quot;)\n    public String updateTableOfContents(@ModelAttribute(&quot;transactionList&quot;) List&lt;TransactionMealList&gt; transactions) {\n      // process of transactions\n        return &quot;redirect:/table-of-contents&quot;;\n    }\n</code></pre>\n<p>and front end code:\n\n</p>\n<pre><code>        &lt;table id=&quot;example&quot; class=&quot;table table-striped table-bordered&quot; style=&quot;width:100%&quot;&gt;\n            &lt;thead&gt;\n            &lt;tr&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{table.sequence}&quot;&gt; Number&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{full.name.english}&quot;&gt;Full Name&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{date.transaction}&quot;&gt;Date&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{breakfast}&quot;&gt;Breakfast&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Lunch&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{lunch}&quot;&gt;Dinner&lt;/th&gt;\n                &lt;th class=&quot;text-center&quot; th:text=&quot;#{restaurants}&quot;&gt;Restaurant&lt;/th&gt;\n\n            &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n            &lt;tr style=&quot;border: #757171 solid 1pt&quot; th:each=&quot;transaction, iterStat : *{transactionList}&quot;&gt;\n\n                &lt;td th:text=&quot;${transaction.employeeHrId} &quot;&gt;123\n                &lt;/td&gt;\n                &lt;td th:text=&quot;${transaction.employeeFullName}&quot;&gt;Some name\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input class=&quot;form-control&quot; type=&quot;date&quot;\n                           th:field=&quot;*{transactionList[__${iterStat.index}__].mealDate}&quot; id=&quot;validFrom&quot;\n                           name=&quot;validFrom&quot;\n                           style=&quot;color: #FFFFFF&quot;&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isBreakfast}&quot;\n                           style=&quot;width:20px; height:20px;&quot;/&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isLunch}&quot;\n                           style=&quot;width:20px; height:20px;&quot;/&gt;\n                &lt;/td&gt;\n                &lt;td&gt;\n                    &lt;input type=&quot;checkbox&quot; th:field=&quot;*{transactionList[__${iterStat.index}__].isDinner}&quot;\n                           style=&quot;width:20px; height:20px;&quot;/&gt;\n                &lt;/td&gt;\n                &lt;td th:text=&quot;${transaction.restaurantName}&quot;&gt;A\n                &lt;/td&gt;\n\n\n                &lt;/td&gt;\n            &lt;/tr&gt;\n\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n\n        &lt;button class=&quot;btn btn-outline-light&quot; type=&quot;button&quot; id=&quot;submitButton&quot;&gt;Submit&lt;/button&gt;\n\n    &lt;/form&gt;\n\n\n&lt;/div&gt;\n</code></pre>\n\n<pre><code></code></pre>\n"},{"tags":["java","spring-boot","testng"],"owner":{"account_id":7124319,"reputation":175,"user_id":5447760,"display_name":"Vinayaka S P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696488736,"creation_date":1696488736,"question_id":77234801,"body_markdown":"I have a TestNG enabled SpringBoot gradle project.\r\nIn the testng tests, I have a requirement of calling the same suite XML files from 2 different XML files like below.\r\n\r\nIn FirstTest.xml:\r\n```xml\r\n&lt;suite-files&gt;\r\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;FirstTest&quot;/&gt;\r\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\r\n   &lt;suite-file path=&quot;Test1.xml&quot;/&gt;\r\n&lt;/suite-files&gt;\r\n```\r\n\r\n\r\nin SecondTest.xml:\r\n```xml\r\n&lt;suite-files&gt;\r\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;SecondTest&quot;/&gt;\r\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\r\n   &lt;suite-file path=&quot;Test2.xml&quot;/&gt;\r\n&lt;/suite-files&gt;\r\n```\r\n\r\nI have an AllTest.xml which calls both FirstTest.xml and SecondTest.xml:\r\n```xml\r\n&lt;suite-files&gt;\r\n   &lt;suite-file path=&quot;FirstTest.xml&quot;/&gt;\r\n   &lt;suite-file path=&quot;SecondTest.xml&quot;/&gt;\r\n&lt;/suite-files&gt;\r\n```\r\n\r\nInstead of `@Parameters`, I&#39;m using ITestContexts to get all parameters in the `@BeforeClass` annotated method of Common.java, Test1.java, and Test2.java classes to read the parameter passed from the Suite files.\r\n```java\r\nprotected Map&lt;String, String&gt; params;\r\n@BeforeClass(alwaysRun = true)\r\npublic void init(ITestContext ctx) {\r\n  params = ctx.getCurrentXmlTest().getAllParameters();\r\n}\r\n\r\n/* \r\nOther data Preparation methods in case of Common \r\nand Test methods in case of Test1 &amp; Test2 classes \r\nbased on params.get(&quot;TestParam&quot;) value\r\n*/\r\n```\r\n\r\nBased on this parameter, the Data Preparation takes place in the Common.java class and is stored in the local cache. In the Test1 and Test2 classes again based on this parameter, respective data created in Common.java is retrieved from the cache.\r\n\r\n\r\nNow, when I execute AllTest.xml, the Common.xml gets executed only once from the FirstTest.xml and it is being skipped in the SecondTest.xml\r\nI want to execute Common.xml file multiple times from different suite files (FirstTest.xml, SecondTest.xml, ... up to NthTest.xml)\r\n\r\nAny help in this regard is much appreciated. ","title":"How to force TestNG to execute the Same Suite.xml file multiple times with different parameter","body":"<p>I have a TestNG enabled SpringBoot gradle project.\nIn the testng tests, I have a requirement of calling the same suite XML files from 2 different XML files like below.</p>\n<p>In FirstTest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;suite-files&gt;\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;FirstTest&quot;/&gt;\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\n   &lt;suite-file path=&quot;Test1.xml&quot;/&gt;\n&lt;/suite-files&gt;\n</code></pre>\n<p>in SecondTest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;suite-files&gt;\n   &lt;parameter name=&quot;TestParam&quot; value=&quot;SecondTest&quot;/&gt;\n   &lt;suite-file path=&quot;Common.xml&quot;/&gt;\n   &lt;suite-file path=&quot;Test2.xml&quot;/&gt;\n&lt;/suite-files&gt;\n</code></pre>\n<p>I have an AllTest.xml which calls both FirstTest.xml and SecondTest.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;suite-files&gt;\n   &lt;suite-file path=&quot;FirstTest.xml&quot;/&gt;\n   &lt;suite-file path=&quot;SecondTest.xml&quot;/&gt;\n&lt;/suite-files&gt;\n</code></pre>\n<p>Instead of <code>@Parameters</code>, I'm using ITestContexts to get all parameters in the <code>@BeforeClass</code> annotated method of Common.java, Test1.java, and Test2.java classes to read the parameter passed from the Suite files.</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected Map&lt;String, String&gt; params;\n@BeforeClass(alwaysRun = true)\npublic void init(ITestContext ctx) {\n  params = ctx.getCurrentXmlTest().getAllParameters();\n}\n\n/* \nOther data Preparation methods in case of Common \nand Test methods in case of Test1 &amp; Test2 classes \nbased on params.get(&quot;TestParam&quot;) value\n*/\n</code></pre>\n<p>Based on this parameter, the Data Preparation takes place in the Common.java class and is stored in the local cache. In the Test1 and Test2 classes again based on this parameter, respective data created in Common.java is retrieved from the cache.</p>\n<p>Now, when I execute AllTest.xml, the Common.xml gets executed only once from the FirstTest.xml and it is being skipped in the SecondTest.xml\nI want to execute Common.xml file multiple times from different suite files (FirstTest.xml, SecondTest.xml, ... up to NthTest.xml)</p>\n<p>Any help in this regard is much appreciated.</p>\n"},{"tags":["java","cucumber","karate"],"comments":[{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1579737531,"post_id":59854039,"comment_id":105870756,"body_markdown":"Your idea to mix non-BDD Karate Gherkin with BDD-Cucumber Gherkin, is not a good one, in my opinion.  Keep them separate.","body":"Your idea to mix non-BDD Karate Gherkin with BDD-Cucumber Gherkin, is not a good one, in my opinion.  Keep them separate."},{"owner":{"account_id":15901180,"reputation":61,"user_id":11473522,"display_name":"Muhil R"},"score":0,"creation_date":1588871224,"post_id":59854039,"comment_id":109087403,"body_markdown":"I think you would see step undefined warning for karate if you keep both cucumber and karate tests in a single feature file.","body":"I think you would see step undefined warning for karate if you keep both cucumber and karate tests in a single feature file."}],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579676739,"creation_date":1579676739,"answer_id":59854313,"question_id":59854039,"body_markdown":"Do this using the Java API.  Read the docs: https://github.com/intuit/karate#java-api\r\n\r\n    Map&lt;String, Object&gt; result = Runner.runFeature(&quot;classpath:demo/java/from-java.feature&quot;, args, true);\r\n\r\nBy the way, I don&#39;t recommend BDD for API testing: https://stackoverflow.com/a/47799207/143475\r\n\r\n","title":"How to integrate both karate and cucumber and invoke both from a single file/class","body":"<p>Do this using the Java API.  Read the docs: <a href=\"https://github.com/intuit/karate#java-api\" rel=\"nofollow noreferrer\">https://github.com/intuit/karate#java-api</a></p>\n\n<pre><code>Map&lt;String, Object&gt; result = Runner.runFeature(\"classpath:demo/java/from-java.feature\", args, true);\n</code></pre>\n\n<p>By the way, I don't recommend BDD for API testing: <a href=\"https://stackoverflow.com/a/47799207/143475\">https://stackoverflow.com/a/47799207/143475</a></p>\n"}],"owner":{"account_id":17396796,"reputation":11,"user_id":12606397,"display_name":"chk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696488408,"creation_date":1579675480,"question_id":59854039,"body_markdown":"\r\nI created cucumber automation code for a project, How to call karate feature files from cucumber runner class, or any other way to run the karate feature files from cucumber framework, My plan is to integrate both karate and cucumber and invoke both from a single file/class\r\n\r\n@RunWith(Cucumber.class)\r\npublic class TestRunner_Cucumber {\r\n \r\n}","title":"How to integrate both karate and cucumber and invoke both from a single file/class","body":"<p>I created cucumber automation code for a project, How to call karate feature files from cucumber runner class, or any other way to run the karate feature files from cucumber framework, My plan is to integrate both karate and cucumber and invoke both from a single file/class</p>\n\n<p>@RunWith(Cucumber.class)\npublic class TestRunner_Cucumber {</p>\n\n<p>}</p>\n"},{"tags":["java","spring","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1691837840,"post_id":76887850,"comment_id":135547546,"body_markdown":"Can you share the dependency of lombok that you use ? just update your question","body":"Can you share the dependency of lombok that you use ? just update your question"}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691838701,"creation_date":1691838701,"answer_id":76888992,"question_id":76887850,"body_markdown":"It can be a problem in your, maven/gradle dependency that you import. Be sure, that project lombok dependency is imported as \r\n\r\nGradle:\r\n\r\n    compileOnly group: &#39;org.projectlombok&#39;, name: &#39;lombok&#39;, version: &#39;yourVersionOfLombok&#39;\r\n\r\n    annotationProcessor &#39;org.projectlombok:lombok:yourVersionOfLombok&#39;\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;yourVersionOfLombok&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n                   &lt;annotationProcessorPaths&gt;\r\n                    &lt;path&gt;\r\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;version yourVersionOfLombok&lt;/version&gt;\r\n                    &lt;/path&gt;                         \r\n                &lt;/annotationProcessorPaths&gt;\r\n\r\nSomething like this.\r\nLet me know if it help you.\r\n","title":"Spring boot: Cannot resolve method &#39;builder&#39; in &#39;Product&#39;","body":"<p>It can be a problem in your, maven/gradle dependency that you import. Be sure, that project lombok dependency is imported as</p>\n<p>Gradle:</p>\n<pre><code>compileOnly group: 'org.projectlombok', name: 'lombok', version: 'yourVersionOfLombok'\n\nannotationProcessor 'org.projectlombok:lombok:yourVersionOfLombok'\n</code></pre>\n<p>Maven:</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n&lt;artifactId&gt;lombok&lt;/artifactId&gt;\n&lt;version&gt;yourVersionOfLombok&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n</code></pre>\n\n<pre><code>               &lt;annotationProcessorPaths&gt;\n                &lt;path&gt;\n                    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;version yourVersionOfLombok&lt;/version&gt;\n                &lt;/path&gt;                         \n            &lt;/annotationProcessorPaths&gt;\n</code></pre>\n<p>Something like this.\nLet me know if it help you.</p>\n"},{"tags":[],"owner":{"account_id":24427245,"reputation":11,"user_id":18352674,"display_name":"Anh Tester"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696488373,"creation_date":1696488373,"answer_id":77234762,"question_id":76887850,"body_markdown":"If you use IntelliJ IDEA, you need to install the Lombok plugin so it can understand the annotations of the Lombok library (Gradle/Maven) for your project.","title":"Spring boot: Cannot resolve method &#39;builder&#39; in &#39;Product&#39;","body":"<p>If you use IntelliJ IDEA, you need to install the Lombok plugin so it can understand the annotations of the Lombok library (Gradle/Maven) for your project.</p>\n"}],"owner":{"account_id":27350734,"reputation":1,"user_id":20859944,"display_name":"Nguyen Trinh Quang Trung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696488373,"creation_date":1691817559,"question_id":76887850,"body_markdown":"I have used @builder anotation of lombok in Product class. But when I use Product.builder(), it&#39;s not work.\r\nAlso, the getter and setter are cannot resolve. I have tried to downgrade some lombok versions, still not working.\r\n\r\nThis is my code in ProductService:\r\n\r\n```\r\npackage dev.beyondnguyen.productservice.service;\r\n\r\nimport dev.beyondnguyen.productservice.dto.ProductRequest;\r\nimport dev.beyondnguyen.productservice.model.Product;\r\nimport dev.beyondnguyen.productservice.repository.ProductRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class ProductService {\r\n\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n    public void createProduct(ProductRequest productRequest) {\r\n        Product product = Product.builder()\r\n                .name(productRequest.getName())\r\n                .description(productRequest.getDescription())\r\n                .price(productRequest.getPrice())\r\n                .build();\r\n\r\n        productRepository.save(product);\r\n        log.info(&quot;Product {} is saved&quot;, product.getId());\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nAnd the code in Product class:\r\n\r\n```\r\npackage dev.beyondnguyen.productservice.model;\r\n\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\nimport java.math.BigDecimal;\r\n\r\n@Document(collection = &quot;products&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Data\r\npublic class Product {\r\n    @Id\r\n    private String id;\r\n    private String name;\r\n    private String description;\r\n    private BigDecimal price;\r\n}\r\n```\r\n\r\n\r\n\r\nWhat is happening? How can I fix it?","title":"Spring boot: Cannot resolve method &#39;builder&#39; in &#39;Product&#39;","body":"<p>I have used @builder anotation of lombok in Product class. But when I use Product.builder(), it's not work.\nAlso, the getter and setter are cannot resolve. I have tried to downgrade some lombok versions, still not working.</p>\n<p>This is my code in ProductService:</p>\n<pre><code>package dev.beyondnguyen.productservice.service;\n\nimport dev.beyondnguyen.productservice.dto.ProductRequest;\nimport dev.beyondnguyen.productservice.model.Product;\nimport dev.beyondnguyen.productservice.repository.ProductRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class ProductService {\n\n    @Autowired\n    private ProductRepository productRepository;\n    public void createProduct(ProductRequest productRequest) {\n        Product product = Product.builder()\n                .name(productRequest.getName())\n                .description(productRequest.getDescription())\n                .price(productRequest.getPrice())\n                .build();\n\n        productRepository.save(product);\n        log.info(&quot;Product {} is saved&quot;, product.getId());\n    }\n\n}\n\n</code></pre>\n<p>And the code in Product class:</p>\n<pre><code>package dev.beyondnguyen.productservice.model;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport java.math.BigDecimal;\n\n@Document(collection = &quot;products&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Data\npublic class Product {\n    @Id\n    private String id;\n    private String name;\n    private String description;\n    private BigDecimal price;\n}\n</code></pre>\n<p>What is happening? How can I fix it?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7414275,"reputation":14648,"user_id":5640649,"accept_rate":91,"display_name":"lealceldeiro"},"score":3,"creation_date":1696424092,"post_id":77229674,"comment_id":136150777,"body_markdown":"`try { /*jwt validation code*/ return true;} catch (YourJwtValidationException e) { return false; }` ?","body":"<code>try { &#47;*jwt validation code*&#47; return true;} catch (YourJwtValidationException e) { return false; }</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":12128873,"reputation":19,"user_id":10440470,"display_name":"bhimantoro suryo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696487859,"creation_date":1696487859,"answer_id":77234726,"question_id":77229674,"body_markdown":"just use the try catch, return true in try block, and return false in catch block","title":"How to return Boolean instead of returning void from a token validity function in Java?","body":"<p>just use the try catch, return true in try block, and return false in catch block</p>\n"}],"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696487859,"creation_date":1696423480,"question_id":77229674,"body_markdown":" I am checking the JWT validation using the following code in Java. This is working fine and also getting exception if the token is invalid. But, I just need to return true/false, depending on the validity of the JWT. How can I achieve that?\r\n\r\n    public void validateToken(final String token) {\r\n        Jwts.parserBuilder().setSigningKey(getSignKey()).build().parseClaimsJws(token);\r\n      }","title":"How to return Boolean instead of returning void from a token validity function in Java?","body":"<p>I am checking the JWT validation using the following code in Java. This is working fine and also getting exception if the token is invalid. But, I just need to return true/false, depending on the validity of the JWT. How can I achieve that?</p>\n<pre><code>public void validateToken(final String token) {\n    Jwts.parserBuilder().setSigningKey(getSignKey()).build().parseClaimsJws(token);\n  }\n</code></pre>\n"},{"tags":["java","scheduled-tasks","keycloak","quarkus"],"comments":[{"owner":{"account_id":16676962,"reputation":1021,"user_id":12176221,"display_name":"Jacouille"},"score":0,"creation_date":1683035406,"post_id":76154696,"comment_id":134302516,"body_markdown":"Hello, why do you put version for Scheduler ? Are you including different version than your quarkus version ?","body":"Hello, why do you put version for Scheduler ? Are you including different version than your quarkus version ?"},{"owner":{"account_id":6075052,"reputation":31,"user_id":4742678,"display_name":"widehusk"},"score":0,"creation_date":1683039626,"post_id":76154696,"comment_id":134303672,"body_markdown":"Hi, now I included the full pom.xml. I don&#39;t have dependencyManagement, I just deploy this JAR in Keycloak as a custom provider. I&#39;m doing it wrong?","body":"Hi, now I included the full pom.xml. I don&#39;t have dependencyManagement, I just deploy this JAR in Keycloak as a custom provider. I&#39;m doing it wrong?"}],"owner":{"account_id":6075052,"reputation":31,"user_id":4742678,"display_name":"widehusk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696487809,"creation_date":1683029456,"question_id":76154696,"body_markdown":"I have a custom provider in Keycloak Quarkus distribution.\r\nI created a task with **@Scheduled**, but it&#39;s never triggered.\r\n\r\nFor simplicity, this is the only class I have:\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/eXHVF.png)](https://i.stack.imgur.com/eXHVF.png)\r\n\r\nscheduler dependency is added:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI packaged it in a JAR and deployed into the &quot;providers&quot; folder.\r\nAfter the startup, &quot;post construct&quot; is printed but the &quot;scheduled&quot; method is never called.\r\nWhat am I missing?\r\n\r\n[![enter image description here](https://i.stack.imgur.com/XTx1s.png)](https://i.stack.imgur.com/XTx1s.png)\r\n\r\nI&#39;m expecting the scheduled method to run every 10 seconds.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oyBHP.png","title":"@Scheduled method not triggered in Keycloak custom SPI","body":"<p>I have a custom provider in Keycloak Quarkus distribution.\nI created a task with <strong>@Scheduled</strong>, but it's never triggered.</p>\n<p>For simplicity, this is the only class I have:</p>\n<p><a href=\"https://i.stack.imgur.com/eXHVF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eXHVF.png\" alt=\"enter image description here\" /></a></p>\n<p>scheduler dependency is added:</p>\n<p><a href=\"https://i.stack.imgur.com/oyBHP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyBHP.png\" alt=\"enter image description here\" /></a></p>\n<p>I packaged it in a JAR and deployed into the &quot;providers&quot; folder.\nAfter the startup, &quot;post construct&quot; is printed but the &quot;scheduled&quot; method is never called.\nWhat am I missing?</p>\n<p><a href=\"https://i.stack.imgur.com/XTx1s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XTx1s.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm expecting the scheduled method to run every 10 seconds.</p>\n"},{"tags":["java","timer","audio-player"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696487935,"post_id":77234712,"comment_id":136159710,"body_markdown":"if you have very little experience with java, you should first focus on learning Java. You claim that when you start the app from the Replayer class, you don&#39;t get this problem, but the Replayer class has no main method, meaning with the code you&#39;ve shown, you can&#39;t start it from there.","body":"if you have very little experience with java, you should first focus on learning Java. You claim that when you start the app from the Replayer class, you don&#39;t get this problem, but the Replayer class has no main method, meaning with the code you&#39;ve shown, you can&#39;t start it from there."},{"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"score":0,"creation_date":1696488825,"post_id":77234712,"comment_id":136159848,"body_markdown":"forgot to mention, I had &quot;Replayer extends Main&quot; at first","body":"forgot to mention, I had &quot;Replayer extends Main&quot; at first"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696488927,"post_id":77234712,"comment_id":136159861,"body_markdown":"with for the rest the same code as now? why exactly does it extend JFrame now?","body":"with for the rest the same code as now? why exactly does it extend JFrame now?"},{"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"score":0,"creation_date":1696488983,"post_id":77234712,"comment_id":136159867,"body_markdown":"pretty much yeah, except for the Frame section at the end which was originally in Main","body":"pretty much yeah, except for the Frame section at the end which was originally in Main"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1696491395,"post_id":77234712,"comment_id":136160317,"body_markdown":"The exception is thrown in exactly two places (https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1091, https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1116) and in both places it happens because the JVM has insufficient memory to allocate byte arrays. Maybe you are just trying to load too many audio streams at the same time. Do you really need to open all files at once?","body":"The exception is thrown in exactly two places (<a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1091\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/blob/master/src/java.desktop/shar&zwnj;&#8203;e/&hellip;</a>, <a href=\"https://github.com/openjdk/jdk17u/blob/master/src/java.desktop/share/classes/com/sun/media/sound/DirectAudioDevice.java#L1116\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk17u/blob/master/src/java.desktop/share&zwnj;&#8203;/&hellip;</a>) and in both places it happens because the JVM has insufficient memory to allocate byte arrays. Maybe you are just trying to load too many audio streams at the same time. Do you really need to open all files at once?"},{"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"score":0,"creation_date":1696507330,"post_id":77234712,"comment_id":136163477,"body_markdown":"the thing is, I created a Clip-type array so I could switch between tracks. It was the easiest way to do it, but if there&#39;s a better one, I&#39;ll try implementing it instead. And after all, why was it working in one class and isn&#39;t working in another?","body":"the thing is, I created a Clip-type array so I could switch between tracks. It was the easiest way to do it, but if there&#39;s a better one, I&#39;ll try implementing it instead. And after all, why was it working in one class and isn&#39;t working in another?"}],"owner":{"account_id":29602278,"reputation":1,"user_id":22687418,"display_name":"Jacob Hey"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696487758,"creation_date":1696487758,"question_id":77234712,"body_markdown":"I&#39;m trying to write a simple music player on Java. Everything had worked fine until I tried to add a new function with the JSlider. I wasn&#39;t running the program from Main, but from the Replayer class (see in the code below). I wanted the track&#39;s position to move according to the slider, but the timer that I added worked too fast and it didn&#39;t let me do that. I tried running from the main file and got the error that I&#39;ve mentioned in the title.\r\nHere&#39;s Main:\r\n```\r\nimport javax.sound.sampled.\\*;\r\nimport java.io.IOException;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\npublic class Main {\r\npublic static void main(String\\[\\] args) throws UnsupportedAudioFileException, LineUnavailableException, IOException {\r\nnew Replayer();\r\n}\r\n}\r\n```\r\nHere&#39;s the Replayer class:\r\n\r\n```\r\nimport javax.sound.midi.Track;\r\nimport javax.sound.sampled.*;\r\nimport javax.swing.*;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\nimport java.awt.event.*;\r\nimport java.io.File;\r\nimport java.io.FilenameFilter;\r\nimport java.io.IOException;\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\npublic class Replayer extends JFrame{\r\n    long mspos = 0;\r\n    int selected_track = 0;\r\n    protected JPanel Calculator;\r\n    protected JTextField textDisplay;\r\n    protected JButton PlayButton;\r\n    protected JButton StopButton;\r\n    protected JButton PauseButton;\r\n    protected JButton Next;\r\n    protected JButton Prev;\r\n    protected JSlider TrackProgress;\r\n    public Replayer() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\r\n        File folder = new File(&quot;music&quot;);\r\n        File[] files = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.wav&quot;));\r\n        assert files != null;\r\n        AudioInputStream[] audioStream = new AudioInputStream[files.length];\r\n        Clip[] clips = new Clip[files.length];\r\n        for(int i = 0; i &lt; files.length; i++){\r\n            audioStream[i] = AudioSystem.getAudioInputStream(files[i]);\r\n            clips[i] = AudioSystem.getClip();\r\n            clips[i].open(audioStream[i]);\r\n        }\r\n        TrackProgress.setValue(0);\r\n        TrackProgress.setMaximum(1000000);\r\n        textDisplay.setText(files[selected_track].getName());\r\n\r\n        final Timer[] timer = {new Timer()};\r\n\r\n        TimerTask task = new TimerTask(){\r\n            @Override\r\n            public void run() {\r\n                int curpos = (int) ((1.0 * clips[selected_track].getMicrosecondPosition() / clips[selected_track].getMicrosecondLength()) * 1000000);\r\n                if(curpos != TrackProgress.getValue()){\r\n                    TrackProgress.setValue(curpos);\r\n                }\r\n            }\r\n        };\r\n        timer[0].scheduleAtFixedRate(task, 0, 1);\r\n\r\n        PlayButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(clips[selected_track].getMicrosecondPosition() == clips[selected_track].getMicrosecondLength()){\r\n                    mspos = 0;\r\n                }\r\n                clips[selected_track].setMicrosecondPosition(mspos);\r\n                clips[selected_track].start();\r\n                textDisplay.setText(files[selected_track].getName());\r\n            }\r\n        });\r\n\r\n        StopButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                mspos = 0;\r\n                clips[selected_track].stop();\r\n                clips[selected_track].setMicrosecondPosition(0);\r\n                TrackProgress.setValue(0);\r\n            }\r\n        });\r\n\r\n        PauseButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                clips[selected_track].stop();\r\n                mspos = clips[selected_track].getMicrosecondPosition();\r\n            }\r\n        });\r\n\r\n        Next.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(selected_track == files.length - 1){\r\n                    textDisplay.setText(&quot;Error: this is the last track&quot;);\r\n                }else{\r\n                    TrackProgress.setValue(0);\r\n                    clips[selected_track].stop();\r\n                    selected_track++;\r\n                    textDisplay.setText(files[selected_track].getName());\r\n                    mspos = 0;\r\n                }\r\n            }\r\n        });\r\n\r\n        Prev.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if(selected_track &lt; 1){\r\n                    textDisplay.setText(&quot;Error: this is the first track&quot;);\r\n                }else{\r\n                    TrackProgress.setValue(0);\r\n                    clips[selected_track].stop();\r\n                    selected_track--;\r\n                    textDisplay.setText(files[selected_track].getName());\r\n                    mspos = 0;\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n        TrackProgress.addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                super.mousePressed(e);\r\n                clips[selected_track].stop();\r\n                //timer[0].cancel();\r\n                //timer[0] = new Timer();\r\n            }\r\n            public void mouseReleased(MouseEvent e) {\r\n                super.mouseReleased(e);\r\n                mspos = (long) ((1.0 * TrackProgress.getValue()) / 1000000 * clips[selected_track].getMicrosecondLength());\r\n                clips[selected_track].setMicrosecondPosition(mspos);\r\n                clips[selected_track].start();\r\n                //timer[0] = new Timer();\r\n                //timer[0].scheduleAtFixedRate(task, 0, 1);\r\n            }\r\n        });\r\n\r\n        JFrame frame = new JFrame(&quot;Replayer&quot;);\r\n        frame.setContentPane(new Replayer().Calculator);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setResizable(false);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\n\r\nI don&#39;t really know what to do, I have very little experience with Java","title":"Java music player doesn&#39;t work: Exception in thread &quot;main&quot; java.io.IOException: Audio data is too big","body":"<p>I'm trying to write a simple music player on Java. Everything had worked fine until I tried to add a new function with the JSlider. I wasn't running the program from Main, but from the Replayer class (see in the code below). I wanted the track's position to move according to the slider, but the timer that I added worked too fast and it didn't let me do that. I tried running from the main file and got the error that I've mentioned in the title.\nHere's Main:</p>\n<pre><code>import javax.sound.sampled.\\*;\nimport java.io.IOException;\nimport java.util.Timer;\nimport java.util.TimerTask;\npublic class Main {\npublic static void main(String\\[\\] args) throws UnsupportedAudioFileException, LineUnavailableException, IOException {\nnew Replayer();\n}\n}\n</code></pre>\n<p>Here's the Replayer class:</p>\n<pre><code>import javax.sound.midi.Track;\nimport javax.sound.sampled.*;\nimport javax.swing.*;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\nimport java.awt.event.*;\nimport java.io.File;\nimport java.io.FilenameFilter;\nimport java.io.IOException;\nimport java.util.Timer;\nimport java.util.TimerTask;\n\npublic class Replayer extends JFrame{\n    long mspos = 0;\n    int selected_track = 0;\n    protected JPanel Calculator;\n    protected JTextField textDisplay;\n    protected JButton PlayButton;\n    protected JButton StopButton;\n    protected JButton PauseButton;\n    protected JButton Next;\n    protected JButton Prev;\n    protected JSlider TrackProgress;\n    public Replayer() throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        File folder = new File(&quot;music&quot;);\n        File[] files = folder.listFiles((dir, name) -&gt; name.toLowerCase().endsWith(&quot;.wav&quot;));\n        assert files != null;\n        AudioInputStream[] audioStream = new AudioInputStream[files.length];\n        Clip[] clips = new Clip[files.length];\n        for(int i = 0; i &lt; files.length; i++){\n            audioStream[i] = AudioSystem.getAudioInputStream(files[i]);\n            clips[i] = AudioSystem.getClip();\n            clips[i].open(audioStream[i]);\n        }\n        TrackProgress.setValue(0);\n        TrackProgress.setMaximum(1000000);\n        textDisplay.setText(files[selected_track].getName());\n\n        final Timer[] timer = {new Timer()};\n\n        TimerTask task = new TimerTask(){\n            @Override\n            public void run() {\n                int curpos = (int) ((1.0 * clips[selected_track].getMicrosecondPosition() / clips[selected_track].getMicrosecondLength()) * 1000000);\n                if(curpos != TrackProgress.getValue()){\n                    TrackProgress.setValue(curpos);\n                }\n            }\n        };\n        timer[0].scheduleAtFixedRate(task, 0, 1);\n\n        PlayButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(clips[selected_track].getMicrosecondPosition() == clips[selected_track].getMicrosecondLength()){\n                    mspos = 0;\n                }\n                clips[selected_track].setMicrosecondPosition(mspos);\n                clips[selected_track].start();\n                textDisplay.setText(files[selected_track].getName());\n            }\n        });\n\n        StopButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                mspos = 0;\n                clips[selected_track].stop();\n                clips[selected_track].setMicrosecondPosition(0);\n                TrackProgress.setValue(0);\n            }\n        });\n\n        PauseButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                clips[selected_track].stop();\n                mspos = clips[selected_track].getMicrosecondPosition();\n            }\n        });\n\n        Next.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(selected_track == files.length - 1){\n                    textDisplay.setText(&quot;Error: this is the last track&quot;);\n                }else{\n                    TrackProgress.setValue(0);\n                    clips[selected_track].stop();\n                    selected_track++;\n                    textDisplay.setText(files[selected_track].getName());\n                    mspos = 0;\n                }\n            }\n        });\n\n        Prev.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if(selected_track &lt; 1){\n                    textDisplay.setText(&quot;Error: this is the first track&quot;);\n                }else{\n                    TrackProgress.setValue(0);\n                    clips[selected_track].stop();\n                    selected_track--;\n                    textDisplay.setText(files[selected_track].getName());\n                    mspos = 0;\n                }\n            }\n        });\n\n\n        TrackProgress.addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                super.mousePressed(e);\n                clips[selected_track].stop();\n                //timer[0].cancel();\n                //timer[0] = new Timer();\n            }\n            public void mouseReleased(MouseEvent e) {\n                super.mouseReleased(e);\n                mspos = (long) ((1.0 * TrackProgress.getValue()) / 1000000 * clips[selected_track].getMicrosecondLength());\n                clips[selected_track].setMicrosecondPosition(mspos);\n                clips[selected_track].start();\n                //timer[0] = new Timer();\n                //timer[0].scheduleAtFixedRate(task, 0, 1);\n            }\n        });\n\n        JFrame frame = new JFrame(&quot;Replayer&quot;);\n        frame.setContentPane(new Replayer().Calculator);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setResizable(false);\n        frame.pack();\n        frame.setVisible(true);\n    }\n    \n}\n</code></pre>\n<p>I don't really know what to do, I have very little experience with Java</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1696431546,"post_id":77208930,"comment_id":136152602,"body_markdown":"Could you add the definition of the ACTOR table please ? By the way, using @Data on JPA entities is discouraged, as it could cause problems to arise.","body":"Could you add the definition of the ACTOR table please ? By the way, using @Data on JPA entities is discouraged, as it could cause problems to arise."},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1696495082,"post_id":77208930,"comment_id":136161000,"body_markdown":"Also, have you tried to call `manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORIES&quot;)`, that is without the `Actor.class` as a second parameter ?","body":"Also, have you tried to call <code>manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORI&zwnj;&#8203;ES&quot;)</code>, that is without the <code>Actor.class</code> as a second parameter ?"},{"owner":{"account_id":2325595,"reputation":87,"user_id":2040196,"accept_rate":50,"display_name":"ggarridov"},"score":0,"creation_date":1697204771,"post_id":77208930,"comment_id":136254255,"body_markdown":"Any solution for this??? I have the same error, I changed the Spring Boot version to 3.0.11 and everything works fine.","body":"Any solution for this??? I have the same error, I changed the Spring Boot version to 3.0.11 and everything works fine."}],"owner":{"account_id":29572011,"reputation":1,"user_id":22663947,"display_name":"PrateekAnand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696487462,"creation_date":1696123307,"question_id":77208930,"body_markdown":"I am getting `java.lang.ClassCastException` exception when trying to run a StoredProcedure using Jakarta EntityManager in my Spring Data JPA application.\r\n\r\n```\r\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:322) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\tat com.example.bootdatajpaproj11callingprocedure.BootDataJpaProj11CallingProcedureApplication.main(BootDataJpaProj11CallingProcedureApplication.java:10) ~[classes/:na]\r\nCaused by: java.lang.ClassCastException: class org.hibernate.metamodel.model.domain.internal.EntityTypeImpl cannot be cast to class org.hibernate.query.OutputableType (org.hibernate.metamodel.model.domain.internal.EntityTypeImpl and org.hibernate.query.OutputableType are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.procedure.internal.ProcedureParameterImpl.toJdbcParameterRegistration(ProcedureParameterImpl.java:118) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.StandardCallableStatementSupport.interpretCall(StandardCallableStatementSupport.java:90) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:619) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:594) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:847) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:973) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.12.jar:6.0.12]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy92.getResultList(Unknown Source) ~[na:na]\r\n\tat com.example.bootdatajpaproj11callingprocedure.runner.CallingPL_ProcedureTestRunner.run(CallingPL_ProcedureTestRunner.java:40) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-3.1.4.jar:3.1.4]\r\n\t... 5 common frames omitted\r\n```\r\n\r\nEntity class:\r\n```lang-java\r\n//Actor.java (Entity class)\r\npackage com.nt.entity;\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\npublic class Actor {\r\n    @Id \r\n    @GeneratedValue(strategy = GenerationType.AUTO)    \r\n    private Integer aid;\r\n    @Column(length = 20)\r\n    private String  aname;\r\n    @Column(length = 20)\r\n    private  String category;\r\n    @Column(unique = true,nullable = true)\r\n    private  Long mobileNo;\r\n\r\n    public  Actor() {\r\n        System.out.println(&quot;Actor: 0-param constructor&quot;+this.getClass());\r\n    }\r\n}\r\n```\r\n\r\nRepositor class:\r\n```lang-java\r\n//IActorRepository.java\r\npackage com.nt.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.nt.entity.Actor;\r\n\r\npublic interface IActorRepository extends JpaRepository&lt;Actor, Integer&gt; {\r\n\r\n\t\r\n}\r\n```\r\n\r\nRunner Class to run the StoredProcdure &#39;P_GET_ACTORS_BY_CATEGORIES&#39;:\r\n```lang-java\r\n//CallingPL_ProcedureTestRunner.java\r\npackage com.nt.runner;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.nt.entity.Actor;\r\n\r\nimport jakarta.persistence.EntityManager;\r\nimport jakarta.persistence.ParameterMode;\r\nimport jakarta.persistence.StoredProcedureQuery;\r\n\r\n\r\n@Component\r\npublic class CallingPL_ProcedureTestRunner  implements CommandLineRunner {\r\n \r\n\t@Autowired\r\n\tprivate EntityManager  manager;\r\n\r\n\t@Override\r\n\tpublic void run(String... args) throws Exception {\r\n\t    StoredProcedureQuery query=manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORIES&quot;, Actor.class);\r\n\t\t// register both IN ,OUT params  of PL/SQL procedure\r\n\t\tquery.registerStoredProcedureParameter(1, String.class,ParameterMode.IN);\r\n\t\tquery.registerStoredProcedureParameter(2, String.class,ParameterMode.IN);\r\n\t\t//registering out param\r\n\t\tquery.registerStoredProcedureParameter(3, Actor.class,ParameterMode.REF_CURSOR); \r\n\t\t//set values to IN params\r\n\t\tquery.setParameter(1, &quot;CLERK&quot;);\r\n\t\tquery.setParameter(2, &quot;MANAGER&quot;);\r\n\t\t//call PL/SQL procedure\r\n\t\tList&lt;Actor&gt; list=query.getResultList();\r\n\t\t//proecess the result\r\n\t\tlist.forEach(System.out::println);\r\n\t\t\r\n\t}//main\r\n\r\n}//class\r\n```\r\n\r\nOracle DB &#39;Actor&#39;:\r\n```lang-sql\r\nCREATE TABLE &quot;SYSTEM&quot;.&quot;ACTOR&quot; \r\n   (\t&quot;AID&quot; NUMBER(10,0) NOT NULL ENABLE, \r\n\t&quot;ANAME&quot; VARCHAR2(20 CHAR), \r\n\t&quot;CATEGORY&quot; VARCHAR2(20 CHAR), \r\n\t&quot;MOBILE_NO&quot; NUMBER(19,0), \r\n\t PRIMARY KEY (&quot;AID&quot;))\r\n```\r\n\r\nOracle DB Procedure:\r\n```lang-sql\r\ncreate or replace NONEDITIONABLE PROCEDURE P_GET_ACTORS_BY_CATEGORIES \r\n(\r\n  ROLE1 IN VARCHAR2 \r\n, ROLE2 IN VARCHAR2 \r\n, DETAILS OUT SYS_REFCURSOR \r\n) AS BEGIN\r\n\r\n  open DETAILS for \r\n  SELECT AID,ANAME,CATEGORY,MOBILE_NO FROM ACTOR WHERE CATEGORY IN(role1, role2) ORDER BY CATEGORY;\r\n  \r\nEND P_GET_ACTORS_BY_CATEGORIES;\r\n```\r\n\r\napplication.properties:\r\n```lang-properties\r\n#DataSource Configuration  (Bydefault  hikaricp )\r\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl\r\nspring.datasource.username=system\r\nspring.datasource.password=tiger\r\n\r\n#JPA- Hibenrate properties\r\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\nspring-boot version : 3.14\r\n","title":"java-ClassCastException: class org.hibernate.metamodel.model.domain.internal.EntityTypeImpl cannot be cast to class org.hibernate.query.OutputableType","body":"<p>I am getting <code>java.lang.ClassCastException</code> exception when trying to run a StoredProcedure using Jakarta EntityManager in my Spring Data JPA application.</p>\n<pre><code>java.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:777) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:758) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]\n    at com.example.bootdatajpaproj11callingprocedure.BootDataJpaProj11CallingProcedureApplication.main(BootDataJpaProj11CallingProcedureApplication.java:10) ~[classes/:na]\nCaused by: java.lang.ClassCastException: class org.hibernate.metamodel.model.domain.internal.EntityTypeImpl cannot be cast to class org.hibernate.query.OutputableType (org.hibernate.metamodel.model.domain.internal.EntityTypeImpl and org.hibernate.query.OutputableType are in unnamed module of loader 'app')\n    at org.hibernate.procedure.internal.ProcedureParameterImpl.toJdbcParameterRegistration(ProcedureParameterImpl.java:118) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.StandardCallableStatementSupport.interpretCall(StandardCallableStatementSupport.java:90) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:619) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:594) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:847) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:973) ~[hibernate-core-6.2.9.Final.jar:6.2.9.Final]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$DeferredQueryInvocationHandler.invoke(SharedEntityManagerCreator.java:405) ~[spring-orm-6.0.12.jar:6.0.12]\n    at jdk.proxy2/jdk.proxy2.$Proxy92.getResultList(Unknown Source) ~[na:na]\n    at com.example.bootdatajpaproj11callingprocedure.runner.CallingPL_ProcedureTestRunner.run(CallingPL_ProcedureTestRunner.java:40) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:774) ~[spring-boot-3.1.4.jar:3.1.4]\n    ... 5 common frames omitted\n</code></pre>\n<p>Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Actor.java (Entity class)\npackage com.nt.entity;\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\n@Entity\n@Data\n@AllArgsConstructor\npublic class Actor {\n    @Id \n    @GeneratedValue(strategy = GenerationType.AUTO)    \n    private Integer aid;\n    @Column(length = 20)\n    private String  aname;\n    @Column(length = 20)\n    private  String category;\n    @Column(unique = true,nullable = true)\n    private  Long mobileNo;\n\n    public  Actor() {\n        System.out.println(&quot;Actor: 0-param constructor&quot;+this.getClass());\n    }\n}\n</code></pre>\n<p>Repositor class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//IActorRepository.java\npackage com.nt.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.nt.entity.Actor;\n\npublic interface IActorRepository extends JpaRepository&lt;Actor, Integer&gt; {\n\n    \n}\n</code></pre>\n<p>Runner Class to run the StoredProcdure 'P_GET_ACTORS_BY_CATEGORIES':</p>\n<pre class=\"lang-java prettyprint-override\"><code>//CallingPL_ProcedureTestRunner.java\npackage com.nt.runner;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.stereotype.Component;\n\nimport com.nt.entity.Actor;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.ParameterMode;\nimport jakarta.persistence.StoredProcedureQuery;\n\n\n@Component\npublic class CallingPL_ProcedureTestRunner  implements CommandLineRunner {\n \n    @Autowired\n    private EntityManager  manager;\n\n    @Override\n    public void run(String... args) throws Exception {\n        StoredProcedureQuery query=manager.createStoredProcedureQuery(&quot;P_GET_ACTORS_BY_CATEGORIES&quot;, Actor.class);\n        // register both IN ,OUT params  of PL/SQL procedure\n        query.registerStoredProcedureParameter(1, String.class,ParameterMode.IN);\n        query.registerStoredProcedureParameter(2, String.class,ParameterMode.IN);\n        //registering out param\n        query.registerStoredProcedureParameter(3, Actor.class,ParameterMode.REF_CURSOR); \n        //set values to IN params\n        query.setParameter(1, &quot;CLERK&quot;);\n        query.setParameter(2, &quot;MANAGER&quot;);\n        //call PL/SQL procedure\n        List&lt;Actor&gt; list=query.getResultList();\n        //proecess the result\n        list.forEach(System.out::println);\n        \n    }//main\n\n}//class\n</code></pre>\n<p>Oracle DB 'Actor':</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE &quot;SYSTEM&quot;.&quot;ACTOR&quot; \n   (    &quot;AID&quot; NUMBER(10,0) NOT NULL ENABLE, \n    &quot;ANAME&quot; VARCHAR2(20 CHAR), \n    &quot;CATEGORY&quot; VARCHAR2(20 CHAR), \n    &quot;MOBILE_NO&quot; NUMBER(19,0), \n     PRIMARY KEY (&quot;AID&quot;))\n</code></pre>\n<p>Oracle DB Procedure:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace NONEDITIONABLE PROCEDURE P_GET_ACTORS_BY_CATEGORIES \n(\n  ROLE1 IN VARCHAR2 \n, ROLE2 IN VARCHAR2 \n, DETAILS OUT SYS_REFCURSOR \n) AS BEGIN\n\n  open DETAILS for \n  SELECT AID,ANAME,CATEGORY,MOBILE_NO FROM ACTOR WHERE CATEGORY IN(role1, role2) ORDER BY CATEGORY;\n  \nEND P_GET_ACTORS_BY_CATEGORIES;\n</code></pre>\n<p>application.properties:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>#DataSource Configuration  (Bydefault  hikaricp )\nspring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\nspring.datasource.url=jdbc:oracle:thin:@localhost:1521:orcl\nspring.datasource.username=system\nspring.datasource.password=tiger\n\n#JPA- Hibenrate properties\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>spring-boot version : 3.14</p>\n"},{"tags":["java","json","parsing","curl"],"comments":[{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1466000758,"post_id":37838177,"comment_id":63137420,"body_markdown":"Check this answer if it can help http://stackoverflow.com/a/36479644/1997376","body":"Check this answer if it can help <a href=\"http://stackoverflow.com/a/36479644/1997376\">stackoverflow.com/a/36479644/1997376</a>"},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466001222,"post_id":37838177,"comment_id":63137804,"body_markdown":"@NicolasFilotto I don&#39;t think it works for me. I just want to display the curl response in the eclipse console and then I will parse the response.","body":"@NicolasFilotto I don&#39;t think it works for me. I just want to display the curl response in the eclipse console and then I will parse the response."},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1466001331,"post_id":37838177,"comment_id":63137887,"body_markdown":"why it won&#39;t work? launching curl from a Java Program will make your program OS specific for nothing as it can be done easily in java","body":"why it won&#39;t work? launching curl from a Java Program will make your program OS specific for nothing as it can be done easily in java"},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466001762,"post_id":37838177,"comment_id":63138236,"body_markdown":"It is just a windows desktop application that I&#39;m working on, so I don&#39;t mind.","body":"It is just a windows desktop application that I&#39;m working on, so I don&#39;t mind."},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"score":0,"creation_date":1466006896,"post_id":37838177,"comment_id":63141958,"body_markdown":"Maybe you don&#39;t have `curl` installed, or maybe it is not in the `PATH` (if you add alements to `PATH` it is best to restart the system to make sure you are going to use it)","body":"Maybe you don&#39;t have <code>curl</code> installed, or maybe it is not in the <code>PATH</code> (if you add alements to <code>PATH</code> it is best to restart the system to make sure you are going to use it)"},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466007306,"post_id":37838177,"comment_id":63142227,"body_markdown":"What do you mean by it is not in the PATH?","body":"What do you mean by it is not in the PATH?"}],"answers":[{"comments":[{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466006597,"post_id":37838715,"comment_id":63141757,"body_markdown":"Getting error when I do according to what you said. Edited my question to show that.","body":"Getting error when I do according to what you said. Edited my question to show that."},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466025539,"post_id":37838715,"comment_id":63152163,"body_markdown":"What is &quot;stream&quot; here?","body":"What is &quot;stream&quot; here?"},{"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"score":0,"creation_date":1466055075,"post_id":37838715,"comment_id":63160120,"body_markdown":"@user3591433 a mistake, I&#39;ve corrected it - stream is not needed.","body":"@user3591433 a mistake, I&#39;ve corrected it - stream is not needed."},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466093760,"post_id":37838715,"comment_id":63185894,"body_markdown":"It gives me the following error: Use JsonReader.setLenient(true) to accept malformed JSON","body":"It gives me the following error: Use JsonReader.setLenient(true) to accept malformed JSON"}],"tags":[],"owner":{"account_id":20298,"reputation":26693,"user_id":48382,"accept_rate":61,"display_name":"Krzysztof Krasoń"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1466055055,"creation_date":1466001982,"answer_id":37838715,"question_id":37838177,"body_markdown":"You can do, and read the stream using some json parser, for example Gson:\r\n\r\n    try (\r\n        Reader reader = new InputStreamReader(\r\n            Runtime.getRuntime().exec(&quot;curl -h&quot;).getInputStream()\r\n        )\r\n    ) {\r\n        JsonElement element = new JsonParser().parse(reader);\r\n    }\r\n\r\n\r\n","title":"How to use curl in java and parse json response","body":"<p>You can do, and read the stream using some json parser, for example Gson:</p>\n\n<pre><code>try (\n    Reader reader = new InputStreamReader(\n        Runtime.getRuntime().exec(\"curl -h\").getInputStream()\n    )\n) {\n    JsonElement element = new JsonParser().parse(reader);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466098523,"post_id":37852226,"comment_id":63188648,"body_markdown":"Testing your RestTemplate sample gives me the PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target error. How to fix it?","body":"Testing your RestTemplate sample gives me the PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target error. How to fix it?"},{"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"score":0,"creation_date":1466100524,"post_id":37852226,"comment_id":63189885,"body_markdown":"Guessing your jira domain is http, and you are trying to access it with https. If so, change your URL location. If not, you will need to add some certificates to your java keystore, like this: https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html","body":"Guessing your jira domain is http, and you are trying to access it with https. If so, change your URL location. If not, you will need to add some certificates to your java keystore, like this: <a href=\"https://confluence.atlassian.com/kb/unable-to-connect-to-ssl-services-due-to-pkix-path-building-failed-779355358.html\" rel=\"nofollow noreferrer\">confluence.atlassian.com/kb/&hellip;</a>"},{"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"score":0,"creation_date":1466101582,"post_id":37852226,"comment_id":63190484,"body_markdown":"So, it is https. But I&#39;m okay to make Java accept all certificates.","body":"So, it is https. But I&#39;m okay to make Java accept all certificates."}],"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1466066559,"creation_date":1466061108,"answer_id":37852226,"question_id":37838177,"body_markdown":"This is a horrible way to access the Jira Rest api. Since it is a REST API, you can call it in many ways. Some of them are:\r\n\r\n1. Rest Java Client for Java. https://marketplace.atlassian.com/plugins/com.atlassian.jira.jira-rest-java-client/server/overview \r\n\r\nI have some sample code for you here: https://github.com/somaiah/jrjc\r\n\r\n2. Jersey: Use Jersey to call the REST APIs and read the responses. \r\n\r\n3. If you are using Spring, you can use the RestTemplate. I have a small sample here: https://github.com/somaiah/restTemplate\r\n\r\nOf course there is a whole slew of options for you- Restlet, Apache commons and so on. \r\n\r\nYou should use the curl option only if you are calling this from a bash script. In that case you can parse the response with jq (which I love) https://stedolan.github.io/jq/","title":"How to use curl in java and parse json response","body":"<p>This is a horrible way to access the Jira Rest api. Since it is a REST API, you can call it in many ways. Some of them are:</p>\n\n<ol>\n<li>Rest Java Client for Java. <a href=\"https://marketplace.atlassian.com/plugins/com.atlassian.jira.jira-rest-java-client/server/overview\" rel=\"nofollow\">https://marketplace.atlassian.com/plugins/com.atlassian.jira.jira-rest-java-client/server/overview</a> </li>\n</ol>\n\n<p>I have some sample code for you here: <a href=\"https://github.com/somaiah/jrjc\" rel=\"nofollow\">https://github.com/somaiah/jrjc</a></p>\n\n<ol start=\"2\">\n<li><p>Jersey: Use Jersey to call the REST APIs and read the responses. </p></li>\n<li><p>If you are using Spring, you can use the RestTemplate. I have a small sample here: <a href=\"https://github.com/somaiah/restTemplate\" rel=\"nofollow\">https://github.com/somaiah/restTemplate</a></p></li>\n</ol>\n\n<p>Of course there is a whole slew of options for you- Restlet, Apache commons and so on. </p>\n\n<p>You should use the curl option only if you are calling this from a bash script. In that case you can parse the response with jq (which I love) <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow\">https://stedolan.github.io/jq/</a></p>\n"},{"tags":[],"owner":{"account_id":12327012,"reputation":19,"user_id":8994318,"display_name":"Omar Palaming"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512363147,"creation_date":1512363147,"answer_id":47626718,"question_id":37838177,"body_markdown":"            Runtime rt = Runtime.getRuntime();\r\n            Process p1;\r\n            Process p2;\r\n            try {\r\n                String postSubmissionJSon = &quot;{&quot;data&quot;:&quot;value&quot;}&quot;;\r\n\r\n                String[] stringPost = {&quot;curl&quot;, &quot;-X&quot;, &quot;POST&quot;, &quot;https://your-url.com/api/posts&quot;,\r\n                    &quot;--cert&quot;, &quot;test.crt.pem&quot;,\r\n                    &quot;--key&quot;, &quot;test.key.pem&quot;,\r\n                    &quot;-H&quot;, &quot;accept: application/json&quot;,\r\n                    &quot;-H&quot;, &quot;content-type: application/json&quot;,\r\n                    &quot;-d&quot;, postSubmissionJSon};\r\n\r\n                ProcessBuilder ps = new ProcessBuilder(stringPost);\r\n                //ps.redirectErrorStream(true);\r\n                Process pr = ps.start();\r\n                pr.waitFor();\r\n\r\n                BufferedReader reader2 = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n\r\n                String line2 = &quot;&quot;;\r\n                while ((line2 = reader2.readLine()) != null) {\r\n                    output.append(line2 + &quot;\\n&quot;);\r\n                }\r\n\r\n                System.out.println(&quot;\\n\\n\\noutput====&quot; + output + &quot;===\\n\\n\\n&quot;);\r\n\r\n                String sbToString = output.toString();\r\n\r\n                jSONObject = new JSONObject(sbToString);\r\n\r\n                System.out.println(jSONObject.toString());\r\n\r\n                p1 = Runtime.getRuntime().exec(&quot;pwd&quot;);\r\n                p1.waitFor();\r\n                BufferedReader reader1a\r\n                        = new BufferedReader(new InputStreamReader(p1.getInputStream()));\r\n\r\n                String line1a = &quot;&quot;;\r\n                while ((line1a = reader1a.readLine()) != null) {\r\n                    output.append(line1a + &quot;\\n&quot;);\r\n                    System.out.println(&quot;output====&quot; + output + &quot;===&quot;);\r\n                }\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;===============ERROR===============\\n&quot; + e.getMessage() + &quot;\\n\\n\\n&quot;);\r\n            }\r\n\r\n/*NOTE : Your Key (test.key.pem) and Cert (test.crt.pem) should be located on your proper directory. For glassfish it is on &quot;~/glassfish4/glassfish/domains/domain1/config&quot; or your can specify exact location by changing &quot;--cert&quot;, &quot;test.crt.pem&quot; --&gt; &quot;/home/user/files/test.crt.pem&quot;.  Same with the key.\r\n*/","title":"How to use curl in java and parse json response","body":"<pre><code>        Runtime rt = Runtime.getRuntime();\n        Process p1;\n        Process p2;\n        try {\n            String postSubmissionJSon = \"{\"data\":\"value\"}\";\n\n            String[] stringPost = {\"curl\", \"-X\", \"POST\", \"https://your-url.com/api/posts\",\n                \"--cert\", \"test.crt.pem\",\n                \"--key\", \"test.key.pem\",\n                \"-H\", \"accept: application/json\",\n                \"-H\", \"content-type: application/json\",\n                \"-d\", postSubmissionJSon};\n\n            ProcessBuilder ps = new ProcessBuilder(stringPost);\n            //ps.redirectErrorStream(true);\n            Process pr = ps.start();\n            pr.waitFor();\n\n            BufferedReader reader2 = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n\n            String line2 = \"\";\n            while ((line2 = reader2.readLine()) != null) {\n                output.append(line2 + \"\\n\");\n            }\n\n            System.out.println(\"\\n\\n\\noutput====\" + output + \"===\\n\\n\\n\");\n\n            String sbToString = output.toString();\n\n            jSONObject = new JSONObject(sbToString);\n\n            System.out.println(jSONObject.toString());\n\n            p1 = Runtime.getRuntime().exec(\"pwd\");\n            p1.waitFor();\n            BufferedReader reader1a\n                    = new BufferedReader(new InputStreamReader(p1.getInputStream()));\n\n            String line1a = \"\";\n            while ((line1a = reader1a.readLine()) != null) {\n                output.append(line1a + \"\\n\");\n                System.out.println(\"output====\" + output + \"===\");\n            }\n        } catch (Exception e) {\n            System.out.println(\"===============ERROR===============\\n\" + e.getMessage() + \"\\n\\n\\n\");\n        }\n</code></pre>\n\n<p>/*NOTE : Your Key (test.key.pem) and Cert (test.crt.pem) should be located on your proper directory. For glassfish it is on \"~/glassfish4/glassfish/domains/domain1/config\" or your can specify exact location by changing \"--cert\", \"test.crt.pem\" --> \"/home/user/files/test.crt.pem\".  Same with the key.\n*/</p>\n"},{"tags":[],"owner":{"account_id":18216502,"reputation":1,"user_id":13258094,"display_name":"Josephine Alinea"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1587827041,"creation_date":1587827041,"answer_id":61427726,"question_id":37838177,"body_markdown":"Going to answer based on the error you mentioned.\r\nYou need to have cUrl installed and make sure it is added in your PATH variable.\r\n\r\nTo check, you can try to execute curl command from your Windows command prompt. If you are unable to see a valid response, you might not have cUrl nor not present in your PATH variable.\r\n\r\nTo install, find them on https://curl.haxx.se/download.html and just extract.\r\nThen add them in PATH variable and try running the cUrl command again.","title":"How to use curl in java and parse json response","body":"<p>Going to answer based on the error you mentioned.\nYou need to have cUrl installed and make sure it is added in your PATH variable.</p>\n\n<p>To check, you can try to execute curl command from your Windows command prompt. If you are unable to see a valid response, you might not have cUrl nor not present in your PATH variable.</p>\n\n<p>To install, find them on <a href=\"https://curl.haxx.se/download.html\" rel=\"nofollow noreferrer\">https://curl.haxx.se/download.html</a> and just extract.\nThen add them in PATH variable and try running the cUrl command again.</p>\n"}],"owner":{"account_id":4407480,"reputation":115,"user_id":3591433,"accept_rate":28,"display_name":"user3591433"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1696486030,"creation_date":1466000557,"question_id":37838177,"body_markdown":"I have a curl command that gives a JSON response. I want to use this curl command in java &amp; parse the JSON response in java. Is it possible to do so??\r\n\r\nWith below Java code: \r\n\r\n    public static void main(String[] args) throws Throwable {\r\n\r\n\t\ttry {\r\n\t\t\tInputStream stream = Runtime.getRuntime().exec(&quot;curl --globoff --insecure --silent -u username:password -X GET -H &#39;Content-Type: application/json&#39; \\&quot;http://ficcjira.xyz.com/rest/api/2/search?jql=project=ABC&amp;fields=Timetracking\\&quot;&quot;).getInputStream();\r\n\r\n\t\t\tBufferedReader input = new BufferedReader(new InputStreamReader(stream), 1);\r\n\t\t\t\r\n\t\t\tinput.readLine();\r\n\t    \tinput.read();\r\n\t    \tinput.read();\r\n\t\t\t\r\n\t\t\tDataReader reader = new JsonReader(input)\r\n\t\t\t\t\t.addField(&quot;TimeSpent&quot;, &quot;//array/object/timespent&quot;)\r\n\t\t\t\t\t.addRecordBreak(&quot;//array/object&quot;);\r\n\t\t\t\r\n\t\t\t/*reader = new TransformingReader(reader)\r\n\t\t\t\t\t.add(new BasicFieldTransformer(&quot;TimeSpent&quot;).stringToDouble());*/\r\n\t\t\t\r\n\t\t\tDataWriter writer = new StreamWriter(System.out);\r\n\t\t\t\r\n\t\t\tJobTemplate.DEFAULT.transfer(reader, writer);\r\n\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nI get the following error: \r\n\r\n    Cannot run program &quot;curl&quot;: CreateProcess error=2, The system cannot find the file specified","title":"How to use curl in java and parse json response","body":"<p>I have a curl command that gives a JSON response. I want to use this curl command in java &amp; parse the JSON response in java. Is it possible to do so??</p>\n\n<p>With below Java code: </p>\n\n<pre><code>public static void main(String[] args) throws Throwable {\n\n    try {\n        InputStream stream = Runtime.getRuntime().exec(\"curl --globoff --insecure --silent -u username:password -X GET -H 'Content-Type: application/json' \\\"http://ficcjira.xyz.com/rest/api/2/search?jql=project=ABC&amp;fields=Timetracking\\\"\").getInputStream();\n\n        BufferedReader input = new BufferedReader(new InputStreamReader(stream), 1);\n\n        input.readLine();\n        input.read();\n        input.read();\n\n        DataReader reader = new JsonReader(input)\n                .addField(\"TimeSpent\", \"//array/object/timespent\")\n                .addRecordBreak(\"//array/object\");\n\n        /*reader = new TransformingReader(reader)\n                .add(new BasicFieldTransformer(\"TimeSpent\").stringToDouble());*/\n\n        DataWriter writer = new StreamWriter(System.out);\n\n        JobTemplate.DEFAULT.transfer(reader, writer);\n\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I get the following error: </p>\n\n<pre><code>Cannot run program \"curl\": CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1696475903,"post_id":77232738,"comment_id":136158641,"body_markdown":"If you already entered values and saved them in SharedPreferences, in `MainActivity` this will be hit (`if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {`) so it just goes back to MainMenu immediately. If you want it to show those values, you have to remove that and load the values instead and put them in the various views.","body":"If you already entered values and saved them in SharedPreferences, in <code>MainActivity</code> this will be hit (<code>if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {</code>) so it just goes back to MainMenu immediately. If you want it to show those values, you have to remove that and load the values instead and put them in the various views."}],"answers":[{"comments":[{"owner":{"account_id":29443823,"reputation":15,"user_id":22561547,"display_name":"VGoychev"},"score":0,"creation_date":1696967164,"post_id":77234568,"comment_id":136219533,"body_markdown":"I uploaded my code to github , can you edit there with comments for better understanding if you want and of course if you have the time for me :) Thank you in advance! Link to github: https://github.com/VGoychev/MyFitnessApp","body":"I uploaded my code to github , can you edit there with comments for better understanding if you want and of course if you have the time for me :) Thank you in advance! Link to github: <a href=\"https://github.com/VGoychev/MyFitnessApp\" rel=\"nofollow noreferrer\">github.com/VGoychev/MyFitnessApp</a>"}],"tags":[],"owner":{"account_id":4283273,"reputation":12083,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696485800,"creation_date":1696485800,"answer_id":77234568,"question_id":77232738,"body_markdown":"You always set fresh new data in `onResume` of `MainActivity`:\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if (enterHeight != null) {\r\n            enterHeight.setText(&quot;&quot;);\r\n        }\r\n        if (enterWeight != null) {\r\n            enterWeight.setText(&quot;&quot;);\r\n        }\r\n        if (enterAge != null) {\r\n            enterAge.setText(&quot;&quot;);\r\n        }\r\n        if (radioGroup != null) {\r\n            radioGroup.clearCheck();\r\n        }\r\n    }\r\n\r\nThis is the reason.\r\n\r\nYou need input these data as in `MainActivity` well as in `MainMenu`. (Below is just for explanation, it&#39;s not guaranteed to execute as is):\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        SharedPreferences sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n        String height = sp.getString(&quot;height&quot; , &quot;&quot;);\r\n        String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\r\n        String age = sp.getString(&quot;age&quot; , &quot;&quot;);\r\n        String gender = sp.getString(&quot;gender&quot;, &quot;&quot;);\r\n    \r\n        enterHeight.setText(height);\r\n        enterWeight.setText(weight);\r\n        enterAge.setText(age);\r\n        if (gender == &quot;male&quot;) {\r\n            radioGroup.check(R.id.male); // I don&#39;t know what exact R.id is.\r\n        } else if (gender == &quot;female&quot;) {\r\n            radioGroup.check(R.id.female); // I don&#39;t know what exact R.id is.\r\n        } else {\r\n            radioGroup.clearCheck();\r\n        }\r\n    }","title":"After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again?","body":"<p>You always set fresh new data in <code>onResume</code> of <code>MainActivity</code>:</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    if (enterHeight != null) {\n        enterHeight.setText(&quot;&quot;);\n    }\n    if (enterWeight != null) {\n        enterWeight.setText(&quot;&quot;);\n    }\n    if (enterAge != null) {\n        enterAge.setText(&quot;&quot;);\n    }\n    if (radioGroup != null) {\n        radioGroup.clearCheck();\n    }\n}\n</code></pre>\n<p>This is the reason.</p>\n<p>You need input these data as in <code>MainActivity</code> well as in <code>MainMenu</code>. (Below is just for explanation, it's not guaranteed to execute as is):</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n\n    SharedPreferences sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n    String height = sp.getString(&quot;height&quot; , &quot;&quot;);\n    String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\n    String age = sp.getString(&quot;age&quot; , &quot;&quot;);\n    String gender = sp.getString(&quot;gender&quot;, &quot;&quot;);\n\n    enterHeight.setText(height);\n    enterWeight.setText(weight);\n    enterAge.setText(age);\n    if (gender == &quot;male&quot;) {\n        radioGroup.check(R.id.male); // I don't know what exact R.id is.\n    } else if (gender == &quot;female&quot;) {\n        radioGroup.check(R.id.female); // I don't know what exact R.id is.\n    } else {\n        radioGroup.clearCheck();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29443823,"reputation":15,"user_id":22561547,"display_name":"VGoychev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77234568,"answer_count":1,"score":1,"last_activity_date":1696486023,"creation_date":1696450943,"question_id":77232738,"body_markdown":"After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again? I&#39;ve tried to make the &quot;edit&quot; button and when you click it to go back to the MainActivity , but it&#39;s not happening...\r\nHere is my MainActivity code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        EditText enterHeight, enterWeight, enterAge;\r\n    \r\n        private double height;\r\n        private double weight;\r\n        private double age;\r\n        String selectedRadiobut;\r\n        Button button;\r\n        RadioButton radioMale, radioFemale;\r\n        RadioGroup radioGroup;\r\n        SharedPreferences sp;\r\n    \r\n        private boolean heightIsValid() {\r\n    \r\n            if (enterHeight.getText().toString().length() == 0) {\r\n                enterHeight.setError(&quot;Cant be empty&quot;);\r\n                return false;\r\n            }\r\n    \r\n            double height = Double.valueOf(enterHeight.getText().toString());\r\n    \r\n            if (height &lt;= 0) {\r\n    \r\n                enterHeight.setError(&quot;Cant be zero&quot;);\r\n                return false;\r\n            }\r\n            if (height &lt;= 40 || height &gt; 250) {\r\n    \r\n                enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private boolean weightIsValid() {\r\n            if (enterWeight.getText().toString().length() == 0) {\r\n                enterWeight.setError(&quot;Cant be empty&quot;);\r\n                return false;\r\n            }\r\n    \r\n            double weight = Double.valueOf(enterWeight.getText().toString());\r\n    \r\n            if (weight &lt;= 0) {\r\n    \r\n                enterWeight.setError(&quot;Cant be zero&quot;);\r\n                return false;\r\n            }\r\n            if (weight &gt; 600) {\r\n    \r\n                enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private boolean ageIsValid() {\r\n            if (enterAge.getText().toString().length() == 0) {\r\n                enterAge.setError(&quot;Cant be empty&quot;);\r\n                return false;\r\n            }\r\n    \r\n            double age = Double.valueOf(enterAge.getText().toString());\r\n    \r\n            if (age &lt;= 0) {\r\n    \r\n                enterAge.setError(&quot;Cant be zero&quot;);\r\n                return false;\r\n            }\r\n            if (age &gt; 116) {\r\n    \r\n                enterAge.setError(&quot;Cant be older than 116 years&quot;);\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        private boolean genderIsSelected() {\r\n    \r\n            if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\r\n                Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\r\n                toast.show();\r\n                return false;\r\n            }\r\n            if (radioMale.isChecked()) {\r\n                selectedRadiobut = radioMale.getText().toString();\r\n            } else if (radioFemale.isChecked()) {\r\n                selectedRadiobut = radioFemale.getText().toString();\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_main);\r\n            getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\r\n            sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n    \r\n            if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {\r\n                // Values are stored, navigate to MainMenu directly\r\n                Intent intent = new Intent(MainActivity.this, MainMenu.class);\r\n                startActivity(intent);\r\n            } else {\r\n                radioMale = (RadioButton) findViewById(R.id.radioMale);\r\n                radioFemale = (RadioButton) findViewById(R.id.radioFemale);\r\n                button = (Button) findViewById(R.id.button);\r\n                enterHeight = (EditText) findViewById(R.id.enterHeight);\r\n                enterWeight = (EditText) findViewById(R.id.enterWeight);\r\n                enterAge = (EditText) findViewById(R.id.enterAge);\r\n                radioGroup = (RadioGroup) findViewById(R.id.radioSex);\r\n    \r\n                button.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n    \r\n    \r\n                        if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\r\n    \r\n                            height = Double.valueOf(enterHeight.getText().toString());\r\n                            weight = Double.valueOf(enterWeight.getText().toString());\r\n                            age = Double.valueOf(enterAge.getText().toString());\r\n    \r\n                            SharedPreferences.Editor editor = sp.edit();\r\n                            editor.putString(&quot;height&quot;, String.valueOf(Integer.valueOf((int) height)));\r\n                            editor.putString(&quot;weight&quot;, String.valueOf(Integer.valueOf((int) weight)));\r\n                            editor.putString(&quot;age&quot;, String.valueOf(Integer.valueOf((int) age)));\r\n                            editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\r\n                            editor.commit();\r\n    \r\n                            InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\r\n                            imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n                            Intent intent = new Intent(MainActivity.this, MainMenu.class);\r\n                            startActivity(intent);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n            if (enterHeight != null) {\r\n                enterHeight.setText(&quot;&quot;);\r\n            }\r\n            if (enterWeight != null) {\r\n                enterWeight.setText(&quot;&quot;);\r\n            }\r\n            if (enterAge != null) {\r\n                enterAge.setText(&quot;&quot;);\r\n            }\r\n            if (radioGroup != null) {\r\n                radioGroup.clearCheck();\r\n            }\r\n        }\r\n    }\r\n\r\nHere is my MainMenu code:\r\n\r\n    public class MainMenu extends AppCompatActivity { Button  btnMC , btnFN , btnRec , btnGuides, btnEdit;\r\n        public void btnStepClick(View view) {\r\n            Intent intent = new Intent(this, StepCounter.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnCalClick(View view) {\r\n            Intent intent = new Intent(this, MacrosCalculator.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnRecClick(View view){\r\n            Intent intent = new Intent(this, Recipes.class);\r\n            startActivity(intent);\r\n        }\r\n        public void btnEditClick(View view){\r\n            Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            startActivity(intent);\r\n        }\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getSupportActionBar().hide();\r\n            setContentView(R.layout.activity_main_menu);\r\n            TextView age1 , height1 , weight1 , gender1;\r\n    \r\n            age1 = (TextView) findViewById(R.id.age1);\r\n            height1 = (TextView) findViewById(R.id.height1);\r\n            weight1 = (TextView) findViewById(R.id.weight1);\r\n            gender1 = (TextView) findViewById(R.id.gender1);\r\n            btnMC = (Button) findViewById(R.id.btnMC);\r\n            btnFN = (Button) findViewById(R.id.btnFN);\r\n            btnRec = (Button) findViewById(R.id.btnRec);\r\n            btnGuides = (Button) findViewById(R.id.btnGuides);\r\n            btnEdit = (Button) findViewById(R.id.btnEdit);\r\n    \r\n            SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\r\n            String height = sp.getString(&quot;height&quot; , &quot;&quot;);\r\n            String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\r\n            String age = sp.getString(&quot;age&quot; , &quot;&quot;);\r\n            String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\r\n    \r\n            gender1.setText(&quot;Gender: &quot; + gender);\r\n            age1.setText(&quot;Age: &quot; + age);\r\n            height1.setText(&quot;Height(cm): &quot; + height);\r\n            weight1.setText(&quot;Weight(kg): &quot; + weight);\r\n        }\r\n    }\r\n\r\nI&#39;ve made a button with id = btnEdit and onClick = btnEditClick , I&#39;ve made the Intent but after clicking the button it&#39;s not going to the MainActivity.\r\n\r\n","title":"After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again?","body":"<p>After putting values in MainActivity it skips to MainMenu , how to make a &quot;edit&quot; button to return to MainActivity and edit those values again? I've tried to make the &quot;edit&quot; button and when you click it to go back to the MainActivity , but it's not happening...\nHere is my MainActivity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    EditText enterHeight, enterWeight, enterAge;\n\n    private double height;\n    private double weight;\n    private double age;\n    String selectedRadiobut;\n    Button button;\n    RadioButton radioMale, radioFemale;\n    RadioGroup radioGroup;\n    SharedPreferences sp;\n\n    private boolean heightIsValid() {\n\n        if (enterHeight.getText().toString().length() == 0) {\n            enterHeight.setError(&quot;Cant be empty&quot;);\n            return false;\n        }\n\n        double height = Double.valueOf(enterHeight.getText().toString());\n\n        if (height &lt;= 0) {\n\n            enterHeight.setError(&quot;Cant be zero&quot;);\n            return false;\n        }\n        if (height &lt;= 40 || height &gt; 250) {\n\n            enterHeight.setError(&quot;Cant be less than 40 cm or more than 250 cm&quot;);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean weightIsValid() {\n        if (enterWeight.getText().toString().length() == 0) {\n            enterWeight.setError(&quot;Cant be empty&quot;);\n            return false;\n        }\n\n        double weight = Double.valueOf(enterWeight.getText().toString());\n\n        if (weight &lt;= 0) {\n\n            enterWeight.setError(&quot;Cant be zero&quot;);\n            return false;\n        }\n        if (weight &gt; 600) {\n\n            enterWeight.setError(&quot;Cant be more than 600 kg&quot;);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean ageIsValid() {\n        if (enterAge.getText().toString().length() == 0) {\n            enterAge.setError(&quot;Cant be empty&quot;);\n            return false;\n        }\n\n        double age = Double.valueOf(enterAge.getText().toString());\n\n        if (age &lt;= 0) {\n\n            enterAge.setError(&quot;Cant be zero&quot;);\n            return false;\n        }\n        if (age &gt; 116) {\n\n            enterAge.setError(&quot;Cant be older than 116 years&quot;);\n            return false;\n        }\n        return true;\n    }\n\n    private boolean genderIsSelected() {\n\n        if (radioGroup.getCheckedRadioButtonId() == -1) { //checking if the user has selected a option using id\n            Toast toast = Toast.makeText(this, &quot;Please select gender&quot;, Toast.LENGTH_SHORT);\n            toast.show();\n            return false;\n        }\n        if (radioMale.isChecked()) {\n            selectedRadiobut = radioMale.getText().toString();\n        } else if (radioFemale.isChecked()) {\n            selectedRadiobut = radioFemale.getText().toString();\n        }\n        return true;\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main);\n        getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);\n        sp = getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n\n        if (sp.contains(&quot;height&quot;) &amp;&amp; sp.contains(&quot;weight&quot;) &amp;&amp; sp.contains(&quot;age&quot;) &amp;&amp; sp.contains(&quot;gender&quot;)) {\n            // Values are stored, navigate to MainMenu directly\n            Intent intent = new Intent(MainActivity.this, MainMenu.class);\n            startActivity(intent);\n        } else {\n            radioMale = (RadioButton) findViewById(R.id.radioMale);\n            radioFemale = (RadioButton) findViewById(R.id.radioFemale);\n            button = (Button) findViewById(R.id.button);\n            enterHeight = (EditText) findViewById(R.id.enterHeight);\n            enterWeight = (EditText) findViewById(R.id.enterWeight);\n            enterAge = (EditText) findViewById(R.id.enterAge);\n            radioGroup = (RadioGroup) findViewById(R.id.radioSex);\n\n            button.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n\n\n                    if (heightIsValid() &amp; weightIsValid() &amp; ageIsValid() &amp; genderIsSelected()) {\n\n                        height = Double.valueOf(enterHeight.getText().toString());\n                        weight = Double.valueOf(enterWeight.getText().toString());\n                        age = Double.valueOf(enterAge.getText().toString());\n\n                        SharedPreferences.Editor editor = sp.edit();\n                        editor.putString(&quot;height&quot;, String.valueOf(Integer.valueOf((int) height)));\n                        editor.putString(&quot;weight&quot;, String.valueOf(Integer.valueOf((int) weight)));\n                        editor.putString(&quot;age&quot;, String.valueOf(Integer.valueOf((int) age)));\n                        editor.putString(&quot;gender&quot;, String.valueOf(selectedRadiobut));\n                        editor.commit();\n\n                        InputMethodManager imm = (InputMethodManager) getSystemService(getApplicationContext().INPUT_METHOD_SERVICE);\n                        imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n                        Intent intent = new Intent(MainActivity.this, MainMenu.class);\n                        startActivity(intent);\n                    }\n                }\n            });\n        }\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        if (enterHeight != null) {\n            enterHeight.setText(&quot;&quot;);\n        }\n        if (enterWeight != null) {\n            enterWeight.setText(&quot;&quot;);\n        }\n        if (enterAge != null) {\n            enterAge.setText(&quot;&quot;);\n        }\n        if (radioGroup != null) {\n            radioGroup.clearCheck();\n        }\n    }\n}\n</code></pre>\n<p>Here is my MainMenu code:</p>\n<pre><code>public class MainMenu extends AppCompatActivity { Button  btnMC , btnFN , btnRec , btnGuides, btnEdit;\n    public void btnStepClick(View view) {\n        Intent intent = new Intent(this, StepCounter.class);\n        startActivity(intent);\n    }\n    public void btnCalClick(View view) {\n        Intent intent = new Intent(this, MacrosCalculator.class);\n        startActivity(intent);\n    }\n    public void btnRecClick(View view){\n        Intent intent = new Intent(this, Recipes.class);\n        startActivity(intent);\n    }\n    public void btnEditClick(View view){\n        Log.d(&quot;MainMenu&quot;, &quot;Edit button clicked&quot;);\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getSupportActionBar().hide();\n        setContentView(R.layout.activity_main_menu);\n        TextView age1 , height1 , weight1 , gender1;\n\n        age1 = (TextView) findViewById(R.id.age1);\n        height1 = (TextView) findViewById(R.id.height1);\n        weight1 = (TextView) findViewById(R.id.weight1);\n        gender1 = (TextView) findViewById(R.id.gender1);\n        btnMC = (Button) findViewById(R.id.btnMC);\n        btnFN = (Button) findViewById(R.id.btnFN);\n        btnRec = (Button) findViewById(R.id.btnRec);\n        btnGuides = (Button) findViewById(R.id.btnGuides);\n        btnEdit = (Button) findViewById(R.id.btnEdit);\n\n        SharedPreferences sp = getApplicationContext().getSharedPreferences(&quot;MyUserPrefs&quot;, Context.MODE_PRIVATE);\n        String height = sp.getString(&quot;height&quot; , &quot;&quot;);\n        String weight = sp.getString(&quot;weight&quot; , &quot;&quot;);\n        String age = sp.getString(&quot;age&quot; , &quot;&quot;);\n        String gender= sp.getString(&quot;gender&quot;, &quot;&quot;);\n\n        gender1.setText(&quot;Gender: &quot; + gender);\n        age1.setText(&quot;Age: &quot; + age);\n        height1.setText(&quot;Height(cm): &quot; + height);\n        weight1.setText(&quot;Weight(kg): &quot; + weight);\n    }\n}\n</code></pre>\n<p>I've made a button with id = btnEdit and onClick = btnEditClick , I've made the Intent but after clicking the button it's not going to the MainActivity.</p>\n"},{"tags":["java","selenium-webdriver","appium","lambdatest"],"comments":[{"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"score":0,"creation_date":1695377773,"post_id":77149656,"comment_id":136019538,"body_markdown":"This above error was due to incorrect lambdatest url for mobile. Once corrected, this still doesn&#39;t seem to return the driver. Getting this error now:  `Capabilities {browserName: Chrome, deviceName: Pixel 7 Pro, isRealMobile: true, name: android Pixel 7 Pro 13, platformName: ANDROID, platformVersion: 13}\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: platform name is missing in the capabilities`","body":"This above error was due to incorrect lambdatest url for mobile. Once corrected, this still doesn&#39;t seem to return the driver. Getting this error now:  <code>Capabilities {browserName: Chrome, deviceName: Pixel 7 Pro, isRealMobile: true, name: android Pixel 7 Pro 13, platformName: ANDROID, platformVersion: 13} org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: platform name is missing in the capabilities</code>"}],"answers":[{"comments":[{"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"score":0,"creation_date":1695359312,"post_id":77150879,"comment_id":136016441,"body_markdown":"Irrespective of the case, it seems to always take it as caps when it is set into DesiredCapabilities.","body":"Irrespective of the case, it seems to always take it as caps when it is set into DesiredCapabilities."},{"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"score":0,"creation_date":1695377846,"post_id":77150879,"comment_id":136019554,"body_markdown":"This above error was due to incorrect lambdatest url for mobile. Once corrected, this still doesn&#39;t seem to return the driver. Getting this error now:  `Capabilities {browserName: Chrome, deviceName: Pixel 7 Pro, isRealMobile: true, name: android Pixel 7 Pro 13, platformName: ANDROID, platformVersion: 13}\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: platform name is missing in the capabilities`","body":"This above error was due to incorrect lambdatest url for mobile. Once corrected, this still doesn&#39;t seem to return the driver. Getting this error now:  <code>Capabilities {browserName: Chrome, deviceName: Pixel 7 Pro, isRealMobile: true, name: android Pixel 7 Pro 13, platformName: ANDROID, platformVersion: 13} org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: platform name is missing in the capabilities</code>"}],"tags":[],"owner":{"account_id":23430403,"reputation":116,"user_id":17489347,"display_name":"Dima Berezovskyi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695304015,"creation_date":1695304015,"answer_id":77150879,"question_id":77149656,"body_markdown":"    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    capabilities.setCapability(&quot;platformName&quot;, &quot;android&quot;);\r\n    capabilities.setCapability(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\r\n    capabilities.setCapability(&quot;platformVersion&quot;, &quot;9&quot;);\r\n    capabilities.setCapability(&quot;isRealMobile&quot;, true);\r\n[Caps generator](https://www.lambdatest.com/capabilities-generator/)\r\n\r\nchange ANDROID to android","title":"LambdaTest Appium Integration : Driver session Response code 400. Message: unsupported platfrom ANDROID","body":"<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\ncapabilities.setCapability(&quot;platformName&quot;, &quot;android&quot;);\ncapabilities.setCapability(&quot;deviceName&quot;, &quot;Pixel 3&quot;);\ncapabilities.setCapability(&quot;platformVersion&quot;, &quot;9&quot;);\ncapabilities.setCapability(&quot;isRealMobile&quot;, true);\n</code></pre>\n<p><a href=\"https://www.lambdatest.com/capabilities-generator/\" rel=\"nofollow noreferrer\">Caps generator</a></p>\n<p>change ANDROID to android</p>\n"},{"tags":[],"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696485967,"creation_date":1696485967,"answer_id":77234580,"question_id":77149656,"body_markdown":"The desired capabilities details had to be passed as a map along with a w3c parameter for this to work. Given below is the code that worked for me.\r\n\r\n    DesiredCapabilities capabilities = new DesiredCapabilities();\r\n    HashMap&lt;String, Object&gt; ltOptions = new HashMap&lt;String, Object&gt;();\r\n    ltOptions.put(&quot;w3c&quot;, true);\r\n    ltOptions.put(&quot;platformName&quot;, &quot;android&quot;);\r\n    ltOptions.put(&quot;deviceName&quot;, &quot;Pixel 6&quot;);\r\n    ltOptions.put(&quot;platformVersion&quot;, &quot;13&quot;);\r\n    ltOptions.put(&quot;isRealMobile&quot;, true);\r\n    capabilities.setCapability(&quot;lt:options&quot;, ltOptions);","title":"LambdaTest Appium Integration : Driver session Response code 400. Message: unsupported platfrom ANDROID","body":"<p>The desired capabilities details had to be passed as a map along with a w3c parameter for this to work. Given below is the code that worked for me.</p>\n<pre><code>DesiredCapabilities capabilities = new DesiredCapabilities();\nHashMap&lt;String, Object&gt; ltOptions = new HashMap&lt;String, Object&gt;();\nltOptions.put(&quot;w3c&quot;, true);\nltOptions.put(&quot;platformName&quot;, &quot;android&quot;);\nltOptions.put(&quot;deviceName&quot;, &quot;Pixel 6&quot;);\nltOptions.put(&quot;platformVersion&quot;, &quot;13&quot;);\nltOptions.put(&quot;isRealMobile&quot;, true);\ncapabilities.setCapability(&quot;lt:options&quot;, ltOptions);\n</code></pre>\n"}],"owner":{"account_id":1013270,"reputation":25,"user_id":1025393,"display_name":"anjana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77234580,"answer_count":2,"score":0,"last_activity_date":1696485967,"creation_date":1695294337,"question_id":77149656,"body_markdown":"I have configured my automation app to run appium on lambdatest. \r\nBut I am getting the below error where it is unable to create the driver session\r\n\r\n```\r\nDriver info: io.appium.java_client.android.AndroidDriver\r\nCommand: [null, newSession {capabilities=[{browserName=Chrome, appium:deviceName=Google Pixel 7 Pro, platformName=ANDROID, appium:platformVersion=13}], desiredCapabilities=Capabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}}]\r\nCapabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}\r\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: unsupported platfrom ANDROID \r\n```\r\n\r\n\r\nThe platform name in my code is Android but it gets converted to all caps internally.\r\nI am running the below selenium and appium versions.\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t        &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n\t        &lt;version&gt;8.5.1&lt;/version&gt; &lt;!-- Specify the desired version --&gt;\r\n\t    &lt;/dependency&gt;\r\n```\r\n\r\nPlease let me know if there are any workarounds or any lower versions with which this might execute.","title":"LambdaTest Appium Integration : Driver session Response code 400. Message: unsupported platfrom ANDROID","body":"<p>I have configured my automation app to run appium on lambdatest.\nBut I am getting the below error where it is unable to create the driver session</p>\n<pre><code>Driver info: io.appium.java_client.android.AndroidDriver\nCommand: [null, newSession {capabilities=[{browserName=Chrome, appium:deviceName=Google Pixel 7 Pro, platformName=ANDROID, appium:platformVersion=13}], desiredCapabilities=Capabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}}]\nCapabilities {browserName: Chrome, deviceName: Google Pixel 7 Pro, platformName: ANDROID, platformVersion: 13}\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 400. Message: unsupported platfrom ANDROID \n</code></pre>\n<p>The platform name in my code is Android but it gets converted to all caps internally.\nI am running the below selenium and appium versions.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;8.5.1&lt;/version&gt; &lt;!-- Specify the desired version --&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Please let me know if there are any workarounds or any lower versions with which this might execute.</p>\n"},{"tags":["java","filesystems"],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369103995,"creation_date":1369103995,"answer_id":16661320,"question_id":16660918,"body_markdown":"As far as I know, no - Java does not provide access to the information that you&#39;re looking for.\r\n\r\nI think that your only real option is to write a shared library, and use either JNI or JNA to access it.\r\n","title":"Determine filesystem type of given file in Java","body":"<p>As far as I know, no - Java does not provide access to the information that you're looking for.</p>\n\n<p>I think that your only real option is to write a shared library, and use either JNI or JNA to access it.</p>\n"},{"tags":[],"owner":{"account_id":29602124,"reputation":26,"user_id":22687300,"display_name":"CormacS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696485916,"creation_date":1696485916,"answer_id":77234575,"question_id":16660918,"body_markdown":"Here&#39;s how to do it with `FileStore`\r\n\r\n```\r\nString format = getFormat(Path.of(file.getPath()));\r\n\r\nString getFormat (Path path) {\r\n    return Files.getFileStore(path).type();\r\n}\r\n```","title":"Determine filesystem type of given file in Java","body":"<p>Here's how to do it with <code>FileStore</code></p>\n<pre><code>String format = getFormat(Path.of(file.getPath()));\n\nString getFormat (Path path) {\n    return Files.getFileStore(path).type();\n}\n</code></pre>\n"}],"owner":{"account_id":2794150,"reputation":602,"user_id":2403720,"display_name":"Brian Heilig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77234575,"answer_count":2,"score":2,"last_activity_date":1696485916,"creation_date":1369100801,"question_id":16660918,"body_markdown":"Is there something similar to `statfs` in Java to determine the filesystem type of a given file? More specifically I&#39;d like to determine if a file provided by a user is on a shared or local filesystem. I&#39;m going to use this information to determine if the application is opening several identically named files on the local filesystem of a distributed application, or one shared file.\r\n\r\nI suppose if I can get something like &quot;NFS&quot;, &quot;Lustre&quot;, &quot;EXT3&quot;, etc either as a string or an enumeration then I can program a mapping to shared/not shared. Let&#39;s assume the file exists and is readable.","title":"Determine filesystem type of given file in Java","body":"<p>Is there something similar to <code>statfs</code> in Java to determine the filesystem type of a given file? More specifically I'd like to determine if a file provided by a user is on a shared or local filesystem. I'm going to use this information to determine if the application is opening several identically named files on the local filesystem of a distributed application, or one shared file.</p>\n\n<p>I suppose if I can get something like \"NFS\", \"Lustre\", \"EXT3\", etc either as a string or an enumeration then I can program a mapping to shared/not shared. Let's assume the file exists and is readable.</p>\n"},{"tags":["java","spring","spring-aop","spring-3","java-ee-7"],"answers":[{"comments":[{"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"score":0,"creation_date":1390373440,"post_id":21275958,"comment_id":32058585,"body_markdown":"@user755806 Your annotation example doesn&#39;t define an attribute yet. I updated my answer, but I recommend you to read http://docs.oracle.com/javase/tutorial/java/annotations/","body":"@user755806 Your annotation example doesn&#39;t define an attribute yet. I updated my answer, but I recommend you to read <a href=\"http://docs.oracle.com/javase/tutorial/java/annotations/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/annotations</a>"},{"owner":{"account_id":9502520,"reputation":81,"user_id":7063086,"display_name":"Ayhan Arslan"},"score":0,"creation_date":1588672210,"post_id":21275958,"comment_id":108981518,"body_markdown":"Is there a way to change value of that annotation there?","body":"Is there a way to change value of that annotation there?"},{"owner":{"account_id":2616394,"reputation":148,"user_id":2265365,"display_name":"Francisco Javier Barrena"},"score":0,"creation_date":1599211350,"post_id":21275958,"comment_id":112710176,"body_markdown":"Wow, thanks for that. I was struggling with this the whole day. Thanks!","body":"Wow, thanks for that. I was struggling with this the whole day. Thanks!"},{"owner":{"account_id":7125787,"reputation":771,"user_id":5448746,"display_name":"Ondřej Stašek"},"score":0,"creation_date":1677684001,"post_id":21275958,"comment_id":133386892,"body_markdown":"Seems that `signature.getMethod()` does not longer exist.","body":"Seems that <code>signature.getMethod()</code> does not longer exist."}],"tags":[],"owner":{"account_id":947184,"reputation":49004,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"comment_count":4,"down_vote_count":1,"up_vote_count":208,"is_accepted":true,"score":207,"last_activity_date":1590546027,"creation_date":1390372892,"answer_id":21275958,"question_id":21275819,"body_markdown":"You can get the [Signature][1] from a [ProceedingJoinPoint][2] and in case of a method invocation just cast it to a [MethodSignature][3].\r\n\r\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)\r\n    public Object procede(ProceedingJoinPoint call) throws Throwable {\r\n        MethodSignature signature = (MethodSignature) call.getSignature();\r\n        Method method = signature.getMethod();\r\n\r\n        MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\r\n    }\r\n\r\nBut you should first add an annotation attribute. Your example code doesn&#39;t have one, e.g.\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n\r\n    \tString value();\r\n    }\r\n\r\nThen you can access it\r\n\r\n    MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\r\n    String value = myAnnotation.value();\r\n\r\n**EDIT**\r\n\r\n&gt; How to get value if I have @MyAnnotation(&quot;ABC&quot;) at class level ?\r\n\r\nA `Class` is also an [`AnnotatedElement`][4], so you can get it the same way as from a `Method`. E.g. An annotation of the method&#39;s declaring class can be obtained using\r\n\r\n     Method method = ...;\r\n     Class&lt;?&gt; declaringClass = method.getDeclaringClass();\r\n\t MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class)\r\n\r\nSince you are using spring you might also want to use spring&#39;s [`AnnotationUtils.findAnnotation(..)`][5]. It searches for an annotation as spring does. E.g. also looking at superclass and interface methods, etc.\r\n\r\n     MyAnnotation foundAnnotation = AnnotationUtils.findAnnotation(method, MyAnnotation.class);\r\n\r\n**EDIT**\r\n\r\nYou might also be interessted in the capabilities of spring&#39;s [`MergedAnnotations`][6] which was introduced in 5.2.\r\n\r\n\r\n  [1]: http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/Signature.html\r\n  [2]: http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/ProceedingJoinPoint.html\r\n  [3]: https://eclipse.org/aspectj/doc/next/runtime-api/org/aspectj/lang/reflect/MethodSignature.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html\r\n  [5]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\r\n  [6]: https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/annotation/MergedAnnotations.html","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>You can get the <a href=\"http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/Signature.html\" rel=\"noreferrer\">Signature</a> from a <a href=\"http://www.eclipse.org/aspectj/doc/released/runtime-api/org/aspectj/lang/ProceedingJoinPoint.html\" rel=\"noreferrer\">ProceedingJoinPoint</a> and in case of a method invocation just cast it to a <a href=\"https://eclipse.org/aspectj/doc/next/runtime-api/org/aspectj/lang/reflect/MethodSignature.html\" rel=\"noreferrer\">MethodSignature</a>.</p>\n\n<pre><code>@Around(\"execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\npublic Object procede(ProceedingJoinPoint call) throws Throwable {\n    MethodSignature signature = (MethodSignature) call.getSignature();\n    Method method = signature.getMethod();\n\n    MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\n}\n</code></pre>\n\n<p>But you should first add an annotation attribute. Your example code doesn't have one, e.g.</p>\n\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n\n    String value();\n}\n</code></pre>\n\n<p>Then you can access it</p>\n\n<pre><code>MyAnnotation myAnnotation = method.getAnnotation(MyAnnotation.class);\nString value = myAnnotation.value();\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<blockquote>\n  <p>How to get value if I have @MyAnnotation(\"ABC\") at class level ?</p>\n</blockquote>\n\n<p>A <code>Class</code> is also an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/AnnotatedElement.html\" rel=\"noreferrer\"><code>AnnotatedElement</code></a>, so you can get it the same way as from a <code>Method</code>. E.g. An annotation of the method's declaring class can be obtained using</p>\n\n<pre><code> Method method = ...;\n Class&lt;?&gt; declaringClass = method.getDeclaringClass();\n MyAnnotation myAnnotation = declaringClass.getAnnotation(MyAnnotation.class)\n</code></pre>\n\n<p>Since you are using spring you might also want to use spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/annotation/AnnotationUtils.html\" rel=\"noreferrer\"><code>AnnotationUtils.findAnnotation(..)</code></a>. It searches for an annotation as spring does. E.g. also looking at superclass and interface methods, etc.</p>\n\n<pre><code> MyAnnotation foundAnnotation = AnnotationUtils.findAnnotation(method, MyAnnotation.class);\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>You might also be interessted in the capabilities of spring's <a href=\"https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/annotation/MergedAnnotations.html\" rel=\"noreferrer\"><code>MergedAnnotations</code></a> which was introduced in 5.2.</p>\n"},{"comments":[{"owner":{"account_id":5774013,"reputation":1046,"user_id":5369132,"accept_rate":25,"display_name":"JesseBoyd"},"score":0,"creation_date":1519087208,"post_id":21276021,"comment_id":84756525,"body_markdown":"which Annotation class do you use, there are more than one","body":"which Annotation class do you use, there are more than one"},{"owner":{"account_id":158286,"reputation":695,"user_id":376803,"accept_rate":18,"display_name":"Christian von Wendt-Jensen"},"score":0,"creation_date":1682143092,"post_id":21276021,"comment_id":134172337,"body_markdown":"The trick is to declare a @PointCut with the annotation like:\n\n    @Pointcut(&quot;@annotation(com.mycompany.MyAnnotation))&quot;)\n    public void myAnnotation() {}\n\nand then reference it in your advice like so:\n\n    @Before(&quot;@annotation(myAnnotation)&quot;)\n    public void beforeSqsListener(com.mycompany.MyAnnotation myAnnotation) {\n        // use myAnnotation like a normal variable...\n    }","body":"The trick is to declare a @PointCut with the annotation like:      @Pointcut(&quot;@annotation(com.mycompany.MyAnnotation))&quot;)     public void myAnnotation() {}  and then reference it in your advice like so:      @Before(&quot;@annotation(myAnnotation)&quot;)     public void beforeSqsListener(com.mycompany.MyAnnotation myAnnotation) {         // use myAnnotation like a normal variable...     }"},{"owner":{"account_id":158286,"reputation":695,"user_id":376803,"accept_rate":18,"display_name":"Christian von Wendt-Jensen"},"score":0,"creation_date":1682143471,"post_id":21276021,"comment_id":134172356,"body_markdown":"Sorry about the &quot;code blocks&quot; in previous comment. I&#39;m simply not able to markup code blocks.","body":"Sorry about the &quot;code blocks&quot; in previous comment. I&#39;m simply not able to markup code blocks."}],"tags":[],"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"comment_count":3,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1477572012,"creation_date":1390373140,"answer_id":21276021,"question_id":21275819,"body_markdown":"This works as well - You can fetch annotation information using reflection on the class.\r\n\r\n    Annotation anno = MyClass.class.getAnnotation(MyAnnotation.class);\r\n\r\nOr\r\n\r\n    Annotation anno = MyClass.class.getDeclaredMethod(&quot;somethod&quot;).getAnnotation(MyAnnotation.class);\r\n\r\nThis works only if your annotation is available at runtime, which you have declared correctly.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>This works as well - You can fetch annotation information using reflection on the class.</p>\n\n<pre><code>Annotation anno = MyClass.class.getAnnotation(MyAnnotation.class);\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>Annotation anno = MyClass.class.getDeclaredMethod(\"somethod\").getAnnotation(MyAnnotation.class);\n</code></pre>\n\n<p>This works only if your annotation is available at runtime, which you have declared correctly.</p>\n\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":342311,"reputation":893,"user_id":673402,"accept_rate":100,"display_name":"franDayz"},"score":9,"creation_date":1545124941,"post_id":49787537,"comment_id":94507953,"body_markdown":"I think this should be the accepted answer, as it is cleaner and the documented way: https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/aop.html","body":"I think this should be the accepted answer, as it is cleaner and the documented way: <a href=\"https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/aop.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/4.3.15.RELEASE/&hellip;</a>"},{"owner":{"account_id":364232,"reputation":191,"user_id":708504,"display_name":"Paul A. Trzyna"},"score":1,"creation_date":1562008281,"post_id":49787537,"comment_id":100234431,"body_markdown":"I agree (should be accepted answer), this is definitely the way to go. Accepted answer, although correct, is very clunky.","body":"I agree (should be accepted answer), this is definitely the way to go. Accepted answer, although correct, is very clunky."},{"owner":{"account_id":1284195,"reputation":3111,"user_id":1237617,"accept_rate":77,"display_name":"Jakub Bochenski"},"score":0,"creation_date":1566312356,"post_id":49787537,"comment_id":101612585,"body_markdown":"Will this work with plain AspectJ or only with Spring-AOP?","body":"Will this work with plain AspectJ or only with Spring-AOP?"},{"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"score":1,"creation_date":1567120813,"post_id":49787537,"comment_id":101879092,"body_markdown":"@JakubBochenski As far as I know, Spring AOP is built upon AspectJ, and so basically if Spring AOP can do the trick, AspectJ should support it in some way. But I have not tried it myself ;p","body":"@JakubBochenski As far as I know, Spring AOP is built upon AspectJ, and so basically if Spring AOP can do the trick, AspectJ should support it in some way. But I have not tried it myself ;p"},{"owner":{"account_id":1284195,"reputation":3111,"user_id":1237617,"accept_rate":77,"display_name":"Jakub Bochenski"},"score":0,"creation_date":1567596119,"post_id":49787537,"comment_id":102007939,"body_markdown":"&quot;Should&quot; is a big word here... fortunately I&#39;ve checked this in practice and it does work","body":"&quot;Should&quot; is a big word here... fortunately I&#39;ve checked this in practice and it does work"},{"owner":{"account_id":2317072,"reputation":1627,"user_id":2033885,"display_name":"ame-h"},"score":1,"creation_date":1569038547,"post_id":49787537,"comment_id":102475819,"body_markdown":"As mentioned above by other users, the accepted answer works but I think this should be the accepted answer because is straightforward and officially documented, exactly in this section: https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/aop.html#aop-ataspectj-advice-params-names.","body":"As mentioned above by other users, the accepted answer works but I think this should be the accepted answer because is straightforward and officially documented, exactly in this section: <a href=\"https://docs.spring.io/spring/docs/4.3.15.RELEASE/spring-framework-reference/html/aop.html#aop-ataspectj-advice-params-names\" rel=\"nofollow noreferrer\">docs.spring.io/spring/docs/4.3.15.RELEASE/&hellip;</a>."}],"tags":[],"owner":{"account_id":2739457,"reputation":7470,"user_id":2361308,"accept_rate":71,"display_name":"Hearen"},"comment_count":6,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1551074193,"creation_date":1523503909,"answer_id":49787537,"question_id":21275819,"body_markdown":"Actually I think we can get the `value` in another way round instead of just from **ProceedingJoinPoint**, which will definitely require us to make use of `reflection`.\r\n\r\nHave a try as follows using annotation directly: add `com.mycompany.MyAnnotation yourAnnotation` in your `advice params` and `@annotation(yourAnnotation)` in `@Around`.\r\n\r\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(yourAnnotation)&quot;)\r\n    public Object procede(ProceedingJoinPoint pjp, com.mycompany.MyAnnotation yourAnnotation) {\r\n        ...\r\n        yourAnnotation.value(); // get your annotation value directly;\r\n        ...\r\n    }\r\n\r\n`com.mycompany.MyAnnotation` in advice params just work as that in \r\n\r\n    @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)\r\n\r\n`yourAnnotation` can be valid variable name since `MyAnnotation` in params already points out which annotation it should be. Here `yourAnnotation` is used to retrieve the annotation instance only.\r\n\r\nIf you want to pass more params you can try `args()`.\r\n\r\nFor more details, do please check its official [doc](https://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/aop.html). For Annotation value, you can just search `@Auditable`. \r\n","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>Actually I think we can get the <code>value</code> in another way round instead of just from <strong>ProceedingJoinPoint</strong>, which will definitely require us to make use of <code>reflection</code>.</p>\n\n<p>Have a try as follows using annotation directly: add <code>com.mycompany.MyAnnotation yourAnnotation</code> in your <code>advice params</code> and <code>@annotation(yourAnnotation)</code> in <code>@Around</code>.</p>\n\n<pre><code>@Around(\"execution(public * *(..)) &amp;&amp; @annotation(yourAnnotation)\")\npublic Object procede(ProceedingJoinPoint pjp, com.mycompany.MyAnnotation yourAnnotation) {\n    ...\n    yourAnnotation.value(); // get your annotation value directly;\n    ...\n}\n</code></pre>\n\n<p><code>com.mycompany.MyAnnotation</code> in advice params just work as that in </p>\n\n<pre><code>@Around(\"execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\n</code></pre>\n\n<p><code>yourAnnotation</code> can be valid variable name since <code>MyAnnotation</code> in params already points out which annotation it should be. Here <code>yourAnnotation</code> is used to retrieve the annotation instance only.</p>\n\n<p>If you want to pass more params you can try <code>args()</code>.</p>\n\n<p>For more details, do please check its official <a href=\"https://docs.spring.io/spring/docs/3.0.x/spring-framework-reference/html/aop.html\" rel=\"noreferrer\">doc</a>. For Annotation value, you can just search <code>@Auditable</code>. </p>\n"},{"tags":[],"owner":{"account_id":10121067,"reputation":53,"user_id":7477963,"display_name":"Tom K."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549470027,"creation_date":1549470027,"answer_id":54558101,"question_id":21275819,"body_markdown":"**Ren&#233;&#39;s** example is taking me a long way.  Also the explanation how I get ClassLevel Annotations.\r\n\r\nBut then I can only read ClassLevel Annotations Values if I have previously used a method annotation with &quot;*@Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)&quot;*&quot;\r\n\r\nHow can I get around this? How can I trigger an Aspect if a ClassLevel Annotation is set without going through a Method Execution?\r\n\r\nI want to write a ClassLevel Annotation like\r\n\r\n    @Documented\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(value = { ElementType.METHOD, ElementType.TYPE })\r\n    @EnableSwagger2\r\n    @Import(SwaggerConfiguration.class)\r\n    public @interface EnableSwaggerApi {\r\n    \tString controllerPackage() default &quot;foo.bar.ctrl&quot;;\r\n    }\r\n\r\nIt&#39;s importing the Configuration about &quot;SwaggerConfiguration&quot; where I want to receive the value of &quot;controllerPackage&quot;\r\n\r\n\r\n\r\n\r\n\r\n    @Aspect\r\n    public class SwaggerConfiguration {\r\n    \r\n    \t@Value(&quot;${tom.swagger.controller.package:foo.bar.notset}&quot;)\r\n    \tprivate String\tcontrollerPackage;\r\n    \r\n    \t@Value(&quot;${tom.swagger.api.version:1.0.0}&quot;)\r\n    \tprivate String\tapiVersion;\r\n    \r\n    \t@Value(&quot;${spring.application.name:MyApplication}&quot;)\r\n    \tprivate String\tapplicationName;\r\n    \r\n    \t@Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(EnableSwaggerApi)&quot;)\r\n    \tpublic void procede(ProceedingJoinPoint call) throws Throwable {\r\n    \t\tMethodSignature signature = (MethodSignature) call.getSignature();\r\n    \t\tMethod method = signature.getMethod();\r\n    \r\n    \t\tClass&lt;?&gt; declaringClass = method.getDeclaringClass();\r\n    \t\tEnableSwaggerApi myAnnotation = declaringClass.getAnnotation(EnableSwaggerApi.class);\r\n    \t\tSystem.err.println(&quot;1 -&gt; &quot; + myAnnotation.controllerPackage());  // -&gt; tko.backend.spring.ctrl\r\n    \t\t\r\n    \t\tmyAnnotation = method.getAnnotation(EnableSwaggerApi.class);\r\n    \t\tSystem.err.println(&quot;2 -&gt; &quot; + myAnnotation.controllerPackage()); // -&gt; tko.backend.spring.SOMEOTHERSTUFF\r\n    \r\n    \r\n    \t\t// THIS WORKS, BUT JUST IF I USE THE @EnableSwaggerApi ON SOME METHOD!\r\n    \t\t// NOT ON CLASS\r\n    \r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic Docket swaggerApi() {\r\n    \t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n    \t\t\t\t.select()\r\n    \t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;controllerPackage&quot;))\r\n    \t\t\t\t.paths(PathSelectors.any())\r\n    \t\t\t\t.build()\r\n    \t\t\t\t.apiInfo(new ApiInfoBuilder().version(apiVersion).title(applicationName).description(&quot;Documentation &quot; + applicationName + &quot; API v&quot; + apiVersion)\r\n    \t\t\t\t\t\t.build());\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic CorsFilter corsFilter() {\r\n    \t\tfinal UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    \t\tfinal CorsConfiguration config = new CorsConfiguration();\r\n    \t\tconfig.setAllowCredentials(true);\r\n    \t\tconfig.addAllowedOrigin(&quot;*&quot;);\r\n    \t\tconfig.addAllowedHeader(&quot;*&quot;);\r\n    \t\tconfig.addAllowedMethod(&quot;*&quot;);\r\n    \t\tsource.registerCorsConfiguration(&quot;/v2/api-docs&quot;, config);\r\n    \t\treturn new CorsFilter(source);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    @EnableSwaggerApi(controllerPackage=&quot;tko.backend.spring.ctrl&quot;)\r\n    public class Application extends SpringBootServletInitializer {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(Application.class, args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(Application.class, Initializer.class);\r\n    \t}\r\n    \r\n    \t\t\r\n    \t@Bean\r\n    \t@EnableSwaggerApi(controllerPackage=&quot;tko.backend.spring.SOMEOTHERSTUFF&quot;)\r\n    \tpublic String initSwagger() {\r\n    \t\treturn &quot;some dummy&quot;;\r\n    \t}\r\n    \r\n    }\r\n\r\nHow can I can rid of the annotation on *initSwagger()*?  Since the *Application.class* is not known to *SwaggerConfiguration* (Swagger Stuff it&#39;s in a separate lib) I can&#39;t use simple reflection like \r\n\r\n    Application.class.getAnnotation(EnableSwaggerApi.class)\r\n\r\n\r\n\r\n\r\n","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p><strong>René's</strong> example is taking me a long way.  Also the explanation how I get ClassLevel Annotations.</p>\n\n<p>But then I can only read ClassLevel Annotations Values if I have previously used a method annotation with \"*@Around(\"execution(public * <em>(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\"</em>\"</p>\n\n<p>How can I get around this? How can I trigger an Aspect if a ClassLevel Annotation is set without going through a Method Execution?</p>\n\n<p>I want to write a ClassLevel Annotation like</p>\n\n<pre><code>@Documented\n@Retention(RetentionPolicy.RUNTIME)\n@Target(value = { ElementType.METHOD, ElementType.TYPE })\n@EnableSwagger2\n@Import(SwaggerConfiguration.class)\npublic @interface EnableSwaggerApi {\n    String controllerPackage() default \"foo.bar.ctrl\";\n}\n</code></pre>\n\n<p>It's importing the Configuration about \"SwaggerConfiguration\" where I want to receive the value of \"controllerPackage\"</p>\n\n<pre><code>@Aspect\npublic class SwaggerConfiguration {\n\n    @Value(\"${tom.swagger.controller.package:foo.bar.notset}\")\n    private String  controllerPackage;\n\n    @Value(\"${tom.swagger.api.version:1.0.0}\")\n    private String  apiVersion;\n\n    @Value(\"${spring.application.name:MyApplication}\")\n    private String  applicationName;\n\n    @Around(\"execution(public * *(..)) &amp;&amp; @annotation(EnableSwaggerApi)\")\n    public void procede(ProceedingJoinPoint call) throws Throwable {\n        MethodSignature signature = (MethodSignature) call.getSignature();\n        Method method = signature.getMethod();\n\n        Class&lt;?&gt; declaringClass = method.getDeclaringClass();\n        EnableSwaggerApi myAnnotation = declaringClass.getAnnotation(EnableSwaggerApi.class);\n        System.err.println(\"1 -&gt; \" + myAnnotation.controllerPackage());  // -&gt; tko.backend.spring.ctrl\n\n        myAnnotation = method.getAnnotation(EnableSwaggerApi.class);\n        System.err.println(\"2 -&gt; \" + myAnnotation.controllerPackage()); // -&gt; tko.backend.spring.SOMEOTHERSTUFF\n\n\n        // THIS WORKS, BUT JUST IF I USE THE @EnableSwaggerApi ON SOME METHOD!\n        // NOT ON CLASS\n\n    }\n\n    @Bean\n    public Docket swaggerApi() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(\"controllerPackage\"))\n                .paths(PathSelectors.any())\n                .build()\n                .apiInfo(new ApiInfoBuilder().version(apiVersion).title(applicationName).description(\"Documentation \" + applicationName + \" API v\" + apiVersion)\n                        .build());\n    }\n\n    @Bean\n    public CorsFilter corsFilter() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        final CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(\"*\");\n        config.addAllowedHeader(\"*\");\n        config.addAllowedMethod(\"*\");\n        source.registerCorsConfiguration(\"/v2/api-docs\", config);\n        return new CorsFilter(source);\n    }\n}\n\n\n\n\n\n@EnableSwaggerApi(controllerPackage=\"tko.backend.spring.ctrl\")\npublic class Application extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Application.class, Initializer.class);\n    }\n\n\n    @Bean\n    @EnableSwaggerApi(controllerPackage=\"tko.backend.spring.SOMEOTHERSTUFF\")\n    public String initSwagger() {\n        return \"some dummy\";\n    }\n\n}\n</code></pre>\n\n<p>How can I can rid of the annotation on <em>initSwagger()</em>?  Since the <em>Application.class</em> is not known to <em>SwaggerConfiguration</em> (Swagger Stuff it's in a separate lib) I can't use simple reflection like </p>\n\n<pre><code>Application.class.getAnnotation(EnableSwaggerApi.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1870,"user_id":2517035,"display_name":"Rajeev Rathor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567757687,"creation_date":1567757687,"answer_id":57818172,"question_id":21275819,"body_markdown":"Find working code for Method Annotation and class level annotation using AspectJ/AOP\r\n\r\n       @Around(&quot;execution(* com.first.test.controller..*(..)))&quot;)\r\n        public Object profileAllMethods(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\r\n        {\r\n            MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n             \r\n            java.lang.reflect.Method method = methodSignature.getMethod();\r\n          \r\n      Annotation []methodAnnotations =  method.getDeclaredAnnotations();\r\n            System.out.println(&quot;===============&quot;+methodAnnotations[0].toString());\r\n            \r\n            Annotation []classAnnotations = proceedingJoinPoint.getTarget().getClass().getAnnotations();\r\n            \r\n            System.out.println(&quot;===Class Annotation : &quot;+classAnnotations[1].toString());\r\n           Object result = proceedingJoinPoint.proceed();\r\n            return result;\r\n        }","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>Find working code for Method Annotation and class level annotation using AspectJ/AOP</p>\n\n<pre><code>   @Around(\"execution(* com.first.test.controller..*(..)))\")\n    public Object profileAllMethods(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\n    {\n        MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n\n        java.lang.reflect.Method method = methodSignature.getMethod();\n\n  Annotation []methodAnnotations =  method.getDeclaredAnnotations();\n        System.out.println(\"===============\"+methodAnnotations[0].toString());\n\n        Annotation []classAnnotations = proceedingJoinPoint.getTarget().getClass().getAnnotations();\n\n        System.out.println(\"===Class Annotation : \"+classAnnotations[1].toString());\n       Object result = proceedingJoinPoint.proceed();\n        return result;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"score":0,"creation_date":1673272848,"post_id":66306653,"comment_id":132454878,"body_markdown":"This solution doesn&#39;t work, a method annotated with @Around must have only one parameter of type `ProceedingJoinPoint`.","body":"This solution doesn&#39;t work, a method annotated with @Around must have only one parameter of type <code>ProceedingJoinPoint</code>."}],"tags":[],"owner":{"account_id":3269240,"reputation":5236,"user_id":2752969,"display_name":"Jefferson Lima"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1613938496,"creation_date":1613938496,"answer_id":66306653,"question_id":21275819,"body_markdown":"You can simply bind the method&#39;s as described in the [docs][1].\r\n\r\nMyAnnotation.java\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n    \r\n    }\r\n\r\nSomeAspect.java\r\n\r\n    public class SomeAspect{\r\n    \r\n     @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(myAnnotation)&quot;)\r\n        public Object procede(ProceedingJoinPoint call, MyAnnotation myAnnotation) throws Throwable {\r\n    \r\n      //Some logic\r\n    \r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>You can simply bind the method's as described in the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aop-ataspectj-advice-params-passing\" rel=\"nofollow noreferrer\">docs</a>.</p>\n<p>MyAnnotation.java</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n\n}\n</code></pre>\n<p>SomeAspect.java</p>\n<pre><code>public class SomeAspect{\n\n @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(myAnnotation)&quot;)\n    public Object procede(ProceedingJoinPoint call, MyAnnotation myAnnotation) throws Throwable {\n\n  //Some logic\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696485211,"creation_date":1696339647,"answer_id":77222698,"question_id":21275819,"body_markdown":"#### [Using AspectJ with Spring Applications](https://docs.spring.io/spring-framework/reference/core/aop/using-aspectj.html) &lt;sup&gt;aspectjweaver 1.8.5&lt;/sup&gt;\r\n\r\nTo calculate the execution time of methods and access annotation values using AspectJ, AspectJ is a powerful framework for cross-cutting concerns in Java applications, including aspects like performance monitoring and method-level annotations. The following example is used to create an Aspect for Measuring Execution Time for the `@RequestMapping` annotation and get the `endpoint value` along with its execution time.\r\n\r\n```java\r\n@Aspect\r\n@Component\r\n@org.springframework.context.annotation.EnableAspectJAutoProxy\r\npublic class EndpointTimeAspect {\r\n\r\n\t//@Around(&quot;execution(* com.myapp.resource.*.*(..) )&quot;)\r\n\t@Around(&quot;@annotation(org.springframework.web.bind.annotation.RequestMapping)&quot;)\r\n\tpublic Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n\t\tlong startTime = System.currentTimeMillis();\r\n\t\t\r\n\t\tObject result = joinPoint.proceed();\r\n\t\t\r\n\t\tlong endTime = System.currentTimeMillis();\r\n\t\tlong timeTaken = endTime - startTime;\r\n\t\t\r\n\t\torg.aspectj.lang.reflect.MethodSignature signature = (org.aspectj.lang.reflect.MethodSignature) joinPoint.getSignature();\r\n\t\tjava.lang.reflect.Method method = signature.getMethod();\r\n\t\tClass&lt;?&gt; declaringClass = method.getDeclaringClass();\r\n\t\t\r\n\t\torg.springframework.web.bind.annotation.RequestMapping ann = \r\n\t\t\t\tAnnotationUtils.findAnnotation(method, org.springframework.web.bind.annotation.RequestMapping.class);\r\n\t\t\r\n\t\tString[] value = ann.value();\r\n\t\tString path = &quot;&quot;;\r\n\t\tfor (String string : value) {\r\n\t\t\tpath += string;\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;[&quot;+ signature +&quot; ], Time taken for endpoint [ &quot; +path +&quot; ] : &quot; + timeTaken + &quot; ms&quot;);\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n}\r\n```\r\n\r\n&gt; [AspectJ to calculate execution time](https://stackoverflow.com/a/64398315/5081877)","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<h4><a href=\"https://docs.spring.io/spring-framework/reference/core/aop/using-aspectj.html\" rel=\"nofollow noreferrer\">Using AspectJ with Spring Applications</a> <sup>aspectjweaver 1.8.5</sup></h4>\n<p>To calculate the execution time of methods and access annotation values using AspectJ, AspectJ is a powerful framework for cross-cutting concerns in Java applications, including aspects like performance monitoring and method-level annotations. The following example is used to create an Aspect for Measuring Execution Time for the <code>@RequestMapping</code> annotation and get the <code>endpoint value</code> along with its execution time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\n@org.springframework.context.annotation.EnableAspectJAutoProxy\npublic class EndpointTimeAspect {\n\n    //@Around(&quot;execution(* com.myapp.resource.*.*(..) )&quot;)\n    @Around(&quot;@annotation(org.springframework.web.bind.annotation.RequestMapping)&quot;)\n    public Object logExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        \n        Object result = joinPoint.proceed();\n        \n        long endTime = System.currentTimeMillis();\n        long timeTaken = endTime - startTime;\n        \n        org.aspectj.lang.reflect.MethodSignature signature = (org.aspectj.lang.reflect.MethodSignature) joinPoint.getSignature();\n        java.lang.reflect.Method method = signature.getMethod();\n        Class&lt;?&gt; declaringClass = method.getDeclaringClass();\n        \n        org.springframework.web.bind.annotation.RequestMapping ann = \n                AnnotationUtils.findAnnotation(method, org.springframework.web.bind.annotation.RequestMapping.class);\n        \n        String[] value = ann.value();\n        String path = &quot;&quot;;\n        for (String string : value) {\n            path += string;\n        }\n        \n        System.out.println(&quot;[&quot;+ signature +&quot; ], Time taken for endpoint [ &quot; +path +&quot; ] : &quot; + timeTaken + &quot; ms&quot;);\n        \n        return result;\n    }\n}\n</code></pre>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/64398315/5081877\">AspectJ to calculate execution time</a></p>\n</blockquote>\n"}],"owner":{"account_id":393770,"reputation":6625,"user_id":755806,"accept_rate":55,"display_name":"user755806"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108444,"favorite_count":0,"down_vote_count":2,"up_vote_count":122,"accepted_answer_id":21275958,"answer_count":7,"score":120,"last_activity_date":1696485211,"creation_date":1390372362,"question_id":21275819,"body_markdown":"I have below annotation.\r\n\r\nMyAnnotation.java\r\n------------------\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface MyAnnotation {\r\n    \t\r\n    }\r\n\r\nSomeAspect.java\r\n------------------\r\n\r\n    public class SomeAspect{\r\n    \r\n     @Around(&quot;execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)&quot;)\r\n    \tpublic Object procede(ProceedingJoinPoint call) throws Throwable {\r\n    \r\n      //Some logic\r\n    \r\n    }\r\n    \r\n    }\r\n\r\nSomeOther.java\r\n--------------\r\n\r\n    public class SomeOther{\r\n     \r\n    @MyAnnotation(&quot;ABC&quot;) \r\n    public String someMethod(String name){\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    }\r\n\r\nIn above class am passing &quot;**ABC**&quot; with in **@MyAnnotation**.\r\nNow how can i access &quot;**ABC**&quot; value in **procede** method of **SomeAspect.java** class?\r\n\r\n\r\nThanks!","title":"How to get a method&#39;s annotation value from a ProceedingJoinPoint?","body":"<p>I have below annotation.</p>\n\n<h2>MyAnnotation.java</h2>\n\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface MyAnnotation {\n\n}\n</code></pre>\n\n<h2>SomeAspect.java</h2>\n\n<pre><code>public class SomeAspect{\n\n @Around(\"execution(public * *(..)) &amp;&amp; @annotation(com.mycompany.MyAnnotation)\")\n    public Object procede(ProceedingJoinPoint call) throws Throwable {\n\n  //Some logic\n\n}\n\n}\n</code></pre>\n\n<h2>SomeOther.java</h2>\n\n<pre><code>public class SomeOther{\n\n@MyAnnotation(\"ABC\") \npublic String someMethod(String name){\n\n\n}\n\n\n}\n</code></pre>\n\n<p>In above class am passing \"<strong>ABC</strong>\" with in <strong>@MyAnnotation</strong>.\nNow how can i access \"<strong>ABC</strong>\" value in <strong>procede</strong> method of <strong>SomeAspect.java</strong> class?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1436875056,"post_id":31405818,"comment_id":50785411,"body_markdown":"Read https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName and https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:baseName","body":"Read <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a> and <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:baseName\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2299435,"reputation":9252,"user_id":4451732,"accept_rate":75,"display_name":"Franklin Yu"},"score":13,"creation_date":1551451428,"post_id":31407245,"comment_id":96656609,"body_markdown":"In 5.2.1 (current version) the property `baseName` is [deprecated](https://docs.gradle.org/5.2.1/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName), while the replacement [`archiveBaseName`](https://docs.gradle.org/5.2.1/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName) is read-only. How do we do that in next version of Gradle?","body":"In 5.2.1 (current version) the property <code>baseName</code> is <a href=\"https://docs.gradle.org/5.2.1/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName\" rel=\"nofollow noreferrer\">deprecated</a>, while the replacement <a href=\"https://docs.gradle.org/5.2.1/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName\" rel=\"nofollow noreferrer\"><code>archiveBaseName</code></a> is read-only. How do we do that in next version of Gradle?"},{"owner":{"account_id":4962561,"reputation":597,"user_id":3993154,"accept_rate":100,"display_name":"Sometowngeek"},"score":2,"creation_date":1586865194,"post_id":31407245,"comment_id":108279322,"body_markdown":"`archiveFileName`","body":"<code>archiveFileName</code>"}],"tags":[],"owner":{"account_id":3113579,"reputation":2284,"user_id":2634854,"display_name":"andyberry88"},"comment_count":2,"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1462046866,"creation_date":1436878569,"answer_id":31407245,"question_id":31405818,"body_markdown":"`archiveName &#39;abc.jar&#39;` in your `jar` configuration is forcing the name to be &#39;abc.jar&#39;. The default format for the jar name is `${baseName}-${appendix}-${version}-${classifier}.${extension}`, where `baseName` is the name of your project and `version` is the version of the project. If you remove the archiveName line in your configuration you&#39;ll have the format you&#39;re after. If you want the name of the archive to be different from the project name set the `baseName` instead, e.g.\r\n\r\n    jar {\r\n        manifest{\r\n            attributes (&quot;Fw-Version&quot; : &quot;2.50.00&quot;, &quot;${parent.manifestSectionName}&quot;)\r\n        }\r\n        baseName &#39;abc&#39;\r\n    }\r\n\r\nSee https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName for more info on configuring the `jar` task.","title":"Want to specify jar name and version both in build.gradle","body":"<p><code>archiveName 'abc.jar'</code> in your <code>jar</code> configuration is forcing the name to be 'abc.jar'. The default format for the jar name is <code>${baseName}-${appendix}-${version}-${classifier}.${extension}</code>, where <code>baseName</code> is the name of your project and <code>version</code> is the version of the project. If you remove the archiveName line in your configuration you'll have the format you're after. If you want the name of the archive to be different from the project name set the <code>baseName</code> instead, e.g.</p>\n\n<pre><code>jar {\n    manifest{\n        attributes (\"Fw-Version\" : \"2.50.00\", \"${parent.manifestSectionName}\")\n    }\n    baseName 'abc'\n}\n</code></pre>\n\n<p>See <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName\" rel=\"noreferrer\">https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName</a> for more info on configuring the <code>jar</code> task.</p>\n"},{"comments":[{"owner":{"account_id":1333038,"reputation":588,"user_id":1276456,"accept_rate":29,"display_name":"Gyowanny Pessatto Queiroz"},"score":1,"creation_date":1565090931,"post_id":53323925,"comment_id":101234470,"body_markdown":"also a type here, should be &#39;archivesBaseName&#39;","body":"also a type here, should be &#39;archivesBaseName&#39;"},{"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"score":0,"creation_date":1565384658,"post_id":53323925,"comment_id":101351660,"body_markdown":"This is how it&#39;s listed in the gradle docs. Maybe submit an issue? https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName","body":"This is how it&#39;s listed in the gradle docs. Maybe submit an issue? <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"},{"owner":{"account_id":1333038,"reputation":588,"user_id":1276456,"accept_rate":29,"display_name":"Gyowanny Pessatto Queiroz"},"score":0,"creation_date":1565605103,"post_id":53323925,"comment_id":101392072,"body_markdown":"So you never tested it?","body":"So you never tested it?"}],"tags":[],"owner":{"account_id":55691,"reputation":7677,"user_id":166850,"accept_rate":67,"display_name":"RMorrisey"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1542299468,"creation_date":1542299468,"answer_id":53323925,"question_id":31405818,"body_markdown":"If you want to rename the JAR, source JAR and javadoc JAR with a single setting, while still including the classifier and version, set ```archiveBaseName``` at the top level.","title":"Want to specify jar name and version both in build.gradle","body":"<p>If you want to rename the JAR, source JAR and javadoc JAR with a single setting, while still including the classifier and version, set <code>archiveBaseName</code> at the top level.</p>\n"},{"tags":[],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552887220,"creation_date":1552887220,"answer_id":55215054,"question_id":31405818,"body_markdown":"Read the [doc of gradle][1],the baseName and archiveName is deprecated,you should use archivesBaseName in project level like this:\r\n\r\n\r\n    project(&quot;:web&quot;) {\r\n        description = &quot;web&quot;\r\n        archivesBaseName = &quot;your-project-name-&quot; + getVersionCode()\r\n    \r\n        jar {\r\n            // Will include every single one of your dependencies, project or not\r\n            from {\r\n                configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\r\n            }\r\n        }\r\n    }\r\n\r\nIt works fine for my project. I hope it will be helpful for your project.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName","title":"Want to specify jar name and version both in build.gradle","body":"<p>Read the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveName\" rel=\"nofollow noreferrer\">doc of gradle</a>,the baseName and archiveName is deprecated,you should use archivesBaseName in project level like this:</p>\n\n<pre><code>project(\":web\") {\n    description = \"web\"\n    archivesBaseName = \"your-project-name-\" + getVersionCode()\n\n    jar {\n        // Will include every single one of your dependencies, project or not\n        from {\n            configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) }\n        }\n    }\n}\n</code></pre>\n\n<p>It works fine for my project. I hope it will be helpful for your project.</p>\n"},{"comments":[{"owner":{"account_id":1333038,"reputation":588,"user_id":1276456,"accept_rate":29,"display_name":"Gyowanny Pessatto Queiroz"},"score":5,"creation_date":1565090906,"post_id":56197735,"comment_id":101234455,"body_markdown":"there&#39;s a typo, should be &#39;archivesBaseName&#39;","body":"there&#39;s a typo, should be &#39;archivesBaseName&#39;"},{"owner":{"account_id":11167337,"reputation":2730,"user_id":8195572,"display_name":"Ahmed Kamal"},"score":3,"creation_date":1567924664,"post_id":56197735,"comment_id":102107591,"body_markdown":"@QuiltyKim Referring to the official docs, it&#39;s `archivesBaseName` with `s`.","body":"@QuiltyKim Referring to the official docs, it&#39;s <code>archivesBaseName</code> with <code>s</code>."},{"owner":{"account_id":101941,"reputation":4209,"user_id":1080891,"accept_rate":96,"display_name":"Cavyn VonDeylen"},"score":3,"creation_date":1568294664,"post_id":56197735,"comment_id":102235292,"body_markdown":"`archivesBaseName` (with **s**) is a property in the Java plugin, not the Jar plugin. However the Jar plugin defaults to the value in `archivesBaseName` if `archiveBaseName` is not set.","body":"<code>archivesBaseName</code> (with <b>s</b>) is a property in the Java plugin, not the Jar plugin. However the Jar plugin defaults to the value in <code>archivesBaseName</code> if <code>archiveBaseName</code> is not set."},{"owner":{"account_id":8201126,"reputation":2419,"user_id":6172447,"accept_rate":50,"display_name":"Tobias Marschall"},"score":1,"creation_date":1578252133,"post_id":56197735,"comment_id":105370699,"body_markdown":"Thanks for the Kotlin DSL hint.","body":"Thanks for the Kotlin DSL hint."},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":1,"creation_date":1647963708,"post_id":56197735,"comment_id":126500807,"body_markdown":"`archivesbaseName` hasn&#39;t the `set` method","body":"<code>archivesbaseName</code> hasn&#39;t the <code>set</code> method"},{"owner":{"account_id":1807526,"reputation":3107,"user_id":1644320,"accept_rate":47,"display_name":"Pablo Pazos"},"score":0,"creation_date":1692978921,"post_id":56197735,"comment_id":135703481,"body_markdown":"&quot;&gt; Could not set unknown property &#39;archiveBaseName&#39; for project &#39;:lib&#39; of type org.gradle.api.Project.&quot; With the &#39;s&#39; it works.","body":"&quot;&gt; Could not set unknown property &#39;archiveBaseName&#39; for project &#39;:lib&#39; of type org.gradle.api.Project.&quot; With the &#39;s&#39; it works."}],"tags":[],"owner":{"account_id":11167337,"reputation":2730,"user_id":8195572,"display_name":"Ahmed Kamal"},"comment_count":6,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1696484678,"creation_date":1558172342,"answer_id":56197735,"question_id":31405818,"body_markdown":"For **Gradle 5+**\r\n\r\n`build.gradle` groovy DSL\r\n\r\n```\r\narchiveBaseName = &#39;foo&#39;\r\n```\r\n\r\n`build.gradle.kts` kotlin DSL\r\n\r\n```\r\narchiveBaseName.set(&quot;foo&quot;) // Notice the double quotes\r\n```\r\n","title":"Want to specify jar name and version both in build.gradle","body":"<p>For <strong>Gradle 5+</strong></p>\n<p><code>build.gradle</code> groovy DSL</p>\n<pre><code>archiveBaseName = 'foo'\n</code></pre>\n<p><code>build.gradle.kts</code> kotlin DSL</p>\n<pre><code>archiveBaseName.set(&quot;foo&quot;) // Notice the double quotes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4054561,"reputation":19,"user_id":3333003,"display_name":"TyCy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605090770,"creation_date":1605090019,"answer_id":64784550,"question_id":31405818,"body_markdown":"For Gradle 6.x\r\n\r\nSet the version to empty.\r\n\r\n - version = &#39;&#39; \r\n - project.archivesBaseName - It is the way.\r\n\r\n\r\n\r\nMore on their [DOC](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName &quot;Gradle Documentation&quot;)!","title":"Want to specify jar name and version both in build.gradle","body":"<p>For Gradle 6.x</p>\n<p>Set the version to empty.</p>\n<ul>\n<li>version = ''</li>\n<li>project.archivesBaseName - It is the way.</li>\n</ul>\n<p>More on their <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html#org.gradle.api.tasks.bundling.Jar:archiveBaseName\" rel=\"nofollow noreferrer\" title=\"Gradle Documentation\">DOC</a>!</p>\n"},{"tags":[],"owner":{"account_id":5462594,"reputation":227,"user_id":4344206,"display_name":"Aung Aung"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1634997661,"creation_date":1634997661,"answer_id":69688836,"question_id":31405818,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;pre&gt;&lt;code&gt;\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;application&#39;\r\n\r\n\r\n    jar {\r\n        archivesBaseName = archivesBaseName + &#39;-&#39; + version\r\n    }\r\n\r\n    &lt;/pre&gt;&lt;/code&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nFor me I just add above","title":"Want to specify jar name and version both in build.gradle","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre&gt;&lt;code&gt;\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'application'\n\n\njar {\n    archivesBaseName = archivesBaseName + '-' + version\n}\n\n&lt;/pre&gt;&lt;/code&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>For me I just add above</p>\n"},{"tags":[],"owner":{"account_id":18142105,"reputation":340,"user_id":13195861,"display_name":"Toggy Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1649101765,"creation_date":1649101765,"answer_id":71743019,"question_id":31405818,"body_markdown":"I wanted to achieve this in Kotlin DSL and this was the first question that came up on Google for me. The answers that involved Kotlin DSL did not work but I managed to find a solution.\r\n\r\n---\r\n\r\nCreate this in the `build.gradle.kts` file:\r\n\r\n    tasks.jar {\r\n      manifest {\r\n        [THE LINES BELOW WILL BE INSERTED HERE]\r\n      }\r\n    }\r\n\r\n---\r\n\r\n***Assume that the project name is `project` and the project version is `1.0`.***\r\n\r\nTo change the base name of the jar file:\r\n\r\n    archiveBaseName.set(&quot;name&quot;) // .jar name: name-1.0.jar\r\n\r\nTo change the entire jar file name, write this instead:\r\n\r\n    archiveFileName.set(&quot;name.jar&quot;) // .jar name: name.jar\r\n\r\n---\r\n\r\nUse `${project.name}` and `${project.version}` to insert the project name and version respectively, e.g:\r\n\r\n    archiveFileName.set(&quot;${project.name}-${project.version}.jar&quot;) // .jar name: project-1.0.jar","title":"Want to specify jar name and version both in build.gradle","body":"<p>I wanted to achieve this in Kotlin DSL and this was the first question that came up on Google for me. The answers that involved Kotlin DSL did not work but I managed to find a solution.</p>\n<hr />\n<p>Create this in the <code>build.gradle.kts</code> file:</p>\n<pre><code>tasks.jar {\n  manifest {\n    [THE LINES BELOW WILL BE INSERTED HERE]\n  }\n}\n</code></pre>\n<hr />\n<p><em><strong>Assume that the project name is <code>project</code> and the project version is <code>1.0</code>.</strong></em></p>\n<p>To change the base name of the jar file:</p>\n<pre><code>archiveBaseName.set(&quot;name&quot;) // .jar name: name-1.0.jar\n</code></pre>\n<p>To change the entire jar file name, write this instead:</p>\n<pre><code>archiveFileName.set(&quot;name.jar&quot;) // .jar name: name.jar\n</code></pre>\n<hr />\n<p>Use <code>${project.name}</code> and <code>${project.version}</code> to insert the project name and version respectively, e.g:</p>\n<pre><code>archiveFileName.set(&quot;${project.name}-${project.version}.jar&quot;) // .jar name: project-1.0.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13417286,"reputation":51,"user_id":9681322,"display_name":"The Freezing Chicken"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671895968,"creation_date":1671895968,"answer_id":74908617,"question_id":31405818,"body_markdown":"**For Gradle 5.x, 6.x and 7.x**&lt;br&gt;\r\n(tested personally on Gradle 7.6 and verified the documentation of version 5)\r\n\r\nIn more recent versions of Gradle the results described by the OP are achieved automatically by the default building script if you specify the `version` property in your module `build.gradle` file (commonly seen right after your `plugin` block and before any other blocks).&lt;br&gt;\r\nSo it would look something like this:\r\n```\r\nplugins {\r\n    // your plugins...\r\n}\r\n\r\n// This is the string you want to have.\r\nversion = &#39;1.0.0&#39;\r\n\r\ndependencies {\r\n    // your dependencies\r\n}\r\n```\r\n`version` accepts any string, so you can also append pre-release strings like `1.0.0-beta` if you need to.\r\n\r\n\r\nHowever, one more thing to note is that by default Gradle uses the module name as the base name or your archives and jar files. If your module name matches the name of your library this shouldn&#39;t be a problem, but a common scenario it to work with sub-modules where you usually have a `lib` or `core` module, and in this case your jar file will end up being named something like `lib-1.0.0.jar`. To avoid this, you can specify the `archivesBaseName` property. You can put it right below (or above) your `version`:\r\n```\r\nversion = &#39;1.0.0&#39;\r\narchivesBaseName = &#39;abc&#39;\r\n```\r\nThis will correctly generate a `abc-1.0.0.jar` file. &lt;br&gt;\r\nNote that `archivesBaseName` **uses the *plural*** `archives`, and it comes from the [Project][1] type, and **NOT the *singular*** form `archive` that comes from the `jar` task.\r\n\r\nBut, if you need more granularity other than what described above, you will indeed need to use the [`jar`][2] task, similarly to how the OP originally intended to.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:archivesBaseName\r\n  [2]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html","title":"Want to specify jar name and version both in build.gradle","body":"<p><strong>For Gradle 5.x, 6.x and 7.x</strong><br>\n(tested personally on Gradle 7.6 and verified the documentation of version 5)</p>\n<p>In more recent versions of Gradle the results described by the OP are achieved automatically by the default building script if you specify the <code>version</code> property in your module <code>build.gradle</code> file (commonly seen right after your <code>plugin</code> block and before any other blocks).<br>\nSo it would look something like this:</p>\n<pre><code>plugins {\n    // your plugins...\n}\n\n// This is the string you want to have.\nversion = '1.0.0'\n\ndependencies {\n    // your dependencies\n}\n</code></pre>\n<p><code>version</code> accepts any string, so you can also append pre-release strings like <code>1.0.0-beta</code> if you need to.</p>\n<p>However, one more thing to note is that by default Gradle uses the module name as the base name or your archives and jar files. If your module name matches the name of your library this shouldn't be a problem, but a common scenario it to work with sub-modules where you usually have a <code>lib</code> or <code>core</code> module, and in this case your jar file will end up being named something like <code>lib-1.0.0.jar</code>. To avoid this, you can specify the <code>archivesBaseName</code> property. You can put it right below (or above) your <code>version</code>:</p>\n<pre><code>version = '1.0.0'\narchivesBaseName = 'abc'\n</code></pre>\n<p>This will correctly generate a <code>abc-1.0.0.jar</code> file. <br>\nNote that <code>archivesBaseName</code> <strong>uses the <em>plural</em></strong> <code>archives</code>, and it comes from the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.Project.html#org.gradle.api.Project:archivesBaseName\" rel=\"nofollow noreferrer\">Project</a> type, and <strong>NOT the <em>singular</em></strong> form <code>archive</code> that comes from the <code>jar</code> task.</p>\n<p>But, if you need more granularity other than what described above, you will indeed need to use the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.bundling.Jar.html\" rel=\"nofollow noreferrer\"><code>jar</code></a> task, similarly to how the OP originally intended to.</p>\n"},{"tags":[],"owner":{"account_id":16813178,"reputation":338,"user_id":12155702,"display_name":"Sumit Ojha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674138652,"creation_date":1674138652,"answer_id":75173858,"question_id":31405818,"body_markdown":"Add Apk base name in gradle\r\n\r\n    archivesBaseName = &quot;appname-${new Date().format(&#39;dd-MM-yy-HHmm&#39;)}&quot;\r\n\r\nGradle file\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.app&quot;\r\n        minSdk 23\r\n        targetSdk 33\r\n        versionCode 5\r\n        versionName &quot;1.0.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        archivesBaseName = &quot;appname-${new Date().format(&#39;dd-MM-yy-HHmm&#39;)}&quot;\r\n        resValue &#39;string&#39;, &quot;authority&quot;, applicationId + &quot;.fileprovider&quot;\r\n    }","title":"Want to specify jar name and version both in build.gradle","body":"<p>Add Apk base name in gradle</p>\n<pre><code>archivesBaseName = &quot;appname-${new Date().format('dd-MM-yy-HHmm')}&quot;\n</code></pre>\n<p>Gradle file</p>\n<pre><code>defaultConfig {\n    applicationId &quot;com.example.app&quot;\n    minSdk 23\n    targetSdk 33\n    versionCode 5\n    versionName &quot;1.0.0&quot;\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    archivesBaseName = &quot;appname-${new Date().format('dd-MM-yy-HHmm')}&quot;\n    resValue 'string', &quot;authority&quot;, applicationId + &quot;.fileprovider&quot;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687982691,"creation_date":1687982691,"answer_id":76576384,"question_id":31405818,"body_markdown":"In `build.gradle.kts`, I was able to customize jar naming as follows:\r\n\r\n    tasks.jar {\r\n        archiveFileName.set(&quot;application.jar&quot;)\r\n    }\r\n    \r\n    tasks.bootJar {\r\n        archiveFileName.set(&quot;application-plain.jar&quot;)\r\n    }","title":"Want to specify jar name and version both in build.gradle","body":"<p>In <code>build.gradle.kts</code>, I was able to customize jar naming as follows:</p>\n<pre><code>tasks.jar {\n    archiveFileName.set(&quot;application.jar&quot;)\n}\n\ntasks.bootJar {\n    archiveFileName.set(&quot;application-plain.jar&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":5202901,"reputation":791,"user_id":4161744,"accept_rate":57,"display_name":"amuser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110112,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":31407245,"answer_count":10,"score":54,"last_activity_date":1696484678,"creation_date":1436874763,"question_id":31405818,"body_markdown":"I want to specify the jar name and version in build.gradle, so my build.gradle looks like below.\r\n\r\n    apply plugin: &#39;java&#39;\r\n    \r\n    version = &quot;1.00.00&quot;\r\n    \r\n     dependencies { \r\n    \t compile files(&#39;../../lib/abc.jar&#39;) \r\n    } \r\n    \r\n    jar{\r\n    \tmanifest{\r\n    \t\tattributes (&quot;Fw-Version&quot; : &quot;2.50.00&quot;, &quot;${parent.manifestSectionName}&quot;)\r\n    \t\r\n    \t}\r\n    \tarchiveName &#39;abc.jar&#39;\r\n    }\r\n\r\nSo when I do \r\n\r\n**gradle clean build**,  what I was expecting was that the generated jar name would be abc-1.00.00.jar\r\n\r\nBut its not happening, the output jar name is getting as abc.jar only and its just ignoring the version. I want to specify both jar name and version, so how can I achieve that?","title":"Want to specify jar name and version both in build.gradle","body":"<p>I want to specify the jar name and version in build.gradle, so my build.gradle looks like below.</p>\n\n<pre><code>apply plugin: 'java'\n\nversion = \"1.00.00\"\n\n dependencies { \n     compile files('../../lib/abc.jar') \n} \n\njar{\n    manifest{\n        attributes (\"Fw-Version\" : \"2.50.00\", \"${parent.manifestSectionName}\")\n\n    }\n    archiveName 'abc.jar'\n}\n</code></pre>\n\n<p>So when I do </p>\n\n<p><strong>gradle clean build</strong>,  what I was expecting was that the generated jar name would be abc-1.00.00.jar</p>\n\n<p>But its not happening, the output jar name is getting as abc.jar only and its just ignoring the version. I want to specify both jar name and version, so how can I achieve that?</p>\n"},{"tags":["java","amazon-s3","mocking","aws-sdk","stub"],"comments":[{"owner":{"account_id":23938771,"reputation":60,"user_id":17932189,"display_name":"Andre"},"score":0,"creation_date":1642412900,"post_id":55511235,"comment_id":125055116,"body_markdown":"Well, you can wrap the library by calling it a connector or a service and do unit-test by mocking your own class. This will only work for simple unit-tests.","body":"Well, you can wrap the library by calling it a connector or a service and do unit-test by mocking your own class. This will only work for simple unit-tests."}],"answers":[{"comments":[{"owner":{"account_id":9123335,"reputation":166,"user_id":8716198,"display_name":"Krishna Kumar Singh"},"score":2,"creation_date":1603375924,"post_id":58113452,"comment_id":114022729,"body_markdown":"How can I mock S3client without docker. I am writing unit test cases for S3. Can you post some example of mocking S3Client (aws sdk v2) in localStack or in MinIO.","body":"How can I mock S3client without docker. I am writing unit test cases for S3. Can you post some example of mocking S3Client (aws sdk v2) in localStack or in MinIO."},{"owner":{"account_id":9123335,"reputation":166,"user_id":8716198,"display_name":"Krishna Kumar Singh"},"score":0,"creation_date":1603376243,"post_id":58113452,"comment_id":114022901,"body_markdown":"just wants to test it like this:\nS3Client s3Client = S3Client.builder()\n                .region(region)\n                .credentialsProvider(StaticCredentialsProvider.create(AwsBasicCredentials.create(&quot;foo&quot;, &quot;bar&quot;)))\n                .endpointOverride(URI.create(&quot;http://localhost:9192&quot;))\n                .httpClient(UrlConnectionHttpClient.builder().buildWithDefaults(\n                        AttributeMap.builder().put(TRUST_ALL_CERTIFICATES, java.lang.Boolean.TRUE).build()\n                ))\n                .build();","body":"just wants to test it like this: S3Client s3Client = S3Client.builder()                 .region(region)                 .credentialsProvider(StaticCredentialsProvider.create(AwsBas&zwnj;&#8203;icCredentials.create&zwnj;&#8203;(&quot;foo&quot;, &quot;bar&quot;)))                 .endpointOverride(URI.create(&quot;<a href=\"http://localhost:9192&quot;\" rel=\"nofollow noreferrer\">localhost:9192&quot;</a>))                 .httpClient(UrlConnectionHttpClient.builder().buildWithDefau&zwnj;&#8203;lts(                         AttributeMap.builder().put(TRUST_ALL_CERTIFICATES, java.lang.Boolean.TRUE).build()                 ))                 .build();"}],"tags":[],"owner":{"account_id":390441,"reputation":32048,"user_id":750510,"accept_rate":98,"display_name":"madhead"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1642424113,"creation_date":1569489382,"answer_id":58113452,"question_id":55511235,"body_markdown":"You shouldn&#39;t re-implement the S3 API yourself. Instead, use one of the existing tools like [localstack](https://github.com/localstack/localstack), [MinIO](https://min.io), [OpenStack Swift](https://docs.openstack.org/swift/latest/s3_compat.html) and others. They all provide S3-compatible API (though some dif ferences can be). The best one for tests is localstack, IMHO.It is available as a [Docker image](https://hub.docker.com/r/localstack/localstack), so you can use it locally or in your CI pipelines.\r\n\r\nNot to the Java part of your question. If you are a lucky user of JUnit 5 I would recommend you to use [`aws-junit5`](https://madhead.me/posts/aws-junit5), a set of JUnit 5 extensions for AWS. And, yes, I am it&#39;s author. These extensions can be used to inject clients for AWS services provided by tools like localstack (actually, any AWS-compatible API is supported, including real AWS itself). Both AWS Java SDK v 2.x and v 1.x are supported. You can use `aws-junit5` to inject clients for S3, DynamoDB, Kinesis, SES, SNS and SQS.\r\n\r\nRead more in the [user guide](https://madhead.github.io/aws-junit5/asciidoc), it even has a section about [CI configuration with GitHub](https://madhead.github.io/aws-junit5/asciidoc/#_bonus_ci_with_github).","title":"How to mock AWS SDK2 (S3) in Java","body":"<p>You shouldn't re-implement the S3 API yourself. Instead, use one of the existing tools like <a href=\"https://github.com/localstack/localstack\" rel=\"nofollow noreferrer\">localstack</a>, <a href=\"https://min.io\" rel=\"nofollow noreferrer\">MinIO</a>, <a href=\"https://docs.openstack.org/swift/latest/s3_compat.html\" rel=\"nofollow noreferrer\">OpenStack Swift</a> and others. They all provide S3-compatible API (though some dif ferences can be). The best one for tests is localstack, IMHO.It is available as a <a href=\"https://hub.docker.com/r/localstack/localstack\" rel=\"nofollow noreferrer\">Docker image</a>, so you can use it locally or in your CI pipelines.</p>\n<p>Not to the Java part of your question. If you are a lucky user of JUnit 5 I would recommend you to use <a href=\"https://madhead.me/posts/aws-junit5\" rel=\"nofollow noreferrer\"><code>aws-junit5</code></a>, a set of JUnit 5 extensions for AWS. And, yes, I am it's author. These extensions can be used to inject clients for AWS services provided by tools like localstack (actually, any AWS-compatible API is supported, including real AWS itself). Both AWS Java SDK v 2.x and v 1.x are supported. You can use <code>aws-junit5</code> to inject clients for S3, DynamoDB, Kinesis, SES, SNS and SQS.</p>\n<p>Read more in the <a href=\"https://madhead.github.io/aws-junit5/asciidoc\" rel=\"nofollow noreferrer\">user guide</a>, it even has a section about <a href=\"https://madhead.github.io/aws-junit5/asciidoc/#_bonus_ci_with_github\" rel=\"nofollow noreferrer\">CI configuration with GitHub</a>.</p>\n"},{"tags":[],"owner":{"account_id":97294,"reputation":199,"user_id":263983,"display_name":"onetom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696484576,"creation_date":1696484576,"answer_id":77234504,"question_id":55511235,"body_markdown":"Since 2023-06-01 there is another option available, IF you are just using S3 in such simple ways, which can be expressed as file system manipulation:\r\nhttps://github.com/awslabs/aws-java-nio-spi-for-s3\r\n\r\nThen write your program as if it would be just talking to a file system (via `java.nio.file.Path`s) and use https://github.com/google/jimfs to test it against an in-memory file system.\r\n\r\nDuring actual use, you can switch between local file `Path.of(new URI(&quot;file://...&quot;))` usage or S3 `Path.of(new URI(&quot;s3://&lt;bucket&gt;/...&quot;))` usage.","title":"How to mock AWS SDK2 (S3) in Java","body":"<p>Since 2023-06-01 there is another option available, IF you are just using S3 in such simple ways, which can be expressed as file system manipulation:\n<a href=\"https://github.com/awslabs/aws-java-nio-spi-for-s3\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-java-nio-spi-for-s3</a></p>\n<p>Then write your program as if it would be just talking to a file system (via <code>java.nio.file.Path</code>s) and use <a href=\"https://github.com/google/jimfs\" rel=\"nofollow noreferrer\">https://github.com/google/jimfs</a> to test it against an in-memory file system.</p>\n<p>During actual use, you can switch between local file <code>Path.of(new URI(&quot;file://...&quot;))</code> usage or S3 <code>Path.of(new URI(&quot;s3://&lt;bucket&gt;/...&quot;))</code> usage.</p>\n"}],"owner":{"account_id":2796857,"reputation":2787,"user_id":2405937,"accept_rate":89,"display_name":"G&#225;bor Csik&#243;s"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9290,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":58113452,"answer_count":2,"score":9,"last_activity_date":1696484576,"creation_date":1554366531,"question_id":55511235,"body_markdown":"So I want to mock AWS SDK 2.x (only S3 service), so that test upload and download files to a bucket without a real AWS. I&#39;m looking for a Java implementations.\r\n\r\nI found a lot what implements (Adobe S3Mock ...etc), but all of them uses AWS SDK 1.x.","title":"How to mock AWS SDK2 (S3) in Java","body":"<p>So I want to mock AWS SDK 2.x (only S3 service), so that test upload and download files to a bucket without a real AWS. I'm looking for a Java implementations.</p>\n\n<p>I found a lot what implements (Adobe S3Mock ...etc), but all of them uses AWS SDK 1.x.</p>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1696430930,"post_id":77230450,"comment_id":136152440,"body_markdown":"Remove the methods and simply add `@Sql(&quot;classpath:sql/inserClient.sql&quot;)`. See the documentation for mor einformation https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html. In short it is supported by Spring Test and you don&#39;t really need to write the before/after test methods.","body":"Remove the methods and simply add <code>@Sql(&quot;classpath:sql&#47;inserClient.sql&quot;)</code>. See the documentation for mor einformation <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/javadoc-api/org&zwnj;&#8203;/&hellip;</a>. In short it is supported by Spring Test and you don&#39;t really need to write the before/after test methods."},{"owner":{"account_id":21806817,"reputation":57,"user_id":16104897,"display_name":"Andrea Nobili"},"score":0,"creation_date":1696435136,"post_id":77230450,"comment_id":136153362,"body_markdown":"I annoted my test method with this Sql annotation but I am obtaining this exception (I suppose that the specified path could be wrong). Some further idea?: org.springframework.jdbc.datasource.init.CannotReadScriptException: Cannot read SQL script from class path resource [sql/inserClient.sql]","body":"I annoted my test method with this Sql annotation but I am obtaining this exception (I suppose that the specified path could be wrong). Some further idea?: org.springframework.jdbc.datasource.init.CannotReadScriptExc&zwnj;&#8203;eption: Cannot read SQL script from class path resource [sql/inserClient.sql]"},{"owner":{"account_id":21806817,"reputation":57,"user_id":16104897,"display_name":"Andrea Nobili"},"score":0,"creation_date":1696435933,"post_id":77230450,"comment_id":136153540,"body_markdown":"Solved.Tnx a lot @M.Deinum If you put as answer I will be happu to accept it","body":"Solved.Tnx a lot @M.Deinum If you put as answer I will be happu to accept it"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696484277,"creation_date":1696484277,"answer_id":77234486,"question_id":77230450,"body_markdown":"Executing SQL script before/after a test method is supported out-of-the-box by the Spring Test Framework. For this you can use the [`@Sql`][1] annotation. You can place it on the class or method (or a combination of both). Using the `executionPhase` you can specify when to execute the SQL (before or after the method execution). \r\n\r\n```java\r\n@Sql(&quot;classpath:/sql/insertClient.sql&quot;)\r\n```\r\n\r\nWill execute this script for you. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html","title":"How to correctly retrieve the SQL INSERT code from a .sql file into the @BeforeEach annotated method of a Spring Boot Junit class?","body":"<p>Executing SQL script before/after a test method is supported out-of-the-box by the Spring Test Framework. For this you can use the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html\" rel=\"nofollow noreferrer\"><code>@Sql</code></a> annotation. You can place it on the class or method (or a combination of both). Using the <code>executionPhase</code> you can specify when to execute the SQL (before or after the method execution).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Sql(&quot;classpath:/sql/insertClient.sql&quot;)\n</code></pre>\n<p>Will execute this script for you.</p>\n"}],"owner":{"account_id":21806817,"reputation":57,"user_id":16104897,"display_name":"Andrea Nobili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77234486,"answer_count":1,"score":0,"last_activity_date":1696484277,"creation_date":1696429564,"question_id":77230450,"body_markdown":"I am working on a Spring Boot application and I am finding some difficulties with the following topic:\r\n\r\nI have this JUnit test class testing a service:\r\n\r\npackage com.fivebits.gestionale.service;\r\n\r\n    import static org.junit.jupiter.api.Assertions.assertFalse;\r\n    \r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n    import org.junit.jupiter.api.AfterEach;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.datasource.init.ScriptException;\r\n    import org.springframework.jdbc.datasource.init.ScriptUtils;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    \r\n    import com.fivebits.gestionale.model.Client;\r\n    \r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n    @SpringBootTest\r\n    public class ClientServiceTest {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate ClientService clientService;\r\n    \t\r\n    \t@Autowired\r\n        private JdbcTemplate jdbc;\r\n    \t\r\n    \t@Value(&quot;${sql.script.create.client}&quot;)\r\n    \tprivate String sqlAddClients;\r\n    \t\r\n    \t@Value(&quot;${sql.script.delete.client}&quot;)\r\n        private String sqlDeleteClient;\r\n    \t\r\n    \t\r\n    \t@BeforeEach\r\n        public void setupDatabase() throws ScriptException, SQLException {\r\n            jdbc.execute(sqlAddClients);\r\n    \t\t\r\n        }\r\n    \t\r\n    \t@Test\r\n    \tvoid getClientsListTest() {\r\n    \t\t\r\n    \t\tList&lt;Client&gt; clientsList = clientService.getClientsList();\r\n    \t\r\n    \t\t// Check that this is not an empty list:\r\n            assertFalse(clientsList.isEmpty());\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t @AfterEach\r\n    \t    public void setupAfterTransaction() {\r\n    \t        jdbc.execute(sqlDeleteClient);\r\n    \t    }\r\n    \t\r\n    \r\n    }\r\n\r\nIn particular it contains this method that is executed before all the test methods to set up the DB content:\r\n\r\n\t@BeforeEach\r\n\tpublic void setupDatabase() throws ScriptException, SQLException {\r\n\t\tjdbc.execute(sqlAddClients);\r\n\t\t\r\n\t}\r\n\r\nAnd here it is my problem. I am calling this **jdbc.execute(sqlAddClients);** in order to insert demo data into my DB.\r\n\r\nAs you can see this clas referers to this properties file (and I am using the **sql.script.create.client** property in order to retrieve the SQL statment to populate my DB.\r\n\r\n    @TestPropertySource(&quot;/application-test.properties&quot;)\r\n\r\nInto this **application-test.properties** I have something like this:\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/gestionale_interno_db\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=mypswd\r\n    spring.jpa.show-sql=true\r\n    \r\n    ## Hibernate Properties\r\n    # The SQL dialect makes Hibernate generate better SQL for the chosen database\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n    \r\n    # Hibernate ddl auto (create, create-drop, validate, update)\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    \r\n    server.port=8080\r\n    \r\n    \r\n    sql.script.create.client=classpath:sql/inserClient.sql\r\n    #sql.script.create.client=INSERT INTO client (name, vat_number, address, email) VALUES (&#39;Cliente 1&#39;, &#39;VAT001&#39;, &#39;Indirizzo Cliente 1&#39;, &#39;cliente1@email.com&#39;);\r\n    \r\n    \r\n    sql.script.delete.client=DELETE FROM client\r\n\r\nThe thing that interest me is this line:\r\n\r\n    sql.script.create.client=classpath:sql/inserClient.sql\r\n\r\nNOTE: mocking the SQL insert statement (as done in the following commented line) it works fine. I am trying to avoid to put the SQL statement directly into this property file in order to mantein it clean..so I am trying to retrieve it in the previous way directly from this **sql/inserClient.sql** file. This one:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis file contains the following SQL insert statement:\r\n\r\n    -- Inserisci il primo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 1&#39;, &#39;VAT001&#39;, &#39;Indirizzo Cliente 1&#39;, &#39;cliente1@email.com&#39;);\r\n    \r\n    -- Inserisci il secondo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 2&#39;, &#39;VAT002&#39;, &#39;Indirizzo Cliente 2&#39;, &#39;cliente2@email.com&#39;);\r\n    \r\n    -- Inserisci il terzo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 3&#39;, &#39;VAT003&#39;, &#39;Indirizzo Cliente 3&#39;, &#39;cliente3@email.com&#39;);\r\n    \r\n    -- Inserisci il quarto cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 4&#39;, &#39;VAT004&#39;, &#39;Indirizzo Cliente 4&#39;, &#39;cliente4@email.com&#39;);\r\n    \r\n    -- Inserisci il quinto cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 5&#39;, &#39;VAT005&#39;, &#39;Indirizzo Cliente 5&#39;, &#39;cliente5@email.com&#39;);\r\n    \r\n    -- Inserisci il sesto cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 6&#39;, &#39;VAT006&#39;, &#39;Indirizzo Cliente 6&#39;, &#39;cliente6@email.com&#39;);\r\n    \r\n    -- Inserisci il settimo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 7&#39;, &#39;VAT007&#39;, &#39;Indirizzo Cliente 7&#39;, &#39;cliente7@email.com&#39;);\r\n    \r\n    -- Inserisci l&#39;ottavo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 8&#39;, &#39;VAT008&#39;, &#39;Indirizzo Cliente 8&#39;, &#39;cliente8@email.com&#39;);\r\n    \r\n    -- Inserisci il nono cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 9&#39;, &#39;VAT009&#39;, &#39;Indirizzo Cliente 9&#39;, &#39;cliente9@email.com&#39;);\r\n    \r\n    -- Inserisci il decimo cliente\r\n    INSERT INTO client (name, vat_number, address, email)\r\n    VALUES (&#39;Cliente 10&#39;, &#39;VAT010&#39;, &#39;Indirizzo Cliente 10&#39;, &#39;cliente10@email.com&#39;);\r\n\r\nthe problem is that running my JUnit test class, it is going into error when this method is performed:\r\n\r\n\t@BeforeEach\r\n    public void setupDatabase() throws ScriptException, SQLException {\r\n        jdbc.execute(sqlAddClients);\r\n\t\t\r\n    }\r\n\r\n**NOTE:** using the debugger I can see that the content of the **sqlAddClients** is this string: **classpath:sql/inserClient.sql** \r\nSo it is not containing all the SQL statment into my **inserClient.sql** file.\r\n\r\nThis is the exception obtained when I try to execute this line **jdbc.execute(sqlAddClients);**:\r\n\r\n\r\n\torg.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [classpath:sql/inserClient.sql]\r\n\t\tat org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:104)\r\n\t\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\r\n\t\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:82)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1572)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:398)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:434)\r\n\t\tat com.fivebits.gestionale.service.ClientServiceTest.setupDatabase(ClientServiceTest.java:43)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n\t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\r\n\t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n\t\tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\r\n\t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\r\n\t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\t\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\t\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\t\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\t\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\t\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\r\n\t\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\r\n\t\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\r\n\t\tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\r\n\t\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\tCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;classpath&quot;\r\n\t  Posizione: 1\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\r\n\t\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\r\n\t\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)\r\n\t\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)\r\n\t\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)\r\n\t\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\r\n\t\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:425)\r\n\t\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:383)\r\n\t\t... 76 more\r\n\r\nWhat is wrong in my approach? How can I try to solve this issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pNFj6.png\r\n","title":"How to correctly retrieve the SQL INSERT code from a .sql file into the @BeforeEach annotated method of a Spring Boot Junit class?","body":"<p>I am working on a Spring Boot application and I am finding some difficulties with the following topic:</p>\n<p>I have this JUnit test class testing a service:</p>\n<p>package com.fivebits.gestionale.service;</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertFalse;\n\nimport java.sql.SQLException;\nimport java.util.List;\nimport org.junit.jupiter.api.AfterEach;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.init.ScriptException;\nimport org.springframework.jdbc.datasource.init.ScriptUtils;\nimport org.springframework.test.context.TestPropertySource;\n\nimport com.fivebits.gestionale.model.Client;\n\n@TestPropertySource(&quot;/application-test.properties&quot;)\n@SpringBootTest\npublic class ClientServiceTest {\n    \n    @Autowired\n    private ClientService clientService;\n    \n    @Autowired\n    private JdbcTemplate jdbc;\n    \n    @Value(&quot;${sql.script.create.client}&quot;)\n    private String sqlAddClients;\n    \n    @Value(&quot;${sql.script.delete.client}&quot;)\n    private String sqlDeleteClient;\n    \n    \n    @BeforeEach\n    public void setupDatabase() throws ScriptException, SQLException {\n        jdbc.execute(sqlAddClients);\n        \n    }\n    \n    @Test\n    void getClientsListTest() {\n        \n        List&lt;Client&gt; clientsList = clientService.getClientsList();\n    \n        // Check that this is not an empty list:\n        assertFalse(clientsList.isEmpty());\n        \n    }\n    \n     @AfterEach\n        public void setupAfterTransaction() {\n            jdbc.execute(sqlDeleteClient);\n        }\n    \n\n}\n</code></pre>\n<p>In particular it contains this method that is executed before all the test methods to set up the DB content:</p>\n<pre><code>@BeforeEach\npublic void setupDatabase() throws ScriptException, SQLException {\n    jdbc.execute(sqlAddClients);\n    \n}\n</code></pre>\n<p>And here it is my problem. I am calling this <strong>jdbc.execute(sqlAddClients);</strong> in order to insert demo data into my DB.</p>\n<p>As you can see this clas referers to this properties file (and I am using the <strong>sql.script.create.client</strong> property in order to retrieve the SQL statment to populate my DB.</p>\n<pre><code>@TestPropertySource(&quot;/application-test.properties&quot;)\n</code></pre>\n<p>Into this <strong>application-test.properties</strong> I have something like this:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/gestionale_interno_db\nspring.datasource.username=postgres\nspring.datasource.password=mypswd\nspring.jpa.show-sql=true\n\n## Hibernate Properties\n# The SQL dialect makes Hibernate generate better SQL for the chosen database\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n\n# Hibernate ddl auto (create, create-drop, validate, update)\nspring.jpa.hibernate.ddl-auto = update\n\nserver.port=8080\n\n\nsql.script.create.client=classpath:sql/inserClient.sql\n#sql.script.create.client=INSERT INTO client (name, vat_number, address, email) VALUES ('Cliente 1', 'VAT001', 'Indirizzo Cliente 1', 'cliente1@email.com');\n\n\nsql.script.delete.client=DELETE FROM client\n</code></pre>\n<p>The thing that interest me is this line:</p>\n<pre><code>sql.script.create.client=classpath:sql/inserClient.sql\n</code></pre>\n<p>NOTE: mocking the SQL insert statement (as done in the following commented line) it works fine. I am trying to avoid to put the SQL statement directly into this property file in order to mantein it clean..so I am trying to retrieve it in the previous way directly from this <strong>sql/inserClient.sql</strong> file. This one:</p>\n<p><a href=\"https://i.stack.imgur.com/pNFj6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pNFj6.png\" alt=\"enter image description here\" /></a></p>\n<p>This file contains the following SQL insert statement:</p>\n<pre><code>-- Inserisci il primo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 1', 'VAT001', 'Indirizzo Cliente 1', 'cliente1@email.com');\n\n-- Inserisci il secondo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 2', 'VAT002', 'Indirizzo Cliente 2', 'cliente2@email.com');\n\n-- Inserisci il terzo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 3', 'VAT003', 'Indirizzo Cliente 3', 'cliente3@email.com');\n\n-- Inserisci il quarto cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 4', 'VAT004', 'Indirizzo Cliente 4', 'cliente4@email.com');\n\n-- Inserisci il quinto cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 5', 'VAT005', 'Indirizzo Cliente 5', 'cliente5@email.com');\n\n-- Inserisci il sesto cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 6', 'VAT006', 'Indirizzo Cliente 6', 'cliente6@email.com');\n\n-- Inserisci il settimo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 7', 'VAT007', 'Indirizzo Cliente 7', 'cliente7@email.com');\n\n-- Inserisci l'ottavo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 8', 'VAT008', 'Indirizzo Cliente 8', 'cliente8@email.com');\n\n-- Inserisci il nono cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 9', 'VAT009', 'Indirizzo Cliente 9', 'cliente9@email.com');\n\n-- Inserisci il decimo cliente\nINSERT INTO client (name, vat_number, address, email)\nVALUES ('Cliente 10', 'VAT010', 'Indirizzo Cliente 10', 'cliente10@email.com');\n</code></pre>\n<p>the problem is that running my JUnit test class, it is going into error when this method is performed:</p>\n<pre><code>@BeforeEach\npublic void setupDatabase() throws ScriptException, SQLException {\n    jdbc.execute(sqlAddClients);\n    \n}\n</code></pre>\n<p><strong>NOTE:</strong> using the debugger I can see that the content of the <strong>sqlAddClients</strong> is this string: <strong>classpath:sql/inserClient.sql</strong>\nSo it is not containing all the SQL statment into my <strong>inserClient.sql</strong> file.</p>\n<p>This is the exception obtained when I try to execute this line <strong>jdbc.execute(sqlAddClients);</strong>:</p>\n<pre><code>org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar [classpath:sql/inserClient.sql]\n    at org.springframework.jdbc.support.SQLStateSQLExceptionTranslator.doTranslate(SQLStateSQLExceptionTranslator.java:104)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:82)\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1572)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:398)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:434)\n    at com.fivebits.gestionale.service.ClientServiceTest.setupDatabase(ClientServiceTest.java:43)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:128)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:78)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:520)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$23(ClassBasedTestDescriptor.java:505)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$3(TestMethodTestDescriptor.java:174)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:171)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:134)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:95)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:91)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:60)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:529)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:756)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:452)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;classpath&quot;\n  Posizione: 1\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)\n    at org.springframework.jdbc.core.JdbcTemplate$1ExecuteStatementCallback.doInStatement(JdbcTemplate.java:425)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:383)\n    ... 76 more\n</code></pre>\n<p>What is wrong in my approach? How can I try to solve this issue?</p>\n"},{"tags":["java","mysql","spring-boot","datasource","hikaricp"],"comments":[{"owner":{"account_id":12503014,"reputation":130,"user_id":9100818,"display_name":"Kafarson"},"score":1,"creation_date":1696426503,"post_id":77230039,"comment_id":136151339,"body_markdown":"check this similar problem: https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver","body":"check this similar problem: <a href=\"https://stackoverflow.com/questions/52804228/failed-to-load-driver-class-com-mysql-jdbc-driver\" title=\"failed to load driver class com mysql jdbc driver\">stackoverflow.com/questions/52804228/&hellip;</a>"},{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1696426628,"post_id":77230039,"comment_id":136151373,"body_markdown":"Check the line that says ERROR .\n\n&quot;2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44&quot;","body":"Check the line that says ERROR .  &quot;2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44&quot;"}],"answers":[{"tags":[],"owner":{"account_id":8216877,"reputation":1,"user_id":6182866,"display_name":"Alejandro Lafourcade Despaigne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696439994,"creation_date":1696439994,"answer_id":77231714,"question_id":77230039,"body_markdown":"Check this steps\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Java Springboot isn&#39;t working as expected. What&#39;s wrong with my code","body":"<p>Check this steps</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"score":0,"creation_date":1696625923,"post_id":77234422,"comment_id":136182373,"body_markdown":"if you feel it useful, please [vote up](https://stackoverflow.com/help/privileges/vote-up) or accept answer","body":"if you feel it useful, please <a href=\"https://stackoverflow.com/help/privileges/vote-up\">vote up</a> or accept answer"}],"tags":[],"owner":{"account_id":21849828,"reputation":364,"user_id":16142058,"display_name":"The Dark Knight"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696483582,"creation_date":1696483233,"answer_id":77234422,"question_id":77230039,"body_markdown":"You can miss:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand `spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver` in `application.properties`\r\n\r\nMake sure every files, folders as sub package of `parent` package","title":"Java Springboot isn&#39;t working as expected. What&#39;s wrong with my code","body":"<p>You can miss:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and <code>spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</code> in <code>application.properties</code></p>\n<p>Make sure every files, folders as sub package of <code>parent</code> package</p>\n"}],"owner":{"account_id":23420476,"reputation":19,"user_id":17480767,"display_name":"Daniel Gilbert Dela Pe&#241;a"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1696483582,"creation_date":1696426318,"question_id":77230039,"body_markdown":"We have just started with springboot. I did all of the steps my professor has shown, but it does not seem to be creating a database.\r\n\r\n\r\n```\r\n**Application**\r\nspring.datasource.url = jdbc:mysql://localhost:3306/dbLastNameDemo\r\n\r\nspring.datasource.username = root\r\nspring.datasource.password = password\r\n\r\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto = update\r\n\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n\r\nserver.error.include.stacktrace=never\r\n\r\n```\r\n\r\n\r\n```\r\n**Console**\r\n2023-10-04 21:24:10.672  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : Starting DelapenaApplication using Java 19.0.1 on Daesut with PID 24832 (C:\\Users\\Daesut\\Downloads\\delapena\\delapena\\target\\classes started by Daesut in C:\\Users\\Daesut\\Downloads\\delapena\\delapena)\r\n2023-10-04 21:24:10.673  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-10-04 21:24:11.134  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-10-04 21:24:11.145  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\r\n2023-10-04 21:24:11.702  INFO 24832 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\r\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1057 ms\r\n2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44\r\n2023-10-04 21:24:11.823  WARN 24832 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\r\n2023-10-04 21:24:11.825  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-10-04 21:24:11.835  INFO 24832 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\n```\r\nThese were in the console log. \r\n\r\n\r\nWe were supposed to create a table for our workbench","title":"Java Springboot isn&#39;t working as expected. What&#39;s wrong with my code","body":"<p>We have just started with springboot. I did all of the steps my professor has shown, but it does not seem to be creating a database.</p>\n<pre><code>**Application**\nspring.datasource.url = jdbc:mysql://localhost:3306/dbLastNameDemo\n\nspring.datasource.username = root\nspring.datasource.password = password\n\nspring.jpa.database-platform = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto = update\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\n\nserver.error.include.stacktrace=never\n\n</code></pre>\n<pre><code>**Console**\n2023-10-04 21:24:10.672  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : Starting DelapenaApplication using Java 19.0.1 on Daesut with PID 24832 (C:\\Users\\Daesut\\Downloads\\delapena\\delapena\\target\\classes started by Daesut in C:\\Users\\Daesut\\Downloads\\delapena\\delapena)\n2023-10-04 21:24:10.673  INFO 24832 --- [  restartedMain] c.c.delapena.DelapenaApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-10-04 21:24:10.717  INFO 24832 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-10-04 21:24:11.134  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-10-04 21:24:11.145  INFO 24832 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 4 ms. Found 0 JPA repository interfaces.\n2023-10-04 21:24:11.702  INFO 24832 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-10-04 21:24:11.714  INFO 24832 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.80]\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-10-04 21:24:11.774  INFO 24832 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1057 ms\n2023-10-04 21:24:11.821 ERROR 24832 --- [  restartedMain] com.zaxxer.hikari.HikariConfig           : Failed to load driver class com.mysql.cj.jdbc.Driver from HikariConfig class classloader jdk.internal.loader.ClassLoaders$AppClassLoader@c387f44\n2023-10-04 21:24:11.823  WARN 24832 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.RuntimeException: Failed to load driver class com.mysql.cj.jdbc.Driver in either of HikariConfig class loader or Thread context classloader\n2023-10-04 21:24:11.825  INFO 24832 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-10-04 21:24:11.835  INFO 24832 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\n</code></pre>\n<p>These were in the console log.</p>\n<p>We were supposed to create a table for our workbench</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696484668,"post_id":77234364,"comment_id":136159321,"body_markdown":"What is a &quot;SJF&quot;? What is a &quot;TimeQuantum&quot;?","body":"What is a &quot;SJF&quot;? What is a &quot;TimeQuantum&quot;?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696484698,"post_id":77234364,"comment_id":136159326,"body_markdown":"Your code needs formatting.","body":"Your code needs formatting."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1696484769,"post_id":77234364,"comment_id":136159335,"body_markdown":"Seems like you want us to finish your school work assignment. That is not the purpose of this site. Here you need to ask a specific question focused on a particular programming problem or technique.","body":"Seems like you want us to finish your school work assignment. That is not the purpose of this site. Here you need to ask a specific question focused on a particular programming problem or technique."}],"owner":{"account_id":29601785,"reputation":1,"user_id":22687032,"display_name":"Forlan Beckham"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696482247,"creation_date":1696482247,"question_id":77234364,"body_markdown":"You have an array name, Process name, second array Process arrival time, and third Process burst time. And a variable time quantum. Write a Java program That has the shortest burst time. Subtract one from his burst time. Before subtracting, you must check every that the process has come or arrived; if not, then Subtraction cannot be done. If it comes, then you can subtract one from its burst time. Do this until all the burst times are zero. And if multiple Processes have equal burst times and they arrived, then minus time quantum from those equal processors&#39; burst times. Print the process whose burst time is being subtracted. Do step by step.\r\n\r\nSample input: (&quot;P1&quot;, 4, 5),(&quot;P2&quot;, 1, 6),(&quot;P3&quot;, 1, 6),(&quot;P4&quot;, 2, 4),(&quot;P5&quot;, 3, 3)\r\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.\r\n\r\nimport java.util.*;\r\n\r\npublic class ShortestJobFirst {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        // Get the number of processes\r\n        int n = sc.nextInt();\r\n\r\n        // Create arrays to store the process names, arrival times, and burst times\r\n        String[] name = new String[n];\r\n        int[] arrivalTime = new int[n];\r\n        int[] burstTime = new int[n];\r\n\r\n        // Get the process names, arrival times, and burst times\r\n        for (int i = 0; i &lt; n; i++) {\r\n            name[i] = sc.next();\r\n            arrivalTime[i] = sc.nextInt();\r\n            burstTime[i] = sc.nextInt();\r\n        }\r\n\r\n        // Get the time quantum\r\n        int timeQuantum = sc.nextInt();\r\n\r\n        // Sort the processes by arrival time\r\n        Arrays.sort(arrivalTime);\r\n\r\n        // Create a queue to store the processes\r\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\r\n\r\n        // Initialize the current time to zero\r\n        int currentTime = 0;\r\n\r\n        // While there are still processes in the queue or not all processes have finished executing\r\n        while (!queue.isEmpty() || Arrays.stream(burstTime).anyMatch(x -&gt; x &gt; 0)) {\r\n            // If the queue is empty, add the first process to the queue\r\n            if (queue.isEmpty()) {\r\n                queue.add(0);\r\n            }\r\n\r\n            // Get the current process\r\n            int currentProcess = queue.poll();\r\n\r\n            // If the current process has arrived\r\n            if (arrivalTime[currentProcess] &lt;= currentTime) {\r\n                // If the burst time of the current process is less than or equal to the time quantum\r\n                if (burstTime[currentProcess] &lt;= timeQuantum) {\r\n                    // Subtract the burst time of the current process from the current time\r\n                    currentTime += burstTime[currentProcess];\r\n\r\n                    // Set the burst time of the current process to zero\r\n                    burstTime[currentProcess] = 0;\r\n\r\n                    // Print the process whose burst time was subtracted\r\n                    System.out.println(name[currentProcess] + &quot; execute &quot; + burstTime[currentProcess] + &quot; unit&quot;);\r\n\r\n                } else {\r\n                    // Subtract the time quantum from the burst time of the current process\r\n                    burstTime[currentProcess] -= timeQuantum;\r\n\r\n                    // Print the process whose burst time was subtracted\r\n                    System.out.println(name[currentProcess] + &quot; execute &quot; + timeQuantum + &quot; unit&quot;);\r\n\r\n                    // Add\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nI am expecting this output but not getting\r\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.","title":"pre-emptive SJF With TimeQuantum","body":"<p>You have an array name, Process name, second array Process arrival time, and third Process burst time. And a variable time quantum. Write a Java program That has the shortest burst time. Subtract one from his burst time. Before subtracting, you must check every that the process has come or arrived; if not, then Subtraction cannot be done. If it comes, then you can subtract one from its burst time. Do this until all the burst times are zero. And if multiple Processes have equal burst times and they arrived, then minus time quantum from those equal processors' burst times. Print the process whose burst time is being subtracted. Do step by step.</p>\n<p>Sample input: (&quot;P1&quot;, 4, 5),(&quot;P2&quot;, 1, 6),(&quot;P3&quot;, 1, 6),(&quot;P4&quot;, 2, 4),(&quot;P5&quot;, 3, 3)\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.</p>\n<p>import java.util.*;</p>\n<p>public class ShortestJobFirst {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner sc = new Scanner(System.in);\n\n    // Get the number of processes\n    int n = sc.nextInt();\n\n    // Create arrays to store the process names, arrival times, and burst times\n    String[] name = new String[n];\n    int[] arrivalTime = new int[n];\n    int[] burstTime = new int[n];\n\n    // Get the process names, arrival times, and burst times\n    for (int i = 0; i &lt; n; i++) {\n        name[i] = sc.next();\n        arrivalTime[i] = sc.nextInt();\n        burstTime[i] = sc.nextInt();\n    }\n\n    // Get the time quantum\n    int timeQuantum = sc.nextInt();\n\n    // Sort the processes by arrival time\n    Arrays.sort(arrivalTime);\n\n    // Create a queue to store the processes\n    Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\n\n    // Initialize the current time to zero\n    int currentTime = 0;\n\n    // While there are still processes in the queue or not all processes have finished executing\n    while (!queue.isEmpty() || Arrays.stream(burstTime).anyMatch(x -&gt; x &gt; 0)) {\n        // If the queue is empty, add the first process to the queue\n        if (queue.isEmpty()) {\n            queue.add(0);\n        }\n\n        // Get the current process\n        int currentProcess = queue.poll();\n\n        // If the current process has arrived\n        if (arrivalTime[currentProcess] &lt;= currentTime) {\n            // If the burst time of the current process is less than or equal to the time quantum\n            if (burstTime[currentProcess] &lt;= timeQuantum) {\n                // Subtract the burst time of the current process from the current time\n                currentTime += burstTime[currentProcess];\n\n                // Set the burst time of the current process to zero\n                burstTime[currentProcess] = 0;\n\n                // Print the process whose burst time was subtracted\n                System.out.println(name[currentProcess] + &quot; execute &quot; + burstTime[currentProcess] + &quot; unit&quot;);\n\n            } else {\n                // Subtract the time quantum from the burst time of the current process\n                burstTime[currentProcess] -= timeQuantum;\n\n                // Print the process whose burst time was subtracted\n                System.out.println(name[currentProcess] + &quot; execute &quot; + timeQuantum + &quot; unit&quot;);\n\n                // Add\n            }\n        }\n    }\n}\n</code></pre>\n<p>}\nI am expecting this output but not getting\nSample output: P2 execute 2 unit, p3 execute 2, p5 execute 1, p5 execute 1, p5 execute 1,P2 execute 2 unit, p3 execute 2,P4 execute 2 unit, p2 execute 2,P3 execute 2 unit, p4 execute 2,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1,p1 execute 1.</p>\n"},{"tags":["java","android","android-fragments","android-recyclerview","drag-and-drop"],"comments":[{"owner":{"account_id":5475525,"reputation":1633,"user_id":4353635,"accept_rate":50,"display_name":"Arslan Sohail"},"score":1,"creation_date":1513337859,"post_id":37659123,"comment_id":82625891,"body_markdown":"@maratus i wanted to use the same functionality did u find any solution to it?","body":"@maratus i wanted to use the same functionality did u find any solution to it?"},{"owner":{"account_id":8800547,"reputation":2118,"user_id":6576875,"accept_rate":87,"display_name":"Martin De Simone"},"score":0,"creation_date":1520794511,"post_id":37659123,"comment_id":85451080,"body_markdown":"What did you end up doing?","body":"What did you end up doing?"},{"owner":{"account_id":10618129,"reputation":224,"user_id":7819995,"display_name":"Mitsakos"},"score":0,"creation_date":1521111112,"post_id":37659123,"comment_id":85596826,"body_markdown":"Since RecyclerView provides the `OnItemTouchListener` to handle touch events, what you would need to achieve in theory, is to create an identical item to the new recycler view and remove it from the previous one, by coding for the desired motion event. It&#39;s probably not exactly what you want, but it&#39;s the same functionalitiy in principle.","body":"Since RecyclerView provides the <code>OnItemTouchListener</code> to handle touch events, what you would need to achieve in theory, is to create an identical item to the new recycler view and remove it from the previous one, by coding for the desired motion event. It&#39;s probably not exactly what you want, but it&#39;s the same functionalitiy in principle."},{"owner":{"account_id":7612618,"reputation":15612,"user_id":5773037,"display_name":"Nikunj Paradva"},"score":0,"creation_date":1523872760,"post_id":37659123,"comment_id":86723413,"body_markdown":"i am also stuck in that ,you got your solution?","body":"i am also stuck in that ,you got your solution?"},{"owner":{"account_id":3133508,"reputation":254,"user_id":2650584,"accept_rate":70,"display_name":"user1"},"score":0,"creation_date":1525600338,"post_id":37659123,"comment_id":87413445,"body_markdown":"did you check [this](https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview), it&#39;s an old question, but seems to be the same problem!","body":"did you check <a href=\"https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview\">this</a>, it&#39;s an old question, but seems to be the same problem!"},{"owner":{"account_id":2599209,"reputation":42717,"user_id":2252113,"accept_rate":57,"display_name":"Hitesh Sahu"},"score":0,"creation_date":1525677019,"post_id":37659123,"comment_id":87434423,"body_markdown":"Possible duplicate of [Drag and Drop between two RecyclerView](https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/29690522/drag-and-drop-between-two-recyclerview\">Drag and Drop between two RecyclerView</a>"}],"answers":[{"tags":[],"owner":{"account_id":1545985,"reputation":17166,"user_id":1439522,"accept_rate":40,"display_name":"prom85"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611733650,"creation_date":1526370159,"answer_id":50344856,"question_id":37659123,"body_markdown":"Old question, but no answer yet, so I provide a short one...\r\n\r\nFor dragging something from one view to another you can use the `DragShadowBuilder`. The `ItemTouchHelper` is only meant for moving items within the `RecyclerView`, you need a custom implementation for what you want.\r\n\r\nCheck out this documentation: https://developer.android.com/guide/topics/ui/drag-drop (so yes, for what you want you should is this classic drag&amp;drop framework as you called it)\r\n\r\nIt shows you how to create the shadow, how to move it (done automatically) and how to react to the drag event in the second view.\r\n\r\nThe workflow is following:\r\n\r\n1. Create the drag shadow when e.g. long pressing an item in `RecyclerView` 1 (it&#39;s a copy of the item, drawn over the app)\r\n2. The shadow can be moved around, handled by the framework already; this will call drag enter/exits and drag events on the views it is draggede over\r\n3. add a `View.OnDragListener` on the second `RecyclerView` and handle the events (e.g. add the data in the second `RecyclerView` if the user drops it over it and remove it from the first `RecyclerView`)\r\n\r\nWith the help of `DragShadowBuilder` you can find tutorials on this, like e.g. the one here: http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html\r\n\r\n","title":"Is it possible to drag an item outside of RecyclerView?","body":"<p>Old question, but no answer yet, so I provide a short one...</p>\n<p>For dragging something from one view to another you can use the <code>DragShadowBuilder</code>. The <code>ItemTouchHelper</code> is only meant for moving items within the <code>RecyclerView</code>, you need a custom implementation for what you want.</p>\n<p>Check out this documentation: <a href=\"https://developer.android.com/guide/topics/ui/drag-drop\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/drag-drop</a> (so yes, for what you want you should is this classic drag&amp;drop framework as you called it)</p>\n<p>It shows you how to create the shadow, how to move it (done automatically) and how to react to the drag event in the second view.</p>\n<p>The workflow is following:</p>\n<ol>\n<li>Create the drag shadow when e.g. long pressing an item in <code>RecyclerView</code> 1 (it's a copy of the item, drawn over the app)</li>\n<li>The shadow can be moved around, handled by the framework already; this will call drag enter/exits and drag events on the views it is draggede over</li>\n<li>add a <code>View.OnDragListener</code> on the second <code>RecyclerView</code> and handle the events (e.g. add the data in the second <code>RecyclerView</code> if the user drops it over it and remove it from the first <code>RecyclerView</code>)</li>\n</ol>\n<p>With the help of <code>DragShadowBuilder</code> you can find tutorials on this, like e.g. the one here: <a href=\"http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html\" rel=\"nofollow noreferrer\">http://www.vogella.com/tutorials/AndroidDragAndDrop/article.html</a></p>\n"},{"tags":[],"owner":{"account_id":14624465,"reputation":21,"user_id":10562191,"display_name":"Tom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696481744,"creation_date":1696481744,"answer_id":77234331,"question_id":37659123,"body_markdown":"I have done it by using ItemTouchHelper and OnItemTouchListener\r\n\r\n            var selectedViewHolder: RecyclerView.ViewHolder? = null\r\n\r\n        val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\r\n            ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\r\n        ) {\r\n            override fun onMove(\r\n                recyclerView: RecyclerView,\r\n                source: RecyclerView.ViewHolder,\r\n                target: RecyclerView.ViewHolder\r\n            ): Boolean {\r\n                val sourcePosition = source.adapterPosition\r\n                val targetPosition = target.adapterPosition\r\n                if (selectedViewHolder == null) {\r\n                    selectedViewHolder =\r\n                        recyclerView.findViewHolderForAdapterPosition(sourcePosition)\r\n                    Collections.swap(customerList, sourcePosition, targetPosition)\r\n                    custAdapter.notifyItemMoved(sourcePosition, targetPosition)\r\n                    return true\r\n                }\r\n                return false\r\n\r\n            }\r\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\r\n            }\r\n        })\r\n        itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\r\n\r\n        binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\r\n            val gestureDetector = GestureDetector(\r\n                requireContext(),\r\n                object : GestureDetector.SimpleOnGestureListener() {\r\n                    override fun onLongPress(e: MotionEvent) {\r\n                        val childView = binding.rvCustomerList.findChildViewUnder(e!!.x,e!!.y)\r\n                        motionEvent = MotionEvent.obtain(e)\r\n                        when (e?.action) {\r\n                            MotionEvent.ACTION_DOWN -&gt; {\r\n                                val data = ClipData.newPlainText(&quot;&quot;, &quot;&quot;)\r\n                                val shadowBuilder = DragShadowBuilder(\r\n                                    childView\r\n                                )\r\n                                childView!!.startDrag(data, shadowBuilder, view, 0)\r\n                                motionEvent = MotionEvent.obtain(e)\r\n                              \r\n                            }\r\n                            MotionEvent.ACTION_MOVE -&gt; {\r\n                                childView!!.x = e.x\r\n                                childView!!.y = e.y\r\n                            }\r\n                            else -&gt; {\r\n                            }\r\n                        }\r\n                    }\r\n                })\r\n\r\n            override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\r\n                gestureDetector.onTouchEvent(e)\r\n                return false\r\n            }\r\n\r\n            override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\r\n\r\n            override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\r\n        })\r\n\r\n\r\nIn this rvCustomerList is the recyclerview.\r\nNow I can move the selected item from recyclrview anywhere in the screen.\r\n\r\nHope this is helpful.","title":"Is it possible to drag an item outside of RecyclerView?","body":"<p>I have done it by using ItemTouchHelper and OnItemTouchListener</p>\n<pre><code>        var selectedViewHolder: RecyclerView.ViewHolder? = null\n\n    val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\n        ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\n    ) {\n        override fun onMove(\n            recyclerView: RecyclerView,\n            source: RecyclerView.ViewHolder,\n            target: RecyclerView.ViewHolder\n        ): Boolean {\n            val sourcePosition = source.adapterPosition\n            val targetPosition = target.adapterPosition\n            if (selectedViewHolder == null) {\n                selectedViewHolder =\n                    recyclerView.findViewHolderForAdapterPosition(sourcePosition)\n                Collections.swap(customerList, sourcePosition, targetPosition)\n                custAdapter.notifyItemMoved(sourcePosition, targetPosition)\n                return true\n            }\n            return false\n\n        }\n        override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n        }\n    })\n    itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\n\n    binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\n        val gestureDetector = GestureDetector(\n            requireContext(),\n            object : GestureDetector.SimpleOnGestureListener() {\n                override fun onLongPress(e: MotionEvent) {\n                    val childView = binding.rvCustomerList.findChildViewUnder(e!!.x,e!!.y)\n                    motionEvent = MotionEvent.obtain(e)\n                    when (e?.action) {\n                        MotionEvent.ACTION_DOWN -&gt; {\n                            val data = ClipData.newPlainText(&quot;&quot;, &quot;&quot;)\n                            val shadowBuilder = DragShadowBuilder(\n                                childView\n                            )\n                            childView!!.startDrag(data, shadowBuilder, view, 0)\n                            motionEvent = MotionEvent.obtain(e)\n                          \n                        }\n                        MotionEvent.ACTION_MOVE -&gt; {\n                            childView!!.x = e.x\n                            childView!!.y = e.y\n                        }\n                        else -&gt; {\n                        }\n                    }\n                }\n            })\n\n        override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\n            gestureDetector.onTouchEvent(e)\n            return false\n        }\n\n        override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\n\n        override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\n    })\n</code></pre>\n<p>In this rvCustomerList is the recyclerview.\nNow I can move the selected item from recyclrview anywhere in the screen.</p>\n<p>Hope this is helpful.</p>\n"}],"owner":{"account_id":4092951,"reputation":312,"user_id":4614800,"display_name":"martaus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4273,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"answer_count":2,"score":24,"last_activity_date":1696481744,"creation_date":1465220687,"question_id":37659123,"body_markdown":"I need to somehow notify `RecyclerView` when I drag and drop an item from another `RecyclerView` onto it.\r\n \r\n* Is it possible? \r\n* Or should I use classic [Drag and drop framework][1]?\r\n\r\n[![Drag and drop an item to another RecyclerView][2]][2]\r\n\r\n`RecyclerView` with blue items is in one fragment and `RecyclerView` with red items is in another fragment.\r\n\r\nI also tried using [ItemTouchHelper][3] but it&#39;s [onMove()][4] method from [ItemTouchHelper.Callback][5] is not called while moving with item outside\r\nfrom `RecyclerView`.\r\n\r\n&lt;!-- language-all: java --&gt;\r\n\r\n    private class CustomItemTouchCallback extends Callback {\r\n\r\n        @Override\r\n        public int getMovementFlags(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) {\r\n            return makeMovementFlags(UP|DOWN|START|END, 0);\r\n        }\r\n\r\n        @Override\r\n        public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) {\r\n            android.util.Log.d(TAG, &quot;Move item  from:&quot; + viewHolder.getAdapterPosition() + &quot; to: &quot; + target.getAdapterPosition());\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onMoved(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, int fromPos, RecyclerView.ViewHolder target, int toPos, int x, int y) {\r\n            android.util.Log.d(TAG, &quot;Moved item  from:&quot; + fromPos + &quot; to: &quot; + toPos + &quot; x: &quot; + x + &quot; y: &quot; + y);\r\n            super.onMoved(recyclerView, viewHolder, fromPos, target, toPos, x, y);\r\n        }\r\n\r\n        @Override\r\n        public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public boolean isLongPressDragEnabled() {\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public boolean isItemViewSwipeEnabled() {\r\n            return false;\r\n        }\r\n    }\r\n\r\nI also find this [question][6], but it doesn&#39;t solve my problem.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/ui/drag-drop.html\r\n  [2]: http://i.stack.imgur.com/NZUfB.png\r\n  [3]: https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.html#onChildViewDetachedFromWindow(android.view.View)\r\n  [4]: https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html#onMove(android.support.v7.widget.RecyclerView,%20android.support.v7.widget.RecyclerView.ViewHolder,%20android.support.v7.widget.RecyclerView.ViewHolder)\r\n  [5]: https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html\r\n  [6]: https://stackoverflow.com/questions/37583571/drag-and-drop-an-item-from-one-recyclerview-listview-into-another-recyclerview","title":"Is it possible to drag an item outside of RecyclerView?","body":"<p>I need to somehow notify <code>RecyclerView</code> when I drag and drop an item from another <code>RecyclerView</code> onto it.</p>\n\n<ul>\n<li>Is it possible? </li>\n<li>Or should I use classic <a href=\"https://developer.android.com/guide/topics/ui/drag-drop.html\" rel=\"noreferrer\">Drag and drop framework</a>?</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/NZUfB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NZUfB.png\" alt=\"Drag and drop an item to another RecyclerView\"></a></p>\n\n<p><code>RecyclerView</code> with blue items is in one fragment and <code>RecyclerView</code> with red items is in another fragment.</p>\n\n<p>I also tried using <a href=\"https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.html#onChildViewDetachedFromWindow(android.view.View)\" rel=\"noreferrer\">ItemTouchHelper</a> but it's <a href=\"https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html#onMove(android.support.v7.widget.RecyclerView,%20android.support.v7.widget.RecyclerView.ViewHolder,%20android.support.v7.widget.RecyclerView.ViewHolder)\" rel=\"noreferrer\">onMove()</a> method from <a href=\"https://developer.android.com/reference/android/support/v7/widget/helper/ItemTouchHelper.Callback.html\" rel=\"noreferrer\">ItemTouchHelper.Callback</a> is not called while moving with item outside\nfrom <code>RecyclerView</code>.</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>private class CustomItemTouchCallback extends Callback {\n\n    @Override\n    public int getMovementFlags(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder) {\n        return makeMovementFlags(UP|DOWN|START|END, 0);\n    }\n\n    @Override\n    public boolean onMove(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, RecyclerView.ViewHolder target) {\n        android.util.Log.d(TAG, \"Move item  from:\" + viewHolder.getAdapterPosition() + \" to: \" + target.getAdapterPosition());\n        return true;\n    }\n\n    @Override\n    public void onMoved(RecyclerView recyclerView, RecyclerView.ViewHolder viewHolder, int fromPos, RecyclerView.ViewHolder target, int toPos, int x, int y) {\n        android.util.Log.d(TAG, \"Moved item  from:\" + fromPos + \" to: \" + toPos + \" x: \" + x + \" y: \" + y);\n        super.onMoved(recyclerView, viewHolder, fromPos, target, toPos, x, y);\n    }\n\n    @Override\n    public void onSwiped(RecyclerView.ViewHolder viewHolder, int direction) {\n\n    }\n\n    @Override\n    public boolean isLongPressDragEnabled() {\n        return true;\n    }\n\n    @Override\n    public boolean isItemViewSwipeEnabled() {\n        return false;\n    }\n}\n</code></pre>\n\n<p>I also find this <a href=\"https://stackoverflow.com/questions/37583571/drag-and-drop-an-item-from-one-recyclerview-listview-into-another-recyclerview\">question</a>, but it doesn't solve my problem.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1696480479,"post_id":77234218,"comment_id":136158961,"body_markdown":"The error indicates you have a `module-info.java` file (i.e., your code is modular) but you&#39;re missing a `requires java.desktop;` directive. I&#39;m surprised it compiles in the first place (though maybe that has to do with ECJ vs javac). Anyway, try adding that aforementioned requires directive, or making your code non-modular by deleting the `module-info` file.","body":"The error indicates you have a <code>module-info.java</code> file (i.e., your code is modular) but you&#39;re missing a <code>requires java.desktop;</code> directive. I&#39;m surprised it compiles in the first place (though maybe that has to do with ECJ vs javac). Anyway, try adding that aforementioned requires directive, or making your code non-modular by deleting the <code>module-info</code> file."},{"owner":{"account_id":29601559,"reputation":1,"user_id":22686860,"display_name":"2deezy"},"score":0,"creation_date":1696531664,"post_id":77234218,"comment_id":136168794,"body_markdown":"This worked, thank you very much!","body":"This worked, thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696480120,"creation_date":1696480120,"answer_id":77234260,"question_id":77234218,"body_markdown":"Did you try to rebuild the project or clean it?\r\n\r\nYou can also follow below two links which had similar issue:\r\n\r\nhttps://stackoverflow.com/questions/58149911/java-awt-package-not-accessible-in-eclipse\r\n\r\nhttps://stackoverflow.com/questions/51503140/the-import-java-awt-cannot-be-resolved","title":"How do I fix this illegal access error I am getting when running my code in Eclipse?","body":"<p>Did you try to rebuild the project or clean it?</p>\n<p>You can also follow below two links which had similar issue:</p>\n<p><a href=\"https://stackoverflow.com/questions/58149911/java-awt-package-not-accessible-in-eclipse\">Java AWT package &quot;not accessible&quot; in eclipse</a></p>\n<p><a href=\"https://stackoverflow.com/questions/51503140/the-import-java-awt-cannot-be-resolved\">The import java.awt cannot be resolved</a></p>\n"}],"owner":{"account_id":29601559,"reputation":1,"user_id":22686860,"display_name":"2deezy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696480370,"creation_date":1696479372,"question_id":77234218,"body_markdown":"I&#39;ve just started coding in Java using Eclipse and this is the code that is causing the error:\r\n\r\n```\r\npackage notes;\r\n\r\nimport java.util.Random;\r\nimport java.awt.Rectangle;\r\n/**\r\n * \r\n */\r\npublic class practice {\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tRectangle box1 = new Rectangle(100, 100, 50, 50);\r\n                System.out.println(box1.width);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAfter running this, I get this error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: class notes.practice (in module notes) cannot access class java.awt.Rectangle (in module java.desktop) because module notes does not read module java.desktop\r\n\tat notes/notes.practice.main(practice.java:18)\r\n```\r\n\r\nI was running into a lot of errors before this such as &quot;error occurred during initialization of boot layer&quot; and &quot;#include errors detected. Update your include path.&quot; and fixed those by adding libraries to the build path. However, I can&#39;t seem to find the reason for this error. The libraries I added were JavaSE-11 and CDC-1.0/Foundation-1.0.","title":"How do I fix this illegal access error I am getting when running my code in Eclipse?","body":"<p>I've just started coding in Java using Eclipse and this is the code that is causing the error:</p>\n<pre><code>package notes;\n\nimport java.util.Random;\nimport java.awt.Rectangle;\n/**\n * \n */\npublic class practice {\n\n\n    public static void main(String[] args) {\n\n        Rectangle box1 = new Rectangle(100, 100, 50, 50);\n                System.out.println(box1.width);\n        \n    }\n}\n</code></pre>\n<p>After running this, I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class notes.practice (in module notes) cannot access class java.awt.Rectangle (in module java.desktop) because module notes does not read module java.desktop\n    at notes/notes.practice.main(practice.java:18)\n</code></pre>\n<p>I was running into a lot of errors before this such as &quot;error occurred during initialization of boot layer&quot; and &quot;#include errors detected. Update your include path.&quot; and fixed those by adding libraries to the build path. However, I can't seem to find the reason for this error. The libraries I added were JavaSE-11 and CDC-1.0/Foundation-1.0.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","checkmarx"],"comments":[{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1661845941,"post_id":72001344,"comment_id":129861870,"body_markdown":"@Wooodchuck, Have you solved this issue?. I&#39;m also getting same issue with Spring Data JPA.","body":"@Wooodchuck, Have you solved this issue?. I&#39;m also getting same issue with Spring Data JPA."},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":1,"creation_date":1661880072,"post_id":72001344,"comment_id":129875353,"body_markdown":"@RaviKumarB, I concur with Stanislav below that this is a false positive. So my resolution was to switch off the Checkmarx preset that flags these. I&#39;ve run into other of their presets, too, (e.g., Unsafe Object Binding) where Checkmarx flags issues in code that uses Spring which appear to be false positives.","body":"@RaviKumarB, I concur with Stanislav below that this is a false positive. So my resolution was to switch off the Checkmarx preset that flags these. I&#39;ve run into other of their presets, too, (e.g., Unsafe Object Binding) where Checkmarx flags issues in code that uses Spring which appear to be false positives."}],"answers":[{"comments":[{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":0,"creation_date":1650907305,"post_id":72001451,"comment_id":127229627,"body_markdown":"Agreed, I see no SQL Injection in the code sample.","body":"Agreed, I see no SQL Injection in the code sample."}],"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1650898163,"creation_date":1650898163,"answer_id":72001451,"question_id":72001344,"body_markdown":"This is a false positive, you need to contact the vendor and notify them about this case. When Hibernate generates SQL, it uses PreparedStatement. All the Entity fields that you change will be sent separately from the query - there won&#39;t be any concatenation.\r\n\r\nSpring Data doesn&#39;t change the way Hibernate works with entities. So either this is a false positive, or you&#39;re looking at the wrong line of code.","title":"SQL Injection Prevention in Spring Boot","body":"<p>This is a false positive, you need to contact the vendor and notify them about this case. When Hibernate generates SQL, it uses PreparedStatement. All the Entity fields that you change will be sent separately from the query - there won't be any concatenation.</p>\n<p>Spring Data doesn't change the way Hibernate works with entities. So either this is a false positive, or you're looking at the wrong line of code.</p>\n"},{"tags":[],"owner":{"account_id":21140030,"reputation":11,"user_id":15542640,"display_name":"J jenika"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696480248,"creation_date":1696480248,"answer_id":77234267,"question_id":72001344,"body_markdown":"JPA repository is against SQL injection you don&#39;t need to add intentionally. JPA features already avoid injection","title":"SQL Injection Prevention in Spring Boot","body":"<p>JPA repository is against SQL injection you don't need to add intentionally. JPA features already avoid injection</p>\n"}],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72001451,"answer_count":2,"score":2,"last_activity_date":1696480248,"creation_date":1650897675,"question_id":72001344,"body_markdown":"My Checkmarx report flags this method in my Spring Boot app as as a **High** severity **Second Order SQL Injection**:\r\n\r\n    public void updateEmployees(int storeId) {\r\n      List&lt;Employee&gt; employees = employeeRepo.findByStoreId(storeId);\r\n      employees.stream().forEach(e-&gt;{\r\n        e.setActive(&#39;Y&#39;);\r\n        employeeRepo.save(s);\r\n      });\r\n    }\r\n\r\nPer Checkmarx:\r\n\r\n&gt; ... The application constructs this SQL query by embedding an untrusted string into the query without proper sanitization. The concatenated string is submitted to the database, where it is parsed and executed accordingly.\r\n\r\nThe setActive(‘Y’) line appears to be the issue. \r\n\r\nThe guidance I find on data sanitization for Spring Data JPA usage suggests using a TypedQuery, created from an entityManager instance. Something like:\r\n\r\n    String jql = &quot;from Employee where storeId = :storeId&quot;;\r\n    TypedQuery&lt;Account&gt; q = em.createQuery(jql, Employee.class)\r\n      .setParameter(&quot;storeId&quot;, storeId);\r\n\r\nIn my app, however, the EntityManager is implicitly created by Spring Boot. \r\n\r\nSo in order to implement &quot;proper sanitization&quot; here, do I need to explicitly create the EntityManager instance (to access its createQuery method)? Or is there a more straightforward way to implement this that does not requiree explicit EntityManager instantiation?\r\n\r\n","title":"SQL Injection Prevention in Spring Boot","body":"<p>My Checkmarx report flags this method in my Spring Boot app as as a <strong>High</strong> severity <strong>Second Order SQL Injection</strong>:</p>\n<pre><code>public void updateEmployees(int storeId) {\n  List&lt;Employee&gt; employees = employeeRepo.findByStoreId(storeId);\n  employees.stream().forEach(e-&gt;{\n    e.setActive('Y');\n    employeeRepo.save(s);\n  });\n}\n</code></pre>\n<p>Per Checkmarx:</p>\n<blockquote>\n<p>... The application constructs this SQL query by embedding an untrusted string into the query without proper sanitization. The concatenated string is submitted to the database, where it is parsed and executed accordingly.</p>\n</blockquote>\n<p>The setActive(‘Y’) line appears to be the issue.</p>\n<p>The guidance I find on data sanitization for Spring Data JPA usage suggests using a TypedQuery, created from an entityManager instance. Something like:</p>\n<pre><code>String jql = &quot;from Employee where storeId = :storeId&quot;;\nTypedQuery&lt;Account&gt; q = em.createQuery(jql, Employee.class)\n  .setParameter(&quot;storeId&quot;, storeId);\n</code></pre>\n<p>In my app, however, the EntityManager is implicitly created by Spring Boot.</p>\n<p>So in order to implement &quot;proper sanitization&quot; here, do I need to explicitly create the EntityManager instance (to access its createQuery method)? Or is there a more straightforward way to implement this that does not requiree explicit EntityManager instantiation?</p>\n"},{"tags":["java","selenium-webdriver","cucumber","selenium-java"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1696480087,"post_id":77234219,"comment_id":136158939,"body_markdown":"Need more information. What type of SSO you are having?","body":"Need more information. What type of SSO you are having?"},{"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"score":0,"creation_date":1696481428,"post_id":77234219,"comment_id":136159020,"body_markdown":"AzureAD SSO for Windchill web application. We are automating the test cases for windchill. Recently our WIndchill is configured with SSO. So need to configure selenium with SSO for accessing Windchill","body":"AzureAD SSO for Windchill web application. We are automating the test cases for windchill. Recently our WIndchill is configured with SSO. So need to configure selenium with SSO for accessing Windchill"}],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696479376,"creation_date":1696479376,"question_id":77234219,"body_markdown":"How to handle SSO in Selenium Java with cucumber framework. Can anybody tells me what is the process of doing it?","title":"How to handle SSO in Selenium Java with cucumber framework","body":"<p>How to handle SSO in Selenium Java with cucumber framework. Can anybody tells me what is the process of doing it?</p>\n"},{"tags":["java","eval","scriptengine","java-17"],"answers":[{"comments":[{"owner":{"account_id":6795423,"reputation":383,"user_id":5230928,"accept_rate":83,"display_name":"JustMe"},"score":0,"creation_date":1647345594,"post_id":71481633,"comment_id":126342914,"body_markdown":"Thanks, but unfortunately due to project constrains, I am not allowed to use third party libraries.  If it is not in the standard jdk, i cannot use it.","body":"Thanks, but unfortunately due to project constrains, I am not allowed to use third party libraries.  If it is not in the standard jdk, i cannot use it."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":1,"creation_date":1647345841,"post_id":71481633,"comment_id":126343003,"body_markdown":"@JustMe can you execute expression on your database? if not check `Boann` answer in https://stackoverflow.com/questions/3422673/how-to-evaluate-a-math-expression-given-in-string-form","body":"@JustMe can you execute expression on your database? if not check <code>Boann</code> answer in <a href=\"https://stackoverflow.com/questions/3422673/how-to-evaluate-a-math-expression-given-in-string-form\" title=\"how to evaluate a math expression given in string form\">stackoverflow.com/questions/3422673/&hellip;</a>"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1683873676,"post_id":71481633,"comment_id":134436015,"body_markdown":"@JustMe silly but it happens. In that case use another scripting language (not sure which are still supported, if any) or write your own (not trivial, but in a place where you&#39;re not allowed to use anything written by others, such is life).","body":"@JustMe silly but it happens. In that case use another scripting language (not sure which are still supported, if any) or write your own (not trivial, but in a place where you&#39;re not allowed to use anything written by others, such is life)."},{"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"score":0,"creation_date":1689723688,"post_id":71481633,"comment_id":135253123,"body_markdown":"Can you offload it to a separate process? i.e. in a different docker container.  I am thinking of doing something similar myself in order to isolate the main container from the scripting cointainer.","body":"Can you offload it to a separate process? i.e. in a different docker container.  I am thinking of doing something similar myself in order to isolate the main container from the scripting cointainer."}],"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":4,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1680974371,"creation_date":1647344450,"answer_id":71481633,"question_id":71481562,"body_markdown":"The [Nashorn JavaScript Engine][1] has been removed from Java. [Deprecated in Java 11][2], [removed in Java 15][3].\r\n\r\n\r\nSo you need to use different script engine, as [GraalVM][4].\r\n\r\n&gt;switch to the GraalVM JavaScript engine. First, add the required dependencies to your project.\r\n\r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;22.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;  \r\n&gt;     &lt;dependency&gt;\r\n&gt;       &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n&gt;       &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n&gt;       &lt;version&gt;22.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n\r\n&gt; Then change the engine name to graal.js.\r\n\r\n&gt;     // Graal\r\n&gt;     ScriptEngine graalEngine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\r\n&gt;     graalEngine.eval(&quot;print(&#39;Hello World!&#39;);&quot;);\r\n\r\nYou can check which engines available using \r\n\r\n    new ScriptEngineManager().getEngineFactories();\r\n\r\nOr add different script engines to your project as velocity, jexl, groovy,... \r\n\r\n\r\n  [1]:https://golb.hplar.ch/2020/04/java-javascript-engine.html\r\n  [2]: https://openjdk.org/jeps/335\r\n  [3]: https://openjdk.org/jeps/372\r\n  [4]: https://en.wikipedia.org/wiki/GraalVM","title":"Use Javascript scripting engine in Java 17","body":"<p>The <a href=\"https://golb.hplar.ch/2020/04/java-javascript-engine.html\" rel=\"noreferrer\">Nashorn JavaScript Engine</a> has been removed from Java. <a href=\"https://openjdk.org/jeps/335\" rel=\"noreferrer\">Deprecated in Java 11</a>, <a href=\"https://openjdk.org/jeps/372\" rel=\"noreferrer\">removed in Java 15</a>.</p>\n<p>So you need to use different script engine, as <a href=\"https://en.wikipedia.org/wiki/GraalVM\" rel=\"noreferrer\">GraalVM</a>.</p>\n<blockquote>\n<p>switch to the GraalVM JavaScript engine. First, add the required dependencies to your project.</p>\n</blockquote>\n<blockquote>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n  &lt;artifactId&gt;js&lt;/artifactId&gt;\n  &lt;version&gt;22.0.0&lt;/version&gt;\n&lt;/dependency&gt;  \n&lt;dependency&gt;\n  &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n  &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n  &lt;version&gt;22.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n<blockquote>\n<p>Then change the engine name to graal.js.</p>\n</blockquote>\n<blockquote>\n<pre><code>// Graal\nScriptEngine graalEngine = new ScriptEngineManager().getEngineByName(&quot;graal.js&quot;);\ngraalEngine.eval(&quot;print('Hello World!');&quot;);\n</code></pre>\n</blockquote>\n<p>You can check which engines available using</p>\n<pre><code>new ScriptEngineManager().getEngineFactories();\n</code></pre>\n<p>Or add different script engines to your project as velocity, jexl, groovy,...</p>\n"},{"tags":[],"owner":{"account_id":3848680,"reputation":4287,"user_id":3189360,"display_name":"A. Sundararajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696475595,"creation_date":1696475595,"answer_id":77234050,"question_id":71481562,"body_markdown":"Nashorn script engine is maintained as a separate standalone project now\r\n\r\nhttps://github.com/openjdk/nashorn\r\n\r\nMaven artifact from this project is available as well:\r\n\r\nhttps://mvnrepository.com/artifact/org.openjdk.nashorn","title":"Use Javascript scripting engine in Java 17","body":"<p>Nashorn script engine is maintained as a separate standalone project now</p>\n<p><a href=\"https://github.com/openjdk/nashorn\" rel=\"nofollow noreferrer\">https://github.com/openjdk/nashorn</a></p>\n<p>Maven artifact from this project is available as well:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.openjdk.nashorn\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.openjdk.nashorn</a></p>\n"}],"owner":{"account_id":6795423,"reputation":383,"user_id":5230928,"accept_rate":83,"display_name":"JustMe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16726,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":2,"score":16,"last_activity_date":1696475595,"creation_date":1647344057,"question_id":71481562,"body_markdown":"I have to move a project from Java 8 to Java 17. \r\n\r\nI could solve most issues, but it contains a method, in which I use the ScriptEngineManager to evaluate a mathematical term.\r\n     \r\n     ScriptEngineManager mgr = new ScriptEngineManager();\r\n     ScriptEngine e = mgr.getEngineByName(&quot;JavaScript&quot;);\r\n     \r\n     String t = &quot;5*7&quot;;\r\n     if (isMathTerm(t)) {\r\n        System.out.println(e.eval(t).toString());\r\n     }\r\n\r\nIn Java 8 it works as required, but in Java 17 `e` is always null.\r\n\r\nAccording to google, the JavaScript Engine is no longer supported in Java 17.\r\n\r\nDue to project constraints, I am not allowed to use third party libraries.\r\n\r\nIs there a proper way to handle this in Java 17?","title":"Use Javascript scripting engine in Java 17","body":"<p>I have to move a project from Java 8 to Java 17.</p>\n<p>I could solve most issues, but it contains a method, in which I use the ScriptEngineManager to evaluate a mathematical term.</p>\n<pre><code> ScriptEngineManager mgr = new ScriptEngineManager();\n ScriptEngine e = mgr.getEngineByName(&quot;JavaScript&quot;);\n \n String t = &quot;5*7&quot;;\n if (isMathTerm(t)) {\n    System.out.println(e.eval(t).toString());\n }\n</code></pre>\n<p>In Java 8 it works as required, but in Java 17 <code>e</code> is always null.</p>\n<p>According to google, the JavaScript Engine is no longer supported in Java 17.</p>\n<p>Due to project constraints, I am not allowed to use third party libraries.</p>\n<p>Is there a proper way to handle this in Java 17?</p>\n"},{"tags":["java","c++","type-systems"],"answers":[{"comments":[{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1319534673,"post_id":7886761,"comment_id":9625950,"body_markdown":"Nope, still you who&#39;s wrong. There is something like that in Java as you have noticed, and it&#39;s also completely wrong that &quot;the third object is neither an IF1 nor an IF2, is just an IF3&quot;. And while you may *prefer* to have interfaces that exist only to merge two others, the Generics approach also works with third, party classes you cannot change.","body":"Nope, still you who&#39;s wrong. There is something like that in Java as you have noticed, and it&#39;s also completely wrong that &quot;the third object is neither an IF1 nor an IF2, is just an IF3&quot;. And while you may <i>prefer</i> to have interfaces that exist only to merge two others, the Generics approach also works with third, party classes you cannot change."}],"tags":[],"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1319533117,"creation_date":1319532174,"answer_id":7886761,"question_id":7886719,"body_markdown":"In java there&#39;s nothing like this, I would add a third element implementing the two interfaces and use it as a parameter. And this will makes perfect sense to me, because the third object is neither an IF1 nor an IF2, is just an IF3.\r\n\r\n\r\n    interface a {\r\n      int foo();\r\n    }\r\n    \r\n    \r\n    interface b {\r\n      long foo2();\r\n    }\r\n    \r\n    interface c extends a, b {\r\n      long daaa();\r\n    }\r\n    \r\n    public class TestInterface {\r\n    \r\n      void someMethod (c theThird) {\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\nthis makes sense to me.\r\n\r\n\r\nEDIT: \r\nWasn&#39;t aware of\r\n\r\n    public &lt;I extends a &amp; b&gt; void methodName(I i){\r\n    \r\n    }\r\n\r\nHowever I found it confusing. If an object needs to implement two different Interfaces I prefer to have a third one. IMHO it&#39;s cleaner.","title":"Merging interfaces, without merging","body":"<p>In java there's nothing like this, I would add a third element implementing the two interfaces and use it as a parameter. And this will makes perfect sense to me, because the third object is neither an IF1 nor an IF2, is just an IF3.</p>\n\n<pre><code>interface a {\n  int foo();\n}\n\n\ninterface b {\n  long foo2();\n}\n\ninterface c extends a, b {\n  long daaa();\n}\n\npublic class TestInterface {\n\n  void someMethod (c theThird) {\n    return;\n  }\n}\n</code></pre>\n\n<p>this makes sense to me.</p>\n\n<p>EDIT: \nWasn't aware of</p>\n\n<pre><code>public &lt;I extends a &amp; b&gt; void methodName(I i){\n\n}\n</code></pre>\n\n<p>However I found it confusing. If an object needs to implement two different Interfaces I prefer to have a third one. IMHO it's cleaner.</p>\n"},{"comments":[{"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"score":0,"creation_date":1319532673,"post_id":7886777,"comment_id":9625448,"body_markdown":"Just an FYI. For `private` / `protected` inheritance, this **may** still generate compiler error ! Additionally, it has little runtime overhead (of assigning pointers) for successful cases.","body":"Just an FYI. For <code>private</code> / <code>protected</code> inheritance, this <b>may</b> still generate compiler error ! Additionally, it has little runtime overhead (of assigning pointers) for successful cases."},{"owner":{"account_id":15175,"reputation":11992,"user_id":31782,"accept_rate":67,"display_name":"n0rd"},"score":1,"creation_date":1319532765,"post_id":7886777,"comment_id":9625471,"body_markdown":"I thought interface implies public inheritance. What kind of interface it is otherwise?","body":"I thought interface implies public inheritance. What kind of interface it is otherwise?"},{"owner":{"account_id":15175,"reputation":11992,"user_id":31782,"accept_rate":67,"display_name":"n0rd"},"score":2,"creation_date":1319532875,"post_id":7886777,"comment_id":9625492,"body_markdown":"If i1 and i2 are not used, they will be eliminated by optimizer","body":"If i1 and i2 are not used, they will be eliminated by optimizer"},{"owner":{"account_id":70736,"reputation":250857,"user_id":204847,"display_name":"Mike Seymour"},"score":1,"creation_date":1319546000,"post_id":7886777,"comment_id":9628742,"body_markdown":"@n0rd: A class can privately inherit an interface, and have its member functions pass `this` to functions that expect that interface.","body":"@n0rd: A class can privately inherit an interface, and have its member functions pass <code>this</code> to functions that expect that interface."}],"tags":[],"owner":{"account_id":15175,"reputation":11992,"user_id":31782,"accept_rate":67,"display_name":"n0rd"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319532268,"creation_date":1319532268,"answer_id":7886777,"question_id":7886719,"body_markdown":"in C++ you can do something like that:\r\n\r\n    template &lt;typename T&gt;\r\n    void f(T &amp;o)\r\n    {\r\n        IF1 &amp;i1 = o;\r\n        IF2 &amp;i2 = o;\r\n\r\n        //function body\r\n    }\r\n\r\nlines with interface pointer are needed to ensure that T implements both interfaces (it will cause compiler error if it is not).","title":"Merging interfaces, without merging","body":"<p>in C++ you can do something like that:</p>\n\n<pre><code>template &lt;typename T&gt;\nvoid f(T &amp;o)\n{\n    IF1 &amp;i1 = o;\n    IF2 &amp;i2 = o;\n\n    //function body\n}\n</code></pre>\n\n<p>lines with interface pointer are needed to ensure that T implements both interfaces (it will cause compiler error if it is not).</p>\n"},{"comments":[{"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"score":0,"creation_date":1319533060,"post_id":7886779,"comment_id":9625538,"body_markdown":"Nice answer. **Q**: Syntactically shouldn&#39;t it be `implements` rather than `extends` ? Or is it a general case where `I` can be an `interface` or a `class`.","body":"Nice answer. <b>Q</b>: Syntactically shouldn&#39;t it be <code>implements</code> rather than <code>extends</code> ? Or is it a general case where <code>I</code> can be an <code>interface</code> or a <code>class</code>."},{"owner":{"account_id":949148,"reputation":6284,"user_id":975700,"display_name":"Francisco Paulo"},"score":2,"creation_date":1319533685,"post_id":7886779,"comment_id":9625686,"body_markdown":"Thanks. You are correct, syntactically it _should_ be &#39;impements&#39;, however there is no support for that in Java generics (at least that I know of) you use the &#39;extends&#39; keyword whether you are referring to interfaces or classes.","body":"Thanks. You are correct, syntactically it <i>should</i> be &#39;impements&#39;, however there is no support for that in Java generics (at least that I know of) you use the &#39;extends&#39; keyword whether you are referring to interfaces or classes."},{"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"score":0,"creation_date":1319538326,"post_id":7886779,"comment_id":9626849,"body_markdown":"Good answer. The method used here is called Generics in Java (comparable to templates in C++).","body":"Good answer. The method used here is called Generics in Java (comparable to templates in C++)."},{"owner":{"account_id":447397,"reputation":608,"user_id":840997,"accept_rate":71,"display_name":"Bat0u89"},"score":0,"creation_date":1353355936,"post_id":7886779,"comment_id":18411512,"body_markdown":"Why can&#39;t I declare a Collection like that e.g. LinkedList&lt;? extends IF1 &amp; IF2&gt; ?","body":"Why can&#39;t I declare a Collection like that e.g. LinkedList&lt;? extends IF1 &amp; IF2&gt; ?"}],"tags":[],"owner":{"account_id":949148,"reputation":6284,"user_id":975700,"display_name":"Francisco Paulo"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1696475553,"creation_date":1319532286,"answer_id":7886779,"question_id":7886719,"body_markdown":"You can do this in Java:\r\n\r\n    public &lt;I extends IF1 &amp; IF2&gt; void methodName(I i){\r\n  \r\n    ....\r\n\t\r\n    }\r\n\r\nThis way, you force `I` to implement your two interfaces, otherwise it won&#39;t even compile.\r\n","title":"Merging interfaces, without merging","body":"<p>You can do this in Java:</p>\n<pre><code>public &lt;I extends IF1 &amp; IF2&gt; void methodName(I i){\n\n....\n\n}\n</code></pre>\n<p>This way, you force <code>I</code> to implement your two interfaces, otherwise it won't even compile.</p>\n"},{"comments":[{"owner":{"account_id":24226,"reputation":6608,"user_id":61505,"accept_rate":83,"display_name":"KindDragon"},"score":0,"creation_date":1319820686,"post_id":7886793,"comment_id":9690956,"body_markdown":"static_assert use two arguments http://msdn.microsoft.com/en-us/library/dd293588.aspx","body":"static_assert use two arguments <a href=\"http://msdn.microsoft.com/en-us/library/dd293588.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/dd293588.aspx</a>"}],"tags":[],"owner":{"account_id":242612,"reputation":68519,"user_id":514235,"accept_rate":80,"display_name":"iammilind"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1319855378,"creation_date":1319532365,"answer_id":7886793,"question_id":7886719,"body_markdown":"In C++, we can use `std::is_base_of&lt;IF1, Derived&gt;`. This has to be used with the actual derived and base type and will be easy to use with the help of `tempalte`s.\r\n\r\n    template&lt;typename T&gt;\r\n    void f (T obj)\r\n    {\r\n      static_assert(is_base_of&lt;IF1,T&gt;::value &amp;&amp; is_base_of&lt;IF2,T&gt;::value,\r\n      &quot;Error: Not implementing proper interfaces.&quot;);\r\n      ...\r\n    }\r\nIf `T` (a derived `class`) is not implementing `IF1` and `IF2`, then the assertion will fail at compile time.","title":"Merging interfaces, without merging","body":"<p>In C++, we can use <code>std::is_base_of&lt;IF1, Derived&gt;</code>. This has to be used with the actual derived and base type and will be easy to use with the help of <code>tempalte</code>s.</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid f (T obj)\n{\n  static_assert(is_base_of&lt;IF1,T&gt;::value &amp;&amp; is_base_of&lt;IF2,T&gt;::value,\n  \"Error: Not implementing proper interfaces.\");\n  ...\n}\n</code></pre>\n\n<p>If <code>T</code> (a derived <code>class</code>) is not implementing <code>IF1</code> and <code>IF2</code>, then the assertion will fail at compile time.</p>\n"},{"tags":[],"owner":{"account_id":15130,"reputation":16848,"user_id":31640,"accept_rate":83,"display_name":"Beno&#238;t"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1319533085,"creation_date":1319533085,"answer_id":7886923,"question_id":7886719,"body_markdown":"Using boost libraries ([type_traits][1], [enable_if][2], [and_][3]), you can do something quite elaborate.\r\n\r\n    template &lt;typename T&gt;\r\n    typename boost::enable_if&lt;           // Check whether\r\n        boost::mpl::and_&lt;                // Both of the following conditions are met\r\n            boost::is_base_of&lt;IF1, T&gt;,   // T derives from IF1\r\n            boost::is_base_of&lt;IF2, T&gt;    // T derives from IF2\r\n            &gt;\r\n        &gt;\r\n    &gt;::type\r\n    function(T&amp; t)\r\n    {\r\n      // ...\r\n    }\r\n\r\nThere may be a few quirks here and there in my code, but you get the idea.\r\n\r\n\r\n  [1]: http://www.boost.org/doc/libs/1_47_0/libs/type_traits/doc/html/index.html\r\n  [2]: http://www.boost.org/doc/libs/1_47_0/libs/utility/enable_if.html\r\n  [3]: http://www.boost.org/doc/libs/1_47_0/libs/mpl/doc/refmanual/and.html","title":"Merging interfaces, without merging","body":"<p>Using boost libraries (<a href=\"http://www.boost.org/doc/libs/1_47_0/libs/type_traits/doc/html/index.html\" rel=\"nofollow\">type_traits</a>, <a href=\"http://www.boost.org/doc/libs/1_47_0/libs/utility/enable_if.html\" rel=\"nofollow\">enable_if</a>, <a href=\"http://www.boost.org/doc/libs/1_47_0/libs/mpl/doc/refmanual/and.html\" rel=\"nofollow\">and_</a>), you can do something quite elaborate.</p>\n\n<pre><code>template &lt;typename T&gt;\ntypename boost::enable_if&lt;           // Check whether\n    boost::mpl::and_&lt;                // Both of the following conditions are met\n        boost::is_base_of&lt;IF1, T&gt;,   // T derives from IF1\n        boost::is_base_of&lt;IF2, T&gt;    // T derives from IF2\n        &gt;\n    &gt;\n&gt;::type\nfunction(T&amp; t)\n{\n  // ...\n}\n</code></pre>\n\n<p>There may be a few quirks here and there in my code, but you get the idea.</p>\n"},{"comments":[{"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"score":2,"creation_date":1319538447,"post_id":7887391,"comment_id":9626882,"body_markdown":"Although this could work, it does not make sense to change the objects passed to that function (and you don&#39;t always have the option to change them). Also imagine how complicated this would become several combinations per used object. Using generics (such as the answer by Francisco Paulo) you can specify the type of object you want in the place where you want it, and only there.","body":"Although this could work, it does not make sense to change the objects passed to that function (and you don&#39;t always have the option to change them). Also imagine how complicated this would become several combinations per used object. Using generics (such as the answer by Francisco Paulo) you can specify the type of object you want in the place where you want it, and only there."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1319540583,"post_id":7887391,"comment_id":9627422,"body_markdown":"@Thirler: Either the object already implements both interfaces or you have to change things. Are you absolutely certain that this is the only function that will ever need to be passed arguments that combine those two interfaces? To me it seems very likely that you&#39;ll end up formulating the same set of constraints in multiple places, forsaking the opportunity of expressing them in a single place (and give such a combination a name!!). Otherwise, why use interfaces in the first place? Either your argument has methods with the correct signature or it doesn&#39;t.","body":"@Thirler: Either the object already implements both interfaces or you have to change things. Are you absolutely certain that this is the only function that will ever need to be passed arguments that combine those two interfaces? To me it seems very likely that you&#39;ll end up formulating the same set of constraints in multiple places, forsaking the opportunity of expressing them in a single place (and give such a combination a name!!). Otherwise, why use interfaces in the first place? Either your argument has methods with the correct signature or it doesn&#39;t."},{"owner":{"account_id":46475,"reputation":20349,"user_id":137369,"accept_rate":78,"display_name":"Thirler"},"score":0,"creation_date":1319542084,"post_id":7887391,"comment_id":9627781,"body_markdown":"Of course the class used needs to implement both interfaces. It just does not need to specify all possibly combinations of those interfaces that can be required together by other methods. I agree that you will be specifying the generic constraints for each method, but in very readable and clear way. And you are forgetting that often you want functions that accept objects that you have not written yourself (and thus can not change)","body":"Of course the class used needs to implement both interfaces. It just does not need to specify all possibly combinations of those interfaces that can be required together by other methods. I agree that you will be specifying the generic constraints for each method, but in very readable and clear way. And you are forgetting that often you want functions that accept objects that you have not written yourself (and thus can not change)"},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1319546145,"post_id":7887391,"comment_id":9628789,"body_markdown":"So there is a trade-off: either you increase generality by repeating your constraints over and over, which amounts to coding your resulting interface multiple times, or you make your constraints explicit, write them in a single place, give them a name and accept to be able to handle only objects that explicitly implement the combined interface. Claiming that one approach is always better appears to me as a bit unsubstantiated.","body":"So there is a trade-off: either you increase generality by repeating your constraints over and over, which amounts to coding your resulting interface multiple times, or you make your constraints explicit, write them in a single place, give them a name and accept to be able to handle only objects that explicitly implement the combined interface. Claiming that one approach is always better appears to me as a bit unsubstantiated."},{"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"score":0,"creation_date":1319546291,"post_id":7887391,"comment_id":9628838,"body_markdown":"Note that what I wrote applies specifically to Java: in C++ you&#39;d just write a template and rely on statically checked duck typing, but then you probably wouldn&#39;t have the original interfaces in the first place.","body":"Note that what I wrote applies specifically to Java: in C++ you&#39;d just write a template and rely on statically checked duck typing, but then you probably wouldn&#39;t have the original interfaces in the first place."}],"tags":[],"owner":{"account_id":446124,"reputation":17924,"user_id":838975,"accept_rate":100,"display_name":"Nicola Musatti"},"comment_count":5,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1319535763,"creation_date":1319535763,"answer_id":7887391,"question_id":7886719,"body_markdown":"What&#39;s wrong with:\r\n\r\n    interface IF1IF2 extends IF1, IF2 {}\r\n    \r\n    void f(IF1IF2 o) {\r\n    }\r\n\r\nWhy overcomplicate things?\r\n","title":"Merging interfaces, without merging","body":"<p>What's wrong with:</p>\n\n<pre><code>interface IF1IF2 extends IF1, IF2 {}\n\nvoid f(IF1IF2 o) {\n}\n</code></pre>\n\n<p>Why overcomplicate things?</p>\n"}],"owner":{"account_id":390248,"reputation":9974,"user_id":750186,"accept_rate":94,"display_name":"Martin Kristiansen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2599,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":7886779,"answer_count":6,"score":16,"last_activity_date":1696475553,"creation_date":1319531911,"question_id":7886719,"body_markdown":"I was thinking, does C++ or Java have a way to do something like this\r\n\r\n    Interface IF1{\r\n        ....\r\n    };\r\n\r\n    Interface IF2{\r\n        ....\r\n    };\r\n\r\n\r\n    function f(Object o : Implements IF1, IF2){\r\n        ...\r\n    }\r\n\r\n\r\nmeaning a typesystem that allows you to require implementation of interfaces.\r\n","title":"Merging interfaces, without merging","body":"<p>I was thinking, does C++ or Java have a way to do something like this</p>\n\n<pre><code>Interface IF1{\n    ....\n};\n\nInterface IF2{\n    ....\n};\n\n\nfunction f(Object o : Implements IF1, IF2){\n    ...\n}\n</code></pre>\n\n<p>meaning a typesystem that allows you to require implementation of interfaces.</p>\n"},{"tags":["java","jco"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1411471426,"post_id":25993401,"comment_id":40705921,"body_markdown":"Could you please add the full stack trace, not a cut-off version?","body":"Could you please add the full stack trace, not a cut-off version?"},{"owner":{"account_id":2753868,"reputation":51,"user_id":2372543,"display_name":"user2372543"},"score":0,"creation_date":1411482252,"post_id":25993401,"comment_id":40712992,"body_markdown":"i haved add the complete error message from my log","body":"i haved add the complete error message from my log"}],"answers":[{"comments":[{"owner":{"account_id":2753868,"reputation":51,"user_id":2372543,"display_name":"user2372543"},"score":0,"creation_date":1411482916,"post_id":25994018,"comment_id":40713480,"body_markdown":"No, but now i have add a system variable &quot;CLASSPATH&quot; with the right path and nothing changed. How can i correctly set is as a JVM parameter? And in eclipse i had add under &quot;build path&quot; -&gt; &quot;Add External class folder&quot; the right folder with the .dll and the .jar file and the .jar file is add as an external jar file.","body":"No, but now i have add a system variable &quot;CLASSPATH&quot; with the right path and nothing changed. How can i correctly set is as a JVM parameter? And in eclipse i had add under &quot;build path&quot; -&gt; &quot;Add External class folder&quot; the right folder with the .dll and the .jar file and the .jar file is add as an external jar file."},{"owner":{"account_id":4789,"reputation":16106,"user_id":7381,"display_name":"Lanzelot"},"score":0,"creation_date":1587116594,"post_id":25994018,"comment_id":108387436,"body_markdown":"Take a look at the error stacktrace: the class &quot;com.sap.conn.jco.JCoDestinationManager&quot; is found and loaded without a problem! And this class is also contained in the sapjco3.jar! The error happens only in the next step, when the class &quot;JCoDestinationManager&quot; tries to load the class &quot;JCo&quot;, which is also in sapjco3.jar.  This rather looks like the jar file is corrupt?! How else could the JVM find one class, but not the other?!","body":"Take a look at the error stacktrace: the class &quot;com.sap.conn.jco.JCoDestinationManager&quot; is found and loaded without a problem! And this class is also contained in the sapjco3.jar! The error happens only in the next step, when the class &quot;JCoDestinationManager&quot; tries to load the class &quot;JCo&quot;, which is also in sapjco3.jar.  This rather looks like the jar file is corrupt?! How else could the JVM find one class, but not the other?!"}],"tags":[],"owner":{"account_id":174031,"reputation":7580,"user_id":403132,"display_name":"Kurt Du Bois"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411471967,"creation_date":1411471967,"answer_id":25994018,"question_id":25993401,"body_markdown":"The jar-file containing the `com.sap.conn.jco.JCo` is not on the classpath. Are you sure that you have correctly set it as a JVM parameter? Adding it to the PATH-variable is not going to work since your JVM does not read that variable.","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>The jar-file containing the <code>com.sap.conn.jco.JCo</code> is not on the classpath. Are you sure that you have correctly set it as a JVM parameter? Adding it to the PATH-variable is not going to work since your JVM does not read that variable.</p>\n"},{"tags":[],"owner":{"account_id":20725,"reputation":4287,"user_id":49804,"display_name":"PATRY Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411633016,"creation_date":1411633016,"answer_id":26033708,"question_id":25993401,"body_markdown":"As it is said, the JCo jar file is not accessible during execution.   \r\nI think that you you can put the jar (and dll) under the webinf/lib directory of your webapp, or put them in the common lib directory of Tomcat if several app can use the lib.","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>As it is said, the JCo jar file is not accessible during execution.<br>\nI think that you you can put the jar (and dll) under the webinf/lib directory of your webapp, or put them in the common lib directory of Tomcat if several app can use the lib.</p>\n"},{"comments":[{"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"score":2,"creation_date":1525936862,"post_id":50102238,"comment_id":87552955,"body_markdown":"Quote from the JCo SDK installation instructions (`installation.html`):\n\n_Note:_ Do not copy the `sapjco3.dll` neither into the `{windows-dir}\\system32` nor into the `{windows-dir}\\SysWOW64` directory. This will break the operability of other JCo versions that are already installed on the same system. Furthermore you would risk that the current installation also would not work anymore, if the `sapjco3.dll` gets replaced in the respective Windows system directory in the future.","body":"Quote from the JCo SDK installation instructions (<code>installation.html</code>):  <i>Note:</i> Do not copy the <code>sapjco3.dll</code> neither into the <code>{windows-dir}\\system32</code> nor into the <code>{windows-dir}\\SysWOW64</code> directory. This will break the operability of other JCo versions that are already installed on the same system. Furthermore you would risk that the current installation also would not work anymore, if the <code>sapjco3.dll</code> gets replaced in the respective Windows system directory in the future."},{"owner":{"account_id":6228011,"reputation":1121,"user_id":4845660,"display_name":"Loic Mouchard"},"score":0,"creation_date":1526033718,"post_id":50102238,"comment_id":87596129,"body_markdown":"Thanks @Trixx, indeed it was different for SAP JCO 2.","body":"Thanks @Trixx, indeed it was different for SAP JCO 2."},{"owner":{"account_id":9910001,"reputation":1796,"user_id":7337102,"display_name":"Trixx"},"score":0,"creation_date":1526042021,"post_id":50102238,"comment_id":87601078,"body_markdown":"No, it was not. I have also got the installation instructions for JCo 2.1 here. The only exception was that the `librfc32.dll` from the classic RFC SDK needed to be installed in the Windows directory. But for the `sapjcorfc.dll` this was also not allowed.","body":"No, it was not. I have also got the installation instructions for JCo 2.1 here. The only exception was that the <code>librfc32.dll</code> from the classic RFC SDK needed to be installed in the Windows directory. But for the <code>sapjcorfc.dll</code> this was also not allowed."}],"tags":[],"owner":{"account_id":6228011,"reputation":1121,"user_id":4845660,"display_name":"Loic Mouchard"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526033633,"creation_date":1525097272,"answer_id":50102238,"question_id":25993401,"body_markdown":"For JCO 2, we paste the JCO dll file under c:\\Windows\\System32 ","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>For JCO 2, we paste the JCO dll file under c:\\Windows\\System32 </p>\n"}],"owner":{"account_id":2753868,"reputation":51,"user_id":2372543,"display_name":"user2372543"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28146,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1696475501,"creation_date":1411470134,"question_id":25993401,"body_markdown":"I want to use SAP JCo to select user data for my Java program.\r\n\r\nBut all I got is: \r\n&gt; ```\r\n&gt; Sep 23, 2014 1:34:28 PM org.apache.catalina.core.StandardWrapperValve invoke\r\n&gt; SEVERE: Servlet.service() for servlet [StepByStepClient] in context with path [/Formularmanager-test]\r\n&gt; threw exception [Servlet execution threw an exception] with root cause\r\n&gt; java.lang.NoClassDefFoundError: Could not initialize class com.sap.conn.jco.JCo\r\n&gt; \tat com.sap.conn.jco.JCoDestinationManager.getDestination(JCoDestinationManager.java:61)\r\n&gt; \tat com.pferd.itdienste.sap.StepByStepClient.step1Connect(StepByStepClient.java:125)\r\n&gt; \tat com.pferd.itdienste.sap.StepByStepClient.processRequest(StepByStepClient.java:356)\r\n&gt; \tat com.pferd.itdienste.sap.StepByStepClient.doGet(StepByStepClient.java:70)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n&gt; \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n&gt; \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n&gt; \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n&gt; \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n&gt; \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n&gt; \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n&gt; \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\r\n&gt; \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n&gt; \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n&gt; \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n&gt; \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\r\n&gt; \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\r\n&gt; \tat org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n&gt; \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n&gt; \tat java.lang.Thread.run(Unknown Source)\r\n&gt; ```\r\n\r\nFor a test I use the example script `StepByStepClient` and I have modified this only, so I can use it as a Web servlet.\r\n\r\nAll files from SAP JCo are on `C:\\sapjco30P_11-10005326` and I have this folder registered in the system pfad variable.\r\n\r\nAt this moment I don&#39;t know where my error is! So I need help, please!\r\n\r\nSAP Java Connector\r\n- Java Runtime\r\n- Operating System: Windows Server 2012 6.2 for amd64\r\n- Java VM: 1.7.0_60 Oracle Corporation\r\n- Default charset: windows-1252\r\n\r\nVersions\r\n\r\n- JCo API: 3.0.11 (2014-04-15)  \r\n- JCo middleware: JavaRfc 2.2.12\r\n- JCo library: 720.612\r\n\r\n\r\nLibrary Paths\r\n\r\n- Path to JCo archive: `C:\\sapjco30P_11-10005326\\sapjco3.jar `\r\n- Path to JCo library: `C:\\sapjco30P_11-10005326\\sapjco3.dll`\r\n\r\nEclipse Juno\r\nXAMPP Tomcat 7\r\n\r\n    package com.pferd.itdienste.sap;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import com.sap.conn.jco.AbapException;\r\n    import com.sap.conn.jco.JCoContext;\r\n    import com.sap.conn.jco.JCoDestination;\r\n    import com.sap.conn.jco.JCoDestinationManager;\r\n    import com.sap.conn.jco.JCoException;\r\n    import com.sap.conn.jco.JCoField;\r\n    import com.sap.conn.jco.JCoFunction;\r\n    import com.sap.conn.jco.JCoFunctionTemplate;\r\n    import com.sap.conn.jco.JCoStructure;\r\n    import com.sap.conn.jco.JCoTable;\r\n    import com.sap.conn.jco.ext.DestinationDataProvider;\r\n    \r\n    @WebServlet(name = &quot;StepByStepClient&quot;, urlPatterns = {&quot;/StepByStepClient&quot;})\r\n    public class StepByStepClient extends HttpServlet\r\n    {\r\n        static String ABAP_AS = &quot;ABAP_AS_WITHOUT_POOL&quot;;\r\n        static String ABAP_AS_POOLED = &quot;ABAP_AS_WITH_POOL&quot;;\r\n        static String ABAP_MS = &quot;ABAP_MS_WITHOUT_POOL&quot;;    \r\n        static\r\n        {\r\n            Properties connectProperties = new Properties();\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;HOST&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;01&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\r\n            createDataFile(ABAP_AS, &quot;jcoDestination&quot;, connectProperties);\r\n    \r\n            connectProperties.setProperty(DestinationDataProvider.JCO_POOL_CAPACITY, &quot;3&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT,    &quot;10&quot;);\r\n            createDataFile(ABAP_AS_POOLED, &quot;jcoDestination&quot;, connectProperties);\r\n    \r\n            connectProperties.clear();\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_MSHOST, &quot;HOST&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_R3NAME,  &quot;SID&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_GROUP, &quot;GROUP&quot;);\r\n            connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\r\n            createDataFile(ABAP_MS, &quot;jcoDestination&quot;, connectProperties);\r\n        }\r\n       \r\n        /** \r\n         * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws ServletException if a servlet-specific error occurs\r\n         * @throws IOException if an I/O error occurs\r\n         */\r\n        @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            try {\r\n    \t\t\tprocessRequest(request, response);\r\n    \t\t} catch (JCoException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }\r\n    \r\n        /** \r\n         * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\r\n         * @param request servlet request\r\n         * @param response servlet response\r\n         * @throws ServletException if a servlet-specific error occurs\r\n         * @throws IOException if an I/O error occurs\r\n         */\r\n        @Override\r\n        protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n                throws ServletException, IOException {\r\n            try {\r\n    \t\t\tprocessRequest(request, response);\r\n    \t\t} catch (JCoException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n        }\r\n    \r\n        /** \r\n         * Returns a short description of the servlet.\r\n         * @return a String containing servlet description\r\n         */\r\n        @Override\r\n        public String getServletInfo() {\r\n            return &quot;Short description&quot;;\r\n        }// &lt;/editor-fold&gt;    \r\n        \r\n        static void createDataFile(String name, String suffix, Properties properties)\r\n        {\r\n            File cfg = new File(name+&quot;.&quot;+suffix);\r\n            if(!cfg.exists())\r\n            {\r\n                try\r\n                {\r\n                    FileOutputStream fos = new FileOutputStream(cfg, false);\r\n                    properties.store(fos, &quot;for tests only !&quot;);\r\n                    fos.close();\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    throw new RuntimeException(&quot;Unable to create the destination file &quot; + cfg.getName(), e);\r\n                }\r\n            }\r\n        }\r\n        \r\n        \r\n        public static void step1Connect() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS);\r\n            System.out.println(&quot;Attributes:&quot;);\r\n            System.out.println(destination.getAttributes());\r\n            System.out.println();\r\n    \r\n            destination = JCoDestinationManager.getDestination(ABAP_MS);\r\n            System.out.println(&quot;Attributes:&quot;);\r\n            System.out.println(destination.getAttributes());\r\n            System.out.println();\r\n        }\r\n        \r\n        public static void step2ConnectUsingPool() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            destination.ping();\r\n            System.out.println(&quot;Attributes:&quot;);\r\n            System.out.println(destination.getAttributes());\r\n            System.out.println();\r\n        }\r\n        \r\n        public static void step3SimpleCall() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            JCoFunction function = destination.getRepository().getFunction(&quot;STFC_CONNECTION&quot;);\r\n            if(function == null)\r\n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\r\n    \r\n            function.getImportParameterList().setValue(&quot;REQUTEXT&quot;, &quot;Hello SAP&quot;);\r\n            \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch(AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n            \r\n            System.out.println(&quot;STFC_CONNECTION finished:&quot;);\r\n            System.out.println(&quot; Echo: &quot; + function.getExportParameterList().getString(&quot;ECHOTEXT&quot;));\r\n            System.out.println(&quot; Response: &quot; + function.getExportParameterList().getString(&quot;RESPTEXT&quot;));\r\n            System.out.println();\r\n        }\r\n        \r\n        public static void step3WorkWithStructure() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            JCoFunction function = destination.getRepository().getFunction(&quot;RFC_SYSTEM_INFO&quot;);\r\n            if(function == null)\r\n                throw new RuntimeException(&quot;RFC_SYSTEM_INFO not found in SAP.&quot;);\r\n    \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch(AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n            \r\n            JCoStructure exportStructure = function.getExportParameterList().getStructure(&quot;RFCSI_EXPORT&quot;);\r\n            System.out.println(&quot;System info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\r\n            for(int i = 0; i &lt; exportStructure.getMetaData().getFieldCount(); i++) \r\n            {\r\n                System.out.println(exportStructure.getMetaData().getName(i) + &quot;:\\t&quot; + exportStructure.getString(i));\r\n            }\r\n            System.out.println();\r\n            \r\n            //JCo still supports the JCoFields, but direct access via getXX is more efficient as field iterator\r\n            System.out.println(&quot;The same using field iterator: \\nSystem info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\r\n            for(JCoField field : exportStructure)\r\n            {\r\n                System.out.println(field.getName() + &quot;:\\t&quot; + field.getString());\r\n            }\r\n            System.out.println();\r\n        }\r\n    \r\n        public static void step4WorkWithTable() throws JCoException\r\n        {\r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\r\n            JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\r\n            if(function == null)\r\n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\r\n    \r\n            try\r\n            {\r\n                function.execute(destination);\r\n            }\r\n            catch(AbapException e)\r\n            {\r\n                System.out.println(e.toString());\r\n                return;\r\n            }\r\n            \r\n            JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \r\n            {\r\n               throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n            }\r\n            \r\n            JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\r\n            for (int i = 0; i &lt; codes.getNumRows(); i++) \r\n            {\r\n                codes.setRow(i);\r\n                System.out.println(codes.getString(&quot;COMP_CODE&quot;) + &#39;\\t&#39; + codes.getString(&quot;COMP_NAME&quot;));\r\n            }\r\n    \r\n            codes.firstRow();\r\n            for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \r\n            {\r\n                function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\r\n                if (function == null) \r\n                    throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\r\n    \r\n                function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\r\n                function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\r\n                \r\n                try\r\n                {\r\n                    function.execute(destination);\r\n                }\r\n                catch (AbapException e)\r\n                {\r\n                    System.out.println(e.toString());\r\n                    return;\r\n                }\r\n    \r\n                returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\r\n                if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\r\n                       returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\r\n                       returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \r\n                {\r\n                    throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\r\n                }\r\n                \r\n                JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\r\n                \r\n                System.out.println(detail.getString(&quot;COMP_CODE&quot;) + &#39;\\t&#39; +\r\n                                   detail.getString(&quot;COUNTRY&quot;) + &#39;\\t&#39; +\r\n                                   detail.getString(&quot;CITY&quot;));\r\n            }//for\r\n        }\r\n        \r\n        /**\r\n         * this example shows the &quot;simple&quot; stateful call sequence. Since all calls belonging to one\r\n         * session are executed within the same thread, the application does not need\r\n         * to take care about the SessionReferenceProvider. MultithreadedExample.java \r\n         * illustrates the more complex scenario, where the calls belonging to one session are \r\n         * executed from different threads.\r\n         * \r\n         * Note: this example uses Z_GET_COUNTER and Z_INCREMENT_COUNTER. The most ABAP systems\r\n         * contain function modules GET_COUNTER and INCREMENT_COUNTER, that are not remote enabled.\r\n         * Copy these functions to Z_GET_COUNTER and Z_INCREMENT_COUNTER (or implement as wrapper)\r\n         * and mark they remote enabled \r\n         * @throws JCoException\r\n         */\r\n        public static void step4SimpleStatefulCalls() throws JCoException\r\n        {\r\n            final JCoFunctionTemplate incrementCounterTemplate, getCounterTemplate;\r\n    \r\n            JCoDestination destination = JCoDestinationManager.getDestination(ABAP_MS);\r\n            incrementCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_INCREMENT_COUNTER&quot;);\r\n            getCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_GET_COUNTER&quot;);\r\n            if(incrementCounterTemplate == null || getCounterTemplate == null)\r\n                throw new RuntimeException(&quot;This example cannot run without Z_INCREMENT_COUNTER and Z_GET_COUNTER functions&quot;);\r\n            \r\n            final int threadCount = 5;\r\n            final int loops = 5;\r\n            final CountDownLatch startSignal = new CountDownLatch(threadCount);\r\n            final CountDownLatch doneSignal = new CountDownLatch(threadCount);\r\n            \r\n            Runnable worker = new Runnable()\r\n            {\r\n                public void run()\r\n                {\r\n                    startSignal.countDown();\r\n                    try\r\n                    {\r\n                        //wait for other threads\r\n                        startSignal.await();\r\n    \r\n                        JCoDestination dest = JCoDestinationManager.getDestination(ABAP_MS);\r\n                        JCoContext.begin(dest);\r\n                        try\r\n                        {\r\n                            for(int i=0; i &lt; loops; i++)\r\n                            {\r\n                                JCoFunction incrementCounter = incrementCounterTemplate.getFunction();\r\n                                incrementCounter.execute(dest);\r\n                            }\r\n                            JCoFunction getCounter = getCounterTemplate.getFunction();\r\n                            getCounter.execute(dest);\r\n                            \r\n                            int remoteCounter = getCounter.getExportParameterList().getInt(&quot;GET_VALUE&quot;);\r\n                            System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + \r\n                                    &quot; finished. Remote counter has &quot; + (loops==remoteCounter?&quot;correct&quot;:&quot;wrong&quot;) + \r\n                                    &quot; value [&quot; + remoteCounter + &quot;]&quot;);\r\n                        }\r\n                        finally\r\n                        {\r\n                            JCoContext.end(dest);                    \r\n                        }\r\n                    }\r\n                    catch(Exception e)\r\n                    {\r\n                        System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + &quot; ends with exception &quot; + e.toString());\r\n                    }\r\n                    \r\n                    doneSignal.countDown();\r\n                }\r\n            };\r\n            \r\n            for(int i = 0; i &lt; threadCount; i++)\r\n            {\r\n                new Thread(worker).start();\r\n            }\r\n            \r\n            try\r\n            {\r\n                doneSignal.await();\r\n            }\r\n            catch(Exception e)\r\n            {\r\n            }\r\n            \r\n        }\r\n        \r\n        protected void processRequest(HttpServletRequest request, HttpServletResponse response) throws JCoException\r\n        {\r\n            step1Connect();\r\n            step2ConnectUsingPool();\r\n            step3SimpleCall();\r\n            step4WorkWithTable();\r\n            step4SimpleStatefulCalls();\r\n        }\r\n    }\r\n\r\n\r\n","title":"SAP JCo JAVA Could not initialize class com.sap.conn.jco.JCo","body":"<p>I want to use SAP JCo to select user data for my Java program.</p>\n<p>But all I got is:</p>\n<blockquote>\n<pre><code>Sep 23, 2014 1:34:28 PM org.apache.catalina.core.StandardWrapperValve invoke\nSEVERE: Servlet.service() for servlet [StepByStepClient] in context with path [/Formularmanager-test]\nthrew exception [Servlet execution threw an exception] with root cause\njava.lang.NoClassDefFoundError: Could not initialize class com.sap.conn.jco.JCo\n  at com.sap.conn.jco.JCoDestinationManager.getDestination(JCoDestinationManager.java:61)\n  at com.pferd.itdienste.sap.StepByStepClient.step1Connect(StepByStepClient.java:125)\n  at com.pferd.itdienste.sap.StepByStepClient.processRequest(StepByStepClient.java:356)\n  at com.pferd.itdienste.sap.StepByStepClient.doGet(StepByStepClient.java:70)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\n  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n  at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n  at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n  at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n  at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n  at java.lang.Thread.run(Unknown Source)\n</code></pre>\n</blockquote>\n<p>For a test I use the example script <code>StepByStepClient</code> and I have modified this only, so I can use it as a Web servlet.</p>\n<p>All files from SAP JCo are on <code>C:\\sapjco30P_11-10005326</code> and I have this folder registered in the system pfad variable.</p>\n<p>At this moment I don't know where my error is! So I need help, please!</p>\n<p>SAP Java Connector</p>\n<ul>\n<li>Java Runtime</li>\n<li>Operating System: Windows Server 2012 6.2 for amd64</li>\n<li>Java VM: 1.7.0_60 Oracle Corporation</li>\n<li>Default charset: windows-1252</li>\n</ul>\n<p>Versions</p>\n<ul>\n<li>JCo API: 3.0.11 (2014-04-15)</li>\n<li>JCo middleware: JavaRfc 2.2.12</li>\n<li>JCo library: 720.612</li>\n</ul>\n<p>Library Paths</p>\n<ul>\n<li>Path to JCo archive: <code>C:\\sapjco30P_11-10005326\\sapjco3.jar </code></li>\n<li>Path to JCo library: <code>C:\\sapjco30P_11-10005326\\sapjco3.dll</code></li>\n</ul>\n<p>Eclipse Juno\nXAMPP Tomcat 7</p>\n<pre><code>package com.pferd.itdienste.sap;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.Properties;\nimport java.util.concurrent.CountDownLatch;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport com.sap.conn.jco.AbapException;\nimport com.sap.conn.jco.JCoContext;\nimport com.sap.conn.jco.JCoDestination;\nimport com.sap.conn.jco.JCoDestinationManager;\nimport com.sap.conn.jco.JCoException;\nimport com.sap.conn.jco.JCoField;\nimport com.sap.conn.jco.JCoFunction;\nimport com.sap.conn.jco.JCoFunctionTemplate;\nimport com.sap.conn.jco.JCoStructure;\nimport com.sap.conn.jco.JCoTable;\nimport com.sap.conn.jco.ext.DestinationDataProvider;\n\n@WebServlet(name = &quot;StepByStepClient&quot;, urlPatterns = {&quot;/StepByStepClient&quot;})\npublic class StepByStepClient extends HttpServlet\n{\n    static String ABAP_AS = &quot;ABAP_AS_WITHOUT_POOL&quot;;\n    static String ABAP_AS_POOLED = &quot;ABAP_AS_WITH_POOL&quot;;\n    static String ABAP_MS = &quot;ABAP_MS_WITHOUT_POOL&quot;;    \n    static\n    {\n        Properties connectProperties = new Properties();\n        connectProperties.setProperty(DestinationDataProvider.JCO_ASHOST, &quot;HOST&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_SYSNR,  &quot;01&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\n        createDataFile(ABAP_AS, &quot;jcoDestination&quot;, connectProperties);\n\n        connectProperties.setProperty(DestinationDataProvider.JCO_POOL_CAPACITY, &quot;3&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_PEAK_LIMIT,    &quot;10&quot;);\n        createDataFile(ABAP_AS_POOLED, &quot;jcoDestination&quot;, connectProperties);\n\n        connectProperties.clear();\n        connectProperties.setProperty(DestinationDataProvider.JCO_MSHOST, &quot;HOST&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_R3NAME,  &quot;SID&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_CLIENT, &quot;200&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_USER,   &quot;USER&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_PASSWD, &quot;PASSWORD&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_GROUP, &quot;GROUP&quot;);\n        connectProperties.setProperty(DestinationDataProvider.JCO_LANG,   &quot;en&quot;);\n        createDataFile(ABAP_MS, &quot;jcoDestination&quot;, connectProperties);\n    }\n   \n    /** \n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        try {\n            processRequest(request, response);\n        } catch (JCoException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    /** \n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        try {\n            processRequest(request, response);\n        } catch (JCoException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n\n    /** \n     * Returns a short description of the servlet.\n     * @return a String containing servlet description\n     */\n    @Override\n    public String getServletInfo() {\n        return &quot;Short description&quot;;\n    }// &lt;/editor-fold&gt;    \n    \n    static void createDataFile(String name, String suffix, Properties properties)\n    {\n        File cfg = new File(name+&quot;.&quot;+suffix);\n        if(!cfg.exists())\n        {\n            try\n            {\n                FileOutputStream fos = new FileOutputStream(cfg, false);\n                properties.store(fos, &quot;for tests only !&quot;);\n                fos.close();\n            }\n            catch (Exception e)\n            {\n                throw new RuntimeException(&quot;Unable to create the destination file &quot; + cfg.getName(), e);\n            }\n        }\n    }\n    \n    \n    public static void step1Connect() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS);\n        System.out.println(&quot;Attributes:&quot;);\n        System.out.println(destination.getAttributes());\n        System.out.println();\n\n        destination = JCoDestinationManager.getDestination(ABAP_MS);\n        System.out.println(&quot;Attributes:&quot;);\n        System.out.println(destination.getAttributes());\n        System.out.println();\n    }\n    \n    public static void step2ConnectUsingPool() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        destination.ping();\n        System.out.println(&quot;Attributes:&quot;);\n        System.out.println(destination.getAttributes());\n        System.out.println();\n    }\n    \n    public static void step3SimpleCall() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        JCoFunction function = destination.getRepository().getFunction(&quot;STFC_CONNECTION&quot;);\n        if(function == null)\n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\n\n        function.getImportParameterList().setValue(&quot;REQUTEXT&quot;, &quot;Hello SAP&quot;);\n        \n        try\n        {\n            function.execute(destination);\n        }\n        catch(AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n        \n        System.out.println(&quot;STFC_CONNECTION finished:&quot;);\n        System.out.println(&quot; Echo: &quot; + function.getExportParameterList().getString(&quot;ECHOTEXT&quot;));\n        System.out.println(&quot; Response: &quot; + function.getExportParameterList().getString(&quot;RESPTEXT&quot;));\n        System.out.println();\n    }\n    \n    public static void step3WorkWithStructure() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        JCoFunction function = destination.getRepository().getFunction(&quot;RFC_SYSTEM_INFO&quot;);\n        if(function == null)\n            throw new RuntimeException(&quot;RFC_SYSTEM_INFO not found in SAP.&quot;);\n\n        try\n        {\n            function.execute(destination);\n        }\n        catch(AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n        \n        JCoStructure exportStructure = function.getExportParameterList().getStructure(&quot;RFCSI_EXPORT&quot;);\n        System.out.println(&quot;System info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\n        for(int i = 0; i &lt; exportStructure.getMetaData().getFieldCount(); i++) \n        {\n            System.out.println(exportStructure.getMetaData().getName(i) + &quot;:\\t&quot; + exportStructure.getString(i));\n        }\n        System.out.println();\n        \n        //JCo still supports the JCoFields, but direct access via getXX is more efficient as field iterator\n        System.out.println(&quot;The same using field iterator: \\nSystem info for &quot; + destination.getAttributes().getSystemID() + &quot;:\\n&quot;);\n        for(JCoField field : exportStructure)\n        {\n            System.out.println(field.getName() + &quot;:\\t&quot; + field.getString());\n        }\n        System.out.println();\n    }\n\n    public static void step4WorkWithTable() throws JCoException\n    {\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_AS_POOLED);\n        JCoFunction function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETLIST&quot;);\n        if(function == null)\n            throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETLIST not found in SAP.&quot;);\n\n        try\n        {\n            function.execute(destination);\n        }\n        catch(AbapException e)\n        {\n            System.out.println(e.toString());\n            return;\n        }\n        \n        JCoStructure returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n        if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;)||returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;))  )   \n        {\n           throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n        }\n        \n        JCoTable codes = function.getTableParameterList().getTable(&quot;COMPANYCODE_LIST&quot;);\n        for (int i = 0; i &lt; codes.getNumRows(); i++) \n        {\n            codes.setRow(i);\n            System.out.println(codes.getString(&quot;COMP_CODE&quot;) + '\\t' + codes.getString(&quot;COMP_NAME&quot;));\n        }\n\n        codes.firstRow();\n        for (int i = 0; i &lt; codes.getNumRows(); i++, codes.nextRow()) \n        {\n            function = destination.getRepository().getFunction(&quot;BAPI_COMPANYCODE_GETDETAIL&quot;);\n            if (function == null) \n                throw new RuntimeException(&quot;BAPI_COMPANYCODE_GETDETAIL not found in SAP.&quot;);\n\n            function.getImportParameterList().setValue(&quot;COMPANYCODEID&quot;, codes.getString(&quot;COMP_CODE&quot;));\n            function.getExportParameterList().setActive(&quot;COMPANYCODE_ADDRESS&quot;,false);\n            \n            try\n            {\n                function.execute(destination);\n            }\n            catch (AbapException e)\n            {\n                System.out.println(e.toString());\n                return;\n            }\n\n            returnStructure = function.getExportParameterList().getStructure(&quot;RETURN&quot;);\n            if (! (returnStructure.getString(&quot;TYPE&quot;).equals(&quot;&quot;) ||\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;S&quot;) ||\n                   returnStructure.getString(&quot;TYPE&quot;).equals(&quot;W&quot;)) ) \n            {\n                throw new RuntimeException(returnStructure.getString(&quot;MESSAGE&quot;));\n            }\n            \n            JCoStructure detail = function.getExportParameterList().getStructure(&quot;COMPANYCODE_DETAIL&quot;);\n            \n            System.out.println(detail.getString(&quot;COMP_CODE&quot;) + '\\t' +\n                               detail.getString(&quot;COUNTRY&quot;) + '\\t' +\n                               detail.getString(&quot;CITY&quot;));\n        }//for\n    }\n    \n    /**\n     * this example shows the &quot;simple&quot; stateful call sequence. Since all calls belonging to one\n     * session are executed within the same thread, the application does not need\n     * to take care about the SessionReferenceProvider. MultithreadedExample.java \n     * illustrates the more complex scenario, where the calls belonging to one session are \n     * executed from different threads.\n     * \n     * Note: this example uses Z_GET_COUNTER and Z_INCREMENT_COUNTER. The most ABAP systems\n     * contain function modules GET_COUNTER and INCREMENT_COUNTER, that are not remote enabled.\n     * Copy these functions to Z_GET_COUNTER and Z_INCREMENT_COUNTER (or implement as wrapper)\n     * and mark they remote enabled \n     * @throws JCoException\n     */\n    public static void step4SimpleStatefulCalls() throws JCoException\n    {\n        final JCoFunctionTemplate incrementCounterTemplate, getCounterTemplate;\n\n        JCoDestination destination = JCoDestinationManager.getDestination(ABAP_MS);\n        incrementCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_INCREMENT_COUNTER&quot;);\n        getCounterTemplate = destination.getRepository().getFunctionTemplate(&quot;Z_GET_COUNTER&quot;);\n        if(incrementCounterTemplate == null || getCounterTemplate == null)\n            throw new RuntimeException(&quot;This example cannot run without Z_INCREMENT_COUNTER and Z_GET_COUNTER functions&quot;);\n        \n        final int threadCount = 5;\n        final int loops = 5;\n        final CountDownLatch startSignal = new CountDownLatch(threadCount);\n        final CountDownLatch doneSignal = new CountDownLatch(threadCount);\n        \n        Runnable worker = new Runnable()\n        {\n            public void run()\n            {\n                startSignal.countDown();\n                try\n                {\n                    //wait for other threads\n                    startSignal.await();\n\n                    JCoDestination dest = JCoDestinationManager.getDestination(ABAP_MS);\n                    JCoContext.begin(dest);\n                    try\n                    {\n                        for(int i=0; i &lt; loops; i++)\n                        {\n                            JCoFunction incrementCounter = incrementCounterTemplate.getFunction();\n                            incrementCounter.execute(dest);\n                        }\n                        JCoFunction getCounter = getCounterTemplate.getFunction();\n                        getCounter.execute(dest);\n                        \n                        int remoteCounter = getCounter.getExportParameterList().getInt(&quot;GET_VALUE&quot;);\n                        System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + \n                                &quot; finished. Remote counter has &quot; + (loops==remoteCounter?&quot;correct&quot;:&quot;wrong&quot;) + \n                                &quot; value [&quot; + remoteCounter + &quot;]&quot;);\n                    }\n                    finally\n                    {\n                        JCoContext.end(dest);                    \n                    }\n                }\n                catch(Exception e)\n                {\n                    System.out.println(&quot;Thread-&quot; + Thread.currentThread().getId() + &quot; ends with exception &quot; + e.toString());\n                }\n                \n                doneSignal.countDown();\n            }\n        };\n        \n        for(int i = 0; i &lt; threadCount; i++)\n        {\n            new Thread(worker).start();\n        }\n        \n        try\n        {\n            doneSignal.await();\n        }\n        catch(Exception e)\n        {\n        }\n        \n    }\n    \n    protected void processRequest(HttpServletRequest request, HttpServletResponse response) throws JCoException\n    {\n        step1Connect();\n        step2ConnectUsingPool();\n        step3SimpleCall();\n        step4WorkWithTable();\n        step4SimpleStatefulCalls();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696442666,"post_id":77231956,"comment_id":136154883,"body_markdown":"This code does not download anything. It just writes some data to file on Android device storage. Not on Android Studio.","body":"This code does not download anything. It just writes some data to file on Android device storage. Not on Android Studio."},{"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"score":0,"creation_date":1696442825,"post_id":77231956,"comment_id":136154916,"body_markdown":"If you can write the file in data storage it is similar to download it, right? HDFC banks app and all doing the same thing there.","body":"If you can write the file in data storage it is similar to download it, right? HDFC banks app and all doing the same thing there."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696442892,"post_id":77231956,"comment_id":136154928,"body_markdown":"No. You download something from a server. From a different device. After that you can write the something to a file in your device storage.","body":"No. You download something from a server. From a different device. After that you can write the something to a file in your device storage."},{"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"score":0,"creation_date":1696474521,"post_id":77231956,"comment_id":136158539,"body_markdown":"Have updated the code with DownloadManager.","body":"Have updated the code with DownloadManager."},{"owner":{"account_id":29597658,"reputation":7,"user_id":22683841,"display_name":"Marco Rossi"},"score":0,"creation_date":1696493769,"post_id":77231956,"comment_id":136160747,"body_markdown":"Thanks! i want download a file from assets folder, how can i write the url of the file for download it?","body":"Thanks! i want download a file from assets folder, how can i write the url of the file for download it?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696497668,"post_id":77231956,"comment_id":136161585,"body_markdown":"Marco you wanted to create a file. You are thanking for downloading an existing file from a server. That makes no sense. And now you want to copy a file from assets to device storage. Its time you see that nothing has to do with downloading.","body":"Marco you wanted to create a file. You are thanking for downloading an existing file from a server. That makes no sense. And now you want to copy a file from assets to device storage. Its time you see that nothing has to do with downloading."}],"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696474469,"creation_date":1696442234,"answer_id":77231956,"question_id":77230867,"body_markdown":"Try the following code snippet to create a CSV file and download it in Android Studio.\r\n\r\n    import android.Manifest;\r\n    import android.content.pm.PackageManager;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.view.View;\r\n    import android.widget.Toast;\r\n    import android.app.DownloadManager; \r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\r\n                            != PackageManager.PERMISSION_GRANTED) {\r\n                        ActivityCompat.requestPermissions(MainActivity.this,\r\n                                new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\r\n                                REQUEST_WRITE_EXTERNAL_STORAGE);\r\n                    } else {\r\n                        for (Item item : items)\r\n                            downloadCsvFile(item);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    for (Item item : items) \r\n                        downloadCsvFile(item);\r\n                } else {\r\n                    showToast(&quot;Permission denied. Cannot download CSV files.&quot;);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private void downloadCsvFile(Item item) {\r\n           try {\r\n                String url = item.getURL(); // Ex: https://media.githubusercontent.com/media/datablist/sample-csv-files/main/files/organizations/organizations-100.csv\r\n                manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE); \r\n                Uri uri = Uri.parse(url); \r\n                DownloadManager.Request request = new DownloadManager.Request(uri); \r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE); \r\n                long reference = manager.enqueue(request); \r\n                showToast(&quot;CSV file downloaded successfully&quot;);\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                showToast(&quot;Error creating CSV file&quot;);\r\n            }\r\n        }\r\n    \r\n        private void showToast(String message) {\r\n            Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\nMake sure to add the necessary permissions:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;","title":"Create csv file and download it in Android Studio","body":"<p>Try the following code snippet to create a CSV file and download it in Android Studio.</p>\n<pre><code>import android.Manifest;\nimport android.content.pm.PackageManager;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.view.View;\nimport android.widget.Toast;\nimport android.app.DownloadManager; \n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int REQUEST_WRITE_EXTERNAL_STORAGE = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (ContextCompat.checkSelfPermission(MainActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n                        != PackageManager.PERMISSION_GRANTED) {\n                    ActivityCompat.requestPermissions(MainActivity.this,\n                            new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},\n                            REQUEST_WRITE_EXTERNAL_STORAGE);\n                } else {\n                    for (Item item : items)\n                        downloadCsvFile(item);\n                }\n            }\n        });\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == REQUEST_WRITE_EXTERNAL_STORAGE) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                for (Item item : items) \n                    downloadCsvFile(item);\n            } else {\n                showToast(&quot;Permission denied. Cannot download CSV files.&quot;);\n            }\n        }\n    }\n\n    private void downloadCsvFile(Item item) {\n       try {\n            String url = item.getURL(); // Ex: https://media.githubusercontent.com/media/datablist/sample-csv-files/main/files/organizations/organizations-100.csv\n            manager = (DownloadManager) getSystemService(Context.DOWNLOAD_SERVICE); \n            Uri uri = Uri.parse(url); \n            DownloadManager.Request request = new DownloadManager.Request(uri); \n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE); \n            long reference = manager.enqueue(request); \n            showToast(&quot;CSV file downloaded successfully&quot;);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            showToast(&quot;Error creating CSV file&quot;);\n        }\n    }\n\n    private void showToast(String message) {\n        Toast.makeText(this, message, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n<p>Make sure to add the necessary permissions:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":29597658,"reputation":7,"user_id":22683841,"display_name":"Marco Rossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696474469,"creation_date":1696432854,"question_id":77230867,"body_markdown":"I&#39;m using Android Studio for a project and i have a problem.\r\nI have a list of item, and if i click to a button for each item i called &quot;downloadCsvFile&quot; function and i pass the item.    \r\nI want that this function create a csv file and write the item data in it, and then download the file on the device.\r\nHow can i do it?\r\nThanks! :)\r\n\r\n    findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View v) {\r\n                    for (Item i: items) {\r\n                        downloadCsvFile(i);\r\n                    }\r\n                }\r\n    \r\n    });","title":"Create csv file and download it in Android Studio","body":"<p>I'm using Android Studio for a project and i have a problem.\nI have a list of item, and if i click to a button for each item i called &quot;downloadCsvFile&quot; function and i pass the item.<br />\nI want that this function create a csv file and write the item data in it, and then download the file on the device.\nHow can i do it?\nThanks! :)</p>\n<pre><code>findViewById(R.id.buttonCsv).setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                for (Item i: items) {\n                    downloadCsvFile(i);\n                }\n            }\n\n});\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","amazon-s3"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1637090597,"post_id":69994367,"comment_id":123731798,"body_markdown":"Does this answer your question? [Do I need Content-Type: application/octet-stream for file download?](https://stackoverflow.com/questions/20508788/do-i-need-content-type-application-octet-stream-for-file-download)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/20508788/do-i-need-content-type-application-octet-stream-for-file-download\">Do I need Content-Type: application/octet-stream for file download?</a>"},{"owner":{"account_id":12281048,"reputation":83,"user_id":8962623,"display_name":"Kea501"},"score":0,"creation_date":1637092196,"post_id":69994367,"comment_id":123732337,"body_markdown":"Unfortunately, this did not solve my issue. Thanks for the suggestion though.","body":"Unfortunately, this did not solve my issue. Thanks for the suggestion though."},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1637181861,"post_id":69994367,"comment_id":123760823,"body_markdown":"HTTP header names are case-insensitive but it would probably still be a good idea to be consistent. You have 3 headers with 3 different forms of capitalization. Also, when you tested with an appropriate Content-Type e.g. image/png or application/pdf, did it make a difference?","body":"HTTP header names are case-insensitive but it would probably still be a good idea to be consistent. You have 3 headers with 3 different forms of capitalization. Also, when you tested with an appropriate Content-Type e.g. image/png or application/pdf, did it make a difference?"}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637091913,"creation_date":1637091349,"answer_id":69995089,"question_id":69994367,"body_markdown":"See this AWS tutorial located in the [AWS Code Example Github Repo][1]. It discusses this exact use case and shows you how to download an image located in an Amazon S3 bucket to your web browser using a Spring BOOT app. For example, this image shows downloading an image named **lake.png**. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis app uses the AWS SDK for Java V2. See: \r\n\r\n[Creating a dynamic web application that analyzes photos using the AWS SDK for Java][3]\r\n\r\nThis example uses the Sync Java Client. If you prefer using the Java Async client, see: \r\n\r\n[Creating a dynamic web application that asynchronously analyzes photos using the AWS SDK for Java][4]\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples\r\n  [2]: https://i.stack.imgur.com/VOJBD.png\r\n  [3]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_app\r\n  [4]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_async","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>See this AWS tutorial located in the <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples\" rel=\"nofollow noreferrer\">AWS Code Example Github Repo</a>. It discusses this exact use case and shows you how to download an image located in an Amazon S3 bucket to your web browser using a Spring BOOT app. For example, this image shows downloading an image named <strong>lake.png</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/VOJBD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VOJBD.png\" alt=\"enter image description here\" /></a></p>\n<p>This app uses the AWS SDK for Java V2. See:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_app\" rel=\"nofollow noreferrer\">Creating a dynamic web application that analyzes photos using the AWS SDK for Java</a></p>\n<p>This example uses the Sync Java Client. If you prefer using the Java Async client, see:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/usecases/creating_photo_analyzer_async\" rel=\"nofollow noreferrer\">Creating a dynamic web application that asynchronously analyzes photos using the AWS SDK for Java</a></p>\n"},{"tags":[],"owner":{"account_id":17347431,"reputation":89,"user_id":12566715,"display_name":"Janardhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637158931,"creation_date":1637158931,"answer_id":70006086,"question_id":69994367,"body_markdown":"I tested this code, works perfectly fine downloading images from S3. \r\n\r\nonly difference is, can you cross check how you are supplying \r\n\r\n&gt; fileName\r\n\r\npath variable ? \r\n\r\nAlso, have you tried downloading the file using a standalone program ? just to rule out is ","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>I tested this code, works perfectly fine downloading images from S3.</p>\n<p>only difference is, can you cross check how you are supplying</p>\n<blockquote>\n<p>fileName</p>\n</blockquote>\n<p>path variable ?</p>\n<p>Also, have you tried downloading the file using a standalone program ? just to rule out is</p>\n"},{"tags":[],"owner":{"account_id":22453361,"reputation":97,"user_id":16656366,"display_name":"LongDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696473845,"creation_date":1696473845,"answer_id":77233979,"question_id":69994367,"body_markdown":"if you need to access the object url you need to make bucket policy public \r\n\r\nat permissions tab -&gt; scroll to bucket policy and add this\r\n\r\n\r\n```\r\n\r\n\r\n{\r\n\t&quot;Version&quot;: &quot;2012-10-17&quot;,\r\n\t&quot;Statement&quot;: [\r\n\t\t{\r\n\t\t\t&quot;Sid&quot;: &quot;PublicReadGetObject&quot;,\r\n\t\t\t&quot;Effect&quot;: &quot;Allow&quot;,\r\n\t\t\t&quot;Principal&quot;: &quot;*&quot;,\r\n\t\t\t&quot;Action&quot;: &quot;s3:GetObject&quot;,\r\n\t\t\t&quot;Resource&quot;: &quot;arn:aws:s3:::bucketname/*&quot;\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>if you need to access the object url you need to make bucket policy public</p>\n<p>at permissions tab -&gt; scroll to bucket policy and add this</p>\n<pre><code>\n\n{\n    &quot;Version&quot;: &quot;2012-10-17&quot;,\n    &quot;Statement&quot;: [\n        {\n            &quot;Sid&quot;: &quot;PublicReadGetObject&quot;,\n            &quot;Effect&quot;: &quot;Allow&quot;,\n            &quot;Principal&quot;: &quot;*&quot;,\n            &quot;Action&quot;: &quot;s3:GetObject&quot;,\n            &quot;Resource&quot;: &quot;arn:aws:s3:::bucketname/*&quot;\n        }\n    ]\n}\n\n</code></pre>\n"}],"owner":{"account_id":12281048,"reputation":83,"user_id":8962623,"display_name":"Kea501"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2950,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":70006086,"answer_count":3,"score":3,"last_activity_date":1696473845,"creation_date":1637087362,"question_id":69994367,"body_markdown":"I am new to AWS development and I am trying to download objects that are images from my Amazon S3 bucket. I am able to download objects however they are stored like the image below. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CRslC.png\r\n\r\nI am using spring boot APIs and my code is here below: \r\n\r\nstorageService.java \r\n\r\n```\r\npackage com.fiado.S3.service;\r\n\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport com.amazonaws.AmazonClientException;\r\nimport com.amazonaws.AmazonServiceException;\r\nimport com.amazonaws.services.s3.AmazonS3;\r\nimport com.amazonaws.services.s3.model.S3Object;\r\nimport com.amazonaws.services.s3.model.S3ObjectInputStream;\r\nimport com.amazonaws.util.IOUtils;\r\n\r\n@Service\r\npublic class storageService {\r\n\t\r\n\tprivate String bucketName = &quot;fiadoapp&quot;;\r\n\r\n\t@Autowired \r\n\tprivate AmazonS3 s3Client;\r\n\t\r\n\t public byte[] downloadFile(String fileName) {\r\n\t\t try {\r\n\t\t\t  byte[] content;\r\n\t            final S3Object s3Object = s3Client.getObject(bucketName, fileName);\r\n\t            final S3ObjectInputStream stream = s3Object.getObjectContent();\r\n\t            content = IOUtils.toByteArray(stream);\r\n\t            s3Object.close();\r\n\t            return content;\r\n\t        } catch (IOException ioException) {\r\n\t        \tioException.printStackTrace();\r\n\t        } catch (AmazonServiceException serviceException) {\r\n\t        \tserviceException.printStackTrace();\r\n\t        } catch (AmazonClientException clientException) {\r\n\t        \tclientException.printStackTrace();\r\n\t        }\r\n\r\n\t        return null;\r\n\t    }\r\n}\r\n\r\n```\r\nstorageController.java\r\n\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.ByteArrayResource;\r\nimport org.springframework.http.ResponseEntity;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.fiado.S3.service.storageService;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/file&quot;)\r\npublic class storageController {\r\n\t\r\n\t@Autowired\r\n\tprivate storageService service;\r\n\t\r\n\t@GetMapping(&quot;/download/{fileName}&quot;)\r\n\tpublic ResponseEntity&lt;ByteArrayResource&gt; downloadFile(@PathVariable String fileName) {\r\n\t\tbyte[] data = service.downloadFile(fileName);\r\n\t\t\r\n\t\tByteArrayResource resource = new ByteArrayResource(data);\r\n\t\t\r\n\t\treturn ResponseEntity\r\n\t\t\t\t.ok()\r\n\t\t\t\t.contentLength(data.length)\r\n\t\t\t\t.header(&quot;Content-type&quot;,&quot;application/octet-stream&quot;)\r\n\t\t\t\t.header(&quot;content-disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\r\n\t\t\t\t.header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\r\n\t\t\t\t.body(resource);\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\nCan anyone tell me how I can get my files to be downloaded as images?","title":"Downloading images from Amazon S3 using java spring boot","body":"<p>I am new to AWS development and I am trying to download objects that are images from my Amazon S3 bucket. I am able to download objects however they are stored like the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/CRslC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CRslC.png\" alt=\"enter image description here\" /></a></p>\n<p>I am using spring boot APIs and my code is here below:</p>\n<p>storageService.java</p>\n<pre><code>package com.fiado.S3.service;\n\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport com.amazonaws.AmazonClientException;\nimport com.amazonaws.AmazonServiceException;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.model.S3Object;\nimport com.amazonaws.services.s3.model.S3ObjectInputStream;\nimport com.amazonaws.util.IOUtils;\n\n@Service\npublic class storageService {\n    \n    private String bucketName = &quot;fiadoapp&quot;;\n\n    @Autowired \n    private AmazonS3 s3Client;\n    \n     public byte[] downloadFile(String fileName) {\n         try {\n              byte[] content;\n                final S3Object s3Object = s3Client.getObject(bucketName, fileName);\n                final S3ObjectInputStream stream = s3Object.getObjectContent();\n                content = IOUtils.toByteArray(stream);\n                s3Object.close();\n                return content;\n            } catch (IOException ioException) {\n                ioException.printStackTrace();\n            } catch (AmazonServiceException serviceException) {\n                serviceException.printStackTrace();\n            } catch (AmazonClientException clientException) {\n                clientException.printStackTrace();\n            }\n\n            return null;\n        }\n}\n\n</code></pre>\n<p>storageController.java</p>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.ByteArrayResource;\nimport org.springframework.http.ResponseEntity;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.fiado.S3.service.storageService;\n\n@RestController\n@RequestMapping(&quot;/file&quot;)\npublic class storageController {\n    \n    @Autowired\n    private storageService service;\n    \n    @GetMapping(&quot;/download/{fileName}&quot;)\n    public ResponseEntity&lt;ByteArrayResource&gt; downloadFile(@PathVariable String fileName) {\n        byte[] data = service.downloadFile(fileName);\n        \n        ByteArrayResource resource = new ByteArrayResource(data);\n        \n        return ResponseEntity\n                .ok()\n                .contentLength(data.length)\n                .header(&quot;Content-type&quot;,&quot;application/octet-stream&quot;)\n                .header(&quot;content-disposition&quot;,&quot;attachment; filename=\\&quot;&quot; + fileName + &quot;\\&quot;&quot;)\n                .header(&quot;Cache-Control&quot;, &quot;no-cache&quot;)\n                .body(resource);\n        \n    }\n    \n    \n}\n\n</code></pre>\n<p>Can anyone tell me how I can get my files to be downloaded as images?</p>\n"},{"tags":["java","spring-boot","google-bigquery","spring-cloud-gcp-bigquery"],"comments":[{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1696481054,"post_id":77233968,"comment_id":136158991,"body_markdown":"Does this help? https://stackoverflow.com/a/61548938/3122175","body":"Does this help? <a href=\"https://stackoverflow.com/a/61548938/3122175\">stackoverflow.com/a/61548938/3122175</a>"},{"owner":{"account_id":26824155,"reputation":27,"user_id":20413030,"display_name":"Tech_Dev"},"score":0,"creation_date":1696518354,"post_id":77233968,"comment_id":136166168,"body_markdown":"Thanks!!. how would i  insert a pojo object into BQ","body":"Thanks!!. how would i  insert a pojo object into BQ"}],"owner":{"account_id":26824155,"reputation":27,"user_id":20413030,"display_name":"Tech_Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696473610,"creation_date":1696473610,"question_id":77233968,"body_markdown":"I would like to know if it is possible to map a big query table to a java class like we do for mongo with @document annotation.\r\nI am unable to find one. \r\npom file snippet-\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter-bigquery&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Spring boot integration with bigquery","body":"<p>I would like to know if it is possible to map a big query table to a java class like we do for mongo with @document annotation.\nI am unable to find one.\npom file snippet-</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter-bigquery&lt;/artifactId&gt;\n            &lt;version&gt;1.2.8.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","deserialization"],"answers":[{"comments":[{"owner":{"account_id":1093641,"reputation":4759,"user_id":1087718,"accept_rate":84,"display_name":"czupe"},"score":0,"creation_date":1341414670,"post_id":11331641,"comment_id":14918535,"body_markdown":"Thanks, i found it some sec, but to be more weird: without annotation? Is there any other option? I dont want to write to this &quot;@JsonIgnore\n&quot; EventRow class because it is used in many ways and don&#39;t want to  other ppl to see my messing, so any Serialization.config option or ...?:S","body":"Thanks, i found it some sec, but to be more weird: without annotation? Is there any other option? I dont want to write to this &quot;@JsonIgnore &quot; EventRow class because it is used in many ways and don&#39;t want to  other ppl to see my messing, so any Serialization.config option or ...?:S"}],"tags":[],"owner":{"account_id":102718,"reputation":59065,"user_id":275567,"display_name":"pb2q"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1341415993,"creation_date":1341414450,"answer_id":11331641,"question_id":11331580,"body_markdown":"There is an annotation for this: [`@JsonIgnore`](http://jackson.codehaus.org/1.0.1/javadoc/org/codehaus/jackson/annotate/JsonIgnore.html).\r\n\r\n    @JsonIgnore\r\n    public KeyValue[] getEventKeyValues() {\r\n    ...\r\n\r\nIf you don&#39;t want to use an annotation for this then you&#39;ll need to write a [custom serializer](http://wiki.fasterxml.com/JacksonHowToCustomSerializers).","title":"Jackson deserialization specific getter turning off","body":"<p>There is an annotation for this: <a href=\"http://jackson.codehaus.org/1.0.1/javadoc/org/codehaus/jackson/annotate/JsonIgnore.html\" rel=\"nofollow\"><code>@JsonIgnore</code></a>.</p>\n\n<pre><code>@JsonIgnore\npublic KeyValue[] getEventKeyValues() {\n...\n</code></pre>\n\n<p>If you don't want to use an annotation for this then you'll need to write a <a href=\"http://wiki.fasterxml.com/JacksonHowToCustomSerializers\" rel=\"nofollow\">custom serializer</a>.</p>\n"},{"comments":[{"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"score":0,"creation_date":1341430015,"post_id":11331811,"comment_id":14923345,"body_markdown":"Note that this is a DEserialization configuration option -- not used for serialization configurations.  Its intention is to not throw an exception in the case where the JSON includes an element without a matching property in the Java data structure being deserialized to.","body":"Note that this is a DEserialization configuration option -- not used for serialization configurations.  Its intention is to not throw an exception in the case where the JSON includes an element without a matching property in the Java data structure being deserialized to."}],"tags":[],"owner":{"account_id":1093641,"reputation":4759,"user_id":1087718,"accept_rate":84,"display_name":"czupe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696472807,"creation_date":1341415110,"answer_id":11331811,"question_id":11331580,"body_markdown":"I think this almost does it:\r\n\r\n```java\r\nobjectMapper.configure(DeserializationConfig.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n```","title":"Jackson deserialization specific getter turning off","body":"<p>I think this almost does it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>objectMapper.configure(DeserializationConfig.FAIL_ON_UNKNOWN_PROPERTIES, false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1341429802,"creation_date":1341429802,"answer_id":11334476,"question_id":11331580,"body_markdown":"&gt; What is the most simple way to tell the Jackson to not serialize a specific getter method\r\n&gt; ...\r\n&gt; without annotation?\r\n\r\nWithout writing a customer serializer...\r\n\r\nIf directly annotating the field/property/getter/setter to be skipped is undesirable, another approach is to make use of [the Jackson Mix-In feature][1].\r\n\r\nYet another approach for serialization only would be to make use of [the Jackson JSON Views feature][2], though this too requires annotations in some capacity.\r\n\r\n  [1]: http://wiki.fasterxml.com/JacksonMixInAnnotations\r\n  [2]: http://wiki.fasterxml.com/JacksonJsonViews","title":"Jackson deserialization specific getter turning off","body":"<blockquote>\n  <p>What is the most simple way to tell the Jackson to not serialize a specific getter method\n  ...\n  without annotation?</p>\n</blockquote>\n\n<p>Without writing a customer serializer...</p>\n\n<p>If directly annotating the field/property/getter/setter to be skipped is undesirable, another approach is to make use of <a href=\"http://wiki.fasterxml.com/JacksonMixInAnnotations\" rel=\"nofollow\">the Jackson Mix-In feature</a>.</p>\n\n<p>Yet another approach for serialization only would be to make use of <a href=\"http://wiki.fasterxml.com/JacksonJsonViews\" rel=\"nofollow\">the Jackson JSON Views feature</a>, though this too requires annotations in some capacity.</p>\n"},{"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341509714,"creation_date":1341509714,"answer_id":11349545,"question_id":11331580,"body_markdown":"This may depend on Jackson version -- prior to 1.9, getters and setters were handled separately, so not auto-detecting getter would have been enough. But with 1.9 and beyond, setter/getter/field are all combined into logical property, which may allow Jackson to deduce existence of property from setter.\r\n\r\nSo what you probably need to do is to also disable setter detection. Other options already given would work as well, mix-in annotations being a common way to do this.\r\n","title":"Jackson deserialization specific getter turning off","body":"<p>This may depend on Jackson version -- prior to 1.9, getters and setters were handled separately, so not auto-detecting getter would have been enough. But with 1.9 and beyond, setter/getter/field are all combined into logical property, which may allow Jackson to deduce existence of property from setter.</p>\n\n<p>So what you probably need to do is to also disable setter detection. Other options already given would work as well, mix-in annotations being a common way to do this.</p>\n"},{"tags":[],"owner":{"account_id":401495,"reputation":581,"user_id":768085,"display_name":"maziar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696472618,"creation_date":1347553122,"answer_id":12410608,"question_id":11331580,"body_markdown":"```java\r\nobjectMapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, false);\r\n```","title":"Jackson deserialization specific getter turning off","body":"<pre class=\"lang-java prettyprint-override\"><code>objectMapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, false);\n</code></pre>\n"}],"owner":{"account_id":1093641,"reputation":4759,"user_id":1087718,"accept_rate":84,"display_name":"czupe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11331641,"answer_count":5,"score":1,"last_activity_date":1696472807,"creation_date":1341414255,"question_id":11331580,"body_markdown":"What is the most simple way to tell the Jackson to not serialize a specific getter method? I only want to say explicit to one getter, because I have a custom, complex class, and all setter and getter should function, only one should not:\r\n\r\n    mapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, true);\r\n\r\nSo this is not the proper way. I need to tell that I don&#39;t want to use the getter in this class:\r\n\r\n    public static class EventRow implements Serializable, Cloneable, GRSerializable {\r\n    \tpublic int x\r\n        public int y\r\n        public double z\r\n        public String eventKeyValuesPacked; \r\n    \r\n        //This getter should not be used, because there is no explicit setter\r\n        //for    this, and also no public... And it is only unpack  \r\n        //EventKeyValuesPacked so it would be multiple data...\r\n        public KeyValue[] getEventKeyValues() {\r\n    \t   KeyValue[] kvs = DA_EventKey.unpackKeyValues(eventKeyValuesPacked);\r\n    \t   return kvs == null ? new KeyValue[0] : kvs;\r\n       }\r\n    }\r\n\r\n\r\nIs there any annotation or `SerializationConfig` option to make invisible the `getEventKeyValues()` getter method?","title":"Jackson deserialization specific getter turning off","body":"<p>What is the most simple way to tell the Jackson to not serialize a specific getter method? I only want to say explicit to one getter, because I have a custom, complex class, and all setter and getter should function, only one should not:</p>\n\n<pre><code>mapper.configure(SerializationConfig.Feature.AUTO_DETECT_GETTERS, true);\n</code></pre>\n\n<p>So this is not the proper way. I need to tell that I don't want to use the getter in this class:</p>\n\n<pre><code>public static class EventRow implements Serializable, Cloneable, GRSerializable {\n    public int x\n    public int y\n    public double z\n    public String eventKeyValuesPacked; \n\n    //This getter should not be used, because there is no explicit setter\n    //for    this, and also no public... And it is only unpack  \n    //EventKeyValuesPacked so it would be multiple data...\n    public KeyValue[] getEventKeyValues() {\n       KeyValue[] kvs = DA_EventKey.unpackKeyValues(eventKeyValuesPacked);\n       return kvs == null ? new KeyValue[0] : kvs;\n   }\n}\n</code></pre>\n\n<p>Is there any annotation or <code>SerializationConfig</code> option to make invisible the <code>getEventKeyValues()</code> getter method?</p>\n"},{"tags":["javascript","java","php","arrays","json"],"comments":[{"owner":{"account_id":61252,"reputation":407513,"user_id":182668,"accept_rate":68,"display_name":"Pointy"},"score":0,"creation_date":1510068048,"post_id":47161419,"comment_id":81272402,"body_markdown":"That doesn&#39;t look like JSON.","body":"That doesn&#39;t look like JSON."},{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":2,"creation_date":1510068078,"post_id":47161419,"comment_id":81272422,"body_markdown":"This is not json. This is just a vardump","body":"This is not json. This is just a vardump"},{"owner":{"account_id":3303731,"reputation":682,"user_id":2779185,"display_name":"Hemant Rajpoot"},"score":0,"creation_date":1510068195,"post_id":47161419,"comment_id":81272506,"body_markdown":"this error means invalid JSON try too stringify you value","body":"this error means invalid JSON try too stringify you value"},{"owner":{"account_id":1354532,"reputation":3147,"user_id":1293222,"accept_rate":100,"display_name":"Withnail"},"score":0,"creation_date":1510068847,"post_id":47161419,"comment_id":81272963,"body_markdown":"You should read the guidance on [how to ask a good question](https://stackoverflow.com/help/how-to-ask) without a set Minimal, Complete, Verifiable Example (MCVE) code to work from, no-one will be able to help with your query.","body":"You should read the guidance on <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a> without a set Minimal, Complete, Verifiable Example (MCVE) code to work from, no-one will be able to help with your query."}],"answers":[{"comments":[{"owner":{"account_id":1957068,"reputation":22025,"user_id":1759845,"accept_rate":65,"display_name":"BackSlash"},"score":0,"creation_date":1510068501,"post_id":47161574,"comment_id":81272717,"body_markdown":"Even replacing the parentheses with curly braces won&#39;t solve the issue. It would still be invalid JSON.","body":"Even replacing the parentheses with curly braces won&#39;t solve the issue. It would still be invalid JSON."}],"tags":[],"owner":{"account_id":6744533,"reputation":139,"user_id":5196542,"display_name":"Faisal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510068404,"creation_date":1510068404,"answer_id":47161574,"question_id":47161419,"body_markdown":"1. This isn&#39;t JSON.\r\n2. The error `Unexpected token A` refers to the word `Array` in your payload. Your JSON parser is looking for a curly brace, which is the first character in a correctly formatted JSON object, but it&#39;s finding the character `A` for `Array` instead.\r\n\r\nDelete the word `Array` and replace your parentheses `( ) ` with curly braces `{ }`.","title":"syntaxError:Unexpected Token A in Json at position 0","body":"<ol>\n<li>This isn't JSON.</li>\n<li>The error <code>Unexpected token A</code> refers to the word <code>Array</code> in your payload. Your JSON parser is looking for a curly brace, which is the first character in a correctly formatted JSON object, but it's finding the character <code>A</code> for <code>Array</code> instead.</li>\n</ol>\n\n<p>Delete the word <code>Array</code> and replace your parentheses <code>( )</code> with curly braces <code>{ }</code>.</p>\n"}],"owner":{"account_id":12194974,"reputation":1,"user_id":8900974,"display_name":"Pinku Bhattacharjee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":706,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1696471698,"creation_date":1510068006,"question_id":47161419,"body_markdown":"When I am trying to create manual orders from my opencart admin v2.3.0.2 admin panel after adding the product when I am filling the Payment details section in opencart and click next to proceed to add shipping details. this error pops up on my screen. And i am not able to create new orders or edit the old orders. I need immediate help. Thank you in advance. \r\n\r\n![Error screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dvoyV.png","title":"syntaxError:Unexpected Token A in Json at position 0","body":"<p>When I am trying to create manual orders from my opencart admin v2.3.0.2 admin panel after adding the product when I am filling the Payment details section in opencart and click next to proceed to add shipping details. this error pops up on my screen. And i am not able to create new orders or edit the old orders. I need immediate help. Thank you in advance. </p>\n\n<p><img src=\"https://i.stack.imgur.com/dvoyV.png\" alt=\"Error screenshot\"></p>\n"},{"tags":["java","inheritance","protected"],"comments":[{"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"score":13,"creation_date":1243132138,"post_id":902922,"comment_id":710769,"body_markdown":"+1 Frankly I want know why as well. It always struck me as one of the dumbest design decisions in Java.","body":"+1 Frankly I want know why as well. It always struck me as one of the dumbest design decisions in Java."},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":3,"creation_date":1387531110,"post_id":902922,"comment_id":31003259,"body_markdown":"@cletus : So longer I think about it so more I come to the conclusion that “package private” was the not well thought out idea. For “package private” to actual work and offer any kind of real protection, packages would need to be compiled within a single compilation unit. And one should not be able to enhance them later.","body":"@cletus : So longer I think about it so more I come to the conclusion that “package private” was the not well thought out idea. For “package private” to actual work and offer any kind of real protection, packages would need to be compiled within a single compilation unit. And one should not be able to enhance them later."}],"answers":[{"comments":[{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":2,"creation_date":1387528189,"post_id":902930,"comment_id":31001917,"body_markdown":"Thanks for the answer.\n\nOf course does not actually work since no one stops you from distribution a package over several jars — and with it over several teams. \n\nSo it is a other nice idea not fully thought out. Something Java is full of.","body":"Thanks for the answer.  Of course does not actually work since no one stops you from distribution a package over several jars — and with it over several teams.   So it is a other nice idea not fully thought out. Something Java is full of."}],"tags":[],"owner":{"account_id":34048,"reputation":860893,"user_id":95810,"accept_rate":80,"display_name":"Alex Martelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1243131750,"creation_date":1243131750,"answer_id":902930,"question_id":902922,"body_markdown":"This design is based on the idea that the package is the appropriate unit, maintained and released by one internally consistent team; inheritance relationships have much less to do with who&#39;s maintaining and releasing what when.","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>This design is based on the idea that the package is the appropriate unit, maintained and released by one internally consistent team; inheritance relationships have much less to do with who's maintaining and releasing what when.</p>\n"},{"comments":[{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":2,"creation_date":1387530651,"post_id":902952,"comment_id":31003051,"body_markdown":"But no one stops you from adding a new class to an already exiting package. So “package private” and with it “protected” is only a recommendation to the programmers. Both don&#39;t offer any real protection from malicious/desperate programmers wanting/needing to call the method. — “protected” like in C++ would at least force the use  of a subclass — but in Java you don&#39;t even need to do that.","body":"But no one stops you from adding a new class to an already exiting package. So “package private” and with it “protected” is only a recommendation to the programmers. Both don&#39;t offer any real protection from malicious/desperate programmers wanting/needing to call the method. — “protected” like in C++ would at least force the use  of a subclass — but in Java you don&#39;t even need to do that."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1243132916,"creation_date":1243132916,"answer_id":902952,"question_id":902922,"body_markdown":"Basically it has to do with the view of a package as an api controlled unit (hence the recommendation to start your package with your domain name - guaranteed global uniqueness), so visibility grows from private -&gt; package-private -&gt; protected -&gt; public. If protected weren&#39;t an increase over package-private, rather a different type of visibility, there would have to be some way to combine the two types of visibility when needed.","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>Basically it has to do with the view of a package as an api controlled unit (hence the recommendation to start your package with your domain name - guaranteed global uniqueness), so visibility grows from private -> package-private -> protected -> public. If protected weren't an increase over package-private, rather a different type of visibility, there would have to be some way to combine the two types of visibility when needed.</p>\n"},{"comments":[{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":1,"creation_date":1387529807,"post_id":902956,"comment_id":31002648,"body_markdown":"That is the theory. But in praxis this would only be true when a package would need to be compiled in a single compilation unit and could not be enhanced outside. But that is not the case and so, with the aid of a slim delegate class, any “package private” method can be made public. A hint to the programmer but not a true protection.","body":"That is the theory. But in praxis this would only be true when a package would need to be compiled in a single compilation unit and could not be enhanced outside. But that is not the case and so, with the aid of a slim delegate class, any “package private” method can be made public. A hint to the programmer but not a true protection."},{"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"score":0,"creation_date":1387680893,"post_id":902956,"comment_id":31050933,"body_markdown":"@martin: only if you publish the package without sealing it, which capability addresses this particular problem.","body":"@martin: only if you publish the package without sealing it, which capability addresses this particular problem."},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":0,"creation_date":1387695301,"post_id":902956,"comment_id":31053093,"body_markdown":"“sealing the package” — never heard of it but sounds interesting. **Tell me more!** (a few words to help me google the details it is sufficient)","body":"“sealing the package” — never heard of it but sounds interesting. <b>Tell me more!</b> (a few words to help me google the details it is sufficient)"},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":1,"creation_date":1387695681,"post_id":902956,"comment_id":31053172,"body_markdown":"Found it on my own: http://docs.oracle.com/javase/tutorial/deployment/jar/sealman.html — yes interesting. Should be on default ;-) .","body":"Found it on my own: <a href=\"http://docs.oracle.com/javase/tutorial/deployment/jar/sealman.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/deployment/jar/sealman.html</a> — yes interesting. Should be on default ;-) ."}],"tags":[],"owner":{"account_id":5530,"reputation":63236,"user_id":8946,"accept_rate":84,"display_name":"Lawrence Dol"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243133059,"creation_date":1243133059,"answer_id":902956,"question_id":902922,"body_markdown":"Given progressive levels of access, private, package, protected and public, it would be unnecessarily limiting if it went protected then package since that would force me to allow subclasses access in order to grant other members of the same package.  Yet, intuitively, it should be that other classes in the same package are more trustworthy than other classes &quot;out there&quot;.  So protected is between package and public in that it allows a wider exposure of access.\r\n\r\nI think the basic reason relies on the intuition that there&#39;s a basic level of &quot;trust&quot; between classes in the same package; you can reasonably expect them to do the right thing with each other - in most cases the package will be the responsibility of a single engineer or team so there should be a consistent harmony of design.\r\n","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>Given progressive levels of access, private, package, protected and public, it would be unnecessarily limiting if it went protected then package since that would force me to allow subclasses access in order to grant other members of the same package.  Yet, intuitively, it should be that other classes in the same package are more trustworthy than other classes \"out there\".  So protected is between package and public in that it allows a wider exposure of access.</p>\n\n<p>I think the basic reason relies on the intuition that there's a basic level of \"trust\" between classes in the same package; you can reasonably expect them to do the right thing with each other - in most cases the package will be the responsibility of a single engineer or team so there should be a consistent harmony of design.</p>\n"},{"comments":[{"owner":{"account_id":14461,"reputation":6473,"user_id":29771,"accept_rate":91,"display_name":"Glenn"},"score":0,"creation_date":1292971231,"post_id":902995,"comment_id":4930361,"body_markdown":"@Michael Myers: Well, no, it would not be symmetric anyway.  It&#39;s symmetric for a reason.","body":"@Michael Myers: Well, no, it would not be symmetric anyway.  It&#39;s symmetric for a reason."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1292972435,"post_id":902995,"comment_id":4930537,"body_markdown":"If you put an N instead of a Y at the `protected` -&gt; Package intersection, it&#39;s still symmetric. Just not as pretty.","body":"If you put an N instead of a Y at the <code>protected</code> -&gt; Package intersection, it&#39;s still symmetric. Just not as pretty."},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":0,"creation_date":1387528836,"post_id":902995,"comment_id":31002204,"body_markdown":"@MichaelMyers: I don&#39;t think the Matrix is symmetric either way. But what is currently is: All **Y** above (and on) the diagonal line and all **N** below.","body":"@MichaelMyers: I don&#39;t think the Matrix is symmetric either way. But what is currently is: All <b>Y</b> above (and on) the diagonal line and all <b>N</b> below."}],"tags":[],"owner":{"account_id":14461,"reputation":6473,"user_id":29771,"accept_rate":91,"display_name":"Glenn"},"comment_count":3,"down_vote_count":3,"up_vote_count":28,"is_accepted":false,"score":25,"last_activity_date":1696471474,"creation_date":1243135084,"answer_id":902995,"question_id":902922,"body_markdown":"The modifiers are well-described in [The Java Tutorials][1].  From there, we see this table:\r\n\r\n| Modifier | Class | Package | Subclass | World |\r\n| -------- | ----- | ----- | ----- | ----- |\r\n| `public` | Y | Y | Y | Y |\r\n| `protected` | Y | Y | Y | N |\r\n| *no modifier* | Y | Y | N | N |\r\n| `private` | Y | N | N | N |\r\n\r\nFrom this, the reason for the design decision is obvious: it&#39;s to have a nice symmetric matrix.\r\n\r\n[1]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n\r\n","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>The modifiers are well-described in <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">The Java Tutorials</a>.  From there, we see this table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Modifier</th>\n<th>Class</th>\n<th>Package</th>\n<th>Subclass</th>\n<th>World</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>public</code></td>\n<td>Y</td>\n<td>Y</td>\n<td>Y</td>\n<td>Y</td>\n</tr>\n<tr>\n<td><code>protected</code></td>\n<td>Y</td>\n<td>Y</td>\n<td>Y</td>\n<td>N</td>\n</tr>\n<tr>\n<td><em>no modifier</em></td>\n<td>Y</td>\n<td>Y</td>\n<td>N</td>\n<td>N</td>\n</tr>\n<tr>\n<td><code>private</code></td>\n<td>Y</td>\n<td>N</td>\n<td>N</td>\n<td>N</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>From this, the reason for the design decision is obvious: it's to have a nice symmetric matrix.</p>\n"},{"comments":[{"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"score":0,"creation_date":1243139531,"post_id":903050,"comment_id":710937,"body_markdown":"I&#39;ve never heard of that one, but I got into Java at 1.1... Thanks!","body":"I&#39;ve never heard of that one, but I got into Java at 1.1... Thanks!"},{"owner":{"account_id":137113,"reputation":11637,"user_id":341091,"accept_rate":75,"display_name":"Martin"},"score":1,"creation_date":1387528453,"post_id":903050,"comment_id":31002028,"body_markdown":"And since no one stops you from adding more classes to a package in a different jar file “package private” is not all that private either. As it is: Anything apart from private and public is more or less a hint to the programmer but no real protection.","body":"And since no one stops you from adding more classes to a package in a different jar file “package private” is not all that private either. As it is: Anything apart from private and public is more or less a hint to the programmer but no real protection."},{"owner":{"account_id":2999741,"reputation":1091,"user_id":2545439,"display_name":"Pieter De Bie"},"score":0,"creation_date":1543915706,"post_id":903050,"comment_id":94080376,"body_markdown":"A very late question, but do you have a source on this? I would like to now in more detail how and why this failed back then.","body":"A very late question, but do you have a source on this? I would like to now in more detail how and why this failed back then."},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1543943252,"post_id":903050,"comment_id":94096561,"body_markdown":"@PieterDeBie That was from memory. I upgraded the internal project I was working on from 1.0 to 1.1 around 22 years ago. bugs.sun.com gives me only &#39;&quot;private protected&quot; was eliminated to simplify other parts of the\nspecification - for example, rules regarding overriding require access\nprotections to be comparable (that is, strictly weaker or stronger than\none another.)  &#39;","body":"@PieterDeBie That was from memory. I upgraded the internal project I was working on from 1.0 to 1.1 around 22 years ago. bugs.sun.com gives me only &#39;&quot;private protected&quot; was eliminated to simplify other parts of the specification - for example, rules regarding overriding require access protections to be comparable (that is, strictly weaker or stronger than one another.)  &#39;"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1543943598,"post_id":903050,"comment_id":94096750,"body_markdown":"@Martin You can mark jars as &quot;sealed&quot; in the manifest, which prevents any additions. Of course the jar itself could be modified - including the class files. Unless you sign the jar, in which case you can&#39;t add any classes to the same *runtime* package with a different signature (assuming the signature is verified). Also any classes from a different class loader will be in a different *runtime* package.","body":"@Martin You can mark jars as &quot;sealed&quot; in the manifest, which prevents any additions. Of course the jar itself could be modified - including the class files. Unless you sign the jar, in which case you can&#39;t add any classes to the same <i>runtime</i> package with a different signature (assuming the signature is verified). Also any classes from a different class loader will be in a different <i>runtime</i> package."}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1543943878,"creation_date":1243137990,"answer_id":903050,"question_id":902922,"body_markdown":"In Java 1.0 there was a fifth access modifier: `private protected`. This was `protected` without the default access. Apparently it never actually worked properly and was dropped in 1.1. So it looks like claims the `protected` is defined the way it is for total ordering appear to be spurious. (**Edit:** It does appear that at least one of the reasons the fifth access modifier was removed in 1.1 was that the lack of total ordering interfered with the overload selection rules.) The `module` access modifier in Java 7 has a few design questions in this area.\r\n\r\nGiven that it was thought that it would be a good idea for the default access modifier for members to be &quot;package private&quot;, it seems reasonable that `protected` should have be at least this level of access. For my money, `protected` doesn&#39;t pay its way in the language at all.","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>In Java 1.0 there was a fifth access modifier: <code>private protected</code>. This was <code>protected</code> without the default access. Apparently it never actually worked properly and was dropped in 1.1. So it looks like claims the <code>protected</code> is defined the way it is for total ordering appear to be spurious. (<strong>Edit:</strong> It does appear that at least one of the reasons the fifth access modifier was removed in 1.1 was that the lack of total ordering interfered with the overload selection rules.) The <code>module</code> access modifier in Java 7 has a few design questions in this area.</p>\n\n<p>Given that it was thought that it would be a good idea for the default access modifier for members to be \"package private\", it seems reasonable that <code>protected</code> should have be at least this level of access. For my money, <code>protected</code> doesn't pay its way in the language at all.</p>\n"},{"tags":[],"owner":{"account_id":3165600,"reputation":379,"user_id":2675698,"display_name":"jbhardwaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410932978,"creation_date":1410932978,"answer_id":25883163,"question_id":902922,"body_markdown":"Java does follow its design principles on itself. What happens when you try to reduce/narrow the scope of public method in a subclass ? one gets an error.\r\nJava scope modifiers  levels follow : private &lt; (default) &lt; protected &lt; public \r\n\r\nAll class in package are supposed to be friendly because they work together. To make a member available in package it is defined in default scope. \r\n\r\nA subclass may reside outside the package, following scope levels again : private &lt; (default) &lt; protected &lt; public - We can not narrow down the scope. Protected is broader scope than default so **Java does not contradicts its own guidelines**. Thus, a protected member will be available in default scope. Also : class &lt; package &lt; Project.\r\n\r\nPlease do not limit modifiers to only visibility, but inheritance, structure are also in work at same time and add them to picture as well. If this was true : private &lt; protected &lt; (default) &lt; public. then all sub classes would have to reside in same package, then why you need to inherit you can access everything as default scope is there at applicable at package level. Default scope would have  lost its value and so does inheritance.\r\n\r\n\r\n\r\n","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>Java does follow its design principles on itself. What happens when you try to reduce/narrow the scope of public method in a subclass ? one gets an error.\nJava scope modifiers  levels follow : private &lt; (default) &lt; protected &lt; public </p>\n\n<p>All class in package are supposed to be friendly because they work together. To make a member available in package it is defined in default scope. </p>\n\n<p>A subclass may reside outside the package, following scope levels again : private &lt; (default) &lt; protected &lt; public - We can not narrow down the scope. Protected is broader scope than default so <strong>Java does not contradicts its own guidelines</strong>. Thus, a protected member will be available in default scope. Also : class &lt; package &lt; Project.</p>\n\n<p>Please do not limit modifiers to only visibility, but inheritance, structure are also in work at same time and add them to picture as well. If this was true : private &lt; protected &lt; (default) &lt; public. then all sub classes would have to reside in same package, then why you need to inherit you can access everything as default scope is there at applicable at package level. Default scope would have  lost its value and so does inheritance.</p>\n"}],"owner":{"account_id":11857,"reputation":88771,"user_id":23072,"accept_rate":74,"display_name":"Uri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8714,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"accepted_answer_id":902930,"answer_count":6,"score":49,"last_activity_date":1696471474,"creation_date":1243131538,"question_id":902922,"body_markdown":"What is the reason that in Java, a member with a &quot;protected&quot; modifier can not only be accessed by the same class and by subclasses, but also by everyone in the same package? \r\n\r\nI am wondering about language design reasons, not actual applications (e.g., testing)","title":"Why does the &quot;protected&quot; modifier in Java allow access to other classes in same package?","body":"<p>What is the reason that in Java, a member with a \"protected\" modifier can not only be accessed by the same class and by subclasses, but also by everyone in the same package? </p>\n\n<p>I am wondering about language design reasons, not actual applications (e.g., testing)</p>\n"},{"tags":["java","arrays","deep-copy"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1696467434,"post_id":77233720,"comment_id":136158080,"body_markdown":"Who said you have to?","body":"Who said you have to?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696469721,"post_id":77233720,"comment_id":136158229,"body_markdown":"We don&#39;t know what a `Person` Object is. We don&#39;t know if `deepCopy ( )` has been defined for `Person`. Since the return type is `Person` and `data` is an array of `Person`, `return data[j]` should not generate a *compiler error*. But, we don&#39;t have enough information to say that the `deepCopy ()` method should or should not be used.","body":"We don&#39;t know what a <code>Person</code> Object is. We don&#39;t know if <code>deepCopy ( )</code> has been defined for <code>Person</code>. Since the return type is <code>Person</code> and <code>data</code> is an array of <code>Person</code>, <code>return data[j]</code> should not generate a <i>compiler error</i>. But, we don&#39;t have enough information to say that the <code>deepCopy ()</code> method should or should not be used."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1696470926,"post_id":77233720,"comment_id":136158300,"body_markdown":"Typically, returning a copy is meant to prevent modifications to the original object. Whether or not that&#39;s required is entirely up to the design/contract of the code, which is decided by the developer(s) / designer(s). Though if the object is _immutable_, then returning a copy is superfluous.","body":"Typically, returning a copy is meant to prevent modifications to the original object. Whether or not that&#39;s required is entirely up to the design/contract of the code, which is decided by the developer(s) / designer(s). Though if the object is <i>immutable</i>, then returning a copy is superfluous."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1696471183,"post_id":77233720,"comment_id":136158313,"body_markdown":"Also see [What is the difference between a deep copy and a shallow copy?](https://stackoverflow.com/q/184710/6395627).","body":"Also see <a href=\"https://stackoverflow.com/q/184710/6395627\">What is the difference between a deep copy and a shallow copy?</a>."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1696471270,"post_id":77233857,"comment_id":136158320,"body_markdown":"The question is: &quot;Why are deep copies necessary&quot;. This does not answer the stated question at all. If anything it appears to advocate allowing returning a not-deep copy which is a very bad idea, i.e., an answer that makes things worse.","body":"The question is: &quot;Why are deep copies necessary&quot;. This does not answer the stated question at all. If anything it appears to advocate allowing returning a not-deep copy which is a very bad idea, i.e., an answer that makes things worse."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1696472489,"post_id":77233857,"comment_id":136158403,"body_markdown":"@rzwitserloot, yeah it&#39;s like what _&quot;ham is to a hamster&quot;_.  I almost fell over that was so funny.","body":"@rzwitserloot, yeah it&#39;s like what <i>&quot;ham is to a hamster&quot;</i>.  I almost fell over that was so funny."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1696474155,"post_id":77233857,"comment_id":136158505,"body_markdown":"It&#39;s a fairly common saying and leads to the proper conclusions (which is: Whenever &#39;is java like javascript&#39; comes up, assume the answer is no, that tends to lead you to the right conclusions&#39;). And, of course, that was a comment. Comments are the right place for notes and suggestions tangential to the central question. Answers are not.","body":"It&#39;s a fairly common saying and leads to the proper conclusions (which is: Whenever &#39;is java like javascript&#39; comes up, assume the answer is no, that tends to lead you to the right conclusions&#39;). And, of course, that was a comment. Comments are the right place for notes and suggestions tangential to the central question. Answers are not."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696470884,"creation_date":1696470884,"answer_id":77233857,"question_id":77233720,"body_markdown":"&gt; _&quot;... Why do I have to return the deep copy of the object in the fetch method in array structure? Why can&#39;t I simply return the data[j]? ...&quot;_\r\n\r\nIt appears to just be what the _fetch_ method does.\r\n\r\nYou can always create an alternate method, to return the actual object.\r\n\r\nAnd, on that note, it would be more useful to encapsulate a _non deep-copying_ method.\r\n\r\nHere is an example.\r\n\r\n```java\r\npublic Person fetchDeepCopy(String last) {\r\n    return fetch(last).deepCopy();\r\n}\r\n    \r\npublic Person fetch(String last) // find a specific person based on last name\r\n{\r\n    int j=0;\r\n    for(j=0; j&lt;next; j++) // iterate through the loop to find it\r\n    {\r\n        if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\r\n            break;\r\n    }\r\n\r\n    if(j==next)\r\n    {\r\n        return null; // person with that last name was not found\r\n    }\r\n    else\r\n    {\r\n        return data[j]; // person is found, so return a deep copy of their node\r\n    }\r\n} // end fetch\r\n```","title":"Why we have to return a deep copy of the object in the fetch method in array structure?","body":"<blockquote>\n<p><em>&quot;... Why do I have to return the deep copy of the object in the fetch method in array structure? Why can't I simply return the data[j]? ...&quot;</em></p>\n</blockquote>\n<p>It appears to just be what the <em>fetch</em> method does.</p>\n<p>You can always create an alternate method, to return the actual object.</p>\n<p>And, on that note, it would be more useful to encapsulate a <em>non deep-copying</em> method.</p>\n<p>Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Person fetchDeepCopy(String last) {\n    return fetch(last).deepCopy();\n}\n    \npublic Person fetch(String last) // find a specific person based on last name\n{\n    int j=0;\n    for(j=0; j&lt;next; j++) // iterate through the loop to find it\n    {\n        if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\n            break;\n    }\n\n    if(j==next)\n    {\n        return null; // person with that last name was not found\n    }\n    else\n    {\n        return data[j]; // person is found, so return a deep copy of their node\n    }\n} // end fetch\n</code></pre>\n"}],"owner":{"account_id":22346838,"reputation":7,"user_id":16565676,"display_name":"Coderey123"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696470884,"creation_date":1696466934,"question_id":77233720,"body_markdown":"```\r\nreturn data[j].deepCopy(); \r\n```\r\n\r\nWhy do I have to return the deep copy of the object in the fetch method in array structure? Why can&#39;t I simply return the data[j]?\r\n\r\nI would be very grateful if you also clarify me the concept of deep, shallow and cloning in java. I am beginner level programmer.\r\n\r\n```\r\npackage objectsortapp;\r\n\r\npublic class SortedArray {\r\n    private Person[] data; // reference to array data\r\n    private int next; // place where next item will be inserted\r\n    \r\n    public SortedArray(int max) // constructor\r\n    {\r\n        data = new Person[max]; // create the array with max elements\r\n        next = 0; // array is empty\r\n    } // end constructor\r\n    \r\n    public Person fetch(String last) // find a specific person based on last name\r\n    {\r\n        int j=0;\r\n        for(j=0; j&lt;next; j++) // iterate through the loop to find it\r\n        {\r\n            if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\r\n                break;\r\n        }\r\n        \r\n        if(j==next)\r\n        {\r\n            return null; // person with that last name was not found\r\n        }\r\n        else\r\n        {\r\n            return data[j].deepCopy(); // person is found, so return a deep copy of their node\r\n        }\r\n    } // end fetch\r\n}\r\n```\r\n","title":"Why we have to return a deep copy of the object in the fetch method in array structure?","body":"<pre><code>return data[j].deepCopy(); \n</code></pre>\n<p>Why do I have to return the deep copy of the object in the fetch method in array structure? Why can't I simply return the data[j]?</p>\n<p>I would be very grateful if you also clarify me the concept of deep, shallow and cloning in java. I am beginner level programmer.</p>\n<pre><code>package objectsortapp;\n\npublic class SortedArray {\n    private Person[] data; // reference to array data\n    private int next; // place where next item will be inserted\n    \n    public SortedArray(int max) // constructor\n    {\n        data = new Person[max]; // create the array with max elements\n        next = 0; // array is empty\n    } // end constructor\n    \n    public Person fetch(String last) // find a specific person based on last name\n    {\n        int j=0;\n        for(j=0; j&lt;next; j++) // iterate through the loop to find it\n        {\n            if((data[j].getLast()).equalsIgnoreCase(last)) // compare the entry in the array to the parameter value\n                break;\n        }\n        \n        if(j==next)\n        {\n            return null; // person with that last name was not found\n        }\n        else\n        {\n            return data[j].deepCopy(); // person is found, so return a deep copy of their node\n        }\n    } // end fetch\n}\n</code></pre>\n"},{"tags":["java","class","private"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":7,"creation_date":1360001189,"post_id":14692708,"comment_id":20544625,"body_markdown":"And what would you do with that class?","body":"And what would you do with that class?"},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":1,"creation_date":1360002514,"post_id":14692708,"comment_id":20545265,"body_markdown":"@OliCharlesworth it would mean that at the next access level above class (the package), access could be modified.","body":"@OliCharlesworth it would mean that at the next access level above class (the package), access could be modified."},{"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1360002576,"post_id":14692708,"comment_id":20545297,"body_markdown":"@stevebot: That distinction is public/package, no?","body":"@stevebot: That distinction is public/package, no?"},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":0,"creation_date":1360002865,"post_id":14692708,"comment_id":20545468,"body_markdown":"@OliCharlesworth yes the distinction in the OP&#39;s question is that an inner class is at the class access level, whereas the top level class is at the package access level.","body":"@OliCharlesworth yes the distinction in the OP&#39;s question is that an inner class is at the class access level, whereas the top level class is at the package access level."},{"owner":{"account_id":20717463,"reputation":190,"user_id":15212573,"display_name":"roudlek"},"score":0,"creation_date":1683885000,"post_id":14692708,"comment_id":134438268,"body_markdown":"it&#39;s like making a party that nobody can attend, literally no body, even the owner, and the bartender","body":"it&#39;s like making a party that nobody can attend, literally no body, even the owner, and the bartender"}],"answers":[{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"comment_count":0,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1481313673,"creation_date":1360001244,"answer_id":14692740,"question_id":14692708,"body_markdown":"`private` modifier will make your class inaccessible from outside, so there wouldn&#39;t be any advantage of this and I think that is why it is illegal and only `public`, `abstract` &amp; `final` are permitted. \r\n\r\nNote : Even you can not make it `protected`.","title":"Private class declaration","body":"<p><code>private</code> modifier will make your class inaccessible from outside, so there wouldn't be any advantage of this and I think that is why it is illegal and only <code>public</code>, <code>abstract</code> &amp; <code>final</code> are permitted. </p>\n\n<p>Note : Even you can not make it <code>protected</code>.</p>\n"},{"comments":[{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":0,"creation_date":1360002328,"post_id":14692777,"comment_id":20545158,"body_markdown":"I would argue this  is not true. The access level above a class is a package, and it is meaningful to define access modifiers at the package level (see package-private).","body":"I would argue this  is not true. The access level above a class is a package, and it is meaningful to define access modifiers at the package level (see package-private)."},{"owner":{"account_id":3608976,"reputation":413,"user_id":3010484,"display_name":"hipokito"},"score":1,"creation_date":1452447125,"post_id":14692777,"comment_id":57163187,"body_markdown":"I was wondering about a situation where you add a main method inside of the private class and access all of the other classes - public, protected, package-private - from within. This way no other classes will be able to instantiate this private class, which is probably what I want.","body":"I was wondering about a situation where you add a main method inside of the private class and access all of the other classes - public, protected, package-private - from within. This way no other classes will be able to instantiate this private class, which is probably what I want."}],"tags":[],"owner":{"account_id":2175209,"reputation":807,"user_id":1926031,"accept_rate":50,"display_name":"Amit"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1696470071,"creation_date":1360001333,"answer_id":14692777,"question_id":14692708,"body_markdown":"Private outer class would be useless as nothing can access it.\r\n\r\n\r\nSee more details:\r\n\r\nhttps://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private","title":"Private class declaration","body":"<p>Private outer class would be useless as nothing can access it.</p>\n<p>See more details:</p>\n<p><a href=\"https://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private\">Why can&#39;t we define a top level class as private?</a></p>\n"},{"comments":[{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":0,"creation_date":1360008014,"post_id":14692788,"comment_id":20548010,"body_markdown":"The question is why can&#39;t we declare the outer class like `private class MyClass`. As others have said, it&#39;s because it makes no sense. Of course we can declare it package-private like so: `class MyClass`, but I think the OP is clearly asking about `private class MyClass`.","body":"The question is why can&#39;t we declare the outer class like <code>private class MyClass</code>. As others have said, it&#39;s because it makes no sense. Of course we can declare it package-private like so: <code>class MyClass</code>, but I think the OP is clearly asking about <code>private class MyClass</code>."},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":1,"creation_date":1360008215,"post_id":14692788,"comment_id":20548113,"body_markdown":"@GriffeyDog it&#39;s not because it &quot;makes no sense&quot;, it because Java&#39;s syntax for package-private requires no access modifier. You do not need to state `private class MyClass` because you can simply state `class Myclass`","body":"@GriffeyDog it&#39;s not because it &quot;makes no sense&quot;, it because Java&#39;s syntax for package-private requires no access modifier. You do not need to state <code>private class MyClass</code> because you can simply state <code>class Myclass</code>"},{"owner":{"account_id":198018,"reputation":8276,"user_id":442451,"accept_rate":100,"display_name":"GriffeyDog"},"score":0,"creation_date":1360008798,"post_id":14692788,"comment_id":20548415,"body_markdown":"But `private`, where it _can_ be used (like for class member declarations), does not mean package-private. It means no other classes can see the member. Class members can be defined as `public`, `protected`, default (no modifier), _or `private`_, and all of those have different meanings.","body":"But <code>private</code>, where it <i>can</i> be used (like for class member declarations), does not mean package-private. It means no other classes can see the member. Class members can be defined as <code>public</code>, <code>protected</code>, default (no modifier), <i>or <code>private</code></i>, and all of those have different meanings."},{"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"score":1,"creation_date":1360011468,"post_id":14692788,"comment_id":20549790,"body_markdown":"@GriffeyDog True, but the big misunderstanding is that class members vs. top level classes are entirely different access levels. `public` applied to a class member vs. `public` applied to a top level class have different meanings aswell.","body":"@GriffeyDog True, but the big misunderstanding is that class members vs. top level classes are entirely different access levels. <code>public</code> applied to a class member vs. <code>public</code> applied to a top level class have different meanings aswell."}],"tags":[],"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"comment_count":4,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1360003027,"creation_date":1360001393,"answer_id":14692788,"question_id":14692708,"body_markdown":"To answer your question: \r\n \r\n\r\n \r\n\r\n&gt;    If we can have inner private class then why can&#39;t we have outer\r\n&gt; private class...?\r\n\r\nYou can, the distinction is that the inner class is at the &quot;class&quot; access level, whereas the &quot;outer&quot; class is at the &quot;package&quot; access level. From the [Oracle Tutorials][1]: \r\n\r\n&gt; If a class has no modifier (the default, also known as package-private), it is visible only within its own package (packages are named groups of related classes — you will learn about them in a later lesson.) \r\n\r\nThus, package-private (declaring no modifier) is the effect you would expect from declaring an &quot;outer&quot; class private, the syntax is just different.  \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html","title":"Private class declaration","body":"<p>To answer your question: </p>\n\n<blockquote>\n  <p>If we can have inner private class then why can't we have outer\n  private class...?</p>\n</blockquote>\n\n<p>You can, the distinction is that the inner class is at the \"class\" access level, whereas the \"outer\" class is at the \"package\" access level. From the <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\">Oracle Tutorials</a>: </p>\n\n<blockquote>\n  <p>If a class has no modifier (the default, also known as package-private), it is visible only within its own package (packages are named groups of related classes — you will learn about them in a later lesson.) </p>\n</blockquote>\n\n<p>Thus, package-private (declaring no modifier) is the effect you would expect from declaring an \"outer\" class private, the syntax is just different.  </p>\n"},{"tags":[],"owner":{"account_id":1200939,"reputation":29489,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1360001661,"creation_date":1360001661,"answer_id":14692868,"question_id":14692708,"body_markdown":"You can&#39;t have `private` class but you can have `second` class:\r\n\r\n    public class App14692708 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tPC pc = new PC();\r\n    \t\tSystem.out.println(pc);\r\n    \t}\r\n    }\r\n    \r\n    class PC {\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;I am PC instance &quot; + super.toString();\r\n    \t}\r\n    }\r\n\r\nAlso remember that `static` inner class is indistinguishable of separate class except it&#39;s name is `OuterClass.InnerClass`. So if you don&#39;t want to use &quot;closures&quot;, use static inner class.\r\n\r\n","title":"Private class declaration","body":"<p>You can't have <code>private</code> class but you can have <code>second</code> class:</p>\n\n<pre><code>public class App14692708 {\n    public static void main(String[] args) {\n        PC pc = new PC();\n        System.out.println(pc);\n    }\n}\n\nclass PC {\n    @Override\n    public String toString() {\n        return \"I am PC instance \" + super.toString();\n    }\n}\n</code></pre>\n\n<p>Also remember that <code>static</code> inner class is indistinguishable of separate class except it's name is <code>OuterClass.InnerClass</code>. So if you don't want to use \"closures\", use static inner class.</p>\n"},{"tags":[],"owner":{"account_id":752438,"reputation":113,"user_id":754244,"display_name":"Prabhakar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360001807,"creation_date":1360001807,"answer_id":14692902,"question_id":14692708,"body_markdown":"  private makes the class accessible only to the class in which it is declared. If we make entire class private no one from outside can access the class and makes it useless. \r\n\r\n   Inner class can be made private because the outer class can access inner class where as it is not the case with if you make outer class private.","title":"Private class declaration","body":"<p>private makes the class accessible only to the class in which it is declared. If we make entire class private no one from outside can access the class and makes it useless. </p>\n\n<p>Inner class can be made private because the outer class can access inner class where as it is not the case with if you make outer class private.</p>\n"},{"comments":[{"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"score":2,"creation_date":1465758245,"post_id":14692929,"comment_id":63023639,"body_markdown":"I think that is wrong. class B has the default accessor, ence is available in the whole test package.","body":"I think that is wrong. class B has the default accessor, ence is available in the whole test package."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1465770764,"post_id":14692929,"comment_id":63027086,"body_markdown":"@ced - I see no visibility requirements in the question. Just a private outer class.","body":"@ced - I see no visibility requirements in the question. Just a private outer class."},{"owner":{"account_id":5399275,"reputation":16206,"user_id":4299560,"accept_rate":90,"display_name":"Ced"},"score":2,"creation_date":1465772245,"post_id":14692929,"comment_id":63027366,"body_markdown":"It might give misleading informations to future readers. &quot;cannot be accessed anywhere else but inside `Test`&quot;. This statement isn&#39;t technically true","body":"It might give misleading informations to future readers. &quot;cannot be accessed anywhere else but inside <code>Test</code>&quot;. This statement isn&#39;t technically true"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1465868361,"post_id":14692929,"comment_id":63068824,"body_markdown":"@ced Fixed That For You","body":"@ced Fixed That For You"},{"owner":{"account_id":3517130,"reputation":5214,"user_id":2940265,"accept_rate":91,"display_name":"Menuka Ishan"},"score":2,"creation_date":1526401473,"post_id":14692929,"comment_id":87726307,"body_markdown":"I can&#39;t see a private class in here. There is only Public and Default class in here. Of course These works. Because Default class B is Accessible anywhere inside the package. I don&#39;t see how is this going to be an answer to above question.","body":"I can&#39;t see a private class in here. There is only Public and Default class in here. Of course These works. Because Default class B is Accessible anywhere inside the package. I don&#39;t see how is this going to be an answer to above question."}],"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":5,"down_vote_count":3,"up_vote_count":7,"is_accepted":false,"score":4,"last_activity_date":1538972230,"creation_date":1360001947,"answer_id":14692929,"question_id":14692708,"body_markdown":"You can.\r\n\r\n    package test;\r\n\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            B b = new B();\r\n        }\r\n    }\r\n\r\n    class B {\r\n      // Essentially package-private - cannot be accessed anywhere else but inside the `test` package\r\n    }\r\n","title":"Private class declaration","body":"<p>You can.</p>\n\n<pre><code>package test;\n\npublic class Test {\n    public static void main(String[] args) {\n        B b = new B();\n    }\n}\n\nclass B {\n  // Essentially package-private - cannot be accessed anywhere else but inside the `test` package\n}\n</code></pre>\n"}],"owner":{"account_id":2207777,"reputation":393,"user_id":1950528,"display_name":"T__"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183643,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"closed_date":1360007456,"answer_count":6,"score":36,"last_activity_date":1696470071,"creation_date":1360001119,"question_id":14692708,"body_markdown":"&gt; **Possible Duplicate:**  \n&gt; [Java: Why can we define a top level class as private?](https://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private)  \n\n&lt;!-- End of automatically inserted text --&gt;\n\nWhy can&#39;t we declare a **private** outer class? If we can have inner private class then why can&#39;t we have outer private class...?","title":"Private class declaration","body":"<blockquote>\n  <p><strong>Possible Duplicate:</strong><br>\n  <a href=\"https://stackoverflow.com/questions/1913863/java-why-can-we-define-a-top-level-class-as-private\">Java: Why can we define a top level class as private?</a>  </p>\n</blockquote>\n\n\n\n<p>Why can't we declare a <strong>private</strong> outer class? If we can have inner private class then why can't we have outer private class...?</p>\n"},{"tags":["java","arrays","string","arraylist","collections"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":4,"creation_date":1532630454,"post_id":4042434,"comment_id":90058875,"body_markdown":"Have [made this answer](https://stackoverflow.com/a/51545546/1746118) with an updated approach with **JDK-11** introducing a new an equally performant API to `toArray(T[])` and similar in syntax to `Stream.toArray`.","body":"Have <a href=\"https://stackoverflow.com/a/51545546/1746118\">made this answer</a> with an updated approach with <b>JDK-11</b> introducing a new an equally performant API to <code>toArray(T[])</code> and similar in syntax to <code>Stream.toArray</code>."}],"answers":[{"comments":[{"owner":{"account_id":1215057,"reputation":6297,"user_id":1182823,"accept_rate":74,"display_name":"Adil Malik"},"score":0,"creation_date":1371645608,"post_id":4042464,"comment_id":24896507,"body_markdown":"It shows this warning in logcat: Converting to string: TypedValue{t=0x12/d=0x0 a=3 r=0x7f050009}","body":"It shows this warning in logcat: Converting to string: TypedValue{t=0x12/d=0x0 a=3 r=0x7f050009}"},{"owner":{"account_id":1674818,"reputation":3154,"user_id":1540600,"display_name":"sferencik"},"score":0,"creation_date":1445857068,"post_id":4042464,"comment_id":54483607,"body_markdown":"@Thorbj&#248;rnRavnAndersen: the size of the array doesn&#39;t make any difference functionally but if you pass it in with the right size, you save the JVM the work of resizing it.","body":"@Thorbj&#248;rnRavnAndersen: the size of the array doesn&#39;t make any difference functionally but if you pass it in with the right size, you save the JVM the work of resizing it."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":76,"creation_date":1453364972,"post_id":4042464,"comment_id":57571557,"body_markdown":"Turns out that providing a zero-length array, even creating it and throwing it away, is on average faster than allocating an array of the right size. For benchmarks and explanation see here: http://shipilev.net/blog/2016/arrays-wisdom-ancients/","body":"Turns out that providing a zero-length array, even creating it and throwing it away, is on average faster than allocating an array of the right size. For benchmarks and explanation see here: <a href=\"http://shipilev.net/blog/2016/arrays-wisdom-ancients/\" rel=\"nofollow noreferrer\">shipilev.net/blog/2016/arrays-wisdom-ancients</a>"},{"owner":{"account_id":9345376,"reputation":415,"user_id":6936803,"display_name":"Lyuboslav"},"score":0,"creation_date":1509557677,"post_id":4042464,"comment_id":81068670,"body_markdown":"@Nyerguds Can you explain how java&#39;s fake generics disallow such function?","body":"@Nyerguds Can you explain how java&#39;s fake generics disallow such function?"},{"owner":{"account_id":169541,"reputation":5448,"user_id":395685,"accept_rate":100,"display_name":"Nyerguds"},"score":3,"creation_date":1509695529,"post_id":4042464,"comment_id":81130813,"body_markdown":"@lyuboslavkanev The problem is that having the generic type in Java isn&#39;t enough to actually create objects based on that type; not even an array (which is ridiculous, because that should work for _any_ type). All that can be done with it, as far as I can see, is casting. In fact, to even create objects of the type, you need to have the actual `Class` object, which seems to be completely impossible to derive from the generic type. The reason for this, as I said, is that the whole construction is fake; it&#39;s all just stored as Object internally.","body":"@lyuboslavkanev The problem is that having the generic type in Java isn&#39;t enough to actually create objects based on that type; not even an array (which is ridiculous, because that should work for <i>any</i> type). All that can be done with it, as far as I can see, is casting. In fact, to even create objects of the type, you need to have the actual <code>Class</code> object, which seems to be completely impossible to derive from the generic type. The reason for this, as I said, is that the whole construction is fake; it&#39;s all just stored as Object internally."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":5,"down_vote_count":1,"up_vote_count":2079,"is_accepted":true,"score":2078,"last_activity_date":1457717310,"creation_date":1288265692,"answer_id":4042464,"question_id":4042434,"body_markdown":"    List&lt;String&gt; list = ..;\r\n    String[] array = list.toArray(new String[0]);\r\n\r\nFor example:\r\n\r\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    //add some stuff\r\n    list.add(&quot;android&quot;);\r\n    list.add(&quot;apple&quot;);\r\n    String[] stringArray = list.toArray(new String[0]);\r\n    \r\n\r\nThe `toArray()` method without passing any argument returns `Object[]`. So you have to pass an array as an argument, which will be filled with the data from the list, and returned. You can pass an empty array as well, but you can also pass an array with the desired size.\r\n\r\n**Important update**: Originally the code above used `new String[list.size()]`. However, [this blogpost][1] reveals that due to JVM optimizations, using `new String[0]` is better now.\r\n\r\n\r\n  [1]: http://shipilev.net/blog/2016/arrays-wisdom-ancients/","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>List&lt;String&gt; list = ..;\nString[] array = list.toArray(new String[0]);\n</code></pre>\n\n<p>For example:</p>\n\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n//add some stuff\nlist.add(\"android\");\nlist.add(\"apple\");\nString[] stringArray = list.toArray(new String[0]);\n</code></pre>\n\n<p>The <code>toArray()</code> method without passing any argument returns <code>Object[]</code>. So you have to pass an array as an argument, which will be filled with the data from the list, and returned. You can pass an empty array as well, but you can also pass an array with the desired size.</p>\n\n<p><strong>Important update</strong>: Originally the code above used <code>new String[list.size()]</code>. However, <a href=\"http://shipilev.net/blog/2016/arrays-wisdom-ancients/\" rel=\"noreferrer\">this blogpost</a> reveals that due to JVM optimizations, using <code>new String[0]</code> is better now.</p>\n"},{"comments":[{"owner":{"account_id":368566,"reputation":817,"user_id":715454,"display_name":"Alan Delimon"},"score":13,"creation_date":1360337179,"post_id":4043131,"comment_id":20685520,"body_markdown":"This works, but isn&#39;t super efficient, and duplicates functionality in the accepted answer with extra code.","body":"This works, but isn&#39;t super efficient, and duplicates functionality in the accepted answer with extra code."}],"tags":[],"owner":{"account_id":141450,"reputation":223,"user_id":348479,"display_name":"HZhang"},"comment_count":1,"down_vote_count":8,"up_vote_count":13,"is_accepted":false,"score":5,"last_activity_date":1288270695,"creation_date":1288270695,"answer_id":4043131,"question_id":4042434,"body_markdown":"    List &lt;String&gt; list = ...\r\n    String[] array = new String[list.size()];\r\n    int i=0;\r\n    for(String s: list){\r\n      array[i++] = s;\r\n    }\r\n    ","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>List &lt;String&gt; list = ...\nString[] array = new String[list.size()];\nint i=0;\nfor(String s: list){\n  array[i++] = s;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":534006,"reputation":516,"user_id":904214,"display_name":"Jason Weden"},"score":4,"creation_date":1409239109,"post_id":16314659,"comment_id":39899819,"body_markdown":"Suggest camelcase so &quot;objectList =...&quot; and &quot;stringArray&quot;. Also, it is Arrays.copyOf...capital O.","body":"Suggest camelcase so &quot;objectList =...&quot; and &quot;stringArray&quot;. Also, it is Arrays.copyOf...capital O."},{"owner":{"account_id":4760928,"reputation":2129,"user_id":3848334,"accept_rate":76,"display_name":"David"},"score":1,"creation_date":1499064013,"post_id":16314659,"comment_id":76736468,"body_markdown":"list.toArray() internally uses Arrays.copyOf()","body":"list.toArray() internally uses Arrays.copyOf()"}],"tags":[],"owner":{"account_id":2710034,"reputation":347,"user_id":2338705,"display_name":"Rajesh Vemula"},"comment_count":2,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1453439709,"creation_date":1367395229,"answer_id":16314659,"question_id":4042434,"body_markdown":"    ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\r\n    Object[] objectList = arrayList.toArray();\r\n    String[] stringArray =  Arrays.copyOf(objectList,objectList.length,String[].class);\r\n\r\nUsing copyOf, ArrayList to arrays might be done also.","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>ArrayList&lt;String&gt; arrayList = new ArrayList&lt;String&gt;();\nObject[] objectList = arrayList.toArray();\nString[] stringArray =  Arrays.copyOf(objectList,objectList.length,String[].class);\n</code></pre>\n\n<p>Using copyOf, ArrayList to arrays might be done also.</p>\n"},{"comments":[{"owner":{"account_id":2372918,"reputation":4836,"user_id":2077101,"accept_rate":64,"display_name":"James Watkins"},"score":28,"creation_date":1459605011,"post_id":30302969,"comment_id":60365991,"body_markdown":"Or any benefits?","body":"Or any benefits?"},{"owner":{"account_id":1246120,"reputation":768,"user_id":1207540,"accept_rate":82,"display_name":"Glen Mazza"},"score":1,"creation_date":1469463109,"post_id":30302969,"comment_id":64534454,"body_markdown":"I would prefer that syntax, but IntelliJ displays a compiler error with that, complains &quot;T[] is not a functional interface.&quot;","body":"I would prefer that syntax, but IntelliJ displays a compiler error with that, complains &quot;T[] is not a functional interface.&quot;"},{"owner":{"account_id":147140,"reputation":91,"user_id":1416864,"display_name":"Udara Bentota"},"score":3,"creation_date":1479281351,"post_id":30302969,"comment_id":68485956,"body_markdown":"@GlenMazza you can only use `toArray` on a `Stream` object. This compilation error may occur if you reduce the stream using a `Collectors` and then try to apply `toArray`.","body":"@GlenMazza you can only use <code>toArray</code> on a <code>Stream</code> object. This compilation error may occur if you reduce the stream using a <code>Collectors</code> and then try to apply <code>toArray</code>."},{"owner":{"account_id":1001293,"reputation":1879,"user_id":5337834,"accept_rate":88,"display_name":"John Strood"},"score":0,"creation_date":1607697101,"post_id":30302969,"comment_id":115361057,"body_markdown":"I don&#39;t get it. `String[]::new` is equivalent to `() -&gt; new String[]`. But the given interface method expects an integer. Shouldn&#39;t it be `(list.size()) -&gt; new String[]`, so `String[list.size()]::new` ?","body":"I don&#39;t get it. <code>String[]::new</code> is equivalent to <code>() -&gt; new String[]</code>. But the given interface method expects an integer. Shouldn&#39;t it be <code>(list.size()) -&gt; new String[]</code>, so <code>String[list.size()]::new</code> ?"},{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":2,"creation_date":1613025436,"post_id":30302969,"comment_id":116949712,"body_markdown":"@JohnStrood `String[]::new` is equivalent to `i -&gt; new String[i]`. See https://stackoverflow.com/questions/29447561/how-do-java-8-array-constructor-references-work","body":"@JohnStrood <code>String[]::new</code> is equivalent to <code>i -&gt; new String[i]</code>. See <a href=\"https://stackoverflow.com/questions/29447561/how-do-java-8-array-constructor-references-work\" title=\"how do java 8 array constructor references work\">stackoverflow.com/questions/29447561/&hellip;</a>"},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1649838664,"post_id":30302969,"comment_id":126974545,"body_markdown":"Java 20: String[] strings = list.toArray();","body":"Java 20: String[] strings = list.toArray();"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682644822,"post_id":30302969,"comment_id":134252139,"body_markdown":"@LluisMartinez I&#39;m confused by your comment. First of all, Java 20 wasn&#39;t released until March of 2023, yet your comment is from almost a year before that. Also, `Collection#toArray()`, which `List` inherits, returns an `Object[]`, not a `String[]`. I&#39;m not seeing anything in Java 20 that changes that. So, `String[] strings = list.toArray();` should fail to compile.","body":"@LluisMartinez I&#39;m confused by your comment. First of all, Java 20 wasn&#39;t released until March of 2023, yet your comment is from almost a year before that. Also, <code>Collection#toArray()</code>, which <code>List</code> inherits, returns an <code>Object[]</code>, not a <code>String[]</code>. I&#39;m not seeing anything in Java 20 that changes that. So, <code>String[] strings = list.toArray();</code> should fail to compile."}],"tags":[],"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"comment_count":7,"down_vote_count":0,"up_vote_count":258,"is_accepted":false,"score":258,"last_activity_date":1574299239,"creation_date":1431951277,"answer_id":30302969,"question_id":4042434,"body_markdown":"An alternative in Java 8:\r\n\r\n    String[] strings = list.stream().toArray(String[]::new);\r\n\r\nJava 11+:\r\n\r\n    String[] strings = list.toArray(String[]::new);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>An alternative in Java 8:</p>\n\n<pre><code>String[] strings = list.stream().toArray(String[]::new);\n</code></pre>\n\n<p>Java 11+:</p>\n\n<pre><code>String[] strings = list.toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7721153,"reputation":780,"user_id":5847353,"display_name":"codecubed"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1453916468,"creation_date":1453916468,"answer_id":35044382,"question_id":4042434,"body_markdown":"You can use the `toArray()` method for `List`:\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n    list.add(&quot;apple&quot;);\r\n    list.add(&quot;banana&quot;);\r\n\r\n    String[] array = list.toArray(new String[list.size()]);\r\n\r\nOr you can manually add the elements to an array:\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n    list.add(&quot;apple&quot;);\r\n    list.add(&quot;banana&quot;);\r\n    \r\n    String[] array = new String[list.size()];\r\n    \r\n    for (int i = 0; i &lt; list.size(); i++) {\r\n        array[i] = list.get(i);\r\n    }\r\nHope this helps!","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>You can use the <code>toArray()</code> method for <code>List</code>:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nlist.add(\"apple\");\nlist.add(\"banana\");\n\nString[] array = list.toArray(new String[list.size()]);\n</code></pre>\n\n<p>Or you can manually add the elements to an array:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\nlist.add(\"apple\");\nlist.add(\"banana\");\n\nString[] array = new String[list.size()];\n\nfor (int i = 0; i &lt; list.size(); i++) {\n    array[i] = list.get(i);\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":4620709,"reputation":8655,"user_id":3745896,"accept_rate":93,"display_name":"River"},"score":13,"creation_date":1454689045,"post_id":35228293,"comment_id":58172125,"body_markdown":"This is really already contained in [this answer](http://stackoverflow.com/a/30302969/3745896). Perhaps add it as an edit to that answer instead of as an entirely new one.","body":"This is really already contained in <a href=\"http://stackoverflow.com/a/30302969/3745896\">this answer</a>. Perhaps add it as an edit to that answer instead of as an entirely new one."},{"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"score":16,"creation_date":1518612252,"post_id":35228293,"comment_id":84576605,"body_markdown":"Why `parallelStream()` instead of simply `stream()`?","body":"Why <code>parallelStream()</code> instead of simply <code>stream()</code>?"}],"tags":[],"owner":{"account_id":2044891,"reputation":3271,"user_id":4503311,"display_name":"Mike Shauneu"},"comment_count":2,"down_vote_count":5,"up_vote_count":16,"is_accepted":false,"score":11,"last_activity_date":1454687666,"creation_date":1454687666,"answer_id":35228293,"question_id":4042434,"body_markdown":"In Java 8:\r\n\r\n    String[] strings = list.parallelStream().toArray(String[]::new);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In Java 8:</p>\n\n<pre><code>String[] strings = list.parallelStream().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6411785,"reputation":1903,"user_id":4971315,"accept_rate":45,"display_name":"Roberto Attias"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1696469603,"creation_date":1483569420,"answer_id":41474402,"question_id":4042434,"body_markdown":"In case some extra manipulation of the data is desired, for which the user wants a function, this approach is not perfect (as it requires passing the class of the element as second parameter), but works:\r\n\r\n```java\r\nimport java.util.ArrayList;\r\nimport java.lang.reflect.Array;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) {\r\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\r\n    al.add(1);\r\n    al.add(2);\r\n    Integer[] arr = convert(al, Integer.class);\r\n    for (int i=0; i&lt;arr.length; i++)\r\n      System.out.println(arr[i]);\r\n  }\r\n\r\n  public static &lt;T&gt; T[] convert(ArrayList&lt;T&gt; al, Class clazz) {\r\n    return (T[]) al.toArray((T[])Array.newInstance(clazz, al.size()));\r\n  }\r\n}\r\n```","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In case some extra manipulation of the data is desired, for which the user wants a function, this approach is not perfect (as it requires passing the class of the element as second parameter), but works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.lang.reflect.Array;\n\npublic class Test {\n  public static void main(String[] args) {\n    ArrayList&lt;Integer&gt; al = new ArrayList&lt;&gt;();\n    al.add(1);\n    al.add(2);\n    Integer[] arr = convert(al, Integer.class);\n    for (int i=0; i&lt;arr.length; i++)\n      System.out.println(arr[i]);\n  }\n\n  public static &lt;T&gt; T[] convert(ArrayList&lt;T&gt; al, Class clazz) {\n    return (T[]) al.toArray((T[])Array.newInstance(clazz, al.size()));\n  }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":128453,"reputation":787,"user_id":326294,"display_name":"Alain BECKER"},"score":0,"creation_date":1622973706,"post_id":44049143,"comment_id":119940382,"body_markdown":"If *generics* has a meaning, wouldn&#39;t it rather be &quot;convert any List&lt;Type&gt; to Type[]&quot;?","body":"If <i>generics</i> has a meaning, wouldn&#39;t it rather be &quot;convert any List&lt;Type&gt; to Type[]&quot;?"}],"tags":[],"owner":{"account_id":1342249,"reputation":7921,"user_id":1283715,"accept_rate":74,"display_name":"Khaled Lela"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522848232,"creation_date":1495114146,"answer_id":44049143,"question_id":4042434,"body_markdown":"**Generics** solution to covert any `List&lt;Type&gt;` to `String []`:\r\n\r\n    public static  &lt;T&gt; String[] listToArray(List&lt;T&gt; list) {\r\n        String [] array = new String[list.size()];\r\n        for (int i = 0; i &lt; array.length; i++)\r\n            array[i] = list.get(i).toString();\r\n        return array;\r\n    }\r\n\r\n**Note** You must `override toString()` method.\r\n\r\n    class Car {\r\n      private String name;\r\n      public Car(String name) {\r\n        this.name = name;\r\n      }\r\n      public String toString() {\r\n        return name;\r\n      }\r\n    }\r\n    final List&lt;Car&gt; carList = new ArrayList&lt;Car&gt;();\r\n    carList.add(new Car(&quot;BMW&quot;))\r\n    carList.add(new Car(&quot;Mercedes&quot;))\r\n    carList.add(new Car(&quot;Skoda&quot;))\r\n    final String[] carArray = listToArray(carList);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p><strong>Generics</strong> solution to covert any <code>List&lt;Type&gt;</code> to <code>String []</code>:</p>\n\n<pre><code>public static  &lt;T&gt; String[] listToArray(List&lt;T&gt; list) {\n    String [] array = new String[list.size()];\n    for (int i = 0; i &lt; array.length; i++)\n        array[i] = list.get(i).toString();\n    return array;\n}\n</code></pre>\n\n<p><strong>Note</strong> You must <code>override toString()</code> method.</p>\n\n<pre><code>class Car {\n  private String name;\n  public Car(String name) {\n    this.name = name;\n  }\n  public String toString() {\n    return name;\n  }\n}\nfinal List&lt;Car&gt; carList = new ArrayList&lt;Car&gt;();\ncarList.add(new Car(\"BMW\"))\ncarList.add(new Car(\"Mercedes\"))\ncarList.add(new Car(\"Skoda\"))\nfinal String[] carArray = listToArray(carList);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1503911103,"post_id":45915002,"comment_id":78789111,"body_markdown":"I downvoted because: 1. no use of generics which force you into 2. using `.toString()` where no explicit cast would be needed, 3. you don&#39;t even increment `i`, and 4. the `while` would be better off replaced by a `for`. Suggested code: `ArrayList&lt;String&gt; stringList = ... ; String[] stringArray = new String[stringList.size()]; int i = 0; for(Iterator&lt;String&gt; it = stringList.iterator(); it.hasNext(); i++) { stringArray[i] = it.next(); }`","body":"I downvoted because: 1. no use of generics which force you into 2. using <code>.toString()</code> where no explicit cast would be needed, 3. you don&#39;t even increment <code>i</code>, and 4. the <code>while</code> would be better off replaced by a <code>for</code>. Suggested code: <code>ArrayList&lt;String&gt; stringList = ... ; String[] stringArray = new String[stringList.size()]; int i = 0; for(Iterator&lt;String&gt; it = stringList.iterator(); it.hasNext(); i++) { stringArray[i] = it.next(); }</code>"},{"owner":{"account_id":11237496,"reputation":129,"user_id":8243078,"display_name":"Vatsal Chavda"},"score":0,"creation_date":1503928221,"post_id":45915002,"comment_id":78799797,"body_markdown":"Okay, I got it now. Thanks.","body":"Okay, I got it now. Thanks."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1503928710,"post_id":45915002,"comment_id":78800166,"body_markdown":"Well, ideally, you should edit your code to include those comments (that is... if you think they&#39;re good for your answer!). I won&#39;t consider removing my downvote while the code remains unchanged.","body":"Well, ideally, you should edit your code to include those comments (that is... if you think they&#39;re good for your answer!). I won&#39;t consider removing my downvote while the code remains unchanged."},{"owner":{"account_id":11237496,"reputation":129,"user_id":8243078,"display_name":"Vatsal Chavda"},"score":0,"creation_date":1503929908,"post_id":45915002,"comment_id":78801027,"body_markdown":"I am new here, so I don&#39;t know yet how things work here. Although, appreciate your help mate.","body":"I am new here, so I don&#39;t know yet how things work here. Although, appreciate your help mate."},{"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"score":0,"creation_date":1503930153,"post_id":45915002,"comment_id":78801204,"body_markdown":"This is much better! I&#39;ve edited just a bit, but you&#39;ve just experienced how it works: provide answer, improve them, get the laurels ;)","body":"This is much better! I&#39;ve edited just a bit, but you&#39;ve just experienced how it works: provide answer, improve them, get the laurels ;)"}],"tags":[],"owner":{"account_id":11237496,"reputation":129,"user_id":8243078,"display_name":"Vatsal Chavda"},"comment_count":5,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1522848172,"creation_date":1503909796,"answer_id":45915002,"question_id":4042434,"body_markdown":"You can use **`Iterator&lt;String&gt;`** to iterate the elements of the `ArrayList&lt;String&gt;`:\r\n\r\n\r\n    ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    String[] array = new String[list.size()];\r\n    int i = 0;\r\n    for (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); i++) {\r\n        array[i] = iterator.next();\r\n    }\r\n\r\nNow you can retrive elements from `String[]` using any Loop.","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>You can use <strong><code>Iterator&lt;String&gt;</code></strong> to iterate the elements of the <code>ArrayList&lt;String&gt;</code>:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();\nString[] array = new String[list.size()];\nint i = 0;\nfor (Iterator&lt;String&gt; iterator = list.iterator(); iterator.hasNext(); i++) {\n    array[i] = iterator.next();\n}\n</code></pre>\n\n<p>Now you can retrive elements from <code>String[]</code> using any Loop.</p>\n"},{"tags":[],"owner":{"account_id":6301592,"reputation":436,"user_id":5303000,"display_name":"Denis Fedak"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1514366881,"creation_date":1514366881,"answer_id":47989547,"question_id":4042434,"body_markdown":"    private String[] prepareDeliveryArray(List&lt;DeliveryServiceModel&gt; deliveryServices) {\r\n        String[] delivery = new String[deliveryServices.size()];\r\n        for (int i = 0; i &lt; deliveryServices.size(); i++) {\r\n            delivery[i] = deliveryServices.get(i).getName();\r\n        }\r\n        return delivery;\r\n    }","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>private String[] prepareDeliveryArray(List&lt;DeliveryServiceModel&gt; deliveryServices) {\n    String[] delivery = new String[deliveryServices.size()];\n    for (int i = 0; i &lt; deliveryServices.size(); i++) {\n        delivery[i] = deliveryServices.get(i).getName();\n    }\n    return delivery;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518614207,"creation_date":1518614207,"answer_id":48788179,"question_id":4042434,"body_markdown":"If your application is already using Apache Commons lib, you can slightly modify the accepted answer to not create a new empty array each time:\r\n\r\n    List&lt;String&gt; list = ..;\r\n    String[] array = list.toArray(ArrayUtils.EMPTY_STRING_ARRAY);\r\n    \r\n    // or if using static import\r\n    String[] array = list.toArray(EMPTY_STRING_ARRAY);\r\n\r\nThere are a few more preallocated empty arrays of different types in `ArrayUtils`.\r\n\r\nAlso we can trick JVM to create en empty array for us this way:\r\n\r\n    String[] array = list.toArray(ArrayUtils.toArray());\r\n    \r\n    // or if using static import\r\n    String[] array = list.toArray(toArray());\r\n\r\nBut there&#39;s really no advantage this way, just a matter of taste, IMO.","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>If your application is already using Apache Commons lib, you can slightly modify the accepted answer to not create a new empty array each time:</p>\n\n<pre><code>List&lt;String&gt; list = ..;\nString[] array = list.toArray(ArrayUtils.EMPTY_STRING_ARRAY);\n\n// or if using static import\nString[] array = list.toArray(EMPTY_STRING_ARRAY);\n</code></pre>\n\n<p>There are a few more preallocated empty arrays of different types in <code>ArrayUtils</code>.</p>\n\n<p>Also we can trick JVM to create en empty array for us this way:</p>\n\n<pre><code>String[] array = list.toArray(ArrayUtils.toArray());\n\n// or if using static import\nString[] array = list.toArray(toArray());\n</code></pre>\n\n<p>But there's really no advantage this way, just a matter of taste, IMO.</p>\n"},{"comments":[{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1654245786,"post_id":51048812,"comment_id":128049905,"body_markdown":"output type is wrong.","body":"output type is wrong."}],"tags":[],"owner":{"account_id":13117405,"reputation":57,"user_id":9476110,"display_name":"Panchal Nilkanth"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1530037317,"creation_date":1530035297,"answer_id":51048812,"question_id":4042434,"body_markdown":"You can convert List to String array by using this method:\r\n\r\n     Object[] stringlist=list.toArray();\r\n\r\nThe complete example:\r\n\r\n    ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n        list.add(&quot;Abc&quot;);\r\n        list.add(&quot;xyz&quot;);\r\n        \r\n        Object[] stringlist=list.toArray();\r\n        \r\n        for(int i = 0; i &lt; stringlist.length ; i++)\r\n        {\r\n              Log.wtf(&quot;list data:&quot;,(String)stringlist[i]);\r\n        }","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>You can convert List to String array by using this method:</p>\n\n<pre><code> Object[] stringlist=list.toArray();\n</code></pre>\n\n<p>The complete example:</p>\n\n<pre><code>ArrayList&lt;String&gt; list=new ArrayList&lt;&gt;();\n    list.add(\"Abc\");\n    list.add(\"xyz\");\n\n    Object[] stringlist=list.toArray();\n\n    for(int i = 0; i &lt; stringlist.length ; i++)\n    {\n          Log.wtf(\"list data:\",(String)stringlist[i]);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1616081997,"creation_date":1532630280,"answer_id":51545546,"question_id":4042434,"body_markdown":"Starting from Java-11, one can use the API **[`Collection.toArray(IntFunction&lt;T[]&gt; generator)`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction))** to achieve the same as:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;x&quot;,&quot;y&quot;,&quot;z&quot;);\r\n    String[] arrayBeforeJDK11 = list.toArray(new String[0]);\r\n    String[] arrayAfterJDK11 = list.toArray(String[]::new); // similar to Stream.toArray","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>Starting from Java-11, one can use the API <strong><a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"noreferrer\"><code>Collection.toArray(IntFunction&lt;T[]&gt; generator)</code></a></strong> to achieve the same as:</p>\n<pre><code>List&lt;String&gt; list = List.of(&quot;x&quot;,&quot;y&quot;,&quot;z&quot;);\nString[] arrayBeforeJDK11 = list.toArray(new String[0]);\nString[] arrayAfterJDK11 = list.toArray(String[]::new); // similar to Stream.toArray\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4911554,"reputation":13237,"user_id":3956731,"accept_rate":95,"display_name":"KayV"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1537361586,"creation_date":1537361586,"answer_id":52406341,"question_id":4042434,"body_markdown":"In Java 8, it can be done using\r\n\r\n    String[] arrayFromList = fromlist.stream().toArray(String[]::new);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In Java 8, it can be done using</p>\n\n<pre><code>String[] arrayFromList = fromlist.stream().toArray(String[]::new);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":740853,"reputation":5144,"user_id":718515,"display_name":"Rafal Borowiec"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539803921,"creation_date":1538437511,"answer_id":52600279,"question_id":4042434,"body_markdown":"In Java 11, we can use the `Collection.toArray(generator)` method. The following code will create a new array of strings:\r\n\r\n    List&lt;String&gt; list = List.of(&quot;one&quot;, &quot;two&quot;, &quot;three&quot;);\r\n    String[] array = list.toArray(String[]::new)\r\n\r\nfrom [java.base&#39;s  `java.util.Collection.toArray()`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)).","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>In Java 11, we can use the <code>Collection.toArray(generator)</code> method. The following code will create a new array of strings:</p>\n\n<pre><code>List&lt;String&gt; list = List.of(\"one\", \"two\", \"three\");\nString[] array = list.toArray(String[]::new)\n</code></pre>\n\n<p>from <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"noreferrer\">java.base's  <code>java.util.Collection.toArray()</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":26013,"reputation":107301,"user_id":67392,"accept_rate":100,"display_name":"Richard"},"score":4,"creation_date":1550735793,"post_id":54800959,"comment_id":96380493,"body_markdown":"What value does this answer add? It appears to just repeat other answers without explaining why it answers the question.","body":"What value does this answer add? It appears to just repeat other answers without explaining why it answers the question."}],"tags":[],"owner":{"account_id":6800611,"reputation":139,"user_id":5234024,"display_name":"nick w."},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1574710095,"creation_date":1550732139,"answer_id":54800959,"question_id":4042434,"body_markdown":"\t    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t    list.add(&quot;a&quot;);\r\n\t    list.add(&quot;b&quot;);\r\n\t    list.add(&quot;c&quot;);\r\n\t    String [] strArry= list.stream().toArray(size -&gt; new String[size]);\r\n\r\nPer comments, I have added a paragraph to explain how the conversion works. \r\nFirst, List&lt;String&gt; is converted to a String stream. Then it uses Stream.toArray to convert the elements in the stream to an Array. In the last statement above &quot;size -&gt; new String[size]&quot; is actually an IntFunction&lt;String []&gt; function that allocates a String array with the size of the String stream. The statement is identical to\r\n \r\n    IntFunction&lt;String []&gt; allocateFunc = size -&gt; { \r\n    return new String[size];\r\n    };\t \r\n    String [] strArry= list.stream().toArray(allocateFunc);","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<pre><code>    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    list.add(\"a\");\n    list.add(\"b\");\n    list.add(\"c\");\n    String [] strArry= list.stream().toArray(size -&gt; new String[size]);\n</code></pre>\n\n<p>Per comments, I have added a paragraph to explain how the conversion works. \nFirst, List is converted to a String stream. Then it uses Stream.toArray to convert the elements in the stream to an Array. In the last statement above \"size -> new String[size]\" is actually an IntFunction function that allocates a String array with the size of the String stream. The statement is identical to</p>\n\n<pre><code>IntFunction&lt;String []&gt; allocateFunc = size -&gt; { \nreturn new String[size];\n};   \nString [] strArry= list.stream().toArray(allocateFunc);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676773485,"creation_date":1676773485,"answer_id":75497629,"question_id":4042434,"body_markdown":"An alternate one-liner method for primitive types, such as `double`, `int`, etc.:\r\n\r\n```java\r\nList&lt;Double&gt; coordList = List.of(3.141, 2.71);\r\ndouble[] doubleArray = coordList.mapToDouble(Double::doubleValue).toArray();\r\n```\r\n\r\n```java\r\nList&lt;Integer&gt; coordList = List.of(11, 99);\r\nint[] intArray = coordList.mapToInt(Integer::intValue).toArray();\r\n```\r\n\r\nand so on...","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>An alternate one-liner method for primitive types, such as <code>double</code>, <code>int</code>, etc.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Double&gt; coordList = List.of(3.141, 2.71);\ndouble[] doubleArray = coordList.mapToDouble(Double::doubleValue).toArray();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; coordList = List.of(11, 99);\nint[] intArray = coordList.mapToInt(Integer::intValue).toArray();\n</code></pre>\n<p>and so on...</p>\n"}],"owner":{"account_id":661333,"reputation":16435,"user_id":482568,"accept_rate":53,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":938484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1271,"accepted_answer_id":4042464,"answer_count":17,"score":1271,"last_activity_date":1696469603,"creation_date":1288265453,"question_id":4042434,"body_markdown":"How might I convert an `ArrayList&lt;String&gt;` object to a `String[]` array in Java?","title":"Converting &#39;ArrayList&lt;String&gt; to &#39;String[]&#39; in Java","body":"<p>How might I convert an <code>ArrayList&lt;String&gt;</code> object to a <code>String[]</code> array in Java?</p>\n"},{"tags":["java","notifications"],"owner":{"account_id":10058523,"reputation":1,"user_id":7436007,"display_name":"zhirong tong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696469430,"creation_date":1696465819,"question_id":77233675,"body_markdown":"I am using PostgreSQL DB and applying it&#39;s LISTEN/NOTIFY functionality. So my listener is at my application server and I have triggers configured on DB such that when NOTIFY operations are performed a NOTIFY message is sent on java server.\r\nHowever whatever message I notified on db, my application server side always remained quietly.\r\nSo I figured that the LISTEN/NOTIFY goes down under the situation of two distinct db connections(one for the notifier, and another for the listener).\r\n\r\n\r\n\r\n\r\nHere&#39;s my code.\r\n\r\n```\r\nbig_gp_admin=&gt; NOTIFY change_data_capture, &#39;test msg from DB&#39;;\r\nNOTIFY\r\nAsynchronous notification &quot;change_data_capture&quot; with payload &quot;test msg from DB&quot; received from serve\r\n```\r\n\r\n\r\n```\r\n        PGDataSource dataSource = new PGDataSource();\r\n        dataSource.setHost(&quot;host&quot;);\r\n        dataSource.setPort(5432);\r\n        dataSource.setDatabaseName(&quot;dbName&quot;);\r\n        dataSource.setUser(&quot;user&quot;);\r\n        dataSource.setPassword(&quot;pwd&quot;);\r\n        \r\n        try (PGConnection connection = (PGConnection) dataSource.getConnection()) {\r\n\r\n            Statement statement = connection.createStatement();\r\n            statement.execute(&quot;LISTEN change_data_capture&quot;);\r\n\r\n            PGNotificationListener listener = new PGNotificationListener() {\r\n                @Override\r\n                public void notification(int processId, String channelName, String payload) {\r\n                    PGNotificationListener.super.notification(processId, channelName, payload);\r\n                    System.out.println(&quot;Received Notification: &quot; + processId + &quot;, &quot; + channelName + &quot;, &quot; + payload);\r\n\r\n                }\r\n            };\r\n\r\n            connection.addNotificationListener(listener);\r\n            statement.execute(&quot; NOTIFY change_data_capture, &#39;test msg from java code&#39;&quot;);\r\n\r\n            statement.close();\r\n            while (true) {\r\n            }\r\n        } catch (Exception e) {\r\n            System.err.println(e);\r\n        }\r\n\r\n```\r\n\r\n\r\n\r\n\r\nTo do a more specific test in java, I created two distinct connections, one for the notifier\r\n and another for the listener to test if the communication would work across connections and it didn&#39;t.\r\n\r\n```\r\npublic class NotificationTest {\r\n\r\n    public static void main(String args[]) throws Exception {\r\n\r\n        Class.forName(&quot;org.postgresql.Driver&quot;);\r\n        String url = &quot;url&quot;;\r\n\r\n        // Create two distinct connections, one for the notifier\r\n        // and another for the listener to show the communication\r\n        // works across connections although this example would\r\n        // work fine with just one connection.\r\n        Connection lConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\r\n        Connection nConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\r\n\r\n        // Create two threads, one to issue notifications and\r\n        // the other to receive them.\r\n        Notifier notifier = new Notifier(nConn);\r\n        Listener listener = new Listener(lConn);\r\n        listener.start();\r\n        notifier.start();\r\n    }\r\n}\r\n\r\nclass Listener extends Thread {\r\n    private Connection conn;\r\n    private org.postgresql.PGConnection pgconn;\r\n\r\n    Listener(Connection conn) throws SQLException {\r\n        this.conn = conn;\r\n        this.pgconn = conn.unwrap(org.postgresql.PGConnection.class);\r\n        Statement stmt = conn.createStatement();\r\n        stmt.execute(&quot;LISTEN mymessage&quot;);\r\n        stmt.close();\r\n    }\r\n\r\n    public void run() {\r\n        try {\r\n            while (true) {\r\n                org.postgresql.PGNotification notifications[] = pgconn.getNotifications();\r\n\r\n                // If this thread is the only one that uses the connection, a timeout can be used to\r\n                // receive notifications immediately:\r\n                // org.postgresql.PGNotification notifications[] = pgconn.getNotifications(10000);\r\n\r\n                if (notifications != null) {\r\n                    for (int i = 0; i &lt; notifications.length; i++)\r\n                        System.out.println(&quot;Got notification: &quot; + notifications[i].getName());\r\n                }\r\n\r\n                // wait a while before checking again for new\r\n                // notifications\r\n\r\n                Thread.sleep(500);\r\n            }\r\n        } catch (SQLException sqle) {\r\n            sqle.printStackTrace();\r\n        } catch (InterruptedException ie) {\r\n            ie.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\nclass Notifier extends Thread {\r\n    private Connection conn;\r\n\r\n    public Notifier(Connection conn) {\r\n        this.conn = conn;\r\n    }\r\n\r\n    public void run() {\r\n        while (true) {\r\n            try {\r\n                Statement stmt = conn.createStatement();\r\n                stmt.execute(&quot;NOTIFY mymessage, &#39;tetsestest&#39;&quot;);\r\n                stmt.close();\r\n                Thread.sleep(2000);\r\n            } catch (SQLException sqle) {\r\n                sqle.printStackTrace();\r\n            } catch (InterruptedException ie) {\r\n                ie.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nCould you kindly indicate which part of my code is causing the problem? Thanks so much.\r\n","title":"postgresql LISTENER gets no asynchronous notification when NOTIFY is from a different pgconnection in java","body":"<p>I am using PostgreSQL DB and applying it's LISTEN/NOTIFY functionality. So my listener is at my application server and I have triggers configured on DB such that when NOTIFY operations are performed a NOTIFY message is sent on java server.\nHowever whatever message I notified on db, my application server side always remained quietly.\nSo I figured that the LISTEN/NOTIFY goes down under the situation of two distinct db connections(one for the notifier, and another for the listener).</p>\n<p>Here's my code.</p>\n<pre><code>big_gp_admin=&gt; NOTIFY change_data_capture, 'test msg from DB';\nNOTIFY\nAsynchronous notification &quot;change_data_capture&quot; with payload &quot;test msg from DB&quot; received from serve\n</code></pre>\n<pre><code>        PGDataSource dataSource = new PGDataSource();\n        dataSource.setHost(&quot;host&quot;);\n        dataSource.setPort(5432);\n        dataSource.setDatabaseName(&quot;dbName&quot;);\n        dataSource.setUser(&quot;user&quot;);\n        dataSource.setPassword(&quot;pwd&quot;);\n        \n        try (PGConnection connection = (PGConnection) dataSource.getConnection()) {\n\n            Statement statement = connection.createStatement();\n            statement.execute(&quot;LISTEN change_data_capture&quot;);\n\n            PGNotificationListener listener = new PGNotificationListener() {\n                @Override\n                public void notification(int processId, String channelName, String payload) {\n                    PGNotificationListener.super.notification(processId, channelName, payload);\n                    System.out.println(&quot;Received Notification: &quot; + processId + &quot;, &quot; + channelName + &quot;, &quot; + payload);\n\n                }\n            };\n\n            connection.addNotificationListener(listener);\n            statement.execute(&quot; NOTIFY change_data_capture, 'test msg from java code'&quot;);\n\n            statement.close();\n            while (true) {\n            }\n        } catch (Exception e) {\n            System.err.println(e);\n        }\n\n</code></pre>\n<p>To do a more specific test in java, I created two distinct connections, one for the notifier\nand another for the listener to test if the communication would work across connections and it didn't.</p>\n<pre><code>public class NotificationTest {\n\n    public static void main(String args[]) throws Exception {\n\n        Class.forName(&quot;org.postgresql.Driver&quot;);\n        String url = &quot;url&quot;;\n\n        // Create two distinct connections, one for the notifier\n        // and another for the listener to show the communication\n        // works across connections although this example would\n        // work fine with just one connection.\n        Connection lConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\n        Connection nConn = DriverManager.getConnection(url, &quot;user&quot;, &quot;pwd&quot;);\n\n        // Create two threads, one to issue notifications and\n        // the other to receive them.\n        Notifier notifier = new Notifier(nConn);\n        Listener listener = new Listener(lConn);\n        listener.start();\n        notifier.start();\n    }\n}\n\nclass Listener extends Thread {\n    private Connection conn;\n    private org.postgresql.PGConnection pgconn;\n\n    Listener(Connection conn) throws SQLException {\n        this.conn = conn;\n        this.pgconn = conn.unwrap(org.postgresql.PGConnection.class);\n        Statement stmt = conn.createStatement();\n        stmt.execute(&quot;LISTEN mymessage&quot;);\n        stmt.close();\n    }\n\n    public void run() {\n        try {\n            while (true) {\n                org.postgresql.PGNotification notifications[] = pgconn.getNotifications();\n\n                // If this thread is the only one that uses the connection, a timeout can be used to\n                // receive notifications immediately:\n                // org.postgresql.PGNotification notifications[] = pgconn.getNotifications(10000);\n\n                if (notifications != null) {\n                    for (int i = 0; i &lt; notifications.length; i++)\n                        System.out.println(&quot;Got notification: &quot; + notifications[i].getName());\n                }\n\n                // wait a while before checking again for new\n                // notifications\n\n                Thread.sleep(500);\n            }\n        } catch (SQLException sqle) {\n            sqle.printStackTrace();\n        } catch (InterruptedException ie) {\n            ie.printStackTrace();\n        }\n    }\n}\n\nclass Notifier extends Thread {\n    private Connection conn;\n\n    public Notifier(Connection conn) {\n        this.conn = conn;\n    }\n\n    public void run() {\n        while (true) {\n            try {\n                Statement stmt = conn.createStatement();\n                stmt.execute(&quot;NOTIFY mymessage, 'tetsestest'&quot;);\n                stmt.close();\n                Thread.sleep(2000);\n            } catch (SQLException sqle) {\n                sqle.printStackTrace();\n            } catch (InterruptedException ie) {\n                ie.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>Could you kindly indicate which part of my code is causing the problem? Thanks so much.</p>\n"},{"tags":["java","spring-boot","rest","hmac","hmacsha256"],"answers":[{"tags":[],"owner":{"account_id":5046108,"reputation":3622,"user_id":6366458,"accept_rate":64,"display_name":"arqam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664429514,"creation_date":1664429514,"answer_id":73890692,"question_id":73069980,"body_markdown":"You should not deserialize if you want to take hash value. Use string or byte for the request. And map it to your pojo later on once you have the hash\r\n\r\nFor ex : \r\n\r\n    public @ResponseBody String controllerMethod(HttpServletRequest httpReq,\r\n            HttpServletResponse httpResponse) {\r\n\r\n            BufferedReader bufferedReader;\r\n            StringBuilder sb;\r\n            sb = new StringBuilder();\r\n            bufferedReader = httpReq.getReader();\r\n            char[] charBuffer = new char[128];\r\n            int bytesRead;\r\n            while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\r\n                sb.append(charBuffer, 0, bytesRead);\r\n            }\r\n            String reqBody = sb.toString();\r\n     }\r\n\r\nUse `reqBody` to get your hashed value.","title":"HMAC Validation in SpringBoot failing due to rearrangement of JSON","body":"<p>You should not deserialize if you want to take hash value. Use string or byte for the request. And map it to your pojo later on once you have the hash</p>\n<p>For ex :</p>\n<pre><code>public @ResponseBody String controllerMethod(HttpServletRequest httpReq,\n        HttpServletResponse httpResponse) {\n\n        BufferedReader bufferedReader;\n        StringBuilder sb;\n        sb = new StringBuilder();\n        bufferedReader = httpReq.getReader();\n        char[] charBuffer = new char[128];\n        int bytesRead;\n        while ((bytesRead = bufferedReader.read(charBuffer)) != -1) {\n            sb.append(charBuffer, 0, bytesRead);\n        }\n        String reqBody = sb.toString();\n }\n</code></pre>\n<p>Use <code>reqBody</code> to get your hashed value.</p>\n"},{"tags":[],"owner":{"account_id":1290399,"reputation":523,"user_id":5374740,"accept_rate":0,"display_name":"Lex Luthor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696469036,"creation_date":1696469036,"answer_id":77233789,"question_id":73069980,"body_markdown":"You need to verify HMAC using the original payload, that is the text of the UTF-8 payload as an array of bytes. The entire body of the POST request as was received must be used, including line endings.","title":"HMAC Validation in SpringBoot failing due to rearrangement of JSON","body":"<p>You need to verify HMAC using the original payload, that is the text of the UTF-8 payload as an array of bytes. The entire body of the POST request as was received must be used, including line endings.</p>\n"}],"owner":{"account_id":18544129,"reputation":11,"user_id":13511926,"display_name":"vaibhav panchal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":519,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696469036,"creation_date":1658422329,"question_id":73069980,"body_markdown":"I am trying to have HMAC in springBoot for REST API.\r\nThe request I send from Postman is \r\n\r\n```\r\n{\r\n    &quot;name&quot;:&quot;xyz&quot;,\r\n    &quot;description&quot;:&quot;hello world&quot;,\r\n    &quot;phone&quot;:&quot;123456&quot;,\r\n    &quot;id&quot;:&quot;1&quot;\r\n}\r\n```\r\n\r\nit reached my controller and then to the service where I have a function to validate HMAC.\r\nIn the controller I pass the **signature** as the **header** and **payload** in the **requestBody**\r\n\r\n```\r\n@RestController\r\npublic class UserController {\r\n\t\r\n\t\r\n\t@Autowired\r\n\tUserInterface userInterface;\r\n\t\r\n\t@PostMapping(value = &quot;/&quot; ,consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic void createUser(@RequestBody User user, @RequestHeader Map&lt;String, String&gt; headers) {\r\n\t\tuserInterface.hmacValidation(user, headers);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class UserService  implements UserInterface {\r\n\tpublic void hmacValidation(User requestBody, Map&lt;String, String&gt; header) {\r\n\t\tvar headerSignature = header.get(&quot;signature&quot;);\r\n\t\tvar payload = getRequestBodyAsString(requestBody);\r\n\t\tString result = Hashing.hmacSha256(&quot;12345&quot;.getBytes(StandardCharsets.UTF_8)).hashString(payload,StandardCharsets.UTF_8).toString();\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate String getRequestBodyAsString(User requestBody) {\r\n\r\n\t\tvar mapper = new ObjectMapper();\r\n\t\tString payload = null;\r\n\t\ttry {\r\n\t\t\tmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\t\t\tpayload = mapper.writeValueAsString(requestBody);\r\n\t\t\t} catch (JsonProcessingException e) {\r\n\t\t}\r\n\t\treturn payload;\r\n\t}\r\n}\r\n```\r\n\r\nhere from the **getRequestBodyAsString(User requestbody)** function the output I get is a shuffled/rearranged JSON request which generates different Signature which then mismatches the signature client is sending.\r\n\r\nthe payload that is converted back from UserObject:\r\n\r\n```\r\n{&quot;name&quot;:&quot;xyz&quot;,&quot;id&quot;:&quot;1&quot;,&quot;description&quot;:&quot;hello world&quot;,&quot;phone&quot;:&quot;123456&quot;}\r\n```\r\n\r\n```\r\npublic class User {\r\n\t\r\n\tprivate String name;\r\n\tprivate String id;\r\n\tprivate String description;\r\n\tprivate String phone;\r\n}\t\r\n```\r\n\r\nThe client can send the request in any order but I have to validate signature regardless of the order the request comes in\r\n\r\nIs there any other way to validate HMAC?\r\n\r\n","title":"HMAC Validation in SpringBoot failing due to rearrangement of JSON","body":"<p>I am trying to have HMAC in springBoot for REST API.\nThe request I send from Postman is</p>\n<pre><code>{\n    &quot;name&quot;:&quot;xyz&quot;,\n    &quot;description&quot;:&quot;hello world&quot;,\n    &quot;phone&quot;:&quot;123456&quot;,\n    &quot;id&quot;:&quot;1&quot;\n}\n</code></pre>\n<p>it reached my controller and then to the service where I have a function to validate HMAC.\nIn the controller I pass the <strong>signature</strong> as the <strong>header</strong> and <strong>payload</strong> in the <strong>requestBody</strong></p>\n<pre><code>@RestController\npublic class UserController {\n    \n    \n    @Autowired\n    UserInterface userInterface;\n    \n    @PostMapping(value = &quot;/&quot; ,consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public void createUser(@RequestBody User user, @RequestHeader Map&lt;String, String&gt; headers) {\n        userInterface.hmacValidation(user, headers);\n    }\n\n}\n</code></pre>\n<pre><code>@Service\npublic class UserService  implements UserInterface {\n    public void hmacValidation(User requestBody, Map&lt;String, String&gt; header) {\n        var headerSignature = header.get(&quot;signature&quot;);\n        var payload = getRequestBodyAsString(requestBody);\n        String result = Hashing.hmacSha256(&quot;12345&quot;.getBytes(StandardCharsets.UTF_8)).hashString(payload,StandardCharsets.UTF_8).toString();\n        \n    }\n    \n    private String getRequestBodyAsString(User requestBody) {\n\n        var mapper = new ObjectMapper();\n        String payload = null;\n        try {\n            mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n            payload = mapper.writeValueAsString(requestBody);\n            } catch (JsonProcessingException e) {\n        }\n        return payload;\n    }\n}\n</code></pre>\n<p>here from the <strong>getRequestBodyAsString(User requestbody)</strong> function the output I get is a shuffled/rearranged JSON request which generates different Signature which then mismatches the signature client is sending.</p>\n<p>the payload that is converted back from UserObject:</p>\n<pre><code>{&quot;name&quot;:&quot;xyz&quot;,&quot;id&quot;:&quot;1&quot;,&quot;description&quot;:&quot;hello world&quot;,&quot;phone&quot;:&quot;123456&quot;}\n</code></pre>\n<pre><code>public class User {\n    \n    private String name;\n    private String id;\n    private String description;\n    private String phone;\n}   \n</code></pre>\n<p>The client can send the request in any order but I have to validate signature regardless of the order the request comes in</p>\n<p>Is there any other way to validate HMAC?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1696395806,"post_id":77226787,"comment_id":136145528,"body_markdown":"Please don&#39;t use images of text.","body":"Please don&#39;t use images of text."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696397171,"post_id":77226787,"comment_id":136145638,"body_markdown":"Have you tried both already?","body":"Have you tried both already?"},{"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"score":0,"creation_date":1696401770,"post_id":77226787,"comment_id":136146296,"body_markdown":"I&#39;ve tried both, but I&#39;m not sure which is the most optimal and safest way","body":"I&#39;ve tried both, but I&#39;m not sure which is the most optimal and safest way"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696413869,"post_id":77226787,"comment_id":136148725,"body_markdown":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to [How To: Ask a good question](https://stackoverflow.com/help/how-to-ask). Please read it and adjust your question accordingly by using the [Edit](https://stackoverflow.com/posts/77068047/edit) option. Happy coding!","body":"Welcome to Stack Overflow! Thank you for your question. However it seems like you are not familiar with the guide of Stack Overflow to <a href=\"https://stackoverflow.com/help/how-to-ask\">How To: Ask a good question</a>. Please read it and adjust your question accordingly by using the <a href=\"https://stackoverflow.com/posts/77068047/edit\">Edit</a> option. Happy coding!"},{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":0,"creation_date":1696413932,"post_id":77226787,"comment_id":136148752,"body_markdown":"Please don&#39;t use screenshots of code. Always put the code into the question and format it with the formatting tools into code. It is not allowed to post screenshots of code.","body":"Please don&#39;t use screenshots of code. Always put the code into the question and format it with the formatting tools into code. It is not allowed to post screenshots of code."},{"owner":{"account_id":2102822,"reputation":8840,"user_id":1869968,"accept_rate":70,"display_name":"Submersed"},"score":0,"creation_date":1696481508,"post_id":77226787,"comment_id":136159031,"body_markdown":"Does this answer your question? [How do I pass data between Activities in Android application?](https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2091465/how-do-i-pass-data-between-activities-in-android-application\">How do I pass data between Activities in Android application?</a>"},{"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"score":0,"creation_date":1696496102,"post_id":77226787,"comment_id":136161243,"body_markdown":"Thank you, however I already know how to transmit but want to ask the most optimal way","body":"Thank you, however I already know how to transmit but want to ask the most optimal way"}],"answers":[{"comments":[{"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"score":0,"creation_date":1696469180,"post_id":77232007,"comment_id":136158191,"body_markdown":"Like my example, if the list object has a size of thousands or tens of thousands, will this affect performance?","body":"Like my example, if the list object has a size of thousands or tens of thousands, will this affect performance?"},{"owner":{"account_id":18874793,"reputation":66,"user_id":13768552,"display_name":"Kaung Khant Kyaw"},"score":0,"creation_date":1696485233,"post_id":77232007,"comment_id":136159383,"body_markdown":"Parcelable should be used for small data (a few kilobytes or less) to ensure optimal performance.\nData size means total bytes, not list count. Large data should be stored in persistence storage like Room database to avoid performance issues. Parcelable size impacts performance.","body":"Parcelable should be used for small data (a few kilobytes or less) to ensure optimal performance. Data size means total bytes, not list count. Large data should be stored in persistence storage like Room database to avoid performance issues. Parcelable size impacts performance."},{"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"score":0,"creation_date":1696496314,"post_id":77232007,"comment_id":136161285,"body_markdown":"Thanks, I will use this for my project","body":"Thanks, I will use this for my project"}],"tags":[],"owner":{"account_id":18874793,"reputation":66,"user_id":13768552,"display_name":"Kaung Khant Kyaw"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696442810,"creation_date":1696442810,"answer_id":77232007,"question_id":77226787,"body_markdown":"Parcelable should be the best practice to pass small amounts of data efficiently. Here is why:\r\n \r\n- Parcelable is an interface that allows you to serialize and deserialize objects for efficient and high-performance passing of data between components, such as activities, services, and fragments.\r\n\r\n- In kotlin, there is @Parcelize annotation to implement Parcelable easily.\r\n\r\n- In API level 33, Google added new method [getParcelableArrayListExtra][1] in `Intent` to use Parcelable without needing to cast class type. Yeah, we know that they &lt;b&gt;deprecated&lt;/b&gt; so much classes and methods if needed but not this one right?\r\n\r\nThere is also androidx support for Parcelable in `IntentCompat` class.\r\n```kotlin\r\nIntentCompat.getParcelableArrayListExtra(intent, name, class)\r\nIntentCompat.getParcelableExtra(intent, name, class)\r\n```\r\n\r\n- Parcelable is faster than alternatives like Serializable because it uses a lower-level approach and is designed and optimized for Android&#39;s IPC (Inter-Process Communication) system.\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/content/Intent#getParcelableArrayListExtra(java.lang.String,%20java.lang.Class%3C?%20extends%20T%3E)","title":"Pass list object between Activity and Activity","body":"<p>Parcelable should be the best practice to pass small amounts of data efficiently. Here is why:</p>\n<ul>\n<li><p>Parcelable is an interface that allows you to serialize and deserialize objects for efficient and high-performance passing of data between components, such as activities, services, and fragments.</p>\n</li>\n<li><p>In kotlin, there is @Parcelize annotation to implement Parcelable easily.</p>\n</li>\n<li><p>In API level 33, Google added new method <a href=\"https://developer.android.com/reference/android/content/Intent#getParcelableArrayListExtra(java.lang.String,%20java.lang.Class%3C?%20extends%20T%3E)\" rel=\"nofollow noreferrer\">getParcelableArrayListExtra</a> in <code>Intent</code> to use Parcelable without needing to cast class type. Yeah, we know that they <b>deprecated</b> so much classes and methods if needed but not this one right?</p>\n</li>\n</ul>\n<p>There is also androidx support for Parcelable in <code>IntentCompat</code> class.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>IntentCompat.getParcelableArrayListExtra(intent, name, class)\nIntentCompat.getParcelableExtra(intent, name, class)\n</code></pre>\n<ul>\n<li>Parcelable is faster than alternatives like Serializable because it uses a lower-level approach and is designed and optimized for Android's IPC (Inter-Process Communication) system.</li>\n</ul>\n"}],"owner":{"account_id":28610473,"reputation":5,"user_id":21905524,"display_name":"DucK"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77232007,"answer_count":1,"score":0,"last_activity_date":1696468981,"creation_date":1696394277,"question_id":77226787,"body_markdown":"I have a list object, it contains information about 1 photo in 1 album. \r\n\r\n    @Parcelize\r\n    data class MediaFileModel(\r\n        var uri: Uri,\r\n        var name: String,\r\n        var bucketId: Long = 0,\r\n        var bucketName: String = &quot;&quot;,\r\n        var duration: String = &quot;&quot;,\r\n        var length: Double = 0.0,\r\n        var albumId: Long = 0,\r\n        var songAlbum: String = &quot;&quot;,\r\n        var pathFile: String = &quot;&quot;,\r\n        var id: Long = 0\r\n    ) : Parcelable\r\n\r\nHow to transfer it from one Activity to another as optimally as possible? Pass it through Parcelable or create a Singleton class to store it or is there a better way? Thank\r\n\r\nWhen consulting more from ChatGPT, I see that it is also possible to use json to transmit data, but what is the performance between these 3 ways and the possibility of memory leaks?","title":"Pass list object between Activity and Activity","body":"<p>I have a list object, it contains information about 1 photo in 1 album.</p>\n<pre><code>@Parcelize\ndata class MediaFileModel(\n    var uri: Uri,\n    var name: String,\n    var bucketId: Long = 0,\n    var bucketName: String = &quot;&quot;,\n    var duration: String = &quot;&quot;,\n    var length: Double = 0.0,\n    var albumId: Long = 0,\n    var songAlbum: String = &quot;&quot;,\n    var pathFile: String = &quot;&quot;,\n    var id: Long = 0\n) : Parcelable\n</code></pre>\n<p>How to transfer it from one Activity to another as optimally as possible? Pass it through Parcelable or create a Singleton class to store it or is there a better way? Thank</p>\n<p>When consulting more from ChatGPT, I see that it is also possible to use json to transmit data, but what is the performance between these 3 ways and the possibility of memory leaks?</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":13598,"reputation":102599,"user_id":27439,"accept_rate":100,"display_name":"Vincent Ramdhanie"},"score":0,"creation_date":1362857385,"post_id":15314933,"comment_id":21620608,"body_markdown":"We could only guess! SingleList is probably a singly linked list and ListNode is one node in the list. copy() is a method that makes a copy of an entire list of nodes.","body":"We could only guess! SingleList is probably a singly linked list and ListNode is one node in the list. copy() is a method that makes a copy of an entire list of nodes."},{"owner":{"account_id":2180883,"reputation":21,"user_id":1930413,"display_name":"Abeer"},"score":0,"creation_date":1362857821,"post_id":15314933,"comment_id":21620748,"body_markdown":"ok I got it but how it works!!!","body":"ok I got it but how it works!!!"},{"owner":{"account_id":4102733,"reputation":368,"user_id":3367754,"accept_rate":50,"display_name":"Ramy Sabry"},"score":0,"creation_date":1432643487,"post_id":15314933,"comment_id":48997900,"body_markdown":"it`s adding only objects from list1  that have &#39;head&#39; property not null to new Singlelist","body":"it`s adding only objects from list1  that have &#39;head&#39; property not null to new Singlelist"}],"answers":[{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1362857386,"creation_date":1362857386,"answer_id":15314946,"question_id":15314933,"body_markdown":"`ListNode` is a **node** in a **linked list**. `SingleList` is a **linked list**.\r\n\r\nTo draw an analogy - a node is a link in a chain; the linked list is the chain itself.","title":"what is the different between Single List and List Node?","body":"<p><code>ListNode</code> is a <strong>node</strong> in a <strong>linked list</strong>. <code>SingleList</code> is a <strong>linked list</strong>.</p>\n\n<p>To draw an analogy - a node is a link in a chain; the linked list is the chain itself.</p>\n"},{"tags":[],"owner":{"account_id":14919142,"reputation":1,"user_id":10772045,"display_name":"E.F.A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582974485,"creation_date":1582965953,"answer_id":60463416,"question_id":15314933,"body_markdown":"ListNode is a node in the linked list and there is some code to better understand the ListNode.\r\n``` \r\npublic class List\r\n {\r\n     // return a linked list based on parameters list and soFar\r\n     public static ListNode process(ListNode list, ListNode soFar)\r\n     {\r\n         if (list == null) {\r\n             return soFar;\r\n         }\r\n         else {\r\n             ListNode temp = list.getNext();\r\n             list.setNext(soFar);\r\n             return process(temp,list);\r\n         }\r\n      }\r\n\r\n      // return a new linked list based on parameter n\r\n\r\n      public static ListNode create(int n)\r\n      {\r\n\t    ListNode list = null;\r\n\t    for(int k=1; k &lt;= n; k++) {\r\n\t        list = new ListNode(new String(&quot;&quot;+k), list);\r\n\t    }\r\n  \t    return list;\r\n      }\r\n\r\n      // print a linked list\r\n\r\n      public static void print(ListNode list)\r\n      {\r\n\t    while (list != null) {\r\n\t        System.out.print(list.getValue()+&quot; &quot;);\r\n\t        list = list.getNext();\r\n\t    }\r\n\t    System.out.println();\r\n      }\r\n }\r\n```","title":"what is the different between Single List and List Node?","body":"<p>ListNode is a node in the linked list and there is some code to better understand the ListNode.</p>\n\n<pre><code>public class List\n {\n     // return a linked list based on parameters list and soFar\n     public static ListNode process(ListNode list, ListNode soFar)\n     {\n         if (list == null) {\n             return soFar;\n         }\n         else {\n             ListNode temp = list.getNext();\n             list.setNext(soFar);\n             return process(temp,list);\n         }\n      }\n\n      // return a new linked list based on parameter n\n\n      public static ListNode create(int n)\n      {\n        ListNode list = null;\n        for(int k=1; k &lt;= n; k++) {\n            list = new ListNode(new String(\"\"+k), list);\n        }\n        return list;\n      }\n\n      // print a linked list\n\n      public static void print(ListNode list)\n      {\n        while (list != null) {\n            System.out.print(list.getValue()+\" \");\n            list = list.getNext();\n        }\n        System.out.println();\n      }\n }\n</code></pre>\n"}],"owner":{"account_id":2180883,"reputation":21,"user_id":1930413,"display_name":"Abeer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8341,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1696467690,"creation_date":1362857307,"question_id":15314933,"body_markdown":"    public static SingleList copy(SingleList list1){\r\n        SingleList list2 = new SingleList();\r\n        ListNode current=list1.head;\r\n        while (current != null){\r\n            list2.addLast(current.getData());\r\n            current=current.getNext();\r\n        }\r\n        return list2;\r\n    }\r\n\r\nI do not know what the function of this method or even how it work on computer not even know the difference between node and singlelist!!","title":"what is the different between Single List and List Node?","body":"<pre><code>public static SingleList copy(SingleList list1){\n    SingleList list2 = new SingleList();\n    ListNode current=list1.head;\n    while (current != null){\n        list2.addLast(current.getData());\n        current=current.getNext();\n    }\n    return list2;\n}\n</code></pre>\n\n<p>I do not know what the function of this method or even how it work on computer not even know the difference between node and singlelist!!</p>\n"},{"tags":["java","multithreading","caching","compiler-optimization","inlining"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1696457646,"post_id":77232791,"comment_id":136157240,"body_markdown":"I suspect there&#39;s no single &quot;answer&quot; to this question, and it totally depends on the implementers&#39; choices.  Not sure this is really on-topic for SO, which strongly prefers questions that can be answered.","body":"I suspect there&#39;s no single &quot;answer&quot; to this question, and it totally depends on the implementers&#39; choices.  Not sure this is really on-topic for SO, which strongly prefers questions that can be answered."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696463889,"post_id":77232791,"comment_id":136157815,"body_markdown":"Can I take your answer as: &quot;You cannot rely on what the compiler will or will not cache/hoist, and should always employ reordering barriers&quot;? ...even at the cost of an extreme diminishing in performance??","body":"Can I take your answer as: &quot;You cannot rely on what the compiler will or will not cache/hoist, and should always employ reordering barriers&quot;? ...even at the cost of an extreme diminishing in performance??"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696523176,"post_id":77232791,"comment_id":136167166,"body_markdown":"Why do you think that an opaque load would have any extra cost vs. a plain `int` read that happened not to get optimized away?  It doesn&#39;t take any special instructions to read an `int` atomically on normal CPUs, and you already need that to avoid tearing.   If you the lambda actually access the variable once per print, that possible CPU-cache miss is the cost.","body":"Why do you think that an opaque load would have any extra cost vs. a plain <code>int</code> read that happened not to get optimized away?  It doesn&#39;t take any special instructions to read an <code>int</code> atomically on normal CPUs, and you already need that to avoid tearing.   If you the lambda actually access the variable once per print, that possible CPU-cache miss is the cost."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696523442,"post_id":77232791,"comment_id":136167224,"body_markdown":"(I don&#39;t know if this is an optimization that ever happens in practice, or is allowed by the language standard, but guarding against it shouldn&#39;t have any cost if Opaque works the way I expect. `volatile` would indeed cost unnecessary memory barriers or more strongly-ordered instructions on some ISAs.)","body":"(I don&#39;t know if this is an optimization that ever happens in practice, or is allowed by the language standard, but guarding against it shouldn&#39;t have any cost if Opaque works the way I expect. <code>volatile</code> would indeed cost unnecessary memory barriers or more strongly-ordered instructions on some ISAs.)"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696524712,"post_id":77232791,"comment_id":136167469,"body_markdown":"Thanks @PeterCordes for the answer.\n&quot;It doesn&#39;t take any special instructions to read&quot;, \nIf this plain is allowed by an Object hoisting (because the compiler hoisted the reference to the top), the Java bytecode generated, antecedes all object accesses by an invoke to an exception thrower ensuring the object is not null.\nThe VarHandle.getOpque will also suffer this invoke on the static method and the parameters being used inside the static method.\nIf the load would not be hoisted anywhere the read would incur in no extra instruction.\nAn Object hoist would allow a &quot;plain&quot; read but ...","body":"Thanks @PeterCordes for the answer. &quot;It doesn&#39;t take any special instructions to read&quot;,  If this plain is allowed by an Object hoisting (because the compiler hoisted the reference to the top), the Java bytecode generated, antecedes all object accesses by an invoke to an exception thrower ensuring the object is not null. The VarHandle.getOpque will also suffer this invoke on the static method and the parameters being used inside the static method. If the load would not be hoisted anywhere the read would incur in no extra instruction. An Object hoist would allow a &quot;plain&quot; read but ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696524719,"post_id":77232791,"comment_id":136167470,"body_markdown":"by dereference with an extra instruction (object ref =&gt; field ref).\nA call to getOpaque static method even more extra instructions.\nA volatile would be the worst offender.\n\nSo...: **no hoist (true plain) &gt; Object hoist (plain by deref) &gt; getOpaque (relaxed) &gt; volatile**.\n\nBTW I know all this will eventually get simplified by the processor, but It&#39;d be nice to have the speed from the get-go.","body":"by dereference with an extra instruction (object ref =&gt; field ref). A call to getOpaque static method even more extra instructions. A volatile would be the worst offender.  So...: <b>no hoist (true plain) &gt; Object hoist (plain by deref) &gt; getOpaque (relaxed) &gt; volatile</b>.  BTW I know all this will eventually get simplified by the processor, but It&#39;d be nice to have the speed from the get-go."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696525170,"post_id":77232791,"comment_id":136167554,"body_markdown":"*get simplified by the processor* - You mean by the JIT compiler?  If the actual machine code the CPU runs has wasted work, that would be inefficient.  IDK if anything in the Java language standard lets you safely avoid getOpaque here if you want to make sure that a load happens in the optimized asm for every run of the lambda.  It&#39;s pretty much unavoidable for Java that only the final JIT-optimized machine code is actually efficient, I think.  Maybe you could save a tiny amount of startup / warmup time every run if your optimization of using plain `int` is guaranteed safe (or happens to work)","body":"<i>get simplified by the processor</i> - You mean by the JIT compiler?  If the actual machine code the CPU runs has wasted work, that would be inefficient.  IDK if anything in the Java language standard lets you safely avoid getOpaque here if you want to make sure that a load happens in the optimized asm for every run of the lambda.  It&#39;s pretty much unavoidable for Java that only the final JIT-optimized machine code is actually efficient, I think.  Maybe you could save a tiny amount of startup / warmup time every run if your optimization of using plain <code>int</code> is guaranteed safe (or happens to work)"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":1,"creation_date":1696525302,"post_id":77232791,"comment_id":136167585,"body_markdown":"Thak you very much. Will be using opaque from now on.","body":"Thak you very much. Will be using opaque from now on."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954699,"post_id":77232791,"comment_id":136217488,"body_markdown":"1/4... Hi, @PeterCordes After some research and testing Java&#39;s `getOpaque` seem not that good, the overhead from the casting, the invokeStatic and the runtime instrospection , the times went from 30 - 40 millis(converted from nanos) with `volatile`, to 300+ millis with opaqueness.\n\nThe times with non-volatile begins at 17 millis flat, and with full JIT-opt, they end on 3 - 1 millis.\n\nI&#39;ve tried different processors (LOCK-prefixed (Intel(R) Core(TM) i7-4700HQ)  and LL/SC&#39;d (AMD Ryzen 5 5500U)) which I assume have different flavors of optimization, and NONE seem to fail on the reading ...","body":"1/4... Hi, @PeterCordes After some research and testing Java&#39;s <code>getOpaque</code> seem not that good, the overhead from the casting, the invokeStatic and the runtime instrospection , the times went from 30 - 40 millis(converted from nanos) with <code>volatile</code>, to 300+ millis with opaqueness.  The times with non-volatile begins at 17 millis flat, and with full JIT-opt, they end on 3 - 1 millis.  I&#39;ve tried different processors (LOCK-prefixed (Intel(R) Core(TM) i7-4700HQ)  and LL/SC&#39;d (AMD Ryzen 5 5500U)) which I assume have different flavors of optimization, and NONE seem to fail on the reading ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954751,"post_id":77232791,"comment_id":136217500,"body_markdown":"2/4 ...of non-volatile non-reified fields, even on the most extreme cases of contention, the **spinning CAS** seem to never load from a cached register.\n\nMy test runs for around 1 minute, in which a full JIT optimization usually kicks in: * with `volatile`: at around the 10th iteration, while *with plain non-volaitle loads: at around the 2nd or 3rd.\nWith getOpaque the times never settle and have a lot more fluctuation... less consistent.\n\nI&#39;ve decided to use `getOpaque` ONLY on double-checking portions of the code, I believe this is the best use of ...","body":"2/4 ...of non-volatile non-reified fields, even on the most extreme cases of contention, the <b>spinning CAS</b> seem to never load from a cached register.  My test runs for around 1 minute, in which a full JIT optimization usually kicks in: * with <code>volatile</code>: at around the 10th iteration, while *with plain non-volaitle loads: at around the 2nd or 3rd. With getOpaque the times never settle and have a lot more fluctuation... less consistent.  I&#39;ve decided to use <code>getOpaque</code> ONLY on double-checking portions of the code, I believe this is the best use of ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954805,"post_id":77232791,"comment_id":136217509,"body_markdown":"3/4 opqueness since I&#39;ve read some linux kernel documentation in which read_once() is used exactly for double-checking.\n\nAlso, when exposing the field to the outside the non-volatile is delivered via `getOpaue` wihch preventing visibility issues.\n\nAs for the details about how opaqueness differs from `volatile`, I&#39;ve read and watched hours of videos, and no one seem to fully explain what is THAT which makes memory_order_relaxed OR `read_once` less intrusive than `volatile`.\n\nMy guess is that relaxed, makes the JIT-compiler enter a state in which parallel-FULLY-OPTIMIZED-and-reordered...","body":"3/4 opqueness since I&#39;ve read some linux kernel documentation in which read_once() is used exactly for double-checking.  Also, when exposing the field to the outside the non-volatile is delivered via <code>getOpaue</code> wihch preventing visibility issues.  As for the details about how opaqueness differs from <code>volatile</code>, I&#39;ve read and watched hours of videos, and no one seem to fully explain what is THAT which makes memory_order_relaxed OR <code>read_once</code> less intrusive than <code>volatile</code>.  My guess is that relaxed, makes the JIT-compiler enter a state in which parallel-FULLY-OPTIMIZED-and-reordered..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696954816,"post_id":77232791,"comment_id":136217514,"body_markdown":"4/4... instructions, are forced to deliver code directly to shared memory instead of writing them to their independent inner caches, so the &quot;relaxed&quot; allows parallel code to be fully reordered, BUT their stores will be &quot;flushed&quot; ASAP, this means that opaqueness on the loading side, may increase writing latency on the Thread writing side.","body":"4/4... instructions, are forced to deliver code directly to shared memory instead of writing them to their independent inner caches, so the &quot;relaxed&quot; allows parallel code to be fully reordered, BUT their stores will be &quot;flushed&quot; ASAP, this means that opaqueness on the loading side, may increase writing latency on the Thread writing side."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696955365,"post_id":77232791,"comment_id":136217608,"body_markdown":"* &gt;forced to deliver stores (not &quot;code&quot;).","body":"* &gt;forced to deliver stores (not &quot;code&quot;)."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962464,"post_id":77232791,"comment_id":136218805,"body_markdown":"Your i7 and Ryzen are both x86-64, which doesn&#39;t have LL/SC.  I have no idea why you&#39;d think that Java could be using LL/SC retry loops for atomic RMWs on a Ryzen CPU.  Also, neither of your CPUs support `cldemote` which would make it possible to push a store to L3 cache to reduce latency for reads by other cores.  See [Non-temporal store to bypass L1/L2 but cache in L3 to be read by another core](https://stackoverflow.com/q/65801148) - x86-64 can&#39;t do the thing you&#39;re guessing it did, at least not without inserting `cldemote` instructions, but those would run as a NOP on your CPUs.","body":"Your i7 and Ryzen are both x86-64, which doesn&#39;t have LL/SC.  I have no idea why you&#39;d think that Java could be using LL/SC retry loops for atomic RMWs on a Ryzen CPU.  Also, neither of your CPUs support <code>cldemote</code> which would make it possible to push a store to L3 cache to reduce latency for reads by other cores.  See <a href=\"https://stackoverflow.com/q/65801148\">Non-temporal store to bypass L1/L2 but cache in L3 to be read by another core</a> - x86-64 can&#39;t do the thing you&#39;re guessing it did, at least not without inserting <code>cldemote</code> instructions, but those would run as a NOP on your CPUs."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962595,"post_id":77232791,"comment_id":136218822,"body_markdown":"NT stores could bypass all levels of cache, but that would mean the reader misses all the way to DRAM, which is probably even slower than L3 cache having to message the core the owns the line to write it back to shared L3.","body":"NT stores could bypass all levels of cache, but that would mean the reader misses all the way to DRAM, which is probably even slower than L3 cache having to message the core the owns the line to write it back to shared L3."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962763,"post_id":77232791,"comment_id":136218848,"body_markdown":"Maybe `getOpaque` doesn&#39;t optimize as well as I&#39;d hoped, if your results are accurate.  But you&#39;re talking about runtime introspection; could that be slowing things down, at least the introspection itself from having another kind of object?","body":"Maybe <code>getOpaque</code> doesn&#39;t optimize as well as I&#39;d hoped, if your results are accurate.  But you&#39;re talking about runtime introspection; could that be slowing things down, at least the introspection itself from having another kind of object?"},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696962960,"post_id":77232791,"comment_id":136218878,"body_markdown":"Java `volatile` is like C++ `std::memory_order_seq_cst`.  On x86, that means pure stores to it are more expensive, but pure loads are the same cost as `memory_order_relaxed`.  I&#39;m not sure if Java `volatile` makes `num++` an atomic RMW (`lock xadd`) or just separately-atomic load and store.  Making a variable `volatile` means all accesses to it are &quot;atomic&quot;, including from functions that only run when it&#39;s not shared.","body":"Java <code>volatile</code> is like C++ <code>std::memory_order_seq_cst</code>.  On x86, that means pure stores to it are more expensive, but pure loads are the same cost as <code>memory_order_relaxed</code>.  I&#39;m not sure if Java <code>volatile</code> makes <code>num++</code> an atomic RMW (<code>lock xadd</code>) or just separately-atomic load and store.  Making a variable <code>volatile</code> means all accesses to it are &quot;atomic&quot;, including from functions that only run when it&#39;s not shared."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696965165,"post_id":77232791,"comment_id":136219248,"body_markdown":"@PeterCordes &quot;Your i7 and Ryzen are both x86-64&quot;... this is embarrassing... lol.\nI saw some improvement on the Ryzen one after weakCAS, so I guess that made me forget it wasn&#39;t x86, I think I may have done other changes simultaneously that made me believe it was the weakCAS refactor.\nAs for the LL/SC performance VS LOCK-prefixed from what I understand x86 is a beast when dealing with mathematical operations because ADD and INC are a type of atomic update that the processor performs on it&#39;s own, but in cases in which a CAS operation requires more &quot;complexity&quot; like re-capturing instance...","body":"@PeterCordes &quot;Your i7 and Ryzen are both x86-64&quot;... this is embarrassing... lol. I saw some improvement on the Ryzen one after weakCAS, so I guess that made me forget it wasn&#39;t x86, I think I may have done other changes simultaneously that made me believe it was the weakCAS refactor. As for the LL/SC performance VS LOCK-prefixed from what I understand x86 is a beast when dealing with mathematical operations because ADD and INC are a type of atomic update that the processor performs on it&#39;s own, but in cases in which a CAS operation requires more &quot;complexity&quot; like re-capturing instance..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696965173,"post_id":77232791,"comment_id":136219250,"body_markdown":"state to recompute the update, then a weakCAS is better since it will not &quot;bubble wait&quot; until acquiring cache exclusivity.","body":"state to recompute the update, then a weakCAS is better since it will not &quot;bubble wait&quot; until acquiring cache exclusivity."},{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1696966198,"post_id":77232791,"comment_id":136219405,"body_markdown":"on x86, CAS_weak compiles exactly the same as CAS_strong, to a single `lock cmpxchg` or `lock cmpxchg16` instruction.  Either way you need to use CAS in a retry loop to emulate `.fetch_or` if you use the return value, for example, or to do an atomic shift (`lock shr` isn&#39;t supported in hardware), or atomic FP add (CAS the bit-pattern after `movq rcx, xmm0`)","body":"on x86, CAS_weak compiles exactly the same as CAS_strong, to a single <code>lock cmpxchg</code> or <code>lock cmpxchg16</code> instruction.  Either way you need to use CAS in a retry loop to emulate <code>.fetch_or</code> if you use the return value, for example, or to do an atomic shift (<code>lock shr</code> isn&#39;t supported in hardware), or atomic FP add (CAS the bit-pattern after <code>movq rcx, xmm0</code>)"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696966315,"post_id":77232791,"comment_id":136219420,"body_markdown":"As for the L3 cache direct storage, I completely agree there is no way that a semantic could force a direct flush, this goes back to a previous statement on another question were I said &quot;Processors give no way to speed-up or delay their Cache Coherency Protocols&quot; so, NO the language providing such &quot;direct flushing&quot; would not be possible.\nI was watching a C++ keynote speak and the flushing behavior was mentioned, but that&#39;s all... I was just confused.\nAfter more thought I think `memory_order_relaxed` loads... and by extension Java&#39;s `getOpaque` impose a SELF non-reordering ...","body":"As for the L3 cache direct storage, I completely agree there is no way that a semantic could force a direct flush, this goes back to a previous statement on another question were I said &quot;Processors give no way to speed-up or delay their Cache Coherency Protocols&quot; so, NO the language providing such &quot;direct flushing&quot; would not be possible. I was watching a C++ keynote speak and the flushing behavior was mentioned, but that&#39;s all... I was just confused. After more thought I think <code>memory_order_relaxed</code> loads... and by extension Java&#39;s <code>getOpaque</code> impose a SELF non-reordering ..."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1696966324,"post_id":77232791,"comment_id":136219421,"body_markdown":"behavior, while `volatile` loads, enforce non-reordering ON the writes performed by OTHER concurrent sequences of instructions, so that would be the difference...(?)","body":"behavior, while <code>volatile</code> loads, enforce non-reordering ON the writes performed by OTHER concurrent sequences of instructions, so that would be the difference...(?)"}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":22,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696465463,"creation_date":1696451539,"question_id":77232791,"body_markdown":"It seems to me OOP compilers may be ruled by different rules when inlining their code before simplification and hoisting.\r\n\r\nAt first, I thought that a full inlining process PLUS the hoisting process would force a hoist before the references enter the thread context.\r\n\r\n    static class Scope {\r\n        private int field = 1;\r\n        ScheduledExecutorService e = Executors.newSingleThreadScheduledExecutor();\r\n        ScheduledExecutorService e2 = Executors.newSingleThreadScheduledExecutor();\r\n        void write() {\r\n            e.execute(\r\n                    () -&gt; {\r\n                        field = field + 3;\r\n                        Printer.out.print(&quot;written...&quot;);\r\n                        e.shutdown();\r\n                    }\r\n            );\r\n        }\r\n        void read() {\r\n            e2.schedule(\r\n                    () -&gt; {\r\n                        Printer.out.print(val() + &quot;...read&quot;);\r\n                        e2.shutdown();\r\n                    }\r\n                    ,\r\n                    5,\r\n                    TimeUnit.MILLISECONDS\r\n            );\r\n        }\r\n\r\n        int val() {\r\n            return field;\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        Printer.setAutoFlush(true); //If you use System you&#39;ll get delays, so use a flushable version.\r\n        Scope scope = new Scope();\r\n        scope.read();\r\n        scope.write();\r\n    }\r\n\r\nI am not particularly fluent in bytecode or processor/assembler instruction, but I will pseudocode what I believe the compiler may do...\r\n\r\nAt one point... a few steps before the code becomes completely inlined the runnable at read() may look like this.\r\n\r\n    () -&gt; {\r\n       Scope self = Scope.this;\r\n       int cacheRead = self.val();\r\n       Printer.out.print(cacheRead + &quot;...read&quot;);\r\n       e.shutdown();\r\n    }\r\n\r\nEventually the Printer class becomes unfolded, the read method itself until everything is inlined on the main() as a single sequence of instructions.\r\n\r\nAt which point, the compiler then begins to do inferences to help reduce interthread latencies, this means that every non-fenced read or write will be reordered and/or simplified.\r\n\r\nThe lines:\r\n\r\n    Scope self = Scope.this;\r\n    int cacheRead = self.field; //simplified to reference directly\r\nCan then be simplified as:\r\n\r\n    int cacheRead = Scope.this.field;\r\n\r\n**This would mean that at this point, such a deep inlining process would make the compiler believe that what we did was a direct integer loading.**\r\n\r\n*(BTW .val() will also be unfolded into bytecode, then C then assembler and processor instructions...\r\nin-between these translations the code crosses 2 reorderings, the JIT compiler reorder and the processor...)*\r\n\r\nThe thing is that, since `int` is not `volatile`, the compiler MAY infer that the integer is NOT PART of any inter-process communication... so, to prevent latency it may hoist the value outside the Runnable instantiation (in this case inside it&#39;s scope...).\r\n\r\n    new Runnable() {\r\n       int cacheRead = Scope.this.field;\r\n       @Override\r\n       public void run() {\r\n          Printer.out.print(cacheRead + &quot;...read&quot;);\r\n          e.shutdown();\r\n       }\r\n    }\r\n\r\nCreating a memory visibility issue.\r\n\r\nNOW... this is why I believe this MAY (WILL) NOT happen...\r\n\r\n**OOP syntax rules**\r\n\r\nIf the inlining OBEYS the syntax and rules of the language... then the hoisting will NOT damage the visibility of the memory... EVEN IF there is an attempt at doing so:\r\n\r\n       new Runnable() {\r\n           Scope cachedScope = Scope.this;\r\n           @Override\r\n           public void run() {\r\n              Printer.out.print(cachedScope.field + &quot;...read&quot;); //This may still be subjected to latency even if a hoisting occured.\r\n              e.shutdown();\r\n           }\r\n        }\r\n\r\nThe implication here is that OOP compilers may not go into a deep inlining before going to the hoisting/caching step... **(assuming all compilers steps are inlining -&gt; simplification -&gt; elimination -&gt; hoisting in that order)**\r\n\r\nSo if the programmer DOES NOT explicitly dereferences the primitive, the thing hoisted is the Object reference, not its separated fields.\r\n\r\nI know that if multiple checks are done on the same non-volatile field... even if done via `this.` then the hoisting of the primitive occurs at the start when the first read is performed (in these cases opqueness/memory_oreder_relaxed is required).\r\n\r\nThe Java language is somewhat explicit in this sense... IF a lambda, captures a **local** value it forces us to make it final and dereference it before entering the lambda... IF the lambda captures a field, IT DOESN&#39;T.\r\n\r\nTHIS to me is a didactic vehicle to help us remember the difference between locals and fields... so as to make EXPLICIT that **fields will always force a shared register reading among all child scopes...**\r\n\r\nOf course... the Java language may have control over what their JIT compilers can do... but what about the processor optimization?\r\n\r\nWe know for a fact that memory latency cannot be influenced whatsoever by any language... this means that a field being non-volatile will never affect its &quot;visibility&quot; as a consequence of latency... all processors are cache coherent, so this is out of the question...\r\n\r\nSo, do fields EVER get hoisted and cached before thread scoping by Memory Models in OOP compilers?\r\n\r\nWhat I know for a fact because of Java documentation is that VarHandle.getOpaque() will prevent a complete inlining... on primitives... the examples never disclose object referencing.\r\n\r\nNot only will it prevent it, but the hoisting and simplification is completely prevented.\r\n\r\nopaqueness according to the docs resemble the &quot;readOnce&quot; or &quot;memory_order_relaxed&quot;... the issue here is that the only thing we need to prevent is even lesser than the things it prevents... we just need to prevent complete hoisting on top, before runnable creation.\r\n\r\nI know that if this code would have a double-check, then the integer... no matter if it is a field or local, would be hoisted on top at the first line inside the runnable (NOT before its creation) making a double check impossible and the compiler would simplify it and erase it, forcing a getOpaque on every read if we really want to allow for a double check.\r\n\r\nBut in this example only ONE read is performed, so no need to make it opaque... IF memory rules apply correctly.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/20554586/11214643","title":"Do fields EVER get Hoisted and cached before thread scoping by Memory Models in OOP compilers?","body":"<p>It seems to me OOP compilers may be ruled by different rules when inlining their code before simplification and hoisting.</p>\n<p>At first, I thought that a full inlining process PLUS the hoisting process would force a hoist before the references enter the thread context.</p>\n<pre><code>static class Scope {\n    private int field = 1;\n    ScheduledExecutorService e = Executors.newSingleThreadScheduledExecutor();\n    ScheduledExecutorService e2 = Executors.newSingleThreadScheduledExecutor();\n    void write() {\n        e.execute(\n                () -&gt; {\n                    field = field + 3;\n                    Printer.out.print(&quot;written...&quot;);\n                    e.shutdown();\n                }\n        );\n    }\n    void read() {\n        e2.schedule(\n                () -&gt; {\n                    Printer.out.print(val() + &quot;...read&quot;);\n                    e2.shutdown();\n                }\n                ,\n                5,\n                TimeUnit.MILLISECONDS\n        );\n    }\n\n    int val() {\n        return field;\n    }\n}\npublic static void main(String[] args) {\n    Printer.setAutoFlush(true); //If you use System you'll get delays, so use a flushable version.\n    Scope scope = new Scope();\n    scope.read();\n    scope.write();\n}\n</code></pre>\n<p>I am not particularly fluent in bytecode or processor/assembler instruction, but I will pseudocode what I believe the compiler may do...</p>\n<p>At one point... a few steps before the code becomes completely inlined the runnable at read() may look like this.</p>\n<pre><code>() -&gt; {\n   Scope self = Scope.this;\n   int cacheRead = self.val();\n   Printer.out.print(cacheRead + &quot;...read&quot;);\n   e.shutdown();\n}\n</code></pre>\n<p>Eventually the Printer class becomes unfolded, the read method itself until everything is inlined on the main() as a single sequence of instructions.</p>\n<p>At which point, the compiler then begins to do inferences to help reduce interthread latencies, this means that every non-fenced read or write will be reordered and/or simplified.</p>\n<p>The lines:</p>\n<pre><code>Scope self = Scope.this;\nint cacheRead = self.field; //simplified to reference directly\n</code></pre>\n<p>Can then be simplified as:</p>\n<pre><code>int cacheRead = Scope.this.field;\n</code></pre>\n<p><strong>This would mean that at this point, such a deep inlining process would make the compiler believe that what we did was a direct integer loading.</strong></p>\n<p><em>(BTW .val() will also be unfolded into bytecode, then C then assembler and processor instructions...\nin-between these translations the code crosses 2 reorderings, the JIT compiler reorder and the processor...)</em></p>\n<p>The thing is that, since <code>int</code> is not <code>volatile</code>, the compiler MAY infer that the integer is NOT PART of any inter-process communication... so, to prevent latency it may hoist the value outside the Runnable instantiation (in this case inside it's scope...).</p>\n<pre><code>new Runnable() {\n   int cacheRead = Scope.this.field;\n   @Override\n   public void run() {\n      Printer.out.print(cacheRead + &quot;...read&quot;);\n      e.shutdown();\n   }\n}\n</code></pre>\n<p>Creating a memory visibility issue.</p>\n<p>NOW... this is why I believe this MAY (WILL) NOT happen...</p>\n<p><strong>OOP syntax rules</strong></p>\n<p>If the inlining OBEYS the syntax and rules of the language... then the hoisting will NOT damage the visibility of the memory... EVEN IF there is an attempt at doing so:</p>\n<pre><code>   new Runnable() {\n       Scope cachedScope = Scope.this;\n       @Override\n       public void run() {\n          Printer.out.print(cachedScope.field + &quot;...read&quot;); //This may still be subjected to latency even if a hoisting occured.\n          e.shutdown();\n       }\n    }\n</code></pre>\n<p>The implication here is that OOP compilers may not go into a deep inlining before going to the hoisting/caching step... <strong>(assuming all compilers steps are inlining -&gt; simplification -&gt; elimination -&gt; hoisting in that order)</strong></p>\n<p>So if the programmer DOES NOT explicitly dereferences the primitive, the thing hoisted is the Object reference, not its separated fields.</p>\n<p>I know that if multiple checks are done on the same non-volatile field... even if done via <code>this.</code> then the hoisting of the primitive occurs at the start when the first read is performed (in these cases opqueness/memory_oreder_relaxed is required).</p>\n<p>The Java language is somewhat explicit in this sense... IF a lambda, captures a <strong>local</strong> value it forces us to make it final and dereference it before entering the lambda... IF the lambda captures a field, IT DOESN'T.</p>\n<p>THIS to me is a didactic vehicle to help us remember the difference between locals and fields... so as to make EXPLICIT that <strong>fields will always force a shared register reading among all child scopes...</strong></p>\n<p>Of course... the Java language may have control over what their JIT compilers can do... but what about the processor optimization?</p>\n<p>We know for a fact that memory latency cannot be influenced whatsoever by any language... this means that a field being non-volatile will never affect its &quot;visibility&quot; as a consequence of latency... all processors are cache coherent, so this is out of the question...</p>\n<p>So, do fields EVER get hoisted and cached before thread scoping by Memory Models in OOP compilers?</p>\n<p>What I know for a fact because of Java documentation is that VarHandle.getOpaque() will prevent a complete inlining... on primitives... the examples never disclose object referencing.</p>\n<p>Not only will it prevent it, but the hoisting and simplification is completely prevented.</p>\n<p>opaqueness according to the docs resemble the &quot;readOnce&quot; or &quot;memory_order_relaxed&quot;... the issue here is that the only thing we need to prevent is even lesser than the things it prevents... we just need to prevent complete hoisting on top, before runnable creation.</p>\n<p>I know that if this code would have a double-check, then the integer... no matter if it is a field or local, would be hoisted on top at the first line inside the runnable (NOT before its creation) making a double check impossible and the compiler would simplify it and erase it, forcing a getOpaque on every read if we really want to allow for a double check.</p>\n<p>But in this example only ONE read is performed, so no need to make it opaque... IF memory rules apply correctly.</p>\n"},{"tags":["java","xml","gradle","classpath"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":1,"creation_date":1696466329,"post_id":77233642,"comment_id":136158013,"body_markdown":"[con as in &quot;container&quot;](https://stackoverflow.com/a/20692576/2834978)","body":"<a href=\"https://stackoverflow.com/a/20692576/2834978\">con as in &quot;container&quot;</a>"}],"owner":{"account_id":2154881,"reputation":3922,"user_id":1910355,"accept_rate":6,"display_name":"Jim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696466078,"answer_count":0,"score":0,"last_activity_date":1696465099,"creation_date":1696465099,"question_id":77233642,"body_markdown":"\r\nI&#39;m trying to understand this `.classpath` file in my java project that builds with gradle, but I&#39;m confused what `kind=&quot;con&quot;` means on the lines 16 and 17 `&lt;classpathentry /&gt;` elements...\r\n\r\n`.classpath`\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot;  path=&quot;src/main/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\r\n\t\t&lt;attributes/&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot;  path=&quot;src/test/java&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;attributes/&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-21/&quot;&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;&gt;\r\n&lt;/classpath&gt;\r\n``` ","title":"What does `kind=&quot;con&quot;` mean in java gradle build files?","body":"<p>I'm trying to understand this <code>.classpath</code> file in my java project that builds with gradle, but I'm confused what <code>kind=&quot;con&quot;</code> means on the lines 16 and 17 <code>&lt;classpathentry /&gt;</code> elements...</p>\n<p><code>.classpath</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/main&quot;  path=&quot;src/main/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;main&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;main,test&quot;/&gt;\n        &lt;attributes/&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;src&quot; output=&quot;bin/test&quot;  path=&quot;src/test/java&quot;&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=&quot;gradle_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;gradle_used_by_scope&quot; value=&quot;test&quot;/&gt;\n            &lt;attribute name=&quot;test&quot; value=&quot;true&quot;/&gt;\n        &lt;attributes/&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-21/&quot;&gt;\n    &lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.buildship.core.gradleclasspathcontainer&quot;&gt;\n&lt;/classpath&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jwt","jjwt","illegalaccessexception"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1696477869,"post_id":77233638,"comment_id":136158771,"body_markdown":"[This appears to be a problem in the 0.12.0 release yesterday](https://github.com/jwtk/jjwt/issues/849) that was [fixed by 0.12.1 a few minutes ago](https://github.com/jwtk/jjwt/releases/tag/0.12.1) (life on the bleeding edge can be dangerous)","body":"<a href=\"https://github.com/jwtk/jjwt/issues/849\" rel=\"nofollow noreferrer\">This appears to be a problem in the 0.12.0 release yesterday</a> that was <a href=\"https://github.com/jwtk/jjwt/releases/tag/0.12.1\" rel=\"nofollow noreferrer\">fixed by 0.12.1 a few minutes ago</a> (life on the bleeding edge can be dangerous)"},{"owner":{"account_id":29600579,"reputation":31,"user_id":22686121,"display_name":"Meow17"},"score":0,"creation_date":1696532678,"post_id":77233638,"comment_id":136168956,"body_markdown":"@dave_thompson_085 Ah yeah I started using jjwt just when 0.12.0 was released. Couldn&#39;t have been better timed to run into that problem XD cheers!","body":"@dave_thompson_085 Ah yeah I started using jjwt just when 0.12.0 was released. Couldn&#39;t have been better timed to run into that problem XD cheers!"}],"owner":{"account_id":29600579,"reputation":31,"user_id":22686121,"display_name":"Meow17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1696465044,"creation_date":1696465044,"question_id":77233638,"body_markdown":"As the title says, I&#39;m trying to generate a JWT using jjwt in my spring boot starter web app and I hit this exception when I call compact() on the builder to actually return the JWT. More specifically:\r\n\r\n`class io.jsonwebtoken.impl.lang.OptionalMethodInvoker cannot access class sun.security.util.KeyUtil (in module java.base) because module java.base does not export sun.security.util to unnamed module`\r\n\r\nI&#39;ve just been following the guide on the jjwt GitHub page: https://github.com/jwtk/jjwt\r\n\r\n(Not sure if this is too relevant) but I&#39;m using JDK corretto-20 with gradle 8.3 on Intellij IDEA. My jjwt dependencies in my build.gradle.kts:\r\n\r\n```\r\nimplementation(&quot;io.jsonwebtoken:jjwt-api:0.12.0&quot;)\r\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-impl:0.12.0&quot;)\r\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-jackson:0.12.0&quot;)\r\n```\r\n\r\nand the basic authenticator I&#39;ve made so far which tries to generate the JWT:\r\n\r\n```\r\npackage myproject.utility;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport myproject.model.User;\r\n\r\nimport javax.crypto.SecretKey;\r\n\r\npublic class Authenticator {\r\n  private final static SecretKey secretKey = Jwts.SIG.HS256.key().build();\r\n\r\n  public static String generateJwt(User user) {\r\n    return Jwts.builder().claim(&quot;username&quot;, user.getUsername()).signWith(Authenticator.secretKey).compact();\r\n  }\r\n}\r\n\r\n```\r\n\r\nTo pinpoint which bit was throwing the error I added each part of the JWT build process one at a time and it fails after calling compact() at the final step\r\n\r\nThe error feels pretty self-explanatory but I have no idea how to fix this. Any help would be appreciated","title":"java.lang.IllegalAccessException when trying to generate JWT when calling .compact() in jjwt","body":"<p>As the title says, I'm trying to generate a JWT using jjwt in my spring boot starter web app and I hit this exception when I call compact() on the builder to actually return the JWT. More specifically:</p>\n<p><code>class io.jsonwebtoken.impl.lang.OptionalMethodInvoker cannot access class sun.security.util.KeyUtil (in module java.base) because module java.base does not export sun.security.util to unnamed module</code></p>\n<p>I've just been following the guide on the jjwt GitHub page: <a href=\"https://github.com/jwtk/jjwt\" rel=\"nofollow noreferrer\">https://github.com/jwtk/jjwt</a></p>\n<p>(Not sure if this is too relevant) but I'm using JDK corretto-20 with gradle 8.3 on Intellij IDEA. My jjwt dependencies in my build.gradle.kts:</p>\n<pre><code>implementation(&quot;io.jsonwebtoken:jjwt-api:0.12.0&quot;)\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-impl:0.12.0&quot;)\nruntimeOnly(&quot;io.jsonwebtoken:jjwt-jackson:0.12.0&quot;)\n</code></pre>\n<p>and the basic authenticator I've made so far which tries to generate the JWT:</p>\n<pre><code>package myproject.utility;\n\nimport io.jsonwebtoken.Jwts;\nimport myproject.model.User;\n\nimport javax.crypto.SecretKey;\n\npublic class Authenticator {\n  private final static SecretKey secretKey = Jwts.SIG.HS256.key().build();\n\n  public static String generateJwt(User user) {\n    return Jwts.builder().claim(&quot;username&quot;, user.getUsername()).signWith(Authenticator.secretKey).compact();\n  }\n}\n\n</code></pre>\n<p>To pinpoint which bit was throwing the error I added each part of the JWT build process one at a time and it fails after calling compact() at the final step</p>\n<p>The error feels pretty self-explanatory but I have no idea how to fix this. Any help would be appreciated</p>\n"},{"tags":["java","email","jakarta-mail"],"comments":[{"owner":{"account_id":333607,"reputation":33561,"user_id":1715121,"accept_rate":85,"display_name":"Ele"},"score":1,"creation_date":1447073016,"post_id":33609263,"comment_id":54993221,"body_markdown":"Check your server firewall&#39;s settings.","body":"Check your server firewall&#39;s settings."},{"owner":{"account_id":6941698,"reputation":1659,"user_id":5327791,"accept_rate":20,"display_name":"Protagonist"},"score":0,"creation_date":1447073203,"post_id":33609263,"comment_id":54993310,"body_markdown":"@EleazarEnrique, Firewall is disabled","body":"@EleazarEnrique, Firewall is disabled"}],"answers":[{"comments":[{"owner":{"account_id":1032936,"reputation":29649,"user_id":1040885,"display_name":"Bill Shannon"},"score":0,"creation_date":1447094948,"post_id":33609481,"comment_id":55006398,"body_markdown":"Also, here&#39;s some [connection debugging tips from the JavaMail FAQ](http://www.oracle.com/technetwork/java/javamail/faq/index.html#condebug).","body":"Also, here&#39;s some <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#condebug\" rel=\"nofollow noreferrer\">connection debugging tips from the JavaMail FAQ</a>."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447073366,"creation_date":1447073366,"answer_id":33609481,"question_id":33609263,"body_markdown":"In general there are a few possible reasons for a connection timeout, including the server being offline, network link failure and networking routing problems&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nBut in this case, the most likely explanation is that a firewall is blocking your out-going access to the gmail mail server.  This is often done as a means of monitoring / controlling an organization&#39;s out-going email, or as a way of preventing deliberate SPAMing or SPAMing by compromised machines.\r\n\r\n&gt; Firewall is disabled\r\n\r\nIt is probably not your computer&#39;s firewall or your (home) network&#39;s firewall doing the blocking.  It is likely to be blocked by your organization&#39;s network admins, or your ISP&#39;s admins.\r\n\r\n-------------\r\n\r\n&lt;sup&gt;1 - In general, these things are likely to disrupt all network traffic from your machine to the server, so it is worth doing some probing with &quot;ping&quot;, &quot;traceroute&quot;, &quot;tcptraceroute&quot;, etcetera.&lt;/sup&gt;","title":"Why connection is timed out in Javamail?","body":"<p>In general there are a few possible reasons for a connection timeout, including the server being offline, network link failure and networking routing problems<sup>1</sup>.</p>\n\n<p>But in this case, the most likely explanation is that a firewall is blocking your out-going access to the gmail mail server.  This is often done as a means of monitoring / controlling an organization's out-going email, or as a way of preventing deliberate SPAMing or SPAMing by compromised machines.</p>\n\n<blockquote>\n  <p>Firewall is disabled</p>\n</blockquote>\n\n<p>It is probably not your computer's firewall or your (home) network's firewall doing the blocking.  It is likely to be blocked by your organization's network admins, or your ISP's admins.</p>\n\n<hr>\n\n<p><sup>1 - In general, these things are likely to disrupt all network traffic from your machine to the server, so it is worth doing some probing with \"ping\", \"traceroute\", \"tcptraceroute\", etcetera.</sup></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1696465770,"post_id":33609580,"comment_id":136157981,"body_markdown":"None of that would fix a connect timeout, and you haven&#39;t explained why it would.","body":"None of that would fix a connect timeout, and you haven&#39;t explained why it would."}],"tags":[],"owner":{"account_id":333607,"reputation":33561,"user_id":1715121,"accept_rate":85,"display_name":"Ele"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1606915167,"creation_date":1447073719,"answer_id":33609580,"question_id":33609263,"body_markdown":"**Add only these properties:**\r\n\r\n        Properties props = new Properties();\r\n\t\tprops.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n\t\tprops.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\r\n\t\tprops.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\r\n        props.put(&quot;mail.smtp.socketFactory.class&quot;,\r\n\t\t\t\t&quot;javax.net.ssl.SSLSocketFactory&quot;);\r\n\r\n**Also, check your gmail settings:**\r\n\r\n[Set up 2-Step Verification][1]\r\n\r\n  [1]: https://support.google.com/accounts/answer/185839?hl=en&amp;rd=1","title":"Why connection is timed out in Javamail?","body":"<p><strong>Add only these properties:</strong></p>\n<pre><code>    Properties props = new Properties();\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);\n    props.put(&quot;mail.smtp.port&quot;, &quot;587&quot;);\n    props.put(&quot;mail.smtp.socketFactory.class&quot;,\n            &quot;javax.net.ssl.SSLSocketFactory&quot;);\n</code></pre>\n<p><strong>Also, check your gmail settings:</strong></p>\n<p><a href=\"https://support.google.com/accounts/answer/185839?hl=en&amp;rd=1\" rel=\"nofollow noreferrer\">Set up 2-Step Verification</a></p>\n"}],"owner":{"account_id":6941698,"reputation":1659,"user_id":5327791,"accept_rate":20,"display_name":"Protagonist"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7365,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696463895,"creation_date":1447072631,"question_id":33609263,"body_markdown":"I&#39;m trying to use javamail in eclipse to send out an email via gmail. Each time I get javax.mail.MessagingException\r\n\r\n**Exception**\r\n\r\n   \r\n\r\n     DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\r\n        DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\r\n        DEBUG SMTP: useEhlo true, useAuth true\r\n        DEBUG SMTP: useEhlo true, useAuth true\r\n        DEBUG SMTP: trying to connect to host &quot;smtp.gmail.com&quot;, port 587, isSSL false\r\n        javax.mail.MessagingException: Could not connect to SMTP host: \r\n    \r\n    smtp.gmail.com, port: 587;\r\n      nested exception is:\r\n    \tjava.net.ConnectException: Connection timed out: connect\r\n\r\n\r\n**Code**\r\n\r\n    package org.itc.utility;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.mail.Message;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import javax.mail.Transport;\r\n    import javax.mail.internet.InternetAddress;\r\n    import javax.mail.internet.MimeMessage;\r\n    \r\n    import org.itc.model.User;\r\n    \r\n    public class SendEmail {\r\n    \tpublic User sendingEmail(User user)\r\n    \t{\r\n    \t\tProperties props = new Properties();  \r\n            props.put(&quot;mail.smtp.host&quot;, &quot;smtp.gmail.com&quot;);  \r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);  \r\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);  \r\n            props.put(&quot;mail.smtp.port&quot;, 587);  \r\n            props.put(&quot;mail.smtp.socketFactory.port&quot;, 587);  \r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n            Session mailSession = null;\r\n    \r\n            mailSession = Session.getInstance(props,  \r\n                    new javax.mail.Authenticator() {  \r\n                protected PasswordAuthentication getPasswordAuthentication() {  \r\n                    return new PasswordAuthentication(&quot;&lt;yogeshvbhat@gmail.com&gt;&quot;, &quot;&lt;zc516z918&gt;&quot;);  \r\n                }  \r\n            });  \r\n    \r\n    \r\n            try {\r\n            \t\r\n            \t\r\n                Transport transport = mailSession.getTransport();\r\n    \r\n                MimeMessage message = new MimeMessage(mailSession);\r\n    \r\n                message.setSubject(&quot;Sample Subject&quot;);\r\n                message.setFrom(new InternetAddress(&quot;yogeshvbhat@gmail.com&quot;));\r\n                String []to = new String[]{&quot;yogeshyvb@gmail.com&quot;};\r\n                message.addRecipient(Message.RecipientType.TO, new InternetAddress(to[0]));\r\n                String body = &quot;Sample text&quot;;\r\n                message.setContent(body,&quot;text/html&quot;);\r\n                transport.connect();\r\n    \r\n                transport.sendMessage(message,message.getRecipients(Message.RecipientType.TO));\r\n                transport.close();\r\n            } catch (Exception exception) {\r\n            \t\tSystem.out.println(exception);\r\n            }\r\n    \t\treturn user;\r\n        }\r\n    }\r\n\r\nEach time it is skipping the try block and I&#39;m getting the exception. Any help on this?\r\n","title":"Why connection is timed out in Javamail?","body":"<p>I'm trying to use javamail in eclipse to send out an email via gmail. Each time I get javax.mail.MessagingException</p>\n\n<p><strong>Exception</strong></p>\n\n<pre><code> DEBUG: successfully loaded resource: /META-INF/javamail.default.address.map\n    DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\n    DEBUG SMTP: useEhlo true, useAuth true\n    DEBUG SMTP: useEhlo true, useAuth true\n    DEBUG SMTP: trying to connect to host \"smtp.gmail.com\", port 587, isSSL false\n    javax.mail.MessagingException: Could not connect to SMTP host: \n\nsmtp.gmail.com, port: 587;\n  nested exception is:\n    java.net.ConnectException: Connection timed out: connect\n</code></pre>\n\n<p><strong>Code</strong></p>\n\n<pre><code>package org.itc.utility;\n\nimport java.util.Properties;\n\nimport javax.mail.Message;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport javax.mail.Transport;\nimport javax.mail.internet.InternetAddress;\nimport javax.mail.internet.MimeMessage;\n\nimport org.itc.model.User;\n\npublic class SendEmail {\n    public User sendingEmail(User user)\n    {\n        Properties props = new Properties();  \n        props.put(\"mail.smtp.host\", \"smtp.gmail.com\");  \n        props.put(\"mail.smtp.auth\", \"true\");  \n        props.put(\"mail.debug\", \"true\");  \n        props.put(\"mail.smtp.port\", 587);  \n        props.put(\"mail.smtp.socketFactory.port\", 587);  \n        props.put(\"mail.smtp.starttls.enable\", \"true\");\n        props.put(\"mail.transport.protocol\", \"smtp\");\n        Session mailSession = null;\n\n        mailSession = Session.getInstance(props,  \n                new javax.mail.Authenticator() {  \n            protected PasswordAuthentication getPasswordAuthentication() {  \n                return new PasswordAuthentication(\"&lt;yogeshvbhat@gmail.com&gt;\", \"&lt;zc516z918&gt;\");  \n            }  \n        });  \n\n\n        try {\n\n\n            Transport transport = mailSession.getTransport();\n\n            MimeMessage message = new MimeMessage(mailSession);\n\n            message.setSubject(\"Sample Subject\");\n            message.setFrom(new InternetAddress(\"yogeshvbhat@gmail.com\"));\n            String []to = new String[]{\"yogeshyvb@gmail.com\"};\n            message.addRecipient(Message.RecipientType.TO, new InternetAddress(to[0]));\n            String body = \"Sample text\";\n            message.setContent(body,\"text/html\");\n            transport.connect();\n\n            transport.sendMessage(message,message.getRecipients(Message.RecipientType.TO));\n            transport.close();\n        } catch (Exception exception) {\n                System.out.println(exception);\n        }\n        return user;\n    }\n}\n</code></pre>\n\n<p>Each time it is skipping the try block and I'm getting the exception. Any help on this?</p>\n"},{"tags":["java","javafx","scenebuilder"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1696435017,"post_id":77230890,"comment_id":136153335,"body_markdown":"Please edit your question to include a [mre]. Specifically, include an FXML file that demonstrates the issue, along with the application code to display it.","body":"Please edit your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Specifically, include an FXML file that demonstrates the issue, along with the application code to display it."},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":3,"creation_date":1696438656,"post_id":77230890,"comment_id":136154065,"body_markdown":"If you try to search for similar questions, there are at least two things come up that your could try: the [documentation](https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/doc-files/cssref.html#region) says this property is comma-separated (though various other sources say it isn&#39;t), and while the documentation says `none`, some people found `hidden` working instead.","body":"If you try to search for similar questions, there are at least two things come up that your could try: the <a href=\"https://openjfx.io/javadoc/13/javafx.graphics/javafx/scene/doc-files/cssref.html#region\" rel=\"nofollow noreferrer\">documentation</a> says this property is comma-separated (though various other sources say it isn&#39;t), and while the documentation says <code>none</code>, some people found <code>hidden</code> working instead."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1696443817,"post_id":77230890,"comment_id":136155082,"body_markdown":"Both the implementation (doesn&#39;t work correctly if the top border is set to &quot;none&#39;) and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs.","body":"Both the implementation (doesn&#39;t work correctly if the top border is set to &quot;none&#39;) and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1696474360,"post_id":77230890,"comment_id":136158525,"body_markdown":"@tevemadar Note the documentation says commas are used to separate values for _different borders_ (you can have multiple border e.g., strokes with different styles, widths, colors, etc. on a single region). Though the documentation fails to say anything about allowing four values for a _single border_ (for each side of the border). It&#39;s somewhat inferable from the way `BorderStroke` works and how the other `-fx-border-xxx` properties work, but that&#39;s definitely a bug in the documentation.","body":"@tevemadar Note the documentation says commas are used to separate values for <i>different borders</i> (you can have multiple border e.g., strokes with different styles, widths, colors, etc. on a single region). Though the documentation fails to say anything about allowing four values for a <i>single border</i> (for each side of the border). It&#39;s somewhat inferable from the way <code>BorderStroke</code> works and how the other <code>-fx-border-xxx</code> properties work, but that&#39;s definitely a bug in the documentation."},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1696497126,"post_id":77230890,"comment_id":136161467,"body_markdown":"@Slaw obviously I haven&#39;t tried any of them, just mentioned what I&#39;ve seen in somewhat similar topics.","body":"@Slaw obviously I haven&#39;t tried any of them, just mentioned what I&#39;ve seen in somewhat similar topics."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1696453072,"post_id":77232915,"comment_id":136156702,"body_markdown":"A workaround for the OP is to specify widths instead of styles (e.g., `-fx-border-width: 0 2 0 0;`).","body":"A workaround for the OP is to specify widths instead of styles (e.g., <code>-fx-border-width: 0 2 0 0;</code>)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1696453259,"post_id":77232915,"comment_id":136156730,"body_markdown":"Or if the widths are important to layout ([borders affect a region&#39;s insets](https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/layout/Region.html#insetsProperty())), use transparent colors for the sides not meant to be seen (e.g., `-fx-border-color: transparent black transparent transparent;`)","body":"Or if the widths are important to layout (<a href=\"https://openjfx.io/javadoc/21/javafx.graphics/javafx/scene/layout/Region.html#insetsProperty()\" rel=\"nofollow noreferrer\">borders affect a region&#39;s insets</a>), use transparent colors for the sides not meant to be seen (e.g., <code>-fx-border-color: transparent black transparent transparent;</code>)"},{"owner":{"account_id":29597432,"reputation":53,"user_id":22683657,"display_name":"Jouzef"},"score":0,"creation_date":1696516743,"post_id":77232915,"comment_id":136165788,"body_markdown":"@jewelsea in my situation is more suitable advice from Slaw or tevemadar. If I could connect it with the FXML file and continue work in SceneBuilder would by better, but still the border width/color or the &quot;hidden&quot; solution is way more faster. Anyway thank you all.","body":"@jewelsea in my situation is more suitable advice from Slaw or tevemadar. If I could connect it with the FXML file and continue work in SceneBuilder would by better, but still the border width/color or the &quot;hidden&quot; solution is way more faster. Anyway thank you all."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1696628688,"post_id":77232915,"comment_id":136182731,"body_markdown":"I tried filing a bug report for this at the recommended reporting location: [https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report](https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report), which links to [https://bugreport.java.com/bugreport/start_form](https://bugreport.java.com/bugreport/start_form).  However, I was unable to do so, due to the following response on submitting the bug report form: `Request method &#39;POST&#39; not supported`.  So I don&#39;t really know how to report this issue, perhaps it could be posted to the `openfjx-dev` mailing list.","body":"I tried filing a bug report for this at the recommended reporting location: <a href=\"https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Re&zwnj;&#8203;port</a>, which links to <a href=\"https://bugreport.java.com/bugreport/start_form\" rel=\"nofollow noreferrer\">https://bugreport.java.com/bugreport/start_form</a>.  However, I was unable to do so, due to the following response on submitting the bug report form: <code>Request method &#39;POST&#39; not supported</code>.  So I don&#39;t really know how to report this issue, perhaps it could be posted to the <code>openfjx-dev</code> mailing list."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1696706956,"post_id":77232915,"comment_id":136188774,"body_markdown":"@Jouzef While you can define styles in the FXML file, I would recommend separating out the styles into a CSS file. You can add the stylesheet to the root of the FXML file, and Scene Builder will still preview those styles. It will even watch the file for changes and update accordingly.","body":"@Jouzef While you can define styles in the FXML file, I would recommend separating out the styles into a CSS file. You can add the stylesheet to the root of the FXML file, and Scene Builder will still preview those styles. It will even watch the file for changes and update accordingly."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696463396,"creation_date":1696452829,"answer_id":77232915,"question_id":77230890,"body_markdown":"**This is a bug in JavaFX 21 CSS border rule processing**\r\n\r\nThis appears to be a bug in CSS border handling in JavaFX 21.  It is not an issue in SceneBuilder or FXML, or the core border logic of JavaFX.\r\n\r\nAs noted by James in comments:\r\n\r\n&gt; Both the implementation (doesn&#39;t work correctly if the top border is set to &quot;none&#39;) and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs. \r\n\r\nYou might wish to [file a bug report][1] on this.  If you do so, you can link back to this issue and add a comment to this answer (or edit it) to add a reference to the related bug report.\r\n\r\nThe issue is that, if you specify all four border styles in a CSS rule *and* the first border style is set to `none`, then the border styles do not take effect -&gt; all borders show.\r\n\r\n**Replicating the Issue**\r\n\r\nThe code below replicates the issue (tested on JavaFX 21).\r\n\r\n1. The first box, is rendered incorrectly, showing all four borders when only the right border should show.\r\n\r\n       -fx-border-style: none solid none none;\r\n\r\n2. The second box renders correctly, the top and right borders show and the other borders do not.\r\n\r\n       -fx-border-style: solid solid none none;\r\n\r\n3. The third box renders correctly, only the right border shows.  However, this was implemented in code rather than CSS. As a work-around for your issue you can write your border styles in code rather than using CSS.\r\n\r\n       Border codedBorder = new Border(\r\n               new BorderStroke(\r\n                       Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\r\n                       BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\r\n                       CornerRadii.EMPTY,\r\n                       new BorderWidths(10, 8, 6, 4),\r\n                       Insets.EMPTY\r\n               )\r\n       );\r\n\r\n[![demos][2]][2]\r\n\r\n**Example Code: BrokenBorders.java**\r\n\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class BrokenBorders extends Application {\r\n        private static final String CSS = &quot;data:text/css,&quot;;\r\n        private static final String CUSTOM_BORDER_CSS = CSS + // language=CSS\r\n                &quot;&quot;&quot;            \r\n                .broken-border {\r\n                    -fx-border-style: none solid none none;\r\n                    -fx-border-color: black red green blue;\r\n                    -fx-border-width: 10 8 6 4;\r\n                    -fx-background-color: lightgreen;\r\n                }\r\n    \r\n                .working-border {\r\n                    -fx-border-style: solid solid none none;\r\n                    -fx-border-color: black red green blue;\r\n                    -fx-border-width: 10 8 6 4;\r\n                    -fx-background-color: lightblue;\r\n                }\r\n                \r\n                .root {\r\n                    -fx-font-size: 40px;\r\n                }\r\n                &quot;&quot;&quot;;\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n            stage.setScene(new Scene(createLayout()));\r\n            stage.show();\r\n        }\r\n    \r\n        private static VBox createLayout() {\r\n            StackPane brokenBorderedPane = new StackPane(new Label(&quot;1&quot;));\r\n            brokenBorderedPane.getStyleClass().add(&quot;broken-border&quot;);\r\n            brokenBorderedPane.setPrefSize(100, 100);\r\n    \r\n            StackPane workingBorderedPane = new StackPane(new Label(&quot;2&quot;));\r\n            workingBorderedPane.getStyleClass().add(&quot;working-border&quot;);\r\n            workingBorderedPane.setPrefSize(100, 100);\r\n    \r\n            StackPane codedBorderPane = new StackPane(new Label(&quot;3&quot;));\r\n            Border codedBorder = new Border(\r\n                    new BorderStroke(\r\n                            Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\r\n                            BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\r\n                            CornerRadii.EMPTY,\r\n                            new BorderWidths(10, 8, 6, 4),\r\n                            Insets.EMPTY\r\n                    )\r\n            );\r\n            codedBorderPane.setBackground(Background.fill(Color.LIGHTPINK));\r\n            codedBorderPane.setBorder(codedBorder);\r\n            codedBorderPane.setPrefSize(100, 100);\r\n    \r\n            VBox layout = new VBox(\r\n                    10,\r\n                    brokenBorderedPane,\r\n                    workingBorderedPane,\r\n                    codedBorderPane\r\n            );\r\n            layout.getStylesheets().add(CUSTOM_BORDER_CSS);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            return layout;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\r\n  [2]: https://i.stack.imgur.com/YzfHd.png","title":"Is this mistake of JavaFX SceneBuilder?","body":"<p><strong>This is a bug in JavaFX 21 CSS border rule processing</strong></p>\n<p>This appears to be a bug in CSS border handling in JavaFX 21.  It is not an issue in SceneBuilder or FXML, or the core border logic of JavaFX.</p>\n<p>As noted by James in comments:</p>\n<blockquote>\n<p>Both the implementation (doesn't work correctly if the top border is set to &quot;none') and the documentation (does not describe sets of four values for four different sides for border-style) appear to have bugs.</p>\n</blockquote>\n<p>You might wish to <a href=\"https://wiki.openjdk.org/display/OpenJFX/Submitting+a+Bug+Report\" rel=\"nofollow noreferrer\">file a bug report</a> on this.  If you do so, you can link back to this issue and add a comment to this answer (or edit it) to add a reference to the related bug report.</p>\n<p>The issue is that, if you specify all four border styles in a CSS rule <em>and</em> the first border style is set to <code>none</code>, then the border styles do not take effect -&gt; all borders show.</p>\n<p><strong>Replicating the Issue</strong></p>\n<p>The code below replicates the issue (tested on JavaFX 21).</p>\n<ol>\n<li><p>The first box, is rendered incorrectly, showing all four borders when only the right border should show.</p>\n<pre><code>-fx-border-style: none solid none none;\n</code></pre>\n</li>\n<li><p>The second box renders correctly, the top and right borders show and the other borders do not.</p>\n<pre><code>-fx-border-style: solid solid none none;\n</code></pre>\n</li>\n<li><p>The third box renders correctly, only the right border shows.  However, this was implemented in code rather than CSS. As a work-around for your issue you can write your border styles in code rather than using CSS.</p>\n<pre><code>Border codedBorder = new Border(\n        new BorderStroke(\n                Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\n                BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\n                CornerRadii.EMPTY,\n                new BorderWidths(10, 8, 6, 4),\n                Insets.EMPTY\n        )\n);\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/YzfHd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YzfHd.png\" alt=\"demos\" /></a></p>\n<p><strong>Example Code: BrokenBorders.java</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Insets;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.*;\nimport javafx.scene.paint.Color;\nimport javafx.stage.Stage;\n\npublic class BrokenBorders extends Application {\n    private static final String CSS = &quot;data:text/css,&quot;;\n    private static final String CUSTOM_BORDER_CSS = CSS + // language=CSS\n            &quot;&quot;&quot;            \n            .broken-border {\n                -fx-border-style: none solid none none;\n                -fx-border-color: black red green blue;\n                -fx-border-width: 10 8 6 4;\n                -fx-background-color: lightgreen;\n            }\n\n            .working-border {\n                -fx-border-style: solid solid none none;\n                -fx-border-color: black red green blue;\n                -fx-border-width: 10 8 6 4;\n                -fx-background-color: lightblue;\n            }\n            \n            .root {\n                -fx-font-size: 40px;\n            }\n            &quot;&quot;&quot;;\n\n    @Override\n    public void start(Stage stage) {\n        stage.setScene(new Scene(createLayout()));\n        stage.show();\n    }\n\n    private static VBox createLayout() {\n        StackPane brokenBorderedPane = new StackPane(new Label(&quot;1&quot;));\n        brokenBorderedPane.getStyleClass().add(&quot;broken-border&quot;);\n        brokenBorderedPane.setPrefSize(100, 100);\n\n        StackPane workingBorderedPane = new StackPane(new Label(&quot;2&quot;));\n        workingBorderedPane.getStyleClass().add(&quot;working-border&quot;);\n        workingBorderedPane.setPrefSize(100, 100);\n\n        StackPane codedBorderPane = new StackPane(new Label(&quot;3&quot;));\n        Border codedBorder = new Border(\n                new BorderStroke(\n                        Color.BLACK, Color.RED, Color.GREEN, Color.BLUE,\n                        BorderStrokeStyle.NONE, BorderStrokeStyle.SOLID, BorderStrokeStyle.NONE, BorderStrokeStyle.NONE,\n                        CornerRadii.EMPTY,\n                        new BorderWidths(10, 8, 6, 4),\n                        Insets.EMPTY\n                )\n        );\n        codedBorderPane.setBackground(Background.fill(Color.LIGHTPINK));\n        codedBorderPane.setBorder(codedBorder);\n        codedBorderPane.setPrefSize(100, 100);\n\n        VBox layout = new VBox(\n                10,\n                brokenBorderedPane,\n                workingBorderedPane,\n                codedBorderPane\n        );\n        layout.getStylesheets().add(CUSTOM_BORDER_CSS);\n        layout.setPadding(new Insets(10));\n\n        return layout;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29597432,"reputation":53,"user_id":22683657,"display_name":"Jouzef"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":77232915,"answer_count":1,"score":5,"last_activity_date":1696463396,"creation_date":1696433038,"question_id":77230890,"body_markdown":"In JavaFX SceneBuilder I wanted to style border of Pane to be only on the right side, so I put in the JavaFX CSS style box this: -fx-border-style: none solid none none , but it did whole border visible. Then I find out, that if I put &quot;none&quot; as a first value, the border will be allways whole.\r\n\r\nCan someone tell me please , how to fix it, or if there&#39;s some other way to do that?\r\n\r\n[![JavaFX CSS view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M16cR.png","title":"Is this mistake of JavaFX SceneBuilder?","body":"<p>In JavaFX SceneBuilder I wanted to style border of Pane to be only on the right side, so I put in the JavaFX CSS style box this: -fx-border-style: none solid none none , but it did whole border visible. Then I find out, that if I put &quot;none&quot; as a first value, the border will be allways whole.</p>\n<p>Can someone tell me please , how to fix it, or if there's some other way to do that?</p>\n<p><a href=\"https://i.stack.imgur.com/M16cR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M16cR.png\" alt=\"JavaFX CSS view\" /></a></p>\n"},{"tags":["java","spring","command-line"],"answers":[{"comments":[{"owner":{"account_id":11444,"reputation":2049,"user_id":22063,"accept_rate":77,"display_name":"lowellk"},"score":0,"creation_date":1222366029,"post_id":132546,"comment_id":34399,"body_markdown":"Ah, I should have mentioned that my spring initialization must come after the command line has been parsed, as it depends on values from the command line","body":"Ah, I should have mentioned that my spring initialization must come after the command line has been parsed, as it depends on values from the command line"}],"tags":[],"owner":{"account_id":11455,"reputation":31,"user_id":22087,"display_name":"Bradley Beddoes"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1222339198,"creation_date":1222339198,"answer_id":132546,"question_id":132231,"body_markdown":"Here is an example to boot strap spring for a Main method, simply grab the passed params as normal then make the function you call on your bean (in the case deployer.execute()) take them as Strings or via any format you feel suitable.\r\n\r\n    public static void main(String[] args) throws IOException, ConfigurationException {\r\n\t\tDeployer deployer = bootstrapSpring();\r\n\t\t\r\n\t\tdeployer.execute();\r\n\t}\r\n\r\n\tprivate static Deployer bootstrapSpring()\r\n\t{\r\n\t\tFileSystemXmlApplicationContext appContext = new FileSystemXmlApplicationContext(&quot;spring/deployerContext.xml&quot;);\r\n\t\t\r\n\t\tDeployer deployer = (Deployer)appContext.getBean(&quot;deployer&quot;);\r\n\t\treturn deployer;\r\n\t}","title":"Dealing with command line arguments and Spring","body":"<p>Here is an example to boot strap spring for a Main method, simply grab the passed params as normal then make the function you call on your bean (in the case deployer.execute()) take them as Strings or via any format you feel suitable.</p>\n\n<pre><code>public static void main(String[] args) throws IOException, ConfigurationException {\n    Deployer deployer = bootstrapSpring();\n\n    deployer.execute();\n}\n\nprivate static Deployer bootstrapSpring()\n{\n    FileSystemXmlApplicationContext appContext = new FileSystemXmlApplicationContext(\"spring/deployerContext.xml\");\n\n    Deployer deployer = (Deployer)appContext.getBean(\"deployer\");\n    return deployer;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8636,"reputation":28679,"user_id":15649,"accept_rate":62,"display_name":"Leonel"},"score":4,"creation_date":1275046303,"post_id":134974,"comment_id":2981929,"body_markdown":"+1 for the static reference. 6 lines of code are better than 20.","body":"+1 for the static reference. 6 lines of code are better than 20."},{"owner":{"account_id":227397,"reputation":434,"user_id":489048,"accept_rate":83,"display_name":"hephestos"},"score":0,"creation_date":1341083611,"post_id":134974,"comment_id":14829554,"body_markdown":"I liked very lot this solution and found this kinky way to solve the exercise:System.out.println(&quot;Args: &quot; + mainContext.getBean(&quot;args&quot;));\n\t\tString[] arg1 = (String[]) ((Collection)mainContext.getBean(&quot;args&quot;)).toArray(new String[0]);\n\t\tString o = arg1[0];\n\t\tSystem.out.println(o);","body":"I liked very lot this solution and found this kinky way to solve the exercise:System.out.println(&quot;Args: &quot; + mainContext.getBean(&quot;args&quot;)); \t\tString[] arg1 = (String[]) ((Collection)mainContext.getBean(&quot;args&quot;)).toArray(new String[0]); \t\tString o = arg1[0]; \t\tSystem.out.println(o);"}],"tags":[],"owner":{"account_id":7416,"reputation":15463,"user_id":12880,"display_name":"flicken"},"comment_count":2,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1522368958,"creation_date":1222366341,"answer_id":134974,"question_id":132231,"body_markdown":"Two possibilities I can think of.\r\n\r\n1) Set a static reference.  (A static variable, although typically frowned upon, is OK in this case, because there can only be 1 command line invocation). \r\n\r\n    public class MyApp {\r\n      public static String[] ARGS; \r\n      public static void main(String[] args) {\r\n        ARGS = args;\r\n          // create context\r\n      }\r\n    }\r\n\r\n\r\nYou can then reference the command line arguments in Spring via:\r\n\r\n    &lt;util:constant static-field=&quot;MyApp.ARGS&quot;/&gt;\r\n\r\n\r\nAlternatively (if you are completely opposed to static variables), you can:\r\n\r\n2) Programmatically add the args to the application context:\r\n\r\n\r\n     public class MyApp2 {\r\n       public static void main(String[] args) {\r\n         DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\r\n       \r\n            // Define a bean and register it\r\n         BeanDefinition beanDefinition = BeanDefinitionBuilder.\r\n           rootBeanDefinition(Arrays.class, &quot;asList&quot;)\r\n           .addConstructorArgValue(args).getBeanDefinition();\r\n         beanFactory.registerBeanDefinition(&quot;args&quot;, beanDefinition);\r\n         GenericApplicationContext cmdArgCxt = new GenericApplicationContext(beanFactory);\r\n         // Must call refresh to initialize context \r\n         cmdArgCxt.refresh();\r\n         \r\n         // Create application context, passing command line context as parent\r\n         ApplicationContext mainContext = new ClassPathXmlApplicationContext(CONFIG_LOCATIONS, cmdArgCxt);\r\n         \r\n         // See if it&#39;s in the context\r\n         System.out.println(&quot;Args: &quot; + mainContext.getBean(&quot;args&quot;));\r\n       }\r\n       \r\n       private static String[] CONFIG_LOCATIONS = new String[] {\r\n         &quot;applicationContext.xml&quot;\r\n       };\r\n     \r\n     }\r\n\r\n\r\nParsing the command line arguments is left as an exercise to the reader.  ","title":"Dealing with command line arguments and Spring","body":"<p>Two possibilities I can think of.</p>\n\n<p>1) Set a static reference.  (A static variable, although typically frowned upon, is OK in this case, because there can only be 1 command line invocation). </p>\n\n<pre><code>public class MyApp {\n  public static String[] ARGS; \n  public static void main(String[] args) {\n    ARGS = args;\n      // create context\n  }\n}\n</code></pre>\n\n<p>You can then reference the command line arguments in Spring via:</p>\n\n<pre><code>&lt;util:constant static-field=\"MyApp.ARGS\"/&gt;\n</code></pre>\n\n<p>Alternatively (if you are completely opposed to static variables), you can:</p>\n\n<p>2) Programmatically add the args to the application context:</p>\n\n<pre><code> public class MyApp2 {\n   public static void main(String[] args) {\n     DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\n\n        // Define a bean and register it\n     BeanDefinition beanDefinition = BeanDefinitionBuilder.\n       rootBeanDefinition(Arrays.class, \"asList\")\n       .addConstructorArgValue(args).getBeanDefinition();\n     beanFactory.registerBeanDefinition(\"args\", beanDefinition);\n     GenericApplicationContext cmdArgCxt = new GenericApplicationContext(beanFactory);\n     // Must call refresh to initialize context \n     cmdArgCxt.refresh();\n\n     // Create application context, passing command line context as parent\n     ApplicationContext mainContext = new ClassPathXmlApplicationContext(CONFIG_LOCATIONS, cmdArgCxt);\n\n     // See if it's in the context\n     System.out.println(\"Args: \" + mainContext.getBean(\"args\"));\n   }\n\n   private static String[] CONFIG_LOCATIONS = new String[] {\n     \"applicationContext.xml\"\n   };\n\n }\n</code></pre>\n\n<p>Parsing the command line arguments is left as an exercise to the reader.  </p>\n"},{"tags":[],"owner":{"account_id":16836,"reputation":2308,"user_id":37110,"accept_rate":70,"display_name":"BeWarned"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1320169452,"creation_date":1227142626,"answer_id":304026,"question_id":132231,"body_markdown":"You can also pass an Object array as a second parameter to `getBean` which will be used as arguments to the constructor or factory.\r\n\r\n    public static void main(String[] args) {\r\n       Mybean m = (Mybean)context.getBean(&quot;mybean&quot;, new Object[] {args});\r\n    }","title":"Dealing with command line arguments and Spring","body":"<p>You can also pass an Object array as a second parameter to <code>getBean</code> which will be used as arguments to the constructor or factory.</p>\n\n<pre><code>public static void main(String[] args) {\n   Mybean m = (Mybean)context.getBean(\"mybean\", new Object[] {args});\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27075,"reputation":3918,"user_id":71050,"accept_rate":86,"display_name":"Brian Dilley"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1248798567,"creation_date":1248798567,"answer_id":1195240,"question_id":132231,"body_markdown":"Consider the following class:\r\n\r\n    public class ExternalBeanReferneceFactoryBean \r\n    \textends AbstractFactoryBean\r\n    \timplements BeanNameAware {\r\n    \r\n    \tprivate static Map&lt;String, Object&gt; instances = new HashMap&lt;String, Object&gt;();\r\n    \tprivate String beanName;\r\n    \t\r\n    \t/**\r\n    \t * @param instance the instance to set\r\n    \t */\r\n    \tpublic static void setInstance(String beanName, Object instance) {\r\n    \t\tinstances.put(beanName, instance);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected Object createInstance() \r\n    \t\tthrows Exception {\r\n    \t\treturn instances.get(beanName);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Class&lt;?&gt; getObjectType() {\r\n    \t\treturn instances.get(beanName).getClass();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setBeanName(String name) {\r\n    \t\tthis.beanName = name;\r\n    \t}\r\n    \r\n    }\r\n\r\nalong with:\r\n\r\n\t/**\r\n\t * Starts the job server.\r\n\t * @param args command line arguments\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// parse the command line\r\n\t\tCommandLineParser parser = new GnuParser();\r\n\t\tCommandLine cmdLine = null;\r\n\t\ttry {\r\n\t\t\tcmdLine = parser.parse(OPTIONS, args);\r\n\t\t} catch(ParseException pe) {\r\n\t\t\tSystem.err.println(&quot;Error parsing command line: &quot;+pe.getMessage());\r\n\t\t\tnew HelpFormatter().printHelp(&quot;command&quot;, OPTIONS);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// create root beanFactory\r\n\t\tDefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\r\n\t\t\r\n\t\t// register bean definition for the command line\r\n\t\tExternalBeanReferneceFactoryBean.setInstance(&quot;commandLine&quot;, cmdLine);\r\n\t\tbeanFactory.registerBeanDefinition(&quot;commandLine&quot;, BeanDefinitionBuilder\r\n\t\t\t.rootBeanDefinition(ExternalBeanReferneceFactoryBean.class)\r\n\t\t\t.getBeanDefinition());\r\n\t\t\r\n\t\t// create application context\r\n\t\tGenericApplicationContext rootAppContext = new GenericApplicationContext(beanFactory);\r\n\t\trootAppContext.refresh();\r\n\t\t\r\n\t\t// create the application context\r\n\t\tApplicationContext appContext = new ClassPathXmlApplicationContext(new String[] { \r\n\t\t\t&quot;/commandlineapp/applicationContext.xml&quot;\r\n\t\t}, rootAppContext);\r\n\t\t\r\n\t\tSystem.out.println(appContext.getBean(&quot;commandLine&quot;));\r\n\t\t\r\n\t}","title":"Dealing with command line arguments and Spring","body":"<p>Consider the following class:</p>\n\n<pre><code>public class ExternalBeanReferneceFactoryBean \n    extends AbstractFactoryBean\n    implements BeanNameAware {\n\n    private static Map&lt;String, Object&gt; instances = new HashMap&lt;String, Object&gt;();\n    private String beanName;\n\n    /**\n     * @param instance the instance to set\n     */\n    public static void setInstance(String beanName, Object instance) {\n        instances.put(beanName, instance);\n    }\n\n    @Override\n    protected Object createInstance() \n        throws Exception {\n        return instances.get(beanName);\n    }\n\n    @Override\n    public Class&lt;?&gt; getObjectType() {\n        return instances.get(beanName).getClass();\n    }\n\n    @Override\n    public void setBeanName(String name) {\n        this.beanName = name;\n    }\n\n}\n</code></pre>\n\n<p>along with:</p>\n\n<pre><code>/**\n * Starts the job server.\n * @param args command line arguments\n */\npublic static void main(String[] args) {\n\n    // parse the command line\n    CommandLineParser parser = new GnuParser();\n    CommandLine cmdLine = null;\n    try {\n        cmdLine = parser.parse(OPTIONS, args);\n    } catch(ParseException pe) {\n        System.err.println(\"Error parsing command line: \"+pe.getMessage());\n        new HelpFormatter().printHelp(\"command\", OPTIONS);\n        return;\n    }\n\n    // create root beanFactory\n    DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();\n\n    // register bean definition for the command line\n    ExternalBeanReferneceFactoryBean.setInstance(\"commandLine\", cmdLine);\n    beanFactory.registerBeanDefinition(\"commandLine\", BeanDefinitionBuilder\n        .rootBeanDefinition(ExternalBeanReferneceFactoryBean.class)\n        .getBeanDefinition());\n\n    // create application context\n    GenericApplicationContext rootAppContext = new GenericApplicationContext(beanFactory);\n    rootAppContext.refresh();\n\n    // create the application context\n    ApplicationContext appContext = new ClassPathXmlApplicationContext(new String[] { \n        \"/commandlineapp/applicationContext.xml\"\n    }, rootAppContext);\n\n    System.out.println(appContext.getBean(\"commandLine\"));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23739,"reputation":4125,"user_id":59724,"accept_rate":33,"display_name":"Graham"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1263559298,"creation_date":1263559298,"answer_id":2071474,"question_id":132231,"body_markdown":"Have a look at my Spring-CLI library - at http://github.com/sazzer/spring-cli - as one way of doing this. It gives you a main class that automatically loads spring contexts and has the ability to use Commons-CLI for parsing command line arguments automatically and injecting them into your beans.","title":"Dealing with command line arguments and Spring","body":"<p>Have a look at my Spring-CLI library - at <a href=\"http://github.com/sazzer/spring-cli\" rel=\"noreferrer\">http://github.com/sazzer/spring-cli</a> - as one way of doing this. It gives you a main class that automatically loads spring contexts and has the ability to use Commons-CLI for parsing command line arguments automatically and injecting them into your beans.</p>\n"},{"comments":[{"owner":{"account_id":5809031,"reputation":873,"user_id":6259216,"accept_rate":50,"display_name":"johnlinp"},"score":0,"creation_date":1585618073,"post_id":41889084,"comment_id":107818610,"body_markdown":"This should be the correct way to do it. It works perfectly for me.","body":"This should be the correct way to do it. It works perfectly for me."}],"tags":[],"owner":{"account_id":5953401,"reputation":5248,"user_id":4680812,"accept_rate":77,"display_name":"S. Pauk"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1485504495,"creation_date":1485503204,"answer_id":41889084,"question_id":132231,"body_markdown":"Starting from Spring 3.1 there is no need in any custom code suggested in other answers. Check [CommandLinePropertySource][1], it provides a natural way to inject CL arguments into your context.\n\nAnd if you are a lucky Spring Boot developer you could simplify your code one step forward leveraging the fact that [SpringApplication][2] gives you the following: \n\n&gt; By default class will perform the following steps to bootstrap your\n&gt; application:\n&gt;\n&gt; ...\n&gt;\n&gt; Register a CommandLinePropertySource to expose command line arguments\n&gt; as Spring properties\n\n\nAnd if you are interested in the Spring Boot property resolution order please consult [this page][3].\n\n\n  \n\n\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html\n  [2]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html","title":"Dealing with command line arguments and Spring","body":"<p>Starting from Spring 3.1 there is no need in any custom code suggested in other answers. Check <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/env/CommandLinePropertySource.html\" rel=\"noreferrer\">CommandLinePropertySource</a>, it provides a natural way to inject CL arguments into your context.</p>\n<p>And if you are a lucky Spring Boot developer you could simplify your code one step forward leveraging the fact that <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\" rel=\"noreferrer\">SpringApplication</a> gives you the following:</p>\n<blockquote>\n<p>By default class will perform the following steps to bootstrap your\napplication:</p>\n<p>...</p>\n<p>Register a CommandLinePropertySource to expose command line arguments\nas Spring properties</p>\n</blockquote>\n<p>And if you are interested in the Spring Boot property resolution order please consult <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html\" rel=\"noreferrer\">this page</a>.</p>\n"},{"tags":[],"owner":{"account_id":8927637,"reputation":2886,"user_id":6661361,"display_name":"Gerardo Roza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568993657,"creation_date":1568993657,"answer_id":58031369,"question_id":132231,"body_markdown":"I&#39;m not sure what you are trying to achieve exactly, maybe you can add some details on what the command and the arguments will look like, and what outcome you expect from your application.\r\n\r\nI think this is not what you need, but it might help other readers: Spring supports receiving properties from the command line using double hyphen (e.g. `java -jar app.jar --my.property=&quot;Property Value&quot;`\r\nHave a look at this documentation for more information:\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-command-line-args","title":"Dealing with command line arguments and Spring","body":"<p>I'm not sure what you are trying to achieve exactly, maybe you can add some details on what the command and the arguments will look like, and what outcome you expect from your application.</p>\n\n<p>I think this is not what you need, but it might help other readers: Spring supports receiving properties from the command line using double hyphen (e.g. <code>java -jar app.jar --my.property=\"Property Value\"</code>\nHave a look at this documentation for more information:\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-command-line-args\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config-command-line-args</a></p>\n"},{"tags":[],"owner":{"account_id":916639,"reputation":553,"user_id":10001916,"display_name":"a5tr0"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696460851,"creation_date":1696460851,"answer_id":77233456,"question_id":132231,"body_markdown":"Inspired by [s. Pauk answer][1] I simply use Spring subclasse of  CommandLinePropertySource : SimpleCommandLinePropertySource.\r\n```\r\n// command line example : c:\\&gt; java.exe com.stackeroverflower.answer.132231.ProjetClientApplication --spring.profiles.active=local response --mysuperdate=2023-09-21T14:21:21.212\r\n```\r\n\r\n```\r\npackage com.stackeroverflower.answer.132231.ProjetClientApplication;\r\n\r\nimport java.util.Arrays;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.core.env.SimpleCommandLinePropertySource;\r\n\r\n\r\n@SpringBootApplication\r\npublic class ProjetClientApplication {\r\n\r\n\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(ProjetClientApplication.class);\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tArrays.stream(args).forEach(logger::info); // display &gt; \r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --spring.profiles.active=local\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - response\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --respStatsAtDate=2023-09-21T14:21:21.212\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xms4096M\r\n\t\t\t\t// &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xmx4096M\r\n\t\t\r\n\t\tSpringApplication.run(ProjetClientApplication.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n\t\treturn args -&gt; {\r\n\t\t\tSimpleCommandLinePropertySource ps = new SimpleCommandLinePropertySource(args);\r\n\t\t\tlogger.info(&quot; mysuperdate value is : {}&quot;, ps.getProperty(&quot;mysuperdate&quot;) ); // display &gt; \r\n\t\t\t\t// INFO  ProjetClientApplication :: lambda$1 &gt;  mysuperdate value is : 2023-09-21T14:21:21.212\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2071474/10001916","title":"Dealing with command line arguments and Spring","body":"<p>Inspired by <a href=\"https://stackoverflow.com/a/2071474/10001916\">s. Pauk answer</a> I simply use Spring subclasse of  CommandLinePropertySource : SimpleCommandLinePropertySource.</p>\n<pre><code>// command line example : c:\\&gt; java.exe com.stackeroverflower.answer.132231.ProjetClientApplication --spring.profiles.active=local response --mysuperdate=2023-09-21T14:21:21.212\n</code></pre>\n<pre><code>package com.stackeroverflower.answer.132231.ProjetClientApplication;\n\nimport java.util.Arrays;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.core.env.SimpleCommandLinePropertySource;\n\n\n@SpringBootApplication\npublic class ProjetClientApplication {\n\n\n    private static final Logger logger = LoggerFactory.getLogger(ProjetClientApplication.class);\n\n    \n    public static void main(String[] args) {\n        Arrays.stream(args).forEach(logger::info); // display &gt; \n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --spring.profiles.active=local\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - response\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - --respStatsAtDate=2023-09-21T14:21:21.212\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xms4096M\n                // &gt; INFO com.stackeroverflower.answer.132231.ProjetClientApplication - -Xmx4096M\n        \n        SpringApplication.run(ProjetClientApplication.class, args);\n    }\n\n    @Bean\n    public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n        return args -&gt; {\n            SimpleCommandLinePropertySource ps = new SimpleCommandLinePropertySource(args);\n            logger.info(&quot; mysuperdate value is : {}&quot;, ps.getProperty(&quot;mysuperdate&quot;) ); // display &gt; \n                // INFO  ProjetClientApplication :: lambda$1 &gt;  mysuperdate value is : 2023-09-21T14:21:21.212\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11444,"reputation":2049,"user_id":22063,"accept_rate":77,"display_name":"lowellk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37599,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":134974,"answer_count":8,"score":39,"last_activity_date":1696460851,"creation_date":1222333176,"question_id":132231,"body_markdown":"When I&#39;m writing a Spring command line application which parses command line arguments, how do I pass them to Spring? Would I want to have my main() structured so that it first parses the command line args and then inits Spring? Even so, how would it pass the object holding the parsed args to Spring?","title":"Dealing with command line arguments and Spring","body":"<p>When I'm writing a Spring command line application which parses command line arguments, how do I pass them to Spring? Would I want to have my main() structured so that it first parses the command line args and then inits Spring? Even so, how would it pass the object holding the parsed args to Spring?</p>\n"},{"tags":["java","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":2,"creation_date":1493298070,"post_id":43656432,"comment_id":74364457,"body_markdown":"looks like what ever address specified in the URL went to a device or server that refused the connection. this would normally be due to several possible issues: (1) there is no server at the address, (2) a firewall prevented the request from reaching the server process, (3) there is a server but due to its settings the server refused the request, (4) there is a server and it is set up to accept the request however the address is incorrect such as wrong port number specified.","body":"looks like what ever address specified in the URL went to a device or server that refused the connection. this would normally be due to several possible issues: (1) there is no server at the address, (2) a firewall prevented the request from reaching the server process, (3) there is a server but due to its settings the server refused the request, (4) there is a server and it is set up to accept the request however the address is incorrect such as wrong port number specified."},{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":0,"creation_date":1493298129,"post_id":43656432,"comment_id":74364493,"body_markdown":"without additional information such as a description of the target server along with a sample of the source code, difficult to see the problem is.","body":"without additional information such as a description of the target server along with a sample of the source code, difficult to see the problem is."}],"answers":[{"tags":[],"owner":{"account_id":937886,"reputation":91,"user_id":6187268,"display_name":"Ali Al-Shishani"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1503425319,"creation_date":1503425319,"answer_id":45824315,"question_id":43656432,"body_markdown":"I was facing a similar problem connecting to a spring web service. It on was on localhost:8080, when I changed localhost to an actual IP address it worked.","title":"I/O error on GET request","body":"<p>I was facing a similar problem connecting to a spring web service. It on was on localhost:8080, when I changed localhost to an actual IP address it worked.</p>\n"}],"owner":{"account_id":10778171,"reputation":81,"user_id":7929440,"display_name":"Arpit Mahajan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66511,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1696460372,"creation_date":1493292330,"question_id":43656432,"body_markdown":"I am using gradle for api and got this error :\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;http://localhost:8080/SpringBootRestApi/api/user/&quot;:Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:580)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:530)\r\n    \tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\r\n    \tat com.websystique.springboot.SpringBootRestTestClient.listAllUsers(SpringBootRestTestClient.java:21)\r\n    \tat com.websystique.springboot.SpringBootRestTestClient.main(SpringBootRestTestClient.java:74)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.connect0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n    \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n    \tat java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\r\n    \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n    \tat java.net.Socket.connect(Socket.java:589)\r\n    \tat java.net.Socket.connect(Socket.java:538)\r\n    \tat sun.net.NetworkClient.doConnect(NetworkClient.java:180)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\r\n    \tat sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\r\n    \tat sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\r\n    \tat sun.net.www.http.HttpClient.New(HttpClient.java:308)\r\n    \tat sun.net.www.http.HttpClient.New(HttpClient.java:326)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)\r\n    \tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:81)\r\n    \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n    \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:569)\r\n    \t... 4 more\r\n\r\n","title":"I/O error on GET request","body":"<p>I am using gradle for api and got this error :</p>\n\n<pre><code>Exception in thread \"main\" org.springframework.web.client.ResourceAccessException: I/O error on GET request for \"http://localhost:8080/SpringBootRestApi/api/user/\":Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:580)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:530)\n    at org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\n    at com.websystique.springboot.SpringBootRestTestClient.listAllUsers(SpringBootRestTestClient.java:21)\n    at com.websystique.springboot.SpringBootRestTestClient.main(SpringBootRestTestClient.java:74)\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.connect0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at java.net.Socket.connect(Socket.java:538)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:180)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:432)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:527)\n    at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:211)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:308)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:326)\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1202)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1138)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1032)\n    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:966)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:81)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:569)\n    ... 4 more\n</code></pre>\n"},{"tags":["java","oop","design-patterns","cmd"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1696514151,"post_id":77229266,"comment_id":136165154,"body_markdown":"related: [What is the design pattern for processing command line arguments?](https://stackoverflow.com/q/54421/1371329)","body":"related: <a href=\"https://stackoverflow.com/q/54421/1371329\">What is the design pattern for processing command line arguments?</a>"}],"answers":[{"comments":[{"owner":{"account_id":29595873,"reputation":11,"user_id":22682391,"display_name":"Celine"},"score":1,"creation_date":1696459601,"post_id":77230951,"comment_id":136157467,"body_markdown":"Thanks for your insights. I have found a &quot;different solution&quot; that I will post just for future reference. Not too sure whether it&#39;s optimal, but it works seemingly well for me.","body":"Thanks for your insights. I have found a &quot;different solution&quot; that I will post just for future reference. Not too sure whether it&#39;s optimal, but it works seemingly well for me."}],"tags":[],"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696433468,"creation_date":1696433468,"answer_id":77230951,"question_id":77229266,"body_markdown":"The command pattern has a couple of [uses](https://stackoverflow.com/questions/32597736/why-should-i-use-the-command-design-pattern-while-i-can-easily-call-required-met) but not for a simple terminal command parser as far as I can see. You could consider using one of the many command line parsers [available](https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java).\r\n\r\nI do agree that the `execute()` command should have no parameters - an important point of the pattern is the decoupling of the command object from other objects. Parameters would introduce coupling.\r\n\r\nOne approach to solve the issue is to look at the [wizards](https://en.wikipedia.org/wiki/Command_pattern) use-case for the command-line pattern. Instead of assuming everything is available from the beginning, build the command object until it is ready to execute.\r\n\r\nFirst, I want to point out that the `commandList` is a hidden `switch` statement. Unless you are sure you are going to need this map (in combination with reflection via `getContructor` etc.), I would not shy away from using a `switch`. See also [YAGNI](https://xkcd.com/974/).\r\n\r\nThe `getDispatchedCommand` can be limited to getting the appropriate command:\r\n```java\r\nCommandInterface getDispatchedCommand(String command) {\r\n  switch (command) {\r\n    &quot;cp&quot;: return new CpCommand();\r\n    // etc.\r\n}\r\n```\r\n`CpCommand` can implement `FileSystemCommandInterface` to set appropriate command values:\r\n```java\r\nFileSystemCommandInterface extends CommandInterface {\r\n  void setFileSystemModel(FileSystemModel fileSystemModel);\r\n  void setCommandArguments(String... args);\r\n}\r\n```\r\nA simple `instanceof` can determine if the returned command object needs the additional values. The help-command can simply only implement `CommandInterface` which does not require a `FileSystemModel` or `CommandArguments` (the latter you indicated, the first I assume). Note, however, that `help mv` could be implemented to give detailed information about the `mv` command (this is a common &quot;help&quot; command line pattern).\r\n\r\nThis is the gist of my idea, where exactly which code goes I&#39;ll leave up to you and what you think fits best with the command pattern.","title":"Simple Terminal Command Parser Design Issue","body":"<p>The command pattern has a couple of <a href=\"https://stackoverflow.com/questions/32597736/why-should-i-use-the-command-design-pattern-while-i-can-easily-call-required-met\">uses</a> but not for a simple terminal command parser as far as I can see. You could consider using one of the many command line parsers <a href=\"https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java\">available</a>.</p>\n<p>I do agree that the <code>execute()</code> command should have no parameters - an important point of the pattern is the decoupling of the command object from other objects. Parameters would introduce coupling.</p>\n<p>One approach to solve the issue is to look at the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">wizards</a> use-case for the command-line pattern. Instead of assuming everything is available from the beginning, build the command object until it is ready to execute.</p>\n<p>First, I want to point out that the <code>commandList</code> is a hidden <code>switch</code> statement. Unless you are sure you are going to need this map (in combination with reflection via <code>getContructor</code> etc.), I would not shy away from using a <code>switch</code>. See also <a href=\"https://xkcd.com/974/\" rel=\"nofollow noreferrer\">YAGNI</a>.</p>\n<p>The <code>getDispatchedCommand</code> can be limited to getting the appropriate command:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CommandInterface getDispatchedCommand(String command) {\n  switch (command) {\n    &quot;cp&quot;: return new CpCommand();\n    // etc.\n}\n</code></pre>\n<p><code>CpCommand</code> can implement <code>FileSystemCommandInterface</code> to set appropriate command values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FileSystemCommandInterface extends CommandInterface {\n  void setFileSystemModel(FileSystemModel fileSystemModel);\n  void setCommandArguments(String... args);\n}\n</code></pre>\n<p>A simple <code>instanceof</code> can determine if the returned command object needs the additional values. The help-command can simply only implement <code>CommandInterface</code> which does not require a <code>FileSystemModel</code> or <code>CommandArguments</code> (the latter you indicated, the first I assume). Note, however, that <code>help mv</code> could be implemented to give detailed information about the <code>mv</code> command (this is a common &quot;help&quot; command line pattern).</p>\n<p>This is the gist of my idea, where exactly which code goes I'll leave up to you and what you think fits best with the command pattern.</p>\n"},{"tags":[],"owner":{"account_id":29595873,"reputation":11,"user_id":22682391,"display_name":"Celine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696460062,"creation_date":1696460062,"answer_id":77233413,"question_id":77229266,"body_markdown":"I am replying to my own thread since I found a &quot;workaround&quot;.\r\n\r\nFirst of all, I created a CommandsInfo annotation:\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\npublic @interface CommandInfo {\r\n    String name();\r\n    int totalArguments();\r\n}\r\n```\r\n\r\nNext, I make sure that all my command classes are annotated with it. For example for `Cd`:\r\n```java\r\n@CommandInfo(name = &quot;cd&quot;, totalArguments = 1)\r\npublic class CdCommand implements CommandInterface {\r\n```\r\n\r\nNow, I use the `Reflections` library. This lets me avoid having to register all the commands manually. Since I have all the necessary classes annotated, I just scan in the current Commands package, find all classes that implement the CommandInterface *and* are annotated with the `CommandInfo`. By doing this I can insert all the command classes with their relative command name in my HashMap. The idea is that all I need to add a new command is creating its class and annotate it.\r\n```java\r\nprivate void initializeAllCommands() {\r\n        // Self notes\r\n        // 1. Scan the current package to find all the classes that implement the CommandInterface AND are annotated with CommandInfo.\r\n        final Package currentPackage = CommandExecutionController.class.getPackage();\r\n        final Reflections reflections = new Reflections(currentPackage.getName());\r\n        final Set&lt;Class&lt;?&gt;&gt; annotatedClasses = reflections.getTypesAnnotatedWith(CommandInfo.class);\r\n\r\n        for (Class&lt;?&gt; annotatedClass : annotatedClasses) {\r\n            // 2. Check if the current class implements the CommandInterface.\r\n            if (CommandInterface.class.isAssignableFrom(annotatedClass)) {\r\n                // 3. Check if there is the CommandInfo annotation for the current command class.\r\n                final CommandInfo annotation = annotatedClass.getAnnotation(CommandInfo.class);\r\n                if (annotation != null) {\r\n                    commandList.put(annotation.name(), annotatedClass.asSubclass(CommandInterface.class));\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nNext, I call the dispatcher by passing the command name retrieved from the user input and the rest of the arguments.\r\n```java\r\n try {\r\n            final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\r\n                    Arrays.copyOfRange(commandParts, 1, commandParts.length));\r\n            return command.execute();\r\n        }\r\n```\r\n\r\nNext, all we need is to verify the syntax of the command. This becomes easier because all the classes are annotated with command name + the number of arguments that it takes:\r\n```java\r\nif (commandList.containsKey(commandName)) {\r\n            final Class&lt;? extends CommandInterface&gt; genericCommand = commandList.get(commandName);\r\n            final CommandInfo annotation = genericCommand.getAnnotation(CommandInfo.class);\r\n\r\n            if (annotation.totalArguments() != arguments.length) {\r\n                throw new IllegalArgumentException(&quot;Wrong number of arguments for command: &quot; + commandName\r\n                + &quot; [Expected: &quot; + annotation.totalArguments() + &quot;, provided: &quot; + arguments.length + &quot;]&quot;);\r\n            }\r\n\r\nreturn genericCommand.getConstructor(FileSystemModel.class, String[].class)\r\n                    .newInstance(fileSystemModel, arguments);\r\n\r\n```\r\n\r\n\r\nAnd finally, each command constructor can still keep the `String...` parameter. Since at the point of constructor we know that the syntax is correct, we can just do something like this as an example:\r\n```java\r\npublic MvCommand(final FileSystemModel receiver, final String... arguments) {\r\n        this.receiver = receiver;\r\n        this.origin = arguments[0];\r\n        this.destination = arguments[1];\r\n    }\r\n```\r\n\r\nIf we have a command that requires no argument, we can just avoid the `String...` parameter whatsoever.\r\n\r\n\r\nThis seems to work fine. It might be overengineered, but hey...\r\n\r\n(I would also like to thank vanOekel for their answer, by the way. I&#39;ve read it too late!!)","title":"Simple Terminal Command Parser Design Issue","body":"<p>I am replying to my own thread since I found a &quot;workaround&quot;.</p>\n<p>First of all, I created a CommandsInfo annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface CommandInfo {\n    String name();\n    int totalArguments();\n}\n</code></pre>\n<p>Next, I make sure that all my command classes are annotated with it. For example for <code>Cd</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@CommandInfo(name = &quot;cd&quot;, totalArguments = 1)\npublic class CdCommand implements CommandInterface {\n</code></pre>\n<p>Now, I use the <code>Reflections</code> library. This lets me avoid having to register all the commands manually. Since I have all the necessary classes annotated, I just scan in the current Commands package, find all classes that implement the CommandInterface <em>and</em> are annotated with the <code>CommandInfo</code>. By doing this I can insert all the command classes with their relative command name in my HashMap. The idea is that all I need to add a new command is creating its class and annotate it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initializeAllCommands() {\n        // Self notes\n        // 1. Scan the current package to find all the classes that implement the CommandInterface AND are annotated with CommandInfo.\n        final Package currentPackage = CommandExecutionController.class.getPackage();\n        final Reflections reflections = new Reflections(currentPackage.getName());\n        final Set&lt;Class&lt;?&gt;&gt; annotatedClasses = reflections.getTypesAnnotatedWith(CommandInfo.class);\n\n        for (Class&lt;?&gt; annotatedClass : annotatedClasses) {\n            // 2. Check if the current class implements the CommandInterface.\n            if (CommandInterface.class.isAssignableFrom(annotatedClass)) {\n                // 3. Check if there is the CommandInfo annotation for the current command class.\n                final CommandInfo annotation = annotatedClass.getAnnotation(CommandInfo.class);\n                if (annotation != null) {\n                    commandList.put(annotation.name(), annotatedClass.asSubclass(CommandInterface.class));\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Next, I call the dispatcher by passing the command name retrieved from the user input and the rest of the arguments.</p>\n<pre class=\"lang-java prettyprint-override\"><code> try {\n            final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\n                    Arrays.copyOfRange(commandParts, 1, commandParts.length));\n            return command.execute();\n        }\n</code></pre>\n<p>Next, all we need is to verify the syntax of the command. This becomes easier because all the classes are annotated with command name + the number of arguments that it takes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (commandList.containsKey(commandName)) {\n            final Class&lt;? extends CommandInterface&gt; genericCommand = commandList.get(commandName);\n            final CommandInfo annotation = genericCommand.getAnnotation(CommandInfo.class);\n\n            if (annotation.totalArguments() != arguments.length) {\n                throw new IllegalArgumentException(&quot;Wrong number of arguments for command: &quot; + commandName\n                + &quot; [Expected: &quot; + annotation.totalArguments() + &quot;, provided: &quot; + arguments.length + &quot;]&quot;);\n            }\n\nreturn genericCommand.getConstructor(FileSystemModel.class, String[].class)\n                    .newInstance(fileSystemModel, arguments);\n\n</code></pre>\n<p>And finally, each command constructor can still keep the <code>String...</code> parameter. Since at the point of constructor we know that the syntax is correct, we can just do something like this as an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public MvCommand(final FileSystemModel receiver, final String... arguments) {\n        this.receiver = receiver;\n        this.origin = arguments[0];\n        this.destination = arguments[1];\n    }\n</code></pre>\n<p>If we have a command that requires no argument, we can just avoid the <code>String...</code> parameter whatsoever.</p>\n<p>This seems to work fine. It might be overengineered, but hey...</p>\n<p>(I would also like to thank vanOekel for their answer, by the way. I've read it too late!!)</p>\n"}],"owner":{"account_id":29595873,"reputation":11,"user_id":22682391,"display_name":"Celine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77233413,"answer_count":2,"score":1,"last_activity_date":1696460062,"creation_date":1696419647,"question_id":77229266,"body_markdown":"**BRIEF EXPLANATION.**\r\n\r\nI am implementing a very simple command parser that requires me to handle a few commands:\r\n`pw path`, `mv source destination`, `help`, and some others.\r\nThe commands always start with the `command name`, and then there are either 0, 1 or 2 strings after that. I do not exclude that the number of strings may change in the future, but the structure is always the same (as it is now).\r\n\r\nI thought I could use the command pattern for this. Everything seems good in [my schema][1]. However, when I attempted to implement it, I realized that there&#39;s a flaw.\r\n\r\n\r\nI currently pass the necessary information to the constructors of each Command (each command has its own class as the design pattern suggests). For example, the `CdCommand` constructor takes the FileSystem and a `String Path`, the `MvCommand` takes the FileSystem and `String source, String dest`, while the `HelpCommand` only takes the FileSystem.\r\nThe issue is that I only know the inputs *after* I have called the constructors. That&#39;s because in my design I initialize the HashMap inside `CommandExecutionController` at the beginning of the program, by hardcoding the command names and passing in the correct command objects.\r\n\r\nI could solve this by mandating that all Command classes have a `String...` parameter in their `execute()` method. But this would also force commands that don&#39;t require any string (such as the `help` command) to have this unneeded parameter.\r\n\r\nI am looking for ways to mitigate this issue in practice. I&#39;ve seen multiple times that the Command Pattern might be a fair solution for this, but haven&#39;t yet found any thread that explains what exactly could be done to solve the issue I&#39;m experiencing.\r\n\r\nIdeally I would want to follow this pattern and avoid `if-else` or `switches` (because they&#39;re not scalable), and especially avoid the `String...` parameter (because not all concrete command classes require it).\r\n\r\n**ACTUAL CODE.**\r\n\r\n`CommandExecutionController`:\r\n```java\r\npublic class CommandExecutionController {\r\n    private final HashMap&lt;String, Class&lt;? extends CommandInterface&gt;&gt; commandList;\r\n    private final FileSystemModel fileSystemModel;\r\n\r\n    public CommandExecutionController(final FileSystemModel fileSystemModel) {\r\n        this.commandList = new HashMap&lt;&gt;();\r\n        this.fileSystemModel = fileSystemModel;\r\n    }\r\n\r\n    public void register(final String commandName, Class&lt;? extends CommandInterface&gt; commandClass) {\r\n        commandList.put(commandName, commandClass);\r\n    }\r\n\r\n    public CommandInterface getDispatchedCommand(final String commandName, final String... arguments)\r\n            throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException\r\n    {\r\n        if (commandList.containsKey(commandName)) {\r\n            Class&lt;? extends CommandInterface&gt; command = commandList.get(commandName);\r\n            return command.getConstructor(FileSystemModel.class, String[].class).newInstance(fileSystemModel, arguments);\r\n        }\r\n        throw new IllegalArgumentException(&quot;Command NOT found: &quot; + commandName);\r\n    }\r\n```\r\n\r\n`CdCommand`:\r\n```java\r\npublic class CdCommand implements CommandInterface {\r\n    private final String path;\r\n    private final FileSystemModel fileSystemModel;\r\n\r\n    public CdCommand(final FileSystemModel fileSystemModel, final String... arguments) {\r\n        this.path = arguments[0];\r\n        this.fileSystemModel = fileSystemModel;\r\n    }\r\n\r\n    @Override\r\n    public String execute() {\r\n       return fileSystemModel.cd(path);\r\n    }\r\n}\r\n```\r\n\r\nHow I&#39;m currently calling it:\r\n```\r\ntext = text.trim();\r\n        final String[] commandParts = text.split(&quot;\\\\s+&quot;);\r\n        final boolean isCommandCorrect = commandParts.length &gt; 0 &amp;&amp; checkCommandExistence(commandParts[0]);\r\n\r\n        // Test dispatching\r\n        if (commandParts.length &gt; 0) {\r\n            try {\r\n                final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\r\n                        String.join(&quot; &quot;, Arrays.copyOfRange(commandParts, 1, commandParts.length))\r\n                );\r\n                return command.execute();\r\n            } catch (NoSuchMethodException | InvocationTargetException | InstantiationException |\r\n                     IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n```\r\n\r\nI&#39;ve looked up other stack overflow threads regarding this question and the command pattern, but found no solutions for my current issue.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KPEsY.png","title":"Simple Terminal Command Parser Design Issue","body":"<p><strong>BRIEF EXPLANATION.</strong></p>\n<p>I am implementing a very simple command parser that requires me to handle a few commands:\n<code>pw path</code>, <code>mv source destination</code>, <code>help</code>, and some others.\nThe commands always start with the <code>command name</code>, and then there are either 0, 1 or 2 strings after that. I do not exclude that the number of strings may change in the future, but the structure is always the same (as it is now).</p>\n<p>I thought I could use the command pattern for this. Everything seems good in <a href=\"https://i.stack.imgur.com/KPEsY.png\" rel=\"nofollow noreferrer\">my schema</a>. However, when I attempted to implement it, I realized that there's a flaw.</p>\n<p>I currently pass the necessary information to the constructors of each Command (each command has its own class as the design pattern suggests). For example, the <code>CdCommand</code> constructor takes the FileSystem and a <code>String Path</code>, the <code>MvCommand</code> takes the FileSystem and <code>String source, String dest</code>, while the <code>HelpCommand</code> only takes the FileSystem.\nThe issue is that I only know the inputs <em>after</em> I have called the constructors. That's because in my design I initialize the HashMap inside <code>CommandExecutionController</code> at the beginning of the program, by hardcoding the command names and passing in the correct command objects.</p>\n<p>I could solve this by mandating that all Command classes have a <code>String...</code> parameter in their <code>execute()</code> method. But this would also force commands that don't require any string (such as the <code>help</code> command) to have this unneeded parameter.</p>\n<p>I am looking for ways to mitigate this issue in practice. I've seen multiple times that the Command Pattern might be a fair solution for this, but haven't yet found any thread that explains what exactly could be done to solve the issue I'm experiencing.</p>\n<p>Ideally I would want to follow this pattern and avoid <code>if-else</code> or <code>switches</code> (because they're not scalable), and especially avoid the <code>String...</code> parameter (because not all concrete command classes require it).</p>\n<p><strong>ACTUAL CODE.</strong></p>\n<p><code>CommandExecutionController</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CommandExecutionController {\n    private final HashMap&lt;String, Class&lt;? extends CommandInterface&gt;&gt; commandList;\n    private final FileSystemModel fileSystemModel;\n\n    public CommandExecutionController(final FileSystemModel fileSystemModel) {\n        this.commandList = new HashMap&lt;&gt;();\n        this.fileSystemModel = fileSystemModel;\n    }\n\n    public void register(final String commandName, Class&lt;? extends CommandInterface&gt; commandClass) {\n        commandList.put(commandName, commandClass);\n    }\n\n    public CommandInterface getDispatchedCommand(final String commandName, final String... arguments)\n            throws NoSuchMethodException, InvocationTargetException, InstantiationException, IllegalAccessException\n    {\n        if (commandList.containsKey(commandName)) {\n            Class&lt;? extends CommandInterface&gt; command = commandList.get(commandName);\n            return command.getConstructor(FileSystemModel.class, String[].class).newInstance(fileSystemModel, arguments);\n        }\n        throw new IllegalArgumentException(&quot;Command NOT found: &quot; + commandName);\n    }\n</code></pre>\n<p><code>CdCommand</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CdCommand implements CommandInterface {\n    private final String path;\n    private final FileSystemModel fileSystemModel;\n\n    public CdCommand(final FileSystemModel fileSystemModel, final String... arguments) {\n        this.path = arguments[0];\n        this.fileSystemModel = fileSystemModel;\n    }\n\n    @Override\n    public String execute() {\n       return fileSystemModel.cd(path);\n    }\n}\n</code></pre>\n<p>How I'm currently calling it:</p>\n<pre><code>text = text.trim();\n        final String[] commandParts = text.split(&quot;\\\\s+&quot;);\n        final boolean isCommandCorrect = commandParts.length &gt; 0 &amp;&amp; checkCommandExistence(commandParts[0]);\n\n        // Test dispatching\n        if (commandParts.length &gt; 0) {\n            try {\n                final CommandInterface command = commandExecutionController.getDispatchedCommand(commandParts[0],\n                        String.join(&quot; &quot;, Arrays.copyOfRange(commandParts, 1, commandParts.length))\n                );\n                return command.execute();\n            } catch (NoSuchMethodException | InvocationTargetException | InstantiationException |\n                     IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n        }\n</code></pre>\n<p>I've looked up other stack overflow threads regarding this question and the command pattern, but found no solutions for my current issue.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-rest","spring-validator"],"answers":[{"comments":[{"owner":{"account_id":94877,"reputation":1024,"user_id":258781,"display_name":"Robert Greathouse"},"score":0,"creation_date":1403232852,"post_id":24318687,"comment_id":37589162,"body_markdown":"Thank you for the suggestion. But it didn&#39;t seem to make a difference. I retried it the manual way and it worked. I will have to try it again on my project when I get to work.","body":"Thank you for the suggestion. But it didn&#39;t seem to make a difference. I retried it the manual way and it worked. I will have to try it again on my project when I get to work."},{"owner":{"account_id":2992448,"reputation":1048,"user_id":2539746,"accept_rate":55,"display_name":"Suleman khan"},"score":0,"creation_date":1441233708,"post_id":24318687,"comment_id":52601068,"body_markdown":"@Muel - how did you test it ?","body":"@Muel - how did you test it ?"}],"tags":[],"owner":{"account_id":1045743,"reputation":4323,"user_id":1050766,"accept_rate":64,"display_name":"Muel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1403227938,"creation_date":1403227938,"answer_id":24318687,"question_id":24318405,"body_markdown":"A bit of a stab in the dark - I&#39;ve not used `spring-data-rest`. However, after having a read of the tutorial you&#39;re following, I think the problem is that you need a `PersonValidator` not a `PeopleValidator`. Rename everything accordingly:\r\n\r\n**PersonValidator**\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.validation.Errors;\r\n    import org.springframework.validation.Validator;\r\n    \r\n    public class PersonValidator implements Validator {\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; clazz) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void validate(Object target, Errors errors) {\r\n            errors.reject(&quot;DIE&quot;);\r\n        }\r\n    }\r\n\r\n**Application**\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories\r\n    @Import(RepositoryRestMvcConfiguration.class)\r\n    @EnableAutoConfiguration\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public PersonValidator beforeCreatePersonValidator() {\r\n            return new PersonValidator();\r\n        }\r\n    }\r\n","title":"Spring-Data-Rest Validator","body":"<p>A bit of a stab in the dark - I've not used <code>spring-data-rest</code>. However, after having a read of the tutorial you're following, I think the problem is that you need a <code>PersonValidator</code> not a <code>PeopleValidator</code>. Rename everything accordingly:</p>\n\n<p><strong>PersonValidator</strong></p>\n\n<pre><code>package hello;\n\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.Validator;\n\npublic class PersonValidator implements Validator {\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return true;\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        errors.reject(\"DIE\");\n    }\n}\n</code></pre>\n\n<p><strong>Application</strong></p>\n\n<pre><code>package hello;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\n\n@Configuration\n@EnableJpaRepositories\n@Import(RepositoryRestMvcConfiguration.class)\n@EnableAutoConfiguration\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    public PersonValidator beforeCreatePersonValidator() {\n        return new PersonValidator();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":94877,"reputation":1024,"user_id":258781,"display_name":"Robert Greathouse"},"score":0,"creation_date":1403395103,"post_id":24319175,"comment_id":37641954,"body_markdown":"Apparently the &quot;beforeSave&quot; event does not fire, but the &quot;beforeCreate&quot; event does. I still had to wire it the &quot;manual&quot; way instead of using a bean named &quot;beforeCreatePeopleValidator&quot;.","body":"Apparently the &quot;beforeSave&quot; event does not fire, but the &quot;beforeCreate&quot; event does. I still had to wire it the &quot;manual&quot; way instead of using a bean named &quot;beforeCreatePeopleValidator&quot;."},{"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"score":0,"creation_date":1417821151,"post_id":24319175,"comment_id":43111379,"body_markdown":"I am finding the same situation, auto discovery is not working.","body":"I am finding the same situation, auto discovery is not working."},{"owner":{"account_id":111584,"reputation":2209,"user_id":294696,"accept_rate":100,"display_name":"Mikk"},"score":0,"creation_date":1418950081,"post_id":24319175,"comment_id":43542647,"body_markdown":"I&#39;m also having a similair issue - manually wiring events is working just fine, automatic discovery fails.","body":"I&#39;m also having a similair issue - manually wiring events is working just fine, automatic discovery fails."},{"owner":{"account_id":356129,"reputation":5868,"user_id":695461,"accept_rate":81,"display_name":"Daniel Moses"},"score":0,"creation_date":1429712791,"post_id":24319175,"comment_id":47729268,"body_markdown":"I ran into the same issue with it not being auto discovered.  I created a JIRA on it: https://jira.spring.io/browse/DATAREST-524","body":"I ran into the same issue with it not being auto discovered.  I created a JIRA on it: <a href=\"https://jira.spring.io/browse/DATAREST-524\" rel=\"nofollow noreferrer\">jira.spring.io/browse/DATAREST-524</a>"},{"owner":{"account_id":90940,"reputation":1593,"user_id":250025,"accept_rate":100,"display_name":"Arun Karunagath"},"score":2,"creation_date":1484424209,"post_id":24319175,"comment_id":70507444,"body_markdown":"Now, you have to extend `RepositoryRestConfigurerAdapter` as `RepositoryRestMvcConfiguration` version is deprecated.","body":"Now, you have to extend <code>RepositoryRestConfigurerAdapter</code> as <code>RepositoryRestMvcConfiguration</code> version is deprecated."}],"tags":[],"owner":{"account_id":94877,"reputation":1024,"user_id":258781,"display_name":"Robert Greathouse"},"comment_count":5,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1403407839,"creation_date":1403232264,"answer_id":24319175,"question_id":24318405,"body_markdown":"So it appears that the before/after &quot;save&quot; events only fire on PUT and PATCH. When POSTing, the before/after &quot;create&quot; events fire.\r\n\r\nI tried it the manual way again using the `configureValidatingRepositoryEventListener` override and it worked. I&#39;m not sure what I&#39;m doing differently at work than here at home. I&#39;ll have to look tomorrow. \r\n\r\nI sure would love to hear if others have suggestions on why it wouldn&#39;t work.\r\n\r\nFor the record, here is what the new Application.java class looks like.\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.data.rest.core.event.ValidatingRepositoryEventListener;\r\n    import org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories\r\n    @Import(RepositoryRestMvcConfiguration.class)\r\n    @EnableAutoConfiguration\r\n    public class Application extends RepositoryRestMvcConfiguration {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        protected void configureValidatingRepositoryEventListener(ValidatingRepositoryEventListener validatingListener) {\r\n            validatingListener.addValidator(&quot;beforeCreate&quot;, new PeopleValidator());\r\n        }\r\n    }","title":"Spring-Data-Rest Validator","body":"<p>So it appears that the before/after \"save\" events only fire on PUT and PATCH. When POSTing, the before/after \"create\" events fire.</p>\n\n<p>I tried it the manual way again using the <code>configureValidatingRepositoryEventListener</code> override and it worked. I'm not sure what I'm doing differently at work than here at home. I'll have to look tomorrow. </p>\n\n<p>I sure would love to hear if others have suggestions on why it wouldn't work.</p>\n\n<p>For the record, here is what the new Application.java class looks like.</p>\n\n<pre><code>package hello;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.data.rest.core.event.ValidatingRepositoryEventListener;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\n\n@Configuration\n@EnableJpaRepositories\n@Import(RepositoryRestMvcConfiguration.class)\n@EnableAutoConfiguration\npublic class Application extends RepositoryRestMvcConfiguration {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    protected void configureValidatingRepositoryEventListener(ValidatingRepositoryEventListener validatingListener) {\n        validatingListener.addValidator(\"beforeCreate\", new PeopleValidator());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80360,"reputation":5251,"user_id":227294,"display_name":"Andreas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432071429,"creation_date":1432071113,"answer_id":30336529,"question_id":24318405,"body_markdown":"Looks like the feature is currently not implemented (2.3.0), unluckily there are no constants for the event names otherwise the solution below would not be that fragile.\r\n\r\nThe `Configuration` adds all properly named `Validator` beans to `ValidatingRepositoryEventListener` using the right event.\r\n\r\n\timport java.util.ArrayList;\r\n\timport java.util.Collections;\r\n\timport java.util.List;\r\n\timport java.util.Map;\r\n\t\r\n\timport org.springframework.beans.factory.InitializingBean;\r\n\timport org.springframework.beans.factory.ListableBeanFactory;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.context.annotation.Configuration;\r\n\timport org.springframework.data.rest.core.event.ValidatingRepositoryEventListener;\r\n\timport org.springframework.validation.Validator;\r\n\t\r\n\t@Configuration\r\n\tpublic class ValidatorRegistrar implements InitializingBean {\r\n\t\r\n\t\tprivate static final List&lt;String&gt; EVENTS;\r\n\t\tstatic {\r\n\t\t\tList&lt;String&gt; events = new ArrayList&lt;String&gt;();\r\n\t\t\tevents.add(&quot;beforeCreate&quot;);\r\n\t\t\tevents.add(&quot;afterCreate&quot;);\r\n\t\t\tevents.add(&quot;beforeSave&quot;);\r\n\t\t\tevents.add(&quot;afterSave&quot;);\r\n\t\t\tevents.add(&quot;beforeLinkSave&quot;);\r\n\t\t\tevents.add(&quot;afterLinkSave&quot;);\r\n\t\t\tevents.add(&quot;beforeDelete&quot;);\r\n\t\t\tevents.add(&quot;afterDelete&quot;);\r\n\t\t\tEVENTS = Collections.unmodifiableList(events);\r\n\t\t}\r\n\t\r\n\t\t@Autowired\r\n\t\tListableBeanFactory beanFactory;\r\n\t\r\n\t\t@Autowired\r\n\t\tValidatingRepositoryEventListener validatingRepositoryEventListener;\r\n\t\r\n\t\t@Override\r\n\t\tpublic void afterPropertiesSet() throws Exception {\r\n\t\t\tMap&lt;String, Validator&gt; validators = beanFactory.getBeansOfType(Validator.class);\r\n\t\t\tfor (Map.Entry&lt;String, Validator&gt; entry : validators.entrySet()) {\r\n\t\t\t\tEVENTS.stream().filter(p -&gt; entry.getKey().startsWith(p)).findFirst()\r\n\t\t\t\t\t\t.ifPresent(p -&gt; validatingRepositoryEventListener.addValidator(p, entry.getValue()));\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Spring-Data-Rest Validator","body":"<p>Looks like the feature is currently not implemented (2.3.0), unluckily there are no constants for the event names otherwise the solution below would not be that fragile.</p>\n\n<p>The <code>Configuration</code> adds all properly named <code>Validator</code> beans to <code>ValidatingRepositoryEventListener</code> using the right event.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Map;\n\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.beans.factory.ListableBeanFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.event.ValidatingRepositoryEventListener;\nimport org.springframework.validation.Validator;\n\n@Configuration\npublic class ValidatorRegistrar implements InitializingBean {\n\n    private static final List&lt;String&gt; EVENTS;\n    static {\n        List&lt;String&gt; events = new ArrayList&lt;String&gt;();\n        events.add(\"beforeCreate\");\n        events.add(\"afterCreate\");\n        events.add(\"beforeSave\");\n        events.add(\"afterSave\");\n        events.add(\"beforeLinkSave\");\n        events.add(\"afterLinkSave\");\n        events.add(\"beforeDelete\");\n        events.add(\"afterDelete\");\n        EVENTS = Collections.unmodifiableList(events);\n    }\n\n    @Autowired\n    ListableBeanFactory beanFactory;\n\n    @Autowired\n    ValidatingRepositoryEventListener validatingRepositoryEventListener;\n\n    @Override\n    public void afterPropertiesSet() throws Exception {\n        Map&lt;String, Validator&gt; validators = beanFactory.getBeansOfType(Validator.class);\n        for (Map.Entry&lt;String, Validator&gt; entry : validators.entrySet()) {\n            EVENTS.stream().filter(p -&gt; entry.getKey().startsWith(p)).findFirst()\n                    .ifPresent(p -&gt; validatingRepositoryEventListener.addValidator(p, entry.getValue()));\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3353885,"reputation":331,"user_id":2817324,"accept_rate":0,"display_name":"Ignacio"},"score":0,"creation_date":1560616478,"post_id":31852256,"comment_id":99799255,"body_markdown":"Using validators is better than the handlers.","body":"Using validators is better than the handlers."}],"tags":[],"owner":{"account_id":1286943,"reputation":519,"user_id":1239835,"accept_rate":8,"display_name":"Amit"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1477980426,"creation_date":1438854077,"answer_id":31852256,"question_id":24318405,"body_markdown":"Another way of doing it is to use annotated handlers as specified here\r\nhttp://docs.spring.io/spring-data/rest/docs/2.1.0.RELEASE/reference/html/events-chapter.html#d5e443\r\n\r\nHere is an example of how to use annotated handlers:\r\n\r\n    import gr.bytecode.restapp.model.Agent;\r\n    import org.springframework.data.rest.core.annotation.HandleBeforeCreate;\r\n    import org.springframework.data.rest.core.annotation.HandleBeforeSave;\r\n    import org.springframework.data.rest.core.annotation.RepositoryEventHandler;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    @RepositoryEventHandler(Agent.class)\r\n    public class AgentEventHandler {\r\n    \r\n        public static final String NEW_NAME = &quot;**modified**&quot;;\r\n       \r\n        @HandleBeforeCreate\r\n        public void handleBeforeCreates(Agent agent) {\r\n                agent.setName(NEW_NAME);\r\n        }\r\n    \r\n        @HandleBeforeSave\r\n        public void handleBeforeSave(Agent agent) {\r\n            agent.setName(NEW_NAME + &quot;..update&quot;);\r\n        }\r\n    }\r\n\r\nExample is from [github](https://github.com/dbalaouras/Spring-Data-REST-Event-Handling-Test/blob/master/src/main/java/gr/bytecode/restapp/configuration/AgentEventHandler.java) edited for brevity. ","title":"Spring-Data-Rest Validator","body":"<p>Another way of doing it is to use annotated handlers as specified here\n<a href=\"http://docs.spring.io/spring-data/rest/docs/2.1.0.RELEASE/reference/html/events-chapter.html#d5e443\" rel=\"nofollow\">http://docs.spring.io/spring-data/rest/docs/2.1.0.RELEASE/reference/html/events-chapter.html#d5e443</a></p>\n\n<p>Here is an example of how to use annotated handlers:</p>\n\n<pre><code>import gr.bytecode.restapp.model.Agent;\nimport org.springframework.data.rest.core.annotation.HandleBeforeCreate;\nimport org.springframework.data.rest.core.annotation.HandleBeforeSave;\nimport org.springframework.data.rest.core.annotation.RepositoryEventHandler;\nimport org.springframework.stereotype.Component;\n\n@Component\n@RepositoryEventHandler(Agent.class)\npublic class AgentEventHandler {\n\n    public static final String NEW_NAME = \"**modified**\";\n\n    @HandleBeforeCreate\n    public void handleBeforeCreates(Agent agent) {\n            agent.setName(NEW_NAME);\n    }\n\n    @HandleBeforeSave\n    public void handleBeforeSave(Agent agent) {\n        agent.setName(NEW_NAME + \"..update\");\n    }\n}\n</code></pre>\n\n<p>Example is from <a href=\"https://github.com/dbalaouras/Spring-Data-REST-Event-Handling-Test/blob/master/src/main/java/gr/bytecode/restapp/configuration/AgentEventHandler.java\" rel=\"nofollow\">github</a> edited for brevity. </p>\n"},{"tags":[],"owner":{"account_id":4939784,"reputation":121,"user_id":3976854,"display_name":"Yang Li"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696458818,"creation_date":1696458818,"answer_id":77233350,"question_id":24318405,"body_markdown":"I guess that spring-data-rest is built upon Spring Data PersistentEntity, it may not be easy to apply validation directly (against validation info from your model objects). \r\n\r\nYou may have to do the following to make a request validation work:\r\n\r\n1. Create a bean validator factory to create JSR-303 bean validator if you don&#39;t have one yet:\r\n\r\n@Configuration\r\npublic class BeanValidatorConfig {\r\n\r\n    @Bean\r\n    LocalValidatorFactoryBean localValidatorFactoryBean() {\r\n        return new LocalValidatorFactoryBean();\r\n    }\r\n}\r\n\r\n2. Add the bean validator\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class CustomizedRepositoryRestConfiguration implements RepositoryRestConfigurer {\r\n\r\n    private final LocalValidatorFactoryBean validator;\r\n\r\n    @Override\r\n    public void configureValidatingRepositoryEventListener(ValidatingRepositoryEventListener v) {\r\n        v.addValidator(&quot;beforeCreate&quot;, validator);\r\n        v.addValidator(&quot;beforeSave&quot;, validator);\r\n        v.addValidator(&quot;beforeLinkSave&quot;, validator);\r\n    }\r\n}","title":"Spring-Data-Rest Validator","body":"<p>I guess that spring-data-rest is built upon Spring Data PersistentEntity, it may not be easy to apply validation directly (against validation info from your model objects).</p>\n<p>You may have to do the following to make a request validation work:</p>\n<ol>\n<li>Create a bean validator factory to create JSR-303 bean validator if you don't have one yet:</li>\n</ol>\n<p>@Configuration\npublic class BeanValidatorConfig {</p>\n<pre><code>@Bean\nLocalValidatorFactoryBean localValidatorFactoryBean() {\n    return new LocalValidatorFactoryBean();\n}\n</code></pre>\n<p>}</p>\n<ol start=\"2\">\n<li>Add the bean validator</li>\n</ol>\n<p>@Component\n@RequiredArgsConstructor\npublic class CustomizedRepositoryRestConfiguration implements RepositoryRestConfigurer {</p>\n<pre><code>private final LocalValidatorFactoryBean validator;\n\n@Override\npublic void configureValidatingRepositoryEventListener(ValidatingRepositoryEventListener v) {\n    v.addValidator(&quot;beforeCreate&quot;, validator);\n    v.addValidator(&quot;beforeSave&quot;, validator);\n    v.addValidator(&quot;beforeLinkSave&quot;, validator);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":94877,"reputation":1024,"user_id":258781,"display_name":"Robert Greathouse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18617,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":24319175,"answer_count":5,"score":20,"last_activity_date":1696458818,"creation_date":1403225253,"question_id":24318405,"body_markdown":"I have been trying to add spring validators to a spring-data-rest project.\r\n\r\nI followed along and setup the &quot;getting started&quot; application via this link: http://spring.io/guides/gs/accessing-data-rest/\r\n\r\n...and now I am trying to add a custom PeopleValidator by following the documents here:\r\nhttp://docs.spring.io/spring-data/rest/docs/2.1.0.RELEASE/reference/html/validation-chapter.html\r\n\r\nMy custom PeopleValidator looks like\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.validation.Errors;\r\n    import org.springframework.validation.Validator;\r\n    \r\n    public class PeopleValidator implements Validator {\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; clazz) {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void validate(Object target, Errors errors) {\r\n            errors.reject(&quot;DIE&quot;);\r\n        }\r\n    }\r\n\r\n...and my Application.java class now looks like this\r\n\r\n    package hello;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Import;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    import org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\r\n    \r\n    @Configuration\r\n    @EnableJpaRepositories\r\n    @Import(RepositoryRestMvcConfiguration.class)\r\n    @EnableAutoConfiguration\r\n    public class Application {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public PeopleValidator beforeCreatePeopleValidator() {\r\n            return new PeopleValidator();\r\n        }\r\n    }\r\n\r\nI would expect that POSTing to the `http://localhost:8080/people` URL would result in an error of some kind since the PeopleValidator is rejecting everything. However, no error is thrown, and the validator is never called.\r\n\r\nI have also tried manually setting up the validator as shown in section 5.1 of the spring-data-rest documentation.\r\n\r\nWhat am I missing?\r\n","title":"Spring-Data-Rest Validator","body":"<p>I have been trying to add spring validators to a spring-data-rest project.</p>\n\n<p>I followed along and setup the \"getting started\" application via this link: <a href=\"http://spring.io/guides/gs/accessing-data-rest/\" rel=\"noreferrer\">http://spring.io/guides/gs/accessing-data-rest/</a></p>\n\n<p>...and now I am trying to add a custom PeopleValidator by following the documents here:\n<a href=\"http://docs.spring.io/spring-data/rest/docs/2.1.0.RELEASE/reference/html/validation-chapter.html\" rel=\"noreferrer\">http://docs.spring.io/spring-data/rest/docs/2.1.0.RELEASE/reference/html/validation-chapter.html</a></p>\n\n<p>My custom PeopleValidator looks like</p>\n\n<pre><code>package hello;\n\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.Validator;\n\npublic class PeopleValidator implements Validator {\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return true;\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        errors.reject(\"DIE\");\n    }\n}\n</code></pre>\n\n<p>...and my Application.java class now looks like this</p>\n\n<pre><code>package hello;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Import;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\n\n@Configuration\n@EnableJpaRepositories\n@Import(RepositoryRestMvcConfiguration.class)\n@EnableAutoConfiguration\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Bean\n    public PeopleValidator beforeCreatePeopleValidator() {\n        return new PeopleValidator();\n    }\n}\n</code></pre>\n\n<p>I would expect that POSTing to the <code>http://localhost:8080/people</code> URL would result in an error of some kind since the PeopleValidator is rejecting everything. However, no error is thrown, and the validator is never called.</p>\n\n<p>I have also tried manually setting up the validator as shown in section 5.1 of the spring-data-rest documentation.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["java","amazon-s3","aws-sdk","minio"],"comments":[{"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"score":0,"creation_date":1690470954,"post_id":76780500,"comment_id":135361514,"body_markdown":"You can override the S3 endpoint with `S3Client.builder().endpointOverride(yourUrl)`. I&#39;m not sure that not providing a region will throw any exception, as you can instanciate any Region you like through `Region.of()`","body":"You can override the S3 endpoint with <code>S3Client.builder().endpointOverride(yourUrl)</code>. I&#39;m not sure that not providing a region will throw any exception, as you can instanciate any Region you like through <code>Region.of()</code>"},{"owner":{"account_id":25653336,"reputation":31,"user_id":19420247,"display_name":"Andy Zhang"},"score":0,"creation_date":1690473963,"post_id":76780500,"comment_id":135362159,"body_markdown":"@Raphallal It is required so I&#39;ve use the region Region.AWS_GLOBAL. Now I updated my S3Client builder config with `minio` region, but it seems that the SDK is trying to connect AWS.","body":"@Raphallal It is required so I&#39;ve use the region Region.AWS_GLOBAL. Now I updated my S3Client builder config with <code>minio</code> region, but it seems that the SDK is trying to connect AWS."},{"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"score":0,"creation_date":1690536632,"post_id":76780500,"comment_id":135370807,"body_markdown":"I&#39;ve seen on the [minio github](https://github.com/minio/minio/discussions/15063) that you should use the `us-east-1`region.","body":"I&#39;ve seen on the <a href=\"https://github.com/minio/minio/discussions/15063\" rel=\"nofollow noreferrer\">minio github</a> that you should use the <code>us-east-1</code>region."},{"owner":{"account_id":25653336,"reputation":31,"user_id":19420247,"display_name":"Andy Zhang"},"score":0,"creation_date":1690552923,"post_id":76780500,"comment_id":135374027,"body_markdown":"I tried with `us-east-1` but still the same issue with `Region.AWS_GLOBAL`","body":"I tried with <code>us-east-1</code> but still the same issue with <code>Region.AWS_GLOBAL</code>"}],"answers":[{"tags":[],"owner":{"account_id":12533863,"reputation":585,"user_id":9121127,"display_name":"natsuozawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696458625,"creation_date":1696458625,"answer_id":77233340,"question_id":76780500,"body_markdown":"I&#39;ve come across the same problem. My provisional solution was to create a custom endpoint provider. I&#39;ve only tested this on getObject with minio so I don&#39;t know if it will work on other methods, but theoretically it should.\r\n\r\n```\r\ns3Client = S3Client.builder()\r\n                    .endpointProvider(new S3EndpointProvider() {\r\n                        @Override\r\n                        public CompletableFuture&lt;Endpoint&gt; resolveEndpoint(S3EndpointParams endpointParams) {\r\n                            return CompletableFuture.completedFuture(Endpoint.builder()\r\n                                    .url(URI.create(awsS3EndpointUrl + &quot;/&quot; + endpointParams.bucket()))\r\n                                    .build());\r\n                        }\r\n                    })\r\n                    // SDK requires us to provide region for local development, so we use a placeholder region here.\r\n                    // The local instance doesn&#39;t have a specified region.\r\n                    .region(Region.AWS_GLOBAL)\r\n                    .credentialsProvider(() -&gt; AwsBasicCredentials.create(awsAccessKeyId, awsAccessKeySecret))\r\n                    .build();\r\n```","title":"How to using AWS S3 Java v2 SDK to talk to S3 compatible storage (minio)","body":"<p>I've come across the same problem. My provisional solution was to create a custom endpoint provider. I've only tested this on getObject with minio so I don't know if it will work on other methods, but theoretically it should.</p>\n<pre><code>s3Client = S3Client.builder()\n                    .endpointProvider(new S3EndpointProvider() {\n                        @Override\n                        public CompletableFuture&lt;Endpoint&gt; resolveEndpoint(S3EndpointParams endpointParams) {\n                            return CompletableFuture.completedFuture(Endpoint.builder()\n                                    .url(URI.create(awsS3EndpointUrl + &quot;/&quot; + endpointParams.bucket()))\n                                    .build());\n                        }\n                    })\n                    // SDK requires us to provide region for local development, so we use a placeholder region here.\n                    // The local instance doesn't have a specified region.\n                    .region(Region.AWS_GLOBAL)\n                    .credentialsProvider(() -&gt; AwsBasicCredentials.create(awsAccessKeyId, awsAccessKeySecret))\n                    .build();\n</code></pre>\n"}],"owner":{"account_id":25653336,"reputation":31,"user_id":19420247,"display_name":"Andy Zhang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696458625,"creation_date":1690466235,"question_id":76780500,"body_markdown":"I am trying to use software.amazon.awssdk:s3 S3Client to talk to a minio storage, but I cant find this in the official document: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/using.html\r\n\r\nLooks like it only supports AWS S3 service, the region config is compulsory.\r\n\r\nI searched the internet but they are using v1 SDK.\r\n\r\nHere is my S3Client but when I use an api it throws `oftware.amazon.awssdk.core.exception.SdkClientException: Received an UnknownHostException when attempting to interact with a service.` The hostname was modified as `backend.localhost` in the request.\r\n\r\n```\r\nString endpoint = &quot;http://localhost:9000&quot;\r\nreturn S3Client\r\n        .builder()\r\n        .region(Region.of(&quot;minio&quot;))\r\n        .endpointOverride(new URI(endpoint))\r\n        .credentialsProvider(() -&gt; AwsBasicCredentials.create(accessKey, secretKey))\r\n        .build();\r\n\r\n// the request\r\ns3Client.listObjects(ListObjectsRequest.builder().bucket(&quot;backend&quot;).build())\r\n```","title":"How to using AWS S3 Java v2 SDK to talk to S3 compatible storage (minio)","body":"<p>I am trying to use software.amazon.awssdk:s3 S3Client to talk to a minio storage, but I cant find this in the official document: <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/using.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/using.html</a></p>\n<p>Looks like it only supports AWS S3 service, the region config is compulsory.</p>\n<p>I searched the internet but they are using v1 SDK.</p>\n<p>Here is my S3Client but when I use an api it throws <code>oftware.amazon.awssdk.core.exception.SdkClientException: Received an UnknownHostException when attempting to interact with a service.</code> The hostname was modified as <code>backend.localhost</code> in the request.</p>\n<pre><code>String endpoint = &quot;http://localhost:9000&quot;\nreturn S3Client\n        .builder()\n        .region(Region.of(&quot;minio&quot;))\n        .endpointOverride(new URI(endpoint))\n        .credentialsProvider(() -&gt; AwsBasicCredentials.create(accessKey, secretKey))\n        .build();\n\n// the request\ns3Client.listObjects(ListObjectsRequest.builder().bucket(&quot;backend&quot;).build())\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696417578,"post_id":77228683,"comment_id":136149474,"body_markdown":"What do you get when running `GET efg.efgdata-000001/_settings` in both of your environments?","body":"What do you get when running <code>GET efg.efgdata-000001&#47;_settings</code> in both of your environments?"},{"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"score":0,"creation_date":1696426132,"post_id":77228683,"comment_id":136151252,"body_markdown":"I added the responses to the question. As you can see the new analyzer is missing.","body":"I added the responses to the question. As you can see the new analyzer is missing."},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696426270,"post_id":77228683,"comment_id":136151280,"body_markdown":"You can see the `xyz_analyzer` as well as `special_char_tokenizer` are not present in your `efg.efgdata-000001` dev index. Also in your `configure` method you have `XYZ_ANALYZER` twice, I thin the first one should be `ABC_ANALYZER`","body":"You can see the <code>xyz_analyzer</code> as well as <code>special_char_tokenizer</code> are not present in your <code>efg.efgdata-000001</code> dev index. Also in your <code>configure</code> method you have <code>XYZ_ANALYZER</code> twice, I thin the first one should be <code>ABC_ANALYZER</code>"},{"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"score":0,"creation_date":1696427225,"post_id":77228683,"comment_id":136151512,"body_markdown":"Sorry i just made a mistake when renaming the data. The first one is ABC and the second XYZ, I updated it. Yes I see that special_char_tokenizer and xyz_analyzer is not present in the dev index. Thats what I don&#39;t understand","body":"Sorry i just made a mistake when renaming the data. The first one is ABC and the second XYZ, I updated it. Yes I see that special_char_tokenizer and xyz_analyzer is not present in the dev index. Thats what I don&#39;t understand"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696427563,"post_id":77228683,"comment_id":136151587,"body_markdown":"If you delete everything and start clean in both environments, I guess you get the same errors in both","body":"If you delete everything and start clean in both environments, I guess you get the same errors in both"},{"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"score":0,"creation_date":1696429964,"post_id":77228683,"comment_id":136152198,"body_markdown":"can you explain that a bit more precisely please ^^","body":"can you explain that a bit more precisely please ^^"}],"owner":{"account_id":20095970,"reputation":27,"user_id":14735502,"display_name":"tdog"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696457864,"creation_date":1696414474,"question_id":77228683,"body_markdown":"I am using Elasticsearch for my Spring Boot 3 application. I implemented a new custom analyzer (xyz_analyzer) to allow special characters as search parameters. Locally everything works fine. The custom analyzer is found and applied:\r\n\r\n    http://localhost:9200/efg.efgdata-000001/_analyze\r\n\r\n \r\n\r\n    {\r\n        &quot;analyzer&quot;: &quot;xyz_analyzer&quot;,\r\n        &quot;text&quot;: &quot;GmbH %26&quot;\r\n    }\r\n\r\n    {\r\n        &quot;tokens&quot;: [\r\n            {\r\n                &quot;token&quot;: &quot;gmbh&quot;,\r\n                &quot;start_offset&quot;: 0,\r\n                &quot;end_offset&quot;: 4,\r\n                &quot;type&quot;: &quot;word&quot;,\r\n                &quot;position&quot;: 0\r\n            },\r\n            {\r\n                &quot;token&quot;: &quot;%26&quot;,\r\n                &quot;start_offset&quot;: 5,\r\n                &quot;end_offset&quot;: 8,\r\n                &quot;type&quot;: &quot;word&quot;,\r\n                &quot;position&quot;: 1\r\n            }\r\n        ]\r\n    }\r\n\r\nBut, after deploying it to our dev environment and forwarding the elastic search pod locally to the dev server, the analyzer can not be found anymore (same POST request):\r\n\r\n    {\r\n        &quot;error&quot;: {\r\n            &quot;root_cause&quot;: [\r\n                {\r\n                    &quot;type&quot;: &quot;illegal_argument_exception&quot;,\r\n                    &quot;reason&quot;: &quot;failed to find analyzer [xyz_analyzer]&quot;\r\n                }\r\n            ],\r\n            &quot;type&quot;: &quot;illegal_argument_exception&quot;,\r\n            &quot;reason&quot;: &quot;failed to find analyzer [xyz_analyzer]&quot;\r\n        },\r\n        &quot;status&quot;: 400\r\n    }\r\n\r\nNOTE THAT THE abc_analyzer can be found in all environments.\r\n\r\nHere are my config files:\r\n    \r\n    import org.apache.lucene.analysis.core.LowerCaseFilterFactory;\r\n    import org.apache.lucene.analysis.standard.StandardTokenizerFactory;\r\n    import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurationContext;\r\n    import org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer;\r\n    import org.hibernate.search.backend.lucene.analysis.LuceneAnalysisConfigurationContext;\r\n    import org.hibernate.search.backend.lucene.analysis.LuceneAnalysisConfigurer;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    public class CustomAnalysisConfigurer implements ElasticsearchAnalysisConfigurer, LuceneAnalysisConfigurer {\r\n    \r\n        public static final String ABC_ANALYZER = &quot;abc_analyzer&quot;;\r\n    \r\n        public static final String XYZ_ANALYZER = &quot;xyz_analyzer&quot;;\r\n    \r\n        @Override\r\n        public void configure( ElasticsearchAnalysisConfigurationContext context ) {\r\n            // filter section\r\n            context.tokenFilter( &quot;remove_whitespace&quot; )\r\n                    .type( &quot;pattern_replace&quot; )\r\n                    .param( &quot;pattern&quot;, &quot;\\\\s+&quot; )\r\n                    .param( &quot;replacement&quot;, &quot;&quot; );\r\n    \r\n            context.tokenFilter( &quot;remove_dash&quot; )\r\n                    .type( &quot;pattern_replace&quot; )\r\n                    .param( &quot;pattern&quot;, &quot;-&quot; )\r\n                    .param( &quot;replacement&quot;, &quot;&quot; );\r\n    \r\n            // analyzer section\r\n            context.analyzer( ABC_ANALYZER )\r\n                    .custom()\r\n                    .tokenizer( &quot;keyword&quot; )\r\n                    .tokenFilters( &quot;lowercase&quot;, &quot;remove_whitespace&quot;, &quot;remove_dash&quot; );\r\n    \r\n            context.tokenizer( &quot;special_char_tokenizer&quot; )\r\n                    .type( &quot;whitespace&quot; )\r\n                    .param( &quot;token_chars&quot;, &quot;letter&quot;, &quot;digit&quot;, &quot;symbol&quot;, &quot;punctuation&quot; );\r\n    \r\n            context.analyzer( XYZ_ANALYZER )\r\n                    .custom()\r\n                    .tokenizer( &quot;special_char_tokenizer&quot; )\r\n                    .tokenFilters( &quot;lowercase&quot; );\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void configure( LuceneAnalysisConfigurationContext context ) {\r\n            context.analyzer( ABC_ANALYZER )\r\n                    .custom()\r\n                    .tokenizer( StandardTokenizerFactory.class )\r\n                    .tokenFilter( LowerCaseFilterFactory.class );\r\n    \r\n            context.analyzer( XYZ_ANALYZER )\r\n                    .custom()\r\n                    .tokenizer( &quot;special_char_tokenizer&quot; )\r\n                    .tokenFilter( LowerCaseFilterFactory.class );\r\n        }\r\n    }\r\n\r\nand:\r\n\r\n    {\r\n      &quot;filter&quot;: {\r\n        &quot;remove_dash&quot;: {\r\n          &quot;pattern&quot;: &quot;-&quot;,\r\n          &quot;type&quot;: &quot;pattern_replace&quot;,\r\n          &quot;replacement&quot;: &quot;&quot;\r\n        },\r\n        &quot;remove_whitespace&quot;: {\r\n          &quot;pattern&quot;: &quot;\\\\s+&quot;,\r\n          &quot;type&quot;: &quot;pattern_replace&quot;,\r\n          &quot;replacement&quot;: &quot;&quot;\r\n        }\r\n      },\r\n      &quot;tokenizer&quot;: {\r\n        &quot;special_char_tokenizer&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;,\r\n          &quot;filter&quot;: [\r\n            &quot;token_chars&quot;, &quot;letter&quot;, &quot;digit&quot;, &quot;symbol&quot;, &quot;punctuation&quot;\r\n          ]\r\n        }\r\n      },\r\n      &quot;analyzer&quot;: {\r\n        &quot;abc_analyzer&quot;: {\r\n          &quot;filter&quot;: [\r\n            &quot;lowercase&quot;,\r\n            &quot;remove_whitespace&quot;,\r\n            &quot;remove_dash&quot;\r\n          ],\r\n          &quot;type&quot;: &quot;custom&quot;,\r\n          &quot;tokenizer&quot;: &quot;keyword&quot;\r\n        },\r\n        &quot;xyz_analyzer&quot;: {\r\n          &quot;filter&quot;: [\r\n            &quot;lowercase&quot;\r\n          ],\r\n          &quot;type&quot;: &quot;custom&quot;,\r\n          &quot;tokenizer&quot;: &quot;special_char_tokenizer&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nand:\r\n\r\n    {\r\n      &quot;dynamic&quot;: &quot;strict&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;_entity_type&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;,\r\n          &quot;index&quot;: false\r\n        },\r\n        &quot;beginDate&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;doc_values&quot;: false,\r\n          &quot;format&quot;: &quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSSZZZZZ&quot;\r\n        },\r\n        &quot;A&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;B&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;C&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;D&quot;: {\r\n          &quot;type&quot;: &quot;keyword&quot;,\r\n          &quot;doc_values&quot;: false\r\n        },\r\n        &quot;E&quot;: {\r\n          &quot;dynamic&quot;: &quot;strict&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;city&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;\r\n            },\r\n            &quot;F&quot;: {\r\n              &quot;type&quot;: &quot;long&quot;,\r\n              &quot;doc_values&quot;: false\r\n            },\r\n            &quot;name&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;,\r\n              &quot;analyzer&quot;: &quot;xyz_analyzer&quot;\r\n            },\r\n            &quot;G&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;\r\n            },\r\n            &quot;H&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;\r\n            },\r\n            &quot;I&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;\r\n            },\r\n            &quot;J&quot;: {\r\n              &quot;type&quot;: &quot;text&quot;\r\n            }\r\n          }\r\n        },\r\n        &quot;K&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;,\r\n          &quot;doc_values&quot;: false\r\n        },\r\n        &quot;L&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;doc_values&quot;: false,\r\n          &quot;format&quot;: &quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSSZZZZZ&quot;\r\n        },\r\n        &quot;M&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;,\r\n          &quot;doc_values&quot;: false\r\n        },\r\n        &quot;ABCNumber&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;,\r\n          &quot;analyzer&quot;: &quot;abc_analyzer&quot;\r\n        },\r\n        &quot;N&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;O&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;doc_values&quot;: false,\r\n          &quot;format&quot;: &quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSSSSSSSSZZZZZ&quot;\r\n        },\r\n        &quot;P&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;,\r\n          &quot;doc_values&quot;: false\r\n        },\r\n        &quot;Q&quot;: {\r\n          &quot;type&quot;: &quot;long&quot;,\r\n          &quot;doc_values&quot;: false\r\n        },\r\n        &quot;R&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;S&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;T&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        },\r\n        &quot;U&quot;: {\r\n          &quot;type&quot;: &quot;text&quot;\r\n        }\r\n      }\r\n    }\r\n\r\nand for my entity:\r\n\r\n    @FullTextField( searchable = Searchable.YES, projectable = Projectable.YES, analyzer = ABC_ANALYZER )\r\n        @Size( max = 20 )\r\n        @Column( name = &quot;ABC_NUMBER&quot; )\r\n        private String ABCNumber;\r\n    \r\n    @FullTextField( searchable = Searchable.YES, projectable = Projectable.YES, analyzer = XYZ_ANALYZER )\r\n        @Column( name = &quot;NAME&quot; )\r\n        private String name;\r\n\r\nSETTINGS:\r\n\r\n    GET http://localhost:9200/efg.efgdata-000001/_settings\r\n    \r\n    local:\r\n    \r\n    {\r\n        &quot;efg.efgdata-000001&quot;: {\r\n            &quot;settings&quot;: {\r\n                &quot;index&quot;: {\r\n                    &quot;routing&quot;: {\r\n                        &quot;allocation&quot;: {\r\n                            &quot;include&quot;: {\r\n                                &quot;_tier_preference&quot;: &quot;data_content&quot;\r\n                            }\r\n                        }\r\n                    },\r\n                    &quot;number_of_shards&quot;: &quot;1&quot;,\r\n                    &quot;provided_name&quot;: &quot;efg.efgdata-000001&quot;,\r\n                    &quot;creation_date&quot;: &quot;1696403353164&quot;,\r\n                    &quot;analysis&quot;: {\r\n                        &quot;filter&quot;: {\r\n                            &quot;remove_dash&quot;: {\r\n                                &quot;pattern&quot;: &quot;-&quot;,\r\n                                &quot;type&quot;: &quot;pattern_replace&quot;,\r\n                                &quot;replacement&quot;: &quot;&quot;\r\n                            },\r\n                            &quot;remove_whitespace&quot;: {\r\n                                &quot;pattern&quot;: &quot;\\\\s+&quot;,\r\n                                &quot;type&quot;: &quot;pattern_replace&quot;,\r\n                                &quot;replacement&quot;: &quot;&quot;\r\n                            }\r\n                        },\r\n                        &quot;analyzer&quot;: {\r\n                            &quot;abc_analyzer&quot;: {\r\n                                &quot;filter&quot;: [\r\n                                    &quot;lowercase&quot;,\r\n                                    &quot;remove_whitespace&quot;,\r\n                                    &quot;remove_dash&quot;\r\n                                ],\r\n                                &quot;type&quot;: &quot;custom&quot;,\r\n                                &quot;tokenizer&quot;: &quot;keyword&quot;\r\n                            },\r\n                            &quot;xyz_analyzer&quot;: {\r\n                                &quot;filter&quot;: [\r\n                                    &quot;lowercase&quot;\r\n                                ],\r\n                                &quot;type&quot;: &quot;custom&quot;,\r\n                                &quot;tokenizer&quot;: &quot;special_char_tokenizer&quot;\r\n                            }\r\n                        },\r\n                        &quot;tokenizer&quot;: {\r\n                            &quot;special_char_tokenizer&quot;: {\r\n                                &quot;token_chars&quot;: [\r\n                                    &quot;letter&quot;,\r\n                                    &quot;digit&quot;,\r\n                                    &quot;symbol&quot;,\r\n                                    &quot;punctuation&quot;\r\n                                ],\r\n                                &quot;type&quot;: &quot;whitespace&quot;\r\n                            }\r\n                        }\r\n                    },\r\n                    &quot;number_of_replicas&quot;: &quot;1&quot;,\r\n                    &quot;uuid&quot;: &quot;G1XVBph-TeGd5RpfETKsFg&quot;,\r\n                    &quot;version&quot;: {\r\n                        &quot;created&quot;: &quot;7120099&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    Dev:\r\n    \r\n    {\r\n        &quot;efg.efgdata-000001&quot;: {\r\n            &quot;settings&quot;: {\r\n                &quot;index&quot;: {\r\n                    &quot;routing&quot;: {\r\n                        &quot;allocation&quot;: {\r\n                            &quot;include&quot;: {\r\n                                &quot;_tier_preference&quot;: &quot;data_content&quot;\r\n                            }\r\n                        }\r\n                    },\r\n                    &quot;number_of_shards&quot;: &quot;1&quot;,\r\n                    &quot;provided_name&quot;: &quot;efg.efgdata-000001&quot;,\r\n                    &quot;creation_date&quot;: &quot;1689166583198&quot;,\r\n                    &quot;analysis&quot;: {\r\n                        &quot;filter&quot;: {\r\n                            &quot;remove_dash&quot;: {\r\n                                &quot;pattern&quot;: &quot;-&quot;,\r\n                                &quot;type&quot;: &quot;pattern_replace&quot;,\r\n                                &quot;replacement&quot;: &quot;&quot;\r\n                            },\r\n                            &quot;remove_whitespace&quot;: {\r\n                                &quot;pattern&quot;: &quot;\\\\s+&quot;,\r\n                                &quot;type&quot;: &quot;pattern_replace&quot;,\r\n                                &quot;replacement&quot;: &quot;&quot;\r\n                            }\r\n                        },\r\n                        &quot;analyzer&quot;: {\r\n                            &quot;abc_analyzer&quot;: {\r\n                                &quot;filter&quot;: [\r\n                                    &quot;lowercase&quot;,\r\n                                    &quot;remove_whitespace&quot;,\r\n                                    &quot;remove_dash&quot;\r\n                                ],\r\n                                &quot;type&quot;: &quot;custom&quot;,\r\n                                &quot;tokenizer&quot;: &quot;keyword&quot;\r\n                            }\r\n                        }\r\n                    },\r\n                    &quot;number_of_replicas&quot;: &quot;1&quot;,\r\n                    &quot;uuid&quot;: &quot;9gIpm08iRba32EDhgaaskA&quot;,\r\n                    &quot;version&quot;: {\r\n                        &quot;created&quot;: &quot;7171199&quot;\r\n                    }\r\n                }\r\n            }\r\n        ","title":"Elasticsearch failed to find analyzer on dev, but found locally","body":"<p>I am using Elasticsearch for my Spring Boot 3 application. I implemented a new custom analyzer (xyz_analyzer) to allow special characters as search parameters. Locally everything works fine. The custom analyzer is found and applied:</p>\n<pre><code>http://localhost:9200/efg.efgdata-000001/_analyze\n\n\n\n{\n    &quot;analyzer&quot;: &quot;xyz_analyzer&quot;,\n    &quot;text&quot;: &quot;GmbH %26&quot;\n}\n\n{\n    &quot;tokens&quot;: [\n        {\n            &quot;token&quot;: &quot;gmbh&quot;,\n            &quot;start_offset&quot;: 0,\n            &quot;end_offset&quot;: 4,\n            &quot;type&quot;: &quot;word&quot;,\n            &quot;position&quot;: 0\n        },\n        {\n            &quot;token&quot;: &quot;%26&quot;,\n            &quot;start_offset&quot;: 5,\n            &quot;end_offset&quot;: 8,\n            &quot;type&quot;: &quot;word&quot;,\n            &quot;position&quot;: 1\n        }\n    ]\n}\n</code></pre>\n<p>But, after deploying it to our dev environment and forwarding the elastic search pod locally to the dev server, the analyzer can not be found anymore (same POST request):</p>\n<pre><code>{\n    &quot;error&quot;: {\n        &quot;root_cause&quot;: [\n            {\n                &quot;type&quot;: &quot;illegal_argument_exception&quot;,\n                &quot;reason&quot;: &quot;failed to find analyzer [xyz_analyzer]&quot;\n            }\n        ],\n        &quot;type&quot;: &quot;illegal_argument_exception&quot;,\n        &quot;reason&quot;: &quot;failed to find analyzer [xyz_analyzer]&quot;\n    },\n    &quot;status&quot;: 400\n}\n</code></pre>\n<p>NOTE THAT THE abc_analyzer can be found in all environments.</p>\n<p>Here are my config files:</p>\n<pre><code>import org.apache.lucene.analysis.core.LowerCaseFilterFactory;\nimport org.apache.lucene.analysis.standard.StandardTokenizerFactory;\nimport org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurationContext;\nimport org.hibernate.search.backend.elasticsearch.analysis.ElasticsearchAnalysisConfigurer;\nimport org.hibernate.search.backend.lucene.analysis.LuceneAnalysisConfigurationContext;\nimport org.hibernate.search.backend.lucene.analysis.LuceneAnalysisConfigurer;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class CustomAnalysisConfigurer implements ElasticsearchAnalysisConfigurer, LuceneAnalysisConfigurer {\n\n    public static final String ABC_ANALYZER = &quot;abc_analyzer&quot;;\n\n    public static final String XYZ_ANALYZER = &quot;xyz_analyzer&quot;;\n\n    @Override\n    public void configure( ElasticsearchAnalysisConfigurationContext context ) {\n        // filter section\n        context.tokenFilter( &quot;remove_whitespace&quot; )\n                .type( &quot;pattern_replace&quot; )\n                .param( &quot;pattern&quot;, &quot;\\\\s+&quot; )\n                .param( &quot;replacement&quot;, &quot;&quot; );\n\n        context.tokenFilter( &quot;remove_dash&quot; )\n                .type( &quot;pattern_replace&quot; )\n                .param( &quot;pattern&quot;, &quot;-&quot; )\n                .param( &quot;replacement&quot;, &quot;&quot; );\n\n        // analyzer section\n        context.analyzer( ABC_ANALYZER )\n                .custom()\n                .tokenizer( &quot;keyword&quot; )\n                .tokenFilters( &quot;lowercase&quot;, &quot;remove_whitespace&quot;, &quot;remove_dash&quot; );\n\n        context.tokenizer( &quot;special_char_tokenizer&quot; )\n                .type( &quot;whitespace&quot; )\n                .param( &quot;token_chars&quot;, &quot;letter&quot;, &quot;digit&quot;, &quot;symbol&quot;, &quot;punctuation&quot; );\n\n        context.analyzer( XYZ_ANALYZER )\n                .custom()\n                .tokenizer( &quot;special_char_tokenizer&quot; )\n                .tokenFilters( &quot;lowercase&quot; );\n\n    }\n\n    @Override\n    public void configure( LuceneAnalysisConfigurationContext context ) {\n        context.analyzer( ABC_ANALYZER )\n                .custom()\n                .tokenizer( StandardTokenizerFactory.class )\n                .tokenFilter( LowerCaseFilterFactory.class );\n\n        context.analyzer( XYZ_ANALYZER )\n                .custom()\n                .tokenizer( &quot;special_char_tokenizer&quot; )\n                .tokenFilter( LowerCaseFilterFactory.class );\n    }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>{\n  &quot;filter&quot;: {\n    &quot;remove_dash&quot;: {\n      &quot;pattern&quot;: &quot;-&quot;,\n      &quot;type&quot;: &quot;pattern_replace&quot;,\n      &quot;replacement&quot;: &quot;&quot;\n    },\n    &quot;remove_whitespace&quot;: {\n      &quot;pattern&quot;: &quot;\\\\s+&quot;,\n      &quot;type&quot;: &quot;pattern_replace&quot;,\n      &quot;replacement&quot;: &quot;&quot;\n    }\n  },\n  &quot;tokenizer&quot;: {\n    &quot;special_char_tokenizer&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;,\n      &quot;filter&quot;: [\n        &quot;token_chars&quot;, &quot;letter&quot;, &quot;digit&quot;, &quot;symbol&quot;, &quot;punctuation&quot;\n      ]\n    }\n  },\n  &quot;analyzer&quot;: {\n    &quot;abc_analyzer&quot;: {\n      &quot;filter&quot;: [\n        &quot;lowercase&quot;,\n        &quot;remove_whitespace&quot;,\n        &quot;remove_dash&quot;\n      ],\n      &quot;type&quot;: &quot;custom&quot;,\n      &quot;tokenizer&quot;: &quot;keyword&quot;\n    },\n    &quot;xyz_analyzer&quot;: {\n      &quot;filter&quot;: [\n        &quot;lowercase&quot;\n      ],\n      &quot;type&quot;: &quot;custom&quot;,\n      &quot;tokenizer&quot;: &quot;special_char_tokenizer&quot;\n    }\n  }\n}\n</code></pre>\n<p>and:</p>\n<pre><code>{\n  &quot;dynamic&quot;: &quot;strict&quot;,\n  &quot;properties&quot;: {\n    &quot;_entity_type&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;,\n      &quot;index&quot;: false\n    },\n    &quot;beginDate&quot;: {\n      &quot;type&quot;: &quot;date&quot;,\n      &quot;doc_values&quot;: false,\n      &quot;format&quot;: &quot;uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSSZZZZZ&quot;\n    },\n    &quot;A&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    },\n    &quot;B&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    },\n    &quot;C&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    },\n    &quot;D&quot;: {\n      &quot;type&quot;: &quot;keyword&quot;,\n      &quot;doc_values&quot;: false\n    },\n    &quot;E&quot;: {\n      &quot;dynamic&quot;: &quot;strict&quot;,\n      &quot;properties&quot;: {\n        &quot;city&quot;: {\n          &quot;type&quot;: &quot;text&quot;\n        },\n        &quot;F&quot;: {\n          &quot;type&quot;: &quot;long&quot;,\n          &quot;doc_values&quot;: false\n        },\n        &quot;name&quot;: {\n          &quot;type&quot;: &quot;text&quot;,\n          &quot;analyzer&quot;: &quot;xyz_analyzer&quot;\n        },\n        &quot;G&quot;: {\n          &quot;type&quot;: &quot;text&quot;\n        },\n        &quot;H&quot;: {\n          &quot;type&quot;: &quot;text&quot;\n        },\n        &quot;I&quot;: {\n          &quot;type&quot;: &quot;text&quot;\n        },\n        &quot;J&quot;: {\n          &quot;type&quot;: &quot;text&quot;\n        }\n      }\n    },\n    &quot;K&quot;: {\n      &quot;type&quot;: &quot;long&quot;,\n      &quot;doc_values&quot;: false\n    },\n    &quot;L&quot;: {\n      &quot;type&quot;: &quot;date&quot;,\n      &quot;doc_values&quot;: false,\n      &quot;format&quot;: &quot;uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSSZZZZZ&quot;\n    },\n    &quot;M&quot;: {\n      &quot;type&quot;: &quot;long&quot;,\n      &quot;doc_values&quot;: false\n    },\n    &quot;ABCNumber&quot;: {\n      &quot;type&quot;: &quot;text&quot;,\n      &quot;analyzer&quot;: &quot;abc_analyzer&quot;\n    },\n    &quot;N&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    },\n    &quot;O&quot;: {\n      &quot;type&quot;: &quot;date&quot;,\n      &quot;doc_values&quot;: false,\n      &quot;format&quot;: &quot;uuuu-MM-dd'T'HH:mm:ss.SSSSSSSSSZZZZZ&quot;\n    },\n    &quot;P&quot;: {\n      &quot;type&quot;: &quot;long&quot;,\n      &quot;doc_values&quot;: false\n    },\n    &quot;Q&quot;: {\n      &quot;type&quot;: &quot;long&quot;,\n      &quot;doc_values&quot;: false\n    },\n    &quot;R&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    },\n    &quot;S&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    },\n    &quot;T&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    },\n    &quot;U&quot;: {\n      &quot;type&quot;: &quot;text&quot;\n    }\n  }\n}\n</code></pre>\n<p>and for my entity:</p>\n<pre><code>@FullTextField( searchable = Searchable.YES, projectable = Projectable.YES, analyzer = ABC_ANALYZER )\n    @Size( max = 20 )\n    @Column( name = &quot;ABC_NUMBER&quot; )\n    private String ABCNumber;\n\n@FullTextField( searchable = Searchable.YES, projectable = Projectable.YES, analyzer = XYZ_ANALYZER )\n    @Column( name = &quot;NAME&quot; )\n    private String name;\n</code></pre>\n<p>SETTINGS:</p>\n<pre><code>GET http://localhost:9200/efg.efgdata-000001/_settings\n\nlocal:\n\n{\n    &quot;efg.efgdata-000001&quot;: {\n        &quot;settings&quot;: {\n            &quot;index&quot;: {\n                &quot;routing&quot;: {\n                    &quot;allocation&quot;: {\n                        &quot;include&quot;: {\n                            &quot;_tier_preference&quot;: &quot;data_content&quot;\n                        }\n                    }\n                },\n                &quot;number_of_shards&quot;: &quot;1&quot;,\n                &quot;provided_name&quot;: &quot;efg.efgdata-000001&quot;,\n                &quot;creation_date&quot;: &quot;1696403353164&quot;,\n                &quot;analysis&quot;: {\n                    &quot;filter&quot;: {\n                        &quot;remove_dash&quot;: {\n                            &quot;pattern&quot;: &quot;-&quot;,\n                            &quot;type&quot;: &quot;pattern_replace&quot;,\n                            &quot;replacement&quot;: &quot;&quot;\n                        },\n                        &quot;remove_whitespace&quot;: {\n                            &quot;pattern&quot;: &quot;\\\\s+&quot;,\n                            &quot;type&quot;: &quot;pattern_replace&quot;,\n                            &quot;replacement&quot;: &quot;&quot;\n                        }\n                    },\n                    &quot;analyzer&quot;: {\n                        &quot;abc_analyzer&quot;: {\n                            &quot;filter&quot;: [\n                                &quot;lowercase&quot;,\n                                &quot;remove_whitespace&quot;,\n                                &quot;remove_dash&quot;\n                            ],\n                            &quot;type&quot;: &quot;custom&quot;,\n                            &quot;tokenizer&quot;: &quot;keyword&quot;\n                        },\n                        &quot;xyz_analyzer&quot;: {\n                            &quot;filter&quot;: [\n                                &quot;lowercase&quot;\n                            ],\n                            &quot;type&quot;: &quot;custom&quot;,\n                            &quot;tokenizer&quot;: &quot;special_char_tokenizer&quot;\n                        }\n                    },\n                    &quot;tokenizer&quot;: {\n                        &quot;special_char_tokenizer&quot;: {\n                            &quot;token_chars&quot;: [\n                                &quot;letter&quot;,\n                                &quot;digit&quot;,\n                                &quot;symbol&quot;,\n                                &quot;punctuation&quot;\n                            ],\n                            &quot;type&quot;: &quot;whitespace&quot;\n                        }\n                    }\n                },\n                &quot;number_of_replicas&quot;: &quot;1&quot;,\n                &quot;uuid&quot;: &quot;G1XVBph-TeGd5RpfETKsFg&quot;,\n                &quot;version&quot;: {\n                    &quot;created&quot;: &quot;7120099&quot;\n                }\n            }\n        }\n    }\n}\n\nDev:\n\n{\n    &quot;efg.efgdata-000001&quot;: {\n        &quot;settings&quot;: {\n            &quot;index&quot;: {\n                &quot;routing&quot;: {\n                    &quot;allocation&quot;: {\n                        &quot;include&quot;: {\n                            &quot;_tier_preference&quot;: &quot;data_content&quot;\n                        }\n                    }\n                },\n                &quot;number_of_shards&quot;: &quot;1&quot;,\n                &quot;provided_name&quot;: &quot;efg.efgdata-000001&quot;,\n                &quot;creation_date&quot;: &quot;1689166583198&quot;,\n                &quot;analysis&quot;: {\n                    &quot;filter&quot;: {\n                        &quot;remove_dash&quot;: {\n                            &quot;pattern&quot;: &quot;-&quot;,\n                            &quot;type&quot;: &quot;pattern_replace&quot;,\n                            &quot;replacement&quot;: &quot;&quot;\n                        },\n                        &quot;remove_whitespace&quot;: {\n                            &quot;pattern&quot;: &quot;\\\\s+&quot;,\n                            &quot;type&quot;: &quot;pattern_replace&quot;,\n                            &quot;replacement&quot;: &quot;&quot;\n                        }\n                    },\n                    &quot;analyzer&quot;: {\n                        &quot;abc_analyzer&quot;: {\n                            &quot;filter&quot;: [\n                                &quot;lowercase&quot;,\n                                &quot;remove_whitespace&quot;,\n                                &quot;remove_dash&quot;\n                            ],\n                            &quot;type&quot;: &quot;custom&quot;,\n                            &quot;tokenizer&quot;: &quot;keyword&quot;\n                        }\n                    }\n                },\n                &quot;number_of_replicas&quot;: &quot;1&quot;,\n                &quot;uuid&quot;: &quot;9gIpm08iRba32EDhgaaskA&quot;,\n                &quot;version&quot;: {\n                    &quot;created&quot;: &quot;7171199&quot;\n                }\n            }\n        }\n    \n</code></pre>\n"},{"tags":["java","mysql","hibernate","hql","spatial"],"owner":{"account_id":15450425,"reputation":227,"user_id":11145980,"display_name":"MPK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696457800,"creation_date":1696455636,"question_id":77233140,"body_markdown":"\r\nI have a working MySQL query that uses a custom function and a view to perform a spatial calculation. The function `vParameterFunction()` returns a point, and the view `vTestView` calculates the distance between points using the `ST_Distance_Sphere` function.\r\n\r\nHere&#39;s the MySQL code:\r\n\r\n```sql\r\n-- Function to return a point\r\ncreate function vParameterFunction() returns point\r\n    DETERMINISTIC NO SQL\r\n    return @vParameter;\r\n\r\n-- View that calculates distance\r\ncreate view vTestView as\r\nselect Location.*,\r\n       ST_Distance_Sphere(vParameterFunction(), point(Location.lon, Location.lat)) AS Distance\r\nfrom Location\r\nwhere Location.lon is not null\r\n  and Location.lat is not null\r\n  and ST_Distance_Sphere(ParameterFunction(), point(Location.lon, Location.lat));\r\n```\r\n\r\nI use the following MySQL query to select data from the `vTestView` view:\r\n\r\n```sql\r\nselect TV.*\r\nfrom (select @vParameter := point(-105.00862521404056, 39.75709045305179)) parm,\r\n     vTestView TV\r\nwhere TV.Distance &lt; 10000;\r\n```\r\n\r\nNow, I am trying to convert the above MySQL select statement into Hibernate Query Language (HQL) so that I can use it with Hibernate. I have created an entity for vTestView. How can I achieve this conversion, and what would be the equivalent HQL query for this use case?\r\n\r\n\r\n","title":"How to Convert MySQL Query with Function and View into HQL for Hibernate?","body":"<p>I have a working MySQL query that uses a custom function and a view to perform a spatial calculation. The function <code>vParameterFunction()</code> returns a point, and the view <code>vTestView</code> calculates the distance between points using the <code>ST_Distance_Sphere</code> function.</p>\n<p>Here's the MySQL code:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>-- Function to return a point\ncreate function vParameterFunction() returns point\n    DETERMINISTIC NO SQL\n    return @vParameter;\n\n-- View that calculates distance\ncreate view vTestView as\nselect Location.*,\n       ST_Distance_Sphere(vParameterFunction(), point(Location.lon, Location.lat)) AS Distance\nfrom Location\nwhere Location.lon is not null\n  and Location.lat is not null\n  and ST_Distance_Sphere(ParameterFunction(), point(Location.lon, Location.lat));\n</code></pre>\n<p>I use the following MySQL query to select data from the <code>vTestView</code> view:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select TV.*\nfrom (select @vParameter := point(-105.00862521404056, 39.75709045305179)) parm,\n     vTestView TV\nwhere TV.Distance &lt; 10000;\n</code></pre>\n<p>Now, I am trying to convert the above MySQL select statement into Hibernate Query Language (HQL) so that I can use it with Hibernate. I have created an entity for vTestView. How can I achieve this conversion, and what would be the equivalent HQL query for this use case?</p>\n"},{"tags":["java","android","firebase","webrtc"],"comments":[{"owner":{"account_id":13752654,"reputation":1511,"user_id":9924372,"display_name":"Arjun"},"score":0,"creation_date":1613982785,"post_id":48849218,"comment_id":117234260,"body_markdown":"Hello Bucky. Did you implement the voice calling feature?","body":"Hello Bucky. Did you implement the voice calling feature?"}],"answers":[{"comments":[{"owner":{"account_id":7155897,"reputation":1146,"user_id":8207701,"accept_rate":54,"display_name":"Bucky"},"score":0,"creation_date":1518943966,"post_id":48849736,"comment_id":84703432,"body_markdown":"Can I somehow use Google Cloud Functions for WebRTC?","body":"Can I somehow use Google Cloud Functions for WebRTC?"},{"owner":{"account_id":7155897,"reputation":1146,"user_id":8207701,"accept_rate":54,"display_name":"Bucky"},"score":0,"creation_date":1518944094,"post_id":48849736,"comment_id":84703458,"body_markdown":"I mean on an article https://websitebeaver.com/insanely-simple-webrtc-video-chat-using-firebase-with-codepen-demo . He used only Firebase and webrtc to create a video chat app. But that was in javascript.","body":"I mean on an article <a href=\"https://websitebeaver.com/insanely-simple-webrtc-video-chat-using-firebase-with-codepen-demo\" rel=\"nofollow noreferrer\">websitebeaver.com/&hellip;</a> . He used only Firebase and webrtc to create a video chat app. But that was in javascript."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1518944964,"post_id":48849736,"comment_id":84703645,"body_markdown":"I have gone through the article \nIt&#39;s using firebase for signalling purpose only as it&#39;s a real time database . I suggest you to use the solution I provide above. It&#39;s quite simple and less complicated . It uses socket.io for socket which is used for signalling .","body":"I have gone through the article  It&#39;s using firebase for signalling purpose only as it&#39;s a real time database . I suggest you to use the solution I provide above. It&#39;s quite simple and less complicated . It uses socket.io for socket which is used for signalling ."},{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":0,"creation_date":1518945359,"post_id":48849736,"comment_id":84703728,"body_markdown":"I think using Firebase for signaling will be overhead while you can directly use a Socket .","body":"I think using Firebase for signaling will be overhead while you can directly use a Socket ."}],"tags":[],"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528903352,"creation_date":1518941965,"answer_id":48849736,"question_id":48849218,"body_markdown":"AFAIK I don&#39;t think `Firebase` has any support for voice calls for now . \r\n\r\n&gt; On other hand `WebRTC`((Web Real-Time Communication) is a free, open-source project that provides web browsers and mobile applications with real-time communication (RTC) via simple application programming interfaces (APIs).\r\n\r\nBasically what you need is a `Socket` for signalling with `SignallingServer` and `PeerConnection` for establishing the connection between two clients.\r\nBelow are some links to start with.\r\n\r\n1. [Get started](https://webrtc.org/start/)\r\n2.  [Step wise Sample for android](https://github.com/vivek1794/webrtc-android-codelab)\r\n\r\n\r\n`SignallingServer` implementation also provided in the sample. You will going to need `NODE.JS` to run it . `WebRTC` is pretty amazing.  \r\n\r\nIf you want to use `Firebase` as `SignallingServer` you can use it. But i think it will an overhead Whereas a simple `Socket` can work . \r\n\r\n \r\n \r\n ","title":"WebRTC Voice Chat Using Firebase","body":"<p>AFAIK I don't think <code>Firebase</code> has any support for voice calls for now . </p>\n\n<blockquote>\n  <p>On other hand <code>WebRTC</code>((Web Real-Time Communication) is a free, open-source project that provides web browsers and mobile applications with real-time communication (RTC) via simple application programming interfaces (APIs).</p>\n</blockquote>\n\n<p>Basically what you need is a <code>Socket</code> for signalling with <code>SignallingServer</code> and <code>PeerConnection</code> for establishing the connection between two clients.\nBelow are some links to start with.</p>\n\n<ol>\n<li><a href=\"https://webrtc.org/start/\" rel=\"nofollow noreferrer\">Get started</a></li>\n<li><a href=\"https://github.com/vivek1794/webrtc-android-codelab\" rel=\"nofollow noreferrer\">Step wise Sample for android</a></li>\n</ol>\n\n<p><code>SignallingServer</code> implementation also provided in the sample. You will going to need <code>NODE.JS</code> to run it . <code>WebRTC</code> is pretty amazing.  </p>\n\n<p>If you want to use <code>Firebase</code> as <code>SignallingServer</code> you can use it. But i think it will an overhead Whereas a simple <code>Socket</code> can work . </p>\n"}],"owner":{"account_id":7155897,"reputation":1146,"user_id":8207701,"accept_rate":54,"display_name":"Bucky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8068,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1696456965,"creation_date":1518937046,"question_id":48849218,"body_markdown":"I have never tried webrtc before. I have an application made using Firebase. Now I&#39;m trying to add voice call feature in it.\r\n\r\nSo tried searching for some tutorials, Most are using PubNub or most tutorials are based on web app.\r\n\r\nI saw this stackoverflow thread and knew that it&#39;s possible to use webrtc using Firebase.\r\n\r\nhttps://stackoverflow.com/questions/41235917/voice-calls-over-a-chat-app-using-firebase\r\n\r\nAfter trying some tutorials, I wrote this code,\r\n\r\n\r\n        PeerConnectionFactory.initializeAndroidGlobals(this,false,true,true);\r\n        PeerConnectionFactory peerConnectionFactory = new PeerConnectionFactory();\r\n        AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n        AudioTrack audioTrack = peerConnectionFactory.createAudioTrack(&quot;4444&quot;,audioSource);\r\n        audioTrack.setEnabled(true);\r\n        MediaStream mediaStream = peerConnectionFactory.createLocalMediaStream(&quot;4444&quot;);\r\n        mediaStream.addTrack(audioTrack);\r\n\r\nBut then I&#39;m confused how to share the stream with other devices using Firebase. Need Help :(","title":"WebRTC Voice Chat Using Firebase","body":"<p>I have never tried webrtc before. I have an application made using Firebase. Now I'm trying to add voice call feature in it.</p>\n\n<p>So tried searching for some tutorials, Most are using PubNub or most tutorials are based on web app.</p>\n\n<p>I saw this stackoverflow thread and knew that it's possible to use webrtc using Firebase.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/41235917/voice-calls-over-a-chat-app-using-firebase\">Voice calls over a Chat app using Firebase</a></p>\n\n<p>After trying some tutorials, I wrote this code,</p>\n\n<pre><code>    PeerConnectionFactory.initializeAndroidGlobals(this,false,true,true);\n    PeerConnectionFactory peerConnectionFactory = new PeerConnectionFactory();\n    AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n    AudioTrack audioTrack = peerConnectionFactory.createAudioTrack(\"4444\",audioSource);\n    audioTrack.setEnabled(true);\n    MediaStream mediaStream = peerConnectionFactory.createLocalMediaStream(\"4444\");\n    mediaStream.addTrack(audioTrack);\n</code></pre>\n\n<p>But then I'm confused how to share the stream with other devices using Firebase. Need Help :(</p>\n"},{"tags":["java","spring-boot","redis","mockito"],"comments":[{"owner":{"account_id":22650899,"reputation":355,"user_id":16825573,"display_name":"Lejdi Prifti"},"score":0,"creation_date":1696410349,"post_id":77226573,"comment_id":136147936,"body_markdown":"I don&#39;t see the method that should be `@Cacheable`.","body":"I don&#39;t see the method that should be <code>@Cacheable</code>."},{"owner":{"account_id":21654264,"reputation":1,"user_id":15974375,"display_name":"jalen002"},"score":0,"creation_date":1696456469,"post_id":77226573,"comment_id":136157116,"body_markdown":"@LejdiPrifti sorry about that I included the code that shows the method which has the Cacheable annotation","body":"@LejdiPrifti sorry about that I included the code that shows the method which has the Cacheable annotation"}],"owner":{"account_id":21654264,"reputation":1,"user_id":15974375,"display_name":"jalen002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696456390,"creation_date":1696390550,"question_id":77226573,"body_markdown":"I&#39;m learning Spring Boot and have built a simple RESTful API. In this API I&#39;m just simply adding &quot;student&quot; information. Every test runs successfully except for the test in the StudentConfigTest.java file. When I run this test, I&#39;m calling the studentRepository.findAll() method twice. The first time should invoke the repository, cache the data, and in the second call instead of invoking the method again, it should just return the data from the cache. Below are all of the related files:\r\n\r\nStudentConfigTest.java:\r\n\r\n```\r\npackage com.example.springApi.student;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.data.redis.DataRedisTest;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.cache.CacheManager;\r\nimport org.springframework.boot.test.mock.mockito.MockBean;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.context.annotation.Import;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport static org.assertj.core.api.Assertions.assertThat;\r\nimport static org.mockito.BDDMockito.given;\r\nimport static org.mockito.Mockito.times;\r\nimport static org.mockito.Mockito.verify;\r\n@EnableCaching\r\n@DataRedisTest\r\n@Import(StudentService.class)\r\npublic class StudentConfigTest {\r\n\r\n    @MockBean\r\n    private StudentRepository studentRepository;\r\n\r\n    @Autowired\r\n    private StudentService studentService;\r\n\r\n    @Autowired\r\n    private CacheManager cacheManager;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        cacheManager.getCache(&quot;studentCache&quot;).clear();\r\n    }\r\n\r\n    @Test\r\n    void givenRedisCaching_whenGetStudents_thenStudentsReturnedFromCache() {\r\n        // Given\r\n        List&lt;Student&gt; students = Arrays.asList(\r\n                new Student(&quot;Alice&quot;, 25, &quot;alice@example.com&quot;),\r\n                new Student(&quot;Bob&quot;, 30, &quot;bob@example.com&quot;)\r\n        );\r\n        given(studentRepository.findAll()).willReturn(students);\r\n\r\n        // When\r\n        List&lt;Student&gt; studentsCacheMiss = studentService.getStudents();\r\n        List&lt;Student&gt; studentsCacheHit = studentService.getStudents();\r\n\r\n        // Then\r\n        assertThat(studentsCacheMiss).isEqualTo(students);\r\n        assertThat(studentsCacheHit).isEqualTo(students);\r\n\r\n        // Verify that the repository method was called only once during cache miss\r\n        verify(studentRepository, times(1)).findAll();\r\n\r\n        // Additional assertion to check caching behavior\r\n        assertThat(studentService.getStudents()).isEqualTo(students); // Cache hit again, should return the same list\r\n    }\r\n}\r\n```\r\n\r\nStudentRepository.java:\r\n\r\n```\r\npackage com.example.springApi.student;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\r\n\r\n    @Query(&quot;SELECT s FROM Student s WHERE s.email = ?1&quot;)\r\n    Optional selectExistsEmail(String email);\r\n}\r\n\r\n```\r\nStudentConfig.java:\r\n\r\n```\r\npackage com.example.springApi.student;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\r\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\r\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\r\n\r\nimport java.time.Duration;\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class StudentConfig {\r\n    @Bean\r\n    public RedisCacheConfiguration cacheConfiguration() {\r\n        return RedisCacheConfiguration.defaultCacheConfig()\r\n                .entryTtl(Duration.ofMinutes(60))\r\n                .disableCachingNullValues()\r\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));\r\n    }\r\n\r\n    @Bean\r\n    public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\r\n        return (builder) -&gt; builder\r\n                .withCacheConfiguration(&quot;studentCache&quot;,\r\n                        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)));\r\n    }\r\n}\r\n\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/student\r\nspring.datasource.username=postgres\r\nspring.datasource.password=password\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\nspring.jpa.properties.hibernate.format_sql=true\r\nserver.error.include-message=always\r\nspring.data.redis.host=localhost\r\nspring.data.redis.port=6379\r\n```\r\n\r\nStudentService.java:\r\n\r\n\r\n    \r\n    @Service\r\n    public class StudentService {\r\n        private final StudentRepository studentRepository;\r\n    \r\n        @Autowired\r\n        public StudentService(StudentRepository studentRepository) {\r\n            this.studentRepository = studentRepository;\r\n        }\r\n        @Cacheable(&quot;studentCache&quot;)\r\n        public List&lt;Student&gt; getStudents() {\r\n            return studentRepository.findAll();\r\n        }\r\n        public void addNewStudent(Student student){\r\n            Optional existsEmail = studentRepository.selectExistsEmail(student.getEmail());\r\n            if (existsEmail.isPresent()) {\r\n                throw new IllegalStateException(&quot;Email &quot; + student.getEmail() + &quot; taken&quot;);\r\n            }\r\n            if (!isValidName(student.getName())) {\r\n                throw new IllegalStateException(&quot;name can only contain letters&quot;);\r\n            }\r\n    \r\n            studentRepository.save(student);\r\n        }\r\n    \r\n        public boolean isValidName(String studentName) {\r\n            char[] chars = studentName.toCharArray();\r\n            System.out.println(chars);\r\n            for (char c: chars){\r\n                if (!Character.isLetter(c)) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        public void deleteStudent(Long studentId) {\r\n            boolean exists = studentRepository.existsById(studentId);\r\n            if (!exists) {\r\n                throw new IllegalStateException(&quot;student with id &quot; + studentId + &quot; does not exist&quot;);\r\n            }\r\n            studentRepository.deleteById(studentId);\r\n    \r\n        }\r\n    }\r\n\r\nAny help would be greatly appreciated!\r\n\r\n\r\n\r\nI put all of the relevant information above. Ignore this.","title":"Redis test isn&#39;t working - this test method is being called multiple times instead of being cached after the first","body":"<p>I'm learning Spring Boot and have built a simple RESTful API. In this API I'm just simply adding &quot;student&quot; information. Every test runs successfully except for the test in the StudentConfigTest.java file. When I run this test, I'm calling the studentRepository.findAll() method twice. The first time should invoke the repository, cache the data, and in the second call instead of invoking the method again, it should just return the data from the cache. Below are all of the related files:</p>\n<p>StudentConfigTest.java:</p>\n<pre><code>package com.example.springApi.student;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.data.redis.DataRedisTest;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.cache.CacheManager;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.context.annotation.Import;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport static org.assertj.core.api.Assertions.assertThat;\nimport static org.mockito.BDDMockito.given;\nimport static org.mockito.Mockito.times;\nimport static org.mockito.Mockito.verify;\n@EnableCaching\n@DataRedisTest\n@Import(StudentService.class)\npublic class StudentConfigTest {\n\n    @MockBean\n    private StudentRepository studentRepository;\n\n    @Autowired\n    private StudentService studentService;\n\n    @Autowired\n    private CacheManager cacheManager;\n\n    @BeforeEach\n    void setUp() {\n        cacheManager.getCache(&quot;studentCache&quot;).clear();\n    }\n\n    @Test\n    void givenRedisCaching_whenGetStudents_thenStudentsReturnedFromCache() {\n        // Given\n        List&lt;Student&gt; students = Arrays.asList(\n                new Student(&quot;Alice&quot;, 25, &quot;alice@example.com&quot;),\n                new Student(&quot;Bob&quot;, 30, &quot;bob@example.com&quot;)\n        );\n        given(studentRepository.findAll()).willReturn(students);\n\n        // When\n        List&lt;Student&gt; studentsCacheMiss = studentService.getStudents();\n        List&lt;Student&gt; studentsCacheHit = studentService.getStudents();\n\n        // Then\n        assertThat(studentsCacheMiss).isEqualTo(students);\n        assertThat(studentsCacheHit).isEqualTo(students);\n\n        // Verify that the repository method was called only once during cache miss\n        verify(studentRepository, times(1)).findAll();\n\n        // Additional assertion to check caching behavior\n        assertThat(studentService.getStudents()).isEqualTo(students); // Cache hit again, should return the same list\n    }\n}\n</code></pre>\n<p>StudentRepository.java:</p>\n<pre><code>package com.example.springApi.student;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Long&gt; {\n\n    @Query(&quot;SELECT s FROM Student s WHERE s.email = ?1&quot;)\n    Optional selectExistsEmail(String email);\n}\n\n</code></pre>\n<p>StudentConfig.java:</p>\n<pre><code>package com.example.springApi.student;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.boot.autoconfigure.cache.RedisCacheManagerBuilderCustomizer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.redis.cache.RedisCacheConfiguration;\nimport org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer;\nimport org.springframework.data.redis.serializer.RedisSerializationContext;\n\nimport java.time.Duration;\nimport java.util.List;\n\n@Configuration\npublic class StudentConfig {\n    @Bean\n    public RedisCacheConfiguration cacheConfiguration() {\n        return RedisCacheConfiguration.defaultCacheConfig()\n                .entryTtl(Duration.ofMinutes(60))\n                .disableCachingNullValues()\n                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(new GenericJackson2JsonRedisSerializer()));\n    }\n\n    @Bean\n    public RedisCacheManagerBuilderCustomizer redisCacheManagerBuilderCustomizer() {\n        return (builder) -&gt; builder\n                .withCacheConfiguration(&quot;studentCache&quot;,\n                        RedisCacheConfiguration.defaultCacheConfig().entryTtl(Duration.ofMinutes(10)));\n    }\n}\n\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/student\nspring.datasource.username=postgres\nspring.datasource.password=password\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\nspring.jpa.properties.hibernate.format_sql=true\nserver.error.include-message=always\nspring.data.redis.host=localhost\nspring.data.redis.port=6379\n</code></pre>\n<p>StudentService.java:</p>\n<pre><code>@Service\npublic class StudentService {\n    private final StudentRepository studentRepository;\n\n    @Autowired\n    public StudentService(StudentRepository studentRepository) {\n        this.studentRepository = studentRepository;\n    }\n    @Cacheable(&quot;studentCache&quot;)\n    public List&lt;Student&gt; getStudents() {\n        return studentRepository.findAll();\n    }\n    public void addNewStudent(Student student){\n        Optional existsEmail = studentRepository.selectExistsEmail(student.getEmail());\n        if (existsEmail.isPresent()) {\n            throw new IllegalStateException(&quot;Email &quot; + student.getEmail() + &quot; taken&quot;);\n        }\n        if (!isValidName(student.getName())) {\n            throw new IllegalStateException(&quot;name can only contain letters&quot;);\n        }\n\n        studentRepository.save(student);\n    }\n\n    public boolean isValidName(String studentName) {\n        char[] chars = studentName.toCharArray();\n        System.out.println(chars);\n        for (char c: chars){\n            if (!Character.isLetter(c)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public void deleteStudent(Long studentId) {\n        boolean exists = studentRepository.existsById(studentId);\n        if (!exists) {\n            throw new IllegalStateException(&quot;student with id &quot; + studentId + &quot; does not exist&quot;);\n        }\n        studentRepository.deleteById(studentId);\n\n    }\n}\n</code></pre>\n<p>Any help would be greatly appreciated!</p>\n<p>I put all of the relevant information above. Ignore this.</p>\n"},{"tags":["java","nullpointerexception","apache-commons"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1606958733,"post_id":65118291,"comment_id":115124390,"body_markdown":"Please provide a full stack trace that shows this happens in `SystemUtils.isJavaVersionAtLeast`.","body":"Please provide a full stack trace that shows this happens in <code>SystemUtils.isJavaVersionAtLeast</code>."}],"answers":[{"comments":[{"owner":{"display_name":"user14717506"},"score":0,"creation_date":1606957306,"post_id":65118333,"comment_id":115124154,"body_markdown":"Thank you for the answer! By version dep, are you talking about in the pom.xml file? I looked through my file and my whole project for that matter, and couldn&#39;t find where I was using that library.","body":"Thank you for the answer! By version dep, are you talking about in the pom.xml file? I looked through my file and my whole project for that matter, and couldn&#39;t find where I was using that library."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1606958098,"post_id":65118333,"comment_id":115124301,"body_markdown":"Yes. It is possible some other library you use, depends on it. There are tools to find all the deps that maven is pulling in; try adding the lang3 dep to your pom, at v 3.11.","body":"Yes. It is possible some other library you use, depends on it. There are tools to find all the deps that maven is pulling in; try adding the lang3 dep to your pom, at v 3.11."},{"owner":{"account_id":233111,"reputation":3483,"user_id":498391,"accept_rate":89,"display_name":"ndtreviv"},"score":1,"creation_date":1642514191,"post_id":65118333,"comment_id":125086639,"body_markdown":"This was the problem, but for me the solution was to upgrade maven-surefire-plugin version.","body":"This was the problem, but for me the solution was to upgrade maven-surefire-plugin version."},{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1679900975,"post_id":65118333,"comment_id":133797135,"body_markdown":"can you share the working pom.","body":"can you share the working pom."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1606956666,"creation_date":1606956666,"answer_id":65118333,"question_id":65118291,"body_markdown":"You&#39;re on an old version of lang3 which does not recognize the Java version you are on. More recent versions are trying to dance around the fact that hard crashing when a new java version is released was always rather daft, but more so when a new java release is available every 6 months, but evidently the version of lang3 you have predates this upgrade.\r\n\r\nMore generally, don&#39;t use apache commons libraries unless you have a very pressing need; they are not particularly good API designs. But, if you must, all you really need to do is update your version dep to the most recent. version `3.11` should do the trick.\r\n","title":"How to fix NullPointerException &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null?","body":"<p>You're on an old version of lang3 which does not recognize the Java version you are on. More recent versions are trying to dance around the fact that hard crashing when a new java version is released was always rather daft, but more so when a new java release is available every 6 months, but evidently the version of lang3 you have predates this upgrade.</p>\n<p>More generally, don't use apache commons libraries unless you have a very pressing need; they are not particularly good API designs. But, if you must, all you really need to do is update your version dep to the most recent. version <code>3.11</code> should do the trick.</p>\n"},{"tags":[],"owner":{"account_id":14841767,"reputation":662,"user_id":10718292,"display_name":"Rogol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696456338,"creation_date":1696456338,"answer_id":77233201,"question_id":65118291,"body_markdown":"Try downgrading java in enviromental variables %JAVA_HOME% and Path, 1.8 should be enough","title":"How to fix NullPointerException &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null?","body":"<p>Try downgrading java in enviromental variables %JAVA_HOME% and Path, 1.8 should be enough</p>\n"}],"owner":{"display_name":"user14717506"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10389,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":65118333,"answer_count":2,"score":7,"last_activity_date":1696456338,"creation_date":1606956306,"question_id":65118291,"body_markdown":"I keep trying to run my code, but when I run it I get the message \r\n\r\n    &quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.apache.commons.lang3.JavaVersion.atLeast(org.apache.commons.lang3.JavaVersion)&quot; because &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null&quot;\r\n\r\nAnyone know how to fix this? I appreciate the help.\r\n\r\n","title":"How to fix NullPointerException &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null?","body":"<p>I keep trying to run my code, but when I run it I get the message</p>\n<pre><code>&quot;Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.apache.commons.lang3.JavaVersion.atLeast(org.apache.commons.lang3.JavaVersion)&quot; because &quot;org.apache.commons.lang3.SystemUtils.JAVA_SPECIFICATION_VERSION_AS_ENUM&quot; is null&quot;\n</code></pre>\n<p>Anyone know how to fix this? I appreciate the help.</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696364446,"post_id":77135828,"comment_id":136142916,"body_markdown":"Do you define anywhere that the message objects should be converted to your custom type? Jackson cannot know what type your `@JsonProperty(&quot;object&quot;)` field is – you need to tell it","body":"Do you define anywhere that the message objects should be converted to your custom type? Jackson cannot know what type your <code>@JsonProperty(&quot;object&quot;)</code> field is – you need to tell it"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696400011,"post_id":77135828,"comment_id":136145982,"body_markdown":"@knittl yes, I define it in here `KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();` In this example T should be `KafkaMessageDTO&lt;TokenMobieDTO&gt; `","body":"@knittl yes, I define it in here <code>KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();</code> In this example T should be <code>KafkaMessageDTO&lt;TokenMobieDTO&gt; </code>"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696401501,"post_id":77135828,"comment_id":136146246,"body_markdown":"`T` has nothing to do with how the object is deserialized from JSON. Deserialization happens before the object is constructed and initialized, not when the field is accessed. Without telling Jackson the type, it will always fall back to `LinkedHashMap` for JSON objects (i.e. `{...}`)","body":"<code>T</code> has nothing to do with how the object is deserialized from JSON. Deserialization happens before the object is constructed and initialized, not when the field is accessed. Without telling Jackson the type, it will always fall back to <code>LinkedHashMap</code> for JSON objects (i.e. <code>{...}</code>)"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696401802,"post_id":77135828,"comment_id":136146304,"body_markdown":"So how can I handle that? Could you give me some examples, please?","body":"So how can I handle that? Could you give me some examples, please?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696402425,"post_id":77135828,"comment_id":136146384,"body_markdown":"A quick search turned up those posts; I don&#39;t know enough about the Kafka listeners to judge which would apply: https://stackoverflow.com/q/51096351/112968, https://stackoverflow.com/q/61430128/112968, https://stackoverflow.com/q/70216775/112968, https://stackoverflow.com/q/55825642/112968 – you want to look for &quot;polymorphic JSON deserialization&quot; or similar. Note that Jackson can also convert a `Map` to a custom object (that could be a simple, viable workaround for you)","body":"A quick search turned up those posts; I don&#39;t know enough about the Kafka listeners to judge which would apply: <a href=\"https://stackoverflow.com/q/51096351/112968\">stackoverflow.com/q/51096351/112968</a>, <a href=\"https://stackoverflow.com/q/61430128/112968\">stackoverflow.com/q/61430128/112968</a>, <a href=\"https://stackoverflow.com/q/70216775/112968\">stackoverflow.com/q/70216775/112968</a>, <a href=\"https://stackoverflow.com/q/55825642/112968\">stackoverflow.com/q/55825642/112968</a> – you want to look for &quot;polymorphic JSON deserialization&quot; or similar. Note that Jackson can also convert a <code>Map</code> to a custom object (that could be a simple, viable workaround for you)"},{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1696418152,"post_id":77135828,"comment_id":136149602,"body_markdown":"@knittl thanks a lot for your help but unfortunately none of them works well for my case. I have multiple topics and I need to use JsonSerializer/JsonDeserializer as a config. If there is another way to configure only `KafkaConsumerService` that might help. If you have another opinion, please let me know","body":"@knittl thanks a lot for your help but unfortunately none of them works well for my case. I have multiple topics and I need to use JsonSerializer/JsonDeserializer as a config. If there is another way to configure only <code>KafkaConsumerService</code> that might help. If you have another opinion, please let me know"}],"answers":[{"comments":[{"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"score":0,"creation_date":1695206925,"post_id":77136181,"comment_id":135992383,"body_markdown":"I am having the same problem. When I tried to use `T object = msg.getObject();` The object variable contains LinkedHasMap. I can&#39;t extract the data","body":"I am having the same problem. When I tried to use <code>T object = msg.getObject();</code> The object variable contains LinkedHasMap. I can&#39;t extract the data"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1696404975,"post_id":77136181,"comment_id":136146840,"body_markdown":"The JSON object is already deserialized. Casting to a different type cannot change the type of the instance from `LinkedHashMap` to `TokenMobieDTO`.","body":"The JSON object is already deserialized. Casting to a different type cannot change the type of the instance from <code>LinkedHashMap</code> to <code>TokenMobieDTO</code>."}],"tags":[],"owner":{"account_id":6166039,"reputation":469,"user_id":7210926,"display_name":"Vipul Kumar"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1695139214,"creation_date":1695139214,"answer_id":77136181,"question_id":77135828,"body_markdown":"The issue in your code is related to generic type erasure in Java. When you try to extract the object from KafkaMessageDTO, the generic type information is lost due to type erasure, making it impossible to directly access TokenMobieDTO.\r\n\r\nTo address this issue, you can modify your KafkaConsumerService class to pass the actual class type to the listenX method. Here&#39;s how you can do it:\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class KafkaConsumerService {\r\n\r\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\r\n    public &lt;T&gt; void listenX(KafkaMessageDTO&lt;T&gt; msg) {\r\n        log.info(&quot;MSG arrived to consumer&quot;);\r\n        T object = msg.getObject();\r\n        // Use &#39;object&#39; (e.g., cast it to TokenMobieDTO if needed)\r\n    }\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class KafkaMessageDTO&lt;T&gt; {\r\n\r\n    @JsonProperty(&quot;object&quot;)\r\n    private T object;\r\n\r\n    @JsonProperty(&quot;header&quot;)\r\n    private HttpHeaders headers;\r\n\r\n    // Getter for &#39;object&#39;\r\n    public T getObject() {\r\n        return object;\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to convert LinkedHashMap to a custom object?","body":"<p>The issue in your code is related to generic type erasure in Java. When you try to extract the object from KafkaMessageDTO, the generic type information is lost due to type erasure, making it impossible to directly access TokenMobieDTO.</p>\n<p>To address this issue, you can modify your KafkaConsumerService class to pass the actual class type to the listenX method. Here's how you can do it:</p>\n<pre><code>@Slf4j\n@Service\npublic class KafkaConsumerService {\n\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\n    public &lt;T&gt; void listenX(KafkaMessageDTO&lt;T&gt; msg) {\n        log.info(&quot;MSG arrived to consumer&quot;);\n        T object = msg.getObject();\n        // Use 'object' (e.g., cast it to TokenMobieDTO if needed)\n    }\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class KafkaMessageDTO&lt;T&gt; {\n\n    @JsonProperty(&quot;object&quot;)\n    private T object;\n\n    @JsonProperty(&quot;header&quot;)\n    private HttpHeaders headers;\n\n    // Getter for 'object'\n    public T getObject() {\n        return object;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696456143,"creation_date":1696419877,"answer_id":77229297,"question_id":77135828,"body_markdown":"As a workaround, you can convert the map with Jackson to your custom type. This will be inefficient (JSON is first parsed to a linked hash map, hash map is then converted), but it should work:\r\n\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Service\r\npublic class KafkaConsumerService {\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\r\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\r\n        log.info(&quot;MSG arrived to consumer&quot;);\r\n        final KafkaMessageDTO&lt;LinkedHashMap&gt; test = msg.getData();\r\n        final TokenMobieDTO dto = objectMapper.convertValue(\r\n                test.getObject(),\r\n                TokenMobieDTO.class);\r\n\r\n        // ..\r\n```\r\n\r\n(There are better approaches)\r\n\r\nResources:\r\n\r\n* https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo","title":"How to convert LinkedHashMap to a custom object?","body":"<p>As a workaround, you can convert the map with Jackson to your custom type. This will be inefficient (JSON is first parsed to a linked hash map, hash map is then converted), but it should work:</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\n@Service\npublic class KafkaConsumerService {\n    private final ObjectMapper objectMapper;\n\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\n        log.info(&quot;MSG arrived to consumer&quot;);\n        final KafkaMessageDTO&lt;LinkedHashMap&gt; test = msg.getData();\n        final TokenMobieDTO dto = objectMapper.convertValue(\n                test.getObject(),\n                TokenMobieDTO.class);\n\n        // ..\n</code></pre>\n<p>(There are better approaches)</p>\n<p>Resources:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/16428817/convert-a-mapstring-string-to-a-pojo\">Convert a Map&lt;String, String&gt; to a POJO</a></li>\n</ul>\n"}],"owner":{"account_id":24356237,"reputation":349,"user_id":18291356,"display_name":"Serdar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77229297,"answer_count":2,"score":3,"last_activity_date":1696456143,"creation_date":1695136361,"question_id":77135828,"body_markdown":"I have a 2 topics on my Kafka Consumer side: topic A and topic B. Both are going to same method. The details of method as below;\r\n```java\r\n@Slf4j\r\n@Service\r\npublic class KafkaConsumerService {\r\n\r\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\r\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\r\n        log.info(&quot;MSG arrived to consumer&quot;);\r\n        KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();\r\n```\r\n-------------\r\n\r\n```java\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Builder\r\npublic class KafkaMessageDTO&lt;T&gt; {\r\n\r\n    @JsonProperty(&quot;object&quot;)\r\n    private T object;\r\n\r\n    @JsonProperty(&quot;header&quot;)\r\n    private HttpHeaders headers;\r\n\r\n}\r\n```\r\nI always send that msg variable type is `KafkaMessageDTO&lt;TokenMobieDTO&gt;` to that method. Trying to extract object from KafkaMessageDTO (`kafkaMessageDTO.getObject()`) but unfortunately, I am not able to do that. \r\n\r\nIn debugging, I am able to see the values and looks like data is perfectly match as below\r\n[![enter image description here](https://i.stack.imgur.com/NeFcl.png)](https://i.stack.imgur.com/NeFcl.png)\r\n\r\nHow can I convert msg object to KafkaMessageDTO&lt;TokenMobieDTO&gt; object? While I am trying to convert that, I am receiving this error\r\n```txt\r\nthrew exception; nested exception is java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.token.dto.TokenMobieDTO (java.util.LinkedHashMap is in module java.base of loader &#39;bootstrap&#39;;\r\n```\r\n\r\nI have tried to mapping but like data doesn&#39;t contain List, I wasn&#39;t able to iterate. Problem still exists.","title":"How to convert LinkedHashMap to a custom object?","body":"<p>I have a 2 topics on my Kafka Consumer side: topic A and topic B. Both are going to same method. The details of method as below;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Service\npublic class KafkaConsumerService {\n\n    @KafkaListener(topics = { &quot;topic-a&quot;, &quot;topic-b&quot; }, groupId = &quot;X-consumer&quot;)\n    public &lt;T&gt; void listenX(Response&lt;T&gt; msg) {\n        log.info(&quot;MSG arrived to consumer&quot;);\n        KafkaMessageDTO&lt;TokenMobieDTO&gt; test = msg.getData();\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\npublic class KafkaMessageDTO&lt;T&gt; {\n\n    @JsonProperty(&quot;object&quot;)\n    private T object;\n\n    @JsonProperty(&quot;header&quot;)\n    private HttpHeaders headers;\n\n}\n</code></pre>\n<p>I always send that msg variable type is <code>KafkaMessageDTO&lt;TokenMobieDTO&gt;</code> to that method. Trying to extract object from KafkaMessageDTO (<code>kafkaMessageDTO.getObject()</code>) but unfortunately, I am not able to do that.</p>\n<p>In debugging, I am able to see the values and looks like data is perfectly match as below\n<a href=\"https://i.stack.imgur.com/NeFcl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NeFcl.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I convert msg object to KafkaMessageDTO object? While I am trying to convert that, I am receiving this error</p>\n<pre><code>threw exception; nested exception is java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class com.token.dto.TokenMobieDTO (java.util.LinkedHashMap is in module java.base of loader 'bootstrap';\n</code></pre>\n<p>I have tried to mapping but like data doesn't contain List, I wasn't able to iterate. Problem still exists.</p>\n"},{"tags":["java","git","intellij-idea"],"comments":[{"owner":{"account_id":28492010,"reputation":179,"user_id":21804501,"display_name":"Dino Letic"},"score":0,"creation_date":1696494575,"post_id":77233065,"comment_id":136160895,"body_markdown":"Hi Roy, \nGo to Search everywhere (double shift)\nType: Share project on\nGithub will pop up and then you will able to define repo name etc\n\nBtw, did you login to github via ide? This has to be done on: File | Settings | Version Control | GitHub","body":"Hi Roy,  Go to Search everywhere (double shift) Type: Share project on Github will pop up and then you will able to define repo name etc  Btw, did you login to github via ide? This has to be done on: File | Settings | Version Control | GitHub"},{"owner":{"account_id":24024818,"reputation":41,"user_id":18590971,"display_name":"Roy Huang"},"score":0,"creation_date":1696532469,"post_id":77233065,"comment_id":136168921,"body_markdown":"That was the issue, after i logged into github everything was solved....it was so simple.","body":"That was the issue, after i logged into github everything was solved....it was so simple."}],"owner":{"account_id":24024818,"reputation":41,"user_id":18590971,"display_name":"Roy Huang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696455556,"answer_count":0,"score":0,"last_activity_date":1696455674,"creation_date":1696454558,"question_id":77233065,"body_markdown":"I created a java project in IntelliJ and cannot commit it to the GitHub repo. \r\n\r\nI tried creating a repo first on GitHub and creating a project locally but cannot commit it to my repo. It always says the following error.\r\n\r\n```\r\ngit@github.com: Permission denied (publickey).\r\nfatal: Could not read from remote repository.\r\n\r\nPlease make sure you have the correct access rights\r\nand the repository exists.\r\n```\r\n\r\nI must have done something wrong and can someone give me a clear tutorial on this?\r\n\r\n***I want to create a project locally on IntelliJ and then create a git repository for it. NOT the other way around.***","title":"How to create a project in IntelliJ then make a GitHub repository for it?","body":"<p>I created a java project in IntelliJ and cannot commit it to the GitHub repo.</p>\n<p>I tried creating a repo first on GitHub and creating a project locally but cannot commit it to my repo. It always says the following error.</p>\n<pre><code>git@github.com: Permission denied (publickey).\nfatal: Could not read from remote repository.\n\nPlease make sure you have the correct access rights\nand the repository exists.\n</code></pre>\n<p>I must have done something wrong and can someone give me a clear tutorial on this?</p>\n<p><em><strong>I want to create a project locally on IntelliJ and then create a git repository for it. NOT the other way around.</strong></em></p>\n"},{"tags":["java","sql","spring-boot","jpa","querydsl"],"owner":{"account_id":14713938,"reputation":441,"user_id":10626449,"display_name":"Jonathan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696454460,"creation_date":1696454460,"question_id":77233057,"body_markdown":"Good evening. I&#39;ve been stuck on an issue and wanted to see if anyone here has some advice. I recentlu upgraded my Springboot version from 2.5.14 to 3.1.3 and now one of my queries in not working. I see that MetadataBuilderContributor was deprecated, but I did not use this package in my previous version. When I run my code I get the error: \r\n\r\n*[You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;regexp(ed1_0.friends,&#39;\\\\b110081\\\\b&#39;)=1*\r\n\r\nDoes someone know why regex expressions are not resolving in QueryDSL? Please let me know if you guys see the issue in my code. Thank you in advance.\r\n\r\n```Expressions.booleanTemplate(&quot;function(&#39;regexp&#39;, {0}, {1})=1&quot;, QUser.friends, REGEX_FORMAT.formatted(userId)); ```\r\n","title":"QueryDSL regex Function not resolving","body":"<p>Good evening. I've been stuck on an issue and wanted to see if anyone here has some advice. I recentlu upgraded my Springboot version from 2.5.14 to 3.1.3 and now one of my queries in not working. I see that MetadataBuilderContributor was deprecated, but I did not use this package in my previous version. When I run my code I get the error:</p>\n<p><em>[You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'regexp(ed1_0.friends,'\\b110081\\b')=1</em></p>\n<p>Does someone know why regex expressions are not resolving in QueryDSL? Please let me know if you guys see the issue in my code. Thank you in advance.</p>\n<p><code>Expressions.booleanTemplate(&quot;function('regexp', {0}, {1})=1&quot;, QUser.friends, REGEX_FORMAT.formatted(userId)); </code></p>\n"},{"tags":["java","spring-boot","lombok"],"answers":[{"comments":[{"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"score":0,"creation_date":1672829271,"post_id":75003975,"comment_id":132359597,"body_markdown":"Not sure I am incorrect here, as the page https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide references those managed dependencies to check. Within my project I also see `lombok 1.18.24`. As mentioned I do declere `lombok` within pom explicitly but without version, as this is managed by spring-boot-starter","body":"Not sure I am incorrect here, as the page <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a> references those managed dependencies to check. Within my project I also see <code>lombok 1.18.24</code>. As mentioned I do declere <code>lombok</code> within pom explicitly but without version, as this is managed by spring-boot-starter"},{"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"score":0,"creation_date":1672831100,"post_id":75003975,"comment_id":132360116,"body_markdown":"I added the 3 pom.xml files, as they are all children/parents. Hope this helps. I might forgot to tell, that it worked with `spring-boot-starter-parent` version 2.7.X","body":"I added the 3 pom.xml files, as they are all children/parents. Hope this helps. I might forgot to tell, that it worked with <code>spring-boot-starter-parent</code> version 2.7.X"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1672832012,"post_id":75003975,"comment_id":132360373,"body_markdown":"@kism3t I believe it might be related with optional true declaration. Try once to compile it with `&lt;optional&gt;false&lt;/optional&gt;`","body":"@kism3t I believe it might be related with optional true declaration. Try once to compile it with <code>&lt;optional&gt;false&lt;&#47;optional&gt;</code>"},{"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"score":0,"creation_date":1672832341,"post_id":75003975,"comment_id":132360459,"body_markdown":"unfortunately that did not do it :(","body":"unfortunately that did not do it :("},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1672836012,"post_id":75003975,"comment_id":132361596,"body_markdown":"@kism3t how are you building your project? Through command line from maven? or IDE?","body":"@kism3t how are you building your project? Through command line from maven? or IDE?"},{"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"score":0,"creation_date":1672836071,"post_id":75003975,"comment_id":132361619,"body_markdown":"I do `mvn clean compile` within the modules directory","body":"I do <code>mvn clean compile</code> within the modules directory"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1672836493,"post_id":75003975,"comment_id":132361743,"body_markdown":"@kism3t Normally a multi module project has a root where all modules are linked. Try to go to this directory and execute `mvn clean install` . Then try again inside the specific module the `mvn clean compile`","body":"@kism3t Normally a multi module project has a root where all modules are linked. Try to go to this directory and execute <code>mvn clean install</code> . Then try again inside the specific module the <code>mvn clean compile</code>"},{"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"score":0,"creation_date":1672837117,"post_id":75003975,"comment_id":132361979,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/250832/discussion-between-kism3t-and-panagiotis-bougioukos).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/250832/discussion-between-kism3t-and-panagiotis-bougioukos\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672828274,"creation_date":1672827512,"answer_id":75003975,"question_id":75003789,"body_markdown":"You have misunderstood something.\r\n\r\n[Spring CLI][1]\r\n\r\n&gt; The Spring Boot CLI is a command line tool that you can use to\r\n&gt; bootstrap a new project from start.spring.io or encode a password.\r\n\r\nCLI is not part of `spring-boot-starter`. CLI is only a command line tool used as the [spring io initialized (Web)][2] but executes from your local command line instead.\r\n\r\nSo the [table][3] that you have referenced in your question means that if you use `Spring CLI` and ask for lombok dependency in a `spring-boot` app of either 2.7 or 3.0.1 the initializer will provide you a newly created project where it would already have declared as dependency the `lombok 1.18.24`.\r\n\r\nThis would not mean that you don&#39;t have to have declared a specific `lombok` dependency in your spring boot project. `spring-boot-starter-parent` would not have one declared for you.\r\n\r\nIt is just that the CLI would make automatically this declaration in the `pom` of your new project if you choose to use the CLI for project creation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/cli.html\r\n  [2]: https://start.spring.io/\r\n  [3]: https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions","title":"Spring Boot Migration from 2.7 to 3.0.1 Lombok issues `cannot find sybol`","body":"<p>You have misunderstood something.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/cli.html\" rel=\"nofollow noreferrer\">Spring CLI</a></p>\n<blockquote>\n<p>The Spring Boot CLI is a command line tool that you can use to\nbootstrap a new project from start.spring.io or encode a password.</p>\n</blockquote>\n<p>CLI is not part of <code>spring-boot-starter</code>. CLI is only a command line tool used as the <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">spring io initialized (Web)</a> but executes from your local command line instead.</p>\n<p>So the <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">table</a> that you have referenced in your question means that if you use <code>Spring CLI</code> and ask for lombok dependency in a <code>spring-boot</code> app of either 2.7 or 3.0.1 the initializer will provide you a newly created project where it would already have declared as dependency the <code>lombok 1.18.24</code>.</p>\n<p>This would not mean that you don't have to have declared a specific <code>lombok</code> dependency in your spring boot project. <code>spring-boot-starter-parent</code> would not have one declared for you.</p>\n<p>It is just that the CLI would make automatically this declaration in the <code>pom</code> of your new project if you choose to use the CLI for project creation.</p>\n"},{"tags":[],"owner":{"account_id":1155386,"reputation":472,"user_id":1136151,"display_name":"Arthur Kalimullin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681272641,"creation_date":1681272641,"answer_id":75991828,"question_id":75003789,"body_markdown":"Took me a long time to find the same issue you are facing. I believe you are facing this issue: https://github.com/projectlombok/lombok/issues/3331\r\n\r\nIf you are using `@ConstructorBinding` and didn&#39;t migrate it to the new way yet, `@ConstructorBinding` should be replaced with `@RequiredArgsConstructor(onConstructor_={@ConstructorBinding})` or removed altogether.\r\n\r\n","title":"Spring Boot Migration from 2.7 to 3.0.1 Lombok issues `cannot find sybol`","body":"<p>Took me a long time to find the same issue you are facing. I believe you are facing this issue: <a href=\"https://github.com/projectlombok/lombok/issues/3331\" rel=\"nofollow noreferrer\">https://github.com/projectlombok/lombok/issues/3331</a></p>\n<p>If you are using <code>@ConstructorBinding</code> and didn't migrate it to the new way yet, <code>@ConstructorBinding</code> should be replaced with <code>@RequiredArgsConstructor(onConstructor_={@ConstructorBinding})</code> or removed altogether.</p>\n"}],"owner":{"account_id":3649667,"reputation":1341,"user_id":3042145,"accept_rate":75,"display_name":"kism3t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2405,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696454144,"creation_date":1672826464,"question_id":75003789,"body_markdown":"this post [Spring Boot 3 Lombock][1] I already read, it is exactly my issues but the solution does not help me. \r\n\r\nThe issue occured while migrating from Spring Boot 2.7 to 3.0.1. According to version of lombock both have 1.18.24, which to post above suggests using. See [Spring 2.7.X][2] and [Spring 3.0.X][3]. (Edit: I got those pages from [Spring-Boot-3.0-Migration-Guide][4])\r\n\r\nSo I get following error while `mvn clean compile` on my Entities annotated with @Data\r\n\r\n```\r\n[ERROR] /home/me/code/connect/services/integrator-service/src/main/java/de/comp/integratorservice/service/data/DataService.java:[113,52] cannot find symbol\r\n  symbol:   method getKey()\r\n  location: variable d of type de.comp.integratorservice.rest.dto.DataDto\r\n```\r\nAll pom.xml are altered to hide company names\r\n\r\nHere is my modules pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\r\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;artifactId&gt;integrator-service&lt;/artifactId&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;name&gt;integrator-service&lt;/name&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-stream-test-support&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- open-api --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- when switchting to openapi from springfox swagger the compile didnt work any more...  https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Add application packages --&gt;\r\n    &lt;!-- some other dependencies from our company --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nHere is the one parent pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;pname&lt;/artifactId&gt;\r\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n\r\n  &lt;properties&gt;\r\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\r\n    &lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\r\n    &lt;helm-maven-plugin.version&gt;6.6.1&lt;/helm-maven-plugin.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;modules&gt;\r\n\t...\r\n    &lt;module&gt;integrator-service&lt;/module&gt;\r\n    ...\r\n  &lt;/modules&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\r\n          &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${helm-maven-plugin.version}&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;chartDirectory&gt;${project.basedir}&lt;/chartDirectory&gt;\r\n            &lt;chartVersion&gt;${project.version}&lt;/chartVersion&gt;\r\n            &lt;useLocalHelmBinary&gt;true&lt;/useLocalHelmBinary&gt;\r\n          &lt;/configuration&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;package-helm-chart&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;lint&lt;/goal&gt;\r\n                &lt;goal&gt;package&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.4.0&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;${project.build.directory}/dependencies&lt;/outputDirectory&gt;\r\n                &lt;includeScope&gt;compile&lt;/includeScope&gt;\r\n                &lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\nand here is the parent`s parent pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n  &lt;artifactId&gt;pname&lt;/artifactId&gt;\r\n  &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n  &lt;/parent&gt;\r\n\r\n  &lt;modules&gt;\r\n    &lt;module&gt;pname-commons&lt;/module&gt;\r\n  &lt;/modules&gt;\r\n\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;default&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;pname-external-apis&lt;/module&gt;\r\n        &lt;module&gt;pname-apis&lt;/module&gt;\r\n        &lt;module&gt;pname-services&lt;/module&gt;\r\n        &lt;module&gt;pname-tools&lt;/module&gt;\r\n        &lt;module&gt;pname-tests&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n    &lt;/profile&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;pname-tests&lt;/id&gt;\r\n      &lt;modules&gt;\r\n        &lt;module&gt;pname-tests&lt;/module&gt;\r\n      &lt;/modules&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.javadoc.skip&gt;true&lt;/maven.javadoc.skip&gt;\r\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n\r\n\r\n  &lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n    &lt;build.tag&gt;latest&lt;/build.tag&gt;\r\n    &lt;dockerfile.push.skip&gt;true&lt;/dockerfile.push.skip&gt;\r\n    &lt;codechecks.skip&gt;false&lt;/codechecks.skip&gt;\r\n    &lt;!-- spring-cloud must fit to the base spring-boot version --&gt;\r\n    &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n\r\n    &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\r\n    &lt;openapi-webmvc.version&gt;1.6.14&lt;/openapi-webmvc.version&gt;\r\n    &lt;swagger-annotations.version&gt;2.2.7&lt;/swagger-annotations.version&gt;\r\n    &lt;logstash-logback-encoder.version&gt;7.2&lt;/logstash-logback-encoder.version&gt;\r\n    &lt;com.microsoft.sqlserver.version&gt;11.2.2.jre17&lt;/com.microsoft.sqlserver.version&gt;\r\n    &lt;google.guava.version&gt;31.1-jre&lt;/google.guava.version&gt;\r\n    &lt;checkstyle-maven-plugin.version&gt;3.2.0&lt;/checkstyle-maven-plugin.version&gt;\r\n    &lt;com.puppycrawl.tools.checkstyle.version&gt;10.5.0&lt;/com.puppycrawl.tools.checkstyle.version&gt;\r\n    &lt;sca-rules.version&gt;1.3&lt;/sca-rules.version&gt;\r\n    &lt;spotbugs-maven-plugin.version&gt;4.7.3.0&lt;/spotbugs-maven-plugin.version&gt;\r\n    &lt;com.github.spotbugs.version&gt;4.7.3&lt;/com.github.spotbugs.version&gt;\r\n    &lt;de.comp.security-code-generator.version&gt;1.0.8&lt;/de.comp.security-code-generator.version&gt;\r\n    &lt;de.comp.kcu.version&gt;1.5.0&lt;/de.comp.kcu.version&gt;\r\n    &lt;org.testcontainers.mssqlserver.version&gt;1.17.6&lt;/org.testcontainers.mssqlserver.version&gt;\r\n    &lt;com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;1.34.2&lt;/com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;\r\n    &lt;com.azure.azure-storage-blob.version&gt;12.14.4&lt;/com.azure.azure-storage-blob.version&gt;\r\n    &lt;net.javacrumbs.shedlock.shedlock-spring.version&gt;4.43.0&lt;/net.javacrumbs.shedlock.shedlock-spring.version&gt;\r\n    &lt;joda-time.version&gt;2.12.2&lt;/joda-time.version&gt;\r\n    &lt;querydsl-apt.version&gt;5.0.0&lt;/querydsl-apt.version&gt;\r\n    &lt;reproducible-build-maven-plugin.version&gt;0.16&lt;/reproducible-build-maven-plugin.version&gt;\r\n    &lt;exec-maven-plugin.version&gt;3.1.0&lt;/exec-maven-plugin.version&gt;\r\n    &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\r\n    &lt;apache.collections.version&gt;4.4&lt;/apache.collections.version&gt;\r\n    &lt;org.immutables.value.version&gt;2.9.3&lt;/org.immutables.value.version&gt;\r\n    &lt;com.ibm.icu4j.version&gt;72.1&lt;/com.ibm.icu4j.version&gt;\r\n    &lt;hamcrest-junit.version&gt;2.0.0.0&lt;/hamcrest-junit.version&gt;\r\n    &lt;esper.version&gt;8.8.0&lt;/esper.version&gt;\r\n    &lt;esper-runtime.version&gt;8.8.0&lt;/esper-runtime.version&gt;\r\n    &lt;esper-common.version&gt;8.8.0&lt;/esper-common.version&gt;\r\n    &lt;esper-compiler.version&gt;8.8.0&lt;/esper-compiler.version&gt;\r\n    &lt;dockerfile.maven.version&gt;1.4.13&lt;/dockerfile.maven.version&gt;\r\n    &lt;apache.commons-text.version&gt;1.10.0&lt;/apache.commons-text.version&gt;\r\n    &lt;mockserver.version&gt;5.14.0&lt;/mockserver.version&gt;\r\n    &lt;scala.version&gt;2.13.10&lt;/scala.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n\r\n  &lt;distributionManagement&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;pname&lt;/id&gt;\r\n      &lt;url&gt;...&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/distributionManagement&gt;\r\n\r\n  &lt;repositories&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;pname&lt;/id&gt;\r\n      &lt;url&gt;...&lt;/url&gt;\r\n      &lt;releases&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n      &lt;/releases&gt;\r\n      &lt;snapshots&gt;\r\n        &lt;enabled&gt;true&lt;/enabled&gt;\r\n      &lt;/snapshots&gt;\r\n    &lt;/repository&gt;\r\n    &lt;repository&gt;\r\n      &lt;id&gt;spring-milestones&lt;/id&gt;\r\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n  &lt;/repositories&gt;\r\n\r\n  &lt;pluginRepositories&gt;\r\n    ...\r\n  &lt;/pluginRepositories&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;optional&gt;true&lt;/optional&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;!--\r\n           Exluding Sping Data mongodb to avoid CVE-2021-44906 (https://avd.aquasec.com/nvd/2021/cve-2021-44906/)\r\n           in versions prior to 3.3.5 and 3.4.1\r\n           --&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.6&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${openapi-webmvc.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${swagger-annotations.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.microsoft.sqlserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;version&gt;${google.guava.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;de.comp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;security-code-generator&lt;/artifactId&gt;\r\n        &lt;version&gt;${de.comp.security-code-generator.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;de.comp.kcu&lt;/groupId&gt;\r\n        &lt;artifactId&gt;interfaces&lt;/artifactId&gt;\r\n        &lt;version&gt;${de.comp.kcu.version}&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n          &lt;!-- we manage our own version of this dependencies --&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n          &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n          &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.testcontainers.mssqlserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;iot-service-client&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.microsoft.azure.sdk.iot.iot-service-client.versions}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.azure.azure-storage-blob.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.github.spotbugs.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n        &lt;version&gt;${com.ibm.icu4j.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n        &lt;version&gt;${apache.collections.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n        &lt;version&gt;${apache.commons-text.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\r\n        &lt;artifactId&gt;value&lt;/artifactId&gt;\r\n        &lt;version&gt;${org.immutables.value.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-junit&lt;/artifactId&gt;\r\n        &lt;version&gt;${hamcrest-junit.version}&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper-common&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper-common.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper-compiler&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper-compiler.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\r\n        &lt;artifactId&gt;esper-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;${esper-runtime.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockserver-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mockserver-client-java&lt;/artifactId&gt;\r\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\r\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\r\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- start\r\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\r\n          spring-cloud-stream-binder-kafka:3.25\r\n      --&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n        &lt;version&gt;${scala.version}&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;!-- end\r\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\r\n          spring-cloud-stream-binder-kafka:3.25\r\n      --&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;archive&gt;\r\n                    &lt;manifest&gt;\r\n                        &lt;addClasspath&gt;false&lt;/addClasspath&gt;\r\n                    &lt;/manifest&gt;\r\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\r\n                &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${reproducible-build-maven-plugin.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;phase&gt;package&lt;/phase&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;strip-jar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;com.spotify&lt;/groupId&gt;\r\n          &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;${dockerfile.maven.version}&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;build-tag-latest&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;build&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;tag-version&lt;/id&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;tag&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n              &lt;configuration&gt;\r\n                &lt;tag&gt;${build.tag}&lt;/tag&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;push&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            ...\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74952527/spring-boot-3-with-lombok\r\n  [2]: https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions\r\n  [3]: https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/dependency-versions.html#appendix.dependency-versions\r\n  [4]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\n","title":"Spring Boot Migration from 2.7 to 3.0.1 Lombok issues `cannot find sybol`","body":"<p>this post <a href=\"https://stackoverflow.com/questions/74952527/spring-boot-3-with-lombok\">Spring Boot 3 Lombock</a> I already read, it is exactly my issues but the solution does not help me.</p>\n<p>The issue occured while migrating from Spring Boot 2.7 to 3.0.1. According to version of lombock both have 1.18.24, which to post above suggests using. See <a href=\"https://docs.spring.io/spring-boot/docs/2.7.x/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring 2.7.X</a> and <a href=\"https://docs.spring.io/spring-boot/docs/3.0.x/reference/html/dependency-versions.html#appendix.dependency-versions\" rel=\"nofollow noreferrer\">Spring 3.0.X</a>. (Edit: I got those pages from <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring-Boot-3.0-Migration-Guide</a>)</p>\n<p>So I get following error while <code>mvn clean compile</code> on my Entities annotated with @Data</p>\n<pre><code>[ERROR] /home/me/code/connect/services/integrator-service/src/main/java/de/comp/integratorservice/service/data/DataService.java:[113,52] cannot find symbol\n  symbol:   method getKey()\n  location: variable d of type de.comp.integratorservice.rest.dto.DataDto\n</code></pre>\n<p>All pom.xml are altered to hide company names</p>\n<p>Here is my modules pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;parent&gt;\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\n    &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;integrator-service&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;integrator-service&lt;/name&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n          &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n      &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-stream-test-support&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- open-api --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- when switchting to openapi from springfox swagger the compile didnt work any more...  https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Add application packages --&gt;\n    &lt;!-- some other dependencies from our company --&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n      &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n      &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n      &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n        &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n        &lt;artifactId&gt;spotbugs-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is the one parent pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;de.comp&lt;/groupId&gt;\n    &lt;artifactId&gt;pname&lt;/artifactId&gt;\n    &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;artifactId&gt;pname-services&lt;/artifactId&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n\n  &lt;properties&gt;\n    &lt;spring-boot.repackage.skip&gt;true&lt;/spring-boot.repackage.skip&gt;\n    &lt;apt-maven-plugin.version&gt;1.1.3&lt;/apt-maven-plugin.version&gt;\n    &lt;helm-maven-plugin.version&gt;6.6.1&lt;/helm-maven-plugin.version&gt;\n  &lt;/properties&gt;\n\n  &lt;modules&gt;\n    ...\n    &lt;module&gt;integrator-service&lt;/module&gt;\n    ...\n  &lt;/modules&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;io.kokuwa.maven&lt;/groupId&gt;\n          &lt;artifactId&gt;helm-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${helm-maven-plugin.version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;chartDirectory&gt;${project.basedir}&lt;/chartDirectory&gt;\n            &lt;chartVersion&gt;${project.version}&lt;/chartVersion&gt;\n            &lt;useLocalHelmBinary&gt;true&lt;/useLocalHelmBinary&gt;\n          &lt;/configuration&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;package-helm-chart&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;lint&lt;/goal&gt;\n                &lt;goal&gt;package&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.4.0&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;copy-dependencies&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/dependencies&lt;/outputDirectory&gt;\n                &lt;includeScope&gt;compile&lt;/includeScope&gt;\n                &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>and here is the parent`s parent pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;de.comp&lt;/groupId&gt;\n  &lt;artifactId&gt;pname&lt;/artifactId&gt;\n  &lt;version&gt;1.42-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt;\n  &lt;/parent&gt;\n\n  &lt;modules&gt;\n    &lt;module&gt;pname-commons&lt;/module&gt;\n  &lt;/modules&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;default&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;modules&gt;\n        &lt;module&gt;pname-external-apis&lt;/module&gt;\n        &lt;module&gt;pname-apis&lt;/module&gt;\n        &lt;module&gt;pname-services&lt;/module&gt;\n        &lt;module&gt;pname-tools&lt;/module&gt;\n        &lt;module&gt;pname-tests&lt;/module&gt;\n      &lt;/modules&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n      &lt;id&gt;pname-tests&lt;/id&gt;\n      &lt;modules&gt;\n        &lt;module&gt;pname-tests&lt;/module&gt;\n      &lt;/modules&gt;\n      &lt;properties&gt;\n        &lt;maven.javadoc.skip&gt;true&lt;/maven.javadoc.skip&gt;\n        &lt;maven.test.skip&gt;true&lt;/maven.test.skip&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n\n\n  &lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n    &lt;build.tag&gt;latest&lt;/build.tag&gt;\n    &lt;dockerfile.push.skip&gt;true&lt;/dockerfile.push.skip&gt;\n    &lt;codechecks.skip&gt;false&lt;/codechecks.skip&gt;\n    &lt;!-- spring-cloud must fit to the base spring-boot version --&gt;\n    &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n\n    &lt;org.mapstruct.version&gt;1.5.3.Final&lt;/org.mapstruct.version&gt;\n    &lt;openapi-webmvc.version&gt;1.6.14&lt;/openapi-webmvc.version&gt;\n    &lt;swagger-annotations.version&gt;2.2.7&lt;/swagger-annotations.version&gt;\n    &lt;logstash-logback-encoder.version&gt;7.2&lt;/logstash-logback-encoder.version&gt;\n    &lt;com.microsoft.sqlserver.version&gt;11.2.2.jre17&lt;/com.microsoft.sqlserver.version&gt;\n    &lt;google.guava.version&gt;31.1-jre&lt;/google.guava.version&gt;\n    &lt;checkstyle-maven-plugin.version&gt;3.2.0&lt;/checkstyle-maven-plugin.version&gt;\n    &lt;com.puppycrawl.tools.checkstyle.version&gt;10.5.0&lt;/com.puppycrawl.tools.checkstyle.version&gt;\n    &lt;sca-rules.version&gt;1.3&lt;/sca-rules.version&gt;\n    &lt;spotbugs-maven-plugin.version&gt;4.7.3.0&lt;/spotbugs-maven-plugin.version&gt;\n    &lt;com.github.spotbugs.version&gt;4.7.3&lt;/com.github.spotbugs.version&gt;\n    &lt;de.comp.security-code-generator.version&gt;1.0.8&lt;/de.comp.security-code-generator.version&gt;\n    &lt;de.comp.kcu.version&gt;1.5.0&lt;/de.comp.kcu.version&gt;\n    &lt;org.testcontainers.mssqlserver.version&gt;1.17.6&lt;/org.testcontainers.mssqlserver.version&gt;\n    &lt;com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;1.34.2&lt;/com.microsoft.azure.sdk.iot.iot-service-client.versions&gt;\n    &lt;com.azure.azure-storage-blob.version&gt;12.14.4&lt;/com.azure.azure-storage-blob.version&gt;\n    &lt;net.javacrumbs.shedlock.shedlock-spring.version&gt;4.43.0&lt;/net.javacrumbs.shedlock.shedlock-spring.version&gt;\n    &lt;joda-time.version&gt;2.12.2&lt;/joda-time.version&gt;\n    &lt;querydsl-apt.version&gt;5.0.0&lt;/querydsl-apt.version&gt;\n    &lt;reproducible-build-maven-plugin.version&gt;0.16&lt;/reproducible-build-maven-plugin.version&gt;\n    &lt;exec-maven-plugin.version&gt;3.1.0&lt;/exec-maven-plugin.version&gt;\n    &lt;commons-io.version&gt;2.11.0&lt;/commons-io.version&gt;\n    &lt;apache.collections.version&gt;4.4&lt;/apache.collections.version&gt;\n    &lt;org.immutables.value.version&gt;2.9.3&lt;/org.immutables.value.version&gt;\n    &lt;com.ibm.icu4j.version&gt;72.1&lt;/com.ibm.icu4j.version&gt;\n    &lt;hamcrest-junit.version&gt;2.0.0.0&lt;/hamcrest-junit.version&gt;\n    &lt;esper.version&gt;8.8.0&lt;/esper.version&gt;\n    &lt;esper-runtime.version&gt;8.8.0&lt;/esper-runtime.version&gt;\n    &lt;esper-common.version&gt;8.8.0&lt;/esper-common.version&gt;\n    &lt;esper-compiler.version&gt;8.8.0&lt;/esper-compiler.version&gt;\n    &lt;dockerfile.maven.version&gt;1.4.13&lt;/dockerfile.maven.version&gt;\n    &lt;apache.commons-text.version&gt;1.10.0&lt;/apache.commons-text.version&gt;\n    &lt;mockserver.version&gt;5.14.0&lt;/mockserver.version&gt;\n    &lt;scala.version&gt;2.13.10&lt;/scala.version&gt;\n  &lt;/properties&gt;\n\n\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;pname&lt;/id&gt;\n      &lt;url&gt;...&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/distributionManagement&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;pname&lt;/id&gt;\n      &lt;url&gt;...&lt;/url&gt;\n      &lt;releases&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n      &lt;/releases&gt;\n      &lt;snapshots&gt;\n        &lt;enabled&gt;true&lt;/enabled&gt;\n      &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n      &lt;id&gt;spring-milestones&lt;/id&gt;\n      &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;pluginRepositories&gt;\n    ...\n  &lt;/pluginRepositories&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n      &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n      &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n      &lt;version&gt;${org.mapstruct.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n          &lt;!--\n           Exluding Sping Data mongodb to avoid CVE-2021-44906 (https://avd.aquasec.com/nvd/2021/cve-2021-44906/)\n           in versions prior to 3.3.5 and 3.4.1\n           --&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-mongodb&lt;/artifactId&gt;\n        &lt;version&gt;3.4.6&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-webmvc-core&lt;/artifactId&gt;\n        &lt;version&gt;${openapi-webmvc.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n        &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${swagger-annotations.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n        &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;${com.microsoft.sqlserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;${google.guava.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;de.comp&lt;/groupId&gt;\n        &lt;artifactId&gt;security-code-generator&lt;/artifactId&gt;\n        &lt;version&gt;${de.comp.security-code-generator.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;de.comp.kcu&lt;/groupId&gt;\n        &lt;artifactId&gt;interfaces&lt;/artifactId&gt;\n        &lt;version&gt;${de.comp.kcu.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n          &lt;!-- we manage our own version of this dependencies --&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jdk8&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n          &lt;exclusion&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n          &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n        &lt;artifactId&gt;mssqlserver&lt;/artifactId&gt;\n        &lt;version&gt;${org.testcontainers.mssqlserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure.sdk.iot&lt;/groupId&gt;\n        &lt;artifactId&gt;iot-service-client&lt;/artifactId&gt;\n        &lt;version&gt;${com.microsoft.azure.sdk.iot.iot-service-client.versions}&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n        &lt;version&gt;${com.azure.azure-storage-blob.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.spotbugs&lt;/groupId&gt;\n        &lt;artifactId&gt;spotbugs-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${com.github.spotbugs.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n        &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n        &lt;version&gt;${com.ibm.icu4j.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n        &lt;version&gt;${apache.collections.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n        &lt;version&gt;${apache.commons-text.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\n        &lt;artifactId&gt;value&lt;/artifactId&gt;\n        &lt;version&gt;${org.immutables.value.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-junit&lt;/artifactId&gt;\n        &lt;version&gt;${hamcrest-junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper&lt;/artifactId&gt;\n        &lt;version&gt;${esper.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper-common&lt;/artifactId&gt;\n        &lt;version&gt;${esper-common.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper-compiler&lt;/artifactId&gt;\n        &lt;version&gt;${esper-compiler.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.espertech&lt;/groupId&gt;\n        &lt;artifactId&gt;esper-runtime&lt;/artifactId&gt;\n        &lt;version&gt;${esper-runtime.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n        &lt;artifactId&gt;mockserver-core&lt;/artifactId&gt;\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.mock-server&lt;/groupId&gt;\n        &lt;artifactId&gt;mockserver-client-java&lt;/artifactId&gt;\n        &lt;version&gt;${mockserver.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-spring&lt;/artifactId&gt;\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;net.javacrumbs.shedlock&lt;/groupId&gt;\n        &lt;artifactId&gt;shedlock-provider-jdbc-template&lt;/artifactId&gt;\n        &lt;version&gt;${net.javacrumbs.shedlock.shedlock-spring.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!-- start\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\n          spring-cloud-stream-binder-kafka:3.25\n      --&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n        &lt;version&gt;${scala.version}&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;!-- end\n          Rise Scala version for &quot;CVE-2022-31692&quot; transient dependency of\n          spring-cloud-stream-binder-kafka:3.25\n      --&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addClasspath&gt;false&lt;/addClasspath&gt;\n                    &lt;/manifest&gt;\n                    &lt;addMavenDescriptor&gt;false&lt;/addMavenDescriptor&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\n            &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${reproducible-build-maven-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;strip-jar&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;com.spotify&lt;/groupId&gt;\n          &lt;artifactId&gt;dockerfile-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${dockerfile.maven.version}&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;build-tag-latest&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;build&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;id&gt;tag-version&lt;/id&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;tag&lt;/goal&gt;\n              &lt;/goals&gt;\n              &lt;configuration&gt;\n                &lt;tag&gt;${build.tag}&lt;/tag&gt;\n              &lt;/configuration&gt;\n            &lt;/execution&gt;\n            &lt;execution&gt;\n              &lt;phase&gt;package&lt;/phase&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;push&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n          &lt;configuration&gt;\n            ...\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;io.github.zlika&lt;/groupId&gt;\n        &lt;artifactId&gt;reproducible-build-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","slf4j","findbugs"],"comments":[{"owner":{"account_id":107532,"reputation":36152,"user_id":285873,"accept_rate":91,"display_name":"David Harkness"},"score":0,"creation_date":1357933260,"post_id":10896425,"comment_id":19836894,"body_markdown":"Suggestion: Use `SuppressFBWarnings` so you can import it as you would any other class instead of using the fully-qualified name.","body":"Suggestion: Use <code>SuppressFBWarnings</code> so you can import it as you would any other class instead of using the fully-qualified name."}],"answers":[{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1338896026,"creation_date":1338895671,"answer_id":10896479,"question_id":10896425,"body_markdown":"Just list all the warning identifiers in an array, within a single annotation:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings({\r\n            &quot;MS_SHOULD_BE_FINAL&quot;, \r\n            &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;})\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;\r\n\r\nJust as for the standard `java.lang.SuppressWarnings`, the FindBugs version also [has a parameter of type `String[]`][1]. For a single value, the curly braces can be omitted though to make life easier.\r\n\r\n\r\n  [1]: http://findbugs.sourceforge.net/api/edu/umd/cs/findbugs/annotations/SuppressWarnings.html#value%28%29","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>Just list all the warning identifiers in an array, within a single annotation:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings({\n        \"MS_SHOULD_BE_FINAL\", \n        \"URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD\"})\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n\n<p>Just as for the standard <code>java.lang.SuppressWarnings</code>, the FindBugs version also <a href=\"http://findbugs.sourceforge.net/api/edu/umd/cs/findbugs/annotations/SuppressWarnings.html#value%28%29\" rel=\"noreferrer\">has a parameter of type <code>String[]</code></a>. For a single value, the curly braces can be omitted though to make life easier.</p>\n"},{"tags":[],"owner":{"account_id":1542591,"reputation":1787,"user_id":1436874,"accept_rate":100,"display_name":"Eduardo Sanchez-Ros"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338895743,"creation_date":1338895743,"answer_id":10896494,"question_id":10896425,"body_markdown":"Try this:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings({&quot;MS_SHOULD_BE_FINAL&quot; , &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;})\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>Try this:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings({\"MS_SHOULD_BE_FINAL\" , \"URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD\"})\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1748125,"reputation":4230,"user_id":1597838,"accept_rate":82,"display_name":"Mawia"},"score":2,"creation_date":1576043799,"post_id":47782682,"comment_id":104765855,"body_markdown":"justification=&quot;let me just make the build pass&quot;    I like this :)","body":"justification=&quot;let me just make the build pass&quot;    I like this :)"}],"tags":[],"owner":{"account_id":246417,"reputation":17570,"user_id":520567,"accept_rate":71,"display_name":"akostadinov"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1513118203,"creation_date":1513118203,"answer_id":47782682,"question_id":10896425,"body_markdown":"FindBugs 3+ style:\r\n\r\n      @SuppressFBWarnings(\r\n        value={&quot;NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE&quot;,&quot;STCAL_INVOKE_ON_STATIC_DATE_FORMAT_INSTANCE&quot;},\r\n        justification=&quot;let me just make the build pass&quot;)\r\n\r\n","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>FindBugs 3+ style:</p>\n\n<pre><code>  @SuppressFBWarnings(\n    value={\"NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE\",\"STCAL_INVOKE_ON_STATIC_DATE_FORMAT_INSTANCE\"},\n    justification=\"let me just make the build pass\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696453926,"creation_date":1696453926,"answer_id":77233008,"question_id":10896425,"body_markdown":"In case you got here in search of a solution for **Kotlin**:\r\nThere the curly braces do not work. The compiler will complain with\r\n\r\n&gt;Unexpected tokens (use &#39;;&#39; to separate expressions on the same line)\r\n\r\nAnd what actually does work is:\r\n\r\n    @SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;, &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;)","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>In case you got here in search of a solution for <strong>Kotlin</strong>:\nThere the curly braces do not work. The compiler will complain with</p>\n<blockquote>\n<p>Unexpected tokens (use ';' to separate expressions on the same line)</p>\n</blockquote>\n<p>And what actually does work is:</p>\n<pre><code>@SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;, &quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;)\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19108,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":10896479,"answer_count":4,"score":20,"last_activity_date":1696453926,"creation_date":1338895490,"question_id":10896425,"body_markdown":"I recently discovered FindBugs&#39; `@edu.umd.cs.findbugs.annotations.SuppressWarnings` annotation which is pretty cool and allows you to basically tell FindBugs to ignore certain warnings.\r\n\r\nI&#39;ve successfully implemented my own SLF4J binding by following their recommendations to take `slf4j-simple` and modify it with your own logger and logger factory bindings, and I&#39;m pleased to say it works like a charm.\r\n\r\nI just ran find bugs on the package that contains this SLF4J binding and it is complaining about a certain line of code written by the original `StaticLoggerBinder` author (Ceki Gulku):\r\n\r\n    // to avoid constant folding by the compiler, this field must *not* be final.\r\n    publicstatic String REQUESTED_API_VERSION = &quot;1.6&quot;; // !final\r\n\r\nFindBugs complains that this field &quot;**isn&#39;t final but it should be**&quot;. However, the (very) smart people over at SLF4J already thought of that, and placed the surrounding comments provided above.\r\n\r\nSo, just to get FindBugs to shut up, I&#39;ve modified the code per my usual way of suppressing FB warnings:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;)\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;\r\n\r\nWhen I clean my project and re-run FindBugs, I get a *second* warning on the same line of code, this time complaining:\r\n\r\n&gt; This field is never read.  The field is public or protected, so perhaps it is intended to be used with classes not seen as part of the analysis. If not, consider removing it from the class.\r\n\r\nWhen I add this second warning suppression:\r\n\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;MS_SHOULD_BE_FINAL&quot;)\r\n    @edu.umd.cs.findbugs.annotations.SuppressWarnings(&quot;URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD&quot;)\r\n    public static String REQUESTED_API_VERSION = &quot;1.6&quot;;\r\n\r\n\r\nI get a compiler/syntax error from Eclipse:\r\n\r\n&gt; Duplicate annotation @SuppressWarnings.\r\n\r\n**How can I suppress multiple FindBugs warnings on the same line of code?**","title":"How to suppress multiple FindBugs warnings for the same line of code","body":"<p>I recently discovered FindBugs' <code>@edu.umd.cs.findbugs.annotations.SuppressWarnings</code> annotation which is pretty cool and allows you to basically tell FindBugs to ignore certain warnings.</p>\n\n<p>I've successfully implemented my own SLF4J binding by following their recommendations to take <code>slf4j-simple</code> and modify it with your own logger and logger factory bindings, and I'm pleased to say it works like a charm.</p>\n\n<p>I just ran find bugs on the package that contains this SLF4J binding and it is complaining about a certain line of code written by the original <code>StaticLoggerBinder</code> author (Ceki Gulku):</p>\n\n<pre><code>// to avoid constant folding by the compiler, this field must *not* be final.\npublicstatic String REQUESTED_API_VERSION = \"1.6\"; // !final\n</code></pre>\n\n<p>FindBugs complains that this field \"<strong>isn't final but it should be</strong>\". However, the (very) smart people over at SLF4J already thought of that, and placed the surrounding comments provided above.</p>\n\n<p>So, just to get FindBugs to shut up, I've modified the code per my usual way of suppressing FB warnings:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings(\"MS_SHOULD_BE_FINAL\")\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n\n<p>When I clean my project and re-run FindBugs, I get a <em>second</em> warning on the same line of code, this time complaining:</p>\n\n<blockquote>\n  <p>This field is never read.  The field is public or protected, so perhaps it is intended to be used with classes not seen as part of the analysis. If not, consider removing it from the class.</p>\n</blockquote>\n\n<p>When I add this second warning suppression:</p>\n\n<pre><code>@edu.umd.cs.findbugs.annotations.SuppressWarnings(\"MS_SHOULD_BE_FINAL\")\n@edu.umd.cs.findbugs.annotations.SuppressWarnings(\"URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD\")\npublic static String REQUESTED_API_VERSION = \"1.6\";\n</code></pre>\n\n<p>I get a compiler/syntax error from Eclipse:</p>\n\n<blockquote>\n  <p>Duplicate annotation @SuppressWarnings.</p>\n</blockquote>\n\n<p><strong>How can I suppress multiple FindBugs warnings on the same line of code?</strong></p>\n"},{"tags":["java","eclipse","annotations","eclipse-indigo","suppress-warnings"],"comments":[{"owner":{"account_id":314278,"reputation":93,"user_id":629365,"display_name":"Raj"},"score":0,"creation_date":1490371722,"post_id":13070260,"comment_id":73097728,"body_markdown":"@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; ) does not work please modify it to @SuppressWarnings( { &quot;unused&quot;, &quot;unchecked&quot; })","body":"@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; ) does not work please modify it to @SuppressWarnings( { &quot;unused&quot;, &quot;unchecked&quot; })"}],"answers":[{"comments":[{"owner":{"account_id":224046,"reputation":6058,"user_id":483616,"accept_rate":81,"display_name":"knownasilya"},"score":0,"creation_date":1351174613,"post_id":13070336,"comment_id":17754530,"body_markdown":"Is this the normal convention for all annotations in Eclipse?","body":"Is this the normal convention for all annotations in Eclipse?"},{"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"score":1,"creation_date":1351175099,"post_id":13070336,"comment_id":17754815,"body_markdown":"No. This is for a list parameter. When using an SDK to run Eclipse (or when having the Java sources attached), you can simply hit F3 on any annotation to see its source declaration, thereby also seeing how many (and which) parameters it needs.","body":"No. This is for a list parameter. When using an SDK to run Eclipse (or when having the Java sources attached), you can simply hit F3 on any annotation to see its source declaration, thereby also seeing how many (and which) parameters it needs."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":8,"creation_date":1407253219,"post_id":13070336,"comment_id":39137918,"body_markdown":"That would be an array, as in `String[] value()`. Lists don&#39;t have special syntax in Java, but arrays can be defined using braces.","body":"That would be an array, as in <code>String[] value()</code>. Lists don&#39;t have special syntax in Java, but arrays can be defined using braces."}],"tags":[],"owner":{"account_id":1561716,"reputation":4947,"user_id":1451449,"accept_rate":33,"display_name":"LuGo"},"comment_count":3,"down_vote_count":0,"up_vote_count":348,"is_accepted":true,"score":348,"last_activity_date":1351173723,"creation_date":1351173723,"answer_id":13070336,"question_id":13070260,"body_markdown":"Use the following:\r\n`@SuppressWarnings({&quot;unused&quot;, &quot;unchecked&quot;})`","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>Use the following:\n<code>@SuppressWarnings({\"unused\", \"unchecked\"})</code></p>\n"},{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1475221112,"creation_date":1467886949,"answer_id":38243067,"question_id":13070260,"body_markdown":"If you take a look inside the annotation you will see this:\r\n\r\n    public @interface SuppressWarnings {\r\n        String[] value();\r\n    }\r\n\r\nas you see, the **value** parameter is an array of Strings...\r\nso the parameter in the annotation can be:\r\n**value1, value2 or value3**  where \r\n\r\n    final String[] value1 = { &quot;a1&quot; };\r\n    final String[] value2 = { &quot;a1&quot;, &quot;a2&quot; };\r\n    final String[] value3 = { &quot;a1&quot;, &quot;a2&quot;, &quot;a3&quot; };\r\n\r\n\r\ni.e.:\r\n\r\n    @SuppressWarnings({&quot;unused&quot;})\r\n    @SuppressWarnings({&quot;unused&quot;, &quot;javadoc&quot;})\r\n\r\nyou can oft see something like\r\n\r\n    @SuppressWarnings(&quot;unused&quot;) \r\nand this is a particular case allowing one element wit no &quot;**{ }**&quot;\r\n\r\n","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>If you take a look inside the annotation you will see this:</p>\n\n<pre><code>public @interface SuppressWarnings {\n    String[] value();\n}\n</code></pre>\n\n<p>as you see, the <strong>value</strong> parameter is an array of Strings...\nso the parameter in the annotation can be:\n<strong>value1, value2 or value3</strong>  where </p>\n\n<pre><code>final String[] value1 = { \"a1\" };\nfinal String[] value2 = { \"a1\", \"a2\" };\nfinal String[] value3 = { \"a1\", \"a2\", \"a3\" };\n</code></pre>\n\n<p>i.e.:</p>\n\n<pre><code>@SuppressWarnings({\"unused\"})\n@SuppressWarnings({\"unused\", \"javadoc\"})\n</code></pre>\n\n<p>you can oft see something like</p>\n\n<pre><code>@SuppressWarnings(\"unused\") \n</code></pre>\n\n<p>and this is a particular case allowing one element wit no \"<strong>{ }</strong>\"</p>\n"},{"tags":[],"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696453685,"creation_date":1696453685,"answer_id":77232987,"question_id":13070260,"body_markdown":"I know the question is originally regarding Java but I got here searching for a soltion for **Kotlin**.\r\nThere the curly braces solution does not work. The compiler will complain with\r\n\r\n&gt;Unexpected tokens (use &#39;;&#39; to separate expressions on the same line)\r\n\r\nAnd what actually does work in Kotlin is:\r\n\r\n    @SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>I know the question is originally regarding Java but I got here searching for a soltion for <strong>Kotlin</strong>.\nThere the curly braces solution does not work. The compiler will complain with</p>\n<blockquote>\n<p>Unexpected tokens (use ';' to separate expressions on the same line)</p>\n</blockquote>\n<p>And what actually does work in Kotlin is:</p>\n<pre><code>@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )\n</code></pre>\n"}],"owner":{"account_id":224046,"reputation":6058,"user_id":483616,"accept_rate":81,"display_name":"knownasilya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67131,"favorite_count":0,"down_vote_count":0,"up_vote_count":169,"accepted_answer_id":13070336,"answer_count":3,"score":169,"last_activity_date":1696453685,"creation_date":1351173523,"question_id":13070260,"body_markdown":"So the issue is being able to combine multple warning suppressions so that each item doesn&#39;t need its own `@SuppressWarnings` annotation.\r\n\r\nSo for example:\r\n\r\n    public class Example\r\n        public Example() {\r\n            GO go = new GO();  // unused\r\n            ....\r\n            List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked\r\n        }\r\n        ...\r\n        // getters/setters/other methods\r\n    }\r\n\r\nNow instead of having two `@SuppressWarnings` I want to have one at the class level for those two warnings, so like this:\r\n\r\n    @SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )\r\n    public class Example\r\n        public Example() {\r\n            GO go = new GO();  // unused - suppressed\r\n            ....\r\n            List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked - suppressed\r\n        }\r\n        ...\r\n        // getters/setters/other methods\r\n    }\r\n\r\nBut that is not a valid syntax, is there a way to do this?\r\n\r\n\r\n      \r\n        \r\n\r\n ","title":"Combining multiple @SuppressWarnings annotations - Eclipse Indigo","body":"<p>So the issue is being able to combine multple warning suppressions so that each item doesn't need its own <code>@SuppressWarnings</code> annotation.</p>\n<p>So for example:</p>\n<pre><code>public class Example\n    public Example() {\n        GO go = new GO();  // unused\n        ....\n        List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked\n    }\n    ...\n    // getters/setters/other methods\n}\n</code></pre>\n<p>Now instead of having two <code>@SuppressWarnings</code> I want to have one at the class level for those two warnings, so like this:</p>\n<pre><code>@SuppressWarnings( &quot;unused&quot;, &quot;unchecked&quot; )\npublic class Example\n    public Example() {\n        GO go = new GO();  // unused - suppressed\n        ....\n        List&lt;String&gt; list = ( List&lt;String&gt; ) go.getList(); // unchecked - suppressed\n    }\n    ...\n    // getters/setters/other methods\n}\n</code></pre>\n<p>But that is not a valid syntax, is there a way to do this?</p>\n"},{"tags":["java","string","methods","immutability"],"comments":[{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":2,"creation_date":1696447822,"post_id":77232436,"comment_id":136155790,"body_markdown":"Return `res` from the method instead.","body":"Return <code>res</code> from the method instead."}],"owner":{"account_id":28921402,"reputation":1,"user_id":22152270,"display_name":"Allalilacias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696447832,"answer_count":0,"score":0,"last_activity_date":1696453235,"creation_date":1696447581,"question_id":77232436,"body_markdown":"I am currently learning Java, but am having issues understanding how to use a method to modify the object a string variable points towards.\r\n\r\nI am working on making a code to return the bigger and smaller number of an array and to notify if there&#39;re any duplicates. This could be easily achievable with an if/else, I am aware, but that won&#39;t help me learn much, as the only thing that allows it is the small size of the array list of the exercise.\r\n\r\nThe code inside the GestionarNumeros() method works perfectly fine if I use it inside the main class, but won&#39;t work if I create a method with it and then execute it. I know that ```string```s are immutable, but I am unsure of how to or if it&#39;s even possible to make the code work with a method. I&#39;d appreciate any help or pointing towards the place where the information I need could be found.\r\n\r\nI&#39;ll leave my code below:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\tArrayList&lt;Integer&gt; numeros = new ArrayList&lt;Integer&gt;();\r\n\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\tString res = &quot;&quot;;\r\n\t\t\r\n\ta&#241;adirNumeros(sc,numeros);\r\n\tCollections.sort(numeros);\r\n\tGestionarNumeros(numeros,res);\r\n\tSystem.out.println(res);\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void a&#241;adirNumeros (Scanner sc, ArrayList&lt;Integer&gt; numeros) {\r\n\t\twhile (numeros.size() &lt; 3) {\r\n\t\tSystem.out.println(&quot;Introduzca n&#250;mero:&quot;);\r\n\t\tint num = sc.nextInt();\r\n\t\tnumeros.add(num);\r\n\t\t\t}\r\n\t\t}\r\n\tpublic static void GestionarNumeros (ArrayList&lt;Integer&gt; numeros, String res) {\r\n\t\tres = &quot;El n&#250;mero m&#225;s peque&#241;o es el &quot; + numeros.get(0) + &quot;.&quot;\r\n\t\t\t+ &quot;\\nEl n&#250;mero m&#225;s grande es el &quot; + numeros.get(2) + &quot;.&quot;\r\n\t\t\t+ &quot;\\nDuplicados: &quot;;\r\n\t\tfor(int a = 0; a &lt; numeros.size(); a++) {  \r\n            for(int b = a + 1; b &lt; numeros.size(); b++) {  \r\n                if(numeros.get(a) == numeros.get(b)) {  \r\n                   res = res + &quot; &quot; + numeros.get(b) + &quot;.&quot;;\r\n                \t}\r\n            \t}\r\n\t \t\t}\r\n\t\t}\r\n```","title":"Unable to modify String variable through method in Java","body":"<p>I am currently learning Java, but am having issues understanding how to use a method to modify the object a string variable points towards.</p>\n<p>I am working on making a code to return the bigger and smaller number of an array and to notify if there're any duplicates. This could be easily achievable with an if/else, I am aware, but that won't help me learn much, as the only thing that allows it is the small size of the array list of the exercise.</p>\n<p>The code inside the GestionarNumeros() method works perfectly fine if I use it inside the main class, but won't work if I create a method with it and then execute it. I know that <code>string</code>s are immutable, but I am unsure of how to or if it's even possible to make the code work with a method. I'd appreciate any help or pointing towards the place where the information I need could be found.</p>\n<p>I'll leave my code below:</p>\n<pre><code>public static void main(String[] args) {\n\n    ArrayList&lt;Integer&gt; numeros = new ArrayList&lt;Integer&gt;();\n    Scanner sc = new Scanner(System.in);\n        \n    String res = &quot;&quot;;\n        \n    añadirNumeros(sc,numeros);\n    Collections.sort(numeros);\n    GestionarNumeros(numeros,res);\n    System.out.println(res);\n        \n    }\n\n    public static void añadirNumeros (Scanner sc, ArrayList&lt;Integer&gt; numeros) {\n        while (numeros.size() &lt; 3) {\n        System.out.println(&quot;Introduzca número:&quot;);\n        int num = sc.nextInt();\n        numeros.add(num);\n            }\n        }\n    public static void GestionarNumeros (ArrayList&lt;Integer&gt; numeros, String res) {\n        res = &quot;El número más pequeño es el &quot; + numeros.get(0) + &quot;.&quot;\n            + &quot;\\nEl número más grande es el &quot; + numeros.get(2) + &quot;.&quot;\n            + &quot;\\nDuplicados: &quot;;\n        for(int a = 0; a &lt; numeros.size(); a++) {  \n            for(int b = a + 1; b &lt; numeros.size(); b++) {  \n                if(numeros.get(a) == numeros.get(b)) {  \n                   res = res + &quot; &quot; + numeros.get(b) + &quot;.&quot;;\n                    }\n                }\n            }\n        }\n</code></pre>\n"},{"tags":["java","git","githooks","pre-commit-hook"],"answers":[{"tags":[],"owner":{"account_id":17072,"reputation":46055,"user_id":37843,"accept_rate":96,"display_name":"Alan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352186831,"creation_date":1352186831,"answer_id":13246332,"question_id":13246291,"body_markdown":"You can write the hook in any language that can be understood by the shell, with the properly configured interpreter (bash, python, perl) etc.\r\n\r\nBut, why not write your java code formatter in java, and invoke it from the pre-commit hook.","title":"Write pre-commit hook in java?","body":"<p>You can write the hook in any language that can be understood by the shell, with the properly configured interpreter (bash, python, perl) etc.</p>\n\n<p>But, why not write your java code formatter in java, and invoke it from the pre-commit hook.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1352187689,"creation_date":1352187689,"answer_id":13246513,"question_id":13246291,"body_markdown":"The idea is to call a script which in turns call your java program (checking the format).  \r\n\r\nYou can [see here an example written in python][1], which calls java.\r\n\r\n    try:\r\n        # call checkstyle and print output\r\n        print call([&#39;java&#39;, &#39;-jar&#39;, checkstyle, &#39;-c&#39;, checkstyle_config, &#39;-r&#39;, tempdir])\r\n    except subprocess.CalledProcessError, ex:\r\n        print ex.output  # print checkstyle messages\r\n        exit(1)\r\n    finally:\r\n        # remove temporary directory\r\n        shutil.rmtree(tempdir)\r\n\r\nThis [other example calls directly `ant`][2], in order to execute an ant script (which in turns call a Java JUnit test suite)\r\n\r\n    #!/bin/sh\r\n     \r\n    # Run the test suite.\r\n    # It will exit with 0 if it everything compiled and tested fine.\r\n    ant test\r\n    if [ $? -eq 0 ]; then\r\n      exit 0\r\n    else\r\n      echo &quot;Building your project or running the tests failed.&quot;\r\n      echo &quot;Aborting the commit. Run with --no-verify to ignore.&quot;\r\n      exit 1\r\n    fi\r\n\r\n\r\n  [1]: http://bluec0re.blogspot.fr/2012/05/git-pre-receive-hook-with-checkstyle.html\r\n  [2]: http://bbgen.net/blog/2011/06/junit-git-hooks/\r\n","title":"Write pre-commit hook in java?","body":"<p>The idea is to call a script which in turns call your java program (checking the format).  </p>\n\n<p>You can <a href=\"http://bluec0re.blogspot.fr/2012/05/git-pre-receive-hook-with-checkstyle.html\" rel=\"noreferrer\">see here an example written in python</a>, which calls java.</p>\n\n<pre><code>try:\n    # call checkstyle and print output\n    print call(['java', '-jar', checkstyle, '-c', checkstyle_config, '-r', tempdir])\nexcept subprocess.CalledProcessError, ex:\n    print ex.output  # print checkstyle messages\n    exit(1)\nfinally:\n    # remove temporary directory\n    shutil.rmtree(tempdir)\n</code></pre>\n\n<p>This <a href=\"http://bbgen.net/blog/2011/06/junit-git-hooks/\" rel=\"noreferrer\">other example calls directly <code>ant</code></a>, in order to execute an ant script (which in turns call a Java JUnit test suite)</p>\n\n<pre><code>#!/bin/sh\n\n# Run the test suite.\n# It will exit with 0 if it everything compiled and tested fine.\nant test\nif [ $? -eq 0 ]; then\n  exit 0\nelse\n  echo \"Building your project or running the tests failed.\"\n  echo \"Aborting the commit. Run with --no-verify to ignore.\"\n  exit 1\nfi\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"score":0,"creation_date":1652006191,"post_id":61899256,"comment_id":127496696,"body_markdown":"I have updated the answer because it appears there has been some confusion. Shebangs are a Unix feature.","body":"I have updated the answer because it appears there has been some confusion. Shebangs are a Unix feature."}],"tags":[],"owner":{"account_id":2510282,"reputation":12462,"user_id":2182928,"accept_rate":97,"display_name":"Rudi Kershaw"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1652007062,"creation_date":1589916743,"answer_id":61899256,"question_id":13246291,"body_markdown":"As of Java 11, you can now run un-compiled main class files using the java command.\r\n    \r\n    $ java Hook.java\r\n\r\nIf you are using a Unix based operating system (MacOS or Linux for example), you can strip off the `.java` and add a shebang to the top line like so:\r\n\r\n    #!/your/path/to/bin/java --source 11\r\n    public class Hook {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;No committing please.&quot;);\r\n            System.exit(1);\r\n        }\r\n    } \r\n\r\nthen you can simply execute it the same way you would with any other script file.\r\n\r\n    $ ./Hook\r\n\r\nIf you rename the file `pre-commit`, and then move it into your `.git/hooks` directory, you now have a working Java Git Hook.\r\n\r\n&gt; Note: You may be able to get this to work on Windows using Cygwin or\r\n&gt; Git Bash or similar terminal emulators. However, shebangs do not\r\n&gt; handle spaces well. I tested that this works by moving a copy of java into a directory without spaces and it works fine.","title":"Write pre-commit hook in java?","body":"<p>As of Java 11, you can now run un-compiled main class files using the java command.</p>\n<pre><code>$ java Hook.java\n</code></pre>\n<p>If you are using a Unix based operating system (MacOS or Linux for example), you can strip off the <code>.java</code> and add a shebang to the top line like so:</p>\n<pre><code>#!/your/path/to/bin/java --source 11\npublic class Hook {\n    public static void main(String[] args) {\n        System.out.println(&quot;No committing please.&quot;);\n        System.exit(1);\n    }\n} \n</code></pre>\n<p>then you can simply execute it the same way you would with any other script file.</p>\n<pre><code>$ ./Hook\n</code></pre>\n<p>If you rename the file <code>pre-commit</code>, and then move it into your <code>.git/hooks</code> directory, you now have a working Java Git Hook.</p>\n<blockquote>\n<p>Note: You may be able to get this to work on Windows using Cygwin or\nGit Bash or similar terminal emulators. However, shebangs do not\nhandle spaces well. I tested that this works by moving a copy of java into a directory without spaces and it works fine.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"score":0,"creation_date":1651726232,"post_id":71626361,"comment_id":127432513,"body_markdown":"`exec` would prevent further commands (if for example `git add` is needed to commit some changes)","body":"<code>exec</code> would prevent further commands (if for example <code>git add</code> is needed to commit some changes)"}],"tags":[],"owner":{"account_id":14238374,"reputation":49,"user_id":10285544,"display_name":"WinDnDusT"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648282451,"creation_date":1648282451,"answer_id":71626361,"question_id":13246291,"body_markdown":"Yes, you can write a git hook in java. \r\n## Attempted solution ##\r\nI attempted Rudi&#39;s solution for my commit-msg hook:\r\n\r\n*commit-msg file*\r\n\r\n    #!C:/Progra~1/Java/jdk-17.0.1/bin/java.exe --source 17\r\n    #Using Progra~1 to represent &quot;Program Files&quot; as escaping the space\r\n    #or surrounding the path in double quotes didn&#39;t work for me.\r\n    public class Hook {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;No committing please.&quot;);\r\n            System.exit(1);\r\n        }\r\n    }\r\n\r\nBut I received this error message and had difficulty troubleshooting\r\n\r\n    $ git commit -m &quot;Message&quot;\r\n    Error: Could not find or load main class .git.hooks.commit-msg\r\n    Caused by: java.lang.ClassNotFoundException: /git/hooks/commit-msg\r\n\r\n## Solution that worked for me ##\r\nThen I found a source that outlines another way.\r\n\r\nhttps://dev.to/awwsmm/eliminate-unnecessary-builds-with-git-hooks-in-bash-java-and-scala-517n#writing-a-git-hook-in-java\r\n\r\nThe commit-msg hook looks like this\r\n\r\n    #!bin/sh\r\n    DIR=$(dirname &quot;$0&quot;)\r\n    exec java $DIR/commit-msg.java &quot;$@&quot;\r\n\r\nThis saves the current directory (.git/hooks) of the git commit command to a variable to help build the path to the java file.\r\nThen the shell executes the java command with the path to the java file and an argument holding the path to the COMMIT_EDITMSG file.\r\n\r\nThen you can move the Hook class defined above into its own java file (in this case commit-msg.java) and put it in the .git/hooks directory.\r\n\r\nNow you can run git commit -m &quot;Message&quot; and the commit-msg hook will block the commit","title":"Write pre-commit hook in java?","body":"<p>Yes, you can write a git hook in java.</p>\n<h2>Attempted solution</h2>\n<p>I attempted Rudi's solution for my commit-msg hook:</p>\n<p><em>commit-msg file</em></p>\n<pre><code>#!C:/Progra~1/Java/jdk-17.0.1/bin/java.exe --source 17\n#Using Progra~1 to represent &quot;Program Files&quot; as escaping the space\n#or surrounding the path in double quotes didn't work for me.\npublic class Hook {\n    public static void main(String[] args) {\n        System.out.println(&quot;No committing please.&quot;);\n        System.exit(1);\n    }\n}\n</code></pre>\n<p>But I received this error message and had difficulty troubleshooting</p>\n<pre><code>$ git commit -m &quot;Message&quot;\nError: Could not find or load main class .git.hooks.commit-msg\nCaused by: java.lang.ClassNotFoundException: /git/hooks/commit-msg\n</code></pre>\n<h2>Solution that worked for me</h2>\n<p>Then I found a source that outlines another way.</p>\n<p><a href=\"https://dev.to/awwsmm/eliminate-unnecessary-builds-with-git-hooks-in-bash-java-and-scala-517n#writing-a-git-hook-in-java\" rel=\"nofollow noreferrer\">https://dev.to/awwsmm/eliminate-unnecessary-builds-with-git-hooks-in-bash-java-and-scala-517n#writing-a-git-hook-in-java</a></p>\n<p>The commit-msg hook looks like this</p>\n<pre><code>#!bin/sh\nDIR=$(dirname &quot;$0&quot;)\nexec java $DIR/commit-msg.java &quot;$@&quot;\n</code></pre>\n<p>This saves the current directory (.git/hooks) of the git commit command to a variable to help build the path to the java file.\nThen the shell executes the java command with the path to the java file and an argument holding the path to the COMMIT_EDITMSG file.</p>\n<p>Then you can move the Hook class defined above into its own java file (in this case commit-msg.java) and put it in the .git/hooks directory.</p>\n<p>Now you can run git commit -m &quot;Message&quot; and the commit-msg hook will block the commit</p>\n"}],"owner":{"account_id":1509096,"reputation":975,"user_id":1411653,"accept_rate":93,"display_name":"Jeewantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14982,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":13246513,"answer_count":4,"score":11,"last_activity_date":1696452947,"creation_date":1352186633,"question_id":13246291,"body_markdown":"I need to write a Git pre commit hook in Java, which would check if the code commited by the developer is formatted according to a specific **eclipse code formatter** before actually commiting it, otherwise reject it from commiting. Is it possible to write the pre commit hook in Java?  ","title":"Write pre-commit hook in java?","body":"<p>I need to write a Git pre commit hook in Java, which would check if the code commited by the developer is formatted according to a specific <strong>eclipse code formatter</strong> before actually commiting it, otherwise reject it from commiting. Is it possible to write the pre commit hook in Java?  </p>\n"},{"tags":["java","unicode","diacritics","transliteration"],"comments":[{"owner":{"account_id":25246,"reputation":47609,"user_id":64767,"accept_rate":52,"display_name":"Thorarin"},"score":0,"creation_date":1253517091,"post_id":1453171,"comment_id":1300454,"body_markdown":"It depends on what environment you&#39;re programming in, though you&#39;ll probably have to maintain some sort of mapping table manually. So, which language are you using?","body":"It depends on what environment you&#39;re programming in, though you&#39;ll probably have to maintain some sort of mapping table manually. So, which language are you using?"},{"owner":{"account_id":81330,"reputation":2317,"user_id":229414,"accept_rate":54,"display_name":"Eduardo"},"score":15,"creation_date":1291836867,"post_id":1453171,"comment_id":4785749,"body_markdown":"Please beware that some letters like &#241; http://en.wikipedia.org/wiki/%C3%91 should not be stripped its diacritics for searching purposes. Google correctly differentiates between Spanish &quot;ano&quot;(anus) and &quot;a&#241;o&quot;(year). So if you really want a good search engine you cannot rely on basic diacritical mark removal.","body":"Please beware that some letters like &#241; <a href=\"http://en.wikipedia.org/wiki/%C3%91\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/%C3%91</a> should not be stripped its diacritics for searching purposes. Google correctly differentiates between Spanish &quot;ano&quot;(anus) and &quot;a&#241;o&quot;(year). So if you really want a good search engine you cannot rely on basic diacritical mark removal."},{"owner":{"account_id":421872,"reputation":8957,"user_id":800334,"accept_rate":90,"display_name":"Amir Abiri"},"score":1,"creation_date":1342517838,"post_id":1453171,"comment_id":15224670,"body_markdown":"@Eduardo: In a given context that might not matter. Using the example the OP gave, searching for a person&#39;s name in a multi-national context you actually want the search not to be too accurate.","body":"@Eduardo: In a given context that might not matter. Using the example the OP gave, searching for a person&#39;s name in a multi-national context you actually want the search not to be too accurate."},{"owner":{"account_id":421872,"reputation":8957,"user_id":800334,"accept_rate":90,"display_name":"Amir Abiri"},"score":0,"creation_date":1342518231,"post_id":1453171,"comment_id":15224845,"body_markdown":"(Accidentally sent previous)\nThere is room though for mapping diacritics to their phonetic equivalents to improve phonetic searching. i.e &#241; =&gt; ni will yield better results if the underlying search engine supports phonetic-based (e.g soundex) searching","body":"(Accidentally sent previous) There is room though for mapping diacritics to their phonetic equivalents to improve phonetic searching. i.e &#241; =&gt; ni will yield better results if the underlying search engine supports phonetic-based (e.g soundex) searching"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1351951143,"post_id":1453171,"comment_id":17986929,"body_markdown":"A use case where changing a&#241;o to ano etc. is stripping non-base64 chars for URLs, IDs etc.","body":"A use case where changing a&#241;o to ano etc. is stripping non-base64 chars for URLs, IDs etc."},{"owner":{"account_id":8015485,"reputation":135,"user_id":6052175,"display_name":"Guilherme Guini"},"score":0,"creation_date":1550754728,"post_id":1453171,"comment_id":96392211,"body_markdown":"StringUtils from lib apache.commons has method stripAccents, and it&#39;s work very well.\nhttps://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","body":"StringUtils from lib apache.commons has method stripAccents, and it&#39;s work very well. <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/apidocs/org/apache/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":25246,"reputation":47609,"user_id":64767,"accept_rate":52,"display_name":"Thorarin"},"score":2,"creation_date":1253517225,"post_id":1453185,"comment_id":1300462,"body_markdown":"This is the method I use in .NET, though I still have to map some characters manually. They&#39;re not diacritics, but digraphs. Similar problem though.","body":"This is the method I use in .NET, though I still have to map some characters manually. They&#39;re not diacritics, but digraphs. Similar problem though."},{"owner":{"account_id":26013,"reputation":107301,"user_id":67392,"accept_rate":100,"display_name":"Richard"},"score":1,"creation_date":1253529051,"post_id":1453185,"comment_id":1301156,"body_markdown":"Convert to normalisation form &quot;D&quot; (i.e. decomposed) and take the base character.","body":"Convert to normalisation form &quot;D&quot; (i.e. decomposed) and take the base character."}],"tags":[],"owner":{"account_id":32074,"reputation":59409,"user_id":88558,"accept_rate":88,"display_name":"Lucero"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1253517010,"creation_date":1253517010,"answer_id":1453185,"question_id":1453171,"body_markdown":"Unicode has specific diatric characters (which are composite characters) and a string can be converted so that the character and the diatrics are separated. Then, you can just remove the diatricts from the string and you&#39;re basically done.\r\n\r\nFor more information on normalization, decompositions and equivalence, see The Unicode Standard at the [Unicode home page][1].\r\n\r\nHowever, how you can actually achieve this depends on the framework/OS/... you&#39;re working on. If you&#39;re using .NET, you can use the [String.Normalize][2] method accepting the [System.Text.NormalizationForm][3] enumeration.\r\n\r\n\r\n  [1]: http://www.unicode.org/\r\n  [2]: http://msdn.microsoft.com/en-us/library/ebza6ck1(VS.80).aspx\r\n  [3]: http://msdn.microsoft.com/en-us/library/system.text.normalizationform.aspx","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>Unicode has specific diatric characters (which are composite characters) and a string can be converted so that the character and the diatrics are separated. Then, you can just remove the diatricts from the string and you're basically done.</p>\n\n<p>For more information on normalization, decompositions and equivalence, see The Unicode Standard at the <a href=\"http://www.unicode.org/\" rel=\"nofollow noreferrer\">Unicode home page</a>.</p>\n\n<p>However, how you can actually achieve this depends on the framework/OS/... you're working on. If you're using .NET, you can use the <a href=\"http://msdn.microsoft.com/en-us/library/ebza6ck1(VS.80).aspx\" rel=\"nofollow noreferrer\">String.Normalize</a> method accepting the <a href=\"http://msdn.microsoft.com/en-us/library/system.text.normalizationform.aspx\" rel=\"nofollow noreferrer\">System.Text.NormalizationForm</a> enumeration.</p>\n"},{"tags":[],"owner":{"account_id":48396,"reputation":68762,"user_id":143804,"accept_rate":82,"display_name":"ire_and_curses"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1253517194,"creation_date":1253517194,"answer_id":1453195,"question_id":1453171,"body_markdown":"There is a [draft report][1] on character folding on the unicode website which has a lot of relevant material. See specifically Section 4.1. &quot;Folding algorithm&quot;.\r\n\r\nHere&#39;s a [discussion and implementation][2] of diacritic marker removal using Perl.\r\n\r\nThese existing SO questions are related:\r\n\r\n - [How to convert UTF-8 to US ASCII][3]\r\n - [How to change diacritic characters to non-diacritic ones][4]\r\n\r\n\r\n  [1]: http://unicode.org/reports/tr30/tr30-4.html\r\n  [2]: http://ahinea.com/en/tech/accented-translate.html\r\n  [3]: https://stackoverflow.com/questions/285228/how-to-convert-utf-8-to-us-ascii-in-java#285791\r\n  [4]: https://stackoverflow.com/questions/331279/how-to-change-diacritic-characters-to-non-diacritic-ones","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>There is a <a href=\"http://unicode.org/reports/tr30/tr30-4.html\" rel=\"nofollow noreferrer\">draft report</a> on character folding on the unicode website which has a lot of relevant material. See specifically Section 4.1. \"Folding algorithm\".</p>\n\n<p>Here's a <a href=\"http://ahinea.com/en/tech/accented-translate.html\" rel=\"nofollow noreferrer\">discussion and implementation</a> of diacritic marker removal using Perl.</p>\n\n<p>These existing SO questions are related:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/285228/how-to-convert-utf-8-to-us-ascii-in-java#285791\">How to convert UTF-8 to US ASCII</a></li>\n<li><a href=\"https://stackoverflow.com/questions/331279/how-to-change-diacritic-characters-to-non-diacritic-ones\">How to change diacritic characters to non-diacritic ones</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"score":3,"creation_date":1253523155,"post_id":1453256,"comment_id":1300826,"body_markdown":"this will not work for non-ascii diacritics, such as in russian, they have diacritics, too, and furthermore butcher all asian strings. do not use. instead of converting to ascii, use \\\\p{InCombiningDiacriticalMarks} regexp as in answer http://stackoverflow.com/questions/1453171/n-nto-n-or-remove-diacritical-marks-from/1453284#1453284","body":"this will not work for non-ascii diacritics, such as in russian, they have diacritics, too, and furthermore butcher all asian strings. do not use. instead of converting to ascii, use \\\\p{InCombiningDiacriticalMarks} regexp as in answer <a href=\"http://stackoverflow.com/questions/1453171/n-nto-n-or-remove-diacritical-marks-from/1453284#1453284\" title=\"n nto n or remove diacritical marks from\">stackoverflow.com/questions/1453171/&hellip;</a>"}],"tags":[],"owner":{"account_id":561996,"reputation":4719,"user_id":176437,"accept_rate":100,"display_name":"nils"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1353840081,"creation_date":1253518298,"answer_id":1453256,"question_id":1453171,"body_markdown":"You could use the [Normalizer class][1] from `java.text`:\r\n\r\n    System.out.println(new String(Normalizer.normalize(&quot;ń ǹ ň &#241; ṅ ņ ṇ ṋ&quot;, Normalizer.Form.NFKD).getBytes(&quot;ascii&quot;), &quot;ascii&quot;));\r\n\r\nBut there is still some work to do, since Java makes strange things with unconvertable Unicode characters (it does not ignore them, and it does not throw an exception). But I think you could use that as an starting point.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/Normalizer.html\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>You could use the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/Normalizer.html\" rel=\"nofollow noreferrer\">Normalizer class</a> from <code>java.text</code>:</p>\n\n<pre><code>System.out.println(new String(Normalizer.normalize(\"ń ǹ ň ñ ṅ ņ ṇ ṋ\", Normalizer.Form.NFKD).getBytes(\"ascii\"), \"ascii\"));\n</code></pre>\n\n<p>But there is still some work to do, since Java makes strange things with unconvertable Unicode characters (it does not ignore them, and it does not throw an exception). But I think you could use that as an starting point.</p>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":2,"creation_date":1365261673,"post_id":1453278,"comment_id":22560162,"body_markdown":"Adding all the possible strange characters there is not an easy task. When doing this for only a few characters, it&#39;s a good solution.","body":"Adding all the possible strange characters there is not an easy task. When doing this for only a few characters, it&#39;s a good solution."}],"tags":[],"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1253519217,"creation_date":1253518865,"answer_id":1453278,"question_id":1453171,"body_markdown":"The easiest way (to me) would be to simply maintain a sparse mapping array which simply changes your Unicode code points into displayable strings.\r\n\r\nSuch as:\r\n\r\n    start    = 0x00C0\r\n    size     = 23\r\n    mappings = {\r\n        &quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;A&quot;,&quot;AE&quot;,&quot;C&quot;,\r\n        &quot;E&quot;,&quot;E&quot;,&quot;E&quot;,&quot;E&quot;,&quot;I&quot;,&quot;I&quot;,&quot;I&quot;, &quot;I&quot;,\r\n        &quot;D&quot;,&quot;N&quot;,&quot;O&quot;,&quot;O&quot;,&quot;O&quot;,&quot;O&quot;,&quot;O&quot;\r\n    }\r\n    start    = 0x00D8\r\n    size     = 6\r\n    mappings = {\r\n        &quot;O&quot;,&quot;U&quot;,&quot;U&quot;,&quot;U&quot;,&quot;U&quot;,&quot;Y&quot;\r\n    }\r\n    start    = 0x00E0\r\n    size     = 23\r\n    mappings = {\r\n        &quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;a&quot;,&quot;ae&quot;,&quot;c&quot;,\r\n        &quot;e&quot;,&quot;e&quot;,&quot;e&quot;,&quot;e&quot;,&quot;i&quot;,&quot;i&quot;,&quot;i&quot;, &quot;i&quot;,\r\n        &quot;d&quot;,&quot;n&quot;,&quot;o&quot;,&quot;o&quot;,&quot;o&quot;,&quot;o&quot;,&quot;o&quot;\r\n    }\r\n    start    = 0x00F8\r\n    size     = 6\r\n    mappings = {\r\n        &quot;o&quot;,&quot;u&quot;,&quot;u&quot;,&quot;u&quot;,&quot;u&quot;,&quot;y&quot;\r\n    }\r\n    : : :\r\n\r\nThe use of a *sparse* array will allow you to efficiently represent replacements even when they in widely spaced sections of the Unicode table. String replacements will allow arbitrary sequences to replace your diacritics (such as the `&#230;` grapheme becoming `ae`).\r\n\r\nThis is a language-agnostic answer so, if you have a specific language in mind, there will be better ways (although they&#39;ll all likely come down to this at the lowest levels anyway).\r\n\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>The easiest way (to me) would be to simply maintain a sparse mapping array which simply changes your Unicode code points into displayable strings.</p>\n\n<p>Such as:</p>\n\n<pre><code>start    = 0x00C0\nsize     = 23\nmappings = {\n    \"A\",\"A\",\"A\",\"A\",\"A\",\"A\",\"AE\",\"C\",\n    \"E\",\"E\",\"E\",\"E\",\"I\",\"I\",\"I\", \"I\",\n    \"D\",\"N\",\"O\",\"O\",\"O\",\"O\",\"O\"\n}\nstart    = 0x00D8\nsize     = 6\nmappings = {\n    \"O\",\"U\",\"U\",\"U\",\"U\",\"Y\"\n}\nstart    = 0x00E0\nsize     = 23\nmappings = {\n    \"a\",\"a\",\"a\",\"a\",\"a\",\"a\",\"ae\",\"c\",\n    \"e\",\"e\",\"e\",\"e\",\"i\",\"i\",\"i\", \"i\",\n    \"d\",\"n\",\"o\",\"o\",\"o\",\"o\",\"o\"\n}\nstart    = 0x00F8\nsize     = 6\nmappings = {\n    \"o\",\"u\",\"u\",\"u\",\"u\",\"y\"\n}\n: : :\n</code></pre>\n\n<p>The use of a <em>sparse</em> array will allow you to efficiently represent replacements even when they in widely spaced sections of the Unicode table. String replacements will allow arbitrary sequences to replace your diacritics (such as the <code>æ</code> grapheme becoming <code>ae</code>).</p>\n\n<p>This is a language-agnostic answer so, if you have a specific language in mind, there will be better ways (although they'll all likely come down to this at the lowest levels anyway).</p>\n"},{"comments":[{"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"score":0,"creation_date":1268154119,"post_id":1453284,"comment_id":2391727,"body_markdown":"what about characters like ╨ ?","body":"what about characters like ╨ ?"},{"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"score":0,"creation_date":1268176844,"post_id":1453284,"comment_id":2394644,"body_markdown":"they will be passed-though. likewise all japanese characters etc.","body":"they will be passed-though. likewise all japanese characters etc."},{"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"score":0,"creation_date":1268212598,"post_id":1453284,"comment_id":2397213,"body_markdown":"thanks Andreas. Is there a way to remove these? Characters like らがなを覚男 (or others) will be included in the generated string and these will basically break the output. I&#39;m trying to use the simplifiedString output as a URL generator as StackOverflow does for its Questions&#39; URLs.","body":"thanks Andreas. Is there a way to remove these? Characters like らがなを覚男 (or others) will be included in the generated string and these will basically break the output. I&#39;m trying to use the simplifiedString output as a URL generator as StackOverflow does for its Questions&#39; URLs."},{"owner":{"account_id":81330,"reputation":2317,"user_id":229414,"accept_rate":54,"display_name":"Eduardo"},"score":2,"creation_date":1291836930,"post_id":1453284,"comment_id":4785766,"body_markdown":"As I said in the question comment. You cannot rely on basic diacritical mark removal if you want a good search engine.","body":"As I said in the question comment. You cannot rely on basic diacritical mark removal if you want a good search engine."},{"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"score":3,"creation_date":1301662320,"post_id":1453284,"comment_id":6260464,"body_markdown":"Thanks Andreas, works like a charm! (tested on r̀r̂r̃r̈rʼŕřt̀t̂ẗţỳỹẙyʼy̎&#253;&#255;ŷp̂p̈s̀s̃s̈s̊sʼs̸śŝŞşšd̂d̃d̈ďdʼḑf̈f̸g̀g̃g̈gʼģq́ĝǧḧĥj̈jʼḱk̂k̈k̸ǩl̂l̃l̈Łłẅẍc̃c̈c̊cʼc̸&#199;&#231;&#231;ćĉčv̂v̈vʼv̸b́b̧ǹn̂n̈n̊nʼńņň&#241;m̀m̂m̃m̈m̊m̌ǵ&#223;) :-)","body":"Thanks Andreas, works like a charm! (tested on r̀r̂r̃r̈rʼŕřt̀t̂ẗţỳỹẙyʼy̎&#253;&#255;ŷp̂p̈s̀s̃s̈s̊sʼs̸śŝŞşšd̂d̃d̈d&zwnj;&#8203;̌dʼḑf̈f̸g̀g̃g̈gʼģq&zwnj;&#8203;́ĝǧḧĥj̈jʼḱk̂k̈k̸ǩl&zwnj;&#8203;̂l̃l̈Łłẅẍc̃c̈c̊cʼc&zwnj;&#8203;̸&#199;&#231;&#231;ćĉčv̂v̈vʼv̸b́b̧n&zwnj;&#8203;̀n̂n̈n̊nʼńņň&#241;m̀m̂m̃m&zwnj;&#8203;̈m̊m̌ǵ&#223;) :-)"},{"owner":{"account_id":2912229,"reputation":359,"user_id":2496187,"display_name":"Alexandre"},"score":0,"creation_date":1404486337,"post_id":1453284,"comment_id":38071049,"body_markdown":"Great, thanks, really useful, but for me worked only this way &quot;(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);&quot; . Keeping the other brackets would crash!! But for me did the deal, thanks again.","body":"Great, thanks, really useful, but for me worked only this way &quot;(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);&quot; . Keeping the other brackets would crash!! But for me did the deal, thanks again."},{"owner":{"account_id":486869,"reputation":7334,"user_id":1157100,"accept_rate":62,"display_name":"200_success"},"score":0,"creation_date":1504203528,"post_id":1453284,"comment_id":78935634,"body_markdown":"Note that none of the Unicode normalization forms (NFC, NFKC, NFD, NFKD) will help transliterate &quot;Bj&#248;rn&quot;, since the [LATIN SMALL LETTER O WITH STROKE character (U+00F8)](http://www.fileformat.info/info/unicode/char/00F8/index.htm) is not considered a combination. For that, you&#39;ll probably need a real transliterator, such as [ICU](http://userguide.icu-project.org/transforms/general).","body":"Note that none of the Unicode normalization forms (NFC, NFKC, NFD, NFKD) will help transliterate &quot;Bj&#248;rn&quot;, since the <a href=\"http://www.fileformat.info/info/unicode/char/00F8/index.htm\" rel=\"nofollow noreferrer\">LATIN SMALL LETTER O WITH STROKE character (U+00F8)</a> is not considered a combination. For that, you&#39;ll probably need a real transliterator, such as <a href=\"http://userguide.icu-project.org/transforms/general\" rel=\"nofollow noreferrer\">ICU</a>."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1675503128,"post_id":1453284,"comment_id":132946093,"body_markdown":"This doesn&#39;t work for Hebrew: https://en.wikipedia.org/wiki/Diacritic#Hebrew Example: &quot;בְּרֵאשִׁית&quot; doesn&#39;t become &quot;בראשית&quot; . It just stays the exact same. Even if it did convert, I don&#39;t know how you would handle it, because here it&#39;s considered as more characters that are displayed (length is 11 instead of 6).","body":"This doesn&#39;t work for Hebrew: <a href=\"https://en.wikipedia.org/wiki/Diacritic#Hebrew\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Diacritic#Hebrew</a> Example: &quot;בְּרֵאשִׁית&quot; doesn&#39;t become &quot;בראשית&quot; . It just stays the exact same. Even if it did convert, I don&#39;t know how you would handle it, because here it&#39;s considered as more characters that are displayed (length is 11 instead of 6)."},{"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"score":0,"creation_date":1696452943,"post_id":1453284,"comment_id":136156682,"body_markdown":"public static final Pattern ALL_DIACRITICAL_MARKS = Pattern.compile(&quot;[\\\\p{Mn}\\\\p{Mc}]&quot;);\n is also a great more generic soluiton that covers also Arabic, Devanagari, Cyrillic, Greek, Syriac, Thaana diacritics","body":"public static final Pattern ALL_DIACRITICAL_MARKS = Pattern.compile(&quot;[\\\\p{Mn}\\\\p{Mc}]&quot;);  is also a great more generic soluiton that covers also Arabic, Devanagari, Cyrillic, Greek, Syriac, Thaana diacritics"}],"tags":[],"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"comment_count":9,"down_vote_count":4,"up_vote_count":91,"is_accepted":true,"score":87,"last_activity_date":1696452311,"creation_date":1253519020,"answer_id":1453284,"question_id":1453171,"body_markdown":"I have done this recently in Java:\r\n\r\n    public static final Pattern DIACRITICS_AND_FRIENDS\r\n        = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;);\r\n\r\n    private static String stripDiacritics(String str) {\r\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\r\n        str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\r\n        return str;\r\n    }\r\n\r\nThis will do as you specified:\r\n\r\n    stripDiacritics(&quot;Bj&#246;rn&quot;)  = Bjorn\r\n\r\nbut it will fail on for example Białystok, because the `ł` character is not diacritic.\r\n\r\nIf you want to have a full-blown string simplifier, you will need a second cleanup round, for some more special characters that are not diacritics. Is this map, I have included the most common special characters that appear in our customer names. It is not a complete list, but it will give you the idea how to do extend it. The immutableMap is just a simple class from google-collections.\r\n\r\n    public class StringSimplifier {\r\n        public static final char DEFAULT_REPLACE_CHAR = &#39;-&#39;;\r\n        public static final String DEFAULT_REPLACE = String.valueOf(DEFAULT_REPLACE_CHAR);\r\n        private static final ImmutableMap&lt;String, String&gt; NONDIACRITICS = ImmutableMap.&lt;String, String&gt;builder()\r\n\r\n            //Remove crap strings with no sematics\r\n            .put(&quot;.&quot;, &quot;&quot;)\r\n            .put(&quot;\\&quot;&quot;, &quot;&quot;)\r\n            .put(&quot;&#39;&quot;, &quot;&quot;)\r\n\r\n            //Keep relevant characters as seperation\r\n            .put(&quot; &quot;, DEFAULT_REPLACE)\r\n            .put(&quot;]&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;[&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;)&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;(&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;=&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;!&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;/&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;\\\\&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&amp;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;,&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;?&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&#176;&quot;, DEFAULT_REPLACE) //Remove ?? is diacritic?\r\n            .put(&quot;|&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&lt;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;&gt;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;;&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;:&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;_&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;#&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;~&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;+&quot;, DEFAULT_REPLACE)\r\n            .put(&quot;*&quot;, DEFAULT_REPLACE)\r\n\r\n            //Replace non-diacritics as their equivalent characters\r\n            .put(&quot;\\u0141&quot;, &quot;l&quot;) // BiaLystock\r\n            .put(&quot;\\u0142&quot;, &quot;l&quot;) // Bialystock\r\n            .put(&quot;&#223;&quot;, &quot;ss&quot;)\r\n            .put(&quot;&#230;&quot;, &quot;ae&quot;)\r\n            .put(&quot;&#248;&quot;, &quot;o&quot;)\r\n            .put(&quot;&#169;&quot;, &quot;c&quot;)\r\n            .put(&quot;\\u00D0&quot;, &quot;d&quot;) // All &#208; &#240; from http://de.wikipedia.org/wiki/%C3%90\r\n            .put(&quot;\\u00F0&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0110&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0111&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0189&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u0256&quot;, &quot;d&quot;)\r\n            .put(&quot;\\u00DE&quot;, &quot;th&quot;) // thorn &#222;\r\n            .put(&quot;\\u00FE&quot;, &quot;th&quot;) // thorn &#254;\r\n            .build();\r\n\r\n\r\n        public static String simplifiedString(String orig) {\r\n            String str = orig;\r\n            if (str == null) {\r\n                return null;\r\n            }\r\n            str = stripDiacritics(str);\r\n            str = stripNonDiacritics(str);\r\n            if (str.length() == 0) {\r\n                // Ugly special case to work around non-existing empty strings\r\n                // in Oracle. Store original crapstring as simplified.\r\n                // It would return an empty string if Oracle could store it.\r\n                return orig;\r\n            }\r\n            return str.toLowerCase();\r\n        }\r\n\r\n        private static String stripNonDiacritics(String orig) {\r\n            StringBuilder ret = new StringBuilder\r\n            String lastchar = null;\r\n            for (int i = 0; i &lt; orig.length(); i++) {\r\n                String source = orig.substring(i, i + 1);\r\n                String replace = NONDIACRITICS.get(source);\r\n                String toReplace = replace == null ? String.valueOf(source) : replace;\r\n                if (DEFAULT_REPLACE.equals(lastchar) &amp;&amp; DEFAULT_REPLACE.equals(toReplace)) {\r\n                    toReplace = &quot;&quot;;\r\n                } else {\r\n                    lastchar = toReplace;\r\n                }\r\n                ret.append(toReplace);\r\n            }\r\n            if (ret.length() &gt; 0 &amp;&amp; DEFAULT_REPLACE_CHAR == ret.charAt(ret.length() - 1)) {\r\n                ret.deleteCharAt(ret.length() - 1);\r\n            }\r\n            return ret.toString();\r\n        }\r\n\r\n    /*\r\n        Special regular expression character ranges relevant for simplification:\r\n        - InCombiningDiacriticalMarks: diacritic marks used in many languages\r\n        - IsLm: Letter, Modifier (see http://www.fileformat.info/info/unicode/category/Lm/list.htm)\r\n        - IsSk: Symbol, Modifier (see http://www.fileformat.info/info/unicode/category/Sk/list.htm)\r\n        - U+0591 to U+05C7: Range for Hebrew diacritics (niqqud) \r\n          (see official Unicode chart: https://www.unicode.org/charts/PDF/U0590.pdf)\r\n    */\r\n    public static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(\r\n        &quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;\r\n    );\r\n\r\n\r\n        private static String stripDiacritics(String str) {\r\n            str = Normalizer.normalize(str, Normalizer.Form.NFD);\r\n            str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\r\n            return str;\r\n        }\r\n    }\r\n\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>I have done this recently in Java:</p>\n<pre><code>public static final Pattern DIACRITICS_AND_FRIENDS\n    = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;);\n\nprivate static String stripDiacritics(String str) {\n    str = Normalizer.normalize(str, Normalizer.Form.NFD);\n    str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\n    return str;\n}\n</code></pre>\n<p>This will do as you specified:</p>\n<pre><code>stripDiacritics(&quot;Björn&quot;)  = Bjorn\n</code></pre>\n<p>but it will fail on for example Białystok, because the <code>ł</code> character is not diacritic.</p>\n<p>If you want to have a full-blown string simplifier, you will need a second cleanup round, for some more special characters that are not diacritics. Is this map, I have included the most common special characters that appear in our customer names. It is not a complete list, but it will give you the idea how to do extend it. The immutableMap is just a simple class from google-collections.</p>\n<pre><code>public class StringSimplifier {\n    public static final char DEFAULT_REPLACE_CHAR = '-';\n    public static final String DEFAULT_REPLACE = String.valueOf(DEFAULT_REPLACE_CHAR);\n    private static final ImmutableMap&lt;String, String&gt; NONDIACRITICS = ImmutableMap.&lt;String, String&gt;builder()\n\n        //Remove crap strings with no sematics\n        .put(&quot;.&quot;, &quot;&quot;)\n        .put(&quot;\\&quot;&quot;, &quot;&quot;)\n        .put(&quot;'&quot;, &quot;&quot;)\n\n        //Keep relevant characters as seperation\n        .put(&quot; &quot;, DEFAULT_REPLACE)\n        .put(&quot;]&quot;, DEFAULT_REPLACE)\n        .put(&quot;[&quot;, DEFAULT_REPLACE)\n        .put(&quot;)&quot;, DEFAULT_REPLACE)\n        .put(&quot;(&quot;, DEFAULT_REPLACE)\n        .put(&quot;=&quot;, DEFAULT_REPLACE)\n        .put(&quot;!&quot;, DEFAULT_REPLACE)\n        .put(&quot;/&quot;, DEFAULT_REPLACE)\n        .put(&quot;\\\\&quot;, DEFAULT_REPLACE)\n        .put(&quot;&amp;&quot;, DEFAULT_REPLACE)\n        .put(&quot;,&quot;, DEFAULT_REPLACE)\n        .put(&quot;?&quot;, DEFAULT_REPLACE)\n        .put(&quot;°&quot;, DEFAULT_REPLACE) //Remove ?? is diacritic?\n        .put(&quot;|&quot;, DEFAULT_REPLACE)\n        .put(&quot;&lt;&quot;, DEFAULT_REPLACE)\n        .put(&quot;&gt;&quot;, DEFAULT_REPLACE)\n        .put(&quot;;&quot;, DEFAULT_REPLACE)\n        .put(&quot;:&quot;, DEFAULT_REPLACE)\n        .put(&quot;_&quot;, DEFAULT_REPLACE)\n        .put(&quot;#&quot;, DEFAULT_REPLACE)\n        .put(&quot;~&quot;, DEFAULT_REPLACE)\n        .put(&quot;+&quot;, DEFAULT_REPLACE)\n        .put(&quot;*&quot;, DEFAULT_REPLACE)\n\n        //Replace non-diacritics as their equivalent characters\n        .put(&quot;\\u0141&quot;, &quot;l&quot;) // BiaLystock\n        .put(&quot;\\u0142&quot;, &quot;l&quot;) // Bialystock\n        .put(&quot;ß&quot;, &quot;ss&quot;)\n        .put(&quot;æ&quot;, &quot;ae&quot;)\n        .put(&quot;ø&quot;, &quot;o&quot;)\n        .put(&quot;©&quot;, &quot;c&quot;)\n        .put(&quot;\\u00D0&quot;, &quot;d&quot;) // All Ð ð from http://de.wikipedia.org/wiki/%C3%90\n        .put(&quot;\\u00F0&quot;, &quot;d&quot;)\n        .put(&quot;\\u0110&quot;, &quot;d&quot;)\n        .put(&quot;\\u0111&quot;, &quot;d&quot;)\n        .put(&quot;\\u0189&quot;, &quot;d&quot;)\n        .put(&quot;\\u0256&quot;, &quot;d&quot;)\n        .put(&quot;\\u00DE&quot;, &quot;th&quot;) // thorn Þ\n        .put(&quot;\\u00FE&quot;, &quot;th&quot;) // thorn þ\n        .build();\n\n\n    public static String simplifiedString(String orig) {\n        String str = orig;\n        if (str == null) {\n            return null;\n        }\n        str = stripDiacritics(str);\n        str = stripNonDiacritics(str);\n        if (str.length() == 0) {\n            // Ugly special case to work around non-existing empty strings\n            // in Oracle. Store original crapstring as simplified.\n            // It would return an empty string if Oracle could store it.\n            return orig;\n        }\n        return str.toLowerCase();\n    }\n\n    private static String stripNonDiacritics(String orig) {\n        StringBuilder ret = new StringBuilder\n        String lastchar = null;\n        for (int i = 0; i &lt; orig.length(); i++) {\n            String source = orig.substring(i, i + 1);\n            String replace = NONDIACRITICS.get(source);\n            String toReplace = replace == null ? String.valueOf(source) : replace;\n            if (DEFAULT_REPLACE.equals(lastchar) &amp;&amp; DEFAULT_REPLACE.equals(toReplace)) {\n                toReplace = &quot;&quot;;\n            } else {\n                lastchar = toReplace;\n            }\n            ret.append(toReplace);\n        }\n        if (ret.length() &gt; 0 &amp;&amp; DEFAULT_REPLACE_CHAR == ret.charAt(ret.length() - 1)) {\n            ret.deleteCharAt(ret.length() - 1);\n        }\n        return ret.toString();\n    }\n\n/*\n    Special regular expression character ranges relevant for simplification:\n    - InCombiningDiacriticalMarks: diacritic marks used in many languages\n    - IsLm: Letter, Modifier (see http://www.fileformat.info/info/unicode/category/Lm/list.htm)\n    - IsSk: Symbol, Modifier (see http://www.fileformat.info/info/unicode/category/Sk/list.htm)\n    - U+0591 to U+05C7: Range for Hebrew diacritics (niqqud) \n      (see official Unicode chart: https://www.unicode.org/charts/PDF/U0590.pdf)\n*/\npublic static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(\n    &quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}\\\\u0591-\\\\u05C7]+&quot;\n);\n\n\n    private static String stripDiacritics(String str) {\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\n        str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;);\n        return str;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"score":0,"creation_date":1253557922,"post_id":1454826,"comment_id":1303667,"body_markdown":"sounds interesting, but can you search your collation key in the database with select * from person where collated_name like &#39;bjo%&#39; ??","body":"sounds interesting, but can you search your collation key in the database with select * from person where collated_name like &#39;bjo%&#39; ??"},{"owner":{"account_id":9049,"reputation":16318,"user_id":16542,"accept_rate":73,"display_name":"Andreas Petersson"},"score":0,"creation_date":1253563969,"post_id":1454826,"comment_id":1304252,"body_markdown":"very nice, did not know about that. will try this out.","body":"very nice, did not know about that. will try this out."},{"owner":{"account_id":57639,"reputation":7371,"user_id":172690,"accept_rate":87,"display_name":"Grzegorz Adam Hankiewicz"},"score":0,"creation_date":1554665371,"post_id":1454826,"comment_id":97825471,"body_markdown":"On Android the CollationKeys can not be used as prefixes for database searches. A collation key of the string `a` turns into bytes 41, 1, 5, 1, 5, 0, yet the string `ab` turns into bytes 41, 43, 1, 6, 1, 6, 0. These byte sequences don&#39;t appear as is in full words (the byte array for collation key `a` does not appear in the byte array for collation key for `ab`)","body":"On Android the CollationKeys can not be used as prefixes for database searches. A collation key of the string <code>a</code> turns into bytes 41, 1, 5, 1, 5, 0, yet the string <code>ab</code> turns into bytes 41, 43, 1, 6, 1, 6, 0. These byte sequences don&#39;t appear as is in full words (the byte array for collation key <code>a</code> does not appear in the byte array for collation key for <code>ab</code>)"},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1554754799,"post_id":1454826,"comment_id":97860766,"body_markdown":"@GrzegorzAdamHankiewicz After some testing, I see that the byte arrays can be compared, but don&#39;t form prefixes, as you noted. So, to do a prefix query like `bjo%`, you&#39;d need to perform a range query where the collators are &gt;= `bjo` and &lt; `bjp` (or whatever the next symbol would be in that locale, and there&#39;s no programmatic way to determine that).","body":"@GrzegorzAdamHankiewicz After some testing, I see that the byte arrays can be compared, but don&#39;t form prefixes, as you noted. So, to do a prefix query like <code>bjo%</code>, you&#39;d need to perform a range query where the collators are &gt;= <code>bjo</code> and &lt; <code>bjp</code> (or whatever the next symbol would be in that locale, and there&#39;s no programmatic way to determine that)."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1253543523,"creation_date":1253543523,"answer_id":1454826,"question_id":1453171,"body_markdown":"The core java.text package was designed to address this use case (matching strings without caring about diacritics, case, etc.).\r\n\r\nConfigure a [`Collator`][1] to sort on [`PRIMARY`][2] differences in characters. With that, create a [`CollationKey`][3] for each string. If all of your code is in Java, you can use the `CollationKey` directly. If you need to store the keys in a database or other sort of index, you can [convert it to a byte array][4].\r\n\r\nThese classes use the [Unicode standard][5] case folding data to determine which characters are equivalent, and support various [decomposition][6] strategies.\r\n\r\n    Collator c = Collator.getInstance();\r\n    c.setStrength(Collator.PRIMARY);\r\n    Map&lt;CollationKey, String&gt; dictionary = new TreeMap&lt;CollationKey, String&gt;();\r\n    dictionary.put(c.getCollationKey(&quot;Bj&#246;rn&quot;), &quot;Bj&#246;rn&quot;);\r\n    ...\r\n    CollationKey query = c.getCollationKey(&quot;bjorn&quot;);\r\n    System.out.println(dictionary.get(query)); // --&gt; &quot;Bj&#246;rn&quot;\r\n\r\nNote that collators are locale-specific. This is because &quot;alphabetical order&quot; is differs between locales (and even over time, as has been the case with Spanish). The `Collator` class relieves you from having to track all of these rules and keep them up to date.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/text/Collator.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/text/Collator.html#PRIMARY\r\n  [3]: http://java.sun.com/javase/6/docs/api/java/text/Collator.html#getCollationKey(java.lang.String)\r\n  [4]: http://java.sun.com/javase/6/docs/api/java/text/CollationKey.html#toByteArray()\r\n  [5]: http://www.unicode.org/reports/tr10/\r\n  [6]: http://www.unicode.org/versions/Unicode5.0.0/ch03.pdf#G729\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>The core java.text package was designed to address this use case (matching strings without caring about diacritics, case, etc.).</p>\n\n<p>Configure a <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Collator.html\" rel=\"noreferrer\"><code>Collator</code></a> to sort on <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Collator.html#PRIMARY\" rel=\"noreferrer\"><code>PRIMARY</code></a> differences in characters. With that, create a <a href=\"http://java.sun.com/javase/6/docs/api/java/text/Collator.html#getCollationKey(java.lang.String)\" rel=\"noreferrer\"><code>CollationKey</code></a> for each string. If all of your code is in Java, you can use the <code>CollationKey</code> directly. If you need to store the keys in a database or other sort of index, you can <a href=\"http://java.sun.com/javase/6/docs/api/java/text/CollationKey.html#toByteArray()\" rel=\"noreferrer\">convert it to a byte array</a>.</p>\n\n<p>These classes use the <a href=\"http://www.unicode.org/reports/tr10/\" rel=\"noreferrer\">Unicode standard</a> case folding data to determine which characters are equivalent, and support various <a href=\"http://www.unicode.org/versions/Unicode5.0.0/ch03.pdf#G729\" rel=\"noreferrer\">decomposition</a> strategies.</p>\n\n<pre><code>Collator c = Collator.getInstance();\nc.setStrength(Collator.PRIMARY);\nMap&lt;CollationKey, String&gt; dictionary = new TreeMap&lt;CollationKey, String&gt;();\ndictionary.put(c.getCollationKey(\"Björn\"), \"Björn\");\n...\nCollationKey query = c.getCollationKey(\"bjorn\");\nSystem.out.println(dictionary.get(query)); // --&gt; \"Björn\"\n</code></pre>\n\n<p>Note that collators are locale-specific. This is because \"alphabetical order\" is differs between locales (and even over time, as has been the case with Spanish). The <code>Collator</code> class relieves you from having to track all of these rules and keep them up to date.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":3,"creation_date":1353840275,"post_id":1454868,"comment_id":18559557,"body_markdown":"Can you elaborate on string encoding? For instance, with a code example.","body":"Can you elaborate on string encoding? For instance, with a code example."}],"tags":[],"owner":{"account_id":49345,"reputation":1054,"user_id":146872,"display_name":"Viktor Jevdokimov"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353840212,"creation_date":1253544096,"answer_id":1454868,"question_id":1453171,"body_markdown":"In Windows and .NET, I just convert using string encoding. That way I avoid manual mapping and coding. \r\n\r\nTry to play with string encoding.","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>In Windows and .NET, I just convert using string encoding. That way I avoid manual mapping and coding. </p>\n\n<p>Try to play with string encoding.</p>\n"},{"tags":[],"owner":{"account_id":22951,"reputation":12505,"user_id":57120,"accept_rate":83,"display_name":"Beska"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1253545089,"creation_date":1253545089,"answer_id":1454947,"question_id":1453171,"body_markdown":"Something to consider: if you go the route of trying to get a single &quot;translation&quot; of each word, you may miss out on some possible alternates.\r\n\r\nFor instance, in German, when replacing the &quot;s-set&quot;, some people might use &quot;B&quot;, while others might use &quot;ss&quot;.  Or, replacing an umlauted o with &quot;o&quot; or &quot;oe&quot;.  Any solution you come up with, ideally, I would think should include both.","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>Something to consider: if you go the route of trying to get a single \"translation\" of each word, you may miss out on some possible alternates.</p>\n\n<p>For instance, in German, when replacing the \"s-set\", some people might use \"B\", while others might use \"ss\".  Or, replacing an umlauted o with \"o\" or \"oe\".  Any solution you come up with, ideally, I would think should include both.</p>\n"},{"tags":[],"owner":{"account_id":5463,"reputation":20363,"user_id":8799,"accept_rate":65,"display_name":"Nathan Baulch"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1253984802,"creation_date":1253984802,"answer_id":1481653,"question_id":1453171,"body_markdown":"For future reference, here is a C# extension method that removes accents.\r\n\r\n    public static class StringExtensions\r\n    {\r\n        public static string RemoveDiacritics(this string str)\r\n        {\r\n            return new string(\r\n                str.Normalize(NormalizationForm.FormD)\r\n                    .Where(c =&gt; CharUnicodeInfo.GetUnicodeCategory(c) != \r\n                                UnicodeCategory.NonSpacingMark)\r\n                    .ToArray());\r\n        }\r\n    }\r\n    static void Main()\r\n    {\r\n        var input = &quot;ŃŅŇ &#192;&#193;&#194;&#195;&#196;&#197; ŢŤţť Ĥĥ &#224;&#225;&#226;&#227;&#228;&#229; ńņň&quot;;\r\n        var output = input.RemoveDiacritics();\r\n        Debug.Assert(output == &quot;NNN AAAAAA TTtt Hh aaaaaa nnn&quot;);\r\n    }","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>For future reference, here is a C# extension method that removes accents.</p>\n\n<pre><code>public static class StringExtensions\n{\n    public static string RemoveDiacritics(this string str)\n    {\n        return new string(\n            str.Normalize(NormalizationForm.FormD)\n                .Where(c =&gt; CharUnicodeInfo.GetUnicodeCategory(c) != \n                            UnicodeCategory.NonSpacingMark)\n                .ToArray());\n    }\n}\nstatic void Main()\n{\n    var input = \"ŃŅŇ ÀÁÂÃÄÅ ŢŤţť Ĥĥ àáâãäå ńņň\";\n    var output = input.RemoveDiacritics();\n    Debug.Assert(output == \"NNN AAAAAA TTtt Hh aaaaaa nnn\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1376679,"reputation":13172,"user_id":1310566,"accept_rate":94,"display_name":"Simon Forsberg"},"score":4,"creation_date":1365262612,"post_id":2356984,"comment_id":22560388,"body_markdown":"Although correct, this is more of a comment than an answer to the question.","body":"Although correct, this is more of a comment than an answer to the question."}],"tags":[],"owner":{"account_id":13903,"reputation":393623,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1267458375,"creation_date":1267458375,"answer_id":2356984,"question_id":1453171,"body_markdown":"Please note that not all of these marks are just &quot;marks&quot; on some &quot;normal&quot; character, that you can remove without changing the meaning.\r\n\r\nIn Swedish, &amp;aring; &amp;auml; and &amp;ouml; are true and proper first-class characters, not some &quot;variant&quot; of some other character. They sound different from all other characters, they sort different, and they make words change meaning (&quot;m&amp;auml;tt&quot; and &quot;matt&quot; are two different words).\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>Please note that not all of these marks are just \"marks\" on some \"normal\" character, that you can remove without changing the meaning.</p>\n\n<p>In Swedish, &aring; &auml; and &ouml; are true and proper first-class characters, not some \"variant\" of some other character. They sound different from all other characters, they sort different, and they make words change meaning (\"m&auml;tt\" and \"matt\" are two different words).</p>\n"},{"comments":[{"owner":{"account_id":1068133,"reputation":1260,"user_id":1068099,"accept_rate":3,"display_name":"Mike Argyriou"},"score":1,"creation_date":1404993656,"post_id":12881317,"comment_id":38257768,"body_markdown":"For &#216; it gives again &#216;","body":"For &#216; it gives again &#216;"},{"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"score":2,"creation_date":1409224057,"post_id":12881317,"comment_id":39889486,"body_markdown":"Thanks Mike for pointing that out. The method only handles accents. The result of &quot;ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ&quot; is &quot;n n n n n n n n n  ɲ ƞ ᶇ ɳ ȵ&quot;","body":"Thanks Mike for pointing that out. The method only handles accents. The result of &quot;ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ&quot; is &quot;n n n n n n n n n  ɲ ƞ ᶇ ɳ ȵ&quot;"}],"tags":[],"owner":{"account_id":86926,"reputation":2892,"user_id":241379,"display_name":"Kenston Choi"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1442913116,"creation_date":1350210133,"answer_id":12881317,"question_id":1453171,"body_markdown":"It&#39;s part of [Apache Commons Lang](http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29) as of ver. 3.1.\r\n\r\n    org.apache.commons.lang3.StringUtils.stripAccents(&quot;A&#241;&quot;);\r\n\r\nreturns `An`","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>It's part of <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#stripAccents%28java.lang.String%29\" rel=\"noreferrer\">Apache Commons Lang</a> as of ver. 3.1.</p>\n\n<pre><code>org.apache.commons.lang3.StringUtils.stripAccents(\"Añ\");\n</code></pre>\n\n<p>returns <code>An</code></p>\n"},{"tags":[],"owner":{"account_id":99795,"reputation":31,"user_id":269385,"display_name":"jalbert"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1360318572,"creation_date":1360318572,"answer_id":14770259,"question_id":1453171,"body_markdown":"In case of German it&#39;s not wanted to remove diacritics from Umlauts (&#228;, &#246;, &#252;).\r\nInstead they are replaced by two letter combination (ae, oe, ue)\r\nFor instance, Bj&#246;rn should be written as Bjoern (not Bjorn) to have correct pronounciation.\r\n\r\nFor that I would have rather a hardcoded mapping, where you can define the replacement rule individually for each special character group.","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>In case of German it's not wanted to remove diacritics from Umlauts (ä, ö, ü).\nInstead they are replaced by two letter combination (ae, oe, ue)\nFor instance, Björn should be written as Bjoern (not Bjorn) to have correct pronounciation.</p>\n\n<p>For that I would have rather a hardcoded mapping, where you can define the replacement rule individually for each special character group.</p>\n"}],"owner":{"account_id":24717,"reputation":264462,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34925,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":1453284,"answer_count":12,"score":91,"last_activity_date":1696452311,"creation_date":1253516636,"question_id":1453171,"body_markdown":"I am looking at an algorithm that can map between characters with diacritics ([tilde][1], [circumflex][2], [caret][3], [umlaut][4], [caron][5]) and their &quot;simple&quot; character.\r\n\r\nFor example:\r\n\r\n    ń  ǹ  ň  &#241;  ṅ  ņ  ṇ  ṋ  ṉ  ̈  ɲ  ƞ ᶇ ɳ ȵ  --&gt; n\r\n    &#225; --&gt; a\r\n    &#228; --&gt; a\r\n    ấ --&gt; a\r\n    ṏ --&gt; o\r\n\r\nEtc.\r\n\r\n1. I want to do this in Java, although I suspect it should be something Unicode-y and should be doable reasonably easily in any language.\r\n\r\n2. Purpose: to allow easily search for words with diacritical marks. For example, if I have a database of tennis players, and Bj&#246;rn_Borg is entered, I will also keep Bjorn_Borg so I can find it if someone enters Bjorn and not Bj&#246;rn.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Tilde\r\n  [2]: http://en.wikipedia.org/wiki/Circumflex_accent\r\n  [3]: http://en.wikipedia.org/wiki/Caret\r\n  [4]: http://en.wikipedia.org/wiki/Umlaut_%28diacritic%29\r\n  [5]: http://en.wikipedia.org/wiki/Caron\r\n","title":"Remove diacritical marks (ń ǹ ň &#241; ṅ ņ ṇ ṋ ṉ ̈ ɲ ƞ ᶇ ɳ ȵ) from Unicode chars","body":"<p>I am looking at an algorithm that can map between characters with diacritics (<a href=\"http://en.wikipedia.org/wiki/Tilde\" rel=\"noreferrer\">tilde</a>, <a href=\"http://en.wikipedia.org/wiki/Circumflex_accent\" rel=\"noreferrer\">circumflex</a>, <a href=\"http://en.wikipedia.org/wiki/Caret\" rel=\"noreferrer\">caret</a>, <a href=\"http://en.wikipedia.org/wiki/Umlaut_%28diacritic%29\" rel=\"noreferrer\">umlaut</a>, <a href=\"http://en.wikipedia.org/wiki/Caron\" rel=\"noreferrer\">caron</a>) and their \"simple\" character.</p>\n\n<p>For example:</p>\n\n<pre><code>ń  ǹ  ň  ñ  ṅ  ņ  ṇ  ṋ  ṉ  ̈  ɲ  ƞ ᶇ ɳ ȵ  --&gt; n\ná --&gt; a\nä --&gt; a\nấ --&gt; a\nṏ --&gt; o\n</code></pre>\n\n<p>Etc.</p>\n\n<ol>\n<li><p>I want to do this in Java, although I suspect it should be something Unicode-y and should be doable reasonably easily in any language.</p></li>\n<li><p>Purpose: to allow easily search for words with diacritical marks. For example, if I have a database of tennis players, and Björn_Borg is entered, I will also keep Bjorn_Borg so I can find it if someone enters Bjorn and not Björn.</p></li>\n</ol>\n"},{"tags":["java","multithreading","locking","executorservice","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":29598710,"reputation":1,"user_id":22684691,"display_name":"sinemeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696452283,"creation_date":1696452283,"answer_id":77232862,"question_id":77231902,"body_markdown":"I was able to solve the problem by removing the try-with-resources when accepting clients. I&#39;ve read it here: https://stackoverflow.com/questions/30553670/eofexception-socketexception-when-working-with-sockets-and-threads (1337joe&#39;s answer).\r\n\r\nI removed try-with-resources and my code got immediately past the tests. I also moved the while loop after creating a ServerSocket object as to make sure that one server accepts multiple clients rather than trying to create multiple servers (which also created problems probably). Below are the changes for the future comers:\r\n\r\n    // I used try-with-resources here in the first implementation\r\n    while (isRunning) {\r\n        try (ServerSocket serverSocket = new ServerSocket(PORT)) {\r\n            try (Socket acceptSocket = serverSocket.accept();\r\n                 DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\r\n                 DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream()))\r\n                 // ... rest of the code\r\n\r\n    // I removed try-with-resources and changed it as follows\r\n        try (ServerSocket serverSocket = new ServerSocket(PORT)) {\r\n            while (isRunning) {\r\n                try {\r\n                    Socket acceptSocket = serverSocket.accept();\r\n                    DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\r\n                    DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream());\r\n                    // ... rest of the code\r\n\r\n\r\n","title":"Multithreading problem in Server-Client program (Java)","body":"<p>I was able to solve the problem by removing the try-with-resources when accepting clients. I've read it here: <a href=\"https://stackoverflow.com/questions/30553670/eofexception-socketexception-when-working-with-sockets-and-threads\">EOFException / SocketException when working with sockets and threads</a> (1337joe's answer).</p>\n<p>I removed try-with-resources and my code got immediately past the tests. I also moved the while loop after creating a ServerSocket object as to make sure that one server accepts multiple clients rather than trying to create multiple servers (which also created problems probably). Below are the changes for the future comers:</p>\n<pre><code>// I used try-with-resources here in the first implementation\nwhile (isRunning) {\n    try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n        try (Socket acceptSocket = serverSocket.accept();\n             DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\n             DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream()))\n             // ... rest of the code\n\n// I removed try-with-resources and changed it as follows\n    try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n        while (isRunning) {\n            try {\n                Socket acceptSocket = serverSocket.accept();\n                DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\n                DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream());\n                // ... rest of the code\n</code></pre>\n"}],"owner":{"account_id":29598710,"reputation":1,"user_id":22684691,"display_name":"sinemeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696454827,"answer_count":1,"score":0,"last_activity_date":1696452283,"creation_date":1696441798,"question_id":77231902,"body_markdown":"I&#39;ve been trying to implement a simple multithreaded server-client program in Java. It&#39;s a project stage in Hyperskill (find it [here](https://hyperskill.org/projects/65/stages/352/implement)).\r\n\r\nStage objectives are as follows:\r\n&gt; The server should keep the database on the hard drive in a db.json file which should be stored as the JSON file in the /server/data folder.\r\n&gt; Use executors at the server in order to simultaneously handle multiple requests. Writing to the database file should be protected by a lock as described in the description.\r\n&gt; Implement the ability to read a request from a file. If the -in argument is followed by the file name provided, read a request from that file. The file will be stored in /client/data.\r\n\r\nI have 2 packages, that are client and server, and 4 different classes in each package. Please find my full source code below. Also you may find the automated test results after the source code.\r\n\r\n```\r\n// client.Main\r\n\r\npackage client;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        ClientInitializer clientInitializer = new ClientInitializer(args);\r\n        clientInitializer.start();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// client.clientInitializer\r\npackage client;\r\n\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Paths;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.NoSuchElementException;\r\nimport java.util.Scanner;\r\n\r\npublic class ClientInitializer {\r\n\r\n    private final List&lt;String&gt; args;\r\n\r\n    public ClientInitializer(String[] args) {\r\n        this.args = Arrays.asList(args);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    public void start() {\r\n        String input = &quot;.\\\\client\\\\data\\\\&quot; + getInput();\r\n        if (!input.equals(&quot;.\\\\client\\\\data\\\\&quot;)) {\r\n            try (Scanner fileScanner = new Scanner(Paths.get(input))) {\r\n                StringBuilder jsonBuilder = new StringBuilder();\r\n                while (fileScanner.hasNextLine()) {\r\n                    jsonBuilder.append(fileScanner.nextLine());\r\n                }\r\n                String readRequest = jsonBuilder.toString();\r\n                Request request = new Request(new Gson().fromJson(readRequest, Request.class));\r\n                Client client = new Client(request);\r\n                client.run();\r\n                return;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        String type = getType();\r\n        String key = getKey();\r\n        String value = getValue();\r\n        Request request = new Request(type, key, value);\r\n        Client client = new Client(request);\r\n        client.run();\r\n    }\r\n\r\n    private String getInput() {\r\n        try {\r\n            int indexOfInput = args.indexOf(&quot;-in&quot;);\r\n            return indexOfInput == -1 ? &quot;&quot; : args.get(indexOfInput + 1);\r\n        } catch (NullPointerException | NoSuchElementException e) {\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\n    private String getType() {\r\n        int indexOfType = args.indexOf(&quot;-t&quot;) + 1;\r\n        return args.get(indexOfType);\r\n    }\r\n\r\n    private String getKey() {\r\n        try {\r\n            int indexOfKey = args.indexOf(&quot;-k&quot;);\r\n            return indexOfKey == -1 ? null : args.get(indexOfKey + 1);\r\n        } catch (NullPointerException | NoSuchElementException e) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private String getValue() {\r\n        try {\r\n            int indexOfCellIndex = args.indexOf(&quot;-v&quot;);\r\n            return indexOfCellIndex == -1 ? null : args.get(indexOfCellIndex + 1);\r\n        } catch (NullPointerException | NoSuchElementException e) {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// client.Request\r\n\r\npackage client;\r\n\r\npublic class Request {\r\n\r\n    private final String type;\r\n    private final String key;\r\n    private final String value;\r\n\r\n    public Request(String type, String key, String value) {\r\n        this.type = type;\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public Request(Request request) {\r\n        this.type = request.getType();\r\n        this.key = request.getKey();\r\n        this.value = request.getValue();\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public String getKey() {\r\n        return key;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// client.Client\r\n\r\npackage client;\r\n\r\nimport com.google.gson.Gson;\r\nimport java.io.DataInputStream;\r\nimport java.io.DataOutputStream;\r\nimport java.io.EOFException;\r\nimport java.io.IOException;\r\nimport java.net.Socket;\r\n\r\npublic class Client {\r\n\r\n    private static final String ADDRESS = &quot;127.0.0.1&quot;;\r\n    private static final int PORT = 23456;\r\n    private final Request request;\r\n\r\n    public Client(Request request) {\r\n        this.request = request;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    public void run() {\r\n        System.out.println(&quot;Client started!&quot;);\r\n        try (Socket socket = new Socket(ADDRESS, PORT);\r\n             DataInputStream input = new DataInputStream(socket.getInputStream());\r\n             DataOutputStream output = new DataOutputStream(socket.getOutputStream())\r\n        ) {\r\n            String sentJson = new Gson().toJson(request);\r\n            output.writeUTF(sentJson);\r\n            System.out.println(&quot;Sent: &quot; + sentJson);\r\n            if (socket.isOutputShutdown()) {\r\n                System.out.println(&quot;Server closed the connection.&quot;);\r\n            } else {\r\n                try {\r\n                    String receivedJson = input.readUTF();\r\n                    System.out.println(&quot;Received: &quot; + receivedJson);\r\n                } catch (EOFException e) {\r\n                    System.out.println(&quot;Server closed the connection unexpectedly.&quot;);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// server.Main\r\n\r\npackage server;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n        server.run();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// server.Server\r\n\r\npackage server;\r\n\r\nimport client.Request;\r\nimport com.google.gson.Gson;\r\n\r\nimport java.io.*;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.locks.Lock;\r\nimport java.util.concurrent.locks.ReadWriteLock;\r\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\r\n\r\npublic class Server {\r\n\r\n    private static final int PORT = 23456;\r\n    private final Gson gson;\r\n    private final ReadWriteLock lock;\r\n    private final ExecutorService executor = Executors.newFixedThreadPool(4);\r\n    private volatile boolean isRunning = true;\r\n\r\n    public Server() {\r\n        writeDbToFile();\r\n        this.gson = new Gson();\r\n        this.lock = new ReentrantReadWriteLock();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    public void run() {\r\n        System.out.println(&quot;Server started!&quot;);\r\n        while (isRunning) {\r\n            try (ServerSocket serverSocket = new ServerSocket(PORT)) {\r\n                try (Socket acceptSocket = serverSocket.accept();\r\n                     DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\r\n                     DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream())\r\n                ) {\r\n                    String receivedJson = input.readUTF();\r\n                    if (receivedJson.contains(&quot;exit&quot;)) {\r\n                        executor.submit(() -&gt; {\r\n                           handleExitRequest(output);\r\n                        });\r\n                        isRunning = false;\r\n                    } else {\r\n                        executor.submit(() -&gt; {\r\n                            handleRequest(receivedJson, output);\r\n                        });\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void handleExitRequest(DataOutputStream output) {\r\n        String sentJson = gson.toJson(new Response(&quot;OK&quot;));\r\n        try {\r\n            output.writeUTF(sentJson);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Server side IOException&quot;);\r\n        }\r\n    }\r\n\r\n    private void handleRequest(String receivedJson, DataOutputStream output) {\r\n        Request request = gson.fromJson(receivedJson, Request.class);\r\n        if (receivedJson.contains(&quot;get&quot;)) {\r\n            Database db = new Database();\r\n            Lock readLock = lock.readLock();\r\n            String key = request.getKey();\r\n            try {\r\n                output.writeUTF(gson.toJson(db.getInformation(key)));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            readLock.unlock();\r\n        } else if (receivedJson.contains(&quot;set&quot;)) {\r\n            Database db = new Database();\r\n            Lock writeLock = lock.writeLock();\r\n            String key = request.getKey();\r\n            String value = request.getValue();\r\n            try {\r\n                output.writeUTF(gson.toJson(db.setInformation(key, value)));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            writeDbToFile();\r\n            writeLock.unlock();\r\n        } else if (receivedJson.contains(&quot;delete&quot;)) {\r\n            Database db = new Database();\r\n            Lock writeLock = lock.writeLock();\r\n            String key = request.getKey();\r\n            try {\r\n                output.writeUTF(gson.toJson(db.deleteInformation(key)));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            writeDbToFile();\r\n            writeLock.unlock();\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n    private void writeDbToFile() {\r\n        Database db = new Database();\r\n        try (FileWriter fileWriter = new FileWriter(System.getProperty(&quot;user.dir&quot;) + &quot;/src/server/data/db.json&quot;, true)) {\r\n            for (var entry : db.getDb().entrySet()) {\r\n                fileWriter.write(entry.getKey() + &quot;:&quot; + entry.getValue() + &quot;\\n&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// server.Database\r\n\r\npackage server;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Database {\r\n\r\n    private final Map&lt;String, String&gt; db;\r\n    private static final String successMessage = &quot;OK&quot;;\r\n    private static final String errorMessage = &quot;ERROR&quot;;\r\n    private static final String noSuchKeyMessage = &quot;No such key&quot;;\r\n\r\n    public Database() {\r\n        this.db = new HashMap&lt;&gt;(1000);\r\n    }\r\n\r\n    public Map&lt;String, String&gt; getDb() {\r\n        return db;\r\n    }\r\n\r\n    public Response getInformation(String key) {\r\n        return db.containsKey(key) ? new Response(successMessage, db.get(key), false) :\r\n                new Response(errorMessage, noSuchKeyMessage);\r\n    }\r\n\r\n    public Response setInformation(String key, String value) {\r\n        db.put(key, value);\r\n        return new Response(successMessage);\r\n    }\r\n\r\n    public Response deleteInformation(String key) {\r\n        if (db.containsKey(key)) {\r\n            db.remove(key);\r\n            return new Response(successMessage);\r\n        } else {\r\n            return new Response(errorMessage, noSuchKeyMessage);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n// server.Response\r\n\r\npackage server;\r\n\r\npublic class Response {\r\n\r\n    private final String response;\r\n    private final String reason;\r\n    private final String value;\r\n\r\n    public Response(String response) {\r\n        this.response = response;\r\n        this.reason = null;\r\n        this.value = null;\r\n    }\r\n\r\n    public Response(String response, String reason) {\r\n        this.response = response;\r\n        this.reason = reason;\r\n        this.value = null;\r\n    }\r\n\r\n    public Response(String response, String value, boolean isReason) {\r\n        this.response = response;\r\n        this.value = value;\r\n        this.reason = null;\r\n    }\r\n}\r\n```\r\n\r\nThe test results:\r\n```\r\nStart test 1\r\nServer started!\r\nClient started!\r\nSent: {&quot;type&quot;:&quot;exit&quot;}\r\nServer closed the connection unexpectedly.\r\n\r\nStart test 2\r\n\r\nStart test 3\r\nServer started!\r\nClient started!\r\nSent: {&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:&quot;1&quot;}\r\nServer closed the connection unexpectedly.\r\n```\r\n\r\n\r\nBased on the automated tests, I&#39;ve put some print statements in the catch blocks to see what exactly the issue is, and saw that Client can&#39;t read the response that was sent from the Server. I thought that it might be caused by one of the threads closing the server before the response was sent in the first place, but as I have little to zero experience with multithreading, I&#39;m not so sure.\r\n\r\nProgram doesn&#39;t seem to have any issues with reading from and writing to files. To be honest, I&#39;m not so sure that I have structured the multithreading behavior correct at this point. I&#39;m also not so sure about the use of Locks here.\r\n\r\nI also tried to find similar problems on the Internet and alter my source code a bit depending on the suggestions here and there to no avail.\r\n\r\nPardon any potential design and programming problems as I&#39;ve just started learning programming this summer. Any help is very much appreciated.","title":"Multithreading problem in Server-Client program (Java)","body":"<p>I've been trying to implement a simple multithreaded server-client program in Java. It's a project stage in Hyperskill (find it <a href=\"https://hyperskill.org/projects/65/stages/352/implement\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>Stage objectives are as follows:</p>\n<blockquote>\n<p>The server should keep the database on the hard drive in a db.json file which should be stored as the JSON file in the /server/data folder.\nUse executors at the server in order to simultaneously handle multiple requests. Writing to the database file should be protected by a lock as described in the description.\nImplement the ability to read a request from a file. If the -in argument is followed by the file name provided, read a request from that file. The file will be stored in /client/data.</p>\n</blockquote>\n<p>I have 2 packages, that are client and server, and 4 different classes in each package. Please find my full source code below. Also you may find the automated test results after the source code.</p>\n<pre><code>// client.Main\n\npackage client;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        ClientInitializer clientInitializer = new ClientInitializer(args);\n        clientInitializer.start();\n    }\n}\n\n</code></pre>\n<pre><code>// client.clientInitializer\npackage client;\n\nimport com.google.gson.Gson;\n\nimport java.io.IOException;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.Scanner;\n\npublic class ClientInitializer {\n\n    private final List&lt;String&gt; args;\n\n    public ClientInitializer(String[] args) {\n        this.args = Arrays.asList(args);\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public void start() {\n        String input = &quot;.\\\\client\\\\data\\\\&quot; + getInput();\n        if (!input.equals(&quot;.\\\\client\\\\data\\\\&quot;)) {\n            try (Scanner fileScanner = new Scanner(Paths.get(input))) {\n                StringBuilder jsonBuilder = new StringBuilder();\n                while (fileScanner.hasNextLine()) {\n                    jsonBuilder.append(fileScanner.nextLine());\n                }\n                String readRequest = jsonBuilder.toString();\n                Request request = new Request(new Gson().fromJson(readRequest, Request.class));\n                Client client = new Client(request);\n                client.run();\n                return;\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        String type = getType();\n        String key = getKey();\n        String value = getValue();\n        Request request = new Request(type, key, value);\n        Client client = new Client(request);\n        client.run();\n    }\n\n    private String getInput() {\n        try {\n            int indexOfInput = args.indexOf(&quot;-in&quot;);\n            return indexOfInput == -1 ? &quot;&quot; : args.get(indexOfInput + 1);\n        } catch (NullPointerException | NoSuchElementException e) {\n            return &quot;&quot;;\n        }\n    }\n\n    private String getType() {\n        int indexOfType = args.indexOf(&quot;-t&quot;) + 1;\n        return args.get(indexOfType);\n    }\n\n    private String getKey() {\n        try {\n            int indexOfKey = args.indexOf(&quot;-k&quot;);\n            return indexOfKey == -1 ? null : args.get(indexOfKey + 1);\n        } catch (NullPointerException | NoSuchElementException e) {\n            return null;\n        }\n    }\n\n    private String getValue() {\n        try {\n            int indexOfCellIndex = args.indexOf(&quot;-v&quot;);\n            return indexOfCellIndex == -1 ? null : args.get(indexOfCellIndex + 1);\n        } catch (NullPointerException | NoSuchElementException e) {\n            return null;\n        }\n    }\n}\n</code></pre>\n<pre><code>// client.Request\n\npackage client;\n\npublic class Request {\n\n    private final String type;\n    private final String key;\n    private final String value;\n\n    public Request(String type, String key, String value) {\n        this.type = type;\n        this.key = key;\n        this.value = value;\n    }\n\n    public Request(Request request) {\n        this.type = request.getType();\n        this.key = request.getKey();\n        this.value = request.getValue();\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public String getKey() {\n        return key;\n    }\n\n    public String getValue() {\n        return value;\n    }\n}\n</code></pre>\n<pre><code>// client.Client\n\npackage client;\n\nimport com.google.gson.Gson;\nimport java.io.DataInputStream;\nimport java.io.DataOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.net.Socket;\n\npublic class Client {\n\n    private static final String ADDRESS = &quot;127.0.0.1&quot;;\n    private static final int PORT = 23456;\n    private final Request request;\n\n    public Client(Request request) {\n        this.request = request;\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public void run() {\n        System.out.println(&quot;Client started!&quot;);\n        try (Socket socket = new Socket(ADDRESS, PORT);\n             DataInputStream input = new DataInputStream(socket.getInputStream());\n             DataOutputStream output = new DataOutputStream(socket.getOutputStream())\n        ) {\n            String sentJson = new Gson().toJson(request);\n            output.writeUTF(sentJson);\n            System.out.println(&quot;Sent: &quot; + sentJson);\n            if (socket.isOutputShutdown()) {\n                System.out.println(&quot;Server closed the connection.&quot;);\n            } else {\n                try {\n                    String receivedJson = input.readUTF();\n                    System.out.println(&quot;Received: &quot; + receivedJson);\n                } catch (EOFException e) {\n                    System.out.println(&quot;Server closed the connection unexpectedly.&quot;);\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<pre><code>// server.Main\n\npackage server;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Server server = new Server();\n        server.run();\n    }\n}\n\n</code></pre>\n<pre><code>// server.Server\n\npackage server;\n\nimport client.Request;\nimport com.google.gson.Gson;\n\nimport java.io.*;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReadWriteLock;\nimport java.util.concurrent.locks.ReentrantReadWriteLock;\n\npublic class Server {\n\n    private static final int PORT = 23456;\n    private final Gson gson;\n    private final ReadWriteLock lock;\n    private final ExecutorService executor = Executors.newFixedThreadPool(4);\n    private volatile boolean isRunning = true;\n\n    public Server() {\n        writeDbToFile();\n        this.gson = new Gson();\n        this.lock = new ReentrantReadWriteLock();\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public void run() {\n        System.out.println(&quot;Server started!&quot;);\n        while (isRunning) {\n            try (ServerSocket serverSocket = new ServerSocket(PORT)) {\n                try (Socket acceptSocket = serverSocket.accept();\n                     DataInputStream input = new DataInputStream(acceptSocket.getInputStream());\n                     DataOutputStream output = new DataOutputStream(acceptSocket.getOutputStream())\n                ) {\n                    String receivedJson = input.readUTF();\n                    if (receivedJson.contains(&quot;exit&quot;)) {\n                        executor.submit(() -&gt; {\n                           handleExitRequest(output);\n                        });\n                        isRunning = false;\n                    } else {\n                        executor.submit(() -&gt; {\n                            handleRequest(receivedJson, output);\n                        });\n                    }\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private void handleExitRequest(DataOutputStream output) {\n        String sentJson = gson.toJson(new Response(&quot;OK&quot;));\n        try {\n            output.writeUTF(sentJson);\n        } catch (IOException e) {\n            throw new RuntimeException(&quot;Server side IOException&quot;);\n        }\n    }\n\n    private void handleRequest(String receivedJson, DataOutputStream output) {\n        Request request = gson.fromJson(receivedJson, Request.class);\n        if (receivedJson.contains(&quot;get&quot;)) {\n            Database db = new Database();\n            Lock readLock = lock.readLock();\n            String key = request.getKey();\n            try {\n                output.writeUTF(gson.toJson(db.getInformation(key)));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            readLock.unlock();\n        } else if (receivedJson.contains(&quot;set&quot;)) {\n            Database db = new Database();\n            Lock writeLock = lock.writeLock();\n            String key = request.getKey();\n            String value = request.getValue();\n            try {\n                output.writeUTF(gson.toJson(db.setInformation(key, value)));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            writeDbToFile();\n            writeLock.unlock();\n        } else if (receivedJson.contains(&quot;delete&quot;)) {\n            Database db = new Database();\n            Lock writeLock = lock.writeLock();\n            String key = request.getKey();\n            try {\n                output.writeUTF(gson.toJson(db.deleteInformation(key)));\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            writeDbToFile();\n            writeLock.unlock();\n        }\n    }\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    private void writeDbToFile() {\n        Database db = new Database();\n        try (FileWriter fileWriter = new FileWriter(System.getProperty(&quot;user.dir&quot;) + &quot;/src/server/data/db.json&quot;, true)) {\n            for (var entry : db.getDb().entrySet()) {\n                fileWriter.write(entry.getKey() + &quot;:&quot; + entry.getValue() + &quot;\\n&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<pre><code>// server.Database\n\npackage server;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Database {\n\n    private final Map&lt;String, String&gt; db;\n    private static final String successMessage = &quot;OK&quot;;\n    private static final String errorMessage = &quot;ERROR&quot;;\n    private static final String noSuchKeyMessage = &quot;No such key&quot;;\n\n    public Database() {\n        this.db = new HashMap&lt;&gt;(1000);\n    }\n\n    public Map&lt;String, String&gt; getDb() {\n        return db;\n    }\n\n    public Response getInformation(String key) {\n        return db.containsKey(key) ? new Response(successMessage, db.get(key), false) :\n                new Response(errorMessage, noSuchKeyMessage);\n    }\n\n    public Response setInformation(String key, String value) {\n        db.put(key, value);\n        return new Response(successMessage);\n    }\n\n    public Response deleteInformation(String key) {\n        if (db.containsKey(key)) {\n            db.remove(key);\n            return new Response(successMessage);\n        } else {\n            return new Response(errorMessage, noSuchKeyMessage);\n        }\n    }\n}\n</code></pre>\n<pre><code>// server.Response\n\npackage server;\n\npublic class Response {\n\n    private final String response;\n    private final String reason;\n    private final String value;\n\n    public Response(String response) {\n        this.response = response;\n        this.reason = null;\n        this.value = null;\n    }\n\n    public Response(String response, String reason) {\n        this.response = response;\n        this.reason = reason;\n        this.value = null;\n    }\n\n    public Response(String response, String value, boolean isReason) {\n        this.response = response;\n        this.value = value;\n        this.reason = null;\n    }\n}\n</code></pre>\n<p>The test results:</p>\n<pre><code>Start test 1\nServer started!\nClient started!\nSent: {&quot;type&quot;:&quot;exit&quot;}\nServer closed the connection unexpectedly.\n\nStart test 2\n\nStart test 3\nServer started!\nClient started!\nSent: {&quot;type&quot;:&quot;get&quot;,&quot;key&quot;:&quot;1&quot;}\nServer closed the connection unexpectedly.\n</code></pre>\n<p>Based on the automated tests, I've put some print statements in the catch blocks to see what exactly the issue is, and saw that Client can't read the response that was sent from the Server. I thought that it might be caused by one of the threads closing the server before the response was sent in the first place, but as I have little to zero experience with multithreading, I'm not so sure.</p>\n<p>Program doesn't seem to have any issues with reading from and writing to files. To be honest, I'm not so sure that I have structured the multithreading behavior correct at this point. I'm also not so sure about the use of Locks here.</p>\n<p>I also tried to find similar problems on the Internet and alter my source code a bit depending on the suggestions here and there to no avail.</p>\n<p>Pardon any potential design and programming problems as I've just started learning programming this summer. Any help is very much appreciated.</p>\n"},{"tags":["java","spring-boot","spring-security"],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696452112,"creation_date":1696451768,"question_id":77232813,"body_markdown":"I got the following code as my security configuration (I have a custom authentication provider):\r\n\r\n```java\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\n@Slf4j\r\npublic class SecurityConfig {\r\n\r\n    AznServerAuthenticationProvider authenticationProvider = new AznServerAuthenticationProvider();\r\n\r\n    private static final String[] AUTH_WHITELIST = {\r\n        &quot;/error/**&quot;,\r\n        &quot;/srv/config/all/**&quot;,\r\n        &quot;/srv/config/properties/**&quot;\r\n    };\r\n\r\n    @Bean\r\n    public RoleHierarchy roleHierarchy() {\r\n        RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\r\n        hierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER\\n&quot;\r\n            + &quot;ROLE_ADMIN &gt; CONFIG_EDITOR\\n&quot;\r\n            + &quot;CONFIG_EDITOR &gt; ROLE_USER&quot;);\r\n        return hierarchy;\r\n    }\r\n\r\n    @Bean\r\n    public MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\r\n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\r\n        expressionHandler.setRoleHierarchy(roleHierarchy);\r\n        return expressionHandler;\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain actuatorSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.securityMatcher(EndpointRequest.toAnyEndpoint());\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().permitAll());\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        log.debug(&quot;In securityFilterChain&quot;);\r\n        http\r\n            .authenticationProvider(authenticationProvider)\r\n            .authorizeHttpRequests(auth -&gt; auth\r\n                .requestMatchers(AUTH_WHITELIST).permitAll()\r\n                .anyRequest().authenticated())\r\n            .httpBasic(Customizer.withDefaults());\r\n        http.csrf(csrf -&gt; csrf.disable());\r\n        return http.build();\r\n    }\r\n```\r\n\r\nAnd in my RestController class I got the following PUT endpoint:\r\n\r\n```java\r\n@RestController\r\npublic class PropertiesController {\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;CONFIG_EDITOR&#39;)&quot;)\r\n    @PutMapping(value = ConfigRestURIConstants.SRV_CONFIG_UPDATE_PROPERTY,\r\n            produces = {MediaType.APPLICATION_JSON_VALUE})\r\n    public ResponseEntity&lt;String&gt; addProperty(\r\n\r\n```\r\nIf I try access the endpoint ` http -a user:password PUT :8080/srv/config/property/update?service-name........` I get a 403 error.\r\n\r\n```text\r\n2023-10-04T20:15:43.603Z DEBUG 1 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /srv/config/property/update?service-name=.........\r\n2023-10-04T20:15:43.604Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.h.RoleHierarchyImpl              : getReachableGrantedAuthorities() - From the roles [ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER] one can reach [ROLE_USER, ROLE_ADMIN, CONFIG_EDITOR] in zero or more steps.\r\n2023-10-04T20:15:43.605Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity oracle.obaas.configserver.controller.PropertiesController.updateProperty(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String); target is of class [oracle.obaas.configserver.controller.PropertiesController] with attributes [[authorize: &#39;hasRole(&#39;CONFIG_EDITOR&#39;)&#39;, filter: &#39;null&#39;, filterTarget: &#39;null&#39;]]\r\n``` \r\n\r\nHowever if I change `@PreAuthorize(&quot;hasRole(&#39;CONFIG_EDITOR&#39;)&quot;)` to `@PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)` it works like a charm.\r\n\r\nThe user `admin` has the role `CONFIG_EDITOR`:\r\n```text\r\nSet SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=admin, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER]]\r\n```\r\n\r\nIt seems that the RoleHierarchy isn&#39;t applied or I&#39;m not using it the right way? Any great ideas what I&#39;m doing wrong?\r\n","title":"RoleHierarchy doesn&#39;t seem to be applied or misconfigured","body":"<p>I got the following code as my security configuration (I have a custom authentication provider):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SuppressWarnings(&quot;deprecation&quot;)\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n@Slf4j\npublic class SecurityConfig {\n\n    AznServerAuthenticationProvider authenticationProvider = new AznServerAuthenticationProvider();\n\n    private static final String[] AUTH_WHITELIST = {\n        &quot;/error/**&quot;,\n        &quot;/srv/config/all/**&quot;,\n        &quot;/srv/config/properties/**&quot;\n    };\n\n    @Bean\n    public RoleHierarchy roleHierarchy() {\n        RoleHierarchyImpl hierarchy = new RoleHierarchyImpl();\n        hierarchy.setHierarchy(&quot;ROLE_ADMIN &gt; ROLE_USER\\n&quot;\n            + &quot;ROLE_ADMIN &gt; CONFIG_EDITOR\\n&quot;\n            + &quot;CONFIG_EDITOR &gt; ROLE_USER&quot;);\n        return hierarchy;\n    }\n\n    @Bean\n    public MethodSecurityExpressionHandler methodSecurityExpressionHandler(RoleHierarchy roleHierarchy) {\n        DefaultMethodSecurityExpressionHandler expressionHandler = new DefaultMethodSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy);\n        return expressionHandler;\n    }\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain actuatorSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.securityMatcher(EndpointRequest.toAnyEndpoint());\n        http.authorizeHttpRequests((authorize) -&gt; authorize.anyRequest().permitAll());\n        return http.build();\n    }\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        log.debug(&quot;In securityFilterChain&quot;);\n        http\n            .authenticationProvider(authenticationProvider)\n            .authorizeHttpRequests(auth -&gt; auth\n                .requestMatchers(AUTH_WHITELIST).permitAll()\n                .anyRequest().authenticated())\n            .httpBasic(Customizer.withDefaults());\n        http.csrf(csrf -&gt; csrf.disable());\n        return http.build();\n    }\n</code></pre>\n<p>And in my RestController class I got the following PUT endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class PropertiesController {\n\n    @PreAuthorize(&quot;hasRole('CONFIG_EDITOR')&quot;)\n    @PutMapping(value = ConfigRestURIConstants.SRV_CONFIG_UPDATE_PROPERTY,\n            produces = {MediaType.APPLICATION_JSON_VALUE})\n    public ResponseEntity&lt;String&gt; addProperty(\n\n</code></pre>\n<p>If I try access the endpoint <code> http -a user:password PUT :8080/srv/config/property/update?service-name........</code> I get a 403 error.</p>\n<pre><code>2023-10-04T20:15:43.603Z DEBUG 1 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : Secured PUT /srv/config/property/update?service-name=.........\n2023-10-04T20:15:43.604Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.h.RoleHierarchyImpl              : getReachableGrantedAuthorities() - From the roles [ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER] one can reach [ROLE_USER, ROLE_ADMIN, CONFIG_EDITOR] in zero or more steps.\n2023-10-04T20:15:43.605Z DEBUG 1 --- [nio-8080-exec-3] o.s.s.a.i.a.MethodSecurityInterceptor    : Failed to authorize ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity oracle.obaas.configserver.controller.PropertiesController.updateProperty(java.lang.String,java.lang.String,java.lang.String,java.lang.String,java.lang.String); target is of class [oracle.obaas.configserver.controller.PropertiesController] with attributes [[authorize: 'hasRole('CONFIG_EDITOR')', filter: 'null', filterTarget: 'null']]\n</code></pre>\n<p>However if I change <code>@PreAuthorize(&quot;hasRole('CONFIG_EDITOR')&quot;)</code> to <code>@PreAuthorize(&quot;hasRole('USER')&quot;)</code> it works like a charm.</p>\n<p>The user <code>admin</code> has the role <code>CONFIG_EDITOR</code>:</p>\n<pre><code>Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=admin, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN, CONFIG_EDITOR, ROLE_USER]]\n</code></pre>\n<p>It seems that the RoleHierarchy isn't applied or I'm not using it the right way? Any great ideas what I'm doing wrong?</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"score":0,"creation_date":1693541161,"post_id":77014732,"comment_id":135777530,"body_markdown":"What are you sorting on? Is it guaranteed that the sort key that you use is unique?","body":"What are you sorting on? Is it guaranteed that the sort key that you use is unique?"},{"owner":{"account_id":7242780,"reputation":306,"user_id":5525820,"accept_rate":0,"display_name":"whysoseriousson"},"score":0,"creation_date":1693577073,"post_id":77014732,"comment_id":135783520,"body_markdown":"We have id field which we are sorting on and yes it is guaranteed to be unique.","body":"We have id field which we are sorting on and yes it is guaranteed to be unique."},{"owner":{"account_id":410920,"reputation":29385,"user_id":783043,"display_name":"imotov"},"score":0,"creation_date":1693591451,"post_id":77014732,"comment_id":135786151,"body_markdown":"Is this id field used as elasticsearch id field? If yes, I would need more concrete information here to figure this one out. How does searching request look like? Which version of elasticsearch you are using? Have you tried logging and counting records as they come out of elasticsearch to make sure the issue is on the elasticsearch side?","body":"Is this id field used as elasticsearch id field? If yes, I would need more concrete information here to figure this one out. How does searching request look like? Which version of elasticsearch you are using? Have you tried logging and counting records as they come out of elasticsearch to make sure the issue is on the elasticsearch side?"}],"owner":{"account_id":7242780,"reputation":306,"user_id":5525820,"accept_rate":0,"display_name":"whysoseriousson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696451836,"creation_date":1693475542,"question_id":77014732,"body_markdown":"We have an elastic search cluster that has multiple indices. In the cluster, we have master nodes and data nodes. The volume of data in these indices is huge around 100 million and we need to export them to relational DB.We are using elastic search client java library version 7.X.X\r\n\r\nThese indices are constantly been written by other applications, hence we decided to use search_after along with point in time (PIT).\r\n\r\nWe are fetching the data in loop with batch size of 100,000. After each hit to elastic search we insert the data in relation DB , extract sort information from hit and use it for next iteration. if after querying the hit count is zero we break out of loop and end the process.\r\n\r\nNow the issue is that when I query the index _count API it returns X . And when I am fetching data in the application using the mechanism described above, results different results every time process.\r\n\r\nI have no clue what could be the reason. There are no exception in the logs also. Kindly assist.","title":"Inconsistent results while using elastic searchafter with point in time in java","body":"<p>We have an elastic search cluster that has multiple indices. In the cluster, we have master nodes and data nodes. The volume of data in these indices is huge around 100 million and we need to export them to relational DB.We are using elastic search client java library version 7.X.X</p>\n<p>These indices are constantly been written by other applications, hence we decided to use search_after along with point in time (PIT).</p>\n<p>We are fetching the data in loop with batch size of 100,000. After each hit to elastic search we insert the data in relation DB , extract sort information from hit and use it for next iteration. if after querying the hit count is zero we break out of loop and end the process.</p>\n<p>Now the issue is that when I query the index _count API it returns X . And when I am fetching data in the application using the mechanism described above, results different results every time process.</p>\n<p>I have no clue what could be the reason. There are no exception in the logs also. Kindly assist.</p>\n"},{"tags":["java","eclipse","hibernate","debugging","web-applications"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693483063,"post_id":77015579,"comment_id":135768762,"body_markdown":"Can you share the startup logs?","body":"Can you share the startup logs?"},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693483677,"post_id":77015579,"comment_id":135768893,"body_markdown":"Do you mean the previous logs before the line I shared? Or the Eclipse startup log located on /metadata?","body":"Do you mean the previous logs before the line I shared? Or the Eclipse startup log located on /metadata?"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693483738,"post_id":77015579,"comment_id":135768903,"body_markdown":"yes, the logs for the application startup","body":"yes, the logs for the application startup"},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693484314,"post_id":77015579,"comment_id":135769024,"body_markdown":"I&#39;m adding it to the main post.","body":"I&#39;m adding it to the main post."},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693485627,"post_id":77015579,"comment_id":135769280,"body_markdown":"Are you having any breakpoints? `Window -&gt; Show view -&gt; Breakpoints`.","body":"Are you having any breakpoints? <code>Window -&gt; Show view -&gt; Breakpoints</code>."},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693485738,"post_id":77015579,"comment_id":135769302,"body_markdown":"No, no breakpoints. Already mentioned it on the post :)","body":"No, no breakpoints. Already mentioned it on the post :)"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1693486688,"post_id":77015579,"comment_id":135769510,"body_markdown":"Sometimes we get a confirmation box while starting the application in debug mode, I don&#39;t know the exact scenario. But until we give the confirmation the application startup will be paused. Is your application getting stopped at some time or is it still running? Can you reset your perspectives and try again? `Window -&gt; Perspective -&gt; Reset Perspective...`","body":"Sometimes we get a confirmation box while starting the application in debug mode, I don&#39;t know the exact scenario. But until we give the confirmation the application startup will be paused. Is your application getting stopped at some time or is it still running? Can you reset your perspectives and try again? <code>Window -&gt; Perspective -&gt; Reset Perspective...</code>"},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1693487000,"post_id":77015579,"comment_id":135769571,"body_markdown":"Yeah, I don&#39;t get to that box where it asks you if you want to switch perspectives. I&#39;ve also  tried to reset the perspective. Facing the same issue. It doesn&#180;t stop, it just stays there at that log line. I will add the &#39;expected&#39; logs to the main post, I think it could clarify a bit.","body":"Yeah, I don&#39;t get to that box where it asks you if you want to switch perspectives. I&#39;ve also  tried to reset the perspective. Facing the same issue. It doesn&#180;t stop, it just stays there at that log line. I will add the &#39;expected&#39; logs to the main post, I think it could clarify a bit."},{"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"score":0,"creation_date":1695119089,"post_id":77015579,"comment_id":135978549,"body_markdown":"@ArunSudhakaran I managed to solve it, maybe you are interested on checking it out.","body":"@ArunSudhakaran I managed to solve it, maybe you are interested on checking it out."}],"answers":[{"tags":[],"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695118561,"creation_date":1695118561,"answer_id":77133683,"question_id":77015579,"body_markdown":"I managed to solve it with the help of a colleague. As we weren&#39;t able to find the answer to the problem online, I&#39;m posting it here to help anyone who may be experiencing the same problem. \r\nWe found that the deployed Tomcat server (9.0) was using the default JRE configuration from Eclipse, which in my case would be 17 (using Eclipse 2023-06 (4.28.0)).\r\n\r\nWhenever I set up a new workspace, I changed the build level to 1.8, but it seems that the server was using the default Eclipse 2023 compilation level, which is 17. \r\n\r\nCreating a new server from scratch and forcing it to use an external JRE (1.8) did the trick.\r\n\r\nI think it has something to do with Hibernate, as I have not encountered a similar problem in other projects, which I can certainly run in debug without any problems.\r\n\r\nIf anyone knows why it worked, feel free to provide more info.\r\n\r\nThanks in advance!","title":"Eclipse debug mode stopping at DB connection","body":"<p>I managed to solve it with the help of a colleague. As we weren't able to find the answer to the problem online, I'm posting it here to help anyone who may be experiencing the same problem.\nWe found that the deployed Tomcat server (9.0) was using the default JRE configuration from Eclipse, which in my case would be 17 (using Eclipse 2023-06 (4.28.0)).</p>\n<p>Whenever I set up a new workspace, I changed the build level to 1.8, but it seems that the server was using the default Eclipse 2023 compilation level, which is 17.</p>\n<p>Creating a new server from scratch and forcing it to use an external JRE (1.8) did the trick.</p>\n<p>I think it has something to do with Hibernate, as I have not encountered a similar problem in other projects, which I can certainly run in debug without any problems.</p>\n<p>If anyone knows why it worked, feel free to provide more info.</p>\n<p>Thanks in advance!</p>\n"}],"owner":{"account_id":29337167,"reputation":11,"user_id":22477307,"display_name":"pmart"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77133683,"answer_count":1,"score":0,"last_activity_date":1696451811,"creation_date":1693482674,"question_id":77015579,"body_markdown":"I have a problem with Eclipse debug mode which I&#39;ve never encountered, and I haven&#39;t found any information on it searching the web.\r\n\r\nI&#39;m developing a Maven web app which is deployed on a Tomcat Server. It uses Hibernate. When running it normally, it works fine, but, when debugging, it stops at this point:\r\n\r\n    org.hibernate.dialect.Dialect - \r\n    Using dialect: org.hibernate.dialect.SQLServerDialect\r\n\r\nGiven the deploy stops here, I suppose it has to do with the connection with the DB which I think it shouldn&#39;t work any differently between &quot;normal&quot; running mode and debug.\r\n\r\nI&#39;ve tried switching the debug configurations, skipping all breakpoints (even not marking any breakpoints at all), and a few more things.\r\n\r\nI also tried running the debug mode remotely from the console command, which didn&#39;t work, but even if it did it would be a pain to have to run it that way.\r\n\r\nI&#39;m not sure if I&#39;m missing a configuration, I&#39;ve tried to debug it from other Eclipse instances and I have the same problem, so I suppose it depends on some particular configuration.\r\n\r\nIf you need more info to have a wider overview, lmk.\r\n\r\nThanks for any help!\r\n\r\nAdding more log info:\r\n\r\n```\r\n[main] INFO org.hibernate.cfg.Configuration - configuring from resource: /hibernate.cfg.xml\r\n[main] INFO org.hibernate.cfg.Configuration - Configuration resource: /hibernate.cfg.xml\r\n[main] WARN org.hibernate.util.DTDEntityResolver - recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!\r\n[main] INFO org.hibernate.cfg.Configuration - Configured SessionFactory: HibernateSessionFactory\r\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping class: * -&gt; *\r\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping collection: * -&gt; *\r\n[main] INFO org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring\r\n[main] INFO org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.\r\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override equals(): *\r\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override hashCode(): *\r\n[main] INFO org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider\r\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.microsoft.sqlserver.jdbc.SQLServerDriver at URL: ******\r\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {password=****, user=****}\r\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: false\r\n[main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.SQLServerDialect\r\n```\r\nIt just stops right there.\r\n\r\n****\r\nThe continuation I&#39;m expecting (taken from the normal run mode) would be something like this:\r\n\r\n```\r\n[main] INFO org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\r\n[main] INFO org.hibernate.cfg.SettingsFactory - Database -&gt;\r\n\t***\r\n[main] INFO org.hibernate.cfg.SettingsFactory - Driver -&gt;\r\n\t***\r\n[main] INFO org.hibernate.transaction.TransactionFactoryFactory - Using default transaction strategy (direct JDBC transactions)\r\n[main] INFO org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)\r\n...\r\n\r\n```\r\n(Basically it connects to the database and starts querying).\r\n","title":"Eclipse debug mode stopping at DB connection","body":"<p>I have a problem with Eclipse debug mode which I've never encountered, and I haven't found any information on it searching the web.</p>\n<p>I'm developing a Maven web app which is deployed on a Tomcat Server. It uses Hibernate. When running it normally, it works fine, but, when debugging, it stops at this point:</p>\n<pre><code>org.hibernate.dialect.Dialect - \nUsing dialect: org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>Given the deploy stops here, I suppose it has to do with the connection with the DB which I think it shouldn't work any differently between &quot;normal&quot; running mode and debug.</p>\n<p>I've tried switching the debug configurations, skipping all breakpoints (even not marking any breakpoints at all), and a few more things.</p>\n<p>I also tried running the debug mode remotely from the console command, which didn't work, but even if it did it would be a pain to have to run it that way.</p>\n<p>I'm not sure if I'm missing a configuration, I've tried to debug it from other Eclipse instances and I have the same problem, so I suppose it depends on some particular configuration.</p>\n<p>If you need more info to have a wider overview, lmk.</p>\n<p>Thanks for any help!</p>\n<p>Adding more log info:</p>\n<pre><code>[main] INFO org.hibernate.cfg.Configuration - configuring from resource: /hibernate.cfg.xml\n[main] INFO org.hibernate.cfg.Configuration - Configuration resource: /hibernate.cfg.xml\n[main] WARN org.hibernate.util.DTDEntityResolver - recognized obsolete hibernate namespace http://hibernate.sourceforge.net/. Use namespace http://www.hibernate.org/dtd/ instead. Refer to Hibernate 3.6 Migration Guide!\n[main] INFO org.hibernate.cfg.Configuration - Configured SessionFactory: HibernateSessionFactory\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping class: * -&gt; *\n[main] INFO org.hibernate.cfg.HbmBinder - Mapping collection: * -&gt; *\n[main] INFO org.hibernate.cfg.Configuration - Hibernate Validator not found: ignoring\n[main] INFO org.hibernate.cfg.search.HibernateSearchEventListenerRegister - Unable to find org.hibernate.search.event.FullTextIndexEventListener on the classpath. Hibernate Search is not enabled.\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override equals(): *\n[main] WARN org.hibernate.mapping.RootClass - composite-id class does not override hashCode(): *\n[main] INFO org.hibernate.connection.ConnectionProviderFactory - Initializing connection provider: org.hibernate.connection.C3P0ConnectionProvider\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - C3P0 using driver: com.microsoft.sqlserver.jdbc.SQLServerDriver at URL: ******\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - Connection properties: {password=****, user=****}\n[main] INFO org.hibernate.connection.C3P0ConnectionProvider - autocommit mode: false\n[main] INFO org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.SQLServerDialect\n</code></pre>\n<p>It just stops right there.</p>\n<hr />\n<p>The continuation I'm expecting (taken from the normal run mode) would be something like this:</p>\n<pre><code>[main] INFO org.hibernate.engine.jdbc.JdbcSupportLoader - Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException\n[main] INFO org.hibernate.cfg.SettingsFactory - Database -&gt;\n    ***\n[main] INFO org.hibernate.cfg.SettingsFactory - Driver -&gt;\n    ***\n[main] INFO org.hibernate.transaction.TransactionFactoryFactory - Using default transaction strategy (direct JDBC transactions)\n[main] INFO org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)\n...\n\n</code></pre>\n<p>(Basically it connects to the database and starts querying).</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1696451855,"post_id":77232652,"comment_id":136156484,"body_markdown":"Does this answer your question? [How to set Mapping in Mapstruct to get the Parent&#39;s field in Child&#39;s DTO?](https://stackoverflow.com/questions/77230604/how-to-set-mapping-in-mapstruct-to-get-the-parents-field-in-childs-dto)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/77230604/how-to-set-mapping-in-mapstruct-to-get-the-parents-field-in-childs-dto\">How to set Mapping in Mapstruct to get the Parent&#39;s field in Child&#39;s DTO?</a>"},{"owner":{"account_id":25412502,"reputation":29,"user_id":19220058,"display_name":"Evgen Kr"},"score":0,"creation_date":1696493197,"post_id":77232652,"comment_id":136160636,"body_markdown":"Thank you, Paul Marcelin Bejan, I had **@Builder** under Child class, when I delete **@Builder**, then it starts working. And I wonder how I can solve the problem without deleting the **@Builder**?","body":"Thank you, Paul Marcelin Bejan, I had <b>@Builder</b> under Child class, when I delete <b>@Builder</b>, then it starts working. And I wonder how I can solve the problem without deleting the <b>@Builder</b>?"},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1696943734,"post_id":77232652,"comment_id":136215083,"body_markdown":"Are you using Lombok? Have you seen https://stackoverflow.com/a/47684351/1115491?","body":"Are you using Lombok? Have you seen <a href=\"https://stackoverflow.com/a/47684351/1115491\">stackoverflow.com/a/47684351/1115491</a>?"}],"owner":{"account_id":25412502,"reputation":29,"user_id":19220058,"display_name":"Evgen Kr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696451598,"creation_date":1696450058,"question_id":77232652,"body_markdown":"Unknown property &quot;parentField&quot; in **target**. I can&#39;t set parentField to Child class, however there are setters and getters\r\n\r\n    public class Parent {\r\n        String parentField;\r\n    }\r\n    \r\n    public class Child extends Parent{\r\n    }\r\n    \r\n    public class ChildDTO{\r\n    String parentField;\r\n    }\r\n    \r\n    @Mapper (componentModel=&quot;spring&quot;)\r\n    public interface ChildMapper {\r\n       @Mapping(target=&quot;parentField&quot;, source=&quot;parentField&quot;)\r\n        Child toEntity(ChildDto dto);\r\n    }","title":"Properties from the super class are not mapped. MapStruct to map field in base class","body":"<p>Unknown property &quot;parentField&quot; in <strong>target</strong>. I can't set parentField to Child class, however there are setters and getters</p>\n<pre><code>public class Parent {\n    String parentField;\n}\n\npublic class Child extends Parent{\n}\n\npublic class ChildDTO{\nString parentField;\n}\n\n@Mapper (componentModel=&quot;spring&quot;)\npublic interface ChildMapper {\n   @Mapping(target=&quot;parentField&quot;, source=&quot;parentField&quot;)\n    Child toEntity(ChildDto dto);\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696448243,"post_id":77232486,"comment_id":136155872,"body_markdown":"No, I don&#39;t think there will be anything built in. It&#39;s a pretty strange use case. So if you want this, you&#39;ll have to code the objects yourself, do the mapping, then serialize to JSON.","body":"No, I don&#39;t think there will be anything built in. It&#39;s a pretty strange use case. So if you want this, you&#39;ll have to code the objects yourself, do the mapping, then serialize to JSON."},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1696449208,"post_id":77232486,"comment_id":136156027,"body_markdown":"Does &quot;Spring Boot record set&quot; mean you have that objects parsed, i.e. input is a List of some custom Objects?","body":"Does &quot;Spring Boot record set&quot; mean you have that objects parsed, i.e. input is a List of some custom Objects?"},{"owner":{"account_id":1367748,"reputation":2187,"user_id":1303827,"accept_rate":64,"display_name":"Tim S."},"score":0,"creation_date":1696449516,"post_id":77232486,"comment_id":136156074,"body_markdown":"Well it&#39;s a spring boot app that queries a database for some records, (the before diagram above) then needs to transform that into a JSON object (the after diagram).  I have a custom data type that stores it in my domain class. (Still learning a lot of the terminology since I&#39;m very new to java.)","body":"Well it&#39;s a spring boot app that queries a database for some records, (the before diagram above) then needs to transform that into a JSON object (the after diagram).  I have a custom data type that stores it in my domain class. (Still learning a lot of the terminology since I&#39;m very new to java.)"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":0,"creation_date":1696451061,"post_id":77232486,"comment_id":136156361,"body_markdown":"Are common fields set known in advance? Not exact values, but the fact that it is field1+field2+...+field4?","body":"Are common fields set known in advance? Not exact values, but the fact that it is field1+field2+...+field4?"},{"owner":{"account_id":1367748,"reputation":2187,"user_id":1303827,"accept_rate":64,"display_name":"Tim S."},"score":0,"creation_date":1696451897,"post_id":77232486,"comment_id":136156490,"body_markdown":"Yes, I know what all of the field names will be - in the example, it will always be Field1 - Field4, no more, and no less.","body":"Yes, I know what all of the field names will be - in the example, it will always be Field1 - Field4, no more, and no less."}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696451393,"creation_date":1696451393,"answer_id":77232781,"question_id":77232486,"body_markdown":"There is no out-of-the-box solution, however, you can benefit from stream API and java 16 records. Btw, records can be defined even locally in any method implementation.\r\n\r\n        record CommonFields(String field1, String field2, ...) {\r\n        }\r\n        record OtherFields(String field5, String field6, ...) {\r\n        }\r\n\r\n        Map&lt;CommonFields, List&lt;OtherFields&gt;&gt; groupedRecords = inputList.stream()\r\n                .map(e -&gt; Map.entry(new CommonFields(e.getField1(), e.getField2()), new OtherFields(e.getField5(), e.getField6())))\r\n                .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\r\n\r\nHaving such a map you can verify there is single entry and then either built a target custom object from it (could also be a record), either build a `JsonNode`. Target object and JsonNode could be serialized manually or passed to the Spring framework, usually default serialization will take place.","title":"Flattening or normalizing partial JSON records","body":"<p>There is no out-of-the-box solution, however, you can benefit from stream API and java 16 records. Btw, records can be defined even locally in any method implementation.</p>\n<pre><code>    record CommonFields(String field1, String field2, ...) {\n    }\n    record OtherFields(String field5, String field6, ...) {\n    }\n\n    Map&lt;CommonFields, List&lt;OtherFields&gt;&gt; groupedRecords = inputList.stream()\n            .map(e -&gt; Map.entry(new CommonFields(e.getField1(), e.getField2()), new OtherFields(e.getField5(), e.getField6())))\n            .collect(Collectors.groupingBy(Map.Entry::getKey, Collectors.mapping(Map.Entry::getValue, Collectors.toList())));\n</code></pre>\n<p>Having such a map you can verify there is single entry and then either built a target custom object from it (could also be a record), either build a <code>JsonNode</code>. Target object and JsonNode could be serialized manually or passed to the Spring framework, usually default serialization will take place.</p>\n"}],"owner":{"account_id":1367748,"reputation":2187,"user_id":1303827,"accept_rate":64,"display_name":"Tim S."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696451393,"creation_date":1696448074,"question_id":77232486,"body_markdown":"I&#39;ve got a Spring Boot record set that contains several fields that contain the same values. I will be returning this data as JSON in an HTTP response object. The common fields that are in every row (the first X fields of the records) should be unique, then the others should be returned as an array. In short, below is the before and (hopefully) after:\r\n\r\nWhat I currently Have:\r\n\r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n        &quot;Field5&quot;:&quot;John&quot;,\r\n        &quot;Field6&quot;:&quot;Smith&quot;,\r\n        &quot;Field7&quot;:&quot;24&quot;,\r\n        &quot;Field8&quot;:&quot;Ohio&quot;\r\n    }\r\n\r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n        &quot;Field5&quot;:&quot;Michael&quot;,\r\n        &quot;Field6&quot;:&quot;Jackson&quot;,\r\n        &quot;Field7&quot;:&quot;38&quot;,\r\n        &quot;Field8&quot;:&quot;California&quot;\r\n    }\r\n\r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n        &quot;Field5&quot;:&quot;Tim&quot;,\r\n        &quot;Field6&quot;:&quot;Burton&quot;,\r\n        &quot;Field7&quot;:&quot;45&quot;,\r\n        &quot;Field8&quot;:&quot;New York&quot;\r\n    }\r\n\r\nWhat I would like to transform this data info:\r\n \r\n    {\r\n        &quot;Field1&quot;:&quot;Foo&quot;,\r\n        &quot;Field2&quot;:&quot;Bar&quot;,\r\n        &quot;Field3&quot;:&quot;Fizz&quot;,\r\n        &quot;Field4&quot;:&quot;Buzz&quot;,\r\n            [\r\n\t            {&quot;Field5&quot;:&quot;John&quot;,&quot;Field6&quot;:&quot;Smith&quot;,&quot;Field7&quot;:&quot;24&quot;,&quot;Field8&quot;:&quot;Ohio&quot;},\r\n\t            {&quot;Field5&quot;:&quot;Michael&quot;,&quot;Field6&quot;:&quot;Jackson&quot;,&quot;Field7&quot;:&quot;38&quot;,&quot;Field8&quot;:&quot;California&quot;},\r\n\t            {&quot;Field5&quot;:&quot;Tim&quot;,&quot;Field6&quot;:&quot;Burton&quot;,&quot;Field7&quot;:&quot;45&quot;,&quot;Field8&quot;:&quot;New York&quot;}\r\n        ]\r\n    }\r\n\r\nIs there some magical java directive or annotation that would do something like that? I&#39;m pretty new to the language, and I&#39;ve already been quite amazed about how many extremely useful built-ins there are, so I&#39;m hoping that the magic hat has yet another rabbit in it. Of course I can write the logic manually to do the work, but if such a mechanism exists, I&#39;m sure it would be far more performant than anything I could write. \r\n\r\nAny help is appreciated!","title":"Flattening or normalizing partial JSON records","body":"<p>I've got a Spring Boot record set that contains several fields that contain the same values. I will be returning this data as JSON in an HTTP response object. The common fields that are in every row (the first X fields of the records) should be unique, then the others should be returned as an array. In short, below is the before and (hopefully) after:</p>\n<p>What I currently Have:</p>\n<pre><code>{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n    &quot;Field5&quot;:&quot;John&quot;,\n    &quot;Field6&quot;:&quot;Smith&quot;,\n    &quot;Field7&quot;:&quot;24&quot;,\n    &quot;Field8&quot;:&quot;Ohio&quot;\n}\n\n{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n    &quot;Field5&quot;:&quot;Michael&quot;,\n    &quot;Field6&quot;:&quot;Jackson&quot;,\n    &quot;Field7&quot;:&quot;38&quot;,\n    &quot;Field8&quot;:&quot;California&quot;\n}\n\n{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n    &quot;Field5&quot;:&quot;Tim&quot;,\n    &quot;Field6&quot;:&quot;Burton&quot;,\n    &quot;Field7&quot;:&quot;45&quot;,\n    &quot;Field8&quot;:&quot;New York&quot;\n}\n</code></pre>\n<p>What I would like to transform this data info:</p>\n<pre><code>{\n    &quot;Field1&quot;:&quot;Foo&quot;,\n    &quot;Field2&quot;:&quot;Bar&quot;,\n    &quot;Field3&quot;:&quot;Fizz&quot;,\n    &quot;Field4&quot;:&quot;Buzz&quot;,\n        [\n            {&quot;Field5&quot;:&quot;John&quot;,&quot;Field6&quot;:&quot;Smith&quot;,&quot;Field7&quot;:&quot;24&quot;,&quot;Field8&quot;:&quot;Ohio&quot;},\n            {&quot;Field5&quot;:&quot;Michael&quot;,&quot;Field6&quot;:&quot;Jackson&quot;,&quot;Field7&quot;:&quot;38&quot;,&quot;Field8&quot;:&quot;California&quot;},\n            {&quot;Field5&quot;:&quot;Tim&quot;,&quot;Field6&quot;:&quot;Burton&quot;,&quot;Field7&quot;:&quot;45&quot;,&quot;Field8&quot;:&quot;New York&quot;}\n    ]\n}\n</code></pre>\n<p>Is there some magical java directive or annotation that would do something like that? I'm pretty new to the language, and I've already been quite amazed about how many extremely useful built-ins there are, so I'm hoping that the magic hat has yet another rabbit in it. Of course I can write the logic manually to do the work, but if such a mechanism exists, I'm sure it would be far more performant than anything I could write.</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1696451093,"post_id":77232727,"comment_id":136156366,"body_markdown":"I don&#39;t use postgresql but normally the query would be written like `SELECT DISTINCT c FROM schedules c JOIN routes r ON r.id=c.routes_id` etc.","body":"I don&#39;t use postgresql but normally the query would be written like <code>SELECT DISTINCT c FROM schedules c JOIN routes r ON r.id=c.routes_id</code> etc."},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":2,"creation_date":1696451288,"post_id":77232727,"comment_id":136156401,"body_markdown":"`ON rs.stop_id` needs to evaluate to a boolean value so something like `ON rs.stop_id = &lt;some_value&gt;`, where `&lt;some_value&gt;` comes from another table.","body":"<code>ON rs.stop_id</code> needs to evaluate to a boolean value so something like <code>ON rs.stop_id = &lt;some_value&gt;</code>, where <code>&lt;some_value&gt;</code> comes from another table."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696451642,"post_id":77232727,"comment_id":136156452,"body_markdown":"I would suggest connecting directly to the database and trying your query there.","body":"I would suggest connecting directly to the database and trying your query there."},{"owner":{"account_id":27733991,"reputation":79,"user_id":21171938,"display_name":"Артем Лебідь"},"score":0,"creation_date":1696493911,"post_id":77232727,"comment_id":136160765,"body_markdown":"@DavidConradr Thank you for your answer! This really helps!","body":"@DavidConradr Thank you for your answer! This really helps!"},{"owner":{"account_id":27733991,"reputation":79,"user_id":21171938,"display_name":"Артем Лебідь"},"score":0,"creation_date":1696493955,"post_id":77232727,"comment_id":136160775,"body_markdown":"@AdrianKlaver My thanks to you!","body":"@AdrianKlaver My thanks to you!"}],"answers":[{"comments":[{"owner":{"account_id":27733991,"reputation":79,"user_id":21171938,"display_name":"Артем Лебідь"},"score":1,"creation_date":1696494238,"post_id":77232764,"comment_id":136160835,"body_markdown":"Thanks its really help for me, but after l got the error &#39;The column name id was not found in this ResultSet&#39; \n\nThis is fixed by just listing all the columns I need to get in the object, like:\n\n`@Query(value = &quot;SELECT DISTINCT c.id, c.accessibility, c.arrival_time, c.departure_time, c.price, c.seats, c.buses_id, c.routes_id FROM schedules c  ... &quot;`","body":"Thanks its really help for me, but after l got the error &#39;The column name id was not found in this ResultSet&#39;   This is fixed by just listing all the columns I need to get in the object, like:  <code>@Query(value = &quot;SELECT DISTINCT c.id, c.accessibility, c.arrival_time, c.departure_time, c.price, c.seats, c.buses_id, c.routes_id FROM schedules c  ... &quot;</code>"}],"tags":[],"owner":{"account_id":910051,"reputation":3554,"user_id":944099,"accept_rate":90,"display_name":"babanin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696451192,"creation_date":1696451192,"answer_id":77232764,"question_id":77232727,"body_markdown":"Since you are using `nativeQuery` (not JPQL/HQL) you need to specify join expressions properly:\r\n\r\n    @Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\r\n                    &quot;JOIN routes r ON c.routes_id = r.id &quot; +\r\n                    &quot;JOIN routes_stops rs on rs.route_id = r.id &quot; +\r\n                    &quot;JOIN stops s ON rs.stop_id = s.id&quot; +\r\n                    &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)","title":"ERROR: argument of JOIN/ON must be type boolean, not type bigint. Java Spring boot application","body":"<p>Since you are using <code>nativeQuery</code> (not JPQL/HQL) you need to specify join expressions properly:</p>\n<pre><code>@Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\n                &quot;JOIN routes r ON c.routes_id = r.id &quot; +\n                &quot;JOIN routes_stops rs on rs.route_id = r.id &quot; +\n                &quot;JOIN stops s ON rs.stop_id = s.id&quot; +\n                &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":27733991,"reputation":79,"user_id":21171938,"display_name":"Артем Лебідь"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77232764,"answer_count":1,"score":1,"last_activity_date":1696451192,"creation_date":1696450807,"question_id":77232727,"body_markdown":"I am developing a web application with bus schedules. I had the task of searching for a list of timetables in which there is a stop entered by the user. But when I write my query to the DB, I get an Whitelabel Error Page &quot;ERROR: argument of JOIN/ON must be type boolean, not type bigint&quot;\r\n\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    JDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint Position: 53] [n/a]; SQL [n/a]\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint\r\n      Position: 53] [n/a]; SQL [n/a]\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\r\n\r\n\r\nMy request looks like this:\r\n\r\n\r\n    public interface ScheduleRepository extends JpaRepository&lt;Schedule, Long&gt; {\r\n        \r\n    // more methods ... \r\n\r\n        @Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\r\n                        &quot;JOIN routes r ON c.routes_id &quot; +\r\n                        &quot;JOIN routes_stops rs on r.route_id &quot; +\r\n                        &quot;JOIN stops s ON rs.stop_id &quot; +\r\n                        &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\r\n                                                  @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\r\n                                                  @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\r\n    \r\n    }\r\n\r\n\r\nService interface:\r\n\r\n    public interface ScheduleService {\r\n\r\n        // more methods ... \r\n\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName);\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName);\r\n        List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName);\r\n    }\r\n\r\nServiceImpl: \r\n\r\n    @Service\r\n    public class ScheduleServiceImpl implements ScheduleService {\r\n        private ScheduleRepository repository;\r\n    \r\n        @Autowired\r\n        public ScheduleServiceImpl(ScheduleRepository repository) {\r\n            this.repository = repository;\r\n        }\r\n    \r\n        // more methods ... \r\n    \r\n        @Override\r\n        public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName) {\r\n            LocalDateTime currentDateTime = LocalDateTime.now();\r\n            LocalDateTime endOfDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\r\n    \r\n            List&lt;Schedule&gt; scheduleToday = repository.findAllByStopsAndTimeForSearch(stopName, currentDateTime, endOfDay);\r\n            return scheduleToday;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName) {\r\n            LocalDateTime currentDateTime = LocalDateTime.now();\r\n            LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\r\n            LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\r\n            List&lt;Schedule&gt; scheduleTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\r\n            return scheduleTomorrow;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName) {\r\n            LocalDateTime currentDateTime = LocalDateTime.now();\r\n            LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\r\n            LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\r\n            List&lt;Schedule&gt; scheduleAfterTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\r\n            return scheduleAfterTomorrow;\r\n        }\r\n    }\r\nController:\r\n\r\n    @Controller\r\n    public class BusController {\r\n        private ScheduleService scheduleService;\r\n    \r\n        @Autowired\r\n        public BusController(ScheduleService scheduleService) {\r\n            this.scheduleService = scheduleService;\r\n        }\r\n    \r\n        // more methods ...\r\n    \r\n        @GetMapping(&quot;/schedule/search&quot;)\r\n        public String searchBuses(@Valid @ModelAttribute(&quot;search&quot;) SearchDto search,\r\n                                  BindingResult bindingResult,\r\n                                  Model model){\r\n            if(bindingResult.hasErrors()){\r\n                LocalDateTime currentTime = LocalDateTime.now();\r\n    \r\n                model.addAttribute(&quot;time&quot;, currentTime);\r\n                model.addAttribute(&quot;search&quot;, search);\r\n                return &quot;buses-list&quot;;\r\n            }\r\n    \r\n            LocalDateTime currentTime = LocalDateTime.now();\r\n            List&lt;Schedule&gt; scheduleToday = scheduleService.findAllByStopsAndTimeForSearchToday(search.getSearchLine());\r\n            List&lt;Schedule&gt; scheduleTomorrow = scheduleService.findAllByStopsAndTimeForSearchTomorrow(search.getSearchLine());\r\n            List&lt;Schedule&gt; scheduleAfterTomorrow = scheduleService.findAllByStopsAndTimeForSearchAfterTomorrow(search.getSearchLine());\r\n    \r\n            model.addAttribute(&quot;time&quot;, currentTime);\r\n            model.addAttribute(&quot;scheduleToday&quot;, scheduleToday);\r\n            model.addAttribute(&quot;scheduleTomorrow&quot;, scheduleTomorrow);\r\n            model.addAttribute(&quot;scheduleAfterTomorrow&quot;, scheduleAfterTomorrow);\r\n            model.addAttribute(&quot;search&quot;, new SearchDto());\r\n    \r\n            return &quot;buses-list&quot;;\r\n        }\r\n    }\r\nDatabase table objects look like this:\r\n\r\nSchedule:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;schedules&quot;)\r\n    public class Schedule {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;buses_id&quot;)\r\n        private Bus bus;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;routes_id&quot;)\r\n        private Route route;\r\n        private Double price;\r\n        private String accessibility;\r\n        private Integer seats;\r\n        private LocalDateTime arrivalTime;\r\n        private LocalDateTime departureTime;\r\n    }\r\n\r\nRoute:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;routes&quot;)\r\n    public class Route {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @OneToMany(mappedBy = &quot;route&quot;)\r\n        private List&lt;Schedule&gt; schedule;\r\n        @OneToMany(\r\n                mappedBy = &quot;route&quot;,\r\n                cascade = CascadeType.ALL,\r\n                orphanRemoval = true\r\n        )\r\n        private List&lt;RoutesStops&gt; routesStops;\r\n    }\r\n\r\nStop:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;stops&quot;)\r\n    public class Stop {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @OneToMany(\r\n                mappedBy = &quot;stop&quot;,\r\n                cascade = CascadeType.ALL,\r\n                orphanRemoval = true\r\n        )\r\n        private List&lt;RoutesStops&gt; routesStops;\r\n    }\r\n\r\nRoutesStopsId:\r\n\r\n    @Embeddable\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class RoutesStopsId implements Serializable {\r\n        private Long routeId;\r\n        private Long stopId;\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            RoutesStopsId that = (RoutesStopsId) o;\r\n            return Objects.equals(routeId, that.routeId) &amp;&amp; Objects.equals(stopId, that.stopId);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(routeId, stopId);\r\n        }\r\n    }\r\n\r\nRoutesStops:\r\n\r\n    @Entity\r\n    @Table(name = &quot;routes_stops&quot;)\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class RoutesStops {\r\n        @EmbeddedId\r\n        private RoutesStopsId id;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;routeId&quot;)\r\n        private Route route;\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @MapsId(&quot;stopId&quot;)\r\n        private Stop stop;\r\n        private Integer stopNumber;\r\n        private Double price;\r\n        private LocalTime arrivalTime;\r\n        private LocalTime departureTime;\r\n    }\r\n\r\nBus:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;buses&quot;)\r\n    public class Bus {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        private String licensePlate;\r\n        @OneToMany(mappedBy = &quot;bus&quot;)\r\n        private List&lt;Schedule&gt; schedule;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;company_id&quot;)\r\n        private Company company;\r\n    }\r\n\r\nCompany:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;companies&quot;)\r\n    public class Company {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n        private String name;\r\n        @OneToMany(mappedBy = &quot;company&quot;)\r\n        private List&lt;Bus&gt; bus;\r\n    }\r\n\r\nI think that the problem is in the very construction of the request to the database or I didn&#39;t organize or link the DB tables correctly.\r\n\r\nAccording to one of the recommendations that I read, I changed the request to something like this\r\nMethod in repository:\r\n\r\n    @Query(&quot;SELECT DISTINCT c FROM Schedule c &quot; +\r\n            &quot;JOIN Route r ON c.route &quot; +\r\n            &quot;JOIN RoutesStops rs on r.routesStops &quot; +\r\n            &quot;JOIN Stop s ON rs.stop &quot; +\r\n            &quot;WHERE s.name = :stopName and c.departureTime &gt;= :departureTime and c.departureTime &lt; :endOfDay&quot;)\r\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\r\n                                                 @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\r\n                                                 @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\r\n\r\nBut after that I got another error:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;busController&#39; defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/controller/BusController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;scheduleServiceImpl&#39; defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/service/impl/ScheduleServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;scheduleRepository&#39; defined in com.busschedule.web.repository.ScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime); Reason: Validation failed for query for method public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\r\n\r\nNow I am confused and do not understand which error is better to correct and in which direction to move","title":"ERROR: argument of JOIN/ON must be type boolean, not type bigint. Java Spring boot application","body":"<p>I am developing a web application with bus schedules. I had the task of searching for a list of timetables in which there is a stop entered by the user. But when I write my query to the DB, I get an Whitelabel Error Page &quot;ERROR: argument of JOIN/ON must be type boolean, not type bigint&quot;</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nJDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint Position: 53] [n/a]; SQL [n/a]\norg.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT DISTINCT c FROM schedules c JOIN routes r ON c.routes_id JOIN routes_stops rs on r.route_id JOIN stops s ON rs.stop_id WHERE s.name = ? and c.departure_time &gt;= ? and c.departure_time &lt; ?] [ERROR: argument of JOIN/ON must be type boolean, not type bigint\n  Position: 53] [n/a]; SQL [n/a]\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:229)\n</code></pre>\n<p>My request looks like this:</p>\n<pre><code>public interface ScheduleRepository extends JpaRepository&lt;Schedule, Long&gt; {\n    \n// more methods ... \n\n    @Query(value = &quot;SELECT DISTINCT c FROM schedules c &quot; +\n                    &quot;JOIN routes r ON c.routes_id &quot; +\n                    &quot;JOIN routes_stops rs on r.route_id &quot; +\n                    &quot;JOIN stops s ON rs.stop_id &quot; +\n                    &quot;WHERE s.name = :stopName and c.departure_time &gt;= :departureTime and c.departure_time &lt; :endOfDay&quot;, nativeQuery = true)\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\n                                              @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\n                                              @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\n\n}\n</code></pre>\n<p>Service interface:</p>\n<pre><code>public interface ScheduleService {\n\n    // more methods ... \n\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName);\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName);\n    List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName);\n}\n</code></pre>\n<p>ServiceImpl:</p>\n<pre><code>@Service\npublic class ScheduleServiceImpl implements ScheduleService {\n    private ScheduleRepository repository;\n\n    @Autowired\n    public ScheduleServiceImpl(ScheduleRepository repository) {\n        this.repository = repository;\n    }\n\n    // more methods ... \n\n    @Override\n    public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchToday(String stopName) {\n        LocalDateTime currentDateTime = LocalDateTime.now();\n        LocalDateTime endOfDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\n\n        List&lt;Schedule&gt; scheduleToday = repository.findAllByStopsAndTimeForSearch(stopName, currentDateTime, endOfDay);\n        return scheduleToday;\n    }\n\n    @Override\n    public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchTomorrow(String stopName) {\n        LocalDateTime currentDateTime = LocalDateTime.now();\n        LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\n        LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(1).atTime(LocalTime.MIDNIGHT);\n        List&lt;Schedule&gt; scheduleTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\n        return scheduleTomorrow;\n    }\n\n    @Override\n    public List&lt;Schedule&gt; findAllByStopsAndTimeForSearchAfterTomorrow(String stopName) {\n        LocalDateTime currentDateTime = LocalDateTime.now();\n        LocalDateTime startOfNextDay = currentDateTime.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\n        LocalDateTime endOfNextDay = startOfNextDay.toLocalDate().plusDays(2).atTime(LocalTime.MIDNIGHT);\n        List&lt;Schedule&gt; scheduleAfterTomorrow = repository.findAllByStopsAndTimeForSearch(stopName, startOfNextDay, endOfNextDay);\n        return scheduleAfterTomorrow;\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@Controller\npublic class BusController {\n    private ScheduleService scheduleService;\n\n    @Autowired\n    public BusController(ScheduleService scheduleService) {\n        this.scheduleService = scheduleService;\n    }\n\n    // more methods ...\n\n    @GetMapping(&quot;/schedule/search&quot;)\n    public String searchBuses(@Valid @ModelAttribute(&quot;search&quot;) SearchDto search,\n                              BindingResult bindingResult,\n                              Model model){\n        if(bindingResult.hasErrors()){\n            LocalDateTime currentTime = LocalDateTime.now();\n\n            model.addAttribute(&quot;time&quot;, currentTime);\n            model.addAttribute(&quot;search&quot;, search);\n            return &quot;buses-list&quot;;\n        }\n\n        LocalDateTime currentTime = LocalDateTime.now();\n        List&lt;Schedule&gt; scheduleToday = scheduleService.findAllByStopsAndTimeForSearchToday(search.getSearchLine());\n        List&lt;Schedule&gt; scheduleTomorrow = scheduleService.findAllByStopsAndTimeForSearchTomorrow(search.getSearchLine());\n        List&lt;Schedule&gt; scheduleAfterTomorrow = scheduleService.findAllByStopsAndTimeForSearchAfterTomorrow(search.getSearchLine());\n\n        model.addAttribute(&quot;time&quot;, currentTime);\n        model.addAttribute(&quot;scheduleToday&quot;, scheduleToday);\n        model.addAttribute(&quot;scheduleTomorrow&quot;, scheduleTomorrow);\n        model.addAttribute(&quot;scheduleAfterTomorrow&quot;, scheduleAfterTomorrow);\n        model.addAttribute(&quot;search&quot;, new SearchDto());\n\n        return &quot;buses-list&quot;;\n    }\n}\n</code></pre>\n<p>Database table objects look like this:</p>\n<p>Schedule:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;schedules&quot;)\npublic class Schedule {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @ManyToOne\n    @JoinColumn(name = &quot;buses_id&quot;)\n    private Bus bus;\n    @ManyToOne\n    @JoinColumn(name = &quot;routes_id&quot;)\n    private Route route;\n    private Double price;\n    private String accessibility;\n    private Integer seats;\n    private LocalDateTime arrivalTime;\n    private LocalDateTime departureTime;\n}\n</code></pre>\n<p>Route:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;routes&quot;)\npublic class Route {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @OneToMany(mappedBy = &quot;route&quot;)\n    private List&lt;Schedule&gt; schedule;\n    @OneToMany(\n            mappedBy = &quot;route&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private List&lt;RoutesStops&gt; routesStops;\n}\n</code></pre>\n<p>Stop:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;stops&quot;)\npublic class Stop {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @OneToMany(\n            mappedBy = &quot;stop&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private List&lt;RoutesStops&gt; routesStops;\n}\n</code></pre>\n<p>RoutesStopsId:</p>\n<pre><code>@Embeddable\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class RoutesStopsId implements Serializable {\n    private Long routeId;\n    private Long stopId;\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        RoutesStopsId that = (RoutesStopsId) o;\n        return Objects.equals(routeId, that.routeId) &amp;&amp; Objects.equals(stopId, that.stopId);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(routeId, stopId);\n    }\n}\n</code></pre>\n<p>RoutesStops:</p>\n<pre><code>@Entity\n@Table(name = &quot;routes_stops&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RoutesStops {\n    @EmbeddedId\n    private RoutesStopsId id;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;routeId&quot;)\n    private Route route;\n    @ManyToOne(fetch = FetchType.LAZY)\n    @MapsId(&quot;stopId&quot;)\n    private Stop stop;\n    private Integer stopNumber;\n    private Double price;\n    private LocalTime arrivalTime;\n    private LocalTime departureTime;\n}\n</code></pre>\n<p>Bus:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;buses&quot;)\npublic class Bus {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    private String licensePlate;\n    @OneToMany(mappedBy = &quot;bus&quot;)\n    private List&lt;Schedule&gt; schedule;\n    @ManyToOne\n    @JoinColumn(name = &quot;company_id&quot;)\n    private Company company;\n}\n</code></pre>\n<p>Company:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;companies&quot;)\npublic class Company {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n    @OneToMany(mappedBy = &quot;company&quot;)\n    private List&lt;Bus&gt; bus;\n}\n</code></pre>\n<p>I think that the problem is in the very construction of the request to the database or I didn't organize or link the DB tables correctly.</p>\n<p>According to one of the recommendations that I read, I changed the request to something like this\nMethod in repository:</p>\n<pre><code>@Query(&quot;SELECT DISTINCT c FROM Schedule c &quot; +\n        &quot;JOIN Route r ON c.route &quot; +\n        &quot;JOIN RoutesStops rs on r.routesStops &quot; +\n        &quot;JOIN Stop s ON rs.stop &quot; +\n        &quot;WHERE s.name = :stopName and c.departureTime &gt;= :departureTime and c.departureTime &lt; :endOfDay&quot;)\nList&lt;Schedule&gt; findAllByStopsAndTimeForSearch(@Param(&quot;stopName&quot;) String stopName,\n                                             @Param(&quot;departureTime&quot;)LocalDateTime departureTime,\n                                             @Param(&quot;endOfDay&quot;) LocalDateTime endOfDay);\n</code></pre>\n<p>But after that I got another error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'busController' defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/controller/BusController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'scheduleServiceImpl' defined in file [/Users/artem/IdeaProjects/Bus Schedule Application/target/classes/com/busschedule/web/service/impl/ScheduleServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'scheduleRepository' defined in com.busschedule.web.repository.ScheduleRepository defined in @EnableJpaRepositories declared on JpaRepositoriesRegistrar.EnableJpaRepositoriesConfiguration: Could not create query for public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime); Reason: Validation failed for query for method public abstract java.util.List com.busschedule.web.repository.ScheduleRepository.findAllByStopsAndTimeForSearch(java.lang.String,java.time.LocalDateTime,java.time.LocalDateTime)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-6.0.11.jar:6.0.11]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:245) ~[spring-beans-6.0.11.jar:6.0.11]\n</code></pre>\n<p>Now I am confused and do not understand which error is better to correct and in which direction to move</p>\n"},{"tags":["java","multithreading","simulation","deadlock"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696448082,"post_id":77232271,"comment_id":136155842,"body_markdown":"Most likely the I/O that&#39;s happening causes the scheduler to decide that&#39;s a good time to switch threads, or something. You definitely can&#39;t rely on that type of behaviour.","body":"Most likely the I/O that&#39;s happening causes the scheduler to decide that&#39;s a good time to switch threads, or something. You definitely can&#39;t rely on that type of behaviour."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1696449034,"post_id":77232271,"comment_id":136156009,"body_markdown":"Concurrency problems are hard for a reason. Sometimes you can&#39;t know how to reproduce them intentionally.","body":"Concurrency problems are hard for a reason. Sometimes you can&#39;t know how to reproduce them intentionally."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1696459791,"post_id":77232271,"comment_id":136157484,"body_markdown":"If you synchronize on the objects in different orders you will deadlock. If you always synchronize in the same order you won&#39;t.","body":"If you synchronize on the objects in different orders you will deadlock. If you always synchronize in the same order you won&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1696451181,"creation_date":1696451181,"answer_id":77232763,"question_id":77232271,"body_markdown":"&gt; By my understanding this should end up in deadlock.\r\n\r\nNo. It _could_ end up in deadlock, but without those `println` calls the chances are slim. When I say, &quot;slim,&quot; I&#39;m talking about the kind of slim chances where; a company I worked for tested a new release of a product for several weeks, and after all the tests passed, we shipped it out to a dozen or so clients. The clients then ran with it for half a year before a deadlock happened on _one_ of those client&#39;s servers, disrupting their e-commerce web site. (\\*I\\* got the fun job of figuring out what happened by studying the 4Gb core file that they sent back to us.)\r\n\r\nWithout those `println` calls, what is \\*MUCH\\* more likely to happen is; either thread locks both of the mutexes before the other gets a chance to try, it does its work, and then the other thread has its turn.","title":"Unable to simulate deadlock in java with nested synchronized","body":"<blockquote>\n<p>By my understanding this should end up in deadlock.</p>\n</blockquote>\n<p>No. It <em>could</em> end up in deadlock, but without those <code>println</code> calls the chances are slim. When I say, &quot;slim,&quot; I'm talking about the kind of slim chances where; a company I worked for tested a new release of a product for several weeks, and after all the tests passed, we shipped it out to a dozen or so clients. The clients then ran with it for half a year before a deadlock happened on <em>one</em> of those client's servers, disrupting their e-commerce web site. (*I* got the fun job of figuring out what happened by studying the 4Gb core file that they sent back to us.)</p>\n<p>Without those <code>println</code> calls, what is *MUCH* more likely to happen is; either thread locks both of the mutexes before the other gets a chance to try, it does its work, and then the other thread has its turn.</p>\n"}],"owner":{"account_id":29597929,"reputation":1,"user_id":22684060,"display_name":"Java_dev_dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696451181,"creation_date":1696445504,"question_id":77232271,"body_markdown":"I was playing around with threads in Java and decided to simulate deadlock situation but was unable do it.\r\n\r\nFollowing code couldn&#39;t result in deadlock situation before adding statement between nested synchronized blocks:\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static class Account {\r\n\r\n        String name;\r\n\r\n        AtomicInteger money = new AtomicInteger(0);\r\n\r\n        void deposit(final int amount){\r\n            money.addAndGet(amount);\r\n        }\r\n\r\n        void withdraw(final int amount){\r\n            money.getAndAdd(-amount);\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws ExecutionException, InterruptedException, Exception {\r\n        int n = 5000;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            Thread thread1 = new Thread(() -&gt; transfer(account1, account2, 1));\r\n            Thread thread2 = new Thread(() -&gt; transfer(account2, account1, 2));\r\n            thread1.start();\r\n            thread2.start();\r\n            thread1.join();\r\n            thread2.join();\r\n         \r\n            \r\n        }\r\n    }\r\n\r\n    public static void transfer(Account from, Account to, int amount){\r\n        System.out.println(&quot;Hello from :&quot; + Thread.currentThread());\r\n        synchronized(from){\r\n         // If bellow line is uncommented deadlock will occur, otherwise not\r\n         // System.out.println();\r\n            synchronized(to){\r\n                from.withdraw(amount);\r\n                to.deposit(amount);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBy my understanding this should end up in deadlock especially when runing simulation 5k times and  but application would terminate successfully after setting n to arbitrary large int. After adding simple println statement between two nested sync statement:\r\n   \r\n```\r\nsynchronized(from){\r\n            **System.out.println();**\r\n            synchronized(to){\r\n```\r\nI got deadlock. \r\n\r\nI am confused why it is not happening when there is no statement between syncs. Am I missing something or there is some inherent Java mechanism (optimisation) which gives one thread priority over nested synchronize if there are no intermediate statement? Or it is just my machine/JVM/OS combo?\r\n\r\n\r\n","title":"Unable to simulate deadlock in java with nested synchronized","body":"<p>I was playing around with threads in Java and decided to simulate deadlock situation but was unable do it.</p>\n<p>Following code couldn't result in deadlock situation before adding statement between nested synchronized blocks:</p>\n<pre><code>public class Main {\n\n    public static class Account {\n\n        String name;\n\n        AtomicInteger money = new AtomicInteger(0);\n\n        void deposit(final int amount){\n            money.addAndGet(amount);\n        }\n\n        void withdraw(final int amount){\n            money.getAndAdd(-amount);\n        }\n    }\n\n\n    public static void main(String[] args) throws ExecutionException, InterruptedException, Exception {\n        int n = 5000;\n        for (int i = 0; i &lt; n; i++) {\n            Thread thread1 = new Thread(() -&gt; transfer(account1, account2, 1));\n            Thread thread2 = new Thread(() -&gt; transfer(account2, account1, 2));\n            thread1.start();\n            thread2.start();\n            thread1.join();\n            thread2.join();\n         \n            \n        }\n    }\n\n    public static void transfer(Account from, Account to, int amount){\n        System.out.println(&quot;Hello from :&quot; + Thread.currentThread());\n        synchronized(from){\n         // If bellow line is uncommented deadlock will occur, otherwise not\n         // System.out.println();\n            synchronized(to){\n                from.withdraw(amount);\n                to.deposit(amount);\n            }\n        }\n    }\n}\n</code></pre>\n<p>By my understanding this should end up in deadlock especially when runing simulation 5k times and  but application would terminate successfully after setting n to arbitrary large int. After adding simple println statement between two nested sync statement:</p>\n<pre><code>synchronized(from){\n            **System.out.println();**\n            synchronized(to){\n</code></pre>\n<p>I got deadlock.</p>\n<p>I am confused why it is not happening when there is no statement between syncs. Am I missing something or there is some inherent Java mechanism (optimisation) which gives one thread priority over nested synchronize if there are no intermediate statement? Or it is just my machine/JVM/OS combo?</p>\n"},{"tags":["java","android"],"owner":{"account_id":22645084,"reputation":3,"user_id":16820579,"display_name":"Yaser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696450334,"creation_date":1696450334,"question_id":77232678,"body_markdown":"I am new to android programming .what I am trying to accomplish is start and end a phone call programmatically. for starting a dial I just followed [this](https://www.geeksforgeeks.org/how-to-make-a-phone-call-from-an-android-application/) and everything work fine. But to end a call there is no full resource that explain everything .I find [this](https://stackoverflow.com/questions/18065144/end-call-in-android-programmatically) discussion and I am bothering how to import the .idle interface to work for me. or if there is an alternative way to end the call \r\n\r\n\r\n\r\n\r\n \r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    // define objects for edit text and button\r\n    EditText edittext;\r\n    Button button;\r\n\r\n    Button end;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Getting instance of edittext and button\r\n        button = findViewById(R.id.button);\r\n        end = findViewById(R.id.button3);\r\n        edittext = findViewById(R.id.editText);\r\n\r\n        // Attach set on click listener to the button for initiating intent\r\n        button.setOnClickListener(arg -&gt; {\r\n            // getting phone number from edit text and changing it to String\r\n            String phone_number = edittext.getText().toString();\r\n\r\n            // Getting instance of Intent with action as ACTION_CALL\r\n            Intent phone_intent = new Intent(Intent.ACTION_CALL);\r\n\r\n            // Set data of Intent through Uri by parsing phone number\r\n            phone_intent.setData(Uri.parse(&quot;tel:&quot; + phone_number));\r\n\r\n            // start Intent\r\n            startActivity(phone_intent);\r\n        });\r\n        end.setOnClickListener(arg -&gt; {\r\n            TelephonyManager telephonyManager = (TelephonyManager)getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\r\n            Class clazz = null;\r\n            try {\r\n                clazz = Class.forName(telephonyManager.getClass().getName());\r\n                Method method = clazz.getDeclaredMethod(&quot;getITelephony&quot;);\r\n                method.setAccessible(true);\r\n                ITelephony telephonyService = (ITelephony) method.invoke(telephonyManager);\r\n                telephonyService.endCall();\r\n            } catch (ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (InvocationTargetException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (NoSuchMethodException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IllegalAccessException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        });\r\n\r\n    }\r\n}\r\n```\r\n","title":"how to end on going call on android programatically","body":"<p>I am new to android programming .what I am trying to accomplish is start and end a phone call programmatically. for starting a dial I just followed <a href=\"https://www.geeksforgeeks.org/how-to-make-a-phone-call-from-an-android-application/\" rel=\"nofollow noreferrer\">this</a> and everything work fine. But to end a call there is no full resource that explain everything .I find <a href=\"https://stackoverflow.com/questions/18065144/end-call-in-android-programmatically\">this</a> discussion and I am bothering how to import the .idle interface to work for me. or if there is an alternative way to end the call</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    // define objects for edit text and button\n    EditText edittext;\n    Button button;\n\n    Button end;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Getting instance of edittext and button\n        button = findViewById(R.id.button);\n        end = findViewById(R.id.button3);\n        edittext = findViewById(R.id.editText);\n\n        // Attach set on click listener to the button for initiating intent\n        button.setOnClickListener(arg -&gt; {\n            // getting phone number from edit text and changing it to String\n            String phone_number = edittext.getText().toString();\n\n            // Getting instance of Intent with action as ACTION_CALL\n            Intent phone_intent = new Intent(Intent.ACTION_CALL);\n\n            // Set data of Intent through Uri by parsing phone number\n            phone_intent.setData(Uri.parse(&quot;tel:&quot; + phone_number));\n\n            // start Intent\n            startActivity(phone_intent);\n        });\n        end.setOnClickListener(arg -&gt; {\n            TelephonyManager telephonyManager = (TelephonyManager)getApplicationContext().getSystemService(Context.TELEPHONY_SERVICE);\n            Class clazz = null;\n            try {\n                clazz = Class.forName(telephonyManager.getClass().getName());\n                Method method = clazz.getDeclaredMethod(&quot;getITelephony&quot;);\n                method.setAccessible(true);\n                ITelephony telephonyService = (ITelephony) method.invoke(telephonyManager);\n                telephonyService.endCall();\n            } catch (ClassNotFoundException e) {\n                throw new RuntimeException(e);\n            } catch (InvocationTargetException e) {\n                throw new RuntimeException(e);\n            } catch (NoSuchMethodException e) {\n                throw new RuntimeException(e);\n            } catch (IllegalAccessException e) {\n                throw new RuntimeException(e);\n            }\n\n        });\n\n    }\n}\n</code></pre>\n"},{"tags":["java","classloader","classcastexception","sap-cpi"],"owner":{"account_id":1489257,"reputation":393,"user_id":1396775,"accept_rate":78,"display_name":"Vladimir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696450045,"creation_date":1687377139,"question_id":76526703,"body_markdown":"I&#39;m working on a Groovy script in the SAP CPI environment which means the script runs in a somewhat canned JVM. \r\n\r\nI uploaded the `jjwt-api-0.11.2`, `jjwt-impl-0.11.2` and `jjwt-jackson-0.11.2` jars, in order to build a JWT. \r\n\r\n**The first run just after deployment the script runs just fine**, but every run afterwards I get the following error: \r\n\r\n```\r\ncom.sap.it.rt.adapter.http.api.exception.HttpResponseException: An internal server error occured: java.lang.ClassCastException: io.jsonwebtoken.impl.DefaultJwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616) cannot be cast to io.jsonwebtoken.JwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982) (found matching interface io.jsonwebtoken.JwtBuilder loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616, but needed loader com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982)@ line 70 in script1.groovy.\r\n```\r\n\r\nLine 70 reads: \r\n\r\n```java\r\nJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\r\n```\r\n\r\nThe error persists even if I change it to:\r\n\r\n```java\r\nDefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\r\n```\r\n\r\nWhen I re-deploy, it works again the first time and then goes back to the error every subsequent call. \r\n\r\nAs a debugging aid I dumped `System.getenv()` but the data it returns is the same in both succesful and erroneous runs:\r\n\r\n```\r\n{HC_GLOBAL_HOST=br1.hana.ondemand.com, HC_COMPONENT=web, HC_REGION=BR_1, HC_APPLICATION=someid, HC_HOST_INT=int.br1.hana.ondemand.com, replicate_ebs_volumes=false, replicate_ebs_with_delete=false, HC_PROCESS_ID=f6576be76bd88828e305602dbbca9d13890c, ENABLE_CAM=false, HC_LANDSCAPE=production, DISABLE_ANTIVIRUS=true, HC_APPLICATION_URL=https://someid-n9e08ec00.int.br1.hana.ondemand.com, HC_LOCAL_HTTP_PORT=9001, HC_HOST_SCP=sapcp.br1.hana.ondemand.com, HC_HOST_SVC=svc.br1.hana.ondemand.com, HC_HOST_CERT=cert.br1.hana.ondemand.com, HC_LANDSCAPE_TYPE=single_AZ, HC_ACCOUNT=someotherid, HC_OP_HTTP_PROXY_HOST=localhost, LDAP_SEARCH_BASE=dc=spa3,dc=od,dc=sap,dc=biz, HC_HOST=br1.hana.ondemand.com, HC_OP_HTTP_PROXY_PORT=20003, HOME=/usr/sap/ljs/home, HC_AVAILABILITY_ZONE=NLB1FSA02}\r\n```\r\n\r\n\r\n\r\nThe rest of the relevant code is: \r\n\r\n```java\r\nimport com.sap.gateway.ip.core.customdev.util.Message;\r\nimport com.sap.it.api.ITApiFactory;\r\nimport com.sap.it.api.keystore.KeystoreService;\r\n\r\nimport java.security.cert.Certificate;\r\nimport java.security.Key;\r\nimport java.util.HashMap;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.security.KeyFactory;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.security.spec.RSAPrivateKeySpec;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.util.Base64;\r\nimport java.util.Date;\r\nimport java.util.Map;\r\nimport java.util.Scanner;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.JwtBuilder;\r\nimport io.jsonwebtoken.impl.DefaultJwtBuilder;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.impl.DefaultHeader;\r\n\r\n\r\ndef Message processData(Message message) {\r\n     \r\n    def messageLog = messageLogFactory.getMessageLog(message);\r\n\r\n    messageLog.addAttachmentAsString(&quot;dump_env&quot;, System.getenv().toString(), &quot;text/plain&quot;);\r\n\t\r\n\tMap&lt;String, Object&gt; header = new HashMap&lt;String, Object&gt;();\r\n    header.put(&quot;typ&quot;, &quot;JWT&quot;);\r\n    header.put(&quot;alg&quot;, &quot;RS256&quot;);\r\n\t\r\n// \tClaims claims = Jwts.claims();\r\n\tMap&lt;String, Object&gt; claims = new HashMap&lt;String, Object&gt;();\r\n\tclaims.put(&quot;scope&quot;, &quot;https://www.googleapis.com/auth/devstorage.full_control&quot;);\r\n\tclaims.put(&quot;aud&quot;, tokenUrl);\r\n\tclaims.put(&quot;iss&quot;, &quot;mysecret@thing.iam.gserviceaccount.com&quot;);\r\n\t\r\n\t/* Create JWT json with JwtBuilder */\r\n\tDefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate)\r\n\t\t\t.setHeader((Map&lt;String, Object&gt;) header);\r\n    // ^^^^^^^^----&gt; Crashing line\r\n    \r\n    // ...jwt signing and whatnot\r\n\r\n    /* Set body and URL encode the grant_type string. */ \r\n    body = &quot;grant_type=&quot; + URLEncoder.encode(&quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;) + &quot;&amp;assertion=&quot; + assertion        \t\t\r\n    message.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)    \r\n    message.setBody(body);\r\n\r\n   return message;\r\n\r\n```\r\n\r\nFormerly I was using the Headers and Claims classes but those were exhibiting this same issue (they worked fine the first time but afterwards threw a classcasting error which didn&#39;t go away by changing the variable class)\r\n\r\n### **What are other tools, system variables or resources I could use to debug this strange behaviour?** \r\n\r\nI suspect it&#39;s a classloading error, but I&#39;m learning java as I work on this and I still haven&#39;t got to grips with the JVM and the Java world idiosyncrasy.\r\n\r\n","title":"Java classcasting / classloading mess in SAP CPI","body":"<p>I'm working on a Groovy script in the SAP CPI environment which means the script runs in a somewhat canned JVM.</p>\n<p>I uploaded the <code>jjwt-api-0.11.2</code>, <code>jjwt-impl-0.11.2</code> and <code>jjwt-jackson-0.11.2</code> jars, in order to build a JWT.</p>\n<p><strong>The first run just after deployment the script runs just fine</strong>, but every run afterwards I get the following error:</p>\n<pre><code>com.sap.it.rt.adapter.http.api.exception.HttpResponseException: An internal server error occured: java.lang.ClassCastException: io.jsonwebtoken.impl.DefaultJwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616) cannot be cast to io.jsonwebtoken.JwtBuilder (loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982) (found matching interface io.jsonwebtoken.JwtBuilder loaded by com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1625616, but needed loader com.sap.gateway.ip.core.customdev.classloader.MergeClassLoaders@1624982)@ line 70 in script1.groovy.\n</code></pre>\n<p>Line 70 reads:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\n</code></pre>\n<p>The error persists even if I change it to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate).setHeader((Map&lt;String, Object&gt;) header);\n</code></pre>\n<p>When I re-deploy, it works again the first time and then goes back to the error every subsequent call.</p>\n<p>As a debugging aid I dumped <code>System.getenv()</code> but the data it returns is the same in both succesful and erroneous runs:</p>\n<pre><code>{HC_GLOBAL_HOST=br1.hana.ondemand.com, HC_COMPONENT=web, HC_REGION=BR_1, HC_APPLICATION=someid, HC_HOST_INT=int.br1.hana.ondemand.com, replicate_ebs_volumes=false, replicate_ebs_with_delete=false, HC_PROCESS_ID=f6576be76bd88828e305602dbbca9d13890c, ENABLE_CAM=false, HC_LANDSCAPE=production, DISABLE_ANTIVIRUS=true, HC_APPLICATION_URL=https://someid-n9e08ec00.int.br1.hana.ondemand.com, HC_LOCAL_HTTP_PORT=9001, HC_HOST_SCP=sapcp.br1.hana.ondemand.com, HC_HOST_SVC=svc.br1.hana.ondemand.com, HC_HOST_CERT=cert.br1.hana.ondemand.com, HC_LANDSCAPE_TYPE=single_AZ, HC_ACCOUNT=someotherid, HC_OP_HTTP_PROXY_HOST=localhost, LDAP_SEARCH_BASE=dc=spa3,dc=od,dc=sap,dc=biz, HC_HOST=br1.hana.ondemand.com, HC_OP_HTTP_PROXY_PORT=20003, HOME=/usr/sap/ljs/home, HC_AVAILABILITY_ZONE=NLB1FSA02}\n</code></pre>\n<p>The rest of the relevant code is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sap.gateway.ip.core.customdev.util.Message;\nimport com.sap.it.api.ITApiFactory;\nimport com.sap.it.api.keystore.KeystoreService;\n\nimport java.security.cert.Certificate;\nimport java.security.Key;\nimport java.util.HashMap;\nimport java.io.File;\nimport java.io.IOException;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.RSAPrivateKeySpec;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.util.Base64;\nimport java.util.Date;\nimport java.util.Map;\nimport java.util.Scanner;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.JwtBuilder;\nimport io.jsonwebtoken.impl.DefaultJwtBuilder;\n\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.DefaultHeader;\n\n\ndef Message processData(Message message) {\n     \n    def messageLog = messageLogFactory.getMessageLog(message);\n\n    messageLog.addAttachmentAsString(&quot;dump_env&quot;, System.getenv().toString(), &quot;text/plain&quot;);\n    \n    Map&lt;String, Object&gt; header = new HashMap&lt;String, Object&gt;();\n    header.put(&quot;typ&quot;, &quot;JWT&quot;);\n    header.put(&quot;alg&quot;, &quot;RS256&quot;);\n    \n//  Claims claims = Jwts.claims();\n    Map&lt;String, Object&gt; claims = new HashMap&lt;String, Object&gt;();\n    claims.put(&quot;scope&quot;, &quot;https://www.googleapis.com/auth/devstorage.full_control&quot;);\n    claims.put(&quot;aud&quot;, tokenUrl);\n    claims.put(&quot;iss&quot;, &quot;mysecret@thing.iam.gserviceaccount.com&quot;);\n    \n    /* Create JWT json with JwtBuilder */\n    DefaultJwtBuilder jwtBuilder = Jwts.builder().setClaims(claims).setIssuedAt(nowDate).setExpiration(expDate)\n            .setHeader((Map&lt;String, Object&gt;) header);\n    // ^^^^^^^^----&gt; Crashing line\n    \n    // ...jwt signing and whatnot\n\n    /* Set body and URL encode the grant_type string. */ \n    body = &quot;grant_type=&quot; + URLEncoder.encode(&quot;urn:ietf:params:oauth:grant-type:jwt-bearer&quot;) + &quot;&amp;assertion=&quot; + assertion             \n    message.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)    \n    message.setBody(body);\n\n   return message;\n\n</code></pre>\n<p>Formerly I was using the Headers and Claims classes but those were exhibiting this same issue (they worked fine the first time but afterwards threw a classcasting error which didn't go away by changing the variable class)</p>\n<h3><strong>What are other tools, system variables or resources I could use to debug this strange behaviour?</strong></h3>\n<p>I suspect it's a classloading error, but I'm learning java as I work on this and I still haven't got to grips with the JVM and the Java world idiosyncrasy.</p>\n"},{"tags":["java","spring","inheritance","autowired"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1402541118,"post_id":24175664,"comment_id":37316233,"body_markdown":"If you&#39;re using XML configuration for these beans, why even use `@Autowired`? Just specify the `property` directly.","body":"If you&#39;re using XML configuration for these beans, why even use <code>@Autowired</code>? Just specify the <code>property</code> directly."}],"answers":[{"tags":[],"owner":{"account_id":999669,"reputation":7922,"user_id":1014830,"accept_rate":57,"display_name":"dharam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1402542746,"creation_date":1402542746,"answer_id":24175900,"question_id":24175664,"body_markdown":"`@Qualifier` is the option, you are probably not able to use it.\r\n\r\nModifying your XML:\r\n\r\n    &lt;bean id=&quot;authClientA&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n        &lt;property name=&quot;auth&quot; value=&quot;abc&quot;&gt;\r\n        &lt;qualifier value=&quot;clientA&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n    &lt;bean id=&quot;authClientB&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n        &lt;property name=&quot;auth&quot; value=&quot;xyz&quot;&gt;\r\n        &lt;qualifier value=&quot;clientB&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;beanA&quot;  class=&quot;ClassA&quot;&gt;\r\n        &lt;property name=&quot;client&quot;  ref=&quot;authClientA&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;beanB&quot;  class=&quot;ClassB&quot;&gt;\r\n        &lt;property name=&quot;auth&quot; ref=&quot;authClientB&quot;&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd fixing your class:\r\n\r\n    abstract class A{\r\n\r\n          @Qualifier(&quot;clientA&quot;)\r\n          Client clientA;                     \r\n\r\n          @Qualifier(&quot;clientB&quot;)\r\n          Client clientB;       \r\n\r\n          protected void doSomething(){ \r\n                   /* ....some code .... */\r\n                   client.someStuff(); /* HERE YOU NEED SOME LOGIC TO INVOKCE THE CORRECT OBJECT METHOD */\r\n                   /* ....some code .... */\r\n          }\r\n\r\n          /* ..... few abstract methods * ........./\r\n    }\r\n\r\n\r\nAlso, if you want to understand more, please check this answer here :\r\n\r\nhttps://stackoverflow.com/questions/15971288/spring-autowire-annotation-on-abstract-class-no-unique-bean-is-defined","title":"Spring @Autowire with Inheritance","body":"<p><code>@Qualifier</code> is the option, you are probably not able to use it.</p>\n\n<p>Modifying your XML:</p>\n\n<pre><code>&lt;bean id=\"authClientA\"  class=\"com.xyz.Client\"&gt;\n    &lt;property name=\"auth\" value=\"abc\"&gt;\n    &lt;qualifier value=\"clientA\" /&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"authClientB\"  class=\"com.xyz.Client\"&gt;\n    &lt;property name=\"auth\" value=\"xyz\"&gt;\n    &lt;qualifier value=\"clientB\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"beanA\"  class=\"ClassA\"&gt;\n    &lt;property name=\"client\"  ref=\"authClientA\"&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"beanB\"  class=\"ClassB\"&gt;\n    &lt;property name=\"auth\" ref=\"authClientB\"&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And fixing your class:</p>\n\n<pre><code>abstract class A{\n\n      @Qualifier(\"clientA\")\n      Client clientA;                     \n\n      @Qualifier(\"clientB\")\n      Client clientB;       \n\n      protected void doSomething(){ \n               /* ....some code .... */\n               client.someStuff(); /* HERE YOU NEED SOME LOGIC TO INVOKCE THE CORRECT OBJECT METHOD */\n               /* ....some code .... */\n      }\n\n      /* ..... few abstract methods * ........./\n}\n</code></pre>\n\n<p>Also, if you want to understand more, please check this answer here :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15971288/spring-autowire-annotation-on-abstract-class-no-unique-bean-is-defined\">Spring Autowire Annotation on Abstract class: No unique bean is defined</a></p>\n"}],"owner":{"account_id":4601813,"reputation":31,"user_id":3732326,"display_name":"user3732326"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9858,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1696449625,"creation_date":1402540898,"question_id":24175664,"body_markdown":"I am new to Spring and wanted your all assistance. I have run into the &quot;expected single match bean but found two&quot; exception. I have searched for the solution and think have understood the solution. Most solutions suggest using @Qualifier to resolve this exception. However I don&#39;t think it will solve my issue. Below is my class hierarchy:\r\n\r\n    abstract class A{\r\n              \r\n        @Autowired\r\n        Client client;                     \r\n\r\n        protected void doSomething(){ \r\n            /* ....some code .... */\r\n            client.someStuff(); \r\n            /* ....some code .... */\r\n        }\r\n\r\n        /* ..... few abstract methods ......... */\r\n    }\r\n\r\n    class B extends A{ \r\n        public void action(){ doSomething() }\r\n    }\r\n\r\n    class C extends A{\r\n        public void action(){ doSomething() }\r\n    }\r\n\r\n\r\nMy .xml confirugration file is\r\n\r\n        &lt;bean id=&quot;authClientA&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n            &lt;property name=&quot;auth&quot; value=&quot;abc&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n        \r\n        &lt;bean id=&quot;authClientB&quot;  class=&quot;com.xyz.Client&quot;&gt;\r\n            &lt;property name=&quot;auth&quot; value=&quot;xyz&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n        &lt;bean id=&quot;beanA&quot;  class=&quot;ClassA&quot;&gt;\r\n            &lt;property name=&quot;client&quot;  ref=&quot;authClientA&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n        &lt;bean id=&quot;beanB&quot;  class=&quot;ClassB&quot;&gt;\r\n            &lt;property name=&quot;auth&quot; ref=&quot;authClientB&quot;&gt;\r\n        &lt;/bean&gt;\r\n\r\n\r\n\r\nSo basically, I have an abstract class which has a method which will be common to both the subclasses. This method uses the client reference but at run time will use different object. `doSomething()` is not overridden in the subclasses.\r\n\r\n\r\nSo when I try to run this code, it gives me the exception for client reference. I dont think I can use @Qualifier because @Qualifier requires to specify bean name from .xml as parameter, but since the &#39;client&#39; attribute is common, I cant use only one bean name. \r\n\r\n\r\nCan someone please assist in explaining if there is a way to get around. Duplicating the `doSomething()` method defeats the entire purpose of inheritance and will cause duplicate code across classes. I can&#39;t have the `client` attribute in the subclasses as it will become unknown to `doSomething()` method at compile time.\r\n\r\nAny ideas/suggestions/solutions will be helpful.\r\n\r\nThanks in advance :)","title":"Spring @Autowire with Inheritance","body":"<p>I am new to Spring and wanted your all assistance. I have run into the \"expected single match bean but found two\" exception. I have searched for the solution and think have understood the solution. Most solutions suggest using @Qualifier to resolve this exception. However I don't think it will solve my issue. Below is my class hierarchy:</p>\n\n<pre><code>abstract class A{\n\n    @Autowired\n    Client client;                     \n\n    protected void doSomething(){ \n        /* ....some code .... */\n        client.someStuff(); \n        /* ....some code .... */\n    }\n\n    /* ..... few abstract methods ......... */\n}\n\nclass B extends A{ \n    public void action(){ doSomething() }\n}\n\nclass C extends A{\n    public void action(){ doSomething() }\n}\n</code></pre>\n\n<p>My .xml confirugration file is</p>\n\n<pre><code>    &lt;bean id=\"authClientA\"  class=\"com.xyz.Client\"&gt;\n        &lt;property name=\"auth\" value=\"abc\"&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"authClientB\"  class=\"com.xyz.Client\"&gt;\n        &lt;property name=\"auth\" value=\"xyz\"&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"beanA\"  class=\"ClassA\"&gt;\n        &lt;property name=\"client\"  ref=\"authClientA\"&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"beanB\"  class=\"ClassB\"&gt;\n        &lt;property name=\"auth\" ref=\"authClientB\"&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>So basically, I have an abstract class which has a method which will be common to both the subclasses. This method uses the client reference but at run time will use different object. <code>doSomething()</code> is not overridden in the subclasses.</p>\n\n<p>So when I try to run this code, it gives me the exception for client reference. I dont think I can use @Qualifier because @Qualifier requires to specify bean name from .xml as parameter, but since the 'client' attribute is common, I cant use only one bean name. </p>\n\n<p>Can someone please assist in explaining if there is a way to get around. Duplicating the <code>doSomething()</code> method defeats the entire purpose of inheritance and will cause duplicate code across classes. I can't have the <code>client</code> attribute in the subclasses as it will become unknown to <code>doSomething()</code> method at compile time.</p>\n\n<p>Any ideas/suggestions/solutions will be helpful.</p>\n\n<p>Thanks in advance :)</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9990,"page":144,"page_size":100}
