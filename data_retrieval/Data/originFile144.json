{"items":[{"tags":["java","spring","jackson","websphere","open-liberty"],"answers":[{"tags":[],"owner":{"account_id":17969296,"reputation":11,"user_id":13058471,"display_name":"Ryan Golden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696428994,"creation_date":1696346504,"answer_id":77223575,"question_id":77204358,"body_markdown":"IBM has an Application Migration Toolkit for Application Binaries (binary scanner). This tool was made to scan applications and create a report on migration issues including a migration from WebSphere 8.5 to Open Liberty. This tool helps with other migration scenarios too such as changing java versions. \r\n\r\nBy scanning the application with the binary scanner you may get closer to finding the issue that arose from your platform migration (See: *[Migration Toolkit for Application Binaries][1]*)\r\n\r\nSee also: *[Documentation][2]*\r\n\r\n\r\n  [1]: http://ibm.biz/WAMT4AppBinaries\r\n  [2]: https://www.ibm.com/docs/SSRQNQ/applicationBinaryMigration/overview.html","title":"Serialization error when switching from Websphere App Server to Open Liberty","body":"<p>IBM has an Application Migration Toolkit for Application Binaries (binary scanner). This tool was made to scan applications and create a report on migration issues including a migration from WebSphere 8.5 to Open Liberty. This tool helps with other migration scenarios too such as changing java versions.</p>\n<p>By scanning the application with the binary scanner you may get closer to finding the issue that arose from your platform migration (See: <em><a href=\"http://ibm.biz/WAMT4AppBinaries\" rel=\"nofollow noreferrer\">Migration Toolkit for Application Binaries</a></em>)</p>\n<p>See also: <em><a href=\"https://www.ibm.com/docs/SSRQNQ/applicationBinaryMigration/overview.html\" rel=\"nofollow noreferrer\">Documentation</a></em></p>\n"}],"owner":{"account_id":975553,"reputation":3366,"user_id":996908,"accept_rate":60,"display_name":"Mr Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696428994,"creation_date":1696015234,"question_id":77204358,"body_markdown":"I&#39;m moving a java 8 app from WAS 8.5 to Open Liberty 23.   The app runs but gets the exception below when some data is being serialized in one of the REST controllers.  No code or library changes were made.  the only difference is that im trying to now run the app from the eclipse open liberty plugin instead of the myeclipse WAS plugin.\r\n\r\nim not clear where to even look for this issue.  It looks like spring is maybe not using the same jackson version?  Note, the same code works fine in WAS. And why would I get an error like this when serializing?\r\n\r\nA couple thoughts:\r\n\r\n - I&#39;m assuming the servlet jar is different.  I see  javax.servlet.http.HttpServlet.service in the stack trace, which is why I mention this.  I was a little confused about where the servlet jar was coming from with Open Liberty.  the OL eclipse plugin did not seem to include this.\r\n - WAS has parent first class loaders as described here - https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-class-loaders-server.  WAS has some jackson classes  - https://stackoverflow.com/questions/31412784/jackson-version-with-websphere-8-5-5.  I don&#39;t think this is the issue because my app has jackson 2.11 &amp; WAS had jackson 1.6.2.  The jackson package names changed between these releases so my app should be using the same jackson classes in both WAS &amp; OL.\r\n\r\nAny ideas?\r\n\r\n    org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: com.apps.models.Image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:207)\r\n    \tat org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:180)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:189)\r\n    \tat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:69)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1258)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:746)\r\n    \tat com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\r\n    \tat com.test.apps.filters.SessionValidationFilter.doFilter(SessionValidationFilter.java:56)\r\n    \tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n    \tat com.test.apps.filters.Log4JFilter.doFilter(Log4JFilter.java:62)\r\n    \tat com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\r\n    \tat com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\r\n    \tat com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5049)\r\n    \tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:314)\r\n    \tat com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\r\n    \tat com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\r\n    \tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1159)\r\n    \tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:428)\r\n    \tat com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:387)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\r\n    \tat com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:958)\r\n    \tat com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1047)\r\n    \tat com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: com.fasterxml.jackson.databind.JsonMappingException: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;datagroup&quot;]-&gt;java.util.ArrayList[0])\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:232)\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:211)\r\n    \tat com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:209)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:124)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:63)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:21)\r\n    \tat com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:180)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\r\n    \tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\r\n    \tat com.fasterxml.jackson.databind.ser.BeanSerializer.se\r\n    rialize(BeanSerializer.java:143)\r\n    \tat com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:120)\r\n    \tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:1727)\r\n    \tat org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:204)\r\n    \t... 48 more\r\n    Caused by: java.lang.ClassCastException: com.test.apps.models.image cannot be cast to java.lang.Integer\r\n    \tat com.fasterxml.jackson.databind.ser.std.NumberSerializers$IntegerSerializer.serialize(NumberSerializers.java:61)\r\n    \tat com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:118)","title":"Serialization error when switching from Websphere App Server to Open Liberty","body":"<p>I'm moving a java 8 app from WAS 8.5 to Open Liberty 23.   The app runs but gets the exception below when some data is being serialized in one of the REST controllers.  No code or library changes were made.  the only difference is that im trying to now run the app from the eclipse open liberty plugin instead of the myeclipse WAS plugin.</p>\n<p>im not clear where to even look for this issue.  It looks like spring is maybe not using the same jackson version?  Note, the same code works fine in WAS. And why would I get an error like this when serializing?</p>\n<p>A couple thoughts:</p>\n<ul>\n<li>I'm assuming the servlet jar is different.  I see  javax.servlet.http.HttpServlet.service in the stack trace, which is why I mention this.  I was a little confused about where the servlet jar was coming from with Open Liberty.  the OL eclipse plugin did not seem to include this.</li>\n<li>WAS has parent first class loaders as described here - <a href=\"https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-class-loaders-server\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/was/8.5.5?topic=loading-configuring-class-loaders-server</a>.  WAS has some jackson classes  - <a href=\"https://stackoverflow.com/questions/31412784/jackson-version-with-websphere-8-5-5\">Jackson Version with WebSphere 8.5.5</a>.  I don't think this is the issue because my app has jackson 2.11 &amp; WAS had jackson 1.6.2.  The jackson package names changed between these releases so my app should be using the same jackson classes in both WAS &amp; OL.</li>\n</ul>\n<p>Any ideas?</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: com.apps.models.Image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.Information[&quot;dataGroup&quot;]-&gt;java.util.ArrayList[0])\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:207)\n    at org.springframework.http.converter.AbstractHttpMessageConverter.write(AbstractHttpMessageConverter.java:180)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:143)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:89)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:189)\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:69)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:122)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:685)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:919)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:851)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.service(ServletWrapper.java:1258)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:746)\n    at com.ibm.ws.webcontainer.servlet.ServletWrapper.handleRequest(ServletWrapper.java:443)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.invokeTarget(WebAppFilterChain.java:193)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:98)\n    at com.test.apps.filters.SessionValidationFilter.doFilter(SessionValidationFilter.java:56)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.test.apps.filters.Log4JFilter.doFilter(Log4JFilter.java:62)\n    at com.ibm.ws.webcontainer.filter.FilterInstanceWrapper.doFilter(FilterInstanceWrapper.java:201)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterChain.doFilter(WebAppFilterChain.java:91)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.doFilter(WebAppFilterManager.java:1002)\n    at com.ibm.ws.webcontainer.filter.WebAppFilterManager.invokeFilters(WebAppFilterManager.java:1140)\n    at com.ibm.ws.webcontainer.webapp.WebApp.handleRequest(WebApp.java:5049)\n    at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.handleRequest(DynamicVirtualHost.java:314)\n    at com.ibm.ws.webcontainer.WebContainer.handleRequest(WebContainer.java:1007)\n    at com.ibm.ws.webcontainer.osgi.DynamicVirtualHost$2.run(DynamicVirtualHost.java:279)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink$TaskWrapper.run(HttpDispatcherLink.java:1159)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.wrapHandlerAndExecute(HttpDispatcherLink.java:428)\n    at com.ibm.ws.http.dispatcher.internal.channel.HttpDispatcherLink.ready(HttpDispatcherLink.java:387)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleDiscrimination(HttpInboundLink.java:566)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.handleNewRequest(HttpInboundLink.java:500)\n    at com.ibm.ws.http.channel.internal.inbound.HttpInboundLink.processRequest(HttpInboundLink.java:360)\n    at com.ibm.ws.http.channel.internal.inbound.HttpICLReadCallback.complete(HttpICLReadCallback.java:70)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.requestComplete(WorkQueueManager.java:504)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.attemptIO(WorkQueueManager.java:574)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager.workerRun(WorkQueueManager.java:958)\n    at com.ibm.ws.tcpchannel.internal.WorkQueueManager$Worker.run(WorkQueueManager.java:1047)\n    at com.ibm.ws.threading.internal.ExecutorServiceImpl$RunnableWrapper.run(ExecutorServiceImpl.java:238)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: com.test.apps.models.image cannot be cast to java.lang.Integer (through reference chain: com.apps.models.Response[&quot;data&quot;]-&gt;com.apps.models.SearchResults[&quot;otherdata&quot;]-&gt;com.apps.models.Information[&quot;datagroup&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:232)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:211)\n    at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:209)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:124)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:63)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:21)\n    at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serialize(AsArraySerializerBase.java:180)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:143)\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:544)\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:551)\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.se\nrialize(BeanSerializer.java:143)\n    at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:120)\n    at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:1727)\n    at org.springframework.http.converter.json.MappingJackson2HttpMessageConverter.writeInternal(MappingJackson2HttpMessageConverter.java:204)\n    ... 48 more\nCaused by: java.lang.ClassCastException: com.test.apps.models.image cannot be cast to java.lang.Integer\n    at com.fasterxml.jackson.databind.ser.std.NumberSerializers$IntegerSerializer.serialize(NumberSerializers.java:61)\n    at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContentsUsing(IndexedListSerializer.java:118)\n</code></pre>\n"},{"tags":["java","android","ssl","x509certificate","truststore"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1468778960,"post_id":38423875,"comment_id":64255356,"body_markdown":"Your requirement is not secure, and it also doesn&#39;t readily allow for certificate renewal or rekeying without source code changes. Rethink. You should use a keystore. That&#39;s what it&#39;s for,","body":"Your requirement is not secure, and it also doesn&#39;t readily allow for certificate renewal or rekeying without source code changes. Rethink. You should use a keystore. That&#39;s what it&#39;s for,"},{"owner":{"account_id":4031203,"reputation":47,"user_id":3317225,"accept_rate":50,"display_name":"user3317225"},"score":0,"creation_date":1468780431,"post_id":38423875,"comment_id":64255796,"body_markdown":"I understand the security implications, the keys and certificate originate from a byte array received over a secure TCP connection at application boot so I&#39;m not worried about rekeying or RE risks. I&#39;d like to keep everything strictly in memory.","body":"I understand the security implications, the keys and certificate originate from a byte array received over a secure TCP connection at application boot so I&#39;m not worried about rekeying or RE risks. I&#39;d like to keep everything strictly in memory."}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29615,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696428675,"creation_date":1468782765,"answer_id":38424989,"question_id":38423875,"body_markdown":"The easiest way is to still use a keystore, but instead of reading one from disk, create one on the fly:\r\n\r\n    ByteArrayInputStream is = new FileInputStream(certificateString);\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    keyStore.load(is, clientCertPassword.toCharArray());\r\n    \r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;X509&quot;);\r\n    kmf.init(keyStore, clientCertPassword.toCharArray());\r\n    KeyManager[] keyManagers = kmf.getKeyManagers();\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(keyManagers, null, null);\r\n\r\nFor a full example of using a self-signed client certificate in an Android app (with a matching self-signed server certificate), you can take a look at a blog post that I did a back in 2013: http://chariotsolutions.com/blog/post/https-with-client-certificates-on","title":"Using a PrivateKey, PublicKey and Certificate objects to setup an SSLContext","body":"<p>The easiest way is to still use a keystore, but instead of reading one from disk, create one on the fly:</p>\n<pre><code>ByteArrayInputStream is = new FileInputStream(certificateString);\nKeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\nkeyStore.load(is, clientCertPassword.toCharArray());\n\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;X509&quot;);\nkmf.init(keyStore, clientCertPassword.toCharArray());\nKeyManager[] keyManagers = kmf.getKeyManagers();\nSSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(keyManagers, null, null);\n</code></pre>\n<p>For a full example of using a self-signed client certificate in an Android app (with a matching self-signed server certificate), you can take a look at a blog post that I did a back in 2013: <a href=\"http://chariotsolutions.com/blog/post/https-with-client-certificates-on\" rel=\"nofollow noreferrer\">http://chariotsolutions.com/blog/post/https-with-client-certificates-on</a></p>\n"}],"owner":{"account_id":4031203,"reputation":47,"user_id":3317225,"accept_rate":50,"display_name":"user3317225"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3841,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38424989,"answer_count":1,"score":4,"last_activity_date":1696428675,"creation_date":1468775740,"question_id":38423875,"body_markdown":"I have valid PrivateKey, PublicKey and Certificate objects created that I need to be able to use to create an SSLContext for use with a HttpsURLConnection. The reason I need to do it this way is because a requirement is to store the private key, public key and certificate as text within string variables. I have included a short excerpt of the code I&#39;m using.\r\n\r\n    PrivateKey privKey = loadPrivateKey(&quot;REDACTED&quot;);\r\n    PublicKey publicKey = loadPublicKey(&quot;REDACTED&quot;);\r\n    X509Certificate cert = convertToX509Certificate(&quot;REDACTED&quot;);\r\n\r\nsslContext = ???\r\n    \r\n    \r\n         URL obj = new URL(&quot;https://www.example.com/WS&quot;);\r\n         HttpsURLConnection connection = (HttpsURLConnection) obj.openConnection();\r\n\r\n\r\n         connection.setSSLSocketFactory(sslContext.getSocketFactory());\r\n    \r\n\r\n     public static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\r\n            byte[] data = Base64.decode(stored, 0).toString().getBytes();;\r\n            X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\r\n            KeyFactory fact = KeyFactory.getInstance(&quot;DSA&quot;);\r\n            return fact.generatePublic(spec);\r\n        }\r\n    \r\n    \r\n        public static PrivateKey loadPrivateKey(String key64) throws GeneralSecurityException {\r\n            byte[] clear = Base64.decode(key64, 0).toString().getBytes();\r\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(clear);\r\n            KeyFactory fact = KeyFactory.getInstance(&quot;DSA&quot;);\r\n            PrivateKey priv = fact.generatePrivate(keySpec);\r\n            Arrays.fill(clear, (byte) 0);\r\n            return priv;\r\n        }\r\n    \r\n        public X509Certificate convertToX509Certificate(String pem) throws CertificateException, IOException {\r\n            X509Certificate cert = null;\r\n            StringReader reader = new StringReader(pem);\r\n            PEMReader pr = new PEMReader(reader);\r\n            cert = (X509Certificate)pr.readObject();\r\n            return cert;\r\n        }","title":"Using a PrivateKey, PublicKey and Certificate objects to setup an SSLContext","body":"<p>I have valid PrivateKey, PublicKey and Certificate objects created that I need to be able to use to create an SSLContext for use with a HttpsURLConnection. The reason I need to do it this way is because a requirement is to store the private key, public key and certificate as text within string variables. I have included a short excerpt of the code I'm using.</p>\n\n<pre><code>PrivateKey privKey = loadPrivateKey(\"REDACTED\");\nPublicKey publicKey = loadPublicKey(\"REDACTED\");\nX509Certificate cert = convertToX509Certificate(\"REDACTED\");\n</code></pre>\n\n<p>sslContext = ???</p>\n\n<pre><code>     URL obj = new URL(\"https://www.example.com/WS\");\n     HttpsURLConnection connection = (HttpsURLConnection) obj.openConnection();\n\n\n     connection.setSSLSocketFactory(sslContext.getSocketFactory());\n\n\n public static PublicKey loadPublicKey(String stored) throws GeneralSecurityException {\n        byte[] data = Base64.decode(stored, 0).toString().getBytes();;\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(data);\n        KeyFactory fact = KeyFactory.getInstance(\"DSA\");\n        return fact.generatePublic(spec);\n    }\n\n\n    public static PrivateKey loadPrivateKey(String key64) throws GeneralSecurityException {\n        byte[] clear = Base64.decode(key64, 0).toString().getBytes();\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(clear);\n        KeyFactory fact = KeyFactory.getInstance(\"DSA\");\n        PrivateKey priv = fact.generatePrivate(keySpec);\n        Arrays.fill(clear, (byte) 0);\n        return priv;\n    }\n\n    public X509Certificate convertToX509Certificate(String pem) throws CertificateException, IOException {\n        X509Certificate cert = null;\n        StringReader reader = new StringReader(pem);\n        PEMReader pr = new PEMReader(reader);\n        cert = (X509Certificate)pr.readObject();\n        return cert;\n    }\n</code></pre>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696430862,"post_id":77230293,"comment_id":136152425,"body_markdown":"If you&#39;re using reflection to access that field anyway, might as well reassign it with a new map that&#39;s not empty","body":"If you&#39;re using reflection to access that field anyway, might as well reassign it with a new map that&#39;s not empty"},{"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"score":0,"creation_date":1696573996,"post_id":77230293,"comment_id":136173027,"body_markdown":"To do it by reflection you need to use illegal access to the field which will be denied in a future release (Java 18+)","body":"To do it by reflection you need to use illegal access to the field which will be denied in a future release (Java 18+)"}],"owner":{"account_id":303781,"reputation":3824,"user_id":612925,"accept_rate":67,"display_name":"tomasz-mer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696428221,"creation_date":1696428221,"question_id":77230293,"body_markdown":"I&#39;I&#39;m testing a code written according to this article:\r\n \r\nhttps://rationaleemotions.wordpress.com/2016/05/27/changing-annotation-values-at-runtime/\r\n\r\nand it works for a case when class has at least one annotation at the class level. In case of scenario when I&#39;m adding annotetion to class which is not annotated at all I got `UnsupportedOperationException` due to the fact that:\r\n\r\n    Object annotationData = method.invoke(clazzToLookFor);\r\n\r\nreturn `Class:AnnotationData` with a field &#39;`annotation`&#39; which is an `emptyMap`. (if tha class is already annotated by at least one annotation it is a `LinkedHashMap`)\r\n\r\nDoes anyone know how to solve it?\r\n\r\n\r\n\r\n\r\n","title":"Adding annotation to not annotated type in a programmatically way","body":"<p>I'I'm testing a code written according to this article:</p>\n<p><a href=\"https://rationaleemotions.wordpress.com/2016/05/27/changing-annotation-values-at-runtime/\" rel=\"nofollow noreferrer\">https://rationaleemotions.wordpress.com/2016/05/27/changing-annotation-values-at-runtime/</a></p>\n<p>and it works for a case when class has at least one annotation at the class level. In case of scenario when I'm adding annotetion to class which is not annotated at all I got <code>UnsupportedOperationException</code> due to the fact that:</p>\n<pre><code>Object annotationData = method.invoke(clazzToLookFor);\n</code></pre>\n<p>return <code>Class:AnnotationData</code> with a field '<code>annotation</code>' which is an <code>emptyMap</code>. (if tha class is already annotated by at least one annotation it is a <code>LinkedHashMap</code>)</p>\n<p>Does anyone know how to solve it?</p>\n"},{"tags":["java","android","kotlin","android-studio"],"comments":[{"owner":{"account_id":7339101,"reputation":208,"user_id":5589394,"display_name":"Ritesh R"},"score":0,"creation_date":1700484950,"post_id":77016141,"comment_id":136656497,"body_markdown":"Wrote a blog for the same if you implementing a carrier app please check https://medium.com/@riteshram/android-e-sim-implementation-for-a-carrier-app-db693e09ac35","body":"Wrote a blog for the same if you implementing a carrier app please check <a href=\"https://medium.com/@riteshram/android-e-sim-implementation-for-a-carrier-app-db693e09ac35\" rel=\"nofollow noreferrer\">medium.com/@riteshram/&hellip;</a>"}],"owner":{"account_id":11713270,"reputation":51,"user_id":8574568,"display_name":"Ahmed Rehman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1696427854,"creation_date":1693487493,"question_id":77016141,"body_markdown":"Currently I&#39;m working on a project related to ESim installation in android based devices, so by following [Implementing eSIM](https://source.android.com/docs/core/connect/esim-overview) android documentation I can&#39;t understand how can I implement in my application, I searched on internet for complete example or a piece of code by which I install ESim to android device, but didn&#39;t succeed.\r\n\r\nI tried [Implementing eSIM](https://source.android.com/docs/core/connect/esim-overview) android documentation I can&#39;t understand how can I implement in my application, I searched on internet for complete example or a piece of code by which I install ESim to android device, but didn&#39;t succeed.\r\n\r\nanyone can have example code please share with me or guide me.","title":"how to install esim in android programmatically","body":"<p>Currently I'm working on a project related to ESim installation in android based devices, so by following <a href=\"https://source.android.com/docs/core/connect/esim-overview\" rel=\"nofollow noreferrer\">Implementing eSIM</a> android documentation I can't understand how can I implement in my application, I searched on internet for complete example or a piece of code by which I install ESim to android device, but didn't succeed.</p>\n<p>I tried <a href=\"https://source.android.com/docs/core/connect/esim-overview\" rel=\"nofollow noreferrer\">Implementing eSIM</a> android documentation I can't understand how can I implement in my application, I searched on internet for complete example or a piece of code by which I install ESim to android device, but didn't succeed.</p>\n<p>anyone can have example code please share with me or guide me.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1418666205,"post_id":27488767,"comment_id":43411784,"body_markdown":"It isn&#39;t updating, your test is flawed. There will be no exception, the field will be silently ignored when saving/updating the object. Nothing has changed in the database. The problem with your test is that everything happens in a single transaction and thus single first level cache (i.e the `EntityManager`). The `user` and `user2` object are the same object (`user == user2` should return `true`). Your last assert is false as you have changed the in memory representation of the `User` object. Not the database one. You want to use a plain query to test this.","body":"It isn&#39;t updating, your test is flawed. There will be no exception, the field will be silently ignored when saving/updating the object. Nothing has changed in the database. The problem with your test is that everything happens in a single transaction and thus single first level cache (i.e the <code>EntityManager</code>). The <code>user</code> and <code>user2</code> object are the same object (<code>user == user2</code> should return <code>true</code>). Your last assert is false as you have changed the in memory representation of the <code>User</code> object. Not the database one. You want to use a plain query to test this."}],"answers":[{"tags":[],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1418666426,"creation_date":1418666426,"answer_id":27490195,"question_id":27488767,"body_markdown":"As per the [documentation][1], the `updatable` property decided whether the column would be part of the update statement. It means that Hibernate ignores it when sending updates to the database. Thus, the in-memory state and the database state will differ.\r\n\r\nTo verify this, try clearing the session (evict) before calling `User user2 = userRepo.findOne(1L)`\r\n\r\n  [1]: https://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/","title":"Hibernate updatable = false UUID field is updated","body":"<p>As per the <a href=\"https://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/\" rel=\"noreferrer\">documentation</a>, the <code>updatable</code> property decided whether the column would be part of the update statement. It means that Hibernate ignores it when sending updates to the database. Thus, the in-memory state and the database state will differ.</p>\n\n<p>To verify this, try clearing the session (evict) before calling <code>User user2 = userRepo.findOne(1L)</code></p>\n"},{"tags":[],"owner":{"account_id":4510827,"reputation":1268,"user_id":3667003,"accept_rate":100,"display_name":"Oliver"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1556030913,"creation_date":1556030913,"answer_id":55813853,"question_id":27488767,"body_markdown":"While the original question has been answered already, I would like to highlight an important point **for people who are new with Hibernate** as it might help to avoid some confusion.\r\n\r\nThe [javadoc of Hibernate 5.4][1]  of the @Column annotation, says for its optional element Updatable:\r\n\r\n&gt; (Optional) Whether the column is included in SQL UPDATE statements **generated by the persistence provider**.    \r\n\r\n  \r\nIf you **issue an update statement with HQL or** using **CriteriaUpdate**, against a field that you have annotated  with `@Column(updatable = false)` , your update statement **will be executed** .\r\n\r\nThe `@Column(updatable = false)` works, when you are using either Hibernate’s `update` or JPA’s `merge` method. \r\n\r\nNo exception will be thrown (unlike for ex.: `@Column(nullable= false)` as it creates a constraint...), but the generated update statement will not include the marked field.\r\n\r\nFor further information, it is really a must to familiarise yourself with the JPA’s entity lifecycle states and the methods that manages them, as can be seen on the picture below.\r\n\r\nAs well as I highly recommend to read this [article][3] which explains this in details, *and is the source of the attached picture*.\r\n\r\n[![JPA’s entity lifecycle states][2]][2]\r\n\r\n\r\n  [1]:http://docs.jboss.org/hibernate/orm/5.4/javadocs/\r\n  [2]: https://i.stack.imgur.com/AG7Vf.png\r\n  [3]:https://thoughts-on-java.org/persist-save-merge-saveorupdate-whats-difference-one-use/","title":"Hibernate updatable = false UUID field is updated","body":"<p>While the original question has been answered already, I would like to highlight an important point <strong>for people who are new with Hibernate</strong> as it might help to avoid some confusion.</p>\n\n<p>The <a href=\"http://docs.jboss.org/hibernate/orm/5.4/javadocs/\" rel=\"noreferrer\">javadoc of Hibernate 5.4</a>  of the @Column annotation, says for its optional element Updatable:</p>\n\n<blockquote>\n  <p>(Optional) Whether the column is included in SQL UPDATE statements <strong>generated by the persistence provider</strong>.    </p>\n</blockquote>\n\n<p>If you <strong>issue an update statement with HQL or</strong> using <strong>CriteriaUpdate</strong>, against a field that you have annotated  with <code>@Column(updatable = false)</code> , your update statement <strong>will be executed</strong> .</p>\n\n<p>The <code>@Column(updatable = false)</code> works, when you are using either Hibernate’s <code>update</code> or JPA’s <code>merge</code> method. </p>\n\n<p>No exception will be thrown (unlike for ex.: <code>@Column(nullable= false)</code> as it creates a constraint...), but the generated update statement will not include the marked field.</p>\n\n<p>For further information, it is really a must to familiarise yourself with the JPA’s entity lifecycle states and the methods that manages them, as can be seen on the picture below.</p>\n\n<p>As well as I highly recommend to read this <a href=\"https://thoughts-on-java.org/persist-save-merge-saveorupdate-whats-difference-one-use/\" rel=\"noreferrer\">article</a> which explains this in details, <em>and is the source of the attached picture</em>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AG7Vf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/AG7Vf.png\" alt=\"JPA’s entity lifecycle states\"></a></p>\n"},{"tags":[],"owner":{"account_id":9605014,"reputation":51,"user_id":7131317,"display_name":"Danilo Petković"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696427534,"creation_date":1696427534,"answer_id":77230211,"question_id":27488767,"body_markdown":"I had a similar problem as this one, where I wanted to use @Column(updatable = false) and then manually update the field in only a specific case.\r\n\r\nAs one of the solutions states before you can use the annotation and then try clearing the session before calling the userRepo.findOne(1L). That will as listed above work.\r\n\r\nI didn&#39;t quite fancy the clearing and using more queries than necessary so my solution is - rewrite your save method to not use Hibernate at all, but rather a native sql script in your repo. The annotation only affects Hibernate, but has no effect on native scripts. Imo, a better way to do this.\r\n","title":"Hibernate updatable = false UUID field is updated","body":"<p>I had a similar problem as this one, where I wanted to use @Column(updatable = false) and then manually update the field in only a specific case.</p>\n<p>As one of the solutions states before you can use the annotation and then try clearing the session before calling the userRepo.findOne(1L). That will as listed above work.</p>\n<p>I didn't quite fancy the clearing and using more queries than necessary so my solution is - rewrite your save method to not use Hibernate at all, but rather a native sql script in your repo. The annotation only affects Hibernate, but has no effect on native scripts. Imo, a better way to do this.</p>\n"}],"owner":{"account_id":495819,"reputation":13159,"user_id":1017787,"accept_rate":64,"display_name":"JBCP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9106,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":27490195,"answer_count":3,"score":13,"last_activity_date":1696427534,"creation_date":1418661494,"question_id":27488767,"body_markdown":"I am using Spring Data JPA with Hibernate and am having trouble with the updatable=false property on the `@Column` annotation.\r\n\r\nI have a base class for all of my `@Entity` objects with a UUID defined like this:\r\n\r\n    @MappedSuperclass\r\n    @Getter @Setter @EqualsAndHashCode(of= {&quot;uuid&quot;})\r\n    public abstract class AbstractEntity implements Persistable&lt;Long&gt; {\r\n\r\n    \t@Id\r\n\t    @GeneratedValue(strategy = AUTO)\r\n    \t@Column(unique = true, updatable = false)\r\n\t    private Long id;\r\n\r\n\t    @Column(unique = true, updatable = false)\r\n        private UUID uuid = UUID.randomUUID();\r\n\r\n    }\r\n\r\nNote the `updatable = false` annotation.\r\n\r\nTo verify the UUID field is in fact NOT updatable, I have written this test:\r\n\r\n\t@Test\r\n\tpublic void testChangeUUID() {\r\n\r\n\t\tUser user = userRepo.findOne(1L);\r\n\t\t\r\n\t\tassertNotNull(user);\r\n\t\tassertEquals(USER_UUID, user.getUuid().toString());\r\n\t\t\r\n\t\tfinal UUID newUuid = UUID.randomUUID();\r\n\t\t\r\n\t\tuser.setUuid(newUuid);\r\n\t\t\r\n\t\tuser = userRepo.save(user);\r\n\t\t\r\n\t\tassertEquals(newUuid, user.getUuid());\r\n\t\t\r\n\t\tUser user2 = userRepo.findOne(1L);\r\n\t\tassertNotNull(user2);\r\n\t\tassertEquals(&quot;UUID should not have changed&quot;, USER_UUID, user2.getUuid().toString());\r\n\t}\r\n\t\r\nI was actually expecting an exception to be thrown on the call to `userRepo.save(user)`, but that doesn&#39;t happen. Instead, the final `assertEquals()` fails, which means the UUID was in fact updating.\r\n\r\nIs this expected behavior? Is there any way to prevent UUIDs from being changed?","title":"Hibernate updatable = false UUID field is updated","body":"<p>I am using Spring Data JPA with Hibernate and am having trouble with the updatable=false property on the <code>@Column</code> annotation.</p>\n\n<p>I have a base class for all of my <code>@Entity</code> objects with a UUID defined like this:</p>\n\n<pre><code>@MappedSuperclass\n@Getter @Setter @EqualsAndHashCode(of= {\"uuid\"})\npublic abstract class AbstractEntity implements Persistable&lt;Long&gt; {\n\n    @Id\n    @GeneratedValue(strategy = AUTO)\n    @Column(unique = true, updatable = false)\n    private Long id;\n\n    @Column(unique = true, updatable = false)\n    private UUID uuid = UUID.randomUUID();\n\n}\n</code></pre>\n\n<p>Note the <code>updatable = false</code> annotation.</p>\n\n<p>To verify the UUID field is in fact NOT updatable, I have written this test:</p>\n\n<pre><code>@Test\npublic void testChangeUUID() {\n\n    User user = userRepo.findOne(1L);\n\n    assertNotNull(user);\n    assertEquals(USER_UUID, user.getUuid().toString());\n\n    final UUID newUuid = UUID.randomUUID();\n\n    user.setUuid(newUuid);\n\n    user = userRepo.save(user);\n\n    assertEquals(newUuid, user.getUuid());\n\n    User user2 = userRepo.findOne(1L);\n    assertNotNull(user2);\n    assertEquals(\"UUID should not have changed\", USER_UUID, user2.getUuid().toString());\n}\n</code></pre>\n\n<p>I was actually expecting an exception to be thrown on the call to <code>userRepo.save(user)</code>, but that doesn't happen. Instead, the final <code>assertEquals()</code> fails, which means the UUID was in fact updating.</p>\n\n<p>Is this expected behavior? Is there any way to prevent UUIDs from being changed?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":13272268,"reputation":315,"user_id":9582882,"display_name":"Kakarot"},"score":0,"creation_date":1696415765,"post_id":77228823,"comment_id":136149145,"body_markdown":"how do I control Kafka consumer - how to stop consumers getting called on new messages every time?","body":"how do I control Kafka consumer - how to stop consumers getting called on new messages every time?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1696418653,"post_id":77228823,"comment_id":136149697,"body_markdown":"You can add `autoStartup = &quot;false&quot;`, for example to the listener annotation. Try putting your SPEL condition there. Otherwise, keep it false and use a rest controller to start/stop the listener container (you can find examples in the spring-kafka docs)","body":"You can add <code>autoStartup = &quot;false&quot;</code>, for example to the listener annotation. Try putting your SPEL condition there. Otherwise, keep it false and use a rest controller to start/stop the listener container (you can find examples in the spring-kafka docs)"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1696426915,"post_id":77228823,"comment_id":136151440,"body_markdown":"`autoStartup = &quot;#{T(System).getenv(&#39;KAFKA_CONSUMER_ENABLED&#39;)?:false}&quot;`","body":"<code>autoStartup = &quot;#{T(System).getenv(&#39;KAFKA_CONSUMER_ENABLED&#39;)?:false}&quot;</code>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1696620257,"post_id":77228823,"comment_id":136181591,"body_markdown":"Btw, adding NODE_ENV in a Java project seems odd","body":"Btw, adding NODE_ENV in a Java project seems odd"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696426962,"creation_date":1696426962,"answer_id":77230124,"question_id":77228823,"body_markdown":"Use `autoStartup` with SpEL and an Elvis operator\r\n\r\n```java\r\n@KafkaListener(topics = &quot;#{T(java.lang.System).getenv(&#39;NODE_ENV&#39;) + &#39;-doc-centre-doc-create-update-event&#39;}&quot;, groupId = &quot;doc-centre-doc-create-update-event&quot;, containerFactory = &quot;concurrentKafkaListenerContainerFactory&quot;)\r\n    autoStartup = &quot;#{T(System).getenv(&#39;KAFKA_CONSUMER_ENABLED&#39;)?:false}&quot;","title":"How to disable kafka consumer on basis of a global flag","body":"<p>Use <code>autoStartup</code> with SpEL and an Elvis operator</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;#{T(java.lang.System).getenv('NODE_ENV') + '-doc-centre-doc-create-update-event'}&quot;, groupId = &quot;doc-centre-doc-create-update-event&quot;, containerFactory = &quot;concurrentKafkaListenerContainerFactory&quot;)\n    autoStartup = &quot;#{T(System).getenv('KAFKA_CONSUMER_ENABLED')?:false}&quot;\n</code></pre>\n"}],"owner":{"account_id":13272268,"reputation":315,"user_id":9582882,"display_name":"Kakarot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696426962,"creation_date":1696415696,"question_id":77228823,"body_markdown":"I have a use case where I want to control the kafka consumer through global flag.\r\n\r\nIn kafka consumer i have added the condition if flag is true then only i am creating the container factory.\r\n\r\nbut kafka consumer still tries to create kafka consumer how to control in that case.\r\n\r\nbelow i have shared both kafka consumer config class and kafka consumer class.\r\n\r\n\r\n```\r\n\r\n@Configuration\r\n@EnableKafka\r\npublic class KafkaConsumerConfig {\r\n\r\n  public static final String LOCALHOST_9200 = &quot;localhost:9200&quot;;\r\n  public static final String KAFKA_BROKERS = &quot;KAFKA_BROKERS&quot;;\r\n  private final String KAFKA_ENDPOINT =\r\n      StringUtils.isNullOrEmpty(System.getenv(KAFKA_BROKERS)) ? LOCALHOST_9200\r\n          : System.getenv(KAFKA_BROKERS);\r\n\r\n  private final boolean KAFKA_CONSUMER_ENABLED = Boolean.parseBoolean(\r\n      System.getenv(&quot;KAFKA_CONSUMER_ENABLED&quot;));\r\n\r\n  @Bean\r\n  public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n    System.out.println(System.getenv(KAFKA_BROKERS));\r\n    System.out.println(KAFKA_CONSUMER_ENABLED);\r\n    System.out.println(&quot;KafkEndpoint :: &quot;+ KAFKA_ENDPOINT);\r\n    if (!KAFKA_CONSUMER_ENABLED) {\r\n      return null;\r\n    }\r\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_ENDPOINT);\r\n    config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    return new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n  }\r\n\r\n  @Bean\r\n  public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; concurrentKafkaListenerContainerFactory() {\r\n    if (!KAFKA_CONSUMER_ENABLED) {\r\n      return null;\r\n    }\r\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory();\r\n    factory.setConsumerFactory(consumerFactory());\r\n    return factory;\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\n@Service\r\n@Slf4j\r\npublic class KafkaPayrollDocUpdateConsumer {\r\n\r\n  private final boolean KAFKA_CONSUMER_ENABLED = Boolean.parseBoolean(\r\n      System.getenv(&quot;KAFKA_CONSUMER_ENABLED&quot;));\r\n\r\n  @KafkaListener(topics = &quot;#{T(java.lang.System).getenv(&#39;NODE_ENV&#39;) + &#39;-doc-centre-doc-create-update-event&#39;}&quot;, groupId = &quot;doc-centre-doc-create-update-event&quot;, containerFactory = &quot;concurrentKafkaListenerContainerFactory&quot;)\r\n  public void listen(String message) {\r\n    \r\n\r\n  }\r\n}\r\n```\r\n","title":"How to disable kafka consumer on basis of a global flag","body":"<p>I have a use case where I want to control the kafka consumer through global flag.</p>\n<p>In kafka consumer i have added the condition if flag is true then only i am creating the container factory.</p>\n<p>but kafka consumer still tries to create kafka consumer how to control in that case.</p>\n<p>below i have shared both kafka consumer config class and kafka consumer class.</p>\n<pre><code>\n@Configuration\n@EnableKafka\npublic class KafkaConsumerConfig {\n\n  public static final String LOCALHOST_9200 = &quot;localhost:9200&quot;;\n  public static final String KAFKA_BROKERS = &quot;KAFKA_BROKERS&quot;;\n  private final String KAFKA_ENDPOINT =\n      StringUtils.isNullOrEmpty(System.getenv(KAFKA_BROKERS)) ? LOCALHOST_9200\n          : System.getenv(KAFKA_BROKERS);\n\n  private final boolean KAFKA_CONSUMER_ENABLED = Boolean.parseBoolean(\n      System.getenv(&quot;KAFKA_CONSUMER_ENABLED&quot;));\n\n  @Bean\n  public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    System.out.println(System.getenv(KAFKA_BROKERS));\n    System.out.println(KAFKA_CONSUMER_ENABLED);\n    System.out.println(&quot;KafkEndpoint :: &quot;+ KAFKA_ENDPOINT);\n    if (!KAFKA_CONSUMER_ENABLED) {\n      return null;\n    }\n    Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n    config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, KAFKA_ENDPOINT);\n    config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(config);\n  }\n\n  @Bean\n  public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; concurrentKafkaListenerContainerFactory() {\n    if (!KAFKA_CONSUMER_ENABLED) {\n      return null;\n    }\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n  }\n}\n\n</code></pre>\n<pre><code>@Service\n@Slf4j\npublic class KafkaPayrollDocUpdateConsumer {\n\n  private final boolean KAFKA_CONSUMER_ENABLED = Boolean.parseBoolean(\n      System.getenv(&quot;KAFKA_CONSUMER_ENABLED&quot;));\n\n  @KafkaListener(topics = &quot;#{T(java.lang.System).getenv('NODE_ENV') + '-doc-centre-doc-create-update-event'}&quot;, groupId = &quot;doc-centre-doc-create-update-event&quot;, containerFactory = &quot;concurrentKafkaListenerContainerFactory&quot;)\n  public void listen(String message) {\n    \n\n  }\n}\n</code></pre>\n"},{"tags":["java","swagger","openapi","swagger-codegen","openapi-generator"],"answers":[{"tags":[],"owner":{"account_id":223676,"reputation":1020,"user_id":483046,"accept_rate":40,"display_name":"Lombas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689382316,"creation_date":1689382316,"answer_id":76691809,"question_id":73348223,"body_markdown":"try this\r\n\r\n    java -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\r\n      -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\r\n      -l typescript-angular \\\r\n      -o libs/service/src/lib/swagger-specification \\\r\n      -Dmodels\r\n      -c tools/angular-swagger-option.json\r\n\r\nor \r\n\r\n    java -Dmodels -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\r\n      -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\r\n      -l typescript-angular \\\r\n      -o libs/service/src/lib/swagger-specification \\\r\n      -c tools/angular-swagger-option.json\r\n\r\nIt seems the combination of multiple -D parameters can be buggy\r\n\r\n","title":"Generate only models using Swagger-api / swagger-codegen","body":"<p>try this</p>\n<pre><code>java -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\n  -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\n  -l typescript-angular \\\n  -o libs/service/src/lib/swagger-specification \\\n  -Dmodels\n  -c tools/angular-swagger-option.json\n</code></pre>\n<p>or</p>\n<pre><code>java -Dmodels -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\n  -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\n  -l typescript-angular \\\n  -o libs/service/src/lib/swagger-specification \\\n  -c tools/angular-swagger-option.json\n</code></pre>\n<p>It seems the combination of multiple -D parameters can be buggy</p>\n"},{"tags":[],"owner":{"account_id":979611,"reputation":125,"user_id":999704,"display_name":"WildM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696426870,"creation_date":1696426870,"answer_id":77230115,"question_id":73348223,"body_markdown":"For the CLI, you can comma-delimit -D params.\r\n\r\n```zsh\r\njava -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\r\n  -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\r\n  -l typescript-angular \\\r\n  -o libs/service/src/lib/swagger-specification \\\r\n  -Dmodels=true,modelDocs=false,modelTests=false \\\r\n  -c tools/angular-swagger-option.json\r\n```\r\n\r\nIt is weird that the docs are wrong where. It&#39;s possible that they changed how they parsed options at one point. If you&#39;re interested in contributing to open source software, you could conceivably open a pull request to fix them!","title":"Generate only models using Swagger-api / swagger-codegen","body":"<p>For the CLI, you can comma-delimit -D params.</p>\n<pre><code>java -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\n  -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\n  -l typescript-angular \\\n  -o libs/service/src/lib/swagger-specification \\\n  -Dmodels=true,modelDocs=false,modelTests=false \\\n  -c tools/angular-swagger-option.json\n</code></pre>\n<p>It is weird that the docs are wrong where. It's possible that they changed how they parsed options at one point. If you're interested in contributing to open source software, you could conceivably open a pull request to fix them!</p>\n"}],"owner":{"account_id":1189122,"reputation":15753,"user_id":1162409,"accept_rate":40,"display_name":"San Jaisy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1692,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696426870,"creation_date":1660433265,"question_id":73348223,"body_markdown":"Generating the typescript-angular files from the downloaded jar [swagger-codegen-cli-3.0.34.jar][1]\r\n\r\nCommand\r\n\r\n```\r\njava -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\r\n  -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\r\n  -l typescript-angular \\\r\n  -o libs/service/src/lib/swagger-specification \\\r\n  -Dmodels=true \\\r\n  -DmodelDocs=false -DmodelTests=false \\\r\n  -c tools/angular-swagger-option.json\r\n```\r\n\r\nThe files are generated successfully, however, I am trying to generate only the models not the API, but the above command-generated API as well\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://repo1.maven.org/maven2/io/swagger/codegen/v3/swagger-codegen-cli/3.0.34/swagger-codegen-cli-3.0.34.jar\r\n  [2]: https://i.stack.imgur.com/Pa2QC.png\r\n\r\nFollowed the instructions from https://github.com/swagger-api/swagger-codegen\r\n\r\n    # generate only models\r\n    java -Dmodels {opts}\r\n    \r\n    # generate only apis\r\n    java -Dapis {opts}\r\n    \r\n    # generate only supporting files\r\n    java -DsupportingFiles\r\n    \r\n    # generate models and supporting files\r\n    java -Dmodels -DsupportingFiles\r\n\r\nNot sure what should I pass {opts} so, that it generates only Models not api","title":"Generate only models using Swagger-api / swagger-codegen","body":"<p>Generating the typescript-angular files from the downloaded jar <a href=\"https://repo1.maven.org/maven2/io/swagger/codegen/v3/swagger-codegen-cli/3.0.34/swagger-codegen-cli-3.0.34.jar\" rel=\"nofollow noreferrer\">swagger-codegen-cli-3.0.34.jar</a></p>\n<p>Command</p>\n<pre><code>java -jar tools/swagger-codegen-cli-3.0.34.jar generate \\\n  -i http://localhost:8080/swagger/fete-bird-api-gateway-0.0.yml \\\n  -l typescript-angular \\\n  -o libs/service/src/lib/swagger-specification \\\n  -Dmodels=true \\\n  -DmodelDocs=false -DmodelTests=false \\\n  -c tools/angular-swagger-option.json\n</code></pre>\n<p>The files are generated successfully, however, I am trying to generate only the models not the API, but the above command-generated API as well</p>\n<p><a href=\"https://i.stack.imgur.com/Pa2QC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Pa2QC.png\" alt=\"enter image description here\" /></a></p>\n<p>Followed the instructions from <a href=\"https://github.com/swagger-api/swagger-codegen\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen</a></p>\n<pre><code># generate only models\njava -Dmodels {opts}\n\n# generate only apis\njava -Dapis {opts}\n\n# generate only supporting files\njava -DsupportingFiles\n\n# generate models and supporting files\njava -Dmodels -DsupportingFiles\n</code></pre>\n<p>Not sure what should I pass {opts} so, that it generates only Models not api</p>\n"},{"tags":["java","spring-boot","spring-security","api-gateway","krakend"],"answers":[{"tags":[],"owner":{"account_id":895783,"reputation":1323,"user_id":933110,"display_name":"alo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1695978317,"creation_date":1695978317,"answer_id":77200679,"question_id":77194918,"body_markdown":"Not sure what you are trying to do here, but:\r\n1. If you want that KrakenD passes the authentication to your spring backend, then you should use a [Header modifier](https://www.krakend.io/docs/backends/martian/#header-modifier)\r\n2. If you want KrakenD to prevent the usage of endpoints without passing user and password, then the `auth/basic` component is correct. This is an enterprise functionality (as it shows in the URL), so not sure why you ask in Stack overflow rather than using their support if you are already paying for this.","title":"krakend spring security. Basic endpoint authentication won&#39;t work","body":"<p>Not sure what you are trying to do here, but:</p>\n<ol>\n<li>If you want that KrakenD passes the authentication to your spring backend, then you should use a <a href=\"https://www.krakend.io/docs/backends/martian/#header-modifier\" rel=\"nofollow noreferrer\">Header modifier</a></li>\n<li>If you want KrakenD to prevent the usage of endpoints without passing user and password, then the <code>auth/basic</code> component is correct. This is an enterprise functionality (as it shows in the URL), so not sure why you ask in Stack overflow rather than using their support if you are already paying for this.</li>\n</ol>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77200679,"answer_count":1,"score":0,"last_activity_date":1696426054,"creation_date":1695903812,"question_id":77194918,"body_markdown":"My SecurityAdapter:\r\n```\r\n@Override\r\n   public void configure(AuthenticationManagerBuilder auth) throws Exception\r\n   {\r\n      var authManager = auth.inMemoryAuthentication();\r\n      for (var user : userConfiguration.getUsers()) {\r\n         authManager.withUser(user.getName())\r\n                    .password(&quot;{noop}&quot; + user.getPassword())\r\n                    .roles(user.getRole());\r\n      }\r\n   }\r\n\r\n@Override\r\n   protected void configure(HttpSecurity httpSecurity) throws Exception\r\n   {\r\n      // @formatter:off\r\n      httpSecurity\r\n               .csrf()\r\n               .disable()\r\n               .authorizeRequests()\r\n               .antMatchers(HttpMethod.GET).permitAll()\r\n               .anyRequest()\r\n               .authenticated()\r\n               .and()\r\n               .httpBasic()\r\n               .and()\r\n               .exceptionHandling()\r\n               .authenticationEntryPoint(authenticationEntryPoint());\r\n      // @formatter:on\r\n   }\r\n```\r\n\r\nin application.yml i have this security config;\r\n```\r\nsecurity:\r\n  users:\r\n    - name: someUser\r\n      password: somepwd\r\n      role: someAdmin\r\n    - name: ...\r\n```\r\n\r\nmy krakend.json\r\n```\r\n{\r\n  &quot;$schema&quot;: &quot;https://www.krakend.io/schema/v3.json&quot;,\r\n  &quot;version&quot;: 3,\r\n  &quot;port&quot;: 9000,\r\n  &quot;timeout&quot;: &quot;300000s&quot;,\r\n  &quot;cache_ttl&quot;: &quot;4000s&quot;,\r\n  &quot;extra_config&quot;: {\r\n    &quot;router&quot;: {\r\n      &quot;return_error_msg&quot;: true\r\n    }\r\n  },\r\n  &quot;endpoints&quot;: [\r\n    {\r\n      &quot;@comment&quot;: &quot;Feature: POST boards with basic authentification&quot;,\r\n      &quot;endpoint&quot;: &quot;/apps&quot;,\r\n      &quot;output_encoding&quot;: &quot;no-op&quot;,\r\n      &quot;method&quot;: &quot;POST&quot;,\r\n      &quot;backend&quot;: [\r\n        {\r\n          &quot;host&quot;: [\r\n            &quot;http://ipaddress:4603&quot;\r\n          ],\r\n          &quot;method&quot;: &quot;POST&quot;,\r\n          &quot;url_pattern&quot;: &quot;/apps&quot;,\r\n          &quot;extra_config&quot;: {\r\n            &quot;modifier/martian&quot;: {\r\n              &quot;body.Modifier&quot;: {\r\n                &quot;scope&quot;: [\r\n                  &quot;request&quot;\r\n                ],\r\n                &quot;@comment&quot;: &quot;Send a {&#39;msg&#39;:&#39;you rock!&#39;}&quot;,\r\n                &quot;body&quot;: &quot;Ym9hcm......&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      ]\r\n...\r\n```\r\n\r\ni got a:\r\n\r\n```\r\n{\r\n    &quot;errors&quot;: [\r\n        {\r\n            &quot;status&quot;: 401,\r\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\r\n            &quot;detail&quot;: &quot;Full authentication is required to access this resource. Missing Authorization Key im Header.&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nbut when i called the api directly with the encryption in `base64` it works. In apigateway with krakend, according to the docu [https://www.krakend.io/docs/enterprise/authentication/basic-authentication/][1]\r\ni have to use `bcrypt`\r\n\r\n\r\n  [1]: https://www.krakend.io/docs/enterprise/authentication/basic-authentication/","title":"krakend spring security. Basic endpoint authentication won&#39;t work","body":"<p>My SecurityAdapter:</p>\n<pre><code>@Override\n   public void configure(AuthenticationManagerBuilder auth) throws Exception\n   {\n      var authManager = auth.inMemoryAuthentication();\n      for (var user : userConfiguration.getUsers()) {\n         authManager.withUser(user.getName())\n                    .password(&quot;{noop}&quot; + user.getPassword())\n                    .roles(user.getRole());\n      }\n   }\n\n@Override\n   protected void configure(HttpSecurity httpSecurity) throws Exception\n   {\n      // @formatter:off\n      httpSecurity\n               .csrf()\n               .disable()\n               .authorizeRequests()\n               .antMatchers(HttpMethod.GET).permitAll()\n               .anyRequest()\n               .authenticated()\n               .and()\n               .httpBasic()\n               .and()\n               .exceptionHandling()\n               .authenticationEntryPoint(authenticationEntryPoint());\n      // @formatter:on\n   }\n</code></pre>\n<p>in application.yml i have this security config;</p>\n<pre><code>security:\n  users:\n    - name: someUser\n      password: somepwd\n      role: someAdmin\n    - name: ...\n</code></pre>\n<p>my krakend.json</p>\n<pre><code>{\n  &quot;$schema&quot;: &quot;https://www.krakend.io/schema/v3.json&quot;,\n  &quot;version&quot;: 3,\n  &quot;port&quot;: 9000,\n  &quot;timeout&quot;: &quot;300000s&quot;,\n  &quot;cache_ttl&quot;: &quot;4000s&quot;,\n  &quot;extra_config&quot;: {\n    &quot;router&quot;: {\n      &quot;return_error_msg&quot;: true\n    }\n  },\n  &quot;endpoints&quot;: [\n    {\n      &quot;@comment&quot;: &quot;Feature: POST boards with basic authentification&quot;,\n      &quot;endpoint&quot;: &quot;/apps&quot;,\n      &quot;output_encoding&quot;: &quot;no-op&quot;,\n      &quot;method&quot;: &quot;POST&quot;,\n      &quot;backend&quot;: [\n        {\n          &quot;host&quot;: [\n            &quot;http://ipaddress:4603&quot;\n          ],\n          &quot;method&quot;: &quot;POST&quot;,\n          &quot;url_pattern&quot;: &quot;/apps&quot;,\n          &quot;extra_config&quot;: {\n            &quot;modifier/martian&quot;: {\n              &quot;body.Modifier&quot;: {\n                &quot;scope&quot;: [\n                  &quot;request&quot;\n                ],\n                &quot;@comment&quot;: &quot;Send a {'msg':'you rock!'}&quot;,\n                &quot;body&quot;: &quot;Ym9hcm......&quot;\n              }\n            }\n          }\n        }\n      ]\n...\n</code></pre>\n<p>i got a:</p>\n<pre><code>{\n    &quot;errors&quot;: [\n        {\n            &quot;status&quot;: 401,\n            &quot;title&quot;: &quot;UNAUTHORIZED&quot;,\n            &quot;detail&quot;: &quot;Full authentication is required to access this resource. Missing Authorization Key im Header.&quot;\n        }\n    ]\n}\n</code></pre>\n<p>but when i called the api directly with the encryption in <code>base64</code> it works. In apigateway with krakend, according to the docu <a href=\"https://www.krakend.io/docs/enterprise/authentication/basic-authentication/\" rel=\"nofollow noreferrer\">https://www.krakend.io/docs/enterprise/authentication/basic-authentication/</a>\ni have to use <code>bcrypt</code></p>\n"},{"tags":["java","resttemplate","apex"],"answers":[{"tags":[],"owner":{"account_id":6027182,"reputation":2632,"user_id":8705446,"display_name":"Aleh Maksimovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508000471,"creation_date":1508000471,"answer_id":46747123,"question_id":46745002,"body_markdown":"You are trying to send your query string parameters as headers (which is not the same). The following code will be equal to your test in Postman\r\n\r\n    public class RestTemplateExample {\r\n    \r\n        final static String TOKEN_URL = &quot;https://ap5.salesforce.com/services/oauth2/token&quot;;\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n        UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(TOKEN_URL)\r\n            .queryParam(&quot;client_secret&quot;, &quot;XXXXXXXXX&quot;)\r\n            .queryParam(&quot;client_id&quot;, &quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;)\r\n            .queryParam(&quot;grant_type&quot;, &quot;password&quot;)\r\n            .queryParam(&quot;username&quot;, &quot;XXX@XX.com&quot;)\r\n            .queryParam(&quot;password&quot;, &quot;XXXXXXXXXXXX&quot;);\r\n\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n\r\n            HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;&quot;, headers);\r\n\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            ResponseEntity&lt;String&gt; result = restTemplate.exchange(\r\n                builder.build().encode().toUri(), \r\n                HttpMethod.POST, \r\n                entity, String.class\r\n            );\r\n            System.out.println(&quot;TOKEN DETAILS :: &quot;+result.getBody());\r\n        }\r\n    }","title":"Unable to call Salesforce API using Spring RestTemplate","body":"<p>You are trying to send your query string parameters as headers (which is not the same). The following code will be equal to your test in Postman</p>\n\n<pre><code>public class RestTemplateExample {\n\n    final static String TOKEN_URL = \"https://ap5.salesforce.com/services/oauth2/token\";\n\n    public static void main(String[] args) {\n\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(TOKEN_URL)\n        .queryParam(\"client_secret\", \"XXXXXXXXX\")\n        .queryParam(\"client_id\", \"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\")\n        .queryParam(\"grant_type\", \"password\")\n        .queryParam(\"username\", \"XXX@XX.com\")\n        .queryParam(\"password\", \"XXXXXXXXXXXX\");\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(\"\", headers);\n\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;String&gt; result = restTemplate.exchange(\n            builder.build().encode().toUri(), \n            HttpMethod.POST, \n            entity, String.class\n        );\n        System.out.println(\"TOKEN DETAILS :: \"+result.getBody());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1508007147,"creation_date":1508007147,"answer_id":46748187,"question_id":46745002,"body_markdown":"This needs to be implemented like below which works fine.\r\n\r\n    // create the Map of the MultiValueMap\r\n    MultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;String, String&gt;();\r\n    map.add(&quot;grant_type&quot;, &quot;password&quot;);\r\n    map.add(&quot;client_id&quot;, &quot;XX&quot;);\r\n    map.add(&quot;client_secret&quot;, &quot;XXX&quot;);\r\n    map.add(&quot;username&quot;, &quot;XX&quot;);\r\n    map.add(&quot;password&quot;, &quot;XXX&quot;);\r\n    \r\n    // RestTemplate\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    Map&lt;String, String&gt; token = restTemplate.postForObject(TOKEN_URL, map, Map.class);\r\n    System.out.println(&quot;--------------------------------------------&quot;);\r\n    System.out.println(&quot;Access Token  :: &quot;+token.get(&quot;access_token&quot;));\r\n    System.out.println(&quot;Instance Url  :: &quot;+token.get(&quot;instance_url&quot;));\r\n    System.out.println(&quot;Id  :: &quot;+token.get(&quot;id&quot;));\r\n    System.out.println(&quot;Token_Type  :: &quot;+token.get(&quot;token_type&quot;));\r\n    System.out.println(&quot;Signature  :: &quot;+token.get(&quot;signature&quot;));\r\n    System.out.println(&quot;--------------------------------------------&quot;);\r\n\r\nThe token url would be the below. \r\n\r\n    final static String TOKEN_URL = &quot;https://login.salesforce.com/services/oauth2/token&quot;;\r\n\r\nHere is the output for reference:\r\n\r\n    --------------------------------------------\r\n    Access Token  :: 00D7F0000001I8v!ARgAQB7R8VtkU8QbUYHfdBjytHPATIDYmMKkPt7sunvUW4DeM2t.c.wFDJ0.k0uNPogX5aPWIrL_lHkrbfNai_t.byjjRCy_\r\n    Instance Url  :: https://ap5.salesforce.com\r\n    Id  :: https://login.salesforce.com/id/00D7F0000001I8vUAE/0057F000000l2bgQAA\r\n    Token_Type  :: Bearer\r\n    Signature  :: veYhITIlhqf9SJqvBAZ4PKiLh1sj9at13D3m44TnBxw=\r\n    --------------------------------------------","title":"Unable to call Salesforce API using Spring RestTemplate","body":"<p>This needs to be implemented like below which works fine.</p>\n\n<pre><code>// create the Map of the MultiValueMap\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;String, String&gt;();\nmap.add(\"grant_type\", \"password\");\nmap.add(\"client_id\", \"XX\");\nmap.add(\"client_secret\", \"XXX\");\nmap.add(\"username\", \"XX\");\nmap.add(\"password\", \"XXX\");\n\n// RestTemplate\nRestTemplate restTemplate = new RestTemplate();\nMap&lt;String, String&gt; token = restTemplate.postForObject(TOKEN_URL, map, Map.class);\nSystem.out.println(\"--------------------------------------------\");\nSystem.out.println(\"Access Token  :: \"+token.get(\"access_token\"));\nSystem.out.println(\"Instance Url  :: \"+token.get(\"instance_url\"));\nSystem.out.println(\"Id  :: \"+token.get(\"id\"));\nSystem.out.println(\"Token_Type  :: \"+token.get(\"token_type\"));\nSystem.out.println(\"Signature  :: \"+token.get(\"signature\"));\nSystem.out.println(\"--------------------------------------------\");\n</code></pre>\n\n<p>The token url would be the below. </p>\n\n<pre><code>final static String TOKEN_URL = \"https://login.salesforce.com/services/oauth2/token\";\n</code></pre>\n\n<p>Here is the output for reference:</p>\n\n<pre><code>--------------------------------------------\nAccess Token  :: 00D7F0000001I8v!ARgAQB7R8VtkU8QbUYHfdBjytHPATIDYmMKkPt7sunvUW4DeM2t.c.wFDJ0.k0uNPogX5aPWIrL_lHkrbfNai_t.byjjRCy_\nInstance Url  :: https://ap5.salesforce.com\nId  :: https://login.salesforce.com/id/00D7F0000001I8vUAE/0057F000000l2bgQAA\nToken_Type  :: Bearer\nSignature  :: veYhITIlhqf9SJqvBAZ4PKiLh1sj9at13D3m44TnBxw=\n--------------------------------------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25868194,"reputation":1,"user_id":19599468,"display_name":"SkClass"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696425709,"creation_date":1696425709,"answer_id":77229965,"question_id":46745002,"body_markdown":"I Tried with it. But not working and throwing connection timeout error \r\n\r\n```\r\n// create the Map of the MultiValueMap\r\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;String, String&gt;();\r\nmap.add(&quot;grant_type&quot;, &quot;password&quot;);\r\nmap.add(&quot;client_id&quot;, &quot;XX&quot;);\r\nmap.add(&quot;client_secret&quot;, &quot;XXX&quot;);\r\nmap.add(&quot;username&quot;, &quot;XX&quot;);\r\nmap.add(&quot;password&quot;, &quot;XXX&quot;);\r\n\r\n// RestTemplate\r\nRestTemplate restTemplate = new RestTemplate();\r\nMap&lt;String, String&gt; token = restTemplate.postForObject(TOKEN_URL, map, Map.class);\r\nSystem.out.println(&quot;--------------------------------------------&quot;);\r\nSystem.out.println(&quot;Access Token  :: &quot;+token.get(&quot;access_token&quot;));\r\nSystem.out.println(&quot;Instance Url  :: &quot;+token.get(&quot;instance_url&quot;));\r\nSystem.out.println(&quot;Id  :: &quot;+token.get(&quot;id&quot;));\r\nSystem.out.println(&quot;Token_Type  :: &quot;+token.get(&quot;token_type&quot;));\r\nSystem.out.println(&quot;Signature  :: &quot;+token.get(&quot;signature&quot;));\r\nSystem.out.println(&quot;--------------------------------------------&quot;);\r\n\r\n```","title":"Unable to call Salesforce API using Spring RestTemplate","body":"<p>I Tried with it. But not working and throwing connection timeout error</p>\n<pre><code>// create the Map of the MultiValueMap\nMultiValueMap&lt;String, String&gt; map = new LinkedMultiValueMap&lt;String, String&gt;();\nmap.add(&quot;grant_type&quot;, &quot;password&quot;);\nmap.add(&quot;client_id&quot;, &quot;XX&quot;);\nmap.add(&quot;client_secret&quot;, &quot;XXX&quot;);\nmap.add(&quot;username&quot;, &quot;XX&quot;);\nmap.add(&quot;password&quot;, &quot;XXX&quot;);\n\n// RestTemplate\nRestTemplate restTemplate = new RestTemplate();\nMap&lt;String, String&gt; token = restTemplate.postForObject(TOKEN_URL, map, Map.class);\nSystem.out.println(&quot;--------------------------------------------&quot;);\nSystem.out.println(&quot;Access Token  :: &quot;+token.get(&quot;access_token&quot;));\nSystem.out.println(&quot;Instance Url  :: &quot;+token.get(&quot;instance_url&quot;));\nSystem.out.println(&quot;Id  :: &quot;+token.get(&quot;id&quot;));\nSystem.out.println(&quot;Token_Type  :: &quot;+token.get(&quot;token_type&quot;));\nSystem.out.println(&quot;Signature  :: &quot;+token.get(&quot;signature&quot;));\nSystem.out.println(&quot;--------------------------------------------&quot;);\n\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46748187,"answer_count":3,"score":1,"last_activity_date":1696425709,"creation_date":1507986990,"question_id":46745002,"body_markdown":"I am developing an application Java + Salesforce and calling Salesforce services using the Spring RestTemplate API, but seems getting some error.\r\n\r\n    public class RestTemplateExample {\r\n    \t\r\n    \tfinal static String TOKEN_URL = &quot;https://ap5.salesforce.com/services/oauth2/token&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.add(&quot;client_secret&quot;, &quot;XXXXXXXXX&quot;);\r\n    \t\theaders.add(&quot;client_id&quot;, &quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;);\r\n    \t\theaders.add(&quot;grant_type&quot;, &quot;password&quot;);\r\n    \t\theaders.add(&quot;username&quot;, &quot;XXX@XX.com&quot;);\r\n    \t\theaders.add(&quot;password&quot;, &quot;XXXXXXXXXXXX&quot;);\r\n    \t    headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n    \t    \r\n    \t    HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;&quot;, headers);\r\n    \r\n    \t    RestTemplate restTemplate = new RestTemplate();\r\n    \t    ResponseEntity&lt;String&gt; result = restTemplate.exchange(TOKEN_URL, HttpMethod.POST, entity, String.class);\r\n    \t\tSystem.out.println(&quot;TOKEN DETAILS :: &quot;+result.getBody());\r\n    \t}\r\n    }\r\n\r\nWhen I checked through Postman it works fine.\r\n\r\n\r\n    2017-10-14 18:40:35 DEBUG o.s.web.client.RestTemplate - Created POST request for &quot;https://ap5.salesforce.com/services/oauth2/token&quot;\r\n    2017-10-14 18:40:35 DEBUG o.s.web.client.RestTemplate - Setting request Accept header to [text/plain, application/json, application/*+json, */*]\r\n    2017-10-14 18:40:35 DEBUG o.s.web.client.RestTemplate - Writing [] using [org.springframework.http.converter.StringHttpMessageConverter@2141a12]\r\n    2017-10-14 18:40:37 DEBUG o.s.web.client.RestTemplate - POST request for &quot;https://ap5.salesforce.com/services/oauth2/token&quot; resulted in 400 (Bad Request); invoking error handler\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.HttpClientErrorException: 400 Bad Request\r\n    \tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:78)\r\n    \tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)\r\n    \tat com.example.RestTemplateExample.main(RestTemplateExample.java:29)\r\n\r\n&gt;https://ap5.salesforce.com/services/oauth2/token?client_id=XXXXXXXX&amp;client_secret=XXXXXXXXXXX&amp;username=XXXXXXXXXXXXX&amp;password=XXXXXXXXXXXX&amp;grant_type=password\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4CORq.png","title":"Unable to call Salesforce API using Spring RestTemplate","body":"<p>I am developing an application Java + Salesforce and calling Salesforce services using the Spring RestTemplate API, but seems getting some error.</p>\n<pre><code>public class RestTemplateExample {\n    \n    final static String TOKEN_URL = &quot;https://ap5.salesforce.com/services/oauth2/token&quot;;\n    \n    public static void main(String[] args) {\n        \n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;client_secret&quot;, &quot;XXXXXXXXX&quot;);\n        headers.add(&quot;client_id&quot;, &quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;);\n        headers.add(&quot;grant_type&quot;, &quot;password&quot;);\n        headers.add(&quot;username&quot;, &quot;XXX@XX.com&quot;);\n        headers.add(&quot;password&quot;, &quot;XXXXXXXXXXXX&quot;);\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n        \n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(&quot;&quot;, headers);\n\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;String&gt; result = restTemplate.exchange(TOKEN_URL, HttpMethod.POST, entity, String.class);\n        System.out.println(&quot;TOKEN DETAILS :: &quot;+result.getBody());\n    }\n}\n</code></pre>\n<p>When I checked through Postman it works fine.</p>\n<pre><code>2017-10-14 18:40:35 DEBUG o.s.web.client.RestTemplate - Created POST request for &quot;https://ap5.salesforce.com/services/oauth2/token&quot;\n2017-10-14 18:40:35 DEBUG o.s.web.client.RestTemplate - Setting request Accept header to [text/plain, application/json, application/*+json, */*]\n2017-10-14 18:40:35 DEBUG o.s.web.client.RestTemplate - Writing [] using [org.springframework.http.converter.StringHttpMessageConverter@2141a12]\n2017-10-14 18:40:37 DEBUG o.s.web.client.RestTemplate - POST request for &quot;https://ap5.salesforce.com/services/oauth2/token&quot; resulted in 400 (Bad Request); invoking error handler\nException in thread &quot;main&quot; org.springframework.web.client.HttpClientErrorException: 400 Bad Request\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:78)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:700)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:653)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:613)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:531)\n    at com.example.RestTemplateExample.main(RestTemplateExample.java:29)\n</code></pre>\n<blockquote>\n<p>https://ap5.salesforce.com/services/oauth2/token?client_id=XXXXXXXX&amp;client_secret=XXXXXXXXXXX&amp;username=XXXXXXXXXXXXX&amp;password=XXXXXXXXXXXX&amp;grant_type=password</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/4CORq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4CORq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":4,"creation_date":1696424411,"post_id":77229754,"comment_id":136150849,"body_markdown":"Why does `midpoint` in the `Point2D` class modify `this.x` and `this.y`? Probably should just be `return new Point((x + other.x) / 2, (y + other.y) / 2);`","body":"Why does <code>midpoint</code> in the <code>Point2D</code> class modify <code>this.x</code> and <code>this.y</code>? Probably should just be <code>return new Point((x + other.x) &#47; 2, (y + other.y) &#47; 2);</code>"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1696424914,"post_id":77229754,"comment_id":136150964,"body_markdown":"Pretty much the same question in https://stackoverflow.com/questions/77229133/public-point2d-addpoint2d-other","body":"Pretty much the same question in <a href=\"https://stackoverflow.com/questions/77229133/public-point2d-addpoint2d-other\" title=\"public point2d addpoint2d other\">stackoverflow.com/questions/77229133/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696424609,"creation_date":1696424609,"answer_id":77229827,"question_id":77229754,"body_markdown":"\r\nYou modify the this object in `midpoint()` method. It can lead to unexpected behavior. Instead, you should create a new Point2D object to represent the midpoint.\r\n\r\nAlso you don&#39;t use `midpoint()` method from the `class Point2D` in your `midpoint()` method. Instead, you calculate `midpoint` yourself. This is unnecessary, as the `class Point2D` already provides `midpoint()` method.\r\n\r\nUpdated code:\r\n```\r\npublic Point2D midpoint(Point2D other) {\r\n  return new Point2D((this.x + other.x) / 2, (this.y + other.y) / 2);\r\n}\r\n\r\npublic Point2D midpoint() {\r\n  return endPoint1.midpoint(endPoint2);\r\n}\r\n```","title":"public Point2D midpoint()","body":"<p>You modify the this object in <code>midpoint()</code> method. It can lead to unexpected behavior. Instead, you should create a new Point2D object to represent the midpoint.</p>\n<p>Also you don't use <code>midpoint()</code> method from the <code>class Point2D</code> in your <code>midpoint()</code> method. Instead, you calculate <code>midpoint</code> yourself. This is unnecessary, as the <code>class Point2D</code> already provides <code>midpoint()</code> method.</p>\n<p>Updated code:</p>\n<pre><code>public Point2D midpoint(Point2D other) {\n  return new Point2D((this.x + other.x) / 2, (this.y + other.y) / 2);\n}\n\npublic Point2D midpoint() {\n  return endPoint1.midpoint(endPoint2);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696425389,"creation_date":1696424930,"answer_id":77229872,"question_id":77229754,"body_markdown":"You should probably use static methods. You can overload the `midpoint` method three times.\r\n\r\n1. Takes a `Line2D` object\r\n2. Takes 2 `Point2D` objects\r\n3. Takes 4 `double` values i.e. `x1`, `y1`, `x2`, `y2`\r\n\r\n```java\r\nimport java.awt.geom.*;\r\n\r\npublic class LinePointDemo {\r\n    public static void main(String[] args) {\r\n        Point2D startPoint = new Point2D.Double(0, 0),\r\n                endPoint = new Point2D.Double(10, 20);\r\n\r\n        System.out.printf(&quot;Midpoint: %s%n&quot;, midpoint(startPoint, endPoint)); // (5, 10)\r\n\r\n        Line2D line = new Line2D.Double(startPoint, endPoint);\r\n\r\n        System.out.printf(&quot;Midpoint: %s%n&quot;, midpoint(line)); // (5, 10)\r\n    }\r\n\r\n    public static Point2D midpoint(Line2D line) {\r\n        return midpoint(line.getP1(), line.getP2());\r\n    }\r\n\r\n    public static Point2D midpoint(Point2D startPoint, Point2D endPoint) {\r\n        return midpoint(startPoint.getX(), startPoint.getY(),\r\n                endPoint.getX(), endPoint.getY());\r\n    }\r\n\r\n    public static Point2D midpoint(double x1, double y1, double x2, double y2) {\r\n        return new Point2D.Double((x1 + x2) / 2, (y1 + y2) / 2);\r\n    }\r\n}\r\n```\r\n\r\nIf you have a class e.g. `Player` with a position `x` and `y`, you could reuse these methods above:\r\n\r\n```java\r\nimport java.awt.geom.*;\r\n\r\npublic class Player {\r\n    private float x;\r\n    private float y;\r\n\r\n    public Player(float x, float y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public Point2D getPosition() {\r\n        return new Point2D.Double(x, y);\r\n    }\r\n\r\n    public void setPosition(Point2D point) {\r\n        this.x = (float) point.getX();\r\n        this.y = (float) point.getY();\r\n    }\r\n\r\n    public Point2D midpoint(Point2D point) {\r\n        return midpoint(this.x, this.y, point.getX(), point.getY());\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Player player = new Player(0, 0);\r\n        Point2D point = new Point2D.Double(10, 20);\r\n        System.out.println(player.midpoint(point)); // (5, 10)\r\n    }\r\n\r\n    public static Point2D midpoint(Line2D line) {\r\n        return midpoint(line.getP1(), line.getP2());\r\n    }\r\n\r\n    public static Point2D midpoint(Point2D startPoint, Point2D endPoint) {\r\n        return midpoint(startPoint.getX(), startPoint.getY(),\r\n                endPoint.getX(), endPoint.getY());\r\n    }\r\n\r\n    public static Point2D midpoint(double x1, double y1, double x2, double y2) {\r\n        return new Point2D.Double((x1 + x2) / 2, (y1 + y2) / 2);\r\n    }\r\n}\r\n```","title":"public Point2D midpoint()","body":"<p>You should probably use static methods. You can overload the <code>midpoint</code> method three times.</p>\n<ol>\n<li>Takes a <code>Line2D</code> object</li>\n<li>Takes 2 <code>Point2D</code> objects</li>\n<li>Takes 4 <code>double</code> values i.e. <code>x1</code>, <code>y1</code>, <code>x2</code>, <code>y2</code></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.geom.*;\n\npublic class LinePointDemo {\n    public static void main(String[] args) {\n        Point2D startPoint = new Point2D.Double(0, 0),\n                endPoint = new Point2D.Double(10, 20);\n\n        System.out.printf(&quot;Midpoint: %s%n&quot;, midpoint(startPoint, endPoint)); // (5, 10)\n\n        Line2D line = new Line2D.Double(startPoint, endPoint);\n\n        System.out.printf(&quot;Midpoint: %s%n&quot;, midpoint(line)); // (5, 10)\n    }\n\n    public static Point2D midpoint(Line2D line) {\n        return midpoint(line.getP1(), line.getP2());\n    }\n\n    public static Point2D midpoint(Point2D startPoint, Point2D endPoint) {\n        return midpoint(startPoint.getX(), startPoint.getY(),\n                endPoint.getX(), endPoint.getY());\n    }\n\n    public static Point2D midpoint(double x1, double y1, double x2, double y2) {\n        return new Point2D.Double((x1 + x2) / 2, (y1 + y2) / 2);\n    }\n}\n</code></pre>\n<p>If you have a class e.g. <code>Player</code> with a position <code>x</code> and <code>y</code>, you could reuse these methods above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.geom.*;\n\npublic class Player {\n    private float x;\n    private float y;\n\n    public Player(float x, float y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public Point2D getPosition() {\n        return new Point2D.Double(x, y);\n    }\n\n    public void setPosition(Point2D point) {\n        this.x = (float) point.getX();\n        this.y = (float) point.getY();\n    }\n\n    public Point2D midpoint(Point2D point) {\n        return midpoint(this.x, this.y, point.getX(), point.getY());\n    }\n\n    public static void main(String[] args) {\n        Player player = new Player(0, 0);\n        Point2D point = new Point2D.Double(10, 20);\n        System.out.println(player.midpoint(point)); // (5, 10)\n    }\n\n    public static Point2D midpoint(Line2D line) {\n        return midpoint(line.getP1(), line.getP2());\n    }\n\n    public static Point2D midpoint(Point2D startPoint, Point2D endPoint) {\n        return midpoint(startPoint.getX(), startPoint.getY(),\n                endPoint.getX(), endPoint.getY());\n    }\n\n    public static Point2D midpoint(double x1, double y1, double x2, double y2) {\n        return new Point2D.Double((x1 + x2) / 2, (y1 + y2) / 2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29596235,"reputation":9,"user_id":22682681,"display_name":"GIsilver12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1696425389,"creation_date":1696424060,"question_id":77229754,"body_markdown":"java code by the way, that includes **code from 2 different classes**\r\n\r\n- **public** Point2D&#160;midpoint(Point2D other)\r\n\r\n  This method creates and returns a new, distinct *Point2D*&#160;object that is the midpoint of the line segment formed by this&#160;*Point2D* object and the&#160;*Point2D* object referenced by *other*. &#160;For example, the midpoint of points (1, 2) and (3, 4) is a new point (2, 3). &#160;This method assumes that both the x and y coordinates of the midpoint are integers.\r\n\r\n  ***from the Point2D class***\r\n\r\n- **public** Point2D midpoint()\r\n\r\n  This method returns the Point2D object that is the midpoint of this Line2D object.  This method must call the midpoint method in Point2D for the instance variables of this object, taking advantage of the operation implemented there.\r\n\r\n  **from the line2D class**\r\n\r\nthis is the code I tried for ***the Point2D class***:\r\n\r\n```\r\npublic Point2D midpoint(Point2D other) {\r\n\t\tthis.x = x + other.x;\r\n\t\tthis.y = y + other.y;\r\n\t\treturn new Point2D(x / 2, y / 2);\r\n```\r\n\r\nThis is the code I tried for **the line2D class:**\r\n\r\n```\r\npublic Point2D midpoint() {\r\n        return new Point2D((endPoint1.getX() + endPoint2.getX()) / 2, (endPoint1.getY() + endPoint2.getY()) / 2);\r\n```\r\n\r\nbut I am not getting the results I expected","title":"public Point2D midpoint()","body":"<p>java code by the way, that includes <strong>code from 2 different classes</strong></p>\n<ul>\n<li><p><strong>public</strong> Point2D midpoint(Point2D other)</p>\n<p>This method creates and returns a new, distinct <em>Point2D</em> object that is the midpoint of the line segment formed by this <em>Point2D</em> object and the <em>Point2D</em> object referenced by <em>other</em>.  For example, the midpoint of points (1, 2) and (3, 4) is a new point (2, 3).  This method assumes that both the x and y coordinates of the midpoint are integers.</p>\n<p><em><strong>from the Point2D class</strong></em></p>\n</li>\n<li><p><strong>public</strong> Point2D midpoint()</p>\n<p>This method returns the Point2D object that is the midpoint of this Line2D object.  This method must call the midpoint method in Point2D for the instance variables of this object, taking advantage of the operation implemented there.</p>\n<p><strong>from the line2D class</strong></p>\n</li>\n</ul>\n<p>this is the code I tried for <em><strong>the Point2D class</strong></em>:</p>\n<pre><code>public Point2D midpoint(Point2D other) {\n        this.x = x + other.x;\n        this.y = y + other.y;\n        return new Point2D(x / 2, y / 2);\n</code></pre>\n<p>This is the code I tried for <strong>the line2D class:</strong></p>\n<pre><code>public Point2D midpoint() {\n        return new Point2D((endPoint1.getX() + endPoint2.getX()) / 2, (endPoint1.getY() + endPoint2.getY()) / 2);\n</code></pre>\n<p>but I am not getting the results I expected</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":300897,"reputation":7589,"user_id":608312,"accept_rate":91,"display_name":"Jake Lee"},"score":0,"creation_date":1696437187,"post_id":77229917,"comment_id":136153764,"body_markdown":"It&#39;s hard to help much without knowing more about where this data comes from. As a first step, make sure `onFallingEnd` is called when you think it is, and try using `notifyDataSetChanged()`. I suspect the issue is due to indexes being slightly wrong, so this should help debug.","body":"It&#39;s hard to help much without knowing more about where this data comes from. As a first step, make sure <code>onFallingEnd</code> is called when you think it is, and try using <code>notifyDataSetChanged()</code>. I suspect the issue is due to indexes being slightly wrong, so this should help debug."}],"owner":{"account_id":15988224,"reputation":49,"user_id":19224324,"display_name":"Nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696425375,"creation_date":1696425375,"question_id":77229917,"body_markdown":"I try to create a cool animation as a glass crashing when long click on an item of recyclerview. Item crash, then parts falling and item is deleted. item list need after to be updated. For this i use next library implementation &#39;com.zys:brokenview:1.0.3&#39;\r\n\r\nIn adapter I use next code\r\n\r\n    holder.mItem.setOnTouchListener(new BrokenTouchListener.Builder(brokenView)\r\n                                    .setComplexity( 35).\r\n                                    setBreakDuration(500).\r\n                                    setFallDuration( 500).\r\n                                    setCircleRiftsRadius(200).\r\n                                    build());\r\n\r\n    brokenView.setCallback(new BrokenCallback() {\r\n\r\n                                @Override\r\n                                public void onStart(View v) {}\r\n\r\n                                @Override\r\n                                public void onCancel(View v) {}\r\n\r\n                                @Override\r\n                                public void onCancelEnd(View v) {}\r\n\r\n                                @Override\r\n                                public void onRestart(View v) {}\r\n\r\n                                @Override\r\n                                public void onFalling(View v) {}\r\n\r\n                                @Override\r\n                                public void onFallingEnd(View v) {\r\n                                    \r\n                                    int clickedPosition = holder.getBindingAdapterPosition();\r\n                                 \r\n                                     myList.remove(clickedPosition);\r\n                                        notifyItemRemoved(clickedPosition);\r\n                                        notifyItemRangeChanged(clickedPosition, mSavedLocations.size() - clickedPosition);\r\n                                         }\r\n                                }\r\n                            });\r\n\r\nThe problem is that items are not corect displayed starting with second deletion. I do something wrong in my code?","title":"refreshing recyclerview item list after animation","body":"<p>I try to create a cool animation as a glass crashing when long click on an item of recyclerview. Item crash, then parts falling and item is deleted. item list need after to be updated. For this i use next library implementation 'com.zys:brokenview:1.0.3'</p>\n<p>In adapter I use next code</p>\n<pre><code>holder.mItem.setOnTouchListener(new BrokenTouchListener.Builder(brokenView)\n                                .setComplexity( 35).\n                                setBreakDuration(500).\n                                setFallDuration( 500).\n                                setCircleRiftsRadius(200).\n                                build());\n\nbrokenView.setCallback(new BrokenCallback() {\n\n                            @Override\n                            public void onStart(View v) {}\n\n                            @Override\n                            public void onCancel(View v) {}\n\n                            @Override\n                            public void onCancelEnd(View v) {}\n\n                            @Override\n                            public void onRestart(View v) {}\n\n                            @Override\n                            public void onFalling(View v) {}\n\n                            @Override\n                            public void onFallingEnd(View v) {\n                                \n                                int clickedPosition = holder.getBindingAdapterPosition();\n                             \n                                 myList.remove(clickedPosition);\n                                    notifyItemRemoved(clickedPosition);\n                                    notifyItemRangeChanged(clickedPosition, mSavedLocations.size() - clickedPosition);\n                                     }\n                            }\n                        });\n</code></pre>\n<p>The problem is that items are not corect displayed starting with second deletion. I do something wrong in my code?</p>\n"},{"tags":["java","intellij-idea","cucumber","rest-assured"],"comments":[{"owner":{"account_id":28803214,"reputation":201,"user_id":22059627,"display_name":"Miguel Monteiro"},"score":0,"creation_date":1696430810,"post_id":77229899,"comment_id":136152413,"body_markdown":"Looks like the JVM can&#39;t find the specified class at runtime. Ensure that the cucumber jar is correctly linked to your project","body":"Looks like the JVM can&#39;t find the specified class at runtime. Ensure that the cucumber jar is correctly linked to your project"},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1696437143,"post_id":77229899,"comment_id":136153752,"body_markdown":"You are missing several dependencies. Even if you can&#39;t use Maven in your CI system due to a lack of internet, you can use it on your local machine to collect all the dependencies. Have a look at https://stackoverflow.com/a/61908459/3945473","body":"You are missing several dependencies. Even if you can&#39;t use Maven in your CI system due to a lack of internet, you can use it on your local machine to collect all the dependencies. Have a look at <a href=\"https://stackoverflow.com/a/61908459/3945473\">stackoverflow.com/a/61908459/3945473</a>"}],"owner":{"account_id":29596447,"reputation":1,"user_id":22682855,"display_name":"Radwa Desouky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696425279,"creation_date":1696425098,"question_id":77229899,"body_markdown":"I&#39;m working on an API automation project using rest assured and cucumber, I created it in java type not maven because I created it on a server machine that doesn&#39;t have access to the internet.\r\nI used the below jars \r\n- Cucumber plugin version 231.8109.90\r\n- Cucumber core version 7.11.2\r\n- Cucumber java version 7.11.2\r\n- Cucumber TestNg version 7.11.2\r\nBut when I ran the test, I got an error and I don&#39;t know what the problem is. Can someone help me?\r\n**Error:**\r\n```\r\n/usr/java/jdk1.8.0_301/bin/java\r\n\r\n \r\n\r\njava.lang.NoClassDefFoundError: io/cucumber/plugin/event/EventPublisher\r\n\r\n \r\n\r\n\tat java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.lang.ClassLoader.defineClass(ClassLoader.java:756)\r\n\tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n\tat java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\r\n\tat java.net.URLClassLoader.access$100(URLClassLoader.java:74)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:369)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:363)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:362)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)`your text`\r\n\tat io.cucumber.testng.AbstractTestNGCucumberTests.setUpClass(AbstractTestNGCucumberTests.java:27)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:136)\r\n\tat org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:65)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:381)\r\n\tat org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:319)\r\n\tat org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)\r\n\tat org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:808)\r\n\tat org.testng.TestRunner.run(TestRunner.java:603)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:326)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1092)\r\n\tat org.testng.TestNG.run(TestNG.java:1060)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\r\nCaused by: java.lang.ClassNotFoundException: io.cucumber.plugin.event.EventPublisher\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 38 more\r\n\r\n \r\n\r\n[Utils] [WARN] The test method &#39;io.cucumber.testng.AbstractTestNGCucumberTests.runScenario&#39; will be skipped since its data provider &#39;scenarios&#39; returned an empty array or iterator. \r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n```\r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.CucumberOptions;\r\n\r\n@CucumberOptions(features = &quot;src/test/java/feature_files&quot;,glue = {&quot;step_definitions&quot;},plugin = {&quot;pretty&quot;,&quot;html&quot;})\r\n//Run Cucumber file every detected feature as separated test\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n}\r\n```","title":"Test runner class of cucumber is not working","body":"<p>I'm working on an API automation project using rest assured and cucumber, I created it in java type not maven because I created it on a server machine that doesn't have access to the internet.\nI used the below jars</p>\n<ul>\n<li>Cucumber plugin version 231.8109.90</li>\n<li>Cucumber core version 7.11.2</li>\n<li>Cucumber java version 7.11.2</li>\n<li>Cucumber TestNg version 7.11.2\nBut when I ran the test, I got an error and I don't know what the problem is. Can someone help me?\n<strong>Error:</strong></li>\n</ul>\n<pre><code>/usr/java/jdk1.8.0_301/bin/java\n\n \n\njava.lang.NoClassDefFoundError: io/cucumber/plugin/event/EventPublisher\n\n \n\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:756)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:468)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:74)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:369)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:363)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:362)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)`your text`\n    at io.cucumber.testng.AbstractTestNGCucumberTests.setUpClass(AbstractTestNGCucumberTests.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:136)\n    at org.testng.internal.invokers.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:65)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:381)\n    at org.testng.internal.invokers.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:319)\n    at org.testng.internal.invokers.TestMethodWorker.invokeBeforeClassMethods(TestMethodWorker.java:178)\n    at org.testng.internal.invokers.TestMethodWorker.run(TestMethodWorker.java:122)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.testng.TestRunner.privateRun(TestRunner.java:808)\n    at org.testng.TestRunner.run(TestRunner.java:603)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:429)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:423)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:383)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:326)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1249)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1169)\n    at org.testng.TestNG.runSuites(TestNG.java:1092)\n    at org.testng.TestNG.run(TestNG.java:1060)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:105)\nCaused by: java.lang.ClassNotFoundException: io.cucumber.plugin.event.EventPublisher\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 38 more\n\n \n\n[Utils] [WARN] The test method 'io.cucumber.testng.AbstractTestNGCucumberTests.runScenario' will be skipped since its data provider 'scenarios' returned an empty array or iterator. \n</code></pre>\n<pre><code>import io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\n\n@CucumberOptions(features = &quot;src/test/java/feature_files&quot;,glue = {&quot;step_definitions&quot;},plugin = {&quot;pretty&quot;,&quot;html&quot;})\n//Run Cucumber file every detected feature as separated test\npublic class TestRunner extends AbstractTestNGCucumberTests {\n}\n</code></pre>\n"},{"tags":["java","maven","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":6336025,"reputation":519,"user_id":4919399,"display_name":"Alexandre - SonarSource"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432908259,"creation_date":1432908259,"answer_id":30531661,"question_id":28095153,"body_markdown":"As your project is built using Maven, we recommend to analyze it using the [SonarQube Maven Plugin](http://docs.sonarqube.org/display/SONAR/Analyzing+with+Maven).\r\nIn that case you don&#39;t need to define the sonar.java.* properties\r\n\r\nBTW : it would better to upgrade directly to SonarQube 4.5.4 and Java Plugin 3.3 to get all bug fixes / enhancements in particular new rules on bug detection coming with recent Java Plugin: http://nemo.sonarqube.org/coding_rules#languages=java|tags=bug|repositories=squid","title":"Change behavior in sonar.java.binaries property","body":"<p>As your project is built using Maven, we recommend to analyze it using the <a href=\"http://docs.sonarqube.org/display/SONAR/Analyzing+with+Maven\" rel=\"nofollow\">SonarQube Maven Plugin</a>.\nIn that case you don't need to define the sonar.java.* properties</p>\n\n<p>BTW : it would better to upgrade directly to SonarQube 4.5.4 and Java Plugin 3.3 to get all bug fixes / enhancements in particular new rules on bug detection coming with recent Java Plugin: <a href=\"http://nemo.sonarqube.org/coding_rules#languages=java|tags=bug|repositories=squid\" rel=\"nofollow\">http://nemo.sonarqube.org/coding_rules#languages=java|tags=bug|repositories=squid</a></p>\n"},{"tags":[],"owner":{"account_id":2157869,"reputation":428,"user_id":1912684,"accept_rate":64,"display_name":"soninob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518594196,"creation_date":1518594196,"answer_id":48782019,"question_id":28095153,"body_markdown":"As I understand from [here][1] you should use double slashes for `sonar.java.binaries`\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47849687/error-invalid-value-of-sonar-sources","title":"Change behavior in sonar.java.binaries property","body":"<p>As I understand from <a href=\"https://stackoverflow.com/questions/47849687/error-invalid-value-of-sonar-sources\">here</a> you should use double slashes for <code>sonar.java.binaries</code></p>\n"}],"owner":{"account_id":5667598,"reputation":41,"user_id":4483353,"display_name":"Fr&#233;d&#233;ric DUPERIER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9934,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696424871,"creation_date":1421948160,"question_id":28095153,"body_markdown":"Disclaimer : I have tried to post this message on the users mailing list of Sonar.\r\n\r\nWe are using SonarQube 4.5.1 and encountered an issue this morning on some project using the property `sonar.java.binaries`. \r\n\r\nWe updated the version of the java plugin yesterday to 2.8 (we were using 2.5.1 before). \r\n\r\n\r\nThe error in the analysis is : \r\n\r\n    [ERROR] [20:43:58.997] Invalid value for sonar.java.binaries \r\n    [ERROR] No files nor directories matching &#39;/PATH_TO_JENKINS_WORKSPACES/sonar/PROJECT_NAME/release/PROJECT_JAR.jar&#39; \r\n\r\nIn the pom.xml, `sonar.java.binaries` property is valued with : `${basedir}/release/${project.artifactId}.jar`\r\n\r\nVariables changes is good on analysis and jar exists in the repository. \r\n\r\nHere is my investigation :\r\n\r\n - When getting back to version 2.5.1, sonar analysis is OK \r\n - When using version 2.8, if `sonar.java.binaries` points straightly to a jar file, analysis is KO \r\n - When using version 2.8, if `sonar.java.binaries` points to a directory (in my case, `${basedir}/release/`), the analysis is OK \r\n\r\nIs the behavior of `sonar.java.binaries`, implemented in 2.8, wanted ? or this a regression ? \r\n\r\nThanks, \r\n\r\nFr&#233;d&#233;ric ","title":"Change behavior in sonar.java.binaries property","body":"<p>Disclaimer : I have tried to post this message on the users mailing list of Sonar.</p>\n\n<p>We are using SonarQube 4.5.1 and encountered an issue this morning on some project using the property <code>sonar.java.binaries</code>. </p>\n\n<p>We updated the version of the java plugin yesterday to 2.8 (we were using 2.5.1 before). </p>\n\n<p>The error in the analysis is : </p>\n\n<pre><code>[ERROR] [20:43:58.997] Invalid value for sonar.java.binaries \n[ERROR] No files nor directories matching '/PATH_TO_JENKINS_WORKSPACES/sonar/PROJECT_NAME/release/PROJECT_JAR.jar' \n</code></pre>\n\n<p>In the pom.xml, <code>sonar.java.binaries</code> property is valued with : <code>${basedir}/release/${project.artifactId}.jar</code></p>\n\n<p>Variables changes is good on analysis and jar exists in the repository. </p>\n\n<p>Here is my investigation :</p>\n\n<ul>\n<li>When getting back to version 2.5.1, sonar analysis is OK </li>\n<li>When using version 2.8, if <code>sonar.java.binaries</code> points straightly to a jar file, analysis is KO </li>\n<li>When using version 2.8, if <code>sonar.java.binaries</code> points to a directory (in my case, <code>${basedir}/release/</code>), the analysis is OK </li>\n</ul>\n\n<p>Is the behavior of <code>sonar.java.binaries</code>, implemented in 2.8, wanted ? or this a regression ? </p>\n\n<p>Thanks, </p>\n\n<p>Frédéric </p>\n"},{"tags":["java","audio"],"comments":[{"owner":{"account_id":274077,"reputation":13556,"user_id":566092,"accept_rate":72,"display_name":"coding_idiot"},"score":3,"creation_date":1380657671,"post_id":6326085,"comment_id":28281793,"body_markdown":"did you found any way ?","body":"did you found any way ?"},{"owner":{"account_id":2083499,"reputation":5038,"user_id":1854979,"accept_rate":88,"display_name":"Robin Kanters"},"score":0,"creation_date":1639944417,"post_id":6326085,"comment_id":124471892,"body_markdown":"Does this answer your question? [Real Time Audio Visualization Java](https://stackoverflow.com/questions/5296962/real-time-audio-visualization-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5296962/real-time-audio-visualization-java\">Real Time Audio Visualization Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":163644,"reputation":13168,"user_id":385913,"accept_rate":95,"display_name":"Swift"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1307931553,"creation_date":1307931553,"answer_id":6326115,"question_id":6326085,"body_markdown":"This question is duplicate of:  \r\n&gt;https://stackoverflow.com/questions/5296962/real-time-audio-visualization-java\r\n\r\nThe java sound API lets you interact with the current audio output.  You can find the reference here:\r\n&gt; http://www.java-tips.org/java-se-tips/javax.sound/capturing-audio-with-java-sound-api.html","title":"Java - Get current computer sound output","body":"<p>This question is duplicate of:  </p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/5296962/real-time-audio-visualization-java\">Real Time Audio Visualization Java</a></p>\n</blockquote>\n\n<p>The java sound API lets you interact with the current audio output.  You can find the reference here:</p>\n\n<blockquote>\n  <p><a href=\"http://www.java-tips.org/java-se-tips/javax.sound/capturing-audio-with-java-sound-api.html\" rel=\"nofollow noreferrer\">http://www.java-tips.org/java-se-tips/javax.sound/capturing-audio-with-java-sound-api.html</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3400030,"reputation":347,"user_id":2852478,"display_name":"Zac"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1402365907,"creation_date":1402365907,"answer_id":24131762,"question_id":6326085,"body_markdown":"Mac computers do not feed audio output back into the computer for programs to access, and since everything in java has to work on both mac and windows computers, they cannot provide specific access to this feature to windows users either. Windows computers might provide an input device which you can access representing system output, I&#39;m not sure about it, but you could find out with \r\n\r\n    AudioSystem.getMixerInfo()\r\n\r\nIt returns a list of objects containing strings for the name, description, version, and vendor of every available audio device. Printing these on a loop lets you look at all the audio devices. If none of them look like they could be the widows system output feedback then you are out of luck, unless you want to use native classes. I&#39;m not going into that here but there is a good page about them [here][1].\r\n\r\n\r\n  [1]: http://www.javaworld.com/article/2077520/learn-java/java-tip-23--write-native-methods.html","title":"Java - Get current computer sound output","body":"<p>Mac computers do not feed audio output back into the computer for programs to access, and since everything in java has to work on both mac and windows computers, they cannot provide specific access to this feature to windows users either. Windows computers might provide an input device which you can access representing system output, I'm not sure about it, but you could find out with </p>\n\n<pre><code>AudioSystem.getMixerInfo()\n</code></pre>\n\n<p>It returns a list of objects containing strings for the name, description, version, and vendor of every available audio device. Printing these on a loop lets you look at all the audio devices. If none of them look like they could be the widows system output feedback then you are out of luck, unless you want to use native classes. I'm not going into that here but there is a good page about them <a href=\"http://www.javaworld.com/article/2077520/learn-java/java-tip-23--write-native-methods.html\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":329339,"reputation":4155,"user_id":652800,"accept_rate":40,"display_name":"Jtvd78"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11044,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1696424871,"creation_date":1307931235,"question_id":6326085,"body_markdown":"Is there a way to get the sound from the default audio output for the computer? I don&#39;t want to manipulate it, I just want to make a visual representation of the frequencies; much like an equalizer.","title":"Java - Get current computer sound output","body":"<p>Is there a way to get the sound from the default audio output for the computer? I don't want to manipulate it, I just want to make a visual representation of the frequencies; much like an equalizer.</p>\n"},{"tags":["java","spring","mongodb","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696424852,"creation_date":1696424852,"answer_id":77229861,"question_id":77223335,"body_markdown":"Based on the Toxiproxy documentation, there is the down toxic (https://github.com/Shopify/toxiproxy#down): by disabling the proxy no traffic will be routed.\r\n\r\nIn java Toxiproxy client library there are some methods to enable and disable the proxy: https://github.com/trekawek/toxiproxy-java/blob/7c5ffc5d7aa4780bd2ea73ad945f0227793a7e3d/src/main/java/eu/rekawek/toxiproxy/Proxy.java#L70-L76\r\n\r\nThus, the mentioned failed test will be rewritten as:\r\n\r\n\t@Test\r\n\tvoid withoutConnection() throws IOException {\r\n\t\tmongoProxy.disable();\r\n\t\tassertThatThrownBy(()-&gt;personRepository.findAll()).isInstanceOf(Exception.class);\r\n\t\tmongoProxy.enable();\r\n\t\tvar result = personRepository.findAll();\r\n\t\tassertThat(result).isEmpty();\r\n\t}","title":"Spring testcontainer test hangs when trying to simulate no connection to Mongodb","body":"<p>Based on the Toxiproxy documentation, there is the down toxic (<a href=\"https://github.com/Shopify/toxiproxy#down\" rel=\"nofollow noreferrer\">https://github.com/Shopify/toxiproxy#down</a>): by disabling the proxy no traffic will be routed.</p>\n<p>In java Toxiproxy client library there are some methods to enable and disable the proxy: <a href=\"https://github.com/trekawek/toxiproxy-java/blob/7c5ffc5d7aa4780bd2ea73ad945f0227793a7e3d/src/main/java/eu/rekawek/toxiproxy/Proxy.java#L70-L76\" rel=\"nofollow noreferrer\">https://github.com/trekawek/toxiproxy-java/blob/7c5ffc5d7aa4780bd2ea73ad945f0227793a7e3d/src/main/java/eu/rekawek/toxiproxy/Proxy.java#L70-L76</a></p>\n<p>Thus, the mentioned failed test will be rewritten as:</p>\n<pre><code>@Test\nvoid withoutConnection() throws IOException {\n    mongoProxy.disable();\n    assertThatThrownBy(()-&gt;personRepository.findAll()).isInstanceOf(Exception.class);\n    mongoProxy.enable();\n    var result = personRepository.findAll();\n    assertThat(result).isEmpty();\n}\n</code></pre>\n"}],"owner":{"account_id":6532054,"reputation":739,"user_id":5291708,"accept_rate":83,"display_name":"florin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77229861,"answer_count":1,"score":0,"last_activity_date":1696424852,"creation_date":1696344534,"question_id":77223335,"body_markdown":"I&#39;m trying to simulate that the Mongo database is down when the query is run. I&#39;m using testcontainers with Toxiproxy and Mongo.\r\n\r\nIn the below test class, test called *withLatency* work as expected but test *withoutConnection* is hanging. \r\n\r\nCode:\r\n\r\n    @SpringBootApplication\r\n    public class ToxiproxyIssueApplication {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(ToxiproxyIssueApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n    @Document\r\n    public record Person(String name, int age) {\r\n    }\r\n\r\n    @Repository\r\n    public interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\r\n    }\r\n\r\nThe properties file contains: \r\n\r\n    spring.data.mongodb.host=localhost\r\n    spring.data.mongodb.port=27017\r\n\r\nThe test:\r\n\r\n    @Testcontainers\r\n    @SpringBootTest(properties = {&quot;spring.main.allow-bean-definition-overriding=true&quot;})\r\n    class ToxiproxyIssueApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate PersonRepository personRepository;\r\n    \r\n    \tprivate static final Network network = Network.newNetwork();\r\n    \r\n    \tprivate static final DockerImageName dockerImageName = DockerImageName.parse(&quot;mongo:5.0.5&quot;).asCompatibleSubstituteFor(&quot;mongo&quot;);\r\n    \r\n    \t@Container\r\n    \tstatic final MongoDBContainer mongoDbContainer = new MongoDBContainer(dockerImageName)\r\n    \t\t\t.withNetwork(network)\r\n    \t\t\t.withNetworkAliases(&quot;mongo&quot;);\r\n    //\t\t\t.withReuse(true);\r\n    \r\n    \t@Container\r\n    \tprivate static final ToxiproxyContainer toxiproxy = new ToxiproxyContainer(&quot;ghcr.io/shopify/toxiproxy:2.6.0&quot;)\r\n    \t\t\t.withNetwork(network);\r\n    \r\n    \tprivate static Proxy mongoProxy;\r\n    \r\n    \t@DynamicPropertySource\r\n    \tstatic void mongoProperties(DynamicPropertyRegistry registry) throws IOException {\r\n    \t\tToxiproxyClient toxiproxyClient = new ToxiproxyClient(toxiproxy.getHost(), toxiproxy.getControlPort());\r\n    \t\tmongoProxy = toxiproxyClient.createProxy(&quot;mongodb&quot;, &quot;0.0.0.0:8666&quot;, &quot;mongo:27017&quot;);\r\n    \r\n    \t\tint port = mongoDbContainer.getMappedPort(27017);\r\n    \t\tregistry.add(&quot;spring.data.mongodb.host&quot;, toxiproxy::getHost);\r\n    \t\tregistry.add(&quot;spring.data.mongodb.port&quot;, () -&gt; toxiproxy.getMappedPort(8666));\r\n    \t}\r\n    \r\n    \r\n    \t@Test\r\n    \tvoid withLatency() throws IOException {\r\n    \t\tmongoProxy.toxics().latency(&quot;mongo-latency&quot;, ToxicDirection.DOWNSTREAM, 2600).setJitter(100);\r\n    \t\tvar result = personRepository.findAll();\r\n    \t\tassertThat(result).isEmpty();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid withoutConnection() throws IOException {\r\n    \t\tmongoProxy.toxics().bandwidth(&quot;no-connection-downstream&quot;, ToxicDirection.DOWNSTREAM, 0);\r\n    \t\tmongoProxy.toxics().bandwidth(&quot;no-connection-upstream&quot;, ToxicDirection.UPSTREAM, 0);\r\n    \t\tvar result = personRepository.findAll();\r\n    \t\tassertThat(result).isEmpty();\r\n    \r\n    \t\tmongoProxy.toxics().get(&quot;no-connection-downstream&quot;).remove();\r\n    \t\tmongoProxy.toxics().get(&quot;no-connection-upstream&quot;).remove();\r\n    \t}\r\n    }\r\n\r\nWhen the test is hanging I see in the logs a timeout from the driver:\r\n\r\n    com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message\r\n\r\nIs there something wrong in my config or is this a testcontainer bug?\r\n\r\nP.S the code posted should be enough to reproduce the issue.\r\n\r\n\r\n**Later edit**\r\n\r\nBased on the discussion from [here][1] there is no bug. The client library is the one who provides the behavior. So further research will be conducted on this side.\r\n\r\n\r\n  [1]: https://github.com/testcontainers/testcontainers-java/discussions/7618","title":"Spring testcontainer test hangs when trying to simulate no connection to Mongodb","body":"<p>I'm trying to simulate that the Mongo database is down when the query is run. I'm using testcontainers with Toxiproxy and Mongo.</p>\n<p>In the below test class, test called <em>withLatency</em> work as expected but test <em>withoutConnection</em> is hanging.</p>\n<p>Code:</p>\n<pre><code>@SpringBootApplication\npublic class ToxiproxyIssueApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ToxiproxyIssueApplication.class, args);\n    }\n}\n\n@Document\npublic record Person(String name, int age) {\n}\n\n@Repository\npublic interface PersonRepository extends MongoRepository&lt;Person, String&gt; {\n}\n</code></pre>\n<p>The properties file contains:</p>\n<pre><code>spring.data.mongodb.host=localhost\nspring.data.mongodb.port=27017\n</code></pre>\n<p>The test:</p>\n<pre><code>@Testcontainers\n@SpringBootTest(properties = {&quot;spring.main.allow-bean-definition-overriding=true&quot;})\nclass ToxiproxyIssueApplicationTests {\n\n    @Autowired\n    private PersonRepository personRepository;\n\n    private static final Network network = Network.newNetwork();\n\n    private static final DockerImageName dockerImageName = DockerImageName.parse(&quot;mongo:5.0.5&quot;).asCompatibleSubstituteFor(&quot;mongo&quot;);\n\n    @Container\n    static final MongoDBContainer mongoDbContainer = new MongoDBContainer(dockerImageName)\n            .withNetwork(network)\n            .withNetworkAliases(&quot;mongo&quot;);\n//          .withReuse(true);\n\n    @Container\n    private static final ToxiproxyContainer toxiproxy = new ToxiproxyContainer(&quot;ghcr.io/shopify/toxiproxy:2.6.0&quot;)\n            .withNetwork(network);\n\n    private static Proxy mongoProxy;\n\n    @DynamicPropertySource\n    static void mongoProperties(DynamicPropertyRegistry registry) throws IOException {\n        ToxiproxyClient toxiproxyClient = new ToxiproxyClient(toxiproxy.getHost(), toxiproxy.getControlPort());\n        mongoProxy = toxiproxyClient.createProxy(&quot;mongodb&quot;, &quot;0.0.0.0:8666&quot;, &quot;mongo:27017&quot;);\n\n        int port = mongoDbContainer.getMappedPort(27017);\n        registry.add(&quot;spring.data.mongodb.host&quot;, toxiproxy::getHost);\n        registry.add(&quot;spring.data.mongodb.port&quot;, () -&gt; toxiproxy.getMappedPort(8666));\n    }\n\n\n    @Test\n    void withLatency() throws IOException {\n        mongoProxy.toxics().latency(&quot;mongo-latency&quot;, ToxicDirection.DOWNSTREAM, 2600).setJitter(100);\n        var result = personRepository.findAll();\n        assertThat(result).isEmpty();\n    }\n\n    @Test\n    void withoutConnection() throws IOException {\n        mongoProxy.toxics().bandwidth(&quot;no-connection-downstream&quot;, ToxicDirection.DOWNSTREAM, 0);\n        mongoProxy.toxics().bandwidth(&quot;no-connection-upstream&quot;, ToxicDirection.UPSTREAM, 0);\n        var result = personRepository.findAll();\n        assertThat(result).isEmpty();\n\n        mongoProxy.toxics().get(&quot;no-connection-downstream&quot;).remove();\n        mongoProxy.toxics().get(&quot;no-connection-upstream&quot;).remove();\n    }\n}\n</code></pre>\n<p>When the test is hanging I see in the logs a timeout from the driver:</p>\n<pre><code>com.mongodb.MongoSocketReadTimeoutException: Timeout while receiving message\n</code></pre>\n<p>Is there something wrong in my config or is this a testcontainer bug?</p>\n<p>P.S the code posted should be enough to reproduce the issue.</p>\n<p><strong>Later edit</strong></p>\n<p>Based on the discussion from <a href=\"https://github.com/testcontainers/testcontainers-java/discussions/7618\" rel=\"nofollow noreferrer\">here</a> there is no bug. The client library is the one who provides the behavior. So further research will be conducted on this side.</p>\n"},{"tags":["java","php","mysql","android-studio","phpmyadmin"],"owner":{"account_id":29593742,"reputation":1,"user_id":22680678,"display_name":"Kireina Hidayat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696423661,"creation_date":1696423661,"question_id":77229699,"body_markdown":"The Text view doesn&#39;t display the value\r\n\r\nThis is the Java code (CompstatusFragment)\r\n\r\n```\r\npackage com.example.loginregister;\r\n\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport com.github.lzyzsd.circleprogress.CircleProgress;\r\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.HttpResponse;\r\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.client.HttpClient;\r\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.client.methods.HttpGet;\r\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.impl.client.DefaultHttpClient;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.URI;\r\n\r\npublic class CompstatusFragment extends Fragment {\r\n\r\n    private TextView fullnameTextView, emailTextView, complaint_idTextView, spinnercategoryTextView, spinnersubcategoryTextView;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_compstatus, container, false);\r\n\r\n        // Update variable assignments\r\n        fullnameTextView = view.findViewById(R.id.fullname);\r\n        emailTextView = view.findViewById(R.id.email);\r\n        complaint_idTextView = view.findViewById(R.id.complaint_id);\r\n        spinnercategoryTextView = view.findViewById(R.id.spinnerCategory);\r\n        spinnersubcategoryTextView = view.findViewById(R.id.spinnerSubcategory);\r\n\r\n        new Connection().execute();\r\n        return view;\r\n    }\r\n\r\n    class Connection extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            String result = &quot;&quot;;\r\n            String servername = &quot;http://192.168.0.9/loginregister/status.php&quot;;\r\n            try {\r\n                HttpClient client = new DefaultHttpClient();\r\n                HttpGet request = new HttpGet();\r\n                request.setURI(new URI(servername));\r\n                HttpResponse response = client.execute(request);\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n\r\n                StringBuilder stringBuffer = new StringBuilder();\r\n\r\n                String line = &quot;&quot;;\r\n                while ((line = reader.readLine()) != null) {\r\n                    stringBuffer.append(line);\r\n                    break;\r\n                }\r\n                reader.close();\r\n                result = stringBuffer.toString();\r\n            } catch (Exception e) {\r\n                return &quot;There exception&quot; + e.getMessage();\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            try {\r\n                JSONObject jsonResult = new JSONObject(result);\r\n                int success = jsonResult.getInt(&quot;success&quot;);\r\n                if (success == 1) {\r\n                    JSONArray statusArray = jsonResult.getJSONArray(&quot;status&quot;);\r\n                    // Sort the statusArray by timestamp\r\n                    JSONArray sortedArray = sortArrayByTimestamp(statusArray);\r\n\r\n                    if (sortedArray.length() &gt; 0) {\r\n                        JSONObject status = sortedArray.getJSONObject(sortedArray.length() - 1);\r\n\r\n                        int users_id = status.getInt(&quot;users_id&quot;);\r\n                        String fullnameStr = status.getString(&quot;fullname&quot;);\r\n                        String emailStr = status.getString(&quot;email&quot;);\r\n                        int complaintID = status.getInt(&quot;complaintID&quot;);\r\n                        String categoryStr = status.getString(&quot;category&quot;);\r\n                        String subcategoryStr = status.getString(&quot;subcategory&quot;);\r\n\r\n                        // Set the values to the TextViews using the correct TextView variables\r\n                        fullnameTextView.setText(&quot;Fullname: &quot; + fullnameStr);\r\n                        emailTextView.setText(&quot;E-mail: &quot; + emailStr);\r\n                        complaint_idTextView.setText(&quot;Complaint ID: &quot; + complaintID);\r\n                        spinnercategoryTextView.setText(&quot;Category: &quot; + categoryStr);\r\n                        spinnersubcategoryTextView.setText(&quot;Sub-category: &quot; + subcategoryStr);\r\n                    } else {\r\n                        Toast.makeText(getActivity(), &quot;No Status&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                } else {\r\n                    Toast.makeText(getActivity(), &quot;No Status&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch (JSONException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        private JSONArray sortArrayByTimestamp(JSONArray jsonArray) {\r\n            // Implement sorting logic based on timestamp\r\n            // This is a placeholder, replace with your actual sorting logic\r\n            return jsonArray;  // Placeholder: returning the original array as-is\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is the (compstatus.xml) code\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:padding=&quot;16dp&quot;\r\n    tools:context=&quot;.CompstatusFragment&quot;&gt;\r\n\r\n    &lt;!-- First Box: Complaint Progress and Details --&gt;\r\n\r\n    &lt;!-- Header Title for Second Box: NOTIFICATIONS --&gt;\r\n\r\n    &lt;!-- Second Box: Notifications List with Dates --&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        android:id=&quot;@+id/firstBox&quot;\r\n        android:layout_width=&quot;379dp&quot;\r\n        android:layout_height=&quot;181dp&quot;\r\n        android:layout_marginTop=&quot;160dp&quot;\r\n        android:background=&quot;@drawable/outline&quot;\r\n        android:backgroundTint=&quot;@color/black&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.218&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;!-- Circle Percentage Chart --&gt;\r\n\r\n        &lt;!-- Complaint Details --&gt;\r\n\r\n        &lt;com.github.lzyzsd.circleprogress.CircleProgress\r\n            android:id=&quot;@+id/progresscircle&quot;\r\n            android:layout_width=&quot;139dp&quot;\r\n            android:layout_height=&quot;143dp&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:layout_marginEnd=&quot;232dp&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/fullname&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;20dp&quot;\r\n            android:text=&quot;Fullname:&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/email&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;52dp&quot;\r\n            android:text=&quot;E-mail:&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.471&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/complaint_id&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;80dp&quot;\r\n            android:text=&quot;@string/complaint_id&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.538&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/spinnerCategory&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:text=&quot;Category:&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toBottomOf=&quot;@+id/complaint_id&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/spinnerSubcategory&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginBottom=&quot;24dp&quot;\r\n            android:text=&quot;Sub-Category:&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintHorizontal_bias=&quot;0.537&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n\r\nThis is the php code for the CompstatusFragment (status.php)\r\n\r\n```\r\n&lt;?php\r\n$servername = &quot;localhost&quot;;\r\n$username = &quot;root&quot;;\r\n$password = &quot;&quot;;\r\n$dbname = &quot;loginregister&quot;;\r\n\r\n// Create a connection\r\n$conn = mysqli_connect($servername, $username, $password, $dbname);\r\n\r\nif(!$conn){\r\n    die (&quot;ERROR in connection: &quot; . mysqli_connect_error());\r\n}\r\n$response = array();\r\n\r\n$sql_query = &quot;SELECT * FROM status&quot;;\r\n$result = mysqli_query ($conn, $sql_query);\r\n\r\nif(mysqli_num_rows($result) &gt; 0) {\r\n    $response[&#39;success&#39;] = 1;\r\n    $status=array();\r\n\r\n    while ($row = mysqli_fetch_assoc($result)){\r\n        # code...\r\n        array_push($status,$row);\r\n    }\r\n    $response[&#39;status&#39;] = $status;\r\n}\r\nelse{\r\n    $response[&#39;success&#39;] = 0;\r\n    $response[&#39;message&#39;] = &#39;No data&#39;;\r\n}\r\necho json_encode($response);\r\nmysqli_close($conn);\r\n\r\n?&gt;\r\n```\r\n\r\n\r\n\r\nThe value for fullname, email, complaintID, category, subcategory display from the mysql.\r\n\r\nif I try to run the code there is no error for the code.\r\n\r\nI already try to check on ChatGPT they said no issues, but the display still not come out.","title":"Text view values doesn&#39;t appear","body":"<p>The Text view doesn't display the value</p>\n<p>This is the Java code (CompstatusFragment)</p>\n<pre><code>package com.example.loginregister;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport com.github.lzyzsd.circleprogress.CircleProgress;\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.HttpResponse;\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.client.HttpClient;\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.client.methods.HttpGet;\nimport com.google.firebase.crashlytics.buildtools.reloc.org.apache.http.impl.client.DefaultHttpClient;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.URI;\n\npublic class CompstatusFragment extends Fragment {\n\n    private TextView fullnameTextView, emailTextView, complaint_idTextView, spinnercategoryTextView, spinnersubcategoryTextView;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_compstatus, container, false);\n\n        // Update variable assignments\n        fullnameTextView = view.findViewById(R.id.fullname);\n        emailTextView = view.findViewById(R.id.email);\n        complaint_idTextView = view.findViewById(R.id.complaint_id);\n        spinnercategoryTextView = view.findViewById(R.id.spinnerCategory);\n        spinnersubcategoryTextView = view.findViewById(R.id.spinnerSubcategory);\n\n        new Connection().execute();\n        return view;\n    }\n\n    class Connection extends AsyncTask&lt;String, String, String&gt; {\n\n        @Override\n        protected String doInBackground(String... strings) {\n            String result = &quot;&quot;;\n            String servername = &quot;http://192.168.0.9/loginregister/status.php&quot;;\n            try {\n                HttpClient client = new DefaultHttpClient();\n                HttpGet request = new HttpGet();\n                request.setURI(new URI(servername));\n                HttpResponse response = client.execute(request);\n                BufferedReader reader = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n\n                StringBuilder stringBuffer = new StringBuilder();\n\n                String line = &quot;&quot;;\n                while ((line = reader.readLine()) != null) {\n                    stringBuffer.append(line);\n                    break;\n                }\n                reader.close();\n                result = stringBuffer.toString();\n            } catch (Exception e) {\n                return &quot;There exception&quot; + e.getMessage();\n            }\n\n            return result;\n        }\n\n        @Override\n        protected void onPostExecute(String result) {\n            try {\n                JSONObject jsonResult = new JSONObject(result);\n                int success = jsonResult.getInt(&quot;success&quot;);\n                if (success == 1) {\n                    JSONArray statusArray = jsonResult.getJSONArray(&quot;status&quot;);\n                    // Sort the statusArray by timestamp\n                    JSONArray sortedArray = sortArrayByTimestamp(statusArray);\n\n                    if (sortedArray.length() &gt; 0) {\n                        JSONObject status = sortedArray.getJSONObject(sortedArray.length() - 1);\n\n                        int users_id = status.getInt(&quot;users_id&quot;);\n                        String fullnameStr = status.getString(&quot;fullname&quot;);\n                        String emailStr = status.getString(&quot;email&quot;);\n                        int complaintID = status.getInt(&quot;complaintID&quot;);\n                        String categoryStr = status.getString(&quot;category&quot;);\n                        String subcategoryStr = status.getString(&quot;subcategory&quot;);\n\n                        // Set the values to the TextViews using the correct TextView variables\n                        fullnameTextView.setText(&quot;Fullname: &quot; + fullnameStr);\n                        emailTextView.setText(&quot;E-mail: &quot; + emailStr);\n                        complaint_idTextView.setText(&quot;Complaint ID: &quot; + complaintID);\n                        spinnercategoryTextView.setText(&quot;Category: &quot; + categoryStr);\n                        spinnersubcategoryTextView.setText(&quot;Sub-category: &quot; + subcategoryStr);\n                    } else {\n                        Toast.makeText(getActivity(), &quot;No Status&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    Toast.makeText(getActivity(), &quot;No Status&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n        }\n\n        private JSONArray sortArrayByTimestamp(JSONArray jsonArray) {\n            // Implement sorting logic based on timestamp\n            // This is a placeholder, replace with your actual sorting logic\n            return jsonArray;  // Placeholder: returning the original array as-is\n        }\n    }\n}\n\n</code></pre>\n<p>This is the (compstatus.xml) code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:padding=&quot;16dp&quot;\n    tools:context=&quot;.CompstatusFragment&quot;&gt;\n\n    &lt;!-- First Box: Complaint Progress and Details --&gt;\n\n    &lt;!-- Header Title for Second Box: NOTIFICATIONS --&gt;\n\n    &lt;!-- Second Box: Notifications List with Dates --&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/firstBox&quot;\n        android:layout_width=&quot;379dp&quot;\n        android:layout_height=&quot;181dp&quot;\n        android:layout_marginTop=&quot;160dp&quot;\n        android:background=&quot;@drawable/outline&quot;\n        android:backgroundTint=&quot;@color/black&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.218&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;!-- Circle Percentage Chart --&gt;\n\n        &lt;!-- Complaint Details --&gt;\n\n        &lt;com.github.lzyzsd.circleprogress.CircleProgress\n            android:id=&quot;@+id/progresscircle&quot;\n            android:layout_width=&quot;139dp&quot;\n            android:layout_height=&quot;143dp&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:layout_marginEnd=&quot;232dp&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/fullname&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;20dp&quot;\n            android:text=&quot;Fullname:&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/email&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;52dp&quot;\n            android:text=&quot;E-mail:&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.471&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/complaint_id&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;80dp&quot;\n            android:text=&quot;@string/complaint_id&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.538&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            tools:ignore=&quot;MissingConstraints&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/spinnerCategory&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:text=&quot;Category:&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/complaint_id&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/spinnerSubcategory&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginBottom=&quot;24dp&quot;\n            android:text=&quot;Sub-Category:&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.537&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p>This is the php code for the CompstatusFragment (status.php)</p>\n<pre><code>&lt;?php\n$servername = &quot;localhost&quot;;\n$username = &quot;root&quot;;\n$password = &quot;&quot;;\n$dbname = &quot;loginregister&quot;;\n\n// Create a connection\n$conn = mysqli_connect($servername, $username, $password, $dbname);\n\nif(!$conn){\n    die (&quot;ERROR in connection: &quot; . mysqli_connect_error());\n}\n$response = array();\n\n$sql_query = &quot;SELECT * FROM status&quot;;\n$result = mysqli_query ($conn, $sql_query);\n\nif(mysqli_num_rows($result) &gt; 0) {\n    $response['success'] = 1;\n    $status=array();\n\n    while ($row = mysqli_fetch_assoc($result)){\n        # code...\n        array_push($status,$row);\n    }\n    $response['status'] = $status;\n}\nelse{\n    $response['success'] = 0;\n    $response['message'] = 'No data';\n}\necho json_encode($response);\nmysqli_close($conn);\n\n?&gt;\n</code></pre>\n<p>The value for fullname, email, complaintID, category, subcategory display from the mysql.</p>\n<p>if I try to run the code there is no error for the code.</p>\n<p>I already try to check on ChatGPT they said no issues, but the display still not come out.</p>\n"},{"tags":["java","spring-boot","video-streaming","rtsp"],"owner":{"account_id":12656005,"reputation":61,"user_id":9198523,"display_name":"Rafa J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696423391,"creation_date":1687443755,"question_id":76532909,"body_markdown":"I&#39;m developing a Hikvision IP camera manager with SpringBoot 3.1 and Java 17. The IP cameras are linked to a server (Gateway Server as they call it) that serves a `REST API`. In essence I have to implement a reduced number of features like live view, list the recorded files for a camera, record on demand, alarm managing and downloading files. The last is what&#39;s giving me a lot of problems since I&#39;m totally new in the world of cameras and streaming.\r\n\r\nThat&#39;s what I do: from the frontend the user sees a list of files that contains the past recordings of the camera. Clicking a button should give the user the selected file for download. The problem is that when the button is clicked, the `response` is taking a lot of time and never ends. The `content-type` of the `response is application/binary`. The `request` to the Gateway server is done by sending a `json` structure that contains a `RSTP URI`. Something like this:\r\n\r\n```\r\nPOST:http://192.168.1.155:80/ISAPI/ContentMgmt/download?format=json&amp;devIndex=59CAC59D-F16C-904F-A12D-3571FFA0F895\r\n\r\nBODY:\r\n{&quot;downloadRequest&quot;:{&quot;playbackURI&quot;: &quot;rtsp://192.168.1.155:554/dac/playback/camera/59CAC59D-F16C-904F-A12D-3571FFA0F8951/MAIN/TCP?starttime=20230612T191716Z&amp;endtime=20230612T225958Z&amp;name=ch01_08000000011000000&amp;size=132091216&amp;streamform=rtp&quot;}}\r\n```\r\n\r\nThe `request` sending is OK, no errors given. In the documentation the only thing it says about the response is &quot;Video file data&quot;.\r\n\r\nHere is the method for sending the request and getting the response:\r\n\r\n```lang-java\r\n\r\n    public byte[] executeGatewayRequestForBytes(String uri, String json, DigestScheme digest){\r\n\t\tlog.info(&quot;executing request to gateway: &quot;+uri);\r\n\t\tfinal HttpHost target = new HttpHost(&quot;http&quot;, environment.getProperty(&quot;gateway.ip&quot;), 80);\r\n\t\tHttpPost httpPost = new HttpPost(uri);\r\n\t\thttpPost.setEntity(new StringEntity(json, ContentType.APPLICATION_JSON));\r\n\t\thttpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n\r\n\t\tAuthCache authCache = new BasicAuthCache();\r\n\t\tauthCache.put(target,digest);\r\n\r\n\t\tfinal HttpClientContext localContext = HttpClientContext.create();\r\n\t\tlocalContext.setAttribute(HttpClientContext.AUTH_CACHE, authCache);\r\n\r\n\r\n\t\ttry(CloseableHttpClient client = HttpClients.createDefault();\r\n\r\n\t\t\tCloseableHttpResponse response = client.execute(target,httpPost,localContext)) {\r\n\r\n\t\t\tHeader[] headers = response.getHeaders();\r\n\t\t\tfor (Header header : headers) {\r\n\t\t\t\tlog.info(&quot;Key : &quot; + header.getName()\r\n\t\t\t\t\t\t+ &quot; ,Value : &quot; + header.getValue());\r\n\t\t\t}\r\n\t\t\tHttpEntity entity = response.getEntity();\r\n\r\n\t\t\tif(entity != null){\r\n\t\t\t\tif(response.getCode() &gt;= 200 &amp;&amp; response.getCode() &lt; 400){\r\n\t\t\t\t\tlog.info(&quot;retrieve bytes: &quot;+ response.getHeader(&quot;Content-Length&quot;));\r\n\t\t\t\t\t//return EntityUtils.toByteArray(entity);\r\n\t\t\t\t\ttry (InputStream input = new ByteArrayInputStream(EntityUtils.toByteArray(entity));\r\n\t\t\t\t\t\tByteArrayOutputStream out = new ByteArrayOutputStream()) {\r\n\t\t\t\t\t\tIOUtils.copy(input,out);\r\n\t\t\t\t\t\tlog.info(&quot;executeGatewayRequestForBytes, done with copy &quot;+out.size());\r\n\t\t\t\t\t\treturn out.toByteArray();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlog.info(&quot;ERROR: &quot;+response.toString());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException | ProtocolException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\nThe &quot;done with copy&quot; log is never seen in the log, I think the code stucks in `EntityUtils.toByteArray(entity)`. I don&#39;t know if this makes sense, but it seems to me that the server is giving me the &quot;play&quot; streaming instead of &quot;file&quot; streaming. Anyway, it&#39;s clear to me that I&#39;m doing something wrong but I don&#39;t know what and I&#39;ve been trying everything for 4 days. Anyone knows the right way?.","title":"Managing application/binary response from rtsp request","body":"<p>I'm developing a Hikvision IP camera manager with SpringBoot 3.1 and Java 17. The IP cameras are linked to a server (Gateway Server as they call it) that serves a <code>REST API</code>. In essence I have to implement a reduced number of features like live view, list the recorded files for a camera, record on demand, alarm managing and downloading files. The last is what's giving me a lot of problems since I'm totally new in the world of cameras and streaming.</p>\n<p>That's what I do: from the frontend the user sees a list of files that contains the past recordings of the camera. Clicking a button should give the user the selected file for download. The problem is that when the button is clicked, the <code>response</code> is taking a lot of time and never ends. The <code>content-type</code> of the <code>response is application/binary</code>. The <code>request</code> to the Gateway server is done by sending a <code>json</code> structure that contains a <code>RSTP URI</code>. Something like this:</p>\n<pre><code>POST:http://192.168.1.155:80/ISAPI/ContentMgmt/download?format=json&amp;devIndex=59CAC59D-F16C-904F-A12D-3571FFA0F895\n\nBODY:\n{&quot;downloadRequest&quot;:{&quot;playbackURI&quot;: &quot;rtsp://192.168.1.155:554/dac/playback/camera/59CAC59D-F16C-904F-A12D-3571FFA0F8951/MAIN/TCP?starttime=20230612T191716Z&amp;endtime=20230612T225958Z&amp;name=ch01_08000000011000000&amp;size=132091216&amp;streamform=rtp&quot;}}\n</code></pre>\n<p>The <code>request</code> sending is OK, no errors given. In the documentation the only thing it says about the response is &quot;Video file data&quot;.</p>\n<p>Here is the method for sending the request and getting the response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public byte[] executeGatewayRequestForBytes(String uri, String json, DigestScheme digest){\n        log.info(&quot;executing request to gateway: &quot;+uri);\n        final HttpHost target = new HttpHost(&quot;http&quot;, environment.getProperty(&quot;gateway.ip&quot;), 80);\n        HttpPost httpPost = new HttpPost(uri);\n        httpPost.setEntity(new StringEntity(json, ContentType.APPLICATION_JSON));\n        httpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n\n        AuthCache authCache = new BasicAuthCache();\n        authCache.put(target,digest);\n\n        final HttpClientContext localContext = HttpClientContext.create();\n        localContext.setAttribute(HttpClientContext.AUTH_CACHE, authCache);\n\n\n        try(CloseableHttpClient client = HttpClients.createDefault();\n\n            CloseableHttpResponse response = client.execute(target,httpPost,localContext)) {\n\n            Header[] headers = response.getHeaders();\n            for (Header header : headers) {\n                log.info(&quot;Key : &quot; + header.getName()\n                        + &quot; ,Value : &quot; + header.getValue());\n            }\n            HttpEntity entity = response.getEntity();\n\n            if(entity != null){\n                if(response.getCode() &gt;= 200 &amp;&amp; response.getCode() &lt; 400){\n                    log.info(&quot;retrieve bytes: &quot;+ response.getHeader(&quot;Content-Length&quot;));\n                    //return EntityUtils.toByteArray(entity);\n                    try (InputStream input = new ByteArrayInputStream(EntityUtils.toByteArray(entity));\n                        ByteArrayOutputStream out = new ByteArrayOutputStream()) {\n                        IOUtils.copy(input,out);\n                        log.info(&quot;executeGatewayRequestForBytes, done with copy &quot;+out.size());\n                        return out.toByteArray();\n                    }\n\n                } else {\n                    log.info(&quot;ERROR: &quot;+response.toString());\n                }\n            }\n        } catch (IOException | ProtocolException e) {\n            throw new RuntimeException(e);\n        }\n        return null;\n    }\n</code></pre>\n<p>The &quot;done with copy&quot; log is never seen in the log, I think the code stucks in <code>EntityUtils.toByteArray(entity)</code>. I don't know if this makes sense, but it seems to me that the server is giving me the &quot;play&quot; streaming instead of &quot;file&quot; streaming. Anyway, it's clear to me that I'm doing something wrong but I don't know what and I've been trying everything for 4 days. Anyone knows the right way?.</p>\n"},{"tags":["java","apache-commons"],"owner":{"account_id":975767,"reputation":457,"user_id":997044,"accept_rate":50,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696423121,"creation_date":1696423121,"question_id":77229632,"body_markdown":"Description of the problem..\r\n\r\n**Apache.commons-text version 1.10.0** throws an *IllegalArgumentException* when it encounters an input that is not valid.  Is this the expected behaviour.. if so the documentation doesn&#39;t mention it. \r\n\r\nWhereas, *org.apache.commons.lang.StringEscapeUtils.unescapeHtml* would return a result as mentioned in the documentation. \r\n\r\n```\r\nString test = &quot;test &amp;#39511154;&quot;;\r\norg.apache.commons.text.StringEscapeUtils.unescapeHtml4(test)\r\n\r\nthrows java.lang.IllegalArgumentException\r\nat java.lang.Character.toChars(Character.java:5172)\r\n\tat org.apache.commons.text.translate.NumericEntityUnescaper.translate(NumericEntityUnescaper.java:146)\r\n```\r\nThe Java doc for StringEscapeUtils mentions the following: the entity is left alone if unrecognised. \r\n```\r\npublic static final String unescapeHtml4(String input)\r\n\r\nUnescapes a string containing entity escapes to a string containing the actual Unicode characters corresponding to the escapes. Supports HTML 4.0 entities.\r\n\r\nFor example, the string &quot;&amp;lt;Fran&amp;ccedil;ais&amp;gt;&quot; will become &quot;&lt;Fran&#239;&#191;&#189;ais&gt;&quot;\r\n\r\nIf an entity is unrecognized, it is left alone, and inserted verbatim into the result string. e.g. &quot;&amp;gt;&amp;zzzz;x&quot; will become &quot;&gt;&amp;zzzz;x&quot;.\r\n\r\nParameters:\r\n    input - the String to unescape, may be null\r\nReturns:\r\n    a new unescaped String, null if null string input \r\n\r\n```\r\n\r\nThere is a bug created for this  https://issues.apache.org/jira/browse/LANG-1056; \r\n\r\nI could consider the following to get the above working without exception, the result would be similar to org.apache.commons.lang.StringEscapeUtils.unescapeHtml; \r\nCould this cause any issues.. any suggestions are welcome. \r\n\r\n\r\n```\r\nString translate = org.apache.commons.text.StringEscapeUtils.ESCAPE_HTML4.translate(test);\r\n       \r\nString commonTextUnescapedHtml= org.apache.commons.text.StringEscapeUtils.unescapeHtml4(translate);\r\n\r\n// test &amp;#39511154;\r\n\r\nString commonLangUnescapedHtml= org.apache.commons.lang.StringEscapeUtils.unescapeHtml(test); \r\nSystem.out.println(commonTextUnescapedHtml.equals(commonLangUnescapedHtml));\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Issue with Apache commons-text throwing IllegalArgumentException on StringEscapeUtils::unescapeHtml4","body":"<p>Description of the problem..</p>\n<p><strong>Apache.commons-text version 1.10.0</strong> throws an <em>IllegalArgumentException</em> when it encounters an input that is not valid.  Is this the expected behaviour.. if so the documentation doesn't mention it.</p>\n<p>Whereas, <em>org.apache.commons.lang.StringEscapeUtils.unescapeHtml</em> would return a result as mentioned in the documentation.</p>\n<pre><code>String test = &quot;test &amp;#39511154;&quot;;\norg.apache.commons.text.StringEscapeUtils.unescapeHtml4(test)\n\nthrows java.lang.IllegalArgumentException\nat java.lang.Character.toChars(Character.java:5172)\n    at org.apache.commons.text.translate.NumericEntityUnescaper.translate(NumericEntityUnescaper.java:146)\n</code></pre>\n<p>The Java doc for StringEscapeUtils mentions the following: the entity is left alone if unrecognised.</p>\n<pre><code>public static final String unescapeHtml4(String input)\n\nUnescapes a string containing entity escapes to a string containing the actual Unicode characters corresponding to the escapes. Supports HTML 4.0 entities.\n\nFor example, the string &quot;&amp;lt;Fran&amp;ccedil;ais&amp;gt;&quot; will become &quot;&lt;Franï¿½ais&gt;&quot;\n\nIf an entity is unrecognized, it is left alone, and inserted verbatim into the result string. e.g. &quot;&amp;gt;&amp;zzzz;x&quot; will become &quot;&gt;&amp;zzzz;x&quot;.\n\nParameters:\n    input - the String to unescape, may be null\nReturns:\n    a new unescaped String, null if null string input \n\n</code></pre>\n<p>There is a bug created for this  <a href=\"https://issues.apache.org/jira/browse/LANG-1056;\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LANG-1056;</a></p>\n<p>I could consider the following to get the above working without exception, the result would be similar to org.apache.commons.lang.StringEscapeUtils.unescapeHtml;\nCould this cause any issues.. any suggestions are welcome.</p>\n<pre><code>String translate = org.apache.commons.text.StringEscapeUtils.ESCAPE_HTML4.translate(test);\n       \nString commonTextUnescapedHtml= org.apache.commons.text.StringEscapeUtils.unescapeHtml4(translate);\n\n// test &amp;#39511154;\n\nString commonLangUnescapedHtml= org.apache.commons.lang.StringEscapeUtils.unescapeHtml(test); \nSystem.out.println(commonTextUnescapedHtml.equals(commonLangUnescapedHtml));\n</code></pre>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659719885,"creation_date":1659719885,"answer_id":73253304,"question_id":73253030,"body_markdown":"Camel has different exception handling behaviors. Route based: its handles for just this route in your example direct:business.postUserToIdentity route has a  one route based exception handler and its overrides others .  another one RouteBuilder based exception handler . its handles all routes in a routebuilder class. you have two definition.  they have same  onException . it is not logical . you can change like that your code . \r\n\r\n     onException(ConflictException.class)\r\n                    .process(new ConflictExceptionHandler())\r\n                    .handled(true)\r\n                    .log(&quot;Exception handler works ${exception}&quot;);\r\n    \r\n            from(&quot;direct:business.postUserToIdentity&quot;)\r\n                    .routeId(&quot;PostUserToIdentity&quot;)\r\n                    .log(&quot;started&quot;)\r\n                    .throwException(new ConflictException());","title":"Apache Camel onException Custom Error Handler is not working","body":"<p>Camel has different exception handling behaviors. Route based: its handles for just this route in your example direct:business.postUserToIdentity route has a  one route based exception handler and its overrides others .  another one RouteBuilder based exception handler . its handles all routes in a routebuilder class. you have two definition.  they have same  onException . it is not logical . you can change like that your code .</p>\n<pre><code> onException(ConflictException.class)\n                .process(new ConflictExceptionHandler())\n                .handled(true)\n                .log(&quot;Exception handler works ${exception}&quot;);\n\n        from(&quot;direct:business.postUserToIdentity&quot;)\n                .routeId(&quot;PostUserToIdentity&quot;)\n                .log(&quot;started&quot;)\n                .throwException(new ConflictException());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1659958461,"creation_date":1659958461,"answer_id":73277227,"question_id":73253030,"body_markdown":"So after a deep analysis, I found that I&#39;d to resolve this issue with the service that we called in the application by extending the RouteBuilder class like this. \r\n\r\n```\r\n  @Override\r\n    protected ErrorHandlerFactory createErrorHandlerBuilder() {\r\n        DefaultErrorHandlerBuilder errorHandlerBuilder = super.defaultErrorHandler();\r\n        // Changed from ERROR because it is expected that the service handles the exception.\r\n        errorHandlerBuilder.setLevel(LoggingLevel.INFO.toString());\r\n        RedeliveryPolicyDefinition policy = new RedeliveryPolicyDefinition();\r\n        policy.setDisableRedelivery(&quot;false&quot;);\r\n        policy.setRetriesExhaustedLogLevel(getRetriesExhaustedLogLevel().toString());\r\n        errorHandlerBuilder.setRedeliveryPolicy(policy);\r\n        return errorHandlerBuilder;\r\n    }\r\n```\r\n\r\nNote : ExhaustedLogLevel is setted as **DEBUG**. ","title":"Apache Camel onException Custom Error Handler is not working","body":"<p>So after a deep analysis, I found that I'd to resolve this issue with the service that we called in the application by extending the RouteBuilder class like this.</p>\n<pre><code>  @Override\n    protected ErrorHandlerFactory createErrorHandlerBuilder() {\n        DefaultErrorHandlerBuilder errorHandlerBuilder = super.defaultErrorHandler();\n        // Changed from ERROR because it is expected that the service handles the exception.\n        errorHandlerBuilder.setLevel(LoggingLevel.INFO.toString());\n        RedeliveryPolicyDefinition policy = new RedeliveryPolicyDefinition();\n        policy.setDisableRedelivery(&quot;false&quot;);\n        policy.setRetriesExhaustedLogLevel(getRetriesExhaustedLogLevel().toString());\n        errorHandlerBuilder.setRedeliveryPolicy(policy);\n        return errorHandlerBuilder;\n    }\n</code></pre>\n<p>Note : ExhaustedLogLevel is setted as <strong>DEBUG</strong>.</p>\n"},{"tags":[],"owner":{"account_id":22093934,"reputation":448,"user_id":16351561,"display_name":"AndreaCavallo.class"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696423112,"creation_date":1696423112,"answer_id":77229631,"question_id":73253030,"body_markdown":"Make sure you have \t\t.handled(true)\r\nin your \r\n\r\n    onException(ConflictException.class)\r\n    .handled(true) // before any process\r\n\r\n\r\n","title":"Apache Camel onException Custom Error Handler is not working","body":"<p>Make sure you have      .handled(true)\nin your</p>\n<pre><code>onException(ConflictException.class)\n.handled(true) // before any process\n</code></pre>\n"}],"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73277227,"answer_count":3,"score":1,"last_activity_date":1696423112,"creation_date":1659718261,"question_id":73253030,"body_markdown":"I am new to apache camel features. So I have a problem with the **DefaultErrorHandler** in our project. \r\n\r\nThere are some errors in which we are not using any custom error handler. Whenever an exception occurs, apache camel logs it and this log level is **ERROR**.\r\nApache camel is handling failure through DefaultErrorHandler which propagates exceptions back to the caller since there isn’t any custom error handler.\r\n\r\nThis errors are like &quot;User not found&quot; so this shouldn&#39;t be a **ERROR**, this can be a **WARN** or **INFO**. Since we are not handling it, DefaultErrorHandler by Apache Camel handles it.\r\n\r\nThe error log like this on the server:\r\n```\r\n main 2022-08-05 15:24:43.537 ERROR [user-manager] 1 --- [nio-8080-exec-5] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId:-0000000 on Exc │    │\r\n│ main +[                                                                                                                                                                                                                                      │    │\r\n│ main +[ Message History (complete message history is disabled)                                                                                                                                                                               │    │\r\n│ main +[ ---------------------------------------------------------------------------------------------------------------------------------------                                                                                              │    │\r\n│ main +[ RouteId              ProcessorId          Processor                                                                        Elapsed (ms)                                                                                              │    │\r\n│ main +[ [PostUserToIdentity] [PostUserToIdentity] [from[direct://business.postUserToIdentity]                                    ] [        27]                                                                                              │    │\r\n│ main +[     ...                                                                                                                                                                                                                              │    │\r\n│ main +[ [PostUserToIdentity] [to58              ] [direct:postUserToIdentityRequestedInternal                                    ] [         0]                                                                                              │    │\r\n│ main +[                                                                                                                                                                                                                                      │    │\r\n│ main +[ Stacktrace                                                                                                                                                                                                                           │    │\r\n│ main +[ ---------------------------------------------------------------------------------------------------------------------------------------                                                                                              │    │\r\n│ main +[                                                                                                                                                                                                                                      │    │\r\n│ main                                                                                                                                                                                                                                         │    │\r\n│ main com.user.manager.exception.ConflictException: User already exists         \r\n```\r\n\r\nSo, I wrote a Custom Handler and a RouteClass which extends the **RouteBuilder** with the proper Camel **OnException** clause.\r\n\r\n**OnConflictExceptionRoute Class**\r\n```\r\n@Component\r\npublic class OnConflictExceptionRoute extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() {\r\n        log.info(&quot;Configuring extended create user by context route&quot;);\r\n\r\n        onException(ConflictException.class)\r\n            .process(new ConflictExceptionHandler())\r\n            .handled(true);\r\n\r\n        from(&quot;direct:business.postUserToIdentity&quot;)\r\n            .routeId(&quot;PostUserToIdentity&quot;)\r\n            .onException(ConflictException.class)\r\n            .process(new ConflictExceptionHandler());\r\n    }\r\n}\r\n```\r\n\r\n**Custom Error Handler**\r\n```\r\n@Slf4j\r\npublic class ConflictExceptionHandler implements Processor {\r\n\r\n    @Override\r\n    public void process(Exchange exchange) {\r\n        log.info(&quot;USER ALREADY EXISTS!&quot;);\r\n        throw new ConflictException().withMessage(&quot;USER ALREADY EXISTS!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nAt the application startup, I could see that the Configure method in the RouteClass is triggered.\r\n\r\nBut when I am triggering the flow, I am still seeing the same error is handling by the DefaultErrorHandler.\r\n\r\nWhy it is not working? Is there any missing configuration? Thanks.","title":"Apache Camel onException Custom Error Handler is not working","body":"<p>I am new to apache camel features. So I have a problem with the <strong>DefaultErrorHandler</strong> in our project.</p>\n<p>There are some errors in which we are not using any custom error handler. Whenever an exception occurs, apache camel logs it and this log level is <strong>ERROR</strong>.\nApache camel is handling failure through DefaultErrorHandler which propagates exceptions back to the caller since there isn’t any custom error handler.</p>\n<p>This errors are like &quot;User not found&quot; so this shouldn't be a <strong>ERROR</strong>, this can be a <strong>WARN</strong> or <strong>INFO</strong>. Since we are not handling it, DefaultErrorHandler by Apache Camel handles it.</p>\n<p>The error log like this on the server:</p>\n<pre><code> main 2022-08-05 15:24:43.537 ERROR [user-manager] 1 --- [nio-8080-exec-5] o.a.c.p.e.DefaultErrorHandler            : Failed delivery for (MessageId:-0000000 on Exc │    │\n│ main +[                                                                                                                                                                                                                                      │    │\n│ main +[ Message History (complete message history is disabled)                                                                                                                                                                               │    │\n│ main +[ ---------------------------------------------------------------------------------------------------------------------------------------                                                                                              │    │\n│ main +[ RouteId              ProcessorId          Processor                                                                        Elapsed (ms)                                                                                              │    │\n│ main +[ [PostUserToIdentity] [PostUserToIdentity] [from[direct://business.postUserToIdentity]                                    ] [        27]                                                                                              │    │\n│ main +[     ...                                                                                                                                                                                                                              │    │\n│ main +[ [PostUserToIdentity] [to58              ] [direct:postUserToIdentityRequestedInternal                                    ] [         0]                                                                                              │    │\n│ main +[                                                                                                                                                                                                                                      │    │\n│ main +[ Stacktrace                                                                                                                                                                                                                           │    │\n│ main +[ ---------------------------------------------------------------------------------------------------------------------------------------                                                                                              │    │\n│ main +[                                                                                                                                                                                                                                      │    │\n│ main                                                                                                                                                                                                                                         │    │\n│ main com.user.manager.exception.ConflictException: User already exists         \n</code></pre>\n<p>So, I wrote a Custom Handler and a RouteClass which extends the <strong>RouteBuilder</strong> with the proper Camel <strong>OnException</strong> clause.</p>\n<p><strong>OnConflictExceptionRoute Class</strong></p>\n<pre><code>@Component\npublic class OnConflictExceptionRoute extends RouteBuilder {\n\n    @Override\n    public void configure() {\n        log.info(&quot;Configuring extended create user by context route&quot;);\n\n        onException(ConflictException.class)\n            .process(new ConflictExceptionHandler())\n            .handled(true);\n\n        from(&quot;direct:business.postUserToIdentity&quot;)\n            .routeId(&quot;PostUserToIdentity&quot;)\n            .onException(ConflictException.class)\n            .process(new ConflictExceptionHandler());\n    }\n}\n</code></pre>\n<p><strong>Custom Error Handler</strong></p>\n<pre><code>@Slf4j\npublic class ConflictExceptionHandler implements Processor {\n\n    @Override\n    public void process(Exchange exchange) {\n        log.info(&quot;USER ALREADY EXISTS!&quot;);\n        throw new ConflictException().withMessage(&quot;USER ALREADY EXISTS!&quot;);\n    }\n}\n</code></pre>\n<p>At the application startup, I could see that the Configure method in the RouteClass is triggered.</p>\n<p>But when I am triggering the flow, I am still seeing the same error is handling by the DefaultErrorHandler.</p>\n<p>Why it is not working? Is there any missing configuration? Thanks.</p>\n"},{"tags":["java","hibernate","jpa","spring-boot"],"comments":[{"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"score":0,"creation_date":1445338278,"post_id":33234546,"comment_id":54272332,"body_markdown":"Well, each parent account has several linked accounts. thats it. I dont see how this could resolve into a tree map. The depth is supposed to be 1.","body":"Well, each parent account has several linked accounts. thats it. I dont see how this could resolve into a tree map. The depth is supposed to be 1."},{"owner":{"account_id":1197265,"reputation":1088,"user_id":1168703,"display_name":"Pras"},"score":0,"creation_date":1445347169,"post_id":33234546,"comment_id":54278291,"body_markdown":"there is no error in your mapping or schema ... i don&#39;t  think your infinite loop problem comes from that ... are you doing anything else in those objects ? some JSON / Jackson annotations maybe ?","body":"there is no error in your mapping or schema ... i don&#39;t  think your infinite loop problem comes from that ... are you doing anything else in those objects ? some JSON / Jackson annotations maybe ?"}],"answers":[{"tags":[],"owner":{"account_id":200488,"reputation":2393,"user_id":446368,"accept_rate":49,"display_name":"Mejmo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445338677,"creation_date":1445338677,"answer_id":33234815,"question_id":33234546,"body_markdown":"Something like this does not work?\r\n\r\n    @Entity\r\n    public class Account {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private long id;\r\n        private String name;\r\n    \r\n        @ManyToOne(cascade={CascadeType.ALL})\r\n        @JoinColumn(name=&quot;manager_id&quot;)\r\n        private Account manager;\r\n    \r\n        @OneToMany((fetch = FetchType.EAGER, mappedBy=&quot;manager&quot;)\r\n        private Set&lt;Account&gt; linkedAccounts = new HashSet&lt;Account&gt;();\r\n    \r\n    }\r\n\r\n","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>Something like this does not work?</p>\n\n<pre><code>@Entity\npublic class Account {\n\n    @Id\n    @GeneratedValue\n    private long id;\n    private String name;\n\n    @ManyToOne(cascade={CascadeType.ALL})\n    @JoinColumn(name=\"manager_id\")\n    private Account manager;\n\n    @OneToMany((fetch = FetchType.EAGER, mappedBy=\"manager\")\n    private Set&lt;Account&gt; linkedAccounts = new HashSet&lt;Account&gt;();\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1445589463,"creation_date":1445589463,"answer_id":33298105,"question_id":33234546,"body_markdown":"Problem solved. I was using a custom `@toString` method in the LinkedAccount which was referencing the ParentAccount. I had no idea that this could cause any problem and therefor I did not include the toString in my question.\r\n\r\nApparently, this was causing an infinite loop of lazy loading and removing this reference fixed the problem.","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>Problem solved. I was using a custom <code>@toString</code> method in the LinkedAccount which was referencing the ParentAccount. I had no idea that this could cause any problem and therefor I did not include the toString in my question.</p>\n\n<p>Apparently, this was causing an infinite loop of lazy loading and removing this reference fixed the problem.</p>\n"},{"tags":[],"owner":{"account_id":2036994,"reputation":381,"user_id":1819111,"display_name":"user1819111"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1465482993,"creation_date":1465478444,"answer_id":37727206,"question_id":33234546,"body_markdown":"As the first answer suggests:\r\n\r\n&gt; Do not use Lombok&#39;s `@Data` annotation on `@Entity` classes.\r\n\r\n**Reason:** `@Data` generates `hashcode()`, `equals()` and `toString()` methods that use the generated getters. Using the getter means of course fetching new data even if the property was marked with **FetchType=LAZY**. \r\n\r\nSomewhere along the way hibernate tries to log the data with `toString()` and it crashes.","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>As the first answer suggests:</p>\n\n<blockquote>\n  <p>Do not use Lombok's <code>@Data</code> annotation on <code>@Entity</code> classes.</p>\n</blockquote>\n\n<p><strong>Reason:</strong> <code>@Data</code> generates <code>hashcode()</code>, <code>equals()</code> and <code>toString()</code> methods that use the generated getters. Using the getter means of course fetching new data even if the property was marked with <strong>FetchType=LAZY</strong>. </p>\n\n<p>Somewhere along the way hibernate tries to log the data with <code>toString()</code> and it crashes.</p>\n"},{"tags":[],"owner":{"display_name":"user977221"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538735681,"creation_date":1538735681,"answer_id":52663675,"question_id":33234546,"body_markdown":"I recently had this issue due to a poorly defined Jackson2HttpMessageConverter. \r\n\r\nI had done something like the following.\r\n\r\n    @Bean\r\n    RestTemplate restTemplate(@Qualifier(&quot;halJacksonHttpMessageConverter&quot;)\r\n                                      TypeConstrainedMappingJackson2HttpMessageConverter halConverter) {\r\n        final RestTemplate template = new RestTemplateBuilder().build();\r\n        halConverter.setSupportedMediaTypes(List.of(/* some media types */)); \r\n        final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters = template.getMessageConverters();\r\n        converters.add(halConverter);\r\n        template.setMessageConverters(converters);\r\n        return template;\r\n    }\r\n\r\nThis caused a problem because the media types did not include all the defaults. Changing it to the following fixed the issue for me.\r\n\r\n    halConverter.setSupportedMediaTypes(\r\n        new ImmutableList.Builder&lt;MediaType&gt;()\r\n            .addAll(halConverter.getSupportedMediaTypes())\r\n            .add(/* my custom media type */)\r\n            .build()\r\n    );","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>I recently had this issue due to a poorly defined Jackson2HttpMessageConverter. </p>\n\n<p>I had done something like the following.</p>\n\n<pre><code>@Bean\nRestTemplate restTemplate(@Qualifier(\"halJacksonHttpMessageConverter\")\n                                  TypeConstrainedMappingJackson2HttpMessageConverter halConverter) {\n    final RestTemplate template = new RestTemplateBuilder().build();\n    halConverter.setSupportedMediaTypes(List.of(/* some media types */)); \n    final List&lt;HttpMessageConverter&lt;?&gt;&gt; converters = template.getMessageConverters();\n    converters.add(halConverter);\n    template.setMessageConverters(converters);\n    return template;\n}\n</code></pre>\n\n<p>This caused a problem because the media types did not include all the defaults. Changing it to the following fixed the issue for me.</p>\n\n<pre><code>halConverter.setSupportedMediaTypes(\n    new ImmutableList.Builder&lt;MediaType&gt;()\n        .addAll(halConverter.getSupportedMediaTypes())\n        .add(/* my custom media type */)\n        .build()\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4103613,"reputation":110,"user_id":3370635,"display_name":"Zetared"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594922718,"creation_date":1594922718,"answer_id":62940929,"question_id":33234546,"body_markdown":"As [user1819111][1] told, `@Data` from Lombok is not compatible with `@Entity` and `FetchType=LAZY`. I had used `Lombok.Data` (`@Data`) and I was getting this error.\r\n\r\nAs I don&#39;t want do create all get/set, I just put the **Lombok** `@Setter` and `@Getter` in your class and all will work fine.\r\n\r\n```java\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;file&quot;)\r\n@SequenceGenerator(name = &quot;File_Sequence&quot;, allocationSize=1, sequenceName = &quot;file_id_seq&quot;)\r\npublic class MyClass{\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;File_Sequence&quot;)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @OneToMany(mappedBy = &quot;file&quot;, cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\r\n    private Set&lt;Base2FileDetail&gt; details = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1819111/user1819111","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>As <a href=\"https://stackoverflow.com/users/1819111/user1819111\">user1819111</a> told, <code>@Data</code> from Lombok is not compatible with <code>@Entity</code> and <code>FetchType=LAZY</code>. I had used <code>Lombok.Data</code> (<code>@Data</code>) and I was getting this error.</p>\n<p>As I don't want do create all get/set, I just put the <strong>Lombok</strong> <code>@Setter</code> and <code>@Getter</code> in your class and all will work fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\n@Entity\n@Table(name = &quot;file&quot;)\n@SequenceGenerator(name = &quot;File_Sequence&quot;, allocationSize=1, sequenceName = &quot;file_id_seq&quot;)\npublic class MyClass{\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;File_Sequence&quot;)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(mappedBy = &quot;file&quot;, cascade = CascadeType.DETACH, fetch = FetchType.LAZY)\n    private Set&lt;Base2FileDetail&gt; details = new HashSet&lt;&gt;();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2403011,"reputation":61,"user_id":2100258,"display_name":"Bibin Chorickanpara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657712157,"creation_date":1657712157,"answer_id":72965588,"question_id":33234546,"body_markdown":"This simple way worked for me. Just use JsonIgnoreProperties .\r\n\r\n        @JsonIgnoreProperties(value = {&quot;linkedAccounts&quot;})\r\n        @ManyToOne(cascade = { CascadeType.PERSIST})\r\n        @JoinColumn(name = &quot;abc&quot;, referencedColumnName = &quot;abc&quot;)\r\n        private ParentAccount parentAccount;\r\n        ","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>This simple way worked for me. Just use JsonIgnoreProperties .</p>\n<pre><code>    @JsonIgnoreProperties(value = {&quot;linkedAccounts&quot;})\n    @ManyToOne(cascade = { CascadeType.PERSIST})\n    @JoinColumn(name = &quot;abc&quot;, referencedColumnName = &quot;abc&quot;)\n    private ParentAccount parentAccount;\n    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7735992,"reputation":1618,"user_id":5857569,"accept_rate":72,"display_name":"Malki Mohamed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696422855,"creation_date":1671288080,"answer_id":74834971,"question_id":33234546,"body_markdown":"This way worked for me without removing `@ToSring` annotation:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;parent_accounts&quot;)\r\n\r\npublic class ParentAccount {\r\n    @JsonIgnoreProperties({&quot;parentAccount&quot;})\r\n    @OneToMany(mappedBy = &quot;parentAccount&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true)\r\n    private List&lt;LinkedAccount&gt; linkedAcounts;\r\n    // ...\r\n}\r\n````\r\n\r\n````\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Table(name = &quot;linked_accounts&quot;)\r\n\r\npublic class LinkedAccount {\r\n    @JsonIgnoreProperties(&quot;linkedAcounts&quot;)\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;parentAccount_id&quot;)\r\n    private ParentAccount parentAccount;\r\n    // ...\r\n}\r\n````\r\nPS: In `@JsonIgnoreProperties` You can also ignore more than one field to prevent an infinite loop","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>This way worked for me without removing <code>@ToSring</code> annotation:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;parent_accounts&quot;)\n\npublic class ParentAccount {\n    @JsonIgnoreProperties({&quot;parentAccount&quot;})\n    @OneToMany(mappedBy = &quot;parentAccount&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true)\n    private List&lt;LinkedAccount&gt; linkedAcounts;\n    // ...\n}\n</code></pre>\n<pre><code>@Entity\n@Getter\n@Setter\n@ToString\n@RequiredArgsConstructor\n@AllArgsConstructor\n@Table(name = &quot;linked_accounts&quot;)\n\npublic class LinkedAccount {\n    @JsonIgnoreProperties(&quot;linkedAcounts&quot;)\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;parentAccount_id&quot;)\n    private ParentAccount parentAccount;\n    // ...\n}\n</code></pre>\n<p>PS: In <code>@JsonIgnoreProperties</code> You can also ignore more than one field to prevent an infinite loop</p>\n"}],"owner":{"account_id":1314915,"reputation":7683,"user_id":1262024,"accept_rate":88,"display_name":"Smajl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18991,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33298105,"answer_count":7,"score":8,"last_activity_date":1696422855,"creation_date":1445337862,"question_id":33234546,"body_markdown":"I have a two objects with simple @OneToMany relationship which looks as follows:\r\n\r\nparent:\r\n\r\n    @Entity\r\n    public class ParentAccount {\r\n    \r\n      @Id\r\n      @GeneratedValue\r\n      private long id;\r\n      private String name;\r\n    \r\n      @OneToMany(fetch = FetchType.EAGER, mappedBy = &quot;parentAccount&quot;)\r\n      private Set&lt;LinkedAccount&gt; linkedAccounts;\r\n    \r\n    }\r\n\r\nchild:\r\n\r\n    @Entity\r\n    public class LinkedAccount {\r\n    \r\n      @Id\r\n      @GeneratedValue\r\n      private long id;\r\n    \r\n      @ManyToOne(optional = false)\r\n      private ParentAccount parentAccount;\r\n    \r\n      private String name;\r\n    \r\n      // empty constructor for JPA\r\n      public LinkedAccount() {\r\n      }\r\n    \r\n    }\r\n\r\nI ma using Spring `CrudRepository` to operate with these entities. However, when calling `ParentAccount parent = parentAccountRepository.findOne(id);`, some kind of infinite loop starts happening and hibernate spams this all over the console:\r\n\r\n    Hibernate: select linkedacco0_.parent_account_id as parent_a6_1_0_, linkedacco0_.id as id1_0_0_, linkedacco0_.id as id1_0_1_, linkedacco0_.aws_id as aws_id2_0_1_, linkedacco0_.key_id as key_id3_0_1_, linkedacco0_.name as name4_0_1_, linkedacco0_.parent_account_id as parent_a6_0_1_, linkedacco0_.secret_key as secret_k5_0_1_ from linked_account linkedacco0_ where linkedacco0_.parent_account_id=?\r\n\r\nI tried changed the fetch type to LAZY but then I get this error:\r\n\r\n    org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.berrycloud.scheduler.model.ParentAccount.linkedAccounts, could not initialize proxy - no Session\r\n\r\n(It seems that it is trying to do the lazy load outside of the transactional context).\r\n\r\nThis is my CRUD repository:\r\n\r\n    @Repository\r\n    public interface ParentAccountRepository extends CrudRepository&lt;ParentAccount, Long&gt; {\r\n    }\r\n\r\nCould someone tell me how to resolve this issue? I would prefer the solution with EAGER fetch. Thank you for any tips\r\n\r\nEDIT: here is the schema I am using\r\n\r\n    CREATE TABLE parent_account (\r\n        id BIGINT auto_increment,\r\n        name VARCHAR(80) null,\r\n        PRIMARY KEY (`id`)\r\n    );\r\n    \r\n    CREATE TABLE linked_account (\r\n        id BIGINT auto_increment,\r\n        parent_account_id BIGINT,\r\n        name VARCHAR(80) null,\r\n        FOREIGN KEY (`parent_account_id`) REFERENCES `parent_account` (`id`),\r\n        PRIMARY KEY (`id`)\r\n    );","title":"Spring Boot JPA - OneToMany relationship causes infinite loop","body":"<p>I have a two objects with simple @OneToMany relationship which looks as follows:</p>\n\n<p>parent:</p>\n\n<pre><code>@Entity\npublic class ParentAccount {\n\n  @Id\n  @GeneratedValue\n  private long id;\n  private String name;\n\n  @OneToMany(fetch = FetchType.EAGER, mappedBy = \"parentAccount\")\n  private Set&lt;LinkedAccount&gt; linkedAccounts;\n\n}\n</code></pre>\n\n<p>child:</p>\n\n<pre><code>@Entity\npublic class LinkedAccount {\n\n  @Id\n  @GeneratedValue\n  private long id;\n\n  @ManyToOne(optional = false)\n  private ParentAccount parentAccount;\n\n  private String name;\n\n  // empty constructor for JPA\n  public LinkedAccount() {\n  }\n\n}\n</code></pre>\n\n<p>I ma using Spring <code>CrudRepository</code> to operate with these entities. However, when calling <code>ParentAccount parent = parentAccountRepository.findOne(id);</code>, some kind of infinite loop starts happening and hibernate spams this all over the console:</p>\n\n<pre><code>Hibernate: select linkedacco0_.parent_account_id as parent_a6_1_0_, linkedacco0_.id as id1_0_0_, linkedacco0_.id as id1_0_1_, linkedacco0_.aws_id as aws_id2_0_1_, linkedacco0_.key_id as key_id3_0_1_, linkedacco0_.name as name4_0_1_, linkedacco0_.parent_account_id as parent_a6_0_1_, linkedacco0_.secret_key as secret_k5_0_1_ from linked_account linkedacco0_ where linkedacco0_.parent_account_id=?\n</code></pre>\n\n<p>I tried changed the fetch type to LAZY but then I get this error:</p>\n\n<pre><code>org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: com.berrycloud.scheduler.model.ParentAccount.linkedAccounts, could not initialize proxy - no Session\n</code></pre>\n\n<p>(It seems that it is trying to do the lazy load outside of the transactional context).</p>\n\n<p>This is my CRUD repository:</p>\n\n<pre><code>@Repository\npublic interface ParentAccountRepository extends CrudRepository&lt;ParentAccount, Long&gt; {\n}\n</code></pre>\n\n<p>Could someone tell me how to resolve this issue? I would prefer the solution with EAGER fetch. Thank you for any tips</p>\n\n<p>EDIT: here is the schema I am using</p>\n\n<pre><code>CREATE TABLE parent_account (\n    id BIGINT auto_increment,\n    name VARCHAR(80) null,\n    PRIMARY KEY (`id`)\n);\n\nCREATE TABLE linked_account (\n    id BIGINT auto_increment,\n    parent_account_id BIGINT,\n    name VARCHAR(80) null,\n    FOREIGN KEY (`parent_account_id`) REFERENCES `parent_account` (`id`),\n    PRIMARY KEY (`id`)\n);\n</code></pre>\n"},{"tags":["java","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1547808102,"post_id":54251558,"comment_id":95328601,"body_markdown":"Note that 19-year-old users don&#39;t see a message. Replace `&gt; 19` with `&gt;= 19` to fix this.","body":"Note that 19-year-old users don&#39;t see a message. Replace <code>&gt; 19</code> with <code>&gt;= 19</code> to fix this."},{"owner":{"account_id":2078089,"reputation":9678,"user_id":1850851,"accept_rate":42,"display_name":"Christian Vincenzo Traina"},"score":0,"creation_date":1547808159,"post_id":54251558,"comment_id":95328635,"body_markdown":"@MCEmperor Or just remove `&amp;&amp; age &gt; 19`, it&#39;s a useless check :)","body":"@MCEmperor Or just remove <code>&amp;&amp; age &gt; 19</code>, it&#39;s a useless check :)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1547808283,"post_id":54251558,"comment_id":95328692,"body_markdown":"@CristianTra&#236;na That&#39;s indeed even better :-). This is also true for `else if (age &gt;= 60)`; it could just be replaced with `else`","body":"@CristianTra&#236;na That&#39;s indeed even better :-). This is also true for <code>else if (age &gt;= 60)</code>; it could just be replaced with <code>else</code>"}],"answers":[{"tags":[],"owner":{"account_id":15016130,"reputation":5355,"user_id":10839105,"display_name":"Manoj Choudhari"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1547806890,"creation_date":1547806890,"answer_id":54251933,"question_id":54251558,"body_markdown":"The problem is below bold line. \r\n\r\nThe semicolon after if block is causing this. \r\n\r\nremove the semicolon.\r\n\r\n**else if (age &gt;= 60);** \r\n\r\nthis is making if statement separate from the print line statement.  that&#39;s why print line is executing irrespective of what is the input.\r\n\r\n","title":"Age comparison from Scanner input using else if","body":"<p>The problem is below bold line. </p>\n\n<p>The semicolon after if block is causing this. </p>\n\n<p>remove the semicolon.</p>\n\n<p><strong>else if (age >= 60);</strong> </p>\n\n<p>this is making if statement separate from the print line statement.  that's why print line is executing irrespective of what is the input.</p>\n"},{"tags":[],"owner":{"account_id":14580319,"reputation":21,"user_id":10531030,"display_name":"Raphael Eid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547808879,"creation_date":1547808879,"answer_id":54252489,"question_id":54251558,"body_markdown":"After `else` or `else if` or `if` do not put `semicolon` if you have to execute multiple of codes in this statement, so removing the `semicolon` and leaving the `brackets` will solve your problem.\r\n\r\nSo your code will be :\r\n\r\n        int age;\r\n\r\n        System.out.println(&quot;Enter your age&quot;);\r\n        age = in.nextInt();\r\n\r\n        if (age &lt;= 18) {\r\n            System.out.println(&quot;You are a child!&quot;);\r\n\r\n        }\r\n        else if (age &lt; 59 &amp;&amp; age &gt; 19) {\r\n            System.out.println(&quot;You are an adult!&quot;);\r\n        } \r\n        else if (age &gt;= 60) {\r\n\r\n            System.out.println(&quot;You are old!&quot;);\r\n        }\r\n","title":"Age comparison from Scanner input using else if","body":"<p>After <code>else</code> or <code>else if</code> or <code>if</code> do not put <code>semicolon</code> if you have to execute multiple of codes in this statement, so removing the <code>semicolon</code> and leaving the <code>brackets</code> will solve your problem.</p>\n\n<p>So your code will be :</p>\n\n<pre><code>    int age;\n\n    System.out.println(\"Enter your age\");\n    age = in.nextInt();\n\n    if (age &lt;= 18) {\n        System.out.println(\"You are a child!\");\n\n    }\n    else if (age &lt; 59 &amp;&amp; age &gt; 19) {\n        System.out.println(\"You are an adult!\");\n    } \n    else if (age &gt;= 60) {\n\n        System.out.println(\"You are old!\");\n    }\n</code></pre>\n"}],"owner":{"account_id":15150222,"reputation":35,"user_id":10932736,"display_name":"Patryk Sarnik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1520,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1696460309,"accepted_answer_id":54251933,"answer_count":2,"score":-1,"last_activity_date":1696422657,"creation_date":1547805677,"question_id":54251558,"body_markdown":"I am just learning to code at University now. We were given a task to create an else if program based on the scanner that takes the users age as input. I have encountered an issue where only one output shows, regardless of the input. Can anyone help?\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class HelloWorldApp {\r\n     static public void main(String[] args) {\r\n      \r\n    \t \r\n    \t Scanner input = new Scanner(System.in);\r\n\t        int age;\r\n\r\n\t        System.out.println(&quot;Enter your age&quot;);\r\n\t        age = input.nextInt();\r\n\t        \r\n\t        if (age &lt;= 18) { \r\n\t        System.out.println(&quot;You are a child!&quot;);\r\n\t        \r\n\t        }\r\n\t        \r\n\t        else if (age &lt; 59 &amp;&amp; age &gt; 19) {\r\n\t        System.out.println(&quot;You are an adult!&quot;); \r\n\t        }\r\n\t               \r\n\t        else if (age &gt;= 60); {\r\n\t        \r\n\t        System.out.println(&quot;You are old!&quot;);\r\n\t        \r\n\t        }\r\n\t     }\r\n     }                \r\n\t            \t        \r\n    \t \r\nThis seems to print out the `You are old` option every time you input age.\r\n","title":"Age comparison from Scanner input using else if","body":"<p>I am just learning to code at University now. We were given a task to create an else if program based on the scanner that takes the users age as input. I have encountered an issue where only one output shows, regardless of the input. Can anyone help?</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class HelloWorldApp {\n static public void main(String[] args) {\n\n\n     Scanner input = new Scanner(System.in);\n        int age;\n\n        System.out.println(\"Enter your age\");\n        age = input.nextInt();\n\n        if (age &lt;= 18) { \n        System.out.println(\"You are a child!\");\n\n        }\n\n        else if (age &lt; 59 &amp;&amp; age &gt; 19) {\n        System.out.println(\"You are an adult!\"); \n        }\n\n        else if (age &gt;= 60); {\n\n        System.out.println(\"You are old!\");\n\n        }\n     }\n }                \n</code></pre>\n\n<p>This seems to print out the <code>You are old</code> option every time you input age.</p>\n"},{"tags":["java","android","directory"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695900797,"post_id":77194509,"comment_id":136087113,"body_markdown":"`public or private directory. Thanks in advance.` An Android file chooser wil never display files from apps private storage. Also you better do not thank in advance as we expect thanks afterwards.","body":"<code>public or private directory. Thanks in advance.</code> An Android file chooser wil never display files from apps private storage. Also you better do not thank in advance as we expect thanks afterwards."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695900849,"post_id":77194509,"comment_id":136087123,"body_markdown":"ACTION_VIEW does not open in a folder. It is no file chooser either.","body":"ACTION_VIEW does not open in a folder. It is no file chooser either."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695900901,"post_id":77194509,"comment_id":136087133,"body_markdown":"ACTION_,GET_CONTENT and ACTION_OPEN_DOCUMENT have extra INITIAL_URI. Why dit you comment it?","body":"ACTION_,GET_CONTENT and ACTION_OPEN_DOCUMENT have extra INITIAL_URI. Why dit you comment it?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695901010,"post_id":77194509,"comment_id":136087144,"body_markdown":"AVTION_VIEW with FileProvider has nothing to do with your question. So please remove.","body":"AVTION_VIEW with FileProvider has nothing to do with your question. So please remove."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695901071,"post_id":77194509,"comment_id":136087164,"body_markdown":"You also did not tell us who displayed that error or which statement caused it.","body":"You also did not tell us who displayed that error or which statement caused it."},{"owner":{"account_id":29554871,"reputation":1,"user_id":22650716,"display_name":"sunday umoh"},"score":0,"creation_date":1695971066,"post_id":77194509,"comment_id":136096827,"body_markdown":"@blackapps thanks for your contribution. I&#39;ve tried many options so I just comment them out to try others.the error is caught from the last catch block of the code.","body":"@blackapps thanks for your contribution. I&#39;ve tried many options so I just comment them out to try others.the error is caught from the last catch block of the code."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695974437,"post_id":77194509,"comment_id":136097359,"body_markdown":"That is your your own error message. You should display the exception message instead.","body":"That is your your own error message. You should display the exception message instead."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1695974542,"post_id":77194509,"comment_id":136097383,"body_markdown":"Edit your post. Ask about ACTION_GET_CONTENT or ACTION_VIEW. Not both. Confusing nie.","body":"Edit your post. Ask about ACTION_GET_CONTENT or ACTION_VIEW. Not both. Confusing nie."}],"owner":{"account_id":29554871,"reputation":1,"user_id":22650716,"display_name":"sunday umoh"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696422427,"creation_date":1695900343,"question_id":77194509,"body_markdown":"I have an audio recording app that has a button that sholud open the folder containing the recorded audio files, but it only opens &quot;Downloads&quot; folder even though I never specified it. Some implementations I found only work for certain file explorer. Opening with default file explorer would be perfect for me. Please help with any implementation that allows opening of a specified folder, whether public or private directory.\r\n\r\nMy code (using android version 11) throws error :`Error opening file`\r\n\r\n\r\n    private void createMyfolder(){\r\n        String folderName = &quot;MyFolder&quot;; // Change this to your desired folder name\r\n        File subdirectory = new File(getExternalFilesDir(null), folderName);\r\n\r\n        if (!subdirectory.exists()) {\r\n            if (subdirectory.mkdirs()) {\r\n                // Parent directory created successfully\r\n\r\n                Toast.makeText(this, &quot;Subdirectory does not exist&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                // Handle the case where the directory creation failed\r\n                Toast.makeText(this, &quot;Failed to create subdirectory&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        } else {\r\n\r\n            Toast.makeText(this, &quot;Subdirectory exist&quot;, Toast.LENGTH_SHORT).show();\r\n            Uri folderUri = Uri.parse(&quot;file://&quot; + subdirectory);\r\n          //Uri folderUri = FileProvider.getUriForFile(this, &quot;com.android.sun2meg.audiorecorder.fileprovider&quot;, subdirectory);\r\n\r\n            //Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setDataAndType(folderUri, &quot;*/*&quot;);\r\n            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n\r\n            try {\r\n                if (intent.resolveActivity(getPackageManager()) != null) {\r\n                    startActivity(intent);\r\n                }else{\r\n                    // No app available to handle the Intent, show a message to the user\r\n                    Toast.makeText(this, &quot;No app available to open .&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } catch (ActivityNotFoundException e) {\r\n                // Handle the case where no app can open the file type\r\n                Toast.makeText(this, &quot;No app can open this file type&quot;, Toast.LENGTH_SHORT).show();\r\n            } catch (Exception e) {\r\n                // Handle other exceptions\r\n                e.printStackTrace();\r\n                Toast.makeText(this, &quot;Error opening file&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n    //            startActivity(intent);\r\n        }\r\n\r\n\r\n    &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n          \r\n  android:authorities=&quot;com.android.sun2meg.audiorecorder.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/provider_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;paths xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;external-path\r\n        name=&quot;external_files&quot;\r\n        path=&quot;.&quot; /&gt;\r\n    &lt;/paths&gt;","title":"Android: How to open a specific folder?","body":"<p>I have an audio recording app that has a button that sholud open the folder containing the recorded audio files, but it only opens &quot;Downloads&quot; folder even though I never specified it. Some implementations I found only work for certain file explorer. Opening with default file explorer would be perfect for me. Please help with any implementation that allows opening of a specified folder, whether public or private directory.</p>\n<p>My code (using android version 11) throws error :<code>Error opening file</code></p>\n<pre><code>private void createMyfolder(){\n    String folderName = &quot;MyFolder&quot;; // Change this to your desired folder name\n    File subdirectory = new File(getExternalFilesDir(null), folderName);\n\n    if (!subdirectory.exists()) {\n        if (subdirectory.mkdirs()) {\n            // Parent directory created successfully\n\n            Toast.makeText(this, &quot;Subdirectory does not exist&quot;, Toast.LENGTH_SHORT).show();\n        } else {\n            // Handle the case where the directory creation failed\n            Toast.makeText(this, &quot;Failed to create subdirectory&quot;, Toast.LENGTH_SHORT).show();\n        }\n\n    } else {\n\n        Toast.makeText(this, &quot;Subdirectory exist&quot;, Toast.LENGTH_SHORT).show();\n        Uri folderUri = Uri.parse(&quot;file://&quot; + subdirectory);\n      //Uri folderUri = FileProvider.getUriForFile(this, &quot;com.android.sun2meg.audiorecorder.fileprovider&quot;, subdirectory);\n\n        //Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        Intent intent = new Intent(Intent.ACTION_VIEW);\n        intent.setDataAndType(folderUri, &quot;*/*&quot;);\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n\n        try {\n            if (intent.resolveActivity(getPackageManager()) != null) {\n                startActivity(intent);\n            }else{\n                // No app available to handle the Intent, show a message to the user\n                Toast.makeText(this, &quot;No app available to open .&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch (ActivityNotFoundException e) {\n            // Handle the case where no app can open the file type\n            Toast.makeText(this, &quot;No app can open this file type&quot;, Toast.LENGTH_SHORT).show();\n        } catch (Exception e) {\n            // Handle other exceptions\n            e.printStackTrace();\n            Toast.makeText(this, &quot;Error opening file&quot;, Toast.LENGTH_SHORT).show();\n        }\n//            startActivity(intent);\n    }\n\n\n&lt;provider\n        android:name=&quot;androidx.core.content.FileProvider&quot;\n      \n</code></pre>\n<p>android:authorities=&quot;com.android.sun2meg.audiorecorder.fileprovider&quot;\nandroid:exported=&quot;false&quot;\nandroid:grantUriPermissions=&quot;true&quot;&gt;\n\n\n\n\n\n</p>\n"},{"tags":["java","counting"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1696418294,"post_id":77228687,"comment_id":136149634,"body_markdown":"The `countPaths()` method is called a [Recursive Method](https://www.w3schools.com/java/java_recursion.asp)  which means that the method calls itself...from within itself to carry out the necessary calculations. Overall, this is called **Recursion**. If you run and *step* through the code with your IDE&#39;s debugger, you will see exactly how this works.","body":"The <code>countPaths()</code> method is called a <a href=\"https://www.w3schools.com/java/java_recursion.asp\" rel=\"nofollow noreferrer\">Recursive Method</a>  which means that the method calls itself...from within itself to carry out the necessary calculations. Overall, this is called <b>Recursion</b>. If you run and <i>step</i> through the code with your IDE&#39;s debugger, you will see exactly how this works."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696422287,"creation_date":1696418934,"answer_id":77229186,"question_id":77228687,"body_markdown":"Its not clear what you are asking for.  The following is a walkthrough of how the given execution produces the value 4.\r\n\r\nThe initial state for the call from `main` will pass the terminal states and go to the loop which makes 6 recursive calls and returns their sum.  So it is doing the following (simplified method name to `x` for readability):\r\n\r\n    x(0,3) = x(1,3) + x(2,3) + x(3,3) + x(4,3) + x(5,3) + x(6,3)\r\n\r\nLook at your terminal conditions - i.e. the cases where you do no recursion.\r\n\r\n    if (sp == ep) {\r\n      return 1;\r\n    }\r\n\r\n    if (sp &gt; ep) {\r\n      return 0;\r\n    }\r\n\r\nThe terminal conditions define the following cases for the given execution:\r\n\r\n    x(4+,3) = 0\r\n    x(3,3) = 1\r\n\r\nGiven this knowledge we can simplify our base case to the following: \r\n\r\n    x(0,3) = x(1,3) + x(2,3) + 1 + 0 + 0 + 0\r\n           = x(1,3) + x(2,3) + 1\r\n\r\nDo a similar exercise with these two cases (i.e. `x(1,3)`, `x(2,3)`).\r\n\r\n    x(1,3) = x(2,3) + x(3,3) + x(4,3) + x(5,3) + x(6,3) + (7,3)\r\n           = x(2,3) + 1 +  0 + 0 + 0 + 0\r\n           = x(2,3) + 1\r\n\r\n    x(2,3) = x(3,3) + x(4,3) + x(5,3) + x(6,3) + x(7,3) + x(8,3)\r\n           = 1 + 0 + 0 + 0 + 0 + 0\r\n           = 1\r\n\r\nWe solved x(2,3) so we substitute that back into x(0,3) and  x(1,3)...\r\n\r\n    x(0,3) = x(1,3) + x(2,3) + 1 + 0 + 0 + 0\r\n           = x(1,3) + 1 + 1\r\n           = x(1,3) + 2\r\n    x(1,3) = x(2,3) + x(3,3) + x(4,3) + x(5,3) + x(6,3) + (7,3)\r\n           = x(2,3) + 1 +  0 + 0 + 0 + 0\r\n           = 1 + 1 + 0...\r\n           = 2\r\n\r\nWe solved x(1,3) so we can substitute that back into x(0,3) and we&#39;re done..\r\n\r\n    x(0,3) = x(1,3) + x(2,3) + 1 + 0 + 0 + 0\r\n           = 2 + 1 + 1\r\n           = 4\r\n\r\n\r\n","title":"How the values of count += countPaths(sp + i, ep) are being calculated?","body":"<p>Its not clear what you are asking for.  The following is a walkthrough of how the given execution produces the value 4.</p>\n<p>The initial state for the call from <code>main</code> will pass the terminal states and go to the loop which makes 6 recursive calls and returns their sum.  So it is doing the following (simplified method name to <code>x</code> for readability):</p>\n<pre><code>x(0,3) = x(1,3) + x(2,3) + x(3,3) + x(4,3) + x(5,3) + x(6,3)\n</code></pre>\n<p>Look at your terminal conditions - i.e. the cases where you do no recursion.</p>\n<pre><code>if (sp == ep) {\n  return 1;\n}\n\nif (sp &gt; ep) {\n  return 0;\n}\n</code></pre>\n<p>The terminal conditions define the following cases for the given execution:</p>\n<pre><code>x(4+,3) = 0\nx(3,3) = 1\n</code></pre>\n<p>Given this knowledge we can simplify our base case to the following:</p>\n<pre><code>x(0,3) = x(1,3) + x(2,3) + 1 + 0 + 0 + 0\n       = x(1,3) + x(2,3) + 1\n</code></pre>\n<p>Do a similar exercise with these two cases (i.e. <code>x(1,3)</code>, <code>x(2,3)</code>).</p>\n<pre><code>x(1,3) = x(2,3) + x(3,3) + x(4,3) + x(5,3) + x(6,3) + (7,3)\n       = x(2,3) + 1 +  0 + 0 + 0 + 0\n       = x(2,3) + 1\n\nx(2,3) = x(3,3) + x(4,3) + x(5,3) + x(6,3) + x(7,3) + x(8,3)\n       = 1 + 0 + 0 + 0 + 0 + 0\n       = 1\n</code></pre>\n<p>We solved x(2,3) so we substitute that back into x(0,3) and  x(1,3)...</p>\n<pre><code>x(0,3) = x(1,3) + x(2,3) + 1 + 0 + 0 + 0\n       = x(1,3) + 1 + 1\n       = x(1,3) + 2\nx(1,3) = x(2,3) + x(3,3) + x(4,3) + x(5,3) + x(6,3) + (7,3)\n       = x(2,3) + 1 +  0 + 0 + 0 + 0\n       = 1 + 1 + 0...\n       = 2\n</code></pre>\n<p>We solved x(1,3) so we can substitute that back into x(0,3) and we're done..</p>\n<pre><code>x(0,3) = x(1,3) + x(2,3) + 1 + 0 + 0 + 0\n       = 2 + 1 + 1\n       = 4\n</code></pre>\n"}],"owner":{"account_id":24027730,"reputation":1,"user_id":18009122,"display_name":"Umair Farooq"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696422287,"creation_date":1696414484,"question_id":77228687,"body_markdown":"The output of the code is 4. The functions are being called recursively in the loop. How the value of count += countPaths(sp + i, ep) bieng calcualted? How the functions are being called recursively? What will be the stack frame?\r\n\r\n    // Count the number of paths possible from start point to end point in game board\r\n    public class CountPaths {\r\n        public static void main(String[] args) {\r\n            System.out.println(countPaths(0, 3));\r\n        }\r\n\r\n        private static int countPaths(int sp, int ep) {\r\n            if (sp == ep) {\r\n                return 1;\r\n            }\r\n            if (sp &gt; ep) {\r\n                return 0;\r\n            }\r\n\r\n            int count = 0;\r\n            for (int i = 1; i &lt;= 6 ; i++) {\r\n                count += countPaths(sp + i, ep);\r\n            }\r\n            return count;\r\n        }\r\n    }\r\n\r\nI tried making the dry run of the code to understand its working, the stack frame and especially how the value is being calculated? But I can not come up with this, so I need guidance in these aspects.","title":"How the values of count += countPaths(sp + i, ep) are being calculated?","body":"<p>The output of the code is 4. The functions are being called recursively in the loop. How the value of count += countPaths(sp + i, ep) bieng calcualted? How the functions are being called recursively? What will be the stack frame?</p>\n<pre><code>// Count the number of paths possible from start point to end point in game board\npublic class CountPaths {\n    public static void main(String[] args) {\n        System.out.println(countPaths(0, 3));\n    }\n\n    private static int countPaths(int sp, int ep) {\n        if (sp == ep) {\n            return 1;\n        }\n        if (sp &gt; ep) {\n            return 0;\n        }\n\n        int count = 0;\n        for (int i = 1; i &lt;= 6 ; i++) {\n            count += countPaths(sp + i, ep);\n        }\n        return count;\n    }\n}\n</code></pre>\n<p>I tried making the dry run of the code to understand its working, the stack frame and especially how the value is being calculated? But I can not come up with this, so I need guidance in these aspects.</p>\n"},{"tags":["java","selenium-webdriver","testing","salesforce","e2e-testing"],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696422167,"creation_date":1696408104,"question_id":77227971,"body_markdown":"I am using [UTAM][1] which is essentially wrapper over Seleniums created for Salesfroce testign giving you access to a lot of things so you don&#39;t have to implement them on your own.\r\n\r\nIn out SF instance we have a flow which creates an account, its a regular action that is configured to open a flow on click.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nUpon clicking and iframe opens up. I can&#39;t open it in other non iframe way (or I don&#39;t know how).\r\n\r\n[![enter image description here][3]][3]\r\n\r\nEverything below the menu is an iframe.\r\nThe code inside the iframe is inside shadowdom.\r\n\r\n    &lt;iframe force-alohapage_alohapage=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; scrolling=&quot;yes&quot; allowtransparency=&quot;true&quot; name=&quot;vfFrameId_1696407089498&quot; title=&quot;accessibility title&quot; allowfullscreen=&quot;true&quot; lang=&quot;en-US&quot; allow=&quot;geolocation *; microphone *; camera *; display-capture *&quot; tabindex=&quot;0&quot;&gt;\r\n    #document\r\n    &lt;html&gt; ... &lt;html&gt;\r\n    &lt;/iframe&gt;\r\n\r\nNow I am trying to find the select element inside the frame.\r\n\r\n        DesktopLayoutContainer layoutContainer = from(DesktopLayoutContainer.class);\r\n\r\n        AppNavBar navBar = layoutContainer.getAppNav().getAppNavBar();\r\n        navBar.getNavItem(&quot;Account&quot;).clickAndWaitForUrl(&quot;Account&quot;);\r\n\r\n        ConsoleObjectHome c = from(ConsoleObjectHome.class);\r\n        ActionsContainer a = c.getListView().getHeader().getActions();\r\n        a.getActionLink(&quot;Create Partner Account&quot;).click();\r\n\r\n        AlohaPage page = from(AlohaPage.class);\r\n        // we have aloha page that finds the iframe\r\n\r\n        String title = page.getAlohaPageFrame().getTitle(); // title is accessibility title so it finds the iframe\r\n\r\nThe I don&#39;t know what to do with this Aloha frame, it won&#39;t give me access to the iframe contents.\r\n\r\nI also have access to the underlying web driver, and tried using selenium directly\r\n\r\n        List&lt;WebElement&gt; frames = driver.findElements(By.xpath(&quot;//iframe&quot;)); // finds 2 iframes\r\n\r\n        for (int i = 0; i &lt; frames.size(); i++) {\r\n            driver.switchTo().frame(i); // breaks for index 1, &quot;No iframe with index 1\r\n            List&lt;WebElement&gt; objs = driver.findElements(By.xpath(&quot;.//*&quot;));\r\n            List&lt;?&gt; selects = objs\r\n                    .stream()\r\n                    .filter(ob -&gt; ob.getTagName().equals(&quot;select&quot;))\r\n                    .collect(Collectors.toList());\r\n            // selects is always empty\r\n        }\r\n\r\nIt will be best to make utam work with this, but I don&#39;t mind using the web driver as well.\r\n\r\n\r\nEDIT: I managed to access the iframe like this\r\n\r\n        WebElement iframe = driver\r\n                .findElement(By.className(&quot;iframe-parent&quot;))\r\n                .findElement(By.tagName(&quot;iframe&quot;));\r\n\r\n        driver.switchTo().frame(iframe);\r\n       // here drivers sees all of the element in the frame\r\n\r\nIn order to exit the frame you can use\r\n\r\n    driver.switchTo().defaultContent();\r\n\r\n  [1]: https://utam.dev/salesforce/introduction\r\n  [2]: https://i.stack.imgur.com/OGWrd.png\r\n  [3]: https://i.stack.imgur.com/okm7N.png\r\n","title":"How to test Salesforce flow iframe popup using UTAM (Selenium)","body":"<p>I am using <a href=\"https://utam.dev/salesforce/introduction\" rel=\"nofollow noreferrer\">UTAM</a> which is essentially wrapper over Seleniums created for Salesfroce testign giving you access to a lot of things so you don't have to implement them on your own.</p>\n<p>In out SF instance we have a flow which creates an account, its a regular action that is configured to open a flow on click.</p>\n<p><a href=\"https://i.stack.imgur.com/OGWrd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OGWrd.png\" alt=\"enter image description here\" /></a></p>\n<p>Upon clicking and iframe opens up. I can't open it in other non iframe way (or I don't know how).</p>\n<p><a href=\"https://i.stack.imgur.com/okm7N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/okm7N.png\" alt=\"enter image description here\" /></a></p>\n<p>Everything below the menu is an iframe.\nThe code inside the iframe is inside shadowdom.</p>\n<pre><code>&lt;iframe force-alohapage_alohapage=&quot;&quot; height=&quot;100%&quot; width=&quot;100%&quot; scrolling=&quot;yes&quot; allowtransparency=&quot;true&quot; name=&quot;vfFrameId_1696407089498&quot; title=&quot;accessibility title&quot; allowfullscreen=&quot;true&quot; lang=&quot;en-US&quot; allow=&quot;geolocation *; microphone *; camera *; display-capture *&quot; tabindex=&quot;0&quot;&gt;\n#document\n&lt;html&gt; ... &lt;html&gt;\n&lt;/iframe&gt;\n</code></pre>\n<p>Now I am trying to find the select element inside the frame.</p>\n<pre><code>    DesktopLayoutContainer layoutContainer = from(DesktopLayoutContainer.class);\n\n    AppNavBar navBar = layoutContainer.getAppNav().getAppNavBar();\n    navBar.getNavItem(&quot;Account&quot;).clickAndWaitForUrl(&quot;Account&quot;);\n\n    ConsoleObjectHome c = from(ConsoleObjectHome.class);\n    ActionsContainer a = c.getListView().getHeader().getActions();\n    a.getActionLink(&quot;Create Partner Account&quot;).click();\n\n    AlohaPage page = from(AlohaPage.class);\n    // we have aloha page that finds the iframe\n\n    String title = page.getAlohaPageFrame().getTitle(); // title is accessibility title so it finds the iframe\n</code></pre>\n<p>The I don't know what to do with this Aloha frame, it won't give me access to the iframe contents.</p>\n<p>I also have access to the underlying web driver, and tried using selenium directly</p>\n<pre><code>    List&lt;WebElement&gt; frames = driver.findElements(By.xpath(&quot;//iframe&quot;)); // finds 2 iframes\n\n    for (int i = 0; i &lt; frames.size(); i++) {\n        driver.switchTo().frame(i); // breaks for index 1, &quot;No iframe with index 1\n        List&lt;WebElement&gt; objs = driver.findElements(By.xpath(&quot;.//*&quot;));\n        List&lt;?&gt; selects = objs\n                .stream()\n                .filter(ob -&gt; ob.getTagName().equals(&quot;select&quot;))\n                .collect(Collectors.toList());\n        // selects is always empty\n    }\n</code></pre>\n<p>It will be best to make utam work with this, but I don't mind using the web driver as well.</p>\n<p>EDIT: I managed to access the iframe like this</p>\n<pre><code>    WebElement iframe = driver\n            .findElement(By.className(&quot;iframe-parent&quot;))\n            .findElement(By.tagName(&quot;iframe&quot;));\n\n    driver.switchTo().frame(iframe);\n   // here drivers sees all of the element in the frame\n</code></pre>\n<p>In order to exit the frame you can use</p>\n<pre><code>driver.switchTo().defaultContent();\n</code></pre>\n"},{"tags":["java","spring","unit-testing","junit"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1542467405,"post_id":53352430,"comment_id":93582569,"body_markdown":"Use constructor injection instead of field injection. Then you can pass whatever regex you want in your unit tests. If you want to create an integration test and let Spring inject the property, then don&#39;t use `new`, and instead autowire the bean in your test. The documentation is your friend.","body":"Use constructor injection instead of field injection. Then you can pass whatever regex you want in your unit tests. If you want to create an integration test and let Spring inject the property, then don&#39;t use <code>new</code>, and instead autowire the bean in your test. The documentation is your friend."},{"owner":{"account_id":8798025,"reputation":688,"user_id":10344290,"display_name":"Navjot Singh"},"score":0,"creation_date":1542467716,"post_id":53352430,"comment_id":93582655,"body_markdown":"I used constructor injection for that regex field but now how to initialize it with `new` inside the test class since it now requires a string to be passed. Should i hardcode the string to be passed? @JBNizet","body":"I used constructor injection for that regex field but now how to initialize it with <code>new</code> inside the test class since it now requires a string to be passed. Should i hardcode the string to be passed? @JBNizet"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1542467947,"post_id":53352430,"comment_id":93582723,"body_markdown":"As I said, if you want Spring to inject the value, then your test whould be a Spring test: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing. But what&#39;s the point of externalizing the regex in the first place?","body":"As I said, if you want Spring to inject the value, then your test whould be a Spring test: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>. But what&#39;s the point of externalizing the regex in the first place?"},{"owner":{"account_id":8798025,"reputation":688,"user_id":10344290,"display_name":"Navjot Singh"},"score":0,"creation_date":1542468418,"post_id":53352430,"comment_id":93582857,"body_markdown":"it is a very long regexp so i decided to put it in application.properties file. Is it not a good practice? @JBNizet","body":"it is a very long regexp so i decided to put it in application.properties file. Is it not a good practice? @JBNizet"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1542468525,"post_id":53352430,"comment_id":93582887,"body_markdown":"This value will never change, right? It doesn&#39;t depend on the environment, the profile, or anything, right? So there&#39;s no reason to externalize it. If there is a good reason to externalize it, that means it could have any value, decided by whoever decides to change the value, and your test should thus not care what specific value is in the properties: it should work with any value.","body":"This value will never change, right? It doesn&#39;t depend on the environment, the profile, or anything, right? So there&#39;s no reason to externalize it. If there is a good reason to externalize it, that means it could have any value, decided by whoever decides to change the value, and your test should thus not care what specific value is in the properties: it should work with any value."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1542468586,"post_id":53352430,"comment_id":93582901,"body_markdown":"Also, note that the standard hava bean validation, supported by Spring Boot, has an email validator already, so you&#39;re reinventing the wheel.","body":"Also, note that the standard hava bean validation, supported by Spring Boot, has an email validator already, so you&#39;re reinventing the wheel."}],"answers":[{"tags":[],"owner":{"account_id":5682834,"reputation":5282,"user_id":4493352,"accept_rate":89,"display_name":"夢のの夢"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542470125,"creation_date":1542470125,"answer_id":53352867,"question_id":53352430,"body_markdown":"It&#39;s preferable if you can write unit tests without loading up Spring context. You can have your class set up like this:\r\n\r\n\tpublic class EmailValidation {\r\n\t\t\r\n\t\tprivate final String regex;\r\n\r\n\t\t@Autowired\r\n\t    EmailValidation (@Value(&quot;${regex:}&quot;) String regex) {\r\n\t        this.regex = regex;\r\n\t    }\r\n\t}\r\n    \r\nNow in your test class, you can instantiate your emailValidation class through constructor param.\r\n\r\n    private final EmailValidation obj = new EmailValidation(&quot;myRegex&quot;);\r\n\r\nAs @JB Nizet points out, it&#39;s better to have a static final field for valid email regex or just call through a library.","title":"How to write junit for a class having private fields?","body":"<p>It's preferable if you can write unit tests without loading up Spring context. You can have your class set up like this:</p>\n\n<pre><code>public class EmailValidation {\n\n    private final String regex;\n\n    @Autowired\n    EmailValidation (@Value(\"${regex:}\") String regex) {\n        this.regex = regex;\n    }\n}\n</code></pre>\n\n<p>Now in your test class, you can instantiate your emailValidation class through constructor param.</p>\n\n<pre><code>private final EmailValidation obj = new EmailValidation(\"myRegex\");\n</code></pre>\n\n<p>As @JB Nizet points out, it's better to have a static final field for valid email regex or just call through a library.</p>\n"},{"tags":[],"owner":{"account_id":6117912,"reputation":2451,"user_id":4772331,"display_name":"Gaurav Srivastav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696421835,"creation_date":1542478241,"answer_id":53354099,"question_id":53352430,"body_markdown":"You use `ReflectionTestUtils.setField` to inject property value in test cases.\r\n  \r\n\r\n     public class EmailValidationTest{\r\n         private @InjectMocks EmailValidation validation; \r\n         private String emailRegexPattern = &quot;^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$&quot;;\r\n        \r\n         @BeforeAll\r\n         public void setUp(){\r\n            ReflectionTestUtils.setField(validation, &quot;emailRegex&quot;, emailRegexPattern);\r\n         }\r\n        \r\n        //your test cases here.\r\n        }","title":"How to write junit for a class having private fields?","body":"<p>You use <code>ReflectionTestUtils.setField</code> to inject property value in test cases.</p>\n<pre><code> public class EmailValidationTest{\n     private @InjectMocks EmailValidation validation; \n     private String emailRegexPattern = &quot;^\\w+@[a-zA-Z_]+?\\.[a-zA-Z]{2,3}$&quot;;\n    \n     @BeforeAll\n     public void setUp(){\n        ReflectionTestUtils.setField(validation, &quot;emailRegex&quot;, emailRegexPattern);\n     }\n    \n    //your test cases here.\n    }\n</code></pre>\n"}],"owner":{"account_id":8798025,"reputation":688,"user_id":10344290,"display_name":"Navjot Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1544690223,"accepted_answer_id":53354099,"answer_count":2,"score":0,"last_activity_date":1696421835,"creation_date":1542466971,"question_id":53352430,"body_markdown":"I have a class which is used for email validation. The class has two private String fields out of which i have injected the value of one from `application.properties`.\r\n\r\n    public class EmailValidation {\r\n        \r\n        private final String someString = &quot;xyz&quot;\r\n\r\n        @Value(&quot;${regex}&quot;)\r\n        private String emailRegex;\r\n\r\n        // methods\r\n    }\r\n\r\n    \r\n    public class EmailValidaitonTest {\r\n       \r\n       private final EmailValidation obj = new EmailValidation();\r\n\r\n       //missing emailRegex\r\n    }\r\n\r\nNow i have to write a unit test for this. This class has no dependency, so  i just decided to use the `new` operator in `EmailValidationTest` class for the class object. Now, i can access the String `someString` but i cannot have the value of `emailRegex` since it was injected by Spring. How can i set its value in the test class and i want its value to be same as in my `application.properties`.","title":"How to write junit for a class having private fields?","body":"<p>I have a class which is used for email validation. The class has two private String fields out of which i have injected the value of one from <code>application.properties</code>.</p>\n\n<pre><code>public class EmailValidation {\n\n    private final String someString = \"xyz\"\n\n    @Value(\"${regex}\")\n    private String emailRegex;\n\n    // methods\n}\n\n\npublic class EmailValidaitonTest {\n\n   private final EmailValidation obj = new EmailValidation();\n\n   //missing emailRegex\n}\n</code></pre>\n\n<p>Now i have to write a unit test for this. This class has no dependency, so  i just decided to use the <code>new</code> operator in <code>EmailValidationTest</code> class for the class object. Now, i can access the String <code>someString</code> but i cannot have the value of <code>emailRegex</code> since it was injected by Spring. How can i set its value in the test class and i want its value to be same as in my <code>application.properties</code>.</p>\n"},{"tags":["java","authentication","cookies","jsoup","session-cookies"],"comments":[{"owner":{"account_id":150404,"reputation":42099,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"score":0,"creation_date":1697836111,"post_id":77227173,"comment_id":136334314,"body_markdown":"Sorry for the delay... In this case of situation try to do the same in your favourite browser. Check the headers sent by the browser and try reproduce them with Jsoup.","body":"Sorry for the delay... In this case of situation try to do the same in your favourite browser. Check the headers sent by the browser and try reproduce them with Jsoup."}],"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696421246,"creation_date":1696400129,"question_id":77227173,"body_markdown":"Below working code has suddenly started failing with error \r\n\r\n\r\n**HTTP error fetching URL. Status=403, URL=[https://www.valueresearchonline.com/funds/26123/motilal-oswal-flexi-cap-fund-regular-plan]**\r\n\r\nI have got below Cookie value by logging into https://www.valueresearchonline.com/ with ( vikram.silk@gmail.com / 0987654321 )\r\n\r\nI&#39;m not understanding what is broken suddenly ?\r\n\r\n\r\n    Jsoup.connect(&quot;https://www.valueresearchonline.com/funds/26123/motilal-oswal-flexi-cap-fund-regular-plan&quot;)\r\n                                .timeout(15000)\r\n                                .userAgent(&quot;Mozilla&quot;)\r\n                                .header(&quot;Cookie&quot;, &quot;PHPSESSID=6d9v48p1i5lpgm7pi75ag0okvq; currency=INR; magnitude=LC; ad=ee5ceff9a39de83a4dfcd9cc96efd7aa04912966; ad=ee5ceff9a39de83a4dfcd9cc96efd7aa04912966; wec=296642702; nobtlgn=714443298; ac=68156306%7C526294102%7C424761678; ac=68156306%7C526294102%7C424761678; _gcl_au=1.1.443352322.1663577511; _gid=GA1.2.307799405.1663577512; _fbp=fb.1.1663577512204.684634655; _clck=fgstbv|1|f50|0; __gads=ID=5ed6c786ebad7ee2-2263761e9bd600b6:T=1663577512:S=ALNI_Mb0p_Gif2EChNCORy7JOdTU7x4kjA; __gpi=UID=000009ce9ba54907:T=1663577512:RT=1663577512:S=ALNI_MbPL5xoHxgY76gU9mzDzJltULL80Q; __cf_bm=iIVI9aabT4vAdAmvQQzQTDDs9z4MPaMB1gv602Vn2rI-1663577514-0-AQ9ZKhXneLwVKm6CKEzLoY2EKcrIlNB82wgEPDw7taV6k/fnqTzp0L5zrpAl0fnkF1dn7Ac1DyNdfOnsgCTjBZx5Y6ia4Pvj2ceyIBfyXcIYpR8JkYTYGHfqPlrncv7k6Q==; alp=VROL; aa=364476%7C230264168%7C651860858; aa=364476%7C230264168%7C651860858; arl=604590238; arl=604590238; PERMA-ALERT=0; pgv=6; _ga=GA1.1.1410692956.1663577512; _ga_N9R425YFBJ=GS1.1.1663577511.1.1.1663577540.31.0.0; _clsk=1prm412|1663577540567|4|1|l.clarity.ms/collect&quot;)\r\n                                .method(Connection.Method.GET)\r\n                                .execute();\r\n\r\nExample 2 : Failing\r\n\r\n    Connection.Response initial1 = Jsoup.connect(&quot;https://www.valueresearchonline.com/login/?target=%2fmyaccount&quot;)\r\n                    .timeout(60000)\r\n                    .userAgent(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:49.0) Gecko/20100101 Firefox/49.0&quot;)\r\n                    .data(&quot;username&quot;, &quot;vikram.silk@gmail.com&quot;)\r\n                    .data(&quot;password&quot;, &quot;0987654321&quot;)\r\n                    .method(Connection.Method.POST)\r\n                    .execute();\r\n            System.out.println(&quot;Call 1.1 &quot; + initial1.statusCode());\r\n            System.out.println(initial1.cookies().values());","title":"Jsoup.connect is throwing 403 for valid login credential / cookie value","body":"<p>Below working code has suddenly started failing with error</p>\n<p><strong>HTTP error fetching URL. Status=403, URL=[https://www.valueresearchonline.com/funds/26123/motilal-oswal-flexi-cap-fund-regular-plan]</strong></p>\n<p>I have got below Cookie value by logging into <a href=\"https://www.valueresearchonline.com/\" rel=\"nofollow noreferrer\">https://www.valueresearchonline.com/</a> with ( vikram.silk@gmail.com / 0987654321 )</p>\n<p>I'm not understanding what is broken suddenly ?</p>\n<pre><code>Jsoup.connect(&quot;https://www.valueresearchonline.com/funds/26123/motilal-oswal-flexi-cap-fund-regular-plan&quot;)\n                            .timeout(15000)\n                            .userAgent(&quot;Mozilla&quot;)\n                            .header(&quot;Cookie&quot;, &quot;PHPSESSID=6d9v48p1i5lpgm7pi75ag0okvq; currency=INR; magnitude=LC; ad=ee5ceff9a39de83a4dfcd9cc96efd7aa04912966; ad=ee5ceff9a39de83a4dfcd9cc96efd7aa04912966; wec=296642702; nobtlgn=714443298; ac=68156306%7C526294102%7C424761678; ac=68156306%7C526294102%7C424761678; _gcl_au=1.1.443352322.1663577511; _gid=GA1.2.307799405.1663577512; _fbp=fb.1.1663577512204.684634655; _clck=fgstbv|1|f50|0; __gads=ID=5ed6c786ebad7ee2-2263761e9bd600b6:T=1663577512:S=ALNI_Mb0p_Gif2EChNCORy7JOdTU7x4kjA; __gpi=UID=000009ce9ba54907:T=1663577512:RT=1663577512:S=ALNI_MbPL5xoHxgY76gU9mzDzJltULL80Q; __cf_bm=iIVI9aabT4vAdAmvQQzQTDDs9z4MPaMB1gv602Vn2rI-1663577514-0-AQ9ZKhXneLwVKm6CKEzLoY2EKcrIlNB82wgEPDw7taV6k/fnqTzp0L5zrpAl0fnkF1dn7Ac1DyNdfOnsgCTjBZx5Y6ia4Pvj2ceyIBfyXcIYpR8JkYTYGHfqPlrncv7k6Q==; alp=VROL; aa=364476%7C230264168%7C651860858; aa=364476%7C230264168%7C651860858; arl=604590238; arl=604590238; PERMA-ALERT=0; pgv=6; _ga=GA1.1.1410692956.1663577512; _ga_N9R425YFBJ=GS1.1.1663577511.1.1.1663577540.31.0.0; _clsk=1prm412|1663577540567|4|1|l.clarity.ms/collect&quot;)\n                            .method(Connection.Method.GET)\n                            .execute();\n</code></pre>\n<p>Example 2 : Failing</p>\n<pre><code>Connection.Response initial1 = Jsoup.connect(&quot;https://www.valueresearchonline.com/login/?target=%2fmyaccount&quot;)\n                .timeout(60000)\n                .userAgent(&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:49.0) Gecko/20100101 Firefox/49.0&quot;)\n                .data(&quot;username&quot;, &quot;vikram.silk@gmail.com&quot;)\n                .data(&quot;password&quot;, &quot;0987654321&quot;)\n                .method(Connection.Method.POST)\n                .execute();\n        System.out.println(&quot;Call 1.1 &quot; + initial1.statusCode());\n        System.out.println(initial1.cookies().values());\n</code></pre>\n"},{"tags":["java","selenium","xpath","selenium-webdriver"],"comments":[{"owner":{"account_id":259727,"reputation":1955,"user_id":542810,"accept_rate":91,"display_name":"cgon"},"score":0,"creation_date":1450360561,"post_id":34336116,"comment_id":56413967,"body_markdown":"Your code seems to be true.","body":"Your code seems to be true."},{"owner":{"account_id":1817382,"reputation":3759,"user_id":1652222,"accept_rate":89,"display_name":"ManishChristian"},"score":0,"creation_date":1450361479,"post_id":34336116,"comment_id":56414600,"body_markdown":"Try **`driver.findElement(By.xpath(&quot;//div[@class=&#39;c2&#39;]/form/input&quot;)).click();`**","body":"Try <b><code>driver.findElement(By.xpath(&quot;&#47;&#47;div[@class=&#39;c2&#39;]&#47;form&#47;input&quot;)&zwnj;&#8203;).click();</code></b>"},{"owner":{"account_id":186511,"reputation":4611,"user_id":423955,"accept_rate":77,"display_name":"Alessandro Da Rugna"},"score":0,"creation_date":1450370170,"post_id":34336116,"comment_id":56420840,"body_markdown":"Possible duplicate of [How can I ask the Selenium-WebDriver to wait for few seconds in Java?](http://stackoverflow.com/questions/12858972/how-can-i-ask-the-selenium-webdriver-to-wait-for-few-seconds-in-java)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/12858972/how-can-i-ask-the-selenium-webdriver-to-wait-for-few-seconds-in-java\">How can I ask the Selenium-WebDriver to wait for few seconds in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4538447,"reputation":41,"user_id":3686989,"display_name":"Cnel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1450361548,"creation_date":1450361157,"answer_id":34336548,"question_id":34336116,"body_markdown":"Put a wait or sleep before:\r\n\r\n    driver.findElement(By.xpath(&quot;//input[@value=&#39;Paypal&#39;]&quot;)).click();\r\n\r\nand see if it can locate your element then, then it is just a timing issue. \r\n\r\nor alternatively split your code:\r\n\r\n    WebElement element = driver.findElement(By.xpath(&quot;//input[@value=&#39;Paypal&#39;]&quot;));\r\n    sleep(1000);\r\n    //always better to add a wait than a sleep. Sleep is only to test if it is the issue\r\n    element.click();\r\n\r\nI suspect when you are trying to locate your element, it has not yet loaded.","title":"Selenium: NoSuchElementException: Unable to locate element - method:xpath","body":"<p>Put a wait or sleep before:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//input[@value='Paypal']\")).click();\n</code></pre>\n\n<p>and see if it can locate your element then, then it is just a timing issue. </p>\n\n<p>or alternatively split your code:</p>\n\n<pre><code>WebElement element = driver.findElement(By.xpath(\"//input[@value='Paypal']\"));\nsleep(1000);\n//always better to add a wait than a sleep. Sleep is only to test if it is the issue\nelement.click();\n</code></pre>\n\n<p>I suspect when you are trying to locate your element, it has not yet loaded.</p>\n"},{"tags":[],"owner":{"account_id":7346341,"reputation":37,"user_id":5593890,"accept_rate":100,"display_name":"Pankaj Pallewar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1474289903,"creation_date":1450442472,"answer_id":34355953,"question_id":34336116,"body_markdown":"Try this,\r\n\r\n    @Test\r\n    public void paypal() {\r\n        Thread.sleep(3000);\r\n        driver.findElement(By.xpath(&quot;//input[@value=&#39;Paypal&#39;]&quot;)).click();\r\n        System.out.println(&quot;Current page title is : &quot; + driver.getTitle() + &quot;, time: &quot; + System.currentTimeMillis());\r\n    }","title":"Selenium: NoSuchElementException: Unable to locate element - method:xpath","body":"<p>Try this,</p>\n\n<pre><code>@Test\npublic void paypal() {\n    Thread.sleep(3000);\n    driver.findElement(By.xpath(\"//input[@value='Paypal']\")).click();\n    System.out.println(\"Current page title is : \" + driver.getTitle() + \", time: \" + System.currentTimeMillis());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1681200,"reputation":434,"user_id":1545397,"display_name":"metar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1474291987,"creation_date":1474291987,"answer_id":39574526,"question_id":34336116,"body_markdown":"you could use explicit wait: \r\n  \r\n    (new WebDriverWait(driver, 30)).withMessage(&quot;Waited too long for Paypal-Button&quot;).until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//input[@value=&#39;Paypal&#39;]&quot;)));\r\n    driver.findElement(By.xpath(&quot;//input[@value=&#39;Paypal&#39;]&quot;)).click();","title":"Selenium: NoSuchElementException: Unable to locate element - method:xpath","body":"<p>you could use explicit wait: </p>\n\n<pre><code>(new WebDriverWait(driver, 30)).withMessage(\"Waited too long for Paypal-Button\").until(ExpectedConditions.presenceOfElementLocated(By.xpath(\"//input[@value='Paypal']\")));\ndriver.findElement(By.xpath(\"//input[@value='Paypal']\")).click();\n</code></pre>\n"}],"owner":{"account_id":5336855,"reputation":21,"user_id":4255518,"display_name":"Wojciech Krzysiek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19558,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1696421215,"creation_date":1450359875,"question_id":34336116,"body_markdown":"I have problem with method findElement in Selenium. \r\nThe site is very poor, but do not look at it :)\r\nMy html:\r\n\r\n \r\n\r\n       &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta name=&quot;generator&quot; content=\r\n      &quot;HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org&quot; /&gt;\r\n      &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n    \r\n      &lt;title&gt;Rezerwacja&lt;/title&gt;\r\n      &lt;style type=&quot;text/css&quot;&gt;\r\n    /*&lt;![CDATA[*/\r\n        p {\r\n            text-align: center;\r\n        }\r\n      /*]]&gt;*/\r\n      &lt;/style&gt;\r\n      &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js&quot; type=\r\n      &quot;text/javascript&quot;&gt;\r\n    &lt;/script&gt;\r\n      &lt;link rel=&quot;stylesheet&quot; href=\r\n      &quot;https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css&quot;\r\n      type=&quot;text/css&quot; /&gt;\r\n      &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js&quot;\r\n      type=&quot;text/javascript&quot;&gt;\r\n    &lt;/script&gt;\r\n      &lt;script type=&quot;text/javascript&quot;&gt;\r\n    //&lt;![CDATA[\r\n      $(function() {\r\n        $( &quot;#datepicker&quot; ).datepicker();\r\n      });\r\n      $(function(){\r\n          $(&quot;#submit&quot;).on(&#39;click&#39;, function(e){\r\n               e.preventDefault();\r\n               $.ajax({\r\n                   url: &quot;/flights&quot;,\r\n                   method: &quot;get&quot;,\r\n                   data: {date: $(&quot;#datepicker&quot;).val(), dest: $(&quot;#destination&quot;).val()},\r\n                   success: function(data2){ $(&#39;#flights&#39;).html(data2); $( &quot;#selectable&quot; ).selectable(); }\r\n               });\r\n           });\r\n       });\r\n      //]]&gt;\r\n      &lt;/script&gt;\r\n      &lt;style id=&quot;igtranslator-color&quot; type=&quot;text/css&quot;&gt;\r\n    &lt;/style&gt;\r\n      &lt;style type=&quot;text/css&quot;&gt;\r\n    /*&lt;![CDATA[*/\r\n      body {\r\n      background-color: green;\r\n      }\r\n      div.c4 {background-image: url(&quot;resource://jid1-dgnibwqga0sibw-at-jetpack/data/icons/home.png&quot;); display: none;}\r\n      div.c3 {display: none; width: 0px; height: 0px;}\r\n      div.c2 {text-align: center}\r\n      hr.c1 {text-align: center}\r\n      /*]]&gt;*/\r\n      &lt;/style&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n      &lt;form name=&quot;main_page&quot;&gt;\r\n        &lt;input value=&quot;Strona g&amp;#179;&amp;#243;wna&quot; onclick=&quot;self.location.href=(&#39;/&#39;)&quot; type=\r\n        &quot;button&quot; /&gt; &lt;input value=&quot;Rezerwacja&quot; onclick=\r\n        &quot;self.location.href=(&#39;reservation_page.html&#39;)&quot; type=&quot;button&quot; /&gt;\r\n      &lt;/form&gt;\r\n      &lt;hr class=&quot;c1&quot; color=&quot;#00000&quot; size=&quot;2px&quot; width=&quot;99%&quot; /&gt;\r\n    \r\n      &lt;h1&gt;Wyb&amp;#243;r lotu&lt;/h1&gt;\r\n    \r\n      &lt;form id=&quot;dateDestination&quot; action=&quot;URL&quot;&gt;\r\n        &lt;p&gt;Date: &lt;input class=&quot;hasDatepicker&quot; id=&quot;datepicker&quot; type=&quot;text&quot; /&gt;&lt;/p&gt;\r\n    \r\n        &lt;p&gt;Destination: &lt;input id=&quot;destination&quot; type=&quot;text&quot; /&gt;&lt;/p&gt;\r\n    \r\n        &lt;p&gt;&lt;input id=&quot;submit&quot; value=&quot;Show flights&quot; type=&quot;button&quot; /&gt;&lt;/p&gt;\r\n      &lt;/form&gt;\r\n    \r\n      &lt;div id=&quot;flights&quot;&gt;&lt;/div&gt;\r\n      &lt;hr class=&quot;c1&quot; color=&quot;#00000&quot; size=&quot;2px&quot; width=&quot;99%&quot; /&gt;\r\n    \r\n      &lt;h1&gt;P&amp;#179;atno&amp;#182;&amp;#230;&lt;/h1&gt;\r\n    \r\n      &lt;form action=&quot;mailto:&quot; method=&quot;post&quot; enctype=&quot;text/plain&quot;&gt;\r\n        &lt;div&gt;\r\n          &lt;h3&gt;Podaj dane osobowe:&lt;/h3&gt;&lt;input name=&quot;imi&amp;#234;&quot; /&gt; - Imi&amp;#234;&lt;br /&gt;\r\n          &lt;br /&gt;\r\n          &lt;input name=&quot;nazwisko&quot; /&gt; - Nazwisko&lt;br /&gt;\r\n    \r\n          &lt;h3&gt;Podaj nr telefonu:&lt;/h3&gt;&lt;input name=&quot;telefon&quot; /&gt; - Telefon&lt;br /&gt;\r\n    \r\n          &lt;h3&gt;Wybierz p&amp;#179;e&amp;#230;:&lt;/h3&gt;&lt;input name=&quot;P&amp;#179;e&amp;#230;&quot; value=&quot;Kobieta&quot; type=\r\n          &quot;radio&quot; /&gt; - Kobieta&lt;br /&gt;\r\n          &lt;input name=&quot;P&amp;#179;e&amp;#230;&quot; value=&quot;M&amp;#234;&amp;#191;czyzna&quot; type=&quot;radio&quot; /&gt; -\r\n          M&amp;#234;&amp;#191;czyzna&lt;br /&gt;\r\n    \r\n          &lt;h3&gt;Podaj dat&amp;#234; urodzenia:&lt;/h3&gt;dzie&amp;#241; / miesi&amp;#177;c / rok&lt;br /&gt;\r\n          &lt;select name=&quot;dzie&amp;#241;.urodzin&quot;&gt;\r\n            &lt;option selected=&quot;selected&quot;&gt;\r\n              1\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              3\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              4\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              5\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              6\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              7\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              8\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              9\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              10\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              11\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              12\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              12\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              13\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              14\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              15\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              16\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              17\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              18\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              19\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              20\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              21\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              22\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              23\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              24\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              25\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              26\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              27\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              28\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              29\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              30\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              31\r\n            &lt;/option&gt;\r\n          &lt;/select&gt; &lt;select name=&quot;miesi&amp;#177;c.urodzin&quot;&gt;\r\n            &lt;option selected=&quot;selected&quot;&gt;\r\n              1\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              3\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              4\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              5\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              6\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              7\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              8\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              9\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              10\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              11\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              12\r\n            &lt;/option&gt;\r\n          &lt;/select&gt; &lt;select name=&quot;rok.urodzin&quot;&gt;\r\n            &lt;option selected=&quot;selected&quot;&gt;\r\n              1899\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1900\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1901\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1902\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1903\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1904\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1905\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1906\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1907\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1908\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1909\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1910\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1911\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1912\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1913\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1914\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1915\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1916\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1917\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1918\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1919\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1920\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1921\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1922\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1923\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1924\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1925\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1926\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1927\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1928\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1929\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1930\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1931\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1932\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1933\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1934\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1935\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1936\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1937\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1938\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1939\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1940\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1941\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1942\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1943\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1944\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1945\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1946\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1947\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1948\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1949\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1950\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1951\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1952\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1953\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1954\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1955\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1956\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1957\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1958\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1959\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1960\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1961\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1962\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1963\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1964\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1965\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1966\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1967\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1968\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1969\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1970\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1971\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1972\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1973\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1974\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1975\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1976\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1977\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1978\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1979\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1980\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1981\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1982\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1983\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1984\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1985\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1986\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1987\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1988\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1989\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1990\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1991\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1992\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1993\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1994\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1995\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1996\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1997\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1998\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              1999\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2000\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2001\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2002\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2003\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2004\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2005\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2006\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2007\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2008\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2009\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2010\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2011\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2012\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2013\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2014\r\n            &lt;/option&gt;\r\n    \r\n            &lt;option&gt;\r\n              2015\r\n            &lt;/option&gt;\r\n          &lt;/select&gt;\r\n    \r\n          &lt;h3&gt;Podaj adres e-mail:&lt;/h3&gt;Przyk&amp;#179;adowy adres: example@xx.xx&lt;br /&gt;\r\n          &lt;input name=&quot;e-mail&quot; size=&quot;20&quot; /&gt; - E-mail&lt;br /&gt;\r\n          &lt;br /&gt;\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;\r\n      &lt;hr class=&quot;c1&quot; color=&quot;#00000&quot; size=&quot;2px&quot; width=&quot;99%&quot; /&gt;\r\n    \r\n      &lt;h3&gt;Wybierz miejsce:&lt;/h3&gt;\r\n    \r\n      &lt;div class=&quot;c2&quot;&gt;\r\n        &lt;p&gt;&lt;img src=&quot;seats.png&quot; /&gt;&lt;/p&gt;Rz&amp;#177;d &lt;select name=&quot;rzad&quot;&gt;\r\n          &lt;option selected=&quot;selected&quot;&gt;\r\n            1\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            2\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            3\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            4\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            5\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            6\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            7\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            8\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            9\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            10\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            11\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            12\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            12\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            13\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            14\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            15\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            16\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            17\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            18\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            19\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            20\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            21\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            22\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            23\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            24\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            25\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            26\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            27\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            28\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            29\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            30\r\n          &lt;/option&gt;\r\n        &lt;/select&gt; Miejsce &lt;select name=&quot;miejsce&quot;&gt;\r\n          &lt;option selected=&quot;selected&quot;&gt;\r\n            A\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            B\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            C\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            D\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            E\r\n          &lt;/option&gt;\r\n    \r\n          &lt;option&gt;\r\n            F\r\n          &lt;/option&gt;\r\n        &lt;/select&gt;\r\n      &lt;/div&gt;\r\n      &lt;hr class=&quot;c1&quot; color=&quot;#00000&quot; size=&quot;2px&quot; width=&quot;99%&quot; /&gt;\r\n    \r\n      &lt;p&gt;Twoje rezerwacje&lt;/p&gt;\r\n    \r\n      &lt;div id=&quot;reservationMade&quot;&gt;&lt;/div&gt;\r\n    \r\n      &lt;p&gt;XXXXXXXXXXXXXXX&lt;/p&gt;\r\n    \r\n      &lt;p&gt;&lt;input value=&quot;Wr&amp;#243;c do rezerwacji&quot; type=&quot;submit&quot; /&gt;&lt;/p&gt;\r\n    \r\n      &lt;div class=&quot;c2&quot;&gt;\r\n        &lt;form action=&quot;https://www.paypal.com/pl/home&quot;&gt;\r\n          &lt;h3&gt;Zap&amp;#179;a&amp;#230;:&lt;/h3&gt;&lt;input value=&quot;Paypal&quot; onclick=\r\n          &quot;window.location.href=&#39;https://www.paypal.com/pl/home&#39;&quot; type=&quot;button&quot; /&gt;\r\n        &lt;/form&gt;\r\n      &lt;/div&gt;\r\n      &lt;hr class=&quot;c1&quot; color=&quot;#00000&quot; size=&quot;2px&quot; width=&quot;99%&quot; /&gt;\r\n    \r\n      &lt;p&gt;Zap&amp;#179;acone&lt;/p&gt;\r\n    \r\n      &lt;p&gt;na MAILA ZOSTA&amp;#163;Y WYS&amp;#163;ANE SZCZEG&amp;#211;&amp;#163;Y REZERWACJI&lt;/p&gt;\r\n      &lt;hr class=&quot;c1&quot; color=&quot;#00000&quot; size=&quot;2px&quot; width=&quot;99%&quot; /&gt;\r\n    \r\n      &lt;div id=&quot;ui-datepicker-div&quot; class=\r\n      &quot;ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all&quot;&gt;&lt;/div&gt;\r\n    \r\n      &lt;div class=&quot;igtranslator-main-div c3&quot;&gt;\r\n        &lt;iframe scrolling=&quot;no&quot; class=&quot;igtranslator-iframe&quot; src=&quot;about:blank&quot; frameborder=\r\n        &quot;0&quot;&gt;&lt;/iframe&gt;\r\n      &lt;/div&gt;\r\n    \r\n      &lt;div title=&quot;Click to Show Translation&quot; class=&quot;igtranslator-activator-icon bounceIn c4&quot;&gt;\r\n      &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nmy java\r\n\r\n \r\n\r\n       @Test\r\n    \tpublic void paypal() {\r\n    \t\tdriver.findElement(By.xpath(&quot;//input[@value=&#39;Paypal&#39;]&quot;)).click();\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Current page title is : &quot; + driver.getTitle() + &quot;, time: &quot; + System.currentTimeMillis());\r\n\r\n    \t}\r\n\r\nand I got error:\r\n\r\n   \r\n\r\n     org.openqa.selenium.NoSuchElementException: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//input[@value=&#39;Paypal&#39;]&quot;}\r\n    Command duration or timeout: 5.10 seconds\r\n    For documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\r\n    Build info: version: &#39;2.48.2&#39;, revision: &#39;41bccdd&#39;, time: &#39;2015-10-09 19:59:12&#39;\r\n    System info: host: &#39;471B07N&#39;, ip: &#39;192.168.100.184&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_65&#39;\r\n    Driver info: org.openqa.selenium.firefox.FirefoxDriver\r\n    Capabilities [{applicationCacheEnabled=true, rotatable=false, handlesAlerts=true, databaseEnabled=true, version=42.0, platform=WINDOWS, nativeEvents=false, acceptSslCerts=true, webStorageEnabled=true, locationContextEnabled=true, browserName=firefox, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true}]\r\n    Session ID: 1f8f5d21-e52d-4b5b-b22e-31e615137579\r\n    *** Element info: {Using=xpath, value=//input[@value=&#39;Paypal&#39;]}\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n    \tat java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:206)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:158)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:647)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:353)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:490)\r\n    \tat org.openqa.selenium.By$ByXPath.findElement(By.java:361)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:345)\r\n    \tat com.selenium.tests.testSuite1.HomePage.paypal(HomePage.java:27)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:85)\r\n    \tat org.testng.internal.Invoker.invokeMethod(Invoker.java:639)\r\n    \tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:821)\r\n    \tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1131)\r\n    \tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:124)\r\n    \tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)\r\n    \tat org.testng.TestRunner.privateRun(TestRunner.java:773)\r\n    \tat org.testng.TestRunner.run(TestRunner.java:623)\r\n    \tat org.testng.SuiteRunner.runTest(SuiteRunner.java:357)\r\n    \tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:352)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:310)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:259)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1110)\r\n    \tat org.testng.TestNG.run(TestNG.java:1018)\r\n    \tat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n    Caused by: org.openqa.selenium.NoSuchElementException: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//input[@value=&#39;Paypal&#39;]&quot;}\r\n    For documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\r\n    Build info: version: &#39;2.48.2&#39;, revision: &#39;41bccdd&#39;, time: &#39;2015-10-09 19:59:12&#39;\r\n    System info: host: &#39;471B07N&#39;, ip: &#39;192.168.100.184&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_65&#39;\r\n    Driver info: driver.version: unknown\r\n    \tat &lt;anonymous class&gt;.FirefoxDriver.prototype.findElementInternal_(file:///C:/Users/wojkrz/AppData/Local/Temp/anonymous1649881075161346457webdriver-profile/extensions/fxdriver@googlecode.com/components/driver-component.js:10659)\r\n    \tat &lt;anonymous class&gt;.fxdriver.Timer.prototype.setTimeout/&lt;.notify(file:///C:/Users/wojkrz/AppData/Local/Temp/anonymous1649881075161346457webdriver-profile/extensions/fxdriver@googlecode.com/components/driver-component.js:621)\r\n\r\n\r\n**Do you have any ideas?**","title":"Selenium: NoSuchElementException: Unable to locate element - method:xpath","body":"<p>I have problem with method findElement in Selenium. \nThe site is very poor, but do not look at it :)\nMy html:</p>\n\n<pre><code>   &lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta name=\"generator\" content=\n  \"HTML Tidy for Linux/x86 (vers 25 March 2009), see www.w3.org\" /&gt;\n  &lt;meta charset=\"UTF-8\" /&gt;\n\n  &lt;title&gt;Rezerwacja&lt;/title&gt;\n  &lt;style type=\"text/css\"&gt;\n/*&lt;![CDATA[*/\n    p {\n        text-align: center;\n    }\n  /*]]&gt;*/\n  &lt;/style&gt;\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js\" type=\n  \"text/javascript\"&gt;\n&lt;/script&gt;\n  &lt;link rel=\"stylesheet\" href=\n  \"https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css\"\n  type=\"text/css\" /&gt;\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js\"\n  type=\"text/javascript\"&gt;\n&lt;/script&gt;\n  &lt;script type=\"text/javascript\"&gt;\n//&lt;![CDATA[\n  $(function() {\n    $( \"#datepicker\" ).datepicker();\n  });\n  $(function(){\n      $(\"#submit\").on('click', function(e){\n           e.preventDefault();\n           $.ajax({\n               url: \"/flights\",\n               method: \"get\",\n               data: {date: $(\"#datepicker\").val(), dest: $(\"#destination\").val()},\n               success: function(data2){ $('#flights').html(data2); $( \"#selectable\" ).selectable(); }\n           });\n       });\n   });\n  //]]&gt;\n  &lt;/script&gt;\n  &lt;style id=\"igtranslator-color\" type=\"text/css\"&gt;\n&lt;/style&gt;\n  &lt;style type=\"text/css\"&gt;\n/*&lt;![CDATA[*/\n  body {\n  background-color: green;\n  }\n  div.c4 {background-image: url(\"resource://jid1-dgnibwqga0sibw-at-jetpack/data/icons/home.png\"); display: none;}\n  div.c3 {display: none; width: 0px; height: 0px;}\n  div.c2 {text-align: center}\n  hr.c1 {text-align: center}\n  /*]]&gt;*/\n  &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;form name=\"main_page\"&gt;\n    &lt;input value=\"Strona g&amp;#179;&amp;#243;wna\" onclick=\"self.location.href=('/')\" type=\n    \"button\" /&gt; &lt;input value=\"Rezerwacja\" onclick=\n    \"self.location.href=('reservation_page.html')\" type=\"button\" /&gt;\n  &lt;/form&gt;\n  &lt;hr class=\"c1\" color=\"#00000\" size=\"2px\" width=\"99%\" /&gt;\n\n  &lt;h1&gt;Wyb&amp;#243;r lotu&lt;/h1&gt;\n\n  &lt;form id=\"dateDestination\" action=\"URL\"&gt;\n    &lt;p&gt;Date: &lt;input class=\"hasDatepicker\" id=\"datepicker\" type=\"text\" /&gt;&lt;/p&gt;\n\n    &lt;p&gt;Destination: &lt;input id=\"destination\" type=\"text\" /&gt;&lt;/p&gt;\n\n    &lt;p&gt;&lt;input id=\"submit\" value=\"Show flights\" type=\"button\" /&gt;&lt;/p&gt;\n  &lt;/form&gt;\n\n  &lt;div id=\"flights\"&gt;&lt;/div&gt;\n  &lt;hr class=\"c1\" color=\"#00000\" size=\"2px\" width=\"99%\" /&gt;\n\n  &lt;h1&gt;P&amp;#179;atno&amp;#182;&amp;#230;&lt;/h1&gt;\n\n  &lt;form action=\"mailto:\" method=\"post\" enctype=\"text/plain\"&gt;\n    &lt;div&gt;\n      &lt;h3&gt;Podaj dane osobowe:&lt;/h3&gt;&lt;input name=\"imi&amp;#234;\" /&gt; - Imi&amp;#234;&lt;br /&gt;\n      &lt;br /&gt;\n      &lt;input name=\"nazwisko\" /&gt; - Nazwisko&lt;br /&gt;\n\n      &lt;h3&gt;Podaj nr telefonu:&lt;/h3&gt;&lt;input name=\"telefon\" /&gt; - Telefon&lt;br /&gt;\n\n      &lt;h3&gt;Wybierz p&amp;#179;e&amp;#230;:&lt;/h3&gt;&lt;input name=\"P&amp;#179;e&amp;#230;\" value=\"Kobieta\" type=\n      \"radio\" /&gt; - Kobieta&lt;br /&gt;\n      &lt;input name=\"P&amp;#179;e&amp;#230;\" value=\"M&amp;#234;&amp;#191;czyzna\" type=\"radio\" /&gt; -\n      M&amp;#234;&amp;#191;czyzna&lt;br /&gt;\n\n      &lt;h3&gt;Podaj dat&amp;#234; urodzenia:&lt;/h3&gt;dzie&amp;#241; / miesi&amp;#177;c / rok&lt;br /&gt;\n      &lt;select name=\"dzie&amp;#241;.urodzin\"&gt;\n        &lt;option selected=\"selected\"&gt;\n          1\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          3\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          4\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          5\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          6\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          7\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          8\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          9\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          10\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          11\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          12\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          12\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          13\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          14\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          15\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          16\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          17\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          18\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          19\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          20\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          21\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          22\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          23\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          24\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          25\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          26\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          27\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          28\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          29\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          30\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          31\n        &lt;/option&gt;\n      &lt;/select&gt; &lt;select name=\"miesi&amp;#177;c.urodzin\"&gt;\n        &lt;option selected=\"selected\"&gt;\n          1\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          3\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          4\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          5\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          6\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          7\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          8\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          9\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          10\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          11\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          12\n        &lt;/option&gt;\n      &lt;/select&gt; &lt;select name=\"rok.urodzin\"&gt;\n        &lt;option selected=\"selected\"&gt;\n          1899\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1900\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1901\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1902\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1903\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1904\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1905\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1906\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1907\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1908\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1909\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1910\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1911\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1912\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1913\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1914\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1915\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1916\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1917\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1918\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1919\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1920\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1921\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1922\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1923\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1924\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1925\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1926\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1927\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1928\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1929\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1930\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1931\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1932\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1933\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1934\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1935\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1936\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1937\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1938\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1939\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1940\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1941\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1942\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1943\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1944\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1945\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1946\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1947\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1948\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1949\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1950\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1951\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1952\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1953\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1954\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1955\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1956\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1957\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1958\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1959\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1960\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1961\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1962\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1963\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1964\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1965\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1966\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1967\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1968\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1969\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1970\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1971\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1972\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1973\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1974\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1975\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1976\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1977\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1978\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1979\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1980\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1981\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1982\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1983\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1984\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1985\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1986\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1987\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1988\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1989\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1990\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1991\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1992\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1993\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1994\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1995\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1996\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1997\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1998\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          1999\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2000\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2001\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2002\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2003\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2004\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2005\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2006\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2007\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2008\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2009\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2010\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2011\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2012\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2013\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2014\n        &lt;/option&gt;\n\n        &lt;option&gt;\n          2015\n        &lt;/option&gt;\n      &lt;/select&gt;\n\n      &lt;h3&gt;Podaj adres e-mail:&lt;/h3&gt;Przyk&amp;#179;adowy adres: example@xx.xx&lt;br /&gt;\n      &lt;input name=\"e-mail\" size=\"20\" /&gt; - E-mail&lt;br /&gt;\n      &lt;br /&gt;\n    &lt;/div&gt;\n  &lt;/form&gt;\n  &lt;hr class=\"c1\" color=\"#00000\" size=\"2px\" width=\"99%\" /&gt;\n\n  &lt;h3&gt;Wybierz miejsce:&lt;/h3&gt;\n\n  &lt;div class=\"c2\"&gt;\n    &lt;p&gt;&lt;img src=\"seats.png\" /&gt;&lt;/p&gt;Rz&amp;#177;d &lt;select name=\"rzad\"&gt;\n      &lt;option selected=\"selected\"&gt;\n        1\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        2\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        3\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        4\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        5\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        6\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        7\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        8\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        9\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        10\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        11\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        12\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        12\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        13\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        14\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        15\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        16\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        17\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        18\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        19\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        20\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        21\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        22\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        23\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        24\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        25\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        26\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        27\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        28\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        29\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        30\n      &lt;/option&gt;\n    &lt;/select&gt; Miejsce &lt;select name=\"miejsce\"&gt;\n      &lt;option selected=\"selected\"&gt;\n        A\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        B\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        C\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        D\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        E\n      &lt;/option&gt;\n\n      &lt;option&gt;\n        F\n      &lt;/option&gt;\n    &lt;/select&gt;\n  &lt;/div&gt;\n  &lt;hr class=\"c1\" color=\"#00000\" size=\"2px\" width=\"99%\" /&gt;\n\n  &lt;p&gt;Twoje rezerwacje&lt;/p&gt;\n\n  &lt;div id=\"reservationMade\"&gt;&lt;/div&gt;\n\n  &lt;p&gt;XXXXXXXXXXXXXXX&lt;/p&gt;\n\n  &lt;p&gt;&lt;input value=\"Wr&amp;#243;c do rezerwacji\" type=\"submit\" /&gt;&lt;/p&gt;\n\n  &lt;div class=\"c2\"&gt;\n    &lt;form action=\"https://www.paypal.com/pl/home\"&gt;\n      &lt;h3&gt;Zap&amp;#179;a&amp;#230;:&lt;/h3&gt;&lt;input value=\"Paypal\" onclick=\n      \"window.location.href='https://www.paypal.com/pl/home'\" type=\"button\" /&gt;\n    &lt;/form&gt;\n  &lt;/div&gt;\n  &lt;hr class=\"c1\" color=\"#00000\" size=\"2px\" width=\"99%\" /&gt;\n\n  &lt;p&gt;Zap&amp;#179;acone&lt;/p&gt;\n\n  &lt;p&gt;na MAILA ZOSTA&amp;#163;Y WYS&amp;#163;ANE SZCZEG&amp;#211;&amp;#163;Y REZERWACJI&lt;/p&gt;\n  &lt;hr class=\"c1\" color=\"#00000\" size=\"2px\" width=\"99%\" /&gt;\n\n  &lt;div id=\"ui-datepicker-div\" class=\n  \"ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\"&gt;&lt;/div&gt;\n\n  &lt;div class=\"igtranslator-main-div c3\"&gt;\n    &lt;iframe scrolling=\"no\" class=\"igtranslator-iframe\" src=\"about:blank\" frameborder=\n    \"0\"&gt;&lt;/iframe&gt;\n  &lt;/div&gt;\n\n  &lt;div title=\"Click to Show Translation\" class=\"igtranslator-activator-icon bounceIn c4\"&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>my java</p>\n\n<pre><code>   @Test\n    public void paypal() {\n        driver.findElement(By.xpath(\"//input[@value='Paypal']\")).click();\n\n        System.out.println(\"Current page title is : \" + driver.getTitle() + \", time: \" + System.currentTimeMillis());\n\n    }\n</code></pre>\n\n<p>and I got error:</p>\n\n<pre><code> org.openqa.selenium.NoSuchElementException: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//input[@value='Paypal']\"}\nCommand duration or timeout: 5.10 seconds\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: '2.48.2', revision: '41bccdd', time: '2015-10-09 19:59:12'\nSystem info: host: '471B07N', ip: '192.168.100.184', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_65'\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\nCapabilities [{applicationCacheEnabled=true, rotatable=false, handlesAlerts=true, databaseEnabled=true, version=42.0, platform=WINDOWS, nativeEvents=false, acceptSslCerts=true, webStorageEnabled=true, locationContextEnabled=true, browserName=firefox, takesScreenshot=true, javascriptEnabled=true, cssSelectorsEnabled=true}]\nSession ID: 1f8f5d21-e52d-4b5b-b22e-31e615137579\n*** Element info: {Using=xpath, value=//input[@value='Paypal']}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n    at java.lang.reflect.Constructor.newInstance(Unknown Source)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:206)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:647)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:353)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementByXPath(RemoteWebDriver.java:490)\n    at org.openqa.selenium.By$ByXPath.findElement(By.java:361)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:345)\n    at com.selenium.tests.testSuite1.HomePage.paypal(HomePage.java:27)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:85)\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:639)\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:821)\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1131)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:124)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:108)\n    at org.testng.TestRunner.privateRun(TestRunner.java:773)\n    at org.testng.TestRunner.run(TestRunner.java:623)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:357)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:352)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:310)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:259)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1185)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1110)\n    at org.testng.TestNG.run(TestNG.java:1018)\n    at org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\nCaused by: org.openqa.selenium.NoSuchElementException: Unable to locate element: {\"method\":\"xpath\",\"selector\":\"//input[@value='Paypal']\"}\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: '2.48.2', revision: '41bccdd', time: '2015-10-09 19:59:12'\nSystem info: host: '471B07N', ip: '192.168.100.184', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_65'\nDriver info: driver.version: unknown\n    at &lt;anonymous class&gt;.FirefoxDriver.prototype.findElementInternal_(file:///C:/Users/wojkrz/AppData/Local/Temp/anonymous1649881075161346457webdriver-profile/extensions/fxdriver@googlecode.com/components/driver-component.js:10659)\n    at &lt;anonymous class&gt;.fxdriver.Timer.prototype.setTimeout/&lt;.notify(file:///C:/Users/wojkrz/AppData/Local/Temp/anonymous1649881075161346457webdriver-profile/extensions/fxdriver@googlecode.com/components/driver-component.js:621)\n</code></pre>\n\n<p><strong>Do you have any ideas?</strong></p>\n"},{"tags":["java","xml","spring-boot","jaxb","unmarshalling"],"comments":[{"owner":{"account_id":29176687,"reputation":322,"user_id":22351796,"display_name":"Karsten"},"score":0,"creation_date":1696171037,"post_id":77210611,"comment_id":136116476,"body_markdown":"I am not quite sure but may be XmlType in favor of XmlRootElement is the right choice here.","body":"I am not quite sure but may be XmlType in favor of XmlRootElement is the right choice here."}],"answers":[{"tags":[],"owner":{"account_id":4520978,"reputation":3,"user_id":3674234,"display_name":"JMGRodrigues"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696421008,"creation_date":1696187608,"answer_id":77211950,"question_id":77210611,"body_markdown":"In a Spring Boot application using JAXB for XML serialization/deserialization, the @XmlRootElement(name = &quot;request&quot;) annotation should work as expected to rename the root element of the generated XML. However, if it&#39;s not working as expected, there could be a few reasons to investigate...\r\n\r\nFirst of all, you mentioned that there&#39;s a dependency on javax.xml.rpc-api. This could potentially cause conflicts or interfere with JAXB annotations. JAXB and javax.xml.rpc are two different Java technologies for handling XML. Ensure that the conflicting dependency doesn&#39;t override JAXB annotations or configurations.\r\n\r\nNext I would ensure the JAXB Context Configuration: Make sure that your Spring Boot application has been correctly configured to use JAXB for XML processing. Spring Boot typically configures JAXB automatically, but if you have any custom configurations or if you&#39;ve disabled auto-configuration, ensure that the JAXB context is properly set up.\r\n\r\nFor example, you can configure the JAXB context explicitly by creating a Jaxb2Marshaller bean in your Spring configuration and specifying the package where your JAXB-annotated classes are located, just like this:\r\n\r\n        @Bean\r\n        public Jaxb2Marshaller jaxb2Marshaller() {\r\n            Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n            marshaller.setPackagesToScan(&quot;com.example.package&quot;); // Replace with your package name\r\n            return marshaller;\r\n    }\r\n\r\n\r\n2 more less possible reasons, could be:\r\n\r\n 1. Check the Classpath (correct version of JAXB (jaxb-api and jaxb-impl) is on your classpath. )\r\n 2. Inspect Generated XML (verify that the generated XML indeed contains the &lt;request&gt; element by examining the output or using a\r\n    tool to pretty-print the XML. This will help confirm whether the\r\n    issue is with JAXB annotations or with the receiving end&#39;s\r\n    expectations.)\r\n","title":"JAXB not converting request class to required xml format","body":"<p>In a Spring Boot application using JAXB for XML serialization/deserialization, the @XmlRootElement(name = &quot;request&quot;) annotation should work as expected to rename the root element of the generated XML. However, if it's not working as expected, there could be a few reasons to investigate...</p>\n<p>First of all, you mentioned that there's a dependency on javax.xml.rpc-api. This could potentially cause conflicts or interfere with JAXB annotations. JAXB and javax.xml.rpc are two different Java technologies for handling XML. Ensure that the conflicting dependency doesn't override JAXB annotations or configurations.</p>\n<p>Next I would ensure the JAXB Context Configuration: Make sure that your Spring Boot application has been correctly configured to use JAXB for XML processing. Spring Boot typically configures JAXB automatically, but if you have any custom configurations or if you've disabled auto-configuration, ensure that the JAXB context is properly set up.</p>\n<p>For example, you can configure the JAXB context explicitly by creating a Jaxb2Marshaller bean in your Spring configuration and specifying the package where your JAXB-annotated classes are located, just like this:</p>\n<pre><code>    @Bean\n    public Jaxb2Marshaller jaxb2Marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setPackagesToScan(&quot;com.example.package&quot;); // Replace with your package name\n        return marshaller;\n}\n</code></pre>\n<p>2 more less possible reasons, could be:</p>\n<ol>\n<li>Check the Classpath (correct version of JAXB (jaxb-api and jaxb-impl) is on your classpath. )</li>\n<li>Inspect Generated XML (verify that the generated XML indeed contains the  element by examining the output or using a\ntool to pretty-print the XML. This will help confirm whether the\nissue is with JAXB annotations or with the receiving end's\nexpectations.)</li>\n</ol>\n"}],"owner":{"account_id":9556896,"reputation":1,"user_id":8337850,"display_name":"Saad Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696421008,"creation_date":1696166030,"question_id":77210611,"body_markdown":"I have a springboot module where I am using @XmlRootElement(name=&#39;request&#39;) to rename the xml request it creates for an api rest call, but the code is generating the request with the class name instead of applying xml properties which causes unmarshalling error at the recieving end. Dependency used is jaxb-api version 2.3.1 with java 1.8.\r\n\r\n\r\nOther modules are working fine and they are generating the correct requests with the same code, just wanted to know what could cause JAXB annotations to not work properly. Can it conflict with any other dependency? as there is one javax.xml.rpc-api in this module ","title":"JAXB not converting request class to required xml format","body":"<p>I have a springboot module where I am using @XmlRootElement(name='request') to rename the xml request it creates for an api rest call, but the code is generating the request with the class name instead of applying xml properties which causes unmarshalling error at the recieving end. Dependency used is jaxb-api version 2.3.1 with java 1.8.</p>\n<p>Other modules are working fine and they are generating the correct requests with the same code, just wanted to know what could cause JAXB annotations to not work properly. Can it conflict with any other dependency? as there is one javax.xml.rpc-api in this module</p>\n"},{"tags":["java","spring","postgresql","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1696405615,"post_id":77227139,"comment_id":136146960,"body_markdown":"So, what&#39;s your question?","body":"So, what&#39;s your question?"},{"owner":{"account_id":29593787,"reputation":11,"user_id":22680705,"display_name":"Where is waldo"},"score":0,"creation_date":1696413048,"post_id":77227139,"comment_id":136148533,"body_markdown":"I want to do it without multiset, because the subselect with sum return collection and i need only row","body":"I want to do it without multiset, because the subselect with sum return collection and i need only row"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696420545,"creation_date":1696420545,"answer_id":77229363,"question_id":77227139,"body_markdown":"`MULTISET` is so awesome, people want to use it *everywhere*. But in this particular case, I guess a simple [scalar, correlated subquery][1] will suffice (just like in ordinary SQL)\r\n\r\n\r\n```java\r\nfield(\r\n    select(sum(T_DAILY_DIAGRAM_PERIOD.PRODUCTION))\r\n    .from(T_DAILY_DIAGRAM_PERIOD)\r\n    .where(T_DAILY_DIAGRAM_PERIOD.FK_DAILY_DIAGRAM_REVISION_ID\r\n        .eq(T_DAILY_DIAGRAM_REVISION.ID))\r\n).as(&quot;production&quot;)\r\n```\r\n\r\n\r\nNote that starting from jOOQ 3.19, there&#39;s a new feature called [implicit path correlation][2], which will simplify this sort of subquery by letting you omit the `WHERE` clause for the correlation:\r\n\r\n\r\n```java\r\nfield(\r\n    select(sum(T_DAILY_DIAGRAM_REVISION.tDailyDiagramPeriod().PRODUCTION))\r\n    .from(T_DAILY_DIAGRAM_REVISION.tDailyDiagramPeriod())\r\n).as(&quot;production&quot;)\r\n```\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/scalar-subqueries/\r\n  [2]: https://www.jooq.org/doc/3.19/manual/sql-building/sql-statements/select-statement/implicit-path-correlation/","title":"I want to use Jooq query for getting main informations and sum of subselect","body":"<p><code>MULTISET</code> is so awesome, people want to use it <em>everywhere</em>. But in this particular case, I guess a simple <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/scalar-subqueries/\" rel=\"nofollow noreferrer\">scalar, correlated subquery</a> will suffice (just like in ordinary SQL)</p>\n<pre class=\"lang-java prettyprint-override\"><code>field(\n    select(sum(T_DAILY_DIAGRAM_PERIOD.PRODUCTION))\n    .from(T_DAILY_DIAGRAM_PERIOD)\n    .where(T_DAILY_DIAGRAM_PERIOD.FK_DAILY_DIAGRAM_REVISION_ID\n        .eq(T_DAILY_DIAGRAM_REVISION.ID))\n).as(&quot;production&quot;)\n</code></pre>\n<p>Note that starting from jOOQ 3.19, there's a new feature called <a href=\"https://www.jooq.org/doc/3.19/manual/sql-building/sql-statements/select-statement/implicit-path-correlation/\" rel=\"nofollow noreferrer\">implicit path correlation</a>, which will simplify this sort of subquery by letting you omit the <code>WHERE</code> clause for the correlation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>field(\n    select(sum(T_DAILY_DIAGRAM_REVISION.tDailyDiagramPeriod().PRODUCTION))\n    .from(T_DAILY_DIAGRAM_REVISION.tDailyDiagramPeriod())\n).as(&quot;production&quot;)\n</code></pre>\n"}],"owner":{"account_id":29593787,"reputation":11,"user_id":22680705,"display_name":"Where is waldo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1696420545,"creation_date":1696399793,"question_id":77227139,"body_markdown":"I need to use SUM aggregate function in select statement, without joining and grouping statements. \r\n\r\nHere is part of my code:\r\n\r\n```\r\ndslContext.select(\r\n                T_DAILY_DIAGRAM.DAILY_DIAGRAM_ID.convertFrom(DailyDiagramId::of),\r\n                T_DAILY_DIAGRAM.BALANCING_GROUP_ID.convertFrom(BalancingGroupId::of),\r\n                T_DAILY_DIAGRAM.DIAGRAM_DATE,\r\n                row(\r\n                        T_DAILY_DIAGRAM_REVISION.DAILY_DIAGRAM_REVISION_ID.convertFrom(DailyDiagramRevisionId::of),\r\n                        T_DAILY_DIAGRAM_REVISION.REVISION_NUMBER,\r\n                        T_DAILY_DIAGRAM_REVISION.PROPAGATION_STATUS.convertFrom(DailyDiagramRevisionPropagationStatus::valueOf),\r\n                        multiset(\r\n                               select(\r\n                                       sum(T_DAILY_DIAGRAM_PERIOD.PRODUCTION).as(&quot;production&quot;)\r\n                               ).from(T_DAILY_DIAGRAM_PERIOD).where(T_DAILY_DIAGRAM_PERIOD.FK_DAILY_DIAGRAM_REVISION_ID.eq(T_DAILY_DIAGRAM_REVISION.ID))\r\n                        ).convertFrom(p -&gt; p == null || p.isEmpty() ? null : (BigDecimal) p.getValue(0, &quot;production&quot;)),\r\n                        row(\r\n                                T_DAILY_DIAGRAM_REVISION.CREATED_AT,\r\n                                T_DAILY_DIAGRAM_REVISION.CREATED_BY,\r\n                                T_DAILY_DIAGRAM_REVISION.UPDATED_AT,\r\n                                T_DAILY_DIAGRAM_REVISION.UPDATED_BY\r\n                        ).convertFrom(Records.mapping(MetadataResponse::newWithoutVersion))\r\n                ).convertFrom(Records.mapping(DailyDiagramRevisionListResponse::new)),\r\n                row(\r\n                        T_DAILY_DIAGRAM.CREATED_AT,\r\n                        T_DAILY_DIAGRAM.CREATED_BY,\r\n                        T_DAILY_DIAGRAM.UPDATED_AT,\r\n                        T_DAILY_DIAGRAM.UPDATED_BY,\r\n                        T_DAILY_DIAGRAM.VERSION\r\n                ).convertFrom(Records.mapping(MetadataResponse::newWithoutCA))\r\n        )\r\n                .from(T_DAILY_DIAGRAM)\r\n                .join(T_DAILY_DIAGRAM_REVISION).on(T_DAILY_DIAGRAM_REVISION.FK_DAILY_DIAGRAM_ID.eq(T_DAILY_DIAGRAM.ID).and(T_DAILY_DIAGRAM_REVISION.CLOSING_TIME.isNull()))\r\n                .where(\r\n                        T_DAILY_DIAGRAM.BALANCING_GROUP_ID.eq(balancingGroupId.id().get())\r\n                        .and(T_DAILY_DIAGRAM.DIAGRAM_DATE.between(startDate, endDate)))\r\n                .fetch(Records.mapping(DailyDiagramListResponse::new));\r\n```\r\n\r\nThis solution works for me, but it is ugly solution.","title":"I want to use Jooq query for getting main informations and sum of subselect","body":"<p>I need to use SUM aggregate function in select statement, without joining and grouping statements.</p>\n<p>Here is part of my code:</p>\n<pre><code>dslContext.select(\n                T_DAILY_DIAGRAM.DAILY_DIAGRAM_ID.convertFrom(DailyDiagramId::of),\n                T_DAILY_DIAGRAM.BALANCING_GROUP_ID.convertFrom(BalancingGroupId::of),\n                T_DAILY_DIAGRAM.DIAGRAM_DATE,\n                row(\n                        T_DAILY_DIAGRAM_REVISION.DAILY_DIAGRAM_REVISION_ID.convertFrom(DailyDiagramRevisionId::of),\n                        T_DAILY_DIAGRAM_REVISION.REVISION_NUMBER,\n                        T_DAILY_DIAGRAM_REVISION.PROPAGATION_STATUS.convertFrom(DailyDiagramRevisionPropagationStatus::valueOf),\n                        multiset(\n                               select(\n                                       sum(T_DAILY_DIAGRAM_PERIOD.PRODUCTION).as(&quot;production&quot;)\n                               ).from(T_DAILY_DIAGRAM_PERIOD).where(T_DAILY_DIAGRAM_PERIOD.FK_DAILY_DIAGRAM_REVISION_ID.eq(T_DAILY_DIAGRAM_REVISION.ID))\n                        ).convertFrom(p -&gt; p == null || p.isEmpty() ? null : (BigDecimal) p.getValue(0, &quot;production&quot;)),\n                        row(\n                                T_DAILY_DIAGRAM_REVISION.CREATED_AT,\n                                T_DAILY_DIAGRAM_REVISION.CREATED_BY,\n                                T_DAILY_DIAGRAM_REVISION.UPDATED_AT,\n                                T_DAILY_DIAGRAM_REVISION.UPDATED_BY\n                        ).convertFrom(Records.mapping(MetadataResponse::newWithoutVersion))\n                ).convertFrom(Records.mapping(DailyDiagramRevisionListResponse::new)),\n                row(\n                        T_DAILY_DIAGRAM.CREATED_AT,\n                        T_DAILY_DIAGRAM.CREATED_BY,\n                        T_DAILY_DIAGRAM.UPDATED_AT,\n                        T_DAILY_DIAGRAM.UPDATED_BY,\n                        T_DAILY_DIAGRAM.VERSION\n                ).convertFrom(Records.mapping(MetadataResponse::newWithoutCA))\n        )\n                .from(T_DAILY_DIAGRAM)\n                .join(T_DAILY_DIAGRAM_REVISION).on(T_DAILY_DIAGRAM_REVISION.FK_DAILY_DIAGRAM_ID.eq(T_DAILY_DIAGRAM.ID).and(T_DAILY_DIAGRAM_REVISION.CLOSING_TIME.isNull()))\n                .where(\n                        T_DAILY_DIAGRAM.BALANCING_GROUP_ID.eq(balancingGroupId.id().get())\n                        .and(T_DAILY_DIAGRAM.DIAGRAM_DATE.between(startDate, endDate)))\n                .fetch(Records.mapping(DailyDiagramListResponse::new));\n</code></pre>\n<p>This solution works for me, but it is ugly solution.</p>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver","selenium-firefoxdriver"],"answers":[{"tags":[],"owner":{"account_id":1946872,"reputation":1497,"user_id":1751801,"accept_rate":60,"display_name":"CVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696419827,"creation_date":1696419827,"answer_id":77229287,"question_id":77228792,"body_markdown":"This happens when the element you want to click has an overlay which is visible or invisible. The overlay would be stacked on top of other elements by the app developers. To click the button find the overlay and click at the location of the button. Note: Sometimes the overlay might just be the element above the element you want to interact with. If that is the case simply use that element XPath to click.\r\n\r\nHope this makes sense.","title":"getting ElementClickInterceptedException in the firefox browser","body":"<p>This happens when the element you want to click has an overlay which is visible or invisible. The overlay would be stacked on top of other elements by the app developers. To click the button find the overlay and click at the location of the button. Note: Sometimes the overlay might just be the element above the element you want to interact with. If that is the case simply use that element XPath to click.</p>\n<p>Hope this makes sense.</p>\n"}],"owner":{"account_id":22623910,"reputation":5,"user_id":16802243,"display_name":"vivek.raji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696419827,"creation_date":1696415449,"question_id":77228792,"body_markdown":"```java\r\npublic void clickRecentRuns() {\r\n\t\t   \r\n       WebDriverWait wait = new WebDriverWait(browser.getDriver(), 60);\r\n       \r\n       wait.until(ExpectedConditions.attributeContains(By.xpath(&quot;//h4[@class=&#39;media-box-heading ng-binding&#39;]&quot;), &quot;class&quot;, &quot;media-box-heading ng-binding&quot;));\r\n\r\n       WebElement recentRunsButton = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(homePagePropertyParser\r\n               .getPropertyValue(FilePathConstants.FALCON_LOCATOR_FILE_PATH, LocatorKeyContainer.RECENT_RUNS_BUTTON))));\r\n       recentRunsButton.click();\r\n}\r\n```\r\nThis is my method to click one button on the sidebar which is recentrun button in the home page. I have tried using all the wait conditions to click the recent run button after the page loaded but the application is not responding for those wait commands and directly clicking the button before the UI loads and i am getting landed on the recents run page. atlast i got this attributecontains solution to wait for the UI loaded and click the recents button the home page. this code is working fine in the chrome and egde browser but while i am running in the firefox browser i am facing Element Click Intercepted Exception error.\r\n\r\nNote : I have used javascript executor method to click as well but it is directly landing in the recent run page. I need to land on home page first and then click the element. \r\n\r\nI have tried almost all the wait conditions but it is not responding and i should not use Thread.sleep","title":"getting ElementClickInterceptedException in the firefox browser","body":"<pre class=\"lang-java prettyprint-override\"><code>public void clickRecentRuns() {\n           \n       WebDriverWait wait = new WebDriverWait(browser.getDriver(), 60);\n       \n       wait.until(ExpectedConditions.attributeContains(By.xpath(&quot;//h4[@class='media-box-heading ng-binding']&quot;), &quot;class&quot;, &quot;media-box-heading ng-binding&quot;));\n\n       WebElement recentRunsButton = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(homePagePropertyParser\n               .getPropertyValue(FilePathConstants.FALCON_LOCATOR_FILE_PATH, LocatorKeyContainer.RECENT_RUNS_BUTTON))));\n       recentRunsButton.click();\n}\n</code></pre>\n<p>This is my method to click one button on the sidebar which is recentrun button in the home page. I have tried using all the wait conditions to click the recent run button after the page loaded but the application is not responding for those wait commands and directly clicking the button before the UI loads and i am getting landed on the recents run page. atlast i got this attributecontains solution to wait for the UI loaded and click the recents button the home page. this code is working fine in the chrome and egde browser but while i am running in the firefox browser i am facing Element Click Intercepted Exception error.</p>\n<p>Note : I have used javascript executor method to click as well but it is directly landing in the recent run page. I need to land on home page first and then click the element.</p>\n<p>I have tried almost all the wait conditions but it is not responding and i should not use Thread.sleep</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":28107766,"reputation":1,"user_id":21476098,"display_name":"Saurabh Sonawane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696419399,"creation_date":1696416973,"question_id":77228965,"body_markdown":"```html\r\n&lt;input aria-invalid=&quot;false&quot; autocomplete=&quot;off&quot; id=&quot;returnReason&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-b52kj1&quot; aria-autocomplete=&quot;list&quot; aria-expanded=&quot;false&quot; autocapitalize=&quot;none&quot; spellcheck=&quot;false&quot; role=&quot;combobox&quot; value=&quot;&quot;&gt;\r\n```\r\nThis is my webelement for a dropdown but only this tag element changes when we select the dropdown element no any new tag or anything generates then how we can select a first element of a dropdown.\r\naria controls are changing only like &quot;aria-activedescendentoption-1&quot;.\r\nplease help me with this.\r\n\r\ni tried a ui li list but it does not have ui li tag.","title":"Dropdown Not having list tag or select tag only input tag and tag is dynamically changing after dropdown appears then how to select dropdown","body":"<pre class=\"lang-html prettyprint-override\"><code>&lt;input aria-invalid=&quot;false&quot; autocomplete=&quot;off&quot; id=&quot;returnReason&quot; type=&quot;text&quot; class=&quot;MuiInputBase-input MuiOutlinedInput-input MuiInputBase-inputSizeSmall MuiInputBase-inputAdornedEnd MuiAutocomplete-input MuiAutocomplete-inputFocused css-b52kj1&quot; aria-autocomplete=&quot;list&quot; aria-expanded=&quot;false&quot; autocapitalize=&quot;none&quot; spellcheck=&quot;false&quot; role=&quot;combobox&quot; value=&quot;&quot;&gt;\n</code></pre>\n<p>This is my webelement for a dropdown but only this tag element changes when we select the dropdown element no any new tag or anything generates then how we can select a first element of a dropdown.\naria controls are changing only like &quot;aria-activedescendentoption-1&quot;.\nplease help me with this.</p>\n<p>i tried a ui li list but it does not have ui li tag.</p>\n"},{"tags":["java","docker","elasticsearch"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696252329,"post_id":77215253,"comment_id":136125418,"body_markdown":"I don&#39;t think you need the `--platform` flag: https://stackoverflow.com/a/65994297/4604579","body":"I don&#39;t think you need the <code>--platform</code> flag: <a href=\"https://stackoverflow.com/a/65994297/4604579\">stackoverflow.com/a/65994297/4604579</a>"},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696252799,"post_id":77215253,"comment_id":136125494,"body_markdown":"Without or with platform I get the same result, platform was only another attempt.","body":"Without or with platform I get the same result, platform was only another attempt."},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696253545,"post_id":77215253,"comment_id":136125636,"body_markdown":"Just out of curiosity, why the antiquated 7.10.2 by the way?","body":"Just out of curiosity, why the antiquated 7.10.2 by the way?"},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696256224,"post_id":77215253,"comment_id":136126207,"body_markdown":"Just because this was another attempt from the stack. New versions give the same result btw.","body":"Just because this was another attempt from the stack. New versions give the same result btw."},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696357934,"post_id":77215253,"comment_id":136141714,"body_markdown":"Any thoughts? Because I&#39;ve already tried 10+ different versions of elastic search and still get always the same error. My jdk version is 17.0.8","body":"Any thoughts? Because I&#39;ve already tried 10+ different versions of elastic search and still get always the same error. My jdk version is 17.0.8"},{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696398555,"post_id":77215253,"comment_id":136145791,"body_markdown":"What version of Docker do you have?","body":"What version of Docker do you have?"},{"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"score":0,"creation_date":1696418974,"post_id":77215253,"comment_id":136149748,"body_markdown":"Have already solved by removing check from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings","body":"Have already solved by removing check from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings"}],"answers":[{"tags":[],"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696419000,"creation_date":1696419000,"answer_id":77229195,"question_id":77215253,"body_markdown":"Solved the issue by removing checkmark from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings","title":"Cannot start elasticsearch image M1 Apple","body":"<p>Solved the issue by removing checkmark from Use Rosetta for x86/amd64 emulation on Apple Silicon in Docker settings</p>\n"}],"owner":{"account_id":17107184,"reputation":314,"user_id":12378953,"display_name":"MaksimL"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77229195,"answer_count":1,"score":0,"last_activity_date":1696419000,"creation_date":1696246343,"question_id":77215253,"body_markdown":"Cannot start Elastic search on Apple M1. I have tried all suggestions I&#39;ve found on stackoverflow. Moreover, when I go to elasticsearch folder in the path **/usr/share/elasticsearch/jdk/bin/java** it does not exist.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ASqXL.png","title":"Cannot start elasticsearch image M1 Apple","body":"<p>Cannot start Elastic search on Apple M1. I have tried all suggestions I've found on stackoverflow. Moreover, when I go to elasticsearch folder in the path <strong>/usr/share/elasticsearch/jdk/bin/java</strong> it does not exist.</p>\n<p><a href=\"https://i.stack.imgur.com/ASqXL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ASqXL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache-kafka","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1696418986,"post_id":77228313,"comment_id":136149752,"body_markdown":"I suggest you add more logging and debug further. How do you know the producer actually sent anything to Kafka for the consumer to read? Simply calling producer send function doesn&#39;t actually make an immediate request to Kafka. Where is StreamBridge defined or injected from? Have you tried starting with [unit tests](https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#spring-cloud-stream-overview-introducing) rather than directly using external systems like Kafka to verify your code works?","body":"I suggest you add more logging and debug further. How do you know the producer actually sent anything to Kafka for the consumer to read? Simply calling producer send function doesn&#39;t actually make an immediate request to Kafka. Where is StreamBridge defined or injected from? Have you tried starting with <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#spring-cloud-stream-overview-introducing\" rel=\"nofollow noreferrer\">unit tests</a> rather than directly using external systems like Kafka to verify your code works?"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1696426253,"post_id":77228313,"comment_id":136151276,"body_markdown":"Also, consumer bindings without a `group` have `auto.offset.reset` set to `latest` by default so, if the record is already in the topic when the consumer it started, it won&#39;t be received. Add `group` if you want to read existing records and track comitted offsets for the next time the consumer is started.","body":"Also, consumer bindings without a <code>group</code> have <code>auto.offset.reset</code> set to <code>latest</code> by default so, if the record is already in the topic when the consumer it started, it won&#39;t be received. Add <code>group</code> if you want to read existing records and track comitted offsets for the next time the consumer is started."}],"owner":{"account_id":27767868,"reputation":1,"user_id":21198837,"display_name":"Mohamed Sid Abdalla Rgagde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696418802,"creation_date":1696411339,"question_id":77228313,"body_markdown":"I am working on a Spring Cloud Stream application that utilizes Apache Kafka for messaging. In the application, I have set up a REST API to publish messages to a Kafka topic. However, the consumer doesn&#39;t seem to receive the messages. I am using Spring Cloud Stream&#39;s **`StreamBridge`** to send messages.\r\n\r\n```\r\nimport lombok.AllArgsConstructor;\r\nimport ma.enset.KafkaSpringCloudStream.entity.PageEvent;\r\nimport org.springframework.cloud.stream.function.StreamBridge;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport java.util.Date;\r\nimport java.util.Random;\r\n@RestController\r\n@AllArgsConstructor\r\npublic class PageEventRestController {\r\n    private StreamBridge streamBridge;\r\n    @GetMapping(&quot;/publish/{topic}/{name}&quot;)\r\n    private PageEvent publish(@PathVariable(&quot;topic&quot;) String topic,@PathVariable(&quot;name&quot;) String name){\r\n        PageEvent pageEvent = PageEvent.builder()\r\n                .name(name)\r\n                .user(Math.random()&gt;0.5 ? &quot;User1&quot; : &quot;User2&quot;)\r\n                .date(new Date((long) (Math.random()*System.currentTimeMillis())))\r\n                .duration(new Random().nextInt(9001))\r\n                .build();\r\n        streamBridge.send(topic,pageEvent);\r\n        return pageEvent;\r\n    }\r\n}\r\n```\r\n```\r\n@Service\r\npublic class PageEventService {\r\n    @Bean\r\n    public Consumer&lt;PageEvent&gt; pageEventConsumer(){\r\n\r\n        return (input) -&gt; {\r\n            System.out.println(&quot;********************************&quot;);\r\n            System.out.println(input.toString());\r\n            System.out.println(&quot;********************************&quot;);\r\n        };\r\n    }\r\n}\r\n```\r\n```\r\nspring.application.name=app\r\nspring.cloud.stream.bindings.pageEventConsumer-in-0.destination=testTopic\r\n```","title":"Unable to Receive Kafka Messages in Spring Cloud Stream Consumer with Java 17","body":"<p>I am working on a Spring Cloud Stream application that utilizes Apache Kafka for messaging. In the application, I have set up a REST API to publish messages to a Kafka topic. However, the consumer doesn't seem to receive the messages. I am using Spring Cloud Stream's <strong><code>StreamBridge</code></strong> to send messages.</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport ma.enset.KafkaSpringCloudStream.entity.PageEvent;\nimport org.springframework.cloud.stream.function.StreamBridge;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.util.Date;\nimport java.util.Random;\n@RestController\n@AllArgsConstructor\npublic class PageEventRestController {\n    private StreamBridge streamBridge;\n    @GetMapping(&quot;/publish/{topic}/{name}&quot;)\n    private PageEvent publish(@PathVariable(&quot;topic&quot;) String topic,@PathVariable(&quot;name&quot;) String name){\n        PageEvent pageEvent = PageEvent.builder()\n                .name(name)\n                .user(Math.random()&gt;0.5 ? &quot;User1&quot; : &quot;User2&quot;)\n                .date(new Date((long) (Math.random()*System.currentTimeMillis())))\n                .duration(new Random().nextInt(9001))\n                .build();\n        streamBridge.send(topic,pageEvent);\n        return pageEvent;\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class PageEventService {\n    @Bean\n    public Consumer&lt;PageEvent&gt; pageEventConsumer(){\n\n        return (input) -&gt; {\n            System.out.println(&quot;********************************&quot;);\n            System.out.println(input.toString());\n            System.out.println(&quot;********************************&quot;);\n        };\n    }\n}\n</code></pre>\n<pre><code>spring.application.name=app\nspring.cloud.stream.bindings.pageEventConsumer-in-0.destination=testTopic\n</code></pre>\n"},{"tags":["java","spring-boot","maven","contrast"],"owner":{"account_id":25130644,"reputation":1,"user_id":18977942,"display_name":"Yehia Said"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696418729,"creation_date":1674143488,"question_id":75174869,"body_markdown":"    ERROR - Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\r\n    java.lang.Throwable: Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\r\n    \tat com.contrastsecurity.agent.plugins.security.q.a(OSGiFriendlyClassWriter.java:145) ~[contrast.jar:?]\r\n    \tat com.contrastsecurity.agent.plugins.security.q.getCommonSuperClass(OSGiFriendlyClassWriter.java:88) ~[contrast.jar:?]\r\n\r\nI have tried to re-compile the files, and re-build the `xml` files. Not sure how to go about fixing it. The `xml` file for the `maven` project is below\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Dynamic-Scan-Demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Dynamic-Scan-Demo&lt;/name&gt;\r\n\t&lt;description&gt;Contrast Scan Demo&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n  \t\t\t&lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\r\n  \t\t\t&lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\r\n  \t\t\t&lt;version&gt;3.6.6.9195&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n \t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.17.0&lt;/version&gt;\r\n    \t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n      \t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n     \t\t\t\t\t&lt;goals&gt;\r\n       \t\t\t\t\t &lt;goal&gt;copy&lt;/goal&gt;\r\n      \t\t\t\t\t&lt;/goals&gt;\r\n      \t\t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t&lt;artifactItems&gt;\r\n          \t\t\t\t\t\t&lt;artifactItem&gt;\r\n            \t\t\t\t\t\t&lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\r\n            \t\t\t\t\t\t&lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\r\n            \t\t\t\t\t\t&lt;version&gt;${contrast.version}&lt;/version&gt;\r\n          \t\t\t\t\t\t&lt;/artifactItem&gt;\r\n        \t\t\t\t\t&lt;/artifactItems&gt;\r\n        \t\t\t\t\t&lt;stripVersion&gt;true&lt;/stripVersion&gt;\r\n      \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n  \t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n","title":"Error in Contrast Logs when running Spring Boot Application","body":"<pre><code>ERROR - Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\njava.lang.Throwable: Common ancestor discovery failed - Unable to find class file org/apache/logging/log4j/core/config/composite/CompositeConfiguration using class loader org.springframework.boot.loader.LaunchedURLClassLoader@2fee69a1\n    at com.contrastsecurity.agent.plugins.security.q.a(OSGiFriendlyClassWriter.java:145) ~[contrast.jar:?]\n    at com.contrastsecurity.agent.plugins.security.q.getCommonSuperClass(OSGiFriendlyClassWriter.java:88) ~[contrast.jar:?]\n</code></pre>\n<p>I have tried to re-compile the files, and re-build the <code>xml</code> files. Not sure how to go about fixing it. The <code>xml</code> file for the <code>maven</code> project is below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Dynamic-Scan-Demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Dynamic-Scan-Demo&lt;/name&gt;\n    &lt;description&gt;Contrast Scan Demo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\n            &lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\n            &lt;version&gt;3.6.6.9195&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                         &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;com.contrastsecurity&lt;/groupId&gt;\n                                    &lt;artifactId&gt;contrast-agent&lt;/artifactId&gt;\n                                    &lt;version&gt;${contrast.version}&lt;/version&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                            &lt;stripVersion&gt;true&lt;/stripVersion&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","spring","maven","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8941700,"reputation":19,"user_id":6670490,"display_name":"dphung duy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492269472,"creation_date":1492269472,"answer_id":43427732,"question_id":43426244,"body_markdown":"This line is root cause of your problem:\r\n&gt;[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n\r\nI think it come from your maven setting or java version in commandline.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>This line is root cause of your problem:</p>\n\n<blockquote>\n  <p>[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details</p>\n</blockquote>\n\n<p>I think it come from your maven setting or java version in commandline.</p>\n"},{"tags":[],"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492270984,"creation_date":1492270984,"answer_id":43428014,"question_id":43426244,"body_markdown":"I re-run using maven command with -X parameters so it will turn on the debug logging. \r\n\r\nThen the error got a clearer error message\r\n\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model\r\n    [FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\spring-jdbc\\4.3.7.RELEASE\\spring-jdbc-4.3.7.RELEASE.pom: processing instruction can not have PITarget with reserveld xml name (position: END_TAG seen ...&lt;/dependencies&gt;\\n&lt;/project&gt;\\n&lt;?xml ... @108:7)  @ line 108, column 7\r\n    \r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.jboss:jandex:2.0.0.Final\r\n    [FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom: only whitespace content allowed before start tag and not t (position: START_DOCUMENT seen t... @1:1)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom, line 1, column 1\r\n    \r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.springframework.data:spring-data-jpa:1.11.1.RELEASE\r\n    [FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom: start tag not allowed in epilog but got s (position: END_TAG seen ...&lt;/pluginRepositories&gt;\\n\\n&lt;/project&gt;\\n\\t\\t&lt;s... @899:5)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom, line 899, column 5\r\n\r\nI delete the entire folder, run the application using command line, and it will redownload all pom and jar that needed. Application now can run normally from command line.\r\n","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>I re-run using maven command with -X parameters so it will turn on the debug logging. </p>\n\n<p>Then the error got a clearer error message</p>\n\n<pre><code>[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model\n[FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\spring-jdbc\\4.3.7.RELEASE\\spring-jdbc-4.3.7.RELEASE.pom: processing instruction can not have PITarget with reserveld xml name (position: END_TAG seen ...&lt;/dependencies&gt;\\n&lt;/project&gt;\\n&lt;?xml ... @108:7)  @ line 108, column 7\n\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.jboss:jandex:2.0.0.Final\n[FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom: only whitespace content allowed before start tag and not t (position: START_DOCUMENT seen t... @1:1)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\jboss\\jboss-parent\\12\\jboss-parent-12.pom, line 1, column 1\n\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available: 1 problem was encountered while building the effective model for org.springframework.data:spring-data-jpa:1.11.1.RELEASE\n[FATAL] Non-parseable POM C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom: start tag not allowed in epilog but got s (position: END_TAG seen ...&lt;/pluginRepositories&gt;\\n\\n&lt;/project&gt;\\n\\t\\t&lt;s... @899:5)  @ C:\\Users\\RondoDell\\.m2\\repository\\org\\springframework\\data\\build\\spring-data-parent\\1.9.1.RELEASE\\spring-data-parent-1.9.1.RELEASE.pom, line 899, column 5\n</code></pre>\n\n<p>I delete the entire folder, run the application using command line, and it will redownload all pom and jar that needed. Application now can run normally from command line.</p>\n"},{"tags":[],"owner":{"display_name":"user1024314"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492276338,"creation_date":1492276338,"answer_id":43428915,"question_id":43426244,"body_markdown":"It looks like you&#39;ve got a bad download of the following poms:\r\n\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n\r\nI&#39;ve seen this happen when Maven ends up downloading an HTML error page instead of the artifact. You might try deleting your local Maven Repository at `~/.m2/repository` and then build from the command-line.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>It looks like you've got a bad download of the following poms:</p>\n\n<pre><code>[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n</code></pre>\n\n<p>I've seen this happen when Maven ends up downloading an HTML error page instead of the artifact. You might try deleting your local Maven Repository at <code>~/.m2/repository</code> and then build from the command-line.</p>\n"},{"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1492278282,"creation_date":1492278282,"answer_id":43429287,"question_id":43426244,"body_markdown":"you have to delete .m2 folder and change the version of dependencies and retry to update maven project.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>you have to delete .m2 folder and change the version of dependencies and retry to update maven project.</p>\n"},{"tags":[],"owner":{"account_id":15998328,"reputation":677,"user_id":11545736,"display_name":"RudyD"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571496050,"creation_date":1571496050,"answer_id":58464800,"question_id":43426244,"body_markdown":"In my case I had the dependency twice:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAfter removing the second one, as I needed it outside of test, the errors disappeared.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>In my case I had the dependency twice:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After removing the second one, as I needed it outside of test, the errors disappeared.</p>\n"},{"tags":[],"owner":{"account_id":18659904,"reputation":81,"user_id":13601366,"display_name":"Đ&#224;o Tuy&#234;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666322130,"creation_date":1666322082,"answer_id":74148402,"question_id":43426244,"body_markdown":"sometime when you switch between two branch, you can meet this error. you just switch terminal tab in bottom IDE then run &quot;mvn clean&quot;.","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>sometime when you switch between two branch, you can meet this error. you just switch terminal tab in bottom IDE then run &quot;mvn clean&quot;.</p>\n"},{"tags":[],"owner":{"account_id":20166340,"reputation":61,"user_id":14790196,"display_name":"dteodoro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696418657,"creation_date":1696418657,"answer_id":77229153,"question_id":43426244,"body_markdown":"If someone has been experiencing problems with the Specifications class, it has changed.\r\n\r\nSpecifications is now Specification without the &#39;S&#39;.\r\n\r\n   \r\n    wrong:  import org.springframework.data.jpa.domain.Specifications;\r\n    correct: import org.springframework.data.jpa.domain.Specification;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.16&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>If someone has been experiencing problems with the Specifications class, it has changed.</p>\n<p>Specifications is now Specification without the 'S'.</p>\n<pre><code>wrong:  import org.springframework.data.jpa.domain.Specifications;\ncorrect: import org.springframework.data.jpa.domain.Specification;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;2.7.16&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9182825,"reputation":434,"user_id":6826107,"accept_rate":0,"display_name":"cumibulat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50103,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":7,"score":6,"last_activity_date":1696418657,"creation_date":1492260389,"question_id":43426244,"body_markdown":"I have a lil problem with spring boot + jpa. I have add the dependency to the POM.xml, i can run it normally from spring tool suite (run as spring boot application). But when i run from command line &quot;mvn spring-boot:run&quot; it will throws error. \r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building THA 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] &gt;&gt;&gt; spring-boot-maven-plugin:1.5.2.RELEASE:run (default-cli) &gt; test-compile @ THA &gt;&gt;&gt;\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ THA ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 2 resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ THA ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 5 source files to D:\\RondoWare\\Programming\\SpringBoot\\workspace_3.8.3\\THA\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\r\n      symbol: class CrudRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\r\n      symbol:   method save(com.rondox.sb.th.model.ProductTypes)\r\n      location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\r\n      symbol:   method findAll()\r\n      location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [INFO] 4 errors\r\n    [INFO] -------------------------------------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.795 s\r\n    [INFO] Finished at: 2017-04-15T19:37:52+07:00\r\n    [INFO] Final Memory: 26M/267M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project THA: Compilation failure: Compilation failure:\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\r\n    [ERROR]   symbol: class CrudRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\r\n    [ERROR]   symbol:   method save(com.rondox.sb.th.model.ProductTypes)\r\n    [ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\r\n    [ERROR]   symbol:   method findAll()\r\n    [ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nmy pom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.rondox.sb.th&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;THA&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;THA&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JPA Data (We are going to use Repositories, Entities, Hibernate, etc...) --&gt;\r\n     \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;            \r\n            &lt;/dependency&gt;\r\n          \r\n    \t\t &lt;!----&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n             \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nmy dependency tree :\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building THA 0.0.1-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\r\n    [INFO]\r\n    [INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ THA ---\r\n    [INFO] com.rondox.sb.th:THA:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.11:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.11:compile\r\n    [INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.24:compile\r\n    [INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.24:compile\r\n    [INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.24:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-web:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.11:compile\r\n    [INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.11:compile\r\n    [INFO] |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.11:compile\r\n    [INFO] |  |  +- org.hibernate:hibernate-validator:jar:5.3.4.Final:compile\r\n    [INFO] |  |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] |  |  |  \\- com.fasterxml:classmate:jar:1.3.3:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.7:compile\r\n    [INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.0:compile\r\n    [INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.7:compile\r\n    [INFO] |  |  +- org.springframework:spring-web:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework:spring-beans:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-webmvc:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |     \\- org.springframework:spring-expression:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  +- org.thymeleaf:thymeleaf-spring4:jar:2.1.5.RELEASE:compile\r\n    [INFO] |  |  +- org.thymeleaf:thymeleaf:jar:2.1.5.RELEASE:compile\r\n    [INFO] |  |  |  +- ognl:ognl:jar:3.0.8:compile\r\n    [INFO] |  |  |  \\- org.unbescape:unbescape:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.24:compile\r\n    [INFO] |  \\- nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:1.4.0:compile\r\n    [INFO] |     \\- org.codehaus.groovy:groovy:jar:2.4.9:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.9:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.5.2.RELEASE:compile\r\n    [INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.11:compile\r\n    [INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.11:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.7.RELEASE:compile\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.0.12.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\r\n    [INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n    [INFO] |  |  +- org.javassist:javassist:jar:3.21.0-GA:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\r\n    [INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\r\n    [INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.12.Final:compile\r\n    [INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:4.3.7.RELEASE:compile\r\n    [INFO] +- mysql:mysql-connector-java:jar:5.1.41:compile\r\n    [INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.5.2.RELEASE:test\r\n    [INFO]    +- org.springframework.boot:spring-boot-test:jar:1.5.2.RELEASE:test\r\n    [INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.5.2.RELEASE:test\r\n    [INFO]    +- com.jayway.jsonpath:json-path:jar:2.2.0:test\r\n    [INFO]    |  \\- net.minidev:json-smart:jar:2.2.1:test\r\n    [INFO]    |     \\- net.minidev:accessors-smart:jar:1.1:test\r\n    [INFO]    |        \\- org.ow2.asm:asm:jar:5.0.3:test\r\n    [INFO]    +- junit:junit:jar:4.12:test\r\n    [INFO]    +- org.assertj:assertj-core:jar:2.6.0:test\r\n    [INFO]    +- org.mockito:mockito-core:jar:1.10.19:test\r\n    [INFO]    |  \\- org.objenesis:objenesis:jar:2.1:test\r\n    [INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:test\r\n    [INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:test\r\n    [INFO]    +- org.skyscreamer:jsonassert:jar:1.4.0:test\r\n    [INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO]    +- org.springframework:spring-core:jar:4.3.7.RELEASE:compile\r\n    [INFO]    \\- org.springframework:spring-test:jar:4.3.7.RELEASE:test\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 2.661 s\r\n    [INFO] Finished at: 2017-04-15T19:44:05+07:00\r\n    [INFO] Final Memory: 22M/309M\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nIs there any special parameter should i pass when i run the application from command line ? \r\nIt&#39;s just simple application and the function is work as i expected when i run from STS, but i just want to have a better understanding if the STS &amp; command line have difference parameter when run the application. \r\n","title":"package org.springframework.data.repository does not exist spring boot jpa","body":"<p>I have a lil problem with spring boot + jpa. I have add the dependency to the POM.xml, i can run it normally from spring tool suite (run as spring boot application). But when i run from command line \"mvn spring-boot:run\" it will throws error. </p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building THA 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; spring-boot-maven-plugin:1.5.2.RELEASE:run (default-cli) &gt; test-compile @ THA &gt;&gt;&gt;\n[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ THA ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 2 resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ THA ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 5 source files to D:\\RondoWare\\Programming\\SpringBoot\\workspace_3.8.3\\THA\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\n  symbol: class CrudRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\n  symbol:   method save(com.rondox.sb.th.model.ProductTypes)\n  location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\n  symbol:   method findAll()\n  location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[INFO] 4 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.795 s\n[INFO] Finished at: 2017-04-15T19:37:52+07:00\n[INFO] Final Memory: 26M/267M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project THA: Compilation failure: Compilation failure:\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[3,43] package org.springframework.data.repository does not exist\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/repository/ProductTypesRepository.java:[7,49] cannot find symbol\n[ERROR]   symbol: class CrudRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[29,39] cannot find symbol\n[ERROR]   symbol:   method save(com.rondox.sb.th.model.ProductTypes)\n[ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[ERROR] /D:/RondoWare/Programming/SpringBoot/workspace_3.8.3/THA/src/main/java/com/rondox/sb/th/controller/ProductTypeController.java:[36,46] cannot find symbol\n[ERROR]   symbol:   method findAll()\n[ERROR]   location: variable productTypesRepository of type com.rondox.sb.th.repository.ProductTypesRepository\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>my pom.xml :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.rondox.sb.th&lt;/groupId&gt;\n    &lt;artifactId&gt;THA&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;THA&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JPA Data (We are going to use Repositories, Entities, Hibernate, etc...) --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;            \n        &lt;/dependency&gt;\n\n         &lt;!----&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>my dependency tree :</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building THA 0.0.1-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[WARNING] The POM for org.springframework:spring-jdbc:jar:4.3.7.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.jboss:jandex:jar:2.0.0.Final is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[WARNING] The POM for org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details\n[INFO]\n[INFO] --- maven-dependency-plugin:2.10:tree (default-cli) @ THA ---\n[INFO] com.rondox.sb.th:THA:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-thymeleaf:jar:1.5.2.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.5.2.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-context:jar:4.3.7.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-logging:jar:1.5.2.RELEASE:compile\n[INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.1.11:compile\n[INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.1.11:compile\n[INFO] |  |  |  +- org.slf4j:jcl-over-slf4j:jar:1.7.24:compile\n[INFO] |  |  |  +- org.slf4j:jul-to-slf4j:jar:1.7.24:compile\n[INFO] |  |  |  \\- org.slf4j:log4j-over-slf4j:jar:1.7.24:compile\n[INFO] |  |  \\- org.yaml:snakeyaml:jar:1.17:runtime\n[INFO] |  +- org.springframework.boot:spring-boot-starter-web:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.5.2.RELEASE:compile\n[INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.11:compile\n[INFO] |  |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.11:compile\n[INFO] |  |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.11:compile\n[INFO] |  |  +- org.hibernate:hibernate-validator:jar:5.3.4.Final:compile\n[INFO] |  |  |  +- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  |  |  \\- com.fasterxml:classmate:jar:1.3.3:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.7:compile\n[INFO] |  |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.0:compile\n[INFO] |  |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.7:compile\n[INFO] |  |  +- org.springframework:spring-web:jar:4.3.7.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework:spring-beans:jar:4.3.7.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-webmvc:jar:4.3.7.RELEASE:compile\n[INFO] |  |     \\- org.springframework:spring-expression:jar:4.3.7.RELEASE:compile\n[INFO] |  +- org.thymeleaf:thymeleaf-spring4:jar:2.1.5.RELEASE:compile\n[INFO] |  |  +- org.thymeleaf:thymeleaf:jar:2.1.5.RELEASE:compile\n[INFO] |  |  |  +- ognl:ognl:jar:3.0.8:compile\n[INFO] |  |  |  \\- org.unbescape:unbescape:jar:1.1.0.RELEASE:compile\n[INFO] |  |  \\- org.slf4j:slf4j-api:jar:1.7.24:compile\n[INFO] |  \\- nz.net.ultraq.thymeleaf:thymeleaf-layout-dialect:jar:1.4.0:compile\n[INFO] |     \\- org.codehaus.groovy:groovy:jar:2.4.9:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.5.2.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-aop:jar:4.3.7.RELEASE:compile\n[INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.8.9:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.5.2.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.11:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.11:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.7.RELEASE:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.0.12.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  |  +- org.javassist:javassist:jar:3.21.0-GA:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.12.Final:compile\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.11.1.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.3.7.RELEASE:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.41:compile\n[INFO] \\- org.springframework.boot:spring-boot-starter-test:jar:1.5.2.RELEASE:test\n[INFO]    +- org.springframework.boot:spring-boot-test:jar:1.5.2.RELEASE:test\n[INFO]    +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.5.2.RELEASE:test\n[INFO]    +- com.jayway.jsonpath:json-path:jar:2.2.0:test\n[INFO]    |  \\- net.minidev:json-smart:jar:2.2.1:test\n[INFO]    |     \\- net.minidev:accessors-smart:jar:1.1:test\n[INFO]    |        \\- org.ow2.asm:asm:jar:5.0.3:test\n[INFO]    +- junit:junit:jar:4.12:test\n[INFO]    +- org.assertj:assertj-core:jar:2.6.0:test\n[INFO]    +- org.mockito:mockito-core:jar:1.10.19:test\n[INFO]    |  \\- org.objenesis:objenesis:jar:2.1:test\n[INFO]    +- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO]    +- org.hamcrest:hamcrest-library:jar:1.3:test\n[INFO]    +- org.skyscreamer:jsonassert:jar:1.4.0:test\n[INFO]    |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n[INFO]    +- org.springframework:spring-core:jar:4.3.7.RELEASE:compile\n[INFO]    \\- org.springframework:spring-test:jar:4.3.7.RELEASE:test\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.661 s\n[INFO] Finished at: 2017-04-15T19:44:05+07:00\n[INFO] Final Memory: 22M/309M\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>Is there any special parameter should i pass when i run the application from command line ? \nIt's just simple application and the function is work as i expected when i run from STS, but i just want to have a better understanding if the STS &amp; command line have difference parameter when run the application. </p>\n"},{"tags":["java","hessian"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":2,"creation_date":1695885940,"post_id":77173055,"comment_id":136084199,"body_markdown":"You should provide a minimal reproducing test. We don&#39;t know where input.dat comes from, and your `TestData` class has way too many fields...","body":"You should provide a minimal reproducing test. We don&#39;t know where input.dat comes from, and your <code>TestData</code> class has way too many fields..."},{"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"score":0,"creation_date":1695894959,"post_id":77173055,"comment_id":136086001,"body_markdown":"Are you sure that the dat file correct? I mean to say does it contain corrupted data?","body":"Are you sure that the dat file correct? I mean to say does it contain corrupted data?"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1695901203,"post_id":77173055,"comment_id":136087195,"body_markdown":"Did you inherite of ArrayList in your own class that you desserialize ?","body":"Did you inherite of ArrayList in your own class that you desserialize ?"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695980113,"post_id":77173055,"comment_id":136098282,"body_markdown":"I use the dat file because this reproduces a more complex case that we have in production. Not every input data is causing the problem and I dont know how to reproduce it with &quot;minimal&quot; data because I dont know the exact problem.","body":"I use the dat file because this reproduces a more complex case that we have in production. Not every input data is causing the problem and I dont know how to reproduce it with &quot;minimal&quot; data because I dont know the exact problem."},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":1,"creation_date":1695980207,"post_id":77173055,"comment_id":136098301,"body_markdown":"if the dat file were corrupted it would crash before hessian serialization","body":"if the dat file were corrupted it would crash before hessian serialization"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695980251,"post_id":77173055,"comment_id":136098306,"body_markdown":"inputData is a java serialized HashSet. So no, it doesnt extend from ArrayList","body":"inputData is a java serialized HashSet. So no, it doesnt extend from ArrayList"},{"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"score":0,"creation_date":1695980367,"post_id":77173055,"comment_id":136098325,"body_markdown":"&quot;different runtime behaviour&quot; means that it makes a difference if you run the example app by clicking &quot;Run&quot; in IDEA or &quot;Debug&quot;. depending on the used java version and hessian version, you get different results in this modes.","body":"&quot;different runtime behaviour&quot; means that it makes a difference if you run the example app by clicking &quot;Run&quot; in IDEA or &quot;Debug&quot;. depending on the used java version and hessian version, you get different results in this modes."}],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696418550,"creation_date":1695900282,"answer_id":77194504,"question_id":77173055,"body_markdown":"Finally, found the issue after lot of debugging. The issue is with Enum fields having `null` values.\r\n\r\nIn Hessian `3.x.x`, it is allowing de-serialization of `null` value by default for Enum type as checked.\r\n\r\nBut in Hessian `4.x.x`, they have changed the approach of evaluating enum values and didn&#39;t allow the de-serialization of `null` value for Enum type as checked.\r\n\r\n**Note:** I have used **4.0.66** Hessian. It will work with all versions of (JDK 8, 11, 17) (already tested)\r\n\r\n\r\n**Fix:** \r\n\r\n1. **First solution:** use `transient` keyword for `PaymentType`, `GenderType` &amp; `ActivationState` as they are coming with `null` values and should be avoided being part of de-serialization.\r\n\r\n\r\n**Note:** Before putting `transient` for Enum fields, please make sure to select fields that you think are not needed as part of serialization and you are sure that data will be coming as null for those Enum fields when de-serialization will happen.\r\n\r\n    public class TestData implements Serializable {\r\n    \tprivate static final long serialVersionUID = 8316361431446795589L;\r\n    \r\n    \tprivate transient ActivationState field18;\r\n    \tprivate transient PaymentType field29;\r\n    \tprivate transient GenderType field34;\r\n    \r\n    \r\n    \t... // getters and setters\r\n    }\r\n\r\n\r\n**Output with JDK 11:**\r\n\r\n    /Users/anisb/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59693:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\r\n    [de.test.TestData@12f41634, de.test.TestData@7a3d45bd, de.test.TestData@87f383f, de.test.TestData@e720b71, de.test.TestData@27f723, de.test.TestData@612fc6eb, de.test.TestData@4d3167f4, de.test.TestData@4923ab24, de.test.TestData@50d0686, de.test.TestData@1a3869f4, de.test.TestData@3aeaafa6, de.test.TestData@13c27452, de.test.TestData@1060b431, de.test.TestData@7b69c6ba, de.test.TestData@46daef40, de.test.TestData@a38d7a3, de.test.TestData@11758f2a, de.test.TestData@5ed828d, de.test.TestData@670b40af, de.test.TestData@44c8afef, de.test.TestData@262b2c86, de.test.TestData@ed9d034, de.test.TestData@612679d6, de.test.TestData@76a3e297, de.test.TestData@4eb7f003, de.test.TestData@371a67ec, de.test.TestData@63440df3, de.test.TestData@6121c9d6, de.test.TestData@77f99a05, de.test.TestData@5f3a4b84, de.test.TestData@eafc191]\r\n    \r\n    Process finished with exit code 0\r\n\r\n**Output with JDK 8:**\r\n\r\n    /Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59763:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/charsets.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/cldrdata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/dnsns.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/jaccess.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/localedata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/nashorn.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunec.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/zipfs.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jce.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jfr.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jsse.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/management-agent.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/resources.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/rt.jar:/Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\r\n    [de.test.TestData@7fbe847c, de.test.TestData@442d9b6e, de.test.TestData@4c98385c, de.test.TestData@1c655221, de.test.TestData@1b9e1916, de.test.TestData@1edf1c96, de.test.TestData@368102c8, de.test.TestData@1963006a, de.test.TestData@4f8e5cde, de.test.TestData@5eb5c224, de.test.TestData@1b701da1, de.test.TestData@58d25a40, de.test.TestData@53e25b76, de.test.TestData@ee7d9f1, de.test.TestData@3f8f9dd6, de.test.TestData@45fe3ee3, de.test.TestData@6996db8, de.test.TestData@759ebb3d, de.test.TestData@73a8dfcc, de.test.TestData@7e774085, de.test.TestData@504bae78, de.test.TestData@ba8a1dc, de.test.TestData@ea30797, de.test.TestData@4cdf35a9, de.test.TestData@17d10166, de.test.TestData@484b61fc, de.test.TestData@726f3b58, de.test.TestData@3b764bce, de.test.TestData@aec6354, de.test.TestData@15615099, de.test.TestData@5fcfe4b2]\r\n    \r\n    Process finished with exit code 0\r\n\r\n**Output with JDK 17:**\r\n\r\n    /Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59813:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\r\n    [de.test.TestData@12bb4df8, de.test.TestData@11028347, de.test.TestData@39a054a5, de.test.TestData@2f333739, de.test.TestData@1f89ab83, de.test.TestData@14899482, de.test.TestData@3caeaf62, de.test.TestData@7382f612, de.test.TestData@21588809, de.test.TestData@2a33fae0, de.test.TestData@7b3300e5, de.test.TestData@71bc1ae4, de.test.TestData@6ed3ef1, de.test.TestData@77468bd9, de.test.TestData@e73f9ac, de.test.TestData@383534aa, de.test.TestData@311d617d, de.test.TestData@7b1d7fff, de.test.TestData@61064425, de.test.TestData@16f65612, de.test.TestData@6bc168e5, de.test.TestData@3b192d32, de.test.TestData@2437c6dc, de.test.TestData@2e5c649, de.test.TestData@707f7052, de.test.TestData@299a06ac, de.test.TestData@7c53a9eb, de.test.TestData@1055e4af, de.test.TestData@2aae9190, de.test.TestData@ed17bee, de.test.TestData@136432db]\r\n    \r\n    Process finished with exit code 0\r\n\r\n2. **Second solution:** Make sure to send the non-null values in those appropriate Enum fields to avoid facing the below error.\r\n\r\n       Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: &lt;package&gt;.&lt;Class&gt;.&lt;field-name&gt;: &lt;package&gt;.&lt;Enum&gt; cannot be assigned from null\r\n\r\n**Update:**\r\n\r\n3. **Third Solution:** I found a way to fix the issue without a code change. After adding `jackson-databind` dependency in pom.xml of the app, Hessian surprisingly started to deserialize with `null` values for Enum type.\r\n\r\nJust add this dependency in **POM**:\r\n\r\n   \r\n\r\n &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;{{version}}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n4. **Forth Solution:** You can use `@HessianUnshared` (that you suggested) annotation will fix the issue.","title":"Java upgrade with Caucho Hessian v3/v4","body":"<p>Finally, found the issue after lot of debugging. The issue is with Enum fields having <code>null</code> values.</p>\n<p>In Hessian <code>3.x.x</code>, it is allowing de-serialization of <code>null</code> value by default for Enum type as checked.</p>\n<p>But in Hessian <code>4.x.x</code>, they have changed the approach of evaluating enum values and didn't allow the de-serialization of <code>null</code> value for Enum type as checked.</p>\n<p><strong>Note:</strong> I have used <strong>4.0.66</strong> Hessian. It will work with all versions of (JDK 8, 11, 17) (already tested)</p>\n<p><strong>Fix:</strong></p>\n<ol>\n<li><strong>First solution:</strong> use <code>transient</code> keyword for <code>PaymentType</code>, <code>GenderType</code> &amp; <code>ActivationState</code> as they are coming with <code>null</code> values and should be avoided being part of de-serialization.</li>\n</ol>\n<p><strong>Note:</strong> Before putting <code>transient</code> for Enum fields, please make sure to select fields that you think are not needed as part of serialization and you are sure that data will be coming as null for those Enum fields when de-serialization will happen.</p>\n<pre><code>public class TestData implements Serializable {\n    private static final long serialVersionUID = 8316361431446795589L;\n\n    private transient ActivationState field18;\n    private transient PaymentType field29;\n    private transient GenderType field34;\n\n\n    ... // getters and setters\n}\n</code></pre>\n<p><strong>Output with JDK 11:</strong></p>\n<pre><code>/Users/anisb/Library/Java/JavaVirtualMachines/corretto-11.0.19/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59693:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\n[de.test.TestData@12f41634, de.test.TestData@7a3d45bd, de.test.TestData@87f383f, de.test.TestData@e720b71, de.test.TestData@27f723, de.test.TestData@612fc6eb, de.test.TestData@4d3167f4, de.test.TestData@4923ab24, de.test.TestData@50d0686, de.test.TestData@1a3869f4, de.test.TestData@3aeaafa6, de.test.TestData@13c27452, de.test.TestData@1060b431, de.test.TestData@7b69c6ba, de.test.TestData@46daef40, de.test.TestData@a38d7a3, de.test.TestData@11758f2a, de.test.TestData@5ed828d, de.test.TestData@670b40af, de.test.TestData@44c8afef, de.test.TestData@262b2c86, de.test.TestData@ed9d034, de.test.TestData@612679d6, de.test.TestData@76a3e297, de.test.TestData@4eb7f003, de.test.TestData@371a67ec, de.test.TestData@63440df3, de.test.TestData@6121c9d6, de.test.TestData@77f99a05, de.test.TestData@5f3a4b84, de.test.TestData@eafc191]\n\nProcess finished with exit code 0\n</code></pre>\n<p><strong>Output with JDK 8:</strong></p>\n<pre><code>/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59763:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/charsets.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/cldrdata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/dnsns.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/jaccess.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/localedata.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/nashorn.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunec.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunjce_provider.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/sunpkcs11.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/ext/zipfs.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jce.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jfr.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/jsse.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/management-agent.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/resources.jar:/Users/anisb/Library/Java/JavaVirtualMachines/corretto-1.8.0_362/Contents/Home/jre/lib/rt.jar:/Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\n[de.test.TestData@7fbe847c, de.test.TestData@442d9b6e, de.test.TestData@4c98385c, de.test.TestData@1c655221, de.test.TestData@1b9e1916, de.test.TestData@1edf1c96, de.test.TestData@368102c8, de.test.TestData@1963006a, de.test.TestData@4f8e5cde, de.test.TestData@5eb5c224, de.test.TestData@1b701da1, de.test.TestData@58d25a40, de.test.TestData@53e25b76, de.test.TestData@ee7d9f1, de.test.TestData@3f8f9dd6, de.test.TestData@45fe3ee3, de.test.TestData@6996db8, de.test.TestData@759ebb3d, de.test.TestData@73a8dfcc, de.test.TestData@7e774085, de.test.TestData@504bae78, de.test.TestData@ba8a1dc, de.test.TestData@ea30797, de.test.TestData@4cdf35a9, de.test.TestData@17d10166, de.test.TestData@484b61fc, de.test.TestData@726f3b58, de.test.TestData@3b764bce, de.test.TestData@aec6354, de.test.TestData@15615099, de.test.TestData@5fcfe4b2]\n\nProcess finished with exit code 0\n</code></pre>\n<p><strong>Output with JDK 17:</strong></p>\n<pre><code>/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=59813:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -classpath /Users/anisb/hessian-test/target/classes:/Users/anisb/.m2/repository/com/caucho/hessian/4.0.66/hessian-4.0.66.jar Main\n[de.test.TestData@12bb4df8, de.test.TestData@11028347, de.test.TestData@39a054a5, de.test.TestData@2f333739, de.test.TestData@1f89ab83, de.test.TestData@14899482, de.test.TestData@3caeaf62, de.test.TestData@7382f612, de.test.TestData@21588809, de.test.TestData@2a33fae0, de.test.TestData@7b3300e5, de.test.TestData@71bc1ae4, de.test.TestData@6ed3ef1, de.test.TestData@77468bd9, de.test.TestData@e73f9ac, de.test.TestData@383534aa, de.test.TestData@311d617d, de.test.TestData@7b1d7fff, de.test.TestData@61064425, de.test.TestData@16f65612, de.test.TestData@6bc168e5, de.test.TestData@3b192d32, de.test.TestData@2437c6dc, de.test.TestData@2e5c649, de.test.TestData@707f7052, de.test.TestData@299a06ac, de.test.TestData@7c53a9eb, de.test.TestData@1055e4af, de.test.TestData@2aae9190, de.test.TestData@ed17bee, de.test.TestData@136432db]\n\nProcess finished with exit code 0\n</code></pre>\n<ol start=\"2\">\n<li><p><strong>Second solution:</strong> Make sure to send the non-null values in those appropriate Enum fields to avoid facing the below error.</p>\n<pre><code>Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: &lt;package&gt;.&lt;Class&gt;.&lt;field-name&gt;: &lt;package&gt;.&lt;Enum&gt; cannot be assigned from null\n</code></pre>\n</li>\n</ol>\n<p><strong>Update:</strong></p>\n<ol start=\"3\">\n<li><strong>Third Solution:</strong> I found a way to fix the issue without a code change. After adding <code>jackson-databind</code> dependency in pom.xml of the app, Hessian surprisingly started to deserialize with <code>null</code> values for Enum type.</li>\n</ol>\n<p>Just add this dependency in <strong>POM</strong>:</p>\n \n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;{{version}}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<ol start=\"4\">\n<li><strong>Forth Solution:</strong> You can use <code>@HessianUnshared</code> (that you suggested) annotation will fix the issue.</li>\n</ol>\n"}],"owner":{"account_id":7216452,"reputation":99,"user_id":5508764,"display_name":"MatWein"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":77194504,"answer_count":1,"score":8,"last_activity_date":1696418550,"creation_date":1695648420,"question_id":77173055,"body_markdown":"**Problem:**  \r\nWe are currently using Caucho Hessian 3.2.0 in combination with Java 8 and Java 11 applications. This works fine, but we want to migrate to Java 17 and we get following systen.out message:\r\n\r\n    java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @78e03bb5\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n    \tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n    \tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n    \tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n    \tat com.caucho.hessian.io.JavaDeserializer.getFieldMap(JavaDeserializer.java:299)\r\n    \tat com.caucho.hessian.io.JavaDeserializer.&lt;init&gt;(JavaDeserializer.java:77)\r\n    \tat com.caucho.hessian.io.StackTraceElementDeserializer.&lt;init&gt;(StackTraceElementDeserializer.java:60)\r\n    \tat com.caucho.hessian.io.SerializerFactory.&lt;clinit&gt;(SerializerFactory.java:627)\r\n    \tat com.caucho.hessian.io.AbstractHessianOutput.findSerializerFactory(AbstractHessianOutput.java:95)\r\n    \tat com.caucho.hessian.io.Hessian2Output.writeObject(Hessian2Output.java:486)\r\n    \tat Main.serializeWithHessian(Main.java:23)\r\n    \tat Main.main(Main.java:13)\r\n\r\nThere is a work-around by adding the following JVM param:\r\n\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n\r\nWe dont want to use this flag in all our productive applications, so we tried to upgrade Hessian to its newest version 4.0.66. \r\nBasicly this works for the most common use cases but doesn&#39;t work when we serialize data having same object instances multiple times.\r\n\r\nI created a small example application: https://github.com/MatWein/hessian-test\r\n\r\nThis application reads some java serialized test data from its classpath and tries to serialize and deserialize it with Hessian.\r\nIf you run this application using Hessian 3.2.0 it works for all Java versions (8, 11 and 17 if you set the JVM flag above) in run&amp;debug modes.\r\nBut I cannot get it work with Hessian 4.0.66 because following error occures:\r\n\r\n    Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: de.test.TestData.field29: de.test.PaymentType cannot be assigned from null\r\n    \tat com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe.logDeserializeError(FieldDeserializer2FactoryUnsafe.java:538)\r\n    \tat com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:169)\r\n    \tat com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:237)\r\n    \tat com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:148)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObjectInstance(Hessian2Input.java:2202)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2123)\r\n    \tat com.caucho.hessian.io.CollectionDeserializer.readLengthList(CollectionDeserializer.java:93)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2050)\r\n    \tat Main.deserializeWithHessian(Main.java:32)\r\n    \tat Main.main(Main.java:15)\r\n    Caused by: java.lang.IndexOutOfBoundsException: Index 13 out of bounds for length 13\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n    \tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n    \tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n    \tat java.base/java.util.Objects.checkIndex(Objects.java:361)\r\n    \tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n    \tat com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:1810)\r\n    \tat com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:165)\r\n    \t... 8 more\r\n\r\nATTENTION: We have a different runtime behaviour between running and debugging the app (dont know why, but Hessian seems to use Unsafe class, Weak&amp;Soft references and so on).\r\n\r\nFor me, it looks like an internal bug in Hessian. It is using the class com.caucho.hessian.util.IdentityIntMap on serialization site, but when deserializing the client cannot find the object reference index.\r\n\r\n**Question:**\r\nIs there any way to get Hessian 4.0.66 working with Java 8, 11 and 17 (or at least with Java 11 and 17)?","title":"Java upgrade with Caucho Hessian v3/v4","body":"<p><strong>Problem:</strong><br />\nWe are currently using Caucho Hessian 3.2.0 in combination with Java 8 and Java 11 applications. This works fine, but we want to migrate to Java 17 and we get following systen.out message:</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String java.lang.StackTraceElement.classLoaderName accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @78e03bb5\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at com.caucho.hessian.io.JavaDeserializer.getFieldMap(JavaDeserializer.java:299)\n    at com.caucho.hessian.io.JavaDeserializer.&lt;init&gt;(JavaDeserializer.java:77)\n    at com.caucho.hessian.io.StackTraceElementDeserializer.&lt;init&gt;(StackTraceElementDeserializer.java:60)\n    at com.caucho.hessian.io.SerializerFactory.&lt;clinit&gt;(SerializerFactory.java:627)\n    at com.caucho.hessian.io.AbstractHessianOutput.findSerializerFactory(AbstractHessianOutput.java:95)\n    at com.caucho.hessian.io.Hessian2Output.writeObject(Hessian2Output.java:486)\n    at Main.serializeWithHessian(Main.java:23)\n    at Main.main(Main.java:13)\n</code></pre>\n<p>There is a work-around by adding the following JVM param:</p>\n<pre><code>--add-opens java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>We dont want to use this flag in all our productive applications, so we tried to upgrade Hessian to its newest version 4.0.66.\nBasicly this works for the most common use cases but doesn't work when we serialize data having same object instances multiple times.</p>\n<p>I created a small example application: <a href=\"https://github.com/MatWein/hessian-test\" rel=\"noreferrer\">https://github.com/MatWein/hessian-test</a></p>\n<p>This application reads some java serialized test data from its classpath and tries to serialize and deserialize it with Hessian.\nIf you run this application using Hessian 3.2.0 it works for all Java versions (8, 11 and 17 if you set the JVM flag above) in run&amp;debug modes.\nBut I cannot get it work with Hessian 4.0.66 because following error occures:</p>\n<pre><code>Exception in thread &quot;main&quot; com.caucho.hessian.io.HessianFieldException: de.test.TestData.field29: de.test.PaymentType cannot be assigned from null\n    at com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe.logDeserializeError(FieldDeserializer2FactoryUnsafe.java:538)\n    at com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:169)\n    at com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:237)\n    at com.caucho.hessian.io.UnsafeDeserializer.readObject(UnsafeDeserializer.java:148)\n    at com.caucho.hessian.io.Hessian2Input.readObjectInstance(Hessian2Input.java:2202)\n    at com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2123)\n    at com.caucho.hessian.io.CollectionDeserializer.readLengthList(CollectionDeserializer.java:93)\n    at com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:2050)\n    at Main.deserializeWithHessian(Main.java:32)\n    at Main.main(Main.java:15)\nCaused by: java.lang.IndexOutOfBoundsException: Index 13 out of bounds for length 13\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\n    at java.base/java.util.Objects.checkIndex(Objects.java:361)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at com.caucho.hessian.io.Hessian2Input.readObject(Hessian2Input.java:1810)\n    at com.caucho.hessian.io.FieldDeserializer2FactoryUnsafe$ObjectFieldDeserializer.deserialize(FieldDeserializer2FactoryUnsafe.java:165)\n    ... 8 more\n</code></pre>\n<p>ATTENTION: We have a different runtime behaviour between running and debugging the app (dont know why, but Hessian seems to use Unsafe class, Weak&amp;Soft references and so on).</p>\n<p>For me, it looks like an internal bug in Hessian. It is using the class com.caucho.hessian.util.IdentityIntMap on serialization site, but when deserializing the client cannot find the object reference index.</p>\n<p><strong>Question:</strong>\nIs there any way to get Hessian 4.0.66 working with Java 8, 11 and 17 (or at least with Java 11 and 17)?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":4628957,"reputation":901,"user_id":3751979,"display_name":"Archie"},"score":1,"creation_date":1579093313,"post_id":59751770,"comment_id":105650250,"body_markdown":"You can use the pause() and resume() methods of the consumer for the same.","body":"You can use the pause() and resume() methods of the consumer for the same."},{"owner":{"account_id":1957539,"reputation":5468,"user_id":1760179,"accept_rate":56,"display_name":"Espresso"},"score":1,"creation_date":1676821551,"post_id":59751770,"comment_id":133210236,"body_markdown":"Diagnose the root cause of OOM, instead of getting distracted to pause() / resume().  OOM likely due to incorrect SSL, partition mismatch etc.","body":"Diagnose the root cause of OOM, instead of getting distracted to pause() / resume().  OOM likely due to incorrect SSL, partition mismatch etc."}],"answers":[{"tags":[],"owner":{"account_id":12047406,"reputation":144,"user_id":8811869,"display_name":"Mr Nobody"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579101664,"creation_date":1579093321,"answer_id":59752020,"question_id":59751770,"body_markdown":" \r\n\r\n     public static void stopConsumer(final String topic) {    \r\n         ConcurrentMessageListenerContainer&lt;String, String&gt; container \r\n             = consumersMap.get(topic);\r\n         container.stop();    \r\n     }","title":"How to stop listening in a Spring Kafka consumer?","body":"<pre><code> public static void stopConsumer(final String topic) {    \n     ConcurrentMessageListenerContainer&lt;String, String&gt; container \n         = consumersMap.get(topic);\n     container.stop();    \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4628957,"reputation":901,"user_id":3751979,"display_name":"Archie"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1579093842,"creation_date":1579093842,"answer_id":59752152,"question_id":59751770,"body_markdown":"Kafka provides an option to pause() and resume() the consumption from a topic. You can use these methods by implementing a wait in between to revive from the memory issue.\r\n\r\nReference: https://kafka.apache.org/0100/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html","title":"How to stop listening in a Spring Kafka consumer?","body":"<p>Kafka provides an option to pause() and resume() the consumption from a topic. You can use these methods by implementing a wait in between to revive from the memory issue.</p>\n\n<p>Reference: <a href=\"https://kafka.apache.org/0100/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/0100/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html</a></p>\n"},{"tags":[],"owner":{"account_id":11401571,"reputation":63,"user_id":12255367,"display_name":"BlackViper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650615378,"creation_date":1650615378,"answer_id":71965529,"question_id":59751770,"body_markdown":"With Spring boot and Spring Cloud, there is a way to stop a particular consumer using actuators.\r\n\r\nKafka Streams binder of Spring Cloud  allows us to start or stop a consumer or function binding associated with it.\r\n\r\nAdd `management.endpoints.web.exposure.include =  bindings` in application.properties ( or yaml formatted property in application.yml)\r\n\r\nA GET call to `http://localhost:9009/actuator/bindings` would expose all the bindings.\r\n\r\nA POST call to `http://localhost:9009/actuator/bindings/{name}` can start or stop the binding.\r\n\r\nSample cURL to Stop a consumer :\r\n`curl -d &#39;{&quot;state&quot;:&quot;STOPPED&quot;}&#39; -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0`\r\n\r\nSample cURL to Start a consumer :\r\n`curl -d &#39;{&quot;state&quot;:&quot;STARTED&quot;}&#39; -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0`\r\n\r\nVisit [Spring Cloud Stream Binder Documentation] for further details.\r\n\r\n\r\n[Spring Cloud Stream Binder Documentation]: https://[https://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.2.2/reference/html/spring-cloud-stream-binder-kafka.html#_binding_visualization_and_control_in_kafka_streams_binder]","title":"How to stop listening in a Spring Kafka consumer?","body":"<p>With Spring boot and Spring Cloud, there is a way to stop a particular consumer using actuators.</p>\n<p>Kafka Streams binder of Spring Cloud  allows us to start or stop a consumer or function binding associated with it.</p>\n<p>Add <code>management.endpoints.web.exposure.include =  bindings</code> in application.properties ( or yaml formatted property in application.yml)</p>\n<p>A GET call to <code>http://localhost:9009/actuator/bindings</code> would expose all the bindings.</p>\n<p>A POST call to <code>http://localhost:9009/actuator/bindings/{name}</code> can start or stop the binding.</p>\n<p>Sample cURL to Stop a consumer :\n<code>curl -d '{&quot;state&quot;:&quot;STOPPED&quot;}' -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0</code></p>\n<p>Sample cURL to Start a consumer :\n<code>curl -d '{&quot;state&quot;:&quot;STARTED&quot;}' -H &quot;Content-Type: application/json&quot; -X POST http://localhost:8080/actuator/bindings/consumer-in-0</code></p>\n<p>Visit <a href=\"https://%5Bhttps://docs.spring.io/spring-cloud-stream-binder-kafka/docs/3.2.2/reference/html/spring-cloud-stream-binder-kafka.html#_binding_visualization_and_control_in_kafka_streams_binder%5D\" rel=\"nofollow noreferrer\">Spring Cloud Stream Binder Documentation</a> for further details.</p>\n"}],"owner":{"account_id":15166229,"reputation":227,"user_id":10948164,"display_name":"Василий Никпуп"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14566,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1696418522,"creation_date":1579092442,"question_id":59751770,"body_markdown":"I use `Spring for Apache Kafka`. I&#39;d like to stop listening to my topic and wait to escape OOM. How can I do it?","title":"How to stop listening in a Spring Kafka consumer?","body":"<p>I use <code>Spring for Apache Kafka</code>. I'd like to stop listening to my topic and wait to escape OOM. How can I do it?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1696350063,"post_id":77219337,"comment_id":136140262,"body_markdown":"That is not the error the scanner API throws.","body":"That is not the error the scanner API throws."},{"owner":{"account_id":9133503,"reputation":61,"user_id":6794146,"display_name":"cristiandb"},"score":0,"creation_date":1696381456,"post_id":77219337,"comment_id":136144554,"body_markdown":"I think that maybe is a proble with the comunication with play-service but I dont know how check it.","body":"I think that maybe is a proble with the comunication with play-service but I dont know how check it."},{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1696418240,"post_id":77219337,"comment_id":136149626,"body_markdown":"The barscanning API has a set of possible errors. The part of the log copied shows nothing.","body":"The barscanning API has a set of possible errors. The part of the log copied shows nothing."}],"answers":[{"tags":[],"owner":{"account_id":9133503,"reputation":61,"user_id":6794146,"display_name":"cristiandb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696418395,"creation_date":1696418395,"answer_id":77229125,"question_id":77219337,"body_markdown":"I could found someone that had the same problem https://gist.github.com/santansarah/ef744aaf846164ed38826e3a3c68340b#file-uninstall-google-play-services-md\r\n\r\nThe solucion was reinstall google play service application. In one of my phone this article work for the other  (the older) I had to unistall the upgrade for google play service app too.","title":"services-code-scanner doesnt work suddenly","body":"<p>I could found someone that had the same problem <a href=\"https://gist.github.com/santansarah/ef744aaf846164ed38826e3a3c68340b#file-uninstall-google-play-services-md\" rel=\"nofollow noreferrer\">https://gist.github.com/santansarah/ef744aaf846164ed38826e3a3c68340b#file-uninstall-google-play-services-md</a></p>\n<p>The solucion was reinstall google play service application. In one of my phone this article work for the other  (the older) I had to unistall the upgrade for google play service app too.</p>\n"}],"owner":{"account_id":9133503,"reputation":61,"user_id":6794146,"display_name":"cristiandb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77229125,"answer_count":1,"score":0,"last_activity_date":1696418395,"creation_date":1696299715,"question_id":77219337,"body_markdown":"I have installed implementation &#39;com.google.android.gms:play-services-code-scanner:16.1.0&#39; as specify this documentation https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner. At first it work perfect but suddenly it stoped to work anymore. The problem is in execution time. Instead to open the camera to scan the barcode it raise a failure than I can catch with addOnFailureListener. In the Logcat I can see this error:\r\n\r\n1512-5684  WindowManager           system_server                        E  win=Window{6dee8ad u0 com.xxxxx.yyyyy/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6535 com.android.server.wm.ActivityRecord.destroySurfaces:6516 com.android.server.wm.ActivityRecord.notifyAppStopped:6580 com.android.server.wm.ActivityRecord.activityStopped:7168 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136 \r\n\r\n","title":"services-code-scanner doesnt work suddenly","body":"<p>I have installed implementation 'com.google.android.gms:play-services-code-scanner:16.1.0' as specify this documentation <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner</a>. At first it work perfect but suddenly it stoped to work anymore. The problem is in execution time. Instead to open the camera to scan the barcode it raise a failure than I can catch with addOnFailureListener. In the Logcat I can see this error:</p>\n<p>1512-5684  WindowManager           system_server                        E  win=Window{6dee8ad u0 com.xxxxx.yyyyy/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6535 com.android.server.wm.ActivityRecord.destroySurfaces:6516 com.android.server.wm.ActivityRecord.notifyAppStopped:6580 com.android.server.wm.ActivityRecord.activityStopped:7168 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136</p>\n"},{"tags":["java","spring-boot","ibm-mq","java-17"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1696412458,"post_id":77228403,"comment_id":136148367,"body_markdown":"Can you add more details?","body":"Can you add more details?"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1696412913,"post_id":77228403,"comment_id":136148479,"body_markdown":"Are you trying to mix and match JMS 2.0 and JMS 3.0? Jakarta and pre-Jakarta? Show us your code - import statements at least.","body":"Are you trying to mix and match JMS 2.0 and JMS 3.0? Jakarta and pre-Jakarta? Show us your code - import statements at least."},{"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"score":0,"creation_date":1696413799,"post_id":77228403,"comment_id":136148706,"body_markdown":"import Jakarta.jms.*.        iImport javax.naming.IntialContext; import javax.namingzJmsExcepton; Import Javax.naming.Context;","body":"import Jakarta.jms.*.        iImport javax.naming.IntialContext; import javax.namingzJmsExcepton; Import Javax.naming.Context;"},{"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"score":0,"creation_date":1696415131,"post_id":77228403,"comment_id":136149036,"body_markdown":"@MoragHughson added the imports and code snippets","body":"@MoragHughson added the imports and code snippets"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696417463,"post_id":77228403,"comment_id":136149452,"body_markdown":"Please don&#39;t add code as iamges, add them as code (text with code tags for readability).","body":"Please don&#39;t add code as iamges, add them as code (text with code tags for readability)."}],"answers":[{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696418335,"creation_date":1696413558,"answer_id":77228585,"question_id":77228403,"body_markdown":"You really need to share code, as it would make it easier to diagnose what is going on, but based on the tags.\r\n\r\nI am guessing that you are using `Spring Boot` and maybe `Spring JMS`, and you have a `@Autowired` reference to an `ConnectionFactory`. \r\n\r\nThe cause will be because you have made a mistake in your dependencies. Most likely the version of `com.ibm.mq` latest version of which is at `3.1.2`\r\n\r\n````\r\n\t\t\t&lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\r\n````\r\n\r\n\r\nAfter seeing your code, I&#39;m appending to this answer. \r\n\r\nBy using Spring JMS in conjunction with the `mq-jms-spring-boot-starter` means that you don&#39;t need to dabble with JNDI, it&#39;s done for you. You only need to populate `application.properties` with the appropriate property settings.\r\n\r\nThere is a repository of [samples](https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS) that will help get you kick started.\r\n\r\n\r\nMore details on usage and available properties are documented in the [MQ Spring Boot starter GitHub repository](https://github.com/ibm-messaging/mq-jms-spring). \r\n\r\nThe likelihood is that you may not even need to refer to the ConnectionFactory, unless you are deviating from the default settings, in which case all you will need is \r\n\r\n\r\n```Java\r\n    @Autowired\r\n    private ConnectionFactory connectionFactory;\r\n```\r\n\r\nThe JDNI stuff is done for you.\r\n","title":"Java.lang.classcastException javax.naming.reference cannot cast to Jakarta.jms","body":"<p>You really need to share code, as it would make it easier to diagnose what is going on, but based on the tags.</p>\n<p>I am guessing that you are using <code>Spring Boot</code> and maybe <code>Spring JMS</code>, and you have a <code>@Autowired</code> reference to an <code>ConnectionFactory</code>.</p>\n<p>The cause will be because you have made a mistake in your dependencies. Most likely the version of <code>com.ibm.mq</code> latest version of which is at <code>3.1.2</code></p>\n<pre><code>            &lt;groupId&gt;com.ibm.mq&lt;/groupId&gt;\n            &lt;artifactId&gt;mq-jms-spring-boot-starter&lt;/artifactId&gt;\n</code></pre>\n<p>After seeing your code, I'm appending to this answer.</p>\n<p>By using Spring JMS in conjunction with the <code>mq-jms-spring-boot-starter</code> means that you don't need to dabble with JNDI, it's done for you. You only need to populate <code>application.properties</code> with the appropriate property settings.</p>\n<p>There is a repository of <a href=\"https://github.com/ibm-messaging/mq-dev-patterns/tree/master/Spring-JMS\" rel=\"nofollow noreferrer\">samples</a> that will help get you kick started.</p>\n<p>More details on usage and available properties are documented in the <a href=\"https://github.com/ibm-messaging/mq-jms-spring\" rel=\"nofollow noreferrer\">MQ Spring Boot starter GitHub repository</a>.</p>\n<p>The likelihood is that you may not even need to refer to the ConnectionFactory, unless you are deviating from the default settings, in which case all you will need is</p>\n<pre><code>    @Autowired\n    private ConnectionFactory connectionFactory;\n</code></pre>\n<p>The JDNI stuff is done for you.</p>\n"}],"owner":{"account_id":4475341,"reputation":39,"user_id":3640600,"display_name":"user3640600"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696418335,"creation_date":1696412139,"question_id":77228403,"body_markdown":"[![enter image description here][1]][1]Getting the error when upgrading spring boot to latest version\r\n\r\n````\r\n   Class javax.naming.reference cannot be cast to Jakarta.jms.QueueConnectionFactory (javax.naming.reference is in module java.naming of loader ‘bootstrap’; Jakarta.jms.QueueConnectionFactory is in unnamed module of loader ‘app’\r\n````\r\n    code snippets \r\n    We’re upgrading to spring boot 3.0.6. We are using ibm mq and updated mq-jms-spring-boot-starter to 3.1.0.\r\n    \r\n    While creating the QueueConnectionFactory getting above exception\r\n    [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mWj4u.jpg","title":"Java.lang.classcastException javax.naming.reference cannot cast to Jakarta.jms","body":"<p><a href=\"https://i.stack.imgur.com/mWj4u.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mWj4u.jpg\" alt=\"enter image description here\" /></a>Getting the error when upgrading spring boot to latest version</p>\n<pre><code>   Class javax.naming.reference cannot be cast to Jakarta.jms.QueueConnectionFactory (javax.naming.reference is in module java.naming of loader ‘bootstrap’; Jakarta.jms.QueueConnectionFactory is in unnamed module of loader ‘app’\n</code></pre>\n<pre><code>code snippets \nWe’re upgrading to spring boot 3.0.6. We are using ibm mq and updated mq-jms-spring-boot-starter to 3.1.0.\n\nWhile creating the QueueConnectionFactory getting above exception\n[![enter image description here][1]][1]\n</code></pre>\n"},{"tags":["java","jpa","querydsl"],"answers":[{"tags":[],"owner":{"account_id":1850363,"reputation":4684,"user_id":1677033,"display_name":"Meiko Rachimow"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1456934536,"creation_date":1456847371,"answer_id":35727332,"question_id":35021343,"body_markdown":"For arithmetic queries take a look at the `com.querydsl.core.types.dsl.Expressions` class. In this case it is possible to use `Expressions::dateTimeOperation`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    import com.querydsl.core.types.Ops;\r\n    import com.querydsl.core.types.dsl.*;\r\n    import com.querydsl.sql.SQLQuery;\r\n    ...\r\n        @Transactional\r\n        public List&lt;MIGRationEntity&gt; getMigration() {\r\n            SQLQuery&lt;MIGRationEntity&gt; query = selectFrom(QMIGRation.MIGRation)\r\n                .where(\r\n                    Expressions.dateTimeOperation(\r\n                        Date.class, Ops.DateTimeOps.ADD_DAYS,\r\n                        QMIGRation.MIGRation.mIGRCreationDate,\r\n                        QMIGRation.MIGRation.mIGRValidityDays)\r\n                    .gt(DateTimeExpression.currentTimestamp()));\r\n            String sql = query.getSQL().getSQL();\r\n            System.out.print(sql);\r\n            return query.fetch();\r\n        }\r\n    ...\r\n\r\nThe created SQL: \r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    select MIGRation.MIGR_CreationDate, MIGRation.MIGR_From, MIGRation.MIGR_ID, MIGRation.MIGR_To, MIGRation.MIGR_Validity_Days\r\n    from MIGRation MIGRation\r\n    where date_add(MIGRation.MIGR_CreationDate, interval MIGRation.MIGR_Validity_Days day) &gt; current_timestamp","title":"QueryDSL Date arithmetic","body":"<p>For arithmetic queries take a look at the <code>com.querydsl.core.types.dsl.Expressions</code> class. In this case it is possible to use <code>Expressions::dateTimeOperation</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.querydsl.core.types.Ops;\nimport com.querydsl.core.types.dsl.*;\nimport com.querydsl.sql.SQLQuery;\n...\n    @Transactional\n    public List&lt;MIGRationEntity&gt; getMigration() {\n        SQLQuery&lt;MIGRationEntity&gt; query = selectFrom(QMIGRation.MIGRation)\n            .where(\n                Expressions.dateTimeOperation(\n                    Date.class, Ops.DateTimeOps.ADD_DAYS,\n                    QMIGRation.MIGRation.mIGRCreationDate,\n                    QMIGRation.MIGRation.mIGRValidityDays)\n                .gt(DateTimeExpression.currentTimestamp()));\n        String sql = query.getSQL().getSQL();\n        System.out.print(sql);\n        return query.fetch();\n    }\n...\n</code></pre>\n\n<p>The created SQL: </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select MIGRation.MIGR_CreationDate, MIGRation.MIGR_From, MIGRation.MIGR_ID, MIGRation.MIGR_To, MIGRation.MIGR_Validity_Days\nfrom MIGRation MIGRation\nwhere date_add(MIGRation.MIGR_CreationDate, interval MIGRation.MIGR_Validity_Days day) &gt; current_timestamp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19779358,"reputation":1,"user_id":14484674,"display_name":"Miguel Hola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696417849,"creation_date":1696412074,"answer_id":77228396,"question_id":35021343,"body_markdown":"I have had the same problem and I have solved it in the following way. The idea is to compare two dates from different entities to which a day is added to a previous date.\r\n\r\n.or(cese.fcServBaja.isNotNull().and(Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja).eq(ptDiasPermiso.compId.fcInicio)))\r\n\r\n**Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja)** indicates the type of data I want, the second is the expression in SQL where the {0} is the field that is replaced by the parameter cese. fcServBaja.\r\n\r\nAs I understand it, the template contains the native database operation (I use Oracle)\r\n\r\nI hope it helps you.","title":"QueryDSL Date arithmetic","body":"<p>I have had the same problem and I have solved it in the following way. The idea is to compare two dates from different entities to which a day is added to a previous date.</p>\n<p>.or(cese.fcServBaja.isNotNull().and(Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja).eq(ptDiasPermiso.compId.fcInicio)))</p>\n<p><strong>Expressions.dateTemplate(LocalDate.class, &quot;{0} + 1&quot;, cese.fcServBaja)</strong> indicates the type of data I want, the second is the expression in SQL where the {0} is the field that is replaced by the parameter cese. fcServBaja.</p>\n<p>As I understand it, the template contains the native database operation (I use Oracle)</p>\n<p>I hope it helps you.</p>\n"}],"owner":{"account_id":3368081,"reputation":1613,"user_id":2828099,"accept_rate":40,"display_name":"peez80"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9397,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696417849,"creation_date":1453833644,"question_id":35021343,"body_markdown":"I have a table like this:\r\n\r\n    CREATE  TABLE IF NOT EXISTS `sma`.`MIGRation` (\r\n    `MIGR_ID` BIGINT NOT NULL AUTO_INCREMENT ,\r\n    `MIGR_From` VARCHAR(1024) NOT NULL ,\r\n    `MIGR_To` VARCHAR(1024) NOT NULL ,\r\n    `MIGR_Validity_Days` INT NOT NULL ,\r\n    `MIGR_CreationDate` DATETIME NOT NULL ,\r\n    PRIMARY KEY (`MIGR_ID`) );\r\n\r\nHow would you write an expression in QueryDSL to find the entries which are still valid (creationDate + validity_Days)?\r\n\r\n    SELECT * FROM MIGRation WHERE DATE_ADD(MIGR_CreationDate, INTERVAL MIGR_Validity_Days DAY) &gt; now()\r\n","title":"QueryDSL Date arithmetic","body":"<p>I have a table like this:</p>\n\n<pre><code>CREATE  TABLE IF NOT EXISTS `sma`.`MIGRation` (\n`MIGR_ID` BIGINT NOT NULL AUTO_INCREMENT ,\n`MIGR_From` VARCHAR(1024) NOT NULL ,\n`MIGR_To` VARCHAR(1024) NOT NULL ,\n`MIGR_Validity_Days` INT NOT NULL ,\n`MIGR_CreationDate` DATETIME NOT NULL ,\nPRIMARY KEY (`MIGR_ID`) );\n</code></pre>\n\n<p>How would you write an expression in QueryDSL to find the entries which are still valid (creationDate + validity_Days)?</p>\n\n<pre><code>SELECT * FROM MIGRation WHERE DATE_ADD(MIGR_CreationDate, INTERVAL MIGR_Validity_Days DAY) &gt; now()\n</code></pre>\n"},{"tags":["java","json","csv","jackson","jackson-dataformat-csv"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696420977,"post_id":77229006,"comment_id":136150162,"body_markdown":"So what you&#39;re saying is &quot;I have a document that looks somewhat like CSV, but isn&#39;t&quot;. The best solution is to make whoever&#39;s delivering it deliver valid CSV instead. If that fails, you could try removing the quotes from each line if it both starts and ends with a quote, but then you may run into issues if both first name and address are quoted. Or you could try to detect lines ending with two quotes, but that&#39;ll only work if the address is always quoted.","body":"So what you&#39;re saying is &quot;I have a document that looks somewhat like CSV, but isn&#39;t&quot;. The best solution is to make whoever&#39;s delivering it deliver valid CSV instead. If that fails, you could try removing the quotes from each line if it both starts and ends with a quote, but then you may run into issues if both first name and address are quoted. Or you could try to detect lines ending with two quotes, but that&#39;ll only work if the address is always quoted."},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":0,"creation_date":1696425581,"post_id":77229006,"comment_id":136151124,"body_markdown":"Agree with previous comment regarding insisting on a valid CSV format. What you are calling the naive solution is simply a custom solution to deal with a customized file that is not valid for anyone else in the world. Customization in this area is (generally) bad, and a smarter solution may not exist. (Now, one thing that could be better than a temp file is manipulating the data in-memory, but that also depends on file size and whatever other limitations you may have in your environment.)","body":"Agree with previous comment regarding insisting on a valid CSV format. What you are calling the naive solution is simply a custom solution to deal with a customized file that is not valid for anyone else in the world. Customization in this area is (generally) bad, and a smarter solution may not exist. (Now, one thing that could be better than a temp file is manipulating the data in-memory, but that also depends on file size and whatever other limitations you may have in your environment.)"}],"owner":{"account_id":10064593,"reputation":51,"user_id":7440145,"display_name":"Thomas W."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696417302,"creation_date":1696417302,"question_id":77229006,"body_markdown":"Suppose I have a CSV file that looks like this\r\n\r\n```\r\nfirstName,lastName,address\r\n&quot;John,Doe,&quot;Imaginary St. 42, 1234 Hometown&quot;&quot;\r\nJane,Doe,&quot;Castle St. 1, 5678 Littletown&quot; \r\n```\r\n\r\nhow would I be able to deserialize rows into a objects of the following class\r\n\r\n```java\r\npublic class PersonRecord {\r\n  private String firstName;\r\n  private String lastName;\r\n  private String address;\r\n}\r\n```\r\n\r\nusing `jackson-dataformat-csv`?\r\n\r\nMain challenge here is that lines *might* be completely enclosed by double quotes which should be ignored, however double-quotes should still be allowed to enclose `address` values in this case.\r\n\r\nThe naive solution would be to create a temporary file and strip the first and last character of each line that starts with double quotes. It looks like I can make the assumption that the first column will never be enclosed by quotes so it seems safe to take this shortcut.\r\n\r\nHowever is there a smarter solution to this problem not requiring temporary files?\r\nSo far I haven&#39;t been able to hook into the tokenization process and &quot;update&quot; the object tree for problematic likes so regular object tree processing can continue in a custom `JsonDeserializer`.\r\n","title":"Deserializing CSV with Jackson that might have lines enclosed with double quotes","body":"<p>Suppose I have a CSV file that looks like this</p>\n<pre><code>firstName,lastName,address\n&quot;John,Doe,&quot;Imaginary St. 42, 1234 Hometown&quot;&quot;\nJane,Doe,&quot;Castle St. 1, 5678 Littletown&quot; \n</code></pre>\n<p>how would I be able to deserialize rows into a objects of the following class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PersonRecord {\n  private String firstName;\n  private String lastName;\n  private String address;\n}\n</code></pre>\n<p>using <code>jackson-dataformat-csv</code>?</p>\n<p>Main challenge here is that lines <em>might</em> be completely enclosed by double quotes which should be ignored, however double-quotes should still be allowed to enclose <code>address</code> values in this case.</p>\n<p>The naive solution would be to create a temporary file and strip the first and last character of each line that starts with double quotes. It looks like I can make the assumption that the first column will never be enclosed by quotes so it seems safe to take this shortcut.</p>\n<p>However is there a smarter solution to this problem not requiring temporary files?\nSo far I haven't been able to hook into the tokenization process and &quot;update&quot; the object tree for problematic likes so regular object tree processing can continue in a custom <code>JsonDeserializer</code>.</p>\n"},{"tags":["java","spring-boot","amazon-dynamodb","crud-repository"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696416629,"creation_date":1696416629,"answer_id":77228918,"question_id":77228794,"body_markdown":"DynamoDB handles null value as a distinct data type. So I&#39;ll make an assumption here that you are setting a string or object type to Null, in which case the Mapper (assumption) is not saving the value as it drops null values. If it&#39;s a string, one thing you can do is set the value to `&quot;NULL&quot;` for example. \r\n\r\nhttps://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html","title":"Trying to update an attribute that was saved with null value with another value in a DynamoDB table using CrudRepository","body":"<p>DynamoDB handles null value as a distinct data type. So I'll make an assumption here that you are setting a string or object type to Null, in which case the Mapper (assumption) is not saving the value as it drops null values. If it's a string, one thing you can do is set the value to <code>&quot;NULL&quot;</code> for example.</p>\n<p><a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_AttributeValue.html</a></p>\n"}],"owner":{"account_id":9119696,"reputation":53,"user_id":6785547,"display_name":"abullor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77228918,"answer_count":1,"score":0,"last_activity_date":1696416629,"creation_date":1696415463,"question_id":77228794,"body_markdown":"I&#39;ve saved an object in DynamoDB using SpringBoot CrudRepository. It has some attributes with null value (&quot;myAttribute&quot;: null) and others with values (&quot;otherAttribute&quot;: &quot;aValue&quot;).\r\n\r\nI have a method to update the object, where I search by id, update it and then, save it again.\r\n\r\nIf I update an attribute that has a value, it gets updated. But If I put a value to the ones that has null, they don&#39;t get updated.\r\n\r\nAny ideas?","title":"Trying to update an attribute that was saved with null value with another value in a DynamoDB table using CrudRepository","body":"<p>I've saved an object in DynamoDB using SpringBoot CrudRepository. It has some attributes with null value (&quot;myAttribute&quot;: null) and others with values (&quot;otherAttribute&quot;: &quot;aValue&quot;).</p>\n<p>I have a method to update the object, where I search by id, update it and then, save it again.</p>\n<p>If I update an attribute that has a value, it gets updated. But If I put a value to the ones that has null, they don't get updated.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","configuration","struts2","struts","struts-1"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1375138919,"post_id":17935503,"comment_id":26207765,"body_markdown":"You don&#39;t, they don&#39;t exist. What were you using them for? Personally, I view moving from S1 to S2 as a rewrite, not a migration: everything in the web layer needs to be rewritten, nothing in the business layer does.","body":"You don&#39;t, they don&#39;t exist. What were you using them for? Personally, I view moving from S1 to S2 as a rewrite, not a migration: everything in the web layer needs to be rewritten, nothing in the business layer does."},{"owner":{"account_id":205617,"reputation":10965,"user_id":454470,"display_name":"Steven Benitez"},"score":0,"creation_date":1375151026,"post_id":17935503,"comment_id":26210634,"body_markdown":"Keep in mind that Struts2 is a completely different framework from Struts1, it&#39;s not merely a new version.","body":"Keep in mind that Struts2 is a completely different framework from Struts1, it&#39;s not merely a new version."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696416436,"creation_date":1375173222,"answer_id":17942040,"question_id":17935503,"body_markdown":"`ModuleConfig` and `PlugInConfig` are Struts1 classes. Struts2 framework is different in [architecture][1] and uses it&#39;s own classes used to parse and build the configuration. So, if your application used those classes and you unable to remove them at the moment you should consider the option to run both frameworks together. Also, if you decide to remove them after rewriting the configuration, but want to reuse actions and forms in Struts2 consider [struts2-struts1-plugin][2] and [struts1-solutions][3]. This allows to use existing actions and forms in the Struts2 framework, but this is more complicated in Struts2 rather than writing a Struts2 only web application from scratch.   \r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/big-picture\r\n  [2]: https://struts.apache.org/plugins/struts-1\r\n  [3]: https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14240#content/view/14240","title":"ModuleConfig and PluginConfig in Struts 2","body":"<p><code>ModuleConfig</code> and <code>PlugInConfig</code> are Struts1 classes. Struts2 framework is different in <a href=\"https://struts.apache.org/core-developers/big-picture\" rel=\"nofollow noreferrer\">architecture</a> and uses it's own classes used to parse and build the configuration. So, if your application used those classes and you unable to remove them at the moment you should consider the option to run both frameworks together. Also, if you decide to remove them after rewriting the configuration, but want to reuse actions and forms in Struts2 consider <a href=\"https://struts.apache.org/plugins/struts-1\" rel=\"nofollow noreferrer\">struts2-struts1-plugin</a> and <a href=\"https://cwiki.apache.org/confluence/plugins/servlet/mobile?contentId=14240#content/view/14240\" rel=\"nofollow noreferrer\">struts1-solutions</a>. This allows to use existing actions and forms in the Struts2 framework, but this is more complicated in Struts2 rather than writing a Struts2 only web application from scratch.</p>\n"}],"owner":{"account_id":2707842,"reputation":13,"user_id":2337055,"display_name":"user2337055"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1003,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17942040,"answer_count":1,"score":1,"last_activity_date":1696416436,"creation_date":1375138050,"question_id":17935503,"body_markdown":"I&#39;m working on Struts 2 migration. My Struts 1 application is using `ModuleConfig` and `PlugInConfig` classes. How to use these classes in Struts 2?\r\n\r\n","title":"ModuleConfig and PluginConfig in Struts 2","body":"<p>I'm working on Struts 2 migration. My Struts 1 application is using <code>ModuleConfig</code> and <code>PlugInConfig</code> classes. How to use these classes in Struts 2?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1696415991,"post_id":77228791,"comment_id":136149182,"body_markdown":"Reading it in Java code how?","body":"Reading it in Java code how?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1696416714,"post_id":77228791,"comment_id":136149316,"body_markdown":"You can never read `1.54489E+15` as `1544887451541840`. There simply isn&#39;t enough precision left in your input value.","body":"You can never read <code>1.54489E+15</code> as <code>1544887451541840</code>. There simply isn&#39;t enough precision left in your input value."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1696417379,"post_id":77228791,"comment_id":136149432,"body_markdown":"Then don&#39;t store it as a float type.","body":"Then don&#39;t store it as a float type."}],"answers":[{"tags":[],"owner":{"account_id":17994687,"reputation":63,"user_id":13078026,"display_name":"smeds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696415832,"creation_date":1696415832,"answer_id":77228836,"question_id":77228791,"body_markdown":"I suppose the problem you are facing is more linked to the printing of the value then of the value itself. Note that any calculation involving the number with the scientific notation will still be correctly computed by Java.\r\n\r\nTo fix the printing issue, be sure that the value read from the Excel file is interpreted as a `BigInteger`, instead of a standard `int` value. \r\nThen, when you print out the variable, be sure to utilize the `toPlainString()` method.\r\n\r\nFor instance:\r\n\r\n    import java.math.BigDecimal;\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        BigDecimal bd = new BigDecimal(&quot;1.54489745154184E+15&quot;);\r\n        String str = bd.toPlainString();\r\n        System.out.println(str);\r\n      }\r\n    }\r\n\r\nWill output `1544887451541840`.","title":"how to read the scientific value from the CSV or Excel file using java?","body":"<p>I suppose the problem you are facing is more linked to the printing of the value then of the value itself. Note that any calculation involving the number with the scientific notation will still be correctly computed by Java.</p>\n<p>To fix the printing issue, be sure that the value read from the Excel file is interpreted as a <code>BigInteger</code>, instead of a standard <code>int</code> value.\nThen, when you print out the variable, be sure to utilize the <code>toPlainString()</code> method.</p>\n<p>For instance:</p>\n<pre><code>import java.math.BigDecimal;\n\npublic class Main {\n  public static void main(String[] args) {\n    BigDecimal bd = new BigDecimal(&quot;1.54489745154184E+15&quot;);\n    String str = bd.toPlainString();\n    System.out.println(str);\n  }\n}\n</code></pre>\n<p>Will output <code>1544887451541840</code>.</p>\n"}],"owner":{"account_id":28817571,"reputation":1,"user_id":22070837,"display_name":"Vagesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1696424442,"answer_count":1,"score":-3,"last_activity_date":1696416400,"creation_date":1696415446,"question_id":77228791,"body_markdown":"Example,\r\n\r\nIn a CSV or Excel file I&#39;m storing one integer value &#39;1544887451541840&#39; but it is adding as scientific value &#39;1.54489E+15&#39; in that file, if we are reading that cell value in java code it is reading as &#39;1.54489E+15&#39;.but I want that value as &#39;1544887451541840&#39;.","title":"how to read the scientific value from the CSV or Excel file using java?","body":"<p>Example,</p>\n<p>In a CSV or Excel file I'm storing one integer value '1544887451541840' but it is adding as scientific value '1.54489E+15' in that file, if we are reading that cell value in java code it is reading as '1.54489E+15'.but I want that value as '1544887451541840'.</p>\n"},{"tags":["java","parsing","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":1083026,"reputation":398,"user_id":1079475,"accept_rate":58,"display_name":"user1079475"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696416051,"creation_date":1696416051,"answer_id":77228868,"question_id":77227984,"body_markdown":"I&#39;ve managed to uncover the mystery.\r\nTo `&lt;Routes&gt;` element I&#39;ve added a `pattern` attribute as follows\r\n```\r\n&lt;Routes pattern=&quot;$${event:Level}&quot;&gt;\r\n```\r\nI presume this means that this route will be choosen and evaluted while logEvent has specified level (which is always the case). That opens up the doors to look up any context variable in any numbers.\r\nIt is sad that there is so little information on how to use these...","title":"Log4j2 Can&#39;t read ThreadConntext variables in the RoutingAppender","body":"<p>I've managed to uncover the mystery.\nTo <code>&lt;Routes&gt;</code> element I've added a <code>pattern</code> attribute as follows</p>\n<pre><code>&lt;Routes pattern=&quot;$${event:Level}&quot;&gt;\n</code></pre>\n<p>I presume this means that this route will be choosen and evaluted while logEvent has specified level (which is always the case). That opens up the doors to look up any context variable in any numbers.\nIt is sad that there is so little information on how to use these...</p>\n"}],"owner":{"account_id":1083026,"reputation":398,"user_id":1079475,"accept_rate":58,"display_name":"user1079475"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77228868,"answer_count":1,"score":1,"last_activity_date":1696416051,"creation_date":1696408227,"question_id":77227984,"body_markdown":"Firstly i&#39;ve read this topic &lt;https://stackoverflow.com/questions/26405456/log4j-2-cant-use-the-contextmaplookup-in-rollingfileappender-filename-and-fil&gt;\r\nI&#39;ve prepared configuration as below:\r\n```\r\n&lt;Configuration name=&quot;configuration&quot;&gt;\r\n\t&lt;Appenders&gt;\r\n\t\t&lt;Routing name=&quot;routing_1&quot;&gt;\r\n\t\t\t&lt;Routes&gt;\r\n\t\t\t\t&lt;Route&gt;\r\n\t\t\t\t\t&lt;RollingFile append=&quot;true&quot;\r\n\t\t\t\t\t             fileName=&quot;logfile&quot;\r\n\t\t\t\t\t             filePattern=&quot;logfile.${mdc:User}-${mdc:Channel}.%i.log&quot;\r\n\t\t\t\t\t             name=&quot;routing_1&quot;&gt;\r\n\t\t\t\t\t\t&lt;PatternLayout pattern=&quot;Thread=%tid [%X{MessageId}] %d %-11T %-5p [%c] - %m%n&quot;/&gt;\r\n\t\t\t\t\t\t&lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\r\n\t\t\t\t\t\t&lt;Policies&gt;\r\n\t\t\t\t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;20000KB&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/Policies&gt;\r\n\t\t\t\t\t&lt;/RollingFile&gt;\r\n\t\t\t\t&lt;/Route&gt;\r\n\t\t\t&lt;/Routes&gt;\r\n\t\t&lt;/Routing&gt;\r\n\t&lt;/Appenders&gt;\r\n\t&lt;Loggers&gt;\r\n\t\t&lt;Logger additivity=&quot;true&quot;\r\n\t\t        level=&quot;info&quot;\r\n\t\t        name=&quot;org.hibernate.type&quot;&gt;\r\n\t\t\t&lt;AppenderRef ref=&quot;routing_1&quot;/&gt;\r\n\t\t&lt;/Logger&gt;\r\n\t&lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nAnd it is creating files `logfile.${mdc:User}-${mdc:Channel}.0.log, logfile.${mdc:User}-${mdc:Channel}.1.log (...)`\r\nI tried using `%X{User}`, `%X{Channel}` and it resulted in files like:\r\n`logfile.%X-%X.0.log, logfile.%X-%X.1.log (...)`\r\nI&#39;ve attached the debugger and found out that during PatternConverter creation in\r\n```\r\nPatternParser::createConverter\r\nPatternParser::finalizeConverter\r\nPatternParser::parse\r\nPatternProcessor::ctr\r\n```\r\n\r\nThere are only 4 rules {`%i`, `%d`, and two others that i don&#39;t remember} and neither of them handles `%X` clause. I recon this is the problem, but i don&#39;t know how i can control this in the middle of the library process.\r\nStrangely `%X{MessageId}` substitution in `PatternLayout&#39;s pattern` works fine.\r\n\r\nAny help guys?","title":"Log4j2 Can&#39;t read ThreadConntext variables in the RoutingAppender","body":"<p>Firstly i've read this topic <a href=\"https://stackoverflow.com/questions/26405456/log4j-2-cant-use-the-contextmaplookup-in-rollingfileappender-filename-and-fil\">Log4j 2 : can&#39;t use the ContextMapLookup in RollingFileAppender fileName and filePattern</a>\nI've prepared configuration as below:</p>\n<pre><code>&lt;Configuration name=&quot;configuration&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Routing name=&quot;routing_1&quot;&gt;\n            &lt;Routes&gt;\n                &lt;Route&gt;\n                    &lt;RollingFile append=&quot;true&quot;\n                                 fileName=&quot;logfile&quot;\n                                 filePattern=&quot;logfile.${mdc:User}-${mdc:Channel}.%i.log&quot;\n                                 name=&quot;routing_1&quot;&gt;\n                        &lt;PatternLayout pattern=&quot;Thread=%tid [%X{MessageId}] %d %-11T %-5p [%c] - %m%n&quot;/&gt;\n                        &lt;DefaultRolloverStrategy max=&quot;20&quot;/&gt;\n                        &lt;Policies&gt;\n                            &lt;SizeBasedTriggeringPolicy size=&quot;20000KB&quot;/&gt;\n                        &lt;/Policies&gt;\n                    &lt;/RollingFile&gt;\n                &lt;/Route&gt;\n            &lt;/Routes&gt;\n        &lt;/Routing&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger additivity=&quot;true&quot;\n                level=&quot;info&quot;\n                name=&quot;org.hibernate.type&quot;&gt;\n            &lt;AppenderRef ref=&quot;routing_1&quot;/&gt;\n        &lt;/Logger&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>And it is creating files <code>logfile.${mdc:User}-${mdc:Channel}.0.log, logfile.${mdc:User}-${mdc:Channel}.1.log (...)</code>\nI tried using <code>%X{User}</code>, <code>%X{Channel}</code> and it resulted in files like:\n<code>logfile.%X-%X.0.log, logfile.%X-%X.1.log (...)</code>\nI've attached the debugger and found out that during PatternConverter creation in</p>\n<pre><code>PatternParser::createConverter\nPatternParser::finalizeConverter\nPatternParser::parse\nPatternProcessor::ctr\n</code></pre>\n<p>There are only 4 rules {<code>%i</code>, <code>%d</code>, and two others that i don't remember} and neither of them handles <code>%X</code> clause. I recon this is the problem, but i don't know how i can control this in the middle of the library process.\nStrangely <code>%X{MessageId}</code> substitution in <code>PatternLayout's pattern</code> works fine.</p>\n<p>Any help guys?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1696324188,"post_id":77211928,"comment_id":136135082,"body_markdown":"You have an `@ RequiredArgsConstructor` annotation, but no required fields. Make those fields `final` so they are required and the proper constructor is created. Or switch to the `@AllArgsConstructor` in stead. Or ditch lombok and just write the constructor yourself (which is my preferred way of doing things like this).","body":"You have an <code>@ RequiredArgsConstructor</code> annotation, but no required fields. Make those fields <code>final</code> so they are required and the proper constructor is created. Or switch to the <code>@AllArgsConstructor</code> in stead. Or ditch lombok and just write the constructor yourself (which is my preferred way of doing things like this)."}],"answers":[{"tags":[],"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696335292,"creation_date":1696335292,"answer_id":77222168,"question_id":77211928,"body_markdown":"[M. Deinum][1] answered the question. The problem was the Dependency Injection. Both attributes have to be either final in this scenario since I am using Lombok with the @RequiredArgsConstructor\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"Spring Boot Security configuration throws UnsatisfiedDependencyException: Unsatisfied dependency expressed through method &#39;setFilterChains&#39;","body":"<p><a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> answered the question. The problem was the Dependency Injection. Both attributes have to be either final in this scenario since I am using Lombok with the @RequiredArgsConstructor</p>\n"}],"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696415667,"creation_date":1696187260,"question_id":77211928,"body_markdown":"I am currently developing a web app and I program Java in Spring Boot for the backend. I am trying to configure Spring Security so that only users with a JWT-Token can access any endpoints. I am not even sure if that is the problem but every time I start the app, I get the following error:\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;securityFilterChain&#39; defined in class path resource [com/myapp/backend/config/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;securityFilterChain&#39; threw exception with message: Cannot invoke &quot;Object.getClass()&quot; because &quot;filter&quot; is null\r\n```\r\n\r\nThe compiler marks the following code as deprecated:\r\n\r\n```\r\npackage com.myapp.backend.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport jakarta.servlet.Filter;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n\tprivate AuthenticationProvider authenticationProvider;\r\n\tprivate JwtAuthenticationFilter jwtAuthFilter;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf()\r\n        .disable()\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/auth/**&quot;)\r\n        .permitAll()\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        .authenticationProvider(authenticationProvider)\r\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\r\n                \r\n        return http.build();\r\n\t}\r\n}\r\n\r\n```","title":"Spring Boot Security configuration throws UnsatisfiedDependencyException: Unsatisfied dependency expressed through method &#39;setFilterChains&#39;","body":"<p>I am currently developing a web app and I program Java in Spring Boot for the backend. I am trying to configure Spring Security so that only users with a JWT-Token can access any endpoints. I am not even sure if that is the problem but every time I start the app, I get the following error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [com/myapp/backend/config/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Cannot invoke &quot;Object.getClass()&quot; because &quot;filter&quot; is null\n</code></pre>\n<p>The compiler marks the following code as deprecated:</p>\n<pre><code>package com.myapp.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport jakarta.servlet.Filter;\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private AuthenticationProvider authenticationProvider;\n    private JwtAuthenticationFilter jwtAuthFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n        .csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\n                \n        return http.build();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview","drag-and-drop"],"owner":{"account_id":14624465,"reputation":21,"user_id":10562191,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696415597,"creation_date":1696412293,"question_id":77228423,"body_markdown":"I want to create  a recyclerview that can drag the seleced items out of the recycler view\r\n\r\nI tried various github solutions,but it is only to move from one recyclerview to another.\r\nI need to drag the items to a button,and when the item reaches it,it shows a bottom sheet dialog and then I need to insert it to a recyclerview in that bottom sheet.\r\n\r\nSo far I have done this\r\n\r\n            val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\r\n            ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\r\n        ) {\r\n            var selectedViewHolder: RecyclerView.ViewHolder? = null\r\n\r\n            var offsetX: Float = 0f\r\n            var offsetY: Float = 0f\r\n\r\n            val popupWindow = PopupWindow(context)\r\n\r\n            override fun getMovementFlags(\r\n                recyclerView: RecyclerView,\r\n                viewHolder: RecyclerView.ViewHolder\r\n            ): Int {\r\n                val dragFlags = ItemTouchHelper.UP or ItemTouchHelper.DOWN\r\n                return makeMovementFlags(dragFlags, 0)\r\n            }\r\n\r\n            override fun onMove(\r\n                recyclerView: RecyclerView,\r\n                source: RecyclerView.ViewHolder,\r\n                target: RecyclerView.ViewHolder\r\n            ): Boolean {\r\n                val sourcePosition = source.adapterPosition\r\n                val targetPosition = target.adapterPosition\r\n\r\n                if (selectedViewHolder == null) {\r\n                    selectedViewHolder = recyclerView.findViewHolderForAdapterPosition(sourcePosition)\r\n                }\r\n\r\n                Collections.swap(customerList,sourcePosition,targetPosition)\r\n                custAdapter.notifyItemMoved(sourcePosition,targetPosition)\r\n                return true\r\n\r\n            }\r\n\r\n            override fun onChildDraw(\r\n                c: Canvas,\r\n                recyclerView: RecyclerView,\r\n                viewHolder: RecyclerView.ViewHolder,\r\n                dX: Float,\r\n                dY: Float,\r\n                actionState: Int,\r\n                isCurrentlyActive: Boolean\r\n            ) {\r\n                if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; isCurrentlyActive &amp;&amp; selectedViewHolder != null) {\r\n                    val itemView = selectedViewHolder!!.itemView\r\n\r\n                    offsetX = if (dX &lt; 0) 0f else dX\r\n                    offsetY = if (dY &lt; 0) 0f else dY\r\n\r\n                    c.save()\r\n                    c.translate(offsetX, offsetY)\r\n                    itemView.draw(c)\r\n                    c.restore()\r\n                } else {\r\n                    super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\r\n                }\r\n            }\r\n            override fun onSelectedChanged(viewHolder: RecyclerView.ViewHolder?, actionState: Int) {\r\n                if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; viewHolder != null) {\r\n         \r\n                    val draggedItemView = viewHolder.itemView\r\n\r\n            \r\n                    val parent = draggedItemView.parent as? ViewGroup\r\n                    parent?.removeView(draggedItemView)\r\n\r\n     \r\n                    val location = IntArray(2)\r\n                    draggedItemView.getLocationOnScreen(location)\r\n\r\n          \r\n                    popupWindow.contentView = draggedItemView\r\n                    popupWindow.width = draggedItemView.width\r\n                    popupWindow.height = draggedItemView.height\r\n                    popupWindow.showAtLocation(draggedItemView, Gravity.NO_GRAVITY, location[0], location[1])\r\n\r\n                    super.onSelectedChanged(viewHolder, actionState)\r\n                }\r\n            }\r\n\r\n            override fun clearView(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder) {\r\n                popupWindow.dismiss()\r\n                super.clearView(recyclerView, viewHolder)\r\n            }\r\n\r\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\r\n                TODO(&quot;Not yet implemented&quot;)\r\n            }\r\n        })\r\n        itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\r\n\r\n        binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\r\n            val gestureDetector = GestureDetector(requireContext(), object : GestureDetector.SimpleOnGestureListener() {\r\n                override fun onLongPress(e: MotionEvent) {\r\n                    val childView = binding.rvCustomerList.findChildViewUnder(e.x, e.y)\r\n                    if (childView != null) {\r\n                        val viewHolder = binding.rvCustomerList.getChildViewHolder(childView)\r\n                        itemTouchHelper.startDrag(viewHolder)\r\n                    }\r\n                }\r\n            })\r\n\r\n            override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\r\n                gestureDetector.onTouchEvent(e)\r\n                return false\r\n            }\r\n\r\n            override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\r\n\r\n            override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\r\n        })\r\n\r\nNow I can see the selected item out of the recyclerview,but behind it.\r\n","title":"Is there a way to lift out an item from the recyclerview and move it to another layout","body":"<p>I want to create  a recyclerview that can drag the seleced items out of the recycler view</p>\n<p>I tried various github solutions,but it is only to move from one recyclerview to another.\nI need to drag the items to a button,and when the item reaches it,it shows a bottom sheet dialog and then I need to insert it to a recyclerview in that bottom sheet.</p>\n<p>So far I have done this</p>\n<pre><code>        val itemTouchHelper = ItemTouchHelper(object : ItemTouchHelper.SimpleCallback(\n        ItemTouchHelper.UP or ItemTouchHelper.DOWN or ItemTouchHelper.ACTION_STATE_DRAG, 0\n    ) {\n        var selectedViewHolder: RecyclerView.ViewHolder? = null\n\n        var offsetX: Float = 0f\n        var offsetY: Float = 0f\n\n        val popupWindow = PopupWindow(context)\n\n        override fun getMovementFlags(\n            recyclerView: RecyclerView,\n            viewHolder: RecyclerView.ViewHolder\n        ): Int {\n            val dragFlags = ItemTouchHelper.UP or ItemTouchHelper.DOWN\n            return makeMovementFlags(dragFlags, 0)\n        }\n\n        override fun onMove(\n            recyclerView: RecyclerView,\n            source: RecyclerView.ViewHolder,\n            target: RecyclerView.ViewHolder\n        ): Boolean {\n            val sourcePosition = source.adapterPosition\n            val targetPosition = target.adapterPosition\n\n            if (selectedViewHolder == null) {\n                selectedViewHolder = recyclerView.findViewHolderForAdapterPosition(sourcePosition)\n            }\n\n            Collections.swap(customerList,sourcePosition,targetPosition)\n            custAdapter.notifyItemMoved(sourcePosition,targetPosition)\n            return true\n\n        }\n\n        override fun onChildDraw(\n            c: Canvas,\n            recyclerView: RecyclerView,\n            viewHolder: RecyclerView.ViewHolder,\n            dX: Float,\n            dY: Float,\n            actionState: Int,\n            isCurrentlyActive: Boolean\n        ) {\n            if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; isCurrentlyActive &amp;&amp; selectedViewHolder != null) {\n                val itemView = selectedViewHolder!!.itemView\n\n                offsetX = if (dX &lt; 0) 0f else dX\n                offsetY = if (dY &lt; 0) 0f else dY\n\n                c.save()\n                c.translate(offsetX, offsetY)\n                itemView.draw(c)\n                c.restore()\n            } else {\n                super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive)\n            }\n        }\n        override fun onSelectedChanged(viewHolder: RecyclerView.ViewHolder?, actionState: Int) {\n            if (actionState == ItemTouchHelper.ACTION_STATE_DRAG &amp;&amp; viewHolder != null) {\n     \n                val draggedItemView = viewHolder.itemView\n\n        \n                val parent = draggedItemView.parent as? ViewGroup\n                parent?.removeView(draggedItemView)\n\n \n                val location = IntArray(2)\n                draggedItemView.getLocationOnScreen(location)\n\n      \n                popupWindow.contentView = draggedItemView\n                popupWindow.width = draggedItemView.width\n                popupWindow.height = draggedItemView.height\n                popupWindow.showAtLocation(draggedItemView, Gravity.NO_GRAVITY, location[0], location[1])\n\n                super.onSelectedChanged(viewHolder, actionState)\n            }\n        }\n\n        override fun clearView(recyclerView: RecyclerView, viewHolder: RecyclerView.ViewHolder) {\n            popupWindow.dismiss()\n            super.clearView(recyclerView, viewHolder)\n        }\n\n        override fun onSwiped(viewHolder: RecyclerView.ViewHolder, direction: Int) {\n            TODO(&quot;Not yet implemented&quot;)\n        }\n    })\n    itemTouchHelper.attachToRecyclerView(binding.rvCustomerList)\n\n    binding.rvCustomerList.addOnItemTouchListener(object : RecyclerView.OnItemTouchListener {\n        val gestureDetector = GestureDetector(requireContext(), object : GestureDetector.SimpleOnGestureListener() {\n            override fun onLongPress(e: MotionEvent) {\n                val childView = binding.rvCustomerList.findChildViewUnder(e.x, e.y)\n                if (childView != null) {\n                    val viewHolder = binding.rvCustomerList.getChildViewHolder(childView)\n                    itemTouchHelper.startDrag(viewHolder)\n                }\n            }\n        })\n\n        override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\n            gestureDetector.onTouchEvent(e)\n            return false\n        }\n\n        override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\n\n        override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\n    })\n</code></pre>\n<p>Now I can see the selected item out of the recyclerview,but behind it.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","quartz-scheduler"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1601295139,"post_id":64101847,"comment_id":113353769,"body_markdown":"So what else do you expect. That is exactly what you have instructed to happen.","body":"So what else do you expect. That is exactly what you have instructed to happen."},{"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"score":0,"creation_date":1601295418,"post_id":64101847,"comment_id":113353887,"body_markdown":"To avoid initialising of tables, i changed setting to                 \n  spring.quartz.jdbc.initialize-schema=never.    But then, i get exception and tables are not generated.","body":"To avoid initialising of tables, i changed setting to                    spring.quartz.jdbc.initialize-schema=never.    But then, i get exception and tables are not generated."}],"answers":[{"tags":[],"owner":{"account_id":1009321,"reputation":10671,"user_id":1022260,"accept_rate":53,"display_name":"mikeb"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1696415369,"creation_date":1601295487,"answer_id":64102055,"question_id":64101847,"body_markdown":"Well, according to the docs:\r\n\r\n\r\n&gt; By default, the database is detected and initialized by using the\r\n&gt; standard scripts provided with the Quartz library. These scripts drop\r\n&gt; existing tables, deleting all triggers on every restart. It is also\r\n&gt; possible to provide a custom script by setting the\r\n&gt; spring.quartz.jdbc.schema property.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-quartz.html\r\n\r\nWhat you could do:\r\n\r\n1. Modify the scripts that quartz uses to create the tables and remove the drop table statements and use `create table if not exists...`: https://github.com/quartz-scheduler/quartz/tree/main/quartz/src/main/resources/org/quartz/impl/jdbcjobstore\r\n\r\n2. Put the statements into a script in your `src/main/resources` directory somewhere (assuming you&#39;re using maven)\r\n3. Set the `spring.quartz.jdbc.schema` to point to your file created in #2\r\n\r\nSince you can use any database, the scripts are going to be database specific.\r\n\r\nOR\r\n\r\nAn alternative is to use flyway/liquibase and use the above scripts as a change in those management systems (this is personally what I would do)\r\n\r\nScripts - \r\n\r\nFor example, mysql is here (you&#39;d want to remove the drop table statements at the beginning and follow the steps above to use custom init scripts):\r\n\r\n```\r\n#\r\n# Quartz seems to work best with the driver mm.mysql-2.0.7-bin.jar\r\n#\r\n# PLEASE consider using mysql with innodb tables to avoid locking issues\r\n#\r\n# In your Quartz properties file, you&#39;ll need to set\r\n# org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate\r\n#\r\n\r\nDROP TABLE IF EXISTS QRTZ_FIRED_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_PAUSED_TRIGGER_GRPS;\r\nDROP TABLE IF EXISTS QRTZ_SCHEDULER_STATE;\r\nDROP TABLE IF EXISTS QRTZ_LOCKS;\r\nDROP TABLE IF EXISTS QRTZ_SIMPLE_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_SIMPROP_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_CRON_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_BLOB_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_TRIGGERS;\r\nDROP TABLE IF EXISTS QRTZ_JOB_DETAILS;\r\nDROP TABLE IF EXISTS QRTZ_CALENDARS;\r\n\r\n\r\nCREATE TABLE QRTZ_JOB_DETAILS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    JOB_NAME  VARCHAR(200) NOT NULL,\r\n    JOB_GROUP VARCHAR(200) NOT NULL,\r\n    DESCRIPTION VARCHAR(250) NULL,\r\n    JOB_CLASS_NAME   VARCHAR(250) NOT NULL,\r\n    IS_DURABLE VARCHAR(1) NOT NULL,\r\n    IS_NONCONCURRENT VARCHAR(1) NOT NULL,\r\n    IS_UPDATE_DATA VARCHAR(1) NOT NULL,\r\n    REQUESTS_RECOVERY VARCHAR(1) NOT NULL,\r\n    JOB_DATA BLOB NULL,\r\n    PRIMARY KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    JOB_NAME  VARCHAR(200) NOT NULL,\r\n    JOB_GROUP VARCHAR(200) NOT NULL,\r\n    DESCRIPTION VARCHAR(250) NULL,\r\n    NEXT_FIRE_TIME BIGINT(13) NULL,\r\n    PREV_FIRE_TIME BIGINT(13) NULL,\r\n    PRIORITY INTEGER NULL,\r\n    TRIGGER_STATE VARCHAR(16) NOT NULL,\r\n    TRIGGER_TYPE VARCHAR(8) NOT NULL,\r\n    START_TIME BIGINT(13) NOT NULL,\r\n    END_TIME BIGINT(13) NULL,\r\n    CALENDAR_NAME VARCHAR(200) NULL,\r\n    MISFIRE_INSTR SMALLINT(2) NULL,\r\n    JOB_DATA BLOB NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\r\n        REFERENCES QRTZ_JOB_DETAILS(SCHED_NAME,JOB_NAME,JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_SIMPLE_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    REPEAT_COUNT BIGINT(7) NOT NULL,\r\n    REPEAT_INTERVAL BIGINT(12) NOT NULL,\r\n    TIMES_TRIGGERED BIGINT(10) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_CRON_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    CRON_EXPRESSION VARCHAR(200) NOT NULL,\r\n    TIME_ZONE_ID VARCHAR(80),\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_SIMPROP_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    STR_PROP_1 VARCHAR(512) NULL,\r\n    STR_PROP_2 VARCHAR(512) NULL,\r\n    STR_PROP_3 VARCHAR(512) NULL,\r\n    INT_PROP_1 INT NULL,\r\n    INT_PROP_2 INT NULL,\r\n    LONG_PROP_1 BIGINT NULL,\r\n    LONG_PROP_2 BIGINT NULL,\r\n    DEC_PROP_1 NUMERIC(13,4) NULL,\r\n    DEC_PROP_2 NUMERIC(13,4) NULL,\r\n    BOOL_PROP_1 VARCHAR(1) NULL,\r\n    BOOL_PROP_2 VARCHAR(1) NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n    REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_BLOB_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    BLOB_DATA BLOB NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_CALENDARS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    CALENDAR_NAME  VARCHAR(200) NOT NULL,\r\n    CALENDAR BLOB NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,CALENDAR_NAME)\r\n);\r\n\r\nCREATE TABLE QRTZ_PAUSED_TRIGGER_GRPS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE QRTZ_FIRED_TRIGGERS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    ENTRY_ID VARCHAR(95) NOT NULL,\r\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\r\n    FIRED_TIME BIGINT(13) NOT NULL,\r\n    SCHED_TIME BIGINT(13) NOT NULL,\r\n    PRIORITY INTEGER NOT NULL,\r\n    STATE VARCHAR(16) NOT NULL,\r\n    JOB_NAME VARCHAR(200) NULL,\r\n    JOB_GROUP VARCHAR(200) NULL,\r\n    IS_NONCONCURRENT VARCHAR(1) NULL,\r\n    REQUESTS_RECOVERY VARCHAR(1) NULL,\r\n    PRIMARY KEY (SCHED_NAME,ENTRY_ID)\r\n);\r\n\r\nCREATE TABLE QRTZ_SCHEDULER_STATE\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\r\n    LAST_CHECKIN_TIME BIGINT(13) NOT NULL,\r\n    CHECKIN_INTERVAL BIGINT(13) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,INSTANCE_NAME)\r\n);\r\n\r\nCREATE TABLE QRTZ_LOCKS\r\n  (\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    LOCK_NAME  VARCHAR(40) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME,LOCK_NAME)\r\n);\r\n\r\n\r\ncommit;\r\n```\r\n\r\n\r\n","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>Well, according to the docs:</p>\n<blockquote>\n<p>By default, the database is detected and initialized by using the\nstandard scripts provided with the Quartz library. These scripts drop\nexisting tables, deleting all triggers on every restart. It is also\npossible to provide a custom script by setting the\nspring.quartz.jdbc.schema property.</p>\n</blockquote>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-quartz.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.1.9.RELEASE/reference/html/boot-features-quartz.html</a></p>\n<p>What you could do:</p>\n<ol>\n<li><p>Modify the scripts that quartz uses to create the tables and remove the drop table statements and use <code>create table if not exists...</code>: <a href=\"https://github.com/quartz-scheduler/quartz/tree/main/quartz/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">https://github.com/quartz-scheduler/quartz/tree/main/quartz/src/main/resources/org/quartz/impl/jdbcjobstore</a></p>\n</li>\n<li><p>Put the statements into a script in your <code>src/main/resources</code> directory somewhere (assuming you're using maven)</p>\n</li>\n<li><p>Set the <code>spring.quartz.jdbc.schema</code> to point to your file created in #2</p>\n</li>\n</ol>\n<p>Since you can use any database, the scripts are going to be database specific.</p>\n<p>OR</p>\n<p>An alternative is to use flyway/liquibase and use the above scripts as a change in those management systems (this is personally what I would do)</p>\n<p>Scripts -</p>\n<p>For example, mysql is here (you'd want to remove the drop table statements at the beginning and follow the steps above to use custom init scripts):</p>\n<pre><code>#\n# Quartz seems to work best with the driver mm.mysql-2.0.7-bin.jar\n#\n# PLEASE consider using mysql with innodb tables to avoid locking issues\n#\n# In your Quartz properties file, you'll need to set\n# org.quartz.jobStore.driverDelegateClass = org.quartz.impl.jdbcjobstore.StdJDBCDelegate\n#\n\nDROP TABLE IF EXISTS QRTZ_FIRED_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_PAUSED_TRIGGER_GRPS;\nDROP TABLE IF EXISTS QRTZ_SCHEDULER_STATE;\nDROP TABLE IF EXISTS QRTZ_LOCKS;\nDROP TABLE IF EXISTS QRTZ_SIMPLE_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_SIMPROP_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_CRON_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_BLOB_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_TRIGGERS;\nDROP TABLE IF EXISTS QRTZ_JOB_DETAILS;\nDROP TABLE IF EXISTS QRTZ_CALENDARS;\n\n\nCREATE TABLE QRTZ_JOB_DETAILS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    JOB_NAME  VARCHAR(200) NOT NULL,\n    JOB_GROUP VARCHAR(200) NOT NULL,\n    DESCRIPTION VARCHAR(250) NULL,\n    JOB_CLASS_NAME   VARCHAR(250) NOT NULL,\n    IS_DURABLE VARCHAR(1) NOT NULL,\n    IS_NONCONCURRENT VARCHAR(1) NOT NULL,\n    IS_UPDATE_DATA VARCHAR(1) NOT NULL,\n    REQUESTS_RECOVERY VARCHAR(1) NOT NULL,\n    JOB_DATA BLOB NULL,\n    PRIMARY KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\n);\n\nCREATE TABLE QRTZ_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    JOB_NAME  VARCHAR(200) NOT NULL,\n    JOB_GROUP VARCHAR(200) NOT NULL,\n    DESCRIPTION VARCHAR(250) NULL,\n    NEXT_FIRE_TIME BIGINT(13) NULL,\n    PREV_FIRE_TIME BIGINT(13) NULL,\n    PRIORITY INTEGER NULL,\n    TRIGGER_STATE VARCHAR(16) NOT NULL,\n    TRIGGER_TYPE VARCHAR(8) NOT NULL,\n    START_TIME BIGINT(13) NOT NULL,\n    END_TIME BIGINT(13) NULL,\n    CALENDAR_NAME VARCHAR(200) NULL,\n    MISFIRE_INSTR SMALLINT(2) NULL,\n    JOB_DATA BLOB NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,JOB_NAME,JOB_GROUP)\n        REFERENCES QRTZ_JOB_DETAILS(SCHED_NAME,JOB_NAME,JOB_GROUP)\n);\n\nCREATE TABLE QRTZ_SIMPLE_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    REPEAT_COUNT BIGINT(7) NOT NULL,\n    REPEAT_INTERVAL BIGINT(12) NOT NULL,\n    TIMES_TRIGGERED BIGINT(10) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_CRON_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    CRON_EXPRESSION VARCHAR(200) NOT NULL,\n    TIME_ZONE_ID VARCHAR(80),\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_SIMPROP_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    STR_PROP_1 VARCHAR(512) NULL,\n    STR_PROP_2 VARCHAR(512) NULL,\n    STR_PROP_3 VARCHAR(512) NULL,\n    INT_PROP_1 INT NULL,\n    INT_PROP_2 INT NULL,\n    LONG_PROP_1 BIGINT NULL,\n    LONG_PROP_2 BIGINT NULL,\n    DEC_PROP_1 NUMERIC(13,4) NULL,\n    DEC_PROP_2 NUMERIC(13,4) NULL,\n    BOOL_PROP_1 VARCHAR(1) NULL,\n    BOOL_PROP_2 VARCHAR(1) NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n    REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_BLOB_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    BLOB_DATA BLOB NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS(SCHED_NAME,TRIGGER_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_CALENDARS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    CALENDAR_NAME  VARCHAR(200) NOT NULL,\n    CALENDAR BLOB NOT NULL,\n    PRIMARY KEY (SCHED_NAME,CALENDAR_NAME)\n);\n\nCREATE TABLE QRTZ_PAUSED_TRIGGER_GRPS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,TRIGGER_GROUP)\n);\n\nCREATE TABLE QRTZ_FIRED_TRIGGERS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    ENTRY_ID VARCHAR(95) NOT NULL,\n    TRIGGER_NAME VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\n    FIRED_TIME BIGINT(13) NOT NULL,\n    SCHED_TIME BIGINT(13) NOT NULL,\n    PRIORITY INTEGER NOT NULL,\n    STATE VARCHAR(16) NOT NULL,\n    JOB_NAME VARCHAR(200) NULL,\n    JOB_GROUP VARCHAR(200) NULL,\n    IS_NONCONCURRENT VARCHAR(1) NULL,\n    REQUESTS_RECOVERY VARCHAR(1) NULL,\n    PRIMARY KEY (SCHED_NAME,ENTRY_ID)\n);\n\nCREATE TABLE QRTZ_SCHEDULER_STATE\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    INSTANCE_NAME VARCHAR(200) NOT NULL,\n    LAST_CHECKIN_TIME BIGINT(13) NOT NULL,\n    CHECKIN_INTERVAL BIGINT(13) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,INSTANCE_NAME)\n);\n\nCREATE TABLE QRTZ_LOCKS\n  (\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    LOCK_NAME  VARCHAR(40) NOT NULL,\n    PRIMARY KEY (SCHED_NAME,LOCK_NAME)\n);\n\n\ncommit;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3673241,"reputation":1185,"user_id":3059896,"display_name":"Shehan Simen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622602589,"creation_date":1622602589,"answer_id":67798339,"question_id":64101847,"body_markdown":"I did the following steps for Spring boot to get it running perfectly.\r\n\r\nI created the schema manually called &quot;quartz&quot;. Then created all the tables manually by copying the correct script from [https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore][1] \r\n\r\n\r\n  [1]: https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\r\n\r\nThen I have the following properties in the spring boot properties file:\r\n\r\n    spring.quartz.jdbc.initialize-schema=never\r\n    spring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\r\n\r\nAll the other properties I set are as follows:\r\n\r\n    #==============================================================\r\n    # QUARTZ Configuration\r\n    #==============================================================\r\n    spring.quartz.job-store-type=jdbc\r\n    spring.quartz.jdbc.initialize-schema=never\r\n    spring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\r\n    spring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\r\n    spring.quartz.properties.org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\r\n    spring.quartz.properties.org.quartz.threadPool.threadCount=25\r\n    spring.quartz.properties.org.quartz.threadPool.threadPriority=5\r\n    spring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\r\n    spring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\r\n    spring.quartz.properties.org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\r\n    spring.quartz.properties.org.quartz.jobStore.useProperties=false\r\n    spring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\r\n    spring.quartz.properties.org.quartz.jobStore.isClustered=true\r\n    spring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=5000\r\n\r\n","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>I did the following steps for Spring boot to get it running perfectly.</p>\n<p>I created the schema manually called &quot;quartz&quot;. Then created all the tables manually by copying the correct script from <a href=\"https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore\" rel=\"nofollow noreferrer\">https://github.com/quartz-scheduler/quartz/tree/master/quartz-core/src/main/resources/org/quartz/impl/jdbcjobstore</a></p>\n<p>Then I have the following properties in the spring boot properties file:</p>\n<pre><code>spring.quartz.jdbc.initialize-schema=never\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\n</code></pre>\n<p>All the other properties I set are as follows:</p>\n<pre><code>#==============================================================\n# QUARTZ Configuration\n#==============================================================\nspring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema=never\nspring.quartz.properties.org.quartz.jobStore.driverDelegateClass=org.quartz.impl.jdbcjobstore.PostgreSQLDelegate\nspring.quartz.properties.org.quartz.scheduler.instanceId=AUTO\nspring.quartz.properties.org.quartz.threadPool.class=org.quartz.simpl.SimpleThreadPool\nspring.quartz.properties.org.quartz.threadPool.threadCount=25\nspring.quartz.properties.org.quartz.threadPool.threadPriority=5\nspring.quartz.properties.org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread=true\nspring.quartz.properties.org.quartz.jobStore.misfireThreshold=60000\nspring.quartz.properties.org.quartz.jobStore.class=org.quartz.impl.jdbcjobstore.JobStoreTX\nspring.quartz.properties.org.quartz.jobStore.useProperties=false\nspring.quartz.properties.org.quartz.jobStore.tablePrefix=quartz.QRTZ_\nspring.quartz.properties.org.quartz.jobStore.isClustered=true\nspring.quartz.properties.org.quartz.jobStore.clusterCheckinInterval=5000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6431288,"reputation":359,"user_id":4984327,"display_name":"Sunny Pelletier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627045069,"creation_date":1627045069,"answer_id":68499578,"question_id":64101847,"body_markdown":"I did the same. I used the solution 1) however, since i wanted everything to be created automatically. I created a file in my resources `quartz/schema.sql` and set the property `spring.quartz.jdbc.schema: classpath:quartz/schema.sql`. \r\n\r\n\r\nFor reference, here is my script for PostgreSQL 9: \r\n```sql\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_JOB_DETAILS\r\n(\r\n    SCHED_NAME        VARCHAR(120) NOT NULL,\r\n    JOB_NAME          VARCHAR(200) NOT NULL,\r\n    JOB_GROUP         VARCHAR(200) NOT NULL,\r\n    DESCRIPTION       VARCHAR(250) NULL,\r\n    JOB_CLASS_NAME    VARCHAR(250) NOT NULL,\r\n    IS_DURABLE        BOOL         NOT NULL,\r\n    IS_NONCONCURRENT  BOOL         NOT NULL,\r\n    IS_UPDATE_DATA    BOOL         NOT NULL,\r\n    REQUESTS_RECOVERY BOOL         NOT NULL,\r\n    JOB_DATA          BYTEA        NULL,\r\n    PRIMARY KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_TRIGGERS\r\n(\r\n    SCHED_NAME     VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME   VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\r\n    JOB_NAME       VARCHAR(200) NOT NULL,\r\n    JOB_GROUP      VARCHAR(200) NOT NULL,\r\n    DESCRIPTION    VARCHAR(250) NULL,\r\n    NEXT_FIRE_TIME BIGINT       NULL,\r\n    PREV_FIRE_TIME BIGINT       NULL,\r\n    PRIORITY       INTEGER      NULL,\r\n    TRIGGER_STATE  VARCHAR(16)  NOT NULL,\r\n    TRIGGER_TYPE   VARCHAR(8)   NOT NULL,\r\n    START_TIME     BIGINT       NOT NULL,\r\n    END_TIME       BIGINT       NULL,\r\n    CALENDAR_NAME  VARCHAR(200) NULL,\r\n    MISFIRE_INSTR  SMALLINT     NULL,\r\n    JOB_DATA       BYTEA        NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\r\n        REFERENCES QRTZ_JOB_DETAILS (SCHED_NAME, JOB_NAME, JOB_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPLE_TRIGGERS\r\n(\r\n    SCHED_NAME      VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\r\n    REPEAT_COUNT    BIGINT       NOT NULL,\r\n    REPEAT_INTERVAL BIGINT       NOT NULL,\r\n    TIMES_TRIGGERED BIGINT       NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_CRON_TRIGGERS\r\n(\r\n    SCHED_NAME      VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\r\n    CRON_EXPRESSION VARCHAR(120) NOT NULL,\r\n    TIME_ZONE_ID    VARCHAR(80),\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPROP_TRIGGERS\r\n(\r\n    SCHED_NAME    VARCHAR(120)   NOT NULL,\r\n    TRIGGER_NAME  VARCHAR(200)   NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200)   NOT NULL,\r\n    STR_PROP_1    VARCHAR(512)   NULL,\r\n    STR_PROP_2    VARCHAR(512)   NULL,\r\n    STR_PROP_3    VARCHAR(512)   NULL,\r\n    INT_PROP_1    INT            NULL,\r\n    INT_PROP_2    INT            NULL,\r\n    LONG_PROP_1   BIGINT         NULL,\r\n    LONG_PROP_2   BIGINT         NULL,\r\n    DEC_PROP_1    NUMERIC(13, 4) NULL,\r\n    DEC_PROP_2    NUMERIC(13, 4) NULL,\r\n    BOOL_PROP_1   BOOL           NULL,\r\n    BOOL_PROP_2   BOOL           NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_BLOB_TRIGGERS\r\n(\r\n    SCHED_NAME    VARCHAR(120) NOT NULL,\r\n    TRIGGER_NAME  VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    BLOB_DATA     BYTEA        NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\r\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_CALENDARS\r\n(\r\n    SCHED_NAME    VARCHAR(120) NOT NULL,\r\n    CALENDAR_NAME VARCHAR(200) NOT NULL,\r\n    CALENDAR      BYTEA        NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, CALENDAR_NAME)\r\n);\r\n\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_PAUSED_TRIGGER_GRPS\r\n(\r\n    SCHED_NAME    VARCHAR(120) NOT NULL,\r\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, TRIGGER_GROUP)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_FIRED_TRIGGERS\r\n(\r\n    SCHED_NAME        VARCHAR(120) NOT NULL,\r\n    ENTRY_ID          VARCHAR(95)  NOT NULL,\r\n    TRIGGER_NAME      VARCHAR(200) NOT NULL,\r\n    TRIGGER_GROUP     VARCHAR(200) NOT NULL,\r\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\r\n    FIRED_TIME        BIGINT       NOT NULL,\r\n    SCHED_TIME        BIGINT       NOT NULL,\r\n    PRIORITY          INTEGER      NOT NULL,\r\n    STATE             VARCHAR(16)  NOT NULL,\r\n    JOB_NAME          VARCHAR(200) NULL,\r\n    JOB_GROUP         VARCHAR(200) NULL,\r\n    IS_NONCONCURRENT  BOOL         NULL,\r\n    REQUESTS_RECOVERY BOOL         NULL,\r\n    PRIMARY KEY (SCHED_NAME, ENTRY_ID)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_SCHEDULER_STATE\r\n(\r\n    SCHED_NAME        VARCHAR(120) NOT NULL,\r\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\r\n    LAST_CHECKIN_TIME BIGINT       NOT NULL,\r\n    CHECKIN_INTERVAL  BIGINT       NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, INSTANCE_NAME)\r\n);\r\n\r\nCREATE TABLE IF NOT EXISTS QRTZ_LOCKS\r\n(\r\n    SCHED_NAME VARCHAR(120) NOT NULL,\r\n    LOCK_NAME  VARCHAR(40)  NOT NULL,\r\n    PRIMARY KEY (SCHED_NAME, LOCK_NAME)\r\n);\r\n\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_REQ_RECOVERY\r\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, REQUESTS_RECOVERY);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_GRP\r\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, JOB_GROUP);\r\n\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_J\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_JG\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_C\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, CALENDAR_NAME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_G\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_STATE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_STATE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_G_STATE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NEXT_FIRE_TIME\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, NEXT_FIRE_TIME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE, NEXT_FIRE_TIME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_MISFIRE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_STATE);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE_GRP\r\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_GROUP, TRIGGER_STATE);\r\n\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TRIG_INST_NAME\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_INST_JOB_REQ_RCVRY\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME, REQUESTS_RECOVERY);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_J_G\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_JG\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_T_G\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP);\r\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TG\r\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\r\n\r\n```","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>I did the same. I used the solution 1) however, since i wanted everything to be created automatically. I created a file in my resources <code>quartz/schema.sql</code> and set the property <code>spring.quartz.jdbc.schema: classpath:quartz/schema.sql</code>.</p>\n<p>For reference, here is my script for PostgreSQL 9:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nCREATE TABLE IF NOT EXISTS QRTZ_JOB_DETAILS\n(\n    SCHED_NAME        VARCHAR(120) NOT NULL,\n    JOB_NAME          VARCHAR(200) NOT NULL,\n    JOB_GROUP         VARCHAR(200) NOT NULL,\n    DESCRIPTION       VARCHAR(250) NULL,\n    JOB_CLASS_NAME    VARCHAR(250) NOT NULL,\n    IS_DURABLE        BOOL         NOT NULL,\n    IS_NONCONCURRENT  BOOL         NOT NULL,\n    IS_UPDATE_DATA    BOOL         NOT NULL,\n    REQUESTS_RECOVERY BOOL         NOT NULL,\n    JOB_DATA          BYTEA        NULL,\n    PRIMARY KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_TRIGGERS\n(\n    SCHED_NAME     VARCHAR(120) NOT NULL,\n    TRIGGER_NAME   VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP  VARCHAR(200) NOT NULL,\n    JOB_NAME       VARCHAR(200) NOT NULL,\n    JOB_GROUP      VARCHAR(200) NOT NULL,\n    DESCRIPTION    VARCHAR(250) NULL,\n    NEXT_FIRE_TIME BIGINT       NULL,\n    PREV_FIRE_TIME BIGINT       NULL,\n    PRIORITY       INTEGER      NULL,\n    TRIGGER_STATE  VARCHAR(16)  NOT NULL,\n    TRIGGER_TYPE   VARCHAR(8)   NOT NULL,\n    START_TIME     BIGINT       NOT NULL,\n    END_TIME       BIGINT       NULL,\n    CALENDAR_NAME  VARCHAR(200) NULL,\n    MISFIRE_INSTR  SMALLINT     NULL,\n    JOB_DATA       BYTEA        NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, JOB_NAME, JOB_GROUP)\n        REFERENCES QRTZ_JOB_DETAILS (SCHED_NAME, JOB_NAME, JOB_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPLE_TRIGGERS\n(\n    SCHED_NAME      VARCHAR(120) NOT NULL,\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\n    REPEAT_COUNT    BIGINT       NOT NULL,\n    REPEAT_INTERVAL BIGINT       NOT NULL,\n    TIMES_TRIGGERED BIGINT       NOT NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_CRON_TRIGGERS\n(\n    SCHED_NAME      VARCHAR(120) NOT NULL,\n    TRIGGER_NAME    VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP   VARCHAR(200) NOT NULL,\n    CRON_EXPRESSION VARCHAR(120) NOT NULL,\n    TIME_ZONE_ID    VARCHAR(80),\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_SIMPROP_TRIGGERS\n(\n    SCHED_NAME    VARCHAR(120)   NOT NULL,\n    TRIGGER_NAME  VARCHAR(200)   NOT NULL,\n    TRIGGER_GROUP VARCHAR(200)   NOT NULL,\n    STR_PROP_1    VARCHAR(512)   NULL,\n    STR_PROP_2    VARCHAR(512)   NULL,\n    STR_PROP_3    VARCHAR(512)   NULL,\n    INT_PROP_1    INT            NULL,\n    INT_PROP_2    INT            NULL,\n    LONG_PROP_1   BIGINT         NULL,\n    LONG_PROP_2   BIGINT         NULL,\n    DEC_PROP_1    NUMERIC(13, 4) NULL,\n    DEC_PROP_2    NUMERIC(13, 4) NULL,\n    BOOL_PROP_1   BOOL           NULL,\n    BOOL_PROP_2   BOOL           NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_BLOB_TRIGGERS\n(\n    SCHED_NAME    VARCHAR(120) NOT NULL,\n    TRIGGER_NAME  VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    BLOB_DATA     BYTEA        NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP),\n    FOREIGN KEY (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n        REFERENCES QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_CALENDARS\n(\n    SCHED_NAME    VARCHAR(120) NOT NULL,\n    CALENDAR_NAME VARCHAR(200) NOT NULL,\n    CALENDAR      BYTEA        NOT NULL,\n    PRIMARY KEY (SCHED_NAME, CALENDAR_NAME)\n);\n\n\nCREATE TABLE IF NOT EXISTS QRTZ_PAUSED_TRIGGER_GRPS\n(\n    SCHED_NAME    VARCHAR(120) NOT NULL,\n    TRIGGER_GROUP VARCHAR(200) NOT NULL,\n    PRIMARY KEY (SCHED_NAME, TRIGGER_GROUP)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_FIRED_TRIGGERS\n(\n    SCHED_NAME        VARCHAR(120) NOT NULL,\n    ENTRY_ID          VARCHAR(95)  NOT NULL,\n    TRIGGER_NAME      VARCHAR(200) NOT NULL,\n    TRIGGER_GROUP     VARCHAR(200) NOT NULL,\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\n    FIRED_TIME        BIGINT       NOT NULL,\n    SCHED_TIME        BIGINT       NOT NULL,\n    PRIORITY          INTEGER      NOT NULL,\n    STATE             VARCHAR(16)  NOT NULL,\n    JOB_NAME          VARCHAR(200) NULL,\n    JOB_GROUP         VARCHAR(200) NULL,\n    IS_NONCONCURRENT  BOOL         NULL,\n    REQUESTS_RECOVERY BOOL         NULL,\n    PRIMARY KEY (SCHED_NAME, ENTRY_ID)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_SCHEDULER_STATE\n(\n    SCHED_NAME        VARCHAR(120) NOT NULL,\n    INSTANCE_NAME     VARCHAR(200) NOT NULL,\n    LAST_CHECKIN_TIME BIGINT       NOT NULL,\n    CHECKIN_INTERVAL  BIGINT       NOT NULL,\n    PRIMARY KEY (SCHED_NAME, INSTANCE_NAME)\n);\n\nCREATE TABLE IF NOT EXISTS QRTZ_LOCKS\n(\n    SCHED_NAME VARCHAR(120) NOT NULL,\n    LOCK_NAME  VARCHAR(40)  NOT NULL,\n    PRIMARY KEY (SCHED_NAME, LOCK_NAME)\n);\n\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_REQ_RECOVERY\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, REQUESTS_RECOVERY);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_J_GRP\n    ON QRTZ_JOB_DETAILS (SCHED_NAME, JOB_GROUP);\n\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_J\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_JG\n    ON QRTZ_TRIGGERS (SCHED_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_C\n    ON QRTZ_TRIGGERS (SCHED_NAME, CALENDAR_NAME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_G\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_STATE\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_STATE\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_N_G_STATE\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_GROUP, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NEXT_FIRE_TIME\n    ON QRTZ_TRIGGERS (SCHED_NAME, NEXT_FIRE_TIME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST\n    ON QRTZ_TRIGGERS (SCHED_NAME, TRIGGER_STATE, NEXT_FIRE_TIME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_MISFIRE\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_STATE);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_T_NFT_ST_MISFIRE_GRP\n    ON QRTZ_TRIGGERS (SCHED_NAME, MISFIRE_INSTR, NEXT_FIRE_TIME, TRIGGER_GROUP, TRIGGER_STATE);\n\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TRIG_INST_NAME\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_INST_JOB_REQ_RCVRY\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, INSTANCE_NAME, REQUESTS_RECOVERY);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_J_G\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_JG\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, JOB_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_T_G\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_NAME, TRIGGER_GROUP);\nCREATE INDEX IF NOT EXISTS IDX_QRTZ_FT_TG\n    ON QRTZ_FIRED_TRIGGERS (SCHED_NAME, TRIGGER_GROUP);\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19405208,"reputation":1,"user_id":14190831,"display_name":"Nikhil Pawar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669266184,"creation_date":1669266184,"answer_id":74555838,"question_id":64101847,"body_markdown":"Remove below property from application.properties &amp; your Quartz table data won&#39;t be deleted on every restart.\r\nspring.quartz.jdbc.initialize-schema=always","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>Remove below property from application.properties &amp; your Quartz table data won't be deleted on every restart.\nspring.quartz.jdbc.initialize-schema=always</p>\n"}],"owner":{"account_id":19049700,"reputation":111,"user_id":13908140,"display_name":"Stephan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21937,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1696415369,"creation_date":1601294661,"question_id":64101847,"body_markdown":"We are using quartz in spring boot application.\r\nFor storing job information, I have used jdbc store.\r\nIn `application.properties` file, I have following: \r\n\r\n```\r\nspring.quartz.job-store-type=jdbc\r\nspring.quartz.jdbc.initialize-schema=always\r\n```\r\nBut after every restart, tables are initialised, and all stored info is lost.\r\nIf I change spring.quartz.jdbc.initialize-schema to never, I get exception while creating tables.\r\n\r\nI do not want to delete quartz table data after restart.\r\nCan you help me ?\r\n\r\nRegards,\r\nStephan\r\n","title":"Spring boot quartz: jdbc tables are always initailized","body":"<p>We are using quartz in spring boot application.\nFor storing job information, I have used jdbc store.\nIn <code>application.properties</code> file, I have following:</p>\n<pre><code>spring.quartz.job-store-type=jdbc\nspring.quartz.jdbc.initialize-schema=always\n</code></pre>\n<p>But after every restart, tables are initialised, and all stored info is lost.\nIf I change spring.quartz.jdbc.initialize-schema to never, I get exception while creating tables.</p>\n<p>I do not want to delete quartz table data after restart.\nCan you help me ?</p>\n<p>Regards,\nStephan</p>\n"},{"tags":["java","spring","spring-boot","redis","spring-session"],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696415056,"creation_date":1696415056,"question_id":77228747,"body_markdown":"I&#39;m trying to setup Spring session with Redis and I want data to be serialized to JSON.\r\n\r\nThis is my SessionConfig:\r\n\r\n```java\r\n@Configuration\r\npublic class SessionConfig implements BeanClassLoaderAware {\r\n\r\n    @Value(&quot;${server.session.cookie.secure}&quot;)\r\n    private Boolean useSecureCookie;\r\n\r\n    private ClassLoader loader;\r\n\r\n    @Bean\r\n    public RedisSerializer&lt;Object&gt; springSessionDefaultRedisSerializer() {\r\n        return new GenericJackson2JsonRedisSerializer(objectMapper());\r\n    }\r\n\r\n    private ObjectMapper objectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModules(SecurityJackson2Modules.getModules(this.loader));\r\n        return mapper;\r\n    }\r\n\r\n    @Override\r\n    public void setBeanClassLoader(ClassLoader classLoader) {\r\n        this.loader = classLoader;\r\n    }\r\n\r\n    @Bean\r\n    public DefaultCookieSerializer cookieSerializer() {\r\n        DefaultCookieSerializer serializer = new DefaultCookieSerializer();\r\n        serializer.setCookieName(&quot;SESSION&quot;);\r\n        serializer.setCookiePath(&quot;/&quot;);\r\n        serializer.setUseSecureCookie(Optional.ofNullable(useSecureCookie).orElse(false));\r\n        return serializer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m getting this exception when logging in:\r\n\r\n&gt; org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;])\r\n\r\nJava version 8\r\nSpring boot version is 1.5.12.RELEASE\r\nSpring Session and Spring Session Data Redis versions are both 1.3.5.RELEASE\r\n\r\nAm I missing something in configuration?","title":"Spring Session Redis failing to serialize OAuth2AccessToken","body":"<p>I'm trying to setup Spring session with Redis and I want data to be serialized to JSON.</p>\n<p>This is my SessionConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class SessionConfig implements BeanClassLoaderAware {\n\n    @Value(&quot;${server.session.cookie.secure}&quot;)\n    private Boolean useSecureCookie;\n\n    private ClassLoader loader;\n\n    @Bean\n    public RedisSerializer&lt;Object&gt; springSessionDefaultRedisSerializer() {\n        return new GenericJackson2JsonRedisSerializer(objectMapper());\n    }\n\n    private ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModules(SecurityJackson2Modules.getModules(this.loader));\n        return mapper;\n    }\n\n    @Override\n    public void setBeanClassLoader(ClassLoader classLoader) {\n        this.loader = classLoader;\n    }\n\n    @Bean\n    public DefaultCookieSerializer cookieSerializer() {\n        DefaultCookieSerializer serializer = new DefaultCookieSerializer();\n        serializer.setCookieName(&quot;SESSION&quot;);\n        serializer.setCookiePath(&quot;/&quot;);\n        serializer.setUseSecureCookie(Optional.ofNullable(useSecureCookie).orElse(false));\n        return serializer;\n    }\n\n}\n</code></pre>\n<p>I'm getting this exception when logging in:</p>\n<blockquote>\n<p>org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;]); nested exception is com.fasterxml.jackson.databind.JsonMappingException: Type id handling not implemented for type org.springframework.security.oauth2.common.OAuth2AccessToken (by serializer of type org.springframework.security.oauth2.common.OAuth2AccessTokenJackson2Serializer) (through reference chain: org.springframework.security.core.context.SecurityContextImpl[&quot;authentication&quot;]-&gt;org.springframework.security.oauth2.provider.OAuth2Authentication[&quot;userAuthentication&quot;]-&gt;org.springframework.security.authentication.UsernamePasswordAuthenticationToken[&quot;principal&quot;]-&gt;my.package.app.security.OAuth2Employee[&quot;accessToken&quot;])</p>\n</blockquote>\n<p>Java version 8\nSpring boot version is 1.5.12.RELEASE\nSpring Session and Spring Session Data Redis versions are both 1.3.5.RELEASE</p>\n<p>Am I missing something in configuration?</p>\n"},{"tags":["java","project-loom","java-21"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1696416928,"post_id":77228694,"comment_id":136149359,"body_markdown":"I suppose, Structured Concurrency has a higher priority at the moment.","body":"I suppose, Structured Concurrency has a higher priority at the moment."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1697356672,"post_id":77228694,"comment_id":136267671,"body_markdown":"&quot;Loom is now released&quot; - Technically, that&#39;s wrong. Loom isn&#39;t released, it&#39;s an OpenJDK project that&#39;s still going on. Virtual threads are finalized.","body":"&quot;Loom is now released&quot; - Technically, that&#39;s wrong. Loom isn&#39;t released, it&#39;s an OpenJDK project that&#39;s still going on. Virtual threads are finalized."}],"owner":{"account_id":2195613,"reputation":81,"user_id":1941379,"display_name":"cw124"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1696414590,"creation_date":1696414590,"question_id":77228694,"body_markdown":"In [State of Loom: part 2](https://cr.openjdk.org/~rpressler/loom/loom/sol1_part2.html#channels), there&#39;s a discussion about channels, and that Doug Lea had started working on a synchronous counterpart to `Flow`, called a `Carrier`.\r\n\r\nThat was back in May 2020, and Loom is now released. I can find no further mention of Carriers or channels or any similar mechanism anywhere. Does anyone know what happened to it? Did it get released and I just can&#39;t find it?! Is it still planned for some future Java version? Was it abandoned because `LinkedTransferQueue` was deemed sufficient?","title":"What happened to Channels in project Loom?","body":"<p>In <a href=\"https://cr.openjdk.org/%7Erpressler/loom/loom/sol1_part2.html#channels\" rel=\"nofollow noreferrer\">State of Loom: part 2</a>, there's a discussion about channels, and that Doug Lea had started working on a synchronous counterpart to <code>Flow</code>, called a <code>Carrier</code>.</p>\n<p>That was back in May 2020, and Loom is now released. I can find no further mention of Carriers or channels or any similar mechanism anywhere. Does anyone know what happened to it? Did it get released and I just can't find it?! Is it still planned for some future Java version? Was it abandoned because <code>LinkedTransferQueue</code> was deemed sufficient?</p>\n"},{"tags":["java","for-loop","processing","drawing","ellipse"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1696332991,"post_id":77221805,"comment_id":136136582,"body_markdown":"there is no code in your question that draws an ellipse","body":"there is no code in your question that draws an ellipse"},{"owner":{"account_id":29587744,"reputation":11,"user_id":22676045,"display_name":"Dggamp"},"score":0,"creation_date":1696334117,"post_id":77221805,"comment_id":136136818,"body_markdown":"ellipse(pointx,pointy,5,5);","body":"ellipse(pointx,pointy,5,5);"},{"owner":{"account_id":29587744,"reputation":11,"user_id":22676045,"display_name":"Dggamp"},"score":0,"creation_date":1696342294,"post_id":77221805,"comment_id":136138580,"body_markdown":"Yes, the output is valid and the coordinates are within the screen area.","body":"Yes, the output is valid and the coordinates are within the screen area."}],"answers":[{"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696414053,"creation_date":1696347058,"answer_id":77223634,"question_id":77221805,"body_markdown":"There are several things happening at the same time and it will be easier to break down the program into simpler steps and tackle them one at a time.\r\n\r\nFor example:\r\n 1. Your code is using the Visualcrossing Weather API. You&#39;re using `xxx` as a placeholder for where the API key should be. That&#39;s perfectly fine when sharing code online. You need to keep that key private: just make sure you replace xxx with your actual Visualcrossing API Key when running the code locally.\r\n 2. Your code is using two nested for loops which will result in 8 x 11 requests to be made *instantly* every single time you run the sketch. Usually Web API have a rate limit: you can not call them multiple times in very short bursts. You could split your program into two: one that requests the 88 weather data points and caches the data to a local .json file that you can use later; a sketch that simply loads the local .json file and visualised the data as you see fit. (This way you won&#39;t get blocked by API and you can iterate/try as many versions of visualising as you&#39;d like using cached data.)\r\n 3. It&#39;s unclear how you want to map the data into the API and back from the API. Maybe the `i` loop (from 0 to 8) is meant to be 0 to 7 days and `p` (from 0 to 11) represents months so you&#39;d get the maximum temperature for each day in a single week, one month at a time ? There is confusion over `m` since you always set it to `m= calendar.get(Calendar.MONTH) + 1;`.(Similarly the `p` counter is not used to increment the dates).\r\n\r\nHere are a few hopefully helping bits of info for each section.\r\n\r\n\r\n**API Key error**\r\nWhen I run your code I get this error in Processing&#39;s Console:\r\n\r\n```java\r\nWARNING: Authentication error: Unable to respond to any of these challenges: {}\r\njava.lang.RuntimeException: A JSONObject text must begin with &#39;{&#39;\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\r\n\tat processing.core.PApplet.parseJSONObject(PApplet.java:5377)\r\n\tat sketch_231003b.setup(sketch_231003b.java:59)\r\n\tat processing.core.PApplet.handleDraw(PApplet.java:2051)\r\n\tat processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\r\n\tat processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\r\nNullPointerException\r\n```\r\n\r\nThis simply means the `xxx` API is incorrect and in your code you need to use your actual API Key. (Please don&#39;t share that publicly online).\r\n\r\nOne typical way of handling this is to set the API key as an environment variable (e.g. `MY_API_KEY=#######` then in Processing you&#39;d use `System.getenv(&#39;MY_API_KEY&#39;)` to retrieve the value). If you&#39;re not familiar with setting up environment variables don&#39;t worry about it: hardcoding the key for now will do. Just be careful who you share that code with :)\r\n\r\n\r\n**Caching data** \r\n\r\nYou already make a query and parse the response here:\r\n\r\n```\r\nGetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\r\nget.send();\r\nJSONObject response = parseJSONObject(get.getContent());\r\n```\r\n\r\nYou can use a `JSONArray`(https://processing.org/reference/JSONArray.html) to store your data.\r\nHere&#39;s an example based on your code:\r\n\r\n```java\r\nimport http.requests.*;\r\nimport java.util.Calendar;\r\n\r\n\r\nvoid setup()\r\n{\r\n  background(0);\r\n  \r\n  String API_KEY = &quot;PLACE_YOUR_WEATHER_API_KEY_HERE&quot;;\r\n  // prepare JSONArray to cache Weather API data\r\n  JSONArray weatherAPIData = new JSONArray(); \r\n  // counter for each API call / data entry\r\n  int weatherAPICounter = 0;\r\n  \r\n  Calendar calendar = Calendar.getInstance();\r\n  \r\n  int d;\r\n  int m;\r\n  int y;\r\n  \r\n  int cols = 8;\r\n  int rows = 11;\r\n  int total = rows * cols;\r\n  \r\n  for(int i = 0; i &lt; cols; i++)\r\n  {\r\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\r\n    m = calendar.get(Calendar.MONTH) + 1;\r\n    d = calendar.get(Calendar.DAY_OF_MONTH);\r\n    \r\n    for (int p = 0; p &lt; rows; p++)\r\n    {\r\n      calendar.add(Calendar.YEAR, -1);\r\n      y = calendar.get(Calendar.YEAR);\r\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\r\n      println(&quot;requesting&quot;, todate, weatherAPICounter+1, &quot;of&quot;, total);\r\n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot; + todate + &quot;?unitGroup=metric&amp;include=days&amp;key=&quot; + API_KEY + &quot;&amp;contentType=json&quot;);\r\n      get.send();\r\n      println(&quot;Reponse Content: &quot; + get.getContent());\r\n\r\n      JSONObject response = parseJSONObject(get.getContent());\r\n      // cache the API data into RAM\r\n      weatherAPIData.setJSONObject(weatherAPICounter, response);\r\n      // increment data counter\r\n      weatherAPICounter++;\r\n      // wait 1s in between calls (to avoid API rate limits)\r\n      delay(1000);\r\n    }\r\n  }\r\n  \r\n  // persist the API data cache to disk\r\n  saveJSONArray(weatherAPIData, &quot;data/weather-api-data.json&quot;);\r\n  \r\n  println(&quot;cached saved to the data folder&quot;);\r\n  exit();\r\n}\r\n\r\n```\r\n\r\nAs mentioned above the date mapping process is unclear. Currently it requests data years which the API doesn&#39;t seem to support:\r\n\r\n```java\r\nReponse Content: Bad API Request:Invalid year requested. Years must be between 1950 and 2050\r\njava.lang.RuntimeException: A JSONObject text must begin with &#39;{&#39;\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\r\n\tat processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\r\n\tat processing.core.PApplet.parseJSONObject(PApplet.java:5377)\r\n\tat JSONAPICache.setup(JSONAPICache.java:61)\r\n\tat processing.core.PApplet.handleDraw(PApplet.java:2051)\r\n\tat processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\r\n\tat processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\r\n```\r\n\r\n(Bare in mind the [weather API documentation][1] mentions a few other endpoints. Depending on what data you&#39;re after there could an option to query the data you&#39;re after in a single (or less calls))\r\n\r\nOnce you have this data you can write a separate sketch that loads it and renders ellipses based on the mapped `maxtemp` data. Remember to drag and drop the weather-api-data.json file from the sketch above into the new sketch:\r\n\r\n```java\r\n\r\nvoid setup()\r\n{\r\n  fullScreen();\r\n  background(0);\r\n  noStroke();\r\n  \r\n  \r\n  int cols = 8;\r\n  int rows = 11;\r\n  \r\n  // load cached data\r\n  JSONArray weatherAPIData = loadJSONArray(&quot;data/weather-api-data.json&quot;);\r\n  // counter for each API call / data entry\r\n  int weatherAPICounter = 0;\r\n  \r\n  \r\n  for(int i = 0; i &lt; cols; i++)\r\n  {\r\n    for (int p = 0; p &lt; rows; p++)\r\n    {\r\n      // try to get each request (and handle errors)\r\n      try {\r\n        \r\n        JSONObject response = weatherAPIData.getJSONObject(weatherAPICounter);\r\n        float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\r\n        \r\n        float pointx = width-width/10-width/10*i;\r\n        float pointy = height/2+tempmax*10;\r\n        \r\n        println(pointx + &quot;, &quot; + pointy);\r\n        ellipse(pointx,pointy,5,5);\r\n        \r\n      \r\n      } catch(Exception e){\r\n        println(&quot;encountered null data index&quot;, weatherAPICounter);\r\n        e.printStackTrace();\r\n      }\r\n      \r\n      // increment JSONArray counter \r\n      weatherAPICounter++;\r\n    }\r\n  }\r\n  \r\n}\r\n```\r\n\r\n(You might also find the `map()`(https://processing.org/reference/map_.html) function handy to remap the `maxtemp` data).\r\n\r\nGood luck debugging and have fun visualising data. \r\n\r\n\r\n  [1]: https://www.visualcrossing.com/resources/documentation/weather-api/timeline-weather-api/","title":"Why are the ellipses not being displayed in my Processing-Code?","body":"<p>There are several things happening at the same time and it will be easier to break down the program into simpler steps and tackle them one at a time.</p>\n<p>For example:</p>\n<ol>\n<li>Your code is using the Visualcrossing Weather API. You're using <code>xxx</code> as a placeholder for where the API key should be. That's perfectly fine when sharing code online. You need to keep that key private: just make sure you replace xxx with your actual Visualcrossing API Key when running the code locally.</li>\n<li>Your code is using two nested for loops which will result in 8 x 11 requests to be made <em>instantly</em> every single time you run the sketch. Usually Web API have a rate limit: you can not call them multiple times in very short bursts. You could split your program into two: one that requests the 88 weather data points and caches the data to a local .json file that you can use later; a sketch that simply loads the local .json file and visualised the data as you see fit. (This way you won't get blocked by API and you can iterate/try as many versions of visualising as you'd like using cached data.)</li>\n<li>It's unclear how you want to map the data into the API and back from the API. Maybe the <code>i</code> loop (from 0 to 8) is meant to be 0 to 7 days and <code>p</code> (from 0 to 11) represents months so you'd get the maximum temperature for each day in a single week, one month at a time ? There is confusion over <code>m</code> since you always set it to <code>m= calendar.get(Calendar.MONTH) + 1;</code>.(Similarly the <code>p</code> counter is not used to increment the dates).</li>\n</ol>\n<p>Here are a few hopefully helping bits of info for each section.</p>\n<p><strong>API Key error</strong>\nWhen I run your code I get this error in Processing's Console:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WARNING: Authentication error: Unable to respond to any of these challenges: {}\njava.lang.RuntimeException: A JSONObject text must begin with '{'\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\n    at processing.core.PApplet.parseJSONObject(PApplet.java:5377)\n    at sketch_231003b.setup(sketch_231003b.java:59)\n    at processing.core.PApplet.handleDraw(PApplet.java:2051)\n    at processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\n    at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\nNullPointerException\n</code></pre>\n<p>This simply means the <code>xxx</code> API is incorrect and in your code you need to use your actual API Key. (Please don't share that publicly online).</p>\n<p>One typical way of handling this is to set the API key as an environment variable (e.g. <code>MY_API_KEY=#######</code> then in Processing you'd use <code>System.getenv('MY_API_KEY')</code> to retrieve the value). If you're not familiar with setting up environment variables don't worry about it: hardcoding the key for now will do. Just be careful who you share that code with :)</p>\n<p><strong>Caching data</strong></p>\n<p>You already make a query and parse the response here:</p>\n<pre><code>GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\nget.send();\nJSONObject response = parseJSONObject(get.getContent());\n</code></pre>\n<p>You can use a <code>JSONArray</code>(<a href=\"https://processing.org/reference/JSONArray.html\" rel=\"nofollow noreferrer\">https://processing.org/reference/JSONArray.html</a>) to store your data.\nHere's an example based on your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import http.requests.*;\nimport java.util.Calendar;\n\n\nvoid setup()\n{\n  background(0);\n  \n  String API_KEY = &quot;PLACE_YOUR_WEATHER_API_KEY_HERE&quot;;\n  // prepare JSONArray to cache Weather API data\n  JSONArray weatherAPIData = new JSONArray(); \n  // counter for each API call / data entry\n  int weatherAPICounter = 0;\n  \n  Calendar calendar = Calendar.getInstance();\n  \n  int d;\n  int m;\n  int y;\n  \n  int cols = 8;\n  int rows = 11;\n  int total = rows * cols;\n  \n  for(int i = 0; i &lt; cols; i++)\n  {\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\n    m = calendar.get(Calendar.MONTH) + 1;\n    d = calendar.get(Calendar.DAY_OF_MONTH);\n    \n    for (int p = 0; p &lt; rows; p++)\n    {\n      calendar.add(Calendar.YEAR, -1);\n      y = calendar.get(Calendar.YEAR);\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\n      println(&quot;requesting&quot;, todate, weatherAPICounter+1, &quot;of&quot;, total);\n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot; + todate + &quot;?unitGroup=metric&amp;include=days&amp;key=&quot; + API_KEY + &quot;&amp;contentType=json&quot;);\n      get.send();\n      println(&quot;Reponse Content: &quot; + get.getContent());\n\n      JSONObject response = parseJSONObject(get.getContent());\n      // cache the API data into RAM\n      weatherAPIData.setJSONObject(weatherAPICounter, response);\n      // increment data counter\n      weatherAPICounter++;\n      // wait 1s in between calls (to avoid API rate limits)\n      delay(1000);\n    }\n  }\n  \n  // persist the API data cache to disk\n  saveJSONArray(weatherAPIData, &quot;data/weather-api-data.json&quot;);\n  \n  println(&quot;cached saved to the data folder&quot;);\n  exit();\n}\n\n</code></pre>\n<p>As mentioned above the date mapping process is unclear. Currently it requests data years which the API doesn't seem to support:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Reponse Content: Bad API Request:Invalid year requested. Years must be between 1950 and 2050\njava.lang.RuntimeException: A JSONObject text must begin with '{'\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:255)\n    at processing.data.JSONObject.&lt;init&gt;(JSONObject.java:239)\n    at processing.core.PApplet.parseJSONObject(PApplet.java:5377)\n    at JSONAPICache.setup(JSONAPICache.java:61)\n    at processing.core.PApplet.handleDraw(PApplet.java:2051)\n    at processing.awt.PSurfaceAWT$9.callDraw(PSurfaceAWT.java:1386)\n    at processing.core.PSurfaceNone$AnimationThread.run(PSurfaceNone.java:356)\n</code></pre>\n<p>(Bare in mind the <a href=\"https://www.visualcrossing.com/resources/documentation/weather-api/timeline-weather-api/\" rel=\"nofollow noreferrer\">weather API documentation</a> mentions a few other endpoints. Depending on what data you're after there could an option to query the data you're after in a single (or less calls))</p>\n<p>Once you have this data you can write a separate sketch that loads it and renders ellipses based on the mapped <code>maxtemp</code> data. Remember to drag and drop the weather-api-data.json file from the sketch above into the new sketch:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nvoid setup()\n{\n  fullScreen();\n  background(0);\n  noStroke();\n  \n  \n  int cols = 8;\n  int rows = 11;\n  \n  // load cached data\n  JSONArray weatherAPIData = loadJSONArray(&quot;data/weather-api-data.json&quot;);\n  // counter for each API call / data entry\n  int weatherAPICounter = 0;\n  \n  \n  for(int i = 0; i &lt; cols; i++)\n  {\n    for (int p = 0; p &lt; rows; p++)\n    {\n      // try to get each request (and handle errors)\n      try {\n        \n        JSONObject response = weatherAPIData.getJSONObject(weatherAPICounter);\n        float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\n        \n        float pointx = width-width/10-width/10*i;\n        float pointy = height/2+tempmax*10;\n        \n        println(pointx + &quot;, &quot; + pointy);\n        ellipse(pointx,pointy,5,5);\n        \n      \n      } catch(Exception e){\n        println(&quot;encountered null data index&quot;, weatherAPICounter);\n        e.printStackTrace();\n      }\n      \n      // increment JSONArray counter \n      weatherAPICounter++;\n    }\n  }\n  \n}\n</code></pre>\n<p>(You might also find the <code>map()</code>(<a href=\"https://processing.org/reference/map_.html\" rel=\"nofollow noreferrer\">https://processing.org/reference/map_.html</a>) function handy to remap the <code>maxtemp</code> data).</p>\n<p>Good luck debugging and have fun visualising data.</p>\n"}],"owner":{"account_id":29587744,"reputation":11,"user_id":22676045,"display_name":"Dggamp"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696414053,"creation_date":1696332085,"question_id":77221805,"body_markdown":"I have a question about my code in Processing. I&#39;m trying to display weather data from past years and draw ellipses on the screen to create a graph. However, the ellipse is not being drawn. What could be the reason for this? The coordinates are valid and within the screen area. When I try to draw an ellipse with simple coordinates outside the loops, it works without any issues. That&#39;s why I believe it has something to do with the loops. I&#39;ve shared my code here. It may not be executable as the API key is not valid, but perhaps someone can still assist me.\r\n\r\n```\r\nimport http.requests.*;\r\nimport java.util.Calendar;\r\n\r\n\r\nvoid setup()\r\n{\r\n  fullScreen();\r\n  background(0);\r\n  noStroke();\r\n  \r\n  \r\n  Calendar calendar = Calendar.getInstance();\r\n  \r\n  int d;\r\n  int m;\r\n  int y;\r\n  \r\n  int cols = 8;\r\n  int rows = 11;\r\n  \r\n  float[][] temps = new float[cols][rows];\r\n  \r\n  for(int i=0;i&lt;8;i++)\r\n  {\r\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\r\n    m= calendar.get(Calendar.MONTH) + 1;\r\n    d= calendar.get(Calendar.DAY_OF_MONTH);\r\n    \r\n    for (int p=0;p&lt;11;p++)\r\n    {\r\n      calendar.add(Calendar.YEAR, -1);\r\n      y = calendar.get(Calendar.YEAR);\r\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\r\n      \r\n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\r\n      get.send();\r\n      //println(&quot;Reponse Content: &quot; + get.getContent());\r\n\r\n      JSONObject response = parseJSONObject(get.getContent());\r\n      float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\r\n      //println(d+&quot;.&quot;+m+&quot;.&quot;+y+&quot;: Maxtemp - &quot;+tempmax);\r\n      \r\n      temps[i][p]=tempmax;\r\n      \r\n      \r\n      float pointx = width-width/10-width/10*i;\r\n      float pointy = height/2+tempmax*10;\r\n      \r\n      println(pointx + &quot;, &quot; + pointy);\r\n      fill(255);\r\n      ellipse(pointx,pointy,5,5);\r\n    }\r\n  }\r\n  \r\n}\r\n\r\nvoid draw()\r\n{\r\n  \r\n}\r\n```\r\n\r\n","title":"Why are the ellipses not being displayed in my Processing-Code?","body":"<p>I have a question about my code in Processing. I'm trying to display weather data from past years and draw ellipses on the screen to create a graph. However, the ellipse is not being drawn. What could be the reason for this? The coordinates are valid and within the screen area. When I try to draw an ellipse with simple coordinates outside the loops, it works without any issues. That's why I believe it has something to do with the loops. I've shared my code here. It may not be executable as the API key is not valid, but perhaps someone can still assist me.</p>\n<pre><code>import http.requests.*;\nimport java.util.Calendar;\n\n\nvoid setup()\n{\n  fullScreen();\n  background(0);\n  noStroke();\n  \n  \n  Calendar calendar = Calendar.getInstance();\n  \n  int d;\n  int m;\n  int y;\n  \n  int cols = 8;\n  int rows = 11;\n  \n  float[][] temps = new float[cols][rows];\n  \n  for(int i=0;i&lt;8;i++)\n  {\n    calendar.add(Calendar.DAY_OF_YEAR, -1);\n    m= calendar.get(Calendar.MONTH) + 1;\n    d= calendar.get(Calendar.DAY_OF_MONTH);\n    \n    for (int p=0;p&lt;11;p++)\n    {\n      calendar.add(Calendar.YEAR, -1);\n      y = calendar.get(Calendar.YEAR);\n      String todate = y+&quot;-&quot;+m+&quot;-&quot;+d;\n      \n      GetRequest get = new GetRequest(&quot;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/Innsbruck/&quot;+todate+&quot;?unitGroup=metric&amp;include=days&amp;key=xxx&amp;contentType=json&quot;);\n      get.send();\n      //println(&quot;Reponse Content: &quot; + get.getContent());\n\n      JSONObject response = parseJSONObject(get.getContent());\n      float tempmax = response.getJSONArray(&quot;days&quot;).getJSONObject(0).getFloat(&quot;tempmax&quot;);\n      //println(d+&quot;.&quot;+m+&quot;.&quot;+y+&quot;: Maxtemp - &quot;+tempmax);\n      \n      temps[i][p]=tempmax;\n      \n      \n      float pointx = width-width/10-width/10*i;\n      float pointy = height/2+tempmax*10;\n      \n      println(pointx + &quot;, &quot; + pointy);\n      fill(255);\n      ellipse(pointx,pointy,5,5);\n    }\n  }\n  \n}\n\nvoid draw()\n{\n  \n}\n</code></pre>\n"},{"tags":["java","exception","command","classnotfoundexception"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696334212,"post_id":77222010,"comment_id":136136837,"body_markdown":"why don&#39;t you declare those classes as public? the default is package scope","body":"why don&#39;t you declare those classes as public? the default is package scope"},{"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"score":0,"creation_date":1696409002,"post_id":77222010,"comment_id":136147675,"body_markdown":"@Stultuske , would that matter though? isn&#39;t it a matter of project concatenation for determining PATH to class, instead of package?\n\nN.B. I tried setting `TestAccessModifiersPotectedB` to **public** and I get the same error so it seems declaring classes public isn&#39;t affecting behavior here","body":"@Stultuske , would that matter though? isn&#39;t it a matter of project concatenation for determining PATH to class, instead of package?  N.B. I tried setting <code>TestAccessModifiersPotectedB</code> to <b>public</b> and I get the same error so it seems declaring classes public isn&#39;t affecting behavior here"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696411752,"post_id":77222010,"comment_id":136148203,"body_markdown":"First step in trying to solve issues: carefully reading the error message:\nError: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\nIt&#39;s not looking for TestAccessModifiersProtectedB or TestAccessModifiersProtectedA, but for a class called TestAccessModifiersProtected, and I don&#39;t see such a class in your code","body":"First step in trying to solve issues: carefully reading the error message: Error: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifie&zwnj;&#8203;rsProtected It&#39;s not looking for TestAccessModifiersProtectedB or TestAccessModifiersProtectedA, but for a class called TestAccessModifiersProtected, and I don&#39;t see such a class in your code"},{"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"score":0,"creation_date":1696413557,"post_id":77222010,"comment_id":136148655,"body_markdown":"@Stultuske , I tried refactoring to `TestAccessModifiersProtected` and it still didn&#39;t work. I tried the one I&#39;m trying to run, the other one I&#39;m extending and both. Failed in all cases.","body":"@Stultuske , I tried refactoring to <code>TestAccessModifiersProtected</code> and it still didn&#39;t work. I tried the one I&#39;m trying to run, the other one I&#39;m extending and both. Failed in all cases."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696486767,"post_id":77222010,"comment_id":136159550,"body_markdown":"did you notice the packages are also not correct?","body":"did you notice the packages are also not correct?"}],"answers":[{"tags":[],"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696413850,"creation_date":1696413850,"answer_id":77228614,"question_id":77222010,"body_markdown":"The solution is to name both the package and the class in the way the project is named.\r\n\r\nFor example, for project `TestMyProject`, NetBeans IDE 19 will expect a package: `com.mycompany.testmyproject` and a class `TestMyProject.java` in that package.","title":"Failing to setup two distinct packages in the same project with NetBeans IDE 19","body":"<p>The solution is to name both the package and the class in the way the project is named.</p>\n<p>For example, for project <code>TestMyProject</code>, NetBeans IDE 19 will expect a package: <code>com.mycompany.testmyproject</code> and a class <code>TestMyProject.java</code> in that package.</p>\n"}],"owner":{"account_id":5582580,"reputation":33,"user_id":4424044,"display_name":"Alexandru Gheorghe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77228614,"answer_count":1,"score":0,"last_activity_date":1696413850,"creation_date":1696333832,"question_id":77222010,"body_markdown":"I&#39;m trying to setup a project in NetBeans IDE 19 to have two packages in order to test Java protected access modifier.\r\n\r\nMy setup is the following:\r\n\r\n```\r\nProject: TestAccessModifiersProtected\r\n   \\- package: com.agheorghe.testaccessmodifiersprotecteda\r\n       |- class: TestAccessModifiersProtectedA.java\r\n   \\- package: com.agheorghe.testaccessmodifiersprotectedb\r\n       |- class: TestAccessModifiersProtectedB.java\r\n```\r\n\r\nwhen trying to run the code in `TestAccessModifiersProtectedB.java` class I get the following error:\r\n\r\n```\r\nError: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\r\nCaused by: java.lang.ClassNotFoundException: com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\r\nCommand execution failed\r\n```\r\n\r\nI have tried:\r\n* changing the package `com.agheorghe.testaccessmodifiersprotecteda` to `com.agheorghe.testaccessmodifiersprotected` and run `TestAccessModifiersProtectedB.java` - result: same error\r\n* changing also the package `com.agheorghe.testaccessmodifiersprotectedb` to `com.agheorghe.testaccessmodifiersprotected` and run `TestAccessModifiersProtectedB.java` - result: same error\r\n* change classes to `TestAccessModifiersProtected`\r\n\r\n----\r\n\r\nMy code is the following:\r\n\r\n#### TestAccessModifiersProtectedA.java\r\n\r\n```\r\npackage com.agheorghe.testaccessmodifiersprotecteda;\r\n\r\npublic class TestAccessModifiersProtectedA {\r\n    \r\n    protected void display() {\r\n        System.out.println(&quot;TestAccessModifiersProtectedA&quot;);\r\n    }\r\n}\r\n```\r\n\r\n#### TestAccessModifiersProtectedB.java\r\n\r\n```\r\npackage com.agheorghe.testaccessmodifiersprotectedb;\r\nimport com.agheorghe.testaccessmodifiersprotecteda.*;\r\n\r\nclass TestAccessModifiersPotectedB extends TestAccessModifiersProtectedA {\r\n    \r\n    public static void main(String args[]) {\r\n        TestAccessModifiersPotectedB obj = new TestAccessModifiersPotectedB();\r\n        \r\n        /* Prints &quot;TestAccessModifiersPotectedA&quot; */\r\n        obj.display();\r\n    }\r\n}\r\n```\r\n\r\n----\r\n\r\nAny ideas as to why NetBeans fails to run code in `TestAccessModifiersProtectedB.java`? Why is it taking the project name (`TestAccessModifiersProtected`) literal for my packages + classes?\r\n\r\nI would expect to build the path to the class by including the package and the class so as to resolve such cases.\r\n\r\nHow can I succeed in keeping two packages separated in the same project?","title":"Failing to setup two distinct packages in the same project with NetBeans IDE 19","body":"<p>I'm trying to setup a project in NetBeans IDE 19 to have two packages in order to test Java protected access modifier.</p>\n<p>My setup is the following:</p>\n<pre><code>Project: TestAccessModifiersProtected\n   \\- package: com.agheorghe.testaccessmodifiersprotecteda\n       |- class: TestAccessModifiersProtectedA.java\n   \\- package: com.agheorghe.testaccessmodifiersprotectedb\n       |- class: TestAccessModifiersProtectedB.java\n</code></pre>\n<p>when trying to run the code in <code>TestAccessModifiersProtectedB.java</code> class I get the following error:</p>\n<pre><code>Error: Could not find or load main class com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\nCaused by: java.lang.ClassNotFoundException: com.agheorghe.testaccessmodifiersprotected.TestAccessModifiersProtected\nCommand execution failed\n</code></pre>\n<p>I have tried:</p>\n<ul>\n<li>changing the package <code>com.agheorghe.testaccessmodifiersprotecteda</code> to <code>com.agheorghe.testaccessmodifiersprotected</code> and run <code>TestAccessModifiersProtectedB.java</code> - result: same error</li>\n<li>changing also the package <code>com.agheorghe.testaccessmodifiersprotectedb</code> to <code>com.agheorghe.testaccessmodifiersprotected</code> and run <code>TestAccessModifiersProtectedB.java</code> - result: same error</li>\n<li>change classes to <code>TestAccessModifiersProtected</code></li>\n</ul>\n<hr />\n<p>My code is the following:</p>\n<h4>TestAccessModifiersProtectedA.java</h4>\n<pre><code>package com.agheorghe.testaccessmodifiersprotecteda;\n\npublic class TestAccessModifiersProtectedA {\n    \n    protected void display() {\n        System.out.println(&quot;TestAccessModifiersProtectedA&quot;);\n    }\n}\n</code></pre>\n<h4>TestAccessModifiersProtectedB.java</h4>\n<pre><code>package com.agheorghe.testaccessmodifiersprotectedb;\nimport com.agheorghe.testaccessmodifiersprotecteda.*;\n\nclass TestAccessModifiersPotectedB extends TestAccessModifiersProtectedA {\n    \n    public static void main(String args[]) {\n        TestAccessModifiersPotectedB obj = new TestAccessModifiersPotectedB();\n        \n        /* Prints &quot;TestAccessModifiersPotectedA&quot; */\n        obj.display();\n    }\n}\n</code></pre>\n<hr />\n<p>Any ideas as to why NetBeans fails to run code in <code>TestAccessModifiersProtectedB.java</code>? Why is it taking the project name (<code>TestAccessModifiersProtected</code>) literal for my packages + classes?</p>\n<p>I would expect to build the path to the class by including the package and the class so as to resolve such cases.</p>\n<p>How can I succeed in keeping two packages separated in the same project?</p>\n"},{"tags":["java","math","numbers","rounding","bigdecimal"],"comments":[{"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"score":0,"creation_date":1696402014,"post_id":77227170,"comment_id":136146328,"body_markdown":"I tried using divide(). round(), multiply() but they are not helping as expected. This is how MROUND function works in excel https://www.wallstreetmojo.com/mround-in-excel/","body":"I tried using divide(). round(), multiply() but they are not helping as expected. This is how MROUND function works in excel <a href=\"https://www.wallstreetmojo.com/mround-in-excel/\" rel=\"nofollow noreferrer\">wallstreetmojo.com/mround-in-excel</a>"},{"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"score":1,"creation_date":1696407574,"post_id":77227170,"comment_id":136147377,"body_markdown":"apologies. I have added more details in the question. Above solution by @user85421 does not work if we change the factor value.","body":"apologies. I have added more details in the question. Above solution by @user85421 does not work if we change the factor value."},{"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"score":0,"creation_date":1696414063,"post_id":77227170,"comment_id":136148779,"body_markdown":"I am really not sure on that. However if you user above &#39;Number&#39; and &#39;Factor&#39; column values in MS excel and use excel&#39;s MROUND function, you will get above results. e.g. MROUND(532.785, 0.01) = 532.78","body":"I am really not sure on that. However if you user above &#39;Number&#39; and &#39;Factor&#39; column values in MS excel and use excel&#39;s MROUND function, you will get above results. e.g. MROUND(532.785, 0.01) = 532.78"}],"answers":[{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1696412922,"creation_date":1696410221,"answer_id":77228196,"question_id":77227170,"body_markdown":"The `BigDecimal` class offers all needed methods to do the same as `Math.round(value / factor) * factor;` - rounding is a bit tricky, since `BigDecimal#round` is using `MathContext` which requires a precision: the total number of digits, not the number of digits of the fractional part. But `BigDecimal#setScale` is a replacement for `Math#round`.\r\n\r\nAssuming that both `values` and `factor` are already `BigDecimal`, we would write your method as:\r\n````\r\nstatic BigDecimal mRound(BigDecimal value, BigDecimal factor) {\r\n    return \r\n        value\r\n        .divide(factor)\r\n        .setScale(0, RoundingMode.HALF_UP)\r\n        .multiply(factor);\r\n}\r\n````\r\n\r\nI believe the `divde()` and `multiply()` methods do not need more explanation, for details refer to the [javadoc](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html) of `BigDecimal`.\r\n\r\nThe `setScale()` methods is used to round the number. As [documented](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#scale()): &quot;the scale is the number of digits to the right of the decimal point.&quot;  \r\nWe used:  \r\n - `scale: 0` since we want no decimal digits;\r\n - `roundingMode: HALF_UP` since we want `0.5` or greater rounded up  \r\nagain, see [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/RoundingMode.html) for the different modes.\r\n\r\nTo remove the trailing zeros from the result, use the `stripTrailingZeros()` method after multiplying:  \r\n````\r\nreturn \r\n    ...\r\n    .multiply(factor)\r\n    .stripTrailingZeros();\r\n````\r\n\r\nPlease be aware that using `new BigDecimal(double)` can cause problems since `double` is not an exact representation - use `new BigDecimal(String)` instead!  \r\nFor example, `new BigDecimal(1.2)` results in `1.1999999999999999555910790149937383830547332763671875`.\r\n\r\n-----\r\n\r\n### Testing\r\n\r\n````\r\nList&lt;List&lt;BigDecimal&gt;&gt; data = &quot;&quot;&quot;\r\n    523.235  0.05\r\n    523.265  0.05\r\n    523.205  0.05\r\n    523.735  0.05\r\n    523.785  0.05\r\n    523.75   0.05\r\n    523.705  0.05\r\n    15       8\r\n    17       5\r\n    523.235  0.01\r\n    523.265  0.01\r\n    523.205  0.01\r\n    523.735  0.01\r\n    523.785  0.01\r\n    523.75   0.01\r\n    523.705  0.01\r\n    &quot;&quot;&quot;\r\n.lines()\r\n.map(line -&gt; Arrays.stream(line.split(&quot;\\\\h+&quot;)).map(BigDecimal::new).toList())\r\n.toList();\r\nfor (var test : data) {\r\n    var value = test.get(0);\r\n    var factor = test.get(1);\r\n    var result = mRound(value, factor);\r\n    System.out.printf(&quot;%10s  %5s  %10s%n&quot;, value, factor, result);\r\n}\r\n````\r\n\r\n#### Result\r\n\r\n````\r\n   523.235   0.05      523.25\r\n   523.265   0.05      523.25\r\n   523.205   0.05      523.20\r\n   523.735   0.05      523.75\r\n   523.785   0.05      523.80\r\n    523.75   0.05      523.75\r\n   523.705   0.05      523.70\r\n        15      8          16\r\n        17      5          15\r\n   523.235   0.01      523.24\r\n   523.265   0.01      523.27\r\n   523.205   0.01      523.21\r\n   523.735   0.01      523.74\r\n   523.785   0.01      523.79\r\n    523.75   0.01      523.75\r\n   523.705   0.01      523.71\r\n````\r\n\r\nNote the result for `523.785  0.01` does not match the given input image - I wonder if that is a bug in Excel (is it using `double`?) :-/","title":"How to implement Excel MROUND() function in Java using BigDecimal instead of double","body":"<p>The <code>BigDecimal</code> class offers all needed methods to do the same as <code>Math.round(value / factor) * factor;</code> - rounding is a bit tricky, since <code>BigDecimal#round</code> is using <code>MathContext</code> which requires a precision: the total number of digits, not the number of digits of the fractional part. But <code>BigDecimal#setScale</code> is a replacement for <code>Math#round</code>.</p>\n<p>Assuming that both <code>values</code> and <code>factor</code> are already <code>BigDecimal</code>, we would write your method as:</p>\n<pre><code>static BigDecimal mRound(BigDecimal value, BigDecimal factor) {\n    return \n        value\n        .divide(factor)\n        .setScale(0, RoundingMode.HALF_UP)\n        .multiply(factor);\n}\n</code></pre>\n<p>I believe the <code>divde()</code> and <code>multiply()</code> methods do not need more explanation, for details refer to the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">javadoc</a> of <code>BigDecimal</code>.</p>\n<p>The <code>setScale()</code> methods is used to round the number. As <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#scale()\" rel=\"nofollow noreferrer\">documented</a>: &quot;the scale is the number of digits to the right of the decimal point.&quot;<br />\nWe used:</p>\n<ul>\n<li><code>scale: 0</code> since we want no decimal digits;</li>\n<li><code>roundingMode: HALF_UP</code> since we want <code>0.5</code> or greater rounded up<br />\nagain, see <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">documentation</a> for the different modes.</li>\n</ul>\n<p>To remove the trailing zeros from the result, use the <code>stripTrailingZeros()</code> method after multiplying:</p>\n<pre><code>return \n    ...\n    .multiply(factor)\n    .stripTrailingZeros();\n</code></pre>\n<p>Please be aware that using <code>new BigDecimal(double)</code> can cause problems since <code>double</code> is not an exact representation - use <code>new BigDecimal(String)</code> instead!<br />\nFor example, <code>new BigDecimal(1.2)</code> results in <code>1.1999999999999999555910790149937383830547332763671875</code>.</p>\n<hr />\n<h3>Testing</h3>\n<pre><code>List&lt;List&lt;BigDecimal&gt;&gt; data = &quot;&quot;&quot;\n    523.235  0.05\n    523.265  0.05\n    523.205  0.05\n    523.735  0.05\n    523.785  0.05\n    523.75   0.05\n    523.705  0.05\n    15       8\n    17       5\n    523.235  0.01\n    523.265  0.01\n    523.205  0.01\n    523.735  0.01\n    523.785  0.01\n    523.75   0.01\n    523.705  0.01\n    &quot;&quot;&quot;\n.lines()\n.map(line -&gt; Arrays.stream(line.split(&quot;\\\\h+&quot;)).map(BigDecimal::new).toList())\n.toList();\nfor (var test : data) {\n    var value = test.get(0);\n    var factor = test.get(1);\n    var result = mRound(value, factor);\n    System.out.printf(&quot;%10s  %5s  %10s%n&quot;, value, factor, result);\n}\n</code></pre>\n<h4>Result</h4>\n<pre><code>   523.235   0.05      523.25\n   523.265   0.05      523.25\n   523.205   0.05      523.20\n   523.735   0.05      523.75\n   523.785   0.05      523.80\n    523.75   0.05      523.75\n   523.705   0.05      523.70\n        15      8          16\n        17      5          15\n   523.235   0.01      523.24\n   523.265   0.01      523.27\n   523.205   0.01      523.21\n   523.735   0.01      523.74\n   523.785   0.01      523.79\n    523.75   0.01      523.75\n   523.705   0.01      523.71\n</code></pre>\n<p>Note the result for <code>523.785  0.01</code> does not match the given input image - I wonder if that is a bug in Excel (is it using <code>double</code>?) :-/</p>\n"}],"owner":{"account_id":1399291,"reputation":99,"user_id":1328365,"accept_rate":0,"display_name":"sameer59"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77228196,"answer_count":1,"score":0,"last_activity_date":1696413841,"creation_date":1696400086,"question_id":77227170,"body_markdown":"How can I round to a specific multiple in Java? In excel there is the mround function which allows for easy rounding to a specified multiple like so:\r\n\r\n```\r\nmRound(variable,multiple)\r\n```\r\n\r\ne.g. This is how the Java function should work for given &#39;Number&#39; and &#39;Factor&#39;.\r\nTo get more test data, just add below &#39;Number&#39; and &#39;Factor&#39; columns in MS Excel and in the next column use excel&#39;s built in MROUND function as =MROUND(Number, Factor)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI know how it can be done with double, but I **need a solution with BigDecimal** as I am working with financial data.\r\n\r\nSolution with double -\r\n```\r\ndouble mRound(double value, double factor) {\r\n    return Math.round(value / factor) * factor;\r\n}\r\n```\r\n\r\n**This is how excel MROUND function works -** \r\nThe MROUND Excel function rounds the number to the nearest multiple of the provided number. You must be thinking about how Excel knows whether to round up or round down. It depends on the result of the division.\r\n\r\nFor example 16 / 3 = 5.33333, here decimal value is less than 0.5 so result of nearest multiple value of number 3 is 5, so 3 * 5 = 15. Here, Excel **rounds down** the value if the decimal value is less than 0.5.\r\n\r\nSimilarly, look at this equation 20 / 3 = 6.66667. In this equation, the decimal value is greater than 0.5, so Excel **rounds up** the result to 7, so 3 * 7 = 21.\r\n\r\nFor more details on how MROUND works, refer - https://www.wallstreetmojo.com/mround-in-excel/\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8iqG0.png","title":"How to implement Excel MROUND() function in Java using BigDecimal instead of double","body":"<p>How can I round to a specific multiple in Java? In excel there is the mround function which allows for easy rounding to a specified multiple like so:</p>\n<pre><code>mRound(variable,multiple)\n</code></pre>\n<p>e.g. This is how the Java function should work for given 'Number' and 'Factor'.\nTo get more test data, just add below 'Number' and 'Factor' columns in MS Excel and in the next column use excel's built in MROUND function as =MROUND(Number, Factor)</p>\n<p><a href=\"https://i.stack.imgur.com/8iqG0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iqG0.png\" alt=\"enter image description here\" /></a></p>\n<p>I know how it can be done with double, but I <strong>need a solution with BigDecimal</strong> as I am working with financial data.</p>\n<p>Solution with double -</p>\n<pre><code>double mRound(double value, double factor) {\n    return Math.round(value / factor) * factor;\n}\n</code></pre>\n<p><strong>This is how excel MROUND function works -</strong>\nThe MROUND Excel function rounds the number to the nearest multiple of the provided number. You must be thinking about how Excel knows whether to round up or round down. It depends on the result of the division.</p>\n<p>For example 16 / 3 = 5.33333, here decimal value is less than 0.5 so result of nearest multiple value of number 3 is 5, so 3 * 5 = 15. Here, Excel <strong>rounds down</strong> the value if the decimal value is less than 0.5.</p>\n<p>Similarly, look at this equation 20 / 3 = 6.66667. In this equation, the decimal value is greater than 0.5, so Excel <strong>rounds up</strong> the result to 7, so 3 * 7 = 21.</p>\n<p>For more details on how MROUND works, refer - <a href=\"https://www.wallstreetmojo.com/mround-in-excel/\" rel=\"nofollow noreferrer\">https://www.wallstreetmojo.com/mround-in-excel/</a></p>\n"},{"tags":["java","android","string","split","android-room"],"comments":[{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1696461005,"post_id":77228612,"comment_id":136157601,"body_markdown":"does stopping and restarting the App, then display the correct data? Due to the underlying complexity of the behind the scenes SQLiteOpenHelper you may well have to  somehow clear all the underlying instances and perhaps restarting the activity is the solution  as per https://stackoverflow.com/questions/44317525/how-to-restore-sqlite-database-after-backup-android/44318566#44318566 (as an example).","body":"does stopping and restarting the App, then display the correct data? Due to the underlying complexity of the behind the scenes SQLiteOpenHelper you may well have to  somehow clear all the underlying instances and perhaps restarting the activity is the solution  as per <a href=\"https://stackoverflow.com/questions/44317525/how-to-restore-sqlite-database-after-backup-android/44318566#44318566\" title=\"how to restore sqlite database after backup android\">stackoverflow.com/questions/44317525/&hellip;</a> (as an example)."}],"owner":{"account_id":20220873,"reputation":137,"user_id":14830371,"display_name":"Anesu Mazvimavi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696413839,"creation_date":1696413839,"question_id":77228612,"body_markdown":"I am building an app that backs up and restores a room database in Android Studio. The backup process works fine however when I try to restore the database (Using a Recyclerview) it won&#39;t show me all the data. I suspect the issue could be reading the Strings from the text file.\r\n\r\nHere&#39;s my method\r\n \r\n  \r\n\r\n      public void restoreDatabase() throws IOException {\r\n            File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\r\n    \r\n            if (!backupFile.exists()) {\r\n                throw new FileNotFoundException(&quot;Backup file does not exist&quot;);\r\n            }\r\n    \r\n            AppDatabase database = Room.databaseBuilder(getApplicationContext(), AppDatabase.class, &quot;InnBucks_DB&quot;).allowMainThreadQueries().build();\r\n            UserDao userDao = database.userDao();\r\n    \r\n            try (FileInputStream inputStream = new FileInputStream(backupFile)) {\r\n                byte[] buffer = new byte[1024];\r\n                int bytesRead;\r\n    \r\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                    String line = new String(buffer, 0, bytesRead);\r\n    \r\n                    // Split the line into user data\r\n                    String[] userData = line.split(&quot; &quot;);\r\n    \r\n                    // Create a new user object\r\n                    User user = new User();\r\n                    user.setId(Integer.parseInt(userData[0]));\r\n                    user.setUserId(userData[1]);\r\n                    user.setName(userData[2]);\r\n    \r\n                    // Add the user to the database\r\n                    userDao.registerUser(user);\r\n                }\r\n            }\r\n    \r\n    // Get the list of users from the database.\r\n            List&lt;User&gt; userList = userDao.getallusers();\r\n    \r\n    // Call the setUserList() method on the RecyclerView adapter to update the list of users.\r\n            userListAdapter.setUserList(userList);\r\n    \r\n    // Notify the RecyclerView adapter that the data has changed.\r\n            userListAdapter.notifyDataSetChanged();\r\n    \r\n            Toast.makeText(this, &quot;Database restored successfully&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\nThis is my database before I click delete and then restore\r\n[![enter image description here][1]][1]\r\n\r\nAnd when I restore the database, this the output and as you can see there is data missing\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Qgmol.jpg\r\n  [2]: https://i.stack.imgur.com/AMeus.jpg","title":"Reading data from a backup text file after restoring room database","body":"<p>I am building an app that backs up and restores a room database in Android Studio. The backup process works fine however when I try to restore the database (Using a Recyclerview) it won't show me all the data. I suspect the issue could be reading the Strings from the text file.</p>\n<p>Here's my method</p>\n<pre><code>  public void restoreDatabase() throws IOException {\n        File backupFile = new File(Environment.getExternalStorageDirectory(), AppDatabase.DATABASE_NAME + &quot;.txt&quot;);\n\n        if (!backupFile.exists()) {\n            throw new FileNotFoundException(&quot;Backup file does not exist&quot;);\n        }\n\n        AppDatabase database = Room.databaseBuilder(getApplicationContext(), AppDatabase.class, &quot;InnBucks_DB&quot;).allowMainThreadQueries().build();\n        UserDao userDao = database.userDao();\n\n        try (FileInputStream inputStream = new FileInputStream(backupFile)) {\n            byte[] buffer = new byte[1024];\n            int bytesRead;\n\n            while ((bytesRead = inputStream.read(buffer)) != -1) {\n                String line = new String(buffer, 0, bytesRead);\n\n                // Split the line into user data\n                String[] userData = line.split(&quot; &quot;);\n\n                // Create a new user object\n                User user = new User();\n                user.setId(Integer.parseInt(userData[0]));\n                user.setUserId(userData[1]);\n                user.setName(userData[2]);\n\n                // Add the user to the database\n                userDao.registerUser(user);\n            }\n        }\n\n// Get the list of users from the database.\n        List&lt;User&gt; userList = userDao.getallusers();\n\n// Call the setUserList() method on the RecyclerView adapter to update the list of users.\n        userListAdapter.setUserList(userList);\n\n// Notify the RecyclerView adapter that the data has changed.\n        userListAdapter.notifyDataSetChanged();\n\n        Toast.makeText(this, &quot;Database restored successfully&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>This is my database before I click delete and then restore\n<a href=\"https://i.stack.imgur.com/Qgmol.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qgmol.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And when I restore the database, this the output and as you can see there is data missing\n<a href=\"https://i.stack.imgur.com/AMeus.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AMeus.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ignite","java-21"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1696168167,"post_id":77210731,"comment_id":136116141,"body_markdown":"Have you read the [documentation](https://ignite.apache.org/docs/latest/setup)? Given it states it was tested on _&quot;Oracle JDK 8, 11 or 17 Open JDK 8, 11 or 17, IBM JDK 8, 11 or 17&quot;_, you can pretty much assume it does not (yet) support Java 21. Also, [this issue](https://github.com/apache/ignite/issues/10954) suggests that it will simply not work.","body":"Have you read the <a href=\"https://ignite.apache.org/docs/latest/setup\" rel=\"nofollow noreferrer\">documentation</a>? Given it states it was tested on <i>&quot;Oracle JDK 8, 11 or 17 Open JDK 8, 11 or 17, IBM JDK 8, 11 or 17&quot;</i>, you can pretty much assume it does not (yet) support Java 21. Also, <a href=\"https://github.com/apache/ignite/issues/10954\" rel=\"nofollow noreferrer\">this issue</a> suggests that it will simply not work."},{"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"score":0,"creation_date":1696170193,"post_id":77210731,"comment_id":136116363,"body_markdown":"As I mention I have checked docs and it does not mention Java 21. But just wanted to ask community, maybe someone tried and solve in somehow.","body":"As I mention I have checked docs and it does not mention Java 21. But just wanted to ask community, maybe someone tried and solve in somehow."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1696496210,"post_id":77210731,"comment_id":136161265,"body_markdown":"You can safely expect a software needing that many `--add-opens` clauses to break at every Java update.","body":"You can safely expect a software needing that many <code>--add-opens</code> clauses to break at every Java update."}],"answers":[{"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696413833,"creation_date":1696413833,"answer_id":77228611,"question_id":77210731,"body_markdown":"The current version of Ignite (2.15) needs some code changes to work with Java 21 (a couple of PRs have already been merged). I would expect to see them in the next version.","title":"Apache Ignite Support For Java 21","body":"<p>The current version of Ignite (2.15) needs some code changes to work with Java 21 (a couple of PRs have already been merged). I would expect to see them in the next version.</p>\n"}],"owner":{"account_id":2447905,"reputation":19,"user_id":2134798,"display_name":"Hasan &#220;nl&#252; KILIN&#199;"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1696413833,"creation_date":1696167979,"question_id":77210731,"body_markdown":"Does Apache Ignite Support Java 21 ?\r\n\r\nIt works with Java 17 when I added these parameter\r\n\r\n\r\n    --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED \\\r\n    --add-opens=java.base/jdk.internal.misc=ALL-UNNAMED \\\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n    --add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED \\\r\n    --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED \\\r\n    --add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.nio=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.util=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n\r\n\r\nBut when I try with java 21  it throws exception\r\n\r\n\r\n&gt; java.lang.RuntimeException: jdk.internal.misc.JavaNioAccess class is\r\n&gt; unavailable. Please add the following parameters to JVM startup\r\n&gt; settings and restart the application: {parameters:\r\n&gt; --add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\r\n&gt; --add-exports=java.base/sun.nio.ch=ALL-UNNAMED\r\n&gt; --add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\r\n&gt; --add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n&gt; --add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\r\n&gt; --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n&gt; --illegal-access=permit }\r\n&gt; See https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11 for more information.\r\n\r\n\r\n**And even I add new parameters, it throws the same exception**\r\n\r\nI have checked docs and it does not mention Java 21\r\nhttps://ignite.apache.org/docs/latest/quick-start/java\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Piz0X.jpg","title":"Apache Ignite Support For Java 21","body":"<p>Does Apache Ignite Support Java 21 ?</p>\n<p>It works with Java 17 when I added these parameter</p>\n<pre><code>--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED \\\n--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED \\\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED \\\n--add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED \\\n--add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-opens=java.base/java.nio=ALL-UNNAMED \\\n--add-opens=java.base/java.util=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED\n</code></pre>\n<p>But when I try with java 21  it throws exception</p>\n<blockquote>\n<p>java.lang.RuntimeException: jdk.internal.misc.JavaNioAccess class is\nunavailable. Please add the following parameters to JVM startup\nsettings and restart the application: {parameters:\n--add-exports=java.base/jdk.internal.misc=ALL-UNNAMED\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED\n--add-exports=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n--add-exports=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\n--illegal-access=permit }\nSee <a href=\"https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11\" rel=\"nofollow noreferrer\">https://apacheignite.readme.io/docs/getting-started#section-running-ignite-with-java-9-10-11</a> for more information.</p>\n</blockquote>\n<p><strong>And even I add new parameters, it throws the same exception</strong></p>\n<p>I have checked docs and it does not mention Java 21\n<a href=\"https://ignite.apache.org/docs/latest/quick-start/java\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/quick-start/java</a>\n<a href=\"https://i.stack.imgur.com/Piz0X.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Piz0X.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":18387315,"reputation":91,"user_id":15282767,"display_name":"Anis Rafid"},"score":0,"creation_date":1696365723,"post_id":77225378,"comment_id":136143095,"body_markdown":"The error you&#39;re encountering appears to be related to a problem with the Gradle cache and the creation of a JAR file for the Jackson Core library. This kind of issue can sometimes occur due to file system conflicts or corruption in the Gradle cache. To resolve that issue: Clean Gradle Cache, Clear Gradle Caches, Update Gradle and Plugins, Check for Third-Party Dependencies.","body":"The error you&#39;re encountering appears to be related to a problem with the Gradle cache and the creation of a JAR file for the Jackson Core library. This kind of issue can sometimes occur due to file system conflicts or corruption in the Gradle cache. To resolve that issue: Clean Gradle Cache, Clear Gradle Caches, Update Gradle and Plugins, Check for Third-Party Dependencies."},{"owner":{"account_id":1118781,"reputation":1746,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"score":0,"creation_date":1696406651,"post_id":77225378,"comment_id":136147184,"body_markdown":"@AnisRafid I thought it might be the gradle cache.  But I cleaned both the project-level cache and the user-level cache, and it still fails.  When I switch to the previous commit, it works fine (even though it&#39;s using the same cache).","body":"@AnisRafid I thought it might be the gradle cache.  But I cleaned both the project-level cache and the user-level cache, and it still fails.  When I switch to the previous commit, it works fine (even though it&#39;s using the same cache)."}],"answers":[{"tags":[],"owner":{"account_id":1118781,"reputation":1746,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696413553,"creation_date":1696413553,"answer_id":77228584,"question_id":77225378,"body_markdown":"The answer was to do with [a bug in gradle][1].  Versions prior to 7.6.2 (?) failed to handle multi-release jar files (ie with multiple binaries built with different Java versions in them).\r\n\r\nThe jackson dependency was such a jar file.  This explains why the previous commit worked consistently, and this one failed consistently.  The project from which I copied the config uses gradle 8.1, which is why it worked there. \r\n\r\nSolution: upgrade gradle.\r\n\r\n  [1]: https://github.com/gradle/gradle/issues/24390","title":"gradle clean fails with &quot;GradleException: Failed to create Jar file&quot;","body":"<p>The answer was to do with <a href=\"https://github.com/gradle/gradle/issues/24390\" rel=\"nofollow noreferrer\">a bug in gradle</a>.  Versions prior to 7.6.2 (?) failed to handle multi-release jar files (ie with multiple binaries built with different Java versions in them).</p>\n<p>The jackson dependency was such a jar file.  This explains why the previous commit worked consistently, and this one failed consistently.  The project from which I copied the config uses gradle 8.1, which is why it worked there.</p>\n<p>Solution: upgrade gradle.</p>\n"}],"owner":{"account_id":1118781,"reputation":1746,"user_id":1107537,"accept_rate":56,"display_name":"mdarwin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77228584,"answer_count":1,"score":1,"last_activity_date":1696413553,"creation_date":1696365288,"question_id":77225378,"body_markdown":"I&#39;m seeing a very strange problem with gradle.\r\n\r\nWhen I run any command (see clean below), gradle fails with a concurrent exception.\r\n\r\nThis is happening since my latest changes.  Rolling back to a previous commit works fine.\r\n\r\nThe changes are too numerous to describe here but in summary I&#39;ve restructured the build a bit, based on another project which is working.  And when I say based on, I mean I have simply copied build.gradle, settings.gradle and gradle.properties from that other project.  None of the changes relate to jackson core.\r\n\r\n    $ ./gradlew clean\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    A problem occurred configuring root project &#39;myservice&#39;.\r\n    &gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\me\\.gradle\\caches\\jars-9\\b868ab677410c01cf9b5a0e29a035e73\\jackson-core-2.15.2.jar.\r\n        \r\n    BUILD FAILED in 2s\r\n    \r\nI tried removing the lock file but that failed:\r\n    \r\n    $ rm -rf ~/.gradle/caches/jars-9/*lock\r\n    rm: cannot remove &#39;/c/Users/me/.gradle/caches/jars-9/jars-9.lock&#39;: Device or resource busy\r\n\r\nSo I ran `./gradlew --stop` which stopped 2 daemons, and I was able to remove the lock file.  But the `clean` still fails with the same error.\r\n\r\nI&#39;ve tried cleaning the `.gradle` directory in the project, and I&#39;ve also tried checking out a new copy of the project.  Same result.\r\n\r\nSo although it seems like a cache error, I can fix it by rolling back to a previous commit (without touching the cache) and if I clear the cache, that doesn&#39;t fix it.\r\n\r\nWhat&#39;s going wrong and how do I fix it?","title":"gradle clean fails with &quot;GradleException: Failed to create Jar file&quot;","body":"<p>I'm seeing a very strange problem with gradle.</p>\n<p>When I run any command (see clean below), gradle fails with a concurrent exception.</p>\n<p>This is happening since my latest changes.  Rolling back to a previous commit works fine.</p>\n<p>The changes are too numerous to describe here but in summary I've restructured the build a bit, based on another project which is working.  And when I say based on, I mean I have simply copied build.gradle, settings.gradle and gradle.properties from that other project.  None of the changes relate to jackson core.</p>\n<pre><code>$ ./gradlew clean\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project 'myservice'.\n&gt; java.util.concurrent.ExecutionException: org.gradle.api.GradleException: Failed to create Jar file C:\\Users\\me\\.gradle\\caches\\jars-9\\b868ab677410c01cf9b5a0e29a035e73\\jackson-core-2.15.2.jar.\n    \nBUILD FAILED in 2s\n</code></pre>\n<p>I tried removing the lock file but that failed:</p>\n<pre><code>$ rm -rf ~/.gradle/caches/jars-9/*lock\nrm: cannot remove '/c/Users/me/.gradle/caches/jars-9/jars-9.lock': Device or resource busy\n</code></pre>\n<p>So I ran <code>./gradlew --stop</code> which stopped 2 daemons, and I was able to remove the lock file.  But the <code>clean</code> still fails with the same error.</p>\n<p>I've tried cleaning the <code>.gradle</code> directory in the project, and I've also tried checking out a new copy of the project.  Same result.</p>\n<p>So although it seems like a cache error, I can fix it by rolling back to a previous commit (without touching the cache) and if I clear the cache, that doesn't fix it.</p>\n<p>What's going wrong and how do I fix it?</p>\n"},{"tags":["java","android","c++","telegram","android-contacts"],"comments":[{"owner":{"account_id":5990833,"reputation":168,"user_id":4706957,"accept_rate":100,"display_name":"Alireza"},"score":0,"creation_date":1487669756,"post_id":42361887,"comment_id":71876960,"body_markdown":"@Christopher I have verified Telegram for a feature for this purpose, but I could not find any feature in the app and I have searched in the net but I could not find any app for this purpose, I don&#39;t know why Telegram photo could not add to Android contacts. So I want to develop an app for this purpose.","body":"@Christopher I have verified Telegram for a feature for this purpose, but I could not find any feature in the app and I have searched in the net but I could not find any app for this purpose, I don&#39;t know why Telegram photo could not add to Android contacts. So I want to develop an app for this purpose."}],"answers":[{"tags":[],"owner":{"account_id":3464315,"reputation":17267,"user_id":2900374,"display_name":"ReyAnthonyRenacia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1487762331,"creation_date":1487762331,"answer_id":42389796,"question_id":42361887,"body_markdown":"This is currently not supported in [Contacts API v3](https://developers.google.com/google-apps/contacts/v3/). If you check the docs, there is no mention of this. File a feature request for this [here](https://code.google.com/a/google.com/p/apps-api-issues/issues/entry?template=Feature%20request).","title":"How to sync Telegram contacts photo to Android contacts?","body":"<p>This is currently not supported in <a href=\"https://developers.google.com/google-apps/contacts/v3/\" rel=\"nofollow noreferrer\">Contacts API v3</a>. If you check the docs, there is no mention of this. File a feature request for this <a href=\"https://code.google.com/a/google.com/p/apps-api-issues/issues/entry?template=Feature%20request\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5990833,"reputation":168,"user_id":4706957,"accept_rate":100,"display_name":"Alireza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5257,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":42389796,"answer_count":1,"score":3,"last_activity_date":1696413155,"creation_date":1487664735,"question_id":42361887,"body_markdown":"How to sync **Telegram contacts photo** to Android contacts?\n\n\nIs it possible by Telegram to send the profile photo of contacts to Android (Gmail) contacts?\n\n\n\n***P.S.***\n\n&gt; I have verified Telegram for a feature for this purpose, but I could\n&gt; not find any features in the app also I have searched in the net but I\n&gt; could not find any apps for this purpose. \n&gt;\n&gt; I don&#39;t know why Telegram\n&gt; contacts profile photo could not add to Android contacts?  So I want to develop an app\n&gt; for this purpose.\n&gt; Do you have any clues?\n\n\n\nThanks","title":"How to sync Telegram contacts photo to Android contacts?","body":"<p>How to sync <strong>Telegram contacts photo</strong> to Android contacts?</p>\n<p>Is it possible by Telegram to send the profile photo of contacts to Android (Gmail) contacts?</p>\n<p><em><strong>P.S.</strong></em></p>\n<blockquote>\n<p>I have verified Telegram for a feature for this purpose, but I could\nnot find any features in the app also I have searched in the net but I\ncould not find any apps for this purpose.</p>\n<p>I don't know why Telegram\ncontacts profile photo could not add to Android contacts?  So I want to develop an app\nfor this purpose.\nDo you have any clues?</p>\n</blockquote>\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","select","methods","dropdown"],"owner":{"account_id":29350777,"reputation":1,"user_id":22487982,"display_name":"akshay patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696412796,"creation_date":1696412776,"question_id":77228489,"body_markdown":"\r\n```\r\nswitch (valuetype.toLowerCase()) {\r\nLazyWebElement selectelement = getElement(element);\r\n\t\tSelect statusselect = new Select(selectelement);\r\n\t\tcase &quot;text&quot;:\r\n\t\t\tstatusselect.selectByVisibleText(values);\r\n\t\t\tbreak;\r\n\t\tcase &quot;value&quot;:\r\n\t\t\tstatusselect.selectByValue(values);\r\n\t\t\tbreak;`\r\n}\r\n```\r\n\r\ni want to add one more method here that will select the dropdown value from partial text \r\neg: the  dropdown value is below as\r\n    &quot;abc efgh&quot;\r\n   when i give the value just &quot;abc&quot; it must selectthe above dropdown\r\nwhere in the code i given above i have to fully give &quot;abc efgh&quot;\r\n\r\ni want to inculate case or a method in the above code to make the code work to select partially given text dropdown,\r\nthanks","title":"is there a way to select a dropdown value from partial visible text as there a method : selectByVisibleText(dropdownvalue);","body":"<pre><code>switch (valuetype.toLowerCase()) {\nLazyWebElement selectelement = getElement(element);\n        Select statusselect = new Select(selectelement);\n        case &quot;text&quot;:\n            statusselect.selectByVisibleText(values);\n            break;\n        case &quot;value&quot;:\n            statusselect.selectByValue(values);\n            break;`\n}\n</code></pre>\n<p>i want to add one more method here that will select the dropdown value from partial text\neg: the  dropdown value is below as\n&quot;abc efgh&quot;\nwhen i give the value just &quot;abc&quot; it must selectthe above dropdown\nwhere in the code i given above i have to fully give &quot;abc efgh&quot;</p>\n<p>i want to inculate case or a method in the above code to make the code work to select partially given text dropdown,\nthanks</p>\n"},{"tags":["java","netbeans","weblogic12c","netbeans-11"],"answers":[{"tags":[],"owner":{"account_id":10512226,"reputation":310,"user_id":7747544,"display_name":"Dinnerspy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1562601478,"creation_date":1562601478,"answer_id":56938615,"question_id":56938248,"body_markdown":"From what i can tell only Netbeans versions 7.2, 7.3, 7.4, 8.0 can work with weblogic as of now. Also the guide you are following is using a pre Apache Netbeans version. I would recommend switching to one of the following Netbeans versions. Download the All bundle or EE.\r\n\r\n - [Netbeans 8.0](https://netbeans.org/downloads/8.0/) \r\n - [Netbeans 7.4](https://netbeans.org/downloads/7.4/)\r\n\r\nhttps://netbeans.apache.org/kb/docs/web/jsf-jpa-weblogic.html","title":"I can not add the weblogic server in netbeans v11","body":"<p>From what i can tell only Netbeans versions 7.2, 7.3, 7.4, 8.0 can work with weblogic as of now. Also the guide you are following is using a pre Apache Netbeans version. I would recommend switching to one of the following Netbeans versions. Download the All bundle or EE.</p>\n\n<ul>\n<li><a href=\"https://netbeans.org/downloads/8.0/\" rel=\"nofollow noreferrer\">Netbeans 8.0</a> </li>\n<li><a href=\"https://netbeans.org/downloads/7.4/\" rel=\"nofollow noreferrer\">Netbeans 7.4</a></li>\n</ul>\n\n<p><a href=\"https://netbeans.apache.org/kb/docs/web/jsf-jpa-weblogic.html\" rel=\"nofollow noreferrer\">https://netbeans.apache.org/kb/docs/web/jsf-jpa-weblogic.html</a></p>\n"},{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562635469,"creation_date":1562635469,"answer_id":56944254,"question_id":56938248,"body_markdown":"Unfortunately Apache NetBeans 11.0 does not currently support the addition or use of a WebLogic server. See open Apache NetBeans Bug Report 2476: [Netbeans 11 EE Support Weblogic Server][1] \r\n\r\nI don&#39;t know for sure, but I suspect that this is a legal problem is related to licensing issues rather than any technical obstacles. The absence of licensing on Apache NetBeans 11.0 also impacts other important products such as Hibernate ([NETBEANS-2719 Resolve Hibernate Support][2]), and Wildfly ([NETBEANS-2415\r\nBring back support for WildFly server][3]).\r\n\r\nThere are licensing issues because Apache assumed ownership of NetBeans releases from Oracle last year.\r\n\r\nAlso, because WebLogic was supported &quot;out of the box&quot; in NetBeans 8.2 there is no old WebLogic plugin available for use on Apache NetBeans 11.0.\r\n\r\nYour options are:\r\n\r\n- Regress NetBeans to use the most recent NetBeans release which does support WebLogic: Oracle NetBeans 8.2. Note that this means you cannot develop using Java EE 8, nor use any JDK version &gt; 8.\r\n- Stick with Apache NetBeans 11.0, and instead of WebLogic use one of the four application servers which it formally supports &quot;out of the box&quot;: Payara, Glassfish, Apache Tomcat and Apache TomEE.\r\n- Install your WebLogic server outside of Apache NetBeans 11.0, and deploy your NetBeans web applications to that external server.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/NETBEANS-2476\r\n  [2]: https://issues.apache.org/jira/browse/NETBEANS-2719\r\n  [3]: https://issues.apache.org/jira/browse/NETBEANS-2415","title":"I can not add the weblogic server in netbeans v11","body":"<p>Unfortunately Apache NetBeans 11.0 does not currently support the addition or use of a WebLogic server. See open Apache NetBeans Bug Report 2476: <a href=\"https://issues.apache.org/jira/browse/NETBEANS-2476\" rel=\"nofollow noreferrer\">Netbeans 11 EE Support Weblogic Server</a> </p>\n\n<p>I don't know for sure, but I suspect that this is a legal problem is related to licensing issues rather than any technical obstacles. The absence of licensing on Apache NetBeans 11.0 also impacts other important products such as Hibernate (<a href=\"https://issues.apache.org/jira/browse/NETBEANS-2719\" rel=\"nofollow noreferrer\">NETBEANS-2719 Resolve Hibernate Support</a>), and Wildfly (<a href=\"https://issues.apache.org/jira/browse/NETBEANS-2415\" rel=\"nofollow noreferrer\">NETBEANS-2415\nBring back support for WildFly server</a>).</p>\n\n<p>There are licensing issues because Apache assumed ownership of NetBeans releases from Oracle last year.</p>\n\n<p>Also, because WebLogic was supported \"out of the box\" in NetBeans 8.2 there is no old WebLogic plugin available for use on Apache NetBeans 11.0.</p>\n\n<p>Your options are:</p>\n\n<ul>\n<li>Regress NetBeans to use the most recent NetBeans release which does support WebLogic: Oracle NetBeans 8.2. Note that this means you cannot develop using Java EE 8, nor use any JDK version > 8.</li>\n<li>Stick with Apache NetBeans 11.0, and instead of WebLogic use one of the four application servers which it formally supports \"out of the box\": Payara, Glassfish, Apache Tomcat and Apache TomEE.</li>\n<li>Install your WebLogic server outside of Apache NetBeans 11.0, and deploy your NetBeans web applications to that external server.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8928317,"reputation":106,"user_id":8101229,"display_name":"zuzzz"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1627629613,"creation_date":1585818059,"answer_id":60987800,"question_id":56938248,"body_markdown":"I was able to connect the plugin for weblogic from netbeans version 8.2.\r\nYou must copy the plug-in files from the netbeans 8.2 directory to the netbeans 11 directory.\r\nFiles of a plug-in:\r\n\r\n - ...\\plugins\\servers\\enterprise\\modules\\org-netbeans-modules-j2ee-weblogic9.jar\r\n - ...\\plugins\\servers\\enterprise\\config\\Modules\\org-netbeans-modules-j2ee-weblogic9.xml\r\n - ...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-j2ee-weblogic9.xml\r\n - ...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-weblogic-common.xml\r\n\r\nChecked on versions 11, 11.1, 11.2.\r\n\r\n\r\nUpdate. \r\nSecond method\r\n\r\nThe plugin can be compiled from sources.\r\nPlugin sources here:\r\nhttps://github.com/apache/netbeans/tree/master/contrib/j2ee.weblogic9\r\nBut you need to build all netbeans project. Build command:\r\n&gt;ant all\r\n\r\nThe resulting .nbm file can then be imported in NetBeans (Tools -&gt; Plugins -&gt; Downloaded -&gt; Add Plugin)\r\n\r\n\r\nDiscussion of the problem here:\r\nhttps://issues.apache.org/jira/browse/NETBEANS-2476\r\n\r\nCompiled nbm plugin file:\r\nhttps://issues.apache.org/jira/secure/attachment/12991973/org-netbeans-modules-j2ee-weblogic9.nbm\r\n\r\nChecked on versions 12.x","title":"I can not add the weblogic server in netbeans v11","body":"<p>I was able to connect the plugin for weblogic from netbeans version 8.2.\nYou must copy the plug-in files from the netbeans 8.2 directory to the netbeans 11 directory.\nFiles of a plug-in:</p>\n<ul>\n<li>...\\plugins\\servers\\enterprise\\modules\\org-netbeans-modules-j2ee-weblogic9.jar</li>\n<li>...\\plugins\\servers\\enterprise\\config\\Modules\\org-netbeans-modules-j2ee-weblogic9.xml</li>\n<li>...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-j2ee-weblogic9.xml</li>\n<li>...\\plugins\\servers\\enterprise\\update_tracking\\org-netbeans-modules-weblogic-common.xml</li>\n</ul>\n<p>Checked on versions 11, 11.1, 11.2.</p>\n<p>Update.\nSecond method</p>\n<p>The plugin can be compiled from sources.\nPlugin sources here:\n<a href=\"https://github.com/apache/netbeans/tree/master/contrib/j2ee.weblogic9\" rel=\"noreferrer\">https://github.com/apache/netbeans/tree/master/contrib/j2ee.weblogic9</a>\nBut you need to build all netbeans project. Build command:</p>\n<blockquote>\n<p>ant all</p>\n</blockquote>\n<p>The resulting .nbm file can then be imported in NetBeans (Tools -&gt; Plugins -&gt; Downloaded -&gt; Add Plugin)</p>\n<p>Discussion of the problem here:\n<a href=\"https://issues.apache.org/jira/browse/NETBEANS-2476\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/NETBEANS-2476</a></p>\n<p>Compiled nbm plugin file:\n<a href=\"https://issues.apache.org/jira/secure/attachment/12991973/org-netbeans-modules-j2ee-weblogic9.nbm\" rel=\"noreferrer\">https://issues.apache.org/jira/secure/attachment/12991973/org-netbeans-modules-j2ee-weblogic9.nbm</a></p>\n<p>Checked on versions 12.x</p>\n"}],"owner":{"account_id":12504156,"reputation":105,"user_id":9120397,"display_name":"Alberto D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7558,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":60987800,"answer_count":3,"score":5,"last_activity_date":1696412654,"creation_date":1562599964,"question_id":56938248,"body_markdown":"I have installed the Weblogic 12c server and I want to add it to a project in Netbeans 11. When I select &quot;add server&quot; from server instance, the Weblogic server option is not displayed\r\n![server instance netbeans 11 image][1]\r\n\r\nI expected to see the option as shown in the following link https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html\r\n\r\n![expected server intances option image ][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QeMOj.png\r\n  [2]: https://i.stack.imgur.com/sBrYL.png","title":"I can not add the weblogic server in netbeans v11","body":"<p>I have installed the Weblogic 12c server and I want to add it to a project in Netbeans 11. When I select \"add server\" from server instance, the Weblogic server option is not displayed\n<img src=\"https://i.stack.imgur.com/QeMOj.png\" alt=\"server instance netbeans 11 image\"></p>\n\n<p>I expected to see the option as shown in the following link <a href=\"https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/wls_12c_netbeans_install/wls_12c_netbeans_install.html</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/sBrYL.png\" alt=\"expected server intances option image \"></p>\n"},{"tags":["java","formatting","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":1878140,"reputation":8733,"user_id":1698887,"accept_rate":50,"display_name":"Daniel Williams"},"down_vote_count":0,"up_vote_count":148,"is_accepted":true,"score":148,"last_activity_date":1435551629,"creation_date":1362704479,"answer_id":15284937,"question_id":15284911,"body_markdown":"Navigate to **Preferences &amp;rarr; Editor &amp;rarr; Code Style &amp;rarr; Java &amp;rarr; Wrapping and Braces tab**, then locate the section **Field annotations** and check the option **Do not wrap after single annotation**.\r\n\r\nIn IntelliJ v14:\r\n\r\n![eIntelliJ v14 Java style preferences][1]\r\n\r\n  [1]: http://i.stack.imgur.com/sFZMJ.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>Navigate to <strong>Preferences &rarr; Editor &rarr; Code Style &rarr; Java &rarr; Wrapping and Braces tab</strong>, then locate the section <strong>Field annotations</strong> and check the option <strong>Do not wrap after single annotation</strong>.</p>\n\n<p>In IntelliJ v14:</p>\n\n<p><img src=\"https://i.stack.imgur.com/sFZMJ.png\" alt=\"eIntelliJ v14 Java style preferences\"></p>\n"},{"tags":[],"owner":{"account_id":1201625,"reputation":6769,"user_id":1172174,"accept_rate":80,"display_name":"Gus"},"down_vote_count":2,"up_vote_count":24,"is_accepted":false,"score":22,"last_activity_date":1362704567,"creation_date":1362704567,"answer_id":15284956,"question_id":15284911,"body_markdown":"In IntelliJ 12 You can find it in setup here (bottom right):\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/DmSZs.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>In IntelliJ 12 You can find it in setup here (bottom right):</p>\n\n<p><img src=\"https://i.stack.imgur.com/DmSZs.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":369969,"reputation":21500,"user_id":717630,"display_name":"grepit"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1431104595,"creation_date":1431104595,"answer_id":30129185,"question_id":15284911,"body_markdown":"I think all the above answers are correct but here is step by step for Mac users:\r\n\r\n1. Click on &quot;IntelliJ IDEA&quot;\r\n2. Click on &quot;Preferences&quot;\r\n3. Go &quot;Code Style&quot; on the left navigation window and you will see &quot;Java&quot; listed below it and Click on it !\r\n4. Look for the header tab &quot;Wrapping and Braces&quot; on the right side of Preferences window.\r\n5. At this point you want to look for the item called &quot;Do not wrap after single annotation&quot; under &quot;Field annotations&quot;. click &quot;ok&quot; and you are done !\r\n\r\n\r\n\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/IUTGw.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>I think all the above answers are correct but here is step by step for Mac users:</p>\n\n<ol>\n<li>Click on \"IntelliJ IDEA\"</li>\n<li>Click on \"Preferences\"</li>\n<li>Go \"Code Style\" on the left navigation window and you will see \"Java\" listed below it and Click on it !</li>\n<li>Look for the header tab \"Wrapping and Braces\" on the right side of Preferences window.</li>\n<li>At this point you want to look for the item called \"Do not wrap after single annotation\" under \"Field annotations\". click \"ok\" and you are done !</li>\n</ol>\n\n<p><img src=\"https://i.stack.imgur.com/IUTGw.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":939294,"reputation":884,"user_id":967671,"display_name":"Steve Gelman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1502416282,"creation_date":1502416282,"answer_id":45625752,"question_id":15284911,"body_markdown":"Nothing seemed to work for me with version 2.3.3 or Android Studio.  I gave up and checked *Line breaks* under *Keep when reformatting*.  I just have to be very careful when I add line breaks.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GjJPk.png","title":"Intellij code formatting, Java annotations on new lines","body":"<p>Nothing seemed to work for me with version 2.3.3 or Android Studio.  I gave up and checked <em>Line breaks</em> under <em>Keep when reformatting</em>.  I just have to be very careful when I add line breaks.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GjJPk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GjJPk.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":17055966,"reputation":101,"user_id":12340495,"display_name":"Eddie T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696411881,"creation_date":1696411881,"answer_id":77228368,"question_id":15284911,"body_markdown":"in 2023.2.2\r\nCode Style &gt; Java &gt; Wrapping and Braces tab:\r\nSet &quot;Method annotations&quot; to &quot;Wrap always&quot;","title":"Intellij code formatting, Java annotations on new lines","body":"<p>in 2023.2.2\nCode Style &gt; Java &gt; Wrapping and Braces tab:\nSet &quot;Method annotations&quot; to &quot;Wrap always&quot;</p>\n"}],"owner":{"account_id":53446,"reputation":1916,"user_id":159756,"accept_rate":54,"display_name":"catrapture"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40095,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":15284937,"answer_count":5,"score":104,"last_activity_date":1696411881,"creation_date":1362704331,"question_id":15284911,"body_markdown":"I&#39;m using IntelliJ 12 and \r\nIt&#39;s putting my member variable annotations on the same line, which i hate! How do I setup the code formatter to keep annotations on separate lines?\r\n\r\n\r\nthanks!","title":"Intellij code formatting, Java annotations on new lines","body":"<p>I'm using IntelliJ 12 and \nIt's putting my member variable annotations on the same line, which i hate! How do I setup the code formatter to keep annotations on separate lines?</p>\n\n<p>thanks!</p>\n"},{"tags":["java","intellij-idea","junit","integration-testing"],"comments":[{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1450982669,"post_id":34456739,"comment_id":56655385,"body_markdown":"you should fix the test","body":"you should fix the test"},{"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":3,"creation_date":1450982728,"post_id":34456739,"comment_id":56655403,"body_markdown":"@Lashane I need to *know* the problem to fix the test.  This question is about learning what the problem is.","body":"@Lashane I need to <i>know</i> the problem to fix the test.  This question is about learning what the problem is."},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1450982913,"post_id":34456739,"comment_id":56655461,"body_markdown":"usually &quot;debugging&quot; is the way to solve it, run all tests, find where it fails, put breakpoint before - find out why it actually fails, what state/variable lead to it, find where this state is changed, put breakpoints and run all tests again","body":"usually &quot;debugging&quot; is the way to solve it, run all tests, find where it fails, put breakpoint before - find out why it actually fails, what state/variable lead to it, find where this state is changed, put breakpoints and run all tests again"},{"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":0,"creation_date":1451008336,"post_id":34456739,"comment_id":56660919,"body_markdown":"@Lashane I do that in general, but in this case it&#39;s an extremely inefficient way to debug this issue.","body":"@Lashane I do that in general, but in this case it&#39;s an extremely inefficient way to debug this issue."}],"answers":[{"tags":[],"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1499281346,"creation_date":1450983053,"answer_id":34456810,"question_id":34456739,"body_markdown":"According to [JUnit&#39;s wiki][1]:\r\n\r\n&gt; By design, JUnit does not specify the execution order of test method\r\n&gt; invocations. Until now, the methods were simply invoked in the order\r\n&gt; returned by the reflection API. However, using the JVM order is unwise\r\n&gt; since the Java platform does not specify any particular order, and in\r\n&gt; fact JDK 7 returns a more or less random order. Of course,\r\n&gt; well-written test code would not assume any order, but some do, and a\r\n&gt; predictable failure is better than a random failure on certain\r\n&gt; platforms.\r\n&gt; \r\n&gt; From version 4.11, JUnit will by default use a deterministic, but not\r\n&gt; predictable, order (MethodSorters.DEFAULT). To change the test\r\n&gt; execution order simply annotate your test class using @FixMethodOrder\r\n&gt; and specify one of the available MethodSorters:\r\n&gt; \r\n&gt; `@FixMethodOrder(MethodSorters.JVM)`: Leaves the test methods in the\r\n&gt; order returned by the JVM. This order may vary from run to run.\r\n&gt; \r\n&gt; `@FixMethodOrder(MethodSorters.NAME_ASCENDING)`: Sorts the test methods\r\n&gt; by method name, in lexicographic order.\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Test-execution-order\r\nYou could use `MethodSorters.NAME_ASCENDING` and change your method names to match with your specific order. I know you&#39;re using this just for debugging sake but it&#39;s a **Test Smell** to rely on your test methods execution order and JUnit does not provide more finer grain control over test methods execution order","title":"How do I define an order to run junit tests in Intellij?","body":"<p>According to <a href=\"https://github.com/junit-team/junit/wiki/Test-execution-order\" rel=\"noreferrer\">JUnit's wiki</a>:</p>\n\n<blockquote>\n  <p>By design, JUnit does not specify the execution order of test method\n  invocations. Until now, the methods were simply invoked in the order\n  returned by the reflection API. However, using the JVM order is unwise\n  since the Java platform does not specify any particular order, and in\n  fact JDK 7 returns a more or less random order. Of course,\n  well-written test code would not assume any order, but some do, and a\n  predictable failure is better than a random failure on certain\n  platforms.</p>\n  \n  <p>From version 4.11, JUnit will by default use a deterministic, but not\n  predictable, order (MethodSorters.DEFAULT). To change the test\n  execution order simply annotate your test class using @FixMethodOrder\n  and specify one of the available MethodSorters:</p>\n  \n  <p><code>@FixMethodOrder(MethodSorters.JVM)</code>: Leaves the test methods in the\n  order returned by the JVM. This order may vary from run to run.</p>\n  \n  <p><code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)</code>: Sorts the test methods\n  by method name, in lexicographic order.</p>\n</blockquote>\n\n<p>You could use <code>MethodSorters.NAME_ASCENDING</code> and change your method names to match with your specific order. I know you're using this just for debugging sake but it's a <strong>Test Smell</strong> to rely on your test methods execution order and JUnit does not provide more finer grain control over test methods execution order</p>\n"},{"tags":[],"owner":{"account_id":1146152,"reputation":76,"user_id":1128853,"display_name":"pdmoore"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1450983075,"creation_date":1450983075,"answer_id":34456812,"question_id":34456739,"body_markdown":"Unit tests ought to be independent so most frameworks don&#39;t guarantee or enforce the order in which they are run. But since you want to enforce an order the easiest way I&#39;ve done it in the past it to create a &quot;throw away&quot; test suite or test method that calls the tests in whatever order I want them to run in. Unit tests are methods, just call them. This is easy to do if you&#39;re dealing with tens of tests, not at all appealing if you&#39;re dealing with hundreds or thousands.\r\n\r\nTry to isolate the flaky interaction as much as possible, then swap around the order of the poorly interacting tests within the throwaway calling method.","title":"How do I define an order to run junit tests in Intellij?","body":"<p>Unit tests ought to be independent so most frameworks don't guarantee or enforce the order in which they are run. But since you want to enforce an order the easiest way I've done it in the past it to create a \"throw away\" test suite or test method that calls the tests in whatever order I want them to run in. Unit tests are methods, just call them. This is easy to do if you're dealing with tens of tests, not at all appealing if you're dealing with hundreds or thousands.</p>\n\n<p>Try to isolate the flaky interaction as much as possible, then swap around the order of the poorly interacting tests within the throwaway calling method.</p>\n"},{"tags":[],"owner":{"account_id":5945432,"reputation":1547,"user_id":4675067,"accept_rate":94,"display_name":"Abish R"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1481978418,"creation_date":1481978418,"answer_id":41198659,"question_id":34456739,"body_markdown":"As said by Ali Dehghani, You can order the test method execution by \r\n\r\n&gt; @FixMethodOrder(MethodSorters.NAME_ASCENDING): Sorts the test methods\r\n&gt; by method name, in lexicographic order.\r\n\r\n**Code:**\r\n\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class ApplicationTest extends ActivityInstrumentationTestCase2&lt;MainActivity&gt; {\r\n\r\n        public ApplicationTest() {\r\n            super(MainActivity.class);\r\n        }\r\n\r\n        @Rule\r\n        public ActivityTestRule&lt;MainActivity&gt; mActivityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class);\r\n\r\n        @Test\r\n        void t1AttachUI(){\r\n            // testing code goes here\r\n        }\r\n\r\n        @Test\r\n        void t2InitializeViews(){\r\n            // testing code goes here\r\n        };\r\n\r\n        @Test\r\n        void t3SettingValues(){\r\n            // testing code goes here\r\n        };\r\n\r\n        @Test\r\n        void t4Validation(){\r\n            // testing code goes here\r\n        };\r\n\r\n        @Test\r\n        void t3AfterButtonPress(){\r\n            // testing code goes here\r\n        };\r\n    }","title":"How do I define an order to run junit tests in Intellij?","body":"<p>As said by Ali Dehghani, You can order the test method execution by </p>\n\n<blockquote>\n  <p>@FixMethodOrder(MethodSorters.NAME_ASCENDING): Sorts the test methods\n  by method name, in lexicographic order.</p>\n</blockquote>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class ApplicationTest extends ActivityInstrumentationTestCase2&lt;MainActivity&gt; {\n\n    public ApplicationTest() {\n        super(MainActivity.class);\n    }\n\n    @Rule\n    public ActivityTestRule&lt;MainActivity&gt; mActivityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class);\n\n    @Test\n    void t1AttachUI(){\n        // testing code goes here\n    }\n\n    @Test\n    void t2InitializeViews(){\n        // testing code goes here\n    };\n\n    @Test\n    void t3SettingValues(){\n        // testing code goes here\n    };\n\n    @Test\n    void t4Validation(){\n        // testing code goes here\n    };\n\n    @Test\n    void t3AfterButtonPress(){\n        // testing code goes here\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9013194,"reputation":220,"user_id":10663941,"display_name":"The Prototype"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696411817,"creation_date":1696272327,"answer_id":77217800,"question_id":34456739,"body_markdown":"In *JUnit 5* (from version [5.8.0][1] onwards) test classes can be ordered too.\r\n\r\n*src/test/resources/**junit-platform.properties**:*\r\n\r\n```properties\r\n# ClassOrderer$OrderAnnotation sorts classes based on their @Order annotation\r\njunit.jupiter.testclass.order.default=org.junit.jupiter.api.ClassOrderer$OrderAnnotation\r\n```\r\n\r\nOther Junit built-in class orderer implementations:\r\n```\r\norg.junit.jupiter.api.ClassOrderer$ClassName\r\norg.junit.jupiter.api.ClassOrderer$DisplayName\r\norg.junit.jupiter.api.ClassOrderer$Random\r\n```\r\n\r\n\r\nYou can also provide your own orderer. It must implement ClassOrderer interface:\r\n\r\n```\r\npackage foo;\r\npublic class MyOrderer implements ClassOrderer {\r\n    @Override\r\n    public void orderClasses(ClassOrdererContext context) {\r\n        Collections.shuffle(context.getClassDescriptors());\r\n    }\r\n}\r\n```\r\n\r\n```\r\njunit.jupiter.testclass.order.default=foo.MyOrderer\r\n```\r\n\r\n**Note that `@Nested` test classes cannot be ordered by a `ClassOrderer`.**\r\n\r\nRefer to JUnit 5 [documentations][2] and ClassOrderer [API docs][3] to learn more about this.\r\n\r\nsource: https://stackoverflow.com/questions/57624495/junit-test-class-order\r\n\r\nI recommend paying attention: https://stackoverflow.com/a/68269239/10663941\r\n\r\nmethod order: https://www.baeldung.com/junit-5-test-order (because I got here in search of an answer)\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.8.0/release-notes/\r\n  [2]: https://junit.org/junit5/docs/snapshot/user-guide/index.html#writing-tests-test-execution-order\r\n  [3]: https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html","title":"How do I define an order to run junit tests in Intellij?","body":"<p>In <em>JUnit 5</em> (from version <a href=\"https://junit.org/junit5/docs/5.8.0/release-notes/\" rel=\"nofollow noreferrer\">5.8.0</a> onwards) test classes can be ordered too.</p>\n<p><em>src/test/resources/<strong>junit-platform.properties</strong>:</em></p>\n<pre><code># ClassOrderer$OrderAnnotation sorts classes based on their @Order annotation\njunit.jupiter.testclass.order.default=org.junit.jupiter.api.ClassOrderer$OrderAnnotation\n</code></pre>\n<p>Other Junit built-in class orderer implementations:</p>\n<pre><code>org.junit.jupiter.api.ClassOrderer$ClassName\norg.junit.jupiter.api.ClassOrderer$DisplayName\norg.junit.jupiter.api.ClassOrderer$Random\n</code></pre>\n<p>You can also provide your own orderer. It must implement ClassOrderer interface:</p>\n<pre><code>package foo;\npublic class MyOrderer implements ClassOrderer {\n    @Override\n    public void orderClasses(ClassOrdererContext context) {\n        Collections.shuffle(context.getClassDescriptors());\n    }\n}\n</code></pre>\n<pre><code>junit.jupiter.testclass.order.default=foo.MyOrderer\n</code></pre>\n<p><strong>Note that <code>@Nested</code> test classes cannot be ordered by a <code>ClassOrderer</code>.</strong></p>\n<p>Refer to JUnit 5 <a href=\"https://junit.org/junit5/docs/snapshot/user-guide/index.html#writing-tests-test-execution-order\" rel=\"nofollow noreferrer\">documentations</a> and ClassOrderer <a href=\"https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/ClassOrderer.html\" rel=\"nofollow noreferrer\">API docs</a> to learn more about this.</p>\n<p>source: <a href=\"https://stackoverflow.com/questions/57624495/junit-test-class-order\">JUnit test class order</a></p>\n<p>I recommend paying attention: <a href=\"https://stackoverflow.com/a/68269239/10663941\">https://stackoverflow.com/a/68269239/10663941</a></p>\n<p>method order: <a href=\"https://www.baeldung.com/junit-5-test-order\" rel=\"nofollow noreferrer\">https://www.baeldung.com/junit-5-test-order</a> (because I got here in search of an answer)</p>\n"}],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29228,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1696411817,"creation_date":1450982534,"question_id":34456739,"body_markdown":"I have a flaky junit test that only fails if I run all my tests.  I think that one test is causing another test to fail, I want to prove it before I try to fix it.\r\n\r\nIf I run all tests, it runs the &quot;test pollution test&quot; then it runs the &quot;test that fails after test pollution&quot;.  It also runs a lot of irrelevant, slow tests in between.  But if I use a pattern to only run these two, it runs &quot;test that fails after test pollution&quot; then &quot;test pollution test&quot;.  As a result, both pass.  \r\n\r\nHow do I only run &quot;test pollution test&quot; and &quot;test that fails after test pollution&quot;, in that order?\r\n\r\nNote: These tests are in separate classes.","title":"How do I define an order to run junit tests in Intellij?","body":"<p>I have a flaky junit test that only fails if I run all my tests.  I think that one test is causing another test to fail, I want to prove it before I try to fix it.</p>\n<p>If I run all tests, it runs the &quot;test pollution test&quot; then it runs the &quot;test that fails after test pollution&quot;.  It also runs a lot of irrelevant, slow tests in between.  But if I use a pattern to only run these two, it runs &quot;test that fails after test pollution&quot; then &quot;test pollution test&quot;.  As a result, both pass.</p>\n<p>How do I only run &quot;test pollution test&quot; and &quot;test that fails after test pollution&quot;, in that order?</p>\n<p>Note: These tests are in separate classes.</p>\n"},{"tags":["java","selenium-webdriver","cucumber","testng"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1696342372,"post_id":77220334,"comment_id":136138594,"body_markdown":"Can you show the code where you get it? `PageFactory` just provides a wrapper for the field. Each time you access it it performs lookup from scratch. So there cannot be stale elements.","body":"Can you show the code where you get it? <code>PageFactory</code> just provides a wrapper for the field. Each time you access it it performs lookup from scratch. So there cannot be stale elements."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1696351505,"post_id":77220334,"comment_id":136140536,"body_markdown":"@AlexeyR. `Each time you access it it performs lookup from scratch. So there cannot be stale elements.` That is not true. The first time it looks up an element, it looks it up from scratch. Each time after that when the variable is referenced, it uses the existing reference which can easily cause stale elements. This is a major and well documented problem with PageFactory.","body":"@AlexeyR. <code>Each time you access it it performs lookup from scratch. So there cannot be stale elements.</code> That is not true. The first time it looks up an element, it looks it up from scratch. Each time after that when the variable is referenced, it uses the existing reference which can easily cause stale elements. This is a major and well documented problem with PageFactory."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696388297,"post_id":77220334,"comment_id":136145025,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1696402063,"post_id":77220334,"comment_id":136146332,"body_markdown":"@JeffC can you provide any link to that well-documented problem? I&#39;ve always been thinking that the default behavior is to re-lookup unless you apply `@CacheLookup` annotation.","body":"@JeffC can you provide any link to that well-documented problem? I&#39;ve always been thinking that the default behavior is to re-lookup unless you apply <code>@CacheLookup</code> annotation."},{"owner":{"account_id":27159796,"reputation":13,"user_id":20698038,"display_name":"PleasePlease"},"score":0,"creation_date":1696411860,"post_id":77220334,"comment_id":136148216,"body_markdown":"@AlexeyR.  Added one of the reusable components in the question.","body":"@AlexeyR.  Added one of the reusable components in the question."},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1696428623,"post_id":77220334,"comment_id":136151853,"body_markdown":"@AlexeyR. I don&#39;t have any links handy but I&#39;m sure some googling will produce some results. What I have is my personal experience years ago running into it on a regular basis before I abandoned PageFactory and also the volume of questions here on SO asking this very same question. Also, I went to SeleniumConf a few years ago and Simon Stewart, the Selenium Project Director, said in his keynote to NOT use PageFactory, at all... https://youtu.be/gyfUpOysIF8?si=vZQGE0b5gMQXp5hw&amp;t=1518.","body":"@AlexeyR. I don&#39;t have any links handy but I&#39;m sure some googling will produce some results. What I have is my personal experience years ago running into it on a regular basis before I abandoned PageFactory and also the volume of questions here on SO asking this very same question. Also, I went to SeleniumConf a few years ago and Simon Stewart, the Selenium Project Director, said in his keynote to NOT use PageFactory, at all... <a href=\"https://youtu.be/gyfUpOysIF8?si=vZQGE0b5gMQXp5hw&amp;t=1518\" rel=\"nofollow noreferrer\">youtu.be/gyfUpOysIF8?si=vZQGE0b5gMQXp5hw&amp;t=1518</a>."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1696430164,"post_id":77220334,"comment_id":136152252,"body_markdown":"@PleasePlease so I am not sure where exactly is `PageFactory` involved in your code example..","body":"@PleasePlease so I am not sure where exactly is <code>PageFactory</code> involved in your code example.."}],"answers":[{"tags":[],"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696352304,"creation_date":1696352304,"answer_id":77224208,"question_id":77220334,"body_markdown":"I recommend you abandon PageFactory for the page object model using locators defined in the page object using `By`. Then in your methods, fetch the element fresh each time using the defined locator.\r\n\r\nA simple example of a login page page object would be...\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    public class LoginPage {\r\n        WebDriver driver;\r\n        private final By usernameLocator = By.id(&quot;username&quot;);\r\n        private final By passwordLocator = By.id(&quot;password&quot;);\r\n        private final By submitButtonLocator = By.cssSelector(&quot;button[type=&#39;submit&#39;]&quot;);\r\n\r\n        public LoginPage(WebDriver driver) {\r\n            this.driver = driver;\r\n        }\r\n\r\n        public void login(String username, String password) {\r\n            driver.findElement(usernameLocator).sendKeys(username);\r\n            driver.findElement(passwordLocator).sendKeys(password);\r\n            driver.findElement(submitButtonLocator).click();\r\n        }\r\n    }\r\n\r\nYou would call it like\r\n\r\n    String username = &quot;username&quot;;\r\n    String password = &quot;password&quot;;\r\n    ...\r\n    LoginPage loginPage = new LoginPage(driver);\r\n    loginPage.login(username, password);","title":"StaleElementReferenceException in PageFactory in Selenium","body":"<p>I recommend you abandon PageFactory for the page object model using locators defined in the page object using <code>By</code>. Then in your methods, fetch the element fresh each time using the defined locator.</p>\n<p>A simple example of a login page page object would be...</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\n\npublic class LoginPage {\n    WebDriver driver;\n    private final By usernameLocator = By.id(&quot;username&quot;);\n    private final By passwordLocator = By.id(&quot;password&quot;);\n    private final By submitButtonLocator = By.cssSelector(&quot;button[type='submit']&quot;);\n\n    public LoginPage(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    public void login(String username, String password) {\n        driver.findElement(usernameLocator).sendKeys(username);\n        driver.findElement(passwordLocator).sendKeys(password);\n        driver.findElement(submitButtonLocator).click();\n    }\n}\n</code></pre>\n<p>You would call it like</p>\n<pre><code>String username = &quot;username&quot;;\nString password = &quot;password&quot;;\n...\nLoginPage loginPage = new LoginPage(driver);\nloginPage.login(username, password);\n</code></pre>\n"}],"owner":{"account_id":27159796,"reputation":13,"user_id":20698038,"display_name":"PleasePlease"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77224208,"answer_count":1,"score":0,"last_activity_date":1696411766,"creation_date":1696317451,"question_id":77220334,"body_markdown":"I am trying to interact with an element before or after updating it. When I try to interact with an element after updating it, I am getting StaleElementReferenceException.\r\n\r\n\r\n**Note:-** My simple question is whether we can handle StaleElementReferenceException which is occurred when previous reference of WebElement is deleted permanently. \r\n          If it is not possible, I will consider using **By locator instead of WebElement using @FindBy**. \r\n\r\n\r\n\r\nI have tried to handle StaleElementReferenceException using retry mechanism, but still in vain. I have even tried to reinitialize all the elements in that corresponding page, but still in vain. I have recently created my framework with PageFactory. \r\n\r\nCan someone please let me know how to handle this situation? \r\n\r\nI heard that we cannot handle StaleElementReferenceException in PageFactory. Many people are suggesting to go using **By locator instead of WebElement using @FindBy**. \r\n\r\n\r\n\r\nOne of reusable component:-\r\n\r\n        public void click(WebElement element, int timeout) {\r\n\t\tint attempts = 0;\r\n\t\twhile (attempts &lt; 10) {\r\n\t\t\ttry {\r\n\t\t\t\twaitUntilElementIsClickable(element, timeout);\r\n\t\t\t\tmoveToElement(element, timeout);\r\n\t\t\t\telement.click();\r\n\t\t\t\tbreak;\r\n\t\t\t} catch (ElementClickInterceptedException e) {\r\n\t\t\t\tlog.info(&quot;Reperforming click operation since \r\n               ElementClickInterceptedException is occured&quot;);\r\n\t\t\t\tif (attempts == 9) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tthrow new ElementClickInterceptedException(\r\n\t\t\t\t\t\t\t&quot;Retried clicking 10 times, hence \r\n       throwing this exception&quot;);\r\n\t\t\t\t}\r\n\r\n\t\t\t} catch (StaleElementReferenceException e) {\r\n\t\t\t\tlog.info(&quot;Reperforming click operation since \r\n         StaleElementReferenceException is occured&quot;);\r\n\t\t\t\tif (attempts == 9) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\tthrow new ElementNotInteractableException(\r\n\t\t\t\t\t\t\t&quot;Retried clicking 10 times, hence \r\n       throwing this exception&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tattempts++;\r\n\t\t}\r\n\t}","title":"StaleElementReferenceException in PageFactory in Selenium","body":"<p>I am trying to interact with an element before or after updating it. When I try to interact with an element after updating it, I am getting StaleElementReferenceException.</p>\n<p><strong>Note:-</strong> My simple question is whether we can handle StaleElementReferenceException which is occurred when previous reference of WebElement is deleted permanently.\nIf it is not possible, I will consider using <strong>By locator instead of WebElement using @FindBy</strong>.</p>\n<p>I have tried to handle StaleElementReferenceException using retry mechanism, but still in vain. I have even tried to reinitialize all the elements in that corresponding page, but still in vain. I have recently created my framework with PageFactory.</p>\n<p>Can someone please let me know how to handle this situation?</p>\n<p>I heard that we cannot handle StaleElementReferenceException in PageFactory. Many people are suggesting to go using <strong>By locator instead of WebElement using @FindBy</strong>.</p>\n<p>One of reusable component:-</p>\n<pre><code>    public void click(WebElement element, int timeout) {\n    int attempts = 0;\n    while (attempts &lt; 10) {\n        try {\n            waitUntilElementIsClickable(element, timeout);\n            moveToElement(element, timeout);\n            element.click();\n            break;\n        } catch (ElementClickInterceptedException e) {\n            log.info(&quot;Reperforming click operation since \n           ElementClickInterceptedException is occured&quot;);\n            if (attempts == 9) {\n                e.printStackTrace();\n                throw new ElementClickInterceptedException(\n                        &quot;Retried clicking 10 times, hence \n   throwing this exception&quot;);\n            }\n\n        } catch (StaleElementReferenceException e) {\n            log.info(&quot;Reperforming click operation since \n     StaleElementReferenceException is occured&quot;);\n            if (attempts == 9) {\n                e.printStackTrace();\n                throw new ElementNotInteractableException(\n                        &quot;Retried clicking 10 times, hence \n   throwing this exception&quot;);\n            }\n        }\n        attempts++;\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc","payara"],"owner":{"account_id":18727226,"reputation":1,"user_id":13653558,"display_name":"Sebastian Franke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696411741,"answer_count":0,"score":0,"last_activity_date":1696411756,"creation_date":1696339449,"question_id":77222670,"body_markdown":"I have a Payara 6.2023.7 server and deploy a Java project on intellij on this server. I want to access my MySQL database via this webservlet:\r\n\r\n```\r\n@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\r\npublic class HelloServlet extends HttpServlet {\r\n    private String message;\r\n    @Resource(lookup = &quot;jdbc/mysql&quot;)//&quot;java:global/my-pool&quot;)\r\n    DataSource ds;\r\n    public void init() {\r\n        message = &quot;Hello World!&quot;;\r\n    }\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        response.setContentType(&quot;text/html&quot;);\r\n\r\n        // Hello\r\n        PrintWriter out = response.getWriter();\r\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\r\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\r\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n        String username = &quot;new_user&quot;;\r\n        String password = &quot;Password123!&quot;;\r\n\r\n        try (Connection conn = ds.getConnection();\r\n             PreparedStatement stmt = conn.prepareStatement(&quot;Select * from persons&quot;); ) {\r\n            out.println(&quot;Executed MySQL statement and got &quot; + stmt.execute());\r\n        }\r\n        catch (SQLException ex) {\r\n            Logger.getLogger(HelloServlet.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n\r\n    }\r\n\r\n    public void destroy() {\r\n    }\r\n}\r\n```\r\n\r\nI have a  [connection pool](https://i.stack.imgur.com/9JfDp.png)([connection pool details](https://i.stack.imgur.com/jQ8hB.png)) with an associated [jndi ](https://i.stack.imgur.com/MErBe.png).\r\n\r\nWhen I call my webservlet, I get this error: \r\n\r\n&gt; The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n&gt; \tat com.sun.enterprise.resource.pool.datastructure.RWLockDataStructure.addResource(RWLockDataStructure.java:108)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.addResource(ConnectionPool.java:288)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.createResourceAndAddToPool(ConnectionPool.java:1532)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.createResources(ConnectionPool.java:957)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.initPool(ConnectionPool.java:236)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.internalGetResource(ConnectionPool.java:527)\r\n&gt; \tat com.sun.enterprise.resource.pool.ConnectionPool.getResource(ConnectionPool.java:388)\r\n&gt; \tat com.sun.enterprise.resource.pool.PoolManagerImpl.getResourceFromPool(PoolManagerImpl.java:244)\r\n&gt; \tat com.sun.enterprise.resource.pool.PoolManagerImpl.getResource(PoolManagerImpl.java:171)\r\n&gt; \tat com.sun.enterprise.connectors.ConnectionManagerImpl.getResource(ConnectionManagerImpl.java:360)\r\n&gt; \tat com.sun.enterprise.connectors.ConnectionManagerImpl.internalGetConnection(ConnectionManagerImpl.java:307)\r\n&gt; 34 more\r\n&gt; Caused by: com.sun.appserv.connectors.internal.api.PoolingException: Connection could not be allocated because: Communications link failure\r\n\r\nWhere am I going wrong?  I tried reinstalling payara, mysql and creating a new project in intellij.","title":"connection problem when connecting a mysql database to a webservlet on a payara server","body":"<p>I have a Payara 6.2023.7 server and deploy a Java project on intellij on this server. I want to access my MySQL database via this webservlet:</p>\n<pre><code>@WebServlet(name = &quot;helloServlet&quot;, value = &quot;/hello-servlet&quot;)\npublic class HelloServlet extends HttpServlet {\n    private String message;\n    @Resource(lookup = &quot;jdbc/mysql&quot;)//&quot;java:global/my-pool&quot;)\n    DataSource ds;\n    public void init() {\n        message = &quot;Hello World!&quot;;\n    }\n\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        response.setContentType(&quot;text/html&quot;);\n\n        // Hello\n        PrintWriter out = response.getWriter();\n        out.println(&quot;&lt;html&gt;&lt;body&gt;&quot;);\n        out.println(&quot;&lt;h1&gt;&quot; + message + &quot;&lt;/h1&gt;&quot;);\n        out.println(&quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n        String url = &quot;jdbc:mysql://localhost:3306/test&quot;;\n        String username = &quot;new_user&quot;;\n        String password = &quot;Password123!&quot;;\n\n        try (Connection conn = ds.getConnection();\n             PreparedStatement stmt = conn.prepareStatement(&quot;Select * from persons&quot;); ) {\n            out.println(&quot;Executed MySQL statement and got &quot; + stmt.execute());\n        }\n        catch (SQLException ex) {\n            Logger.getLogger(HelloServlet.class.getName()).log(Level.SEVERE, null, ex);\n        }\n\n    }\n\n    public void destroy() {\n    }\n}\n</code></pre>\n<p>I have a  <a href=\"https://i.stack.imgur.com/9JfDp.png\" rel=\"nofollow noreferrer\">connection pool</a>(<a href=\"https://i.stack.imgur.com/jQ8hB.png\" rel=\"nofollow noreferrer\">connection pool details</a>) with an associated <a href=\"https://i.stack.imgur.com/MErBe.png\" rel=\"nofollow noreferrer\">jndi </a>.</p>\n<p>When I call my webservlet, I get this error:</p>\n<blockquote>\n<p>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat com.sun.enterprise.resource.pool.datastructure.RWLockDataStructure.addResource(RWLockDataStructure.java:108)\nat com.sun.enterprise.resource.pool.ConnectionPool.addResource(ConnectionPool.java:288)\nat com.sun.enterprise.resource.pool.ConnectionPool.createResourceAndAddToPool(ConnectionPool.java:1532)\nat com.sun.enterprise.resource.pool.ConnectionPool.createResources(ConnectionPool.java:957)\nat com.sun.enterprise.resource.pool.ConnectionPool.initPool(ConnectionPool.java:236)\nat com.sun.enterprise.resource.pool.ConnectionPool.internalGetResource(ConnectionPool.java:527)\nat com.sun.enterprise.resource.pool.ConnectionPool.getResource(ConnectionPool.java:388)\nat com.sun.enterprise.resource.pool.PoolManagerImpl.getResourceFromPool(PoolManagerImpl.java:244)\nat com.sun.enterprise.resource.pool.PoolManagerImpl.getResource(PoolManagerImpl.java:171)\nat com.sun.enterprise.connectors.ConnectionManagerImpl.getResource(ConnectionManagerImpl.java:360)\nat com.sun.enterprise.connectors.ConnectionManagerImpl.internalGetConnection(ConnectionManagerImpl.java:307)\n34 more\nCaused by: com.sun.appserv.connectors.internal.api.PoolingException: Connection could not be allocated because: Communications link failure</p>\n</blockquote>\n<p>Where am I going wrong?  I tried reinstalling payara, mysql and creating a new project in intellij.</p>\n"},{"tags":["java","datetime","interface","jodatime"],"answers":[{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1696411717,"creation_date":1271513306,"answer_id":2658607,"question_id":2538448,"body_markdown":"&gt; I see advantages in having almost all\r\n&gt; the Interfaces using LocalDateTime (at\r\n&gt; the Service Layer at least) so that my\r\n&gt; Application doesn&#39;t have to manage\r\n&gt; Timezones and can safely assume Times always in UTC. \r\n\r\nI&#39;m not sure I understand your line of thinking here. `LocalDateTime` and `DateTime` represent two quite different concepts. It&#39;s not the case that a `LocalDateTime` has some implicit UTC timezone: it actually has _no_ timezone (internally it may be represented as a `DateTime` with UTC timezone, but it&#39;s just an implementation detail, it does not matter to the programmer who uses it). \r\n\r\n[You can see in the API docs][1] that, while a **`DateTime`** is an &quot;**`Instant`**&quot; (a point in the world time line, a physical concept), a **`LocalDateTime`** is NOT such a thing. The `LocalDateTime` is actually a [**`Partial`**][2], (a &quot;civil&quot; concept), in a different class hierarchy. The class names might -unfortunately- make you think that `LocalDateTime` is some specialization of `DateTime`: well, it isn&#39;t.\r\n\r\nA **`LocalDateTime`** should be regarded as a pair {**`Date`** (`Y/M/D`) ; **`Time`** (`hh:mm:ss.msec`)}, a bunch of numbers which corresponds to the &quot;civil&quot; standard representation of time-related data. If we are given a `LocalDateTime`, we cannot convert it directly to a `DateTime`, we need to specify a timezone; and that conversion takes us to another kind of entity. (An analogy: Strings and byte streams in Java: to convert between them, you must specify a charset encoding, because they are conceptually different things)\r\n\r\nWhen to use one or the other in the application... it&#39;s sometimes arguable, but frequently it&#39;s clear enough once the Jodatime concepts are understood. And IMO is not much related to &quot;layers&quot;, perhaps more to use cases or scenarios.\r\n\r\nA non-trivial -borderline- example: You work at Google, programming the Calendar. You must let the user manage (add, see, modify) an event which includes a date-time (lets ignore recurrent events), say &quot;*I have an appointment with my doctor on 2019-July-3 at 10:00 am*&quot;. What is the time-date entity to use in the software layer (for *this usecase*)? I&#39;d say: a `LocalDateTime`. Because the user is not really dealing with a physical point in time, but with a civil time: the date and time that displays the clock in his wrist or in his home. He does not even think of timezones (lets ignore the special case of a user who is traveling around the world...) Then, in the business and presentation layer, a `LocalDateTime` seems the right entity. \r\n\r\nBut suppose that you must also code a different scenario: a reminder. When the Google internal scheduler detects that the event stored by the user is N minutes in the future from now, it must send him a reminder. Here, &quot;*N minutes from now*&quot; is a totally &quot;physical&quot; concept of time, so here the &quot;business layer&quot; would deal with a `DateTime`. There are several alternatives, for example: the event was stored in the DB as a `LocalDateTime` (ie. just time and date without timezone - one frequently uses a UTC timestamp to represent that, but this is an implementation detail). In this scenario (only in this), we must load it as a `DateTime`, we convert it using a Timezone, probably from the user&#39;s profile.\r\n\r\n  [1]: https://www.joda.org/joda-time/key_instant.html\r\n  [2]: https://www.joda.org/joda-time/key_partial.html","title":"Joda-Time: DateTime, DateMidnight and LocalDate usage","body":"<blockquote>\n<p>I see advantages in having almost all\nthe Interfaces using LocalDateTime (at\nthe Service Layer at least) so that my\nApplication doesn't have to manage\nTimezones and can safely assume Times always in UTC.</p>\n</blockquote>\n<p>I'm not sure I understand your line of thinking here. <code>LocalDateTime</code> and <code>DateTime</code> represent two quite different concepts. It's not the case that a <code>LocalDateTime</code> has some implicit UTC timezone: it actually has <em>no</em> timezone (internally it may be represented as a <code>DateTime</code> with UTC timezone, but it's just an implementation detail, it does not matter to the programmer who uses it).</p>\n<p><a href=\"https://www.joda.org/joda-time/key_instant.html\" rel=\"nofollow noreferrer\">You can see in the API docs</a> that, while a <strong><code>DateTime</code></strong> is an &quot;<strong><code>Instant</code></strong>&quot; (a point in the world time line, a physical concept), a <strong><code>LocalDateTime</code></strong> is NOT such a thing. The <code>LocalDateTime</code> is actually a <a href=\"https://www.joda.org/joda-time/key_partial.html\" rel=\"nofollow noreferrer\"><strong><code>Partial</code></strong></a>, (a &quot;civil&quot; concept), in a different class hierarchy. The class names might -unfortunately- make you think that <code>LocalDateTime</code> is some specialization of <code>DateTime</code>: well, it isn't.</p>\n<p>A <strong><code>LocalDateTime</code></strong> should be regarded as a pair {<strong><code>Date</code></strong> (<code>Y/M/D</code>) ; <strong><code>Time</code></strong> (<code>hh:mm:ss.msec</code>)}, a bunch of numbers which corresponds to the &quot;civil&quot; standard representation of time-related data. If we are given a <code>LocalDateTime</code>, we cannot convert it directly to a <code>DateTime</code>, we need to specify a timezone; and that conversion takes us to another kind of entity. (An analogy: Strings and byte streams in Java: to convert between them, you must specify a charset encoding, because they are conceptually different things)</p>\n<p>When to use one or the other in the application... it's sometimes arguable, but frequently it's clear enough once the Jodatime concepts are understood. And IMO is not much related to &quot;layers&quot;, perhaps more to use cases or scenarios.</p>\n<p>A non-trivial -borderline- example: You work at Google, programming the Calendar. You must let the user manage (add, see, modify) an event which includes a date-time (lets ignore recurrent events), say &quot;<em>I have an appointment with my doctor on 2019-July-3 at 10:00 am</em>&quot;. What is the time-date entity to use in the software layer (for <em>this usecase</em>)? I'd say: a <code>LocalDateTime</code>. Because the user is not really dealing with a physical point in time, but with a civil time: the date and time that displays the clock in his wrist or in his home. He does not even think of timezones (lets ignore the special case of a user who is traveling around the world...) Then, in the business and presentation layer, a <code>LocalDateTime</code> seems the right entity.</p>\n<p>But suppose that you must also code a different scenario: a reminder. When the Google internal scheduler detects that the event stored by the user is N minutes in the future from now, it must send him a reminder. Here, &quot;<em>N minutes from now</em>&quot; is a totally &quot;physical&quot; concept of time, so here the &quot;business layer&quot; would deal with a <code>DateTime</code>. There are several alternatives, for example: the event was stored in the DB as a <code>LocalDateTime</code> (ie. just time and date without timezone - one frequently uses a UTC timestamp to represent that, but this is an implementation detail). In this scenario (only in this), we must load it as a <code>DateTime</code>, we convert it using a Timezone, probably from the user's profile.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514676044,"creation_date":1514675594,"answer_id":48038658,"question_id":2538448,"body_markdown":"The [Answer by leonbloy][1] is correct and vitally important. I am merely translating to the java.time classes that replace the Joda-Time project.\r\n\r\n# java.time\r\n\r\n## Specific moment\r\n\r\nFor a specific moment on the timeline:\r\n\r\n - Always in UTC is represented by [`Instant`][2]. \r\n - Assigned an offset-from-UTC is represented by [`OffsetDateTime`][3].\r\n - Assign a full time zone rather than mere offset is represented by [`ZonedDateTime`][4].\r\n\r\nThese all replace the `Instant` &amp; `DateTime` class in Joda-Time. These java.time classes all have a resolution of [nanoseconds][5] versus the milliseconds used by Joda-Time.\r\n\r\n## Midnight versus Start-of-day\r\n\r\nFor midnight, the Joda-Time project concluded “midnight” is a vague and unproductive concept. The midnight-related classes and midnights were all deprecated in later versions of Joda-Time, replaced with the practical concept of “first moment of the day”. \r\n\r\nThe java.time classes took the same lesson, using a &quot;first moment of the day&quot; approach. Look for `atStartOfDay` methods on java.time classes such as `LocalDate`. \r\n\r\nNever assume a day starts at 00:00. Anomalies such as Daylight Saving Time (DST) mean the day may start at other times such as 01:00.\r\n\r\n    ZonedDateTime zdt = \r\n        LocalDate.of( 2017 , Month.MARCH , 12 )                    // Instantiate a date-only value without time zone.\r\n                 .atStartOfDay( ZoneId.of( &quot;America/Havana&quot; ) ) ;  // Cuba jumps from 00:00 to 01:00 on Spring DST cut-over.\r\n\r\nFor example, see how Cuba starts the day at 1 AM on their Spring DST cut-over.\r\n\r\n&gt;zdt: 2017-03-12T01:00-04:00[America/Havana]\r\n\r\n## Unzoned\r\n\r\nFor representing the vague idea of possible moments over a range of about 26-27 hours but not an actual moment on the timeline, use `LocalDateTime`. This class purposely lacks any offset-from-UTC or time zone.\r\n\r\n    LocalDateTime ldt = LocalDateTime.of( 2017 , Month.JANUARY , 23 , 1 , 2 , 3 , 0 ) ;\r\n\r\nIf your business context implies a specific time zone, you can apply it to get a `ZonedDateTime`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Tunis&quot; ) ;\r\n    ZonedDateTime zdt = ldt.atZone( z ) ;  // Determine a specific point on timeline by providing the context of a time zone.\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2658607/642706\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/time/OffsetDateTime.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\r\n  [5]: https://en.wikipedia.org/wiki/Nanosecond","title":"Joda-Time: DateTime, DateMidnight and LocalDate usage","body":"<p>The <a href=\"https://stackoverflow.com/a/2658607/642706\">Answer by leonbloy</a> is correct and vitally important. I am merely translating to the java.time classes that replace the Joda-Time project.</p>\n\n<h1>java.time</h1>\n\n<h2>Specific moment</h2>\n\n<p>For a specific moment on the timeline:</p>\n\n<ul>\n<li>Always in UTC is represented by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a>. </li>\n<li>Assigned an offset-from-UTC is represented by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/OffsetDateTime.html\" rel=\"nofollow noreferrer\"><code>OffsetDateTime</code></a>.</li>\n<li>Assign a full time zone rather than mere offset is represented by <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>.</li>\n</ul>\n\n<p>These all replace the <code>Instant</code> &amp; <code>DateTime</code> class in Joda-Time. These java.time classes all have a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a> versus the milliseconds used by Joda-Time.</p>\n\n<h2>Midnight versus Start-of-day</h2>\n\n<p>For midnight, the Joda-Time project concluded “midnight” is a vague and unproductive concept. The midnight-related classes and midnights were all deprecated in later versions of Joda-Time, replaced with the practical concept of “first moment of the day”. </p>\n\n<p>The java.time classes took the same lesson, using a \"first moment of the day\" approach. Look for <code>atStartOfDay</code> methods on java.time classes such as <code>LocalDate</code>. </p>\n\n<p>Never assume a day starts at 00:00. Anomalies such as Daylight Saving Time (DST) mean the day may start at other times such as 01:00.</p>\n\n<pre><code>ZonedDateTime zdt = \n    LocalDate.of( 2017 , Month.MARCH , 12 )                    // Instantiate a date-only value without time zone.\n             .atStartOfDay( ZoneId.of( \"America/Havana\" ) ) ;  // Cuba jumps from 00:00 to 01:00 on Spring DST cut-over.\n</code></pre>\n\n<p>For example, see how Cuba starts the day at 1 AM on their Spring DST cut-over.</p>\n\n<blockquote>\n  <p>zdt: 2017-03-12T01:00-04:00[America/Havana]</p>\n</blockquote>\n\n<h2>Unzoned</h2>\n\n<p>For representing the vague idea of possible moments over a range of about 26-27 hours but not an actual moment on the timeline, use <code>LocalDateTime</code>. This class purposely lacks any offset-from-UTC or time zone.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.of( 2017 , Month.JANUARY , 23 , 1 , 2 , 3 , 0 ) ;\n</code></pre>\n\n<p>If your business context implies a specific time zone, you can apply it to get a <code>ZonedDateTime</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"Africa/Tunis\" ) ;\nZonedDateTime zdt = ldt.atZone( z ) ;  // Determine a specific point on timeline by providing the context of a time zone.\n</code></pre>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"account_id":38343,"reputation":5452,"user_id":109970,"accept_rate":88,"display_name":"mickthompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22767,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":2658607,"answer_count":2,"score":32,"last_activity_date":1696411717,"creation_date":1269871546,"question_id":2538448,"body_markdown":"[Joda-Time][1] library includes different datetime classes\r\n&gt; [DateTime][2] - Immutable replacement\r\n&gt; for JDK Calendar&lt;br&gt; [DateMidnight][3]\r\n&gt; - Immutable class representing a date where the time is forced to\r\n&gt; midnight&lt;br&gt; [LocalDateTime][4] -\r\n&gt; Immutable class representing a local\r\n&gt; date and time (no time zone)&lt;br&gt;\r\n\r\nI&#39;m wondering how are you using these classes in your *Layered Applications*.\r\n \r\nI see advantages in having almost all the Interfaces using LocalDateTime (at the Service Layer at least) so that my Application doesn&#39;t have to manage Timezones and can safely assume Times always in UTC. My app could then use DateTime to manage Timezones at the very beginning of the Execution&#39;s Flow.\r\n\r\nI&#39;m also wondering in which scenario can DateMidnight be useful.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [3]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html\r\n  [4]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDateTime.html","title":"Joda-Time: DateTime, DateMidnight and LocalDate usage","body":"<p><a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library includes different datetime classes</p>\n\n<blockquote>\n  <p><a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"noreferrer\">DateTime</a> - Immutable replacement\n  for JDK Calendar<br> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateMidnight.html\" rel=\"noreferrer\">DateMidnight</a>\n  - Immutable class representing a date where the time is forced to\n  midnight<br> <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDateTime.html\" rel=\"noreferrer\">LocalDateTime</a> -\n  Immutable class representing a local\n  date and time (no time zone)<br></p>\n</blockquote>\n\n<p>I'm wondering how are you using these classes in your <em>Layered Applications</em>.</p>\n\n<p>I see advantages in having almost all the Interfaces using LocalDateTime (at the Service Layer at least) so that my Application doesn't have to manage Timezones and can safely assume Times always in UTC. My app could then use DateTime to manage Timezones at the very beginning of the Execution's Flow.</p>\n\n<p>I'm also wondering in which scenario can DateMidnight be useful.</p>\n"},{"tags":["java","bdd"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1696411593,"post_id":77227347,"comment_id":136148178,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be compiled and tested by others.\n[Please do not upload images of code/errors when asking a question.](https://meta.stackoverflow.com/q/285551)","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/77227347/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be compiled and tested by others. <a href=\"https://meta.stackoverflow.com/q/285551\">Please do not upload images of code/errors when asking a question.</a>"}],"owner":{"account_id":29593975,"reputation":1,"user_id":22680858,"display_name":"Harish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696411566,"creation_date":1696402072,"question_id":77227347,"body_markdown":"Error: \r\n\r\n    java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder\r\n\r\n\r\nActual result:\r\n\r\n    [RemoteTestNG] detected TestNG version 7.4.0\r\n    \r\n    Scenario: Successful login with valid credentials                        # Features/login1.feature:4\r\n      Given User launch chrome browser                                       # stepDefinitions.steps.user_launch_chrome_browser()\r\n        ** ** java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.****\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\r\n    \tat stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\r\n    \tat ✽.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\r\n    \r\n      When user open URL &quot;http://admin-demo.nopcommerce.com/login&quot;           # stepDefinitions.steps.user_open_url(java.lang.String)\r\n      And user enters email as &quot;admin@yourstore.com&quot; and password as &quot;admin&quot; # stepDefinitions.steps.user_enters_email_as_and_password_as(java.lang.String,java.lang.String)\r\n      And Click on login                                                     # stepDefinitions.steps.click_on_login()\r\n      Then Page title should be &quot;Dashboard / nopCommerce administration&quot;     # stepDefinitions.steps.page_title_should_be(java.lang.String)\r\n      When user click on logout link                                         # stepDefinitions.steps.user_click_on_logout_link()\r\n      Then page title should be &quot;Your store. Login&quot;\r\n      And Close browser                                                      # stepDefinitions.steps.close_browser()\r\n    FAILED: runScenario(&quot;Successful login with valid credentials&quot;, &quot;Login&quot;)\r\n            Runs Cucumber Scenarios\r\n    java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method &#39;abstract void loadSystemProperties()&#39; of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\r\n    \tat org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\r\n    \tat org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\r\n    \tat stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\r\n    \tat ✽.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\r\n    \r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 1, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 0, Failures: 1, Skips: 0\r\n    ===============================================\r\n\r\n\r\ntestrun class:\r\n[enter image description here][1]\r\n\r\nsteps class: \r\n[enter image description here][2]\r\nExpected result: \r\n\r\nWeb browser should load and open the provided url......\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yUzuv.png\r\n  [2]: https://i.stack.imgur.com/6iQNo.png","title":"Getting Abstract method error even after providing valid absolute chrome path","body":"<p>Error:</p>\n<pre><code>java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder\n</code></pre>\n<p>Actual result:</p>\n<pre><code>[RemoteTestNG] detected TestNG version 7.4.0\n\nScenario: Successful login with valid credentials                        # Features/login1.feature:4\n  Given User launch chrome browser                                       # stepDefinitions.steps.user_launch_chrome_browser()\n    ** ** java.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder.****\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\n    at org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\n    at stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\n    at ✽.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\n\n  When user open URL &quot;http://admin-demo.nopcommerce.com/login&quot;           # stepDefinitions.steps.user_open_url(java.lang.String)\n  And user enters email as &quot;admin@yourstore.com&quot; and password as &quot;admin&quot; # stepDefinitions.steps.user_enters_email_as_and_password_as(java.lang.String,java.lang.String)\n  And Click on login                                                     # stepDefinitions.steps.click_on_login()\n  Then Page title should be &quot;Dashboard / nopCommerce administration&quot;     # stepDefinitions.steps.page_title_should_be(java.lang.String)\n  When user click on logout link                                         # stepDefinitions.steps.user_click_on_logout_link()\n  Then page title should be &quot;Your store. Login&quot;\n  And Close browser                                                      # stepDefinitions.steps.close_browser()\nFAILED: runScenario(&quot;Successful login with valid credentials&quot;, &quot;Login&quot;)\n        Runs Cucumber Scenarios\njava.lang.AbstractMethodError: Receiver class org.openqa.selenium.chrome.ChromeDriverService$Builder does not define or inherit an implementation of the resolved method 'abstract void loadSystemProperties()' of abstract class org.openqa.selenium.remote.service.DriverService$Builder.\n    at org.openqa.selenium.remote.service.DriverService$Builder.build(DriverService.java:495)\n    at org.openqa.selenium.chrome.ChromeDriverService.createServiceWithConfig(ChromeDriverService.java:165)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:71)\n    at stepDefinitions.steps.user_launch_chrome_browser(steps.java:35)\n    at ✽.User launch chrome browser(file:///C:/Users/User/eclipse-workspace/BDD/./Features/login1.feature:5)\n\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 1, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 0, Failures: 1, Skips: 0\n===============================================\n</code></pre>\n<p>testrun class:\n<a href=\"https://i.stack.imgur.com/yUzuv.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>steps class:\n<a href=\"https://i.stack.imgur.com/6iQNo.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nExpected result:</p>\n<p>Web browser should load and open the provided url......</p>\n"},{"tags":["java","optimization","apache-commons-math"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696413107,"post_id":77228300,"comment_id":136148547,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":29594885,"reputation":1,"user_id":22681583,"display_name":"NotARobot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696411246,"creation_date":1696411246,"question_id":77228300,"body_markdown":"I am trying to solve a 2 dimensional optimization problem using [BOBYQA](https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/optim/nonlinear/scalar/noderiv/BOBYQAOptimizer.html) Optimization Java library provided by Apache Math. If I understood correctly, the only termination/convergence criteria in BOBYQA Java library is the minimum trust region radius. As for the Python implementation of [BOBYQA](https://numericalalgorithmsgroup.github.io/pybobyqa/build/html/index.html), one can terminate the optimization based on the objective function value as well.\r\n\r\nI can see that in Java, optimization still keeps on running even though the value of the objective function is acceptable. I want to terminate the optimization when the value of objective function is lower than the acceptable value. Is there a way in Java implementation of BOBYQA to terminate the optimization based on the objective function value?","title":"Java Apache BOBYQA optimization termination criteria","body":"<p>I am trying to solve a 2 dimensional optimization problem using <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/optim/nonlinear/scalar/noderiv/BOBYQAOptimizer.html\" rel=\"nofollow noreferrer\">BOBYQA</a> Optimization Java library provided by Apache Math. If I understood correctly, the only termination/convergence criteria in BOBYQA Java library is the minimum trust region radius. As for the Python implementation of <a href=\"https://numericalalgorithmsgroup.github.io/pybobyqa/build/html/index.html\" rel=\"nofollow noreferrer\">BOBYQA</a>, one can terminate the optimization based on the objective function value as well.</p>\n<p>I can see that in Java, optimization still keeps on running even though the value of the objective function is acceptable. I want to terminate the optimization when the value of objective function is lower than the acceptable value. Is there a way in Java implementation of BOBYQA to terminate the optimization based on the objective function value?</p>\n"},{"tags":["java","jodatime"],"comments":[{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1343578918,"post_id":11665404,"comment_id":15534211,"body_markdown":"I&#39;m not sure I understand why you&#39;d want to do this. The `getMillis` method on all `ReadableInstant` types is independent of the `DateTime`&#39;s time zone, and always returns the number of milliseconds passed since the epoch (midnight Jan 1, 1970, UTC). Are you saying you want the number of milliseconds passed since midnight Jan 1, 1970 in a non-UTC time zone? (e.g. PST, CEST, etc). If so, why would you want this?","body":"I&#39;m not sure I understand why you&#39;d want to do this. The <code>getMillis</code> method on all <code>ReadableInstant</code> types is independent of the <code>DateTime</code>&#39;s time zone, and always returns the number of milliseconds passed since the epoch (midnight Jan 1, 1970, UTC). Are you saying you want the number of milliseconds passed since midnight Jan 1, 1970 in a non-UTC time zone? (e.g. PST, CEST, etc). If so, why would you want this?"},{"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1343589520,"post_id":11665404,"comment_id":15536570,"body_markdown":"@AndrewMcNamee Yes, that&#39;s the number I want, because that&#39;s how dates are stored in an external database I need to access. Yes, it&#39;s a bad way to store them, but it can&#39;t be changed.","body":"@AndrewMcNamee Yes, that&#39;s the number I want, because that&#39;s how dates are stored in an external database I need to access. Yes, it&#39;s a bad way to store them, but it can&#39;t be changed."},{"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"score":0,"creation_date":1343650593,"post_id":11665404,"comment_id":15550522,"body_markdown":"Ah, fair enough. Yep, definitely less than ideal, but if it can&#39;t be changed, it can&#39;t be changed (just be sure to document it thoroughly ;) ). I have a slightly clearer suggestion. Will write it as an answer in a sec.","body":"Ah, fair enough. Yep, definitely less than ideal, but if it can&#39;t be changed, it can&#39;t be changed (just be sure to document it thoroughly ;) ). I have a slightly clearer suggestion. Will write it as an answer in a sec."}],"answers":[{"tags":[],"owner":{"account_id":138032,"reputation":1705,"user_id":342687,"display_name":"Andrew McNamee"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1390972198,"creation_date":1343650811,"answer_id":11721433,"question_id":11665404,"body_markdown":"You can make this a little clearer by storing a constant `LocalDateTime` referring to Jan 1, 1970, and then calculating a `Duration` between that point in time (for a given time zone) and the instant that you care about, like:\r\n\r\n    private static final LocalDateTime JAN_1_1970 = new LocalDateTime(1970, 1, 1, 0, 0);\r\n\r\n    ...\r\n\r\n    new Duration(JAN_1_1970.toDateTime(someTimeZone), endPointInstantOrDateTime).getMillis();","title":"Simplest way to get local milliseconds in a time zone with Joda-Time","body":"<p>You can make this a little clearer by storing a constant <code>LocalDateTime</code> referring to Jan 1, 1970, and then calculating a <code>Duration</code> between that point in time (for a given time zone) and the instant that you care about, like:</p>\n\n<pre><code>private static final LocalDateTime JAN_1_1970 = new LocalDateTime(1970, 1, 1, 0, 0);\n\n...\n\nnew Duration(JAN_1_1970.toDateTime(someTimeZone), endPointInstantOrDateTime).getMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2428012,"reputation":79,"user_id":2119553,"display_name":"Ethan Lee"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1419867532,"creation_date":1419866948,"answer_id":27691621,"question_id":11665404,"body_markdown":"Use (joda-time-2.3.jar) org.joda.time.LocalDateTime#toDateTime()#getMillis().\r\n\r\n    org.joda.time.format.DateTimeFormatter dtf = org.joda.time.format.DateTimeFormat.forPattern(&quot;yyyy-MM-dd HH:mm:ss.SSS&quot;);\r\n    org.joda.time.LocalDateTime ldt = dtf.parseLocalDateTime(&quot;2014-12-25 12:23:34.567&quot;);\r\n    System.out.println(ldt);\r\n\r\n    long delta = ldt.toDateTime().getMillis();\r\n    System.out.println(delta);\r\n\r\n    java.util.Date dt = new java.util.Date(delta);\r\n    System.out.println(dt);\r\n","title":"Simplest way to get local milliseconds in a time zone with Joda-Time","body":"<p>Use (joda-time-2.3.jar) org.joda.time.LocalDateTime#toDateTime()#getMillis().</p>\n\n<pre><code>org.joda.time.format.DateTimeFormatter dtf = org.joda.time.format.DateTimeFormat.forPattern(\"yyyy-MM-dd HH:mm:ss.SSS\");\norg.joda.time.LocalDateTime ldt = dtf.parseLocalDateTime(\"2014-12-25 12:23:34.567\");\nSystem.out.println(ldt);\n\nlong delta = ldt.toDateTime().getMillis();\nSystem.out.println(delta);\n\njava.util.Date dt = new java.util.Date(delta);\nSystem.out.println(dt);\n</code></pre>\n"}],"owner":{"account_id":5645,"reputation":168040,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40886,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":11721433,"answer_count":2,"score":26,"last_activity_date":1696411213,"creation_date":1343291713,"question_id":11665404,"body_markdown":"Currently, to get milliseconds from start of 1970 in a local time zone, I do\r\n\r\n\tlong localMillis = dateTime.withZone(timeZone).toLocalDateTime()\r\n\t\t.toDateTime(DateTimeZone.UTC).getMillis();\r\n\r\nThis works, but is there a simpler way to do this?","title":"Simplest way to get local milliseconds in a time zone with Joda-Time","body":"<p>Currently, to get milliseconds from start of 1970 in a local time zone, I do</p>\n\n<pre><code>long localMillis = dateTime.withZone(timeZone).toLocalDateTime()\n    .toDateTime(DateTimeZone.UTC).getMillis();\n</code></pre>\n\n<p>This works, but is there a simpler way to do this?</p>\n"},{"tags":["java","mysql","database","maven","tomcat9"],"comments":[{"owner":{"account_id":3419213,"reputation":371,"user_id":2867318,"accept_rate":80,"display_name":"Cryptoharf84"},"score":0,"creation_date":1580936798,"post_id":60084064,"comment_id":106266259,"body_markdown":"If mysql-connector-java-*.jar is not available in the classpath then you cannot connect to the MySQL database ... you probably messed up the hierarchy of dependencies.","body":"If mysql-connector-java-*.jar is not available in the classpath then you cannot connect to the MySQL database ... you probably messed up the hierarchy of dependencies."},{"owner":{"account_id":16878,"reputation":306133,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1580937453,"post_id":60084064,"comment_id":106266522,"body_markdown":"Sure you&#39;re not running MariaDB?  URL is different.","body":"Sure you&#39;re not running MariaDB?  URL is different."},{"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"score":0,"creation_date":1580937575,"post_id":60084064,"comment_id":106266581,"body_markdown":"How do i tidy that hierarchy up?","body":"How do i tidy that hierarchy up?"},{"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"score":0,"creation_date":1580937604,"post_id":60084064,"comment_id":106266594,"body_markdown":"No, i&#39;m using MySQL and the server runs in the background.","body":"No, i&#39;m using MySQL and the server runs in the background."}],"answers":[{"tags":[],"owner":{"account_id":5272138,"reputation":2107,"user_id":4210091,"display_name":"Renato"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1696410696,"creation_date":1580936926,"answer_id":60084139,"question_id":60084064,"body_markdown":"Before get connection you have to load your driver with:\r\n\r\n    Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\r\nAnd the corresponding JAR must be in your classpath (in the lib of your server or packaged in your WAR file).\r\n\r\n### Update ###\r\n\r\nAs mentioned in @Silverfang&#39;s answer below, since JDBC 4.0, this statement is not longer required, as reported [here](https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:~:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.)\r\n\r\n### Hints ###\r\n\r\nAnyway I suggest you to use a [connection&#39;s pool][1] instead of `DriverManager`\r\n\r\n&gt;The main benefits to connection pooling are:\r\n&gt;\r\n &gt; 1. Reduced connection creation time.\r\n &gt;\r\n&gt;Although this is not usually an issue with the quick connection setup that MySQL offers compared to other databases, creating new JDBC connections still incurs networking and JDBC driver overhead that will be avoided if connections are recycled.\r\n&gt;\r\n&gt; 2. Simplified programming model.\r\n&gt;\r\n&gt; When using connection pooling, each individual thread can act as though it has created its own JDBC connection, allowing you to use straightforward JDBC programming techniques.\r\n&gt;\r\n&gt; 3. Controlled resource usage.\r\n&gt;\r\n&gt; If you create a new connection every time a thread needs one rather than using connection pooling, your application&#39;s resource usage can be wasteful, and it could lead to unpredictable behaviors for your application when it is under a heavy load.\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/database","body":"<p>Before get connection you have to load your driver with:</p>\n<pre><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n</code></pre>\n<p>And the corresponding JAR must be in your classpath (in the lib of your server or packaged in your WAR file).</p>\n<h3>Update</h3>\n<p>As mentioned in @Silverfang's answer below, since JDBC 4.0, this statement is not longer required, as reported <a href=\"https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:%7E:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.\" rel=\"nofollow noreferrer\">here</a></p>\n<h3>Hints</h3>\n<p>Anyway I suggest you to use a <a href=\"https://dev.mysql.com/doc/connector-j/5.1/en/connector-j-usagenotes-j2ee-concepts-connection-pooling.html\" rel=\"nofollow noreferrer\">connection's pool</a> instead of <code>DriverManager</code></p>\n<blockquote>\n<p>The main benefits to connection pooling are:</p>\n<ol>\n<li>Reduced connection creation time.</li>\n</ol>\n<p>Although this is not usually an issue with the quick connection setup that MySQL offers compared to other databases, creating new JDBC connections still incurs networking and JDBC driver overhead that will be avoided if connections are recycled.</p>\n<ol start=\"2\">\n<li>Simplified programming model.</li>\n</ol>\n<p>When using connection pooling, each individual thread can act as though it has created its own JDBC connection, allowing you to use straightforward JDBC programming techniques.</p>\n<ol start=\"3\">\n<li>Controlled resource usage.</li>\n</ol>\n<p>If you create a new connection every time a thread needs one rather than using connection pooling, your application's resource usage can be wasteful, and it could lead to unpredictable behaviors for your application when it is under a heavy load.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17505229,"reputation":359,"user_id":12694610,"display_name":"Silverfang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696410524,"creation_date":1580994276,"answer_id":60095677,"question_id":60084064,"body_markdown":"Since you are using maven just add the dependency in your pom.xml file. \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;5.1.37&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\nJust go to the maven repo and search for a version that works for you.\r\nor If you have downloaded the jar file then add it to your project classpath.\r\n\r\n### Edit ###\r\n\r\n`Class.forName()` is not needed since JDBC 4.0; [here](https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:~:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.) you can find the documentation related","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/database","body":"<p>Since you are using maven just add the dependency in your pom.xml file.</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;mysql&lt;/groupId&gt;\n&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n&lt;version&gt;5.1.37&lt;/version&gt;\n</code></pre>\n\n<p>Just go to the maven repo and search for a version that works for you.\nor If you have downloaded the jar file then add it to your project classpath.</p>\n<h3>Edit</h3>\n<p><code>Class.forName()</code> is not needed since JDBC 4.0; <a href=\"https://docs.oracle.com/javadb/10.8.3.0/ref/rrefjdbc4_0summary.html#:%7E:text=With%20JDBC%204.0%2C%20applications%20no,introduces%20refined%20subclasses%20of%20SQLException.\" rel=\"nofollow noreferrer\">here</a> you can find the documentation related</p>\n"}],"owner":{"account_id":17697739,"reputation":17,"user_id":12848076,"display_name":"Quantum"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11651,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60084139,"answer_count":2,"score":1,"last_activity_date":1696410696,"creation_date":1580936526,"question_id":60084064,"body_markdown":"I&#39;ve been trying to set up my own rest api for a school project. I decided to use MySQL as a database and i want to connect it with my webservice, but apparently i always get this error message: \r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/userdatenbank\r\n\r\nWhen i look at the error message, it also tells me that this code can&#39;t be executed: \r\n\r\n    public UserService() {\r\n\t\ttry {\r\n\t\t\tcon = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/userdatenbank&quot;, &quot;root&quot;, &quot;adminadmin123&quot;); \r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}  \r\n\t} \r\n\r\nI don&#39;t know why this keeps happening... The MySQL Java Connector JAR-File is located in &quot;Referenced Libraries&quot;. By the way I use Tomcat 9, MySQL 8, JDK 13 and Maven (Jersey Servlet).","title":"java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/database","body":"<p>I've been trying to set up my own rest api for a school project. I decided to use MySQL as a database and i want to connect it with my webservice, but apparently i always get this error message: \njava.sql.SQLException: No suitable driver found for jdbc:mysql://localhost:3306/userdatenbank</p>\n\n<p>When i look at the error message, it also tells me that this code can't be executed: </p>\n\n<pre><code>public UserService() {\n    try {\n        con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/userdatenbank\", \"root\", \"adminadmin123\"); \n    } catch (SQLException e) {\n        e.printStackTrace();\n    }  \n} \n</code></pre>\n\n<p>I don't know why this keeps happening... The MySQL Java Connector JAR-File is located in \"Referenced Libraries\". By the way I use Tomcat 9, MySQL 8, JDK 13 and Maven (Jersey Servlet).</p>\n"},{"tags":["java","jenkins","groovy","jenkins-pipeline"],"comments":[{"owner":{"account_id":45842,"reputation":13608,"user_id":135294,"display_name":"cjstehno"},"score":0,"creation_date":1517343443,"post_id":48521559,"comment_id":84054955,"body_markdown":"Double check the version of Groovy being used as well as any differences between your classpath in both situations.","body":"Double check the version of Groovy being used as well as any differences between your classpath in both situations."},{"owner":{"account_id":7006447,"reputation":573,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"score":0,"creation_date":1517397479,"post_id":48521559,"comment_id":84076844,"body_markdown":"Paths are identical, versions of groovy also.","body":"Paths are identical, versions of groovy also."}],"answers":[{"tags":[],"owner":{"account_id":9845567,"reputation":1507,"user_id":7293226,"display_name":"Vineeth Sai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517316108,"creation_date":1517316108,"answer_id":48521772,"question_id":48521559,"body_markdown":"object.get() will give an NullPointerException if the object is null, so you need to check if the object is null or not before you call any method on it. so, an alternative could to check if `astros != null` and then call `.get()` within the if-block.\r\n","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>object.get() will give an NullPointerException if the object is null, so you need to check if the object is null or not before you call any method on it. so, an alternative could to check if <code>astros != null</code> and then call <code>.get()</code> within the if-block.</p>\n"},{"tags":[],"owner":{"account_id":6925412,"reputation":2542,"user_id":5316642,"accept_rate":50,"display_name":"Nitin Dhomse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517318868,"creation_date":1517317387,"answer_id":48522127,"question_id":48521559,"body_markdown":"Handle the null issue inside your code as follows (Use null safe operator and groovy truth concept.)\r\n\r\n    @Grab(&#39;io.github.http-builder-ng:http-builder-ng-core:1.0.3&#39;)\r\n    \r\n    import static groovyx.net.http.HttpBuilder.configure\r\n    def astros = configure {\r\n        request.uri = &#39;http://api.open-notify.org/astros.json&#39;\r\n    }?.get() // added null safe operator here (will handle null pointer exception)\r\n    \r\n    println &quot;There are ${astros?.number} astronauts in space right now.&quot;\r\n    //iterate if astros value exists.\r\n    if(astros){\r\n      astros.people.each { p-&gt;\r\n        println &quot; - ${p.name} (${p.craft})&quot;\r\n      }\r\n    }\r\n\r\n// As you are having json, you need to parse that as follows.\r\n\r\n \r\n\r\n      def slurper = new groovy.json.JsonSlurper()\r\n      def result = slurper.parseText(astros)\r\n      println result\r\n      println result?.number\r\n\r\n","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>Handle the null issue inside your code as follows (Use null safe operator and groovy truth concept.)</p>\n\n<pre><code>@Grab('io.github.http-builder-ng:http-builder-ng-core:1.0.3')\n\nimport static groovyx.net.http.HttpBuilder.configure\ndef astros = configure {\n    request.uri = 'http://api.open-notify.org/astros.json'\n}?.get() // added null safe operator here (will handle null pointer exception)\n\nprintln \"There are ${astros?.number} astronauts in space right now.\"\n//iterate if astros value exists.\nif(astros){\n  astros.people.each { p-&gt;\n    println \" - ${p.name} (${p.craft})\"\n  }\n}\n</code></pre>\n\n<p>// As you are having json, you need to parse that as follows.</p>\n\n<pre><code>  def slurper = new groovy.json.JsonSlurper()\n  def result = slurper.parseText(astros)\n  println result\n  println result?.number\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9372101,"reputation":545,"user_id":7001589,"display_name":"Marcos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517410182,"creation_date":1517410182,"answer_id":48544963,"question_id":48521559,"body_markdown":"I take it that you created a shared library and is trying to use this in a pipeline?\r\n\r\nI have the same problem at the moment, I think it might be a limitation of the Groovy interpreter on Jenkins, similar to how the each loop didn&#39;t work [until some time ago][1].\r\n\r\nI&#39;ve resorted to using this version of [http-builder][2] to circumvent that for now. I&#39;ll update this if I find a proper solution (please also post an answer if you find anything).\r\n\r\n\r\n  [1]: https://issues.jenkins-ci.org/browse/JENKINS-26481\r\n  [2]: https://github.com/jgritman/httpbuilder","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>I take it that you created a shared library and is trying to use this in a pipeline?</p>\n\n<p>I have the same problem at the moment, I think it might be a limitation of the Groovy interpreter on Jenkins, similar to how the each loop didn't work <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-26481\" rel=\"nofollow noreferrer\">until some time ago</a>.</p>\n\n<p>I've resorted to using this version of <a href=\"https://github.com/jgritman/httpbuilder\" rel=\"nofollow noreferrer\">http-builder</a> to circumvent that for now. I'll update this if I find a proper solution (please also post an answer if you find anything).</p>\n"},{"tags":[],"owner":{"account_id":27451934,"reputation":1,"user_id":20944024,"display_name":"The Akshay"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1672999488,"creation_date":1672999488,"answer_id":75029492,"question_id":48521559,"body_markdown":"if you facing &quot;**java.lang.nullpointerexception cannot invoke**&quot; then try to initialize every element of object_array with new class() like:\r\n\r\n    Result[] s=new Result[3];\r\n    \r\n    s[0]=new Result();\r\n    s[1]=new Result();\r\n    s[2]=new Result();\r\n\r\n\r\nExample:\r\n\r\n    class hybrid1\r\n    \t{\r\n    \tpublic static void main(String arg[]) \r\n    \t\t{\r\n    \t\tResult[] s;\r\n    \t\ts=new Result[3];\r\n    \t\t//s[0]=new Result();\r\n    \t\tint i;\r\n    \t\tfor(i=0;i&lt;3;i++)\r\n    \t\t\t{\r\n    \t\t\ts[i]=new Result();\r\n    \t\t\ts[i].getroll(101);\r\n    \t\t\ts[i].getmarks(88.36F,78.65F);\r\n    \t\t\ts[i].display();\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t/*Result s1;\r\n    \t\ts1=new Result();\r\n    \t\ts1.getroll(101);\r\n    \t\ts1.getmarks(58,69);\r\n    \t\ts1.display();*/\r\n    \t\t}\r\n    \t}","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>if you facing &quot;<strong>java.lang.nullpointerexception cannot invoke</strong>&quot; then try to initialize every element of object_array with new class() like:</p>\n<pre><code>Result[] s=new Result[3];\n\ns[0]=new Result();\ns[1]=new Result();\ns[2]=new Result();\n</code></pre>\n<p>Example:</p>\n<pre><code>class hybrid1\n    {\n    public static void main(String arg[]) \n        {\n        Result[] s;\n        s=new Result[3];\n        //s[0]=new Result();\n        int i;\n        for(i=0;i&lt;3;i++)\n            {\n            s[i]=new Result();\n            s[i].getroll(101);\n            s[i].getmarks(88.36F,78.65F);\n            s[i].display();\n            }\n        \n        /*Result s1;\n        s1=new Result();\n        s1.getroll(101);\n        s1.getmarks(58,69);\n        s1.display();*/\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":7006447,"reputation":573,"user_id":5370652,"accept_rate":95,"display_name":"user54"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93206,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1696410496,"creation_date":1517315490,"question_id":48521559,"body_markdown":"I have the next Groovy code which I try to run in Jenkins Pipeline:\r\n\r\n    @Grab(&#39;io.github.http-builder-ng:http-builder-ng-core:1.0.3&#39;)\r\n    \r\n    import static groovyx.net.http.HttpBuilder.configure\r\n    \r\n    def astros = configure {\r\n        request.uri = &#39;http://api.open-notify.org/astros.json&#39;\r\n    }.get()\r\n    \r\n    println &quot;There are ${astros.number} astronauts in space right now.&quot;\r\n    \r\n    astros.people.each { p-&gt;\r\n        println &quot; - ${p.name} (${p.craft})&quot;\r\n    }\r\n\r\nBut everytime I get `java.lang.NullPointerException: Cannot invoke method get() on null object` error.\r\n\r\nWhen I run it from my desktop, everything works as expected:\r\n\r\n    There are 6 astronauts in space right now.\r\nIn Jenkins: \r\n\r\n    There are null astronauts in space right now.\r\n\r\nDebug output:\r\n\r\n    &lt;groovyx.net.http.UriBuilder$Basic@4bc2413c scheme=http port=-1 host=api.open-notify.org path=/astros.json query=[:] fragment=null userInfo=null parent=groovyx.net.http.UriBuilder$ThreadSafe@69c6847a useRawValues=null&gt;\r\n\r\nWhat should I do to make it work?","title":"java.lang.NullPointerException: Cannot invoke method get() on null object","body":"<p>I have the next Groovy code which I try to run in Jenkins Pipeline:</p>\n\n<pre><code>@Grab('io.github.http-builder-ng:http-builder-ng-core:1.0.3')\n\nimport static groovyx.net.http.HttpBuilder.configure\n\ndef astros = configure {\n    request.uri = 'http://api.open-notify.org/astros.json'\n}.get()\n\nprintln \"There are ${astros.number} astronauts in space right now.\"\n\nastros.people.each { p-&gt;\n    println \" - ${p.name} (${p.craft})\"\n}\n</code></pre>\n\n<p>But everytime I get <code>java.lang.NullPointerException: Cannot invoke method get() on null object</code> error.</p>\n\n<p>When I run it from my desktop, everything works as expected:</p>\n\n<pre><code>There are 6 astronauts in space right now.\n</code></pre>\n\n<p>In Jenkins: </p>\n\n<pre><code>There are null astronauts in space right now.\n</code></pre>\n\n<p>Debug output:</p>\n\n<pre><code>&lt;groovyx.net.http.UriBuilder$Basic@4bc2413c scheme=http port=-1 host=api.open-notify.org path=/astros.json query=[:] fragment=null userInfo=null parent=groovyx.net.http.UriBuilder$ThreadSafe@69c6847a useRawValues=null&gt;\n</code></pre>\n\n<p>What should I do to make it work?</p>\n"},{"tags":["java","scope","warnings","compiler-warnings","this-pointer"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1695868288,"post_id":77191858,"comment_id":136082350,"body_markdown":"Could someone help me with the tags? I feel like there is room for improvement there, but I can&#39;t think of what would be a better fit.","body":"Could someone help me with the tags? I feel like there is room for improvement there, but I can&#39;t think of what would be a better fit."},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1695889554,"post_id":77191858,"comment_id":136084912,"body_markdown":"Please provide a [mre] and the full compiler warning/error","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the full compiler warning/error"},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1695900344,"post_id":77191858,"comment_id":136087020,"body_markdown":"Question on this [issue](https://stackoverflow.com/questions/77183429/final-value-in-java-getting-reinitialized#comment136074286_77183429) yesterday","body":"Question on this <a href=\"https://stackoverflow.com/questions/77183429/final-value-in-java-getting-reinitialized#comment136074286_77183429\">issue</a> yesterday"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1695937486,"post_id":77191858,"comment_id":136094022,"body_markdown":"@MarkRotteveel I have done so and edited the question.","body":"@MarkRotteveel I have done so and edited the question."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1695937545,"post_id":77191858,"comment_id":136094031,"body_markdown":"@DuncG It is certainly the same source problem. Though, I think my question is useful too since it shows a more common interaction people will have with this warning.","body":"@DuncG It is certainly the same source problem. Though, I think my question is useful too since it shows a more common interaction people will have with this warning."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":2,"creation_date":1695943779,"post_id":77191858,"comment_id":136094639,"body_markdown":"@user85421 If you are implying a criticism of my question, I am open to hearing it. However, I don&#39;t understand your comment as is.","body":"@user85421 If you are implying a criticism of my question, I am open to hearing it. However, I don&#39;t understand your comment as is."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696410377,"creation_date":1695868252,"answer_id":77191859,"question_id":77191858,"body_markdown":"Here is the JDK Bug System entry that introduces this new warning - https://bugs.openjdk.org/browse/JDK-8299995\r\n\r\nLong story short, the `this-escape` warning is to warn you when a subclass may be able to `@Override` a method that is also called in the superclass&#39; constructor.\r\n\r\nThis is dangerous because overriding a method that is used in the constructor allows subclass&#39; to unintentionally introduce a bug during a subclass&#39; initialization. What if that method depends on state that has not yet been created because we are still in the super constructor? After all, you cannot do anything in the subclass&#39; constructor before calling the super constructor ([for now][1]).\r\n\r\nThere are a few ways to remedy this.\r\n\r\n1. Only use methods in the constructor that cannot be overridden.\r\n\r\n    - `static` methods.\r\n\r\n    - `final` methods.\r\n\r\n    - `private` methods.\r\n\r\n2. Make the class itself `final`.\r\n\r\n3. Don&#39;t pass in/use `this` to begin with - instead, pass in the particular component of `this` that you needed.\r\n\r\n    - Basically, quit being lazy and be explicit with what you need. Don&#39;t just pass in your [God object][2] -- pass in only the specific attributes you need.\r\n\r\nPlease note - these rules apply recursively. Meaning, when you call a method in the constructor, not only does that method have to be &quot;not-overridable&quot;, but the methods that that method passes `this` into must ***ALSO*** match one of the rules above. If your top-level method is not overridable, but one of the methods inside of it is, and that method has `this` in its scope, then you will receive a `this-escape` error upon compilation. Here is an example.\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class GUI\r\n{\r\n\r\n   private final JFrame frame;\r\n\r\n   public GUI()\r\n   {\r\n   \r\n      this.frame = new JFrame();\r\n   \r\n      this.frame.add(this.createBottomPanel());\r\n   \r\n   }\r\n\r\n   //final! Does that mean we are safe?\r\n   final JPanel createBottomPanel()\r\n   {\r\n   \r\n      final JButton save = new JButton();\r\n   \r\n      save\r\n         .addActionListener\r\n         (\r\n            /*\r\n             * No. We get the warning here at the start of this lambda.\r\n             * The reason is because we have given this lambda the\r\n             * ability to call this.toString(), and we don&#39;t know when\r\n             * it will do that. Maybe now, maybe later. But if it does\r\n             * it now, then we could end up doing things before the\r\n             * object is fully created. And if that were to happen, then\r\n             * that would be a this-escape. So, the warning occurs here,\r\n             * to let you know that it is possible.\r\n             */\r\n            actionEvent -&gt;\r\n            {\r\n           \r\n               this.toString();\r\n           \r\n            }\r\n           \r\n         )\r\n         ;\r\n   \r\n      return null;\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/447\r\n  [2]: https://en.wikipedia.org/wiki/God_object","title":"What is a &quot;this-escape&quot; warning, and how do I deal with it?","body":"<p>Here is the JDK Bug System entry that introduces this new warning - <a href=\"https://bugs.openjdk.org/browse/JDK-8299995\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8299995</a></p>\n<p>Long story short, the <code>this-escape</code> warning is to warn you when a subclass may be able to <code>@Override</code> a method that is also called in the superclass' constructor.</p>\n<p>This is dangerous because overriding a method that is used in the constructor allows subclass' to unintentionally introduce a bug during a subclass' initialization. What if that method depends on state that has not yet been created because we are still in the super constructor? After all, you cannot do anything in the subclass' constructor before calling the super constructor (<a href=\"https://openjdk.org/jeps/447\" rel=\"nofollow noreferrer\">for now</a>).</p>\n<p>There are a few ways to remedy this.</p>\n<ol>\n<li><p>Only use methods in the constructor that cannot be overridden.</p>\n<ul>\n<li><p><code>static</code> methods.</p>\n</li>\n<li><p><code>final</code> methods.</p>\n</li>\n<li><p><code>private</code> methods.</p>\n</li>\n</ul>\n</li>\n<li><p>Make the class itself <code>final</code>.</p>\n</li>\n<li><p>Don't pass in/use <code>this</code> to begin with - instead, pass in the particular component of <code>this</code> that you needed.</p>\n<ul>\n<li>Basically, quit being lazy and be explicit with what you need. Don't just pass in your <a href=\"https://en.wikipedia.org/wiki/God_object\" rel=\"nofollow noreferrer\">God object</a> -- pass in only the specific attributes you need.</li>\n</ul>\n</li>\n</ol>\n<p>Please note - these rules apply recursively. Meaning, when you call a method in the constructor, not only does that method have to be &quot;not-overridable&quot;, but the methods that that method passes <code>this</code> into must <em><strong>ALSO</strong></em> match one of the rules above. If your top-level method is not overridable, but one of the methods inside of it is, and that method has <code>this</code> in its scope, then you will receive a <code>this-escape</code> error upon compilation. Here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class GUI\n{\n\n   private final JFrame frame;\n\n   public GUI()\n   {\n   \n      this.frame = new JFrame();\n   \n      this.frame.add(this.createBottomPanel());\n   \n   }\n\n   //final! Does that mean we are safe?\n   final JPanel createBottomPanel()\n   {\n   \n      final JButton save = new JButton();\n   \n      save\n         .addActionListener\n         (\n            /*\n             * No. We get the warning here at the start of this lambda.\n             * The reason is because we have given this lambda the\n             * ability to call this.toString(), and we don't know when\n             * it will do that. Maybe now, maybe later. But if it does\n             * it now, then we could end up doing things before the\n             * object is fully created. And if that were to happen, then\n             * that would be a this-escape. So, the warning occurs here,\n             * to let you know that it is possible.\n             */\n            actionEvent -&gt;\n            {\n           \n               this.toString();\n           \n            }\n           \n         )\n         ;\n   \n      return null;\n   \n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":77191859,"answer_count":1,"score":1,"last_activity_date":1696410377,"creation_date":1695868252,"question_id":77191858,"body_markdown":"I struggle to find resources on this, and yet, so many of my classes are running into this error when I compile my code on the latest Java (21).\r\n\r\nHere is a code example.\r\n\r\n```java\r\npublic class ThisEscapeExample\r\n{\r\n\r\n        public Object o;\r\n\r\n        public ThisEscapeExample()\r\n        {\r\n\r\n                this.overridableMethod();\r\n\r\n        }\r\n\r\n        public void overridableMethod()\r\n        {\r\n\r\n                this.o = new Object();\r\n\r\n        }\r\n\r\n}\r\n```\r\n\r\nAnd here is my compilation command.\r\n\r\n```none\r\njavac -Xlint:all ThisEscapeExample.java\r\nThisEscapeExample.java:9: warning: [this-escape] possible &#39;this&#39; escape before subclass is fully initialized\r\n                this.overridableMethod();\r\n                                      ^\r\n1 warning\r\n```","title":"What is a &quot;this-escape&quot; warning, and how do I deal with it?","body":"<p>I struggle to find resources on this, and yet, so many of my classes are running into this error when I compile my code on the latest Java (21).</p>\n<p>Here is a code example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThisEscapeExample\n{\n\n        public Object o;\n\n        public ThisEscapeExample()\n        {\n\n                this.overridableMethod();\n\n        }\n\n        public void overridableMethod()\n        {\n\n                this.o = new Object();\n\n        }\n\n}\n</code></pre>\n<p>And here is my compilation command.</p>\n<pre class=\"lang-none prettyprint-override\"><code>javac -Xlint:all ThisEscapeExample.java\nThisEscapeExample.java:9: warning: [this-escape] possible 'this' escape before subclass is fully initialized\n                this.overridableMethod();\n                                      ^\n1 warning\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3264778,"reputation":2635,"user_id":2749470,"accept_rate":92,"display_name":"Bhargav Modi"},"score":0,"creation_date":1455192414,"post_id":35338868,"comment_id":58385029,"body_markdown":"use DAO implementation with basic core spring","body":"use DAO implementation with basic core spring"},{"owner":{"account_id":2155540,"reputation":443,"user_id":1910882,"display_name":"Makoton"},"score":0,"creation_date":1455193593,"post_id":35338868,"comment_id":58385881,"body_markdown":"Please follow REST best practices when you start to creating some RestFull Services","body":"Please follow REST best practices when you start to creating some RestFull Services"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1455194154,"post_id":35338868,"comment_id":58386234,"body_markdown":"I suggest a read of the paper from Roy Fielding.","body":"I suggest a read of the paper from Roy Fielding."}],"answers":[{"tags":[],"owner":{"account_id":2032168,"reputation":3688,"user_id":1815544,"accept_rate":83,"display_name":"R. Gulbrandsen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1696410357,"creation_date":1455192639,"answer_id":35339010,"question_id":35338868,"body_markdown":"Use the HTTP verb to control what you want to do with the resouces:\r\n    \r\n    GET:    /services        -&gt; returns all elements\r\n    GET:    /services/{id}   -&gt; returns element with id\r\n    POST:   /services        -&gt; creates a new object, pass the object in the body\r\n    PUT:    /services/{id}   -&gt; replace element with id, pass updated values in body\r\n    PATCH:  /services/{id}   -&gt; update element with id, pass updated values in body\r\n    DELETE: /services/{id}   -&gt; delete element with id\r\n\r\nI strongly recommend you use query params for paging in GET: /services, return a default number on page 1 if it&#39;s not listed.\r\n\r\nA full request could look like: http://www.example.com/services?page=5&amp;count=10","title":"Which naming pattern should i use for basic CRUD?","body":"<p>Use the HTTP verb to control what you want to do with the resouces:</p>\n<pre><code>GET:    /services        -&gt; returns all elements\nGET:    /services/{id}   -&gt; returns element with id\nPOST:   /services        -&gt; creates a new object, pass the object in the body\nPUT:    /services/{id}   -&gt; replace element with id, pass updated values in body\nPATCH:  /services/{id}   -&gt; update element with id, pass updated values in body\nDELETE: /services/{id}   -&gt; delete element with id\n</code></pre>\n<p>I strongly recommend you use query params for paging in GET: /services, return a default number on page 1 if it's not listed.</p>\n<p>A full request could look like: <a href=\"http://www.example.com/services?page=5&amp;count=10\" rel=\"nofollow noreferrer\">http://www.example.com/services?page=5&amp;count=10</a></p>\n"}],"owner":{"account_id":5822940,"reputation":863,"user_id":4590364,"accept_rate":78,"display_name":"KpsLok"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":35339010,"answer_count":1,"score":-2,"last_activity_date":1696410357,"creation_date":1455192204,"question_id":35338868,"body_markdown":"I&#39;m creating a RestFul API for the first time using spring framework and now im a bit confused about the common labels used to create, read, update and delete. I want to follow a pattern for an easy maintenance in the code.  Is there any rule or naming pattern for the labels that I should follow?\r\n\r\nIm thinking about: \r\n\r\n    /service        -&gt; return every services\r\n    /service/new    -&gt; create new service\r\n    /service/update -&gt; update service\r\n    /service/delete -&gt; delete service\r\n","title":"Which naming pattern should i use for basic CRUD?","body":"<p>I'm creating a RestFul API for the first time using spring framework and now im a bit confused about the common labels used to create, read, update and delete. I want to follow a pattern for an easy maintenance in the code.  Is there any rule or naming pattern for the labels that I should follow?</p>\n\n<p>Im thinking about: </p>\n\n<pre><code>/service        -&gt; return every services\n/service/new    -&gt; create new service\n/service/update -&gt; update service\n/service/delete -&gt; delete service\n</code></pre>\n"},{"tags":["java","email","gmail","jakarta-mail"],"comments":[{"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"score":0,"creation_date":1450866884,"post_id":34433459,"comment_id":56608115,"body_markdown":"I followed but it displayed like &quot;Can’t sign in to my email app&quot; ..!!","body":"I followed but it displayed like &quot;Can’t sign in to my email app&quot; ..!!"},{"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"score":0,"creation_date":1450867451,"post_id":34433459,"comment_id":56608471,"body_markdown":"I read it, but i didn&#39;t get the solution for my query. I gave correct Email Address and password. Can you please brief me what is the exact problem in this scenario ?","body":"I read it, but i didn&#39;t get the solution for my query. I gave correct Email Address and password. Can you please brief me what is the exact problem in this scenario ?"},{"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"score":0,"creation_date":1450867872,"post_id":34433459,"comment_id":56608712,"body_markdown":"Thank you sir, i found the solution, Just &quot;Turn On&quot; the less security of your google account for send the email, &quot;https://support.google.com/accounts/answer/6010255?hl=en&quot; this link was the cure for me.","body":"Thank you sir, i found the solution, Just &quot;Turn On&quot; the less security of your google account for send the email, &quot;<a href=\"https://support.google.com/accounts/answer/6010255?hl=en\" rel=\"nofollow noreferrer\">support.google.com/accounts/answer/6010255?hl=en</a>&quot; this link was the cure for me."}],"answers":[{"tags":[],"owner":{"account_id":2636743,"reputation":1886,"user_id":2281189,"accept_rate":38,"display_name":"QuakeCore"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1474486276,"creation_date":1450867749,"answer_id":34433953,"question_id":34433459,"body_markdown":"You need to set the Allow less secure apps: ON, login to google using the account desired, and go to the [security page](https://www.google.com/settings/security/lesssecureapps) and set the `Allow less secure apps` to be ON.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>You need to set the Allow less secure apps: ON, login to google using the account desired, and go to the <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"noreferrer\">security page</a> and set the <code>Allow less secure apps</code> to be ON.</p>\n"},{"tags":[],"owner":{"account_id":9814108,"reputation":1649,"user_id":7271155,"accept_rate":100,"display_name":"G.Ashok Kumar"},"down_vote_count":0,"up_vote_count":79,"is_accepted":false,"score":79,"last_activity_date":1499317144,"creation_date":1499260885,"answer_id":44927470,"question_id":34433459,"body_markdown":"You need to allow less secure apps, you can do it by click below link\r\n\r\nhttps://www.google.com/settings/security/lesssecureapps\r\n\r\nalso try this one\r\n\r\nhttps://accounts.google.com/DisplayUnlockCaptcha\r\n\r\nif still not works try changing password for gmail","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>You need to allow less secure apps, you can do it by click below link</p>\n\n<p><a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"noreferrer\">https://www.google.com/settings/security/lesssecureapps</a></p>\n\n<p>also try this one</p>\n\n<p><a href=\"https://accounts.google.com/DisplayUnlockCaptcha\" rel=\"noreferrer\">https://accounts.google.com/DisplayUnlockCaptcha</a></p>\n\n<p>if still not works try changing password for gmail</p>\n"},{"tags":[],"owner":{"account_id":2597196,"reputation":21,"user_id":2250596,"display_name":"Vema Reddy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592623526,"creation_date":1592623526,"answer_id":62481258,"question_id":34433459,"body_markdown":"I have tried with all the below options none of them worked, changing the password solves the issues.\r\n\r\nAllow less secure apps ON\r\nPassed correct user/password\r\nTried this https://accounts.google.com/DisplayUnlockCaptcha\r\n\r\nAll are correct in my case but still getting error Username and Password not accepted. \r\n\r\nMy Gmail password didn&#39;t change for a long time, after updating the password it works.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>I have tried with all the below options none of them worked, changing the password solves the issues.</p>\n\n<p>Allow less secure apps ON\nPassed correct user/password\nTried this <a href=\"https://accounts.google.com/DisplayUnlockCaptcha\" rel=\"nofollow noreferrer\">https://accounts.google.com/DisplayUnlockCaptcha</a></p>\n\n<p>All are correct in my case but still getting error Username and Password not accepted. </p>\n\n<p>My Gmail password didn't change for a long time, after updating the password it works.</p>\n"},{"tags":[],"owner":{"account_id":19353115,"reputation":45,"user_id":14150030,"display_name":"optimus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598198156,"creation_date":1598198156,"answer_id":63549048,"question_id":34433459,"body_markdown":"I was not able to send email with gmail stmp from 000webhost. In the error message there was this:&quot;Gmail returns 534-5.7.14 Please log in via your web browser&quot;. the problem was that google blocked the connection.\r\nthey asked if the connection request were from me. I haved change my password and fix the problem.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>I was not able to send email with gmail stmp from 000webhost. In the error message there was this:&quot;Gmail returns 534-5.7.14 Please log in via your web browser&quot;. the problem was that google blocked the connection.\nthey asked if the connection request were from me. I haved change my password and fix the problem.</p>\n"},{"tags":[],"owner":{"account_id":1225185,"reputation":617,"user_id":1190883,"accept_rate":25,"display_name":"Pradeesh tet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636004144,"creation_date":1636004144,"answer_id":69834871,"question_id":34433459,"body_markdown":"Check multiple-factor authentication is off and the Less secure app is turned on as mentioned by others in this thread. If you still face the issue follow the below steps.\r\n\r\n - On your computer, open Gmail.\r\n - In the top right, click Settings and See all settings. \r\n - Click the Forwarding and POP/IMAP tab.  \r\n - In the &quot;IMAP access&quot; section, select Enable IMAP.  \r\n - Click Save    Changes.","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>Check multiple-factor authentication is off and the Less secure app is turned on as mentioned by others in this thread. If you still face the issue follow the below steps.</p>\n<ul>\n<li>On your computer, open Gmail.</li>\n<li>In the top right, click Settings and See all settings.</li>\n<li>Click the Forwarding and POP/IMAP tab.</li>\n<li>In the &quot;IMAP access&quot; section, select Enable IMAP.</li>\n<li>Click Save    Changes.</li>\n</ul>\n"}],"owner":{"account_id":4717071,"reputation":349,"user_id":3815964,"display_name":"Preet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60139,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"answer_count":5,"score":26,"last_activity_date":1696410228,"creation_date":1450866120,"question_id":34433459,"body_markdown":"I found this error while i&#39;m trying to send an email from one Gmail account to another. How to solve this error ? Help me on it.\r\n\r\n\r\nThere were an error: \r\n\r\n&gt; 534-5.7.14 Please log in via your web browser and 534-5.7.14 then try again. 534-5.7.14 Learn more at 534 5.7.14 https://support.google.com/mail/answer/78754 hw7sm51688135pac.12 - gsmtp ","title":"Gmail returns 534-5.7.14 Please log in via your web browser","body":"<p>I found this error while i'm trying to send an email from one Gmail account to another. How to solve this error ? Help me on it.</p>\n\n<p>There were an error: </p>\n\n<blockquote>\n  <p>534-5.7.14 Please log in via your web browser and 534-5.7.14 then try again. 534-5.7.14 Learn more at 534 5.7.14 <a href=\"https://support.google.com/mail/answer/78754\" rel=\"noreferrer\">https://support.google.com/mail/answer/78754</a> hw7sm51688135pac.12 - gsmtp </p>\n</blockquote>\n"},{"tags":["java","spring-boot","maven","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":47138,"reputation":361,"user_id":139494,"accept_rate":100,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1647957758,"creation_date":1647957758,"answer_id":71573387,"question_id":66867480,"body_markdown":"You might just be hitting the wrong URL. That was a mistake I was making. In my project for example: \r\n* http://localhost:8080/swagger-ui/index.html will show me the PetSore API\r\n* http://localhost:8080/swagger-ui.html shows me my own API\r\n\r\nThe [OpenAPI page][1] clued me in on this:\r\n\r\n&gt; * The Swagger UI page will then be available at\r\n&gt; `http://server:port/context-path/swagger-ui.html` and the OpenAPI\r\n&gt; description will be available at the following url for json format:\r\n&gt; `http://server:port/context-path/v3/api-docs`\r\n&gt; \r\n&gt;   * server: The server name or IP\r\n&gt;   * port: The server port\r\n&gt;   * context-path: The context path of the application\r\n\r\n\r\n  [1]: https://springdoc.org/","title":"Swagger-ui keeps showing example petstore instead of my API","body":"<p>You might just be hitting the wrong URL. That was a mistake I was making. In my project for example:</p>\n<ul>\n<li>http://localhost:8080/swagger-ui/index.html will show me the PetSore API</li>\n<li>http://localhost:8080/swagger-ui.html shows me my own API</li>\n</ul>\n<p>The <a href=\"https://springdoc.org/\" rel=\"noreferrer\">OpenAPI page</a> clued me in on this:</p>\n<blockquote>\n<ul>\n<li><p>The Swagger UI page will then be available at\n<code>http://server:port/context-path/swagger-ui.html</code> and the OpenAPI\ndescription will be available at the following url for json format:\n<code>http://server:port/context-path/v3/api-docs</code></p>\n<ul>\n<li>server: The server name or IP</li>\n<li>port: The server port</li>\n<li>context-path: The context path of the application</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25778093,"reputation":21,"user_id":19524085,"display_name":"rainywindow"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680517129,"creation_date":1680517129,"answer_id":75918384,"question_id":66867480,"body_markdown":"In my case with springboot 3,\r\nthe reason was my security filter don&#39;t known about:\r\nhttp://127.0.0.7:9000/v3/api-docs/swagger-config\r\n\r\nsymptom:\r\nMy swagger-ui/index.html showed me the Petshop\r\nwhen I was not login; and showed me the money when I did login;\r\n\r\nworkaround:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration(proxyBeanMethods = false)\r\n    public class DefaultSecurityConfig {\r\n\r\n    \t@Bean\r\n    \tSecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\r\n    \t\thttp\r\n    \t\t\t.authorizeHttpRequests(authorize -&gt;\r\n    \t\t\t\tauthorize.requestMatchers(\r\n    \t\t\t\t&quot;/swagger-ui.html&quot;,&quot;/swagger-ui/**&quot;,\r\n    \t\t\t\t&quot;/v3/api-docs/**&quot; //&lt;&lt;---(1)\r\n    \t\t\t\t).permitAll())\r\n    \t\t\t.authorizeHttpRequests(authorize -&gt;\r\n    \t\t\t\tauthorize.anyRequest().authenticated()\r\n    \r\n    \t\t)\r\n    \t\t\t.formLogin(withDefaults());\r\n    \t\treturn http.build();\r\n    \t}\r\n    ...\r\n\r\n","title":"Swagger-ui keeps showing example petstore instead of my API","body":"<p>In my case with springboot 3,\nthe reason was my security filter don't known about:\n<a href=\"http://127.0.0.7:9000/v3/api-docs/swagger-config\" rel=\"nofollow noreferrer\">http://127.0.0.7:9000/v3/api-docs/swagger-config</a></p>\n<p>symptom:\nMy swagger-ui/index.html showed me the Petshop\nwhen I was not login; and showed me the money when I did login;</p>\n<p>workaround:</p>\n<pre><code>@EnableWebSecurity\n@Configuration(proxyBeanMethods = false)\npublic class DefaultSecurityConfig {\n\n    @Bean\n    SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests(authorize -&gt;\n                authorize.requestMatchers(\n                &quot;/swagger-ui.html&quot;,&quot;/swagger-ui/**&quot;,\n                &quot;/v3/api-docs/**&quot; //&lt;&lt;---(1)\n                ).permitAll())\n            .authorizeHttpRequests(authorize -&gt;\n                authorize.anyRequest().authenticated()\n\n        )\n            .formLogin(withDefaults());\n        return http.build();\n    }\n...\n</code></pre>\n"}],"owner":{"account_id":2274567,"reputation":355,"user_id":2001185,"accept_rate":80,"display_name":"chris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4502,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696410169,"creation_date":1617093648,"question_id":66867480,"body_markdown":"I&#39;m a bit lost about this, because it usually works out of the box. I&#39;m making a small java spring-boot rest api, and to get a nice API desc and test page, I use Swagger. Except this time it doesn&#39;t show my app&#39;s stuff, it shows the default petstore page.\r\n\r\nThis is what my I got in my pom (and it looks the same in other apps of mine): \r\n```\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.2.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\nI also tried with:\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nBut it didn&#39;t make a difference. Not sure where to go from here.","title":"Swagger-ui keeps showing example petstore instead of my API","body":"<p>I'm a bit lost about this, because it usually works out of the box. I'm making a small java spring-boot rest api, and to get a nice API desc and test page, I use Swagger. Except this time it doesn't show my app's stuff, it shows the default petstore page.</p>\n<p>This is what my I got in my pom (and it looks the same in other apps of mine):</p>\n<pre><code>    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.14.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.springfox/springfox-swagger-ui --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>I also tried with:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But it didn't make a difference. Not sure where to go from here.</p>\n"},{"tags":["java","scala","gradle","aop","bazel"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1696414754,"post_id":77228184,"comment_id":136148951,"body_markdown":"Welcome to SO. Please learn [how to ask a question on SO](https://stackoverflow.com/help/how-to-ask) and provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve). Thank you.","body":"Welcome to SO. Please learn <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question on SO</a> and provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>. Thank you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1696415114,"post_id":77228184,"comment_id":136149033,"body_markdown":"As for the Bazel link you shared, if you even start to read it, you will notice that it describes how to extend the Bazel build system as such using AOP-style code. It is not about adding AspectJ compilation to your target modules. What you are looking for is an AspectJ Bazel extension. Not being a Bazel user myself, I simply used Google for a few seconds and found https://github.com/ArvinZheng/Bazel-aspectj_rule and https://stackoverflow.com/a/58071267/1082681. Out of the box, there does not seem to be any comprehensive de-facto standard add-on.","body":"As for the Bazel link you shared, if you even start to read it, you will notice that it describes how to extend the Bazel build system as such using AOP-style code. It is not about adding AspectJ compilation to your target modules. What you are looking for is an AspectJ Bazel extension. Not being a Bazel user myself, I simply used Google for a few seconds and found <a href=\"https://github.com/ArvinZheng/Bazel-aspectj_rule\" rel=\"nofollow noreferrer\">github.com/ArvinZheng/Bazel-aspectj_rule</a> and <a href=\"https://stackoverflow.com/a/58071267/1082681\">stackoverflow.com/a/58071267/1082681</a>. Out of the box, there does not seem to be any comprehensive de-facto standard add-on."}],"owner":{"account_id":13249636,"reputation":11,"user_id":21686845,"display_name":"Ruchir Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696410071,"creation_date":1696410071,"question_id":77228184,"body_markdown":"So I am fairly new to Bazel and I am migrating my code from gradle. My code is a Java project which has multiple modules in it. I am using AOP to intercept calls made to a particular function (not my own function, but some other dependency&#39;s function). Suppose I have 3 projects within my repo:\r\n```\r\nproject(&#39;:project-a&#39;)\r\nproject(&#39;:project-b&#39;)\r\nproject(&#39;:project-c&#39;)\r\n```\r\nThe function is being called at multiple places in A, B. A is written in Java and B is in scala. I am using gradle to build the entire repo. I am using the plugin and dependency:\r\n```\r\nplugin: &#39;io.freefair.aspectj.post-compile-weaving&#39;    // This supports both compileJava and compileScala\r\n&quot;org.aspectj:aspectjrt:1.9.6.aspectj&quot;\r\n```\r\nThe aspect is written in Java and is present in the C project, it will have the code which should run everytime the function is called in A or B. I apply the configurations to both these A and B subprojects:\r\n```\r\nsubproject.tasks.compileJava {    // compileScala in case of project B\r\n    ajc.options.compilerArgs = [&quot;-sourceroots&quot;, &quot;${rootDir}/project-c/src/main/java&quot; ]\r\n}\r\n```\r\nThis works for my gradle project, but I wanted to know if I have anything similar in Bazel that could make it simple for me to achieve the same. The project structure remains the same. I want it so that it doesn&#39;t take too much time to intercept these calls as well, it should not affect the performance of my project. Can someone give me a simple multi-project code similar to mine where AOP is being used. \r\n\r\nI did go through https://bazel.build/extending/aspects but I wasn&#39;t able to figure out how to do this, not sure if it even is the right resource to be looking at for my case.","title":"How to use aspect oriented programming in a multi project java/scala repo built using Bazel","body":"<p>So I am fairly new to Bazel and I am migrating my code from gradle. My code is a Java project which has multiple modules in it. I am using AOP to intercept calls made to a particular function (not my own function, but some other dependency's function). Suppose I have 3 projects within my repo:</p>\n<pre><code>project(':project-a')\nproject(':project-b')\nproject(':project-c')\n</code></pre>\n<p>The function is being called at multiple places in A, B. A is written in Java and B is in scala. I am using gradle to build the entire repo. I am using the plugin and dependency:</p>\n<pre><code>plugin: 'io.freefair.aspectj.post-compile-weaving'    // This supports both compileJava and compileScala\n&quot;org.aspectj:aspectjrt:1.9.6.aspectj&quot;\n</code></pre>\n<p>The aspect is written in Java and is present in the C project, it will have the code which should run everytime the function is called in A or B. I apply the configurations to both these A and B subprojects:</p>\n<pre><code>subproject.tasks.compileJava {    // compileScala in case of project B\n    ajc.options.compilerArgs = [&quot;-sourceroots&quot;, &quot;${rootDir}/project-c/src/main/java&quot; ]\n}\n</code></pre>\n<p>This works for my gradle project, but I wanted to know if I have anything similar in Bazel that could make it simple for me to achieve the same. The project structure remains the same. I want it so that it doesn't take too much time to intercept these calls as well, it should not affect the performance of my project. Can someone give me a simple multi-project code similar to mine where AOP is being used.</p>\n<p>I did go through <a href=\"https://bazel.build/extending/aspects\" rel=\"nofollow noreferrer\">https://bazel.build/extending/aspects</a> but I wasn't able to figure out how to do this, not sure if it even is the right resource to be looking at for my case.</p>\n"},{"tags":["java","spring-boot","postman","httprequest","multipartfile"],"comments":[{"owner":{"account_id":10927511,"reputation":3072,"user_id":8031784,"display_name":"Aniruddh Parihar"},"score":0,"creation_date":1696413724,"post_id":77209071,"comment_id":136148691,"body_markdown":"HOPE THIS WILL HELP YOU https://www.baeldung.com/sprint-boot-multipart-requests#using-requestpart","body":"HOPE THIS WILL HELP YOU <a href=\"https://www.baeldung.com/sprint-boot-multipart-requests#using-requestpart\" rel=\"nofollow noreferrer\">baeldung.com/sprint-boot-multipart-requests#using-requestpar&zwnj;&#8203;t</a>"}],"answers":[{"tags":[],"owner":{"account_id":29386274,"reputation":51,"user_id":22515654,"display_name":"Klajd Bakalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696409918,"creation_date":1696408202,"answer_id":77227981,"question_id":77209071,"body_markdown":"Try to use in this way :\r\n\r\n    @PostMapping(&quot;/fileDto&quot;)\r\n    public ResponseEntity&lt;?&gt; test(@RequestBody List&lt;Test&gt; dto) {\r\n        for (Test test : dto) {\r\n            System.out.println(&quot;Email: &quot; + test.getEmailId());\r\n            System.out.println(&quot;First Name: &quot; + test.getFirstName());\r\n        }\r\n        for (MultipartFile file : test.getFiles()) {\r\n                System.out.println(&quot;File Name: &quot; + file.getOriginalFilename());\r\n            }   \r\n        return ResponseEntity.ok(&quot;Submitted&quot;);\r\n    }\r\n\r\nUpdate class:\r\n\r\n  \r\n\r\n        @Data\r\n        public class Test {\r\n        private String emailId;\r\n        private String firstName;\r\n        private List&lt;MultipartFile&gt; files;  \r\n    }\r\n\r\n","title":"How add list of Multipart in Dto and hit with postman","body":"<p>Try to use in this way :</p>\n<pre><code>@PostMapping(&quot;/fileDto&quot;)\npublic ResponseEntity&lt;?&gt; test(@RequestBody List&lt;Test&gt; dto) {\n    for (Test test : dto) {\n        System.out.println(&quot;Email: &quot; + test.getEmailId());\n        System.out.println(&quot;First Name: &quot; + test.getFirstName());\n    }\n    for (MultipartFile file : test.getFiles()) {\n            System.out.println(&quot;File Name: &quot; + file.getOriginalFilename());\n        }   \n    return ResponseEntity.ok(&quot;Submitted&quot;);\n}\n</code></pre>\n<p>Update class:</p>\n<pre><code>    @Data\n    public class Test {\n    private String emailId;\n    private String firstName;\n    private List&lt;MultipartFile&gt; files;  \n}\n</code></pre>\n"}],"owner":{"account_id":29572341,"reputation":11,"user_id":22664191,"display_name":"samee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1696409918,"creation_date":1696128736,"question_id":77209071,"body_markdown":"**problem statement:**\r\n to create Rest API which process List of Test Class and for each object present in list, has list of multipart pdf files,\r\n\r\n\r\n**how I am doing it currently **\r\n\r\nI have created below test class\r\n\r\n```\r\npackage com.practiceJPA.springDataJPA.controller;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Test {\r\n\r\n   private String emailId;\r\n   private String firstName;\r\n}\r\n```\r\n\r\nAnd controller class \r\n\r\n```\r\n\t@PostMapping(&quot;/fileDto&quot;)\r\n\tpublic ResponseEntity&lt;?&gt; test(@RequestPart List&lt;MultipartFile&gt; files,@RequestPart List&lt;Test&gt; dto) {\r\n\t\t\r\n\t\tfor (Test studentSpecificDto : dto) {\r\n\t\t\tSystem.out.println(studentSpecificDto);\r\n\t\t}\r\n\t\t\r\n\t\tfor (MultipartFile file : files) {\r\n\t\tSystem.out.println(file.getOriginalFilename());\r\n\t\t}\r\n\t\t\r\n\t\treturn ResponseEntity.ok(&quot;submited&quot;);\r\n\t}\r\n\t\r\n\r\n```\r\n\r\nI am firing this API from post man like below image\r\n\r\n[attaching files with same key to pass in list](https://i.stack.imgur.com/qqUEV.png)\r\n[Dto in form data](https://i.stack.imgur.com/9SDXk.png)\r\n\r\nApi is working fine, it is causing trouble while mapping list of files with object !!!\r\n\r\n\r\nwhat I want to achieve is,  get list of  multipart in same dto with key as object name\r\n\r\n```\r\n@Data\r\npublic class Test {\r\n\t\r\n\tprivate String emailId;\r\n\tprivate String firstName;\r\n\tprivate List&lt;MultipartFile&gt; files;\r\n\r\n\r\n}\r\n\r\n```\r\nthis will make everything easier , but I don&#39;t know how to achieve it, how to hit such complex api from postman\r\n\r\n\r\n\r\n\r\n\r\n","title":"How add list of Multipart in Dto and hit with postman","body":"<p><strong>problem statement:</strong>\nto create Rest API which process List of Test Class and for each object present in list, has list of multipart pdf files,</p>\n<p>**how I am doing it currently **</p>\n<p>I have created below test class</p>\n<pre><code>package com.practiceJPA.springDataJPA.controller;\n\nimport lombok.Data;\n\n@Data\npublic class Test {\n\n   private String emailId;\n   private String firstName;\n}\n</code></pre>\n<p>And controller class</p>\n<pre><code>    @PostMapping(&quot;/fileDto&quot;)\n    public ResponseEntity&lt;?&gt; test(@RequestPart List&lt;MultipartFile&gt; files,@RequestPart List&lt;Test&gt; dto) {\n        \n        for (Test studentSpecificDto : dto) {\n            System.out.println(studentSpecificDto);\n        }\n        \n        for (MultipartFile file : files) {\n        System.out.println(file.getOriginalFilename());\n        }\n        \n        return ResponseEntity.ok(&quot;submited&quot;);\n    }\n    \n\n</code></pre>\n<p>I am firing this API from post man like below image</p>\n<p><a href=\"https://i.stack.imgur.com/qqUEV.png\" rel=\"nofollow noreferrer\">attaching files with same key to pass in list</a>\n<a href=\"https://i.stack.imgur.com/9SDXk.png\" rel=\"nofollow noreferrer\">Dto in form data</a></p>\n<p>Api is working fine, it is causing trouble while mapping list of files with object !!!</p>\n<p>what I want to achieve is,  get list of  multipart in same dto with key as object name</p>\n<pre><code>@Data\npublic class Test {\n    \n    private String emailId;\n    private String firstName;\n    private List&lt;MultipartFile&gt; files;\n\n\n}\n\n</code></pre>\n<p>this will make everything easier , but I don't know how to achieve it, how to hit such complex api from postman</p>\n"},{"tags":["java","hadoop","pyspark","hadoop-yarn"],"answers":[{"tags":[],"owner":{"account_id":2041955,"reputation":1,"user_id":1822882,"display_name":"Valeriy Shinkevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696409900,"creation_date":1696409849,"answer_id":77228163,"question_id":64696028,"body_markdown":"Try to comment next lines in /etc/hosts:\r\n```\r\n127.0.0.1   localhost\r\n::1     ip6-localhost ip6-loopback\r\n```\r\n","title":"Run pyspark on hadoop yarn Failed to connect to localhost/127.0.0.1:46311","body":"<p>Try to comment next lines in /etc/hosts:</p>\n<pre><code>127.0.0.1   localhost\n::1     ip6-localhost ip6-loopback\n</code></pre>\n"}],"owner":{"account_id":10755427,"reputation":21,"user_id":7913527,"display_name":"OAA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696409900,"creation_date":1604574812,"question_id":64696028,"body_markdown":"When I run pyspark in hadoop yarn:\r\n```\r\nHADOOP_CONF_DIR=/usr/local/hadoop/etc/hadoop/ pyspark --master yarn --deploy-mode client\r\n```\r\nIt gave me this:\r\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311\r\n\r\n```\r\n&gt; In [1]: sc20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: YARN application has exited unexpectedly with state FAILED! Check the YARN application logs for more details.\r\n20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: Diagnostics message: Uncaught exception: org.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:302)\r\n\tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n\tat org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:101)\r\n\tat org.apache.spark.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:109)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster.runExecutorLauncher(ApplicationMaster.scala:547)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:266)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:890)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:889)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422)\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1746)\r\n\tat org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:889)\r\n\tat org.apache.spark.deploy.yarn.ExecutorLauncher$.main(ApplicationMaster.scala:921)\r\n\tat org.apache.spark.deploy.yarn.ExecutorLauncher.main(ApplicationMaster.scala)\r\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:253)\r\n\tat org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:195)\r\n\tat org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\r\n\tat org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:46311\r\nCaused by: java.net.ConnectException: Connection refused\r\n\tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\r\n\tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:715)\r\n\tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n**/etc/hosts:**\r\n```\r\n    127.0.0.1\tlocalhost\r\n    # 127.0.1.1\toaa-virtual-machine\r\n    \r\n    192.168.32.127\t\tubuntu\r\n    192.168.32.128\t\tubuntu001\r\n    192.168.32.129\t\tubuntu002\r\n    192.168.32.130\t\tubuntu003\r\n    \r\n    \r\n    # The following lines are desirable for IPv6 capable hosts\r\n    ::1     ip6-localhost ip6-loopback\r\n    fe00::0 ip6-localnet\r\n    ff00::0 ip6-mcastprefix\r\n    ff02::1 ip6-allnodes\r\n    ff02::2 ip6-allrouters\r\n\r\n```\r\n**/usr/local/hadoop/etc/hadoop/core-site.xml:** \r\n```\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;fs.default.name&lt;/name&gt;\r\n       &lt;value&gt;hdfs://ubuntu:9000&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n\r\n```\r\n\r\n**/usr/local/hadoop/etc/hadoop/hdfs-site.xml:**\r\n```\r\n    &lt;configuration&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.replication&lt;/name&gt;\r\n       &lt;value&gt;3&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\r\n       &lt;value&gt; file:/usr/local/hadoop/hadoop_data/hdfs/namenode&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.rpc-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.servicerpc-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.lifeline.rpc-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.http-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;dfs.namenode.https-bind-host&lt;/name&gt;\r\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n```\r\n**/usr/local/hadoop/etc/hadoop/yarn-site.xml:** \r\n```\r\n    &lt;configuration&gt;\r\n    \r\n    &lt;!-- Site specific YARN configuration properties --&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\r\n       &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;\r\n       &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:8025&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:8030&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n       &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:8050&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n    \t&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\r\n    \t&lt;value&gt;ubuntu&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt;\r\n        &lt;value&gt;5&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;\r\n        &lt;value&gt;false&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\r\n        &lt;value&gt;false&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;!--\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;\r\n        &lt;value&gt;0.0.0.0:8088&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    --&gt;\r\n    \r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.resourcemanager.bind-host&lt;/name&gt;\r\n        &lt;value&gt;0.0.0.0&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    \r\n    &lt;/configuration&gt;\r\n```\r\n\r\n**/usr/local/hadoop/etc/hadoop/mapred-site.xml:** \r\n```\r\n    &lt;configuration&gt;\r\n    \r\n    &lt;property&gt;\r\n       &lt;name&gt;mapred.job.tracker&lt;/name&gt;\r\n       &lt;value&gt;ubuntu:54311&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;/configuration&gt;\r\n```\r\n**Master jps:**\r\n```\r\n    20624 NameNode\r\n    20898 SecondaryNameNode\r\n    21836 Jps\r\n    21404 SparkSubmit\r\n    21086 ResourceManager\r\n```\r\n**Slave jps:**\r\n```\r\n    9365 DataNode\r\n    9948 Jps\r\n    9535 NodeManager\r\n```\r\n **netstat -tpnl | grep java:**\r\n```\r\n    (Not all processes could be identified, non-owned process info\r\n     will not be shown, you would have to be root to see it all.)\r\n    tcp        0      0 0.0.0.0:9000            0.0.0.0:*               LISTEN      20624/java          \r\n    tcp        0      0 0.0.0.0:50090           0.0.0.0:*               LISTEN      20898/java          \r\n    tcp        0      0 0.0.0.0:50070           0.0.0.0:*               LISTEN      20624/java          \r\n    tcp6       0      0 :::8050                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 127.0.0.1:43319         :::*                    LISTEN      21404/java          \r\n    tcp6       0      0 :::8088                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 :::8025                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 :::8030                 :::*                    LISTEN      21086/java          \r\n    tcp6       0      0 :::8033                 :::*                    LISTEN \r\n```\r\nHave you any idea, how can I solve my problem?\r\n**Thank you!!!**","title":"Run pyspark on hadoop yarn Failed to connect to localhost/127.0.0.1:46311","body":"<p>When I run pyspark in hadoop yarn:</p>\n<pre><code>HADOOP_CONF_DIR=/usr/local/hadoop/etc/hadoop/ pyspark --master yarn --deploy-mode client\n</code></pre>\n<p>It gave me this:\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311</p>\n<pre><code>&gt; In [1]: sc20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: YARN application has exited unexpectedly with state FAILED! Check the YARN application logs for more details.\n20/11/05 18:19:06 ERROR YarnClientSchedulerBackend: Diagnostics message: Uncaught exception: org.apache.spark.SparkException: Exception thrown in awaitResult: \n    at org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:302)\n    at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRefByURI(RpcEnv.scala:101)\n    at org.apache.spark.rpc.RpcEnv.setupEndpointRef(RpcEnv.scala:109)\n    at org.apache.spark.deploy.yarn.ApplicationMaster.runExecutorLauncher(ApplicationMaster.scala:547)\n    at org.apache.spark.deploy.yarn.ApplicationMaster.run(ApplicationMaster.scala:266)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:890)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$$anon$3.run(ApplicationMaster.scala:889)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.security.auth.Subject.doAs(Subject.java:422)\n    at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1746)\n    at org.apache.spark.deploy.yarn.ApplicationMaster$.main(ApplicationMaster.scala:889)\n    at org.apache.spark.deploy.yarn.ExecutorLauncher$.main(ApplicationMaster.scala:921)\n    at org.apache.spark.deploy.yarn.ExecutorLauncher.main(ApplicationMaster.scala)\nCaused by: java.io.IOException: Failed to connect to localhost/127.0.0.1:46311\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:253)\n    at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:195)\n    at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:204)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:202)\n    at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:198)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: localhost/127.0.0.1:46311\nCaused by: java.net.ConnectException: Connection refused\n    at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method)\n    at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:715)\n    at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:330)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:334)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:702)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p><strong>/etc/hosts:</strong></p>\n<pre><code>    127.0.0.1   localhost\n    # 127.0.1.1 oaa-virtual-machine\n    \n    192.168.32.127      ubuntu\n    192.168.32.128      ubuntu001\n    192.168.32.129      ubuntu002\n    192.168.32.130      ubuntu003\n    \n    \n    # The following lines are desirable for IPv6 capable hosts\n    ::1     ip6-localhost ip6-loopback\n    fe00::0 ip6-localnet\n    ff00::0 ip6-mcastprefix\n    ff02::1 ip6-allnodes\n    ff02::2 ip6-allrouters\n\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/core-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    &lt;property&gt;\n       &lt;name&gt;fs.default.name&lt;/name&gt;\n       &lt;value&gt;hdfs://ubuntu:9000&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;/configuration&gt;\n\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/hdfs-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    &lt;property&gt;\n       &lt;name&gt;dfs.replication&lt;/name&gt;\n       &lt;value&gt;3&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;\n       &lt;value&gt; file:/usr/local/hadoop/hadoop_data/hdfs/namenode&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.rpc-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.servicerpc-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.lifeline.rpc-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.http-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;dfs.namenode.https-bind-host&lt;/name&gt;\n       &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;/configuration&gt;\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/yarn-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    \n    &lt;!-- Site specific YARN configuration properties --&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;\n       &lt;value&gt;mapreduce_shuffle&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.nodemanager.aux-services.mapreduce.shuffle.class&lt;/name&gt;\n       &lt;value&gt;org.apache.hadoop.mapred.ShuffleHandler&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;\n       &lt;value&gt;ubuntu:8025&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;\n       &lt;value&gt;ubuntu:8030&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n       &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;\n       &lt;value&gt;ubuntu:8050&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;\n        &lt;value&gt;ubuntu&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/name&gt;\n        &lt;value&gt;5&lt;/value&gt;\n    &lt;/property&gt;\n    \n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.pmem-check-enabled&lt;/name&gt;\n        &lt;value&gt;false&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.nodemanager.vmem-check-enabled&lt;/name&gt;\n        &lt;value&gt;false&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;!--\n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;\n        &lt;value&gt;0.0.0.0:8088&lt;/value&gt;\n    &lt;/property&gt;\n    --&gt;\n    \n    &lt;property&gt;\n        &lt;name&gt;yarn.resourcemanager.bind-host&lt;/name&gt;\n        &lt;value&gt;0.0.0.0&lt;/value&gt;\n    &lt;/property&gt;\n    \n    &lt;/configuration&gt;\n</code></pre>\n<p><strong>/usr/local/hadoop/etc/hadoop/mapred-site.xml:</strong></p>\n<pre><code>    &lt;configuration&gt;\n    \n    &lt;property&gt;\n       &lt;name&gt;mapred.job.tracker&lt;/name&gt;\n       &lt;value&gt;ubuntu:54311&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;/configuration&gt;\n</code></pre>\n<p><strong>Master jps:</strong></p>\n<pre><code>    20624 NameNode\n    20898 SecondaryNameNode\n    21836 Jps\n    21404 SparkSubmit\n    21086 ResourceManager\n</code></pre>\n<p><strong>Slave jps:</strong></p>\n<pre><code>    9365 DataNode\n    9948 Jps\n    9535 NodeManager\n</code></pre>\n<p><strong>netstat -tpnl | grep java:</strong></p>\n<pre><code>    (Not all processes could be identified, non-owned process info\n     will not be shown, you would have to be root to see it all.)\n    tcp        0      0 0.0.0.0:9000            0.0.0.0:*               LISTEN      20624/java          \n    tcp        0      0 0.0.0.0:50090           0.0.0.0:*               LISTEN      20898/java          \n    tcp        0      0 0.0.0.0:50070           0.0.0.0:*               LISTEN      20624/java          \n    tcp6       0      0 :::8050                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 127.0.0.1:43319         :::*                    LISTEN      21404/java          \n    tcp6       0      0 :::8088                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 :::8025                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 :::8030                 :::*                    LISTEN      21086/java          \n    tcp6       0      0 :::8033                 :::*                    LISTEN \n</code></pre>\n<p>Have you any idea, how can I solve my problem?\n<strong>Thank you!!!</strong></p>\n"},{"tags":["java","android","android-file"],"comments":[{"owner":{"account_id":9534524,"reputation":541,"user_id":11440180,"display_name":"Mehdi Yari"},"score":0,"creation_date":1588190128,"post_id":61510344,"comment_id":108808571,"body_markdown":"[this link](https://developer.android.com/training/data-storage) say getFileDir is app specific and no other app cant read files in this dir.\nbut when use getExternalFileDir all apps can read files in this dir","body":"<a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">this link</a> say getFileDir is app specific and no other app cant read files in this dir. but when use getExternalFileDir all apps can read files in this dir"},{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1588190281,"post_id":61510344,"comment_id":108808641,"body_markdown":"&quot;using getFilesDir() to store data (camera captures in my case) is somewhat temporary&quot; -- it is not temporary. &quot;I say somewhat because if I close and reopen the app, I&#39;m able to access the directory and files list, but not the file itself&quot; -- please provide a [mcve] showing your code that implements the &quot;access the directory and files list, but not the file itself&quot; logic. &quot;Out of the 2 methods, which is more recommended in&quot; -- `getFilesDir()`, unless the user needs independent access to the content.","body":"&quot;using getFilesDir() to store data (camera captures in my case) is somewhat temporary&quot; -- it is not temporary. &quot;I say somewhat because if I close and reopen the app, I&#39;m able to access the directory and files list, but not the file itself&quot; -- please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing your code that implements the &quot;access the directory and files list, but not the file itself&quot; logic. &quot;Out of the 2 methods, which is more recommended in&quot; -- <code>getFilesDir()</code>, unless the user needs independent access to the content."}],"answers":[{"tags":[],"owner":{"account_id":17166193,"reputation":1363,"user_id":12424486,"display_name":"MustafaKhaled"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1588249923,"creation_date":1588249923,"answer_id":61523467,"question_id":61510344,"body_markdown":"Simply, \r\n**getFilesDir()** refers to internal storage that cannot be accessible outside your application. It&#39;s not explorable by the device as well.\r\n\r\ngetExternalFilesDir() refers to external storage, it&#39;s a type of App-specific storage. this can be explorable as you find its directory in \r\n\r\n***data/data/your package name***\r\n\r\nIn general, you may use external storage as internal storage may be limited.\r\n\r\nFor privacy, if you need you to file security, use **getFilesDir()** as it&#39;s not accessible outside your application as I mentioned before.","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p>Simply, \n<strong>getFilesDir()</strong> refers to internal storage that cannot be accessible outside your application. It's not explorable by the device as well.</p>\n\n<p>getExternalFilesDir() refers to external storage, it's a type of App-specific storage. this can be explorable as you find its directory in </p>\n\n<p><strong><em>data/data/your package name</em></strong></p>\n\n<p>In general, you may use external storage as internal storage may be limited.</p>\n\n<p>For privacy, if you need you to file security, use <strong>getFilesDir()</strong> as it's not accessible outside your application as I mentioned before.</p>\n"},{"tags":[],"owner":{"account_id":18784711,"reputation":49,"user_id":13698551,"display_name":"atla praveen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627635654,"creation_date":1627635654,"answer_id":68588229,"question_id":61510344,"body_markdown":"The main difference between the two is:\r\ngetFilesDir() - This path will be hidden from the user. This is more secure approach.\r\ngetExternalFilesDir() - Accessible by the user.\r\n\r\nReceived a good documentation on this which provides clear understanding:\r\nhttp://androidvogella.blogspot.com/2015/12/getfilesdir-vs-getexternalfilesdir-vs.html\r\n\r\n","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p>The main difference between the two is:\ngetFilesDir() - This path will be hidden from the user. This is more secure approach.\ngetExternalFilesDir() - Accessible by the user.</p>\n<p>Received a good documentation on this which provides clear understanding:\n<a href=\"http://androidvogella.blogspot.com/2015/12/getfilesdir-vs-getexternalfilesdir-vs.html\" rel=\"nofollow noreferrer\">http://androidvogella.blogspot.com/2015/12/getfilesdir-vs-getexternalfilesdir-vs.html</a></p>\n"},{"tags":[],"owner":{"account_id":1111664,"reputation":5551,"user_id":2518722,"accept_rate":75,"display_name":"HughHughTeotl"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674413989,"creation_date":1674413989,"answer_id":75203065,"question_id":61510344,"body_markdown":"**Update for the latest Android (currently Android 13)**\r\n\r\nIn the old days `getFilesDir()` used to mean internal storage, and `getExternalFilesDir()` used to mean anything plugged in (usually an SD card).\r\n\r\nThese days phones don&#39;t have SD card slots, so the device emulates external storage by grabbing a slice of internal storage for the purpose. So the historic differences - that internal was faster and smaller, and external slower and larger - are generally no longer true.\r\n\r\nIn both cases apps get **scoped** storage - i.e. a directory they can access without permissions, which isn&#39;t accessible by any other app (though see below). This has been the case since Android 10 (but only enforced in Android 11).\r\n\r\nFiles stored under `getFilesDir()` and `getExternalFilesDir()` will be deleted when the app is uninstalled, but will persist until then. (If you&#39;re finding a file disappears before then, you have a different problem. I would suggest posting your code in a separate question).\r\n\r\nThe only major remaining difference between internal and external is that apps *can* get request a permission to read/write the entirety of external storage, including files it doesn&#39;t own. So don&#39;t use external for files that need to remain private to the app.\r\n\r\nMore information in this article: https://medium.com/@tdcolvin/demystifying-internal-vs-external-storage-in-modern-android-c9c31cb8eeec","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p><strong>Update for the latest Android (currently Android 13)</strong></p>\n<p>In the old days <code>getFilesDir()</code> used to mean internal storage, and <code>getExternalFilesDir()</code> used to mean anything plugged in (usually an SD card).</p>\n<p>These days phones don't have SD card slots, so the device emulates external storage by grabbing a slice of internal storage for the purpose. So the historic differences - that internal was faster and smaller, and external slower and larger - are generally no longer true.</p>\n<p>In both cases apps get <strong>scoped</strong> storage - i.e. a directory they can access without permissions, which isn't accessible by any other app (though see below). This has been the case since Android 10 (but only enforced in Android 11).</p>\n<p>Files stored under <code>getFilesDir()</code> and <code>getExternalFilesDir()</code> will be deleted when the app is uninstalled, but will persist until then. (If you're finding a file disappears before then, you have a different problem. I would suggest posting your code in a separate question).</p>\n<p>The only major remaining difference between internal and external is that apps <em>can</em> get request a permission to read/write the entirety of external storage, including files it doesn't own. So don't use external for files that need to remain private to the app.</p>\n<p>More information in this article: <a href=\"https://medium.com/@tdcolvin/demystifying-internal-vs-external-storage-in-modern-android-c9c31cb8eeec\" rel=\"nofollow noreferrer\">https://medium.com/@tdcolvin/demystifying-internal-vs-external-storage-in-modern-android-c9c31cb8eeec</a></p>\n"}],"owner":{"account_id":18391159,"reputation":112,"user_id":13396808,"display_name":"sonofel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3835,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61523467,"answer_count":3,"score":3,"last_activity_date":1696409793,"creation_date":1588189386,"question_id":61510344,"body_markdown":"As far as I&#39;ve noticed, using `getFilesDir()` to store data (camera captures in my case) is somewhat temporary. I say somewhat because if I close and reopen the app, I&#39;m able to access the directory and file list, but not the file itself.\r\n\r\nIs my logic wrong or is that by design?  \r\nOut of the 2 methods, which is more recommended in:\r\n\r\n 1. general\r\n 2. my case (privacy is needed)","title":"getFilesDir() vs getExternalFilesDir(), which one is more recommended?","body":"<p>As far as I've noticed, using <code>getFilesDir()</code> to store data (camera captures in my case) is somewhat temporary. I say somewhat because if I close and reopen the app, I'm able to access the directory and file list, but not the file itself.</p>\n<p>Is my logic wrong or is that by design?<br />\nOut of the 2 methods, which is more recommended in:</p>\n<ol>\n<li>general</li>\n<li>my case (privacy is needed)</li>\n</ol>\n"},{"tags":["java","yaml","app.yaml"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1699633323,"post_id":77228104,"comment_id":136560665,"body_markdown":"can you provide more info/code?","body":"can you provide more info/code?"}],"owner":{"account_id":25412502,"reputation":29,"user_id":19220058,"display_name":"Evgen Kr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696409315,"creation_date":1696409315,"question_id":77228104,"body_markdown":"How from file.yaml in the root of app get data in several yaml&#39;s files which are in resources directory. I tried use this  @{some-key data}:some value. However it doesn&#39;t work","title":"How from file.yaml in the root of app get data in several yaml&#39;s files which are in resources directory","body":"<p>How from file.yaml in the root of app get data in several yaml's files which are in resources directory. I tried use this  @{some-key data}:some value. However it doesn't work</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"score":0,"creation_date":1696341711,"post_id":77222676,"comment_id":136138438,"body_markdown":"After a registration post to /auth/register the user is created properly in the database. I additionally tried annotating the AuthenticationServer with @Transactional but still I only get a 403 back.","body":"After a registration post to /auth/register the user is created properly in the database. I additionally tried annotating the AuthenticationServer with @Transactional but still I only get a 403 back."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1696355497,"post_id":77222676,"comment_id":136141256,"body_markdown":"Can i ask why you are building an insecure login that does not exist in spring security? You are aware that you cant logout your user and that jwts should not be handed out to browsers?","body":"Can i ask why you are building an insecure login that does not exist in spring security? You are aware that you cant logout your user and that jwts should not be handed out to browsers?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1696356537,"post_id":77222676,"comment_id":136141464,"body_markdown":"What does your own `User` object look like? How is the `UserDetails` interface being implemented?","body":"What does your own <code>User</code> object look like? How is the <code>UserDetails</code> interface being implemented?"},{"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"score":0,"creation_date":1696440083,"post_id":77222676,"comment_id":136154383,"body_markdown":"@Toerktumlare What exactly is the problem with the jwts handed to the browser? I thought that was common practice.","body":"@Toerktumlare What exactly is the problem with the jwts handed to the browser? I thought that was common practice."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1696442098,"post_id":77222676,"comment_id":136154752,"body_markdown":"First of all, you cant logout a user, because you cant invalidate a single jwt. Second of all, there is no way to stora a jwt securely in the browser. It is far from common practice. The common practice is to implement either session based login using cookies which is called `FormLogin` in spring security. Or implement the oauth2 flow called `Authorization Code flow with PKCE` every tutorial that hands out JWTs to browsers are written by developers that dont know how security works.","body":"First of all, you cant logout a user, because you cant invalidate a single jwt. Second of all, there is no way to stora a jwt securely in the browser. It is far from common practice. The common practice is to implement either session based login using cookies which is called <code>FormLogin</code> in spring security. Or implement the oauth2 flow called <code>Authorization Code flow with PKCE</code> every tutorial that hands out JWTs to browsers are written by developers that dont know how security works."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1696442183,"post_id":77222676,"comment_id":136154774,"body_markdown":"Do a little bit of thinking, why do you think that spring security a security library used by +10 000 applications, written by security experts, doesn’t have that implemented? There might be a good reason for it.","body":"Do a little bit of thinking, why do you think that spring security a security library used by +10 000 applications, written by security experts, doesn’t have that implemented? There might be a good reason for it."}],"answers":[{"tags":[],"owner":{"account_id":18087817,"reputation":24,"user_id":19673058,"display_name":"Craig Roberts"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1696408359,"creation_date":1696408359,"answer_id":77228003,"question_id":77222676,"body_markdown":"In JWTService you are performing the following action \r\n\r\n    public boolean isTokenValid(String token, UserDetails userDetails) {\r\n        final String username = extractUsername(token);\r\n        return (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\r\n    }\r\n\r\nshould this instead be &#39;return username.equals(userDetails.getUsername())....&#39; or similar.\r\n\r\nCurrently isTokenValid() will always return false as username is a String and userDetails is an object of type UserDetails. This would lead to 403 being returned on all endpoints validated with this method.","title":"Spring Boot Security - Every endpoint is 403 forbidden and Spring logs a BasicErrorController#error(HttpServletRequest)","body":"<p>In JWTService you are performing the following action</p>\n<pre><code>public boolean isTokenValid(String token, UserDetails userDetails) {\n    final String username = extractUsername(token);\n    return (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\n}\n</code></pre>\n<p>should this instead be 'return username.equals(userDetails.getUsername())....' or similar.</p>\n<p>Currently isTokenValid() will always return false as username is a String and userDetails is an object of type UserDetails. This would lead to 403 being returned on all endpoints validated with this method.</p>\n"}],"owner":{"account_id":18984550,"reputation":55,"user_id":13855191,"display_name":"TheAmygdala"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77228003,"answer_count":1,"score":1,"last_activity_date":1696408359,"creation_date":1696339503,"question_id":77222676,"body_markdown":"My application sends a list of servers as json from my database (endpoint &quot;/server/list&quot;). It works fine without all the authentication stuff. I implemented everything from this [Tutorial][1] into my application and I can register a user without any problems, when I send a postman request:\r\n\r\nhttp://localhost:8080/auth/register\r\n```\r\n{\r\n    &quot;firstname&quot;: &quot;Mary&quot;,\r\n    &quot;lastname&quot;: &quot;Hyne&quot;,\r\n    &quot;email&quot;: &quot;maryhyne@google.com&quot;,\r\n    &quot;password&quot;: &quot;asdf&quot;\r\n}\r\n```\r\n\r\nA JWT Token is generated and I use them in the Authorization header of my other request:\r\n\r\nhttp://localhost:8080/server/list (Authorization -&gt; Bearer Token)\r\n\r\n\r\nBut I always get a 403 Forbidden answer. There is also no helpful Exception. Only the message &quot;Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)&quot;. So I dont know what is wrong. Since I cant even grasp what the error might be, I post the most appearently important code. I will spare out the server repository stuff, since that works:\r\n\r\n**api.ServerController**\r\n```\r\npackage com.socie.backend.api;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.Map;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.socie.backend.model.Response;\r\nimport com.socie.backend.service.implementation.ServerServiceImpl;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/server&quot;)\r\n@RequiredArgsConstructor\r\npublic class ServerController {\r\n\tprivate final ServerServiceImpl serverService;\r\n\t\r\n\t@GetMapping(&quot;/list&quot;)\r\n\tpublic  ResponseEntity&lt;Response&gt; getServers() throws InterruptedException {\r\n\t\tTimeUnit.SECONDS.sleep(3);\r\n\t\treturn ResponseEntity.ok(\r\n\t\t\t\tResponse.builder()\r\n\t\t\t\t.timestamp(LocalDateTime.now())\r\n\t\t\t\t.data(Map.of(&quot;servers&quot;, serverService.list(30)))\r\n\t\t\t\t.message(&quot;Servers retrieved&quot;)\r\n\t\t\t\t.status(HttpStatus.OK)\r\n\t\t\t\t.statusCode(HttpStatus.OK.value())\r\n\t\t\t\t.build()\r\n\t\t);\r\n\t}\r\n}\r\n```\r\n\r\n**api.AuthenticationController** \r\n```\r\npackage com.socie.backend.api;\r\n\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.socie.backend.model.AuthenticationRequest;\r\nimport com.socie.backend.model.AuthenticationResponse;\r\nimport com.socie.backend.model.RegisterRequest;\r\nimport com.socie.backend.service.AuthenticationService;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@RequiredArgsConstructor\r\npublic class AuthenticationController {\r\n\r\n\tprivate final AuthenticationService authService;\r\n\r\n\t@PostMapping(&quot;/register&quot;)\r\n\tpublic ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegisterRequest request) {\r\n\t\treturn ResponseEntity.ok(authService.register(request));\r\n\t\t\r\n\t}\r\n\t\r\n\t@PostMapping(&quot;/authenticate&quot;)\r\n\tpublic ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody AuthenticationRequest request) {\r\n\t\treturn ResponseEntity.ok(authService.authenticate(request));\r\n\t\t\r\n\t}}\r\n```\r\n**service.AuthenticationService** \r\n```\r\npackage com.socie.backend.service;\r\n\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.socie.backend.config.JwtService;\r\nimport com.socie.backend.model.AuthenticationRequest;\r\nimport com.socie.backend.model.AuthenticationResponse;\r\nimport com.socie.backend.model.RegisterRequest;\r\nimport com.socie.backend.model.Role;\r\nimport com.socie.backend.model.User;\r\nimport com.socie.backend.repo.UserRepo;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n\t\r\n\tprivate final UserRepo userRepo;\r\n\t\r\n\tprivate final PasswordEncoder passwordEncoder;\r\n\t\r\n\tprivate final JwtService jwtService;\r\n\t\r\n\tprivate final AuthenticationManager authenticationManager;\r\n\t\r\n\tpublic AuthenticationResponse register(RegisterRequest request) {\r\n\r\n\t\tvar user = User.builder()\r\n\t\t\t\t.firstname(request.getFirstname())\r\n\t\t\t\t.lastname(request.getLastname())\r\n\t\t\t\t.email(request.getEmail())\r\n\t\t\t\t.password(passwordEncoder.encode(request.getPassword()))\r\n\t\t\t\t.role(Role.USER)\r\n\t\t\t\t.build();\r\n\t\tuserRepo.save(user);\r\n\t\t\r\n\t\tvar jwtToken = jwtService.generateToken(user);\r\n\t\treturn AuthenticationResponse.builder()\r\n\t\t\t\t.token(jwtToken)\r\n\t\t\t\t.build();\r\n\t\t\t\t\r\n\t}\r\n\r\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\r\n\tauthenticationManager.authenticate(\r\n\t\t\tnew UsernamePasswordAuthenticationToken(\r\n\t\t\t\t\trequest.getEmail(),\r\n\t\t\t\t\trequest.getPassword()\r\n\t\t\t\t\t)\r\n\t\t\t);\r\n\t\r\n\tvar user = userRepo.findByEmail(request.getEmail())\r\n\t\t\t.orElseThrow();\r\n\t\r\n\tvar jwtToken = jwtService.generateToken(user);\r\n\treturn AuthenticationResponse.builder()\r\n\t\t\t.token(jwtToken)\r\n\t\t\t.build();\r\n}\r\n\r\n}\r\n\r\n```\r\n**config.ApplicationConfig**\r\n```\r\npackage com.socie.backend.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport com.socie.backend.repo.UserRepo;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class ApplicationConfig {\r\n\r\n\tprivate final UserRepo userRepo;\r\n\t\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\treturn username -&gt; userRepo.findByEmail(username)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n\t\t\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\t\tauthProvider.setUserDetailsService(userDetailsService());\r\n\t\tauthProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authProvider;\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\r\n\t\treturn config.getAuthenticationManager();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**config.JwtAuthenticationFilter**\r\n```\r\npackage com.socie.backend.config;\r\n\r\nimport java.io.IOException;\r\n\r\nimport org.springframework.lang.NonNull;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.filter.OncePerRequestFilter;\r\n\r\nimport jakarta.servlet.FilterChain;\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n\tprivate final JwtService jwtService;\r\n\tprivate final UserDetailsService userDetailsService;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response,\r\n\t\t\t@NonNull FilterChain filterChain) throws ServletException, IOException {\r\n\t\tfinal String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tfinal String jwt;\r\n\t\tfinal String userEmail;\r\n\t\tif (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n\t\t\tfilterChain.doFilter(request, response);\r\n\t\t\t;\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tjwt = authHeader.substring(7);\r\n\t\tuserEmail = jwtService.extractUsername(jwt);\r\n\t\tif (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\t\t\tUserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\r\n\t\t\tif (jwtService.isTokenValid(jwt, userDetails)) {\r\n\t\t\t\tUsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails,\r\n\t\t\t\t\t\tnull,\r\n\t\t\t\t\t\tuserDetails.getAuthorities()\r\n\t\t\t\t\t\t);\r\n\t\t\t\tauthToken.setDetails(\r\n\t\t\t\t\t\tnew WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(authToken);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfilterChain.doFilter(request,  response);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**config.JwtService** \r\n```\r\nimport java.security.Key;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.Function;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport io.jsonwebtoken.Claims;\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.io.Decoders;\r\nimport io.jsonwebtoken.security.Keys;\r\n\r\n@Service\r\npublic class JwtService {\r\n\r\n\tprivate static final String SECRET_KEY = &quot;ec9d2d0f7dd840b43cb0e52c189eb4c06c3b0307c2abf4c5aeef0d689ad12f19&quot;;\r\n\tpublic String extractUsername(String token) {\r\n\t\treturn extractClaim(token, Claims::getSubject);\r\n\t}\r\n\t\r\n\tpublic &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\r\n\t\tfinal Claims claims = extractAllClaims(token);\r\n\t\treturn claimsResolver.apply(claims);\r\n\t}\r\n\t\r\n\tpublic String generateToken(\r\n\t\t\tMap&lt;String, Object&gt; extraClaims,\r\n\t\t\tUserDetails userDetails)\r\n\t{\r\n\t\treturn Jwts\r\n\t\t\t\t.builder()\r\n\t\t\t\t.setClaims(extraClaims)\r\n\t\t\t\t.setSubject(userDetails.getUsername())\r\n\t\t\t\t.setIssuedAt(new Date(System.currentTimeMillis()))\r\n\t\t\t\t.setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\r\n\t\t\t\t.signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n\t\t\t\t.compact();\r\n\t}\r\n\t\r\n\tpublic boolean isTokenValid(String token, UserDetails userDetails) {\r\n\t\tfinal String username = extractUsername(token);\r\n\t\treturn (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\r\n\t}\r\n\t\r\n\tprivate boolean isTokenExpired(String token) {\r\n\t\treturn extractExpiration(token).before(new Date());\r\n\t}\r\n\r\n\tprivate Date extractExpiration(String token) {\r\n\t\treturn extractClaim(token, Claims::getExpiration);\r\n\t}\r\n\r\n\tpublic String generateToken(UserDetails userDetails) {\r\n\t\treturn generateToken(new HashMap&lt;&gt;(), userDetails);\r\n\t}\r\n\t\r\n\tpublic Claims extractAllClaims(String token) {\r\n\t\treturn Jwts.\r\n\t\t\t\tparserBuilder()\r\n\t\t\t\t.setSigningKey(getSignInKey())\r\n\t\t\t\t.build()\r\n\t\t\t\t.parseClaimsJws(token)\r\n\t\t\t\t.getBody();\r\n\t}\r\n\r\n\tprivate Key getSignInKey() {\r\n\t\tbyte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\r\n\t\treturn Keys.hmacShaKeyFor(keyBytes);\r\n\t}\r\n}\r\n```\r\n\r\n**config.SecurityConfiguration**\r\n```\r\npackage com.socie.backend.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n\tprivate final AuthenticationProvider authenticationProvider;\r\n\tprivate final JwtAuthenticationFilter jwtAuthFilter;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n        .csrf()\r\n        .disable()\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/auth/**&quot;)\r\n        .permitAll()\r\n        .anyRequest()\r\n        .authenticated()\r\n        .and()\r\n        .sessionManagement()\r\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        .authenticationProvider(authenticationProvider)\r\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\r\n                \r\n        return http.build();\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://www.youtube.com/watch?v=KxqlJblhzfI&amp;list=PLxS-v6jO4Fxv3Z4fRSFSPZUiGaSyx3Olh&amp;index=33&amp;ab_channel=Amigoscode","title":"Spring Boot Security - Every endpoint is 403 forbidden and Spring logs a BasicErrorController#error(HttpServletRequest)","body":"<p>My application sends a list of servers as json from my database (endpoint &quot;/server/list&quot;). It works fine without all the authentication stuff. I implemented everything from this <a href=\"https://www.youtube.com/watch?v=KxqlJblhzfI&amp;list=PLxS-v6jO4Fxv3Z4fRSFSPZUiGaSyx3Olh&amp;index=33&amp;ab_channel=Amigoscode\" rel=\"nofollow noreferrer\">Tutorial</a> into my application and I can register a user without any problems, when I send a postman request:</p>\n<p>http://localhost:8080/auth/register</p>\n<pre><code>{\n    &quot;firstname&quot;: &quot;Mary&quot;,\n    &quot;lastname&quot;: &quot;Hyne&quot;,\n    &quot;email&quot;: &quot;maryhyne@google.com&quot;,\n    &quot;password&quot;: &quot;asdf&quot;\n}\n</code></pre>\n<p>A JWT Token is generated and I use them in the Authorization header of my other request:</p>\n<p>http://localhost:8080/server/list (Authorization -&gt; Bearer Token)</p>\n<p>But I always get a 403 Forbidden answer. There is also no helpful Exception. Only the message &quot;Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)&quot;. So I dont know what is wrong. Since I cant even grasp what the error might be, I post the most appearently important code. I will spare out the server repository stuff, since that works:</p>\n<p><strong>api.ServerController</strong></p>\n<pre><code>package com.socie.backend.api;\n\nimport java.time.LocalDateTime;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.socie.backend.model.Response;\nimport com.socie.backend.service.implementation.ServerServiceImpl;\n\nimport lombok.RequiredArgsConstructor;\n\n@RestController\n@RequestMapping(&quot;/server&quot;)\n@RequiredArgsConstructor\npublic class ServerController {\n    private final ServerServiceImpl serverService;\n    \n    @GetMapping(&quot;/list&quot;)\n    public  ResponseEntity&lt;Response&gt; getServers() throws InterruptedException {\n        TimeUnit.SECONDS.sleep(3);\n        return ResponseEntity.ok(\n                Response.builder()\n                .timestamp(LocalDateTime.now())\n                .data(Map.of(&quot;servers&quot;, serverService.list(30)))\n                .message(&quot;Servers retrieved&quot;)\n                .status(HttpStatus.OK)\n                .statusCode(HttpStatus.OK.value())\n                .build()\n        );\n    }\n}\n</code></pre>\n<p><strong>api.AuthenticationController</strong></p>\n<pre><code>package com.socie.backend.api;\n\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.socie.backend.model.AuthenticationRequest;\nimport com.socie.backend.model.AuthenticationResponse;\nimport com.socie.backend.model.RegisterRequest;\nimport com.socie.backend.service.AuthenticationService;\n\nimport lombok.RequiredArgsConstructor;\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@RequiredArgsConstructor\npublic class AuthenticationController {\n\n    private final AuthenticationService authService;\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody RegisterRequest request) {\n        return ResponseEntity.ok(authService.register(request));\n        \n    }\n    \n    @PostMapping(&quot;/authenticate&quot;)\n    public ResponseEntity&lt;AuthenticationResponse&gt; register(@RequestBody AuthenticationRequest request) {\n        return ResponseEntity.ok(authService.authenticate(request));\n        \n    }}\n</code></pre>\n<p><strong>service.AuthenticationService</strong></p>\n<pre><code>package com.socie.backend.service;\n\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.socie.backend.config.JwtService;\nimport com.socie.backend.model.AuthenticationRequest;\nimport com.socie.backend.model.AuthenticationResponse;\nimport com.socie.backend.model.RegisterRequest;\nimport com.socie.backend.model.Role;\nimport com.socie.backend.model.User;\nimport com.socie.backend.repo.UserRepo;\n\nimport lombok.RequiredArgsConstructor;\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n    \n    private final UserRepo userRepo;\n    \n    private final PasswordEncoder passwordEncoder;\n    \n    private final JwtService jwtService;\n    \n    private final AuthenticationManager authenticationManager;\n    \n    public AuthenticationResponse register(RegisterRequest request) {\n\n        var user = User.builder()\n                .firstname(request.getFirstname())\n                .lastname(request.getLastname())\n                .email(request.getEmail())\n                .password(passwordEncoder.encode(request.getPassword()))\n                .role(Role.USER)\n                .build();\n        userRepo.save(user);\n        \n        var jwtToken = jwtService.generateToken(user);\n        return AuthenticationResponse.builder()\n                .token(jwtToken)\n                .build();\n                \n    }\n\npublic AuthenticationResponse authenticate(AuthenticationRequest request) {\n    authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                    request.getEmail(),\n                    request.getPassword()\n                    )\n            );\n    \n    var user = userRepo.findByEmail(request.getEmail())\n            .orElseThrow();\n    \n    var jwtToken = jwtService.generateToken(user);\n    return AuthenticationResponse.builder()\n            .token(jwtToken)\n            .build();\n}\n\n}\n\n</code></pre>\n<p><strong>config.ApplicationConfig</strong></p>\n<pre><code>package com.socie.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport com.socie.backend.repo.UserRepo;\n\nimport lombok.RequiredArgsConstructor;\n@Configuration\n@RequiredArgsConstructor\npublic class ApplicationConfig {\n\n    private final UserRepo userRepo;\n    \n    @Bean\n    public UserDetailsService userDetailsService() {\n        return username -&gt; userRepo.findByEmail(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        \n    }\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n    \n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception {\n        return config.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n}\n</code></pre>\n<p><strong>config.JwtAuthenticationFilter</strong></p>\n<pre><code>package com.socie.backend.config;\n\nimport java.io.IOException;\n\nimport org.springframework.lang.NonNull;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport lombok.RequiredArgsConstructor;\n\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n    private final JwtService jwtService;\n    private final UserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response,\n            @NonNull FilterChain filterChain) throws ServletException, IOException {\n        final String authHeader = request.getHeader(&quot;Authorization&quot;);\n        final String jwt;\n        final String userEmail;\n        if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n            filterChain.doFilter(request, response);\n            ;\n            return;\n        }\n\n        jwt = authHeader.substring(7);\n        userEmail = jwtService.extractUsername(jwt);\n        if (userEmail != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n            UserDetails userDetails = this.userDetailsService.loadUserByUsername(userEmail);\n            if (jwtService.isTokenValid(jwt, userDetails)) {\n                UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(userDetails,\n                        null,\n                        userDetails.getAuthorities()\n                        );\n                authToken.setDetails(\n                        new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authToken);\n            }\n        }\n        \n        filterChain.doFilter(request,  response);\n    }\n\n}\n</code></pre>\n<p><strong>config.JwtService</strong></p>\n<pre><code>import java.security.Key;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.io.Decoders;\nimport io.jsonwebtoken.security.Keys;\n\n@Service\npublic class JwtService {\n\n    private static final String SECRET_KEY = &quot;ec9d2d0f7dd840b43cb0e52c189eb4c06c3b0307c2abf4c5aeef0d689ad12f19&quot;;\n    public String extractUsername(String token) {\n        return extractClaim(token, Claims::getSubject);\n    }\n    \n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimsResolver) {\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n    \n    public String generateToken(\n            Map&lt;String, Object&gt; extraClaims,\n            UserDetails userDetails)\n    {\n        return Jwts\n                .builder()\n                .setClaims(extraClaims)\n                .setSubject(userDetails.getUsername())\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 24))\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n                .compact();\n    }\n    \n    public boolean isTokenValid(String token, UserDetails userDetails) {\n        final String username = extractUsername(token);\n        return (username.equals(userDetails) &amp;&amp; !isTokenExpired(token));\n    }\n    \n    private boolean isTokenExpired(String token) {\n        return extractExpiration(token).before(new Date());\n    }\n\n    private Date extractExpiration(String token) {\n        return extractClaim(token, Claims::getExpiration);\n    }\n\n    public String generateToken(UserDetails userDetails) {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n    \n    public Claims extractAllClaims(String token) {\n        return Jwts.\n                parserBuilder()\n                .setSigningKey(getSignInKey())\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n\n    private Key getSignInKey() {\n        byte[] keyBytes = Decoders.BASE64.decode(SECRET_KEY);\n        return Keys.hmacShaKeyFor(keyBytes);\n    }\n}\n</code></pre>\n<p><strong>config.SecurityConfiguration</strong></p>\n<pre><code>package com.socie.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n    private final AuthenticationProvider authenticationProvider;\n    private final JwtAuthenticationFilter jwtAuthFilter;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n        .csrf()\n        .disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated()\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authenticationProvider(authenticationProvider)\n        .addFilterBefore(jwtAuthFilter,  UsernamePasswordAuthenticationFilter.class);\n                \n        return http.build();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","menu","android-actionbar"],"answers":[{"tags":[],"owner":{"account_id":27749908,"reputation":1,"user_id":21184512,"display_name":"Gordon leung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696406471,"creation_date":1696406471,"answer_id":77227791,"question_id":77227634,"body_markdown":"you can have a look at your main style in your themes.xml to check whether the Action Bar is dismissed or not.\r\n\r\nYou main style name should be like Theme.YourProjectName\r\n\r\nand the themes.xml should be located inside your resources root &#39;s value package\r\n\r\nHere is the example of Not showing a Action Bar \r\n\r\n    &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n\r\nAnd Here is the example of Showing a Action Bar for you App\r\n\r\n     &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n    ","title":"action bar not showing in activity","body":"<p>you can have a look at your main style in your themes.xml to check whether the Action Bar is dismissed or not.</p>\n<p>You main style name should be like Theme.YourProjectName</p>\n<p>and the themes.xml should be located inside your resources root 's value package</p>\n<p>Here is the example of Not showing a Action Bar</p>\n<pre><code>&lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>And Here is the example of Showing a Action Bar for you App</p>\n<pre><code> &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29593293,"reputation":3,"user_id":22680349,"display_name":"vishwas babar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696408185,"creation_date":1696408185,"answer_id":77227980,"question_id":77227634,"body_markdown":"in AndroidManifest.xml file, inside the Application tag replace this line,\r\n\r\n     android:theme=&quot;@style/Theme.MyNote&quot;\r\n    \r\nwith,\r\n\r\n     android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot;\r\n\r\ntry this I think it&#39;s going to work for you, i faced same problem recently.","title":"action bar not showing in activity","body":"<p>in AndroidManifest.xml file, inside the Application tag replace this line,</p>\n<pre><code> android:theme=&quot;@style/Theme.MyNote&quot;\n</code></pre>\n<p>with,</p>\n<pre><code> android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot;\n</code></pre>\n<p>try this I think it's going to work for you, i faced same problem recently.</p>\n"}],"owner":{"account_id":19907766,"reputation":1,"user_id":14586435,"display_name":"Heda Lexa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696408185,"creation_date":1696404961,"question_id":77227634,"body_markdown":"I wrote a simple menu and added it to the action bar but I can&#39;t understand why they are not visible in my activity.\r\nI&#39;m using java and android studio, thanks.\r\n\r\n\r\n\r\n\r\n\r\n\r\nHere is my code:\r\n\r\n\r\n```\r\n@Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.add,menu);\r\n        return super.onCreateOptionsMenu(menu);\r\n}\r\n    \r\n```\r\n\r\n\r\n\r\nthe manifest file is:\r\n\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyNote&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n```\r\n\r\n\r\nthe menu.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;item\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:enabled=&quot;false&quot;\r\n        android:icon=&quot;@drawable/baseline_add_&quot;\r\n        android:title=&quot;@string/add&quot;\r\n        app:showAsAction=&quot;always&quot; /&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nand this is the result:\r\n\r\n(https://i.stack.imgur.com/P6OvG.png)\r\n","title":"action bar not showing in activity","body":"<p>I wrote a simple menu and added it to the action bar but I can't understand why they are not visible in my activity.\nI'm using java and android studio, thanks.</p>\n<p>Here is my code:</p>\n<pre><code>@Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.add,menu);\n        return super.onCreateOptionsMenu(menu);\n}\n    \n</code></pre>\n<p>the manifest file is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyNote&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n</code></pre>\n<p>the menu.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:enabled=&quot;false&quot;\n        android:icon=&quot;@drawable/baseline_add_&quot;\n        android:title=&quot;@string/add&quot;\n        app:showAsAction=&quot;always&quot; /&gt;\n&lt;/menu&gt;\n</code></pre>\n<p>and this is the result:</p>\n<p>(<a href=\"https://i.stack.imgur.com/P6OvG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/P6OvG.png</a>)</p>\n"},{"tags":["java","elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1629868272,"post_id":68859293,"comment_id":121796856,"body_markdown":"Please check below my answer and marked as solution if it helps you :)","body":"Please check below my answer and marked as solution if it helps you :)"}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629459648,"creation_date":1629459648,"answer_id":68861637,"question_id":68859293,"body_markdown":"I am not sure which elasticsearch version you are using but below is code snippet for ES 7.13 version.\r\n\r\n    RestHighLevelClient client = new RestHighLevelClient(\r\n\t\t\t\tRestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;)));\r\n\r\n\t\tUpdateByQueryRequest request = new UpdateByQueryRequest(&quot;student&quot;);\r\n\t\trequest.setQuery(new TermQueryBuilder(&quot;name&quot;, &quot;abc&quot;));\r\n\r\n\t\t// This data map you can directly create from JSON string as well.\r\n\t\tMap&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\r\n\t\tdata.put(&quot;name&quot;, &quot;abc&quot;);\r\n\t\tdata.put(&quot;division&quot;, &quot;A&quot;);\r\n\t\tdata.put(&quot;class&quot;, 11);\r\n\t\tdata.put(&quot;studentRollNo&quot;, 23);\r\n\r\n\t\tMap&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\r\n\t\tparam.put(&quot;data&quot;, data);\r\n\r\n\t\t// script will read data param value and assign to document source\r\n\t\tString source = &quot;ctx._source=params.data&quot;;\r\n\t\tScript script = new Script(ScriptType.INLINE, &quot;painless&quot;, source, param);\r\n\r\n\t\trequest.setScript(script);\r\n\t\tclient.updateByQuery(request, RequestOptions.DEFAULT);\r\n\t\tclient.close();\r\n\r\nBelow is equivalent update by query rest API json:\r\n```\r\nPOST student/_update_by_query\r\n{\r\n  &quot;query&quot;: {\r\n    &quot;term&quot;: {\r\n      &quot;name&quot;: {\r\n        &quot;value&quot;: &quot;abc&quot;\r\n      }\r\n    }\r\n  },\r\n  &quot;script&quot;: {\r\n    &quot;source&quot;: &quot;ctx._source=params.data&quot;,\r\n    &quot;params&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;name&quot;: &quot;abc&quot;,\r\n        &quot;division&quot;: &quot;A&quot;,\r\n        &quot;class&quot;: 11,\r\n        &quot;studentRollNo&quot;: 23\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n","title":"Update ElasticSearch document based on condition using Java API","body":"<p>I am not sure which elasticsearch version you are using but below is code snippet for ES 7.13 version.</p>\n<pre><code>RestHighLevelClient client = new RestHighLevelClient(\n            RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;)));\n\n    UpdateByQueryRequest request = new UpdateByQueryRequest(&quot;student&quot;);\n    request.setQuery(new TermQueryBuilder(&quot;name&quot;, &quot;abc&quot;));\n\n    // This data map you can directly create from JSON string as well.\n    Map&lt;String, Object&gt; data = new HashMap&lt;String, Object&gt;();\n    data.put(&quot;name&quot;, &quot;abc&quot;);\n    data.put(&quot;division&quot;, &quot;A&quot;);\n    data.put(&quot;class&quot;, 11);\n    data.put(&quot;studentRollNo&quot;, 23);\n\n    Map&lt;String, Object&gt; param = new HashMap&lt;String, Object&gt;();\n    param.put(&quot;data&quot;, data);\n\n    // script will read data param value and assign to document source\n    String source = &quot;ctx._source=params.data&quot;;\n    Script script = new Script(ScriptType.INLINE, &quot;painless&quot;, source, param);\n\n    request.setScript(script);\n    client.updateByQuery(request, RequestOptions.DEFAULT);\n    client.close();\n</code></pre>\n<p>Below is equivalent update by query rest API json:</p>\n<pre><code>POST student/_update_by_query\n{\n  &quot;query&quot;: {\n    &quot;term&quot;: {\n      &quot;name&quot;: {\n        &quot;value&quot;: &quot;abc&quot;\n      }\n    }\n  },\n  &quot;script&quot;: {\n    &quot;source&quot;: &quot;ctx._source=params.data&quot;,\n    &quot;params&quot;: {\n      &quot;data&quot;: {\n        &quot;name&quot;: &quot;abc&quot;,\n        &quot;division&quot;: &quot;A&quot;,\n        &quot;class&quot;: 11,\n        &quot;studentRollNo&quot;: 23\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7304036,"reputation":223,"user_id":5565602,"display_name":"tempEngineer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676290467,"creation_date":1676290467,"answer_id":75435734,"question_id":68859293,"body_markdown":"Since there is no good official support or examples for ES 8.x version\r\nAdding snippet for that as well which i tried and worked (this is for 8.4.3)\r\n\r\n    SSLContext sslContext = getSSLContext();\r\n    \r\n    BasicCredentialsProvider credsProv = new BasicCredentialsProvider();\r\n    \r\n    credsProv.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username,password));\r\n        \r\n    RestClient restClient = RestClient.builder(new HttpHost(host, port, port == 443 ? &quot;https&quot; : &quot;http&quot;))\r\n        \t\t\t                                .setHttpClientConfigCallback(hc -&gt; hc.setSSLContext(sslContext).setDefaultCredentialsProvider(credsProv))\r\n        \t\t\t                                  .build();\r\n        \r\n    ElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\r\n    \r\n    ElasticsearchClient elasticsearchClient = new ElasticsearchClient(transport);\r\n\r\n\r\n\r\n    UpdateByQueryRequest.Builder builder = new UpdateByQueryRequest.Builder();\r\n    \r\n            builder.query(getBoolQuery()._toQuery()); // it will be of type BoolQuery.of(query -&gt; { ... })._toQuery()\r\n    \r\n            InlineScript inlineScript = new InlineScript.Builder()\r\n                    .lang(&quot;painless&quot;)\r\n                    .source(getScriptSourceV8()) // it will be string type like &quot;ctx._source=params&quot;;\r\n                    .params(getScriptParamsV8()) // it will be map of &lt;String, JsonData&gt;\r\n                    .build();\r\n    \r\n            Script script = new Script.Builder()\r\n                    .inline(inlineScript)\r\n                    .build();\r\n            builder.script(script);\r\n    \r\n            builder.index(&quot;esIndex&quot;);\r\n            builder.preference(&quot;_shards:&quot;+shard);\r\n            builder.timeout(new Time.Builder().time(TIMEOUT_UPDATE_BY_QUERY+&quot;s&quot;).build());\r\n            builder.conflicts(Conflicts.Proceed);\r\n    \r\n            UpdateByQueryResponse response = elasticsearchClient.updateByQuery(builder.build());","title":"Update ElasticSearch document based on condition using Java API","body":"<p>Since there is no good official support or examples for ES 8.x version\nAdding snippet for that as well which i tried and worked (this is for 8.4.3)</p>\n<pre><code>SSLContext sslContext = getSSLContext();\n\nBasicCredentialsProvider credsProv = new BasicCredentialsProvider();\n\ncredsProv.setCredentials(AuthScope.ANY, new UsernamePasswordCredentials(username,password));\n    \nRestClient restClient = RestClient.builder(new HttpHost(host, port, port == 443 ? &quot;https&quot; : &quot;http&quot;))\n                                                .setHttpClientConfigCallback(hc -&gt; hc.setSSLContext(sslContext).setDefaultCredentialsProvider(credsProv))\n                                                  .build();\n    \nElasticsearchTransport transport = new RestClientTransport(restClient, new JacksonJsonpMapper());\n\nElasticsearchClient elasticsearchClient = new ElasticsearchClient(transport);\n\n\n\nUpdateByQueryRequest.Builder builder = new UpdateByQueryRequest.Builder();\n\n        builder.query(getBoolQuery()._toQuery()); // it will be of type BoolQuery.of(query -&gt; { ... })._toQuery()\n\n        InlineScript inlineScript = new InlineScript.Builder()\n                .lang(&quot;painless&quot;)\n                .source(getScriptSourceV8()) // it will be string type like &quot;ctx._source=params&quot;;\n                .params(getScriptParamsV8()) // it will be map of &lt;String, JsonData&gt;\n                .build();\n\n        Script script = new Script.Builder()\n                .inline(inlineScript)\n                .build();\n        builder.script(script);\n\n        builder.index(&quot;esIndex&quot;);\n        builder.preference(&quot;_shards:&quot;+shard);\n        builder.timeout(new Time.Builder().time(TIMEOUT_UPDATE_BY_QUERY+&quot;s&quot;).build());\n        builder.conflicts(Conflicts.Proceed);\n\n        UpdateByQueryResponse response = elasticsearchClient.updateByQuery(builder.build());\n</code></pre>\n"}],"owner":{"account_id":6497440,"reputation":2026,"user_id":5029589,"accept_rate":56,"display_name":"arpit joshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1881,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68861637,"answer_count":2,"score":1,"last_activity_date":1696408139,"creation_date":1629448681,"question_id":68859293,"body_markdown":"I have a elasticsearch index (lets name it student) . I have the fields \r\n\r\n{ &quot;name&quot;,&quot;division&quot; ,&quot;class&quot; , &quot;studentRollNo&quot;} . \r\n\r\nIs it possible to to update elasticsearch index for on record whose name would be &quot;ABC&quot; . With update API I can only update it by id ,with Update with query how can I pass the jsonString . Lets say My json String for update would be \r\n\r\nExisting : \r\n\r\n{ &quot;name&quot;:&quot;abc&quot; , &quot;division&quot;:&quot;D&quot;,&quot;class&quot; :10 ,&quot;studentRollNo&quot;:23} \r\n\r\nTo Update : \r\n\r\n{&quot;name&quot;:&quot;abc&quot; , &quot;division&quot; : A , &quot;class&quot; : 11 , &quot;studentRollNo&quot; : 23} ","title":"Update ElasticSearch document based on condition using Java API","body":"<p>I have a elasticsearch index (lets name it student) . I have the fields</p>\n<p>{ &quot;name&quot;,&quot;division&quot; ,&quot;class&quot; , &quot;studentRollNo&quot;} .</p>\n<p>Is it possible to to update elasticsearch index for on record whose name would be &quot;ABC&quot; . With update API I can only update it by id ,with Update with query how can I pass the jsonString . Lets say My json String for update would be</p>\n<p>Existing :</p>\n<p>{ &quot;name&quot;:&quot;abc&quot; , &quot;division&quot;:&quot;D&quot;,&quot;class&quot; :10 ,&quot;studentRollNo&quot;:23}</p>\n<p>To Update :</p>\n<p>{&quot;name&quot;:&quot;abc&quot; , &quot;division&quot; : A , &quot;class&quot; : 11 , &quot;studentRollNo&quot; : 23}</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":7,"creation_date":1377693518,"post_id":18487406,"comment_id":27177866,"body_markdown":"Have you tried setting `org.gradle.java.home` in the `gradle.properties` file? [link](http://www.gradle.org/docs/current/userguide/build_environment.html)","body":"Have you tried setting <code>org.gradle.java.home</code> in the <code>gradle.properties</code> file? <a href=\"http://www.gradle.org/docs/current/userguide/build_environment.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":2652663,"reputation":96,"user_id":2293975,"display_name":"mdanaci"},"score":0,"creation_date":1377694895,"post_id":18487406,"comment_id":27178849,"body_markdown":"in eclipse you can create &quot;product config file&quot; in to your project and you can pack the jdk with your product. No need to specify env variables.","body":"in eclipse you can create &quot;product config file&quot; in to your project and you can pack the jdk with your product. No need to specify env variables."},{"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"score":4,"creation_date":1377696687,"post_id":18487406,"comment_id":27180137,"body_markdown":"@RayStojonic: I just gave it a try, but gradle still uses the JAVA_HOME JDK for building :(","body":"@RayStojonic: I just gave it a try, but gradle still uses the JAVA_HOME JDK for building :("},{"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"score":0,"creation_date":1377696920,"post_id":18487406,"comment_id":27180329,"body_markdown":"@mdanaci: I was really hoping I could avoid this because I honestly don&#39;t want to take a JDK under version control (which would be the consequence if I would use your suggestion) as any developer has to be able to pack the application. Plus, I see problems with the CI server this way. Thanks for your suggestion anyway :)","body":"@mdanaci: I was really hoping I could avoid this because I honestly don&#39;t want to take a JDK under version control (which would be the consequence if I would use your suggestion) as any developer has to be able to pack the application. Plus, I see problems with the CI server this way. Thanks for your suggestion anyway :)"},{"owner":{"account_id":2509375,"reputation":1260,"user_id":2182220,"display_name":"Ray Stojonic"},"score":7,"creation_date":1377697324,"post_id":18487406,"comment_id":27180605,"body_markdown":"As of a year ago, the `org.gradle.java.home` setting applies only to gradle daemon, apparently... At any rate, try setting fork to true and forkOptions.executable to the jdk you want to use: [link](http://forums.gradle.org/gradle/topics/setting_path_to_jdk)","body":"As of a year ago, the <code>org.gradle.java.home</code> setting applies only to gradle daemon, apparently... At any rate, try setting fork to true and forkOptions.executable to the jdk you want to use: <a href=\"http://forums.gradle.org/gradle/topics/setting_path_to_jdk\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"score":0,"creation_date":1377698294,"post_id":18487406,"comment_id":27181311,"body_markdown":"ah, too bad, I missed the link (though I found it on Google, but now I have a different sense for the content). Thanks, that did the trick, great :)","body":"ah, too bad, I missed the link (though I found it on Google, but now I have a different sense for the content). Thanks, that did the trick, great :)"},{"owner":{"account_id":259073,"reputation":8102,"user_id":541688,"display_name":"Oleg Estekhin"},"score":0,"creation_date":1396332756,"post_id":18487406,"comment_id":34728114,"body_markdown":"Check http://stackoverflow.com/questions/22681544/how-to-set-gradle-options-bootclasspath-in-an-os-independent-manner - it is essentially the same question and it provides a way to run the gradle using one jdk and compile the project (or any module) using the other jdk.","body":"Check <a href=\"http://stackoverflow.com/questions/22681544/how-to-set-gradle-options-bootclasspath-in-an-os-independent-manner\" title=\"how to set gradle options bootclasspath in an os independent manner\">stackoverflow.com/questions/22681544/&hellip;</a> - it is essentially the same question and it provides a way to run the gradle using one jdk and compile the project (or any module) using the other jdk."},{"owner":{"account_id":366776,"reputation":6720,"user_id":712526,"accept_rate":50,"display_name":"jpaugh"},"score":1,"creation_date":1462836586,"post_id":18487406,"comment_id":61794597,"body_markdown":"To instead set the *source* and *target* SDK versions, see http://stackoverflow.com/a/19470405/712526.","body":"To instead set the <i>source</i> and <i>target</i> SDK versions, see <a href=\"http://stackoverflow.com/a/19470405/712526\">stackoverflow.com/a/19470405/712526</a>."}],"answers":[{"tags":[],"owner":{"account_id":380973,"reputation":21726,"user_id":735336,"display_name":"First Zero"},"down_vote_count":9,"up_vote_count":480,"is_accepted":true,"score":471,"last_activity_date":1599180019,"creation_date":1390101482,"answer_id":21212790,"question_id":18487406,"body_markdown":"Two ways\r\n\r\n1. In `gradle.properties` in the `.gradle` directory in your `HOME_DIRECTORY` set `org.gradle.java.home=/path_to_jdk_directory`\r\n\r\nor:\r\n\r\n2. In your `build.gradle`\r\n\r\n        compileJava.options.fork = true\r\n        compileJava.options.forkOptions.executable = &#39;/path_to_javac&#39;","title":"How do I tell Gradle to use specific JDK version?","body":"<p>Two ways</p>\n<ol>\n<li>In <code>gradle.properties</code> in the <code>.gradle</code> directory in your <code>HOME_DIRECTORY</code> set <code>org.gradle.java.home=/path_to_jdk_directory</code></li>\n</ol>\n<p>or:</p>\n<ol start=\"2\">\n<li><p>In your <code>build.gradle</code></p>\n<pre><code> compileJava.options.fork = true\n compileJava.options.forkOptions.executable = '/path_to_javac'\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":7,"up_vote_count":9,"is_accepted":false,"score":2,"last_activity_date":1396334293,"creation_date":1396332509,"answer_id":22778079,"question_id":18487406,"body_markdown":"As seen in [Gradle (Eclipse plugin)](http://marketplace.eclipse.org/content/gradle)\r\n\r\n![][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mwzaD.png\r\n\r\nhttp://www.gradle.org/get-started\r\n\r\n&gt; Gradle uses whichever JDK it finds in your path (to check, use java -version). Alternatively, you can set the JAVA_HOME environment variable to point to the install directory of the desired JDK. \r\n\r\n---\r\n\r\nIf you are using this Eclipse plugin or [Enide Studio 2014](http://www.nodeclipse.org/enide/studio/2014/), alternative JAVA_HOME to use (set in Preferences) will be in version 0.15, see &lt;http://www.nodeclipse.org/history&gt;","title":"How do I tell Gradle to use specific JDK version?","body":"<p>As seen in <a href=\"http://marketplace.eclipse.org/content/gradle\" rel=\"nofollow noreferrer\">Gradle (Eclipse plugin)</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/mwzaD.png\" alt=\"\"></p>\n\n<p><a href=\"http://www.gradle.org/get-started\" rel=\"nofollow noreferrer\">http://www.gradle.org/get-started</a></p>\n\n<blockquote>\n  <p>Gradle uses whichever JDK it finds in your path (to check, use java -version). Alternatively, you can set the JAVA_HOME environment variable to point to the install directory of the desired JDK. </p>\n</blockquote>\n\n<hr>\n\n<p>If you are using this Eclipse plugin or <a href=\"http://www.nodeclipse.org/enide/studio/2014/\" rel=\"nofollow noreferrer\">Enide Studio 2014</a>, alternative JAVA_HOME to use (set in Preferences) will be in version 0.15, see <a href=\"http://www.nodeclipse.org/history\" rel=\"nofollow noreferrer\">http://www.nodeclipse.org/history</a></p>\n"},{"tags":[],"owner":{"account_id":1453661,"reputation":6114,"user_id":1369879,"display_name":"mirmdasif"},"down_vote_count":5,"up_vote_count":277,"is_accepted":false,"score":272,"last_activity_date":1466572872,"creation_date":1466572872,"answer_id":37959153,"question_id":18487406,"body_markdown":"If you add JDK_PATH in **gradle.properties** your build become dependent on on that particular path.\r\nInstead Run **gradle task** with following command line parametemer\r\n\r\n    gradle build -Dorg.gradle.java.home=/JDK_PATH\r\n\r\nThis way your build is not dependent on some concrete path.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you add JDK_PATH in <strong>gradle.properties</strong> your build become dependent on on that particular path.\nInstead Run <strong>gradle task</strong> with following command line parametemer</p>\n\n<pre><code>gradle build -Dorg.gradle.java.home=/JDK_PATH\n</code></pre>\n\n<p>This way your build is not dependent on some concrete path.</p>\n"},{"tags":[],"owner":{"account_id":4974019,"reputation":467,"user_id":4000934,"display_name":"sylwano"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1483819459,"creation_date":1483534207,"answer_id":41464266,"question_id":18487406,"body_markdown":"If you are using linux and gradle wrapper you can use following solution. \r\n\r\nAdd path to local.properties file:\r\n\r\n    javaHome=&lt;path to JDK&gt;\r\n\r\n\r\nAdd to your gradlew script file:\r\n\r\n    DIR=$( cd &quot;$( dirname &quot;${BASH_SOURCE[0]}&quot; )&quot; &amp;&amp; pwd )\r\n    source $DIR/local.properties 2&gt;/dev/null\r\n    \r\n    if ! [ -z &quot;$javaHome&quot; ]\r\n    then\r\n      JAVA_HOME=$javaHome\r\n    fi\r\n\r\nIn this solution, each developer can set his own JDK path. File `local.properties` shouldn&#39;t be included in version control system.\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are using linux and gradle wrapper you can use following solution. </p>\n\n<p>Add path to local.properties file:</p>\n\n<pre><code>javaHome=&lt;path to JDK&gt;\n</code></pre>\n\n<p>Add to your gradlew script file:</p>\n\n<pre><code>DIR=$( cd \"$( dirname \"${BASH_SOURCE[0]}\" )\" &amp;&amp; pwd )\nsource $DIR/local.properties 2&gt;/dev/null\n\nif ! [ -z \"$javaHome\" ]\nthen\n  JAVA_HOME=$javaHome\nfi\n</code></pre>\n\n<p>In this solution, each developer can set his own JDK path. File <code>local.properties</code> shouldn't be included in version control system.</p>\n"},{"tags":[],"owner":{"account_id":5088460,"reputation":644,"user_id":4472665,"accept_rate":18,"display_name":"Manoj"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1497006060,"creation_date":1497006060,"answer_id":44456092,"question_id":18487406,"body_markdown":"I added this line in my GRADLE_HOME/bin/gradle file - \r\n`export JAVA_HOME=/path/to/java/version`","title":"How do I tell Gradle to use specific JDK version?","body":"<p>I added this line in my GRADLE_HOME/bin/gradle file - \n<code>export JAVA_HOME=/path/to/java/version</code></p>\n"},{"tags":[],"owner":{"account_id":319581,"reputation":3587,"user_id":637423,"display_name":"Geert"},"down_vote_count":9,"up_vote_count":209,"is_accepted":false,"score":200,"last_activity_date":1660117777,"creation_date":1498643753,"answer_id":44799256,"question_id":18487406,"body_markdown":"To people ending up here when searching for the Gradle equivalent of the Maven property `maven.compiler.source` (or `&lt;source&gt;1.8&lt;/source&gt;`):\r\n\r\nIn build.gradle you can achieve this with\r\n\r\n    apply plugin: &#39;java&#39;\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\nSee the [Gradle documentation on this][1].\r\n\r\n## Gradle 7+\r\n\r\nFrom Gradle 7 onwards, you can also use [the `release` property][2], which makes use of the JDK 9 [`--release` compiler argument][3]:\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.release = 8\r\n    }\r\n\r\n(thanks Pedro Lamar&#227;o)\r\n\r\n  [1]: https://docs.gradle.org/3.3/userguide/java_plugin.html#sec:java_convention_properties\r\n  [2]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:release\r\n  [3]: https://openjdk.org/jeps/247","title":"How do I tell Gradle to use specific JDK version?","body":"<p>To people ending up here when searching for the Gradle equivalent of the Maven property <code>maven.compiler.source</code> (or <code>&lt;source&gt;1.8&lt;/source&gt;</code>):</p>\n<p>In build.gradle you can achieve this with</p>\n<pre><code>apply plugin: 'java'\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n</code></pre>\n<p>See the <a href=\"https://docs.gradle.org/3.3/userguide/java_plugin.html#sec:java_convention_properties\" rel=\"noreferrer\">Gradle documentation on this</a>.</p>\n<h2>Gradle 7+</h2>\n<p>From Gradle 7 onwards, you can also use <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.compile.CompileOptions.html#org.gradle.api.tasks.compile.CompileOptions:release\" rel=\"noreferrer\">the <code>release</code> property</a>, which makes use of the JDK 9 <a href=\"https://openjdk.org/jeps/247\" rel=\"noreferrer\"><code>--release</code> compiler argument</a>:</p>\n<pre><code>tasks.withType(JavaCompile) {\n    options.release = 8\n}\n</code></pre>\n<p>(thanks Pedro Lamarão)</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506657652,"creation_date":1506657652,"answer_id":46481612,"question_id":18487406,"body_markdown":"I am using Gradle 4.2 . Default JDK is Java 9. In early day of Java 9, Gradle 4.2 run on JDK 8 correctly (not JDK 9).\r\n\r\nI set JDK manually like this, in file **`%GRADLE_HOME%\\bin\\gradle.bat`**:\r\n\r\n\r\n    @if &quot;%DEBUG%&quot; == &quot;&quot; @echo off\r\n    @rem ##########################################################################\r\n    @rem\r\n    @rem  Gradle startup script for Windows\r\n    @rem\r\n    @rem ##########################################################################\r\n    \r\n    @rem Set local scope for the variables with windows NT shell\r\n    if &quot;%OS%&quot;==&quot;Windows_NT&quot; setlocal\r\n    \r\n    set DIRNAME=%~dp0\r\n    if &quot;%DIRNAME%&quot; == &quot;&quot; set DIRNAME=.\r\n    set APP_BASE_NAME=%~n0\r\n    set APP_HOME=%DIRNAME%..\r\n    \r\n    @rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\r\n    set DEFAULT_JVM_OPTS=\r\n    \r\n    @rem Find java.exe\r\n    if defined JAVA_HOME goto findJavaFromJavaHome\r\n    \r\n    @rem VyDN-start.\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\r\n    @rem VyDN-end.\r\n    \r\n    set JAVA_EXE=java.exe\r\n    %JAVA_EXE% -version &gt;NUL 2&gt;&amp;1\r\n    if &quot;%ERRORLEVEL%&quot; == &quot;0&quot; goto init\r\n    \r\n    echo.\r\n    echo ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n    echo.\r\n    echo Please set the JAVA_HOME variable in your environment to match the\r\n    echo location of your Java installation.\r\n    \r\n    goto fail\r\n    \r\n    :findJavaFromJavaHome\r\n    set JAVA_HOME=%JAVA_HOME:&quot;=%\r\n    \r\n    \r\n    @rem VyDN-start.\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\r\n    @rem VyDN-end.\r\n    \r\n    \r\n    set JAVA_EXE=%JAVA_HOME%/bin/java.exe\r\n    \r\n    if exist &quot;%JAVA_EXE%&quot; goto init\r\n    \r\n    echo.\r\n    echo ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\r\n    echo.\r\n    echo Please set the JAVA_HOME variable in your environment to match the\r\n    echo location of your Java installation.\r\n    \r\n    goto fail\r\n    \r\n    :init\r\n    @rem Get command-line arguments, handling Windows variants\r\n    \r\n    if not &quot;%OS%&quot; == &quot;Windows_NT&quot; goto win9xME_args\r\n    \r\n    :win9xME_args\r\n    @rem Slurp the command line arguments.\r\n    set CMD_LINE_ARGS=\r\n    set _SKIP=2\r\n    \r\n    :win9xME_args_slurp\r\n    if &quot;x%~1&quot; == &quot;x&quot; goto execute\r\n    \r\n    set CMD_LINE_ARGS=%*\r\n    \r\n    :execute\r\n    @rem Setup the command line\r\n    \r\n    set CLASSPATH=%APP_HOME%\\lib\\gradle-launcher-4.2.jar\r\n    \r\n    @rem Execute Gradle\r\n    &quot;%JAVA_EXE%&quot; %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% &quot;-Dorg.gradle.appname=%APP_BASE_NAME%&quot; -classpath &quot;%CLASSPATH%&quot; org.gradle.launcher.GradleMain %CMD_LINE_ARGS%\r\n    \r\n    :end\r\n    @rem End local scope for the variables with windows NT shell\r\n    if &quot;%ERRORLEVEL%&quot;==&quot;0&quot; goto mainEnd\r\n    \r\n    :fail\r\n    rem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\r\n    rem the _cmd.exe /c_ return code!\r\n    if  not &quot;&quot; == &quot;%GRADLE_EXIT_CONSOLE%&quot; exit 1\r\n    exit /b 1\r\n    \r\n    :mainEnd\r\n    if &quot;%OS%&quot;==&quot;Windows_NT&quot; endlocal\r\n    \r\n    :omega\r\n\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<p>I am using Gradle 4.2 . Default JDK is Java 9. In early day of Java 9, Gradle 4.2 run on JDK 8 correctly (not JDK 9).</p>\n\n<p>I set JDK manually like this, in file <strong><code>%GRADLE_HOME%\\bin\\gradle.bat</code></strong>:</p>\n\n<pre><code>@if \"%DEBUG%\" == \"\" @echo off\n@rem ##########################################################################\n@rem\n@rem  Gradle startup script for Windows\n@rem\n@rem ##########################################################################\n\n@rem Set local scope for the variables with windows NT shell\nif \"%OS%\"==\"Windows_NT\" setlocal\n\nset DIRNAME=%~dp0\nif \"%DIRNAME%\" == \"\" set DIRNAME=.\nset APP_BASE_NAME=%~n0\nset APP_HOME=%DIRNAME%..\n\n@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nset DEFAULT_JVM_OPTS=\n\n@rem Find java.exe\nif defined JAVA_HOME goto findJavaFromJavaHome\n\n@rem VyDN-start.\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\n@rem VyDN-end.\n\nset JAVA_EXE=java.exe\n%JAVA_EXE% -version &gt;NUL 2&gt;&amp;1\nif \"%ERRORLEVEL%\" == \"0\" goto init\n\necho.\necho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:findJavaFromJavaHome\nset JAVA_HOME=%JAVA_HOME:\"=%\n\n\n@rem VyDN-start.\nset JAVA_HOME=C:\\Program Files\\Java\\jdk1.8.0_144\\\n@rem VyDN-end.\n\n\nset JAVA_EXE=%JAVA_HOME%/bin/java.exe\n\nif exist \"%JAVA_EXE%\" goto init\n\necho.\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:init\n@rem Get command-line arguments, handling Windows variants\n\nif not \"%OS%\" == \"Windows_NT\" goto win9xME_args\n\n:win9xME_args\n@rem Slurp the command line arguments.\nset CMD_LINE_ARGS=\nset _SKIP=2\n\n:win9xME_args_slurp\nif \"x%~1\" == \"x\" goto execute\n\nset CMD_LINE_ARGS=%*\n\n:execute\n@rem Setup the command line\n\nset CLASSPATH=%APP_HOME%\\lib\\gradle-launcher-4.2.jar\n\n@rem Execute Gradle\n\"%JAVA_EXE%\" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% \"-Dorg.gradle.appname=%APP_BASE_NAME%\" -classpath \"%CLASSPATH%\" org.gradle.launcher.GradleMain %CMD_LINE_ARGS%\n\n:end\n@rem End local scope for the variables with windows NT shell\nif \"%ERRORLEVEL%\"==\"0\" goto mainEnd\n\n:fail\nrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\nrem the _cmd.exe /c_ return code!\nif  not \"\" == \"%GRADLE_EXIT_CONSOLE%\" exit 1\nexit /b 1\n\n:mainEnd\nif \"%OS%\"==\"Windows_NT\" endlocal\n\n:omega\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2791520,"reputation":1177,"user_id":2401670,"accept_rate":81,"display_name":"Kiran"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1604646233,"creation_date":1519899246,"answer_id":49047348,"question_id":18487406,"body_markdown":"There is one more option to follow. In your gradle tasks available in Eclipse, you can set your desired jdk path. (I know this is a while since the question was posted. This answer can help someone.)\r\n\r\nRight click on the deploy or any other task and select &quot;Open Gradle Run Configuration...&quot;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen navigate to &quot;Java Home&quot; and paste your desired java path.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPlease note that, bin will be added by the gradle task itself. So don&#39;t add the &quot;bin&quot; to the path.\r\n\r\n  [1]: https://i.stack.imgur.com/AAAQn.png\r\n  [2]: https://i.stack.imgur.com/CoLUP.png","title":"How do I tell Gradle to use specific JDK version?","body":"<p>There is one more option to follow. In your gradle tasks available in Eclipse, you can set your desired jdk path. (I know this is a while since the question was posted. This answer can help someone.)</p>\n<p>Right click on the deploy or any other task and select &quot;Open Gradle Run Configuration...&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/AAAQn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AAAQn.png\" alt=\"enter image description here\" /></a></p>\n<p>Then navigate to &quot;Java Home&quot; and paste your desired java path.</p>\n<p><a href=\"https://i.stack.imgur.com/CoLUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CoLUP.png\" alt=\"enter image description here\" /></a></p>\n<p>Please note that, bin will be added by the gradle task itself. So don't add the &quot;bin&quot; to the path.</p>\n"},{"tags":[],"owner":{"account_id":6317642,"reputation":3415,"user_id":4906998,"display_name":"Vittal Pai"},"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1537953008,"creation_date":1537953008,"answer_id":52514015,"question_id":18487406,"body_markdown":"If you are executing using gradle wrapper, you can run the command with JDK path like following\r\n\r\n`./gradlew -Dorg.gradle.java.home=/jdk_path_directory`","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are executing using gradle wrapper, you can run the command with JDK path like following</p>\n\n<p><code>./gradlew -Dorg.gradle.java.home=/jdk_path_directory</code></p>\n"},{"tags":[],"owner":{"account_id":12874763,"reputation":141,"user_id":9311849,"display_name":"Remo Meier"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540629586,"creation_date":1540629586,"answer_id":53020141,"question_id":18487406,"body_markdown":"there is a Gradle plugin that download/bootstraps a JDK automatically: \r\n\r\nhttps://plugins.gradle.org/plugin/com.github.rmee.jdk-bootstrap\r\n\r\nNo IDE integration yet and a decent shell required on Windows.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>there is a Gradle plugin that download/bootstraps a JDK automatically: </p>\n\n<p><a href=\"https://plugins.gradle.org/plugin/com.github.rmee.jdk-bootstrap\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/plugin/com.github.rmee.jdk-bootstrap</a></p>\n\n<p>No IDE integration yet and a decent shell required on Windows.</p>\n"},{"tags":[],"owner":{"account_id":1607293,"reputation":137,"user_id":2429751,"display_name":"JasonBodnar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1559253858,"creation_date":1559253858,"answer_id":56386203,"question_id":18487406,"body_markdown":"If you just want to set it once to run a specific command:\r\n\r\n    JAVA_HOME=/usr/lib/jvm/java-11-oracle/ gw build","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you just want to set it once to run a specific command:</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-11-oracle/ gw build\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2481346,"reputation":3567,"user_id":2160765,"display_name":"Rosberg Linhares"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1572311908,"creation_date":1572306468,"answer_id":58599790,"question_id":18487406,"body_markdown":"If you are using JDK 9+, you can do this:\r\n\r\n```kotlin\r\njava {\r\n    sourceCompatibility = JavaVersion.VERSION_1_8\r\n    targetCompatibility = JavaVersion.VERSION_1_8\r\n}\r\n\r\ntasks.withType&lt;JavaCompile&gt; {\r\n    options.compilerArgs.addAll(arrayOf(&quot;--release&quot;, &quot;8&quot;))\r\n}\r\n```\r\n\r\nYou can also see the following related issues:\r\n\r\n - Gradle: [[Java 9] Add convenience method for `-release` compiler argument](https://github.com/gradle/gradle/issues/2510)\r\n - Eclipse Plug-ins for Gradle: [JDK API compatibility should match the sourceCompatibility option](https://github.com/eclipse/buildship/issues/934).","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are using JDK 9+, you can do this:</p>\n\n<pre><code>java {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n}\n\ntasks.withType&lt;JavaCompile&gt; {\n    options.compilerArgs.addAll(arrayOf(\"--release\", \"8\"))\n}\n</code></pre>\n\n<p>You can also see the following related issues:</p>\n\n<ul>\n<li>Gradle: <a href=\"https://github.com/gradle/gradle/issues/2510\" rel=\"noreferrer\">[Java 9] Add convenience method for <code>-release</code> compiler argument</a></li>\n<li>Eclipse Plug-ins for Gradle: <a href=\"https://github.com/eclipse/buildship/issues/934\" rel=\"noreferrer\">JDK API compatibility should match the sourceCompatibility option</a>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582407405,"creation_date":1582407405,"answer_id":60357056,"question_id":18487406,"body_markdown":"## Android Studio ##\r\n\r\nFile &gt; Project Structure &gt; SDK Location &gt; JDK Location &gt; \r\n\r\n    /usr/lib/jvm/java-8-openjdk-amd64\r\n\r\nGL\r\n\r\n[Install JDK][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/14788468/5279996","title":"How do I tell Gradle to use specific JDK version?","body":"<h2>Android Studio</h2>\n\n<p>File > Project Structure > SDK Location > JDK Location > </p>\n\n<pre><code>/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n\n<p>GL</p>\n\n<p><a href=\"https://stackoverflow.com/a/14788468/5279996\">Install JDK</a></p>\n"},{"tags":[],"owner":{"account_id":6309469,"reputation":1058,"user_id":4901496,"display_name":"sobczak.dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585985845,"creation_date":1585985845,"answer_id":61025099,"question_id":18487406,"body_markdown":"If you are using Kotlin DSL, then in `build.gradle.kts` add:\r\n\r\n    tasks.withType&lt;JavaCompile&gt; {\r\n        options.isFork = true\r\n        options.forkOptions.javaHome = File(&quot;C:\\\\bin\\\\jdk-13.0.1\\\\&quot;)\r\n    }\r\nOf course, I&#39;m assuming that you have Windows OS and `javac` compiler is in path `C:\\bin\\jdk-13.0.1\\bin\\javac`. For Linux OS will be similarly.\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you are using Kotlin DSL, then in <code>build.gradle.kts</code> add:</p>\n\n<pre><code>tasks.withType&lt;JavaCompile&gt; {\n    options.isFork = true\n    options.forkOptions.javaHome = File(\"C:\\\\bin\\\\jdk-13.0.1\\\\\")\n}\n</code></pre>\n\n<p>Of course, I'm assuming that you have Windows OS and <code>javac</code> compiler is in path <code>C:\\bin\\jdk-13.0.1\\bin\\javac</code>. For Linux OS will be similarly.</p>\n"},{"tags":[],"owner":{"account_id":18362394,"reputation":71,"user_id":13374232,"display_name":"Sergey Alekhin"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587491629,"creation_date":1587491629,"answer_id":61349923,"question_id":18487406,"body_markdown":"For windows run gradle task with jdk 11 path parameter in quotes\r\n\r\n    gradlew clean build -Dorg.gradle.java.home=&quot;c:/Program Files/Java/jdk-11&quot;","title":"How do I tell Gradle to use specific JDK version?","body":"<p>For windows run gradle task with jdk 11 path parameter in quotes</p>\n\n<pre><code>gradlew clean build -Dorg.gradle.java.home=\"c:/Program Files/Java/jdk-11\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141282,"reputation":10126,"user_id":348189,"accept_rate":89,"display_name":"TacB0sS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596668628,"creation_date":1596668628,"answer_id":63274687,"question_id":18487406,"body_markdown":"So, I use IntelliJ for my Android project, and the following solved the issue in the IDE:\r\n\r\njust cause it might save someone the few hours I wasted... \r\nIntelliJ -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build tools -&gt; Maven -&gt; Gradle\r\n\r\nand set **Gradle JVM** to 1.8\r\nmake sure you also have JDK 8 installed...\r\n\r\nNOTE: the project was compiling just fine from the command line","title":"How do I tell Gradle to use specific JDK version?","body":"<p>So, I use IntelliJ for my Android project, and the following solved the issue in the IDE:</p>\n<p>just cause it might save someone the few hours I wasted...\nIntelliJ -&gt; Preferences -&gt; Build, Execution, Deployment -&gt; Build tools -&gt; Maven -&gt; Gradle</p>\n<p>and set <strong>Gradle JVM</strong> to 1.8\nmake sure you also have JDK 8 installed...</p>\n<p>NOTE: the project was compiling just fine from the command line</p>\n"},{"tags":[],"owner":{"account_id":3156203,"reputation":4585,"user_id":2668564,"display_name":"jfk"},"down_vote_count":1,"up_vote_count":66,"is_accepted":false,"score":65,"last_activity_date":1618317991,"creation_date":1601963746,"answer_id":64220088,"question_id":18487406,"body_markdown":"If you have this problem from `Intellij IDE`, try this options\r\n1. Set Gradle JVM Home\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Set the JDK version in the Project module settings\r\n[![enter image description here][2]][2]\r\n\r\n3. Check the JDK version in the Modules\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DP9ls.png\r\n  [2]: https://i.stack.imgur.com/7hYsr.png\r\n  [3]: https://i.stack.imgur.com/HnDxy.png","title":"How do I tell Gradle to use specific JDK version?","body":"<p>If you have this problem from <code>Intellij IDE</code>, try this options</p>\n<ol>\n<li><p>Set Gradle JVM Home\n<a href=\"https://i.stack.imgur.com/DP9ls.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DP9ls.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Set the JDK version in the Project module settings\n<a href=\"https://i.stack.imgur.com/7hYsr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7hYsr.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Check the JDK version in the Modules\n<a href=\"https://i.stack.imgur.com/HnDxy.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HnDxy.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12080668,"reputation":1455,"user_id":8832537,"display_name":"Yekta Sarıoğlu"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1611571855,"creation_date":1611571855,"answer_id":65883276,"question_id":18487406,"body_markdown":"You could easily point your desired Java version with specifying in the project level `gradle.properties`. This would effect the current project rather than altering the language level for every project throughout the system.\r\n\r\n```properties\r\norg.gradle.java.home=&lt;YOUR_JDK_PATH&gt;\r\n```","title":"How do I tell Gradle to use specific JDK version?","body":"<p>You could easily point your desired Java version with specifying in the project level <code>gradle.properties</code>. This would effect the current project rather than altering the language level for every project throughout the system.</p>\n<pre><code>org.gradle.java.home=&lt;YOUR_JDK_PATH&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190269,"reputation":18134,"user_id":430128,"accept_rate":78,"display_name":"Raman"},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1665029802,"creation_date":1614703599,"answer_id":66443594,"question_id":18487406,"body_markdown":"# Gradle 6.7+ — Use Gradle Toolchain Support\r\n\r\nThe right way to do this with modern versions of Gradle (version 6.7+) is to use the [Gradle Java Toolchain][1] [support][2].\r\n\r\nThe following block, when the java plugin is applied to the current project, will use Java 11 in all java compilation, test, and javadoc tasks:\r\n\r\n```\r\njava {\r\n  toolchain {\r\n    languageVersion.set(JavaLanguageVersion.of(11))\r\n  }\r\n}\r\n```\r\n\r\nThis can also be set for [individual tasks][5].\r\n\r\nNOTE: For [other tasks relying on a Java executable or Java home][6], use the compiler metadata to set the appropriate options. See below for an example with the Kotlin plugin, prior to version 1.5.30.\r\n\r\nGradle attempts to [auto-detect][3] the location of the specified JDK via several common mechanisms. [Custom locations][4] can be configured if the auto-detection isn&#39;t sufficient.\r\n\r\n## Kotlin 1.7.20+\r\n\r\nFor Kotlin 1.7.20+, the Kotlin plugin [supports toolchains directly][8] and has a simplified syntax:\r\n\r\n```kotlin\r\nkotlin {\r\n  jvmToolchain(17)\r\n}\r\n```\r\n\r\n## Kotlin 1.5.30+\r\n\r\nFor Kotlin 1.5.30+, the Kotlin plugin [supports toolchains directly][7]:\r\n\r\n```kotlin\r\nkotlin {\r\n  jvmToolchain {\r\n    (this as JavaToolchainSpec).languageVersion.set(JavaLanguageVersion.of(17))\r\n  }\r\n}\r\n```\r\n\r\n## Kotlin Earlier Versions\r\n\r\nConfiguring the Kotlin compiler for versions prior to 1.5.30 involves using the toolchain API to determine the compiler, and passing that information to the plugin. Other compiler-based plugins may be configured in similar ways.\r\n\r\n```kotlin\r\nval compiler = javaToolchains.compilerFor {\r\n  languageVersion.set(JavaLanguageVersion.of(11))\r\n}\r\n\r\ntasks.withType&lt;KotlinJvmCompile&gt;().configureEach {\r\n  kotlinOptions.jdkHome = compiler.get().metadata.installationPath.asFile.absolutePath\r\n}\r\n```\r\n\r\n\r\n  [1]: https://blog.gradle.org/java-toolchains\r\n  [2]: https://docs.gradle.org/current/userguide/toolchains.html\r\n  [3]: https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\r\n  [4]: https://docs.gradle.org/current/userguide/toolchains.html#sec:custom_loc\r\n  [5]: https://docs.gradle.org/current/userguide/toolchains.html#specify_custom_toolchains_for_individual_tasks\r\n  [6]: https://docs.gradle.org/current/userguide/toolchains.html#integration_with_tasks_relying_on_a_java_executable_or_java_home\r\n  [7]: https://kotlinlang.org/docs/whatsnew1530.html#support-for-java-toolchains\r\n  [8]: https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration\r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<h1>Gradle 6.7+ — Use Gradle Toolchain Support</h1>\n<p>The right way to do this with modern versions of Gradle (version 6.7+) is to use the <a href=\"https://blog.gradle.org/java-toolchains\" rel=\"noreferrer\">Gradle Java Toolchain</a> <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"noreferrer\">support</a>.</p>\n<p>The following block, when the java plugin is applied to the current project, will use Java 11 in all java compilation, test, and javadoc tasks:</p>\n<pre><code>java {\n  toolchain {\n    languageVersion.set(JavaLanguageVersion.of(11))\n  }\n}\n</code></pre>\n<p>This can also be set for <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#specify_custom_toolchains_for_individual_tasks\" rel=\"noreferrer\">individual tasks</a>.</p>\n<p>NOTE: For <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#integration_with_tasks_relying_on_a_java_executable_or_java_home\" rel=\"noreferrer\">other tasks relying on a Java executable or Java home</a>, use the compiler metadata to set the appropriate options. See below for an example with the Kotlin plugin, prior to version 1.5.30.</p>\n<p>Gradle attempts to <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:auto_detection\" rel=\"noreferrer\">auto-detect</a> the location of the specified JDK via several common mechanisms. <a href=\"https://docs.gradle.org/current/userguide/toolchains.html#sec:custom_loc\" rel=\"noreferrer\">Custom locations</a> can be configured if the auto-detection isn't sufficient.</p>\n<h2>Kotlin 1.7.20+</h2>\n<p>For Kotlin 1.7.20+, the Kotlin plugin <a href=\"https://kotlinlang.org/docs/whatsnew1720.html#new-method-for-jvm-toolchain-configuration\" rel=\"noreferrer\">supports toolchains directly</a> and has a simplified syntax:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n  jvmToolchain(17)\n}\n</code></pre>\n<h2>Kotlin 1.5.30+</h2>\n<p>For Kotlin 1.5.30+, the Kotlin plugin <a href=\"https://kotlinlang.org/docs/whatsnew1530.html#support-for-java-toolchains\" rel=\"noreferrer\">supports toolchains directly</a>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kotlin {\n  jvmToolchain {\n    (this as JavaToolchainSpec).languageVersion.set(JavaLanguageVersion.of(17))\n  }\n}\n</code></pre>\n<h2>Kotlin Earlier Versions</h2>\n<p>Configuring the Kotlin compiler for versions prior to 1.5.30 involves using the toolchain API to determine the compiler, and passing that information to the plugin. Other compiler-based plugins may be configured in similar ways.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val compiler = javaToolchains.compilerFor {\n  languageVersion.set(JavaLanguageVersion.of(11))\n}\n\ntasks.withType&lt;KotlinJvmCompile&gt;().configureEach {\n  kotlinOptions.jdkHome = compiler.get().metadata.installationPath.asFile.absolutePath\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6228201,"reputation":5409,"user_id":4845808,"display_name":"Chinese Cat"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1616667577,"creation_date":1616662301,"answer_id":66795979,"question_id":18487406,"body_markdown":"For Windows, open cmd and enter to your project root, then execute a command like this:\r\n\r\n**gradlew build -Dorg.gradle.java.home=&quot;jdk_path&quot;** \r\n\r\nMy JDK is located in this path: C:\\Program Files\\Java\\jdk-11.0.5.\r\n\r\nSo, for my case, it looks like this below:\r\n\r\n**gradlew build -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk-11.0.5&quot;**\r\n\r\nAdditionally, if you want to specify a certain variant, you can do like this :\r\n\r\n**gradlew assembleDebug -Dorg.gradle.java.home=&quot;E:\\AndroidStudio\\jre&quot;**\r\n\r\nThis command will compile your project with **Debug** variant and output 2 apks(debug + release) in 2 folders.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>For Windows, open cmd and enter to your project root, then execute a command like this:</p>\n<p><strong>gradlew build -Dorg.gradle.java.home=&quot;jdk_path&quot;</strong></p>\n<p>My JDK is located in this path: C:\\Program Files\\Java\\jdk-11.0.5.</p>\n<p>So, for my case, it looks like this below:</p>\n<p><strong>gradlew build -Dorg.gradle.java.home=&quot;C:\\Program Files\\Java\\jdk-11.0.5&quot;</strong></p>\n<p>Additionally, if you want to specify a certain variant, you can do like this :</p>\n<p><strong>gradlew assembleDebug -Dorg.gradle.java.home=&quot;E:\\AndroidStudio\\jre&quot;</strong></p>\n<p>This command will compile your project with <strong>Debug</strong> variant and output 2 apks(debug + release) in 2 folders.</p>\n"},{"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619531785,"creation_date":1619531381,"answer_id":67284400,"question_id":18487406,"body_markdown":"There is a pretty simple way. You can try the following solution.\r\n    \r\n\r\n    sudo update-alternatives --config java\r\n\r\nAfter updating your java version, let check Gradle current JVM&#39;s version to ensure this change was applied.\r\n\r\n    gradle -v\r\n\r\nFor more details, pls review your `gradlew` file (in Unix-like OS) or `gradlew.bat` file (in Window OS) to see how Gradle config `JAVACMD` variable.\r\n\r\nFor example\r\n```\r\n# Determine the Java command to use to start the JVM.\r\nif [ -n &quot;$JAVA_HOME&quot; ] ; then\r\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n        # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n        JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n    else\r\n        JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\r\n    fi\r\n    if [ ! -x &quot;$JAVACMD&quot; ] ; then\r\n        die &quot;ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.&quot;\r\n    fi\r\nelse\r\n    JAVACMD=&quot;java&quot;\r\n    which java &gt;/dev/null 2&gt;&amp;1 || die &quot;ERROR: JAVA_HOME is not set and no &#39;java&#39; command could be found in your PATH.\r\n\r\nPlease set the JAVA_HOME variable in your environment to match the\r\nlocation of your Java installation.&quot;\r\nfi\r\n```","title":"How do I tell Gradle to use specific JDK version?","body":"<p>There is a pretty simple way. You can try the following solution.</p>\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n<p>After updating your java version, let check Gradle current JVM's version to ensure this change was applied.</p>\n<pre><code>gradle -v\n</code></pre>\n<p>For more details, pls review your <code>gradlew</code> file (in Unix-like OS) or <code>gradlew.bat</code> file (in Window OS) to see how Gradle config <code>JAVACMD</code> variable.</p>\n<p>For example</p>\n<pre><code># Determine the Java command to use to start the JVM.\nif [ -n &quot;$JAVA_HOME&quot; ] ; then\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\n        # IBM's JDK on AIX uses strange locations for the executables\n        JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\n    else\n        JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\n    fi\n    if [ ! -x &quot;$JAVACMD&quot; ] ; then\n        die &quot;ERROR: JAVA_HOME is set to an invalid directory: $JAVA_HOME\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.&quot;\n    fi\nelse\n    JAVACMD=&quot;java&quot;\n    which java &gt;/dev/null 2&gt;&amp;1 || die &quot;ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.&quot;\nfi\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6455298,"reputation":272,"user_id":11080293,"display_name":"IamDOM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653239693,"creation_date":1653239693,"answer_id":72339744,"question_id":18487406,"body_markdown":"Thanks to [this answer][1] I was able to identify that my issue was gradle picking the wrong JDK even if the JAVA_HOME was set correctly.\r\n\r\n**My original comment:**\r\n\r\nMy OS is Linux and I have my JAVA_HOME pointing to the correct path. I have even used this command gradle build -Dorg.gradle.java.home=$JAVA_HOME to prove my point. I&#39;ve installed gradle using snap in Ubuntu and I&#39;m guessing it is using some bundled JDK. \r\n\r\n**My solution:**\r\n\r\nI&#39;ve removed gradle using snap and then I&#39;ve manually installed gradle by downloading their binaries and put it in the PATH.\r\n\r\nMy conclusion is that the gradle snap installation on Ubuntu comes bundled with some older JDK.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37959153/11080293","title":"How do I tell Gradle to use specific JDK version?","body":"<p>Thanks to <a href=\"https://stackoverflow.com/a/37959153/11080293\">this answer</a> I was able to identify that my issue was gradle picking the wrong JDK even if the JAVA_HOME was set correctly.</p>\n<p><strong>My original comment:</strong></p>\n<p>My OS is Linux and I have my JAVA_HOME pointing to the correct path. I have even used this command gradle build -Dorg.gradle.java.home=$JAVA_HOME to prove my point. I've installed gradle using snap in Ubuntu and I'm guessing it is using some bundled JDK.</p>\n<p><strong>My solution:</strong></p>\n<p>I've removed gradle using snap and then I've manually installed gradle by downloading their binaries and put it in the PATH.</p>\n<p>My conclusion is that the gradle snap installation on Ubuntu comes bundled with some older JDK.</p>\n"},{"tags":[],"owner":{"account_id":19894980,"reputation":453,"user_id":14576258,"display_name":"btm me"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1696407614,"creation_date":1653976300,"answer_id":72442809,"question_id":18487406,"body_markdown":"&gt; ***gradle.properties***\r\n\r\n  \r\n      org.gradle.jvmargs=-Xmx1536M\r\n        android.useAndroidX=true\r\n        android.enableJetifier=true\r\n        org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-11.0.15\r\n\r\n    -------------------------------------------------------------------\r\n\r\n   \r\n\r\n&gt;  ***build.gradle***\r\n\r\n     android {\r\n            compileSdkVersion flutter.compileSdkVersion\r\n            ndkVersion flutter.ndkVersion\r\n            compileOptions {\r\n                sourceCompatibility 11\r\n                targetCompatibility 11\r\n            }\r\n            kotlinOptions {\r\n                jvmTarget = &#39;11&#39;\r\n                useIR = true\r\n            }\r\n            sourceSets {\r\n                main.java.srcDirs += &#39;src/main/kotlin&#39;\r\n            }\r\n\r\n\r\nafter flutter3.0 &amp; jdk11 install these steps worked for me \r\n","title":"How do I tell Gradle to use specific JDK version?","body":"<blockquote>\n<p><em><strong>gradle.properties</strong></em></p>\n</blockquote>\n<pre><code>  org.gradle.jvmargs=-Xmx1536M\n    android.useAndroidX=true\n    android.enableJetifier=true\n    org.gradle.java.home=C\\:\\\\Program Files\\\\Java\\\\jdk-11.0.15\n\n-------------------------------------------------------------------\n</code></pre>\n<blockquote>\n<p><em><strong>build.gradle</strong></em></p>\n</blockquote>\n<pre><code> android {\n        compileSdkVersion flutter.compileSdkVersion\n        ndkVersion flutter.ndkVersion\n        compileOptions {\n            sourceCompatibility 11\n            targetCompatibility 11\n        }\n        kotlinOptions {\n            jvmTarget = '11'\n            useIR = true\n        }\n        sourceSets {\n            main.java.srcDirs += 'src/main/kotlin'\n        }\n</code></pre>\n<p>after flutter3.0 &amp; jdk11 install these steps worked for me</p>\n"}],"owner":{"account_id":152625,"reputation":5695,"user_id":367277,"accept_rate":100,"display_name":"bully"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756283,"favorite_count":0,"down_vote_count":0,"up_vote_count":537,"accepted_answer_id":21212790,"answer_count":23,"score":537,"last_activity_date":1696407614,"creation_date":1377691550,"question_id":18487406,"body_markdown":"I can&#39;t figure out to get this working.\r\n\r\nScenario:\r\n\r\n - I have an application built with gradle\r\n - The application uses JavaFX\r\n\r\nWhat I want\r\n\r\n - Use a variable (defined per developer machine) which points to an installation of a JDK which will be used for building the whole application / tests / ...\r\n\r\nI thought about having the `gradle.properties` file, defining the variable. Something like\r\n\r\n    JAVA_HOME_FOR_MY_PROJECT=&lt;path to my desired JDK&gt;\r\n\r\nWhat I don&#39;t want\r\n\r\n - point `JAVA_HOME` to the desired JDK\r\n\r\nI could live with many suggestions:\r\n\r\n - a solution that defines a system environment variable which I&#39;m able to check in my build.gradle script\r\n - a variable defined in gradle.properties\r\n - overriding the JAVA_HOME variable only for the build context (something like `use JAVA_HOME=&lt;my special JDK path defined somewhere else defined&gt;`)\r\n - something else I didn&#39;t think about\r\n\r\nQuestion:\r\n\r\n - How to wire a variable (how ever defined, as variable in the `gradle.properties`, system environment variable, ...) to the build process?\r\n\r\nI have more than one JDK7 available and need to point to a special version (minimum JDK_u version).\r\n\r\nAny answer is appreciated and I&#39;m thankful for every hint to the right direction.","title":"How do I tell Gradle to use specific JDK version?","body":"<p>I can't figure out to get this working.</p>\n\n<p>Scenario:</p>\n\n<ul>\n<li>I have an application built with gradle</li>\n<li>The application uses JavaFX</li>\n</ul>\n\n<p>What I want</p>\n\n<ul>\n<li>Use a variable (defined per developer machine) which points to an installation of a JDK which will be used for building the whole application / tests / ...</li>\n</ul>\n\n<p>I thought about having the <code>gradle.properties</code> file, defining the variable. Something like</p>\n\n<pre><code>JAVA_HOME_FOR_MY_PROJECT=&lt;path to my desired JDK&gt;\n</code></pre>\n\n<p>What I don't want</p>\n\n<ul>\n<li>point <code>JAVA_HOME</code> to the desired JDK</li>\n</ul>\n\n<p>I could live with many suggestions:</p>\n\n<ul>\n<li>a solution that defines a system environment variable which I'm able to check in my build.gradle script</li>\n<li>a variable defined in gradle.properties</li>\n<li>overriding the JAVA_HOME variable only for the build context (something like <code>use JAVA_HOME=&lt;my special JDK path defined somewhere else defined&gt;</code>)</li>\n<li>something else I didn't think about</li>\n</ul>\n\n<p>Question:</p>\n\n<ul>\n<li>How to wire a variable (how ever defined, as variable in the <code>gradle.properties</code>, system environment variable, ...) to the build process?</li>\n</ul>\n\n<p>I have more than one JDK7 available and need to point to a special version (minimum JDK_u version).</p>\n\n<p>Any answer is appreciated and I'm thankful for every hint to the right direction.</p>\n"},{"tags":["java","c++","sysv-ipc"],"comments":[{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1696328206,"post_id":77221347,"comment_id":136135771,"body_markdown":"I doubt you&#39;re doing yourself any favors hashing the key first.","body":"I doubt you&#39;re doing yourself any favors hashing the key first."},{"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"score":0,"creation_date":1696329378,"post_id":77221347,"comment_id":136135954,"body_markdown":"I get it, i&#39;ll look how to get the st_ino and st_dev in a different way and if I still won&#39;t succeed ill update the question","body":"I get it, i&#39;ll look how to get the st_ino and st_dev in a different way and if I still won&#39;t succeed ill update the question"},{"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"score":0,"creation_date":1696330159,"post_id":77221347,"comment_id":136136086,"body_markdown":"in the ` BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);`","body":"in the ` BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);`"},{"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"score":0,"creation_date":1696330793,"post_id":77221347,"comment_id":136136202,"body_markdown":"I found the data that i need inside attributes but I can access it only when i do evaluate expression, any ideas how to solve it?","body":"I found the data that i need inside attributes but I can access it only when i do evaluate expression, any ideas how to solve it?"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696332145,"creation_date":1696330632,"answer_id":77221656,"question_id":77221347,"body_markdown":"OK ... I see what you are attempting.\r\n\r\nIn Java 11, the `hashCode()` method for a `UnixFileKey` returns:\r\n\r\n       return (int)(st_dev ^ (st_dev &gt;&gt;&gt; 32)) +\r\n              (int)(st_ino ^ (st_ino &gt;&gt;&gt; 32));\r\n\r\n... and I guess you are trying to extract the `st_dev` and `st_ino` values from the returned value.\r\n\r\nBut it won&#39;t work.  That is not a reversible computation.\r\n\r\nIf you want to extract the `st_dev` and `st_ino` from a `UnixFileKey`, you will need to break abstraction so that you can access the values of the fields.  This can be done using reflection ... albeit that it is getting increasingly difficult to do this.\r\n\r\nAnother alternative would be to parse the `String` returned by the `toString()` method which (in Java 11) is formed as follows:\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;(dev=&quot;)\r\n          .append(Long.toHexString(st_dev))\r\n          .append(&quot;,ino=&quot;)\r\n          .append(st_ino)\r\n          .append(&#39;)&#39;);\r\n        return sb.toString();\r\n\r\nNote that either way you do this is going to make your code dependent on (unspecified) implementation details of a JDK internal class.   In theory it could break from one Java version to the next.  (These details appear to be unchanged from Java 7 to 17, but YMMV.)","title":"Can I get the values of st_ino and st_dev that used in &lt;sys/stat.h&gt; but in my java code?","body":"<p>OK ... I see what you are attempting.</p>\n<p>In Java 11, the <code>hashCode()</code> method for a <code>UnixFileKey</code> returns:</p>\n<pre><code>   return (int)(st_dev ^ (st_dev &gt;&gt;&gt; 32)) +\n          (int)(st_ino ^ (st_ino &gt;&gt;&gt; 32));\n</code></pre>\n<p>... and I guess you are trying to extract the <code>st_dev</code> and <code>st_ino</code> values from the returned value.</p>\n<p>But it won't work.  That is not a reversible computation.</p>\n<p>If you want to extract the <code>st_dev</code> and <code>st_ino</code> from a <code>UnixFileKey</code>, you will need to break abstraction so that you can access the values of the fields.  This can be done using reflection ... albeit that it is getting increasingly difficult to do this.</p>\n<p>Another alternative would be to parse the <code>String</code> returned by the <code>toString()</code> method which (in Java 11) is formed as follows:</p>\n<pre><code>    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;(dev=&quot;)\n      .append(Long.toHexString(st_dev))\n      .append(&quot;,ino=&quot;)\n      .append(st_ino)\n      .append(')');\n    return sb.toString();\n</code></pre>\n<p>Note that either way you do this is going to make your code dependent on (unspecified) implementation details of a JDK internal class.   In theory it could break from one Java version to the next.  (These details appear to be unchanged from Java 7 to 17, but YMMV.)</p>\n"}],"owner":{"account_id":18884012,"reputation":463,"user_id":13775842,"display_name":"Meyer Buaharon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696407320,"creation_date":1696327870,"question_id":77221347,"body_markdown":"I want to replicate this code part that used to convert file to key in my java project in order to access SharedMemory data.\r\n\r\nso the code in c looks like that:\r\n```cpp\r\nkey_t ftok(const char *path, int id)\r\n{\r\n    struct stat st;\r\n    if (stat(path, &amp;st) &lt; 0) return -1;\r\n    int inode = st.st_ino;\r\n    int dev = st.st_dev;\r\n    return ((st.st_ino &amp; 0xffff) | ((st.st_dev &amp; 0xff) &lt;&lt; 16) | ((id &amp; 0xff) &lt;&lt; 24));\r\n}\r\n```\r\n\r\nand with the use of chatgpt I got this code part, but for some reason the data in the inode and\r\n dev are not the same, so I guess that I cant access the stat properties of a specific file.. I could be wrong.\r\n\r\nThis is the Java code:\r\n```Java\r\ntry {\r\n            Path absolutePath = Paths.get(path).toAbsolutePath();\r\n            BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\r\n\r\n            int st_ino = (int) (attributes.fileKey().hashCode());\r\n            int st_dev = (int) ((attributes.fileKey().hashCode() &gt;&gt; 16));\r\n\r\n            return (st_ino &amp; 0xFFFF) | ((st_dev &amp; 0xFF) &lt;&lt; 16);\r\n        } catch (Exception e) {\r\n            return -1;\r\n        }\r\n```\r\nthe value of the numbers in the st_ino and st_dev are close, but no the exact copy\r\n\r\n\r\nI&#39;ve tried to use BasicFileAttributes to get the same result but unfortunately the numbers are not the same.\r\n\r\nEdit:\r\nThanks for the responses and all the clarifications on the subject. I read what Stephen C did and I did something like this:\r\n```Java\r\nPath absolutePath = Paths.get(path).toAbsolutePath();\r\nBasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\r\nString dev_ino_string = attributes.fileKey().toString();\r\nint st_ino = extractValue(dev_ino_string, &quot;ino&quot;);\r\nint st_dev = extractValue(dev_ino_string, &quot;dev&quot;);\r\n```\r\n(extractValues just get me the value from the toString)\r\nto string response look like this:`(dev=10302,ino=121896961)`\r\nand when I call `attributes.fileKey().toString()` I get this result:\r\n```\r\nst_dev = 66306\r\nst_ino = 121896961\r\n```\r\nnow it&#39;s a bit weird that the dev that i get is not the same in the tostring so I&#39;ll keep digging into it and look for an answer.\r\n\r\nEdit 2:\r\nThis is what I see when I evaluate\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Awskh.png\r\n\r\nAnd I cant simply extract the values with:\r\n`attributes.fileKey().st_dev`\r\nis there a way to bypass it and get the values?","title":"Can I get the values of st_ino and st_dev that used in &lt;sys/stat.h&gt; but in my java code?","body":"<p>I want to replicate this code part that used to convert file to key in my java project in order to access SharedMemory data.</p>\n<p>so the code in c looks like that:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>key_t ftok(const char *path, int id)\n{\n    struct stat st;\n    if (stat(path, &amp;st) &lt; 0) return -1;\n    int inode = st.st_ino;\n    int dev = st.st_dev;\n    return ((st.st_ino &amp; 0xffff) | ((st.st_dev &amp; 0xff) &lt;&lt; 16) | ((id &amp; 0xff) &lt;&lt; 24));\n}\n</code></pre>\n<p>and with the use of chatgpt I got this code part, but for some reason the data in the inode and\ndev are not the same, so I guess that I cant access the stat properties of a specific file.. I could be wrong.</p>\n<p>This is the Java code:</p>\n<pre><code>try {\n            Path absolutePath = Paths.get(path).toAbsolutePath();\n            BasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\n\n            int st_ino = (int) (attributes.fileKey().hashCode());\n            int st_dev = (int) ((attributes.fileKey().hashCode() &gt;&gt; 16));\n\n            return (st_ino &amp; 0xFFFF) | ((st_dev &amp; 0xFF) &lt;&lt; 16);\n        } catch (Exception e) {\n            return -1;\n        }\n</code></pre>\n<p>the value of the numbers in the st_ino and st_dev are close, but no the exact copy</p>\n<p>I've tried to use BasicFileAttributes to get the same result but unfortunately the numbers are not the same.</p>\n<p>Edit:\nThanks for the responses and all the clarifications on the subject. I read what Stephen C did and I did something like this:</p>\n<pre><code>Path absolutePath = Paths.get(path).toAbsolutePath();\nBasicFileAttributes attributes = Files.readAttributes(absolutePath, BasicFileAttributes.class);\nString dev_ino_string = attributes.fileKey().toString();\nint st_ino = extractValue(dev_ino_string, &quot;ino&quot;);\nint st_dev = extractValue(dev_ino_string, &quot;dev&quot;);\n</code></pre>\n<p>(extractValues just get me the value from the toString)\nto string response look like this:<code>(dev=10302,ino=121896961)</code>\nand when I call <code>attributes.fileKey().toString()</code> I get this result:</p>\n<pre><code>st_dev = 66306\nst_ino = 121896961\n</code></pre>\n<p>now it's a bit weird that the dev that i get is not the same in the tostring so I'll keep digging into it and look for an answer.</p>\n<p>Edit 2:\nThis is what I see when I evaluate\n<a href=\"https://i.stack.imgur.com/Awskh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Awskh.png\" alt=\"enter image description here\" /></a></p>\n<p>And I cant simply extract the values with:\n<code>attributes.fileKey().st_dev</code>\nis there a way to bypass it and get the values?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696403175,"post_id":77227438,"comment_id":136146502,"body_markdown":"what is this `class InnerDig` ?","body":"what is this <code>class InnerDig</code> ?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1696403907,"post_id":77227438,"comment_id":136146652,"body_markdown":"@FedericoklezCulloca Actually we can, that is what we call [*local class*](https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html). Syntaxtical problem here is that `while` loop is placed directly inside that local class, instead of wrapping it in its method/constructor/initialization block. Or we can just remove that `class InnerDig` since it is never *used*.","body":"@FedericoklezCulloca Actually we can, that is what we call <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/localclasses.html\" rel=\"nofollow noreferrer\"><i>local class</i></a>. Syntaxtical problem here is that <code>while</code> loop is placed directly inside that local class, instead of wrapping it in its method/constructor/initialization block. Or we can just remove that <code>class InnerDig</code> since it is never <i>used</i>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1696403995,"post_id":77227438,"comment_id":136146672,"body_markdown":"@Pshemo huh, TIL. I never saw that.","body":"@Pshemo huh, TIL. I never saw that."}],"answers":[{"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696407313,"creation_date":1696407313,"answer_id":77227893,"question_id":77227438,"body_markdown":"Not sure what you are trying to achieve here. There are 2 problems with that code snippet. \r\n1. You can not write a control statement(if, switch, for, while, do-while, etc) outside a method or an initializer block. So, the while loop inside the class body `InnerDig` is not valid.\r\n2. Even if you put the loop inside a method inside the inner class, it still would not compile as inside local inner class, a variable(`count` in this scenario) from the container method (`digit`) can only be accessed if it is final or effectively final. ","title":"Syntax error, insert &quot;ClassBody&quot; to complete ClassDeclaration","body":"<p>Not sure what you are trying to achieve here. There are 2 problems with that code snippet.</p>\n<ol>\n<li>You can not write a control statement(if, switch, for, while, do-while, etc) outside a method or an initializer block. So, the while loop inside the class body <code>InnerDig</code> is not valid.</li>\n<li>Even if you put the loop inside a method inside the inner class, it still would not compile as inside local inner class, a variable(<code>count</code> in this scenario) from the container method (<code>digit</code>) can only be accessed if it is final or effectively final.</li>\n</ol>\n"}],"owner":{"account_id":28516347,"reputation":1,"user_id":21825651,"display_name":"Divya Prakash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1696587212,"answer_count":1,"score":-2,"last_activity_date":1696407313,"creation_date":1696403048,"question_id":77227438,"body_markdown":"    package numberquebymethod;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class NoOfDigit \r\n    {\r\n    \tpublic  int digit(int num)\r\n    \t{\r\n    \t\tint count=0;\r\n    \t\tclass InnerDig\r\n    \t\t{\r\n    \t\t\twhile(num!=0)\r\n    \t\t\t{\r\n    \t\t\t\tcount++;\r\n    \t\t\t\tnum=num/10;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter a number:&quot;);\r\n    \t\tint num=sc.nextInt();\r\n            NoOfDigit ndg=new NoOfDigit();\r\n            System.out.println(ndg.digit(num));\r\n    \t}\r\n    }\r\n    \r\n    //Getting error in line:Class InnerDig","title":"Syntax error, insert &quot;ClassBody&quot; to complete ClassDeclaration","body":"<pre><code>package numberquebymethod;\n\nimport java.util.Scanner;\n\npublic class NoOfDigit \n{\n    public  int digit(int num)\n    {\n        int count=0;\n        class InnerDig\n        {\n            while(num!=0)\n            {\n                count++;\n                num=num/10;\n            }\n        }\n        return count;\n    }\n    public static void main(String args[])\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(&quot;Enter a number:&quot;);\n        int num=sc.nextInt();\n        NoOfDigit ndg=new NoOfDigit();\n        System.out.println(ndg.digit(num));\n    }\n}\n\n//Getting error in line:Class InnerDig\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696407207,"creation_date":1696407207,"answer_id":77227883,"question_id":77227768,"body_markdown":"&gt; How can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:\r\n\r\nYou can use a custom Converter, which is a Spring Data MongoDB component. It is used to serialise and deserialise objects to and from BSON documents.\r\n\r\nYou can see the example:\r\n```\r\npublic class CustomPropertyConverter implements Converter&lt;MyProperty, String&gt; {\r\n\r\n    @Override\r\n    public String convert(MyProperty source) {\r\n        return source.getString();\r\n    }\r\n\r\n    @Override\r\n    public MyProperty reverse(String source) {\r\n        MyProperty myProperty = new MyProperty();\r\n        myProperty.setString(source);\r\n        return myProperty;\r\n    }\r\n}\r\n```\r\n\r\nFurthermore you need to register this converter with Spring Data MongoDB:\r\n\r\n```\r\n@Document(collection = &quot;my_entity&quot;)\r\npublic class MyEntity {\r\n\r\n    @Convert(CustomPropertyConverter)\r\n    private MyProperty myProperty;\r\n\r\n    //...\r\n}\r\n```\r\n\r\nP.s.\r\nI hope it can help you.\r\n\r\nLet me know if it works for you, please.","title":"How to save complex type property as String in a Spring Data MongoDB entity","body":"<blockquote>\n<p>How can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:</p>\n</blockquote>\n<p>You can use a custom Converter, which is a Spring Data MongoDB component. It is used to serialise and deserialise objects to and from BSON documents.</p>\n<p>You can see the example:</p>\n<pre><code>public class CustomPropertyConverter implements Converter&lt;MyProperty, String&gt; {\n\n    @Override\n    public String convert(MyProperty source) {\n        return source.getString();\n    }\n\n    @Override\n    public MyProperty reverse(String source) {\n        MyProperty myProperty = new MyProperty();\n        myProperty.setString(source);\n        return myProperty;\n    }\n}\n</code></pre>\n<p>Furthermore you need to register this converter with Spring Data MongoDB:</p>\n<pre><code>@Document(collection = &quot;my_entity&quot;)\npublic class MyEntity {\n\n    @Convert(CustomPropertyConverter)\n    private MyProperty myProperty;\n\n    //...\n}\n</code></pre>\n<p>P.s.\nI hope it can help you.</p>\n<p>Let me know if it works for you, please.</p>\n"}],"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696407207,"creation_date":1696406279,"question_id":77227768,"body_markdown":"In my Spring Data MongoDB project I have a following POJO:\r\n\r\n       @Document(collection = &quot;my_entity&quot;)\r\n       public class MyEntity {\r\n           private MyProperty myProperty;\r\n       }\r\n\r\nwhere MyProperty:\r\n\r\n       public class MyProperty implements Serializable {\r\n            private String string;\r\n       }\r\n\r\nWhen I save instance of such Entiry then in MongoDB it become as following:\r\n\r\n    { &quot;_id&quot; : ...,\r\n      &quot;myProperty&quot; : {\r\n    \t\t&quot;string&quot; : &quot;...&quot;\r\n      }\r\n    }\r\n\r\nHow can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:\r\n\r\n    { \r\n      &quot;myProperty&quot; : &quot;...&quot;\r\n    }\r\n\r\n","title":"How to save complex type property as String in a Spring Data MongoDB entity","body":"<p>In my Spring Data MongoDB project I have a following POJO:</p>\n<pre><code>   @Document(collection = &quot;my_entity&quot;)\n   public class MyEntity {\n       private MyProperty myProperty;\n   }\n</code></pre>\n<p>where MyProperty:</p>\n<pre><code>   public class MyProperty implements Serializable {\n        private String string;\n   }\n</code></pre>\n<p>When I save instance of such Entiry then in MongoDB it become as following:</p>\n<pre><code>{ &quot;_id&quot; : ...,\n  &quot;myProperty&quot; : {\n        &quot;string&quot; : &quot;...&quot;\n  }\n}\n</code></pre>\n<p>How can I have the property &quot;myProperty&quot; saved in such form instead of above, please?:</p>\n<pre><code>{ \n  &quot;myProperty&quot; : &quot;...&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2266637,"reputation":1512,"user_id":1995130,"display_name":"dubonzi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445871247,"creation_date":1445867008,"answer_id":33347303,"question_id":33318257,"body_markdown":"Spring Data offers basic sorting as seen [here][1]. You can also annotate your query with `@Query` and use `order by`, but I believe what you need is a more complex sorting logic.\r\n\r\nIf youre using Java 8 you can use its features to sort your list, [this][2] article shows good examples of that, it takes a bit more work but seems like what you&#39;re after. Note that in order to convert from `stream` to `list` you have to include  `.collect(Collectors.toList());` at the end of the `stream`. \r\n\r\nExample(taken from the article): \r\n\r\n    employees.stream().sorted((Employee e1, Employee e2) -&gt; e1.getHireDate()\r\n                            .compareTo(e2.getHireDate())).collect(Collectors.toList());\r\n\r\n\r\n**Edit**: I didn&#39;t notice you were using pagination. I had a similar problem where I had to do something with the page contents before returning the `Page` object, so I ended up creating an extension of the `PageImpl&lt;T&gt;` class:\r\n\r\n    public class PageImplBean&lt;T&gt; extends PageImpl&lt;T&gt; {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private int number;\r\n        private int size;\r\n        private int totalPages;\r\n        private int numberOfElements;\r\n        private long totalElements;\r\n        private boolean previousPage;\r\n        private boolean first;\r\n        private boolean nextPage;\r\n        private boolean last;\r\n        private List&lt;T&gt; content;\r\n        @JsonIgnore\r\n        private Sort sort;\r\n    \r\n        public PageImplBean() {\r\n            super(new ArrayList&lt;T&gt;());\r\n        }\r\n    \r\n        public PageImplBean(Page pagina){\r\n            super(new ArrayList&lt;T&gt;());\r\n            this.number = pagina.getNumber();\r\n            this.size = pagina.getSize();\r\n            this.totalPages = pagina.getTotalPages();\r\n            this.numberOfElements = pagina.getNumberOfElements();\r\n            this.totalElements = pagina.getTotalElements();\r\n            this.previousPage = pagina.hasPrevious();\r\n            this.first = pagina.isFirst();\r\n            this.nextPage = pagina.hasNext();\r\n            this.last = pagina.isLast();\r\n        }\r\n    \r\n        public int getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(int number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public int getSize() {\r\n            return size;\r\n        }\r\n    \r\n        public void setSize(int size) {\r\n            this.size = size;\r\n        }\r\n    \r\n        public int getTotalPages() {\r\n            return totalPages;\r\n        }\r\n    \r\n        public void setTotalPages(int totalPages) {\r\n            this.totalPages = totalPages;\r\n        }\r\n    \r\n        public int getNumberOfElements() {\r\n            return numberOfElements;\r\n        }\r\n    \r\n        public void setNumberOfElements(int numberOfElements) {\r\n            this.numberOfElements = numberOfElements;\r\n        }\r\n    \r\n        public long getTotalElements() {\r\n            return totalElements;\r\n        }\r\n    \r\n        public void setTotalElements(long totalElements) {\r\n            this.totalElements = totalElements;\r\n        }\r\n    \r\n        public boolean isPreviousPage() {\r\n            return previousPage;\r\n        }\r\n    \r\n        public void setPreviousPage(boolean previousPage) {\r\n            this.previousPage = previousPage;\r\n        }\r\n    \r\n        public boolean isFirst() {\r\n            return first;\r\n        }\r\n    \r\n        public void setFirst(boolean first) {\r\n            this.first = first;\r\n        }\r\n    \r\n        public boolean isNextPage() {\r\n            return nextPage;\r\n        }\r\n    \r\n        public void setNextPage(boolean nextPage) {\r\n            this.nextPage = nextPage;\r\n        }\r\n    \r\n        public boolean isLast() {\r\n            return last;\r\n        }\r\n    \r\n        public void setLast(boolean last) {\r\n            this.last = last;\r\n        }\r\n    \r\n        public List&lt;T&gt; getContent() {\r\n            return content;\r\n        }\r\n    \r\n        public void setContent(List&lt;T&gt; content) {\r\n            this.content = content;\r\n        }\r\n    \r\n        public Sort getSort() {\r\n            return sort;\r\n        }\r\n    \r\n        public void setSort(Sort sort) {\r\n            this.sort = sort;\r\n        }\r\n    \r\n        public PageImpl&lt;T&gt; pageImpl() {\r\n            return new PageImpl&lt;T&gt;(getContent(), new PageRequest(getNumber(),\r\n                    getSize(), getSort()), getTotalElements());\r\n        }\r\n    }\r\n\r\nWhat&#39;s important here in your case is the `setContent` method which doesnt exist in the base class. You can use that with your sorting method:\r\n\r\n    PageImplBean&lt;Thing&gt; page = //call your rest repository\r\n    List&lt;Thing&gt; pageContent = page.getContent();\r\n    page.setContent(sortByRating(pageContent));\r\n\r\n  [1]: http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-six-sorting/\r\n  [2]: http://www.leveluplunch.com/java/tutorials/007-sort-arraylist-stream-of-objects-in-java8/","title":"Spring Data JPA - Custom Sort in JpaRepository","body":"<p>Spring Data offers basic sorting as seen <a href=\"http://www.petrikainulainen.net/programming/spring-framework/spring-data-jpa-tutorial-part-six-sorting/\" rel=\"nofollow\">here</a>. You can also annotate your query with <code>@Query</code> and use <code>order by</code>, but I believe what you need is a more complex sorting logic.</p>\n\n<p>If youre using Java 8 you can use its features to sort your list, <a href=\"http://www.leveluplunch.com/java/tutorials/007-sort-arraylist-stream-of-objects-in-java8/\" rel=\"nofollow\">this</a> article shows good examples of that, it takes a bit more work but seems like what you're after. Note that in order to convert from <code>stream</code> to <code>list</code> you have to include  <code>.collect(Collectors.toList());</code> at the end of the <code>stream</code>. </p>\n\n<p>Example(taken from the article): </p>\n\n<pre><code>employees.stream().sorted((Employee e1, Employee e2) -&gt; e1.getHireDate()\n                        .compareTo(e2.getHireDate())).collect(Collectors.toList());\n</code></pre>\n\n<p><strong>Edit</strong>: I didn't notice you were using pagination. I had a similar problem where I had to do something with the page contents before returning the <code>Page</code> object, so I ended up creating an extension of the <code>PageImpl&lt;T&gt;</code> class:</p>\n\n<pre><code>public class PageImplBean&lt;T&gt; extends PageImpl&lt;T&gt; {\n\n    private static final long serialVersionUID = 1L;\n    private int number;\n    private int size;\n    private int totalPages;\n    private int numberOfElements;\n    private long totalElements;\n    private boolean previousPage;\n    private boolean first;\n    private boolean nextPage;\n    private boolean last;\n    private List&lt;T&gt; content;\n    @JsonIgnore\n    private Sort sort;\n\n    public PageImplBean() {\n        super(new ArrayList&lt;T&gt;());\n    }\n\n    public PageImplBean(Page pagina){\n        super(new ArrayList&lt;T&gt;());\n        this.number = pagina.getNumber();\n        this.size = pagina.getSize();\n        this.totalPages = pagina.getTotalPages();\n        this.numberOfElements = pagina.getNumberOfElements();\n        this.totalElements = pagina.getTotalElements();\n        this.previousPage = pagina.hasPrevious();\n        this.first = pagina.isFirst();\n        this.nextPage = pagina.hasNext();\n        this.last = pagina.isLast();\n    }\n\n    public int getNumber() {\n        return number;\n    }\n\n    public void setNumber(int number) {\n        this.number = number;\n    }\n\n    public int getSize() {\n        return size;\n    }\n\n    public void setSize(int size) {\n        this.size = size;\n    }\n\n    public int getTotalPages() {\n        return totalPages;\n    }\n\n    public void setTotalPages(int totalPages) {\n        this.totalPages = totalPages;\n    }\n\n    public int getNumberOfElements() {\n        return numberOfElements;\n    }\n\n    public void setNumberOfElements(int numberOfElements) {\n        this.numberOfElements = numberOfElements;\n    }\n\n    public long getTotalElements() {\n        return totalElements;\n    }\n\n    public void setTotalElements(long totalElements) {\n        this.totalElements = totalElements;\n    }\n\n    public boolean isPreviousPage() {\n        return previousPage;\n    }\n\n    public void setPreviousPage(boolean previousPage) {\n        this.previousPage = previousPage;\n    }\n\n    public boolean isFirst() {\n        return first;\n    }\n\n    public void setFirst(boolean first) {\n        this.first = first;\n    }\n\n    public boolean isNextPage() {\n        return nextPage;\n    }\n\n    public void setNextPage(boolean nextPage) {\n        this.nextPage = nextPage;\n    }\n\n    public boolean isLast() {\n        return last;\n    }\n\n    public void setLast(boolean last) {\n        this.last = last;\n    }\n\n    public List&lt;T&gt; getContent() {\n        return content;\n    }\n\n    public void setContent(List&lt;T&gt; content) {\n        this.content = content;\n    }\n\n    public Sort getSort() {\n        return sort;\n    }\n\n    public void setSort(Sort sort) {\n        this.sort = sort;\n    }\n\n    public PageImpl&lt;T&gt; pageImpl() {\n        return new PageImpl&lt;T&gt;(getContent(), new PageRequest(getNumber(),\n                getSize(), getSort()), getTotalElements());\n    }\n}\n</code></pre>\n\n<p>What's important here in your case is the <code>setContent</code> method which doesnt exist in the base class. You can use that with your sorting method:</p>\n\n<pre><code>PageImplBean&lt;Thing&gt; page = //call your rest repository\nList&lt;Thing&gt; pageContent = page.getContent();\npage.setContent(sortByRating(pageContent));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7322363,"reputation":292,"user_id":6597476,"display_name":"Leonardo Ramos Duarte"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1558998357,"creation_date":1558998357,"answer_id":56333281,"question_id":33318257,"body_markdown":"You can customize your object page(Pageable). If you get data of request:\r\n```java\r\npublic PageRequest customSort(Args...) {\r\n    String[] newParams = {&quot;newParam&quot;};\r\n    Sort sort = page.getSort();\r\n    Sort.Order dataSort =\r\n        sort.iterator().next();\r\n    Sort newSort = Sort.by(dataSort.getDirection(), newParams);\r\n    return PageRequest.of(page.getPageNumber(), this.getPageSize(), newSort);\r\n}\r\n```\r\n\r\nSQL Before:\r\n```sql\r\norder by oldParam ASC/DESC;\r\n```\r\nSQL After:\r\n```sql\r\norder by newParam ASC/DESC;\r\n```","title":"Spring Data JPA - Custom Sort in JpaRepository","body":"<p>You can customize your object page(Pageable). If you get data of request:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public PageRequest customSort(Args...) {\n    String[] newParams = {\"newParam\"};\n    Sort sort = page.getSort();\n    Sort.Order dataSort =\n        sort.iterator().next();\n    Sort newSort = Sort.by(dataSort.getDirection(), newParams);\n    return PageRequest.of(page.getPageNumber(), this.getPageSize(), newSort);\n}\n</code></pre>\n\n<p>SQL Before:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>order by oldParam ASC/DESC;\n</code></pre>\n\n<p>SQL After:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>order by newParam ASC/DESC;\n</code></pre>\n"}],"owner":{"account_id":1155426,"reputation":5925,"user_id":2442740,"accept_rate":73,"display_name":"Christos Baziotis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13058,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1696406465,"creation_date":1445690056,"question_id":33318257,"body_markdown":"I am using Spring Data JPA with Spring Data REST and i have created a JpaRepository for my `Thing` entity.\r\n\r\n    @Repository\r\n    public interface ThingRepository extends JpaRepository&lt;Thing, Long&gt; {\r\n    \r\n        @RestResource(path = &quot;findByName&quot;, rel = &quot;findByName&quot;)\r\n        Page findByName(@Param(&quot;name&quot;) String name, Pageable page);\r\n    \r\n    }\r\n\r\nI want to apply sorting. I want to sort the `Thing` List based on a custom rating  algorithm. \r\n\r\n    List&lt;Thing&gt; sortByRating(List&lt;Thing&gt; things){\r\n\r\n        // custom logic\r\n\r\n        return things;\r\n    };\r\n\r\nI would like if possible to use a custom function in order to sort the results. What is the best approach to this kind of thing in Spring JPA? How can i make my Repository use my function to sort the result set?\r\n","title":"Spring Data JPA - Custom Sort in JpaRepository","body":"<p>I am using Spring Data JPA with Spring Data REST and i have created a JpaRepository for my <code>Thing</code> entity.</p>\n\n<pre><code>@Repository\npublic interface ThingRepository extends JpaRepository&lt;Thing, Long&gt; {\n\n    @RestResource(path = \"findByName\", rel = \"findByName\")\n    Page findByName(@Param(\"name\") String name, Pageable page);\n\n}\n</code></pre>\n\n<p>I want to apply sorting. I want to sort the <code>Thing</code> List based on a custom rating  algorithm. </p>\n\n<pre><code>List&lt;Thing&gt; sortByRating(List&lt;Thing&gt; things){\n\n    // custom logic\n\n    return things;\n};\n</code></pre>\n\n<p>I would like if possible to use a custom function in order to sort the results. What is the best approach to this kind of thing in Spring JPA? How can i make my Repository use my function to sort the result set?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","uuid"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1696401156,"post_id":77227216,"comment_id":136146202,"body_markdown":"*in most cases, the SELECT will not return any duplicate data,* then catch the Exception?","body":"<i>in most cases, the SELECT will not return any duplicate data,</i> then catch the Exception?"},{"owner":{"account_id":7675502,"reputation":209,"user_id":5816527,"display_name":"Tobias Horst"},"score":1,"creation_date":1696401216,"post_id":77227216,"comment_id":136146208,"body_markdown":"The answer depends on your use case. However, why you then need a unique key for a record if duplication is acceptable? Think about what you want to achieve.","body":"The answer depends on your use case. However, why you then need a unique key for a record if duplication is acceptable? Think about what you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696401292,"creation_date":1696401292,"answer_id":77227285,"question_id":77227216,"body_markdown":"No, if the database has a unique primary key constraint, then attempting a duplicate insertion will raise an exception. \r\n\r\nYou will need to add code to handle the exception. Typically such code would calculate a new UUID then retry the insert.","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>No, if the database has a unique primary key constraint, then attempting a duplicate insertion will raise an exception.</p>\n<p>You will need to add code to handle the exception. Typically such code would calculate a new UUID then retry the insert.</p>\n"},{"tags":[],"owner":{"account_id":24764960,"reputation":11,"user_id":18648894,"display_name":"bebo969"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696405333,"creation_date":1696401826,"answer_id":77227332,"question_id":77227216,"body_markdown":"It is a more optimal solution to handle exceptions than to place an unnecessary query in the code. What also needs to be resolved is that the exceptions for duplication must be handled separately from other database exceptions. For example, check the Exception message in the catch case:\r\n\r\n    catch (Exception e) {\r\n      if (e.getMessage().contains(&quot;Duplicate&quot;)) { ... }\r\n      else { ... }\r\n    }\r\n\r\n\r\nOr, as Ziv suggested in the comment, you can catch specified exceptions. In this case SQLIntegrityConstraintViolationException will be thrown (or its subclass, but it depends of the driver vendor).","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>It is a more optimal solution to handle exceptions than to place an unnecessary query in the code. What also needs to be resolved is that the exceptions for duplication must be handled separately from other database exceptions. For example, check the Exception message in the catch case:</p>\n<pre><code>catch (Exception e) {\n  if (e.getMessage().contains(&quot;Duplicate&quot;)) { ... }\n  else { ... }\n}\n</code></pre>\n<p>Or, as Ziv suggested in the comment, you can catch specified exceptions. In this case SQLIntegrityConstraintViolationException will be thrown (or its subclass, but it depends of the driver vendor).</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696405918,"creation_date":1696405918,"answer_id":77227731,"question_id":77227216,"body_markdown":"You can combine the `select` check with the `insert` to avoid an error by only inserting when there isn&#39;t already a row for the key:\r\n\r\n```\r\ninsert into mytable\r\nselect\r\n   id_value,\r\n   col2_value,\r\n   col3_value\r\nfrom dual\r\nwhere not exists (select * from mytable where id = id_value)\r\n```\r\n\r\nCode this as a `@NativeQuery`.\r\n\r\nSome databases don&#39;t require `from dual` (eg postgres).\r\n","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>You can combine the <code>select</code> check with the <code>insert</code> to avoid an error by only inserting when there isn't already a row for the key:</p>\n<pre><code>insert into mytable\nselect\n   id_value,\n   col2_value,\n   col3_value\nfrom dual\nwhere not exists (select * from mytable where id = id_value)\n</code></pre>\n<p>Code this as a <code>@NativeQuery</code>.</p>\n<p>Some databases don't require <code>from dual</code> (eg postgres).</p>\n"}],"owner":{"account_id":22260524,"reputation":119,"user_id":16492009,"display_name":"Ziv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696405918,"creation_date":1696400651,"question_id":77227216,"body_markdown":"I am currently using Java with Spring Boot and Spring Data JPA to connect to a database. \r\nIn my table, there is a `UUID` column with a Unique Key constraint. \r\n\r\nMy question is, do I need to perform a SELECT before an INSERT to check for any duplicates to avoid an Exception upon insertion? However, in most cases, the SELECT will not return any duplicate data, which makes me feel like it&#39;s a wasted query. \r\n\r\nShould I nevertheless perform a SELECT before every INSERT to ensure that data is not duplicated, even for the rare cases where it might happen?","title":"Do I need to check if the data exists through SELECT before INSERT?","body":"<p>I am currently using Java with Spring Boot and Spring Data JPA to connect to a database.\nIn my table, there is a <code>UUID</code> column with a Unique Key constraint.</p>\n<p>My question is, do I need to perform a SELECT before an INSERT to check for any duplicates to avoid an Exception upon insertion? However, in most cases, the SELECT will not return any duplicate data, which makes me feel like it's a wasted query.</p>\n<p>Should I nevertheless perform a SELECT before every INSERT to ensure that data is not duplicated, even for the rare cases where it might happen?</p>\n"},{"tags":["java","intellij-idea","java-10","javacompiler"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1540862116,"creation_date":1540862116,"answer_id":53056039,"question_id":53053587,"body_markdown":"You can update the Java Compiler version of your module to be executed to use Java version 10 with the following settings :\r\n\r\n***Build, Execution, Deployment =&gt; Compiler =&gt; Java Compiler =&gt; Update Target Bytecode version***\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the image above you can notice that the modules *guice* and *hbase* are defaulting to use Java version 5 while I&#39;ve updated the others to use Java version 11 which is when compiling and executing them with JDK 11 works just fine.\r\n\r\n  [1]: https://i.stack.imgur.com/BZnVq.png","title":"How to avoid IntelliJ to reset language level?","body":"<p>You can update the Java Compiler version of your module to be executed to use Java version 10 with the following settings :</p>\n\n<p><strong><em>Build, Execution, Deployment => Compiler => Java Compiler => Update Target Bytecode version</em></strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/BZnVq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BZnVq.png\" alt=\"enter image description here\"></a></p>\n\n<p>In the image above you can notice that the modules <em>guice</em> and <em>hbase</em> are defaulting to use Java version 5 while I've updated the others to use Java version 11 which is when compiling and executing them with JDK 11 works just fine.</p>\n"},{"tags":[],"owner":{"account_id":1330960,"reputation":1383,"user_id":1274890,"display_name":"R Sun"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1696405747,"creation_date":1591785473,"answer_id":62301498,"question_id":53053587,"body_markdown":"In my case, I had to update value in `pom.xml` &amp; refreshing maven.\r\n\r\n```xml\r\n&lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```","title":"How to avoid IntelliJ to reset language level?","body":"<p>In my case, I had to update value in <code>pom.xml</code> &amp; refreshing maven.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19110681,"reputation":21,"user_id":13956753,"display_name":"avenchoi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696405791,"creation_date":1595141973,"answer_id":62977235,"question_id":53053587,"body_markdown":"I just update the `pom.xml` and it works for me.\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;source&gt;1.11&lt;/source&gt;\r\n        &lt;target&gt;1.11&lt;/target&gt;\r\n        &lt;release&gt;11&lt;/release&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```","title":"How to avoid IntelliJ to reset language level?","body":"<p>I just update the <code>pom.xml</code> and it works for me.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;source&gt;1.11&lt;/source&gt;\n        &lt;target&gt;1.11&lt;/target&gt;\n        &lt;release&gt;11&lt;/release&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":7924913,"reputation":2565,"user_id":5984627,"accept_rate":67,"display_name":"jactor-rises"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6595,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":53056039,"answer_count":3,"score":12,"last_activity_date":1696405791,"creation_date":1540846164,"question_id":53053587,"body_markdown":"I am having troubles with this which have been answered dusin of times on this site.\n\nMy take on the problem is a bit different. I have a project which builds fine using maven 3.5.x and java release 10 (configured in the maven-compiler-plugin)\nWhen looking in IntelliJ&#39;s project structure, all modules have language level 10 (but the projects settings is language level 6 and the chosen sdk in the project structure is 1.8...\n\nHowever, even if I change the sdk to java 10 and the projects language level to 10, the error pasted below still occurs... ????\n\nMy IntelliJ version: IntelliJ IDEA 2018.2.5\n\nTo reproduce this error:\n\n * Check out from version control (GIT)\n * GitHub: https://github.com/jactor-rises/jactor-rises.git\n\n   Try to build it within IntelliJ:\n\n&gt; Information:java: Errors occurred while compiling module\n&gt; &#39;jactor-commons&#39; Information:javac 10.0.1 was used to compile java\n&gt; sources Information:29/10/2018, 21:31 - Compilation completed with 1\n&gt; error and 0 warnings in 4 s 777 ms Error:java: release version 5 not\n&gt; supported\n\n","title":"How to avoid IntelliJ to reset language level?","body":"<p>I am having troubles with this which have been answered dusin of times on this site.</p>\n<p>My take on the problem is a bit different. I have a project which builds fine using maven 3.5.x and java release 10 (configured in the maven-compiler-plugin)\nWhen looking in IntelliJ's project structure, all modules have language level 10 (but the projects settings is language level 6 and the chosen sdk in the project structure is 1.8...</p>\n<p>However, even if I change the sdk to java 10 and the projects language level to 10, the error pasted below still occurs... ????</p>\n<p>My IntelliJ version: IntelliJ IDEA 2018.2.5</p>\n<p>To reproduce this error:</p>\n<ul>\n<li><p>Check out from version control (GIT)</p>\n</li>\n<li><p>GitHub: <a href=\"https://github.com/jactor-rises/jactor-rises.git\" rel=\"noreferrer\">https://github.com/jactor-rises/jactor-rises.git</a></p>\n<p>Try to build it within IntelliJ:</p>\n</li>\n</ul>\n<blockquote>\n<p>Information:java: Errors occurred while compiling module\n'jactor-commons' Information:javac 10.0.1 was used to compile java\nsources Information:29/10/2018, 21:31 - Compilation completed with 1\nerror and 0 warnings in 4 s 777 ms Error:java: release version 5 not\nsupported</p>\n</blockquote>\n"},{"tags":["java","conditional-statements"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":5,"creation_date":1696400326,"post_id":77227179,"comment_id":136146041,"body_markdown":"The `else` clause only applies to `if(a==b)` , maybe what you need is `else if(a==b)` .","body":"The <code>else</code> clause only applies to <code>if(a==b)</code> , maybe what you need is <code>else if(a==b)</code> ."},{"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"score":1,"creation_date":1696400382,"post_id":77227179,"comment_id":136146051,"body_markdown":"You need `else if (a == b)`. a &gt; b prints for 30, then you&#39;re checking if numbers are equal, which are not, so the else branch prints for 5.","body":"You need <code>else if (a == b)</code>. a &gt; b prints for 30, then you&#39;re checking if numbers are equal, which are not, so the else branch prints for 5."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438159,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1696400439,"creation_date":1696400439,"answer_id":77227199,"question_id":77227179,"body_markdown":"Your `if (a &gt; b)` statement is *entirely* separate from the following statements. Here&#39;s a way of demonstrating that, adding more code between the two:\r\n\r\n```java\r\nif (a &gt; b) {\r\n    System.out.println(&quot;the greatest number is &quot; + a);\r\n}\r\n\r\nSystem.out.println(&quot;Note how unrelated the code before and after is...&quot;);\r\n\r\nif (a == b) {\r\n    System.out.println(&quot;both are equal numbers&quot;);\r\n} else {\r\n    System.out.println(&quot;the greatest number is &quot; + b);\r\n}\r\n```\r\n\r\nYour list of conditions would be more clearly written as:\r\n\r\n- if (a&gt;b) : a is greater than b\r\n- *Otherwise*, if(a==b) : both are equal\r\n- *Otherwise*, b is greater than a\r\n\r\nThat makes it clear that you actually need an &quot;else if&quot; in the middle:\r\n\r\n```java\r\nif (a &gt; b) {\r\n    System.out.println(&quot;the greatest number is &quot; + a);\r\n} else if (a == b) {\r\n    System.out.println(&quot;both are equal numbers&quot;);\r\n} else {\r\n    System.out.println(&quot;the greatest number is &quot; + b);\r\n}\r\n```\r\n\r\nAt this point, the three branches are tightly linked to each other - you can&#39;t put that extra statement before &quot;else if&quot; (but outside the first &quot;if&quot; block) because the &quot;else if&quot; is joined to the first &quot;if&quot;.","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>Your <code>if (a &gt; b)</code> statement is <em>entirely</em> separate from the following statements. Here's a way of demonstrating that, adding more code between the two:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (a &gt; b) {\n    System.out.println(&quot;the greatest number is &quot; + a);\n}\n\nSystem.out.println(&quot;Note how unrelated the code before and after is...&quot;);\n\nif (a == b) {\n    System.out.println(&quot;both are equal numbers&quot;);\n} else {\n    System.out.println(&quot;the greatest number is &quot; + b);\n}\n</code></pre>\n<p>Your list of conditions would be more clearly written as:</p>\n<ul>\n<li>if (a&gt;b) : a is greater than b</li>\n<li><em>Otherwise</em>, if(a==b) : both are equal</li>\n<li><em>Otherwise</em>, b is greater than a</li>\n</ul>\n<p>That makes it clear that you actually need an &quot;else if&quot; in the middle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (a &gt; b) {\n    System.out.println(&quot;the greatest number is &quot; + a);\n} else if (a == b) {\n    System.out.println(&quot;both are equal numbers&quot;);\n} else {\n    System.out.println(&quot;the greatest number is &quot; + b);\n}\n</code></pre>\n<p>At this point, the three branches are tightly linked to each other - you can't put that extra statement before &quot;else if&quot; (but outside the first &quot;if&quot; block) because the &quot;else if&quot; is joined to the first &quot;if&quot;.</p>\n"},{"tags":[],"owner":{"account_id":25783275,"reputation":21,"user_id":19528574,"display_name":"Suman Devkota"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696400696,"creation_date":1696400696,"answer_id":77227221,"question_id":77227179,"body_markdown":"your condition of putting things are wrong .\r\n\r\n     if(a&gt;b)\r\n         {\r\n          System.out.println(&quot;the greatest number is &quot; + a);\r\n         }\r\n\r\n30&gt;5(True so it runs)\r\nNow for below case only it works as if..else statement.\r\n   \r\n\r\n     if(a==b)\r\n         {\r\n          System.out.println(&quot;both are equal numbers&quot;);\r\n         }\r\n     else{\r\n      System.out.println(&quot;the greatest number is &quot; + b);\r\n     }\r\n\r\nSo you should be using\r\n\r\n \r\n\r\n    if(a&gt;b)\r\n         {\r\n          System.out.println(&quot;the greatest number is &quot; + a);\r\n         }\r\n         else if(a==b)\r\n         {\r\n          System.out.println(&quot;both are equal numbers&quot;);\r\n         }\r\n         else{\r\n          System.out.println(&quot;the greatest number is &quot; + b);\r\n         }","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>your condition of putting things are wrong .</p>\n<pre><code> if(a&gt;b)\n     {\n      System.out.println(&quot;the greatest number is &quot; + a);\n     }\n</code></pre>\n<p>30&gt;5(True so it runs)\nNow for below case only it works as if..else statement.</p>\n<pre><code> if(a==b)\n     {\n      System.out.println(&quot;both are equal numbers&quot;);\n     }\n else{\n  System.out.println(&quot;the greatest number is &quot; + b);\n }\n</code></pre>\n<p>So you should be using</p>\n<pre><code>if(a&gt;b)\n     {\n      System.out.println(&quot;the greatest number is &quot; + a);\n     }\n     else if(a==b)\n     {\n      System.out.println(&quot;both are equal numbers&quot;);\n     }\n     else{\n      System.out.println(&quot;the greatest number is &quot; + b);\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696404399,"creation_date":1696403276,"answer_id":77227470,"question_id":77227179,"body_markdown":"This can be solved using `switch` (once learned, if allowed?!) like in:\r\n\r\n````\r\nString message = switch (Integer.signum(Integer.compare(a, b))) {\r\n    case +1 -&gt; &quot;the greatest number is &quot; + a;\r\n    case  0 -&gt; &quot;both are equal numbers&quot;;\r\n    case -1 -&gt; &quot;the greatest number is &quot; + b;\r\n    default -&gt; throw new RuntimeException(&quot;shoudl never happen!&quot;);\r\n};\r\n````\r\n\r\n`compare(a, b)` will return a number that is:  \r\n- negative, if `a &lt; b`;\r\n- zero, if both are equal;\r\n- positive, if `a &gt; b`.\r\n\r\nActually it is returning `-1`, `0`, or `+1`; but that is not how it is specified. Since the `switch` requires discrete values (unless we use Pattern Matching), we use `signum()` which only returns these three values, that is,  \r\n`signum(x)` will return:\r\n- `-1` if the argument is negative (`x &lt; 0`);\r\n-  `0` if the argument is zero;\r\n- `+1` if the argument is positive (`x &gt; 0`);\r\n\r\nA `switch` is often ideal if we have multiple exclusive option. In this particular case, it is a matter of preference, mainly regarding readability, if a `switch` should be used instead of `if-else` combinations. Sure one must also know what this methods are doing and why these are being used - `a &gt; b` is more *directly* expressing the intentions.","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>This can be solved using <code>switch</code> (once learned, if allowed?!) like in:</p>\n<pre><code>String message = switch (Integer.signum(Integer.compare(a, b))) {\n    case +1 -&gt; &quot;the greatest number is &quot; + a;\n    case  0 -&gt; &quot;both are equal numbers&quot;;\n    case -1 -&gt; &quot;the greatest number is &quot; + b;\n    default -&gt; throw new RuntimeException(&quot;shoudl never happen!&quot;);\n};\n</code></pre>\n<p><code>compare(a, b)</code> will return a number that is:</p>\n<ul>\n<li>negative, if <code>a &lt; b</code>;</li>\n<li>zero, if both are equal;</li>\n<li>positive, if <code>a &gt; b</code>.</li>\n</ul>\n<p>Actually it is returning <code>-1</code>, <code>0</code>, or <code>+1</code>; but that is not how it is specified. Since the <code>switch</code> requires discrete values (unless we use Pattern Matching), we use <code>signum()</code> which only returns these three values, that is,<br />\n<code>signum(x)</code> will return:</p>\n<ul>\n<li><code>-1</code> if the argument is negative (<code>x &lt; 0</code>);</li>\n<li><code>0</code> if the argument is zero;</li>\n<li><code>+1</code> if the argument is positive (<code>x &gt; 0</code>);</li>\n</ul>\n<p>A <code>switch</code> is often ideal if we have multiple exclusive option. In this particular case, it is a matter of preference, mainly regarding readability, if a <code>switch</code> should be used instead of <code>if-else</code> combinations. Sure one must also know what this methods are doing and why these are being used - <code>a &gt; b</code> is more <em>directly</em> expressing the intentions.</p>\n"},{"tags":[],"owner":{"account_id":21505740,"reputation":41,"user_id":15849157,"display_name":"Ankit Rege"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696405577,"creation_date":1696405577,"answer_id":77227695,"question_id":77227179,"body_markdown":"you must use this to run your code effectively\r\n\r\n    if(a&gt;b)\r\n     {\r\n      System.out.println(&quot;the greatest number is &quot; + a);\r\n     }\r\n     else if(a==b)\r\n     {\r\n      System.out.println(&quot;both are equal numbers&quot;);\r\n     }\r\n     else{\r\n      System.out.println(&quot;the greatest number is &quot; + b);\r\n     }","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>you must use this to run your code effectively</p>\n<pre><code>if(a&gt;b)\n {\n  System.out.println(&quot;the greatest number is &quot; + a);\n }\n else if(a==b)\n {\n  System.out.println(&quot;both are equal numbers&quot;);\n }\n else{\n  System.out.println(&quot;the greatest number is &quot; + b);\n }\n</code></pre>\n"}],"owner":{"account_id":29430988,"reputation":11,"user_id":22550710,"display_name":"neha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1696407891,"answer_count":4,"score":0,"last_activity_date":1696405577,"creation_date":1696400177,"question_id":77227179,"body_markdown":"I am trying to find max number between two inputs and conditions that I have used were :\r\n\r\n1. if (a&gt;b) : a is greater than b \r\n2. if(a==b) : both are equal\r\n3. else : b is greater than a\r\n\r\nNow, if I take a = 10 and b = 20, I get : b is greater than a, which is true.\r\n\r\nHowever, when I take a = 30 and b = 5, I get both the statements like : a is greater than b, b is greater than a, which means both the statements of if(a&gt;b) and of else{} are getting printed.\r\n\r\nWhen I search on Google then they have written if(a&gt;=b) as the first expression. Now my question is, what the &quot;=&quot; is making difference for executing the way we want it, and why by only adding &quot;&gt;&quot; I am getting both the statements executed?\r\n\r\nHere is the code \r\n```\r\nimport java.util.*;\r\n\r\npublic class conditional {\r\n\r\n    public static void main(String[] args)\r\n    {\r\n\r\n     Scanner sc = new Scanner(System.in);\r\n     System.out.print(&quot;Enter first number : &quot;);\r\n     int a = sc.nextInt();\r\n     System.out.print(&quot;Enter second number : &quot;);\r\n     int b = sc.nextInt();\r\n\r\n     if(a&gt;b)\r\n     {\r\n      System.out.println(&quot;the greatest number is &quot; + a);\r\n     }\r\n     if(a==b)\r\n     {\r\n      System.out.println(&quot;both are equal numbers&quot;);\r\n     }\r\n     else{\r\n      System.out.println(&quot;the greatest number is &quot; + b);\r\n     }\r\n}\r\n}\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/qyoTh.png)","title":"Why does my code print both if and else statement in finding max num between them and if i put a &gt;b?","body":"<p>I am trying to find max number between two inputs and conditions that I have used were :</p>\n<ol>\n<li>if (a&gt;b) : a is greater than b</li>\n<li>if(a==b) : both are equal</li>\n<li>else : b is greater than a</li>\n</ol>\n<p>Now, if I take a = 10 and b = 20, I get : b is greater than a, which is true.</p>\n<p>However, when I take a = 30 and b = 5, I get both the statements like : a is greater than b, b is greater than a, which means both the statements of if(a&gt;b) and of else{} are getting printed.</p>\n<p>When I search on Google then they have written if(a&gt;=b) as the first expression. Now my question is, what the &quot;=&quot; is making difference for executing the way we want it, and why by only adding &quot;&gt;&quot; I am getting both the statements executed?</p>\n<p>Here is the code</p>\n<pre><code>import java.util.*;\n\npublic class conditional {\n\n    public static void main(String[] args)\n    {\n\n     Scanner sc = new Scanner(System.in);\n     System.out.print(&quot;Enter first number : &quot;);\n     int a = sc.nextInt();\n     System.out.print(&quot;Enter second number : &quot;);\n     int b = sc.nextInt();\n\n     if(a&gt;b)\n     {\n      System.out.println(&quot;the greatest number is &quot; + a);\n     }\n     if(a==b)\n     {\n      System.out.println(&quot;both are equal numbers&quot;);\n     }\n     else{\n      System.out.println(&quot;the greatest number is &quot; + b);\n     }\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/qyoTh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","ssl","jboss","windows-server-2016"],"owner":{"account_id":29032210,"reputation":1,"user_id":22238837,"display_name":"Deep Bhattacharya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696405449,"creation_date":1696343965,"question_id":77223276,"body_markdown":"I have a Windows server where JBoss service is installed. I want to install SSL in it.\r\n\r\nCurrently my service is running on port 8667, which is http service. I have a mydomain.pfx(SSL Certificate) file.\r\n\r\nMy current URL is &lt;http://my_domain.com:8667/&gt;  \r\nI want to run the above URL as &lt;https://my_domain.com:8443/&gt;\r\n\r\nAlso I want to redirect the URL automatically from http to https.\r\n\r\nMy windows server version: `Windows Server 2016 Datacenter`  \r\nJava jdk version: `Java version 7 Update 80 (build 1.7.0_80-b15)`  \r\nJBoss version: `JBoss AS 7.1.1.Final`\r\n\r\n\r\nI have created a .jks file from .pfx file using a password &quot;Passwd&quot;\r\n\r\nThen I have done following changes in `.\\standalone\\configuration\\standalone.xml`\r\n\r\nFrom:\r\n\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\r\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\r\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\r\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\r\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\r\n                &lt;alias name=&quot;localhost&quot;/&gt;\r\n                &lt;alias name=&quot;example.com&quot;/&gt;\r\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\r\n            &lt;/virtual-server&gt;\r\n        &lt;/subsystem&gt;\r\n```\r\n\r\nTo:\r\n\r\n```xml\r\n        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\r\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\r\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\r\n                &lt;ssl name=&quot;myapp-ssl&quot; key-alias=&quot;myapp&quot; password=&quot;Passwd&quot; certificate-key-file=&quot;myssl.jks&quot; protocol=&quot;TLSv1&quot;/&gt;\r\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\r\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\r\n                &lt;alias name=&quot;localhost&quot;/&gt;\r\n                &lt;alias name=&quot;example.com&quot;/&gt;\r\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\r\n            &lt;/virtual-server&gt;\r\n        &lt;/subsystem&gt;\r\n```","title":"Need to install PFX SSL certificate in JBoss AS 7.1.1.Final server and also need to make auto redirection from HTTP to HTTPS in URL","body":"<p>I have a Windows server where JBoss service is installed. I want to install SSL in it.</p>\n<p>Currently my service is running on port 8667, which is http service. I have a mydomain.pfx(SSL Certificate) file.</p>\n<p>My current URL is <a href=\"http://my_domain.com:8667/\" rel=\"nofollow noreferrer\">http://my_domain.com:8667/</a><br />\nI want to run the above URL as <a href=\"https://my_domain.com:8443/\" rel=\"nofollow noreferrer\">https://my_domain.com:8443/</a></p>\n<p>Also I want to redirect the URL automatically from http to https.</p>\n<p>My windows server version: <code>Windows Server 2016 Datacenter</code><br />\nJava jdk version: <code>Java version 7 Update 80 (build 1.7.0_80-b15)</code><br />\nJBoss version: <code>JBoss AS 7.1.1.Final</code></p>\n<p>I have created a .jks file from .pfx file using a password &quot;Passwd&quot;</p>\n<p>Then I have done following changes in <code>.\\standalone\\configuration\\standalone.xml</code></p>\n<p>From:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\n                &lt;alias name=&quot;localhost&quot;/&gt;\n                &lt;alias name=&quot;example.com&quot;/&gt;\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\n            &lt;/virtual-server&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n<p>To:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;subsystem xmlns=&quot;urn:jboss:domain:web:1.1&quot; default-virtual-server=&quot;default-host&quot; native=&quot;false&quot;&gt;\n            &lt;connector name=&quot;http&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;http&quot; socket-binding=&quot;http&quot;/&gt;\n            &lt;connector name=&quot;https&quot; protocol=&quot;HTTP/1.1&quot; scheme=&quot;https&quot; socket-binding=&quot;https&quot; secure=&quot;true&quot;/&gt;\n                &lt;ssl name=&quot;myapp-ssl&quot; key-alias=&quot;myapp&quot; password=&quot;Passwd&quot; certificate-key-file=&quot;myssl.jks&quot; protocol=&quot;TLSv1&quot;/&gt;\n            &lt;connector name=&quot;ajp13&quot; protocol=&quot;AJP/1.3&quot; scheme=&quot;http&quot; socket-binding=&quot;ajp&quot; redirect-port=&quot;8443&quot;/&gt;\n            &lt;virtual-server name=&quot;default-host&quot; enable-welcome-root=&quot;true&quot;&gt;\n                &lt;alias name=&quot;localhost&quot;/&gt;\n                &lt;alias name=&quot;example.com&quot;/&gt;\n                &lt;rewrite pattern=&quot;^/webapp/(.*?)$&quot; substitution=&quot;/myWebapp/$1&quot; flags=&quot;R=301,L&quot;/&gt;\n            &lt;/virtual-server&gt;\n        &lt;/subsystem&gt;\n</code></pre>\n"},{"tags":["java","ssl","jboss","ejb","tls1.2"],"comments":[{"owner":{"account_id":329509,"reputation":3154,"user_id":653069,"display_name":"kwart"},"score":0,"creation_date":1521018036,"post_id":49269985,"comment_id":85549374,"body_markdown":"Do you mean community project JBoss AS 7 (really old one) or Red Hat product JBoss EAP 7 (not so old, but still old)?","body":"Do you mean community project JBoss AS 7 (really old one) or Red Hat product JBoss EAP 7 (not so old, but still old)?"},{"owner":{"account_id":173643,"reputation":185,"user_id":8301290,"accept_rate":75,"display_name":"Ponmanikandan Boothalingam"},"score":0,"creation_date":1521028189,"post_id":49269985,"comment_id":85556327,"body_markdown":"@kwart For Jboss EAP 7.0.0. I tried the following steps in the link [ssl config](https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/how_to_configure_server_security/#secure_the_management_interfaces) but i can hitting the server and call ejb with out client certificate from client side. But My management console working fine fro https after setup.But EJB i.e. Application not working.","body":"@kwart For Jboss EAP 7.0.0. I tried the following steps in the link <a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/how_to_configure_server_security/#secure_the_management_interfaces\" rel=\"nofollow noreferrer\">ssl config</a> but i can hitting the server and call ejb with out client certificate from client side. But My management console working fine fro https after setup.But EJB i.e. Application not working."}],"answers":[{"tags":[],"owner":{"account_id":329509,"reputation":3154,"user_id":653069,"display_name":"kwart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1521042776,"creation_date":1521042776,"answer_id":49282286,"question_id":49269985,"body_markdown":"Try this tutorial for WildFly 10 - http://middlewaremagic.com/jboss/?p=2783\r\n\r\nWhat you need to change in server configuration is:\r\n\r\n* add SSL as your identity in a SecurityRealm\r\n* configure HTTPs listener in undertow subsystem\r\n* configure connector in remoting subsystem which will use the https\r\n* reference the new remoting connector from ejb3 subsystem\r\n\r\nSample CLI:\r\n\r\n    /core-service=management/security-realm=ApplicationRealm/server-identity=ssl:add(keystore-path=server.keystore, keystore-relative-to=jboss.server.config.dir, keystore-password=123456)\r\n    reload\r\n    /subsystem=undertow/server=default-server/https-listener=https:add(socket-binding=https, security-realm=ApplicationRealm)\r\n    /subsystem=remoting/http-connector=https-remoting-connector:add(connector-ref=https, sasl-protocol=remote, security-realm=ApplicationRealm)\r\n    /subsystem=ejb3/service=remote:write-attribute(name=connector-ref,value=https-remoting-connector)\r\n    reload\r\n\r\nThen you should use the proper port (8443) in the EJB client configuration.","title":"how to enable ssl in jboss 7.0.0.GA","body":"<p>Try this tutorial for WildFly 10 - <a href=\"http://middlewaremagic.com/jboss/?p=2783\" rel=\"nofollow noreferrer\">http://middlewaremagic.com/jboss/?p=2783</a></p>\n\n<p>What you need to change in server configuration is:</p>\n\n<ul>\n<li>add SSL as your identity in a SecurityRealm</li>\n<li>configure HTTPs listener in undertow subsystem</li>\n<li>configure connector in remoting subsystem which will use the https</li>\n<li>reference the new remoting connector from ejb3 subsystem</li>\n</ul>\n\n<p>Sample CLI:</p>\n\n<pre><code>/core-service=management/security-realm=ApplicationRealm/server-identity=ssl:add(keystore-path=server.keystore, keystore-relative-to=jboss.server.config.dir, keystore-password=123456)\nreload\n/subsystem=undertow/server=default-server/https-listener=https:add(socket-binding=https, security-realm=ApplicationRealm)\n/subsystem=remoting/http-connector=https-remoting-connector:add(connector-ref=https, sasl-protocol=remote, security-realm=ApplicationRealm)\n/subsystem=ejb3/service=remote:write-attribute(name=connector-ref,value=https-remoting-connector)\nreload\n</code></pre>\n\n<p>Then you should use the proper port (8443) in the EJB client configuration.</p>\n"}],"owner":{"account_id":173643,"reputation":185,"user_id":8301290,"accept_rate":75,"display_name":"Ponmanikandan Boothalingam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49282286,"answer_count":1,"score":0,"last_activity_date":1696405337,"creation_date":1521003083,"question_id":49269985,"body_markdown":"I want to implement SSL for ejb call. I tried via the following link, but its not working as expected.\r\n\r\n[enable SSl in jboss][1]\r\n\r\nHow to enable SSL in Jboss 7.0.0.GA for EJB calls.\r\n\r\n\r\n  [1]: https://gist.github.com/thjanssen/b69434413207e439553b","title":"how to enable ssl in jboss 7.0.0.GA","body":"<p>I want to implement SSL for ejb call. I tried via the following link, but its not working as expected.</p>\n\n<p><a href=\"https://gist.github.com/thjanssen/b69434413207e439553b\" rel=\"nofollow noreferrer\">enable SSl in jboss</a></p>\n\n<p>How to enable SSL in Jboss 7.0.0.GA for EJB calls.</p>\n"},{"tags":["java","reactjs","spring-boot","google-cloud-platform","google-kubernetes-engine"],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696403848,"creation_date":1696403848,"answer_id":77227524,"question_id":77226189,"body_markdown":"It&#39;s a common mistake with modern website deployment. Ask yourself: where is running my frontend?\r\n\r\nIf your answer is &quot;on GKE&quot;, it&#39;s wrong. GKE serves the web files (JS, HTML, CSS), but the code run on the browser.\r\n\r\nTherefore, the mention\r\n\r\n&gt; Also I tried to execute command curl http://imageupload-service:9595/api/v1/user-profile from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.\r\n\r\nis correct FROM INSIDE.\r\n\r\nBut your browser is OUTSIDE. All this URL are only known by your cluster, not on the internet\r\n&gt; imageupload-service:9595\r\n&gt;\r\n&gt;imageupload-service.default.svc.cluster.local:9595\r\n&gt;\r\n&gt;imageupload-service.default.svc:9595\r\n\r\nYou must use the public URL of your ingress gateway (an IP or a domain name) to access your cluster FROM OUTSIDE.","title":"ERR_NAME_NOT_RESOLVED error when React app execute REST API call to Spring Boot app which deployed into GKE","body":"<p>It's a common mistake with modern website deployment. Ask yourself: where is running my frontend?</p>\n<p>If your answer is &quot;on GKE&quot;, it's wrong. GKE serves the web files (JS, HTML, CSS), but the code run on the browser.</p>\n<p>Therefore, the mention</p>\n<blockquote>\n<p>Also I tried to execute command curl http://imageupload-service:9595/api/v1/user-profile from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.</p>\n</blockquote>\n<p>is correct FROM INSIDE.</p>\n<p>But your browser is OUTSIDE. All this URL are only known by your cluster, not on the internet</p>\n<blockquote>\n<p>imageupload-service:9595</p>\n<p>imageupload-service.default.svc.cluster.local:9595</p>\n<p>imageupload-service.default.svc:9595</p>\n</blockquote>\n<p>You must use the public URL of your ingress gateway (an IP or a domain name) to access your cluster FROM OUTSIDE.</p>\n"}],"owner":{"account_id":14200688,"reputation":5,"user_id":10258671,"display_name":"Stan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77227524,"answer_count":1,"score":0,"last_activity_date":1696403848,"creation_date":1696381394,"question_id":77226189,"body_markdown":"I faced with problem of resolving my backend IP address from frontend service. Both deployed into GKE. There are two deployment files - for the backend and frontend. The frontend app calls the backend app API. On the local kubernetes everything is fine, but when I deploy to GKE there are problems with calling the API from the front. There is an error in the browser console:\r\n\r\n[error in console](https://i.stack.imgur.com/WFMtc.png)\r\n\r\nI tried to pass the service name of the backend to the front deployment file in different ways:\r\n\r\n- imageupload-service:9595\r\n\r\n- imageupload-service.default.svc.cluster.local:9595\r\n\r\n- imageupload-service.default.svc:9595\r\n\r\nbut no luck.\r\n\r\nAlso I tried to execute command **curl http://imageupload-service:9595/api/v1/user-profile** from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.\r\n\r\nHere is my deployment files and content of App.js file where call to backend executed:\r\n\r\n**backend-deployment.yml:**\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: imageupload-deployment\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-deployment\r\nspec:\r\n  progressDeadlineSeconds: 600\r\n  replicas: 2\r\n  selector:\r\n    matchLabels:\r\n      app: imageupload-deployment\r\n  strategy:\r\n    rollingUpdate:\r\n      maxSurge: 25%\r\n      maxUnavailable: 25%\r\n    type: RollingUpdate\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: imageupload-deployment\r\n    spec:\r\n      containers:\r\n        - image:\r\n          imagePullPolicy: Always\r\n          name: imageupload\r\n          env:\r\n            - name: SPRING_DATASOURCE_URL\r\n              value: &quot;jdbc:postgresql://postgres-service:5432/postgres?currentSchema=imageupload&quot;\r\n            - name: SPRING_DATASOURCE_USER\r\n              value: postgres\r\n            - name: SPRING_JPA_HIBERNATE_DDL-AUTO\r\n              value: none\r\n            - name: SPRING_SQL_INIT_MODE\r\n              value: NEVER\r\n            - name: SPRING_DATASOURCE_PASSWORD\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: postgres-password-secret\r\n                  key: postgres-password\r\n          resources:\r\n            limits:\r\n              memory: &quot;1024Mi&quot;\r\n              cpu: &quot;500m&quot;\r\n            requests:\r\n              memory: &quot;256Mi&quot;\r\n              cpu: &quot;200m&quot;\r\n      restartPolicy: Always\r\n      terminationGracePeriodSeconds: 30\r\n\r\n---\r\n\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: imageupload-service\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-service\r\nspec:\r\n  selector:\r\n    app: imageupload-deployment\r\n  ports:\r\n    - name: imageupload-service-port\r\n      protocol: TCP\r\n      port: 9595\r\n  type: LoadBalancer\r\n  loadBalancerIP: &quot;&quot;\r\n\r\n---\r\napiVersion: autoscaling/v1\r\nkind: HorizontalPodAutoscaler\r\nmetadata:\r\n  name: imageupload-deployment-hpa\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-service\r\nspec:\r\n  maxReplicas: 2\r\n  minReplicas: 1\r\n  scaleTargetRef:\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    name: imageupload-deployment\r\n  targetCPUUtilizationPercentage: 70\r\n```\r\n\r\n**frontend-deployment.yml:**\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\nmetadata:\r\n  name: imageupload-front-deployment\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-front-deployment\r\nspec:\r\n  selector:\r\n    matchLabels:\r\n      app: imageupload-front-deployment\r\n  replicas: 2\r\n  template:\r\n    metadata:\r\n      labels:\r\n        app: imageupload-front-deployment\r\n    spec:\r\n      containers:\r\n        - name: imageupload-front\r\n          image:\r\n          env:\r\n            - name: REACT_APP_API_URL\r\n              value: http://imageupload-service:9595\r\n          imagePullPolicy: Always\r\n          resources:\r\n            limits:\r\n              cpu: &quot;500m&quot;\r\n              memory: &quot;1024Mi&quot;\r\n            requests:\r\n              cpu: &quot;200m&quot;\r\n              memory: &quot;256Mi&quot;\r\n\r\n---\r\napiVersion: v1\r\nkind: Service\r\nmetadata:\r\n  name: imageupload-front-service\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-front-service\r\nspec:\r\n  selector:\r\n    app: imageupload-front-deployment\r\n  ports:\r\n    - name: imageupload-front-service-port\r\n      protocol: TCP\r\n      port: 8080\r\n  type: LoadBalancer\r\n  loadBalancerIP: &quot;&quot;\r\n---\r\napiVersion: autoscaling/v1\r\nkind: HorizontalPodAutoscaler\r\nmetadata:\r\n  name: imageupload-front-deployment-hpa\r\n  namespace: default\r\n  labels:\r\n    app: imageupload-front-service\r\nspec:\r\n  maxReplicas: 3\r\n  minReplicas: 1\r\n  scaleTargetRef:\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    name: imageupload-front-deployment\r\n  targetCPUUtilizationPercentage: 70\r\n```\r\n\r\n**Content of App.js file:**\r\n\r\n```\r\nimport logo from &#39;./logo.svg&#39;;\r\nimport &#39;./App.css&#39;;\r\nimport axios from &quot;axios&quot;;\r\nimport React, {useState, useEffect, useCallback} from &quot;react&quot;;\r\nimport {useDropzone} from &#39;react-dropzone&#39;\r\n\r\nconst apiUrl = process.env.REACT_APP_API_URL || &quot;http://localhost:9595&quot;;\r\nconsole.log(&quot;API URL:&quot;, apiUrl);\r\n\r\nconst UserProfiles = () =&gt; {\r\n\r\n    const [userProfiles, setUserProfiles] = useState([]);\r\n\r\n    const fetchUserProfiles = () =&gt; {\r\n        axios.get(`${apiUrl}/api/v1/user-profile`).then(res =&gt; {\r\n            console.log(res);\r\n            setUserProfiles(res.data);\r\n        })\r\n            .catch(err =&gt; {\r\n                console.error(&quot;Axios request failed:&quot;, err);\r\n            });\r\n    }\r\n\r\n    useEffect(() =&gt; {\r\n        fetchUserProfiles();\r\n    }, []);\r\n\r\n    return userProfiles.map((userProfile, index) =&gt; {\r\n        return (\r\n            &lt;div key={userProfile.userProfileImageLink}&gt;\r\n                {userProfile.userProfileId ?\r\n                    &lt;img key={userProfile.userProfileImageLink}\r\n                         src={`${apiUrl}/api/v1/user-profile/${userProfile.userProfileId}/image/download`}/&gt; : null}\r\n                &lt;br/&gt;\r\n                &lt;br/&gt;\r\n                &lt;h1&gt;{userProfile.username}&lt;/h1&gt;\r\n                &lt;p&gt;{userProfile.userProfileId}&lt;/p&gt;\r\n                &lt;Dropzone {...userProfile} updateImageEvent={fetchUserProfiles}/&gt;\r\n                &lt;br/&gt;\r\n            &lt;/div&gt;\r\n        )\r\n    })\r\n}\r\n\r\nfunction Dropzone({userProfileId, updateImageEvent}) {\r\n    const onDrop = useCallback(acceptedFiles =&gt; {\r\n        const file = acceptedFiles[0];\r\n        console.log(file);\r\n        const formData = new FormData();\r\n        formData.append(&quot;file&quot;, file);\r\n        axios.post(`${apiUrl}/api/v1/user-profile/${userProfileId}/image/upload`,\r\n            formData,\r\n            {\r\n                headers: {\r\n                    &quot;Content-Type&quot;: &quot;multipart/form-data&quot;\r\n                }\r\n            }).then(() =&gt; {\r\n            console.log(&quot;file uploaded successfully&quot;);\r\n            updateImageEvent();\r\n        }).catch(err =&gt; {\r\n            console.log(err);\r\n        });\r\n    }, [])\r\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n    return (\r\n        &lt;div {...getRootProps()}&gt;\r\n            &lt;input {...getInputProps()} /&gt;\r\n            {\r\n                isDragActive ?\r\n                    &lt;p&gt;Drop the image here ...&lt;/p&gt; :\r\n                    &lt;p&gt;Drag &#39;n&#39; drop profile image, or click to select profile image&lt;/p&gt;\r\n            }\r\n        &lt;/div&gt;\r\n    )\r\n}\r\n\r\nfunction App() {\r\n    return (\r\n        &lt;div className=&quot;App&quot;&gt;\r\n            &lt;UserProfiles/&gt;\r\n        &lt;/div&gt;\r\n    );\r\n}\r\n\r\nexport default App;\r\n```\r\n\r\nI expected response in JSON format like:\r\n\r\n```\r\n{\r\n    &quot;userProfileId&quot;: &quot;bb5b9dd8-f6fc-4bd4-8050-e9aa947e80cb&quot;,\r\n    &quot;username&quot;: &quot;John Doe&quot;,\r\n    &quot;imageLink&quot;: &quot;&quot;\r\n  }\r\n```\r\n\r\nLooking for help to understand what is wrong here and what am I doing wrong and why is this error happening? I have no ideas...","title":"ERR_NAME_NOT_RESOLVED error when React app execute REST API call to Spring Boot app which deployed into GKE","body":"<p>I faced with problem of resolving my backend IP address from frontend service. Both deployed into GKE. There are two deployment files - for the backend and frontend. The frontend app calls the backend app API. On the local kubernetes everything is fine, but when I deploy to GKE there are problems with calling the API from the front. There is an error in the browser console:</p>\n<p><a href=\"https://i.stack.imgur.com/WFMtc.png\" rel=\"nofollow noreferrer\">error in console</a></p>\n<p>I tried to pass the service name of the backend to the front deployment file in different ways:</p>\n<ul>\n<li><p>imageupload-service:9595</p>\n</li>\n<li><p>imageupload-service.default.svc.cluster.local:9595</p>\n</li>\n<li><p>imageupload-service.default.svc:9595</p>\n</li>\n</ul>\n<p>but no luck.</p>\n<p>Also I tried to execute command <strong>curl http://imageupload-service:9595/api/v1/user-profile</strong> from inside of my frontend pod to check availability of backend thought DNS and it returned correct response.</p>\n<p>Here is my deployment files and content of App.js file where call to backend executed:</p>\n<p><strong>backend-deployment.yml:</strong></p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: imageupload-deployment\n  namespace: default\n  labels:\n    app: imageupload-deployment\nspec:\n  progressDeadlineSeconds: 600\n  replicas: 2\n  selector:\n    matchLabels:\n      app: imageupload-deployment\n  strategy:\n    rollingUpdate:\n      maxSurge: 25%\n      maxUnavailable: 25%\n    type: RollingUpdate\n  template:\n    metadata:\n      labels:\n        app: imageupload-deployment\n    spec:\n      containers:\n        - image:\n          imagePullPolicy: Always\n          name: imageupload\n          env:\n            - name: SPRING_DATASOURCE_URL\n              value: &quot;jdbc:postgresql://postgres-service:5432/postgres?currentSchema=imageupload&quot;\n            - name: SPRING_DATASOURCE_USER\n              value: postgres\n            - name: SPRING_JPA_HIBERNATE_DDL-AUTO\n              value: none\n            - name: SPRING_SQL_INIT_MODE\n              value: NEVER\n            - name: SPRING_DATASOURCE_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: postgres-password-secret\n                  key: postgres-password\n          resources:\n            limits:\n              memory: &quot;1024Mi&quot;\n              cpu: &quot;500m&quot;\n            requests:\n              memory: &quot;256Mi&quot;\n              cpu: &quot;200m&quot;\n      restartPolicy: Always\n      terminationGracePeriodSeconds: 30\n\n---\n\napiVersion: v1\nkind: Service\nmetadata:\n  name: imageupload-service\n  namespace: default\n  labels:\n    app: imageupload-service\nspec:\n  selector:\n    app: imageupload-deployment\n  ports:\n    - name: imageupload-service-port\n      protocol: TCP\n      port: 9595\n  type: LoadBalancer\n  loadBalancerIP: &quot;&quot;\n\n---\napiVersion: autoscaling/v1\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: imageupload-deployment-hpa\n  namespace: default\n  labels:\n    app: imageupload-service\nspec:\n  maxReplicas: 2\n  minReplicas: 1\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: imageupload-deployment\n  targetCPUUtilizationPercentage: 70\n</code></pre>\n<p><strong>frontend-deployment.yml:</strong></p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: imageupload-front-deployment\n  namespace: default\n  labels:\n    app: imageupload-front-deployment\nspec:\n  selector:\n    matchLabels:\n      app: imageupload-front-deployment\n  replicas: 2\n  template:\n    metadata:\n      labels:\n        app: imageupload-front-deployment\n    spec:\n      containers:\n        - name: imageupload-front\n          image:\n          env:\n            - name: REACT_APP_API_URL\n              value: http://imageupload-service:9595\n          imagePullPolicy: Always\n          resources:\n            limits:\n              cpu: &quot;500m&quot;\n              memory: &quot;1024Mi&quot;\n            requests:\n              cpu: &quot;200m&quot;\n              memory: &quot;256Mi&quot;\n\n---\napiVersion: v1\nkind: Service\nmetadata:\n  name: imageupload-front-service\n  namespace: default\n  labels:\n    app: imageupload-front-service\nspec:\n  selector:\n    app: imageupload-front-deployment\n  ports:\n    - name: imageupload-front-service-port\n      protocol: TCP\n      port: 8080\n  type: LoadBalancer\n  loadBalancerIP: &quot;&quot;\n---\napiVersion: autoscaling/v1\nkind: HorizontalPodAutoscaler\nmetadata:\n  name: imageupload-front-deployment-hpa\n  namespace: default\n  labels:\n    app: imageupload-front-service\nspec:\n  maxReplicas: 3\n  minReplicas: 1\n  scaleTargetRef:\n    apiVersion: apps/v1\n    kind: Deployment\n    name: imageupload-front-deployment\n  targetCPUUtilizationPercentage: 70\n</code></pre>\n<p><strong>Content of App.js file:</strong></p>\n<pre><code>import logo from './logo.svg';\nimport './App.css';\nimport axios from &quot;axios&quot;;\nimport React, {useState, useEffect, useCallback} from &quot;react&quot;;\nimport {useDropzone} from 'react-dropzone'\n\nconst apiUrl = process.env.REACT_APP_API_URL || &quot;http://localhost:9595&quot;;\nconsole.log(&quot;API URL:&quot;, apiUrl);\n\nconst UserProfiles = () =&gt; {\n\n    const [userProfiles, setUserProfiles] = useState([]);\n\n    const fetchUserProfiles = () =&gt; {\n        axios.get(`${apiUrl}/api/v1/user-profile`).then(res =&gt; {\n            console.log(res);\n            setUserProfiles(res.data);\n        })\n            .catch(err =&gt; {\n                console.error(&quot;Axios request failed:&quot;, err);\n            });\n    }\n\n    useEffect(() =&gt; {\n        fetchUserProfiles();\n    }, []);\n\n    return userProfiles.map((userProfile, index) =&gt; {\n        return (\n            &lt;div key={userProfile.userProfileImageLink}&gt;\n                {userProfile.userProfileId ?\n                    &lt;img key={userProfile.userProfileImageLink}\n                         src={`${apiUrl}/api/v1/user-profile/${userProfile.userProfileId}/image/download`}/&gt; : null}\n                &lt;br/&gt;\n                &lt;br/&gt;\n                &lt;h1&gt;{userProfile.username}&lt;/h1&gt;\n                &lt;p&gt;{userProfile.userProfileId}&lt;/p&gt;\n                &lt;Dropzone {...userProfile} updateImageEvent={fetchUserProfiles}/&gt;\n                &lt;br/&gt;\n            &lt;/div&gt;\n        )\n    })\n}\n\nfunction Dropzone({userProfileId, updateImageEvent}) {\n    const onDrop = useCallback(acceptedFiles =&gt; {\n        const file = acceptedFiles[0];\n        console.log(file);\n        const formData = new FormData();\n        formData.append(&quot;file&quot;, file);\n        axios.post(`${apiUrl}/api/v1/user-profile/${userProfileId}/image/upload`,\n            formData,\n            {\n                headers: {\n                    &quot;Content-Type&quot;: &quot;multipart/form-data&quot;\n                }\n            }).then(() =&gt; {\n            console.log(&quot;file uploaded successfully&quot;);\n            updateImageEvent();\n        }).catch(err =&gt; {\n            console.log(err);\n        });\n    }, [])\n    const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\n\n    return (\n        &lt;div {...getRootProps()}&gt;\n            &lt;input {...getInputProps()} /&gt;\n            {\n                isDragActive ?\n                    &lt;p&gt;Drop the image here ...&lt;/p&gt; :\n                    &lt;p&gt;Drag 'n' drop profile image, or click to select profile image&lt;/p&gt;\n            }\n        &lt;/div&gt;\n    )\n}\n\nfunction App() {\n    return (\n        &lt;div className=&quot;App&quot;&gt;\n            &lt;UserProfiles/&gt;\n        &lt;/div&gt;\n    );\n}\n\nexport default App;\n</code></pre>\n<p>I expected response in JSON format like:</p>\n<pre><code>{\n    &quot;userProfileId&quot;: &quot;bb5b9dd8-f6fc-4bd4-8050-e9aa947e80cb&quot;,\n    &quot;username&quot;: &quot;John Doe&quot;,\n    &quot;imageLink&quot;: &quot;&quot;\n  }\n</code></pre>\n<p>Looking for help to understand what is wrong here and what am I doing wrong and why is this error happening? I have no ideas...</p>\n"},{"tags":["java","spring","download","stream","zip"],"comments":[{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":1,"creation_date":1657225492,"post_id":53885467,"comment_id":128767161,"body_markdown":"thank you for the work you did with teamcenter","body":"thank you for the work you did with teamcenter"}],"answers":[{"tags":[],"owner":{"account_id":2843470,"reputation":4620,"user_id":2442526,"display_name":"xtratic"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1545409749,"creation_date":1545400923,"answer_id":53886072,"question_id":53885467,"body_markdown":"Try this instead. Rather than using the `ZipOutputStream` to wrap a `FileOutputStream`, writing your zip to a file, then copying it to the client output stream, instead just use the `ZipOutputStream` to wrap the client output stream so that when you add zip entries and data it goes directly to the client. If you want to *also* store it to a file on the server then you can make your `ZipOutputStream` write to a split output stream, to write both locations at once.\r\n\r\n\t@RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET, produces = &quot;application/zip&quot;)\r\n\tpublic ResponseEntity&lt;StreamingResponseBody&gt; getFile() throws Exception {\r\n\r\n\t\tInputStream[] streamsToZip = getStreamsFromAzure();\r\n\r\n        // You could cache already created zip files, maybe something like this:\r\n        //   String[] pathsOfResourcesToZip = getPathsFromAzure();\r\n        //   String zipId = getZipId(pathsOfResourcesToZip);\r\n        //   if(isZipExist(zipId))\r\n        //     // return that zip file\r\n        //   else do the following\r\n\r\n\t\tStreamingResponseBody streamResponse = clientOut -&gt; {\r\n\t\t\tFileOutputStream zipFileOut = new FileOutputStream(&quot;test.zip&quot;);\r\n\t\t\t\r\n\t\t\tZipOutputStream zos = new ZipOutputStream(new SplitOutputStream(clientOut, zipFileOut));\r\n\t\t\tfor (InputStream in : streamsToZip) {\r\n\t\t\t\taddToZipFile(zos, in);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn ResponseEntity.ok()\r\n\t\t\t\t.header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\r\n\t\t\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + &quot;download.zip&quot;)\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/zip&quot;)).body(streamResponse);\r\n\t}\r\n\r\n\r\n\tprivate void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\r\n\t\tZipEntry zipEntry = new ZipEntry(generateFileName());\r\n\t\tzos.putNextEntry(zipEntry);\r\n\t\tbyte[] bytes = new byte[1024];\r\n\t\tint length;\r\n\t\twhile ((length = fis.read(bytes)) &gt;= 0) {\r\n\t\t\tzos.write(bytes, 0, length);\r\n\t\t}\r\n\t\tzos.closeEntry();\r\n\t\tfis.close();\r\n\t}\r\n\r\n---\r\n\r\n\tpublic static class SplitOutputStream extends OutputStream {\r\n\t\tprivate final OutputStream out1;\r\n\t\tprivate final OutputStream out2;\r\n\r\n\t\tpublic SplitOutputStream(OutputStream out1, OutputStream out2) {\r\n\t\t\tthis.out1 = out1;\r\n\t\t\tthis.out2 = out2;\r\n\t\t}\r\n\r\n\t\t@Override public void write(int b) throws IOException {\r\n\t\t\tout1.write(b);\r\n\t\t\tout2.write(b);\r\n\t\t}\r\n\r\n\t\t@Override public void write(byte b[]) throws IOException {\r\n\t\t\tout1.write(b);\r\n\t\t\tout2.write(b);\r\n\t\t}\r\n\r\n\t\t@Override public void write(byte b[], int off, int len) throws IOException {\r\n\t\t\tout1.write(b, off, len);\r\n\t\t\tout2.write(b, off, len);\r\n\t\t}\r\n\r\n\t\t@Override public void flush() throws IOException {\r\n\t\t\tout1.flush();\r\n\t\t\tout2.flush();\r\n\t\t}\r\n\r\n\t\t/** Closes all the streams. If there was an IOException this throws the first one. */\r\n\t\t@Override public void close() throws IOException {\r\n\t\t\tIOException ioException = null;\r\n\t\t\tfor (OutputStream o : new OutputStream[] {\r\n\t\t\t\t\tout1,\r\n\t\t\t\t\tout2 }) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\to.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\tif (ioException == null) {\r\n\t\t\t\t\t\tioException = e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (ioException != null) {\r\n\t\t\t\tthrow ioException;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nFor the first request for a set of resources to be zipped you wont know the size that the resulting zip file will be so you can&#39;t send the length along with the response since you are streaming the file as it is zipped.\r\n\r\nBut if you expect there to be repeated requests for the same set of resources to be zipped, then you can cache your zip files and simply return them on any subsequent requests; You will also know the length of the cached zip file so you can send that in the response as well.\r\n\r\nIf you want to do this then you will have to be able to consistently create the same identifier for each combination of the resources to be zipped, so that you can check if those resources were already zipped and return the cached file if they were. You might be able to could sort the ids (maybe full paths) of the resources that will be zipped and concatenate them to create an id for the zip file.","title":"Java zip files from streams instantly without using byte[]","body":"<p>Try this instead. Rather than using the <code>ZipOutputStream</code> to wrap a <code>FileOutputStream</code>, writing your zip to a file, then copying it to the client output stream, instead just use the <code>ZipOutputStream</code> to wrap the client output stream so that when you add zip entries and data it goes directly to the client. If you want to <em>also</em> store it to a file on the server then you can make your <code>ZipOutputStream</code> write to a split output stream, to write both locations at once.</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET, produces = \"application/zip\")\npublic ResponseEntity&lt;StreamingResponseBody&gt; getFile() throws Exception {\n\n    InputStream[] streamsToZip = getStreamsFromAzure();\n\n    // You could cache already created zip files, maybe something like this:\n    //   String[] pathsOfResourcesToZip = getPathsFromAzure();\n    //   String zipId = getZipId(pathsOfResourcesToZip);\n    //   if(isZipExist(zipId))\n    //     // return that zip file\n    //   else do the following\n\n    StreamingResponseBody streamResponse = clientOut -&gt; {\n        FileOutputStream zipFileOut = new FileOutputStream(\"test.zip\");\n\n        ZipOutputStream zos = new ZipOutputStream(new SplitOutputStream(clientOut, zipFileOut));\n        for (InputStream in : streamsToZip) {\n            addToZipFile(zos, in);\n        }\n    };\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\n            .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + \"download.zip\")\n            .contentType(MediaType.parseMediaType(\"application/zip\")).body(streamResponse);\n}\n\n\nprivate void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(generateFileName());\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n    fis.close();\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public static class SplitOutputStream extends OutputStream {\n    private final OutputStream out1;\n    private final OutputStream out2;\n\n    public SplitOutputStream(OutputStream out1, OutputStream out2) {\n        this.out1 = out1;\n        this.out2 = out2;\n    }\n\n    @Override public void write(int b) throws IOException {\n        out1.write(b);\n        out2.write(b);\n    }\n\n    @Override public void write(byte b[]) throws IOException {\n        out1.write(b);\n        out2.write(b);\n    }\n\n    @Override public void write(byte b[], int off, int len) throws IOException {\n        out1.write(b, off, len);\n        out2.write(b, off, len);\n    }\n\n    @Override public void flush() throws IOException {\n        out1.flush();\n        out2.flush();\n    }\n\n    /** Closes all the streams. If there was an IOException this throws the first one. */\n    @Override public void close() throws IOException {\n        IOException ioException = null;\n        for (OutputStream o : new OutputStream[] {\n                out1,\n                out2 }) {\n            try {\n                o.close();\n            } catch (IOException e) {\n                if (ioException == null) {\n                    ioException = e;\n                }\n            }\n        }\n        if (ioException != null) {\n            throw ioException;\n        }\n    }\n}\n</code></pre>\n\n<p>For the first request for a set of resources to be zipped you wont know the size that the resulting zip file will be so you can't send the length along with the response since you are streaming the file as it is zipped.</p>\n\n<p>But if you expect there to be repeated requests for the same set of resources to be zipped, then you can cache your zip files and simply return them on any subsequent requests; You will also know the length of the cached zip file so you can send that in the response as well.</p>\n\n<p>If you want to do this then you will have to be able to consistently create the same identifier for each combination of the resources to be zipped, so that you can check if those resources were already zipped and return the cached file if they were. You might be able to could sort the ids (maybe full paths) of the resources that will be zipped and concatenate them to create an id for the zip file.</p>\n"},{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696403824,"creation_date":1696386914,"answer_id":77226407,"question_id":53885467,"body_markdown":"Thanks to @xtratic, this only simplify version.\r\n\r\n - Fixed unable to open zip file in windows by auto closing in try-with-resource\r\n - Remove uneccessary &quot;test.zip&quot; file\r\n - Remove class `SplitOutputStream`\r\n - add block finally close on variable `clientOut` (just to make sure, you can remove it though :) )\r\n\r\n       public StreamingResponseBody yourMethod(Some Params...) {\r\n        \r\n    \tMap&lt;String, InputStream&gt; inputStreamMap = // map String file name and input stream\r\n    \tStreamingResponseBody streamResponse = clientOut -&gt; {\r\n    \t\ttry (ZipOutputStream zos = new ZipOutputStream(clientOut)) {\r\n    \t\t\tfor (Map.Entry&lt;String, InputStream&gt; entry : inputStreamMap.entrySet()) {\r\n    \t\t\t\tString filename = entry.getKey();\r\n    \t\t\t\ttry (InputStream inputStream = entry.getValue()) {\r\n    \t\t\t\t\taddToZipFile(zos, filename, inputStream);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tclientOut.close();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \r\n    \r\n    \treturn streamResponse;\r\n       }\r\n\r\nbelow method add filename parameter and remove `fis.close()`\r\n\r\n    private void addToZipFile(ZipOutputStream zos, String filename, InputStream fis) throws IOException {\r\n    \tZipEntry zipEntry = new ZipEntry(filename);\r\n    \tzos.putNextEntry(zipEntry);\r\n    \tbyte[] bytes = new byte[1024];\r\n    \tint length;\r\n    \twhile ((length = fis.read(bytes)) &gt;= 0) {\r\n    \t\tzos.write(bytes, 0, length);\r\n    \t}\r\n    \tzos.closeEntry();\r\n    }","title":"Java zip files from streams instantly without using byte[]","body":"<p>Thanks to @xtratic, this only simplify version.</p>\n<ul>\n<li><p>Fixed unable to open zip file in windows by auto closing in try-with-resource</p>\n</li>\n<li><p>Remove uneccessary &quot;test.zip&quot; file</p>\n</li>\n<li><p>Remove class <code>SplitOutputStream</code></p>\n</li>\n<li><p>add block finally close on variable <code>clientOut</code> (just to make sure, you can remove it though :) )</p>\n<pre><code>public StreamingResponseBody yourMethod(Some Params...) {\n\n Map&lt;String, InputStream&gt; inputStreamMap = // map String file name and input stream\n StreamingResponseBody streamResponse = clientOut -&gt; {\n     try (ZipOutputStream zos = new ZipOutputStream(clientOut)) {\n         for (Map.Entry&lt;String, InputStream&gt; entry : inputStreamMap.entrySet()) {\n             String filename = entry.getKey();\n             try (InputStream inputStream = entry.getValue()) {\n                 addToZipFile(zos, filename, inputStream);\n             }\n         }\n     } finally {\n         clientOut.close();\n     }\n };\n\n\n\n return streamResponse;\n}\n</code></pre>\n</li>\n</ul>\n<p>below method add filename parameter and remove <code>fis.close()</code></p>\n<pre><code>private void addToZipFile(ZipOutputStream zos, String filename, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(filename);\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n}\n</code></pre>\n"}],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3613,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":53886072,"answer_count":2,"score":6,"last_activity_date":1696403824,"creation_date":1545398260,"question_id":53885467,"body_markdown":"I want to compress multiples files into a zip files, I&#39;m dealing with big files, and  then download them into the client, for the moment I&#39;m using this:\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET, produces = &quot;application/zip&quot;)\r\n    public ResponseEntity &lt;StreamingResponseBody&gt; getFile() throws Exception {\r\n        File zippedFile = new File(&quot;test.zip&quot;);\r\n        FileOutputStream fos = new FileOutputStream(zippedFile);\r\n        ZipOutputStream zos = new ZipOutputStream(fos);\r\n        InputStream[] streams = getStreamsFromAzure();\r\n        for (InputStream stream: streams) {\r\n            addToZipFile(zos, stream);\r\n        }\r\n        final InputStream fecFile = new FileInputStream(zippedFile);\r\n        Long fileLength = zippedFile.length();\r\n        StreamingResponseBody stream = outputStream - &gt;\r\n            readAndWrite(fecFile, outputStream);\r\n    \r\n        return ResponseEntity.ok()\r\n            .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\r\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + &quot;download.zip&quot;)\r\n            .contentLength(fileLength)\r\n            .contentType(MediaType.parseMediaType(&quot;application/zip&quot;))\r\n            .body(stream);\r\n    }\r\n    \r\n    private void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\r\n        ZipEntry zipEntry = new ZipEntry(generateFileName());\r\n        zos.putNextEntry(zipEntry);\r\n        byte[] bytes = new byte[1024];\r\n        int length;\r\n        while ((length = fis.read(bytes)) &gt;= 0) {\r\n            zos.write(bytes, 0, length);\r\n        }\r\n        zos.closeEntry();\r\n        fis.close();\r\n    }\r\n\r\nThis take a lot of time before all files are zipped and then the downloading start, and for large files this kan take a lot of time, this is the line responsible for the delay:\r\n\r\n    while ((length = fis.read(bytes)) &gt;= 0) {\r\n        zos.write(bytes, 0, length);\r\n    }\r\n\r\nSo is there a way to download files immediately while their being zipped ?","title":"Java zip files from streams instantly without using byte[]","body":"<p>I want to compress multiples files into a zip files, I'm dealing with big files, and  then download them into the client, for the moment I'm using this:</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET, produces = \"application/zip\")\npublic ResponseEntity &lt;StreamingResponseBody&gt; getFile() throws Exception {\n    File zippedFile = new File(\"test.zip\");\n    FileOutputStream fos = new FileOutputStream(zippedFile);\n    ZipOutputStream zos = new ZipOutputStream(fos);\n    InputStream[] streams = getStreamsFromAzure();\n    for (InputStream stream: streams) {\n        addToZipFile(zos, stream);\n    }\n    final InputStream fecFile = new FileInputStream(zippedFile);\n    Long fileLength = zippedFile.length();\n    StreamingResponseBody stream = outputStream - &gt;\n        readAndWrite(fecFile, outputStream);\n\n    return ResponseEntity.ok()\n        .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\n        .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + \"download.zip\")\n        .contentLength(fileLength)\n        .contentType(MediaType.parseMediaType(\"application/zip\"))\n        .body(stream);\n}\n\nprivate void addToZipFile(ZipOutputStream zos, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(generateFileName());\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n    fis.close();\n}\n</code></pre>\n\n<p>This take a lot of time before all files are zipped and then the downloading start, and for large files this kan take a lot of time, this is the line responsible for the delay:</p>\n\n<pre><code>while ((length = fis.read(bytes)) &gt;= 0) {\n    zos.write(bytes, 0, length);\n}\n</code></pre>\n\n<p>So is there a way to download files immediately while their being zipped ?</p>\n"},{"tags":["java","logback","java.util.logging"],"comments":[{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":1,"creation_date":1530185866,"post_id":51076807,"comment_id":89152150,"body_markdown":"Bugs and limitations in Logback. Reading the comments from Brice at https://stackoverflow.com/a/20407321/3080094 - you probably need Logback 1.0.3 at a minimum to get it working without source code changes.","body":"Bugs and limitations in Logback. Reading the comments from Brice at <a href=\"https://stackoverflow.com/a/20407321/3080094\">stackoverflow.com/a/20407321/3080094</a> - you probably need Logback 1.0.3 at a minimum to get it working without source code changes."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1530187629,"post_id":51076807,"comment_id":89153402,"body_markdown":"Thank you, it looks promising.","body":"Thank you, it looks promising."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1530198475,"post_id":51076807,"comment_id":89160810,"body_markdown":"Upgrade to the current version did not help. I had to add  a contextListener as recommended in the linked answer.","body":"Upgrade to the current version did not help. I had to add  a contextListener as recommended in the linked answer."},{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":1,"creation_date":1530208183,"post_id":51076807,"comment_id":89166068,"body_markdown":"The contextListener uses a LevelChangePropagator which is only available after 0.9.25 (and bug-fixed in 1.0.3), and you were using 0.9.20. I guess the upgrade and the contextListener combined did the trick?","body":"The contextListener uses a LevelChangePropagator which is only available after 0.9.25 (and bug-fixed in 1.0.3), and you were using 0.9.20. I guess the upgrade and the contextListener combined did the trick?"}],"answers":[{"tags":[],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1696403371,"creation_date":1530266189,"answer_id":51099079,"question_id":51076807,"body_markdown":"For future reference and googlers:\r\n\r\nTo Logback be able to propagate its configuration to JCL (java.util.logging) it is neccessary to add\r\n\r\n    &lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\r\n        &lt;!-- reset all previous level configurations of all j.u.l. loggers --&gt;\r\n        &lt;resetJUL&gt;true&lt;/resetJUL&gt;\r\n    &lt;/contextListener&gt;\r\n\r\nand use the current version. Cudos to @vanOekel. See https://stackoverflow.com/a/20407321/1639556 for details.","title":"Logback does not log JUL fine level","body":"<p>For future reference and googlers:</p>\n<p>To Logback be able to propagate its configuration to JCL (java.util.logging) it is neccessary to add</p>\n<pre><code>&lt;contextListener class=&quot;ch.qos.logback.classic.jul.LevelChangePropagator&quot;&gt;\n    &lt;!-- reset all previous level configurations of all j.u.l. loggers --&gt;\n    &lt;resetJUL&gt;true&lt;/resetJUL&gt;\n&lt;/contextListener&gt;\n</code></pre>\n<p>and use the current version. Cudos to @vanOekel. See <a href=\"https://stackoverflow.com/a/20407321/1639556\">https://stackoverflow.com/a/20407321/1639556</a> for details.</p>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2490,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51099079,"answer_count":1,"score":5,"last_activity_date":1696403371,"creation_date":1530170097,"question_id":51076807,"body_markdown":"I am fixing a legacy JSF application running on tomcat 7.\r\n\r\nUserAccessBB.java \r\n\r\n    package beans;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class UserAccessBB {\r\n    private static final Logger LOG = \r\n    Logger.getLogger(UserAccessBB.class.getName());\r\n\r\n    public UserAccessBB() {\r\n        LOG.fine(&quot;UserAccessBB&quot;);\r\n\r\nlogback.xml\r\n\r\n\t&lt;logger name=&quot;beans&quot; level=&quot;TRACE&quot; additivity=&quot;false&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n\t&lt;/logger&gt;\r\n\t&lt;root level=&quot;INFO&quot;&gt;\r\n\t\t&lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n\t\t&lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n\t&lt;/root&gt;\r\n\r\nmaven\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;${slf4j.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nThe file is copied to WEB-INF/classes\r\n\r\nThe log file contains only INFO and higher level logs from this class. Lower levels are printed only when I modify the root logger. Where is the issue?","title":"Logback does not log JUL fine level","body":"<p>I am fixing a legacy JSF application running on tomcat 7.</p>\n\n<p>UserAccessBB.java </p>\n\n<pre><code>package beans;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class UserAccessBB {\nprivate static final Logger LOG = \nLogger.getLogger(UserAccessBB.class.getName());\n\npublic UserAccessBB() {\n    LOG.fine(\"UserAccessBB\");\n</code></pre>\n\n<p>logback.xml</p>\n\n<pre><code>&lt;logger name=\"beans\" level=\"TRACE\" additivity=\"false\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n&lt;/logger&gt;\n&lt;root level=\"INFO\"&gt;\n    &lt;appender-ref ref=\"STDOUT\" /&gt;\n    &lt;appender-ref ref=\"FILE\" /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>maven</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;version&gt;${slf4j.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;version&gt;0.9.20&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>The file is copied to WEB-INF/classes</p>\n\n<p>The log file contains only INFO and higher level logs from this class. Lower levels are printed only when I modify the root logger. Where is the issue?</p>\n"},{"tags":["java","java-stream","generator"],"comments":[{"owner":{"account_id":6709095,"reputation":54,"user_id":5173085,"display_name":"Grzesl"},"score":1,"creation_date":1696403173,"post_id":77227422,"comment_id":136146501,"body_markdown":"Try simplyfy your format string like that: (...) return &quot;Test&quot; + String.format(&quot;%06d&quot;,nextId);","body":"Try simplyfy your format string like that: (...) return &quot;Test&quot; + String.format(&quot;%06d&quot;,nextId);"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1696403446,"post_id":77227422,"comment_id":136146554,"body_markdown":"`IntStream.range(0, 20).mapToObj(i -&gt; &quot;Test&quot; + String.format(&quot;%6s&quot;, Integer.toBinaryString(i)).replace(&quot; &quot;, &quot;0&quot;)).forEach(System.out::println);`","body":"<code>IntStream.range(0, 20).mapToObj(i -&gt; &quot;Test&quot; + String.format(&quot;%6s&quot;, Integer.toBinaryString(i)).replace(&quot; &quot;, &quot;0&quot;)).forEach(System.out::println);</code>"},{"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"score":0,"creation_date":1696403869,"post_id":77227422,"comment_id":136146644,"body_markdown":"@NikolasCharalambidis Thanks for the answer , I think you are converting it to BinaryString, instead i want it like this : \nTest0000001\nTest0000002\nTest0000003\nTest0000004\n.....\n....\nTest0000010\nTest0000011\nTest0000012\n.....\n...\nTest0000100\nTest0000101","body":"@NikolasCharalambidis Thanks for the answer , I think you are converting it to BinaryString, instead i want it like this :  Test0000001 Test0000002 Test0000003 Test0000004 ..... .... Test0000010 Test0000011 Test0000012 ..... ... Test0000100 Test0000101"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1696404569,"post_id":77227422,"comment_id":136146775,"body_markdown":"You said something completely different. Adjust the code as you need.","body":"You said something completely different. Adjust the code as you need."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1696406915,"post_id":77227422,"comment_id":136147237,"body_markdown":"@Grzesl or even simpler, `return String.format(&quot;Test%06d&quot;,nextId);`","body":"@Grzesl or even simpler, <code>return String.format(&quot;Test%06d&quot;,nextId);</code>"}],"owner":{"account_id":2839961,"reputation":1762,"user_id":2439770,"accept_rate":57,"display_name":"Sthita"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696403124,"answer_count":0,"score":0,"last_activity_date":1696403194,"creation_date":1696402837,"question_id":77227422,"body_markdown":"I would like to generate custom ID like this :\r\n\r\n    Test0000001\r\n    Test0000002\r\n    Test0000010\r\n    Test0000011\r\n    Test0000100\r\n    Test0000101 \r\n\r\nBut my method always append and generate with `000000` (0000001, 00000010, 00000011) instead i would like to generate ids like mentioned above\r\n\r\n\r\n    public String generateId(int nextId) {\r\n        return &quot;Test&quot; + String.format(&quot;%06d%s&quot;, 0, nextId);\r\n    }\r\n\r\nGuide me on optimal way to generate ID. Thanks","title":"Optimal way to generate sequential id Java","body":"<p>I would like to generate custom ID like this :</p>\n<pre><code>Test0000001\nTest0000002\nTest0000010\nTest0000011\nTest0000100\nTest0000101 \n</code></pre>\n<p>But my method always append and generate with <code>000000</code> (0000001, 00000010, 00000011) instead i would like to generate ids like mentioned above</p>\n<pre><code>public String generateId(int nextId) {\n    return &quot;Test&quot; + String.format(&quot;%06d%s&quot;, 0, nextId);\n}\n</code></pre>\n<p>Guide me on optimal way to generate ID. Thanks</p>\n"},{"tags":["java","spring","aop","aspectj"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1696404697,"post_id":77227434,"comment_id":136146795,"body_markdown":"You have an `@Around` aspect that returns `void`. Which effectively now makes the methods always return `null`. Always return `Object` and always return the result of the call to `joinpoint.proceed()` else you will break things.","body":"You have an <code>@Around</code> aspect that returns <code>void</code>. Which effectively now makes the methods always return <code>null</code>. Always return <code>Object</code> and always return the result of the call to <code>joinpoint.proceed()</code> else you will break things."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1696405087,"post_id":77227434,"comment_id":136146869,"body_markdown":"Can I ask how will this affect the GetMapping, or is it that whatever that breaks due to not returning the result is &quot;random&quot;?","body":"Can I ask how will this affect the GetMapping, or is it that whatever that breaks due to not returning the result is &quot;random&quot;?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1696405477,"post_id":77227434,"comment_id":136146935,"body_markdown":"It isn&#39;t random anything that gets proxied is affected. Basically your aspect is wrong, never use `void` for the around aspect, always return the result of `proceed()`, you never know what might be the actual return type.","body":"It isn&#39;t random anything that gets proxied is affected. Basically your aspect is wrong, never use <code>void</code> for the around aspect, always return the result of <code>proceed()</code>, you never know what might be the actual return type."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1696405660,"post_id":77227434,"comment_id":136146968,"body_markdown":"you&#39;re right! I just took a look at other AOP examples which use around() quite a few of them return Object and the result of proceed(), just that the one I referenced while coding this returned void, and I copied that without knowing its effects.","body":"you&#39;re right! I just took a look at other AOP examples which use around() quite a few of them return Object and the result of proceed(), just that the one I referenced while coding this returned void, and I copied that without knowing its effects."},{"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"score":0,"creation_date":1696405913,"post_id":77227434,"comment_id":136147025,"body_markdown":"yup! it works perfectly fine now. Which is weird, because I distinctly recall it worked last week, but only this week it started throwing errors, so thats why it seemed random to me","body":"yup! it works perfectly fine now. Which is weird, because I distinctly recall it worked last week, but only this week it started throwing errors, so thats why it seemed random to me"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1696414613,"post_id":77227434,"comment_id":136148910,"body_markdown":"M. Deinum is 99% right. But of course, an around advice can return `void`, if its pointcut only targets `void` methods. It is only a problem for non-void ones.","body":"M. Deinum is 99% right. But of course, an around advice can return <code>void</code>, if its pointcut only targets <code>void</code> methods. It is only a problem for non-void ones."}],"owner":{"account_id":27925481,"reputation":175,"user_id":21324690,"display_name":"chunkynuggy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696403003,"creation_date":1696403003,"question_id":77227434,"body_markdown":"I implemented a custom annotation with AOP to add on additional behavior. The usage is something as follows:\r\n\r\n    @GetMapping(path=&quot;/my/path/{date}/{text}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public String subscribe(@PathVariable String date, @PathVariable String text, @PermittedMarkets String[] marketCodes) { //do processing and return something here }\r\n\r\nand my Annotation and AOP are as follows:\r\n\r\n    @Target(ElementType.PARAMETER)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface PermittedMarkets {\r\n    \r\n    }\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class MarketsAspect {\r\n        @Value(&quot;#{${config.market.permitted.marketmapping:{:}}}&quot;)\r\n        private Map&lt;String, String&gt; roleToMarketCodeMap;\r\n        @Value(&quot;${spring.profiles.active:}&quot;)\r\n        private String profile;\r\n    \r\n        @Around(&quot;execution(* *(.., @com.org.app.service.security.annotation.PermittedMarkets (*), ..))&quot;)\r\n        public void permittedMarkets(ProceedingJoinPoint pjp) throws Throwable {\r\n            final var args = pjp.getArgs();\r\n            final var annotations = ((MethodSignature) pjp.getSignature()).getMethod().getParameterAnnotations();\r\n    \r\n            for (int i = 0; i &lt; args.length; i++) {\r\n                for (Annotation annotation : annotations[i]) {\r\n                    if (annotation.annotationType() == PermittedMarkets.class) {\r\n                        if (profile.equals(&quot;dev&quot;)) { args[i] = &quot;*&quot;; continue; }\r\n                        final var grantedAuthorities = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\r\n                                .map(Authentication::getAuthorities)\r\n                                .orElseThrow(() -&gt; new AccessDeniedException(&quot;No authorities found&quot;));\r\n    \r\n                        args[i] = grantedAuthorities.stream()\r\n                                .map(GrantedAuthority::getAuthority)\r\n                                .filter(entitlement -&gt; entitlement.contains(&quot;app_user&quot;))\r\n                                .map(A_entitlement -&gt; roleToMarketCodeMap.get(A_entitlement))\r\n                                .filter(Objects::nonNull).collect(Collectors.joining(&quot;,&quot;));\r\n                    }\r\n                }\r\n            }\r\n            pjp.proceed(args);\r\n        }\r\n    }\r\n\r\nHowever, I found out that this does not seem to work as intended. When I comment out the entirety of permittedMarkets() method, the frontend response has this Response Header:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I do not comment out, it has this response header and error log:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\nEventSource&#39;s response has a Content-Type specifying an unsupported type: -. Aborting connection\r\n\r\nIt seems that the AOP I added is affecting the GetMapping on my original method. How can I resolve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tUwdK.png\r\n  [2]: https://i.stack.imgur.com/oU9ze.png\r\n  [3]: https://i.stack.imgur.com/tLiaj.png","title":"Custom Annotation with AOP is affecting GetMapping annotation","body":"<p>I implemented a custom annotation with AOP to add on additional behavior. The usage is something as follows:</p>\n<pre><code>@GetMapping(path=&quot;/my/path/{date}/{text}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\npublic String subscribe(@PathVariable String date, @PathVariable String text, @PermittedMarkets String[] marketCodes) { //do processing and return something here }\n</code></pre>\n<p>and my Annotation and AOP are as follows:</p>\n<pre><code>@Target(ElementType.PARAMETER)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface PermittedMarkets {\n\n}\n\n@Aspect\n@Component\npublic class MarketsAspect {\n    @Value(&quot;#{${config.market.permitted.marketmapping:{:}}}&quot;)\n    private Map&lt;String, String&gt; roleToMarketCodeMap;\n    @Value(&quot;${spring.profiles.active:}&quot;)\n    private String profile;\n\n    @Around(&quot;execution(* *(.., @com.org.app.service.security.annotation.PermittedMarkets (*), ..))&quot;)\n    public void permittedMarkets(ProceedingJoinPoint pjp) throws Throwable {\n        final var args = pjp.getArgs();\n        final var annotations = ((MethodSignature) pjp.getSignature()).getMethod().getParameterAnnotations();\n\n        for (int i = 0; i &lt; args.length; i++) {\n            for (Annotation annotation : annotations[i]) {\n                if (annotation.annotationType() == PermittedMarkets.class) {\n                    if (profile.equals(&quot;dev&quot;)) { args[i] = &quot;*&quot;; continue; }\n                    final var grantedAuthorities = Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication())\n                            .map(Authentication::getAuthorities)\n                            .orElseThrow(() -&gt; new AccessDeniedException(&quot;No authorities found&quot;));\n\n                    args[i] = grantedAuthorities.stream()\n                            .map(GrantedAuthority::getAuthority)\n                            .filter(entitlement -&gt; entitlement.contains(&quot;app_user&quot;))\n                            .map(A_entitlement -&gt; roleToMarketCodeMap.get(A_entitlement))\n                            .filter(Objects::nonNull).collect(Collectors.joining(&quot;,&quot;));\n                }\n            }\n        }\n        pjp.proceed(args);\n    }\n}\n</code></pre>\n<p>However, I found out that this does not seem to work as intended. When I comment out the entirety of permittedMarkets() method, the frontend response has this Response Header:</p>\n<p><a href=\"https://i.stack.imgur.com/tUwdK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tUwdK.png\" alt=\"enter image description here\" /></a></p>\n<p>If I do not comment out, it has this response header and error log:</p>\n<p><a href=\"https://i.stack.imgur.com/oU9ze.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oU9ze.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tLiaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tLiaj.png\" alt=\"enter image description here\" /></a>\nEventSource's response has a Content-Type specifying an unsupported type: -. Aborting connection</p>\n<p>It seems that the AOP I added is affecting the GetMapping on my original method. How can I resolve this?</p>\n"},{"tags":["java","unit-testing","testng","reportng"],"comments":[{"owner":{"account_id":4928280,"reputation":3516,"user_id":3968921,"accept_rate":43,"display_name":"Ankit Deshpande"},"score":0,"creation_date":1547287761,"post_id":11622365,"comment_id":95147254,"body_markdown":"Why is the test failing though ?","body":"Why is the test failing though ?"}],"answers":[{"tags":[],"owner":{"account_id":1044891,"reputation":2477,"user_id":1050112,"accept_rate":55,"display_name":"MushyPeas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346173893,"creation_date":1346173628,"answer_id":12164173,"question_id":11622365,"body_markdown":"since nobody replied, i give it a try.\r\n\r\njust random thoughts i had when reading your post, while i was searching for a solution for my problem...\r\n\r\nyou can get the result of your test in your `@AfterTest` method via `ITestResult result`\r\n   \r\n    @AfterMethod\r\n    public void AfterMethod_CheckForFailure(ITestResult result, Method m)\r\n\r\nan `@AfterMethod` is called when a method with `@Test` annotation has finished.\r\nable to read the current iteration from a `static` class with a `static` member\r\nand if its `&lt;5` then use\r\n\r\n    result.setStatus(ITestResult.SUCCESS); // or what ever status you want\r\n    setCurrentTestResult(result);\r\n\r\ndunno if that works, but looks to me it could :) Good luck","title":"How to only output one Pass/Fail result when test is rerun?","body":"<p>since nobody replied, i give it a try.</p>\n\n<p>just random thoughts i had when reading your post, while i was searching for a solution for my problem...</p>\n\n<p>you can get the result of your test in your <code>@AfterTest</code> method via <code>ITestResult result</code></p>\n\n<pre><code>@AfterMethod\npublic void AfterMethod_CheckForFailure(ITestResult result, Method m)\n</code></pre>\n\n<p>an <code>@AfterMethod</code> is called when a method with <code>@Test</code> annotation has finished.\nable to read the current iteration from a <code>static</code> class with a <code>static</code> member\nand if its <code>&lt;5</code> then use</p>\n\n<pre><code>result.setStatus(ITestResult.SUCCESS); // or what ever status you want\nsetCurrentTestResult(result);\n</code></pre>\n\n<p>dunno if that works, but looks to me it could :) Good luck</p>\n"},{"tags":[],"owner":{"account_id":2398253,"reputation":15105,"user_id":2434234,"accept_rate":67,"display_name":"Nick Humrich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374763438,"creation_date":1374618397,"answer_id":17822078,"question_id":11622365,"body_markdown":"I have just done this and how I did it was I considered everything before the last time a success. I did this to allow 3 reruns, here is the code I used:\r\n\r\n\r\n    import org.testng.IRetryAnalyzer;\r\n    import org.testng.ITestResult;\r\n    import org.testng.Reporter;\r\n    \r\n    public class RetryAnalyzer implements IRetryAnalyzer {\r\n      private int count = 0;\r\n      private int maxCount = 2;\r\n    \r\n      @Override\r\n      public boolean retry(ITestResult result) {\r\n        if (!result.isSuccess()) {\r\n          if (count &lt; maxCount) {\r\n            count++;\r\n            result.setStatus(ITestResult.SUCCESS);\r\n            String message = Thread.currentThread().getName() + &quot;: Error in &quot; + result.getName() + &quot; Retrying &quot;\r\n                + (maxCount + 1 - count) + &quot; more times&quot;;\r\n            System.out.println(message);\r\n            Reporter.log(message);\r\n            return true;\r\n          } else {\r\n            result.setStatus(ITestResult.FAILURE);\r\n          }\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n\r\n\r\n\r\nThe key here was when I am still retrying, I set the result to success\r\n\r\n    result.setStatus(ITestResult.SUCCESS)\r\nand when the attempt has been made and it still fails, then set it to a fail\r\n\r\n    result.setStatus(ITestResult.FAILURE);","title":"How to only output one Pass/Fail result when test is rerun?","body":"<p>I have just done this and how I did it was I considered everything before the last time a success. I did this to allow 3 reruns, here is the code I used:</p>\n\n<pre><code>import org.testng.IRetryAnalyzer;\nimport org.testng.ITestResult;\nimport org.testng.Reporter;\n\npublic class RetryAnalyzer implements IRetryAnalyzer {\n  private int count = 0;\n  private int maxCount = 2;\n\n  @Override\n  public boolean retry(ITestResult result) {\n    if (!result.isSuccess()) {\n      if (count &lt; maxCount) {\n        count++;\n        result.setStatus(ITestResult.SUCCESS);\n        String message = Thread.currentThread().getName() + \": Error in \" + result.getName() + \" Retrying \"\n            + (maxCount + 1 - count) + \" more times\";\n        System.out.println(message);\n        Reporter.log(message);\n        return true;\n      } else {\n        result.setStatus(ITestResult.FAILURE);\n      }\n    }\n    return false;\n  }\n}\n</code></pre>\n\n<p>The key here was when I am still retrying, I set the result to success</p>\n\n<pre><code>result.setStatus(ITestResult.SUCCESS)\n</code></pre>\n\n<p>and when the attempt has been made and it still fails, then set it to a fail</p>\n\n<pre><code>result.setStatus(ITestResult.FAILURE);\n</code></pre>\n"}],"owner":{"account_id":1683436,"reputation":21,"user_id":1547185,"display_name":"user1547185"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9322,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696402975,"creation_date":1343088778,"question_id":11622365,"body_markdown":"I&#39;m using the IRetryAnalyzer class in TestNG in order to relaunch tests that fail (up to 5 attempts).  Right now if I run a test and it fails three times before passing, it says: \r\n&gt;Tests run: 4, Failures: 3, Errors 0, Skipped 0. \r\n\r\nWhat I want the results to show is:\r\n\r\n&gt; Tests run: 1, Failures: 0, Errors 0, Skipped 0.\r\n\r\nBasically, I don&#39;t want it to count as a failure unless it fails all 5 reruns. How do I do this? ","title":"How to only output one Pass/Fail result when test is rerun?","body":"<p>I'm using the IRetryAnalyzer class in TestNG in order to relaunch tests that fail (up to 5 attempts).  Right now if I run a test and it fails three times before passing, it says:</p>\n<blockquote>\n<p>Tests run: 4, Failures: 3, Errors 0, Skipped 0.</p>\n</blockquote>\n<p>What I want the results to show is:</p>\n<blockquote>\n<p>Tests run: 1, Failures: 0, Errors 0, Skipped 0.</p>\n</blockquote>\n<p>Basically, I don't want it to count as a failure unless it fails all 5 reruns. How do I do this?</p>\n"},{"tags":["java","kotlin"],"owner":{"account_id":9139237,"reputation":1,"user_id":6797736,"display_name":"Ond Mares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696402771,"creation_date":1696356043,"question_id":77224553,"body_markdown":"I have an application that tests another application with a set of data. When this test runs, it takes some time, so I used SseEmiter to display the progress.\r\nAfter updating to spring-boot version 3.0.7 it stopped working.\r\n\r\n# code example:\r\n\r\nThe first one is called EP which creates an instance of SseEmitter.\r\n\r\n```\r\n    fun testProgressStream(emitterId: String) = run {\r\n        val sseEmitter = sseEmitters[emitterId] ?: SseEmitter(600000)\r\n        sseEmitters[emitterId] = sseEmitter\r\n        sseEmitter\r\n    }\r\n```\r\n\r\nThe second EP is called next, where the test is started and the method &quot;send&quot; is called during the test.\r\n\r\n```\r\n @Transactional\r\n    fun runTest(\r\n        projectId: ProjectId,\r\n        request: RunTestRequest,\r\n        authentication: Authentication,\r\n        token: String,\r\n        emitterId: String\r\n    ): RunTestResponse {\r\n        val sseEmitter = sseEmitters[emitterId]\r\n        var counter = 0\r\n        var (dataSetId, env, clientId) = request\r\n        val dataSet = dataSetService.getFull(dataSetId)\r\n        val testName = createTestName(dataSet, projectId, env, clientId)\r\n        val client = configDataService.getClient(projectId, env, clientId, token)\r\n        val author: String = authentication.name\r\n        val traceId = UUID.randomUUID().toString()\r\n\r\n        ponyFacade = ponyFactory.byEnv(env) ?: throw TestException(&quot;Could not found Pony instance&quot;)\r\n        var sessionId = createPonySession(client, traceId)\r\n        val test = findOrCreateTest(dataSet, env, clientId, projectId, author)\r\n        val resultItems = mutableListOf&lt;TestResultItem&gt;()\r\n\r\n\r\n        val testResult = TestResult(\r\n            name = testName, test = test, executed = LocalDateTime.now(clock), executedBy = author, items = resultItems\r\n        )\r\n\r\n        sseEmitter?.send(SseEmitter.event().data(&quot;Starting test!!&quot;).name(SSE_TEST_MESSAGE))\r\n        test.results.add(testResult)\r\n\r\n        dataSet.items.forEachIndexed loop@{ index, item -&gt;\r\n\r\n            if (item.question.equals(NEW_SESSION_FLAG, true)) {\r\n\r\n                sseEmitter?.send(SseEmitter.event().data(&quot;--------------------&quot;).name(SSE_TEST_MESSAGE).id(item.hashCode().toString()))\r\n                sseEmitter?.send(SseEmitter.event().data(&quot;Creating new session&quot;).name(SSE_TEST_MESSAGE))\r\n\r\n                //Thread.sleep(1000) //By pausing, we prevent problems with the number of requests for IBM services in short time\r\n                sessionId = createPonySession(client, traceId)\r\n                return@loop\r\n            }\r\n\r\n            sseEmitter?.send(\r\n                SseEmitter.event()\r\n                    .data(dataSet.items.filter { it.question != NEW_SESSION_FLAG }.size)\r\n                    .name(SSE_TEST_SIZE_EVENT)\r\n            )\r\n\r\n            sseEmitter?.send(SseEmitter.event().data(&quot;Question: ${item.question}&quot; ).name(SSE_TEST_MESSAGE))\r\n\r\n            val messageResponse = testMessage(ponyFacade, client.apiKey, traceId, sessionId, item)\r\n            resultItems.add(buildTestResultItem(testResult, item, messageResponse))\r\n\r\n            sseEmitter?.send(\r\n                SseEmitter.event()\r\n                    .data(++counter)\r\n                    .name(SSE_TEST_PROGRESS_EVENT)\r\n            )\r\n\r\n            request.keepSession.takeIf { !it &amp;&amp; index != dataSet.items.lastIndex }?.let {\r\n                sessionId = createPonySession(client, traceId)\r\n            }\r\n        }\r\n        sseEmitter?.onTimeout {\r\n            sseEmitters.remove(emitterId)\r\n        }\r\n        sseEmitter?.onCompletion {\r\n            sseEmitters.remove(emitterId)\r\n        }\r\n        sseEmitter?.complete()\r\n\r\n        val report = testResult.items.takeIf { it.isNotEmpty() }?.let {\r\n            compareTestsService.compare(it)\r\n        }\r\n        val savedTestEntity = repository.save(test)\r\n\r\n        return RunTestResponse(\r\n            testResultId = savedTestEntity.results.last().id,\r\n            testDatasetIntentConflicts = report?.testDatasetIntentConflicts,\r\n            testDataSetResponseIdConflicts = report?.testDataSetResponseIdConflicts,\r\n            testIntentsConfidenceConflicts = report?.testIntentsConfidenceConflicts\r\n        )\r\n    }\r\n```\r\n\r\n**Even if the test ends, no message will come through EP with SseEmitor.**\r\n\r\nI don&#39;t have any errors in BE, nothing just happens.\r\n\r\nFE App throws an error, here is the console script.\r\n\r\n[enter image description here](https://i.stack.imgur.com/mseLc.png)\r\n\r\n```\r\n const wrongValues = validate();\r\n        let emitterId = uuidv4();\r\n        var eventSource = new EventSource(`${window.location.origin}/tf/api/v1/tests/progress-stream?emitterId=${emitterId}`)\r\n\r\n        // addEventListener version\r\n        eventSource.addEventListener(&quot;error&quot;, (e) =&gt; {\r\n            console.log(&quot;An error occurred while attempting to connect.&quot;, e.data);\r\n        });\r\n\r\n        eventSource.onmessage = (e) =&gt; {\r\n            console.log(e)\r\n        };\r\n\r\n        eventSource.addEventListener(&quot;TEST_PROGRESS&quot;, (event) =&gt; {\r\n            let progress = JSON.parse(event.data);\r\n            setProgress(progress);\r\n            if (progress === itemsSize) {\r\n                eventSource.close();\r\n                console.log(&quot;SSE closed&quot;);\r\n            }\r\n        });\r\n\r\n        eventSource.addEventListener(&quot;TEST_SIZE&quot;, (event) =&gt; {\r\n            let size = JSON.parse(event.data);\r\n            console.log(`Test size: ${size}`);\r\n            setItemsSize(size);\r\n        });\r\n\r\n        eventSource.onerror = (event) =&gt; {\r\n            if (event.target.readyState === EventSource.CLOSED)\r\n                console.log(&quot;SSE closed (&quot; + event.target.readyState + &quot;)&quot;);\r\n            else\r\n                console.log(&quot;connection error&quot;, event);\r\n                eventSource.close()\r\n        };\r\n\r\n        eventSource.onopen = () =&gt; {\r\n            console.log(&quot;connection opened&quot;);\r\n        };\r\n```\r\n\r\nI tried a lot of things, I don&#39;t know what to describe here.\r\n\r\nFor example, I added sending a message to the EP to create an Emmiter. The message comes, but if I put Thread.sleep(1000) before the message, the message doesn&#39;t come.\r\n\r\n\r\nHow I need it to work: So that during the running test, the messages that I set up and in parts of the code go to FE in real time, alo with using Thread.sleep() in code.\r\n\r\n\r\n\r\n","title":"SseEmitter does not work after update to spring-boot 3","body":"<p>I have an application that tests another application with a set of data. When this test runs, it takes some time, so I used SseEmiter to display the progress.\nAfter updating to spring-boot version 3.0.7 it stopped working.</p>\n<h1>code example:</h1>\n<p>The first one is called EP which creates an instance of SseEmitter.</p>\n<pre><code>    fun testProgressStream(emitterId: String) = run {\n        val sseEmitter = sseEmitters[emitterId] ?: SseEmitter(600000)\n        sseEmitters[emitterId] = sseEmitter\n        sseEmitter\n    }\n</code></pre>\n<p>The second EP is called next, where the test is started and the method &quot;send&quot; is called during the test.</p>\n<pre><code> @Transactional\n    fun runTest(\n        projectId: ProjectId,\n        request: RunTestRequest,\n        authentication: Authentication,\n        token: String,\n        emitterId: String\n    ): RunTestResponse {\n        val sseEmitter = sseEmitters[emitterId]\n        var counter = 0\n        var (dataSetId, env, clientId) = request\n        val dataSet = dataSetService.getFull(dataSetId)\n        val testName = createTestName(dataSet, projectId, env, clientId)\n        val client = configDataService.getClient(projectId, env, clientId, token)\n        val author: String = authentication.name\n        val traceId = UUID.randomUUID().toString()\n\n        ponyFacade = ponyFactory.byEnv(env) ?: throw TestException(&quot;Could not found Pony instance&quot;)\n        var sessionId = createPonySession(client, traceId)\n        val test = findOrCreateTest(dataSet, env, clientId, projectId, author)\n        val resultItems = mutableListOf&lt;TestResultItem&gt;()\n\n\n        val testResult = TestResult(\n            name = testName, test = test, executed = LocalDateTime.now(clock), executedBy = author, items = resultItems\n        )\n\n        sseEmitter?.send(SseEmitter.event().data(&quot;Starting test!!&quot;).name(SSE_TEST_MESSAGE))\n        test.results.add(testResult)\n\n        dataSet.items.forEachIndexed loop@{ index, item -&gt;\n\n            if (item.question.equals(NEW_SESSION_FLAG, true)) {\n\n                sseEmitter?.send(SseEmitter.event().data(&quot;--------------------&quot;).name(SSE_TEST_MESSAGE).id(item.hashCode().toString()))\n                sseEmitter?.send(SseEmitter.event().data(&quot;Creating new session&quot;).name(SSE_TEST_MESSAGE))\n\n                //Thread.sleep(1000) //By pausing, we prevent problems with the number of requests for IBM services in short time\n                sessionId = createPonySession(client, traceId)\n                return@loop\n            }\n\n            sseEmitter?.send(\n                SseEmitter.event()\n                    .data(dataSet.items.filter { it.question != NEW_SESSION_FLAG }.size)\n                    .name(SSE_TEST_SIZE_EVENT)\n            )\n\n            sseEmitter?.send(SseEmitter.event().data(&quot;Question: ${item.question}&quot; ).name(SSE_TEST_MESSAGE))\n\n            val messageResponse = testMessage(ponyFacade, client.apiKey, traceId, sessionId, item)\n            resultItems.add(buildTestResultItem(testResult, item, messageResponse))\n\n            sseEmitter?.send(\n                SseEmitter.event()\n                    .data(++counter)\n                    .name(SSE_TEST_PROGRESS_EVENT)\n            )\n\n            request.keepSession.takeIf { !it &amp;&amp; index != dataSet.items.lastIndex }?.let {\n                sessionId = createPonySession(client, traceId)\n            }\n        }\n        sseEmitter?.onTimeout {\n            sseEmitters.remove(emitterId)\n        }\n        sseEmitter?.onCompletion {\n            sseEmitters.remove(emitterId)\n        }\n        sseEmitter?.complete()\n\n        val report = testResult.items.takeIf { it.isNotEmpty() }?.let {\n            compareTestsService.compare(it)\n        }\n        val savedTestEntity = repository.save(test)\n\n        return RunTestResponse(\n            testResultId = savedTestEntity.results.last().id,\n            testDatasetIntentConflicts = report?.testDatasetIntentConflicts,\n            testDataSetResponseIdConflicts = report?.testDataSetResponseIdConflicts,\n            testIntentsConfidenceConflicts = report?.testIntentsConfidenceConflicts\n        )\n    }\n</code></pre>\n<p><strong>Even if the test ends, no message will come through EP with SseEmitor.</strong></p>\n<p>I don't have any errors in BE, nothing just happens.</p>\n<p>FE App throws an error, here is the console script.</p>\n<p><a href=\"https://i.stack.imgur.com/mseLc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code> const wrongValues = validate();\n        let emitterId = uuidv4();\n        var eventSource = new EventSource(`${window.location.origin}/tf/api/v1/tests/progress-stream?emitterId=${emitterId}`)\n\n        // addEventListener version\n        eventSource.addEventListener(&quot;error&quot;, (e) =&gt; {\n            console.log(&quot;An error occurred while attempting to connect.&quot;, e.data);\n        });\n\n        eventSource.onmessage = (e) =&gt; {\n            console.log(e)\n        };\n\n        eventSource.addEventListener(&quot;TEST_PROGRESS&quot;, (event) =&gt; {\n            let progress = JSON.parse(event.data);\n            setProgress(progress);\n            if (progress === itemsSize) {\n                eventSource.close();\n                console.log(&quot;SSE closed&quot;);\n            }\n        });\n\n        eventSource.addEventListener(&quot;TEST_SIZE&quot;, (event) =&gt; {\n            let size = JSON.parse(event.data);\n            console.log(`Test size: ${size}`);\n            setItemsSize(size);\n        });\n\n        eventSource.onerror = (event) =&gt; {\n            if (event.target.readyState === EventSource.CLOSED)\n                console.log(&quot;SSE closed (&quot; + event.target.readyState + &quot;)&quot;);\n            else\n                console.log(&quot;connection error&quot;, event);\n                eventSource.close()\n        };\n\n        eventSource.onopen = () =&gt; {\n            console.log(&quot;connection opened&quot;);\n        };\n</code></pre>\n<p>I tried a lot of things, I don't know what to describe here.</p>\n<p>For example, I added sending a message to the EP to create an Emmiter. The message comes, but if I put Thread.sleep(1000) before the message, the message doesn't come.</p>\n<p>How I need it to work: So that during the running test, the messages that I set up and in parts of the code go to FE in real time, alo with using Thread.sleep() in code.</p>\n"},{"tags":["java","oop","equality"],"comments":[{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":3,"creation_date":1681573787,"post_id":76023279,"comment_id":134079954,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":39208,"reputation":251220,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681573818,"post_id":76023279,"comment_id":134079962,"body_markdown":"`var x = 4; var y = x; y = 2;` – x is still 4.","body":"<code>var x = 4; var y = x; y = 2;</code> – x is still 4."},{"owner":{"account_id":2141010,"reputation":118219,"user_id":1899640,"display_name":"that other guy"},"score":1,"creation_date":1681574411,"post_id":76023279,"comment_id":134080046,"body_markdown":"It sounds like you&#39;re reading the `=` as mathematical equality, so that `x=y, x=z` means `y=z`. It&#39;s actually assignment, in math sometimes written `:=`, and means something like &quot;forget the previous definition of x and use this new one instead&quot;","body":"It sounds like you&#39;re reading the <code>=</code> as mathematical equality, so that <code>x=y, x=z</code> means <code>y=z</code>. It&#39;s actually assignment, in math sometimes written <code>:=</code>, and means something like &quot;forget the previous definition of x and use this new one instead&quot;"},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1681575309,"post_id":76023279,"comment_id":134080178,"body_markdown":"I suggest you try stepping through your program with a visualisation like [this one](https://pythontutor.com/java.html).","body":"I suggest you try stepping through your program with a visualisation like <a href=\"https://pythontutor.com/java.html\" rel=\"nofollow noreferrer\">this one</a>."},{"owner":{"account_id":28314195,"reputation":21,"user_id":21651013,"display_name":"Andrew"},"score":0,"creation_date":1681579867,"post_id":76023279,"comment_id":134080774,"body_markdown":"@knittl The pass-by-value thing is for passing objects into methods. This example however is all in the main method. Basically i&#39;m saying why obj.child = obj3 is different from saying obj2 = obj3, assuming that obj.child is obj2","body":"@knittl The pass-by-value thing is for passing objects into methods. This example however is all in the main method. Basically i&#39;m saying why obj.child = obj3 is different from saying obj2 = obj3, assuming that obj.child is obj2"}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696402440,"creation_date":1681574479,"answer_id":76023341,"question_id":76023279,"body_markdown":"This is what happens after each of your code lines.\r\n\r\n1\r\n- \r\n\r\n```java\r\nPractice obj = new Practice(10);\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +--------------+\r\n```\r\n\r\n2\r\n-\r\n```java\r\nPractice obj2 = new Practice(9);\r\n// HEAP\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +--------------+\r\n//\r\n//                 +-------------+\r\n//      obj2 ----&gt; + Practice(9) +  \r\n//                 +-------------+   \r\n```\r\n\r\n3\r\n-\r\n\r\n```java\r\nPractice obj3 = new Practice(11);\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +--------------+\r\n//\r\n//                 +-------------+\r\n//      obj2 ----&gt; + Practice(9) +  \r\n//                 +-------------+        \r\n//  \r\n//                 +--------------+       \r\n//      obj3 ----&gt; + Practice(11) +\r\n//                 +--------------+    \r\n```\r\n\r\n4\r\n-\r\n\r\n```java\r\nobj.child = obj3;\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +    child -------------+\r\n//                +--------------+        |\r\n//                                        |\r\n//                 +-------------+        |\r\n//      obj2 ----&gt; + Practice(9) +        |\r\n//                 +-------------+        | \r\n//                                        |\r\n//                 +--------------+       |\r\n//      obj3 ----&gt; + Practice(11) +  &lt;----+\r\n//                 +--------------+ \r\n```\r\n\r\n5\r\n-\r\n\r\n```java\r\nobj.child = obj2;\r\n// HEAP\r\n// ====\r\n//                +--------------+\r\n//      obj ----&gt; + Practice(10) +\r\n//                +    child -------------+\r\n//                +--------------+        |\r\n//                                        |\r\n//                 +-------------+        |\r\n//      obj2 ----&gt; + Practice(9) + &lt;------+\r\n//                 +-------------+         \r\n//                                        \r\n//                 +--------------+       \r\n//      obj3 ----&gt; + Practice(11) +\r\n//                 +--------------+ \r\n```","title":"Confused about object pointers/equality","body":"<p>This is what happens after each of your code lines.</p>\n<h2>1</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Practice obj = new Practice(10);\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +--------------+\n</code></pre>\n<h2>2</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Practice obj2 = new Practice(9);\n// HEAP\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +--------------+\n//\n//                 +-------------+\n//      obj2 ----&gt; + Practice(9) +  \n//                 +-------------+   \n</code></pre>\n<h2>3</h2>\n<pre class=\"lang-java prettyprint-override\"><code>Practice obj3 = new Practice(11);\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +--------------+\n//\n//                 +-------------+\n//      obj2 ----&gt; + Practice(9) +  \n//                 +-------------+        \n//  \n//                 +--------------+       \n//      obj3 ----&gt; + Practice(11) +\n//                 +--------------+    \n</code></pre>\n<h2>4</h2>\n<pre class=\"lang-java prettyprint-override\"><code>obj.child = obj3;\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +    child -------------+\n//                +--------------+        |\n//                                        |\n//                 +-------------+        |\n//      obj2 ----&gt; + Practice(9) +        |\n//                 +-------------+        | \n//                                        |\n//                 +--------------+       |\n//      obj3 ----&gt; + Practice(11) +  &lt;----+\n//                 +--------------+ \n</code></pre>\n<h2>5</h2>\n<pre class=\"lang-java prettyprint-override\"><code>obj.child = obj2;\n// HEAP\n// ====\n//                +--------------+\n//      obj ----&gt; + Practice(10) +\n//                +    child -------------+\n//                +--------------+        |\n//                                        |\n//                 +-------------+        |\n//      obj2 ----&gt; + Practice(9) + &lt;------+\n//                 +-------------+         \n//                                        \n//                 +--------------+       \n//      obj3 ----&gt; + Practice(11) +\n//                 +--------------+ \n</code></pre>\n"}],"owner":{"account_id":28314195,"reputation":21,"user_id":21651013,"display_name":"Andrew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1696402440,"creation_date":1681573541,"question_id":76023279,"body_markdown":"    public class Practice {\r\n\t    public int value;\r\n\t    public Practice child;\r\n\t    public Practice(int value) {\r\n\t\t    this.value = value;\t\r\n\t    }\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    Practice obj = new Practice(10);\r\n\t\t    Practice obj2 = new Practice(9);\r\n\t\t    Practice obj3 = new Practice(11);\r\n\r\n\t        obj.child = obj3;\r\n\t        obj.child = obj2;\r\n\r\n\t\t    System.out.println(obj2 == obj3);\r\n\r\n\r\n\t    }\r\n\r\n    }\r\n\r\nIn this code, since I made obj.child = obj3, then I thought you could substitute obj3 for obj.child so that in other words the line &quot;obj.child = obj2&quot; could mean &quot;obj3 = obj2&quot;. However, in the print statement it returns false. \r\n\r\n\r\n\r\n\r\n\r\nHowever, if you do something like \r\n\r\n    obj.child = obj3;\r\n    obj.child.value = obj2.value;\r\n\r\nThen you are actually manipulating obj3 as its value changes, however in the previous code obj3 is only &quot;replaced&quot; however the object remains unchanged. \r\n\r\nSame thing here:\r\n\r\n    obj.child = obj3;\r\n    obj2 = obj.child;\r\n\r\nNow they are actual equal... so you can subsitute obj3 for obj.child? Now Im confused... Bit of a novice coder so I would appreciate if someone would clear this up for me. Thank you!!","title":"Confused about object pointers/equality","body":"<pre><code>public class Practice {\n    public int value;\n    public Practice child;\n    public Practice(int value) {\n        this.value = value; \n    }\n\n    public static void main(String[] args) {\n        Practice obj = new Practice(10);\n        Practice obj2 = new Practice(9);\n        Practice obj3 = new Practice(11);\n\n        obj.child = obj3;\n        obj.child = obj2;\n\n        System.out.println(obj2 == obj3);\n\n\n    }\n\n}\n</code></pre>\n<p>In this code, since I made obj.child = obj3, then I thought you could substitute obj3 for obj.child so that in other words the line &quot;obj.child = obj2&quot; could mean &quot;obj3 = obj2&quot;. However, in the print statement it returns false.</p>\n<p>However, if you do something like</p>\n<pre><code>obj.child = obj3;\nobj.child.value = obj2.value;\n</code></pre>\n<p>Then you are actually manipulating obj3 as its value changes, however in the previous code obj3 is only &quot;replaced&quot; however the object remains unchanged.</p>\n<p>Same thing here:</p>\n<pre><code>obj.child = obj3;\nobj2 = obj.child;\n</code></pre>\n<p>Now they are actual equal... so you can subsitute obj3 for obj.child? Now Im confused... Bit of a novice coder so I would appreciate if someone would clear this up for me. Thank you!!</p>\n"},{"tags":["java","java-8","rest"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1630688925,"post_id":69046582,"comment_id":122034013,"body_markdown":"Try `basicAuth = &quot;Bearer &quot; + ...` instead","body":"Try <code>basicAuth = &quot;Bearer &quot; + ...</code> instead"},{"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"score":0,"creation_date":1630689359,"post_id":69046582,"comment_id":122034166,"body_markdown":"Isn’t there a Duo SDK? Why are you using the REST services with Java when an SDK is provided?","body":"Isn’t there a Duo SDK? Why are you using the REST services with Java when an SDK is provided?"},{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1630777822,"post_id":69046582,"comment_id":122050916,"body_markdown":"401 means &quot;unauthorized&quot;, i.e. API is closed from external use.","body":"401 means &quot;unauthorized&quot;, i.e. API is closed from external use."}],"answers":[{"tags":[],"owner":{"account_id":4933250,"reputation":4859,"user_id":3972291,"accept_rate":100,"display_name":"Enamul Haque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696402431,"creation_date":1696402431,"answer_id":77227382,"question_id":69046582,"body_markdown":"You may use like below:\r\n\r\n 1. Add below dependency to pom.xml\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.duosecurity&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;duo-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.6.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n 2. User below code:\r\n\r\n         import org.apache.http.HttpEntity;\r\n        import org.apache.http.HttpResponse;\r\n        import org.apache.http.client.HttpClient;\r\n        import org.apache.http.client.methods.HttpPost;\r\n        import org.apache.http.impl.client.HttpClients;\r\n        import org.apache.http.util.EntityUtils;\r\n        import javax.crypto.Mac;\r\n        import javax.crypto.spec.SecretKeySpec;\r\n        import java.io.IOException;\r\n        import java.io.UnsupportedEncodingException;\r\n        import java.net.URLEncoder;\r\n        import java.security.InvalidKeyException;\r\n        import java.security.NoSuchAlgorithmException;\r\n        import java.time.OffsetDateTime;\r\n        import java.time.format.DateTimeFormatter;\r\n        import java.util.ArrayList;\r\n        import java.util.Base64;\r\n        import java.util.SortedMap;\r\n        import java.util.TreeMap;\r\n    \r\n        public class AdminAPIExample {\r\n    \r\n            private static SortedMap&lt;String, Object&gt; params = new TreeMap&lt;String, Object&gt;();\r\n    \r\n            public static void main(String[] args) throws IOException {\r\n                String ikey = &quot;x&quot;;\r\n                String skey = &quot;x&quot;;\r\n                String host = &quot;x&quot;;\r\n                String httpMethod = &quot;POST&quot;;\r\n                String requestPath = &quot;/auth/v2/auth&quot;;\r\n    \r\n                String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\r\n    \r\n                params.put(&quot;username&quot;,&quot;20230612&quot;);\r\n                params.put(&quot;factor&quot;,&quot;push&quot;);\r\n                params.put(&quot;device&quot;,&quot;auto&quot;);\r\n    \r\n                String queryString = canonQueryString();\r\n               System.out.println(&quot;queryString = &quot; + queryString);\r\n            \r\n    \r\n    \r\n                String canonicalRequest = timestamp +&quot;\\n&quot; + httpMethod.toUpperCase() +&quot;\\n&quot; + host.toLowerCase() +&quot;\\n&quot;+requestPath +&quot;\\n&quot; +queryString;\r\n                System.out.println(&quot;canonicalRequest = &quot; + canonicalRequest);\r\n    \r\n                String signature = sign2(canonicalRequest, skey);\r\n                System.out.println(&quot;signature = &quot; + signature);\r\n    \r\n                String url = &quot;https://&quot; + host.toLowerCase() + requestPath+&quot;?&quot;+queryString;\r\n                System.out.println(&quot;url = &quot; + url);\r\n    \r\n                String authString =&quot;Basic &quot;+ Base64.getEncoder().encodeToString((ikey + &quot;:&quot; + signature).getBytes());\r\n                System.out.println(&quot;authString = &quot; + authString);\r\n                System.out.println(&quot;authString length= &quot; + authString.length());\r\n    \r\n    \r\n                HttpClient httpClient = HttpClients.createDefault();\r\n                HttpPost httpPost = new HttpPost(url);\r\n                httpPost.setHeader(&quot;Date&quot;, timestamp);\r\n                httpPost.setHeader(&quot;Authorization&quot;, authString);\r\n                httpPost.setHeader(&quot;Host&quot;, host.toLowerCase());\r\n                httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n    \r\n    \r\n                // Make the request\r\n                HttpResponse response = httpClient.execute(httpPost);\r\n                HttpEntity entity = response.getEntity();\r\n                String responseContent = entity != null ? EntityUtils.toString(entity) : &quot;&quot;;\r\n    \r\n                String rs =  &quot;Response Status Code: &quot; + response.getStatusLine().getStatusCode() + &quot;\\nResponse Content:\\n&quot; + responseContent;\r\n                System.out.println(&quot;rs = &quot; + rs);\r\n            }\r\n    \r\n            public static String canonQueryString()\r\n                    throws UnsupportedEncodingException {\r\n                ArrayList&lt;String&gt; args = new ArrayList&lt;String&gt;();\r\n    \r\n                for (String key : params.keySet()) {\r\n                    String name = URLEncoder\r\n                            .encode(key, &quot;UTF-8&quot;)\r\n                            .replace(&quot;+&quot;, &quot;%20&quot;)\r\n                            .replace(&quot;*&quot;, &quot;%2A&quot;)\r\n                            .replace(&quot;%7E&quot;, &quot;~&quot;);\r\n                    String value = URLEncoder\r\n                            .encode(params.get(key).toString(), &quot;UTF-8&quot;)\r\n                            .replace(&quot;+&quot;, &quot;%20&quot;)\r\n                            .replace(&quot;*&quot;, &quot;%2A&quot;)\r\n                            .replace(&quot;%7E&quot;, &quot;~&quot;);\r\n                    args.add(name + &quot;=&quot; + value);\r\n                }\r\n    \r\n                return com.duosecurity.client.Util.join(args.toArray(), &quot;&amp;&quot;);\r\n            }\r\n    \r\n            private static String bytesToHex(byte[] bytes) {\r\n                StringBuilder hexStringBuilder = new StringBuilder();\r\n                for (byte b : bytes) {\r\n                    hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\r\n                }\r\n                return hexStringBuilder.toString();\r\n            }\r\n    \r\n            static String sign2(String data, String secretKey){\r\n                try {\r\n    \r\n                    byte[] secretKeyBytes = secretKey.getBytes(&quot;UTF-8&quot;);\r\n                    byte[] messageBytes = data.getBytes(&quot;UTF-8&quot;);\r\n    \r\n                    // Create a secret key specification\r\n                    SecretKeySpec secretKeySpec = new SecretKeySpec(secretKeyBytes, &quot;HmacSHA1&quot;); // Use a suitable HMAC algorithm\r\n    \r\n                    // Initialize the HMAC with the secret key\r\n                    Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;); // Use the same HMAC algorithm\r\n                    mac.init(secretKeySpec);\r\n    \r\n                    // Calculate the HMAC\r\n                    byte[] hmacBytes = mac.doFinal(messageBytes);\r\n    \r\n                    // Convert the HMAC to a hexadecimal string\r\n                    StringBuilder hexStringBuilder = new StringBuilder();\r\n                    for (byte b : hmacBytes) {\r\n                        hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\r\n                    }\r\n                    String hexHMAC = hexStringBuilder.toString();\r\n    \r\n                    // Print the hex HMAC\r\n                    System.out.println(hexHMAC);\r\n    \r\n    \r\n    \r\n                    return hexHMAC;\r\n                } catch (NoSuchAlgorithmException | InvalidKeyException | UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return null;\r\n            }\r\n    \r\n        }\r\n\r\nNote: All Other API are similar. **Just change your intregation key, Secrete key, host, end point and parameters.**","title":"I want to create a user on Google Duo through Java Rest api. Followed documentation but getting error","body":"<p>You may use like below:</p>\n<ol>\n<li><p>Add below dependency to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.duosecurity&lt;/groupId&gt;\n    &lt;artifactId&gt;duo-client&lt;/artifactId&gt;\n    &lt;version&gt;0.6.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>User below code:</p>\n<pre><code> import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\nimport javax.crypto.Mac;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URLEncoder;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.Base64;\nimport java.util.SortedMap;\nimport java.util.TreeMap;\n\npublic class AdminAPIExample {\n\n    private static SortedMap&lt;String, Object&gt; params = new TreeMap&lt;String, Object&gt;();\n\n    public static void main(String[] args) throws IOException {\n        String ikey = &quot;x&quot;;\n        String skey = &quot;x&quot;;\n        String host = &quot;x&quot;;\n        String httpMethod = &quot;POST&quot;;\n        String requestPath = &quot;/auth/v2/auth&quot;;\n\n        String timestamp = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\n\n        params.put(&quot;username&quot;,&quot;20230612&quot;);\n        params.put(&quot;factor&quot;,&quot;push&quot;);\n        params.put(&quot;device&quot;,&quot;auto&quot;);\n\n        String queryString = canonQueryString();\n       System.out.println(&quot;queryString = &quot; + queryString);\n\n\n\n        String canonicalRequest = timestamp +&quot;\\n&quot; + httpMethod.toUpperCase() +&quot;\\n&quot; + host.toLowerCase() +&quot;\\n&quot;+requestPath +&quot;\\n&quot; +queryString;\n        System.out.println(&quot;canonicalRequest = &quot; + canonicalRequest);\n\n        String signature = sign2(canonicalRequest, skey);\n        System.out.println(&quot;signature = &quot; + signature);\n\n        String url = &quot;https://&quot; + host.toLowerCase() + requestPath+&quot;?&quot;+queryString;\n        System.out.println(&quot;url = &quot; + url);\n\n        String authString =&quot;Basic &quot;+ Base64.getEncoder().encodeToString((ikey + &quot;:&quot; + signature).getBytes());\n        System.out.println(&quot;authString = &quot; + authString);\n        System.out.println(&quot;authString length= &quot; + authString.length());\n\n\n        HttpClient httpClient = HttpClients.createDefault();\n        HttpPost httpPost = new HttpPost(url);\n        httpPost.setHeader(&quot;Date&quot;, timestamp);\n        httpPost.setHeader(&quot;Authorization&quot;, authString);\n        httpPost.setHeader(&quot;Host&quot;, host.toLowerCase());\n        httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\n\n        // Make the request\n        HttpResponse response = httpClient.execute(httpPost);\n        HttpEntity entity = response.getEntity();\n        String responseContent = entity != null ? EntityUtils.toString(entity) : &quot;&quot;;\n\n        String rs =  &quot;Response Status Code: &quot; + response.getStatusLine().getStatusCode() + &quot;\\nResponse Content:\\n&quot; + responseContent;\n        System.out.println(&quot;rs = &quot; + rs);\n    }\n\n    public static String canonQueryString()\n            throws UnsupportedEncodingException {\n        ArrayList&lt;String&gt; args = new ArrayList&lt;String&gt;();\n\n        for (String key : params.keySet()) {\n            String name = URLEncoder\n                    .encode(key, &quot;UTF-8&quot;)\n                    .replace(&quot;+&quot;, &quot;%20&quot;)\n                    .replace(&quot;*&quot;, &quot;%2A&quot;)\n                    .replace(&quot;%7E&quot;, &quot;~&quot;);\n            String value = URLEncoder\n                    .encode(params.get(key).toString(), &quot;UTF-8&quot;)\n                    .replace(&quot;+&quot;, &quot;%20&quot;)\n                    .replace(&quot;*&quot;, &quot;%2A&quot;)\n                    .replace(&quot;%7E&quot;, &quot;~&quot;);\n            args.add(name + &quot;=&quot; + value);\n        }\n\n        return com.duosecurity.client.Util.join(args.toArray(), &quot;&amp;&quot;);\n    }\n\n    private static String bytesToHex(byte[] bytes) {\n        StringBuilder hexStringBuilder = new StringBuilder();\n        for (byte b : bytes) {\n            hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\n        }\n        return hexStringBuilder.toString();\n    }\n\n    static String sign2(String data, String secretKey){\n        try {\n\n            byte[] secretKeyBytes = secretKey.getBytes(&quot;UTF-8&quot;);\n            byte[] messageBytes = data.getBytes(&quot;UTF-8&quot;);\n\n            // Create a secret key specification\n            SecretKeySpec secretKeySpec = new SecretKeySpec(secretKeyBytes, &quot;HmacSHA1&quot;); // Use a suitable HMAC algorithm\n\n            // Initialize the HMAC with the secret key\n            Mac mac = Mac.getInstance(&quot;HmacSHA1&quot;); // Use the same HMAC algorithm\n            mac.init(secretKeySpec);\n\n            // Calculate the HMAC\n            byte[] hmacBytes = mac.doFinal(messageBytes);\n\n            // Convert the HMAC to a hexadecimal string\n            StringBuilder hexStringBuilder = new StringBuilder();\n            for (byte b : hmacBytes) {\n                hexStringBuilder.append(String.format(&quot;%02x&quot;, b));\n            }\n            String hexHMAC = hexStringBuilder.toString();\n\n            // Print the hex HMAC\n            System.out.println(hexHMAC);\n\n\n\n            return hexHMAC;\n        } catch (NoSuchAlgorithmException | InvalidKeyException | UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n\n}\n</code></pre>\n</li>\n</ol>\n<p>Note: All Other API are similar. <strong>Just change your intregation key, Secrete key, host, end point and parameters.</strong></p>\n"}],"owner":{"account_id":22647621,"reputation":3,"user_id":16822760,"display_name":"Jhonnysins"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696402431,"creation_date":1630679440,"question_id":69046582,"body_markdown":"I am creating a Java Rest api to create users on Google Duo admin. I am following the documentation https://duo.com/docs/adminapi and I have added auth and date/time header but still I am getting unauthorised error 401. Can anyone guide me what am I doing wrong I have read the doc and added all the mandatory headers.\r\n\r\n    public static void POSTRequest() throws IOException {\r\n        String userCredentials = &quot;Username:Password&quot;;\r\n        String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userCredentials.getBytes()));\r\n        String dateTime = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\r\n        String POST_PARAMS = &quot;{\\n&quot; + &quot;\\&quot;userId\\&quot;: 101,\\r\\n&quot; +\r\n                &quot;    \\&quot;id\\&quot;: 101,\\r\\n&quot; +\r\n                &quot;    \\&quot;title\\&quot;: \\&quot;Test Title\\&quot;,\\r\\n&quot; +\r\n                &quot;    \\&quot;body\\&quot;: \\&quot;Test Body\\&quot;&quot; + &quot;\\n}&quot;;\r\n        URL obj = new URL(&quot;https://api-e9770554.duosecurity.com&quot;);\r\n\r\n        HttpURLConnection postConnection = (HttpURLConnection) obj.openConnection();\r\n        postConnection.setRequestMethod(&quot;POST&quot;);\r\n        postConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n        postConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n        postConnection.setRequestProperty(&quot;Date&quot;, dateTime);\r\n        postConnection.setDoOutput(true);\r\n        OutputStream os = postConnection.getOutputStream();\r\n        os.write(POST_PARAMS.getBytes());\r\n        os.flush();\r\n        os.close();\r\n\r\n        int responseCode = postConnection.getResponseCode();\r\n        System.out.println(&quot;POST Response Code :  &quot; + responseCode);\r\n        System.out.println(&quot;POST Response Message : &quot; + postConnection.getResponseMessage());\r\n\r\n        if (responseCode == HttpURLConnection.HTTP_CREATED) { //success\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(\r\n            postConnection.getInputStream()));\r\n            String inputLine;\r\n            StringBuffer response = new StringBuffer();\r\n\r\n            while ((inputLine = in.readLine()) != null) {\r\n                response.append(inputLine);\r\n            }\r\n            in.close();\r\n\r\n            // print result\r\n            System.out.println(response.toString());\r\n        } else {\r\n            System.out.println(&quot;POST NOT WORKED&quot;);\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    {\r\n      &quot;code&quot;: 40101,\r\n      &quot;message&quot;: &quot;Missing request credentials&quot;,\r\n      &quot;stat&quot;: &quot;FAIL&quot;\r\n    }\r\n    \r\n    Response code: 401 (Unauthorized); Time: 2022ms; Content    length: 73 bytes\r\n\r\n\r\n\r\n","title":"I want to create a user on Google Duo through Java Rest api. Followed documentation but getting error","body":"<p>I am creating a Java Rest api to create users on Google Duo admin. I am following the documentation <a href=\"https://duo.com/docs/adminapi\" rel=\"nofollow noreferrer\">https://duo.com/docs/adminapi</a> and I have added auth and date/time header but still I am getting unauthorised error 401. Can anyone guide me what am I doing wrong I have read the doc and added all the mandatory headers.</p>\n<pre><code>public static void POSTRequest() throws IOException {\n    String userCredentials = &quot;Username:Password&quot;;\n    String basicAuth = &quot;Basic &quot; + new String(Base64.getEncoder().encode(userCredentials.getBytes()));\n    String dateTime = OffsetDateTime.now().format(DateTimeFormatter.RFC_1123_DATE_TIME);\n    String POST_PARAMS = &quot;{\\n&quot; + &quot;\\&quot;userId\\&quot;: 101,\\r\\n&quot; +\n            &quot;    \\&quot;id\\&quot;: 101,\\r\\n&quot; +\n            &quot;    \\&quot;title\\&quot;: \\&quot;Test Title\\&quot;,\\r\\n&quot; +\n            &quot;    \\&quot;body\\&quot;: \\&quot;Test Body\\&quot;&quot; + &quot;\\n}&quot;;\n    URL obj = new URL(&quot;https://api-e9770554.duosecurity.com&quot;);\n\n    HttpURLConnection postConnection = (HttpURLConnection) obj.openConnection();\n    postConnection.setRequestMethod(&quot;POST&quot;);\n    postConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\n    postConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n    postConnection.setRequestProperty(&quot;Date&quot;, dateTime);\n    postConnection.setDoOutput(true);\n    OutputStream os = postConnection.getOutputStream();\n    os.write(POST_PARAMS.getBytes());\n    os.flush();\n    os.close();\n\n    int responseCode = postConnection.getResponseCode();\n    System.out.println(&quot;POST Response Code :  &quot; + responseCode);\n    System.out.println(&quot;POST Response Message : &quot; + postConnection.getResponseMessage());\n\n    if (responseCode == HttpURLConnection.HTTP_CREATED) { //success\n        BufferedReader in = new BufferedReader(new InputStreamReader(\n        postConnection.getInputStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        in.close();\n\n        // print result\n        System.out.println(response.toString());\n    } else {\n        System.out.println(&quot;POST NOT WORKED&quot;);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>{\n  &quot;code&quot;: 40101,\n  &quot;message&quot;: &quot;Missing request credentials&quot;,\n  &quot;stat&quot;: &quot;FAIL&quot;\n}\n\nResponse code: 401 (Unauthorized); Time: 2022ms; Content    length: 73 bytes\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9861,"page":144,"page_size":100}
