{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":0,"creation_date":1530716224,"post_id":51176396,"comment_id":89335626,"body_markdown":"Did you debug through it to see it&#39;s actually working from a to z?","body":"Did you debug through it to see it&#39;s actually working from a to z?"},{"owner":{"account_id":2230843,"reputation":116,"user_id":1968456,"display_name":"Rodrigo Martin Tato Rothamel"},"score":0,"creation_date":1530716297,"post_id":51176396,"comment_id":89335653,"body_markdown":"Yes, the debugger is your friend here... Maybe it&#39;s running an infinite loop. The contents of the file may not be what this algorithm is expecting.","body":"Yes, the debugger is your friend here... Maybe it&#39;s running an infinite loop. The contents of the file may not be what this algorithm is expecting."},{"owner":{"account_id":330849,"reputation":4116,"user_id":655172,"accept_rate":100,"display_name":"Tom"},"score":0,"creation_date":1530716400,"post_id":51176396,"comment_id":89335704,"body_markdown":"you could add a System.out.println(&quot;something&quot;) to the start and end from the main method...that way you can check if it starts and /or ends running","body":"you could add a System.out.println(&quot;something&quot;) to the start and end from the main method...that way you can check if it starts and /or ends running"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1530717001,"post_id":51176396,"comment_id":89336028,"body_markdown":"`if (wierszWej.length() == 0) return null;` You need to check if `wierszWej == null` first before trying to access `length()`, since `readLine` can return `null`.","body":"<code>if (wierszWej.length() == 0) return null;</code> You need to check if <code>wierszWej == null</code> first before trying to access <code>length()</code>, since <code>readLine</code> can return <code>null</code>."},{"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"score":0,"creation_date":1530717612,"post_id":51176396,"comment_id":89336354,"body_markdown":"I did add System.out.println(&quot;i do work&quot;); in the main but it does not print anything, so ye, i have no idea where is the problem :D","body":"I did add System.out.println(&quot;i do work&quot;); in the main but it does not print anything, so ye, i have no idea where is the problem :D"}],"answers":[{"comments":[{"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"score":0,"creation_date":1530734407,"post_id":51176582,"comment_id":89342708,"body_markdown":"There 3 classes but i cant get them to work. I tried all in one file and I tried to separate them into 3 files in the same folder. Im not really sure what is wrong especially i used already existing code after mine didnt work. The code i presented is straight from the book, If there is really a mistake in a book then i dont know how i am supposed to learn further :)","body":"There 3 classes but i cant get them to work. I tried all in one file and I tried to separate them into 3 files in the same folder. Im not really sure what is wrong especially i used already existing code after mine didnt work. The code i presented is straight from the book, If there is really a mistake in a book then i dont know how i am supposed to learn further :)"},{"owner":{"account_id":11077517,"reputation":71,"user_id":8133762,"display_name":"Martin Pek&#225;r"},"score":0,"creation_date":1530737982,"post_id":51176582,"comment_id":89343765,"body_markdown":"I understand. All classes are separate Java files. But use packages to add the files to folders. You can write &quot;package exercise&quot; in the beginning of the file.","body":"I understand. All classes are separate Java files. But use packages to add the files to folders. You can write &quot;package exercise&quot; in the beginning of the file."},{"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"score":0,"creation_date":1530815071,"post_id":51176582,"comment_id":89377188,"body_markdown":"i added package NAME, at the begining of the each file but now i get the error:\nError: Could not find or load main class, where clearly i have the main class in the file.\nI tried to: -classpath . thepackagename.TheClassName but the terminal drops info thatThe term &#39;-classpath&#39; is not recognized.\nI saw this solution in other post but its not working for me. Seems i got something wrong with classpath ?","body":"i added package NAME, at the begining of the each file but now i get the error: Error: Could not find or load main class, where clearly i have the main class in the file. I tried to: -classpath . thepackagename.TheClassName but the terminal drops info thatThe term &#39;-classpath&#39; is not recognized. I saw this solution in other post but its not working for me. Seems i got something wrong with classpath ?"},{"owner":{"account_id":11077517,"reputation":71,"user_id":8133762,"display_name":"Martin Pek&#225;r"},"score":0,"creation_date":1530826524,"post_id":51176582,"comment_id":89382060,"body_markdown":"You should have a folder named &quot;src&quot;. In that folder are other folders depending on the package name. So if you write package NAME on top of the file, then the file should be located in the folder named NAME, which is located in the folder &quot;src&quot;. The Java files must then be located in the proper folder","body":"You should have a folder named &quot;src&quot;. In that folder are other folders depending on the package name. So if you write package NAME on top of the file, then the file should be located in the folder named NAME, which is located in the folder &quot;src&quot;. The Java files must then be located in the proper folder"},{"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"score":0,"creation_date":1530872187,"post_id":51176582,"comment_id":89397011,"body_markdown":"i did place all files in \\src\\java\\name and still its not working. Now i get &quot;The declared package &quot;name&quot; does not match the expected package &quot; problem","body":"i did place all files in \\src\\java\\name and still its not working. Now i get &quot;The declared package &quot;name&quot; does not match the expected package &quot; problem"},{"owner":{"account_id":11077517,"reputation":71,"user_id":8133762,"display_name":"Martin Pek&#225;r"},"score":0,"creation_date":1530872329,"post_id":51176582,"comment_id":89397086,"body_markdown":"Because your path is src/java/name, you must write &quot;package java.name;&quot;.","body":"Because your path is src/java/name, you must write &quot;package java.name;&quot;."}],"tags":[],"owner":{"account_id":11077517,"reputation":71,"user_id":8133762,"display_name":"Martin Pek&#225;r"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530716572,"creation_date":1530716572,"answer_id":51176582,"question_id":51176396,"body_markdown":"So you want it to print something? If that&#39;s the problem, then you must make sure that the if-statement that tests whether the wynik is equal to &quot;zatopiony&quot; actually happens to be true. You program will only give an output, if this if-statement is true.","title":"Learning Java by book sierra k &quot;head first java&quot;. Example isnt running","body":"<p>So you want it to print something? If that's the problem, then you must make sure that the if-statement that tests whether the wynik is equal to \"zatopiony\" actually happens to be true. You program will only give an output, if this if-statement is true.</p>\n"},{"tags":[],"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666046587,"creation_date":1530725794,"answer_id":51178675,"question_id":51176396,"body_markdown":"I separated the classes into separate files with proper names located in the same folder. Still doesnt workin and i do get this error : error: cannot find symbol.\r\n\r\nthis error occurs for every separated class. I checked all common errors from this thread:\r\nhttps://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-compilation-error-mean\r\n\r\nFiles are saved with UTF-8 encoding if that means anyting. When i saves with BOM encoding i got a lot more errors\r\n","title":"Learning Java by book sierra k &quot;head first java&quot;. Example isnt running","body":"<p>I separated the classes into separate files with proper names located in the same folder. Still doesnt workin and i do get this error : error: cannot find symbol.</p>\n<p>this error occurs for every separated class. I checked all common errors from this thread:\n<a href=\"https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-compilation-error-mean\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a></p>\n<p>Files are saved with UTF-8 encoding if that means anyting. When i saves with BOM encoding i got a lot more errors</p>\n"}],"owner":{"account_id":13364284,"reputation":1,"user_id":9645164,"display_name":"arkusie"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666046587,"creation_date":1530715949,"question_id":51176396,"body_markdown":"im starting my adventure with learning to code in Java. Im stuck on an example from book. It does compile but there is no effect when I run it. The output is just blank. Im using Visual studio code. The example says that all 3 separate files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) should be in 1 folder. When i try to start a file with main also nothing happens. I decided to join them all into one file but still i do get no result. The code is basically one line battleship game example.\r\n\r\nftp://ftp.helion.pl/przyklady/javrg2.zip - in folder r05 there are files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) from the example that should work when in the same folder but they dont.\r\nDamn, its really hard to find whats wrong when you just start learning :P\r\n\r\nIts an example from chapter nr 5.\r\n\r\nI did follow all the rules and sugestions as in the book but even a straight copying the code does not help. the previous examples i did run without bigger issues.\r\n\r\n    import java.io.*; \r\n    class ProstyPortalGra {\r\n      public static void main(String[] args) {\r\n        int iloscRuchow = 0;\r\n        PomocnikGry pomocnik = new PomocnikGry();\r\n      \r\n        ProstyPortal portal = new ProstyPortal();\r\n        int liczbaLosowa = (int) (Math.random() * 5);\r\n      \r\n        int[] polozenie = {liczbaLosowa, liczbaLosowa+1, liczbaLosowa+2};\r\n        portal.setPolaPolozenia(polozenie);\r\n        boolean czyIstnieje = true;\r\n      \r\n        while (czyIstnieje == true) {\r\n          String pole = pomocnik.pobierzDaneWejsciowe(&quot;Podaj liczbę&quot;);\r\n          String wynik = portal.sprawdz(pole);\r\n          iloscRuchow++;\r\n          if (wynik.equals(&quot;zatopiony&quot;)) {\r\n            czyIstnieje = false;\r\n            System.out.println(iloscRuchow + &quot; ruch&#243;w&quot;);\r\n          } // koniec if\r\n        } // koniec while\r\n      } // koniec main\r\n      }\r\n    \r\n      class ProstyPortal {\r\n    \r\n        int [] polaPolozenia;\r\n        int iloscTrafien;\r\n      \r\n        public void setPolaPolozenia(int[] ppol) {\r\n          polaPolozenia = ppol;\r\n        }\r\n        \r\n        public String sprawdz(String stringPole) {\r\n          int strzal = Integer.parseInt(stringPole);\r\n          String wynik = &quot;pudło&quot;;\r\n          for (int pole : polaPolozenia) {\r\n            if (strzal == pole) {\r\n              wynik = &quot;trafiony&quot;;\r\n              iloscTrafien++;\r\n              break;\r\n            }\r\n          } // koniec pętli\r\n          if (iloscTrafien == polaPolozenia.length) {\r\n            wynik = &quot;zatopiony&quot;;\r\n          }\r\n          System.out.println(wynik);\r\n          return wynik;\r\n        } // koniec metody\r\n      } // koniec klasy\r\n    \r\n     class PomocnikGry {\r\n      public String pobierzDaneWejsciowe(String komunikat) {\r\n        String wierszWej = null;\r\n    \r\n        System.out.print(komunikat + &quot; &quot;);\r\n        try {\r\n          BufferedReader sw = new BufferedReader(\r\n            new InputStreamReader(System.in));\r\n          wierszWej = sw.readLine();\r\n          if (wierszWej.length() == 0) return null;\r\n        } catch (IOException e) {\r\n          System.out.println(&quot;IOException: &quot; + e);\r\n        }\r\n        return wierszWej;\r\n      }\r\n    }\r\n    \r\n      ","title":"Learning Java by book sierra k &quot;head first java&quot;. Example isnt running","body":"<p>im starting my adventure with learning to code in Java. Im stuck on an example from book. It does compile but there is no effect when I run it. The output is just blank. Im using Visual studio code. The example says that all 3 separate files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) should be in 1 folder. When i try to start a file with main also nothing happens. I decided to join them all into one file but still i do get no result. The code is basically one line battleship game example.</p>\n\n<p><a href=\"ftp://ftp.helion.pl/przyklady/javrg2.zip\" rel=\"nofollow noreferrer\">ftp://ftp.helion.pl/przyklady/javrg2.zip</a> - in folder r05 there are files (ProstyPortal, ProstyPortalGra &amp; PomocnikGry) from the example that should work when in the same folder but they dont.\nDamn, its really hard to find whats wrong when you just start learning :P</p>\n\n<p>Its an example from chapter nr 5.</p>\n\n<p>I did follow all the rules and sugestions as in the book but even a straight copying the code does not help. the previous examples i did run without bigger issues.</p>\n\n<pre><code>import java.io.*; \nclass ProstyPortalGra {\n  public static void main(String[] args) {\n    int iloscRuchow = 0;\n    PomocnikGry pomocnik = new PomocnikGry();\n\n    ProstyPortal portal = new ProstyPortal();\n    int liczbaLosowa = (int) (Math.random() * 5);\n\n    int[] polozenie = {liczbaLosowa, liczbaLosowa+1, liczbaLosowa+2};\n    portal.setPolaPolozenia(polozenie);\n    boolean czyIstnieje = true;\n\n    while (czyIstnieje == true) {\n      String pole = pomocnik.pobierzDaneWejsciowe(\"Podaj liczbę\");\n      String wynik = portal.sprawdz(pole);\n      iloscRuchow++;\n      if (wynik.equals(\"zatopiony\")) {\n        czyIstnieje = false;\n        System.out.println(iloscRuchow + \" ruchów\");\n      } // koniec if\n    } // koniec while\n  } // koniec main\n  }\n\n  class ProstyPortal {\n\n    int [] polaPolozenia;\n    int iloscTrafien;\n\n    public void setPolaPolozenia(int[] ppol) {\n      polaPolozenia = ppol;\n    }\n\n    public String sprawdz(String stringPole) {\n      int strzal = Integer.parseInt(stringPole);\n      String wynik = \"pudło\";\n      for (int pole : polaPolozenia) {\n        if (strzal == pole) {\n          wynik = \"trafiony\";\n          iloscTrafien++;\n          break;\n        }\n      } // koniec pętli\n      if (iloscTrafien == polaPolozenia.length) {\n        wynik = \"zatopiony\";\n      }\n      System.out.println(wynik);\n      return wynik;\n    } // koniec metody\n  } // koniec klasy\n\n class PomocnikGry {\n  public String pobierzDaneWejsciowe(String komunikat) {\n    String wierszWej = null;\n\n    System.out.print(komunikat + \" \");\n    try {\n      BufferedReader sw = new BufferedReader(\n        new InputStreamReader(System.in));\n      wierszWej = sw.readLine();\n      if (wierszWej.length() == 0) return null;\n    } catch (IOException e) {\n      System.out.println(\"IOException: \" + e);\n    }\n    return wierszWej;\n  }\n}\n</code></pre>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1666044589,"post_id":74103756,"comment_id":130838139,"body_markdown":"What makes you say it&#39;s a bad practice?  I can think of a couple reasons it _might_ be, depending on the use case, but it&#39;s really a question of what you&#39;re trying to do (and what that `Comparator` is doing).","body":"What makes you say it&#39;s a bad practice?  I can think of a couple reasons it <i>might</i> be, depending on the use case, but it&#39;s really a question of what you&#39;re trying to do (and what that <code>Comparator</code> is doing)."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1666046795,"post_id":74103756,"comment_id":130838579,"body_markdown":"A set of such mutable entries backed by the map can easily be corrupted. Furthermore Set of Entry and Map of Map is too convoluted.","body":"A set of such mutable entries backed by the map can easily be corrupted. Furthermore Set of Entry and Map of Map is too convoluted."}],"answers":[{"comments":[{"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"score":0,"creation_date":1666045262,"post_id":74103782,"comment_id":130838277,"body_markdown":"So it&#39;s not safe to do this because if the underlying map changes then this also affects the entryset hence affecting the iteration of it?. The map is just meant to be read but not written to and I am using a synchronize keyword to make sure just one trhead at time is able to call the sort table method as so public synchronized void sortCardIsByDueDates Is that ok? and also is it really a bad idea to have a treeset of type Map.Entry?. I am setting it at class level.","body":"So it&#39;s not safe to do this because if the underlying map changes then this also affects the entryset hence affecting the iteration of it?. The map is just meant to be read but not written to and I am using a synchronize keyword to make sure just one trhead at time is able to call the sort table method as so public synchronized void sortCardIsByDueDates Is that ok? and also is it really a bad idea to have a treeset of type Map.Entry?. I am setting it at class level."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1666045332,"post_id":74103782,"comment_id":130838298,"body_markdown":"The formal guarantee made by the implementation is: If the map is modified then all entries are invalidated. If you know for *absolutely certain* that you and everyone else viewing this code will never modify the map, then it&#39;s safe. But it&#39;s still violating the programmer&#39;s expectations, so I wouldn&#39;t let it through code review for that reason.","body":"The formal guarantee made by the implementation is: If the map is modified then all entries are invalidated. If you know for <i>absolutely certain</i> that you and everyone else viewing this code will never modify the map, then it&#39;s safe. But it&#39;s still violating the programmer&#39;s expectations, so I wouldn&#39;t let it through code review for that reason."}],"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666044636,"creation_date":1666044636,"answer_id":74103782,"question_id":74103756,"body_markdown":"Java [`Map.Entry`](https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html) objects are not intended for long term storage. From the docs (emphasis mine),\r\n\r\n&gt; A map entry (key-value pair). The `Map.entrySet` method returns a collection-view of the map, whose elements are of this class. The only way to obtain a reference to a map entry is from the iterator of this collection-view. **These Map.Entry objects are valid only for the duration of the iteration;** more formally, the behavior of a map entry is undefined if the backing map has been modified after the entry was returned by the iterator, except through the setValue operation on the map entry.\r\n\r\nIf anyone, for any reason, adds, removes, or modifies any part of the map after the fact, then your `TreeSet` entries now have undefined behavior. They might still be good, they might get nulled out, they might exhibit some random behavior.\r\n\r\nIf you want to store a pair of elements, then write a class that has two instance variables. If you&#39;re on a new enough Java version, then [records](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html) are great for this sort of thing.","title":"Why is adding an entry set as parameter to addall method a bad practice?","body":"<p>Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.Entry.html\" rel=\"noreferrer\"><code>Map.Entry</code></a> objects are not intended for long term storage. From the docs (emphasis mine),</p>\n<blockquote>\n<p>A map entry (key-value pair). The <code>Map.entrySet</code> method returns a collection-view of the map, whose elements are of this class. The only way to obtain a reference to a map entry is from the iterator of this collection-view. <strong>These Map.Entry objects are valid only for the duration of the iteration;</strong> more formally, the behavior of a map entry is undefined if the backing map has been modified after the entry was returned by the iterator, except through the setValue operation on the map entry.</p>\n</blockquote>\n<p>If anyone, for any reason, adds, removes, or modifies any part of the map after the fact, then your <code>TreeSet</code> entries now have undefined behavior. They might still be good, they might get nulled out, they might exhibit some random behavior.</p>\n<p>If you want to store a pair of elements, then write a class that has two instance variables. If you're on a new enough Java version, then <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Record.html\" rel=\"noreferrer\">records</a> are great for this sort of thing.</p>\n"}],"owner":{"account_id":8706192,"reputation":577,"user_id":7543388,"accept_rate":48,"display_name":"daniel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1666074909,"accepted_answer_id":74103782,"answer_count":1,"score":0,"last_activity_date":1666045477,"creation_date":1666044428,"question_id":74103756,"body_markdown":"Why is the following code a bad practice and what is the solution for it?\r\n\r\n    TreeSet&lt;Map.Entry&lt;Integer, Map&lt;String, String&gt;&gt;&gt; sortedtable = new TreeSet&lt;&gt;(new ComparatorByDueDate());\r\n    \r\n    \r\n    public void sortTable(Map&lt;Integer, Map&lt;String, String&gt;&gt; table){\r\n         sortedtable.addAll(table.entrySet());\r\n    }\r\n\r\nUpdate: As per Sonar, it is a bad practice. I am asking the question here as the sonar explanation seems confusing.","title":"Why is adding an entry set as parameter to addall method a bad practice?","body":"<p>Why is the following code a bad practice and what is the solution for it?</p>\n<pre><code>TreeSet&lt;Map.Entry&lt;Integer, Map&lt;String, String&gt;&gt;&gt; sortedtable = new TreeSet&lt;&gt;(new ComparatorByDueDate());\n\n\npublic void sortTable(Map&lt;Integer, Map&lt;String, String&gt;&gt; table){\n     sortedtable.addAll(table.entrySet());\n}\n</code></pre>\n<p>Update: As per Sonar, it is a bad practice. I am asking the question here as the sonar explanation seems confusing.</p>\n"},{"tags":["java","spring","netty","activemq-artemis"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1663151366,"post_id":73715076,"comment_id":130170013,"body_markdown":"The `artemis-jms-client-all-2.19.1.jar` repackages all dependencies inside that jar. It includes all classes it needs. I would recommend against using the **all** dependency and just use the core one or individual dependencies.","body":"The <code>artemis-jms-client-all-2.19.1.jar</code> repackages all dependencies inside that jar. It includes all classes it needs. I would recommend against using the <b>all</b> dependency and just use the core one or individual dependencies."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1663161595,"post_id":73715076,"comment_id":130173825,"body_markdown":"FWIW, ActiveMQ Artemis 2.25.0 (i.e. the latest release at this point) uses Netty 4.1.79.Final.","body":"FWIW, ActiveMQ Artemis 2.25.0 (i.e. the latest release at this point) uses Netty 4.1.79.Final."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663150940,"creation_date":1663150940,"answer_id":73715232,"question_id":73715076,"body_markdown":"You have conflicting versions of the same dependency. When you keep your dependencies as they are, this will be only the first of a longer series of troubles to occur.\r\n\r\nTry to use an updated version of artemis-jms-client that dependes on the version of netty-common you need.\r\nDecide to either skip the netty-common dependency (since it is contained in the artemis-jms-client) or don&#39;t use the ...-all-... dependency of artemis-jms-client but rather us a version that uses transitive dependencies and loads the others via maven (or gradle or whatever build system you use).\r\n\r\nReordering classpath to resolve that kind of troubles is really a very delicate procedure I would never recommend to perform on third-party-dependencies.","title":"Correct the classpath if both JARs are needed","body":"<p>You have conflicting versions of the same dependency. When you keep your dependencies as they are, this will be only the first of a longer series of troubles to occur.</p>\n<p>Try to use an updated version of artemis-jms-client that dependes on the version of netty-common you need.\nDecide to either skip the netty-common dependency (since it is contained in the artemis-jms-client) or don't use the ...-all-... dependency of artemis-jms-client but rather us a version that uses transitive dependencies and loads the others via maven (or gradle or whatever build system you use).</p>\n<p>Reordering classpath to resolve that kind of troubles is really a very delicate procedure I would never recommend to perform on third-party-dependencies.</p>\n"}],"owner":{"account_id":3002442,"reputation":517,"user_id":6036363,"accept_rate":88,"display_name":"tmsblgh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666044814,"creation_date":1663150114,"question_id":73715076,"body_markdown":"I have the following dependencies:\r\n\r\n    [INFO]    +- org.apache.activemq:artemis-core-client:jar:2.19.1:compile\r\n    ...\r\n    [INFO]    |  \\- io.netty:netty-common:jar:4.1.79.Final:compile\r\n    [INFO]    +- org.apache.activemq:artemis-jms-client-all:jar:2.19.1:compile\r\n\r\nAfter a `spring-boot-starter-parent` and `spring-cloud` uplift the following message appeared after the application start:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n        io.netty.buffer.AbstractReferenceCountedByteBuf.&lt;init&gt;(AbstractReferenceCountedByteBuf.java:50)\r\n\r\n    The following method did not exist:\r\n\r\n        io.netty.util.internal.ReferenceCountUpdater.setInitialValue(Lio/netty/util/ReferenceCounted;)V\r\n\r\n    The calling method&#39;s class, io.netty.buffer.AbstractReferenceCountedByteBuf, is available from the following locations:\r\n\r\n        jar:file:/app/lib/netty-buffer-4.1.79.Final.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\r\n        jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\r\n\r\n    The calling method&#39;s class was loaded from the following location:\r\n\r\n        file:/app/lib/netty-buffer-4.1.79.Final.jar\r\n\r\n    The called method&#39;s class, io.netty.util.internal.ReferenceCountUpdater, is available from the following locations:\r\n\r\n        jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/util/internal/ReferenceCountUpdater.class\r\n        jar:file:/app/lib/netty-common-4.1.79.Final.jar!/io/netty/util/internal/ReferenceCountUpdater.class\r\n\r\n    The called method&#39;s class hierarchy was loaded from the following locations:\r\n\r\n        io.netty.util.internal.ReferenceCountUpdater: file:/app/lib/artemis-jms-client-all-2.19.1.jar\r\n\r\n\r\n    Action:\r\n\r\n    Correct the classpath of your application so that it contains compatible versions of the classes io.netty.buffer.AbstractReferenceCountedByteBuf and io.netty.util.internal.ReferenceCountUpdater\r\n\r\nSince both the `artemis-jms-client-all-2.19.1.jar` and `netty-common-4.1.79.Final.jar` is in use and only the `netty-common-4.1.79.Final.jar` has the necessary method (`setInitialValue()`) I cannot just remove one of the JARs.\r\n\r\nIs there a way to define the order of these?\r\nIs this order issue could have come from the uplift? It was more lazy previously?","title":"Correct the classpath if both JARs are needed","body":"<p>I have the following dependencies:</p>\n<pre><code>[INFO]    +- org.apache.activemq:artemis-core-client:jar:2.19.1:compile\n...\n[INFO]    |  \\- io.netty:netty-common:jar:4.1.79.Final:compile\n[INFO]    +- org.apache.activemq:artemis-jms-client-all:jar:2.19.1:compile\n</code></pre>\n<p>After a <code>spring-boot-starter-parent</code> and <code>spring-cloud</code> uplift the following message appeared after the application start:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nAn attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    io.netty.buffer.AbstractReferenceCountedByteBuf.&lt;init&gt;(AbstractReferenceCountedByteBuf.java:50)\n\nThe following method did not exist:\n\n    io.netty.util.internal.ReferenceCountUpdater.setInitialValue(Lio/netty/util/ReferenceCounted;)V\n\nThe calling method's class, io.netty.buffer.AbstractReferenceCountedByteBuf, is available from the following locations:\n\n    jar:file:/app/lib/netty-buffer-4.1.79.Final.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\n    jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/buffer/AbstractReferenceCountedByteBuf.class\n\nThe calling method's class was loaded from the following location:\n\n    file:/app/lib/netty-buffer-4.1.79.Final.jar\n\nThe called method's class, io.netty.util.internal.ReferenceCountUpdater, is available from the following locations:\n\n    jar:file:/app/lib/artemis-jms-client-all-2.19.1.jar!/io/netty/util/internal/ReferenceCountUpdater.class\n    jar:file:/app/lib/netty-common-4.1.79.Final.jar!/io/netty/util/internal/ReferenceCountUpdater.class\n\nThe called method's class hierarchy was loaded from the following locations:\n\n    io.netty.util.internal.ReferenceCountUpdater: file:/app/lib/artemis-jms-client-all-2.19.1.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains compatible versions of the classes io.netty.buffer.AbstractReferenceCountedByteBuf and io.netty.util.internal.ReferenceCountUpdater\n</code></pre>\n<p>Since both the <code>artemis-jms-client-all-2.19.1.jar</code> and <code>netty-common-4.1.79.Final.jar</code> is in use and only the <code>netty-common-4.1.79.Final.jar</code> has the necessary method (<code>setInitialValue()</code>) I cannot just remove one of the JARs.</p>\n<p>Is there a way to define the order of these?\nIs this order issue could have come from the uplift? It was more lazy previously?</p>\n"},{"tags":["java","neural-network","self-organizing-maps"],"comments":[{"owner":{"account_id":7614468,"reputation":151,"user_id":5774387,"display_name":"Robert Hamilton"},"score":0,"creation_date":1666044763,"post_id":73951036,"comment_id":130838181,"body_markdown":"I added an answer myself since this question has been asked before, but I will wait in case somebody has a better answer instead of marking this one.","body":"I added an answer myself since this question has been asked before, but I will wait in case somebody has a better answer instead of marking this one."}],"answers":[{"tags":[],"owner":{"account_id":7614468,"reputation":151,"user_id":5774387,"display_name":"Robert Hamilton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666044682,"creation_date":1666044682,"answer_id":74103789,"question_id":73951036,"body_markdown":"There is one source published at an [ACCU Conference][1] from 2006, written by the original authors of [JKNNL][2] (java kohonen neural network library). Although it does not directly tie into the apache commons library, it includes a self contained description of Kohonen filter which can shed light on the semantics used there.\r\n\r\nAs no true JAVA example code exists, we can look to this documentation for insight as requested in the asked question.\r\n \r\nIt can be thought of as an unsupervised classifier utilizing single layer NN in which the weights of each node are vectors that correspond to the center of a cluster (after classification).\r\n\r\nThe feedback is applied to only the nearest node (in the winner take all method) and is a weighted average of the input and the current &quot;weight&quot; in the node\r\n\r\n    weight[i] = (1-C)*weight[i] + C*input[i]\r\n\r\nwhere C is the learning rate parameter. When convergence is attained, each node will have its own set of weights and classification can be performed by finding the node  for which the distance between the weights and the input vector are the smallest.\r\n\r\n\r\n\r\n\r\n  [1]: https://accu.org/journals/overload/14/74/overload74.pdf\r\n  [2]: https://jknnl.sourceforge.net/","title":"Example Java code for Kohonen filter using apache.commons.math.ml","body":"<p>There is one source published at an <a href=\"https://accu.org/journals/overload/14/74/overload74.pdf\" rel=\"nofollow noreferrer\">ACCU Conference</a> from 2006, written by the original authors of <a href=\"https://jknnl.sourceforge.net/\" rel=\"nofollow noreferrer\">JKNNL</a> (java kohonen neural network library). Although it does not directly tie into the apache commons library, it includes a self contained description of Kohonen filter which can shed light on the semantics used there.</p>\n<p>As no true JAVA example code exists, we can look to this documentation for insight as requested in the asked question.</p>\n<p>It can be thought of as an unsupervised classifier utilizing single layer NN in which the weights of each node are vectors that correspond to the center of a cluster (after classification).</p>\n<p>The feedback is applied to only the nearest node (in the winner take all method) and is a weighted average of the input and the current &quot;weight&quot; in the node</p>\n<pre><code>weight[i] = (1-C)*weight[i] + C*input[i]\n</code></pre>\n<p>where C is the learning rate parameter. When convergence is attained, each node will have its own set of weights and classification can be performed by finding the node  for which the distance between the weights and the input vector are the smallest.</p>\n"}],"owner":{"account_id":7614468,"reputation":151,"user_id":5774387,"display_name":"Robert Hamilton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74103789,"answer_count":1,"score":0,"last_activity_date":1666044682,"creation_date":1664901573,"question_id":73951036,"body_markdown":"I am looking for any example code for implementing Kohonen SOM using the apache.commons.math3.neuralnet.sofm classes. To make the question less ambiguous, I&#39;ll share that I plan to explore using it to find anomalous features in image patches.  \r\nI&#39;ve looked in the javadocs for [ml.neuralnet.sofm.KohonenTrainingTask][1]  and the [ml.neuralnet.Network][2] that it uses, but as a beginner I find them confusing as there is little detail on the semantics of many of the parameters. The math4 docs are the same. So some example code could provide some insight. \r\n\r\nThus my question: is there any example code available?\r\n\r\nThere is a similar [question on stack overflow][3] but it is a couple of years old and no answer except for a broken link.\r\n\r\nBy the way, I am not locked in to apache.commons.math so if the answer is &quot;no&quot; that will be marked as correct. But in that case I would sincerely appreciate any insight into what alternative packages are in mainstream use for this purpose.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/sofm/KohonenTrainingTask.html\r\n  [2]: https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/Network.html\r\n  [3]: https://stackoverflow.com/questions/59650233/apache-math-commons-neural-net-any-usage-example","title":"Example Java code for Kohonen filter using apache.commons.math.ml","body":"<p>I am looking for any example code for implementing Kohonen SOM using the apache.commons.math3.neuralnet.sofm classes. To make the question less ambiguous, I'll share that I plan to explore using it to find anomalous features in image patches.<br />\nI've looked in the javadocs for <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/sofm/KohonenTrainingTask.html\" rel=\"nofollow noreferrer\">ml.neuralnet.sofm.KohonenTrainingTask</a>  and the <a href=\"https://commons.apache.org/proper/commons-math/javadocs/api-3.6.1/org/apache/commons/math3/ml/neuralnet/Network.html\" rel=\"nofollow noreferrer\">ml.neuralnet.Network</a> that it uses, but as a beginner I find them confusing as there is little detail on the semantics of many of the parameters. The math4 docs are the same. So some example code could provide some insight.</p>\n<p>Thus my question: is there any example code available?</p>\n<p>There is a similar <a href=\"https://stackoverflow.com/questions/59650233/apache-math-commons-neural-net-any-usage-example\">question on stack overflow</a> but it is a couple of years old and no answer except for a broken link.</p>\n<p>By the way, I am not locked in to apache.commons.math so if the answer is &quot;no&quot; that will be marked as correct. But in that case I would sincerely appreciate any insight into what alternative packages are in mainstream use for this purpose.</p>\n"},{"tags":["java","thymeleaf"],"comments":[{"owner":{"account_id":1985027,"reputation":672,"user_id":1780517,"display_name":"Vahe Harutyunyan"},"score":1,"creation_date":1659431217,"post_id":72428001,"comment_id":129287415,"body_markdown":"Did you find solution to this? @nogridbag","body":"Did you find solution to this? @nogridbag"},{"owner":{"account_id":356037,"reputation":3541,"user_id":695318,"accept_rate":68,"display_name":"nogridbag"},"score":0,"creation_date":1659452859,"post_id":72428001,"comment_id":129295756,"body_markdown":"No unfortunately. The project using Thymeleaf was put on hold so I didn&#39;t spend any effort looking into alternatives.","body":"No unfortunately. The project using Thymeleaf was put on hold so I didn&#39;t spend any effort looking into alternatives."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666044304,"creation_date":1666044304,"answer_id":74103744,"question_id":72428001,"body_markdown":"You can do this by taking advantage of `th:assert`. If this assertion is not satisfied then thymeleaf will throw an exception during document processing and print a relevant error to know why it failed.\r\n\r\nSo your code will be \r\n\r\n    &lt;div th:assert=&quot;${amount} != null&quot; data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\r\n\r\nIf context variable `amount` is never set it would be null so then the assertion will fail which will produce the exception.","title":"Thymeleaf - throw exception is template variable not found in Context","body":"<p>You can do this by taking advantage of <code>th:assert</code>. If this assertion is not satisfied then thymeleaf will throw an exception during document processing and print a relevant error to know why it failed.</p>\n<p>So your code will be</p>\n<pre><code>&lt;div th:assert=&quot;${amount} != null&quot; data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\n</code></pre>\n<p>If context variable <code>amount</code> is never set it would be null so then the assertion will fail which will produce the exception.</p>\n"}],"owner":{"account_id":356037,"reputation":3541,"user_id":695318,"accept_rate":68,"display_name":"nogridbag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":74103744,"answer_count":1,"score":5,"last_activity_date":1666044304,"creation_date":1653867587,"question_id":72428001,"body_markdown":"I want Thymeleaf to throw an exception if a variable used in a template is not found in the Context. It seems by default Thymeleaf will inject empty text in an HTML tag if the bound variable is not found in the Context. This seems dangerous as it essentially silently hides errors.\r\n\r\n    &lt;div data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\r\n\r\nCode:\r\n\r\n    Context context = new Context();\r\n    // never set &quot;amount&quot; variable\r\n\r\nOutput:\r\n\r\n    &lt;div&gt;&lt;/div&gt;\r\n\r\n\r\nI assumed there would be a &quot;strict&quot; mode where it would throw an exception with the variable name and additional context if the variable is not found in the Context. I&#39;ve been searching stackoverflow and the API docs but cannot find anything like this. I thought of overriding the Context `getVariable` so that it does a `containsVariable` check, but I&#39;m not sure if that has performance implications. Also, I cannot capture any metadata about where in the template it failed. Am I missing something obvious?\r\n\r\nI&#39;m using Thymeleaf as a standalone engine -- not as part of a web/spring app.","title":"Thymeleaf - throw exception is template variable not found in Context","body":"<p>I want Thymeleaf to throw an exception if a variable used in a template is not found in the Context. It seems by default Thymeleaf will inject empty text in an HTML tag if the bound variable is not found in the Context. This seems dangerous as it essentially silently hides errors.</p>\n<pre><code>&lt;div data-th-text=&quot;${amount}&quot;&gt;Blah&lt;/div&gt;\n</code></pre>\n<p>Code:</p>\n<pre><code>Context context = new Context();\n// never set &quot;amount&quot; variable\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;div&gt;&lt;/div&gt;\n</code></pre>\n<p>I assumed there would be a &quot;strict&quot; mode where it would throw an exception with the variable name and additional context if the variable is not found in the Context. I've been searching stackoverflow and the API docs but cannot find anything like this. I thought of overriding the Context <code>getVariable</code> so that it does a <code>containsVariable</code> check, but I'm not sure if that has performance implications. Also, I cannot capture any metadata about where in the template it failed. Am I missing something obvious?</p>\n<p>I'm using Thymeleaf as a standalone engine -- not as part of a web/spring app.</p>\n"},{"tags":["java","amazon-web-services","aws-sdk","localstack"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":1,"creation_date":1666039133,"post_id":74102965,"comment_id":130836671,"body_markdown":"There&#39;s really nothing SpringBoot specific here. This is just some Java code calling the AWS SDK for Java. If it can&#39;t find the secret, then either the name you are giving it is incorrect, or the region is incorrect, or the access key/secret key you gave it is for a different account.","body":"There&#39;s really nothing SpringBoot specific here. This is just some Java code calling the AWS SDK for Java. If it can&#39;t find the secret, then either the name you are giving it is incorrect, or the region is incorrect, or the access key/secret key you gave it is for a different account."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1666039601,"post_id":74102965,"comment_id":130836821,"body_markdown":"So you&#39;re using something like localstack to do this, instead of actually using AWS? What&#39;s the value of `secretManagerUrl` in the Java code? Also, did you notice the region you show in the code is not the region shown in the error message?","body":"So you&#39;re using something like localstack to do this, instead of actually using AWS? What&#39;s the value of <code>secretManagerUrl</code> in the Java code? Also, did you notice the region you show in the code is not the region shown in the error message?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666039889,"post_id":74102965,"comment_id":130836889,"body_markdown":"@MarkB I forgot to add localstack properties. I added all them.","body":"@MarkB I forgot to add localstack properties. I added all them."},{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1666043869,"post_id":74102965,"comment_id":130837953,"body_markdown":"You still haven&#39;t shown what value the `secretManagerUrl` variable in the Java code contains. And you don&#39;t appear to be setting the SecretsManager URL in the application.properties file either.","body":"You still haven&#39;t shown what value the <code>secretManagerUrl</code> variable in the Java code contains. And you don&#39;t appear to be setting the SecretsManager URL in the application.properties file either."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666043933,"post_id":74102965,"comment_id":130837968,"body_markdown":"@MarkB `@Value(&quot;${cloud.aws.secrets-manager.end-point.uri}&quot;)\n    private String secretManagerUrl;`","body":"@MarkB <code>@Value(&quot;${cloud.aws.secrets-manager.end-point.uri}&quot;)     private String secretManagerUrl;</code>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666181590,"post_id":74102965,"comment_id":130874025,"body_markdown":"@MarkB I still couldn&#39;t fix the issue.","body":"@MarkB I still couldn&#39;t fix the issue."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668635554,"post_id":74102965,"comment_id":131456851,"body_markdown":"@MarkB I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml","body":"@MarkB I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : <a href=\"https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml\" title=\"cannot run sh file regarding aws configure in localstack in docker compose yml\">stackoverflow.com/questions/74363198/&hellip;</a>"},{"owner":{"account_id":4190612,"reputation":951,"user_id":3433309,"accept_rate":54,"display_name":"delpha"},"score":0,"creation_date":1688659000,"post_id":74102965,"comment_id":135106667,"body_markdown":"I am having the same issue with .Net, any solution for this ?","body":"I am having the same issue with .Net, any solution for this ?"}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666042658,"post_id":74103372,"comment_id":130837644,"body_markdown":"I also defined `arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\ndRTaw``but I still get the same error.","body":"I also defined `arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws&zwnj;&#8203;/secret-A dRTaw``but I still get the same error."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1666048974,"post_id":74103372,"comment_id":130838906,"body_markdown":"Did you validate the value retrieve with the shell? Also the arn is not defined by the user. You define only the key, the arn is created by aws","body":"Did you validate the value retrieve with the shell? Also the arn is not defined by the user. You define only the key, the arn is created by aws"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666181877,"post_id":74103372,"comment_id":130874130,"body_markdown":"I still couldn&#39;t fix it.","body":"I still couldn&#39;t fix it."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1666224372,"post_id":74103372,"comment_id":130887923,"body_markdown":"Did you validate the value retrieve with the shell?","body":"Did you validate the value retrieve with the shell?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668124070,"post_id":74103372,"comment_id":131336392,"body_markdown":"I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml","body":"I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : <a href=\"https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml\" title=\"cannot run sh file regarding aws configure in localstack in docker compose yml\">stackoverflow.com/questions/74363198/&hellip;</a>"},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1668126328,"post_id":74103372,"comment_id":131336812,"body_markdown":"If this was useful, click on the upper arrow and mark as solved","body":"If this was useful, click on the upper arrow and mark as solved"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668171416,"post_id":74103372,"comment_id":131346963,"body_markdown":"I tried to clean and build the project and check the environmental variables in the system and then define some of the variables. Next, it works. Can you look through my another issue if possible?","body":"I tried to clean and build the project and check the environmental variables in the system and then define some of the variables. Next, it works. Can you look through my another issue if possible?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668635543,"post_id":74103372,"comment_id":131456849,"body_markdown":"I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml","body":"I have another issue regarding aws not running with localstack in docker-compose. Can you help me ? Here is the link : <a href=\"https://stackoverflow.com/questions/74363198/cannot-run-sh-file-regarding-aws-configure-in-localstack-in-docker-compose-yml\" title=\"cannot run sh file regarding aws configure in localstack in docker compose yml\">stackoverflow.com/questions/74363198/&hellip;</a>"}],"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666041738,"creation_date":1666041738,"answer_id":74103372,"question_id":74102965,"body_markdown":"Let&#39;s understand what is aws account secret  and aws Secrets Manager:\r\n\r\n- aws account secret is used for client (java, shell, etc) authentication\r\n- aws Secrets Manager is a online service to centralize some secret of your app like database_host, database_password, some_api_key, etc\r\n\r\nTo finf the error, follow these steps\r\n\r\n## retrieve the value\r\n\r\nIf your secret was created correctly, try to retrieve it:\r\n\r\n```\r\naws secretsmanager get-secret-value --secret-id account-player1\r\n```\r\n\r\nIf you can&#39;t by shell, neither can the java. \r\n\r\n## id should contain the arn\r\n\r\nAccording to the some posts, the secret name should be the entire ARN:\r\n\r\nSo instead **&quot;aws/secret&quot;** of `String secretName = &quot;aws/secret&quot;;` use\r\n\r\n```\r\narn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\r\ndRTaw\r\n```\r\n\r\n## docs and posts\r\n\r\n- https://stackoverflow.com/questions/57821886/aws-secrets-manager-can-t-find-the-specified-secret\r\n- https://www.bitovi.com/blog/aws-secrets-manager-devops\r\n- https://airflow.apache.org/docs/apache-airflow-providers-amazon/2.3.0/secrets-backends/aws-secrets-manager.html\r\n- https://docs.aws.amazon.com/AmazonECS/latest/userguide/specifying-sensitive-data-secrets.html","title":"Spring Boot AWS Secrets Manager can&#39;t find the specified secret","body":"<p>Let's understand what is aws account secret  and aws Secrets Manager:</p>\n<ul>\n<li>aws account secret is used for client (java, shell, etc) authentication</li>\n<li>aws Secrets Manager is a online service to centralize some secret of your app like database_host, database_password, some_api_key, etc</li>\n</ul>\n<p>To finf the error, follow these steps</p>\n<h2>retrieve the value</h2>\n<p>If your secret was created correctly, try to retrieve it:</p>\n<pre><code>aws secretsmanager get-secret-value --secret-id account-player1\n</code></pre>\n<p>If you can't by shell, neither can the java.</p>\n<h2>id should contain the arn</h2>\n<p>According to the some posts, the secret name should be the entire ARN:</p>\n<p>So instead <strong>&quot;aws/secret&quot;</strong> of <code>String secretName = &quot;aws/secret&quot;;</code> use</p>\n<pre><code>arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\ndRTaw\n</code></pre>\n<h2>docs and posts</h2>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/57821886/aws-secrets-manager-can-t-find-the-specified-secret\">AWS Secrets Manager can’t find the specified secret</a></li>\n<li><a href=\"https://www.bitovi.com/blog/aws-secrets-manager-devops\" rel=\"nofollow noreferrer\">https://www.bitovi.com/blog/aws-secrets-manager-devops</a></li>\n<li><a href=\"https://airflow.apache.org/docs/apache-airflow-providers-amazon/2.3.0/secrets-backends/aws-secrets-manager.html\" rel=\"nofollow noreferrer\">https://airflow.apache.org/docs/apache-airflow-providers-amazon/2.3.0/secrets-backends/aws-secrets-manager.html</a></li>\n<li><a href=\"https://docs.aws.amazon.com/AmazonECS/latest/userguide/specifying-sensitive-data-secrets.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonECS/latest/userguide/specifying-sensitive-data-secrets.html</a></li>\n</ul>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3718,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666044015,"creation_date":1666038965,"question_id":74102965,"body_markdown":"I have a problem about getting specified secret from AWS Secret Manager in my Spring Boot Example.\r\n\r\nI think localstack is useful for the process.\r\n\r\nHere is the localstack code snippet defined in docker-compose.\r\n\r\n      localstack:\r\n        image: localstack/localstack:latest\r\n        environment:\r\n          - SERVICES=s3\r\n          - EDGE_PORT=4566\r\n          - AWS_ACCESS_KEY_ID=test\r\n          - AWS_SECRET_ACCESS_KEY=test\r\n          - AWS_DEFAULT_REGION=eu-west-3\r\n        ports:\r\n          - &#39;4566-4597:4566-4597&#39;\r\n        volumes:\r\n          - &quot;${TMPDIR:-/tmp/localstack}:/tmp/localstack&quot;\r\n\r\nAfter I ran setup-aws.sh, I tried to run the Spring Boot example.\r\n\r\nI couldn&#39;t get secret value?\r\n\r\nHow can I fix it?\r\n\r\nHere is the application.properties file \r\n\r\n    cloud.aws.end-point.uri=http://s3.localhost.localstack.cloud:4566/\r\n    cloud.aws.secrets-manager.end-point.uri=http://localhost:4566  -&gt; secretManagerUrl\r\n    \r\n    s3.bucket.base.url=http://bucketnameproject.s3.localhost.localstack.cloud:4566/\r\n\r\nHere is the init method of AWSConfiguration file\r\n\r\n    public void init() throws JsonProcessingException {\r\n            String secretName = &quot;aws/secret&quot;;\r\n            String region = &quot;eu-west-3&quot;;\r\n    \r\n            AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard()\r\n                    .withEndpointConfiguration(new EndpointConfiguration(secretManagerUrl, region))\r\n                    .build();\r\n    \r\n            String secret;\r\n            GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\r\n                    .withSecretId(secretName);\r\n            GetSecretValueResult getSecretValueResult = null;\r\n    \r\n            getSecretValueResult = client.getSecretValue(getSecretValueRequest);\r\n    \r\n            secret = getSecretValueResult.getSecretString(); // HERE IS THE ERROR LOCATION\r\n    \r\n            ObjectMapper m = new ObjectMapper();\r\n            Map&lt;String, String&gt;  read = m.readValue(secret, Map.class);\r\n            read.forEach((key, value) -&gt; {\r\n                secretCache.put(&quot;accessKey&quot;, key);\r\n                secretCache.put(&quot;secretKey&quot;, value);\r\n            });\r\n        }\r\n\r\nHere is the setup-aws.sh shown below.\r\n\r\n    aws configure set aws_access_key_id &quot;test&quot;\r\n    aws configure set aws_secret_access_key &quot;test&quot;\r\n    aws configure set default.region eu-west-3\r\n    \r\n    \r\n    aws --endpoint-url=http://localhost:4566 secretsmanager create-secret --name aws/secret --secret-string &#39;{&quot;my_uname&quot;:&quot;username&quot;,&quot;my_pwd&quot;:&quot;password&quot;}&#39;\r\n    \r\n    aws --endpoint-url=http://localhost:4566  s3api create-bucket \\\r\n                  --bucket bucketnameproject \\\r\n                  --region eu-west-1 \\\r\n                  --create-bucket-configuration LocationConstraint=eu-west-3\r\n\r\nHere is the output of sh file\r\n\r\n    {\r\n        &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\r\n    dRTaw&quot;,\r\n        &quot;Name&quot;: &quot;aws/secret&quot;,\r\n        &quot;VersionId&quot;: &quot;ce0e8536-565a-4791-9259-8272d46e04be&quot;\r\n    }\r\n\r\n\r\n\r\nHere is the output of `aws --endpoint-url=http://localhost:4566/ secretsmanager list-secrets`\r\n\r\n        &quot;SecretList&quot;: [\r\n            {\r\n                &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-ScYdQq&quot;,\r\n                &quot;Name&quot;: &quot;aws/secret&quot;,\r\n                &quot;LastChangedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;,\r\n                &quot;SecretVersionsToStages&quot;: {\r\n                    &quot;eca973d8-c502-4c74-a646-8e412cd66973&quot;: [\r\n                        &quot;AWSCURRENT&quot;\r\n                    ]\r\n                },\r\n                &quot;CreatedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n\r\n\r\nHere is the error shown below.\r\n\r\n    com.amazonaws.services.secretsmanager.model.ResourceNotFoundException: Secrets Manager can&#39;t find the specified secret. (Service: AWSSecretsManager; Status Code: 400; Error Code: ResourceNotFoundException; Request ID: 55AQCW3AFW5RK39GQZGXAK6MVHG80K7W6SGYTUE5MTJ5X5TMLEMB; Proxy: null)","title":"Spring Boot AWS Secrets Manager can&#39;t find the specified secret","body":"<p>I have a problem about getting specified secret from AWS Secret Manager in my Spring Boot Example.</p>\n<p>I think localstack is useful for the process.</p>\n<p>Here is the localstack code snippet defined in docker-compose.</p>\n<pre><code>  localstack:\n    image: localstack/localstack:latest\n    environment:\n      - SERVICES=s3\n      - EDGE_PORT=4566\n      - AWS_ACCESS_KEY_ID=test\n      - AWS_SECRET_ACCESS_KEY=test\n      - AWS_DEFAULT_REGION=eu-west-3\n    ports:\n      - '4566-4597:4566-4597'\n    volumes:\n      - &quot;${TMPDIR:-/tmp/localstack}:/tmp/localstack&quot;\n</code></pre>\n<p>After I ran setup-aws.sh, I tried to run the Spring Boot example.</p>\n<p>I couldn't get secret value?</p>\n<p>How can I fix it?</p>\n<p>Here is the application.properties file</p>\n<pre><code>cloud.aws.end-point.uri=http://s3.localhost.localstack.cloud:4566/\ncloud.aws.secrets-manager.end-point.uri=http://localhost:4566  -&gt; secretManagerUrl\n\ns3.bucket.base.url=http://bucketnameproject.s3.localhost.localstack.cloud:4566/\n</code></pre>\n<p>Here is the init method of AWSConfiguration file</p>\n<pre><code>public void init() throws JsonProcessingException {\n        String secretName = &quot;aws/secret&quot;;\n        String region = &quot;eu-west-3&quot;;\n\n        AWSSecretsManager client = AWSSecretsManagerClientBuilder.standard()\n                .withEndpointConfiguration(new EndpointConfiguration(secretManagerUrl, region))\n                .build();\n\n        String secret;\n        GetSecretValueRequest getSecretValueRequest = new GetSecretValueRequest()\n                .withSecretId(secretName);\n        GetSecretValueResult getSecretValueResult = null;\n\n        getSecretValueResult = client.getSecretValue(getSecretValueRequest);\n\n        secret = getSecretValueResult.getSecretString(); // HERE IS THE ERROR LOCATION\n\n        ObjectMapper m = new ObjectMapper();\n        Map&lt;String, String&gt;  read = m.readValue(secret, Map.class);\n        read.forEach((key, value) -&gt; {\n            secretCache.put(&quot;accessKey&quot;, key);\n            secretCache.put(&quot;secretKey&quot;, value);\n        });\n    }\n</code></pre>\n<p>Here is the setup-aws.sh shown below.</p>\n<pre><code>aws configure set aws_access_key_id &quot;test&quot;\naws configure set aws_secret_access_key &quot;test&quot;\naws configure set default.region eu-west-3\n\n\naws --endpoint-url=http://localhost:4566 secretsmanager create-secret --name aws/secret --secret-string '{&quot;my_uname&quot;:&quot;username&quot;,&quot;my_pwd&quot;:&quot;password&quot;}'\n\naws --endpoint-url=http://localhost:4566  s3api create-bucket \\\n              --bucket bucketnameproject \\\n              --region eu-west-1 \\\n              --create-bucket-configuration LocationConstraint=eu-west-3\n</code></pre>\n<p>Here is the output of sh file</p>\n<pre><code>{\n    &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-A\ndRTaw&quot;,\n    &quot;Name&quot;: &quot;aws/secret&quot;,\n    &quot;VersionId&quot;: &quot;ce0e8536-565a-4791-9259-8272d46e04be&quot;\n}\n</code></pre>\n<p>Here is the output of <code>aws --endpoint-url=http://localhost:4566/ secretsmanager list-secrets</code></p>\n<pre><code>    &quot;SecretList&quot;: [\n        {\n            &quot;ARN&quot;: &quot;arn:aws:secretsmanager:eu-central-1:000000000000:secret:aws/secret-ScYdQq&quot;,\n            &quot;Name&quot;: &quot;aws/secret&quot;,\n            &quot;LastChangedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;,\n            &quot;SecretVersionsToStages&quot;: {\n                &quot;eca973d8-c502-4c74-a646-8e412cd66973&quot;: [\n                    &quot;AWSCURRENT&quot;\n                ]\n            },\n            &quot;CreatedDate&quot;: &quot;2022-10-18T00:18:02.283609+03:00&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Here is the error shown below.</p>\n<pre><code>com.amazonaws.services.secretsmanager.model.ResourceNotFoundException: Secrets Manager can't find the specified secret. (Service: AWSSecretsManager; Status Code: 400; Error Code: ResourceNotFoundException; Request ID: 55AQCW3AFW5RK39GQZGXAK6MVHG80K7W6SGYTUE5MTJ5X5TMLEMB; Proxy: null)\n</code></pre>\n"},{"tags":["java","spring","jsp"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1515136184,"post_id":48108646,"comment_id":83192773,"body_markdown":"I think you should use `@RequestBody` rather than `@ModelAttribute`, and it would be better to use a class rather than a Map (just my thoughts).","body":"I think you should use <code>@RequestBody</code> rather than <code>@ModelAttribute</code>, and it would be better to use a class rather than a Map (just my thoughts)."}],"answers":[{"comments":[{"owner":{"account_id":3088175,"reputation":1401,"user_id":3165626,"accept_rate":71,"display_name":"LegionDev"},"score":0,"creation_date":1515141733,"post_id":48109492,"comment_id":83195137,"body_markdown":"I get that same &quot;java.lang.NoSuchMethodError: java.lang.String submitReportQuery(java.util.Map)&quot; when trying this solution :(","body":"I get that same &quot;java.lang.NoSuchMethodError: java.lang.String submitReportQuery(java.util.Map)&quot; when trying this solution :("},{"owner":{"account_id":2348592,"reputation":887,"user_id":2058085,"display_name":"Gnanasekaran Palanisamy"},"score":0,"creation_date":1515143913,"post_id":48109492,"comment_id":83196270,"body_markdown":"you change ReportQueryMapBean  to Map&lt;String, String&gt;","body":"you change ReportQueryMapBean  to Map&lt;String, String&gt;"},{"owner":{"account_id":3088175,"reputation":1401,"user_id":3165626,"accept_rate":71,"display_name":"LegionDev"},"score":0,"creation_date":1515154819,"post_id":48109492,"comment_id":83202648,"body_markdown":"I got it working with the ReportQueryMapBean, but all the values seem to be null","body":"I got it working with the ReportQueryMapBean, but all the values seem to be null"},{"owner":{"account_id":2348592,"reputation":887,"user_id":2058085,"display_name":"Gnanasekaran Palanisamy"},"score":0,"creation_date":1515155228,"post_id":48109492,"comment_id":83202884,"body_markdown":"Try the below changes\n\n\t\t`public class ReportQueryMapBean  {\n\t\t\tprivate String randomKey1;\n\t\t\tprivate String randomKey2;\n\t\t\tprivate String randomKey3;\n\t\t\tprivate String reportType;\n\t\t\tprivate String reportProduct\n\t\t\tprivate String reportMonth;\n\t\t\tprivate String queryRemark;\n\t\t\t\n\t\t\t// to do add getter and setter method for the above fields\n\t\t}`","body":"Try the below changes  \t\t<code>public class ReportQueryMapBean  { \t\t\tprivate String randomKey1; \t\t\tprivate String randomKey2; \t\t\tprivate String randomKey3; \t\t\tprivate String reportType; \t\t\tprivate String reportProduct \t\t\tprivate String reportMonth; \t\t\tprivate String queryRemark; \t\t\t \t\t\t&#47;&#47; to do add getter and setter method for the above fields \t\t}</code>"}],"tags":[],"owner":{"account_id":2348592,"reputation":887,"user_id":2058085,"display_name":"Gnanasekaran Palanisamy"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515139523,"creation_date":1515139523,"answer_id":48109492,"question_id":48108646,"body_markdown":"\t@RequestMapping(value = &quot;submitReportQuery&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot; )\r\n    public String submitReportQuery(@RequestBody ReportQueryMapBean reportQueryMap)throws Exception{\r\n         //model.addAttribute(&quot;successful&quot;, true);\r\n         return &quot;queries/SelfServiceQueriesSubmitResults&quot;;\r\n    }\r\n\t\r\n\tpublic class ReportQueryMapBean {\r\n\t\t// to do delcare the bean fields to match the request\r\n\t\t// and corresponding getter and setter function\r\n\t}","title":"Spring MVC, pass json object to controler and return view with model attributes set","body":"<pre><code>@RequestMapping(value = \"submitReportQuery\", method = RequestMethod.POST, consumes=\"application/json\" )\npublic String submitReportQuery(@RequestBody ReportQueryMapBean reportQueryMap)throws Exception{\n     //model.addAttribute(\"successful\", true);\n     return \"queries/SelfServiceQueriesSubmitResults\";\n}\n\npublic class ReportQueryMapBean {\n    // to do delcare the bean fields to match the request\n    // and corresponding getter and setter function\n}\n</code></pre>\n"}],"owner":{"account_id":3088175,"reputation":1401,"user_id":3165626,"accept_rate":71,"display_name":"LegionDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1651,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":48109492,"answer_count":1,"score":0,"last_activity_date":1666043878,"creation_date":1515135370,"question_id":48108646,"body_markdown":"I&#39;m trying to send data to my controller, have it do a service call and then return the result to be displayed on the view\r\n\r\nMy Ajax call looks like this\r\n\r\n    $.ajax({\r\n                url: &quot;&lt;c:url value=&quot;submitReportQuery&quot;/&gt;&quot;,\r\n                type: &quot;POST&quot;,\r\n                dataType: &quot;html&quot;,\r\n                contentType: &quot;application/json;&quot;,\r\n                data: JSON.stringify(reportQueryMap),\r\n                success: function (data) {\r\n                    $(&#39;#SelfServiceResults&#39;).html(data);\r\n                }\r\n            })\r\n\r\nand my controller looks like this \r\n\r\n    @RequestMapping(value = &quot;submitReportQuery&quot;, method = RequestMethod.POST, consumes=&quot;application/json&quot; )\r\n        public String submitReportQuery(@ModelAttribute Map&lt;String, String&gt; reportQueryMap/*, Model model, BindingResult bindingResult*/)throws Exception{\r\n             //model.addAttribute(&quot;successful&quot;, true);\r\n             return &quot;queries/SelfServiceQueriesSubmitResults&quot;;\r\n        }\r\n\r\nThe json object looks like this (it can have anything from 0-5 randomKeys) which I pass as a map to a service\r\nNote: the actual name of &quot;randomKey&quot; can change the key is a unknown\r\n\r\n    {\r\n    &quot;randomKey1&quot;:&quot;111&quot;,\r\n    &quot;randomKey2&quot;:&quot;222&quot;,\r\n    &quot;randomKey3&quot;:&quot;333&quot;,\r\n    &quot;reportType&quot;:&quot;Commission Processed BH&quot;,\r\n    &quot;reportProduct&quot;:&quot;LIFE&quot;,\r\n    &quot;reportMonth&quot;:&quot;January 2017&quot;,\r\n    &quot;queryRemark&quot;:&quot;nice&quot;\r\n    }\r\n\r\nI can&#39;t seem to get the &quot;successful&quot; attribute passed to the view, if I add the parts comented out I get this error \r\n\r\n    org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchMethodError: java.lang.String submitReportQuery(java.util.Map)\r\n\r\nI basically want [This][1] but it must return a view with attributes set on it\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18524524/passing-json-data-to-a-spring-mvc-controller","title":"Spring MVC, pass json object to controler and return view with model attributes set","body":"<p>I'm trying to send data to my controller, have it do a service call and then return the result to be displayed on the view</p>\n\n<p>My Ajax call looks like this</p>\n\n<pre><code>$.ajax({\n            url: \"&lt;c:url value=\"submitReportQuery\"/&gt;\",\n            type: \"POST\",\n            dataType: \"html\",\n            contentType: \"application/json;\",\n            data: JSON.stringify(reportQueryMap),\n            success: function (data) {\n                $('#SelfServiceResults').html(data);\n            }\n        })\n</code></pre>\n\n<p>and my controller looks like this </p>\n\n<pre><code>@RequestMapping(value = \"submitReportQuery\", method = RequestMethod.POST, consumes=\"application/json\" )\n    public String submitReportQuery(@ModelAttribute Map&lt;String, String&gt; reportQueryMap/*, Model model, BindingResult bindingResult*/)throws Exception{\n         //model.addAttribute(\"successful\", true);\n         return \"queries/SelfServiceQueriesSubmitResults\";\n    }\n</code></pre>\n\n<p>The json object looks like this (it can have anything from 0-5 randomKeys) which I pass as a map to a service\nNote: the actual name of \"randomKey\" can change the key is a unknown</p>\n\n<pre><code>{\n\"randomKey1\":\"111\",\n\"randomKey2\":\"222\",\n\"randomKey3\":\"333\",\n\"reportType\":\"Commission Processed BH\",\n\"reportProduct\":\"LIFE\",\n\"reportMonth\":\"January 2017\",\n\"queryRemark\":\"nice\"\n}\n</code></pre>\n\n<p>I can't seem to get the \"successful\" attribute passed to the view, if I add the parts comented out I get this error </p>\n\n<pre><code>org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchMethodError: java.lang.String submitReportQuery(java.util.Map)\n</code></pre>\n\n<p>I basically want <a href=\"https://stackoverflow.com/questions/18524524/passing-json-data-to-a-spring-mvc-controller\">This</a> but it must return a view with attributes set on it</p>\n"},{"tags":["java","cucumber","tagging","scenarios","smoke-testing"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1666028569,"post_id":74100878,"comment_id":130833519,"body_markdown":"Split the table into two and provide the required tag on top of the examples keyword containing the smoke scenario..","body":"Split the table into two and provide the required tag on top of the examples keyword containing the smoke scenario.."}],"answers":[{"comments":[{"owner":{"account_id":1941751,"reputation":93,"user_id":1747816,"accept_rate":20,"display_name":"Kirsty Meredith"},"score":0,"creation_date":1666092617,"post_id":74103556,"comment_id":130848691,"body_markdown":"Brilliant!  Thank you for this clean approach!! :)","body":"Brilliant!  Thank you for this clean approach!! :)"}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666043658,"creation_date":1666042941,"answer_id":74103556,"question_id":74100878,"body_markdown":"You can tag examples sections and have multiple examples sections.\r\n\r\n```feature\r\n@SmokeTest    \r\nScenario Outline: Number is or is not valid\r\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\r\n    Then I will receive the following &lt;message&gt;\r\n  \r\n    @SmokeTest\r\n    Examples: \r\n        | num    | message           |                                                                                     \r\n        | 0      | &quot;Processed event&quot; |   \r\n\r\n    Examples: You can also name these \r\n        | num    | message           |                                                                                                                                          \r\n        | 1      | &quot;Processed event&quot; |                                                                  \r\n        | 2      | &quot;Processed event&quot; | \r\n\r\n```                           ","title":"Cucumber: @SmokeTest Tagging one scenario out of a scenario outline","body":"<p>You can tag examples sections and have multiple examples sections.</p>\n<pre><code>@SmokeTest    \nScenario Outline: Number is or is not valid\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\n    Then I will receive the following &lt;message&gt;\n  \n    @SmokeTest\n    Examples: \n        | num    | message           |                                                                                     \n        | 0      | &quot;Processed event&quot; |   \n\n    Examples: You can also name these \n        | num    | message           |                                                                                                                                          \n        | 1      | &quot;Processed event&quot; |                                                                  \n        | 2      | &quot;Processed event&quot; | \n\n</code></pre>\n"}],"owner":{"account_id":1941751,"reputation":93,"user_id":1747816,"accept_rate":20,"display_name":"Kirsty Meredith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74103556,"answer_count":1,"score":1,"last_activity_date":1666043658,"creation_date":1666026902,"question_id":74100878,"body_markdown":"I am new to tagging in Cucumber.  I have built up an automation suite and have identified all tests which can be effectively tagged as Smoke Tests using the @SmokeTest tag.\r\n\r\nHowever is there a way to do the following?  I don&#39;t want to tag the whole of the Scenario Outline as a SmokeTest - but just want one test/response to be the Scenario as per below:\r\n\r\n**What I don&#39;t want - as this will test all scenarios**\r\n\r\n    @SmokeTest    \r\n    Scenario Outline: Number is or is not valid\r\n        Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\r\n        Then I will receive the following &lt;message&gt;\r\n        Examples:\r\n            | num    | message           |                                                                                     \r\n            | 0      | &quot;Processed event&quot; |                                                        \r\n            | 1      | &quot;Processed event&quot; |                                                                  \r\n            | 2      | &quot;Processed event&quot; |                                                                 \r\n            | 3      | &quot;Processed event&quot; |                                                                 \r\n            | 4      | &quot;Processed event&quot; |                                                                 \r\n            | 5      | &quot;Processed event&quot; |                                                                                                                                 \r\n            | 6      | &quot;Message failed&quot;  |\r\n            | -1     | &quot;Message failed&quot;  |\r\n            | &quot;One&quot;  | &quot;Message failed&quot;  |\r\n\r\n**What I would like to have - using the Number of 1 as tagged as my Smoke Test**\r\n\r\n    Scenario Outline: Number is or is not valid\r\n        Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\r\n        Then I will receive the following &lt;message&gt;\r\n        Examples:\r\n               | num    | message           |                                                                                     \r\n               | 0      | &quot;Processed event&quot; |                                                        \r\n    @SmokeTest | 1      | &quot;Processed event&quot; |                                                                  \r\n               | 2      | &quot;Processed event&quot; |                                                                 \r\n               | 3      | &quot;Processed event&quot; |                                                                 \r\n               | 4      | &quot;Processed event&quot; |                                                                 \r\n               | 5      | &quot;Processed event&quot; |                                                                                                                                 \r\n               | 6      | &quot;Message failed&quot;  |\r\n               | -1     | &quot;Message failed&quot;  |\r\n               | &quot;One&quot;  | &quot;Message failed&quot;  |\r\n\r\nIs this possible?  Or would it be better to create a separate scenario definition with the Smoke Test I just want?\r\n\r\nMany thanks!\r\n\r\nKirsty\r\n","title":"Cucumber: @SmokeTest Tagging one scenario out of a scenario outline","body":"<p>I am new to tagging in Cucumber.  I have built up an automation suite and have identified all tests which can be effectively tagged as Smoke Tests using the @SmokeTest tag.</p>\n<p>However is there a way to do the following?  I don't want to tag the whole of the Scenario Outline as a SmokeTest - but just want one test/response to be the Scenario as per below:</p>\n<p><strong>What I don't want - as this will test all scenarios</strong></p>\n<pre><code>@SmokeTest    \nScenario Outline: Number is or is not valid\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\n    Then I will receive the following &lt;message&gt;\n    Examples:\n        | num    | message           |                                                                                     \n        | 0      | &quot;Processed event&quot; |                                                        \n        | 1      | &quot;Processed event&quot; |                                                                  \n        | 2      | &quot;Processed event&quot; |                                                                 \n        | 3      | &quot;Processed event&quot; |                                                                 \n        | 4      | &quot;Processed event&quot; |                                                                 \n        | 5      | &quot;Processed event&quot; |                                                                                                                                 \n        | 6      | &quot;Message failed&quot;  |\n        | -1     | &quot;Message failed&quot;  |\n        | &quot;One&quot;  | &quot;Message failed&quot;  |\n</code></pre>\n<p><strong>What I would like to have - using the Number of 1 as tagged as my Smoke Test</strong></p>\n<pre><code>Scenario Outline: Number is or is not valid\n    Given I send an event with the &quot;Number&quot; set to &lt;num&gt;\n    Then I will receive the following &lt;message&gt;\n    Examples:\n           | num    | message           |                                                                                     \n           | 0      | &quot;Processed event&quot; |                                                        \n@SmokeTest | 1      | &quot;Processed event&quot; |                                                                  \n           | 2      | &quot;Processed event&quot; |                                                                 \n           | 3      | &quot;Processed event&quot; |                                                                 \n           | 4      | &quot;Processed event&quot; |                                                                 \n           | 5      | &quot;Processed event&quot; |                                                                                                                                 \n           | 6      | &quot;Message failed&quot;  |\n           | -1     | &quot;Message failed&quot;  |\n           | &quot;One&quot;  | &quot;Message failed&quot;  |\n</code></pre>\n<p>Is this possible?  Or would it be better to create a separate scenario definition with the Smoke Test I just want?</p>\n<p>Many thanks!</p>\n<p>Kirsty</p>\n"},{"tags":["java","zip","deflate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666012513,"post_id":74097426,"comment_id":130827437,"body_markdown":"*my data is stored deflated in a database*. So why not make that a zip file in the first place?","body":"<i>my data is stored deflated in a database</i>. So why not make that a zip file in the first place?"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1666169230,"post_id":74097426,"comment_id":130869508,"body_markdown":"@g00se this is part of another framework which cannot be changed","body":"@g00se this is part of another framework which cannot be changed"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666010691,"creation_date":1666010691,"answer_id":74097498,"question_id":74097426,"body_markdown":"`.setMethod(STORED)` is like calling `zip -0`: It&#39;s telling the Zip library that you want the data to be stored uncompressed. It&#39;s not what you want.\r\n\r\nThe zip library is __not capable__ of delivering on this.\r\n\r\nThere&#39;s a somewhat more expansive zip library out there that supports more of zip&#39;s features: [lingala-zip4j](https://github.com/srikanth-lingala/zip4j).\r\n\r\nI don&#39;t think that library can do the job either. So, if you want to do this, you&#39;d have to fork it. At least you now have a thing to fork.\r\n\r\nAssuming the data you have is compressed with DEFLATE, you can indeed do what you want - it&#39;s just a matter of writing the right zip header info. Forking lingala, or handwriting your own, given that the only thing you need it to do is emit zip files that most zip tools can read, is not actually all that complicated; the zip header structure is a bit weird but you just need enough to successfully compress your own data. Wikipedia for some reason has the [full breakdown of the zip format](https://en.wikipedia.org/wiki/ZIP_(file_format)) if you prefer to just write it from scratch instead of forking lingala.","title":"Write deflated byte[] into zip file","body":"<p><code>.setMethod(STORED)</code> is like calling <code>zip -0</code>: It's telling the Zip library that you want the data to be stored uncompressed. It's not what you want.</p>\n<p>The zip library is <strong>not capable</strong> of delivering on this.</p>\n<p>There's a somewhat more expansive zip library out there that supports more of zip's features: <a href=\"https://github.com/srikanth-lingala/zip4j\" rel=\"nofollow noreferrer\">lingala-zip4j</a>.</p>\n<p>I don't think that library can do the job either. So, if you want to do this, you'd have to fork it. At least you now have a thing to fork.</p>\n<p>Assuming the data you have is compressed with DEFLATE, you can indeed do what you want - it's just a matter of writing the right zip header info. Forking lingala, or handwriting your own, given that the only thing you need it to do is emit zip files that most zip tools can read, is not actually all that complicated; the zip header structure is a bit weird but you just need enough to successfully compress your own data. Wikipedia for some reason has the <a href=\"https://en.wikipedia.org/wiki/ZIP_(file_format)\" rel=\"nofollow noreferrer\">full breakdown of the zip format</a> if you prefer to just write it from scratch instead of forking lingala.</p>\n"},{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666042889,"creation_date":1666042889,"answer_id":74103548,"question_id":74097426,"body_markdown":"You&#39;ll need to roll your own zip wrappers around the deflate data. The zip format is well documented in the [PKWare APPNOTE][1].\r\n\r\nFirst, you need to make sure that it actually is raw deflate data. It might be a zlib stream, or possibly even a gzip stream. If so, you will first need to strip those wrappers to get the raw deflate data.\r\n\r\nThen you will need to decompress the deflate data to get two pieces of information: the length of the uncomrpessed data, and the CRC-32 of the uncompressed data. Those will be required to fill in the zip headers.\r\n\r\nWith the raw deflate data, the uncompressed length, and the uncompressed CRC, it will be straightforward to create a single-entry zip file with that data. You will just need to make up a file name for the entry.\r\n\r\n\r\n  [1]: https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.9.TXT","title":"Write deflated byte[] into zip file","body":"<p>You'll need to roll your own zip wrappers around the deflate data. The zip format is well documented in the <a href=\"https://pkware.cachefly.net/webdocs/APPNOTE/APPNOTE-6.3.9.TXT\" rel=\"nofollow noreferrer\">PKWare APPNOTE</a>.</p>\n<p>First, you need to make sure that it actually is raw deflate data. It might be a zlib stream, or possibly even a gzip stream. If so, you will first need to strip those wrappers to get the raw deflate data.</p>\n<p>Then you will need to decompress the deflate data to get two pieces of information: the length of the uncomrpessed data, and the CRC-32 of the uncompressed data. Those will be required to fill in the zip headers.</p>\n<p>With the raw deflate data, the uncompressed length, and the uncompressed CRC, it will be straightforward to create a single-entry zip file with that data. You will just need to make up a file name for the entry.</p>\n"}],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74097498,"answer_count":2,"score":0,"last_activity_date":1666042889,"creation_date":1666010398,"question_id":74097426,"body_markdown":"my data is stored deflated in a database.\r\nYou can donwload this data inflated as .txt via app.\r\nNow it should be possible to download the data as .zip\r\n\r\nI&#39;m looking for a solution without decompressing the data and compressing it again via\r\n```\r\n// byte[] deflated = ...;\r\n// File zipFile = ...;\r\ntry (FileOutputStream fos = new FileOutputStream(zipFile);\r\n        ZipOutputStream zos = new ZipOutputStream(fos))\r\n{\r\n    ZipEntry entry = new ZipEntry(&quot;data.txt&quot;);\r\n    zos.putNextEntry(entry);\r\n    zos.write(inflate(deflated));\r\n} catch (Exception e) {\r\n    // handling\r\n}\r\n```\r\nI tried to work with `entry.setMethod(ZipEntry.STORED)` but it didn&#39;t work.\r\nGoogle search only delivers solutions with uncompressed data.\r\nAny idea?\r\nGZip or 7z may be possible too.","title":"Write deflated byte[] into zip file","body":"<p>my data is stored deflated in a database.\nYou can donwload this data inflated as .txt via app.\nNow it should be possible to download the data as .zip</p>\n<p>I'm looking for a solution without decompressing the data and compressing it again via</p>\n<pre><code>// byte[] deflated = ...;\n// File zipFile = ...;\ntry (FileOutputStream fos = new FileOutputStream(zipFile);\n        ZipOutputStream zos = new ZipOutputStream(fos))\n{\n    ZipEntry entry = new ZipEntry(&quot;data.txt&quot;);\n    zos.putNextEntry(entry);\n    zos.write(inflate(deflated));\n} catch (Exception e) {\n    // handling\n}\n</code></pre>\n<p>I tried to work with <code>entry.setMethod(ZipEntry.STORED)</code> but it didn't work.\nGoogle search only delivers solutions with uncompressed data.\nAny idea?\nGZip or 7z may be possible too.</p>\n"},{"tags":["java","algorithm","linked-list","singly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644083763,"creation_date":1644083313,"answer_id":71000599,"question_id":71000488,"body_markdown":"The problem is that your code always returns the newly created node, but you should always return the *first* node in the list, which either is what it was when you got it, or is the new node in case the position was zero.\r\n\r\n### What to look at:\r\n\r\nI&#39;ll not provide the corrected code, but will give you two hints:\r\n\r\nBy moving `llist` ahead in the `for` loop, you lose the reference to that first node, so use a different variable for walking through the list.\r\n\r\nAlso, you should deal specifically with the case where `position` is 0, as this is the only case where the returned value is not the original `llist` value, but the new node&#39;s reference, much like you have in the `if` block.","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>The problem is that your code always returns the newly created node, but you should always return the <em>first</em> node in the list, which either is what it was when you got it, or is the new node in case the position was zero.</p>\n<h3>What to look at:</h3>\n<p>I'll not provide the corrected code, but will give you two hints:</p>\n<p>By moving <code>llist</code> ahead in the <code>for</code> loop, you lose the reference to that first node, so use a different variable for walking through the list.</p>\n<p>Also, you should deal specifically with the case where <code>position</code> is 0, as this is the only case where the returned value is not the original <code>llist</code> value, but the new node's reference, much like you have in the <code>if</code> block.</p>\n"},{"tags":[],"owner":{"account_id":20218149,"reputation":319,"user_id":14828354,"display_name":"VAIBHAV NIRMAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644142090,"creation_date":1644142090,"answer_id":71006053,"question_id":71000488,"body_markdown":"Easiest solution No need of explaination : \r\nSolution : \r\n\r\n    static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode head, int data, int position) {\r\n            if (head == null) return null;\r\n            SinglyLinkedListNode temp = new SinglyLinkedListNode(data);\r\n            if (position == 0) {\r\n                temp.next = head;\r\n                return temp;\r\n            }\r\n            SinglyLinkedListNode p = head;\r\n            for (int i = 0; i&lt; position-1; i++) {\r\n                p = p.next;\r\n            }\r\n            SinglyLinkedListNode next = p.next;\r\n            p.next = temp;\r\n            temp.next = next;\r\n            return head;\r\n        }","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>Easiest solution No need of explaination :\nSolution :</p>\n<pre><code>static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode head, int data, int position) {\n        if (head == null) return null;\n        SinglyLinkedListNode temp = new SinglyLinkedListNode(data);\n        if (position == 0) {\n            temp.next = head;\n            return temp;\n        }\n        SinglyLinkedListNode p = head;\n        for (int i = 0; i&lt; position-1; i++) {\n            p = p.next;\n        }\n        SinglyLinkedListNode next = p.next;\n        p.next = temp;\n        temp.next = next;\n        return head;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14800473,"reputation":1,"user_id":10688855,"display_name":"Cui Tony"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644565572,"creation_date":1644565572,"answer_id":71076649,"question_id":71000488,"body_markdown":"The problem requires you to return a linked list. When we are asked to return a linked list, actually we return the first node of the linked list. \r\n\r\nSo, your problem is the returned value in your code script is not the first node of the linked list. \r\n\r\nThe simplest solution is that you keep the first node in another variable, and  \r\n return that variable after you have done the insert thing.\r\nfor example:\r\n\r\n    SinglyLinkedListNode dumyNode = llist;\r\n    ......\r\n    return dumyNode;\r\n\r\n\r\n","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>The problem requires you to return a linked list. When we are asked to return a linked list, actually we return the first node of the linked list.</p>\n<p>So, your problem is the returned value in your code script is not the first node of the linked list.</p>\n<p>The simplest solution is that you keep the first node in another variable, and<br />\nreturn that variable after you have done the insert thing.\nfor example:</p>\n<pre><code>SinglyLinkedListNode dumyNode = llist;\n......\nreturn dumyNode;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10751443,"reputation":347,"user_id":7910725,"display_name":"Mabadai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666042425,"creation_date":1666042425,"answer_id":74103478,"question_id":71000488,"body_markdown":"Suppose given the correct Node class, you can try this approach (without index collision case):\r\n\r\n    private Node find(int index) {\r\n        Node curr = head;\r\n        for (int i = 0; i &lt; index; i++)\r\n            curr = curr.next;\r\n\r\n        return curr;\r\n    }   // end find()\r\n\r\n    public Object get(int index) throws IndexOutOfBoundsException {\r\n        if (index &gt;= 0 &amp;&amp; index &lt; size) {\r\n            Node curr = find(index);\r\n            return curr.data;\r\n        } else {\r\n            throw new IndexOutOfBoundsException();\r\n        }   // end if - else\r\n    }   // end get()\r\n\r\n    public void add(Object data, int index) throws IndexOutOfBoundsException {\r\n        if (index &gt;= 0 &amp;&amp; index &lt; size + 1) {\r\n            if (index == 0)\r\n                head = new Node(data);\r\n            else {\r\n                Node prev = find(index - 1);\r\n                prev.next = new Node(data);\r\n            } // end if - else\r\n            size++;\r\n        } else {\r\n            throw new IndexOutOfBoundsException();\r\n        }   // end if - else\r\n    }   // end add()","title":"Insert a node at a specific position in a linked list JAVA","body":"<p>Suppose given the correct Node class, you can try this approach (without index collision case):</p>\n<pre><code>private Node find(int index) {\n    Node curr = head;\n    for (int i = 0; i &lt; index; i++)\n        curr = curr.next;\n\n    return curr;\n}   // end find()\n\npublic Object get(int index) throws IndexOutOfBoundsException {\n    if (index &gt;= 0 &amp;&amp; index &lt; size) {\n        Node curr = find(index);\n        return curr.data;\n    } else {\n        throw new IndexOutOfBoundsException();\n    }   // end if - else\n}   // end get()\n\npublic void add(Object data, int index) throws IndexOutOfBoundsException {\n    if (index &gt;= 0 &amp;&amp; index &lt; size + 1) {\n        if (index == 0)\n            head = new Node(data);\n        else {\n            Node prev = find(index - 1);\n            prev.next = new Node(data);\n        } // end if - else\n        size++;\n    } else {\n        throw new IndexOutOfBoundsException();\n    }   // end if - else\n}   // end add()\n</code></pre>\n"}],"owner":{"account_id":20372746,"reputation":1,"user_id":15296423,"display_name":"elo melo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1666042425,"creation_date":1644082461,"question_id":71000488,"body_markdown":"```\r\npublic static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode llist, int data, int position) {\r\n\tif(llist == null) {\r\n\t\tllist =  new SinglyLinkedListNode(data);\r\n\t\treturn llist;\r\n\t} else {\r\n\t\tfor (int i = 0; i &lt; position-1; i++) {\r\n\t\t\tllist = llist.next;\r\n\t\t}\r\n\t\tSinglyLinkedListNode temp = llist;\r\n\t\tllist.next = new SinglyLinkedListNode(data);\r\n\t\tllist = llist.next;\r\n\t\tllist.next = temp.next;\t\t\t\r\n\t\treturn llist;\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nThis is my code to place a custom index node in LinkedList. But hackerrank is not accepting my code. What&#39;s wrong with my algorithm? ","title":"Insert a node at a specific position in a linked list JAVA","body":"<pre><code>public static SinglyLinkedListNode insertNodeAtPosition(SinglyLinkedListNode llist, int data, int position) {\n    if(llist == null) {\n        llist =  new SinglyLinkedListNode(data);\n        return llist;\n    } else {\n        for (int i = 0; i &lt; position-1; i++) {\n            llist = llist.next;\n        }\n        SinglyLinkedListNode temp = llist;\n        llist.next = new SinglyLinkedListNode(data);\n        llist = llist.next;\n        llist.next = temp.next;         \n        return llist;\n    }\n}\n</code></pre>\n<p>This is my code to place a custom index node in LinkedList. But hackerrank is not accepting my code. What's wrong with my algorithm?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666042882,"post_id":74103445,"comment_id":130837707,"body_markdown":"Where is methodA called from in option 1? And why don’t you like option 2 as the simplest approach?","body":"Where is methodA called from in option 1? And why don’t you like option 2 as the simplest approach?"},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1666043973,"post_id":74103445,"comment_id":130837980,"body_markdown":"@Abhijit Sarkar thanks. MethodA in option 1 can be referred by other beans while it is running. I am trying to let Method A wrap keep making progress if bean hasn&#39;t been recycled yet. I will choose Option 2 if only bean will be recycled right after `@PostDestroy` method is complete, however I can&#39;t find supporting document about it","body":"@Abhijit Sarkar thanks. MethodA in option 1 can be referred by other beans while it is running. I am trying to let Method A wrap keep making progress if bean hasn&#39;t been recycled yet. I will choose Option 2 if only bean will be recycled right after <code>@PostDestroy</code> method is complete, however I can&#39;t find supporting document about it"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666044678,"post_id":74103445,"comment_id":130838156,"body_markdown":"There’s no such thing as recycling a bean. Also, it sounds like you’re making a lot of assumptions about the order of operations at shutdown for option 1, and you’ve not yet furnished any reason for it to exist. I believe the answer is clear as daylight, go for option 2.","body":"There’s no such thing as recycling a bean. Also, it sounds like you’re making a lot of assumptions about the order of operations at shutdown for option 1, and you’ve not yet furnished any reason for it to exist. I believe the answer is clear as daylight, go for option 2."},{"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"score":0,"creation_date":1666047062,"post_id":74103445,"comment_id":130838625,"body_markdown":"@AbhijitSarkar Recycling or removing or terminating, I think eventually the bean will no longer managed by Spring container, between the end of `@PreDestroy` and the bean being terminated, is there a gap or the latter occurs right after the former? I couldn&#39;t find any document about it.","body":"@AbhijitSarkar Recycling or removing or terminating, I think eventually the bean will no longer managed by Spring container, between the end of <code>@PreDestroy</code> and the bean being terminated, is there a gap or the latter occurs right after the former? I couldn&#39;t find any document about it."}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666042220,"creation_date":1666042220,"question_id":74103445,"body_markdown":"I plan to make some clean up work after Spring application is shutting down, However may questions is whether Spring container remove the bean right after `@PreDestroy` is complete, or there is still little time for the bean to do something, meaning methods in the bean outside `@PreDestroy` can still keep running until Spring container recycle the bean.\r\n\r\nI am thinking of two solutions:\r\n\r\n    //----&gt; Solution 1\r\n    private boolean onRemoval = false;\r\n    public void methodA(){\r\n        if(onRemoval){\r\n             //do something\r\n             //so only if application is shutting down and \r\n             //hit this point then we do clean up\r\n        }\r\n    }\r\n    @PreDestroy\r\n    public void turnOnFlag(){\r\n        onRemoval = true;\r\n    }\r\n\r\n    //----&gt; Solution 2\r\n    // no flag or indicator, clean up only in \r\n    //@PreDestroy because nothing can be done \r\n    //after @PreDestroy method is done\r\n    @PreDestroy\r\n    public void cleanUp(){\r\n        //clean up work\r\n    }\r\n\r\n\r\nMy question is does solution 1 feasible? I just want to confirm that whether bean is directly recycled right after `@PreDestroy` is complete, if so could you please share the source of the doc","title":"Does bean directly removed from container right after @PreDestroy?","body":"<p>I plan to make some clean up work after Spring application is shutting down, However may questions is whether Spring container remove the bean right after <code>@PreDestroy</code> is complete, or there is still little time for the bean to do something, meaning methods in the bean outside <code>@PreDestroy</code> can still keep running until Spring container recycle the bean.</p>\n<p>I am thinking of two solutions:</p>\n<pre><code>//----&gt; Solution 1\nprivate boolean onRemoval = false;\npublic void methodA(){\n    if(onRemoval){\n         //do something\n         //so only if application is shutting down and \n         //hit this point then we do clean up\n    }\n}\n@PreDestroy\npublic void turnOnFlag(){\n    onRemoval = true;\n}\n\n//----&gt; Solution 2\n// no flag or indicator, clean up only in \n//@PreDestroy because nothing can be done \n//after @PreDestroy method is done\n@PreDestroy\npublic void cleanUp(){\n    //clean up work\n}\n</code></pre>\n<p>My question is does solution 1 feasible? I just want to confirm that whether bean is directly recycled right after <code>@PreDestroy</code> is complete, if so could you please share the source of the doc</p>\n"},{"tags":["java","android","kotlin","google-maps"],"comments":[{"owner":{"account_id":4424972,"reputation":33482,"user_id":3603681,"display_name":"Professor Abronsius"},"score":1,"creation_date":1666041791,"post_id":74103322,"comment_id":130837400,"body_markdown":"presumably this is Java / Android - please edit the associated tags to correlate","body":"presumably this is Java / Android - please edit the associated tags to correlate"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":3,"creation_date":1666042974,"post_id":74103322,"comment_id":130837730,"body_markdown":"I would start by removing `?: Application()` in both occurrences. You cannot just create an instance of `Application` and expect it to work. If for some reason `reactContext?.currentActivity?.application` evaluates to `null`, log something and skip the work. After that, confirm that `NavigationApi.getRoadSnappedLocationProvider()` returns the same instance in both the add and remove paths, and confirm that you have the same `locationListenerRef` instance in both the add and remove paths.","body":"I would start by removing <code>?: Application()</code> in both occurrences. You cannot just create an instance of <code>Application</code> and expect it to work. If for some reason <code>reactContext?.currentActivity?.application</code> evaluates to <code>null</code>, log something and skip the work. After that, confirm that <code>NavigationApi.getRoadSnappedLocationProvider()</code> returns the same instance in both the add and remove paths, and confirm that you have the same <code>locationListenerRef</code> instance in both the add and remove paths."},{"owner":{"account_id":10529483,"reputation":1907,"user_id":7759364,"accept_rate":67,"display_name":"Tzvetlin Velev"},"score":0,"creation_date":1666044931,"post_id":74103322,"comment_id":130838213,"body_markdown":"@CommonsWare yep.. the second part of your answer was the culprit. cheers","body":"@CommonsWare yep.. the second part of your answer was the culprit. cheers"}],"owner":{"account_id":10529483,"reputation":1907,"user_id":7759364,"accept_rate":67,"display_name":"Tzvetlin Velev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666041825,"creation_date":1666041346,"question_id":74103322,"body_markdown":"Ive implemented this interface \r\n```\r\nclass LocationListener(eventManager: RoadSnappedLocationProviderEventManager): RoadSnappedLocationProvider.LocationListener {\r\n    var eventMananagerRef: RoadSnappedLocationProviderEventManager? = null\r\n    init{\r\n        eventMananagerRef = eventManager;\r\n    }\r\n    override fun onLocationChanged(p0: Location?) {\r\n        Log.d(&quot;TZ&quot;, (&quot;TZZZ  $p0.toString()&quot;))\r\n        val params: WritableMap = Arguments.createMap()\r\n        params.putString(&quot;message&quot;, p0.toString())\r\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\r\n    }\r\n\r\n    override fun onRawLocationUpdate(p0: Location?) {\r\n        val params: WritableMap = Arguments.createMap()\r\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\r\n    }\r\n}\r\n```\r\n\r\nAnd I am attaching it to NavigationApi.getRoadSnappedLocationProvider like so:\r\n\r\n```\r\noverride fun onNavigatorReady(navigator: Navigator) {\r\n                mNavigator = navigator\r\n                locationListenerRef = LocationListener(eventManager)\r\n                Log.d(&quot;TZ starting snapped &quot;, locationListenerRef.toString())\r\n                NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).addLocationListener(locationListenerRef)\r\n            }\r\n```\r\n\r\nIt starts to fire location change events and when I call the method to remove it: \r\n```\r\nfun removeLocationListenerProvider(promise: Promise) {\r\n        try {\r\n            Log.d(&quot;TZ&quot;, (&quot;REMOVING LOCATION LISTENER + ${locationListenerRef.toString()}&quot;))\r\n            NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).removeLocationListener(locationListenerRef)\r\n            locationListenerRef = null\r\n            Log.d(&quot;TZ&quot;, &quot;REMOVED LOCATION LISTENER&quot;)\r\n        } catch(e: Exception) {\r\n            Log.d(&quot;TZ&quot;, e.toString())\r\n        }\r\n    }\r\n```\r\nI continue seeing the event handlers firing. Doc for road snapped location provider: https://developers.google.com/maps/documentation/navigation/android-sdk/v2/reference/com/google/android/libraries/navigation/RoadSnappedLocationProvider#removeLocationListener(com.google.android.libraries.navigation.RoadSnappedLocationProvider.LocationListener)\r\n","title":"Location Change listener continuing to broadcast events after being removed","body":"<p>Ive implemented this interface</p>\n<pre><code>class LocationListener(eventManager: RoadSnappedLocationProviderEventManager): RoadSnappedLocationProvider.LocationListener {\n    var eventMananagerRef: RoadSnappedLocationProviderEventManager? = null\n    init{\n        eventMananagerRef = eventManager;\n    }\n    override fun onLocationChanged(p0: Location?) {\n        Log.d(&quot;TZ&quot;, (&quot;TZZZ  $p0.toString()&quot;))\n        val params: WritableMap = Arguments.createMap()\n        params.putString(&quot;message&quot;, p0.toString())\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\n    }\n\n    override fun onRawLocationUpdate(p0: Location?) {\n        val params: WritableMap = Arguments.createMap()\n        eventMananagerRef?.sendEvent(LOCATION_UPDATE_RECEIVED, params)\n    }\n}\n</code></pre>\n<p>And I am attaching it to NavigationApi.getRoadSnappedLocationProvider like so:</p>\n<pre><code>override fun onNavigatorReady(navigator: Navigator) {\n                mNavigator = navigator\n                locationListenerRef = LocationListener(eventManager)\n                Log.d(&quot;TZ starting snapped &quot;, locationListenerRef.toString())\n                NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).addLocationListener(locationListenerRef)\n            }\n</code></pre>\n<p>It starts to fire location change events and when I call the method to remove it:</p>\n<pre><code>fun removeLocationListenerProvider(promise: Promise) {\n        try {\n            Log.d(&quot;TZ&quot;, (&quot;REMOVING LOCATION LISTENER + ${locationListenerRef.toString()}&quot;))\n            NavigationApi.getRoadSnappedLocationProvider(reactContext?.currentActivity?.application ?: Application()).removeLocationListener(locationListenerRef)\n            locationListenerRef = null\n            Log.d(&quot;TZ&quot;, &quot;REMOVED LOCATION LISTENER&quot;)\n        } catch(e: Exception) {\n            Log.d(&quot;TZ&quot;, e.toString())\n        }\n    }\n</code></pre>\n<p>I continue seeing the event handlers firing. Doc for road snapped location provider: <a href=\"https://developers.google.com/maps/documentation/navigation/android-sdk/v2/reference/com/google/android/libraries/navigation/RoadSnappedLocationProvider#removeLocationListener(com.google.android.libraries.navigation.RoadSnappedLocationProvider.LocationListener)\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/navigation/android-sdk/v2/reference/com/google/android/libraries/navigation/RoadSnappedLocationProvider#removeLocationListener(com.google.android.libraries.navigation.RoadSnappedLocationProvider.LocationListener)</a></p>\n"},{"tags":["java","rocksdb","leveldb"],"answers":[{"comments":[{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1665373637,"post_id":74008912,"comment_id":130676988,"body_markdown":"Thanks, but indexes can do this either. Extending indexes in data block with a &#39;higher level&#39; index seems equals to multiple data block.","body":"Thanks, but indexes can do this either. Extending indexes in data block with a &#39;higher level&#39; index seems equals to multiple data block."}],"tags":[],"owner":{"account_id":5191510,"reputation":1415,"user_id":4154302,"display_name":"Asad Awadia"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665355921,"creation_date":1665355921,"answer_id":74008912,"question_id":74003293,"body_markdown":"It allows more structure and the ability to only read the desired block. Blocks themselves are usually 4kb in size and thus allow for the ability to index via offset in the file.\r\n\r\nIf there were 1 giant block you would have to read the entire thing to grab 1 key","title":"Why SST needs multiple datablock","body":"<p>It allows more structure and the ability to only read the desired block. Blocks themselves are usually 4kb in size and thus allow for the ability to index via offset in the file.</p>\n<p>If there were 1 giant block you would have to read the entire thing to grab 1 key</p>\n"},{"tags":[],"owner":{"account_id":53944,"reputation":12056,"user_id":161331,"accept_rate":96,"display_name":"elmattic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666041745,"creation_date":1666041745,"answer_id":74103373,"question_id":74003293,"body_markdown":"When you have multiple data block in one `.sst` file you can compress those blocks and decompressed them on the fly. Keeping the block uncompressed in a dedicated cache is also possible.\r\n\r\nIf you had one unique data block this would be less efficient (decompression is not free) and would increase cache pressure.","title":"Why SST needs multiple datablock","body":"<p>When you have multiple data block in one <code>.sst</code> file you can compress those blocks and decompressed them on the fly. Keeping the block uncompressed in a dedicated cache is also possible.</p>\n<p>If you had one unique data block this would be less efficient (decompression is not free) and would increase cache pressure.</p>\n"}],"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74103373,"answer_count":2,"score":1,"last_activity_date":1666041745,"creation_date":1665304941,"question_id":74003293,"body_markdown":"Got confused at the design of SST in LevelDB.  \r\nAs I known, there are multiple datablocks in a SSTable.  \r\nWhat is the advantages of multiple datablocks.  \r\nThanks.\r\n","title":"Why SST needs multiple datablock","body":"<p>Got confused at the design of SST in LevelDB.<br />\nAs I known, there are multiple datablocks in a SSTable.<br />\nWhat is the advantages of multiple datablocks.<br />\nThanks.</p>\n"},{"tags":["java","spring","junit","cucumber","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666041343,"creation_date":1666041343,"answer_id":74103320,"question_id":74098979,"body_markdown":"If you&#39;re on a recent version of Cucumber, then your step definitions classes are scenario scoped by default and should not be annotated with `@Component`.\r\n\r\nEach scenario gets a new instance of the step definition class.\r\n\r\nSo this is safe, even with parallel execution:\r\n\r\n\r\n```java\r\nprivate Scenario currentScenario;\r\n\r\n@Before\r\npublic void setup(final Scenario scenario) {\r\n  currentScenario = scenario;\r\n}\r\n```\r\n\r\nIf you have other classes without step definitions that should have a unique instance in each scenario you can combine `@Component` with `@ScenarioScoped`.\r\n\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps","title":"Cucumber with JUnit 5 per scenario Test Context on parallel execution","body":"<p>If you're on a recent version of Cucumber, then your step definitions classes are scenario scoped by default and should not be annotated with <code>@Component</code>.</p>\n<p>Each scenario gets a new instance of the step definition class.</p>\n<p>So this is safe, even with parallel execution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Scenario currentScenario;\n\n@Before\npublic void setup(final Scenario scenario) {\n  currentScenario = scenario;\n}\n</code></pre>\n<p>If you have other classes without step definitions that should have a unique instance in each scenario you can combine <code>@Component</code> with <code>@ScenarioScoped</code>.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring#sharing-state-between-steps</a></p>\n"}],"owner":{"account_id":19235116,"reputation":638,"user_id":14056227,"display_name":"Gabriel Andrade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74103320,"answer_count":1,"score":0,"last_activity_date":1666041343,"creation_date":1666017750,"question_id":74098979,"body_markdown":"Just recently I got to experience scenario parallel execution with Cucumber + JUnit 5 which works fine and I intend to use from now on. Previously since I also use *cucumber-spring*, I&#39;ve use Spring to manage a single TestContext instance as a bean annotated with ```@Component``` which I reset every Scenario using ```@Before```. Now that there are more scenarios running in parallel, naturally I need a threaded solution. My idea for a solution was roughly the following:\r\n```\r\n/* Store the Current Scenario in a Thread Local */\r\n\r\nprivate ThreadLocal&lt;Scenario&gt; currentScenario = new ThreadLocal&lt;&gt;();\r\n\r\n@Before\r\npublic void setup(final Scenario scenario) {\r\n  currentScenario.set(scenario);\r\n}\r\n```\r\n```\r\n/* Get Scenario from a Context Map with ScenarioId as the key */\r\n\r\nprivate Map&lt;String, TestContext&gt; contextMap = new HashMap&lt;&gt;();\r\n\r\npublic TestContext getContext(final Scenario scenario) {\r\n  return contextMap.get(scenario.getId());\r\n}\r\n```\r\n\r\nThe thing is, I don&#39;t know if the Scenario starts and end in a single thread or if this proposed solution is safe at all. Is there any other way to get access to the current Scenario&#39;s ```Scenario``` instance? Any other solutions for this problem? Thank you very much.","title":"Cucumber with JUnit 5 per scenario Test Context on parallel execution","body":"<p>Just recently I got to experience scenario parallel execution with Cucumber + JUnit 5 which works fine and I intend to use from now on. Previously since I also use <em>cucumber-spring</em>, I've use Spring to manage a single TestContext instance as a bean annotated with <code>@Component</code> which I reset every Scenario using <code>@Before</code>. Now that there are more scenarios running in parallel, naturally I need a threaded solution. My idea for a solution was roughly the following:</p>\n<pre><code>/* Store the Current Scenario in a Thread Local */\n\nprivate ThreadLocal&lt;Scenario&gt; currentScenario = new ThreadLocal&lt;&gt;();\n\n@Before\npublic void setup(final Scenario scenario) {\n  currentScenario.set(scenario);\n}\n</code></pre>\n<pre><code>/* Get Scenario from a Context Map with ScenarioId as the key */\n\nprivate Map&lt;String, TestContext&gt; contextMap = new HashMap&lt;&gt;();\n\npublic TestContext getContext(final Scenario scenario) {\n  return contextMap.get(scenario.getId());\n}\n</code></pre>\n<p>The thing is, I don't know if the Scenario starts and end in a single thread or if this proposed solution is safe at all. Is there any other way to get access to the current Scenario's <code>Scenario</code> instance? Any other solutions for this problem? Thank you very much.</p>\n"},{"tags":["java","elasticsearch","asynchronous","scroll","elasticsearch-high-level-restclient"],"comments":[{"owner":{"account_id":43144,"reputation":4481,"user_id":125953,"accept_rate":95,"display_name":"Justin"},"score":0,"creation_date":1666102179,"post_id":74102812,"comment_id":130852503,"body_markdown":"Can close, this was another error within other logic that was causing it to fail, bottom solution works fine. Apologies.","body":"Can close, this was another error within other logic that was causing it to fail, bottom solution works fine. Apologies."}],"owner":{"account_id":43144,"reputation":4481,"user_id":125953,"accept_rate":95,"display_name":"Justin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666040429,"creation_date":1666037949,"question_id":74102812,"body_markdown":"I have 150k documents within an index for which I need to dump the raw data; yes I actually need all the raw data. \r\n\r\nSo I am trying to figure out how to run a scroll query but would like to do so async, however I haven&#39;t been able to figure out how to get the ActionListeners to self ref so that it continues to make the calls until the documents within the scroll are exhausted.\r\n\r\nA synch approach is pretty straight forward\r\n\r\n    SearchRequest sr = new SearchRequest();\r\n    // search source builder, etc for index, query, etc\r\n\r\n    final Scroll scroll = new Scroll(TimeValue.timeValueMinutes(1L));\r\n    sr.scroll(scroll);\r\n\r\n    SearchResponse response = client.search(request, RequestOptions.DEFAULT);\r\n    String scrollId = response.getScrollId();\r\n    SearchHit[] hits = response.getHits().getHits();\r\n   \r\n    while ( hits != null &amp;&amp; hits.length &gt; 0) {\r\n        //add the hits to a data structure\r\n        SearchScrollRequest newRequest = new SearchScrollRequest(scrollId);\r\n        newRequest.scroll(scroll);\r\n        response = client.scroll(newRequest);\r\n        hits = response.getHits().getHits();\r\n    }\r\n\r\n\r\nSo how to implement an async callback that sends the data to a processEmulator, but then continues to call for more data. I think the issue is the callback needs to include ref to itself.\r\n\r\n\r\n    SearchRequest req = new SearchRequest();\r\n    SearchSourceBuilder sb = new SearchSourceBuilder();\r\n    sb.size(10000); // batches of 10k please\r\n    req.source(sb);\r\n    req.indices(&quot;my-data-index&quot;)\r\n    final Scroll scroll = new Scroll(TimeValue.timeValueMinutes(2L));\r\n    req.scroll(scroll);\r\n                    \r\n    SearchResponse res = client.search(req, RequestOptions.DEFAULT);\r\n    String scrollId = res.getScrollId();\r\n    SearchScrollRequest sr = new SearchScrollRequest(scrollId);\r\n\r\n    ActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\r\n         public void onResponse(SearchResponse searchResponse) {\r\n              List&lt;String&gt; results = getDataFromResponse(searchResponse);\r\n              if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                  if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                      emulateSendDateElsewhere(results); \r\n                      // call again? how do I self ref the callback from within the callback??\r\n                  }\r\n              }\r\n         }\r\n\r\n         @Override\r\n         public void onFailure(Exception e) {\r\n             LogUtil.writeLog(e);\r\n         }\r\n    };\r\n\r\n\r\n    client.scrollAsync(sr, RequestOptions.DEFAULT, callback);\r\n\r\n\r\n\r\nI have tried a couple things, one being a basically self-calling method like the following:\r\n\r\n    private void processAsyncAssetCall(String scrollId) {\r\n        SearchScrollRequest sr = new SearchScrollRequest(scrollId);\r\n        ActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\r\n            @Override\r\n            public void onResponse(SearchResponse searchResponse) {\r\n                List&lt;String&gt; results = getIdsFromSearchResponse(searchResponse);\r\n                if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                    if (results != null &amp;&amp; results.size() &gt; 0) {\r\n                        emulateSendDateElsewhere(results);\r\n                        processAsyncAssetCall(scrollId);\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Exception e) {\r\n                LogUtil.writeLog(e);\r\n            }\r\n        };\r\n\r\n        RestHighLevelClient client = getInternalRepo().getClient();\r\n        client.scrollAsync(sr, RequestOptions.DEFAULT, callback);\r\n    }\r\n\r\nHowever this still only runs twice and then errors parsing the results.\r\n\r\nThanks\r\n","title":"Elasticsearch Java HLRC Async Scroll Query","body":"<p>I have 150k documents within an index for which I need to dump the raw data; yes I actually need all the raw data.</p>\n<p>So I am trying to figure out how to run a scroll query but would like to do so async, however I haven't been able to figure out how to get the ActionListeners to self ref so that it continues to make the calls until the documents within the scroll are exhausted.</p>\n<p>A synch approach is pretty straight forward</p>\n<pre><code>SearchRequest sr = new SearchRequest();\n// search source builder, etc for index, query, etc\n\nfinal Scroll scroll = new Scroll(TimeValue.timeValueMinutes(1L));\nsr.scroll(scroll);\n\nSearchResponse response = client.search(request, RequestOptions.DEFAULT);\nString scrollId = response.getScrollId();\nSearchHit[] hits = response.getHits().getHits();\n\nwhile ( hits != null &amp;&amp; hits.length &gt; 0) {\n    //add the hits to a data structure\n    SearchScrollRequest newRequest = new SearchScrollRequest(scrollId);\n    newRequest.scroll(scroll);\n    response = client.scroll(newRequest);\n    hits = response.getHits().getHits();\n}\n</code></pre>\n<p>So how to implement an async callback that sends the data to a processEmulator, but then continues to call for more data. I think the issue is the callback needs to include ref to itself.</p>\n<pre><code>SearchRequest req = new SearchRequest();\nSearchSourceBuilder sb = new SearchSourceBuilder();\nsb.size(10000); // batches of 10k please\nreq.source(sb);\nreq.indices(&quot;my-data-index&quot;)\nfinal Scroll scroll = new Scroll(TimeValue.timeValueMinutes(2L));\nreq.scroll(scroll);\n                \nSearchResponse res = client.search(req, RequestOptions.DEFAULT);\nString scrollId = res.getScrollId();\nSearchScrollRequest sr = new SearchScrollRequest(scrollId);\n\nActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\n     public void onResponse(SearchResponse searchResponse) {\n          List&lt;String&gt; results = getDataFromResponse(searchResponse);\n          if (results != null &amp;&amp; results.size() &gt; 0) {\n              if (results != null &amp;&amp; results.size() &gt; 0) {\n                  emulateSendDateElsewhere(results); \n                  // call again? how do I self ref the callback from within the callback??\n              }\n          }\n     }\n\n     @Override\n     public void onFailure(Exception e) {\n         LogUtil.writeLog(e);\n     }\n};\n\n\nclient.scrollAsync(sr, RequestOptions.DEFAULT, callback);\n</code></pre>\n<p>I have tried a couple things, one being a basically self-calling method like the following:</p>\n<pre><code>private void processAsyncAssetCall(String scrollId) {\n    SearchScrollRequest sr = new SearchScrollRequest(scrollId);\n    ActionListener&lt;SearchResponse&gt; callback = new ActionListener&lt;SearchResponse&gt;() {\n        @Override\n        public void onResponse(SearchResponse searchResponse) {\n            List&lt;String&gt; results = getIdsFromSearchResponse(searchResponse);\n            if (results != null &amp;&amp; results.size() &gt; 0) {\n                if (results != null &amp;&amp; results.size() &gt; 0) {\n                    emulateSendDateElsewhere(results);\n                    processAsyncAssetCall(scrollId);\n                }\n            }\n        }\n\n        @Override\n        public void onFailure(Exception e) {\n            LogUtil.writeLog(e);\n        }\n    };\n\n    RestHighLevelClient client = getInternalRepo().getClient();\n    client.scrollAsync(sr, RequestOptions.DEFAULT, callback);\n}\n</code></pre>\n<p>However this still only runs twice and then errors parsing the results.</p>\n<p>Thanks</p>\n"},{"tags":["java","file"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666040356,"creation_date":1666040356,"answer_id":74103183,"question_id":74103114,"body_markdown":"```\r\nwhile ((currentLine = reader.readLine()) != null) {\r\n  whileCount++;\r\n  currentLine = reader.readLine();\r\n  ...\r\n}\r\n```\r\n\r\nThis _skips every other line in your file_.  `currentLine` is _already_ the next line in the file, and then you overwrite it with the line after that.  I think you only meant to read one line per loop.\r\n\r\nIt seems pretty clear that you should simply delete the last line I quoted:\r\n\r\n```\r\nwhile ((currentLine = reader.readLine()) != null) {\r\n  whileCount++;\r\n  ...\r\n}\r\n```","title":"Strange behavior reading files in Java","body":"<pre><code>while ((currentLine = reader.readLine()) != null) {\n  whileCount++;\n  currentLine = reader.readLine();\n  ...\n}\n</code></pre>\n<p>This <em>skips every other line in your file</em>.  <code>currentLine</code> is <em>already</em> the next line in the file, and then you overwrite it with the line after that.  I think you only meant to read one line per loop.</p>\n<p>It seems pretty clear that you should simply delete the last line I quoted:</p>\n<pre><code>while ((currentLine = reader.readLine()) != null) {\n  whileCount++;\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":17295982,"reputation":1,"user_id":12526632,"display_name":"EmanueleM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1666040406,"accepted_answer_id":74103183,"answer_count":1,"score":-2,"last_activity_date":1666040356,"creation_date":1666039926,"question_id":74103114,"body_markdown":"I&#39;m trying to read nearly 120,000 lines from a file, put the data into a new record, and add this record to a list.\r\n\r\nMy problem is that I can&#39;t load all the data getting weird behavior.\r\nIn particular, using BufferedReader a first time I can count the rows and the result is correct, but when I try with a while loop to load the data into memory I see that the loop iterates about 60,000 times and the final list with the data contains only about 5000 objects.\r\n\r\nI&#39;ve also tried using other classes for loading data, but I always get the same problem.\r\n\r\nI am currently using java 17 with spring and javafx.\r\n\r\nThank you.\r\n\r\n\r\nI am attaching the latest version of my method:\r\n\r\n    public void getFixList(FixReadyCallback callback) {\r\n        List&lt;Fix&gt; fixList;\r\n        int firstCount = 0;\r\n        int whileCount = 0;\r\n\r\n        try {\r\n            File file = new File(&quot;src/main/resources/fligh_data/fix.dat&quot;);\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\r\n\r\n            String currentLine = null;\r\n\r\n            while (reader.readLine() != null) {\r\n                firstCount++;\r\n            }\r\n            fixList = new ArrayList&lt;&gt;(firstCount);\r\n\r\n            reader.close();\r\n            reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\r\n\r\n            while ((currentLine = reader.readLine()) != null) {\r\n                whileCount++;\r\n                currentLine = reader.readLine();\r\n\r\n                if (currentLine.matches(\r\n                        &quot;[-]?[0-9]{2}\\\\.[0-9]{6}\\\\s+[-]?[0-9]{3}\\\\.[0-9]{6}\\\\s+[0-9A-Z]{2,5}&quot;)) {\r\n                    String[] splitted = currentLine.split(&quot;\\\\s+&quot;);\r\n\r\n                    String denomination = splitted[2];\r\n                    double latitude = Double.parseDouble(splitted[0]);\r\n                    double longitude = Double.parseDouble(splitted[1]);\r\n                    Coordinates coordinates = new Coordinates(latitude, longitude);\r\n\r\n                    fixList.add(new Fix(denomination, coordinates));\r\n                }\r\n            }\r\n\r\n            System.out.println(&quot;FIRST_COUNT -&gt; &quot; + firstCount);\r\n            System.out.println(&quot;WHILE_COUNT -&gt; &quot; + whileCount);\r\n            System.out.println(&quot;LIST_SIZE -&gt; &quot; + fixList.size());\r\n\r\n            reader.close();\r\n            callback.onReady(fixList);\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAnd the output of the terminal:\r\n\r\n    FIRST_COUNT -&gt; 119724\r\n    WHILE_COUNT -&gt; 59862\r\n    LIST_SIZE -&gt; 5128","title":"Strange behavior reading files in Java","body":"<p>I'm trying to read nearly 120,000 lines from a file, put the data into a new record, and add this record to a list.</p>\n<p>My problem is that I can't load all the data getting weird behavior.\nIn particular, using BufferedReader a first time I can count the rows and the result is correct, but when I try with a while loop to load the data into memory I see that the loop iterates about 60,000 times and the final list with the data contains only about 5000 objects.</p>\n<p>I've also tried using other classes for loading data, but I always get the same problem.</p>\n<p>I am currently using java 17 with spring and javafx.</p>\n<p>Thank you.</p>\n<p>I am attaching the latest version of my method:</p>\n<pre><code>public void getFixList(FixReadyCallback callback) {\n    List&lt;Fix&gt; fixList;\n    int firstCount = 0;\n    int whileCount = 0;\n\n    try {\n        File file = new File(&quot;src/main/resources/fligh_data/fix.dat&quot;);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\n\n        String currentLine = null;\n\n        while (reader.readLine() != null) {\n            firstCount++;\n        }\n        fixList = new ArrayList&lt;&gt;(firstCount);\n\n        reader.close();\n        reader = new BufferedReader(new InputStreamReader(new FileInputStream(file), &quot;UTF-8&quot;));\n\n        while ((currentLine = reader.readLine()) != null) {\n            whileCount++;\n            currentLine = reader.readLine();\n\n            if (currentLine.matches(\n                    &quot;[-]?[0-9]{2}\\\\.[0-9]{6}\\\\s+[-]?[0-9]{3}\\\\.[0-9]{6}\\\\s+[0-9A-Z]{2,5}&quot;)) {\n                String[] splitted = currentLine.split(&quot;\\\\s+&quot;);\n\n                String denomination = splitted[2];\n                double latitude = Double.parseDouble(splitted[0]);\n                double longitude = Double.parseDouble(splitted[1]);\n                Coordinates coordinates = new Coordinates(latitude, longitude);\n\n                fixList.add(new Fix(denomination, coordinates));\n            }\n        }\n\n        System.out.println(&quot;FIRST_COUNT -&gt; &quot; + firstCount);\n        System.out.println(&quot;WHILE_COUNT -&gt; &quot; + whileCount);\n        System.out.println(&quot;LIST_SIZE -&gt; &quot; + fixList.size());\n\n        reader.close();\n        callback.onReady(fixList);\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>And the output of the terminal:</p>\n<pre><code>FIRST_COUNT -&gt; 119724\nWHILE_COUNT -&gt; 59862\nLIST_SIZE -&gt; 5128\n</code></pre>\n"},{"tags":["java","oracle","apache-commons-dbcp"],"comments":[{"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"score":0,"creation_date":1665067445,"post_id":73965903,"comment_id":130616986,"body_markdown":"This is the error I get when I attempt to run this code. BasicDB - SQLException occurred : Cannot create JDBC driver of class &#39;oracle.jdbc.replay.OracleDataSourceImpl&#39; for connect URL &#39;jdbc:oracle:thin:@pdb_tac&#39;","body":"This is the error I get when I attempt to run this code. BasicDB - SQLException occurred : Cannot create JDBC driver of class &#39;oracle.jdbc.replay.OracleDataSourceImpl&#39; for connect URL &#39;jdbc:oracle:thin:@pdb_tac&#39;"},{"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"score":0,"creation_date":1666015480,"post_id":73965903,"comment_id":130828678,"body_markdown":"It seems I am using a Datasource where the DataDriver class name is.  Also the Basic Data Source won&#39;t accomplish what I am trying to accomplish.  Will need to look in DataSource and poolable connection factories.  Will post more once I nail this down.","body":"It seems I am using a Datasource where the DataDriver class name is.  Also the Basic Data Source won&#39;t accomplish what I am trying to accomplish.  Will need to look in DataSource and poolable connection factories.  Will post more once I nail this down."},{"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"score":0,"creation_date":1666039522,"post_id":73965903,"comment_id":130836799,"body_markdown":"Ok, so here is where I am now.  It seems I can get past the Cannot create JDBC driver class error but now I have run into this issue.","body":"Ok, so here is where I am now.  It seems I can get past the Cannot create JDBC driver class error but now I have run into this issue."}],"answers":[{"tags":[],"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666039872,"creation_date":1666039872,"answer_id":74103106,"question_id":73965903,"body_markdown":"Ok, so it has to do with using the DataSource instead of the DataDriver class.  I have run into another error so will create a new question for that. \r\n\r\n","title":"Apache DBCP and Oracle Transparent Application continuity","body":"<p>Ok, so it has to do with using the DataSource instead of the DataDriver class.  I have run into another error so will create a new question for that.</p>\n"}],"owner":{"account_id":14342628,"reputation":115,"user_id":11308443,"display_name":"cptkirkh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666039872,"creation_date":1665001070,"question_id":73965903,"body_markdown":"We have an older application that can&#39;t failover when one node of our Oracle RAC goes down.  It seems it uses an older version of org.apache.commons.dbcp.BasicDataSource.  I can make this work when I use UCP from Oracle but when I use the apache version the app dies as soon as I shut down the node of the RAC it is connected to. Am I missing something or does it not work with Apache DBCP?  Thanks \r\n\r\nHere is my code.\r\n```\r\nimport org.apache.commons.dbcp.BasicDataSource;\r\n\r\nimport java.io.PrintStream;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\n\r\npublic class BasicDB{\r\n\r\n\r\n\r\n    final static String DB_URL =&quot;jdbc:oracle:thin:user/password@pdb_tac&quot;;\r\n    final static String driverClassName = &quot;oracle.jdbc.replay.OracleDataSourceImpl&quot;;\r\n\r\n    private void pressAnyKeyToContinue()\r\n    {\r\n        System.out.print(&quot;Press any key to continue...&quot;);\r\n        try { System.in.read(); }\r\n        catch(Exception e) { e.printStackTrace(); }\r\n    }\r\n    public String getInstanceName(Connection conn) throws SQLException {\r\n        PreparedStatement pstmt = conn.prepareStatement(&quot;select instance_name from v$instance&quot;);\r\n        String r = new String();\r\n\r\n        for(ResultSet result = pstmt.executeQuery(); result.next(); r = result.getString(&quot;instance_name&quot;)) {\r\n        }\r\n\r\n        pstmt.close();\r\n        return r;\r\n    }\r\n\r\n\r\n\r\n    private void doTx(Connection c, int numValue) throws SQLException {\r\n        String updsql = &quot;UPDATE test SET v=UPPER(v) WHERE id=?&quot;;\r\n        PreparedStatement pstmt = null;\r\n        pstmt = c.prepareStatement(updsql);\r\n        c.setAutoCommit(false);\r\n\r\n        for(int i = 0; i &lt; numValue; ++i) {\r\n            pstmt.setInt(1, i);\r\n            pstmt.executeUpdate();\r\n        }\r\n\r\n        c.commit();\r\n        pstmt.close();\r\n    }\r\n\r\n    public static void main(String[] args) throws SQLException {\r\n        Connection conn = null;\r\n        int numValue = 5000;\r\n;\r\n\r\n        try {\r\n\r\n            BasicDataSource bods = new BasicDataSource();\r\n            bods.setUrl(DB_URL);\r\n            bods.setDriverClassName(driverClassName);\r\n            bods.setDefaultAutoCommit(false);\r\n            BasicDB self = new BasicDB();\r\n            conn = bods.getConnection();\r\n            String var10001 = self.getInstanceName(conn);\r\n            var10000.println(&quot;Instance Name = &quot; + var10001);\r\n            System.out.println(&quot;Performing transactions&quot;);\r\n            self.pressAnyKeyToContinue();\r\n            self.doTx(conn, numValue);\r\n            var10001 = self.getInstanceName(conn);\r\n            var10000.println(&quot;Instance Name = &quot; + var10001);\r\n\r\n        } catch (Exception var8) {\r\n            var8.printStackTrace();\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n ","title":"Apache DBCP and Oracle Transparent Application continuity","body":"<p>We have an older application that can't failover when one node of our Oracle RAC goes down.  It seems it uses an older version of org.apache.commons.dbcp.BasicDataSource.  I can make this work when I use UCP from Oracle but when I use the apache version the app dies as soon as I shut down the node of the RAC it is connected to. Am I missing something or does it not work with Apache DBCP?  Thanks</p>\n<p>Here is my code.</p>\n<pre><code>import org.apache.commons.dbcp.BasicDataSource;\n\nimport java.io.PrintStream;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\n\npublic class BasicDB{\n\n\n\n    final static String DB_URL =&quot;jdbc:oracle:thin:user/password@pdb_tac&quot;;\n    final static String driverClassName = &quot;oracle.jdbc.replay.OracleDataSourceImpl&quot;;\n\n    private void pressAnyKeyToContinue()\n    {\n        System.out.print(&quot;Press any key to continue...&quot;);\n        try { System.in.read(); }\n        catch(Exception e) { e.printStackTrace(); }\n    }\n    public String getInstanceName(Connection conn) throws SQLException {\n        PreparedStatement pstmt = conn.prepareStatement(&quot;select instance_name from v$instance&quot;);\n        String r = new String();\n\n        for(ResultSet result = pstmt.executeQuery(); result.next(); r = result.getString(&quot;instance_name&quot;)) {\n        }\n\n        pstmt.close();\n        return r;\n    }\n\n\n\n    private void doTx(Connection c, int numValue) throws SQLException {\n        String updsql = &quot;UPDATE test SET v=UPPER(v) WHERE id=?&quot;;\n        PreparedStatement pstmt = null;\n        pstmt = c.prepareStatement(updsql);\n        c.setAutoCommit(false);\n\n        for(int i = 0; i &lt; numValue; ++i) {\n            pstmt.setInt(1, i);\n            pstmt.executeUpdate();\n        }\n\n        c.commit();\n        pstmt.close();\n    }\n\n    public static void main(String[] args) throws SQLException {\n        Connection conn = null;\n        int numValue = 5000;\n;\n\n        try {\n\n            BasicDataSource bods = new BasicDataSource();\n            bods.setUrl(DB_URL);\n            bods.setDriverClassName(driverClassName);\n            bods.setDefaultAutoCommit(false);\n            BasicDB self = new BasicDB();\n            conn = bods.getConnection();\n            String var10001 = self.getInstanceName(conn);\n            var10000.println(&quot;Instance Name = &quot; + var10001);\n            System.out.println(&quot;Performing transactions&quot;);\n            self.pressAnyKeyToContinue();\n            self.doTx(conn, numValue);\n            var10001 = self.getInstanceName(conn);\n            var10000.println(&quot;Instance Name = &quot; + var10001);\n\n        } catch (Exception var8) {\n            var8.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","for-loop","data-structures"],"comments":[{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":4,"creation_date":1626377702,"post_id":68399701,"comment_id":120884000,"body_markdown":"I&#39;m surprised that your code passes as many cases as you say. The code is essentially only checking the last letter of the ransom note. That&#39;s because you set `flag` to `false` for every letter, and then set it `true` if a non-visited match is found. So the final `flag` value only depends on the outcome of the last letter.","body":"I&#39;m surprised that your code passes as many cases as you say. The code is essentially only checking the last letter of the ransom note. That&#39;s because you set <code>flag</code> to <code>false</code> for every letter, and then set it <code>true</code> if a non-visited match is found. So the final <code>flag</code> value only depends on the outcome of the last letter."},{"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"score":0,"creation_date":1626378095,"post_id":68399701,"comment_id":120884111,"body_markdown":"So what should I do???","body":"So what should I do???"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":3,"creation_date":1626378112,"post_id":68399701,"comment_id":120884115,"body_markdown":"Think again about your logic?","body":"Think again about your logic?"},{"owner":{"account_id":4127333,"reputation":34381,"user_id":3386109,"display_name":"user3386109"},"score":0,"creation_date":1626378784,"post_id":68399701,"comment_id":120884373,"body_markdown":"You can patch the code you already have, or start from scratch with a whole new design. I recommend the latter. Hint: `counting sets` for the magazine and the ransom note.","body":"You can patch the code you already have, or start from scratch with a whole new design. I recommend the latter. Hint: <code>counting sets</code> for the magazine and the ransom note."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626378844,"creation_date":1626378514,"answer_id":68400036,"question_id":68399701,"body_markdown":"The outer `for` loop should be exited if at the end of the inner loop, `flag` is still `false`, because that means you didn&#39;t find a match for that character. \r\n\r\nIt is of no use to continue with matching other characters when that happens, and worse, continuing can make `flag` `true` again in the last iteration of the outer loop, which would give a wrong result.\r\n\r\nSo add as the last line of the outer loop body:\r\n\r\n    if (!flag) return false;\r\n\r\nNote that this algorithm is not efficient on very large strings, as it has a time complexity of O(&#119898;&#119899;) where &#119898; and &#119899; are the lengths of the two strings. It can be done in O(&#119898;+&#119899;) if you use a map with frequency counts for each letter in the second string.","title":"Ransom Note-Leetcode","body":"<p>The outer <code>for</code> loop should be exited if at the end of the inner loop, <code>flag</code> is still <code>false</code>, because that means you didn't find a match for that character.</p>\n<p>It is of no use to continue with matching other characters when that happens, and worse, continuing can make <code>flag</code> <code>true</code> again in the last iteration of the outer loop, which would give a wrong result.</p>\n<p>So add as the last line of the outer loop body:</p>\n<pre><code>if (!flag) return false;\n</code></pre>\n<p>Note that this algorithm is not efficient on very large strings, as it has a time complexity of O(𝑚𝑛) where 𝑚 and 𝑛 are the lengths of the two strings. It can be done in O(𝑚+𝑛) if you use a map with frequency counts for each letter in the second string.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626382788,"creation_date":1626382788,"answer_id":68400700,"question_id":68399701,"body_markdown":"```java\r\npublic static boolean canConstruct(String ransomNote, String magazine) {\r\n    int[] arr = new int[26];\r\n\r\n    for (int i = 0; i &lt; magazine.length(); i++)\r\n        arr[magazine.charAt(i) - &#39;a&#39;]++;\r\n\r\n    for (int i = 0; i &lt; ransomNote.length(); i++) {\r\n        int offs = ransomNote.charAt(i) - &#39;a&#39;;\r\n\r\n        if (arr[offs] &gt; 0)\r\n            arr[offs]--;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n```","title":"Ransom Note-Leetcode","body":"<pre class=\"lang-java prettyprint-override\"><code>public static boolean canConstruct(String ransomNote, String magazine) {\n    int[] arr = new int[26];\n\n    for (int i = 0; i &lt; magazine.length(); i++)\n        arr[magazine.charAt(i) - 'a']++;\n\n    for (int i = 0; i &lt; ransomNote.length(); i++) {\n        int offs = ransomNote.charAt(i) - 'a';\n\n        if (arr[offs] &gt; 0)\n            arr[offs]--;\n        else\n            return false;\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2181925,"reputation":1012,"user_id":5123867,"accept_rate":45,"display_name":"Lokesh Sanapalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626423343,"creation_date":1626423343,"answer_id":68405741,"question_id":68399701,"body_markdown":"O(m+n) solution with O(max(m,n)) space complexity\r\n\r\n```c++\r\nclass Solution {\r\npublic:\r\n    bool canConstruct(string ransomNote, string magazine) {\r\n        unordered_map&lt;char, int&gt; m1;\r\n        unordered_map&lt;char, int&gt; m2;\r\n        unordered_set&lt;char&gt; s;\r\n        for(char&amp; c : ransomNote) {\r\n            m1[c]++;\r\n            s.insert(c);\r\n        }\r\n        for(char&amp; c : magazine) {\r\n            m2[c]++;\r\n        }\r\n        for(char c : s) {\r\n            if (m2.find(c) == m2.end() || m2.find(c)-&gt;second &lt; m1.find(c)-&gt;second) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n};\r\n```","title":"Ransom Note-Leetcode","body":"<p>O(m+n) solution with O(max(m,n)) space complexity</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>class Solution {\npublic:\n    bool canConstruct(string ransomNote, string magazine) {\n        unordered_map&lt;char, int&gt; m1;\n        unordered_map&lt;char, int&gt; m2;\n        unordered_set&lt;char&gt; s;\n        for(char&amp; c : ransomNote) {\n            m1[c]++;\n            s.insert(c);\n        }\n        for(char&amp; c : magazine) {\n            m2[c]++;\n        }\n        for(char c : s) {\n            if (m2.find(c) == m2.end() || m2.find(c)-&gt;second &lt; m1.find(c)-&gt;second) {\n                return false;\n            }\n        }\n        return true;\n    }\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22546296,"reputation":1,"user_id":16736153,"display_name":"Kartik Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657819272,"creation_date":1657819272,"answer_id":72984385,"question_id":68399701,"body_markdown":"Python\r\n\r\n```\r\nclass Solution:\r\n    def canConstruct(self, ransomNote: str, magazine: str) -&gt; bool:\r\n        result = False\r\n        for i in ransomNote:\r\n            valueRansomNote = ransomNote.count(i)\r\n            valueMagazine = magazine.count(i)\r\n            if 1&lt;=valueRansomNote &lt;= valueMagazine:\r\n                result = True\r\n            else:\r\n                result = False\r\n                break\r\n        return result\r\n```","title":"Ransom Note-Leetcode","body":"<p>Python</p>\n<pre><code>class Solution:\n    def canConstruct(self, ransomNote: str, magazine: str) -&gt; bool:\n        result = False\n        for i in ransomNote:\n            valueRansomNote = ransomNote.count(i)\n            valueMagazine = magazine.count(i)\n            if 1&lt;=valueRansomNote &lt;= valueMagazine:\n                result = True\n            else:\n                result = False\n                break\n        return result\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4886486,"reputation":1233,"user_id":3938789,"accept_rate":60,"display_name":"mcfred"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660639044,"creation_date":1660639044,"answer_id":73371101,"question_id":68399701,"body_markdown":"**Java Solution**\r\n\r\n    class Solution {\r\n        public boolean canConstruct(String ransomNote, String magazine) {\r\n            \r\n            StringBuilder str = new StringBuilder(magazine); \r\n            StringBuilder rn = new StringBuilder(ransomNote);\r\n         \r\n            for(int i =0; i &lt; ransomNote.length();i++) \r\n            { \r\n                if(str.indexOf(ransomNote.substring(i,i+1))!=-1)\r\n                {\r\n                     str.deleteCharAt(str.indexOf(ransomNote.substring(i,i+1))); \r\n                     rn.deleteCharAt(rn.indexOf(ransomNote.substring(i,i+1)));   \r\n                }\r\n                  \r\n            }\r\n            \r\n            return rn.length()==0;\r\n            \r\n        }\r\n    }","title":"Ransom Note-Leetcode","body":"<p><strong>Java Solution</strong></p>\n<pre><code>class Solution {\n    public boolean canConstruct(String ransomNote, String magazine) {\n        \n        StringBuilder str = new StringBuilder(magazine); \n        StringBuilder rn = new StringBuilder(ransomNote);\n     \n        for(int i =0; i &lt; ransomNote.length();i++) \n        { \n            if(str.indexOf(ransomNote.substring(i,i+1))!=-1)\n            {\n                 str.deleteCharAt(str.indexOf(ransomNote.substring(i,i+1))); \n                 rn.deleteCharAt(rn.indexOf(ransomNote.substring(i,i+1)));   \n            }\n              \n        }\n        \n        return rn.length()==0;\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21921677,"reputation":55,"user_id":16204842,"display_name":"Rohan Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3726,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":5,"score":1,"last_activity_date":1666039560,"creation_date":1626376854,"question_id":68399701,"body_markdown":"I am trying the [383. Ransom Note](https://leetcode.com/problems/ransom-note/) LeetCode challenge:\r\n\r\n&gt; Given two strings `ransomNote` and `magazine`, return true if `ransomNote` can be constructed from `magazine` and false otherwise.\r\n&gt; \r\n&gt; Each letter in `magazine` can only be used once in `ransomNote`.\r\n&gt; \r\n&gt; ### Example 1:\r\n&gt;     Input: ransomNote = &quot;a&quot;, magazine = &quot;b&quot;\r\n&gt;     Output: false\r\n&gt;   \r\n&gt; ### Example 2:\r\n&gt;     Input: ransomNote = &quot;aa&quot;, magazine = &quot;ab&quot;\r\n&gt;     Output: false\r\n&gt;     \r\n&gt; ### Example 3:\r\n&gt;     Input: ransomNote = &quot;aa&quot;, magazine = &quot;aab&quot;\r\n&gt;     Output: true\r\n\r\nHere is my solution to the above LeetCode problem:\r\n  \r\n\r\n    class Solution {\r\n    \r\n        public boolean canConstruct(String ransomNote, String magazine) {\r\n    \r\n            if (ransomNote==null || ransomNote.length() == 0) return true;\r\n            if (magazine==null || magazine.length() == 0) return false;\r\n            boolean flag=false;\r\n            boolean visited[]=new boolean[magazine.length()];\r\n            Arrays.fill(visited,Boolean.FALSE);\r\n            for(int i=0;i&lt;ransomNote.length();i++){\r\n                flag=false;\r\n                for(int j=0;j&lt;magazine.length();j++){\r\n                    if(ransomNote.charAt(i)==magazine.charAt(j) &amp;&amp; !visited[j] ){\r\n                        visited[j]=true;\r\n                        flag=true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return flag;\r\n        }\r\n    }\r\n\r\nI&#39;m able to pass 110 cases out of 126 but there is some minor error in the code. I&#39;m unable to find the error even in my dry run.\r\n\r\nTest case that is not passing:\r\n\r\n    Input:\r\n    &quot;fihjjjjei&quot;\r\n    &quot;hjibagacbhadfaefdjaeaebgi&quot;\r\n    \r\n    Output: true\r\n    Expected: false\r\n\r\n\r\n","title":"Ransom Note-Leetcode","body":"<p>I am trying the <a href=\"https://leetcode.com/problems/ransom-note/\" rel=\"nofollow noreferrer\">383. Ransom Note</a> LeetCode challenge:</p>\n<blockquote>\n<p>Given two strings <code>ransomNote</code> and <code>magazine</code>, return true if <code>ransomNote</code> can be constructed from <code>magazine</code> and false otherwise.</p>\n<p>Each letter in <code>magazine</code> can only be used once in <code>ransomNote</code>.</p>\n<h3 id=\"example-1-nab7\">Example 1:</h3>\n<pre><code>Input: ransomNote = &quot;a&quot;, magazine = &quot;b&quot;\nOutput: false\n</code></pre>\n<h3 id=\"example-2-5qy7\">Example 2:</h3>\n<pre><code>Input: ransomNote = &quot;aa&quot;, magazine = &quot;ab&quot;\nOutput: false\n</code></pre>\n<h3 id=\"example-3-8439\">Example 3:</h3>\n<pre><code>Input: ransomNote = &quot;aa&quot;, magazine = &quot;aab&quot;\nOutput: true\n</code></pre>\n</blockquote>\n<p>Here is my solution to the above LeetCode problem:</p>\n<pre><code>class Solution {\n\n    public boolean canConstruct(String ransomNote, String magazine) {\n\n        if (ransomNote==null || ransomNote.length() == 0) return true;\n        if (magazine==null || magazine.length() == 0) return false;\n        boolean flag=false;\n        boolean visited[]=new boolean[magazine.length()];\n        Arrays.fill(visited,Boolean.FALSE);\n        for(int i=0;i&lt;ransomNote.length();i++){\n            flag=false;\n            for(int j=0;j&lt;magazine.length();j++){\n                if(ransomNote.charAt(i)==magazine.charAt(j) &amp;&amp; !visited[j] ){\n                    visited[j]=true;\n                    flag=true;\n                    break;\n                }\n            }\n        }\n        return flag;\n    }\n}\n</code></pre>\n<p>I'm able to pass 110 cases out of 126 but there is some minor error in the code. I'm unable to find the error even in my dry run.</p>\n<p>Test case that is not passing:</p>\n<pre><code>Input:\n&quot;fihjjjjei&quot;\n&quot;hjibagacbhadfaefdjaeaebgi&quot;\n\nOutput: true\nExpected: false\n</code></pre>\n"},{"tags":["java","stream","bit-manipulation"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1666037943,"post_id":74102603,"comment_id":130836307,"body_markdown":"It&#39;s slightly more complicated than just sorting by the number of 1 bits. If two values have the *same* number of 1 bits then those values are ordered smallest to largest as ints. I think `mapToInt(Integer::intValue)` is unboxing the stream.","body":"It&#39;s slightly more complicated than just sorting by the number of 1 bits. If two values have the <i>same</i> number of 1 bits then those values are ordered smallest to largest as ints. I think <code>mapToInt(Integer::intValue)</code> is unboxing the stream."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666038808,"post_id":74102603,"comment_id":130836578,"body_markdown":"`mapToInt(Integer::intValue)` just converts a `Stream&lt;Integer&gt;` to an `IntStream`.  That&#39;s it.  (Personally, I&#39;d write `mapToInt(x -&gt; x)`.)","body":"<code>mapToInt(Integer::intValue)</code> just converts a <code>Stream&lt;Integer&gt;</code> to an <code>IntStream</code>.  That&#39;s it.  (Personally, I&#39;d write <code>mapToInt(x -&gt; x)</code>.)"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666039277,"creation_date":1666039277,"answer_id":74103016,"question_id":74102603,"body_markdown":"A little bit of IDE &quot;un-lambdaing&quot; later ;-) \r\n\r\n``` lang-java\r\nclass Solution {\r\n  public int[] sortByBits(int[] arr) {\r\n    return Arrays.stream(arr)\r\n        .boxed()    // boxing for sorting with Comparator\r\n        .sorted(new Comparator&lt;Integer&gt;() {\r\n          @Override\r\n          public int compare(Integer a, Integer b) {\r\n            if(Integer.bitCount(a) == Integer.bitCount(b)) { \r\n              // if both have the same number of bits\r\n              return a - b;    // smaller int value first\r\n            }\r\n            // otherwise least number of bits first\r\n            return Integer.bitCount(a) - Integer.bitCount(b); \r\n          }\r\n        })\r\n        .mapToInt(new ToIntFunction&lt;Integer&gt;() { // unboxing\r\n          @Override\r\n          public int applyAsInt(Integer integer) {\r\n            return integer.intValue();\r\n          }\r\n        }).toArray();  // array from stream\r\n  }\r\n}\r\n```","title":"I want to sort integers by the number of 1 bits","body":"<p>A little bit of IDE &quot;un-lambdaing&quot; later ;-)</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n  public int[] sortByBits(int[] arr) {\n    return Arrays.stream(arr)\n        .boxed()    // boxing for sorting with Comparator\n        .sorted(new Comparator&lt;Integer&gt;() {\n          @Override\n          public int compare(Integer a, Integer b) {\n            if(Integer.bitCount(a) == Integer.bitCount(b)) { \n              // if both have the same number of bits\n              return a - b;    // smaller int value first\n            }\n            // otherwise least number of bits first\n            return Integer.bitCount(a) - Integer.bitCount(b); \n          }\n        })\n        .mapToInt(new ToIntFunction&lt;Integer&gt;() { // unboxing\n          @Override\n          public int applyAsInt(Integer integer) {\n            return integer.intValue();\n          }\n        }).toArray();  // array from stream\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26619556,"reputation":5,"user_id":20238472,"display_name":"schnuggyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74103016,"answer_count":1,"score":0,"last_activity_date":1666039277,"creation_date":1666036808,"question_id":74102603,"body_markdown":"```\r\nclass Solution {\r\n    public int[] sortByBits(int[] arr) {\r\n\t\treturn Arrays.stream(arr).boxed().sorted((a, b) -&gt; Integer.bitCount(a) == Integer.bitCount(b) ? a - b : Integer.bitCount(a) - Integer.bitCount(b)).mapToInt(Integer::intValue).toArray();\r\n    }\r\n}\r\n```\r\nI just started experimenting with java streams, and I found this solution for sorting integers by the number of 1 bits when given an array. I like the solution, but I don&#39;t understand whats going on after the stream is boxed. I&#39;d really appreciate it if someone can break down each step starting with &#39;.sorted(...&#39;\r\n\r\nMaybe if someone can provide a better easier to understand solution for what .sort is doing, I would very much appreciate it. \r\n\r\nLast thing I&#39;m a bit unclear about this solution is what the &#39;.mapToInt(Integer::intValue)&#39; is doing at the end of the statement. Specifically what is the purpose of &#39;intValue&#39;.\r\n\r\nSorry if my questions seem a bit primitive, I just discovered streams and I see a lot of potential for it. I want to make sure I really understand everything going on.  \r\n\r\n","title":"I want to sort integers by the number of 1 bits","body":"<pre><code>class Solution {\n    public int[] sortByBits(int[] arr) {\n        return Arrays.stream(arr).boxed().sorted((a, b) -&gt; Integer.bitCount(a) == Integer.bitCount(b) ? a - b : Integer.bitCount(a) - Integer.bitCount(b)).mapToInt(Integer::intValue).toArray();\n    }\n}\n</code></pre>\n<p>I just started experimenting with java streams, and I found this solution for sorting integers by the number of 1 bits when given an array. I like the solution, but I don't understand whats going on after the stream is boxed. I'd really appreciate it if someone can break down each step starting with '.sorted(...'</p>\n<p>Maybe if someone can provide a better easier to understand solution for what .sort is doing, I would very much appreciate it.</p>\n<p>Last thing I'm a bit unclear about this solution is what the '.mapToInt(Integer::intValue)' is doing at the end of the statement. Specifically what is the purpose of 'intValue'.</p>\n<p>Sorry if my questions seem a bit primitive, I just discovered streams and I see a lot of potential for it. I want to make sure I really understand everything going on.</p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":1,"creation_date":1666003268,"post_id":74095975,"comment_id":130824042,"body_markdown":"what does it print ? what country and timezone do you have on your machine ? and what should it be ?","body":"what does it print ? what country and timezone do you have on your machine ? and what should it be ?"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":6,"creation_date":1666003458,"post_id":74095975,"comment_id":130824111,"body_markdown":"You should immediately stop using `Date`, `Calendar` and `SimpleDateFormat`. They are [obsolete and troublesome](https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api). Use classes from the `java.time` package instead.","body":"You should immediately stop using <code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>. They are <a href=\"https://stackoverflow.com/questions/1969442/whats-wrong-with-java-date-time-api\">obsolete and troublesome</a>. Use classes from the <code>java.time</code> package instead."},{"owner":{"display_name":"user19336013"},"score":0,"creation_date":1666005380,"post_id":74095975,"comment_id":130824789,"body_markdown":"@SorinPenteleiciuc I want to use for Turkey","body":"@SorinPenteleiciuc I want to use for Turkey"},{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":0,"creation_date":1666007343,"post_id":74095975,"comment_id":130825523,"body_markdown":"You should get the timezone from the computer. What do you get UTC ?","body":"You should get the timezone from the computer. What do you get UTC ?"},{"owner":{"display_name":"user19336013"},"score":0,"creation_date":1666008820,"post_id":74095975,"comment_id":130826114,"body_markdown":"@SorinPenteleiciuc UTC+3","body":"@SorinPenteleiciuc UTC+3"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666032526,"post_id":74097846,"comment_id":130834766,"body_markdown":"`LocalDateTime` is the wrong class to use here. Adding 10 hours will fail when the offset changes, such as Daylight Saving Time.","body":"<code>LocalDateTime</code> is the wrong class to use here. Adding 10 hours will fail when the offset changes, such as Daylight Saving Time."}],"tags":[],"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666012193,"creation_date":1666012193,"answer_id":74097846,"question_id":74095975,"body_markdown":"Unfortunately you cannot really use the timezone because you get it from your operating system. If the OS gives you UTC, either configure it to Turkey or change it inside the application.\r\n\r\nSince you know your location, just do this:\r\n\r\n  \r\n\r\n     LocalDateTime date = LocalDateTime.now((ZoneId.of(&quot;Europe/Istanbul&quot;));\r\n\r\nThis question from below might help :\r\nhttps://stackoverflow.com/questions/63579732/how-can-i-get-calendar-getinstance-based-on-turkey-timezone\r\n\r\nYou can also deduce your timezone using your internet provider. Below there are 2 examples. \r\n\r\n     \r\n           \r\ntimezone example 1   \r\n\r\n           RestTemplate restTemplate = new RestTemplate();\r\n           String timezone = restTemplate.getForObject(&quot;https://ipapi.co/timezone&quot;, String.class);\r\n\r\n\r\ntimezone example 2\r\n\r\n            String timezone = restTemplate.getForObject(&quot;http://ip-api.com/line?fields=timezone&quot;, String.class);\r\n         \r\n\r\n\r\nAfter getting the timezone:  \r\n\r\n            LocalDateTime date = LocalDateTime.now(ZoneId.of(timezone));\r\n\r\n","title":"Figuring Out Local Time with Adding Manual Hour Method in Java","body":"<p>Unfortunately you cannot really use the timezone because you get it from your operating system. If the OS gives you UTC, either configure it to Turkey or change it inside the application.</p>\n<p>Since you know your location, just do this:</p>\n<pre><code> LocalDateTime date = LocalDateTime.now((ZoneId.of(&quot;Europe/Istanbul&quot;));\n</code></pre>\n<p>This question from below might help :\n<a href=\"https://stackoverflow.com/questions/63579732/how-can-i-get-calendar-getinstance-based-on-turkey-timezone\">how can i get Calendar.getInstance() based on Turkey timezone</a></p>\n<p>You can also deduce your timezone using your internet provider. Below there are 2 examples.</p>\n<p>timezone example 1</p>\n<pre><code>       RestTemplate restTemplate = new RestTemplate();\n       String timezone = restTemplate.getForObject(&quot;https://ipapi.co/timezone&quot;, String.class);\n</code></pre>\n<p>timezone example 2</p>\n<pre><code>        String timezone = restTemplate.getForObject(&quot;http://ip-api.com/line?fields=timezone&quot;, String.class);\n     \n</code></pre>\n<p>After getting the timezone:</p>\n<pre><code>        LocalDateTime date = LocalDateTime.now(ZoneId.of(timezone));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666038949,"creation_date":1666032354,"answer_id":74101817,"question_id":74095975,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime\r\n    .now( ZoneId.of( &quot;Europe/Istanbul&quot; ) )\r\n    .plusHours( 10 )\r\n\r\n# No, not `Calendar`\r\n\r\nNever use the terrible `Calendar` &amp; `SimpleDateFormat` legacy classes. \r\n\r\n# No, not `LocalDateTime`\r\n\r\nNever call `LocalDateTime.now`. I cannot imagine a case where that is the right thing to do. \r\n\r\nThe `LocalDateTime` class lacks the context of a time zone or offset from UTC.  So that class cannot represent a moment, a specific point on the timeline. \r\n\r\nTo track a moment, use: `Instant`, `OffsetDateTime`, or `ZonedDateTime` classes.\r\n\r\n# `ZoneId`\r\n\r\nSpecify your time zone.\r\n\r\n    ZoneId z = ZoneId.of( &quot;Europe/Istanbul&quot; ) ;\r\n\r\nOr get the JVM‘s current default time zone. \r\n\r\n    ZoneId z = ZoneId.systemDefault() ;\r\n\r\n# `ZonedDateTime`\r\n\r\nGet the current moment.\r\n\r\n    ZonedDateTime now = ZonedDateTime.now( z ) ;\r\n\r\nAdd time.\r\n\r\n    ZonedDateTime later = now.plusHours( 10 ) ;\r\n\r\n\r\n\r\n    ","title":"Figuring Out Local Time with Adding Manual Hour Method in Java","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime\n.now( ZoneId.of( &quot;Europe/Istanbul&quot; ) )\n.plusHours( 10 )\n</code></pre>\n<h1>No, not <code>Calendar</code></h1>\n<p>Never use the terrible <code>Calendar</code> &amp; <code>SimpleDateFormat</code> legacy classes.</p>\n<h1>No, not <code>LocalDateTime</code></h1>\n<p>Never call <code>LocalDateTime.now</code>. I cannot imagine a case where that is the right thing to do.</p>\n<p>The <code>LocalDateTime</code> class lacks the context of a time zone or offset from UTC.  So that class cannot represent a moment, a specific point on the timeline.</p>\n<p>To track a moment, use: <code>Instant</code>, <code>OffsetDateTime</code>, or <code>ZonedDateTime</code> classes.</p>\n<h1><code>ZoneId</code></h1>\n<p>Specify your time zone.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Europe/Istanbul&quot; ) ;\n</code></pre>\n<p>Or get the JVM‘s current default time zone.</p>\n<pre><code>ZoneId z = ZoneId.systemDefault() ;\n</code></pre>\n<h1><code>ZonedDateTime</code></h1>\n<p>Get the current moment.</p>\n<pre><code>ZonedDateTime now = ZonedDateTime.now( z ) ;\n</code></pre>\n<p>Add time.</p>\n<pre><code>ZonedDateTime later = now.plusHours( 10 ) ;\n</code></pre>\n"}],"owner":{"display_name":"user19336013"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74097846,"answer_count":2,"score":0,"last_activity_date":1666038949,"creation_date":1666003078,"question_id":74095975,"body_markdown":"Hello I have a method which adds a time to my current time. \r\nWhat I am looking for is I want to add this code a local time info because doesnt get the local time in my country correctly.\r\nI searched in the stackoverflow but couldnt find a similar topic for this case.\r\nI am open your suggestions, thank you.\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Calendar cal = Calendar.getInstance();\r\n          cal.add(Calendar.HOUR_OF_DAY, 8);\r\n          DateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;);\r\n          System.out.println(dateFormat.format(cal.getTime()));\r\n        }\r\n    }\r\n\r\nI have changed the code with java.time utilities\r\n\r\n    import java.text.DateFormat;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmssSSS&quot;);\r\n    \r\n          LocalDateTime date = LocalDateTime.now();\r\n          System.out.println(dateFormat.format(date));\r\n          System.out.println(dateFormat.format(date.plusHours(10)));  \r\n        }\r\n    }","title":"Figuring Out Local Time with Adding Manual Hour Method in Java","body":"<p>Hello I have a method which adds a time to my current time.\nWhat I am looking for is I want to add this code a local time info because doesnt get the local time in my country correctly.\nI searched in the stackoverflow but couldnt find a similar topic for this case.\nI am open your suggestions, thank you.</p>\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Calendar cal = Calendar.getInstance();\n      cal.add(Calendar.HOUR_OF_DAY, 8);\n      DateFormat dateFormat = new SimpleDateFormat(&quot;yyyyMMddHHmmssSSS&quot;);\n      System.out.println(dateFormat.format(cal.getTime()));\n    }\n}\n</code></pre>\n<p>I have changed the code with java.time utilities</p>\n<pre><code>import java.text.DateFormat;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;yyyyMMddHHmmssSSS&quot;);\n\n      LocalDateTime date = LocalDateTime.now();\n      System.out.println(dateFormat.format(date));\n      System.out.println(dateFormat.format(date.plusHours(10)));  \n    }\n}\n</code></pre>\n"},{"tags":["java","reflection"],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1666050560,"post_id":74102770,"comment_id":130839097,"body_markdown":"Personally, I&#39;d use the decorator pattern - taking an `ActionListener` as constructor argument and calling that `actionPerformed` method if it is enabled.","body":"Personally, I&#39;d use the decorator pattern - taking an <code>ActionListener</code> as constructor argument and calling that <code>actionPerformed</code> method if it is enabled."}],"tags":[],"owner":{"account_id":19505623,"reputation":172,"user_id":14270718,"display_name":"derpascal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666038782,"creation_date":1666037722,"answer_id":74102770,"question_id":74102175,"body_markdown":"Create an abstract class ToggledActionListener with only 1 abstract method like so:\r\n\r\n    public abstract class ToggledActionListener implements java.awt.event.ActionListener {\r\n    \r\n        private boolean isEnabled;\r\n    \r\n        public ToggledActionListener(){\r\n            isEnabled = true;\r\n        }\r\n    \r\n        public void setEnabled(boolean flag){\r\n            isEnabled = flag;\r\n        }\r\n    \r\n        public boolean isEnabled(){\r\n            return  isEnabled;\r\n        }\r\n    \r\n        @Override\r\n        public final void actionPerformed(ActionEvent e) {\r\n            if(isEnabled){\r\n                runIfAllowed(e);\r\n            }\r\n        }\r\n    \r\n        abstract void runIfAllowed(ActionEvent e);\r\n    }\r\n\r\nYou can then use it like:\r\n\r\n    someButton.addActionListener(someToggledActionListener);\r\nor\r\n\r\n    someButton.addActionListener(new ToggledActionListener({\r\n        @Override\r\n        void runIfAllowed(ActionEvent e){\r\n            //some code\r\n        }\r\n    });\r\n\r\nUse `someToggledActionLister.setEnabled(false)` to avoid cyclic event firing.\r\n\r\n","title":"Is it possible to disable swing Actionlistener#actionPerformed() method with reflection?","body":"<p>Create an abstract class ToggledActionListener with only 1 abstract method like so:</p>\n<pre><code>public abstract class ToggledActionListener implements java.awt.event.ActionListener {\n\n    private boolean isEnabled;\n\n    public ToggledActionListener(){\n        isEnabled = true;\n    }\n\n    public void setEnabled(boolean flag){\n        isEnabled = flag;\n    }\n\n    public boolean isEnabled(){\n        return  isEnabled;\n    }\n\n    @Override\n    public final void actionPerformed(ActionEvent e) {\n        if(isEnabled){\n            runIfAllowed(e);\n        }\n    }\n\n    abstract void runIfAllowed(ActionEvent e);\n}\n</code></pre>\n<p>You can then use it like:</p>\n<pre><code>someButton.addActionListener(someToggledActionListener);\n</code></pre>\n<p>or</p>\n<pre><code>someButton.addActionListener(new ToggledActionListener({\n    @Override\n    void runIfAllowed(ActionEvent e){\n        //some code\n    }\n});\n</code></pre>\n<p>Use <code>someToggledActionLister.setEnabled(false)</code> to avoid cyclic event firing.</p>\n"}],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74102770,"answer_count":1,"score":1,"last_activity_date":1666038782,"creation_date":1666034340,"question_id":74102175,"body_markdown":"I am referring to [this][1] exact problem with cyclic JComboBox updates.\r\nI was thinking, maybe instead of using flags or a mouselistener, is there a way of creating a toggleable actionlistener yourself?\r\n\r\n   I wrote this so far:\r\n    \r\n    public abstract class ToggledActionListener implements java.awt.event.ActionListener {\r\n    \r\n        private volatile boolean enabled;\r\n    \r\n        protected ToggledActionListener(){\r\n            enabled = true;\r\n        }\r\n    \r\n        public synchronized void setEnabled(boolean flag){\r\n            enabled = flag;\r\n        }\r\n    \r\n        public synchronized boolean isEnabled(){\r\n            return enabled;\r\n        }\r\n    \r\n    }\r\n\r\nNow I am trying to find a way to cancel any actionPerformed() calls from objects that extend this class **IF** enabled is false.\r\n\r\nIs this even possible?\r\n\r\n  [1]: https://stackoverflow.com/questions/5258596/how-to-avoid-firing-actionlistener-event-of-jcombobox-when-an-item-is-get-added","title":"Is it possible to disable swing Actionlistener#actionPerformed() method with reflection?","body":"<p>I am referring to <a href=\"https://stackoverflow.com/questions/5258596/how-to-avoid-firing-actionlistener-event-of-jcombobox-when-an-item-is-get-added\">this</a> exact problem with cyclic JComboBox updates.\nI was thinking, maybe instead of using flags or a mouselistener, is there a way of creating a toggleable actionlistener yourself?</p>\n<p>I wrote this so far:</p>\n<pre><code>public abstract class ToggledActionListener implements java.awt.event.ActionListener {\n\n    private volatile boolean enabled;\n\n    protected ToggledActionListener(){\n        enabled = true;\n    }\n\n    public synchronized void setEnabled(boolean flag){\n        enabled = flag;\n    }\n\n    public synchronized boolean isEnabled(){\n        return enabled;\n    }\n\n}\n</code></pre>\n<p>Now I am trying to find a way to cancel any actionPerformed() calls from objects that extend this class <strong>IF</strong> enabled is false.</p>\n<p>Is this even possible?</p>\n"},{"tags":["java","syntax-error","typeerror"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1666038191,"post_id":74102638,"comment_id":130836368,"body_markdown":"You can not supply alpha characters (like `x`) to the **Scanner#nextDouble()** method other than `+`, `-` and or course `.`. Numerical Digits only. You need to make sure there is no whitespace as well.","body":"You can not supply alpha characters (like <code>x</code>) to the <b>Scanner#nextDouble()</b> method other than <code>+</code>, <code>-</code> and or course <code>.</code>. Numerical Digits only. You need to make sure there is no whitespace as well."}],"answers":[{"comments":[{"owner":{"account_id":21843239,"reputation":1,"user_id":16136483,"display_name":"KATCHAW"},"score":0,"creation_date":1666041338,"post_id":74102853,"comment_id":130837292,"body_markdown":"Thanks a lot, do you also know where I can change system locale?","body":"Thanks a lot, do you also know where I can change system locale?"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666046966,"post_id":74102853,"comment_id":130838605,"body_markdown":"In your windows, linux, or mac system settings.","body":"In your windows, linux, or mac system settings."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666038258,"creation_date":1666038258,"answer_id":74102853,"question_id":74102638,"body_markdown":"Scanners default to the system locale. Your system locale is set to Dutch, or some other locale that uses commas as decimal separator. You have 2 options:\r\n\r\n1. Type `5,5` instead.\r\n2. Immediately after making a `new Scanner`, configure it to your liking. THat involves calling `cl.useLocale(Locale.ENGLISH);`, and probably also `cl.useDelimiter(&quot;\\\\R&quot;)` (which means: The user is expected to hit enter after every input. Versus the mostly useless &#39;any amount of whitespace&#39; default delimiter).\r\n","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException when I type a decimal number","body":"<p>Scanners default to the system locale. Your system locale is set to Dutch, or some other locale that uses commas as decimal separator. You have 2 options:</p>\n<ol>\n<li>Type <code>5,5</code> instead.</li>\n<li>Immediately after making a <code>new Scanner</code>, configure it to your liking. THat involves calling <code>cl.useLocale(Locale.ENGLISH);</code>, and probably also <code>cl.useDelimiter(&quot;\\\\R&quot;)</code> (which means: The user is expected to hit enter after every input. Versus the mostly useless 'any amount of whitespace' default delimiter).</li>\n</ol>\n"}],"owner":{"account_id":21843239,"reputation":1,"user_id":16136483,"display_name":"KATCHAW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666038813,"answer_count":1,"score":-1,"last_activity_date":1666038258,"creation_date":1666037033,"question_id":74102638,"body_markdown":"I do not understand what is wrong here:\r\n\r\n    import java.util.Scanner;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner cl = new Scanner(System.in);\r\n            double a = cl.nextDouble();\r\n            System.out.print(a);\r\n\r\n        }\r\n    }\r\n\r\nI get this error whenever I type x.x:\r\n\r\n    Exception in thread &quot;main&quot; java.util.InputMismatchException\r\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:939)\r\n\tat java.base/java.util.Scanner.next(Scanner.java:1594)\r\n\tat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\r\n\tat Main.main(Main.java:5)","title":"Exception in thread &quot;main&quot; java.util.InputMismatchException when I type a decimal number","body":"<p>I do not understand what is wrong here:</p>\n<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner cl = new Scanner(System.in);\n        double a = cl.nextDouble();\n        System.out.print(a);\n\n    }\n}\n</code></pre>\n<p>I get this error whenever I type x.x:</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.InputMismatchException\nat java.base/java.util.Scanner.throwFor(Scanner.java:939)\nat java.base/java.util.Scanner.next(Scanner.java:1594)\nat java.base/java.util.Scanner.nextDouble(Scanner.java:2564)\nat Main.main(Main.java:5)\n</code></pre>\n"},{"tags":["java","jsoup","exe"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":0,"creation_date":1665396979,"post_id":74013286,"comment_id":130682750,"body_markdown":"Have you seen existing questions, like https://stackoverflow.com/questions/6353849/received-fatal-alert-handshake-failure-through-sslhandshakeexception ?","body":"Have you seen existing questions, like <a href=\"https://stackoverflow.com/questions/6353849/received-fatal-alert-handshake-failure-through-sslhandshakeexception\" title=\"received fatal alert handshake failure through sslhandshakeexception\">stackoverflow.com/questions/6353849/&hellip;</a> ?"},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":0,"creation_date":1665399110,"post_id":74013286,"comment_id":130683427,"body_markdown":"Upgraded to Openjdk 18.0.2.1 . Still the same error when running as EXE , but ok in Intellij","body":"Upgraded to Openjdk 18.0.2.1 . Still the same error when running as EXE , but ok in Intellij"},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":1,"creation_date":1665399264,"post_id":74013286,"comment_id":130683477,"body_markdown":"Yes, but I dont use certificates. And in Intellij everything is fine. It must have to do something with the runtime-image. I have seen comments about java - versions, therefore I upgraded to openjdk 18.0.2.1 , but this did not help to solve the problem.","body":"Yes, but I dont use certificates. And in Intellij everything is fine. It must have to do something with the runtime-image. I have seen comments about java - versions, therefore I upgraded to openjdk 18.0.2.1 , but this did not help to solve the problem."},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":0,"creation_date":1665407122,"post_id":74013286,"comment_id":130686174,"body_markdown":"I upgraded now to the latest java version Oracle 19. But it did not help.","body":"I upgraded now to the latest java version Oracle 19. But it did not help."},{"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"score":0,"creation_date":1665479274,"post_id":74013286,"comment_id":130704201,"body_markdown":"Using -Djavax.net.debug=ssl:handshake:verbose I created debug-output of the handshake.","body":"Using -Djavax.net.debug=ssl:handshake:verbose I created debug-output of the handshake."}],"owner":{"account_id":26571418,"reputation":11,"user_id":20197583,"display_name":"Susanne Jack and Joe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666038186,"creation_date":1665396748,"question_id":74013286,"body_markdown":"My app uses JSOUP to connect to websites. I am using JSOUP 1.15. In the development environment of Intellij everything as working fine.\r\nThen I generated an EXE file using jpackage.\r\nHer I am getting this error.\r\nThe trace is as follows:\r\n\r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\r\n    \tat java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\r\n    \tat org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\r\n    \tat org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\r\n    \tat org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\r\n    \tat com.workingelectrons.susannesrezeptbuch.GetRecipeFromChefkoch.&lt;init&gt;(GetRecipeFromChefkoch.java:32)\r\n    \tat com.workingelectrons.susannesrezeptbuch.ImportTab.startWebimport(ImportTab.java:192)\r\n    \tat com.workingelectrons.susannesrezeptbuch.ImportTab.lambda$startImport$3(ImportTab.java:120)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n    \tat javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Node.fireEvent(Unknown Source)\r\n    \tat javafx.controls@19/javafx.scene.control.Button.fire(Unknown Source)\r\n    \tat javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\r\n    \tat javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\r\n    \tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\r\n    \tat javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\r\n    \tat java.base/java.security.AccessController.doPrivileged(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(Unknown Source)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\r\n    \tat java.base/java.lang.Thread.run(Unknown Source)\r\n \r\nAs Java I am using openjdk 17.0.2\r\n\r\nThank you","title":"Received fatal alert: handshake_failure when running the program as EXE","body":"<p>My app uses JSOUP to connect to websites. I am using JSOUP 1.15. In the development environment of Intellij everything as working fine.\nThen I generated an EXE file using jpackage.\nHer I am getting this error.\nThe trace is as follows:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n    at java.base/sun.security.ssl.Alert.createSSLException(Unknown Source)\n    at java.base/sun.security.ssl.TransportContext.fatal(Unknown Source)\n    at java.base/sun.security.ssl.Alert$AlertConsumer.consume(Unknown Source)\n    at java.base/sun.security.ssl.TransportContext.dispatch(Unknown Source)\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(Unknown Source)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:859)\n    at org.jsoup.helper.HttpConnection$Response.execute(HttpConnection.java:829)\n    at org.jsoup.helper.HttpConnection.execute(HttpConnection.java:366)\n    at org.jsoup.helper.HttpConnection.get(HttpConnection.java:353)\n    at com.workingelectrons.susannesrezeptbuch.GetRecipeFromChefkoch.&lt;init&gt;(GetRecipeFromChefkoch.java:32)\n    at com.workingelectrons.susannesrezeptbuch.ImportTab.startWebimport(ImportTab.java:192)\n    at com.workingelectrons.susannesrezeptbuch.ImportTab.lambda$startImport$3(ImportTab.java:120)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n    at javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Node.fireEvent(Unknown Source)\n    at javafx.controls@19/javafx.scene.control.Button.fire(Unknown Source)\n    at javafx.controls@19/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(Unknown Source)\n    at javafx.controls@19/com.sun.javafx.scene.control.inputmap.InputMap.handle(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(Unknown Source)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(Unknown Source)\n    at javafx.base@19/javafx.event.Event.fireEvent(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Unknown Source)\n    at javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(Unknown Source)\n    at java.base/java.security.AccessController.doPrivileged(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(Unknown Source)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(Unknown Source)\n    at javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(Unknown Source)\n    at javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(Unknown Source)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>As Java I am using openjdk 17.0.2</p>\n<p>Thank you</p>\n"},{"tags":["java","ant","nxt","lego-mindstorms","lejos-nxj"],"comments":[{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1605220586,"post_id":64812515,"comment_id":114592547,"body_markdown":"your problem isn&#39;t in Java but rather in C. Have you included the JNI library in your library path in C?","body":"your problem isn&#39;t in Java but rather in C. Have you included the JNI library in your library path in C?"},{"owner":{"account_id":14679134,"reputation":73,"user_id":10601232,"display_name":"Raymond17"},"score":0,"creation_date":1605220909,"post_id":64812515,"comment_id":114592637,"body_markdown":"i don&#39;t use C and Gcc these days , how i can do this ?","body":"i don&#39;t use C and Gcc these days , how i can do this ?"},{"owner":{"account_id":8197608,"reputation":822,"user_id":6169894,"display_name":"AminM"},"score":0,"creation_date":1605221697,"post_id":64812515,"comment_id":114592881,"body_markdown":"I can&#39;t really tell what&#39;s happening here but I&#39;d guess that you are missing key components when compiling (it says you&#39;re using cc). So I&#39;d guess you&#39;re missing dependencies in your installation. I haven&#39;t had the pleasure of building LeJOS myself.","body":"I can&#39;t really tell what&#39;s happening here but I&#39;d guess that you are missing key components when compiling (it says you&#39;re using cc). So I&#39;d guess you&#39;re missing dependencies in your installation. I haven&#39;t had the pleasure of building LeJOS myself."},{"owner":{"account_id":14679134,"reputation":73,"user_id":10601232,"display_name":"Raymond17"},"score":0,"creation_date":1605222261,"post_id":64812515,"comment_id":114593049,"body_markdown":"i don&#39;t compile , just build with a ant command","body":"i don&#39;t compile , just build with a ant command"}],"answers":[{"tags":[],"owner":{"account_id":20562167,"reputation":36,"user_id":15092428,"display_name":"Daniel Dean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1611784876,"creation_date":1611759547,"answer_id":65921727,"question_id":64812515,"body_markdown":"Did you ever manage to get this working? I eventually got it to work and had to change the following line in `build.xml`:\r\n\r\n    &lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/../include&quot;&gt;\r\n\r\nTo:\r\n\r\n    &lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/include&quot;&gt;\r\n\r\nApparently behaviour used to be to append `/jre` to `JAVA_HOME` hence the need for `/../` but it appears this no longer happens.\r\n\r\nHope this helps and you haven&#39;t given up.\r\n\r\nEdit: I should also add that you will need to use Java 8. After installing OpenJDK 8 (and editing the `build.xml`) I was able to run ant to complete the build and then compile, link and upload from the terminal. If you want to use eclipse with the plugin you will need to use version 2018-09 as that&#39;s the latest that works. Remeber to set the JRE to Java 8. After this everything works for me!","title":"jni.h no such file or directory","body":"<p>Did you ever manage to get this working? I eventually got it to work and had to change the following line in <code>build.xml</code>:</p>\n<pre><code>&lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/../include&quot;&gt;\n</code></pre>\n<p>To:</p>\n<pre><code>&lt;condition property=&quot;jni.include.dir&quot; value=&quot;${java.home}/include&quot;&gt;\n</code></pre>\n<p>Apparently behaviour used to be to append <code>/jre</code> to <code>JAVA_HOME</code> hence the need for <code>/../</code> but it appears this no longer happens.</p>\n<p>Hope this helps and you haven't given up.</p>\n<p>Edit: I should also add that you will need to use Java 8. After installing OpenJDK 8 (and editing the <code>build.xml</code>) I was able to run ant to complete the build and then compile, link and upload from the terminal. If you want to use eclipse with the plugin you will need to use version 2018-09 as that's the latest that works. Remeber to set the JRE to Java 8. After this everything works for me!</p>\n"}],"owner":{"account_id":14679134,"reputation":73,"user_id":10601232,"display_name":"Raymond17"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65921727,"answer_count":1,"score":0,"last_activity_date":1666037267,"creation_date":1605218878,"question_id":64812515,"body_markdown":"To install leJos for NXJ brick i follow the documentation tutorial , i set the variables like this : `\r\n\r\n    export NXJ_HOME=$HOME/leJOS_NXJ_0.9.1beta-3\r\n    \r\n    export LEJOS_NXT_JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    \r\n    export PATH=$HOME/mohand/leJOS_NXJ_0.9.1beta-3/bin:$PATH\r\n\r\n` \r\ni go to build directory to make the ant command in the terminal and the build failed with the following error , i know the problem is surely in jni.h and i tried to fix it but i can&#39;t :\r\n\r\n   \r\n\r\n     Buildfile: /home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml\r\n    \r\n    jlibnxt:\r\n    \r\n    clean:\r\n    \r\n    jlibnxt:\r\n           [cc] 1 total files to be compiled.\r\n           [cc] In file included from /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/main_jlibnxt.c:30:0:\r\n           [cc] /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/jlibnxt.h:2:10: fatal error: jni.h: Aucun fichier ou dossier de ce type\r\n           [cc]  #include &lt;jni.h&gt;\r\n           [cc]           ^~~~~~~\r\n           [cc] compilation terminated.\r\n    \r\n    BUILD FAILED\r\n    /home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml:87: The following error occurred while executing this line:\r\n    /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/build.xml:39: gcc failed with return code 1\r\n    \r\n    Total time: 0 seconds\r\n\r\n","title":"jni.h no such file or directory","body":"<p>To install leJos for NXJ brick i follow the documentation tutorial , i set the variables like this : `</p>\n<pre><code>export NXJ_HOME=$HOME/leJOS_NXJ_0.9.1beta-3\n\nexport LEJOS_NXT_JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n\nexport PATH=$HOME/mohand/leJOS_NXJ_0.9.1beta-3/bin:$PATH\n</code></pre>\n<p>`\ni go to build directory to make the ant command in the terminal and the build failed with the following error , i know the problem is surely in jni.h and i tried to fix it but i can't :</p>\n<pre><code> Buildfile: /home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml\n\njlibnxt:\n\nclean:\n\njlibnxt:\n       [cc] 1 total files to be compiled.\n       [cc] In file included from /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/main_jlibnxt.c:30:0:\n       [cc] /home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/jlibnxt.h:2:10: fatal error: jni.h: Aucun fichier ou dossier de ce type\n       [cc]  #include &lt;jni.h&gt;\n       [cc]           ^~~~~~~\n       [cc] compilation terminated.\n\nBUILD FAILED\n/home/mohand/leJOS_NXJ_0.9.1beta-3/build/build.xml:87: The following error occurred while executing this line:\n/home/mohand/leJOS_NXJ_0.9.1beta-3/build/libnxt/build.xml:39: gcc failed with return code 1\n\nTotal time: 0 seconds\n</code></pre>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666038308,"post_id":74102646,"comment_id":130836412,"body_markdown":"What&#39;s the question here?  You just throw an UnsupportedOperationException like any other exception.","body":"What&#39;s the question here?  You just throw an UnsupportedOperationException like any other exception."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666039892,"post_id":74102646,"comment_id":130836890,"body_markdown":"Please edit the question to include your code, and explain exactly where you are stuck.","body":"Please edit the question to include your code, and explain exactly where you are stuck."}],"owner":{"account_id":26652621,"reputation":1,"user_id":20266689,"display_name":"Robertggg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666037081,"creation_date":1666037081,"question_id":74102646,"body_markdown":"I am trying to create a method that throws the &#39;UnsupportedOperationException&#39; if the methods color and size are called","title":"How do I create a method that throws the &#39;UnsupportedOperationException&#39; if methods color and size are called","body":"<p>I am trying to create a method that throws the 'UnsupportedOperationException' if the methods color and size are called</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","autowired"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666007982,"post_id":74095937,"comment_id":130825764,"body_markdown":"Don&#39;t `new` services. Inject them as method parameters or as constructor dependency.","body":"Don&#39;t <code>new</code> services. Inject them as method parameters or as constructor dependency."}],"answers":[{"comments":[{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1666033814,"post_id":74101770,"comment_id":130835106,"body_markdown":"Well, I added ```@Scope(&quot;prototype&quot;)``` annotation to **UserSrevice**, but my **UserContext** didn&#39;t update the role and that&#39;s why **userRole** field is always null. I also added @Scope annotation to **UserContext** but resullt was the same :/","body":"Well, I added <code>@Scope(&quot;prototype&quot;)</code> annotation to <b>UserSrevice</b>, but my <b>UserContext</b> didn&#39;t update the role and that&#39;s why <b>userRole</b> field is always null. I also added @Scope annotation to <b>UserContext</b> but resullt was the same :/"},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1666034829,"post_id":74101770,"comment_id":130835408,"body_markdown":"are you injecting the UserService via @Autowire?","body":"are you injecting the UserService via @Autowire?"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1666035627,"post_id":74101770,"comment_id":130835641,"body_markdown":"yep. I also inject userService via @Autowired in userContext. I updated my question with the new code","body":"yep. I also inject userService via @Autowired in userContext. I updated my question with the new code"},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1666035858,"post_id":74101770,"comment_id":130835707,"body_markdown":"can you update the code? One thing i noticed is that you do @_Autowired private UserContext userContext; but also do new UserContext(userService);. This is not correct since you already have usercontext autowired. Why are you creating it again?","body":"can you update the code? One thing i noticed is that you do @_Autowired private UserContext userContext; but also do new UserContext(userService);. This is not correct since you already have usercontext autowired. Why are you creating it again?"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1666036067,"post_id":74101770,"comment_id":130835755,"body_markdown":"I updated the code.\nI&#39;m creating new ```UserContext(userService)``` because it doesn&#39;t update the **userRole** field in **UserContext** class. On the stage of compilation it fills null value, cuz UserPrinciple is not in SecurityContextHolder. So to update this field I decided to create new object.","body":"I updated the code. I&#39;m creating new <code>UserContext(userService)</code> because it doesn&#39;t update the <b>userRole</b> field in <b>UserContext</b> class. On the stage of compilation it fills null value, cuz UserPrinciple is not in SecurityContextHolder. So to update this field I decided to create new object."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1666036345,"post_id":74101770,"comment_id":130835818,"body_markdown":"Ok so in general the task is pretty clear: We want to execute some methods on the roles. One idea is to request a new role not in the constructor, but in the methods itself. So before you return the new value, you request the new role","body":"Ok so in general the task is pretty clear: We want to execute some methods on the roles. One idea is to request a new role not in the constructor, but in the methods itself. So before you return the new value, you request the new role"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1666036880,"post_id":74101770,"comment_id":130835975,"body_markdown":"Wellm yeah, thanks, but now **userService** is null again in **UserContext**. And now a can&#39;t even imagine what is wrong. I updated my question with the new code.","body":"Wellm yeah, thanks, but now <b>userService</b> is null again in <b>UserContext</b>. And now a can&#39;t even imagine what is wrong. I updated my question with the new code."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1666036980,"post_id":74101770,"comment_id":130836006,"body_markdown":"try removing the @scope annotation of your service.","body":"try removing the @scope annotation of your service."},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1666037154,"post_id":74101770,"comment_id":130836059,"body_markdown":"nah, didn&#39;t work","body":"nah, didn&#39;t work"},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1666038354,"post_id":74101770,"comment_id":130836422,"body_markdown":"It just says ```Cannot invoke &quot;com.diary.diary.service.UserService.getMarks()&quot; because &quot;this.userService&quot; is null```","body":"It just says <code>Cannot invoke &quot;com.diary.diary.service.UserService.getMarks()&quot; because &quot;this.userService&quot; is null</code>"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":10,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032107,"creation_date":1666032107,"answer_id":74101770,"question_id":74095937,"body_markdown":"What you can do is annotate the UserService class with @Scope and set the scope to request scope (see here https://www.baeldung.com/spring-bean-scopes).\r\n\r\nNow whenever you request a bean, you will get a complete new instance (and at this point the security context is set).\r\n\r\nSo TLDR:\r\n\r\n1. inject the UserService normally as a bean into your controller.\r\n2. Annotate the UserService with @Scope as described above","title":"How to make @Service to be called by &quot;new&quot; operator?","body":"<p>What you can do is annotate the UserService class with @Scope and set the scope to request scope (see here <a href=\"https://www.baeldung.com/spring-bean-scopes\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-bean-scopes</a>).</p>\n<p>Now whenever you request a bean, you will get a complete new instance (and at this point the security context is set).</p>\n<p>So TLDR:</p>\n<ol>\n<li>inject the UserService normally as a bean into your controller.</li>\n<li>Annotate the UserService with @Scope as described above</li>\n</ol>\n"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1666036773,"creation_date":1666002766,"question_id":74095937,"body_markdown":"I&#39;m creating an electronic diary app, using java spring, but I faced with a small problem. I decided to create role system with a state pattern. So the logic of this system should look like this:\r\n\r\n1. In controller, after accepting request, it creates the object of context class.\r\nConstructor of context class gets concrete **RoleClass** in depends to user role.(it uses the factory)\r\n2. In controller we call the method of context we want to be executed\r\n3. In context we call the method of role we want to be executed.\r\n4. In role class we call the method of service we want to be executed.\r\n\r\nBut here I faced with a problem. I have a context class, which creates an object of **UserService** class, which contains a lot of **@Autowired** fields. So what I decided to do is to add ```@Service``` annotation to context class and there I added ```@Autowired``` annotation on constructor of **UserContext** class.\r\n\r\nHowever Spring autowires all the fields at the compilation stage, so there won&#39;t be any **UserPrincipal** in ```SecurityContextHolder``` when I start the program. So here I need to create an object of **UserContext** class at the request stage, in controller. That&#39;s why I added ```@Configurable``` annotation to **UserContext** class. But when **UserContext** class is creating, the autowired fields of **UserService** filing by null values.\r\n\r\nSo what can be a problem?\r\n\r\nBtw I understand that it better to create a constructor of **UserService** class, which will accept all the parameters(such as **UserRepository**), but here are another problems:\r\n1. I use **UserService** class a lot in other classes. For example I have a model, where I call this class. And here, after creating this object of class, the fields will be autowired automatically.\r\n```java\r\n@Getter @Setter\r\npublic class ClassGetModel {\r\n\r\n    private long id;\r\n\r\n    private int number;\r\n\r\n    private char letter;\r\n\r\n    private SchoolGetModel school;\r\n\r\n    private List&lt;UserGetModel&gt; students;\r\n\r\n    public static ClassGetModel toModel(ClassEntity schoolClass) {\r\n        ClassGetModel model = new ClassGetModel();\r\n        ModelMapper mapper = new ModelMapper();\r\n        mapper.getConfiguration().setSkipNullEnabled(true);\r\n        mapper.map(schoolClass, model);\r\n        model.setSchool(SchoolGetModel.toModel(schoolClass.getSchool()));\r\n        UserService userService = new UserService();\r\n        model.setStudents(userService.convertToUserGetModelList(schoolClass.getStudents()));\r\n        return model;\r\n    }\r\n}\r\n```\r\nAnd there is also a problem with the quantity of arguments of constructor. If my service has a lot of fields which is used in my program, I&#39;d have to give all of them to this constructor, even in **RoleFactory**.\r\n\r\nSo here&#39;s my code:\r\n**UserController**\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/user&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n    @Autowired\r\n    private UserContext userContext;\r\n\r\n    @GetMapping(&quot;/marks&quot;)\r\n    public ResponseEntity&lt;Object&gt; getMarks() {\r\n        try {\r\n            return ResponseEntity.ok(userContext.getMarks());\r\n        } catch (Exception e) {\r\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\r\n        }\r\n    }\r\n```\r\n\r\n**UserContext**\r\n```java\r\n@Service @Configurable @Scope(&quot;prototype&quot;)\r\npublic class UserContext {\r\n\r\n   @Autowired\r\n    public UserContext(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n    public List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\r\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\r\n        return userRole.getHomework();\r\n    }\r\n\r\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\r\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\r\n        return userRole.getMarks();\r\n    }\r\n}\r\n```\r\n**UserRole**\r\n```java\r\npublic interface UserRole {\r\n    default UserGetModel getUser(long id) throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;UserGetModel&gt; getAllUsers() {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity updateUser(UserUpdateModel newUserData) throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity deleteUser() throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarksByDate(String date) throws UserNotFoundException, ParseException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarksBySubject(String subjectName) throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;MarkGetModel&gt; getMarksByDateAndSubject(DateAndSubjectModel dateAndSubject) throws UserNotFoundException, ParseException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectGetModel getSubject(long id) throws SubjectNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectGetModel getSubject(String name) throws SubjectNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolGetModel getSchoolById(long schoolId) throws SchoolNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolGetModel getSchoolByNumber(int schoolNumber) throws SchoolNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;SchoolGetModel&gt; getSchools() {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassGetModel getSchoolClass(ClassGetByNumberModel classData) throws com.diary.diary.exception.school_class.ClassNotFoundException, SchoolNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;ClassGetModel&gt; getClasses() {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;HomeworkGetModel&gt; getHomeworkByDate(String date) throws UserNotFoundException, ParseException {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default List&lt;HomeworkGetModel&gt; getHomeworkBySubject(String subjectName) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity addClass(ClassAddModel classData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity deleteClass(long id) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity removeUserFromClass(AdminRemoveUserFromClassModel userClassModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolEntity addSchool(SchoolAddModel schoolData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SchoolEntity deleteSchool(long id) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default UserEntity removeUserFromSchool(AdminRemoveUserFromSchoolModel userSchoolModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectEntity addSubject(SubjectAddModel subjectData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectEntity updateSubject(SubjectUpdateModel newSubjectModel) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default SubjectEntity deleteSubject(SubjectDeleteModel subjectDeleteData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default TimetableEntity addTimetable(TimetableAddModel timetableData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default TimetableEntity updateTimetable(TimeTableUpdateModel newTimetableData) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default TimetableEntity deleteTimetable(long id) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity addTimetableToClass(TimetableClassModel timetableClass) {\r\n        throw new NotImplementedException();\r\n    }\r\n\r\n    default ClassEntity deleteTimetableFromClass(long classId) {\r\n        throw new NotImplementedException();\r\n    }\r\n}\r\n```\r\n\r\n**UserService**\r\n```java\r\n@Service @Configurable @Scope(&quot;prototype&quot;)\r\npublic class UserService implements UserDetailsService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepo;\r\n    @Autowired\r\n    private RoleRepository roleRepo;\r\n\r\n    @Autowired\r\n    private MarkMethods markMethods;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder\r\n            = new BCryptPasswordEncoder();\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        UserEntity user = userRepo.findByLogin(username);\r\n        if(user == null) {\r\n            throw new UsernameNotFoundException(&quot;user with such login not found&quot;);\r\n        }\r\n        SimpleGrantedAuthority userRole = new SimpleGrantedAuthority(user.getRole().toString());\r\n        return new User(Long.toString(user.getId()), user.getPassword(), List.of(userRole));\r\n    }\r\n    \r\n    public UserGetModel getUser(long userID) throws UserNotFoundException {\r\n        UserEntity user = userRepo.findById(userID)\r\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;no user with such id&quot;));\r\n        return convertUserToGetModel(user);\r\n    }\r\n\r\n    public UserEntity getCurrentUser() throws UserNotFoundException {\r\n        Authentication authentication = SecurityContextHolder\r\n                .getContext().getAuthentication();\r\n        if(authentication == null) {\r\n            return null;\r\n        }\r\n        Long userId = Long.valueOf((String) authentication.getPrincipal());\r\n        return userRepo.findById(userId)\r\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;current user wasn&#39;t found&quot;));\r\n    }\r\n\r\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\r\n        checkUserRoleOrThrow(RoleNames.ADMIN, getCurrentUser());\r\n        UserEntity student = getCurrentUser();\r\n        return convertToMarkGetModelList(student.getMarks());\r\n    }\r\n```\r\n\r\nIf you know the way how it can be solved, please tell me. I&#39;d really appreciate it!","title":"How to make @Service to be called by &quot;new&quot; operator?","body":"<p>I'm creating an electronic diary app, using java spring, but I faced with a small problem. I decided to create role system with a state pattern. So the logic of this system should look like this:</p>\n<ol>\n<li>In controller, after accepting request, it creates the object of context class.\nConstructor of context class gets concrete <strong>RoleClass</strong> in depends to user role.(it uses the factory)</li>\n<li>In controller we call the method of context we want to be executed</li>\n<li>In context we call the method of role we want to be executed.</li>\n<li>In role class we call the method of service we want to be executed.</li>\n</ol>\n<p>But here I faced with a problem. I have a context class, which creates an object of <strong>UserService</strong> class, which contains a lot of <strong>@Autowired</strong> fields. So what I decided to do is to add <code>@Service</code> annotation to context class and there I added <code>@Autowired</code> annotation on constructor of <strong>UserContext</strong> class.</p>\n<p>However Spring autowires all the fields at the compilation stage, so there won't be any <strong>UserPrincipal</strong> in <code>SecurityContextHolder</code> when I start the program. So here I need to create an object of <strong>UserContext</strong> class at the request stage, in controller. That's why I added <code>@Configurable</code> annotation to <strong>UserContext</strong> class. But when <strong>UserContext</strong> class is creating, the autowired fields of <strong>UserService</strong> filing by null values.</p>\n<p>So what can be a problem?</p>\n<p>Btw I understand that it better to create a constructor of <strong>UserService</strong> class, which will accept all the parameters(such as <strong>UserRepository</strong>), but here are another problems:</p>\n<ol>\n<li>I use <strong>UserService</strong> class a lot in other classes. For example I have a model, where I call this class. And here, after creating this object of class, the fields will be autowired automatically.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter @Setter\npublic class ClassGetModel {\n\n    private long id;\n\n    private int number;\n\n    private char letter;\n\n    private SchoolGetModel school;\n\n    private List&lt;UserGetModel&gt; students;\n\n    public static ClassGetModel toModel(ClassEntity schoolClass) {\n        ClassGetModel model = new ClassGetModel();\n        ModelMapper mapper = new ModelMapper();\n        mapper.getConfiguration().setSkipNullEnabled(true);\n        mapper.map(schoolClass, model);\n        model.setSchool(SchoolGetModel.toModel(schoolClass.getSchool()));\n        UserService userService = new UserService();\n        model.setStudents(userService.convertToUserGetModelList(schoolClass.getStudents()));\n        return model;\n    }\n}\n</code></pre>\n<p>And there is also a problem with the quantity of arguments of constructor. If my service has a lot of fields which is used in my program, I'd have to give all of them to this constructor, even in <strong>RoleFactory</strong>.</p>\n<p>So here's my code:\n<strong>UserController</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/user&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @Autowired\n    private UserContext userContext;\n\n    @GetMapping(&quot;/marks&quot;)\n    public ResponseEntity&lt;Object&gt; getMarks() {\n        try {\n            return ResponseEntity.ok(userContext.getMarks());\n        } catch (Exception e) {\n            return new ResponseEntity&lt;&gt;(e.getMessage(), HttpStatus.NOT_FOUND);\n        }\n    }\n</code></pre>\n<p><strong>UserContext</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service @Configurable @Scope(&quot;prototype&quot;)\npublic class UserContext {\n\n   @Autowired\n    public UserContext(UserService userService) {\n        this.userService = userService;\n    }\n    public List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\n        return userRole.getHomework();\n    }\n\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\n        UserRole userRole = RoleFactory.getUserRole(userService.getCurrentUser().getRole().getName());\n        return userRole.getMarks();\n    }\n}\n</code></pre>\n<p><strong>UserRole</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRole {\n    default UserGetModel getUser(long id) throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;UserGetModel&gt; getAllUsers() {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity updateUser(UserUpdateModel newUserData) throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity deleteUser() throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarksByDate(String date) throws UserNotFoundException, ParseException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarksBySubject(String subjectName) throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;MarkGetModel&gt; getMarksByDateAndSubject(DateAndSubjectModel dateAndSubject) throws UserNotFoundException, ParseException {\n        throw new NotImplementedException();\n    }\n\n    default SubjectGetModel getSubject(long id) throws SubjectNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default SubjectGetModel getSubject(String name) throws SubjectNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default SchoolGetModel getSchoolById(long schoolId) throws SchoolNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default SchoolGetModel getSchoolByNumber(int schoolNumber) throws SchoolNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;SchoolGetModel&gt; getSchools() {\n        throw new NotImplementedException();\n    }\n\n    default ClassGetModel getSchoolClass(ClassGetByNumberModel classData) throws com.diary.diary.exception.school_class.ClassNotFoundException, SchoolNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;ClassGetModel&gt; getClasses() {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;HomeworkGetModel&gt; getHomework() throws UserNotFoundException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;HomeworkGetModel&gt; getHomeworkByDate(String date) throws UserNotFoundException, ParseException {\n        throw new NotImplementedException();\n    }\n\n    default List&lt;HomeworkGetModel&gt; getHomeworkBySubject(String subjectName) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity addClass(ClassAddModel classData) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity addUserToClass(AdminAddUserToClassModel userAndClassModel) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity deleteClass(long id) {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity removeUserFromClass(AdminRemoveUserFromClassModel userClassModel) {\n        throw new NotImplementedException();\n    }\n\n    default SchoolEntity addSchool(SchoolAddModel schoolData) {\n        throw new NotImplementedException();\n    }\n\n    default SchoolEntity deleteSchool(long id) {\n        throw new NotImplementedException();\n    }\n\n    default UserEntity removeUserFromSchool(AdminRemoveUserFromSchoolModel userSchoolModel) {\n        throw new NotImplementedException();\n    }\n\n    default SubjectEntity addSubject(SubjectAddModel subjectData) {\n        throw new NotImplementedException();\n    }\n\n    default SubjectEntity updateSubject(SubjectUpdateModel newSubjectModel) {\n        throw new NotImplementedException();\n    }\n\n    default SubjectEntity deleteSubject(SubjectDeleteModel subjectDeleteData) {\n        throw new NotImplementedException();\n    }\n\n    default TimetableEntity addTimetable(TimetableAddModel timetableData) {\n        throw new NotImplementedException();\n    }\n\n    default TimetableEntity updateTimetable(TimeTableUpdateModel newTimetableData) {\n        throw new NotImplementedException();\n    }\n\n    default TimetableEntity deleteTimetable(long id) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity addTimetableToClass(TimetableClassModel timetableClass) {\n        throw new NotImplementedException();\n    }\n\n    default ClassEntity deleteTimetableFromClass(long classId) {\n        throw new NotImplementedException();\n    }\n}\n</code></pre>\n<p><strong>UserService</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service @Configurable @Scope(&quot;prototype&quot;)\npublic class UserService implements UserDetailsService {\n\n    @Autowired\n    private UserRepository userRepo;\n    @Autowired\n    private RoleRepository roleRepo;\n\n    @Autowired\n    private MarkMethods markMethods;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder\n            = new BCryptPasswordEncoder();\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        UserEntity user = userRepo.findByLogin(username);\n        if(user == null) {\n            throw new UsernameNotFoundException(&quot;user with such login not found&quot;);\n        }\n        SimpleGrantedAuthority userRole = new SimpleGrantedAuthority(user.getRole().toString());\n        return new User(Long.toString(user.getId()), user.getPassword(), List.of(userRole));\n    }\n    \n    public UserGetModel getUser(long userID) throws UserNotFoundException {\n        UserEntity user = userRepo.findById(userID)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;no user with such id&quot;));\n        return convertUserToGetModel(user);\n    }\n\n    public UserEntity getCurrentUser() throws UserNotFoundException {\n        Authentication authentication = SecurityContextHolder\n                .getContext().getAuthentication();\n        if(authentication == null) {\n            return null;\n        }\n        Long userId = Long.valueOf((String) authentication.getPrincipal());\n        return userRepo.findById(userId)\n                .orElseThrow(() -&gt; new UserNotFoundException(&quot;current user wasn't found&quot;));\n    }\n\n    public List&lt;MarkGetModel&gt; getMarks() throws UserNotFoundException {\n        checkUserRoleOrThrow(RoleNames.ADMIN, getCurrentUser());\n        UserEntity student = getCurrentUser();\n        return convertToMarkGetModelList(student.getMarks());\n    }\n</code></pre>\n<p>If you know the way how it can be solved, please tell me. I'd really appreciate it!</p>\n"},{"tags":["java","groovy","java-io"],"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1321735143,"post_id":8197049,"comment_id":10072868,"body_markdown":"Is this for a generic file, or are you trying to get the parent directory of your source file?  If the latter, I&#39;m not sure you understand Java compilation.  At runtime, `test.java` probably won&#39;t even exist on the computer where the program is being run.  It&#39;s the compiled `.class` file that is run.  So this will only work if you know where `ddd` is located, in which case there is no point in finding it programatically; just hard code it.","body":"Is this for a generic file, or are you trying to get the parent directory of your source file?  If the latter, I&#39;m not sure you understand Java compilation.  At runtime, <code>test.java</code> probably won&#39;t even exist on the computer where the program is being run.  It&#39;s the compiled <code>.class</code> file that is run.  So this will only work if you know where <code>ddd</code> is located, in which case there is no point in finding it programatically; just hard code it."}],"answers":[{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":16,"creation_date":1321735287,"post_id":8197136,"comment_id":10072898,"body_markdown":"You don&#39;t need `lastIndexOf`, just use `file.getParentFile().getName()`.","body":"You don&#39;t need <code>lastIndexOf</code>, just use <code>file.getParentFile().getName()</code>."},{"owner":{"account_id":550963,"reputation":549,"user_id":915663,"accept_rate":43,"display_name":"nidu"},"score":16,"creation_date":1356345396,"post_id":8197136,"comment_id":19361861,"body_markdown":"Just in case. If it returns `null` (if you created `File` instance with relative path) - try `file.getAbsoluteFile().getParentFile().getName()`.","body":"Just in case. If it returns <code>null</code> (if you created <code>File</code> instance with relative path) - try <code>file.getAbsoluteFile().getParentFile().getName()</code>."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1359841844,"post_id":8197136,"comment_id":20500081,"body_markdown":"@MarkPeters That only works when the file was created with a parent File, though, which I&#39;m guessing is relatively rarely.","body":"@MarkPeters That only works when the file was created with a parent File, though, which I&#39;m guessing is relatively rarely."},{"owner":{"account_id":6891567,"reputation":418,"user_id":5294858,"display_name":"Mang Jojot"},"score":0,"creation_date":1608442082,"post_id":8197136,"comment_id":115583002,"body_markdown":"https://stackoverflow.com/users/915663/nidu its works, thanks","body":"<a href=\"https://stackoverflow.com/users/915663/nidu\">stackoverflow.com/users/915663/nidu</a> its works, thanks"}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":4,"down_vote_count":1,"up_vote_count":171,"is_accepted":true,"score":170,"last_activity_date":1359841796,"creation_date":1321735179,"answer_id":8197136,"question_id":8197049,"body_markdown":"Use [`File`&#39;s `getParentFile()` method][1] and `String.lastIndexOf()` to retrieve *just* the immediate parent directory. \r\n\r\nMark&#39;s comment is a better solution than`lastIndexOf()`:\r\n\r\n    file.getParentFile().getName();\r\n\r\nThese solutions only works if the file has a parent file (e.g., created via one of the file constructors taking a parent `File`). When `getParentFile()` is null you&#39;ll need to resort to using `lastIndexOf`, or use something like [Apache Commons&#39; `FileNameUtils.getFullPath()`][2]:\r\n\r\n    FilenameUtils.getFullPathNoEndSeparator(file.getAbsolutePath());\r\n    =&gt; C:/aaa/bbb/ccc/ddd\r\n\r\nThere are several variants to retain/drop the prefix and trailing separator. You can either use the same `FilenameUtils` class to grab the name from the result, use `lastIndexOf`, etc.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/File.html#getParentFile%28%29\r\n  [2]: http://commons.apache.org/io/api-release/org/apache/commons/io/FilenameUtils.html#getFullPath%28java.lang.String%29","title":"How to get just the parent directory name of a specific file","body":"<p>Use <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#getParentFile%28%29\" rel=\"noreferrer\"><code>File</code>'s <code>getParentFile()</code> method</a> and <code>String.lastIndexOf()</code> to retrieve <em>just</em> the immediate parent directory. </p>\n\n<p>Mark's comment is a better solution than<code>lastIndexOf()</code>:</p>\n\n<pre><code>file.getParentFile().getName();\n</code></pre>\n\n<p>These solutions only works if the file has a parent file (e.g., created via one of the file constructors taking a parent <code>File</code>). When <code>getParentFile()</code> is null you'll need to resort to using <code>lastIndexOf</code>, or use something like <a href=\"http://commons.apache.org/io/api-release/org/apache/commons/io/FilenameUtils.html#getFullPath%28java.lang.String%29\" rel=\"noreferrer\">Apache Commons' <code>FileNameUtils.getFullPath()</code></a>:</p>\n\n<pre><code>FilenameUtils.getFullPathNoEndSeparator(file.getAbsolutePath());\n=&gt; C:/aaa/bbb/ccc/ddd\n</code></pre>\n\n<p>There are several variants to retain/drop the prefix and trailing separator. You can either use the same <code>FilenameUtils</code> class to grab the name from the result, use <code>lastIndexOf</code>, etc.</p>\n"},{"comments":[{"owner":{"account_id":2234122,"reputation":3512,"user_id":1971003,"accept_rate":93,"display_name":"Guy Avraham"},"score":1,"creation_date":1497527385,"post_id":8197193,"comment_id":76122016,"body_markdown":"Just to make sure, the output is as follows: C:/aaa/bbb/ccc/ddd","body":"Just to make sure, the output is as follows: C:/aaa/bbb/ccc/ddd"}],"tags":[],"owner":{"account_id":1052025,"reputation":5610,"user_id":1055715,"accept_rate":83,"display_name":"Surasin Tancharoen"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1518124993,"creation_date":1321735643,"answer_id":8197193,"question_id":8197049,"body_markdown":"    File f = new File(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);\r\n    System.out.println(f.getParentFile().getName())\r\n\r\n\r\n`f.getParentFile()` can be null, so you should check it.\r\n","title":"How to get just the parent directory name of a specific file","body":"<pre><code>File f = new File(\"C:/aaa/bbb/ccc/ddd/test.java\");\nSystem.out.println(f.getParentFile().getName())\n</code></pre>\n\n<p><code>f.getParentFile()</code> can be null, so you should check it.</p>\n"},{"comments":[{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":0,"creation_date":1450894458,"post_id":24775972,"comment_id":56624366,"body_markdown":"Worth pointing out that this method should have a parent set, even if the underlying file did not.","body":"Worth pointing out that this method should have a parent set, even if the underlying file did not."}],"tags":[],"owner":{"account_id":2704546,"reputation":2297,"user_id":2334422,"display_name":"Ishan Liyanage"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1405499708,"creation_date":1405499708,"answer_id":24775972,"question_id":8197049,"body_markdown":"Use below,\r\n\r\n    File file = new File(&quot;file/path&quot;);\r\n    String parentPath = file.getAbsoluteFile().getParent();","title":"How to get just the parent directory name of a specific file","body":"<p>Use below,</p>\n\n<pre><code>File file = new File(\"file/path\");\nString parentPath = file.getAbsoluteFile().getParent();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6062455,"reputation":169,"user_id":4733843,"accept_rate":80,"display_name":"Jnmgr"},"score":4,"creation_date":1438863693,"post_id":26334930,"comment_id":51630537,"body_markdown":"This throws ArrayOutOfBoundsException if you are already on root location -&quot;/&quot;-","body":"This throws ArrayOutOfBoundsException if you are already on root location -&quot;/&quot;-"}],"tags":[],"owner":{"account_id":320632,"reputation":1333,"user_id":639016,"accept_rate":75,"display_name":"Fedir Tsapana"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1413185643,"creation_date":1413185643,"answer_id":26334930,"question_id":8197049,"body_markdown":"If you have just String path and don&#39;t want to create new File object you can use something like:\r\n\r\n\tpublic static String getParentDirPath(String fileOrDirPath) {\r\n\t\tboolean endsWithSlash = fileOrDirPath.endsWith(File.separator);\r\n\t\treturn fileOrDirPath.substring(0, fileOrDirPath.lastIndexOf(File.separatorChar, \r\n\t\t\t\tendsWithSlash ? fileOrDirPath.length() - 2 : fileOrDirPath.length() - 1));\r\n\t}","title":"How to get just the parent directory name of a specific file","body":"<p>If you have just String path and don't want to create new File object you can use something like:</p>\n\n<pre><code>public static String getParentDirPath(String fileOrDirPath) {\n    boolean endsWithSlash = fileOrDirPath.endsWith(File.separator);\n    return fileOrDirPath.substring(0, fileOrDirPath.lastIndexOf(File.separatorChar, \n            endsWithSlash ? fileOrDirPath.length() - 2 : fileOrDirPath.length() - 1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2082764,"reputation":61,"user_id":1854407,"display_name":"Crni03"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462525544,"creation_date":1442358855,"answer_id":32597164,"question_id":8197049,"body_markdown":"    File file = new File(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);\r\n    File curentPath = new File(file.getParent());\r\n    //get current path &quot;C:/aaa/bbb/ccc/ddd/&quot;\r\n\tString currentFolder= currentPath.getName().toString();\r\n    //get name of file to string &quot;ddd&quot;\r\n\r\nif you need to append folder &quot;ddd&quot; by another path use;\r\n    \r\n    String currentFolder= &quot;/&quot; + currentPath.getName().toString();\r\n","title":"How to get just the parent directory name of a specific file","body":"<pre><code>File file = new File(\"C:/aaa/bbb/ccc/ddd/test.java\");\nFile curentPath = new File(file.getParent());\n//get current path \"C:/aaa/bbb/ccc/ddd/\"\nString currentFolder= currentPath.getName().toString();\n//get name of file to string \"ddd\"\n</code></pre>\n\n<p>if you need to append folder \"ddd\" by another path use;</p>\n\n<pre><code>String currentFolder= \"/\" + currentPath.getName().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1518707230,"creation_date":1518707230,"answer_id":48810331,"question_id":8197049,"body_markdown":"From java 7 I would prefer to use Path. You only need to put path into:\r\n\r\n    Path dddDirectoryPath = Paths.get(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);\r\n\r\n and create some get method:\r\n\r\n    public String getLastDirectoryName(Path directoryPath) {\r\n       int nameCount = directoryPath.getNameCount();\r\n       return directoryPath.getName(nameCount - 1);\r\n    }","title":"How to get just the parent directory name of a specific file","body":"<p>From java 7 I would prefer to use Path. You only need to put path into:</p>\n\n<pre><code>Path dddDirectoryPath = Paths.get(\"C:/aaa/bbb/ccc/ddd/test.java\");\n</code></pre>\n\n<p>and create some get method:</p>\n\n<pre><code>public String getLastDirectoryName(Path directoryPath) {\n   int nameCount = directoryPath.getNameCount();\n   return directoryPath.getName(nameCount - 1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"score":2,"creation_date":1655723123,"post_id":49019436,"comment_id":128391554,"body_markdown":"after getParent(), you need toString(), getFileName returns a relative Path object, representing &quot;test.java&quot; only.","body":"after getParent(), you need toString(), getFileName returns a relative Path object, representing &quot;test.java&quot; only."}],"tags":[],"owner":{"account_id":6200,"reputation":34664,"user_id":10335,"accept_rate":80,"display_name":"neves"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1666036758,"creation_date":1519772942,"answer_id":49019436,"question_id":8197049,"body_markdown":"Since Java 7 you have the new **[Paths api](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html)**. The modern and cleanest solution is:\r\n\r\n    Paths.get(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;).getParent().toString();\r\n\r\nResult would be:\r\n\r\n    C:/aaa/bbb/ccc/ddd","title":"How to get just the parent directory name of a specific file","body":"<p>Since Java 7 you have the new <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Paths.html\" rel=\"noreferrer\">Paths api</a></strong>. The modern and cleanest solution is:</p>\n<pre><code>Paths.get(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;).getParent().toString();\n</code></pre>\n<p>Result would be:</p>\n<pre><code>C:/aaa/bbb/ccc/ddd\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4365058,"reputation":166,"user_id":3561111,"display_name":"Cavaler"},"score":0,"creation_date":1657202706,"post_id":49794832,"comment_id":128759056,"body_markdown":"It may surprise you, but there are still a lot of OS with different path separator characters.","body":"It may surprise you, but there are still a lot of OS with different path separator characters."}],"tags":[],"owner":{"account_id":8841515,"reputation":47770,"user_id":6603816,"display_name":"yamenk"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1523530862,"creation_date":1523530862,"answer_id":49794832,"question_id":8197049,"body_markdown":"**In Groovy:**\r\n\r\nThere is no need to create a `File` instance to parse the string in groovy. It can be done as follows:\r\n\r\n    String path = &quot;C:/aaa/bbb/ccc/ddd/test.java&quot;\r\n    path.split(&#39;/&#39;)[-2]  // this will return ddd\r\n\r\nThe split will create the array `[C:, aaa, bbb, ccc, ddd, test.java]` and index `-2` will point to entry before the last one, which in this case is `ddd`","title":"How to get just the parent directory name of a specific file","body":"<p><strong>In Groovy:</strong></p>\n\n<p>There is no need to create a <code>File</code> instance to parse the string in groovy. It can be done as follows:</p>\n\n<pre><code>String path = \"C:/aaa/bbb/ccc/ddd/test.java\"\npath.split('/')[-2]  // this will return ddd\n</code></pre>\n\n<p>The split will create the array <code>[C:, aaa, bbb, ccc, ddd, test.java]</code> and index <code>-2</code> will point to entry before the last one, which in this case is <code>ddd</code></p>\n"},{"tags":[],"owner":{"account_id":15569653,"reputation":11,"user_id":11232448,"display_name":"Oscar Betgen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1553090374,"creation_date":1553090374,"answer_id":55262516,"question_id":8197049,"body_markdown":"        //get the parentfolder name\r\n        File file = new File( System.getProperty(&quot;user.dir&quot;) + &quot;/.&quot;);\r\n        String parentPath = file.getParentFile().getName();","title":"How to get just the parent directory name of a specific file","body":"<pre><code>    //get the parentfolder name\n    File file = new File( System.getProperty(\"user.dir\") + \"/.\");\n    String parentPath = file.getParentFile().getName();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1029785,"reputation":1002,"user_id":1038336,"accept_rate":40,"display_name":"Guilherme Campos Hazan"},"score":0,"creation_date":1686203966,"post_id":63521965,"comment_id":134767579,"body_markdown":"parentFile.name is what i was looking for","body":"parentFile.name is what i was looking for"}],"tags":[],"owner":{"account_id":6943530,"reputation":1212,"user_id":5328951,"display_name":"Yogesh Nikam Patil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598009031,"creation_date":1598009031,"answer_id":63521965,"question_id":8197049,"body_markdown":"For Kotlin :\r\n\r\n\r\n   \r\n\r\n     fun getFolderName() {\r\n                \r\n                val uri: Uri\r\n                val cursor: Cursor?\r\n        \r\n                uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\r\n                val projection = arrayOf(MediaStore.Audio.AudioColumns.DATA)\r\n                cursor = requireActivity().contentResolver.query(uri, projection, null, null, null)\r\n                if (cursor != null) {\r\n                    column_index_data = cursor.getColumnIndexOrThrow(MediaStore.Audio.AudioColumns.DATA)\r\n                }\r\n                \r\n                while (cursor!!.moveToNext()) {\r\n        \r\n                    absolutePathOfImage = cursor.getString(column_index_data)\r\n        \r\n        \r\n                    val fileName: String = File(absolutePathOfImage).parentFile.name\r\n        }\r\n    }","title":"How to get just the parent directory name of a specific file","body":"<p>For Kotlin :</p>\n<pre><code> fun getFolderName() {\n            \n            val uri: Uri\n            val cursor: Cursor?\n    \n            uri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI\n            val projection = arrayOf(MediaStore.Audio.AudioColumns.DATA)\n            cursor = requireActivity().contentResolver.query(uri, projection, null, null, null)\n            if (cursor != null) {\n                column_index_data = cursor.getColumnIndexOrThrow(MediaStore.Audio.AudioColumns.DATA)\n            }\n            \n            while (cursor!!.moveToNext()) {\n    \n                absolutePathOfImage = cursor.getString(column_index_data)\n    \n    \n                val fileName: String = File(absolutePathOfImage).parentFile.name\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":114058,"reputation":6905,"user_id":300097,"accept_rate":64,"display_name":"minil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283381,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":8197136,"answer_count":10,"score":138,"last_activity_date":1666036758,"creation_date":1321734526,"question_id":8197049,"body_markdown":"How to get `ddd` from the path name where the test.java resides.\r\n\r\n    File file = new File(&quot;C:/aaa/bbb/ccc/ddd/test.java&quot;);","title":"How to get just the parent directory name of a specific file","body":"<p>How to get <code>ddd</code> from the path name where the test.java resides.</p>\n\n<pre><code>File file = new File(\"C:/aaa/bbb/ccc/ddd/test.java\");\n</code></pre>\n"},{"tags":["java","cassandra"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662103039,"post_id":73566397,"comment_id":129932808,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26206146,"reputation":1,"user_id":19885707,"display_name":"usuario1444"},"score":0,"creation_date":1662371930,"post_id":73566397,"comment_id":129983015,"body_markdown":"We need good practices on how to perform a nodetool repair to our cluster","body":"We need good practices on how to perform a nodetool repair to our cluster"}],"answers":[{"tags":[],"owner":{"account_id":13821370,"reputation":55,"user_id":9976719,"display_name":"OvivO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666036668,"creation_date":1666036668,"answer_id":74102579,"question_id":73566397,"body_markdown":"either execute: &quot;nodetool repair -pr --full&quot; on each node sequentially or check out Cassandra Reaper tool, which does the job.","title":"Make a repair in Cassandra","body":"<p>either execute: &quot;nodetool repair -pr --full&quot; on each node sequentially or check out Cassandra Reaper tool, which does the job.</p>\n"}],"owner":{"account_id":26206146,"reputation":1,"user_id":19885707,"display_name":"usuario1444"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666036668,"creation_date":1662021232,"question_id":73566397,"body_markdown":"We have a cluster of 9 nodes, each node with 300&#160;GB (Version `Cassandra 3.11`), we have performed full repairs on each one of them, and they have been completed correctly, but we still have 3 nodes to repair, but the repair never ends.\r\n\r\nThey could indicate the good practices that we must carry out. \r\n","title":"Make a repair in Cassandra","body":"<p>We have a cluster of 9 nodes, each node with 300 GB (Version <code>Cassandra 3.11</code>), we have performed full repairs on each one of them, and they have been completed correctly, but we still have 3 nodes to repair, but the repair never ends.</p>\n<p>They could indicate the good practices that we must carry out.</p>\n"},{"tags":["java","boolean"],"answers":[{"comments":[{"owner":{"account_id":23149737,"reputation":31,"user_id":17251952,"display_name":"Suman Saurabh"},"score":1,"creation_date":1666035790,"post_id":74101985,"comment_id":130835691,"body_markdown":"Bro if boolean is initialized in beginning of loop, it itself get reset.","body":"Bro if boolean is initialized in beginning of loop, it itself get reset."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1666035896,"post_id":74101985,"comment_id":130835715,"body_markdown":"this is a good point","body":"this is a good point"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666035958,"creation_date":1666033291,"answer_id":74101985,"question_id":74101641,"body_markdown":"&lt;s&gt;after you print yes or no, you should reset the boolean to true again&lt;/s&gt;\r\n\r\nEDIT: @Suman Saurabh is correct here","title":"Value of Boolean in not changing from false to true","body":"<p><s>after you print yes or no, you should reset the boolean to true again</s></p>\n<p>EDIT: @Suman Saurabh is correct here</p>\n"},{"comments":[{"owner":{"account_id":23149737,"reputation":31,"user_id":17251952,"display_name":"Suman Saurabh"},"score":0,"creation_date":1666035983,"post_id":74102069,"comment_id":130835740,"body_markdown":"I am so dumb, thanks. In order to avoid traversing whole array I completely forgot rest of elements.","body":"I am so dumb, thanks. In order to avoid traversing whole array I completely forgot rest of elements."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666034109,"creation_date":1666033806,"answer_id":74102069,"question_id":74101641,"body_markdown":"As soon as your application find an even number it breaks the loop, which means it no longer reads the rest of the line.\r\nThe next invocation will start where the previous left off and consume that input.\r\n\r\nSo when the second &#39;2&#39; is read, the inner loop breaks and &#39;NO&#39; gets printed.\r\nFor the next loop the &#39;5&#39; is read which means there should be 5 values to be read. Then the value &#39;4&#39; is read, which is even again, and the code emits &#39;NO&#39; again. The values 3, 1 and 7 are never consumed.\r\n\r\nIt works as designed. To better understand, add lots of System.out.println statements, or learn how to use a debugger.\r\n\r\nBut to answer your question:\r\n\r\nThe first int specifies how many datasets you want to read.\r\nThe first int per dataset specifies how many data values are in the set. The remaining numbers resemble the data set.\r\n\r\nYour problem is that when you encounter an even number you do not read the remainder of the dataset, and you program treats the next integers as the specifier of the next dataset&#39;s length.\r\nWhat you need to change is that even when you encountered an even number you have to consume enough integers from your scanner so the dataset is read before you start reading the next.\r\nThat change can be as easy as removing the `break`.","title":"Value of Boolean in not changing from false to true","body":"<p>As soon as your application find an even number it breaks the loop, which means it no longer reads the rest of the line.\nThe next invocation will start where the previous left off and consume that input.</p>\n<p>So when the second '2' is read, the inner loop breaks and 'NO' gets printed.\nFor the next loop the '5' is read which means there should be 5 values to be read. Then the value '4' is read, which is even again, and the code emits 'NO' again. The values 3, 1 and 7 are never consumed.</p>\n<p>It works as designed. To better understand, add lots of System.out.println statements, or learn how to use a debugger.</p>\n<p>But to answer your question:</p>\n<p>The first int specifies how many datasets you want to read.\nThe first int per dataset specifies how many data values are in the set. The remaining numbers resemble the data set.</p>\n<p>Your problem is that when you encounter an even number you do not read the remainder of the dataset, and you program treats the next integers as the specifier of the next dataset's length.\nWhat you need to change is that even when you encountered an even number you have to consume enough integers from your scanner so the dataset is read before you start reading the next.\nThat change can be as easy as removing the <code>break</code>.</p>\n"}],"owner":{"account_id":23149737,"reputation":31,"user_id":17251952,"display_name":"Suman Saurabh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74102069,"answer_count":2,"score":0,"last_activity_date":1666035958,"creation_date":1666031469,"question_id":74101641,"body_markdown":"The problem is, I have to print `NO` if given array have any Even element and `YES` if all elements is Odd,\r\nbut if my code print `NO` after that it will only print `NO`.\r\n\r\n&gt; **Given**\r\n&gt;\r\n&gt;    `t` = Total test case\r\n&gt;\r\n&gt;    `n` = Length of each array\r\n&gt;\r\n&gt;    and of course `n` elements also\r\n\r\n**Input**\r\n\r\n    2\r\n    5\r\n    1 2 5 4 3\r\n    1\r\n    7\r\n\r\n**Output**\r\n\r\n    NO\r\n    NO\r\n\r\n**Expected Output**\r\n\r\n    NO\r\n    YES\r\n    \r\n\r\n&gt; **Following is My Code**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class dsj {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int t = sc.nextInt();\r\n            while (t-- &gt; 0){\r\n                int n = sc.nextInt();\r\n                boolean k = true;\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    int x = sc.nextInt();\r\n                    if (x % 2 == 0) {\r\n                        k = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (k)\r\n                    System.out.println(&quot;YES&quot;);\r\n                else\r\n                    System.out.println(&quot;NO&quot;);\r\n                    \r\n            }\r\n            sc.close();\r\n        }\r\n    }\r\n\r\n\r\n&gt; **Please tell me what I am doing wrong**","title":"Value of Boolean in not changing from false to true","body":"<p>The problem is, I have to print <code>NO</code> if given array have any Even element and <code>YES</code> if all elements is Odd,\nbut if my code print <code>NO</code> after that it will only print <code>NO</code>.</p>\n<blockquote>\n<p><strong>Given</strong></p>\n<p><code>t</code> = Total test case</p>\n<p><code>n</code> = Length of each array</p>\n<p>and of course <code>n</code> elements also</p>\n</blockquote>\n<p><strong>Input</strong></p>\n<pre><code>2\n5\n1 2 5 4 3\n1\n7\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>NO\nNO\n</code></pre>\n<p><strong>Expected Output</strong></p>\n<pre><code>NO\nYES\n</code></pre>\n<blockquote>\n<p><strong>Following is My Code</strong></p>\n</blockquote>\n<pre><code>import java.util.Scanner;\n\npublic class dsj {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        while (t-- &gt; 0){\n            int n = sc.nextInt();\n            boolean k = true;\n            for (int i = 0; i &lt; n; i++) {\n                int x = sc.nextInt();\n                if (x % 2 == 0) {\n                    k = false;\n                    break;\n                }\n            }\n            if (k)\n                System.out.println(&quot;YES&quot;);\n            else\n                System.out.println(&quot;NO&quot;);\n                \n        }\n        sc.close();\n    }\n}\n</code></pre>\n<blockquote>\n<p><strong>Please tell me what I am doing wrong</strong></p>\n</blockquote>\n"},{"tags":["java","ssl","dns","keystore"],"answers":[{"tags":[],"owner":{"account_id":14447739,"reputation":137,"user_id":10436325,"display_name":"Mina Kh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666035377,"creation_date":1666035377,"answer_id":74102348,"question_id":72195598,"body_markdown":"in order to select desired certificate you can specify certificate alias:\r\n\r\n    server.ssl.key-alias\r\n\r\nmore details about multiple certificates in one keystore is provided in [this link][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6371359/10436325","title":"How does Spring Boot decide which certificate will be used from keystore case of multiple domains?","body":"<p>in order to select desired certificate you can specify certificate alias:</p>\n<pre><code>server.ssl.key-alias\n</code></pre>\n<p>more details about multiple certificates in one keystore is provided in <a href=\"https://stackoverflow.com/a/6371359/10436325\">this link</a>.</p>\n"}],"owner":{"account_id":15285933,"reputation":327,"user_id":11028953,"display_name":"Mart123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666035377,"creation_date":1652244827,"question_id":72195598,"body_markdown":"We have case where we have to change our server URL, but one old deprecated service does not let us change our URL there so we decided to have 2 URL-s running at the same time behind the same server and for new services we would provide a new URL.\r\n\r\n```\r\nserver.port=8443\r\nserver.ssl.key-store=/ourkeystore\r\nserver.ssl.key-store-password=@keystore.key@\r\nserver.ssl.enabled=true\r\nserver.ssl.enabled-protocols=TLSv1.2\r\nserver.ssl.trust-store=ourtruststore\r\n```\r\n\r\nIf we have 2 certificates in keystore, then what I have to do for server to know which one to use based on the URL?","title":"How does Spring Boot decide which certificate will be used from keystore case of multiple domains?","body":"<p>We have case where we have to change our server URL, but one old deprecated service does not let us change our URL there so we decided to have 2 URL-s running at the same time behind the same server and for new services we would provide a new URL.</p>\n<pre><code>server.port=8443\nserver.ssl.key-store=/ourkeystore\nserver.ssl.key-store-password=@keystore.key@\nserver.ssl.enabled=true\nserver.ssl.enabled-protocols=TLSv1.2\nserver.ssl.trust-store=ourtruststore\n</code></pre>\n<p>If we have 2 certificates in keystore, then what I have to do for server to know which one to use based on the URL?</p>\n"},{"tags":["java","opencv","get","transform","perspective"],"answers":[{"tags":[],"owner":{"account_id":26461460,"reputation":1,"user_id":20103345,"display_name":"OWNER_2PLUS_AI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666035174,"creation_date":1666035174,"answer_id":74102312,"question_id":48141184,"body_markdown":"This means that you need to type float in the code and wherever you want to use float, you must convert it to int. This error indicates that you must use the value of float in your code.\r\n\r\nu should use **float** in ****getPerspectiveTransform****\r\n\r\n\r\n","title":"GetPerspectiveTransform function error | opencv | java","body":"<p>This means that you need to type float in the code and wherever you want to use float, you must convert it to int. This error indicates that you must use the value of float in your code.</p>\n<p>u should use <strong>float</strong> in <strong><strong>getPerspectiveTransform</strong></strong></p>\n"}],"owner":{"account_id":9835384,"reputation":63,"user_id":7285933,"display_name":"Fleczer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666035174,"creation_date":1515356417,"question_id":48141184,"body_markdown":"I am trying to make an automatic perspective correction of quadrangle objects.\r\n\r\nI am getting error when I am using getPerspectiveTransform function:\r\n\r\n    OpenCV Error: Assertion failed (src.checkVector(2, CV_32F) == 4 &amp;&amp; dst.checkVector(2, CV_32F) == 4) in cv::getPerspectiveTransform\r\n\r\n\r\nHere is my code:\r\n\r\n            Mat originalMat = new Mat();\r\n\t\t\toriginalMat=Imgcodecs.imread(&quot;photo.jpg&quot;);\r\n\t\t\tMat binaryMat = new Mat();\r\n\r\n\t        Imgproc.cvtColor(originalMat, binaryMat, Imgproc.COLOR_BGR2GRAY);\r\n\t        Imgproc.threshold(binaryMat, binaryMat, 0 , 255, Imgproc.THRESH_OTSU | Imgproc.THRESH_BINARY);\r\n\r\n\t        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\r\n\t        Imgproc.findContours(binaryMat.clone(), contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\r\n\r\n\t        int largestContour=0, tempContour, largestContourIndex=0;\r\n\r\n\t        if(contours.size()&gt;1)\r\n\t        for (int i = 0; i &lt; contours.size(); i++) {\r\n\r\n\t            MatOfPoint2f mop2f = new MatOfPoint2f();\r\n\t            contours.get(i).convertTo(mop2f, CvType.CV_32F);         \r\n\t            RotatedRect rect = Imgproc.minAreaRect(mop2f);           \r\n\r\n\t            tempContour = rect.boundingRect().width * rect.boundingRect().height;\r\n\t            if(largestContour &lt; tempContour){\r\n\t                largestContour = tempContour;\r\n\t                largestContourIndex = i;\r\n\t            }\r\n\t        }\r\n\r\n\r\n\t        Rect rectangle = Imgproc.boundingRect(contours.get(largestContourIndex));\r\n\t        Point[] boundingRectPoints = new Point[4];                              \r\n\t        boundingRectPoints[0] = new Point(rectangle.x,rectangle.y);\r\n\t        boundingRectPoints[1] = new Point((rectangle.x+rectangle.width),rectangle.y);\r\n\t        boundingRectPoints[2] = new Point(rectangle.x+rectangle.width,rectangle.y+rectangle.height);\r\n\t        boundingRectPoints[3] = new Point(rectangle.x,rectangle.y+rectangle.height);\r\n\t        MatOfPoint boundingRTMatOfPoint = new MatOfPoint(boundingRectPoints);\r\n\r\n\r\n\t        Mat beforeCorrectionMat = new Mat();\r\n\t        Mat afterCorrectionMat = new Mat();\r\n\t        contours.get(largestContourIndex).convertTo(beforeCorrectionMat, CvType.CV_32FC2);\r\n\t        boundingRTMatOfPoint.convertTo(afterCorrectionMat, CvType.CV_32FC2);\r\n\r\n\r\n\r\n\t        Mat transmtx = Imgproc.getPerspectiveTransform( beforeCorrectionMat, afterCorrectionMat);\r\n\t        Mat transformed = Mat.zeros(originalMat.height(), originalMat.width(), CvType.CV_8UC1);\r\n\t        Imgproc.warpPerspective(originalMat, transformed, transmtx, originalMat.size());\r\n\r\n\r\nI found similar question here: https://stackoverflow.com/questions/15683184/assertion-failed-when-im-trying-to-use-getperspectivetransform-on-android-ndk-t/16229928\r\n\r\nBut it doesn&#39;t help me.\r\nI would be very grateful for any help.","title":"GetPerspectiveTransform function error | opencv | java","body":"<p>I am trying to make an automatic perspective correction of quadrangle objects.</p>\n\n<p>I am getting error when I am using getPerspectiveTransform function:</p>\n\n<pre><code>OpenCV Error: Assertion failed (src.checkVector(2, CV_32F) == 4 &amp;&amp; dst.checkVector(2, CV_32F) == 4) in cv::getPerspectiveTransform\n</code></pre>\n\n<p>Here is my code:</p>\n\n<pre><code>        Mat originalMat = new Mat();\n        originalMat=Imgcodecs.imread(\"photo.jpg\");\n        Mat binaryMat = new Mat();\n\n        Imgproc.cvtColor(originalMat, binaryMat, Imgproc.COLOR_BGR2GRAY);\n        Imgproc.threshold(binaryMat, binaryMat, 0 , 255, Imgproc.THRESH_OTSU | Imgproc.THRESH_BINARY);\n\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;&gt;();\n        Imgproc.findContours(binaryMat.clone(), contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\n\n        int largestContour=0, tempContour, largestContourIndex=0;\n\n        if(contours.size()&gt;1)\n        for (int i = 0; i &lt; contours.size(); i++) {\n\n            MatOfPoint2f mop2f = new MatOfPoint2f();\n            contours.get(i).convertTo(mop2f, CvType.CV_32F);         \n            RotatedRect rect = Imgproc.minAreaRect(mop2f);           \n\n            tempContour = rect.boundingRect().width * rect.boundingRect().height;\n            if(largestContour &lt; tempContour){\n                largestContour = tempContour;\n                largestContourIndex = i;\n            }\n        }\n\n\n        Rect rectangle = Imgproc.boundingRect(contours.get(largestContourIndex));\n        Point[] boundingRectPoints = new Point[4];                              \n        boundingRectPoints[0] = new Point(rectangle.x,rectangle.y);\n        boundingRectPoints[1] = new Point((rectangle.x+rectangle.width),rectangle.y);\n        boundingRectPoints[2] = new Point(rectangle.x+rectangle.width,rectangle.y+rectangle.height);\n        boundingRectPoints[3] = new Point(rectangle.x,rectangle.y+rectangle.height);\n        MatOfPoint boundingRTMatOfPoint = new MatOfPoint(boundingRectPoints);\n\n\n        Mat beforeCorrectionMat = new Mat();\n        Mat afterCorrectionMat = new Mat();\n        contours.get(largestContourIndex).convertTo(beforeCorrectionMat, CvType.CV_32FC2);\n        boundingRTMatOfPoint.convertTo(afterCorrectionMat, CvType.CV_32FC2);\n\n\n\n        Mat transmtx = Imgproc.getPerspectiveTransform( beforeCorrectionMat, afterCorrectionMat);\n        Mat transformed = Mat.zeros(originalMat.height(), originalMat.width(), CvType.CV_8UC1);\n        Imgproc.warpPerspective(originalMat, transformed, transmtx, originalMat.size());\n</code></pre>\n\n<p>I found similar question here: <a href=\"https://stackoverflow.com/questions/15683184/assertion-failed-when-im-trying-to-use-getperspectivetransform-on-android-ndk-t/16229928\">Assertion failed when I&#39;m trying to use getPerspectiveTransform on Android-NDK to transform a perspective image</a></p>\n\n<p>But it doesn't help me.\nI would be very grateful for any help.</p>\n"},{"tags":["java","generics","language-design","super"],"comments":[{"owner":{"account_id":60816,"reputation":3394,"user_id":181551,"accept_rate":41,"display_name":"Alex Worden"},"score":0,"creation_date":1293736410,"post_id":2800369,"comment_id":5008316,"body_markdown":"Can you explain what you semantically intend to be the difference between &lt;S super T&gt; and &lt;? super T&gt;. Seems to me it&#39;s just splitting hairs over syntax.","body":"Can you explain what you semantically intend to be the difference between &lt;S super T&gt; and &lt;? super T&gt;. Seems to me it&#39;s just splitting hairs over syntax."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":3,"creation_date":1448374067,"post_id":2800369,"comment_id":55554124,"body_markdown":"You can&#39;t do `? super T[] toArray(? super T[] a)`, can you?","body":"You can&#39;t do <code>? super T[] toArray(? super T[] a)</code>, can you?"},{"owner":{"account_id":4958971,"reputation":7891,"user_id":3990767,"accept_rate":100,"display_name":"SOFe"},"score":1,"creation_date":1534414674,"post_id":2800369,"comment_id":90700750,"body_markdown":"And this is why there is an `Object[] toArray()` method in the Collection class.","body":"And this is why there is an <code>Object[] toArray()</code> method in the Collection class."}],"answers":[{"comments":[{"owner":{"account_id":614381,"reputation":711,"user_id":336962,"display_name":"mohsenof"},"score":1,"creation_date":1273468736,"post_id":2800425,"comment_id":2837975,"body_markdown":"This way Collection&quot;&lt;? super Integer&gt; should take every thing. Because every thing is Object and Object is super type of Integer.","body":"This way Collection&quot;&lt;? super Integer&gt; should take every thing. Because every thing is Object and Object is super type of Integer."},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1273469033,"post_id":2800425,"comment_id":2838002,"body_markdown":"@mohsenof: even though `String` is an `Object`, a `Collection&lt;String&gt;` is not a `Collection&lt;? super Integer&gt;`, because generics are invariant: a `Collection&lt;String&gt;` is NOT a `Collection&lt;Object&gt;`. A `String[]` however is an `Object[]`, because arrays are covariant. Again, generics and arrays don&#39;t mix, and they run under very different type rules. Read _Effective Java 2nd Edition, Item 25: Prefer lists to arrays_.","body":"@mohsenof: even though <code>String</code> is an <code>Object</code>, a <code>Collection&lt;String&gt;</code> is not a <code>Collection&lt;? super Integer&gt;</code>, because generics are invariant: a <code>Collection&lt;String&gt;</code> is NOT a <code>Collection&lt;Object&gt;</code>. A <code>String[]</code> however is an <code>Object[]</code>, because arrays are covariant. Again, generics and arrays don&#39;t mix, and they run under very different type rules. Read <i>Effective Java 2nd Edition, Item 25: Prefer lists to arrays</i>."},{"owner":{"account_id":48192,"reputation":10791,"user_id":143069,"display_name":"ILMTitan"},"score":6,"creation_date":1273501621,"post_id":2800425,"comment_id":2840940,"body_markdown":"so why would\n\n    &lt;S super T&gt; List&lt;S&gt; addToList(List&lt;S&gt; list, T element){\n        list.add(element);\n        return list;\n    }\n\nnot make sense?","body":"so why would      &lt;S super T&gt; List&lt;S&gt; addToList(List&lt;S&gt; list, T element){         list.add(element);         return list;     }  not make sense?"},{"owner":{"account_id":55500,"reputation":13703,"user_id":166235,"accept_rate":79,"display_name":"Rotsor"},"score":25,"creation_date":1302832528,"post_id":2800425,"comment_id":6473517,"body_markdown":"&quot;it wouldn&#39;t do what you&#39;d hoped&quot; - this is just plain wrong. The OP provided a great use case (modulo the dreaded array covariance) with obvious semantics: the collection should be able to fill the array of any more general type and return the said array. There is nothing wrong with it.","body":"&quot;it wouldn&#39;t do what you&#39;d hoped&quot; - this is just plain wrong. The OP provided a great use case (modulo the dreaded array covariance) with obvious semantics: the collection should be able to fill the array of any more general type and return the said array. There is nothing wrong with it."},{"owner":{"account_id":35892,"reputation":30826,"user_id":102008,"accept_rate":37,"display_name":"user102008"},"score":3,"creation_date":1351726156,"post_id":2800425,"comment_id":17919388,"body_markdown":"&quot;since any array of reference type is an `Object[]`, it can therefore be used as an argument to `&lt;S super T&gt; S[] toArray(S[] a)`&quot; True. However, if `S` were inferred to be `Object`, then that would also constrain the return type of the method to `Object[]`, which may cause a compile error depending on the context in which the call is made (if it expects a `S[]`). So changing the type variable to `Object` is not a substitute for a `super` bound.","body":"&quot;since any array of reference type is an <code>Object[]</code>, it can therefore be used as an argument to <code>&lt;S super T&gt; S[] toArray(S[] a)</code>&quot; True. However, if <code>S</code> were inferred to be <code>Object</code>, then that would also constrain the return type of the method to <code>Object[]</code>, which may cause a compile error depending on the context in which the call is made (if it expects a <code>S[]</code>). So changing the type variable to <code>Object</code> is not a substitute for a <code>super</code> bound."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":4,"creation_date":1363364061,"post_id":2800425,"comment_id":21835913,"body_markdown":"there are some, though few, valid use cases for lower bounds.","body":"there are some, though few, valid use cases for lower bounds."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":10,"creation_date":1418231700,"post_id":2800425,"comment_id":43258395,"body_markdown":"polygenelubricants: The main point in this answer, that upper type bound are not useful, is incorrect. This is demonstrated in Rotsor&#39;s answer. I would like to encourage you to edit this answer to point this out, because in its current form it is misleading people!","body":"polygenelubricants: The main point in this answer, that upper type bound are not useful, is incorrect. This is demonstrated in Rotsor&#39;s answer. I would like to encourage you to edit this answer to point this out, because in its current form it is misleading people!"},{"owner":{"account_id":1018615,"reputation":7053,"user_id":1029599,"display_name":"KGhatak"},"score":0,"creation_date":1492893671,"post_id":2800425,"comment_id":74179509,"body_markdown":"@polygenelubricants,  `&lt;? super T&gt;` is **ILLEGAL**!! Are you sure!!","body":"@polygenelubricants,  <code>&lt;? super T&gt;</code> is <b>ILLEGAL</b>!! Are you sure!!"},{"owner":{"account_id":6955110,"reputation":493,"user_id":5336361,"display_name":"Ben Seidel"},"score":4,"creation_date":1538030197,"post_id":2800425,"comment_id":92000994,"body_markdown":"-1 This is answer is incorrect. The real answer is because &quot;They designed Java that way&quot;. See Rotsor&#39;s answer for valid (and extremely useful) use cases that are invalid code only because of the Java specifications, not because the logic is incorrect.","body":"-1 This is answer is incorrect. The real answer is because &quot;They designed Java that way&quot;. See Rotsor&#39;s answer for valid (and extremely useful) use cases that are invalid code only because of the Java specifications, not because the logic is incorrect."},{"owner":{"account_id":914346,"reputation":1030,"user_id":947488,"display_name":"Stefan Reich"},"score":1,"creation_date":1593278784,"post_id":2800425,"comment_id":110726181,"body_markdown":"Yes, the answer is wrong. It sounds convincing at first but it&#39;s nonsense. `T super String` means `T` is either `Object`, `CharSequence` or `String` - but not anything else. Clearly that is a real - and useful - bound.","body":"Yes, the answer is wrong. It sounds convincing at first but it&#39;s nonsense. <code>T super String</code> means <code>T</code> is either <code>Object</code>, <code>CharSequence</code> or <code>String</code> - but not anything else. Clearly that is a real - and useful - bound."},{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1608614723,"post_id":2800425,"comment_id":115630661,"body_markdown":"What if the hypothetical clause `&lt;S super T&gt;` is allowed, and if we were to use it along with a classy alternative such as `Class&lt;S&gt;`. Then we would be able to solve this problem? So the new version of `toArray` would be: `&lt;S super T&gt; S[] toArray(Class&lt;S&gt; a)`","body":"What if the hypothetical clause <code>&lt;S super T&gt;</code> is allowed, and if we were to use it along with a classy alternative such as <code>Class&lt;S&gt;</code>. Then we would be able to solve this problem? So the new version of <code>toArray</code> would be: <code>&lt;S super T&gt; S[] toArray(Class&lt;S&gt; a)</code>"}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":11,"down_vote_count":16,"up_vote_count":73,"is_accepted":true,"score":57,"last_activity_date":1273471638,"creation_date":1273467845,"answer_id":2800425,"question_id":2800369,"body_markdown":"`super` to bound a named type parameter (e.g. `&lt;S super T&gt;`) as opposed to a wildcard (e.g. `&lt;? super T&gt;`) is **ILLEGAL** simply because even if it&#39;s allowed, it wouldn&#39;t do what you&#39;d hoped it would do, because since `Object` is the ultimate `super` of all reference types, and everything is an `Object`, _in effect there is no bound_.\r\n\r\nIn your specific example, since _any_ array of reference type is an `Object[]` (by Java array covariance), it can therefore be used as an argument to `&lt;S super T&gt; S[] toArray(S[] a)` (if such bound is legal) at compile-time, and it wouldn&#39;t prevent `ArrayStoreException` at run-time.\r\n\r\nWhat you&#39;re trying to propose is that given:\r\n\r\n    List&lt;Integer&gt; integerList;\r\n\r\nand given this *hypothetical* `super` bound on `toArray`:\r\n\r\n    &lt;S super T&gt; S[] toArray(S[] a) // hypothetical! currently illegal in Java\r\n\r\nthe compiler should only allow the following to compile:\r\n\r\n    integerList.toArray(new Integer[0]) // works fine!\r\n    integerList.toArray(new Number[0])  // works fine!\r\n    integerList.toArray(new Object[0])  // works fine!\r\n\r\nand no other array type arguments (since `Integer` only has those 3 types as `super`). That is, you&#39;re trying to prevent this from compiling:\r\n\r\n    integerList.toArray(new String[0])  // trying to prevent this from compiling\r\n\r\nbecause, by your argument, `String` is not a `super` of `Integer`. _However_, `Object` is a `super` of `Integer`, and a `String[]` is an `Object[]`, so the compiler *still* would let the above compile, even if hypothetically you can do `&lt;S super T&gt;`!\r\n\r\nSo the following _would still compile_ (just as the way they are right now), and `ArrayStoreException` at run-time could not be prevented by any compile-time checking using generic type bounds:\r\n\r\n    integerList.toArray(new String[0])  // compiles fine!\r\n    // throws ArrayStoreException at run-time\r\n\r\nGenerics and arrays don&#39;t mix, and this is one of the many places where it shows.\r\n\r\n---\r\n\r\n### A non-array example\r\n\r\nAgain, let&#39;s say that you have this generic method declaration:\r\n\r\n    &lt;T super Integer&gt; void add(T number) // hypothetical! currently illegal in Java\r\n\r\nAnd you have these variable declarations:\r\n\r\n    Integer anInteger\r\n    Number aNumber\r\n    Object anObject\r\n    String aString\r\n\r\nYour intention with `&lt;T super Integer&gt;` (if it&#39;s legal) is that it should allow `add(anInteger)`, and `add(aNumber)`, and of course `add(anObject)`, but NOT `add(aString)`. Well, `String` is an `Object`, so `add(aString)` would still compile anyway.\r\n\r\n---\r\n\r\n### See also\r\n\r\n* [Java Tutorials/Generics](http://java.sun.com/docs/books/tutorial/extra/generics/index.html)\r\n   * [Subtyping](http://java.sun.com/docs/books/tutorial/extra/generics/subtype.html)\r\n   * [More fun with wildcards](http://java.sun.com/docs/books/tutorial/extra/generics/morefun.html)\r\n\r\n### Related questions\r\n\r\nOn generics typing rules:\r\n\r\n* [Any simple way to explain why I cannot do `List&lt;Animal&gt; animals = new ArrayList&lt;Dog&gt;()`?](https://stackoverflow.com/questions/2346763/any-simple-way-to-explain-why-i-cannot-do-listanimal-animals-new-arraylistdo)\r\n* [java generics (not) covariance](https://stackoverflow.com/questions/2660827/java-generics-covariance)\r\n* [What is a raw type and why shouldn’t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it/)\r\n   * Explains how raw type `List` is different from `List&lt;Object&gt;` which is different from a `List&lt;?&gt;`\r\n\r\nOn using `super` and `extends`:\r\n\r\n* [`Java Generics: What is PECS?`](https://stackoverflow.com/questions/2723397/java-generics-what-is-pecs)\r\n   * From _Effective Java 2nd Edition_: &quot;producer `extends` consumer `super`&quot;\r\n* [What is the difference between `super` and `extends` in Java Generics](https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics)\r\n* [What is the difference between `&lt;E extends Number&gt;` and `&lt;Number&gt;`?](https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/)\r\n* [How can I add to `List&lt;? extends Number&gt;` data structures?](https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures) (YOU CAN&#39;T!)","title":"Bounding generics with &#39;super&#39; keyword","body":"<p><code>super</code> to bound a named type parameter (e.g. <code>&lt;S super T&gt;</code>) as opposed to a wildcard (e.g. <code>&lt;? super T&gt;</code>) is <strong>ILLEGAL</strong> simply because even if it's allowed, it wouldn't do what you'd hoped it would do, because since <code>Object</code> is the ultimate <code>super</code> of all reference types, and everything is an <code>Object</code>, <em>in effect there is no bound</em>.</p>\n\n<p>In your specific example, since <em>any</em> array of reference type is an <code>Object[]</code> (by Java array covariance), it can therefore be used as an argument to <code>&lt;S super T&gt; S[] toArray(S[] a)</code> (if such bound is legal) at compile-time, and it wouldn't prevent <code>ArrayStoreException</code> at run-time.</p>\n\n<p>What you're trying to propose is that given:</p>\n\n<pre><code>List&lt;Integer&gt; integerList;\n</code></pre>\n\n<p>and given this <em>hypothetical</em> <code>super</code> bound on <code>toArray</code>:</p>\n\n<pre><code>&lt;S super T&gt; S[] toArray(S[] a) // hypothetical! currently illegal in Java\n</code></pre>\n\n<p>the compiler should only allow the following to compile:</p>\n\n<pre><code>integerList.toArray(new Integer[0]) // works fine!\nintegerList.toArray(new Number[0])  // works fine!\nintegerList.toArray(new Object[0])  // works fine!\n</code></pre>\n\n<p>and no other array type arguments (since <code>Integer</code> only has those 3 types as <code>super</code>). That is, you're trying to prevent this from compiling:</p>\n\n<pre><code>integerList.toArray(new String[0])  // trying to prevent this from compiling\n</code></pre>\n\n<p>because, by your argument, <code>String</code> is not a <code>super</code> of <code>Integer</code>. <em>However</em>, <code>Object</code> is a <code>super</code> of <code>Integer</code>, and a <code>String[]</code> is an <code>Object[]</code>, so the compiler <em>still</em> would let the above compile, even if hypothetically you can do <code>&lt;S super T&gt;</code>!</p>\n\n<p>So the following <em>would still compile</em> (just as the way they are right now), and <code>ArrayStoreException</code> at run-time could not be prevented by any compile-time checking using generic type bounds:</p>\n\n<pre><code>integerList.toArray(new String[0])  // compiles fine!\n// throws ArrayStoreException at run-time\n</code></pre>\n\n<p>Generics and arrays don't mix, and this is one of the many places where it shows.</p>\n\n<hr>\n\n<h3>A non-array example</h3>\n\n<p>Again, let's say that you have this generic method declaration:</p>\n\n<pre><code>&lt;T super Integer&gt; void add(T number) // hypothetical! currently illegal in Java\n</code></pre>\n\n<p>And you have these variable declarations:</p>\n\n<pre><code>Integer anInteger\nNumber aNumber\nObject anObject\nString aString\n</code></pre>\n\n<p>Your intention with <code>&lt;T super Integer&gt;</code> (if it's legal) is that it should allow <code>add(anInteger)</code>, and <code>add(aNumber)</code>, and of course <code>add(anObject)</code>, but NOT <code>add(aString)</code>. Well, <code>String</code> is an <code>Object</code>, so <code>add(aString)</code> would still compile anyway.</p>\n\n<hr>\n\n<h3>See also</h3>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/index.html\" rel=\"noreferrer\">Java Tutorials/Generics</a>\n\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/subtype.html\" rel=\"noreferrer\">Subtyping</a></li>\n<li><a href=\"http://java.sun.com/docs/books/tutorial/extra/generics/morefun.html\" rel=\"noreferrer\">More fun with wildcards</a></li>\n</ul></li>\n</ul>\n\n<h3>Related questions</h3>\n\n<p>On generics typing rules:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2346763/any-simple-way-to-explain-why-i-cannot-do-listanimal-animals-new-arraylistdo\">Any simple way to explain why I cannot do <code>List&lt;Animal&gt; animals = new ArrayList&lt;Dog&gt;()</code>?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2660827/java-generics-covariance\">java generics (not) covariance</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it/\">What is a raw type and why shouldn’t we use it?</a>\n\n<ul>\n<li>Explains how raw type <code>List</code> is different from <code>List&lt;Object&gt;</code> which is different from a <code>List&lt;?&gt;</code></li>\n</ul></li>\n</ul>\n\n<p>On using <code>super</code> and <code>extends</code>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2723397/java-generics-what-is-pecs\"><code>Java Generics: What is PECS?</code></a>\n\n<ul>\n<li>From <em>Effective Java 2nd Edition</em>: \"producer <code>extends</code> consumer <code>super</code>\"</li>\n</ul></li>\n<li><a href=\"https://stackoverflow.com/questions/1910892/what-is-the-difference-between-super-and-extends-in-java-generics\">What is the difference between <code>super</code> and <code>extends</code> in Java Generics</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2770264/what-is-the-difference-between-e-extends-number-and-number/\">What is the difference between <code>&lt;E extends Number&gt;</code> and <code>&lt;Number&gt;</code>?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2776975/how-can-i-add-to-list-extends-number-data-structures\">How can I add to <code>List&lt;? extends Number&gt;</code> data structures?</a> (YOU CAN'T!)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":18,"creation_date":1351972064,"post_id":5671079,"comment_id":17992116,"body_markdown":"+1 Your example matches up with a real-world use case in Guava&#39;s [`Optional.or(T)`](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Optional.html#or\\(T\\)). From the documentation: &quot;The signature `public T or(T defaultValue)` is overly restrictive. However, the ideal signature, `public &lt;S super T&gt; S or(S)`, is not legal Java. As a result, some sensible operations involving subtypes are compile errors&quot;.","body":"+1 Your example matches up with a real-world use case in Guava&#39;s <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/Optional.html#or&#40;T&#41;\" rel=\"nofollow noreferrer\"><code>Optional.or(T)</code></a>. From the documentation: &quot;The signature <code>public T or(T defaultValue)</code> is overly restrictive. However, the ideal signature, <code>public &lt;S super T&gt; S or(S)</code>, is not legal Java. As a result, some sensible operations involving subtypes are compile errors&quot;."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1548245414,"post_id":5671079,"comment_id":95472018,"body_markdown":"@PaulBellora …and now that Java has its own `Optional` or the Stream API, it’s biting everyone. The best you can do then, is an actually obsolete `.&lt;SuperType&gt;map(t -&gt; t)` or `.map(Function.&lt;SuperType&gt;identity())`…","body":"@PaulBellora …and now that Java has its own <code>Optional</code> or the Stream API, it’s biting everyone. The best you can do then, is an actually obsolete <code>.&lt;SuperType&gt;map(t -&gt; t)</code> or <code>.map(Function.&lt;SuperType&gt;identity())</code>…"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1548762271,"post_id":5671079,"comment_id":95650261,"body_markdown":"@Holger I actually remember this definition and explanation in the guava&#39;s doc. I *still* can&#39;t understand why one would want to return a super type; for me it just defeats the purpose, it makes perfect sense to return a subtype, I guess I am missing something here","body":"@Holger I actually remember this definition and explanation in the guava&#39;s doc. I <i>still</i> can&#39;t understand why one would want to return a super type; for me it just defeats the purpose, it makes perfect sense to return a subtype, I guess I am missing something here"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1548766442,"post_id":5671079,"comment_id":95652718,"body_markdown":"@Eugene this answer’s examples should be explanatory enough; just replace `Nullable` with `Optional` and `withDefault` with `orElse`. Another example would be `CompletableFuture&lt;CharBuffer&gt; f = someIoOperation();   CharSequence result = f.exceptionally(t -&gt; &quot;constant fallback&quot;).join();`, which would be a reasonable operation, but doesn’t work, unless you insert a workaround like `.thenApply(Function.&lt;CharSequence&gt;identity())`. Another indirect example would be `String.join(&quot;, &quot;, () -&gt; Stream.of(&quot;foo&quot;, &quot;bar&quot;).iterator());`, which doesn’t work.","body":"@Eugene this answer’s examples should be explanatory enough; just replace <code>Nullable</code> with <code>Optional</code> and <code>withDefault</code> with <code>orElse</code>. Another example would be <code>CompletableFuture&lt;CharBuffer&gt; f = someIoOperation();   CharSequence result = f.exceptionally(t -&gt; &quot;constant fallback&quot;).join();</code>, which would be a reasonable operation, but doesn’t work, unless you insert a workaround like <code>.thenApply(Function.&lt;CharSequence&gt;identity())</code>. Another indirect example would be <code>String.join(&quot;, &quot;, () -&gt; Stream.of(&quot;foo&quot;, &quot;bar&quot;).iterator());</code>, which doesn’t work."},{"owner":{"account_id":7812692,"reputation":3085,"user_id":5908433,"accept_rate":100,"display_name":"Dmitriy Fialkovskiy"},"score":0,"creation_date":1565442181,"post_id":5671079,"comment_id":101360874,"body_markdown":"@Rotsor, can you please explain why the valid variant of method that you proposed in the end of post can be written only as `static`? \nI mean this declaration: `public static &lt;B, A extends B&gt; B withDefault(Nullable&lt;A&gt; nullable, B defaultValue) { ... }`.","body":"@Rotsor, can you please explain why the valid variant of method that you proposed in the end of post can be written only as <code>static</code>?  I mean this declaration: <code>public static &lt;B, A extends B&gt; B withDefault(Nullable&lt;A&gt; nullable, B defaultValue) { ... }</code>."},{"owner":{"account_id":55500,"reputation":13703,"user_id":166235,"accept_rate":79,"display_name":"Rotsor"},"score":0,"creation_date":1565541539,"post_id":5671079,"comment_id":101378383,"body_markdown":"You can&#39;t make that be a non-static method of a `Nullable&lt;A&gt;` class (and use `this` instead of `nullable`) because then you can&#39;t express the necessary constraint between `B` and `A` (as shown).\nYou could still add it as a non-static method to another class, but that would be useless because we don&#39;t use any instances of that class.","body":"You can&#39;t make that be a non-static method of a <code>Nullable&lt;A&gt;</code> class (and use <code>this</code> instead of <code>nullable</code>) because then you can&#39;t express the necessary constraint between <code>B</code> and <code>A</code> (as shown). You could still add it as a non-static method to another class, but that would be useless because we don&#39;t use any instances of that class."},{"owner":{"account_id":7812692,"reputation":3085,"user_id":5908433,"accept_rate":100,"display_name":"Dmitriy Fialkovskiy"},"score":0,"creation_date":1565612458,"post_id":5671079,"comment_id":101395451,"body_markdown":"@Rotsor, ah, so the only reason of that method being `static` is the declaration of class `Nullable&lt;A&gt;` in a form, in which we don&#39;t have `B` in type parameters, got it, thank you. If we could rewrite this class like `Nullable&lt;B, A extends B&gt;`, then this method could be non-static.","body":"@Rotsor, ah, so the only reason of that method being <code>static</code> is the declaration of class <code>Nullable&lt;A&gt;</code> in a form, in which we don&#39;t have <code>B</code> in type parameters, got it, thank you. If we could rewrite this class like <code>Nullable&lt;B, A extends B&gt;</code>, then this method could be non-static."},{"owner":{"account_id":55500,"reputation":13703,"user_id":166235,"accept_rate":79,"display_name":"Rotsor"},"score":0,"creation_date":1565644256,"post_id":5671079,"comment_id":101409680,"body_markdown":"Ah, yes, something like that could work, but: 1) the choice of `B` would have to be made when constructing the instance of such class; 2) I don&#39;t know if constraints are allowed at all in type parameters of a class and what exactly their meaning would be.","body":"Ah, yes, something like that could work, but: 1) the choice of <code>B</code> would have to be made when constructing the instance of such class; 2) I don&#39;t know if constraints are allowed at all in type parameters of a class and what exactly their meaning would be."},{"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"score":0,"creation_date":1606417168,"post_id":5671079,"comment_id":114963902,"body_markdown":"Another example of where this would be useful is [`Stream.concat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)). I always wondered why this was not designed as an instance method so you could write `stream.map(...).filter(...).concat(...)`. Now I understand...","body":"Another example of where this would be useful is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#concat(java.util.stream.Stream,java.util.stream.Stream)\" rel=\"nofollow noreferrer\"><code>Stream.concat</code></a>. I always wondered why this was not designed as an instance method so you could write <code>stream.map(...).filter(...).concat(...)</code>. Now I understand..."}],"tags":[],"owner":{"account_id":55500,"reputation":13703,"user_id":166235,"accept_rate":79,"display_name":"Rotsor"},"comment_count":9,"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1549070325,"creation_date":1302826016,"answer_id":5671079,"question_id":2800369,"body_markdown":"As no one has provided a satisfactory answer, the correct answer seems to be &quot;for no good reason&quot;.\r\n\r\npolygenelubricants provided a good overview of bad things happening with the java array covariance, which is a terrible feature by itself. Consider the following code fragment:\r\n\r\n    String[] strings = new String[1];\r\n    Object[] objects = strings;\r\n    objects[0] = 0;\r\n\r\nThis obviously wrong code compiles without resorting to any &quot;super&quot; construct, so array covariance should not be used as an argument.\r\n\r\nNow, here I have a perfectly valid example of code requiring `super` in the named type parameter:\r\n\r\n    class Nullable&lt;A&gt; {\r\n        private A value;\r\n        // Does not compile!!\r\n        public &lt;B super A&gt; B withDefault(B defaultValue) {\r\n            return value == null ? defaultValue : value;\r\n        }\r\n    }\r\n    \r\nPotentially supporting some nice usage:\r\n\r\n    Nullable&lt;Integer&gt; intOrNull = ...;\r\n    Integer i = intOrNull.withDefault(8);\r\n    Number n = intOrNull.withDefault(3.5);\r\n    Object o = intOrNull.withDefault(&quot;What&#39;s so bad about a String here?&quot;);\r\n\r\nThe latter code fragment does not compile if I remove the `B` altogether, so `B` is indeed needed.\r\n\r\nNote that the feature I&#39;m trying to implement is easily obtained if I invert the order of type parameter declarations, thus changing the `super` constraint to `extends`. However, this is only possible if I rewrite the method as a static one:\r\n\r\n    // This one actually works and I use it.\r\n    public static &lt;B, A extends B&gt; B withDefault(Nullable&lt;A&gt; nullable, B defaultValue) { ... }\r\n\r\nThe point is that this Java language restriction is indeed restricting some otherwise possible useful features and may require ugly workarounds. I wonder what would happen if we needed `withDefault` to be virtual.\r\n\r\nNow, to correlate with what polygenelubricants said, we use `B` here not to restrict the type of object passed as `defaultValue` (see the String used in the example), but rather to restrict the caller expectations about the object we return. As a simple rule, you use `extends` with the types you demand and `super` with the types you provide.\r\n","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>As no one has provided a satisfactory answer, the correct answer seems to be \"for no good reason\".</p>\n\n<p>polygenelubricants provided a good overview of bad things happening with the java array covariance, which is a terrible feature by itself. Consider the following code fragment:</p>\n\n<pre><code>String[] strings = new String[1];\nObject[] objects = strings;\nobjects[0] = 0;\n</code></pre>\n\n<p>This obviously wrong code compiles without resorting to any \"super\" construct, so array covariance should not be used as an argument.</p>\n\n<p>Now, here I have a perfectly valid example of code requiring <code>super</code> in the named type parameter:</p>\n\n<pre><code>class Nullable&lt;A&gt; {\n    private A value;\n    // Does not compile!!\n    public &lt;B super A&gt; B withDefault(B defaultValue) {\n        return value == null ? defaultValue : value;\n    }\n}\n</code></pre>\n\n<p>Potentially supporting some nice usage:</p>\n\n<pre><code>Nullable&lt;Integer&gt; intOrNull = ...;\nInteger i = intOrNull.withDefault(8);\nNumber n = intOrNull.withDefault(3.5);\nObject o = intOrNull.withDefault(\"What's so bad about a String here?\");\n</code></pre>\n\n<p>The latter code fragment does not compile if I remove the <code>B</code> altogether, so <code>B</code> is indeed needed.</p>\n\n<p>Note that the feature I'm trying to implement is easily obtained if I invert the order of type parameter declarations, thus changing the <code>super</code> constraint to <code>extends</code>. However, this is only possible if I rewrite the method as a static one:</p>\n\n<pre><code>// This one actually works and I use it.\npublic static &lt;B, A extends B&gt; B withDefault(Nullable&lt;A&gt; nullable, B defaultValue) { ... }\n</code></pre>\n\n<p>The point is that this Java language restriction is indeed restricting some otherwise possible useful features and may require ugly workarounds. I wonder what would happen if we needed <code>withDefault</code> to be virtual.</p>\n\n<p>Now, to correlate with what polygenelubricants said, we use <code>B</code> here not to restrict the type of object passed as <code>defaultValue</code> (see the String used in the example), but rather to restrict the caller expectations about the object we return. As a simple rule, you use <code>extends</code> with the types you demand and <code>super</code> with the types you provide.</p>\n"},{"tags":[],"owner":{"account_id":2315631,"reputation":67,"user_id":2032768,"display_name":"nxdrvr"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1412356546,"creation_date":1412351646,"answer_id":26182420,"question_id":2800369,"body_markdown":"Suppose we have:\r\n\t\r\n\r\n - basic classes  A &gt; B &gt; C   and D\r\n\r\n\t\tclass A{\r\n\t\t\tvoid methodA(){}\r\n\t\t};\r\n\t\tclass B extends  A{\r\n\t\t\tvoid methodB(){}\r\n\t\t}\r\n\r\n\t\tclass C extends  B{\r\n\t\t\tvoid methodC(){}\r\n\t\t}\r\n\r\n\t\tclass D {\r\n\t\t\tvoid methodD(){}\r\n\t\t}\r\n\r\n\r\n - job wrapper classes\r\n\r\n\r\n\t\tinterface Job&lt;T&gt; {\r\n\t\t\tvoid exec(T t);\r\n\t\t}\r\n\r\n\t\tclass JobOnA implements Job&lt;A&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(A a) {\r\n\t\t\t    a.methodA();\r\n\t\t\t}\r\n\t\t}\r\n\t\tclass JobOnB implements Job&lt;B&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(B b) {\r\n\t\t\t    b.methodB();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass JobOnC implements Job&lt;C&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(C c) {\r\n\t\t\t    c.methodC();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclass JobOnD implements Job&lt;D&gt;{\r\n\t\t\t@Override\r\n\t\t\tpublic void exec(D d) {\r\n\t\t\t    d.methodD();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n - and one manager class with 4 different approaches to execute job on object\r\n\r\n\t\tclass Manager&lt;T&gt;{\r\n\t\t\tfinal T t;\r\n\t\t\tManager(T t){\r\n\t\t\t\tthis.t=t;\r\n\t\t\t}\r\n\t\t\tpublic void execute1(Job&lt;T&gt; job){\r\n\t\t\t\tjob.exec(t);\r\n\t\t\t}\r\n\r\n\t\t\tpublic &lt;U&gt; void execute2(Job&lt;U&gt; job){\r\n\t\t\t\tU u= (U) t;  //not safe\r\n\t\t\t\tjob.exec(u);\r\n\t\t\t}\r\n\r\n\t\t\tpublic &lt;U extends T&gt; void execute3(Job&lt;U&gt; job){\r\n\t\t\t\tU u= (U) t; //not safe\r\n\t\t\t\tjob.exec(u);\r\n\t\t\t}\r\n\r\n\t\t\t//desired feature, not compiled for now\r\n\t\t\tpublic &lt;U super T&gt; void execute4(Job&lt;U&gt; job){\r\n\t\t\t\tU u= (U) t; //safe\r\n\t\t\t\tjob.exec(u);\r\n\t\t\t}\r\n\t\t}\r\n - with usage\r\n\r\n\t\tvoid usage(){\r\n\t\t\tB b = new B();\r\n\t\t\tManager&lt;B&gt; managerB = new Manager&lt;&gt;(b);\r\n\r\n\t\t\t//TOO STRICT\r\n\t\t\tmanagerB.execute1(new JobOnA());\r\n\t\t\tmanagerB.execute1(new JobOnB()); //compiled\r\n\t\t\tmanagerB.execute1(new JobOnC());\r\n\t\t\tmanagerB.execute1(new JobOnD());\r\n\r\n\t\t\t//TOO MUCH FREEDOM\r\n\t\t\tmanagerB.execute2(new JobOnA()); //compiled\r\n\t\t\tmanagerB.execute2(new JobOnB()); //compiled\r\n\t\t\tmanagerB.execute2(new JobOnC()); //compiled !!\r\n\t\t\tmanagerB.execute2(new JobOnD()); //compiled !!\r\n\r\n\t\t\t//NOT ADEQUATE RESTRICTIONS\t\t\r\n\t\t\tmanagerB.execute3(new JobOnA());\r\n\t\t\tmanagerB.execute3(new JobOnB()); //compiled\r\n\t\t\tmanagerB.execute3(new JobOnC()); //compiled !!\r\n\t\t\tmanagerB.execute3(new JobOnD());\r\n\r\n\t\t\t//SHOULD BE\r\n\t\t\tmanagerB.execute4(new JobOnA());  //compiled\r\n\t\t\tmanagerB.execute4(new JobOnB());  //compiled\r\n\t\t\tmanagerB.execute4(new JobOnC());\r\n\t\t\tmanagerB.execute4(new JobOnD());\r\n\t\t}\r\n\r\nAny suggestions how to implement execute4 now ?\r\n\r\n\r\n==========edited =======\r\n\r\n        public void execute4(Job&lt;? super  T&gt; job){\r\n            job.exec( t);\r\n        }\r\n\r\n\r\nThanks to all :)\r\n\r\n\r\n========== edited ==========\r\n\r\n        private &lt;U&gt; void execute2(Job&lt;U&gt; job){\r\n            U u= (U) t;  //now it&#39;s safe\r\n            job.exec(u);\r\n        }\r\n        public void execute4(Job&lt;? super  T&gt; job){\r\n            execute2(job);\r\n        }\r\n\r\n\r\nmuch better, any code with U inside execute2\r\n\r\nsuper type  U becomes named  !\r\n\r\ninteresting discussion :)","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>Suppose we have:</p>\n\n<ul>\n<li><p>basic classes  A > B > C   and D</p>\n\n<pre><code>class A{\n    void methodA(){}\n};\nclass B extends  A{\n    void methodB(){}\n}\n\nclass C extends  B{\n    void methodC(){}\n}\n\nclass D {\n    void methodD(){}\n}\n</code></pre></li>\n<li><p>job wrapper classes</p>\n\n<pre><code>interface Job&lt;T&gt; {\n    void exec(T t);\n}\n\nclass JobOnA implements Job&lt;A&gt;{\n    @Override\n    public void exec(A a) {\n        a.methodA();\n    }\n}\nclass JobOnB implements Job&lt;B&gt;{\n    @Override\n    public void exec(B b) {\n        b.methodB();\n    }\n}\n\nclass JobOnC implements Job&lt;C&gt;{\n    @Override\n    public void exec(C c) {\n        c.methodC();\n    }\n}\n\nclass JobOnD implements Job&lt;D&gt;{\n    @Override\n    public void exec(D d) {\n        d.methodD();\n    }\n}\n</code></pre></li>\n<li><p>and one manager class with 4 different approaches to execute job on object</p>\n\n<pre><code>class Manager&lt;T&gt;{\n    final T t;\n    Manager(T t){\n        this.t=t;\n    }\n    public void execute1(Job&lt;T&gt; job){\n        job.exec(t);\n    }\n\n    public &lt;U&gt; void execute2(Job&lt;U&gt; job){\n        U u= (U) t;  //not safe\n        job.exec(u);\n    }\n\n    public &lt;U extends T&gt; void execute3(Job&lt;U&gt; job){\n        U u= (U) t; //not safe\n        job.exec(u);\n    }\n\n    //desired feature, not compiled for now\n    public &lt;U super T&gt; void execute4(Job&lt;U&gt; job){\n        U u= (U) t; //safe\n        job.exec(u);\n    }\n}\n</code></pre></li>\n<li><p>with usage</p>\n\n<pre><code>void usage(){\n    B b = new B();\n    Manager&lt;B&gt; managerB = new Manager&lt;&gt;(b);\n\n    //TOO STRICT\n    managerB.execute1(new JobOnA());\n    managerB.execute1(new JobOnB()); //compiled\n    managerB.execute1(new JobOnC());\n    managerB.execute1(new JobOnD());\n\n    //TOO MUCH FREEDOM\n    managerB.execute2(new JobOnA()); //compiled\n    managerB.execute2(new JobOnB()); //compiled\n    managerB.execute2(new JobOnC()); //compiled !!\n    managerB.execute2(new JobOnD()); //compiled !!\n\n    //NOT ADEQUATE RESTRICTIONS     \n    managerB.execute3(new JobOnA());\n    managerB.execute3(new JobOnB()); //compiled\n    managerB.execute3(new JobOnC()); //compiled !!\n    managerB.execute3(new JobOnD());\n\n    //SHOULD BE\n    managerB.execute4(new JobOnA());  //compiled\n    managerB.execute4(new JobOnB());  //compiled\n    managerB.execute4(new JobOnC());\n    managerB.execute4(new JobOnD());\n}\n</code></pre></li>\n</ul>\n\n<p>Any suggestions how to implement execute4 now ?</p>\n\n<p>==========edited =======</p>\n\n<pre><code>    public void execute4(Job&lt;? super  T&gt; job){\n        job.exec( t);\n    }\n</code></pre>\n\n<p>Thanks to all :)</p>\n\n<p>========== edited ==========</p>\n\n<pre><code>    private &lt;U&gt; void execute2(Job&lt;U&gt; job){\n        U u= (U) t;  //now it's safe\n        job.exec(u);\n    }\n    public void execute4(Job&lt;? super  T&gt; job){\n        execute2(job);\n    }\n</code></pre>\n\n<p>much better, any code with U inside execute2</p>\n\n<p>super type  U becomes named  !</p>\n\n<p>interesting discussion :)</p>\n"},{"comments":[{"owner":{"account_id":3566319,"reputation":422,"user_id":2977747,"accept_rate":70,"display_name":"Colin P. Hill"},"score":6,"creation_date":1501778794,"post_id":33895470,"comment_id":77941565,"body_markdown":"Underappreciated answer, should be accepted. Lower bounds in method type parameters are useful (as Rotsor showed) and can be implemented (as the author of that paper showed when he did so in Scala). Them being _hard_ to implement sensibly is clearly the real reason they aren&#39;t allowed in Java.","body":"Underappreciated answer, should be accepted. Lower bounds in method type parameters are useful (as Rotsor showed) and can be implemented (as the author of that paper showed when he did so in Scala). Them being <i>hard</i> to implement sensibly is clearly the real reason they aren&#39;t allowed in Java."}],"tags":[],"owner":{"account_id":405514,"reputation":6111,"user_id":774444,"display_name":"Ben Schulz"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1448373215,"creation_date":1448373215,"answer_id":33895470,"question_id":2800369,"body_markdown":"The &quot;official&quot; answer to your question can be found in a [Sun/Oracle bug report](https://bugs.openjdk.java.net/browse/JDK-8061427).\r\n\r\n&gt;BT2:EVALUATION\r\n&gt;\r\n&gt;See\r\n&gt;\r\n&gt;http://lampwww.epfl.ch/~odersky/ftp/local-ti.ps\r\n&gt;\r\n&gt;particularly section 3 and the last paragraph on page 9. Admitting\r\n&gt;type variables on both sides of subtype constraints can result in a\r\n&gt;set of type equations with no single best solution; consequently,\r\n&gt;type inference cannot be done using any of the existing standard\r\n&gt;algorithms. That is why type variables have only &quot;extends&quot; bounds.\r\n&gt;\r\n&gt;Wildcards, on the other hand, do not have to be inferred, so there\r\n&gt;is no need for this constraint.\r\n&gt;\r\n&gt;###@###.### 2004-05-25\r\n&gt;\r\n&gt;Yes; the key point is that wildcards, even when captured, are only used\r\n&gt;as inputs of the inference process; nothing with (only) a lower bound needs\r\n&gt;to be inferred as a result.\r\n&gt;\r\n&gt;\r\n&gt;###@###.### 2004-05-26\r\n&gt;\r\n&gt;I see the problem. But I do not see how it is different from the problems\r\n&gt;we have with lower bounds on wildcards during inference, e.g.:\r\n&gt;\r\n&gt;List&amp;lt;? super Number&amp;gt; s;  \r\n&gt;boolean b;  \r\n&gt;...  \r\n&gt;s = b ? s : s;\r\n&gt;\r\n&gt;Currently, we infer List&amp;lt;X&amp;gt; where X extends Object as the type of the\r\n&gt;conditional expression, meaning that the assignment is illegal.\r\n&gt;\r\n&gt;###@###.### 2004-05-26 \r\n\r\nSadly, the conversation ends there. The paper to which the (now dead) link used to point is [Inferred Type Instantiation for GJ](http://lampwww.epfl.ch/~odersky/papers/localti02.html). From glancing at the last page, it boils down to: If lower bounds are admitted, type inference may yield multiple solutions, none of which is [principal](https://en.wikipedia.org/wiki/Principal_type).","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>The \"official\" answer to your question can be found in a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8061427\" rel=\"noreferrer\">Sun/Oracle bug report</a>.</p>\n\n<blockquote>\n  <p>BT2:EVALUATION</p>\n  \n  <p>See</p>\n  \n  <p><a href=\"http://lampwww.epfl.ch/~odersky/ftp/local-ti.ps\" rel=\"noreferrer\">http://lampwww.epfl.ch/~odersky/ftp/local-ti.ps</a></p>\n  \n  <p>particularly section 3 and the last paragraph on page 9. Admitting\n  type variables on both sides of subtype constraints can result in a\n  set of type equations with no single best solution; consequently,\n  type inference cannot be done using any of the existing standard\n  algorithms. That is why type variables have only \"extends\" bounds.</p>\n  \n  <p>Wildcards, on the other hand, do not have to be inferred, so there\n  is no need for this constraint.</p>\n  \n  <h3>@###.### 2004-05-25</h3>\n  \n  <p>Yes; the key point is that wildcards, even when captured, are only used\n  as inputs of the inference process; nothing with (only) a lower bound needs\n  to be inferred as a result.</p>\n  \n  <h3>@###.### 2004-05-26</h3>\n  \n  <p>I see the problem. But I do not see how it is different from the problems\n  we have with lower bounds on wildcards during inference, e.g.:</p>\n  \n  <p>List&lt;? super Number&gt; s;<br>\n  boolean b;<br>\n  ...<br>\n  s = b ? s : s;</p>\n  \n  <p>Currently, we infer List&lt;X&gt; where X extends Object as the type of the\n  conditional expression, meaning that the assignment is illegal.</p>\n  \n  <h3>@###.### 2004-05-26</h3>\n</blockquote>\n\n<p>Sadly, the conversation ends there. The paper to which the (now dead) link used to point is <a href=\"http://lampwww.epfl.ch/~odersky/papers/localti02.html\" rel=\"noreferrer\">Inferred Type Instantiation for GJ</a>. From glancing at the last page, it boils down to: If lower bounds are admitted, type inference may yield multiple solutions, none of which is <a href=\"https://en.wikipedia.org/wiki/Principal_type\" rel=\"noreferrer\">principal</a>.</p>\n"},{"comments":[{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":0,"creation_date":1570991545,"post_id":58336010,"comment_id":103083583,"body_markdown":"The accepted answer is wrong. It&#39;s correct that this question is about type bounds and not about variance. But lower type bounds using `T super R` would sometimes be useful, as Rotsors&#39; answer demonstrates, and also the reference to the Guava [`Optional`](https://github.com/google/guava/blob/b72102d427be43b5c092042c9a9e5d972d55510c/guava/src/com/google/common/base/Optional.java#L187) class.","body":"The accepted answer is wrong. It&#39;s correct that this question is about type bounds and not about variance. But lower type bounds using <code>T super R</code> would sometimes be useful, as Rotsors&#39; answer demonstrates, and also the reference to the Guava <a href=\"https://github.com/google/guava/blob/b72102d427be43b5c092042c9a9e5d972d55510c/guava/src/com/google/common/base/Optional.java#L187\" rel=\"nofollow noreferrer\"><code>Optional</code></a> class."}],"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1570777963,"creation_date":1570777963,"answer_id":58336010,"question_id":2800369,"body_markdown":"I really like the accepted answer, but I would like to put a slightly different perspective on it.\r\n\r\n`super` is supported in a typed parameter only to allow **contravariance** capabilities. When it comes to **covariance** and **contravariance** it&#39;s important to understand that Java only supports **use-site variance**. Unlike Kotlin or Scala, which allow **declaration-site variance**. Kotlin documentation explains it very well [here][1]. Or if you&#39;re more into Scala, [here][2]&#39;s one for you.\r\n\r\nIt basically means that in Java, you can not limit the way you&#39;re gonna use your class when you declare it in terms of PECS. The class can both consume and produce, and some of its methods can do it at the same time, like `toArray([])`, by the way.\r\n\r\nNow, the reason `extends` is allowed in classes and methods declarations is because it&#39;s more about **polymorphism** than it is about **variance**. And **polymorphism** is an intrinsic part of Java and OOP in general: *If a method can accept some supertype, a subtype can always safely be passed to it. And if a method, at declaration site as it&#39;s &quot;contract&quot;, should return some supertype, it&#39;s totally fine if it returns a subtype instead in its implementations*  \r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/generics.html\r\n  [2]: https://medium.com/javarevisited/variance-in-java-and-scala-63af925d21dc","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>I really like the accepted answer, but I would like to put a slightly different perspective on it.</p>\n\n<p><code>super</code> is supported in a typed parameter only to allow <strong>contravariance</strong> capabilities. When it comes to <strong>covariance</strong> and <strong>contravariance</strong> it's important to understand that Java only supports <strong>use-site variance</strong>. Unlike Kotlin or Scala, which allow <strong>declaration-site variance</strong>. Kotlin documentation explains it very well <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a>. Or if you're more into Scala, <a href=\"https://medium.com/javarevisited/variance-in-java-and-scala-63af925d21dc\" rel=\"nofollow noreferrer\">here</a>'s one for you.</p>\n\n<p>It basically means that in Java, you can not limit the way you're gonna use your class when you declare it in terms of PECS. The class can both consume and produce, and some of its methods can do it at the same time, like <code>toArray([])</code>, by the way.</p>\n\n<p>Now, the reason <code>extends</code> is allowed in classes and methods declarations is because it's more about <strong>polymorphism</strong> than it is about <strong>variance</strong>. And <strong>polymorphism</strong> is an intrinsic part of Java and OOP in general: <em>If a method can accept some supertype, a subtype can always safely be passed to it. And if a method, at declaration site as it's \"contract\", should return some supertype, it's totally fine if it returns a subtype instead in its implementations</em>  </p>\n"},{"tags":[],"owner":{"account_id":3905101,"reputation":29,"user_id":3232005,"display_name":"asmitB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666033478,"creation_date":1666033478,"answer_id":74102008,"question_id":2800369,"body_markdown":"The only reason is it makes no sense when declaring a type parameter with a super keyword when defining at a class level. \r\nThe only logical type-erasure strategy for Java would have been to fallback to the supertype of all objects, which is the Object class. \r\n\r\nA great example and explanation can be found here:\r\nhttp://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html#Why%20is%20there%20no%20lower%20bound%20for%20type%20parameters?\r\n\r\nA simple example for rules of type-erasure can be found here:\r\nhttps://www.tutorialspoint.com/java_generics/java_generics_type_erasure.htm#:~:text=Type%20erasure%20is%20a%20process,there%20is%20no%20runtime%20overhead.","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>The only reason is it makes no sense when declaring a type parameter with a super keyword when defining at a class level.\nThe only logical type-erasure strategy for Java would have been to fallback to the supertype of all objects, which is the Object class.</p>\n<p>A great example and explanation can be found here:\n<a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html#Why%20is%20there%20no%20lower%20bound%20for%20type%20parameters\" rel=\"nofollow noreferrer\">http://www.angelikalanger.com/GenericsFAQ/FAQSections/TypeParameters.html#Why%20is%20there%20no%20lower%20bound%20for%20type%20parameters</a>?</p>\n<p>A simple example for rules of type-erasure can be found here:\n<a href=\"https://www.tutorialspoint.com/java_generics/java_generics_type_erasure.htm#:%7E:text=Type%20erasure%20is%20a%20process,there%20is%20no%20runtime%20overhead\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/java_generics/java_generics_type_erasure.htm#:~:text=Type%20erasure%20is%20a%20process,there%20is%20no%20runtime%20overhead</a>.</p>\n"}],"owner":{"account_id":614381,"reputation":711,"user_id":336962,"display_name":"mohsenof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17740,"favorite_count":0,"down_vote_count":1,"up_vote_count":71,"accepted_answer_id":2800425,"answer_count":6,"score":70,"last_activity_date":1666033478,"creation_date":1273466934,"question_id":2800369,"body_markdown":"Why can I use `super` only with wildcards and not with type parameters?\r\n\r\nFor example, in the `Collection` interface, why is the `toArray` method not written like this\r\n\r\n    interface Collection&lt;T&gt;{\r\n        &lt;S super T&gt; S[] toArray(S[] a);\r\n    }\r\n","title":"Bounding generics with &#39;super&#39; keyword","body":"<p>Why can I use <code>super</code> only with wildcards and not with type parameters?</p>\n\n<p>For example, in the <code>Collection</code> interface, why is the <code>toArray</code> method not written like this</p>\n\n<pre><code>interface Collection&lt;T&gt;{\n    &lt;S super T&gt; S[] toArray(S[] a);\n}\n</code></pre>\n"},{"tags":["java","jsp","web-applications","payment-gateway","payment"],"answers":[{"comments":[{"owner":{"account_id":91055,"reputation":218194,"user_id":250259,"accept_rate":93,"display_name":"John Conde"},"score":1,"creation_date":1492614701,"post_id":43493058,"comment_id":74053500,"body_markdown":"It got downvoted because it&#39;;s too broad and not a specific programming question","body":"It got downvoted because it&#39;;s too broad and not a specific programming question"},{"owner":{"account_id":8271934,"reputation":285,"user_id":6219373,"accept_rate":35,"display_name":"fobius"},"score":0,"creation_date":1492667456,"post_id":43493058,"comment_id":74076249,"body_markdown":"Thanks haipham.  I think you got the point and answered perfectly, not sure what john is trying to say.  But after reading the answers here it does seem a better option to go with other tools that handle the PCI compliance instead.","body":"Thanks haipham.  I think you got the point and answered perfectly, not sure what john is trying to say.  But after reading the answers here it does seem a better option to go with other tools that handle the PCI compliance instead."}],"tags":[],"owner":{"account_id":4303172,"reputation":456,"user_id":3516360,"accept_rate":56,"display_name":"haipham23"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666033430,"creation_date":1492597686,"answer_id":43493058,"question_id":43492943,"body_markdown":"\r\nThe general answer for this question is **NO**, don&#39;t store anything. Let&#39;s 3rd party payment gateway like Paypal do it for you.\r\n\r\nIt&#39;s not only about security (which you will likely do wrong), it also has to deal with regulations, such as the right to store sensitive data such as credit card.\r\n\r\nAn alternative, very-risky-and-should-be-avoided answer is to store it in browser&#39;s session storage. As for this [answer][1], session storage is reasonably secure. Remember to use HTTPS and have XSS prevention in place. But again, this is not recommended by me.\r\n\r\n\r\n  [1]: https://security.stackexchange.com/questions/36958/is-it-safe-to-store-password-in-html5-sessionstorage","title":"Storing payment info","body":"<p>The general answer for this question is <strong>NO</strong>, don't store anything. Let's 3rd party payment gateway like Paypal do it for you.</p>\n<p>It's not only about security (which you will likely do wrong), it also has to deal with regulations, such as the right to store sensitive data such as credit card.</p>\n<p>An alternative, very-risky-and-should-be-avoided answer is to store it in browser's session storage. As for this <a href=\"https://security.stackexchange.com/questions/36958/is-it-safe-to-store-password-in-html5-sessionstorage\">answer</a>, session storage is reasonably secure. Remember to use HTTPS and have XSS prevention in place. But again, this is not recommended by me.</p>\n"},{"comments":[{"owner":{"account_id":8271934,"reputation":285,"user_id":6219373,"accept_rate":35,"display_name":"fobius"},"score":0,"creation_date":1492667348,"post_id":43494326,"comment_id":74076203,"body_markdown":"Thanks Neville, since we are looking for a way to let customers who have purchase before easily repurchase, we would like to avoid them needing to re enter the payment information every time.  Sounds like too much of a hassle to store the information ourselves","body":"Thanks Neville, since we are looking for a way to let customers who have purchase before easily repurchase, we would like to avoid them needing to re enter the payment information every time.  Sounds like too much of a hassle to store the information ourselves"}],"tags":[],"owner":{"account_id":312557,"reputation":29237,"user_id":626692,"display_name":"Neville Kuyt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492600934,"creation_date":1492600934,"answer_id":43494326,"question_id":43492943,"body_markdown":"Your question is rather wide-ranging, and &quot;best practice&quot; is often another word for personal preference and prejudice.\r\n\r\nHowever...\r\n\r\nIn most countries, to process credit card details requires you to have an arrangement with your bank (often called &quot;cardholder not present&quot;), and the bank will impose fairly strict security requirements on you when you take up that arrangement. In the UK, these requirements are known as &quot;Payment Card Industry Data Security Standard (PCI DSS)&quot;. \r\n\r\nThere are varying options here - a large online store may invest in storing payment details on their infrastructure, but the cost for meeting the required security standards is significant.\r\n\r\nYou can also work through a [payment gateway][1] - an intermediary company which manages the interaction with the banks. They usually have several different integration options - from &quot;Paypal-like&quot; redirects to an API which allows you to collect the credit card data, and pass that through an API to verify payment. Many payment gateways allow you to store the payment details on their infrastructure (which is PCI compliant), and retrieve a token for future payments. \r\n\r\nThe process is something like:\r\n\r\n    customer places first order\r\n    customer enters payment details\r\n    payment gateway verifies payment details\r\n    payment gateway collects payment\r\n    payment gateway stores payment details\r\n    payment gateway sends token to website\r\n    website stores payment token with customer profile\r\n    customer places second order\r\n    website retrieves payment token\r\n    website asks &quot;use previous payment details&quot;\r\n    customer agrees\r\n    website sends token to payment gateway\r\n    payment gateway retrieves payment details\r\n    payment gateway collects payment\r\n    payment gateway tells website payment succeeded\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_online_payment_service_providers\r\n","title":"Storing payment info","body":"<p>Your question is rather wide-ranging, and \"best practice\" is often another word for personal preference and prejudice.</p>\n\n<p>However...</p>\n\n<p>In most countries, to process credit card details requires you to have an arrangement with your bank (often called \"cardholder not present\"), and the bank will impose fairly strict security requirements on you when you take up that arrangement. In the UK, these requirements are known as \"Payment Card Industry Data Security Standard (PCI DSS)\". </p>\n\n<p>There are varying options here - a large online store may invest in storing payment details on their infrastructure, but the cost for meeting the required security standards is significant.</p>\n\n<p>You can also work through a <a href=\"https://en.wikipedia.org/wiki/List_of_online_payment_service_providers\" rel=\"nofollow noreferrer\">payment gateway</a> - an intermediary company which manages the interaction with the banks. They usually have several different integration options - from \"Paypal-like\" redirects to an API which allows you to collect the credit card data, and pass that through an API to verify payment. Many payment gateways allow you to store the payment details on their infrastructure (which is PCI compliant), and retrieve a token for future payments. </p>\n\n<p>The process is something like:</p>\n\n<pre><code>customer places first order\ncustomer enters payment details\npayment gateway verifies payment details\npayment gateway collects payment\npayment gateway stores payment details\npayment gateway sends token to website\nwebsite stores payment token with customer profile\ncustomer places second order\nwebsite retrieves payment token\nwebsite asks \"use previous payment details\"\ncustomer agrees\nwebsite sends token to payment gateway\npayment gateway retrieves payment details\npayment gateway collects payment\npayment gateway tells website payment succeeded\n</code></pre>\n"}],"owner":{"account_id":8271934,"reputation":285,"user_id":6219373,"accept_rate":35,"display_name":"fobius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1666033430,"creation_date":1492597386,"question_id":43492943,"body_markdown":"This is more of a general question regarding the storage and retrieval of payment information for web commerce applications\r\n\r\nOur current approach is to have the user enter their payment details after a redirect on a 3rd party web form, similar to what one might do with PayPal.\r\n\r\nIn order to make it easier for repeat orders, obviously involves storing payment information details, such as credit card numbers, PII information.  \r\n\r\nSince this has serious security implications, I am wondering what the general accepted best practices are.  Is it basically recommended to handle all of this with other tools such as Stripe?  Or have others gone with in-house solution ?\r\n\r\nFor reference, we are working with Java Servlets/JSP.","title":"Storing payment info","body":"<p>This is more of a general question regarding the storage and retrieval of payment information for web commerce applications</p>\n\n<p>Our current approach is to have the user enter their payment details after a redirect on a 3rd party web form, similar to what one might do with PayPal.</p>\n\n<p>In order to make it easier for repeat orders, obviously involves storing payment information details, such as credit card numbers, PII information.  </p>\n\n<p>Since this has serious security implications, I am wondering what the general accepted best practices are.  Is it basically recommended to handle all of this with other tools such as Stripe?  Or have others gone with in-house solution ?</p>\n\n<p>For reference, we are working with Java Servlets/JSP.</p>\n"},{"tags":["java","string","wildcard"],"answers":[{"tags":[],"owner":{"account_id":14909312,"reputation":71,"user_id":10765376,"display_name":"Wireless4024"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666032848,"creation_date":1666032848,"answer_id":74101897,"question_id":74101196,"body_markdown":"First of all you should add method to compute matching level to be use in `*` match\r\n```java\r\nclass Topic {\r\n    private String name;\r\n    public String getName() {return name;}\r\n    public void setName(String name) {this.name = name;}\r\n    // add this method to compute level based on how many dot (.)\r\n    public int level() {return (int) this.name.chars().filter(it -&gt; it == &#39;.&#39;).count();}\r\n}\r\n```\r\n\r\n```java\r\npublic List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\r\n    List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\r\n\r\n    String topicString = topic.getName();\r\n    // if match topic is ends with `#` | eg. `topicString` = `&quot;t1.#&quot;`\r\n    if (topicString.endsWith(&quot;.#&quot;)) {\r\n        // drop `#` char | `topicPrefix` = `&quot;t1.&quot;`\r\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\r\n        for (Topic currentTopic : currentTopics) {\r\n            // check if topic name is start with `topicPrefix` (`&quot;t1.&quot;`)\r\n            // this will match any topic start with &quot;t1.&quot;\r\n            if (currentTopic.getName().startsWith(topicPrefix)) {\r\n                matchingTopics.add(currentTopic);\r\n            }\r\n        }\r\n    } else if (topicString.endsWith(&quot;.*&quot;)) {\r\n        // drop `*` char | `topicPrefix` = `&quot;t1.&quot;`\r\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\r\n        // level is based on dot as previous step `&quot;t1.*&quot;` is `1`\r\n        int topicLevel = topic.level();\r\n        for (Topic currentTopic : currentTopics) {\r\n            // check if topic is start with `topicPrefix` (`&quot;t1.&quot;`)\r\n            if (currentTopic.getName().startsWith(topicPrefix) \r\n                // AND check if topic is at same level\r\n                // `&quot;t1.t2&quot;`    have level 1 = match\r\n                // `&quot;t1.t2.t3&quot;` have level 2 = not match\r\n                &amp;&amp; currentTopic.level() == topicLevel) {\r\n                matchingTopics.add(currentTopic);\r\n            }\r\n        }\r\n    } else {\r\n        // your logic\r\n        for (Topic currentTopic : currentTopics) {\r\n            if (currentTopic.getName().equals(topicString)) {\r\n                matchingTopics.add(currentTopic);\r\n            }\r\n        }\r\n    }\r\n\r\n    return matchingTopics;\r\n}\r\n```","title":"Find matching topics strings with * and # wildcards in java","body":"<p>First of all you should add method to compute matching level to be use in <code>*</code> match</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Topic {\n    private String name;\n    public String getName() {return name;}\n    public void setName(String name) {this.name = name;}\n    // add this method to compute level based on how many dot (.)\n    public int level() {return (int) this.name.chars().filter(it -&gt; it == '.').count();}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\n    List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\n\n    String topicString = topic.getName();\n    // if match topic is ends with `#` | eg. `topicString` = `&quot;t1.#&quot;`\n    if (topicString.endsWith(&quot;.#&quot;)) {\n        // drop `#` char | `topicPrefix` = `&quot;t1.&quot;`\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\n        for (Topic currentTopic : currentTopics) {\n            // check if topic name is start with `topicPrefix` (`&quot;t1.&quot;`)\n            // this will match any topic start with &quot;t1.&quot;\n            if (currentTopic.getName().startsWith(topicPrefix)) {\n                matchingTopics.add(currentTopic);\n            }\n        }\n    } else if (topicString.endsWith(&quot;.*&quot;)) {\n        // drop `*` char | `topicPrefix` = `&quot;t1.&quot;`\n        String topicPrefix = topicString.substring(0, topicString.length() - 1);\n        // level is based on dot as previous step `&quot;t1.*&quot;` is `1`\n        int topicLevel = topic.level();\n        for (Topic currentTopic : currentTopics) {\n            // check if topic is start with `topicPrefix` (`&quot;t1.&quot;`)\n            if (currentTopic.getName().startsWith(topicPrefix) \n                // AND check if topic is at same level\n                // `&quot;t1.t2&quot;`    have level 1 = match\n                // `&quot;t1.t2.t3&quot;` have level 2 = not match\n                &amp;&amp; currentTopic.level() == topicLevel) {\n                matchingTopics.add(currentTopic);\n            }\n        }\n    } else {\n        // your logic\n        for (Topic currentTopic : currentTopics) {\n            if (currentTopic.getName().equals(topicString)) {\n                matchingTopics.add(currentTopic);\n            }\n        }\n    }\n\n    return matchingTopics;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5557464,"reputation":1701,"user_id":4408333,"accept_rate":50,"display_name":"swinkler"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666033376,"creation_date":1666033376,"answer_id":74101999,"question_id":74101196,"body_markdown":"One way to look at this is using regular expressions. Your specification might be translated as follows:\r\n\r\n    t1.* -&gt; t1.t2, t1.t3, t1.t4    \r\n    Regex: (t1\\.)(t[0-9])\r\n    Explanation: Any string (topic name) starting with t1. followed by exactly t and number\r\n\r\n    t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\r\n    Regex: (t1\\.)(t[0-9])(\\.(t[0-9]))?\r\n    Explanation: Any string (topic name) starting with t1., followed by exactly t and number, optionally followed by a dot, a t and a number\r\n\r\nOf course, this is a very simple definition which could be generalised according other matching rules. For your matching requirement it should work as the following test might show:\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.List;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import static java.util.stream.Collectors.toList;\r\n    import static junit.framework.Assert.assertEquals;\r\n    \r\n    public class RegexTest {\r\n    \r\n        final List&lt;String&gt; topicNames = List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;, &quot;t1.t3.t5&quot;, &quot;t1.t4.t6&quot;);\r\n    \r\n        @Test\r\n        void regexForAsteriskSpecification(){\r\n            final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])&quot;);\r\n            java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\r\n            assertEquals(collect, List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;));\r\n        }\r\n    \r\n        @Test\r\n        void regexForHashtagSpecification(){\r\n            final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])(\\\\.(t[0-9]))?&quot;);\r\n            java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\r\n            assertEquals(collect, topicNames);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Find matching topics strings with * and # wildcards in java","body":"<p>One way to look at this is using regular expressions. Your specification might be translated as follows:</p>\n<pre><code>t1.* -&gt; t1.t2, t1.t3, t1.t4    \nRegex: (t1\\.)(t[0-9])\nExplanation: Any string (topic name) starting with t1. followed by exactly t and number\n\nt1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\nRegex: (t1\\.)(t[0-9])(\\.(t[0-9]))?\nExplanation: Any string (topic name) starting with t1., followed by exactly t and number, optionally followed by a dot, a t and a number\n</code></pre>\n<p>Of course, this is a very simple definition which could be generalised according other matching rules. For your matching requirement it should work as the following test might show:</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.util.List;\nimport java.util.regex.Pattern;\n\nimport static java.util.stream.Collectors.toList;\nimport static junit.framework.Assert.assertEquals;\n\npublic class RegexTest {\n\n    final List&lt;String&gt; topicNames = List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;, &quot;t1.t3.t5&quot;, &quot;t1.t4.t6&quot;);\n\n    @Test\n    void regexForAsteriskSpecification(){\n        final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])&quot;);\n        java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\n        assertEquals(collect, List.of(&quot;t1.t2&quot;, &quot;t1.t3&quot;, &quot;t1.t4&quot;));\n    }\n\n    @Test\n    void regexForHashtagSpecification(){\n        final Pattern asteriskPattern = Pattern.compile(&quot;(t1\\\\.)(t[0-9])(\\\\.(t[0-9]))?&quot;);\n        java.util.List&lt;String&gt; collect = topicNames.stream().filter(n -&gt; n.matches(asteriskPattern.pattern())).collect(toList());\n        assertEquals(collect, topicNames);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14829651,"reputation":115,"user_id":10709485,"display_name":"wazowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74101897,"answer_count":2,"score":0,"last_activity_date":1666033376,"creation_date":1666028729,"question_id":74101196,"body_markdown":"I have a topic based publish subscribe service and I&#39;m working on topic matching. The current test tree I have is the following (each line represents a topic) :\r\n\r\n    t1.t2\r\n    t1.t3\r\n    t1.t4\r\n    t1.t3.t5\r\n    t1.t4.t6\r\n\r\nResults should be (when using a wildcard) : \r\n\r\n    t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\r\n    t1.* -&gt; t1.t2, t1.t3, t1.t4\r\n\r\nMy current code : \r\n     \r\n    public List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\r\n        List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\r\n\r\n        String topicString = topic.getName();\r\n\r\n        for (Topic t : currentTopics) {\r\n            String currentTopicString = t.getName();\r\n            if (topicString.equals(currentTopicString)) {\r\n                matchingTopics.add(t);\r\n            } else {\r\n                String[] topicStringSplit = topicString.split(&quot;\\\\.&quot;);\r\n\r\n                String[] currentTopicStringSplit = currentTopicString.split(&quot;\\\\.&quot;);\r\n\r\n                if (topicStringSplit.length == currentTopicStringSplit.length) {\r\n                    boolean match = true;\r\n\r\n                    for (int i = 0; i &lt; topicStringSplit.length; i++) {\r\n\r\n                        if (topicStringSplit[i].equals(&quot;*&quot;)) {\r\n                            continue;\r\n                        }\r\n                        else if (topicStringSplit[i].equals(&quot;#&quot;)) {\r\n                            continue;\r\n                        } else if (!topicStringSplit[i].equals(currentTopicStringSplit[i])) {\r\n                            // not a match\r\n                            match = false;\r\n                            break;\r\n                        }\r\n\r\n                    }\r\n                    if (match) {\r\n                        matchingTopics.add(t);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return matchingTopics;\r\n    }\r\n\r\nThe asterisk wildcard (*) is working, however, I&#39;m having issues with the hashtag (#), hence left the logic the same for both for clarity.\r\n\r\nTest method\r\n\r\n       @Test\r\n    public void testTopicMatch() {\r\n        // t1.t2\r\n        // t1.t3\r\n        // t1.t4\r\n        // t1.t3.t5\r\n        // t1.t4.t6\r\n\r\n        // t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\r\n        // t1.* -&gt; t1.t2, t1.t3, t1.t4\r\n\r\n        List&lt;Topic&gt; topics = new ArrayList&lt;&gt;();\r\n\r\n        Topic t1t2 = new Topic();\r\n        t1t2.setName(&quot;t1.t2&quot;);\r\n        topics.add(t1t2);\r\n\r\n        Topic t1t3 = new Topic();\r\n        t1t3.setName(&quot;t1.t3&quot;);\r\n        topics.add(t1t3);\r\n\r\n        Topic t1t4 = new Topic();\r\n        t1t4.setName(&quot;t1.t4&quot;);\r\n        topics.add(t1t4);\r\n\r\n        Topic t1t3t5 = new Topic();\r\n        t1t3t5.setName(&quot;t1.t3.t5&quot;);\r\n        topics.add(t1t3t5);\r\n\r\n        Topic t1t4t6 = new Topic();\r\n        t1t4t6.setName(&quot;t1.t4.t6&quot;);\r\n        topics.add(t1t4t6);\r\n\r\n        Topic topicHashtag = new Topic();\r\n        topicHashtag.setName(&quot;t1.#&quot;);\r\n        List&lt;Topic&gt; res = getMatchingTopics(topicHashtag, topics);\r\n\r\n        for (Topic topic : res) {\r\n            System.out.println(topic.getName());\r\n        }\r\n\r\n\r\n    }","title":"Find matching topics strings with * and # wildcards in java","body":"<p>I have a topic based publish subscribe service and I'm working on topic matching. The current test tree I have is the following (each line represents a topic) :</p>\n<pre><code>t1.t2\nt1.t3\nt1.t4\nt1.t3.t5\nt1.t4.t6\n</code></pre>\n<p>Results should be (when using a wildcard) :</p>\n<pre><code>t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\nt1.* -&gt; t1.t2, t1.t3, t1.t4\n</code></pre>\n<p>My current code :</p>\n<pre><code>public List&lt;Topic&gt; getMatchingTopics(Topic topic, List&lt;Topic&gt; currentTopics) {\n    List&lt;Topic&gt; matchingTopics = new ArrayList&lt;&gt;();\n\n    String topicString = topic.getName();\n\n    for (Topic t : currentTopics) {\n        String currentTopicString = t.getName();\n        if (topicString.equals(currentTopicString)) {\n            matchingTopics.add(t);\n        } else {\n            String[] topicStringSplit = topicString.split(&quot;\\\\.&quot;);\n\n            String[] currentTopicStringSplit = currentTopicString.split(&quot;\\\\.&quot;);\n\n            if (topicStringSplit.length == currentTopicStringSplit.length) {\n                boolean match = true;\n\n                for (int i = 0; i &lt; topicStringSplit.length; i++) {\n\n                    if (topicStringSplit[i].equals(&quot;*&quot;)) {\n                        continue;\n                    }\n                    else if (topicStringSplit[i].equals(&quot;#&quot;)) {\n                        continue;\n                    } else if (!topicStringSplit[i].equals(currentTopicStringSplit[i])) {\n                        // not a match\n                        match = false;\n                        break;\n                    }\n\n                }\n                if (match) {\n                    matchingTopics.add(t);\n                }\n            }\n        }\n    }\n\n    return matchingTopics;\n}\n</code></pre>\n<p>The asterisk wildcard (*) is working, however, I'm having issues with the hashtag (#), hence left the logic the same for both for clarity.</p>\n<p>Test method</p>\n<pre><code>   @Test\npublic void testTopicMatch() {\n    // t1.t2\n    // t1.t3\n    // t1.t4\n    // t1.t3.t5\n    // t1.t4.t6\n\n    // t1.# -&gt; t1.t2, t1.t3, t1.t4, t1.t3.t5, t1.t4.t6\n    // t1.* -&gt; t1.t2, t1.t3, t1.t4\n\n    List&lt;Topic&gt; topics = new ArrayList&lt;&gt;();\n\n    Topic t1t2 = new Topic();\n    t1t2.setName(&quot;t1.t2&quot;);\n    topics.add(t1t2);\n\n    Topic t1t3 = new Topic();\n    t1t3.setName(&quot;t1.t3&quot;);\n    topics.add(t1t3);\n\n    Topic t1t4 = new Topic();\n    t1t4.setName(&quot;t1.t4&quot;);\n    topics.add(t1t4);\n\n    Topic t1t3t5 = new Topic();\n    t1t3t5.setName(&quot;t1.t3.t5&quot;);\n    topics.add(t1t3t5);\n\n    Topic t1t4t6 = new Topic();\n    t1t4t6.setName(&quot;t1.t4.t6&quot;);\n    topics.add(t1t4t6);\n\n    Topic topicHashtag = new Topic();\n    topicHashtag.setName(&quot;t1.#&quot;);\n    List&lt;Topic&gt; res = getMatchingTopics(topicHashtag, topics);\n\n    for (Topic topic : res) {\n        System.out.println(topic.getName());\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1666010842,"post_id":74097425,"comment_id":130826841,"body_markdown":"Well, to me it seems that your operations are different. Like, you execute different code on both cases. So its not done with a simple `filter (x -&gt; first || second)`. You would also need to remember the state which matched for your action. At which point, using streams isnt really helpful anymore. It would decay to a simple `allInvoices.forEach(invoice -&gt; { if (...) first(); else if (...) second(); }`.","body":"Well, to me it seems that your operations are different. Like, you execute different code on both cases. So its not done with a simple <code>filter (x -&gt; first || second)</code>. You would also need to remember the state which matched for your action. At which point, using streams isnt really helpful anymore. It would decay to a simple <code>allInvoices.forEach(invoice -&gt; { if (...) first(); else if (...) second(); }</code>."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666010790,"creation_date":1666010790,"answer_id":74097529,"question_id":74097425,"body_markdown":"The only obvious way to do it would be:\r\n\r\n```\r\nallInvoices.stream()\r\n    .forEach(invoice -&gt; {\r\n      if (invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED)) {\r\n        submitInvoiceForPayment(invoice);\r\n      }\r\n      if (!invoice.getIsNotified()) {\r\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\r\n      }\r\n    });\r\n```\r\n\r\nwhich is basically just a for loop.\r\n\r\nI&#39;d stick with it as it is, or use a for loop.","title":"Is there any way to Merge these two java-stream operations?","body":"<p>The only obvious way to do it would be:</p>\n<pre><code>allInvoices.stream()\n    .forEach(invoice -&gt; {\n      if (invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED)) {\n        submitInvoiceForPayment(invoice);\n      }\n      if (!invoice.getIsNotified()) {\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\n      }\n    });\n</code></pre>\n<p>which is basically just a for loop.</p>\n<p>I'd stick with it as it is, or use a for loop.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666012085,"creation_date":1666011327,"answer_id":74097647,"question_id":74097425,"body_markdown":"Functional programming features doesn&#39;t buy you anything in this case because your code needs to operate via [*side-effects*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects) (*which might lead to unexpected behavior if someone would modify these streams by making them parallel*), and also because these *side-effects* should be triggered by different conditions.\r\n\r\nI would suggest sticking with a plain `for`-loop:\r\n\r\n```\r\nfor (Invoice invoice : allInvoices) {\r\n    if (!invoice.getIsNotified())\r\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\r\n    if (isIssued(invoice))\r\n        submitInvoiceForPayment(invoice);\r\n}\r\n```\r\n\r\n    public static boolean isIssued(Invoice invoice) {\r\n        return invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED);\r\n    }","title":"Is there any way to Merge these two java-stream operations?","body":"<p>Functional programming features doesn't buy you anything in this case because your code needs to operate via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><em>side-effects</em></a> (<em>which might lead to unexpected behavior if someone would modify these streams by making them parallel</em>), and also because these <em>side-effects</em> should be triggered by different conditions.</p>\n<p>I would suggest sticking with a plain <code>for</code>-loop:</p>\n<pre><code>for (Invoice invoice : allInvoices) {\n    if (!invoice.getIsNotified())\n        sendInvoiceNotification(invoice.getInvoiceDocument(), invoice);\n    if (isIssued(invoice))\n        submitInvoiceForPayment(invoice);\n}\n</code></pre>\n<pre><code>public static boolean isIssued(Invoice invoice) {\n    return invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED);\n}\n</code></pre>\n"}],"owner":{"account_id":11697003,"reputation":99,"user_id":8563402,"display_name":"Dana Amiri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74097647,"answer_count":2,"score":1,"last_activity_date":1666033096,"creation_date":1666010396,"question_id":74097425,"body_markdown":"I have a list of invoices that each can have an `ISSUED` status or `IsNotfied` field that could be `false` or both conditions. I want to know, is there any way that I can do the operations simultaneously and do the operation in only one stream?\r\n\r\n```\r\nallInvoices.stream()\r\n    .filter(invoice -&gt; invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED))\r\n    .forEach(this::submitInvoiceForPayment);\r\n\r\nallInvoices.stream()\r\n    .filter(invoice -&gt; !invoice.getIsNotified())\r\n    .forEach(invoice -&gt; sendInvoiceNotification(invoice.getInvoiceDocument(), invoice));\r\n```","title":"Is there any way to Merge these two java-stream operations?","body":"<p>I have a list of invoices that each can have an <code>ISSUED</code> status or <code>IsNotfied</code> field that could be <code>false</code> or both conditions. I want to know, is there any way that I can do the operations simultaneously and do the operation in only one stream?</p>\n<pre><code>allInvoices.stream()\n    .filter(invoice -&gt; invoice.getCurrentStatus().getStatus().equals(EInvoiceStatus.ISSUED))\n    .forEach(this::submitInvoiceForPayment);\n\nallInvoices.stream()\n    .filter(invoice -&gt; !invoice.getIsNotified())\n    .forEach(invoice -&gt; sendInvoiceNotification(invoice.getInvoiceDocument(), invoice));\n</code></pre>\n"},{"tags":["java","guava","event-bus","event-driven","event-driven-design"],"answers":[{"tags":[],"owner":{"account_id":5847352,"reputation":135,"user_id":7220826,"display_name":"Susurration"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032878,"creation_date":1666032878,"answer_id":74101906,"question_id":72802738,"body_markdown":"From the EventBus Javadocs:\r\n&gt;The EventBus guarantees that it will not call a subscriber method from multiple threads simultaneously, unless the method explicitly allows it by bearing the AllowConcurrentEvents annotation. If this annotation is not present, subscriber methods need not worry about being reentrant, unless also called from outside the EventBus.\r\n\r\nYou should annotate your subscriber method with `@AllowConcurrentEvents`","title":"Guava Async eventbus listeners are triggered sequentially","body":"<p>From the EventBus Javadocs:</p>\n<blockquote>\n<p>The EventBus guarantees that it will not call a subscriber method from multiple threads simultaneously, unless the method explicitly allows it by bearing the AllowConcurrentEvents annotation. If this annotation is not present, subscriber methods need not worry about being reentrant, unless also called from outside the EventBus.</p>\n</blockquote>\n<p>You should annotate your subscriber method with <code>@AllowConcurrentEvents</code></p>\n"}],"owner":{"account_id":6406114,"reputation":49,"user_id":6544607,"accept_rate":100,"display_name":"forcehandler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666032878,"creation_date":1656511377,"question_id":72802738,"body_markdown":"I&#39;m working on a Java application which emits events which should be handled asynchronously, since the event handling is IO dependent and I want it to be decoupled from core logic.\r\n\r\nI&#39;m trying out Guava EventBus for this use case. In order to enable async event handling, I&#39;m using AsyncEventBus with cached thread pool executor. \r\n\r\nWhen multiple events are fired, the event listeners seem to be executed in sequential order, despite running on different threads.\r\n\r\nEvent generator class\r\n\r\n```\r\npublic class MyEventEmitter {\r\n    private static final Logger logger = LogManager.getLogger(MyEventEmitter.class);\r\n    private EventBus eventBus;\r\n    public MyEventEmitter(EventBus eventBus) {\r\n        this.eventBus = eventBus;\r\n    }\r\n    public void emitEvent() {\r\n        logger.info(&quot;[TEST] Emitting event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n        eventBus.post(&quot;String event&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nEvent listener class\r\n```\r\n\r\npublic class EventListener {\r\n\r\n    private static final Logger logger = LogManager.getLogger(EventListener.class);\r\n    private static int eventsHandled;\r\n    private EventBus eventBus;\r\n    public EventListener(EventBus eventBus) {\r\n        this.eventBus = eventBus;\r\n        this.eventBus.register(this);\r\n    }\r\n\r\n    @Subscribe\r\n    public void stringEventDelayed(String event) throws InterruptedException{\r\n        eventsHandled++;\r\n        logger.info(&quot;[TEST] Async Event START &quot; + event);\r\n        Thread.sleep(1000);\r\n        logger.info(&quot;[TEST] Async Event END &quot; + event);\r\n\r\n    }\r\n}\r\n```\r\n\r\nEventBus setup\r\n\r\n```\r\npublic class MainModule extends AbstractModule {\r\n\r\n    @Override\r\n    protected void configure() {\r\n    }\r\n\r\n    @Provides\r\n    public EventListener getEventListener(EventBus eventBus){\r\n        return new EventListener(eventBus);\r\n    }\r\n\r\n    @Singleton\r\n    @Provides\r\n    public EventBus getEventBus(){\r\n        return new AsyncEventBus(Executors.newFixedThreadPool(4));\r\n    }\r\n\r\n    @Provides\r\n    public MyEventEmitter getMyEventEmitter(EventBus eventBus){\r\n        return new MyEventEmitter(eventBus);\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere&#39;s what the output logs look like:\r\n\r\n```\r\n[INFO ] 2022-06-29 19:26:22.333 [main] EventListener - [TEST] EventListener setup\r\n [INFO ] 2022-06-29 19:26:22.345 [main] MyEventEmitter - [TEST] Emitting event\r\n [INFO ] 2022-06-29 19:26:22.346 [pool-2-thread-1] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-1] EventListener - [TEST] Async Event END String event\r\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-4] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:24.353 [pool-2-thread-4] EventListener - [TEST] Async Event END String event\r\n [INFO ] 2022-06-29 19:26:24.359 [pool-2-thread-3] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-3] EventListener - [TEST] Async Event END String event\r\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-2] EventListener - [TEST] Async Event START String event\r\n [INFO ] 2022-06-29 19:26:26.364 [pool-2-thread-2] EventListener - [TEST] Async Event END String event\r\n```\r\n\r\nAs can be seen above, all async listeners seem to be executed one after the other rather than concurrently.\r\n\r\nI&#39;ve tried changing Executor types, tried debugging locally, and tried searching but couldn&#39;t find anything specific to my issue.","title":"Guava Async eventbus listeners are triggered sequentially","body":"<p>I'm working on a Java application which emits events which should be handled asynchronously, since the event handling is IO dependent and I want it to be decoupled from core logic.</p>\n<p>I'm trying out Guava EventBus for this use case. In order to enable async event handling, I'm using AsyncEventBus with cached thread pool executor.</p>\n<p>When multiple events are fired, the event listeners seem to be executed in sequential order, despite running on different threads.</p>\n<p>Event generator class</p>\n<pre><code>public class MyEventEmitter {\n    private static final Logger logger = LogManager.getLogger(MyEventEmitter.class);\n    private EventBus eventBus;\n    public MyEventEmitter(EventBus eventBus) {\n        this.eventBus = eventBus;\n    }\n    public void emitEvent() {\n        logger.info(&quot;[TEST] Emitting event&quot;);\n        eventBus.post(&quot;String event&quot;);\n        eventBus.post(&quot;String event&quot;);\n        eventBus.post(&quot;String event&quot;);\n        eventBus.post(&quot;String event&quot;);\n    }\n}\n\n</code></pre>\n<p>Event listener class</p>\n<pre><code>\npublic class EventListener {\n\n    private static final Logger logger = LogManager.getLogger(EventListener.class);\n    private static int eventsHandled;\n    private EventBus eventBus;\n    public EventListener(EventBus eventBus) {\n        this.eventBus = eventBus;\n        this.eventBus.register(this);\n    }\n\n    @Subscribe\n    public void stringEventDelayed(String event) throws InterruptedException{\n        eventsHandled++;\n        logger.info(&quot;[TEST] Async Event START &quot; + event);\n        Thread.sleep(1000);\n        logger.info(&quot;[TEST] Async Event END &quot; + event);\n\n    }\n}\n</code></pre>\n<p>EventBus setup</p>\n<pre><code>public class MainModule extends AbstractModule {\n\n    @Override\n    protected void configure() {\n    }\n\n    @Provides\n    public EventListener getEventListener(EventBus eventBus){\n        return new EventListener(eventBus);\n    }\n\n    @Singleton\n    @Provides\n    public EventBus getEventBus(){\n        return new AsyncEventBus(Executors.newFixedThreadPool(4));\n    }\n\n    @Provides\n    public MyEventEmitter getMyEventEmitter(EventBus eventBus){\n        return new MyEventEmitter(eventBus);\n    }\n}\n</code></pre>\n<p>Here's what the output logs look like:</p>\n<pre><code>[INFO ] 2022-06-29 19:26:22.333 [main] EventListener - [TEST] EventListener setup\n [INFO ] 2022-06-29 19:26:22.345 [main] MyEventEmitter - [TEST] Emitting event\n [INFO ] 2022-06-29 19:26:22.346 [pool-2-thread-1] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-1] EventListener - [TEST] Async Event END String event\n [INFO ] 2022-06-29 19:26:23.348 [pool-2-thread-4] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:24.353 [pool-2-thread-4] EventListener - [TEST] Async Event END String event\n [INFO ] 2022-06-29 19:26:24.359 [pool-2-thread-3] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-3] EventListener - [TEST] Async Event END String event\n [INFO ] 2022-06-29 19:26:25.361 [pool-2-thread-2] EventListener - [TEST] Async Event START String event\n [INFO ] 2022-06-29 19:26:26.364 [pool-2-thread-2] EventListener - [TEST] Async Event END String event\n</code></pre>\n<p>As can be seen above, all async listeners seem to be executed one after the other rather than concurrently.</p>\n<p>I've tried changing Executor types, tried debugging locally, and tried searching but couldn't find anything specific to my issue.</p>\n"},{"tags":["java","httpclient","settimeout"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032819,"creation_date":1666032819,"answer_id":74101890,"question_id":74101805,"body_markdown":"One thing you can implement for sure is to follow this example: https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientAbortMethod.java\r\n\r\nIt demonstrates how a client can fire a request, but eventually change it&#39;s mind and tell the server it no longer wants to receive the response.\r\nCombine this with a &#39;watchdog&#39; thread that fires after some time/when the time runs out.","title":"how to set a timeout to a java httpClient per request","body":"<p>One thing you can implement for sure is to follow this example: <a href=\"https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientAbortMethod.java\" rel=\"nofollow noreferrer\">https://github.com/apache/httpcomponents-client/blob/5.1.x/httpclient5/src/test/java/org/apache/hc/client5/http/examples/ClientAbortMethod.java</a></p>\n<p>It demonstrates how a client can fire a request, but eventually change it's mind and tell the server it no longer wants to receive the response.\nCombine this with a 'watchdog' thread that fires after some time/when the time runs out.</p>\n"}],"owner":{"account_id":3896512,"reputation":193,"user_id":3225404,"display_name":"lia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666032819,"creation_date":1666032300,"question_id":74101805,"body_markdown":"I use a httpClient of apache in java to call REST APIs which is configured as below in a static block of class, what I want is to change the connection timeout per request. is it possible? how? \r\n\r\n\r\n  \r\n\r\n     static {\r\n        PoolingHttpClientConnectionManager pool = new PoolingHttpClientConnectionManager();\r\n        pool.setMaxTotal(ChatSettings.HTTP_CLIENT_THREAD_POOL_SIZE);\r\n        httpClient = HttpClients\r\n                .custom()\r\n                .setConnectionManager(pool)\r\n                .setDefaultRequestConfig(\r\n                        RequestConfig\r\n                                .custom()\r\n                                .setConnectTimeout(DEFAULT_HTTP_TIMEOUT)\r\n                                .setSocketTimeout(DEFAULT_HTTP_TIMEOUT)\r\n                                .build()\r\n                )\r\n                .build();\r\n    }\r\n\r\n\r\n","title":"how to set a timeout to a java httpClient per request","body":"<p>I use a httpClient of apache in java to call REST APIs which is configured as below in a static block of class, what I want is to change the connection timeout per request. is it possible? how?</p>\n<pre><code> static {\n    PoolingHttpClientConnectionManager pool = new PoolingHttpClientConnectionManager();\n    pool.setMaxTotal(ChatSettings.HTTP_CLIENT_THREAD_POOL_SIZE);\n    httpClient = HttpClients\n            .custom()\n            .setConnectionManager(pool)\n            .setDefaultRequestConfig(\n                    RequestConfig\n                            .custom()\n                            .setConnectTimeout(DEFAULT_HTTP_TIMEOUT)\n                            .setSocketTimeout(DEFAULT_HTTP_TIMEOUT)\n                            .build()\n            )\n            .build();\n}\n</code></pre>\n"},{"tags":["java","swing","jpanel","layout-manager","cardlayout"],"comments":[{"owner":{"account_id":64324,"reputation":76490,"user_id":189950,"accept_rate":79,"display_name":"Kirk Woll"},"score":6,"creation_date":1337649101,"post_id":10694584,"comment_id":13882744,"body_markdown":"I think you&#39;ve done a good job phrasing your question in a constructive way.  I hope it doesn&#39;t get closed.","body":"I think you&#39;ve done a good job phrasing your question in a constructive way.  I hope it doesn&#39;t get closed."},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1337654584,"post_id":10694584,"comment_id":13883643,"body_markdown":"Thanks for that - I deliberately tried to make it a constructive question, and am glad to get some good feedback.","body":"Thanks for that - I deliberately tried to make it a constructive question, and am glad to get some good feedback."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":4,"creation_date":1337655440,"post_id":10694584,"comment_id":13883778,"body_markdown":"*&quot;but I only load and display the panels as they are actually required.&quot;* Lazy instantiation can be used with `CardLayout` as well, and it supports 1000s of panels.","body":"<i>&quot;but I only load and display the panels as they are actually required.&quot;</i> Lazy instantiation can be used with <code>CardLayout</code> as well, and it supports 1000s of panels."},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1337655865,"post_id":10694584,"comment_id":13883845,"body_markdown":"Thanks @AndrewThompson, I wasn&#39;t sure if that was supported with `CardLayout`, so was kinda throwing that in there to get some verification whether it did/didn&#39;t support such an activity.","body":"Thanks @AndrewThompson, I wasn&#39;t sure if that was supported with <code>CardLayout</code>, so was kinda throwing that in there to get some verification whether it did/didn&#39;t support such an activity."},{"owner":{"account_id":446514,"reputation":6209,"user_id":839601,"display_name":"gnat"},"score":1,"creation_date":1354609255,"post_id":10694584,"comment_id":18810468,"body_markdown":"@WATTOStudios Please don&#39;t approve [suggested edits like this](http://stackoverflow.com/review/suggested-edits/827006). If needed, refer to this [meta post](http://meta.stackexchange.com/q/157423/165773) for details.","body":"@WATTOStudios Please don&#39;t approve <a href=\"http://stackoverflow.com/review/suggested-edits/827006\">suggested edits like this</a>. If needed, refer to this <a href=\"http://meta.stackexchange.com/q/157423/165773\">meta post</a> for details."},{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":0,"creation_date":1354618690,"post_id":10694584,"comment_id":18814691,"body_markdown":"Apologies for that, I do remember that post, unfortunately I was reviewing on my mobile and the wrong button was pressed. I know there were a few of these, but am glad it requires multiple people for the final verdict. I really should post on Meta about a mobile-friendly review page, or an undo button.","body":"Apologies for that, I do remember that post, unfortunately I was reviewing on my mobile and the wrong button was pressed. I know there were a few of these, but am glad it requires multiple people for the final verdict. I really should post on Meta about a mobile-friendly review page, or an undo button."}],"answers":[{"comments":[{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":2,"creation_date":1337655441,"post_id":10694622,"comment_id":13883779,"body_markdown":"Thanks for the great response, I had a gut feeling about some of these points, and it presents a number of good cases for using `CardLayout`.","body":"Thanks for the great response, I had a gut feeling about some of these points, and it presents a number of good cases for using <code>CardLayout</code>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":2,"creation_date":1337697688,"post_id":10694622,"comment_id":13897799,"body_markdown":"Related example may be found [here](http://stackoverflow.com/a/5655843/230513) and [here](http://stackoverflow.com/a/6432291/230513).","body":"Related example may be found <a href=\"http://stackoverflow.com/a/5655843/230513\">here</a> and <a href=\"http://stackoverflow.com/a/6432291/230513\">here</a>."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1666032503,"creation_date":1337649388,"answer_id":10694622,"question_id":10694584,"body_markdown":"* With CardLayout, it&#39;s easier to have loose coupling (though not impossible with roll your own)\r\n* With CardLayout, the preferredSize of the card-holder is that of the largest card it holds.\r\n* CardLayout is harder to fark-up, and allows almost trivial contiguous component swapping its `next()` and `prev()` methods.\r\n* You can easily associate the desired component with a constant -- no need to have to create a `Map&lt;String, Component&gt;` for this purpose as it&#39;s already there for you. I&#39;ve not infrequently used enums for this.\r\n* No need to remember to call `repaint()` and `revalidate()` when swapping components.\r\n* It&#39;s built for and allows for easy re-use of components.\r\n","title":"What&#39;s so special about CardLayout vs manual adding/removal of JPanels?","body":"<ul>\n<li>With CardLayout, it's easier to have loose coupling (though not impossible with roll your own)</li>\n<li>With CardLayout, the preferredSize of the card-holder is that of the largest card it holds.</li>\n<li>CardLayout is harder to fark-up, and allows almost trivial contiguous component swapping its <code>next()</code> and <code>prev()</code> methods.</li>\n<li>You can easily associate the desired component with a constant -- no need to have to create a <code>Map&lt;String, Component&gt;</code> for this purpose as it's already there for you. I've not infrequently used enums for this.</li>\n<li>No need to remember to call <code>repaint()</code> and <code>revalidate()</code> when swapping components.</li>\n<li>It's built for and allows for easy re-use of components.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"score":1,"creation_date":1337655700,"post_id":10694640,"comment_id":13883815,"body_markdown":"This raises a few good points too, thanks for your feedback. I can certainly understand that it would help to provide some assurance against failures. In regards to reinventing the wheel, I guess it never occurred to me that `CardLayout` would be suitable for my purposes, and I do a fair amount of tinkering at the low level of Java so it wasn&#39;t really a big leap for me to use the lower-level `add()`/`remove()` options. Thanks for the good points!","body":"This raises a few good points too, thanks for your feedback. I can certainly understand that it would help to provide some assurance against failures. In regards to reinventing the wheel, I guess it never occurred to me that <code>CardLayout</code> would be suitable for my purposes, and I do a fair amount of tinkering at the low level of Java so it wasn&#39;t really a big leap for me to use the lower-level <code>add()</code>/<code>remove()</code> options. Thanks for the good points!"}],"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1337649513,"creation_date":1337649513,"answer_id":10694640,"question_id":10694584,"body_markdown":"`CardLayout` has been thoroughly tested and proven to work. It correctly acquires the [component-tree lock][1] and performs component [validation][2] in order to ensure that nothing can go wrong. Your solution, while it may work most of the time, will fail under certain circumstances.\r\n\r\nThis all boils to reinventing the wheel: Why would you want to when such a time-tested class is already available?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#getTreeLock%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#validate%28%29","title":"What&#39;s so special about CardLayout vs manual adding/removal of JPanels?","body":"<p><code>CardLayout</code> has been thoroughly tested and proven to work. It correctly acquires the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Component.html#getTreeLock%28%29\">component-tree lock</a> and performs component <a href=\"http://docs.oracle.com/javase/7/docs/api/java/awt/Container.html#validate%28%29\">validation</a> in order to ensure that nothing can go wrong. Your solution, while it may work most of the time, will fail under certain circumstances.</p>\n\n<p>This all boils to reinventing the wheel: Why would you want to when such a time-tested class is already available?</p>\n"}],"owner":{"account_id":1323592,"reputation":8676,"user_id":1268895,"accept_rate":80,"display_name":"wattostudios"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1569,"favorite_count":0,"down_vote_count":3,"up_vote_count":18,"accepted_answer_id":10694622,"answer_count":2,"score":15,"last_activity_date":1666032503,"creation_date":1337648773,"question_id":10694584,"body_markdown":"There have been many times on StackOverflow where a user asks a question like this...\r\n\r\n&gt; I have a main `JPanel` that contains a child `JPanel`. When the user clicks a\r\n&gt; button, the child `JPanel` should change to a different `JPanel`. How can I\r\n&gt; achieve this.\r\n\r\n    \r\nMore often than not, the user has actually tried to implement this problem, but can&#39;t get it working.\r\n\r\nWhenever I answer this question, I tell them to do something like this (put simply)...\r\n\r\n    JPanel myFrame = new JPanel();\r\n    myFrame.remove(oldPanel);\r\n    myFrame.add(newPanel);\r\n    \r\nI see this as quite a legitimate answer, and I personally have used this in many of my own Java projects without problem. However, I always get downvotes for my answer, and everyone just says &quot;Use a `CardLayout`&quot;.\r\n\r\nSo my question is, why is everyone so fascinated with `CardLayout`, to the point where my answer deserves a downvote? Why should I choose to use a `CardLayout` rather than adding/removing panels using my code above?\r\n\r\nAs a further question, would you still be suggesting `CardLayout` for interfaces that have dynamic JPanels. For example, most of my programs implement a custom plugin framework where there could be many hundreds of `JPanels`, but I only load and display the panels as they are actually required. For the normal use of the program, most of the panels would never actually be loaded or required. For this type of scenario, would my coding approach be the best solution, as I understand that `CardLayout` would require me to actually create all of the `JPanels` even though most will never be used?","title":"What&#39;s so special about CardLayout vs manual adding/removal of JPanels?","body":"<p>There have been many times on StackOverflow where a user asks a question like this...</p>\n\n<blockquote>\n  <p>I have a main <code>JPanel</code> that contains a child <code>JPanel</code>. When the user clicks a\n  button, the child <code>JPanel</code> should change to a different <code>JPanel</code>. How can I\n  achieve this.</p>\n</blockquote>\n\n<p>More often than not, the user has actually tried to implement this problem, but can't get it working.</p>\n\n<p>Whenever I answer this question, I tell them to do something like this (put simply)...</p>\n\n<pre><code>JPanel myFrame = new JPanel();\nmyFrame.remove(oldPanel);\nmyFrame.add(newPanel);\n</code></pre>\n\n<p>I see this as quite a legitimate answer, and I personally have used this in many of my own Java projects without problem. However, I always get downvotes for my answer, and everyone just says \"Use a <code>CardLayout</code>\".</p>\n\n<p>So my question is, why is everyone so fascinated with <code>CardLayout</code>, to the point where my answer deserves a downvote? Why should I choose to use a <code>CardLayout</code> rather than adding/removing panels using my code above?</p>\n\n<p>As a further question, would you still be suggesting <code>CardLayout</code> for interfaces that have dynamic JPanels. For example, most of my programs implement a custom plugin framework where there could be many hundreds of <code>JPanels</code>, but I only load and display the panels as they are actually required. For the normal use of the program, most of the panels would never actually be loaded or required. For this type of scenario, would my coding approach be the best solution, as I understand that <code>CardLayout</code> would require me to actually create all of the <code>JPanels</code> even though most will never be used?</p>\n"},{"tags":["java","soapui"],"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1490274345,"post_id":42973954,"comment_id":73045739,"body_markdown":"Is that your client side exception? What does the server say ?","body":"Is that your client side exception? What does the server say ?"},{"owner":{"account_id":302770,"reputation":4294,"user_id":611315,"accept_rate":12,"display_name":"ChanGan"},"score":0,"creation_date":1490274635,"post_id":42973954,"comment_id":73045956,"body_markdown":"The same is working fine in browser. but when call from Soapui i am getting the error.","body":"The same is working fine in browser. but when call from Soapui i am getting the error."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1490591775,"post_id":42973954,"comment_id":73161787,"body_markdown":"Please run your client with `-Djavax.net.debug=ssl,handshake` and post the result in your question. If your server is doing client authentication please also supply the relevant client-side settings.","body":"Please run your client with <code>-Djavax.net.debug=ssl,handshake</code> and post the result in your question. If your server is doing client authentication please also supply the relevant client-side settings."}],"answers":[{"comments":[{"owner":{"account_id":7385429,"reputation":318,"user_id":5620600,"display_name":"krzyski"},"score":2,"creation_date":1538551770,"post_id":43063766,"comment_id":92177390,"body_markdown":"Could you please write a bit more detailed answer about &quot;removing protocols in the registry&quot;?","body":"Could you please write a bit more detailed answer about &quot;removing protocols in the registry&quot;?"}],"tags":[],"owner":{"account_id":302770,"reputation":4294,"user_id":611315,"accept_rate":12,"display_name":"ChanGan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1490690465,"creation_date":1490687782,"answer_id":43063766,"question_id":42973954,"body_markdown":"By removing protocols TLS 1.0 in the registry works fine.\r\n\r\nhttps://stackoverflow.com/questions/36265534/invoke-webrequest-ssl-fails \r\nthis post is useful to resolve this issue.\r\n","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>By removing protocols TLS 1.0 in the registry works fine.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/36265534/invoke-webrequest-ssl-fails\">Invoke-WebRequest SSL fails?</a> \nthis post is useful to resolve this issue.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1491199929,"post_id":43176842,"comment_id":73428562,"body_markdown":"He already has a connection he has written to it, and he is reading from it. **Ergo* the firewall isn&#39;t blocking it.","body":"He already has a connection he has written to it, and he is reading from it. <i>*Ergo</i> the firewall isn&#39;t blocking it."}],"tags":[],"owner":{"account_id":6263943,"reputation":249,"user_id":4870257,"display_name":"Sumit Kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1491196019,"creation_date":1491196019,"answer_id":43176842,"question_id":42973954,"body_markdown":"I think you are using company connection and company firewall is blocking the connection.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>I think you are using company connection and company firewall is blocking the connection.</p>\n"},{"comments":[{"owner":{"account_id":3329029,"reputation":6924,"user_id":2798367,"accept_rate":75,"display_name":"ne1410s"},"score":9,"creation_date":1505742876,"post_id":43639216,"comment_id":79525052,"body_markdown":"Thanks - NB: I had to omit the speech marks in the .vmoptions file (Windows), like so: `-Dsoapui.https.protocols=SSLv3,TLSv1.2`","body":"Thanks - NB: I had to omit the speech marks in the .vmoptions file (Windows), like so: <code>-Dsoapui.https.protocols=SSLv3,TLSv1.2</code>"},{"owner":{"account_id":145442,"reputation":4834,"user_id":355257,"accept_rate":100,"display_name":"Gregor Slavec"},"score":0,"creation_date":1520857873,"post_id":43639216,"comment_id":85473661,"body_markdown":"If you are using windows 7 (for example, if you use iisexpress for dev) you have to enable TLSv1.2 protocol. See: https://www.derekseaman.com/2010/06/enable-tls-12-aes-256-and-sha-256-in.html","body":"If you are using windows 7 (for example, if you use iisexpress for dev) you have to enable TLSv1.2 protocol. See: <a href=\"https://www.derekseaman.com/2010/06/enable-tls-12-aes-256-and-sha-256-in.html\" rel=\"nofollow noreferrer\">derekseaman.com/2010/06/&hellip;</a>"},{"owner":{"account_id":2314347,"reputation":887,"user_id":2031714,"accept_rate":50,"display_name":"Yann"},"score":3,"creation_date":1531460485,"post_id":43639216,"comment_id":89612420,"body_markdown":"Option1/Windows worked for me in SoapUI 5.3.0. However, I had to remove the quotes to make it work: -Dsoapui.https.protocols=SSLv3,TLSv1.2","body":"Option1/Windows worked for me in SoapUI 5.3.0. However, I had to remove the quotes to make it work: -Dsoapui.https.protocols=SSLv3,TLSv1.2"},{"owner":{"account_id":3145202,"reputation":116,"user_id":2659800,"display_name":"Jonathon Cowley-Thom"},"score":0,"creation_date":1624621907,"post_id":43639216,"comment_id":120415311,"body_markdown":"Unfortunately neither option worked for me; with or without quotation marks.","body":"Unfortunately neither option worked for me; with or without quotation marks."}],"tags":[],"owner":{"account_id":10773948,"reputation":221,"user_id":7926632,"display_name":"SergiSPN"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1501071352,"creation_date":1493222348,"answer_id":43639216,"question_id":42973954,"body_markdown":"**WINDOWS**\r\n\r\nOption 1:\r\n\r\n1. find the following file on your computer (make sure you have write access to the file): `C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\SoapUI-5.2.1.vmoptions`\r\n\r\n2. Add the following line to the file:\r\n\r\n`-Dsoapui.https.protocols=&quot;SSLv3,TLSv1.2&quot;`\r\n\r\n3. Run SoapUI with the .exe file (`SoapUI-5.2.1.exe`)\r\n\r\nOption 2: (if option 1 does not work for you).\r\n\r\n1. Edit the following batch file on your computer (make sure you have write access to the file): `C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\soapui.bat`\t\r\n2. Add the following line to the file (after: `if &quot;%SOAPUI_HOME%&quot; == &quot;&quot; goto START`):\r\n\r\n`set JAVA_OPTS=%JAVA_OPTS% -Dsoapui.https.protocols=&quot;SSLv3,TLSv1.2&quot;`\r\n\r\n3. Run SoapUI with the batch file (`soapui.bat`)\r\n\r\n\r\n\r\n**MAC (OSX)**\r\n\r\nThe default install location for Mac is in the root Applications folder, and the `vmoptions.txt` file is in there. Right-click the SOAPUI .app file (in the /Applications folder), and choose &quot;Show Package Contents&quot; to get to the internal files.\r\n\r\n    /Applications/SoapUI-X.X.X.app/Contents/vmoptions.txt\r\n \r\nAdd the following line to the `vmoptions.txt` file:\r\n\r\n    -Dsoapui.https.protocols=TLSv1.2\r\n\r\n\r\n**LINUX**\r\n\r\n1. Edit: `bin/SoapUI-5.3.0.vmoptions` in SoapUI directory\r\n\r\n2. Add the following line to the file:\r\n\r\n`-Dsoapui.https.protocols=TLSv1.2`\r\n\r\n\r\n\r\nI hope it helps.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p><strong>WINDOWS</strong></p>\n\n<p>Option 1:</p>\n\n<ol>\n<li><p>find the following file on your computer (make sure you have write access to the file): <code>C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\SoapUI-5.2.1.vmoptions</code></p></li>\n<li><p>Add the following line to the file:</p></li>\n</ol>\n\n<p><code>-Dsoapui.https.protocols=\"SSLv3,TLSv1.2\"</code></p>\n\n<ol start=\"3\">\n<li>Run SoapUI with the .exe file (<code>SoapUI-5.2.1.exe</code>)</li>\n</ol>\n\n<p>Option 2: (if option 1 does not work for you).</p>\n\n<ol>\n<li>Edit the following batch file on your computer (make sure you have write access to the file): <code>C:\\Program Files\\SmartBear\\SoapUI-5.2.1\\bin\\soapui.bat</code>   </li>\n<li>Add the following line to the file (after: <code>if \"%SOAPUI_HOME%\" == \"\" goto START</code>):</li>\n</ol>\n\n<p><code>set JAVA_OPTS=%JAVA_OPTS% -Dsoapui.https.protocols=\"SSLv3,TLSv1.2\"</code></p>\n\n<ol start=\"3\">\n<li>Run SoapUI with the batch file (<code>soapui.bat</code>)</li>\n</ol>\n\n<p><strong>MAC (OSX)</strong></p>\n\n<p>The default install location for Mac is in the root Applications folder, and the <code>vmoptions.txt</code> file is in there. Right-click the SOAPUI .app file (in the /Applications folder), and choose \"Show Package Contents\" to get to the internal files.</p>\n\n<pre><code>/Applications/SoapUI-X.X.X.app/Contents/vmoptions.txt\n</code></pre>\n\n<p>Add the following line to the <code>vmoptions.txt</code> file:</p>\n\n<pre><code>-Dsoapui.https.protocols=TLSv1.2\n</code></pre>\n\n<p><strong>LINUX</strong></p>\n\n<ol>\n<li><p>Edit: <code>bin/SoapUI-5.3.0.vmoptions</code> in SoapUI directory</p></li>\n<li><p>Add the following line to the file:</p></li>\n</ol>\n\n<p><code>-Dsoapui.https.protocols=TLSv1.2</code></p>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":878978,"reputation":969,"user_id":215067,"display_name":"TomEberhard"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1499966979,"creation_date":1499966979,"answer_id":45087405,"question_id":42973954,"body_markdown":"For testing purposes only: If all else fails, you can also just use http instead of https. Just edit the url in the SoapUI window for the request.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>For testing purposes only: If all else fails, you can also just use http instead of https. Just edit the url in the SoapUI window for the request.</p>\n"},{"comments":[{"owner":{"account_id":4937231,"reputation":329,"user_id":3975004,"display_name":"Krzysztof Cieśliński"},"score":0,"creation_date":1528826656,"post_id":46912316,"comment_id":88651449,"body_markdown":"I don&#39;t understand why someone is downvoting this answer but this bug still occurs in new versions. Whole team of our developers had the sam issue. One week ago even my client had the same issue on Mac. Using default java instead of SoapUI java helps. Most likely mentioned issue can have multiple sources but better don&#39;t ignore this one because for me, my colleagues and my clients this solution always helps.","body":"I don&#39;t understand why someone is downvoting this answer but this bug still occurs in new versions. Whole team of our developers had the sam issue. One week ago even my client had the same issue on Mac. Using default java instead of SoapUI java helps. Most likely mentioned issue can have multiple sources but better don&#39;t ignore this one because for me, my colleagues and my clients this solution always helps."},{"owner":{"account_id":2492791,"reputation":929,"user_id":2169940,"accept_rate":46,"display_name":"tok"},"score":1,"creation_date":1573541290,"post_id":46912316,"comment_id":103905031,"body_markdown":"This actually works! Don&#39;t know why, but this was the only solution that worked.","body":"This actually works! Don&#39;t know why, but this was the only solution that worked."},{"owner":{"account_id":954681,"reputation":820,"user_id":980201,"accept_rate":43,"display_name":"Roeland"},"score":0,"creation_date":1607422184,"post_id":46912316,"comment_id":115261004,"body_markdown":"When I rename the folder and restart SOAPUI, I get the message &#39;No JVM could be found on your system...&#39; (SOAPUI 5.4.0)","body":"When I rename the folder and restart SOAPUI, I get the message &#39;No JVM could be found on your system...&#39; (SOAPUI 5.4.0)"},{"owner":{"account_id":4937231,"reputation":329,"user_id":3975004,"display_name":"Krzysztof Cieśliński"},"score":0,"creation_date":1607620277,"post_id":46912316,"comment_id":115336097,"body_markdown":"@Roeland do you have java installed and set java home (system variables path)? It could be related with that.","body":"@Roeland do you have java installed and set java home (system variables path)? It could be related with that."},{"owner":{"account_id":954681,"reputation":820,"user_id":980201,"accept_rate":43,"display_name":"Roeland"},"score":0,"creation_date":1607934048,"post_id":46912316,"comment_id":115417859,"body_markdown":"Hi Krzysztof, I needed to install the 32 bit version instead on64 bit. However, now I still get the Connection Reset message","body":"Hi Krzysztof, I needed to install the 32 bit version instead on64 bit. However, now I still get the Connection Reset message"}],"tags":[],"owner":{"account_id":4937231,"reputation":329,"user_id":3975004,"display_name":"Krzysztof Cieśliński"},"comment_count":5,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1508853015,"creation_date":1508853015,"answer_id":46912316,"question_id":42973954,"body_markdown":"Tried all solutions but nothing worked. It started to work after ignoring jre directory in SoapUI. So if above solutions won&#39;t work for you then try this:\r\n\r\n 1. Close SoapUI\r\n 2. Go to SoapUi directory for example: C:\\Program Files\\SmartBear\\SoapUI-5.3.0\\\r\n 3. Rename directory &quot;jre&quot; to &quot;jre.ignore&quot;\r\n 4. Done. Open SoapUi and it should work now.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>Tried all solutions but nothing worked. It started to work after ignoring jre directory in SoapUI. So if above solutions won't work for you then try this:</p>\n\n<ol>\n<li>Close SoapUI</li>\n<li>Go to SoapUi directory for example: C:\\Program Files\\SmartBear\\SoapUI-5.3.0\\</li>\n<li>Rename directory \"jre\" to \"jre.ignore\"</li>\n<li>Done. Open SoapUi and it should work now.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1041561,"reputation":125,"user_id":1047499,"display_name":"LysanderM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666032172,"creation_date":1665469295,"answer_id":74023761,"question_id":42973954,"body_markdown":"In my case, none of the suggestions above were worked, except for this one. (I&#39;ve added only this line to SoapUI-X.X.X.vmoptions file located in SergiSPN&#39;s answer above)\r\n\r\n    -Djava.net.preferIPv4Stack=true\r\n\r\nThere must have been some sort of restriction for IPv6 in our company&#39;s infrastructure, which I had no idea what it was.","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>In my case, none of the suggestions above were worked, except for this one. (I've added only this line to SoapUI-X.X.X.vmoptions file located in SergiSPN's answer above)</p>\n<pre><code>-Djava.net.preferIPv4Stack=true\n</code></pre>\n<p>There must have been some sort of restriction for IPv6 in our company's infrastructure, which I had no idea what it was.</p>\n"}],"owner":{"account_id":302770,"reputation":4294,"user_id":611315,"accept_rate":12,"display_name":"ChanGan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64477,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":43063766,"answer_count":6,"score":15,"last_activity_date":1666032172,"creation_date":1490266401,"question_id":42973954,"body_markdown":"I am getting ERROR:\r\n&gt;java.net.SocketException: Connection reset. \r\n\r\nI have followed the below link to resolve the issue. But no luck..\r\n\r\n* https://stackoverflow.com/questions/13994164/soapui-certificate-authentication\r\n\r\n* http://geekswithblogs.net/gvdmaaden/archive/2011/02/24/how-to-configure-soapui-with-client-certificate-authentication.aspx\r\n\r\nI have given the error logs below. Can any one look this and let me know how to resolve this issue?\r\n\r\n    Thu Mar 23 16:11:51 IST 2017:ERROR:java.net.SocketException: Connection reset\r\n       java.net.SocketException: Connection reset\r\n       \tat java.net.SocketInputStream.read(Unknown Source)\r\n       \tat java.net.SocketInputStream.read(Unknown Source)\r\n       \tat sun.security.ssl.InputRecord.readFully(Unknown Source)\r\n       \tat sun.security.ssl.InputRecord.read(Unknown Source)\r\n       \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n       \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n       \tat sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\r\n       \tat sun.security.ssl.AppOutputStream.write(Unknown Source)\r\n       \tat org.apache.http.impl.io.AbstractSessionOutputBuffer.flushBuffer(AbstractSessionOutputBuffer.java:131)\r\n       \tat org.apache.http.impl.io.AbstractSessionOutputBuffer.flush(AbstractSessionOutputBuffer.java:138)\r\n       \tat org.apache.http.impl.conn.LoggingSessionOutputBuffer.flush(LoggingSessionOutputBuffer.java:95)\r\n       \tat org.apache.http.impl.AbstractHttpClientConnection.doFlush(AbstractHttpClientConnection.java:270)\r\n       \tat org.apache.http.impl.AbstractHttpClientConnection.flush(AbstractHttpClientConnection.java:275)\r\n       \tat org.apache.http.impl.conn.AbstractClientConnAdapter.flush(AbstractClientConnAdapter.java:197)\r\n       \tat org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:258)\r\n       \tat com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$SoapUIHttpRequestExecutor.doSendRequest(HttpClientSupport.java:113)\r\n       \tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123)\r\n       \tat org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:633)\r\n       \tat org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:454)\r\n       \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\r\n       \tat org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\r\n       \tat com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$Helper.execute(HttpClientSupport.java:247)\r\n       \tat com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport.execute(HttpClientSupport.java:362)\r\n       \tat com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.submitRequest(HttpClientRequestTransport.java:324)\r\n       \tat com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.sendRequest(HttpClientRequestTransport.java:237)\r\n       \tat com.eviware.soapui.impl.wsdl.WsdlSubmit.run(WsdlSubmit.java:127)\r\n       \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n       \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n       \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n       \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n       \tat java.lang.Thread.run(Unknown Source)\r\n\r\n","title":"Soap UI: ERROR:java.net.SocketException: Connection reset","body":"<p>I am getting ERROR:</p>\n\n<blockquote>\n  <p>java.net.SocketException: Connection reset. </p>\n</blockquote>\n\n<p>I have followed the below link to resolve the issue. But no luck..</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/13994164/soapui-certificate-authentication\">SOAPUI Certificate authentication</a></p></li>\n<li><p><a href=\"http://geekswithblogs.net/gvdmaaden/archive/2011/02/24/how-to-configure-soapui-with-client-certificate-authentication.aspx\" rel=\"noreferrer\">http://geekswithblogs.net/gvdmaaden/archive/2011/02/24/how-to-configure-soapui-with-client-certificate-authentication.aspx</a></p></li>\n</ul>\n\n<p>I have given the error logs below. Can any one look this and let me know how to resolve this issue?</p>\n\n<pre><code>Thu Mar 23 16:11:51 IST 2017:ERROR:java.net.SocketException: Connection reset\n   java.net.SocketException: Connection reset\n    at java.net.SocketInputStream.read(Unknown Source)\n    at java.net.SocketInputStream.read(Unknown Source)\n    at sun.security.ssl.InputRecord.readFully(Unknown Source)\n    at sun.security.ssl.InputRecord.read(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.writeRecord(Unknown Source)\n    at sun.security.ssl.AppOutputStream.write(Unknown Source)\n    at org.apache.http.impl.io.AbstractSessionOutputBuffer.flushBuffer(AbstractSessionOutputBuffer.java:131)\n    at org.apache.http.impl.io.AbstractSessionOutputBuffer.flush(AbstractSessionOutputBuffer.java:138)\n    at org.apache.http.impl.conn.LoggingSessionOutputBuffer.flush(LoggingSessionOutputBuffer.java:95)\n    at org.apache.http.impl.AbstractHttpClientConnection.doFlush(AbstractHttpClientConnection.java:270)\n    at org.apache.http.impl.AbstractHttpClientConnection.flush(AbstractHttpClientConnection.java:275)\n    at org.apache.http.impl.conn.AbstractClientConnAdapter.flush(AbstractClientConnAdapter.java:197)\n    at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:258)\n    at com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$SoapUIHttpRequestExecutor.doSendRequest(HttpClientSupport.java:113)\n    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:123)\n    at org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:633)\n    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:454)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:820)\n    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:754)\n    at com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport$Helper.execute(HttpClientSupport.java:247)\n    at com.eviware.soapui.impl.wsdl.support.http.HttpClientSupport.execute(HttpClientSupport.java:362)\n    at com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.submitRequest(HttpClientRequestTransport.java:324)\n    at com.eviware.soapui.impl.wsdl.submit.transports.http.HttpClientRequestTransport.sendRequest(HttpClientRequestTransport.java:237)\n    at com.eviware.soapui.impl.wsdl.WsdlSubmit.run(WsdlSubmit.java:127)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":17859989,"reputation":61,"user_id":12973717,"display_name":"Gary Liao"},"score":0,"creation_date":1666023945,"post_id":74100118,"comment_id":130832068,"body_markdown":"If you have `@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)` , say we have a `private String name;`, you have to set props in .properties file like this `A.B.C.test.name=myName`, isn&#39;t it ?","body":"If you have <code>@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)</code> , say we have a <code>private String name;</code>, you have to set props in .properties file like this <code>A.B.C.test.name=myName</code>, isn&#39;t it ?"},{"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"score":0,"creation_date":1666024026,"post_id":74100118,"comment_id":130832103,"body_markdown":"if you are using a properties file use A.B.C.test = value or if you are using yml file then it should be \nspring:\n   application:\n      name: demoservice","body":"if you are using a properties file use A.B.C.test = value or if you are using yml file then it should be  spring:    application:       name: demoservice"}],"answers":[{"tags":[],"owner":{"account_id":22533675,"reputation":155,"user_id":16725317,"display_name":"Harinatha Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666024202,"creation_date":1666024202,"answer_id":74100384,"question_id":74100118,"body_markdown":"if you are using a properties file use \r\n```\r\nA.B.C.test = value \r\n```\r\nor if you are using yml file then it should be \r\n```\r\nA:\r\n B:\r\n  C: \r\n   test: value\r\n```","title":"Spring boot application properties override","body":"<p>if you are using a properties file use</p>\n<pre><code>A.B.C.test = value \n</code></pre>\n<p>or if you are using yml file then it should be</p>\n<pre><code>A:\n B:\n  C: \n   test: value\n</code></pre>\n"}],"owner":{"account_id":7322626,"reputation":2000,"user_id":5974780,"display_name":"Nesan Mano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666032114,"creation_date":1666022838,"question_id":74100118,"body_markdown":"I have a problem with my application properties&#39; file.\r\n\r\nI have some property defined in application.properties\r\nlike below\r\n```yml\r\nA:\r\n B:\r\n  C:\r\n   test: lala\r\n```\r\nI have some properties defined in application-local.properties\r\n```yml\r\nA:\r\n processor: juju\r\n```\r\nLet&#39;s assume I run the application using the local profile.\r\nThe problem is that in my ConfigurationProperties, the property A.B.C.test is null\r\n```java\r\n@Data\r\n@Validated\r\n@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)\r\n```","title":"Spring boot application properties override","body":"<p>I have a problem with my application properties' file.</p>\n<p>I have some property defined in application.properties\nlike below</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>A:\n B:\n  C:\n   test: lala\n</code></pre>\n<p>I have some properties defined in application-local.properties</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>A:\n processor: juju\n</code></pre>\n<p>Let's assume I run the application using the local profile.\nThe problem is that in my ConfigurationProperties, the property A.B.C.test is null</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Validated\n@ConfigurationProperties(prefix = &quot;A.B.C.test&quot;)\n</code></pre>\n"},{"tags":["java","swing","jpanel","layout-manager"],"comments":[{"owner":{"account_id":8341637,"reputation":665,"user_id":6266782,"accept_rate":100,"display_name":"J&#233;r&#232;m Le Blond"},"score":3,"creation_date":1466514855,"post_id":37945424,"comment_id":63339399,"body_markdown":"If I understood what you explained, you can use a GridBagLayout","body":"If I understood what you explained, you can use a GridBagLayout"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1466514966,"post_id":37945424,"comment_id":63339494,"body_markdown":"1) For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) Provide ASCII art or a simple drawing of the *intended* layout of the GUI at minimum size, and if resizable, with more width and height.","body":"1) For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) Provide ASCII art or a simple drawing of the <i>intended</i> layout of the GUI at minimum size, and if resizable, with more width and height."},{"owner":{"account_id":8015557,"reputation":86,"user_id":6078437,"accept_rate":83,"display_name":"scarecrow-"},"score":0,"creation_date":1466515047,"post_id":37945424,"comment_id":63339553,"body_markdown":"you can use netbeans drag and drop gui creator.","body":"you can use netbeans drag and drop gui creator."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1466515367,"post_id":37945424,"comment_id":63339817,"body_markdown":"@scarecrow- The problem with that approach is that unless a programmer knows how to code it by hand, using a GUI designer will produce a poor (&amp; fragile) GUI. Please refrain from giving layout advice until you have more experience at creating cross-platform GUIs.","body":"@scarecrow- The problem with that approach is that unless a programmer knows how to code it by hand, using a GUI designer will produce a poor (&amp; fragile) GUI. Please refrain from giving layout advice until you have more experience at creating cross-platform GUIs."}],"answers":[{"tags":[],"owner":{"account_id":1452062,"reputation":2999,"user_id":1368690,"accept_rate":98,"display_name":"hamena314"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1466516777,"creation_date":1466516777,"answer_id":37946243,"question_id":37945424,"body_markdown":"You could use `MigLayout` as your only LayoutManager. It&#39;s pretty mighty and usually offers everything that the other managers do too. \r\n\r\nWith this it&#39;s pretty simple to center the components:\r\n\r\n\tpublic class MultiplyExample extends JFrame{\r\n\t\tprivate static final long serialVersionUID = 1L;\r\n\t\t\r\n\t\tJLabel testLabel = new JLabel(&quot;2*2 = 4&quot;); \r\n\t\tpublic MultiplyExample(){\r\n\t\t\tsuper(&quot;Example&quot;);\r\n\t\t\tsetBounds(300, 50, 200, 200);\r\n            // Set the MigLayout, so that columns and then rows get centered\r\n\t\t\tsetLayout(new MigLayout(&quot;center, center&quot;));\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tadd(testLabel);\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tJFrame testFrame = new MultiplyExample();\r\n\t\t\ttestFrame.setVisible(true);\r\n\t\t}\r\n\t}\r\n\r\nResult:\r\n\r\n[![Centered Example][1]][1]\r\n\r\nHere is a demo what the `MigLayout` has to offer:\r\n\r\nhttp://www.miglayout.com/swingdemoapp.jnlp\r\n\r\nHere is a quickstart-guide:\r\n\r\nhttp://www.miglayout.com/QuickStart.pdf\r\n\r\nIf you **have** to use `BorderLayout`, you could put your components onto another panel and put this one into the center by using `BorderLayout.CENTER`:\r\n\r\n    pane.add(button, BorderLayout.CENTER);\r\n\r\n  [1]: http://i.stack.imgur.com/Z4pjk.png","title":"Is there a way of moving JPanel in BorderLayout?","body":"<p>You could use <code>MigLayout</code> as your only LayoutManager. It's pretty mighty and usually offers everything that the other managers do too. </p>\n\n<p>With this it's pretty simple to center the components:</p>\n\n<pre><code>public class MultiplyExample extends JFrame{\n    private static final long serialVersionUID = 1L;\n\n    JLabel testLabel = new JLabel(\"2*2 = 4\"); \n    public MultiplyExample(){\n        super(\"Example\");\n        setBounds(300, 50, 200, 200);\n        // Set the MigLayout, so that columns and then rows get centered\n        setLayout(new MigLayout(\"center, center\"));\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        add(testLabel);\n    }\n\n    public static void main(String[] args) {\n        JFrame testFrame = new MultiplyExample();\n        testFrame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Z4pjk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4pjk.png\" alt=\"Centered Example\"></a></p>\n\n<p>Here is a demo what the <code>MigLayout</code> has to offer:</p>\n\n<p><a href=\"http://www.miglayout.com/swingdemoapp.jnlp\" rel=\"nofollow noreferrer\">http://www.miglayout.com/swingdemoapp.jnlp</a></p>\n\n<p>Here is a quickstart-guide:</p>\n\n<p><a href=\"http://www.miglayout.com/QuickStart.pdf\" rel=\"nofollow noreferrer\">http://www.miglayout.com/QuickStart.pdf</a></p>\n\n<p>If you <strong>have</strong> to use <code>BorderLayout</code>, you could put your components onto another panel and put this one into the center by using <code>BorderLayout.CENTER</code>:</p>\n\n<pre><code>pane.add(button, BorderLayout.CENTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666031747,"creation_date":1466520094,"answer_id":37947531,"question_id":37945424,"body_markdown":"&gt; My objective is to push the &quot;2*1&quot; a little bit down, to sort of &quot;center&quot; it.\r\n\r\nIf you just want more space at the top then you can use a `Border`:\r\n\r\n   operacao.setBorder( new EmptyBorder(...) );\r\n\r\nRead the section from the Swing tutorial on [How to Use Borders](http://docs.oracle.com/javase/tutorial/uiswing/components/border.html) for more information. \r\n\r\nIf you want to actually center it you can use a `BoxLayout`:\r\n\r\n    Box box = Box.createVerticalBox();\r\n    box.add( Box.createVerticalGlue() );\r\n    box.add( topPanel );\r\n    box.add( Box.createVerticalGlue() );\r\n    box.add( bottomPanel );\r\n\r\nThe tutorial also has a section on `How to Use BoxLayout`. Search the table of contents.","title":"Is there a way of moving JPanel in BorderLayout?","body":"<blockquote>\n<p>My objective is to push the &quot;2*1&quot; a little bit down, to sort of &quot;center&quot; it.</p>\n</blockquote>\n<p>If you just want more space at the top then you can use a <code>Border</code>:</p>\n<p>operacao.setBorder( new EmptyBorder(...) );</p>\n<p>Read the section from the Swing tutorial on <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/border.html\" rel=\"nofollow noreferrer\">How to Use Borders</a> for more information.</p>\n<p>If you want to actually center it you can use a <code>BoxLayout</code>:</p>\n<pre><code>Box box = Box.createVerticalBox();\nbox.add( Box.createVerticalGlue() );\nbox.add( topPanel );\nbox.add( Box.createVerticalGlue() );\nbox.add( bottomPanel );\n</code></pre>\n<p>The tutorial also has a section on <code>How to Use BoxLayout</code>. Search the table of contents.</p>\n"}],"owner":{"display_name":"user6361676"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":664,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37947531,"answer_count":2,"score":1,"last_activity_date":1666031747,"creation_date":1466514660,"question_id":37945424,"body_markdown":"I am using a `BorderLayout` for the frame (the first one that &quot;caught&quot; my attention in the tuts) and a `FlowLayout` for the labels (the one I found appropriate for what I do), and the result shows up like this: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nMy objective is to push the &quot;2*1&quot; a little bit down, to sort of &quot;center&quot; it.\r\n\r\nI looked around and found a lot of people saying to use a null layout, but then saying it&#39;s not the best alternative (even though my window is not resizable), and the other solution I found was using a combo of layouts (unless I misunderstood). \r\n\r\nThe question is the one on top of this, plus if not, what really is the best alternative? (The following is the code that makes this window (minus the vars and other methods, to simplify visualization).\r\n\r\n    public Frame() {\r\n\t\tsuper(&quot;Jogo de Multiplicar!&quot;);\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetLayout(new BorderLayout());\r\n\t\tsetSize(300, 200);\r\n\t\tsetResizable(false);\r\n\t\tgetContentPane().setBackground(pink);\r\n\t\t\t\t\r\n\t\tmensagem = new TransparentPanel();\r\n\t\toperacao = new TransparentPanel();\t\r\n\r\n        //added stuff in mensagem and operacao\r\n\r\n\t\tadd(operacao);\r\n\t\tadd(mensagem, BorderLayout.SOUTH);\r\n\t}\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/a5bSD.png","title":"Is there a way of moving JPanel in BorderLayout?","body":"<p>I am using a <code>BorderLayout</code> for the frame (the first one that \"caught\" my attention in the tuts) and a <code>FlowLayout</code> for the labels (the one I found appropriate for what I do), and the result shows up like this: </p>\n\n<p><a href=\"https://i.stack.imgur.com/a5bSD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a5bSD.png\" alt=\"enter image description here\"></a></p>\n\n<p>My objective is to push the \"2*1\" a little bit down, to sort of \"center\" it.</p>\n\n<p>I looked around and found a lot of people saying to use a null layout, but then saying it's not the best alternative (even though my window is not resizable), and the other solution I found was using a combo of layouts (unless I misunderstood). </p>\n\n<p>The question is the one on top of this, plus if not, what really is the best alternative? (The following is the code that makes this window (minus the vars and other methods, to simplify visualization).</p>\n\n<pre><code>public Frame() {\n    super(\"Jogo de Multiplicar!\");\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setLayout(new BorderLayout());\n    setSize(300, 200);\n    setResizable(false);\n    getContentPane().setBackground(pink);\n\n    mensagem = new TransparentPanel();\n    operacao = new TransparentPanel();  \n\n    //added stuff in mensagem and operacao\n\n    add(operacao);\n    add(mensagem, BorderLayout.SOUTH);\n}\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"score":0,"creation_date":1666020951,"post_id":73985240,"comment_id":130830819,"body_markdown":"It would be helpful to have a stack trace showing the actual errors. Also, why is the `userType` field in the `User` class designated as a `@JoinTable`?","body":"It would be helpful to have a stack trace showing the actual errors. Also, why is the <code>userType</code> field in the <code>User</code> class designated as a <code>@JoinTable</code>?"}],"answers":[{"comments":[{"owner":{"account_id":390125,"reputation":4499,"user_id":749979,"accept_rate":100,"display_name":"GSUgambit"},"score":1,"creation_date":1666592488,"post_id":74101657,"comment_id":130964936,"body_markdown":"I will test this today and let you know. Thanks!","body":"I will test this today and let you know. Thanks!"}],"tags":[],"owner":{"account_id":215690,"reputation":1398,"user_id":470477,"display_name":"Bill Horvath"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666031555,"creation_date":1666031555,"answer_id":74101657,"question_id":73985240,"body_markdown":"The dark brown section of the spreadsheet is confusing, because it suggests there&#39;s a CompanyUser table that you haven&#39;t mentioned elsewhere. Is that an issue?\r\n\r\nRegardless, it&#39;s a shame you can&#39;t adjust the schema, because this design has a lot of flaws. However, it should still be possible to use it. I&#39;m a little stale on Java and Spring/Boot, and I don&#39;t have a useful way to test them easily, but you may have better luck with these:\r\n    \r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    class User {\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private UUID id;\r\n\r\n        @Column(name=&quot;email&quot;)\r\n        private String email;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_type&quot;, table=&quot;user_type&quot;, referencedColumnName = &quot;name&quot;)\r\n        private UserType userType;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_type&quot;)\r\n    class UserType {\r\n        @Id\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_role&quot;)\r\n    class UserRole {\r\n        @Id\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;company&quot;)\r\n    class Company{\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private UUID id;\r\n\r\n        @Column(name=&quot;name&quot;)\r\n        private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_company_access&quot;, uniqueConstraints = {\r\n            @UniqueConstraint(columnNames = { &quot;user_id&quot;, &quot;company_id&quot; })\r\n    })\r\n    class UserCompanyAccess {\r\n\r\n        @Id\r\n        @Column(name=&quot;id&quot;)\r\n        private UUID id;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;role&quot;, table=&quot;user_role&quot;, referencedColumnName = &quot;name&quot;)\r\n        private UserRole userRole;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;user_id&quot;, table=&quot;user&quot;, referencedColumnName = &quot;id&quot;)\r\n        private User user;\r\n\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;company_id&quot;, table=&quot;company&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Company company;\r\n    }\r\n\r\nExplanation: The user_company_access table is where everything ultimately gets tied together. It&#39;s designed such that any particular combination of user and company to be unique, and @UniqueConstraint enables that in the code; you don&#39;t really need an embeddable object for that. ","title":"Spring Data JPA XRef With PK Object Mapping","body":"<p>The dark brown section of the spreadsheet is confusing, because it suggests there's a CompanyUser table that you haven't mentioned elsewhere. Is that an issue?</p>\n<p>Regardless, it's a shame you can't adjust the schema, because this design has a lot of flaws. However, it should still be possible to use it. I'm a little stale on Java and Spring/Boot, and I don't have a useful way to test them easily, but you may have better luck with these:</p>\n<pre><code>@Entity\n@Table(name=&quot;user&quot;)\nclass User {\n    @Id\n    @Column(name=&quot;id&quot;)\n    private UUID id;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_type&quot;, table=&quot;user_type&quot;, referencedColumnName = &quot;name&quot;)\n    private UserType userType;\n}\n\n\n@Entity\n@Table(name=&quot;user_type&quot;)\nclass UserType {\n    @Id\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n\n@Entity\n@Table(name=&quot;user_role&quot;)\nclass UserRole {\n    @Id\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n\n@Entity\n@Table(name=&quot;company&quot;)\nclass Company{\n    @Id\n    @Column(name=&quot;id&quot;)\n    private UUID id;\n\n    @Column(name=&quot;name&quot;)\n    private String name;\n}\n\n@Entity\n@Table(name=&quot;user_company_access&quot;, uniqueConstraints = {\n        @UniqueConstraint(columnNames = { &quot;user_id&quot;, &quot;company_id&quot; })\n})\nclass UserCompanyAccess {\n\n    @Id\n    @Column(name=&quot;id&quot;)\n    private UUID id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;role&quot;, table=&quot;user_role&quot;, referencedColumnName = &quot;name&quot;)\n    private UserRole userRole;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, table=&quot;user&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;company_id&quot;, table=&quot;company&quot;, referencedColumnName = &quot;id&quot;)\n    private Company company;\n}\n</code></pre>\n<p>Explanation: The user_company_access table is where everything ultimately gets tied together. It's designed such that any particular combination of user and company to be unique, and @UniqueConstraint enables that in the code; you don't really need an embeddable object for that.</p>\n"}],"owner":{"account_id":390125,"reputation":4499,"user_id":749979,"accept_rate":100,"display_name":"GSUgambit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74101657,"answer_count":1,"score":0,"last_activity_date":1666031555,"creation_date":1665135580,"question_id":73985240,"body_markdown":"I&#39;m having a hard time getting Spring Data to persist the values into an XREF Table. I&#39;m attempting to talk to an existing DB so i cannot change the schema which would have made this easier.\r\n\r\n\r\n[![Here is shortened schema][1]][1]\r\n\r\nClasses\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_type&quot;)\r\n    class UserType {\r\n       @Id\r\n       @Column(name=&quot;name&quot;)\r\n       private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user_role&quot;)\r\n    class UserRole {\r\n       @Id\r\n       @Column(name=&quot;name&quot;)\r\n       private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;company&quot;)\r\n    class Company{\r\n       @Id\r\n       @Column(name=&quot;id&quot;)\r\n       private UUID id;\r\n    \r\n       @Column(name=&quot;name&quot;)\r\n       private String name;\r\n    }\r\n\r\n    @Entity\r\n    @Table(name=&quot;user&quot;)\r\n    class User {\r\n       @Id\r\n       @Column(name=&quot;id&quot;)\r\n       private UUID id;\r\n    \r\n       @Column(name=&quot;email&quot;)\r\n       private String email;\r\n\r\n       @ManyToOne\r\n       @JoinTable\r\n       private UserType userType;\r\n\r\n       //not sure what to do here or which JoinTable/ManyToOne/Etc\r\n       private UserCompanyAccess userCompanyAccess;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;user_company_access&quot;)\r\n    class UserCompanyAccess {\r\n    \r\n        @EmbeddedId\r\n        private UserCompanyAccessId userCompanyAccessId;\r\n\r\n        // not sure of relationships here either\r\n        private User user;\r\n        private Company company;\r\n        private UserRole userRole;\r\n        \r\n        @Embeddable\r\n        static class UserAccessCompanyId implements Serializable {\r\n            @Column(name=&quot;id&quot;)\r\n            private UUID id;\r\n        } \r\n    }\r\n\r\nI have tried many different combinations of @JoinColumns specifying the user(id) and userAccessCompany(user_id) as well with company. The code compiles but at runtime hibernate either throws an error saying company_id not provided or other random exceptions regarding trying to compare uuid to character varying etc which was really weird. Any help would be appreciated. I have done many @OneToMany/@ManyToOne/@ManyToMany but somehow never through spring data with an XREF table where the PK is not a composite of the 2 joining tables. That&#39;s what is throwing me off. Otherwise the @EmbeddedId would be the combination of the two.\r\n\r\n  [1]: https://i.stack.imgur.com/FT0gk.png","title":"Spring Data JPA XRef With PK Object Mapping","body":"<p>I'm having a hard time getting Spring Data to persist the values into an XREF Table. I'm attempting to talk to an existing DB so i cannot change the schema which would have made this easier.</p>\n<p><a href=\"https://i.stack.imgur.com/FT0gk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FT0gk.png\" alt=\"Here is shortened schema\" /></a></p>\n<p>Classes</p>\n<pre><code>@Entity\n@Table(name=&quot;user_type&quot;)\nclass UserType {\n   @Id\n   @Column(name=&quot;name&quot;)\n   private String name;\n}\n\n@Entity\n@Table(name=&quot;user_role&quot;)\nclass UserRole {\n   @Id\n   @Column(name=&quot;name&quot;)\n   private String name;\n}\n\n@Entity\n@Table(name=&quot;company&quot;)\nclass Company{\n   @Id\n   @Column(name=&quot;id&quot;)\n   private UUID id;\n\n   @Column(name=&quot;name&quot;)\n   private String name;\n}\n\n@Entity\n@Table(name=&quot;user&quot;)\nclass User {\n   @Id\n   @Column(name=&quot;id&quot;)\n   private UUID id;\n\n   @Column(name=&quot;email&quot;)\n   private String email;\n\n   @ManyToOne\n   @JoinTable\n   private UserType userType;\n\n   //not sure what to do here or which JoinTable/ManyToOne/Etc\n   private UserCompanyAccess userCompanyAccess;\n}\n\n@Entity\n@Table(name=&quot;user_company_access&quot;)\nclass UserCompanyAccess {\n\n    @EmbeddedId\n    private UserCompanyAccessId userCompanyAccessId;\n\n    // not sure of relationships here either\n    private User user;\n    private Company company;\n    private UserRole userRole;\n    \n    @Embeddable\n    static class UserAccessCompanyId implements Serializable {\n        @Column(name=&quot;id&quot;)\n        private UUID id;\n    } \n}\n</code></pre>\n<p>I have tried many different combinations of @JoinColumns specifying the user(id) and userAccessCompany(user_id) as well with company. The code compiles but at runtime hibernate either throws an error saying company_id not provided or other random exceptions regarding trying to compare uuid to character varying etc which was really weird. Any help would be appreciated. I have done many @OneToMany/@ManyToOne/@ManyToMany but somehow never through spring data with an XREF table where the PK is not a composite of the 2 joining tables. That's what is throwing me off. Otherwise the @EmbeddedId would be the combination of the two.</p>\n"},{"tags":["java","list","interface"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666029039,"post_id":74100934,"comment_id":130833676,"body_markdown":"List&lt;WordFrequency&gt; list = new ArrayList&lt;&gt;();","body":"List&lt;WordFrequency&gt; list = new ArrayList&lt;&gt;();"},{"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"score":0,"creation_date":1666029334,"post_id":74100934,"comment_id":130833770,"body_markdown":"I did that, but how do I add elements to this list? the interface does not have data members in it. @ChengThao","body":"I did that, but how do I add elements to this list? the interface does not have data members in it. @ChengThao"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666029664,"post_id":74100934,"comment_id":130833892,"body_markdown":"The interface will be implemented by a subclass (as written in your question). When you implement an interface, you will inherit the _methods_ defined within the interface. From there, it&#39;s the subclass&#39;s job to keep track of data members.","body":"The interface will be implemented by a subclass (as written in your question). When you implement an interface, you will inherit the <i>methods</i> defined within the interface. From there, it&#39;s the subclass&#39;s job to keep track of data members."},{"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"score":0,"creation_date":1666030124,"post_id":74100934,"comment_id":130834045,"body_markdown":"@Rogue I thought so too, but the question states that the return type of the list would be List&lt;WordFrequency&gt; which is the interface. I created a list of this type but I am not able to add anything to it since it expects object of WordFrequency which can&#39;t be created? So how do I add elements to this list?","body":"@Rogue I thought so too, but the question states that the return type of the list would be List&lt;WordFrequency&gt; which is the interface. I created a list of this type but I am not able to add anything to it since it expects object of WordFrequency which can&#39;t be created? So how do I add elements to this list?"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666030172,"post_id":74100934,"comment_id":130834053,"body_markdown":"@redmelon7896 you need to provide an implementation of WordFrequency.  You could pass the information through the constructor, or through set methods.  You then create objects of this implementation and add to the list.","body":"@redmelon7896 you need to provide an implementation of WordFrequency.  You could pass the information through the constructor, or through set methods.  You then create objects of this implementation and add to the list."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666030777,"post_id":74100934,"comment_id":130834231,"body_markdown":"You can do `WordFrequency freq = new ConcreteWordFrequency(...);` just like you can do `List&lt;A&gt; list = new ArrayList&lt;&gt;();`. Being a subtype does not forgo being the interface you implement.","body":"You can do <code>WordFrequency freq = new ConcreteWordFrequency(...);</code> just like you can do <code>List&lt;A&gt; list = new ArrayList&lt;&gt;();</code>. Being a subtype does not forgo being the interface you implement."},{"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"score":0,"creation_date":1666030991,"post_id":74100934,"comment_id":130834297,"body_markdown":"@Rogue why didn&#39;t I think of this lol. Would&#39;ve been so straightforward like that. Thanks for clearing it up!","body":"@Rogue why didn&#39;t I think of this lol. Would&#39;ve been so straightforward like that. Thanks for clearing it up!"}],"answers":[{"tags":[],"owner":{"account_id":26495067,"reputation":34,"user_id":20132955,"display_name":"OCEAN OESTREICHER"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666030420,"creation_date":1666030420,"answer_id":74101461,"question_id":74100934,"body_markdown":"Simply, you must have an concrete object that implements the interface. Then you can add that object to your list because it will now be a WordFrequency object in addition to whatever object it is by default. You will also need an object that implements the WordFrequencyAnalyzer interface as well. \r\n\r\nThe interface is a contract which guarantees that any object implementing the interface will have certain behaviors. It abstracts the implementation away and allows objects to be more polymorphic.\r\n\r\nThis is a good resources on interfaces\r\n\r\nhttps://www.geeksforgeeks.org/interfaces-in-java/","title":"Return List of Interface in Java","body":"<p>Simply, you must have an concrete object that implements the interface. Then you can add that object to your list because it will now be a WordFrequency object in addition to whatever object it is by default. You will also need an object that implements the WordFrequencyAnalyzer interface as well.</p>\n<p>The interface is a contract which guarantees that any object implementing the interface will have certain behaviors. It abstracts the implementation away and allows objects to be more polymorphic.</p>\n<p>This is a good resources on interfaces</p>\n<p><a href=\"https://www.geeksforgeeks.org/interfaces-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/interfaces-in-java/</a></p>\n"},{"comments":[{"owner":{"account_id":3305539,"reputation":4664,"user_id":2780480,"display_name":"Jagrut Sharma"},"score":0,"creation_date":1666031113,"post_id":74101491,"comment_id":130834336,"body_markdown":"Awesome, glad to help. While you are on this journey of OOPS, check out `SOLID principles` that will help you structure your code better for long term maintainability","body":"Awesome, glad to help. While you are on this journey of OOPS, check out <code>SOLID principles</code> that will help you structure your code better for long term maintainability"},{"owner":{"account_id":3305539,"reputation":4664,"user_id":2780480,"display_name":"Jagrut Sharma"},"score":0,"creation_date":1666031414,"post_id":74101491,"comment_id":130834425,"body_markdown":"https://www.baeldung.com/solid-principles, https://www.digitalocean.com/community/conceptual-articles/s-o-l-i-d-the-first-five-principles-of-object-oriented-design","body":"<a href=\"https://www.baeldung.com/solid-principles\" rel=\"nofollow noreferrer\">baeldung.com/solid-principles</a>, <a href=\"https://www.digitalocean.com/community/conceptual-articles/s-o-l-i-d-the-first-five-principles-of-object-oriented-design\" rel=\"nofollow noreferrer\">digitalocean.com/community/conceptual-articles/&hellip;</a>"}],"tags":[],"owner":{"account_id":3305539,"reputation":4664,"user_id":2780480,"display_name":"Jagrut Sharma"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666030597,"creation_date":1666030597,"answer_id":74101491,"question_id":74100934,"body_markdown":"You can consider this example as a starting point for your use case:\r\n\r\n**interface**\r\n\r\n    public interface WordFrequency {\r\n        String getWord();\r\n        int getFrequency();\r\n    }\r\n\r\n**The implementation of above interface**\r\n\r\n    public class WordFreqImpl implements WordFrequency {\r\n    \r\n        final String w;\r\n        final Integer f;\r\n    \r\n        public WordFreqImpl(String word, Integer freq) {\r\n            w = word;\r\n            f = freq;\r\n    \r\n        }\r\n        @Override\r\n        public String getWord() {\r\n            return w;\r\n        }\r\n    \r\n        @Override\r\n        public int getFrequency() {\r\n            return f;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;&quot; +\r\n                    &quot;w=&quot; + w +\r\n                    &quot;, f=&quot; + f;\r\n        }\r\n    }\r\n\r\n**demo of getting the list per your requirement**\r\n\r\n    public class WordFreqDemo {\r\n        public static void main(String[] args) {\r\n            Map&lt;String,Integer&gt; m = new HashMap&lt;&gt;();\r\n            m.put(&quot;k1&quot;,1);\r\n            m.put(&quot;k2&quot;,2);\r\n            m.put(&quot;k3&quot;,3);\r\n    \r\n            List&lt;WordFrequency&gt; wordFrequencyList = new ArrayList&lt;&gt;();\r\n    \r\n            for (Map.Entry&lt;String, Integer&gt; entry: m.entrySet()) {\r\n                wordFrequencyList.add(new WordFreqImpl(entry.getKey(), entry.getValue()) {\r\n                });\r\n            }\r\n    \r\n            for (WordFrequency w: wordFrequencyList) {\r\n                System.out.println(w);\r\n            }\r\n            \r\n            // return wordFrequencyList as per use case\r\n        }\r\n    }\r\n\r\n**output**\r\n\r\n    w=k1, f=1\r\n    w=k2, f=2\r\n    w=k3, f=3\r\n\r\n\r\n","title":"Return List of Interface in Java","body":"<p>You can consider this example as a starting point for your use case:</p>\n<p><strong>interface</strong></p>\n<pre><code>public interface WordFrequency {\n    String getWord();\n    int getFrequency();\n}\n</code></pre>\n<p><strong>The implementation of above interface</strong></p>\n<pre><code>public class WordFreqImpl implements WordFrequency {\n\n    final String w;\n    final Integer f;\n\n    public WordFreqImpl(String word, Integer freq) {\n        w = word;\n        f = freq;\n\n    }\n    @Override\n    public String getWord() {\n        return w;\n    }\n\n    @Override\n    public int getFrequency() {\n        return f;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;&quot; +\n                &quot;w=&quot; + w +\n                &quot;, f=&quot; + f;\n    }\n}\n</code></pre>\n<p><strong>demo of getting the list per your requirement</strong></p>\n<pre><code>public class WordFreqDemo {\n    public static void main(String[] args) {\n        Map&lt;String,Integer&gt; m = new HashMap&lt;&gt;();\n        m.put(&quot;k1&quot;,1);\n        m.put(&quot;k2&quot;,2);\n        m.put(&quot;k3&quot;,3);\n\n        List&lt;WordFrequency&gt; wordFrequencyList = new ArrayList&lt;&gt;();\n\n        for (Map.Entry&lt;String, Integer&gt; entry: m.entrySet()) {\n            wordFrequencyList.add(new WordFreqImpl(entry.getKey(), entry.getValue()) {\n            });\n        }\n\n        for (WordFrequency w: wordFrequencyList) {\n            System.out.println(w);\n        }\n        \n        // return wordFrequencyList as per use case\n    }\n}\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>w=k1, f=1\nw=k2, f=2\nw=k3, f=3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666031390,"creation_date":1666031390,"answer_id":74101628,"question_id":74100934,"body_markdown":"Still an answer showing `record` as ad-hoc data class, and `Stream`-.\r\n\r\nThe `n` highest frequency entries from the map:\r\n\r\n    record Fr(String word, int frequency) implements WordFrequency {\r\n        @Override\r\n        public String getWord() {\r\n           return word;\r\n        }\r\n        @Override\r\n        public int getFrequency() {\r\n            return frequency;\r\n        }\r\n    }\r\n\r\n    Map&lt;String,Integer&gt; m = ...\r\n    List&lt;WordFrequency&gt; wfs = m.entrySet().stream()\r\n        .sorted(e -&gt; Comparator.comparingInt(e.getValue()).reversed()\r\n                               .thenComparing(e.getKey()))\r\n        .limit(n)\r\n        .map(e -&gt; new Fr(e.getKey(), e.getValue())\r\n        .collect(Collectors.toList()):\r\n\r\n","title":"Return List of Interface in Java","body":"<p>Still an answer showing <code>record</code> as ad-hoc data class, and <code>Stream</code>-.</p>\n<p>The <code>n</code> highest frequency entries from the map:</p>\n<pre><code>record Fr(String word, int frequency) implements WordFrequency {\n    @Override\n    public String getWord() {\n       return word;\n    }\n    @Override\n    public int getFrequency() {\n        return frequency;\n    }\n}\n\nMap&lt;String,Integer&gt; m = ...\nList&lt;WordFrequency&gt; wfs = m.entrySet().stream()\n    .sorted(e -&gt; Comparator.comparingInt(e.getValue()).reversed()\n                           .thenComparing(e.getKey()))\n    .limit(n)\n    .map(e -&gt; new Fr(e.getKey(), e.getValue())\n    .collect(Collectors.toList()):\n</code></pre>\n"}],"owner":{"account_id":24008706,"reputation":15,"user_id":17992562,"display_name":"redmelon7896"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74101491,"answer_count":3,"score":0,"last_activity_date":1666031390,"creation_date":1666027246,"question_id":74100934,"body_markdown":"I have to create a word counter program. It is not very difficult logically but I am getting stuck with interfaces. So first I have to create an class which implements the defined interface:\r\n\r\n```\r\npublic interface WordFrequency {\r\nString getWord();\r\nint getFrequency();\r\n}\r\n```\r\n\r\nAnd I have to create another class which implements another interface as defined:\r\n```\r\npublic interface WordFrequencyAnalyzer {\r\nint calculateHighestFrequency(String text);\r\nint calculateFrequencyForWord (String text, String word);\r\nList&lt;WordFrequency&gt; calculateMostFrequentNWords (String text, int n);\r\n}\r\n```\r\n\r\nNow, the third method in this interface returns a list of the previous interface. I will maintain the frequencies of words in a Map. This method requires me to return the words with N highest frequencies in the given text. It would be very easy to just sort the map with descending values and return accordingly, but how do I create a list of this particular interface with the correct values from the map to return in the required format?\r\n\r\nEdit: I am using ```Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;()``` to store the words and their frequencies. This is what I need to store in ```List&lt;WordFrequency&gt;``` and return. ","title":"Return List of Interface in Java","body":"<p>I have to create a word counter program. It is not very difficult logically but I am getting stuck with interfaces. So first I have to create an class which implements the defined interface:</p>\n<pre><code>public interface WordFrequency {\nString getWord();\nint getFrequency();\n}\n</code></pre>\n<p>And I have to create another class which implements another interface as defined:</p>\n<pre><code>public interface WordFrequencyAnalyzer {\nint calculateHighestFrequency(String text);\nint calculateFrequencyForWord (String text, String word);\nList&lt;WordFrequency&gt; calculateMostFrequentNWords (String text, int n);\n}\n</code></pre>\n<p>Now, the third method in this interface returns a list of the previous interface. I will maintain the frequencies of words in a Map. This method requires me to return the words with N highest frequencies in the given text. It would be very easy to just sort the map with descending values and return accordingly, but how do I create a list of this particular interface with the correct values from the map to return in the required format?</p>\n<p>Edit: I am using <code>Map&lt;String,Integer&gt; m = new HashMap&lt;String,Integer&gt;()</code> to store the words and their frequencies. This is what I need to store in <code>List&lt;WordFrequency&gt;</code> and return.</p>\n"},{"tags":["java","if-statement","format"],"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1666023208,"post_id":74100109,"comment_id":130831751,"body_markdown":"what&#39;s wrong with many IF&#39;s? as it is I dont see a problem. the question is are there going to be changes? added IF&#39;s?","body":"what&#39;s wrong with many IF&#39;s? as it is I dont see a problem. the question is are there going to be changes? added IF&#39;s?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666023255,"post_id":74100109,"comment_id":130831768,"body_markdown":"First of all, you should strive for correctness, instead of worrying about the number of `if` statement. Your method is name “getDataBetween” but you’re not trying to find “data” between the datetimes but return all or through a meaningless exception `RuntimeException(&quot;Error!&quot;)`. It also would be strange if the return type “`Fototball`” is correct. Why is the variable of type `Footballer` called “`string`”?","body":"First of all, you should strive for correctness, instead of worrying about the number of <code>if</code> statement. Your method is name “getDataBetween” but you’re not trying to find “data” between the datetimes but return all or through a meaningless exception <code>RuntimeException(&quot;Error!&quot;)</code>. It also would be strange if the return type “<code>Fototball</code>” is correct. Why is the variable of type <code>Footballer</code> called “<code>string</code>”?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":1,"creation_date":1666023262,"post_id":74100109,"comment_id":130831773,"body_markdown":"Well, you can get rid of most of the `else`s (all but one) - but that wasn&#39;t your question.","body":"Well, you can get rid of most of the <code>else</code>s (all but one) - but that wasn&#39;t your question."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1666024148,"post_id":74100109,"comment_id":130832146,"body_markdown":"One technique for eliminating complexity with dates in this case would be to substitute the &quot;beginning of x&quot; for the null `dateFrom` case and the &quot;end of x&quot; for the null `dateTo` case - for example if the applications is concerned with a single &quot;season&quot; then subsitute start-of-season and end-of-season.  This may reduce the processing complexity - but just a guess without seeing more code.","body":"One technique for eliminating complexity with dates in this case would be to substitute the &quot;beginning of x&quot; for the null <code>dateFrom</code> case and the &quot;end of x&quot; for the null <code>dateTo</code> case - for example if the applications is concerned with a single &quot;season&quot; then subsitute start-of-season and end-of-season.  This may reduce the processing complexity - but just a guess without seeing more code."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1666023779,"post_id":74100267,"comment_id":130831979,"body_markdown":"only if `dataWithoutFrom` is same as `dataWithoutTo`","body":"only if <code>dataWithoutFrom</code> is same as <code>dataWithoutTo</code>"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666023878,"post_id":74100267,"comment_id":130832034,"body_markdown":"You are right.  I misread it.","body":"You are right.  I misread it."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666024001,"post_id":74100267,"comment_id":130832087,"body_markdown":"It might make sense to refactor both of those methods into a single method.","body":"It might make sense to refactor both of those methods into a single method."}],"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666023673,"creation_date":1666023673,"answer_id":74100267,"question_id":74100109,"body_markdown":"I would try to eliminate the nested if.  \r\n\r\n```\r\npublic Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\r\n    \r\n    if (dateFrom == null &amp;&amp; dateTo == null) \r\n        throw new RuntimeException(&quot;Null!!&quot;);\r\n        \r\n    if (dateTo == null || dateFrom == null) \r\n        return dataWithoutTo(dateFrom, dateTo);\r\n        \r\n    if (!Football.this.firstNode.getDateTime().isAfter(dateFrom) || \r\n        !Football.this.getLast().getDateTime().isBefore(dateTo))\r\n        throw new RuntimeException(&quot;Error!&quot;);\r\n    \r\n     Footballer string = new Footballer(giocatore);\r\n     for (int i = 0; i &lt; size(); i++) \r\n         string.add(Football.this.get(i));\r\n     return string;\r\n}\r\n```","title":"How to avoid so many “if” statements?","body":"<p>I would try to eliminate the nested if.</p>\n<pre><code>public Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\n    \n    if (dateFrom == null &amp;&amp; dateTo == null) \n        throw new RuntimeException(&quot;Null!!&quot;);\n        \n    if (dateTo == null || dateFrom == null) \n        return dataWithoutTo(dateFrom, dateTo);\n        \n    if (!Football.this.firstNode.getDateTime().isAfter(dateFrom) || \n        !Football.this.getLast().getDateTime().isBefore(dateTo))\n        throw new RuntimeException(&quot;Error!&quot;);\n    \n     Footballer string = new Footballer(giocatore);\n     for (int i = 0; i &lt; size(); i++) \n         string.add(Football.this.get(i));\n     return string;\n}\n</code></pre>\n"}],"owner":{"account_id":26614428,"reputation":11,"user_id":20234103,"display_name":"borkovicz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1666031355,"creation_date":1666022795,"question_id":74100109,"body_markdown":"I have a problem. I have side methods like:\r\ndataWithoutFrom and dataWithoutTo and main method:\r\n\r\n    public Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\r\n        Footballer string = new Footballer(giocatore);\r\n        if (dateFrom == null &amp;&amp; dateTo == null) {\r\n            throw new RuntimeException(&quot;Null!!&quot;);\r\n        } else if (dateTo == null) {\r\n            return dataWithoutTo(dateFrom, dateTo);\r\n        } else if (dateFrom == null) {\r\n            return dataWithoutFrom(dateFrom, dateTo);\r\n        } else {\r\n            if (Football.this.firstNode.getDateTime().isAfter(dateFrom) &amp;&amp; Football.this.getLast().getDateTime().isBefore(dateTo)) {\r\n                for (int i = 0; i &lt; size(); i++) {\r\n                    string.add(Football.this.get(i));\r\n                }\r\n            } else {\r\n                throw new RuntimeException(&quot;Error!&quot;);\r\n            }\r\n        }\r\n        return string;\r\n    }\r\n\r\nHow to format this code without so many IF&#39;s??? \r\nRegards","title":"How to avoid so many “if” statements?","body":"<p>I have a problem. I have side methods like:\ndataWithoutFrom and dataWithoutTo and main method:</p>\n<pre><code>public Fototball getDataBetween(LocalDateTime dateFrom, LocalDateTime dateTo) {\n    Footballer string = new Footballer(giocatore);\n    if (dateFrom == null &amp;&amp; dateTo == null) {\n        throw new RuntimeException(&quot;Null!!&quot;);\n    } else if (dateTo == null) {\n        return dataWithoutTo(dateFrom, dateTo);\n    } else if (dateFrom == null) {\n        return dataWithoutFrom(dateFrom, dateTo);\n    } else {\n        if (Football.this.firstNode.getDateTime().isAfter(dateFrom) &amp;&amp; Football.this.getLast().getDateTime().isBefore(dateTo)) {\n            for (int i = 0; i &lt; size(); i++) {\n                string.add(Football.this.get(i));\n            }\n        } else {\n            throw new RuntimeException(&quot;Error!&quot;);\n        }\n    }\n    return string;\n}\n</code></pre>\n<p>How to format this code without so many IF's???\nRegards</p>\n"},{"tags":["java","compile-time-constant"],"comments":[{"owner":{"account_id":21911,"reputation":10474,"user_id":2127508,"display_name":"barrowc"},"score":2,"creation_date":1285817361,"post_id":3827393,"comment_id":4063421,"body_markdown":"Any reason not to use an enum in this case?","body":"Any reason not to use an enum in this case?"},{"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"score":1,"creation_date":1285817471,"post_id":3827393,"comment_id":4063437,"body_markdown":"I didn&#39;t think Java had enums. `public static final int`s are scattered all through the JDK, so that&#39;s what I went with.","body":"I didn&#39;t think Java had enums. <code>public static final int</code>s are scattered all through the JDK, so that&#39;s what I went with."},{"owner":{"account_id":21911,"reputation":10474,"user_id":2127508,"display_name":"barrowc"},"score":1,"creation_date":1285817826,"post_id":3827393,"comment_id":4063479,"body_markdown":"See http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.9 or http://download.oracle.com/javase/1.5.0/docs/guide/language/enums.html","body":"See <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.9\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/third_edition/html/classes.html#&zwnj;&#8203;8.9</a> or <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/language/enums.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/1.5.0/docs/guide/language/enums.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":4,"creation_date":1285822145,"post_id":3827393,"comment_id":4063820,"body_markdown":"And read Effective Java (http://java.sun.com/docs/books/effective), Item 30: Use enums instead of int constants","body":"And read Effective Java (<a href=\"http://java.sun.com/docs/books/effective\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/effective</a>), Item 30: Use enums instead of int constants"},{"owner":{"account_id":179512,"reputation":3361,"user_id":412234,"accept_rate":92,"display_name":"Kevin Kostlan"},"score":0,"creation_date":1373056371,"post_id":3827393,"comment_id":25432925,"body_markdown":"Many solutions suggest enums, which are useful for more complex cases. It may not be worth making a whole new file, instead just set BAR=0;BAZ=1; etc.","body":"Many solutions suggest enums, which are useful for more complex cases. It may not be worth making a whole new file, instead just set BAR=0;BAZ=1; etc."},{"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"score":0,"creation_date":1458155572,"post_id":3827393,"comment_id":59738338,"body_markdown":"@FastSnail I wholeheartedly disagree. First, this question is about Java language constructs, that question is about Android development on the surface and actually about solving a class of problems with an enum. Second, this question was asked and answered two years before that question.","body":"@FastSnail I wholeheartedly disagree. First, this question is about Java language constructs, that question is about Android development on the surface and actually about solving a class of problems with an enum. Second, this question was asked and answered two years before that question."},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1458156250,"post_id":3827393,"comment_id":59738734,"body_markdown":"@AustinHyde omg i can&#39;t believe i did this .i try to make a comment yesterday with a link .so user can see name like in above &quot;select item ...&quot;.so i just made a comment in this page [i was reading this question ] .and i catch the format of link by marking as duplicate .then i edit the comment to see the format .i immediately retracted close vote.i forget to delete it.I&#39;m so sorry for disturbing","body":"@AustinHyde omg i can&#39;t believe i did this .i try to make a comment yesterday with a link .so user can see name like in above &quot;select item ...&quot;.so i just made a comment in this page [i was reading this question ] .and i catch the format of link by marking as duplicate .then i edit the comment to see the format .i immediately retracted close vote.i forget to delete it.I&#39;m so sorry for disturbing"},{"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"score":0,"creation_date":1458166422,"post_id":3827393,"comment_id":59744419,"body_markdown":"@FastSnail It&#39;s okay :)","body":"@FastSnail It&#39;s okay :)"},{"owner":{"account_id":2043549,"reputation":1360,"user_id":1824182,"accept_rate":83,"display_name":"Ti Strga"},"score":0,"creation_date":1577469205,"post_id":3827393,"comment_id":105181079,"body_markdown":"Late to the party, but just as a historical note:  _&quot;I didn&#39;t think Java had enums. `public static final int`s are scattered all through the JDK, so that&#39;s what I went with.&quot;_  At the time the JDK was written, Java **didn&#39;t** have enums.  That feature was added years later; changing the standard classes in the JDK/JRE would have messed with binary compatibility.  (Classes added later do use enums here and there.)","body":"Late to the party, but just as a historical note:  <i>&quot;I didn&#39;t think Java had enums. <code>public static final int</code>s are scattered all through the JDK, so that&#39;s what I went with.&quot;</i>  At the time the JDK was written, Java <b>didn&#39;t</b> have enums.  That feature was added years later; changing the standard classes in the JDK/JRE would have messed with binary compatibility.  (Classes added later do use enums here and there.)"}],"answers":[{"comments":[{"owner":{"account_id":13210522,"reputation":414,"user_id":9540910,"display_name":"Collin"},"score":0,"creation_date":1679960028,"post_id":3827424,"comment_id":133811391,"body_markdown":"Just another reason why I&#39;ll just stick to normal &quot;ifs&quot; to compare values I KNOW are constants, and not use this switch nonsense.","body":"Just another reason why I&#39;ll just stick to normal &quot;ifs&quot; to compare values I KNOW are constants, and not use this switch nonsense."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":1,"up_vote_count":187,"is_accepted":true,"score":186,"last_activity_date":1556279005,"creation_date":1285816292,"answer_id":3827424,"question_id":3827393,"body_markdown":"&gt; I understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn&#39;t Foo.BA_ constant?\r\n\r\nWhile they are constant from the perspective of any code that executes after the fields have been initialized, they are not a *compile time constant* in the sense required by the JLS; see [&#167;15.28 Constant Expressions][1] for the specification of a *constant expression*&lt;sup&gt;1&lt;/sup&gt;.  This refers to [&#167;4.12.4 Final Variables][2] which defines a &quot;constant variable&quot; as follows:\r\n\r\n&gt; We call a variable, of primitive type or type String, that is final and initialized with a compile-time constant expression (&#167;15.28) a constant variable. Whether a variable is a constant variable or not may have implications with respect to class initialization (&#167;12.4.1), binary compatibility (&#167;13.1, &#167;13.4.9) and definite assignment (&#167;16).\r\n\r\nIn your example, the Foo.BA* variables do not have initializers, and hence do not qualify as &quot;constant variables&quot;.  The fix is simple; change the Foo.BA* variable declarations to have initializers that are compile-time constant expressions.\r\n\r\nIn other examples (where the initializers are already compile-time constant expressions), declaring the variable as `final` may be what is needed.\r\n\r\nYou could change your code to use an `enum` rather than `int` constants, but that brings another couple of different restrictions:\r\n\r\n  - You *must* include a `default` case, even if you have `case` for every known value of the `enum`; see https://stackoverflow.com/questions/5013194/why-is-default-required-for-a-switch-on-an-enum-in-this-code/5013598#5013598\r\n  - The `case` labels must all be explicit `enum` values, not expressions that evaluate to `enum` values.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - The constant expression restrictions can be summarized as follows.   Constant expressions a) can use primitive types and `String` only, b) allow primaries that are literals (apart from `null`) and constant variables only, c) allow constant expressions possibly parenthesised as subexpressions, d) allow operators except for assignment operators, `++`, `--` or `instanceof`, and e) allow type casts to primitive types or `String` only.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;Note that this doesn&#39;t include any form of method or lambda calls, `new`, `.class`. `.length` or array subscripting.  Furthermore, any use of array values, `enum` values, values of primitive wrapper types, boxing and unboxing are all excluded because of a).&lt;/sup&gt;\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\r\n  [2]: http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#10931","title":"Java switch statement: Constant expression required, but it IS constant","body":"<blockquote>\n  <p>I understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn't Foo.BA_ constant?</p>\n</blockquote>\n\n<p>While they are constant from the perspective of any code that executes after the fields have been initialized, they are not a <em>compile time constant</em> in the sense required by the JLS; see <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.28\" rel=\"noreferrer\">§15.28 Constant Expressions</a> for the specification of a <em>constant expression</em><sup>1</sup>.  This refers to <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#10931\" rel=\"noreferrer\">§4.12.4 Final Variables</a> which defines a \"constant variable\" as follows:</p>\n\n<blockquote>\n  <p>We call a variable, of primitive type or type String, that is final and initialized with a compile-time constant expression (§15.28) a constant variable. Whether a variable is a constant variable or not may have implications with respect to class initialization (§12.4.1), binary compatibility (§13.1, §13.4.9) and definite assignment (§16).</p>\n</blockquote>\n\n<p>In your example, the Foo.BA* variables do not have initializers, and hence do not qualify as \"constant variables\".  The fix is simple; change the Foo.BA* variable declarations to have initializers that are compile-time constant expressions.</p>\n\n<p>In other examples (where the initializers are already compile-time constant expressions), declaring the variable as <code>final</code> may be what is needed.</p>\n\n<p>You could change your code to use an <code>enum</code> rather than <code>int</code> constants, but that brings another couple of different restrictions:</p>\n\n<ul>\n<li>You <em>must</em> include a <code>default</code> case, even if you have <code>case</code> for every known value of the <code>enum</code>; see <a href=\"https://stackoverflow.com/questions/5013194/why-is-default-required-for-a-switch-on-an-enum-in-this-code/5013598#5013598\">Why is default required for a switch on an enum?</a></li>\n<li>The <code>case</code> labels must all be explicit <code>enum</code> values, not expressions that evaluate to <code>enum</code> values.</li>\n</ul>\n\n<hr>\n\n<p><sup>1 - The constant expression restrictions can be summarized as follows.   Constant expressions a) can use primitive types and <code>String</code> only, b) allow primaries that are literals (apart from <code>null</code>) and constant variables only, c) allow constant expressions possibly parenthesised as subexpressions, d) allow operators except for assignment operators, <code>++</code>, <code>--</code> or <code>instanceof</code>, and e) allow type casts to primitive types or <code>String</code> only.</sup></p>\n\n<p><sup>Note that this doesn't include any form of method or lambda calls, <code>new</code>, <code>.class</code>. <code>.length</code> or array subscripting.  Furthermore, any use of array values, <code>enum</code> values, values of primitive wrapper types, boxing and unboxing are all excluded because of a).</sup></p>\n"},{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1285816580,"post_id":3827431,"comment_id":4063346,"body_markdown":"Interesting. Would `public static final int BAR = new Random().nextInt()` work?","body":"Interesting. Would <code>public static final int BAR = new Random().nextInt()</code> work?"},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":4,"creation_date":1285817599,"post_id":3827431,"comment_id":4063449,"body_markdown":"Thilo&#39;s statement compiles but the switch statement complains _constant expression required_.  Further, couldn&#39;t two consecutive `new Random().nextInt()` return the same values?","body":"Thilo&#39;s statement compiles but the switch statement complains <i>constant expression required</i>.  Further, couldn&#39;t two consecutive <code>new Random().nextInt()</code> return the same values?"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1285817742,"post_id":3827431,"comment_id":4063469,"body_markdown":"@Tony: Which is a good thing. It does not compile because it is not initialized with a compile-time constant. See Stephen&#39;s accepted answer. If that did compile, a random integer would be hard-coded into the class, with quite unpredictable results.","body":"@Tony: Which is a good thing. It does not compile because it is not initialized with a compile-time constant. See Stephen&#39;s accepted answer. If that did compile, a random integer would be hard-coded into the class, with quite unpredictable results."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1285817895,"post_id":3827431,"comment_id":4063490,"body_markdown":"I&#39;m surprised the constant in the switch is rejected, and the &#39;constant&#39; itself isn&#39;t.  I never would of thought it would be this way.  Of course, it isn&#39;t truly a constant I suppose.","body":"I&#39;m surprised the constant in the switch is rejected, and the &#39;constant&#39; itself isn&#39;t.  I never would of thought it would be this way.  Of course, it isn&#39;t truly a constant I suppose."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1519373120,"post_id":3827431,"comment_id":84893697,"body_markdown":"@TonyEnnis - It depends on what you mean by truly constant.  It is truly constant in the sense that it will not change during the execution of the program (modulo a couple of quibbles).  But it is not the same for all executions.","body":"@TonyEnnis - It depends on what you mean by truly constant.  It is truly constant in the sense that it will not change during the execution of the program (modulo a couple of quibbles).  But it is not the same for all executions."}],"tags":[],"owner":{"account_id":191704,"reputation":3230,"user_id":432433,"display_name":"Sheldon L. Cooper"},"comment_count":5,"down_vote_count":2,"up_vote_count":45,"is_accepted":false,"score":43,"last_activity_date":1285816995,"creation_date":1285816428,"answer_id":3827431,"question_id":3827393,"body_markdown":"Because those are not compile time constants.  Consider the following valid code:\r\n\r\n\tpublic static final int BAR = new Random().nextInt();\r\n\r\nYou can only know the value of `BAR` in runtime.","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Because those are not compile time constants.  Consider the following valid code:</p>\n\n<pre><code>public static final int BAR = new Random().nextInt();\n</code></pre>\n\n<p>You can only know the value of <code>BAR</code> in runtime.</p>\n"},{"comments":[{"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"score":0,"creation_date":1665428518,"post_id":3827488,"comment_id":130693640,"body_markdown":"This works, but if you do the exact same thing except use `Integer` (non-primitive) instead of `int` (primitive), it doesn&#39;t work. Does anyone know why this is?","body":"This works, but if you do the exact same thing except use <code>Integer</code> (non-primitive) instead of <code>int</code> (primitive), it doesn&#39;t work. Does anyone know why this is?"},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1665428784,"post_id":3827488,"comment_id":130693720,"body_markdown":"Probably related to not having the opportunity to instanciate the Integer.  I don&#39;t have an editor right now, but try `public static final Integer BAR=new Integer(2);`","body":"Probably related to not having the opportunity to instanciate the Integer.  I don&#39;t have an editor right now, but try <code>public static final Integer BAR=new Integer(2);</code>"},{"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"score":0,"creation_date":1665521996,"post_id":3827488,"comment_id":130719597,"body_markdown":"`public static final Integer BAR = new Integer(2);` doesn&#39;t work either. The way I was doing it (`public static final Integer BAR = 2;`) instantiates it as well, but neither work &#129300;","body":"<code>public static final Integer BAR = new Integer(2);</code> doesn&#39;t work either. The way I was doing it (<code>public static final Integer BAR = 2;</code>) instantiates it as well, but neither work 🤔"},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1665591686,"post_id":3827488,"comment_id":130738614,"body_markdown":"What I posted 2 comments above works for me.","body":"What I posted 2 comments above works for me."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1665592080,"post_id":3827488,"comment_id":130738762,"body_markdown":"Post modified per @MuffinTheMan&#39;s question","body":"Post modified per @MuffinTheMan&#39;s question"},{"owner":{"account_id":1815001,"reputation":1531,"user_id":1650282,"accept_rate":79,"display_name":"MuffinTheMan"},"score":1,"creation_date":1665670326,"post_id":3827488,"comment_id":130757766,"body_markdown":"Did you try using `YerBlues.BOP` (as `new Integer(2)`) in a `switch` statement? That&#39;s where I tested it, and it didn&#39;t work.","body":"Did you try using <code>YerBlues.BOP</code> (as <code>new Integer(2)</code>) in a <code>switch</code> statement? That&#39;s where I tested it, and it didn&#39;t work."},{"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"score":0,"creation_date":1666031311,"post_id":3827488,"comment_id":130834394,"body_markdown":"Good catch. It looks like `new Integer(2)` won&#39;t be a constant.","body":"Good catch. It looks like <code>new Integer(2)</code> won&#39;t be a constant."}],"tags":[],"owner":{"account_id":202552,"reputation":12096,"user_id":449693,"accept_rate":58,"display_name":"Tony Ennis"},"comment_count":7,"down_vote_count":0,"up_vote_count":94,"is_accepted":false,"score":94,"last_activity_date":1666031345,"creation_date":1285817328,"answer_id":3827488,"question_id":3827393,"body_markdown":"You get _Constant expression required_ because you left the values off your constants. Try:\r\n\r\n    public abstract class Foo {\r\n        ...\r\n        public static final int BAR=0;\r\n        public static final int BAZ=1;\r\n        public static final int BAM=2;\r\n        ...\r\n    }\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>You get <em>Constant expression required</em> because you left the values off your constants. Try:</p>\n<pre><code>public abstract class Foo {\n    ...\n    public static final int BAR=0;\n    public static final int BAZ=1;\n    public static final int BAM=2;\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3475428,"reputation":463,"user_id":2908760,"accept_rate":57,"display_name":"shaolin"},"score":0,"creation_date":1448624503,"post_id":6777666,"comment_id":55670938,"body_markdown":"Hi, I&#39;m still having the problem using the enum in this way:\n&lt;br/&gt;\n\n`enum Codes { \n\nCODE_A(1), CODE_B(2);\n\nprivate mCode;\n\nCodes(int i) {\n mCode = i;\n}\n\npublic int code() {\n return mCode;\n}\n}`\n&lt;br/&gt;\nWhen i try to use the enum in the switch I get the same error...\n&lt;br/&gt;\n`switch(field) {\n case Codes.CODE_A.code() : \n  // do stuffs.. ;\n} `\n&lt;br/&gt;\nIt&#39;s possible to solve the problem?","body":"Hi, I&#39;m still having the problem using the enum in this way: &lt;br/&gt;  <code>enum Codes {   CODE_A(1), CODE_B(2);  private mCode;  Codes(int i) {  mCode = i; }  public int code() {  return mCode; } }</code> &lt;br/&gt; When i try to use the enum in the switch I get the same error... &lt;br/&gt; <code>switch(field) {  case Codes.CODE_A.code() :    &#47;&#47; do stuffs.. ; } </code> &lt;br/&gt; It&#39;s possible to solve the problem?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1458364881,"post_id":6777666,"comment_id":59840133,"body_markdown":"@stiga - You can only switch on the enum instances themselves.  Not on some value returned by calling a method on the enum instances.","body":"@stiga - You can only switch on the enum instances themselves.  Not on some value returned by calling a method on the enum instances."}],"tags":[],"owner":{"account_id":279927,"reputation":1473,"user_id":575358,"accept_rate":55,"display_name":"thenosic"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1328016014,"creation_date":1311258438,"answer_id":6777666,"question_id":3827393,"body_markdown":"You can use an enum like in this example:\r\n\r\n    public class MainClass {\r\n    enum Choice { Choice1, Choice2, Choice3 }\r\n    public static void main(String[] args) {\r\n    Choice ch = Choice.Choice1;\r\n\r\n    switch(ch) {\r\n      case Choice1:\r\n        System.out.println(&quot;Choice1 selected&quot;);\r\n        break;\r\n     case Choice2:\r\n       System.out.println(&quot;Choice2 selected&quot;);\r\n       break;\r\n     case Choice3:\r\n       System.out.println(&quot;Choice3 selected&quot;);\r\n       break;\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nSource:\r\n[Switch statement with enum][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0040__Data-Type/Switchstatementwithenum.htm","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>You can use an enum like in this example:</p>\n\n<pre><code>public class MainClass {\nenum Choice { Choice1, Choice2, Choice3 }\npublic static void main(String[] args) {\nChoice ch = Choice.Choice1;\n\nswitch(ch) {\n  case Choice1:\n    System.out.println(\"Choice1 selected\");\n    break;\n case Choice2:\n   System.out.println(\"Choice2 selected\");\n   break;\n case Choice3:\n   System.out.println(\"Choice3 selected\");\n   break;\n    }\n  }\n}\n</code></pre>\n\n<p>Source:\n<a href=\"http://www.java2s.com/Tutorial/Java/0040__Data-Type/Switchstatementwithenum.htm\" rel=\"noreferrer\">Switch statement with enum</a></p>\n"},{"comments":[{"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"score":0,"creation_date":1430846469,"post_id":6780052,"comment_id":48233575,"body_markdown":"@djangofan what JDK version are you running your code on?","body":"@djangofan what JDK version are you running your code on?"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1430880951,"post_id":6780052,"comment_id":48247950,"body_markdown":"I used JDK 1.7.0_74 with IntelliJ-IDEA 14","body":"I used JDK 1.7.0_74 with IntelliJ-IDEA 14"},{"owner":{"account_id":3311268,"reputation":2705,"user_id":2784721,"accept_rate":93,"display_name":"Amit Kumar"},"score":1,"creation_date":1432385112,"post_id":6780052,"comment_id":48911806,"body_markdown":"I am using same class as suggested by Everton Agner but its showing constant expression required.","body":"I am using same class as suggested by Everton Agner but its showing constant expression required."}],"tags":[],"owner":{"account_id":249250,"reputation":7617,"user_id":525179,"accept_rate":90,"display_name":"everton"},"comment_count":3,"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1311268699,"creation_date":1311268699,"answer_id":6780052,"question_id":3827393,"body_markdown":"I recommend you to use enums :)\r\n\r\nCheck this out:\r\n\r\n    public enum Foo \r\n    {\r\n        BAR(&quot;bar&quot;),\r\n        BAZ(&quot;baz&quot;),\r\n        BAM(&quot;bam&quot;);\r\n    \r\n        private final String description;\r\n    \r\n        private Foo(String description)\r\n        {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getDescription()\r\n        {\r\n            return description;\r\n        }\r\n    }\r\n\r\nThen you can use it like this:\r\n\r\n    System.out.println(Foo.BAR.getDescription());","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>I recommend you to use enums :)</p>\n\n<p>Check this out:</p>\n\n<pre><code>public enum Foo \n{\n    BAR(\"bar\"),\n    BAZ(\"baz\"),\n    BAM(\"bam\");\n\n    private final String description;\n\n    private Foo(String description)\n    {\n        this.description = description;\n    }\n\n    public String getDescription()\n    {\n        return description;\n    }\n}\n</code></pre>\n\n<p>Then you can use it like this:</p>\n\n<pre><code>System.out.println(Foo.BAR.getDescription());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"score":3,"creation_date":1426191898,"post_id":28729765,"comment_id":46282860,"body_markdown":"Just for clarification: This solves your error by making a static property final. In my original question, the issue was that the final static property was missing an initializer, making it a constant, but not a compile-time constant. See the accepted answer for details.","body":"Just for clarification: This solves your error by making a static property final. In my original question, the issue was that the final static property was missing an initializer, making it a constant, but not a compile-time constant. See the accepted answer for details."},{"owner":{"account_id":2410471,"reputation":5958,"user_id":2105657,"accept_rate":60,"display_name":"Teo Inke"},"score":7,"creation_date":1426194956,"post_id":28729765,"comment_id":46284294,"body_markdown":"I know it&#39;s a different problem, but since I got here with mine it could help someone else in the same situation.","body":"I know it&#39;s a different problem, but since I got here with mine it could help someone else in the same situation."},{"owner":{"account_id":59422,"reputation":3296,"user_id":177790,"accept_rate":80,"display_name":"slott"},"score":0,"creation_date":1447242647,"post_id":28729765,"comment_id":55073320,"body_markdown":"Makes sense they have to be final as things would go wrong if these values could change runtime.","body":"Makes sense they have to be final as things would go wrong if these values could change runtime."},{"owner":{"account_id":18779513,"reputation":1070,"user_id":13694485,"display_name":"PRANAV SINGH"},"score":0,"creation_date":1608217283,"post_id":28729765,"comment_id":115520429,"body_markdown":"For more information regarding error in android studio refer this :-http://tools.android.com/tips/non-constant-fields","body":"For more information regarding error in android studio refer this :-<a href=\"http://tools.android.com/tips/non-constant-fields\" rel=\"nofollow noreferrer\">tools.android.com/tips/non-constant-fields</a>"}],"tags":[],"owner":{"account_id":2410471,"reputation":5958,"user_id":2105657,"accept_rate":60,"display_name":"Teo Inke"},"comment_count":4,"down_vote_count":4,"up_vote_count":65,"is_accepted":false,"score":61,"last_activity_date":1424899007,"creation_date":1424899007,"answer_id":28729765,"question_id":3827393,"body_markdown":"I got this error on Android, and my solution was just to use:\r\n\r\n    public static final int TAKE_PICTURE = 1;\r\n\r\ninstead of \r\n\r\n    public static int TAKE_PICTURE = 1;","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>I got this error on Android, and my solution was just to use:</p>\n\n<pre><code>public static final int TAKE_PICTURE = 1;\n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>public static int TAKE_PICTURE = 1;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":8,"creation_date":1526467387,"post_id":48814117,"comment_id":87753447,"body_markdown":"This is a workaround and not an answer to the question","body":"This is a workaround and not an answer to the question"},{"owner":{"account_id":2599464,"reputation":2558,"user_id":2252297,"display_name":"Samer Murad"},"score":0,"creation_date":1545311295,"post_id":48814117,"comment_id":94585538,"body_markdown":"Why do I keep getting down votes here? it&#39;s a legitimate workaround","body":"Why do I keep getting down votes here? it&#39;s a legitimate workaround"},{"owner":{"account_id":1044630,"reputation":5926,"user_id":1049903,"accept_rate":47,"display_name":"Dean Wild"},"score":3,"creation_date":1569404302,"post_id":48814117,"comment_id":102583125,"body_markdown":"probably because it&#39;s an IF statement that we are specifically trying to avoid with a switch","body":"probably because it&#39;s an IF statement that we are specifically trying to avoid with a switch"},{"owner":{"account_id":8451021,"reputation":369,"user_id":6339960,"display_name":"Christian Lim"},"score":2,"creation_date":1569411590,"post_id":48814117,"comment_id":102586986,"body_markdown":"I down voted because the question here is not &quot;how&quot; to solve the problem, but &quot;why&quot; the problem occurred. I think your answer is out of context.\n\nAlso if you&#39;re perfectionist, you should realize that `switch` is generally faster than long `if-else`, because `switch` only check the condition *once*, while with `if-else` you may need to check *all* condition before finding the right one.","body":"I down voted because the question here is not &quot;how&quot; to solve the problem, but &quot;why&quot; the problem occurred. I think your answer is out of context.  Also if you&#39;re perfectionist, you should realize that <code>switch</code> is generally faster than long <code>if-else</code>, because <code>switch</code> only check the condition <i>once</i>, while with <code>if-else</code> you may need to check <i>all</i> condition before finding the right one."},{"owner":{"account_id":2599464,"reputation":2558,"user_id":2252297,"display_name":"Samer Murad"},"score":0,"creation_date":1611230643,"post_id":48814117,"comment_id":116386808,"body_markdown":"@ChristianLim Fair enough, I agree this your statement, simply replacing a `switch` statement with an `if` statement should not be a goto solution and is definitely the wrong solution in some cases, and my answer does miss the &quot;Why&quot; part of the question.\nnevertheless in most simpler cases, it is still a valid workaround.\nBut again, I totally agree, and I will update my answer to reflect these problematics","body":"@ChristianLim Fair enough, I agree this your statement, simply replacing a <code>switch</code> statement with an <code>if</code> statement should not be a goto solution and is definitely the wrong solution in some cases, and my answer does miss the &quot;Why&quot; part of the question. nevertheless in most simpler cases, it is still a valid workaround. But again, I totally agree, and I will update my answer to reflect these problematics"}],"tags":[],"owner":{"account_id":2599464,"reputation":2558,"user_id":2252297,"display_name":"Samer Murad"},"comment_count":5,"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1611231402,"creation_date":1518719735,"answer_id":48814117,"question_id":3827393,"body_markdown":"This was answered ages ago and probably not relevant, but just in case.\r\nWhen I was confronted with this issue, I simply used an `if` statement instead of `switch`, it solved the error.\r\nIt is of course a workaround and probably not the &quot;right&quot; solution, but in my case it was just enough.\r\n\r\n### Edit: 2021.01.21\r\nThis Answer is a bit misleading, And I would like to clarify it.\r\n 1. Replacing a `switch` statement with an `if` should not be considered as a goto solution, there are very good reasons why both concepts of `switch` and `if` exist in software development, as well as performance matters to consider when choosing between the two.\r\n 2. Although I provide a solution to the presented error, My answer sheds no light on &quot;why&quot; the problem occurs but instead offers a way around the problem.\r\n\r\nIn my specific case, using an `if` statement instead was just enough to solve the problem. Developers should take the time and decide if this is the right solution for the current problem you have at hand.\r\n\r\nThus this answer should be considered solely as a workaround in specific cases as stated in my first response, and by no means as the correct answer to this question","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>This was answered ages ago and probably not relevant, but just in case.\nWhen I was confronted with this issue, I simply used an <code>if</code> statement instead of <code>switch</code>, it solved the error.\nIt is of course a workaround and probably not the &quot;right&quot; solution, but in my case it was just enough.</p>\n<h3>Edit: 2021.01.21</h3>\n<p>This Answer is a bit misleading, And I would like to clarify it.</p>\n<ol>\n<li>Replacing a <code>switch</code> statement with an <code>if</code> should not be considered as a goto solution, there are very good reasons why both concepts of <code>switch</code> and <code>if</code> exist in software development, as well as performance matters to consider when choosing between the two.</li>\n<li>Although I provide a solution to the presented error, My answer sheds no light on &quot;why&quot; the problem occurs but instead offers a way around the problem.</li>\n</ol>\n<p>In my specific case, using an <code>if</code> statement instead was just enough to solve the problem. Developers should take the time and decide if this is the right solution for the current problem you have at hand.</p>\n<p>Thus this answer should be considered solely as a workaround in specific cases as stated in my first response, and by no means as the correct answer to this question</p>\n"},{"tags":[],"owner":{"account_id":8953873,"reputation":17307,"user_id":6678991,"accept_rate":75,"display_name":"Mahdi-Malv"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526327896,"creation_date":1526327896,"answer_id":50338099,"question_id":3827393,"body_markdown":"Sometimes the **switch variable** can also make that error for example:&lt;/br&gt;\r\n\r\n    switch(view.getTag()) {//which is an Object type\r\n\r\n       case 0://will give compiler error that says Constant expression required\r\n\r\n       //...\r\n    }\r\n\r\nTo solve you should cast the variable to int(in this case). So:&lt;/br&gt;\r\n\r\n    switch((int)view.getTag()) {//will be int\r\n    \r\n       case 0: //No Error\r\n    \r\n       //...\r\n    }","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Sometimes the <strong>switch variable</strong> can also make that error for example:</p>\n\n<pre><code>switch(view.getTag()) {//which is an Object type\n\n   case 0://will give compiler error that says Constant expression required\n\n   //...\n}\n</code></pre>\n\n<p>To solve you should cast the variable to int(in this case). So:</p>\n\n<pre><code>switch((int)view.getTag()) {//will be int\n\n   case 0: //No Error\n\n   //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543051511,"creation_date":1543051511,"answer_id":53456830,"question_id":3827393,"body_markdown":"Got this error in Android while doing something like this:\r\n\r\n     roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                switch (parent.getItemAtPosition(position)) {\r\n                    case ADMIN_CONSTANT: //Threw the error\r\n                        \r\n                }\r\n\r\ndespite declaring a constant:\r\n\r\n  `public static final String  ADMIN_CONSTANT= &quot;Admin&quot;;`\r\n\r\n\r\nI resolved the issue by changing my code to this:\r\n\r\n    roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                \r\n                String selectedItem = String.valueOf(parent.getItemAtPosition(position));\r\n                switch (selectedItem) {\r\n                    case ADMIN_CONSTANT:\r\n\r\n                }\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Got this error in Android while doing something like this:</p>\n\n<pre><code> roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            switch (parent.getItemAtPosition(position)) {\n                case ADMIN_CONSTANT: //Threw the error\n\n            }\n</code></pre>\n\n<p>despite declaring a constant:</p>\n\n<p><code>public static final String  ADMIN_CONSTANT= \"Admin\";</code></p>\n\n<p>I resolved the issue by changing my code to this:</p>\n\n<pre><code>roleSpinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            String selectedItem = String.valueOf(parent.getItemAtPosition(position));\n            switch (selectedItem) {\n                case ADMIN_CONSTANT:\n\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11621134,"reputation":1666,"user_id":8650422,"display_name":"Hanako"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543941815,"creation_date":1543941815,"answer_id":53617735,"question_id":3827393,"body_markdown":"In my case, I was getting this exception because\r\n\r\n    switch (tipoWebServ) {\r\n                                case VariablesKmDialog.OBTENER_KM:\r\n                                    resultObtenerKm(result);\r\n                                    break;\r\n                                case var.MODIFICAR_KM:\r\n                                    resultModificarKm(result);\r\n                                    break;\r\n                            }\r\n\r\nin the second case I was calling the constant from the instance `var.MODIFICAR_KM:` but I should use `VariablesKmDialog.OBTENER_KM` directly from the class.","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>In my case, I was getting this exception because</p>\n\n<pre><code>switch (tipoWebServ) {\n                            case VariablesKmDialog.OBTENER_KM:\n                                resultObtenerKm(result);\n                                break;\n                            case var.MODIFICAR_KM:\n                                resultModificarKm(result);\n                                break;\n                        }\n</code></pre>\n\n<p>in the second case I was calling the constant from the instance <code>var.MODIFICAR_KM:</code> but I should use <code>VariablesKmDialog.OBTENER_KM</code> directly from the class.</p>\n"},{"tags":[],"owner":{"account_id":2152996,"reputation":2196,"user_id":1908827,"display_name":"Akash Yellappa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568825846,"creation_date":1568825539,"answer_id":57997505,"question_id":3827393,"body_markdown":"If you&#39;re using it in a switch case then you need to get the type of the enum even before you plug that value in the switch. For instance :\r\n\r\n\r\n  \r\n\r\n&gt;   SomeEnum someEnum = SomeEnum.values()[1];\r\n\r\n    \r\n    switch (someEnum) {\r\n                case GRAPES:\r\n                case BANANA: ...\r\n\r\nAnd the enum is like:\r\n\r\n    public enum SomeEnum {\r\n    \r\n        GRAPES(&quot;Grapes&quot;, 0),\r\n        BANANA(&quot;Banana&quot;, 1),\r\n        \r\n        private String typeName;\r\n        private int typeId;\r\n    \r\n        SomeEnum(String typeName, int typeId){\r\n            this.typeName = typeName;\r\n            this.typeId = typeId;\r\n        }\r\n    }\r\n\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>If you're using it in a switch case then you need to get the type of the enum even before you plug that value in the switch. For instance :</p>\n\n<blockquote>\n  <p>SomeEnum someEnum = SomeEnum.values()[1];</p>\n</blockquote>\n\n<pre><code>switch (someEnum) {\n            case GRAPES:\n            case BANANA: ...\n</code></pre>\n\n<p>And the enum is like:</p>\n\n<pre><code>public enum SomeEnum {\n\n    GRAPES(\"Grapes\", 0),\n    BANANA(\"Banana\", 1),\n\n    private String typeName;\n    private int typeId;\n\n    SomeEnum(String typeName, int typeId){\n        this.typeName = typeName;\n        this.typeId = typeId;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9094789,"reputation":3313,"user_id":6769119,"display_name":"Mukundhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571644801,"creation_date":1571644801,"answer_id":58482099,"question_id":3827393,"body_markdown":"Below code is self-explanatory,\r\nWe can use an enum with a switch case:\r\n\r\n    /**\r\n     *\r\n     */\r\n    enum ClassNames {\r\n        STRING(String.class, String.class.getSimpleName()),\r\n        BOOLEAN(Boolean.class, Boolean.class.getSimpleName()),\r\n        INTEGER(Integer.class, Integer.class.getSimpleName()),\r\n        LONG(Long.class, Long.class.getSimpleName());\r\n        private Class typeName;\r\n        private String simpleName;\r\n        ClassNames(Class typeName, String simpleName){\r\n            this.typeName = typeName;\r\n            this.simpleName = simpleName;\r\n        }\r\n    }\r\n\r\nBased on the class values from the enum can be mapped:\r\n\r\n  \r\n\r\n     switch (ClassNames.valueOf(clazz.getSimpleName())) {\r\n            case STRING:\r\n                String castValue = (String) keyValue;\r\n                break;\r\n            case BOOLEAN:\r\n                break;\r\n            case Integer:\r\n                break;\r\n            case LONG:\r\n                break;\r\n            default:\r\n                isValid = false;\r\n        \r\n        }\r\n\r\nHope it helps :)\r\n ","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>Below code is self-explanatory,\nWe can use an enum with a switch case:</p>\n\n<pre><code>/**\n *\n */\nenum ClassNames {\n    STRING(String.class, String.class.getSimpleName()),\n    BOOLEAN(Boolean.class, Boolean.class.getSimpleName()),\n    INTEGER(Integer.class, Integer.class.getSimpleName()),\n    LONG(Long.class, Long.class.getSimpleName());\n    private Class typeName;\n    private String simpleName;\n    ClassNames(Class typeName, String simpleName){\n        this.typeName = typeName;\n        this.simpleName = simpleName;\n    }\n}\n</code></pre>\n\n<p>Based on the class values from the enum can be mapped:</p>\n\n<pre><code> switch (ClassNames.valueOf(clazz.getSimpleName())) {\n        case STRING:\n            String castValue = (String) keyValue;\n            break;\n        case BOOLEAN:\n            break;\n        case Integer:\n            break;\n        case LONG:\n            break;\n        default:\n            isValid = false;\n\n    }\n</code></pre>\n\n<p>Hope it helps :)</p>\n"},{"comments":[{"owner":{"account_id":1445843,"reputation":1494,"user_id":1364368,"accept_rate":100,"display_name":"user1364368"},"score":3,"creation_date":1587046306,"post_id":59143371,"comment_id":108359638,"body_markdown":"I think the enum should have the following constructor:\n\n`private Animal(String name) { this.name = name; }`","body":"I think the enum should have the following constructor:  <code>private Animal(String name) { this.name = name; }</code>"}],"tags":[],"owner":{"account_id":1263788,"reputation":271,"user_id":1699597,"display_name":"Dinesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1662024145,"creation_date":1575305439,"answer_id":59143371,"question_id":3827393,"body_markdown":"I recommend using the following way:\r\n\r\n    public enum Animal {\r\n        DOG(&quot;dog&quot;), TIGER(&quot;tiger&quot;), LION(&quot;lion&quot;);\r\n        private final String name;\r\n\r\n        Animal(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.name;\r\n        }\r\n    }\r\n\r\n\r\n    public class DemoSwitchUsage {\r\n    \r\n         private String getAnimal(String name) {\r\n             Animal animalName = Animal.valueOf(name);\r\n             switch(animalName) {\r\n             case DOG:\r\n                 // write the code required.\r\n                 break;\r\n             case LION:\r\n                 // Write the code required.\r\n                 break;\r\n             default:\r\n                 break;\r\n             }\r\n         }\r\n    }\r\n\r\n","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>I recommend using the following way:</p>\n<pre><code>public enum Animal {\n    DOG(&quot;dog&quot;), TIGER(&quot;tiger&quot;), LION(&quot;lion&quot;);\n    private final String name;\n\n    Animal(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return this.name;\n    }\n}\n\n\npublic class DemoSwitchUsage {\n\n     private String getAnimal(String name) {\n         Animal animalName = Animal.valueOf(name);\n         switch(animalName) {\n         case DOG:\n             // write the code required.\n             break;\n         case LION:\n             // Write the code required.\n             break;\n         default:\n             break;\n         }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14336278,"reputation":27,"user_id":10355652,"display_name":"Marvel Alvarez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635451071,"creation_date":1635451071,"answer_id":69760173,"question_id":3827393,"body_markdown":"The problem is with the int and Integer (i do not why), change the int to string and it work&#39;s\r\n\r\n    public abstract class Foo {\r\n        ...\r\n        public static final String BAR;\r\n        public static final String BAZ;\r\n        public static final String BAM;\r\n        ...\r\n    }\r\n    public static String lookup(String constant) {\r\n        switch (constant) {\r\n            case Foo.BAR: return &quot;bar&quot;;\r\n            case Foo.BAZ: return &quot;baz&quot;;\r\n            case Foo.BAM: return &quot;bam&quot;;\r\n            default: return &quot;unknown&quot;;\r\n        }\r\n    }\r\n\r\n\r\n ","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>The problem is with the int and Integer (i do not why), change the int to string and it work's</p>\n<pre><code>public abstract class Foo {\n    ...\n    public static final String BAR;\n    public static final String BAZ;\n    public static final String BAM;\n    ...\n}\npublic static String lookup(String constant) {\n    switch (constant) {\n        case Foo.BAR: return &quot;bar&quot;;\n        case Foo.BAZ: return &quot;baz&quot;;\n        case Foo.BAM: return &quot;bam&quot;;\n        default: return &quot;unknown&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":44430,"reputation":26557,"user_id":130442,"accept_rate":92,"display_name":"Austin Hyde"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333655,"favorite_count":0,"down_vote_count":0,"up_vote_count":223,"accepted_answer_id":3827424,"answer_count":14,"score":223,"last_activity_date":1666031345,"creation_date":1285815764,"question_id":3827393,"body_markdown":"So, I am working on this class that has a few static constants:\r\n\r\n    public abstract class Foo {\r\n        ...\r\n        public static final int BAR;\r\n        public static final int BAZ;\r\n        public static final int BAM;\r\n        ...\r\n    }\r\n\r\nThen, I would like a way to get a relevant string based on the constant:\r\n\r\n    public static String lookup(int constant) {\r\n        switch (constant) {\r\n            case Foo.BAR: return &quot;bar&quot;;\r\n            case Foo.BAZ: return &quot;baz&quot;;\r\n            case Foo.BAM: return &quot;bam&quot;;\r\n            default: return &quot;unknown&quot;;\r\n        }\r\n    }\r\n\r\nHowever, when I compile, I get a `constant expression required` error on each of the 3 case labels.\r\n\r\nI understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn&#39;t `Foo.BA_` constant?","title":"Java switch statement: Constant expression required, but it IS constant","body":"<p>So, I am working on this class that has a few static constants:</p>\n\n<pre><code>public abstract class Foo {\n    ...\n    public static final int BAR;\n    public static final int BAZ;\n    public static final int BAM;\n    ...\n}\n</code></pre>\n\n<p>Then, I would like a way to get a relevant string based on the constant:</p>\n\n<pre><code>public static String lookup(int constant) {\n    switch (constant) {\n        case Foo.BAR: return \"bar\";\n        case Foo.BAZ: return \"baz\";\n        case Foo.BAM: return \"bam\";\n        default: return \"unknown\";\n    }\n}\n</code></pre>\n\n<p>However, when I compile, I get a <code>constant expression required</code> error on each of the 3 case labels.</p>\n\n<p>I understand that the compiler needs the expression to be known at compile time to compile a switch, but why isn't <code>Foo.BA_</code> constant?</p>\n"},{"tags":["java","android","android-preferences"],"answers":[{"comments":[{"owner":{"account_id":87652,"reputation":52646,"user_id":242930,"display_name":"Nikolay Elenkov"},"score":2,"creation_date":1342669128,"post_id":11552672,"comment_id":15279931,"body_markdown":"Do preferences work with the application context? A lot of things don&#39;t, so using it is always tricky. Also &#39;first activity&#39; is a bit undefined, since the app can be started from a broadcast, pending intent (widget, etc.).","body":"Do preferences work with the application context? A lot of things don&#39;t, so using it is always tricky. Also &#39;first activity&#39; is a bit undefined, since the app can be started from a broadcast, pending intent (widget, etc.)."},{"owner":{"account_id":71316,"reputation":34203,"user_id":206367,"accept_rate":93,"display_name":"t0mm13b"},"score":0,"creation_date":1342710490,"post_id":11552672,"comment_id":15296082,"body_markdown":"@NikolayElenkov sure, I agree there with you, remember, I put in an generic example that was top of my head...it could be modified to suit one&#39;s need. :)","body":"@NikolayElenkov sure, I agree there with you, remember, I put in an generic example that was top of my head...it could be modified to suit one&#39;s need. :)"},{"owner":{"account_id":923404,"reputation":7408,"user_id":954643,"accept_rate":80,"display_name":"qix"},"score":3,"creation_date":1395201709,"post_id":11552672,"comment_id":34225116,"body_markdown":"If you extend Application, couldn&#39;t you initialize your singleton in your subclass and avoid the &#39;first activity&#39; problem?","body":"If you extend Application, couldn&#39;t you initialize your singleton in your subclass and avoid the &#39;first activity&#39; problem?"}],"tags":[],"owner":{"account_id":71316,"reputation":34203,"user_id":206367,"accept_rate":93,"display_name":"t0mm13b"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1666030915,"creation_date":1342660575,"answer_id":11552672,"question_id":11552579,"body_markdown":"Use a singleton class that wraps around the `SharedPreference` settings.. something like this:\r\n\r\n    public class PrefSingleton{\r\n       private static PrefSingleton mInstance;\r\n       private Context mContext;\r\n       //\r\n       private SharedPreferences mMyPreferences;\r\n    \r\n       private PrefSingleton(){ }\r\n    \r\n       public static PrefSingleton getInstance(){\r\n           if (mInstance == null) mInstance = new PrefSingleton();\r\n           return mInstance;\r\n       }\r\n    \r\n       public void Initialize(Context ctxt){\r\n           mContext = ctxt;\r\n           //\r\n           mMyPreferences = PreferenceManager.getDefaultSharedPreferences(mContext);\r\n       }\r\n    }\r\n\r\nAnd create wrapper functions around what your examples represented in the question, for example,\r\n\r\n`PrefSingleton.getInstance().writePreference(&quot;exampleSetting&quot;, &quot;off&quot;);`\r\n\r\nand the implementation could be something like this:\r\n\r\n    // Within Singleton class\r\n    \r\n    public void writePreference(String key, String value){\r\n         Editor e = mMyPreference.edit();\r\n         e.putString(key, value);\r\n         e.commit();\r\n    }\r\n\r\nFrom your first activity, activate the singleton class, in this manner, something like this:\r\n\r\n    PrefSingleton.getInstance().Initialize(getApplicationContext());\r\n\r\nUsing global static classes can be a bad idea and goes against the practice of programming fundamentals. **BUT** having said that, as nit-picky aside, it will ensure only the one and only object of the class `PrefSingleton` can exist and be accessible regardless of what activities the code is at.","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>Use a singleton class that wraps around the <code>SharedPreference</code> settings.. something like this:</p>\n<pre><code>public class PrefSingleton{\n   private static PrefSingleton mInstance;\n   private Context mContext;\n   //\n   private SharedPreferences mMyPreferences;\n\n   private PrefSingleton(){ }\n\n   public static PrefSingleton getInstance(){\n       if (mInstance == null) mInstance = new PrefSingleton();\n       return mInstance;\n   }\n\n   public void Initialize(Context ctxt){\n       mContext = ctxt;\n       //\n       mMyPreferences = PreferenceManager.getDefaultSharedPreferences(mContext);\n   }\n}\n</code></pre>\n<p>And create wrapper functions around what your examples represented in the question, for example,</p>\n<p><code>PrefSingleton.getInstance().writePreference(&quot;exampleSetting&quot;, &quot;off&quot;);</code></p>\n<p>and the implementation could be something like this:</p>\n<pre><code>// Within Singleton class\n\npublic void writePreference(String key, String value){\n     Editor e = mMyPreference.edit();\n     e.putString(key, value);\n     e.commit();\n}\n</code></pre>\n<p>From your first activity, activate the singleton class, in this manner, something like this:</p>\n<pre><code>PrefSingleton.getInstance().Initialize(getApplicationContext());\n</code></pre>\n<p>Using global static classes can be a bad idea and goes against the practice of programming fundamentals. <strong>BUT</strong> having said that, as nit-picky aside, it will ensure only the one and only object of the class <code>PrefSingleton</code> can exist and be accessible regardless of what activities the code is at.</p>\n"},{"comments":[{"owner":{"account_id":87652,"reputation":52646,"user_id":242930,"display_name":"Nikolay Elenkov"},"score":4,"creation_date":1342668986,"post_id":11552754,"comment_id":15279903,"body_markdown":"While this works, using an application class for this is overkill. Not to mention that you will have to cast it to your concrete class every time. A simple helper class with static methods that take a `Context` parameter (you can just pass `this` when in an activity) is much better. The application doesn&#39;t really buy you anything in this case.","body":"While this works, using an application class for this is overkill. Not to mention that you will have to cast it to your concrete class every time. A simple helper class with static methods that take a <code>Context</code> parameter (you can just pass <code>this</code> when in an activity) is much better. The application doesn&#39;t really buy you anything in this case."}],"tags":[],"owner":{"account_id":1249558,"reputation":5689,"user_id":1210260,"accept_rate":71,"display_name":"gobernador"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1342707321,"creation_date":1342661343,"answer_id":11552754,"question_id":11552579,"body_markdown":"I would extend `Application` and include the `SharedPreferences.Editor` as a field with a getter.\r\n\r\n    public class APP extends Application {\r\n        private final SharedPreferences settings = getSharedPreferences(&quot;prefs&quot;, 0);\r\n        private final SharedPreferences.Editor editor = settings.edit();\r\n\r\n        public SharedPreferences.Editor editSharePrefs() {\r\n            return editor;\r\n        }\r\n    }\r\n\r\nThen you can access it from any `Activity` with\r\n\r\n    ((APP) getApplication()).editSharePrefs().putString(&quot;examplesetting&quot;, &quot;off&quot;);\r\n    ((APP) getApplication()).editsharePrefs().commit();\r\n\r\nAlternatively, you could also throw in the method\r\n\r\n        public static APP getAPP(Context context) {\r\n            return (APP) context.getApplicationContext();\r\n        }\r\n\r\nAlthough, this would simply change the calls you make to \r\n\r\n    APP.getAPP(this).editSharePrefs().putString(&quot;examplesetting&quot;, &quot;off&quot;);\r\n    APP.getAPP(this).editsharePrefs().commit();\r\n\r\nSo it really is a personal preference, which looks cleaner to you.","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>I would extend <code>Application</code> and include the <code>SharedPreferences.Editor</code> as a field with a getter.</p>\n\n<pre><code>public class APP extends Application {\n    private final SharedPreferences settings = getSharedPreferences(\"prefs\", 0);\n    private final SharedPreferences.Editor editor = settings.edit();\n\n    public SharedPreferences.Editor editSharePrefs() {\n        return editor;\n    }\n}\n</code></pre>\n\n<p>Then you can access it from any <code>Activity</code> with</p>\n\n<pre><code>((APP) getApplication()).editSharePrefs().putString(\"examplesetting\", \"off\");\n((APP) getApplication()).editsharePrefs().commit();\n</code></pre>\n\n<p>Alternatively, you could also throw in the method</p>\n\n<pre><code>    public static APP getAPP(Context context) {\n        return (APP) context.getApplicationContext();\n    }\n</code></pre>\n\n<p>Although, this would simply change the calls you make to </p>\n\n<pre><code>APP.getAPP(this).editSharePrefs().putString(\"examplesetting\", \"off\");\nAPP.getAPP(this).editsharePrefs().commit();\n</code></pre>\n\n<p>So it really is a personal preference, which looks cleaner to you.</p>\n"},{"tags":[],"owner":{"account_id":1328746,"reputation":46,"user_id":1273060,"display_name":"Clover"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342664700,"creation_date":1342664700,"answer_id":11553080,"question_id":11552579,"body_markdown":"Use a Helper class to get all you want,make the methods static.This is how ADW do.","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>Use a Helper class to get all you want,make the methods static.This is how ADW do.</p>\n"},{"comments":[{"owner":{"account_id":23270,"reputation":1865,"user_id":58175,"accept_rate":70,"display_name":"Ish"},"score":0,"creation_date":1387394165,"post_id":15419635,"comment_id":30943449,"body_markdown":"This is my favorite solution.","body":"This is my favorite solution."},{"owner":{"account_id":3834174,"reputation":19718,"user_id":3178944,"accept_rate":61,"display_name":"Simon"},"score":0,"creation_date":1430648209,"post_id":15419635,"comment_id":48143204,"body_markdown":"I think this would only work if you have all your activities extending BaseActivity. What happens if you have Fragments or ViewPagerAdapters that you need to store variables?","body":"I think this would only work if you have all your activities extending BaseActivity. What happens if you have Fragments or ViewPagerAdapters that you need to store variables?"},{"owner":{"account_id":5036059,"reputation":3632,"user_id":4044787,"accept_rate":78,"display_name":"Randyka Yudhistira"},"score":0,"creation_date":1449486594,"post_id":15419635,"comment_id":56011988,"body_markdown":"@Simon can you just cast your getActivity? ex, `((MainActivity) getActivity) getSharedPref();` ? how about that?","body":"@Simon can you just cast your getActivity? ex, <code>((MainActivity) getActivity) getSharedPref();</code> ? how about that?"}],"tags":[],"owner":{"display_name":"user1869209"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363293320,"creation_date":1363293320,"answer_id":15419635,"question_id":11552579,"body_markdown":"I would do this following :\r\n\r\n    public class BaseActivity extends Activity {\r\n    \r\n            protected boolean setInHistory;\r\n            protected SharedPreferences sharedPrefs;\r\n\r\n              \t@Override\r\n\t        protected void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsharedPrefs = PreferenceManager.getDefaultSharedPreferences(this);\r\n\t\tsetInHistory = true;\r\n\t       }\r\n\r\n    \r\n    }\r\n\r\n\r\n    public class MainActivity extends BaseActivity {\r\n\r\n             public void onCreate(Bundle savedInstanceState) {\r\n                   super.onCreate(savedInstanceState);\r\n                    setContentView(R.layout.activity_main);\r\n\r\n                  System.out.println(setInHistory+&quot; &lt;-- setInhistory&quot;);\r\n\r\n              }\r\n    }\r\n\r\nThen can access sharedPrefs because it is protected then it&#39;s accessible through the package.\r\n\r\n    In the console you have : true &lt;-- setInhistory","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>I would do this following :</p>\n\n<pre><code>public class BaseActivity extends Activity {\n\n        protected boolean setInHistory;\n        protected SharedPreferences sharedPrefs;\n\n            @Override\n        protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    sharedPrefs = PreferenceManager.getDefaultSharedPreferences(this);\n    setInHistory = true;\n       }\n\n\n}\n\n\npublic class MainActivity extends BaseActivity {\n\n         public void onCreate(Bundle savedInstanceState) {\n               super.onCreate(savedInstanceState);\n                setContentView(R.layout.activity_main);\n\n              System.out.println(setInHistory+\" &lt;-- setInhistory\");\n\n          }\n}\n</code></pre>\n\n<p>Then can access sharedPrefs because it is protected then it's accessible through the package.</p>\n\n<pre><code>In the console you have : true &lt;-- setInhistory\n</code></pre>\n"}],"owner":{"account_id":261970,"reputation":14545,"user_id":546509,"accept_rate":70,"display_name":"Ethan Allen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18939,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1666030915,"creation_date":1342659767,"question_id":11552579,"body_markdown":"Is there a way to make SharedPreferences global throughout my whole app? Right now I&#39;m using these lines in a lot of places throughout my code to store simple on/off settings for a number of preferences that my users can set. I just want to call them once globally if possible:\r\n\r\n    SharedPreferences settings = getSharedPreferences(&quot;prefs&quot;, 0);\r\n    SharedPreferences.Editor editor = settings.edit();\r\n\r\nAny tips on how to be able to call just these line in all classes would be awesome:\r\n\r\n    editor.putString(&quot;examplesetting&quot;, &quot;off&quot;);\r\n    editor.commit(); \r\n\r\nand\r\n\r\n    String checkedSetting = settings.getString(&quot;examplesetting&quot;, &quot;&quot;);","title":"Is there a way to make SharedPreferences global throughout my whole Android app?","body":"<p>Is there a way to make SharedPreferences global throughout my whole app? Right now I'm using these lines in a lot of places throughout my code to store simple on/off settings for a number of preferences that my users can set. I just want to call them once globally if possible:</p>\n\n<pre><code>SharedPreferences settings = getSharedPreferences(\"prefs\", 0);\nSharedPreferences.Editor editor = settings.edit();\n</code></pre>\n\n<p>Any tips on how to be able to call just these line in all classes would be awesome:</p>\n\n<pre><code>editor.putString(\"examplesetting\", \"off\");\neditor.commit(); \n</code></pre>\n\n<p>and</p>\n\n<pre><code>String checkedSetting = settings.getString(\"examplesetting\", \"\");\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666025236,"post_id":74100515,"comment_id":130832476,"body_markdown":"You probably need an int array that keeps track of count of vowels in each of the string.","body":"You probably need an int array that keeps track of count of vowels in each of the string."},{"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"score":0,"creation_date":1666025600,"post_id":74100515,"comment_id":130832595,"body_markdown":"missing a for loop to count the vowels of each string","body":"missing a for loop to count the vowels of each string"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1666031135,"post_id":74100515,"comment_id":130834345,"body_markdown":"This is the third question from you - and all about the same problem","body":"This is the third question from you - and all about the same problem"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666025819,"creation_date":1666025819,"answer_id":74100682,"question_id":74100515,"body_markdown":"You can define a function to count the number of vowels as shown below and then use the same in your loop:\r\n\r\n    int vowelsCount(String str) {\r\n        int vowels = 0;\r\n        for (int i = 0; i &lt; str.length(); i++)\r\n            if (str.charAt(i) == &#39;a&#39; || str.charAt(i) == &#39;e&#39; || str.charAt(i) == &#39;i&#39; || str.charAt(i) == &#39;o&#39;\r\n                    || str.charAt(i) == &#39;u&#39;)\r\n                vowels++;\r\n\r\n        return vowels;\r\n    }\r\n\r\n\r\n**Full Demo**:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner keyboard = new Scanner(System.in);\r\n            String[] values = new String[5];\r\n    \r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                System.out.print(&quot;Enter the string:&quot;);\r\n                values[i] = keyboard.nextLine();\r\n            }\r\n    \r\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\r\n            for (int n = 0; n &lt; values.length; n++) {\r\n                System.out.printf(&quot;%15s %15s %15s %15s%n&quot;, n + 1, values[n], values[n].length(), vowelsCount(values[n]));\r\n            }\r\n        }\r\n    \r\n        static int vowelsCount(String str) {\r\n            int vowels = 0;\r\n            for (int i = 0; i &lt; str.length(); i++)\r\n                if (str.charAt(i) == &#39;a&#39; || str.charAt(i) == &#39;e&#39; || str.charAt(i) == &#39;i&#39; || str.charAt(i) == &#39;o&#39;\r\n                        || str.charAt(i) == &#39;u&#39;)\r\n                    vowels++;\r\n    \r\n            return vowels;\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n     Number           Value          Length         Number of Vowels\r\n          1      wonderland              10               3\r\n          2         program               7               2\r\n          3          school               6               2\r\n          4           hello               5               2\r\n          5           mouse               5               3","title":"Number of vowels from string array","body":"<p>You can define a function to count the number of vowels as shown below and then use the same in your loop:</p>\n<pre><code>int vowelsCount(String str) {\n    int vowels = 0;\n    for (int i = 0; i &lt; str.length(); i++)\n        if (str.charAt(i) == 'a' || str.charAt(i) == 'e' || str.charAt(i) == 'i' || str.charAt(i) == 'o'\n                || str.charAt(i) == 'u')\n            vowels++;\n\n    return vowels;\n}\n</code></pre>\n<p><strong>Full Demo</strong>:</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner keyboard = new Scanner(System.in);\n        String[] values = new String[5];\n\n        for (int i = 0; i &lt; values.length; i++) {\n            System.out.print(&quot;Enter the string:&quot;);\n            values[i] = keyboard.nextLine();\n        }\n\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\n        for (int n = 0; n &lt; values.length; n++) {\n            System.out.printf(&quot;%15s %15s %15s %15s%n&quot;, n + 1, values[n], values[n].length(), vowelsCount(values[n]));\n        }\n    }\n\n    static int vowelsCount(String str) {\n        int vowels = 0;\n        for (int i = 0; i &lt; str.length(); i++)\n            if (str.charAt(i) == 'a' || str.charAt(i) == 'e' || str.charAt(i) == 'i' || str.charAt(i) == 'o'\n                    || str.charAt(i) == 'u')\n                vowels++;\n\n        return vowels;\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code> Number           Value          Length         Number of Vowels\n      1      wonderland              10               3\n      2         program               7               2\n      3          school               6               2\n      4           hello               5               2\n      5           mouse               5               3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666030913,"creation_date":1666027051,"answer_id":74100903,"question_id":74100515,"body_markdown":"```\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner keyboard=new Scanner(System.in);\r\n\t\tint vowels = 0, length = 0;\r\n\t\tString[] values = new String[5];\r\n\t\tfor (int i = 0; i&lt;values.length; i++)\r\n\t\t{\r\n\t\t\tSystem.out.print(&quot;Enter the string:&quot;);\r\n\t\t\tvalues[i] = keyboard.next();\r\n\t\t}\r\n\t\tSystem.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\r\n\t\tint[] number = new int[5];\r\n\t\tfor(int n=0; n&lt;number.length;n++) {\r\n\t\t\tvowels = values[n].length() - values[n].replaceAll(&quot;[aeiouAEIOU]&quot;, &quot;&quot;).length();\r\n\t\t\tSystem.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels );\r\n\t\t\tSystem.out.println();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nI compare the length of the `String` with the length of the `String` without vowels.\r\n\r\n`replaceAll()` expects a regular expression as first argument. Because I leave the second argument empty, all vowels will be removed.\r\n\r\nOutput:\r\n```\r\n         Number           Value          Length         Number of Vowels\r\n              1           Hello               5               2\r\n              2              My               2               0\r\n              3            name               4               2\r\n              4              is               2               1\r\n              5       Bumblebee               9               4\r\n```","title":"Number of vowels from string array","body":"<pre><code>    public static void main(String[] args) {\n        Scanner keyboard=new Scanner(System.in);\n        int vowels = 0, length = 0;\n        String[] values = new String[5];\n        for (int i = 0; i&lt;values.length; i++)\n        {\n            System.out.print(&quot;Enter the string:&quot;);\n            values[i] = keyboard.next();\n        }\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\n        int[] number = new int[5];\n        for(int n=0; n&lt;number.length;n++) {\n            vowels = values[n].length() - values[n].replaceAll(&quot;[aeiouAEIOU]&quot;, &quot;&quot;).length();\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels );\n            System.out.println();\n        }\n    }\n</code></pre>\n<p>I compare the length of the <code>String</code> with the length of the <code>String</code> without vowels.</p>\n<p><code>replaceAll()</code> expects a regular expression as first argument. Because I leave the second argument empty, all vowels will be removed.</p>\n<p>Output:</p>\n<pre><code>         Number           Value          Length         Number of Vowels\n              1           Hello               5               2\n              2              My               2               0\n              3            name               4               2\n              4              is               2               1\n              5       Bumblebee               9               4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666029635,"creation_date":1666027434,"answer_id":74100977,"question_id":74100515,"body_markdown":"**Using Java 8**\r\n\r\n*You can try this approach using java 8 concepts as shown below:*\r\n\r\n**Approach Here:**\r\n\r\nI have converted the input array into list using Arrays.asList and then converted each input string into char stream and find the count of vowels in each string.\r\n\r\n\r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            Scanner keyboard = new Scanner(System.in);\r\n            String[] values = new String[5];\r\n    \r\n            for (int i = 0; i &lt; values.length; i++) {\r\n                System.out.print(&quot;Enter the string:&quot;);\r\n                values[i] = keyboard.nextLine();\r\n            }\r\n            AtomicInteger counter = new AtomicInteger(1);\r\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\r\n            Arrays.asList(values).forEach(x -&gt; {\r\n                long count = x.chars().filter(ch -&gt; (ch == &#39;a&#39; || ch == &#39;e&#39; ||\r\n                        ch == &#39;i&#39; || ch == &#39;o&#39; || ch == &#39;u&#39;)).count();\r\n            System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, counter.getAndIncrement(), x, x.length(), count);\r\n            });\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n    Enter the string:wonderland\r\n    Enter the string:program\r\n    Enter the string:school\r\n    Enter the string:hello\r\n    Enter the string:mouse\r\n    \r\n             Number           Value          Length         Number of Vowels\r\n                  1      wonderland              10               3\r\n                  2         program               7               2\r\n                  3          school               6               2\r\n                  4           hello               5               2\r\n                  5           mouse               5               3","title":"Number of vowels from string array","body":"<p><strong>Using Java 8</strong></p>\n<p><em>You can try this approach using java 8 concepts as shown below:</em></p>\n<p><strong>Approach Here:</strong></p>\n<p>I have converted the input array into list using Arrays.asList and then converted each input string into char stream and find the count of vowels in each string.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n\n        Scanner keyboard = new Scanner(System.in);\n        String[] values = new String[5];\n\n        for (int i = 0; i &lt; values.length; i++) {\n            System.out.print(&quot;Enter the string:&quot;);\n            values[i] = keyboard.nextLine();\n        }\n        AtomicInteger counter = new AtomicInteger(1);\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, &quot;Number&quot;, &quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;);\n        Arrays.asList(values).forEach(x -&gt; {\n            long count = x.chars().filter(ch -&gt; (ch == 'a' || ch == 'e' ||\n                    ch == 'i' || ch == 'o' || ch == 'u')).count();\n        System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, counter.getAndIncrement(), x, x.length(), count);\n        });\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Enter the string:wonderland\nEnter the string:program\nEnter the string:school\nEnter the string:hello\nEnter the string:mouse\n\n         Number           Value          Length         Number of Vowels\n              1      wonderland              10               3\n              2         program               7               2\n              3          school               6               2\n              4           hello               5               2\n              5           mouse               5               3\n</code></pre>\n"}],"owner":{"account_id":26592288,"reputation":17,"user_id":20215300,"display_name":"QJack"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1666095862,"answer_count":3,"score":-1,"last_activity_date":1666030913,"creation_date":1666024982,"question_id":74100515,"body_markdown":"The way I find the number of vowels is wrong, but I don&#39;t know how to fix it can you help me?\r\nthis is my program:\r\n\r\n    import java.util.Scanner;\r\n\r\npublic class Array2 {\r\n\r\n   public static void main(String[] args)\r\n   { \r\n   \r\n   \r\n      Scanner keyboard=new Scanner(System.in);   \r\n      int vowels = 0, length = 0;\r\n      \r\n      String[] values = new String[5]; \r\n      \r\n      for (int i = 0; i&lt;values.length; i++)\r\n      {\r\n         System.out.print(&quot;Enter the string:&quot;);\r\n         values[i] = keyboard.nextLine();\r\n         \r\n            if(values[i].charAt(i) == &#39;a&#39; ||values[i].charAt(i) == &#39;e&#39; || values[i].charAt(i) == &#39;i&#39; || values[i].charAt(i) == &#39;o&#39; || values[i].charAt(i) == &#39;u&#39;)\r\n         {\r\n            vowels++;\r\n         }\r\n         \r\n      }\r\n\r\n   \r\n      System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;); \r\n      int[] number = new int[5]; \r\n      for(int n=0; n&lt;number.length;n++)\r\n      {  \r\n      \r\n\r\n         System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels ); \r\n         System.out.println();  \r\n      }  \r\n   \r\n   } \r\n}\r\n\r\noutput:\r\n\r\n          Number         Value            Length         Number of Vowels\r\n              1      wonderland              10               1\r\n\r\n              2         program               7               1\r\n\r\n              3          school               6               1\r\n\r\n              4           hello               5               1\r\n\r\n              5           mouse               5               1\r\n\r\nI don&#39;t know why my number of vowels is wrong.","title":"Number of vowels from string array","body":"<p>The way I find the number of vowels is wrong, but I don't know how to fix it can you help me?\nthis is my program:</p>\n<pre><code>import java.util.Scanner;\n</code></pre>\n<p>public class Array2 {</p>\n<p>public static void main(String[] args)\n{</p>\n<pre><code>  Scanner keyboard=new Scanner(System.in);   \n  int vowels = 0, length = 0;\n  \n  String[] values = new String[5]; \n  \n  for (int i = 0; i&lt;values.length; i++)\n  {\n     System.out.print(&quot;Enter the string:&quot;);\n     values[i] = keyboard.nextLine();\n     \n        if(values[i].charAt(i) == 'a' ||values[i].charAt(i) == 'e' || values[i].charAt(i) == 'i' || values[i].charAt(i) == 'o' || values[i].charAt(i) == 'u')\n     {\n        vowels++;\n     }\n     \n  }\n\n\n  System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;,&quot;Number&quot;,&quot;Value&quot;, &quot; Length&quot;, &quot;        Number of Vowels&quot;); \n  int[] number = new int[5]; \n  for(int n=0; n&lt;number.length;n++)\n  {  \n  \n\n     System.out.printf(&quot;%15s %15s %15s %15s\\n&quot;, n+1,values[n],values[n].length(),vowels ); \n     System.out.println();  \n  }  \n</code></pre>\n<p>}\n}</p>\n<p>output:</p>\n<pre><code>      Number         Value            Length         Number of Vowels\n          1      wonderland              10               1\n\n          2         program               7               1\n\n          3          school               6               1\n\n          4           hello               5               1\n\n          5           mouse               5               1\n</code></pre>\n<p>I don't know why my number of vowels is wrong.</p>\n"},{"tags":["java","android","facebook"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1648550841,"post_id":71647683,"comment_id":126647370,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":24718465,"reputation":21,"user_id":18607870,"display_name":"Burak G&#246;kalp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666030827,"creation_date":1648471509,"question_id":71647683,"body_markdown":"I have recently launched an app that has anonymous and google login enabled on firebase(atm google sign in is not activated in the app).\r\n\r\nFirebase Crashlytics has some crash reports with &quot;Didn&#39;t find class &quot;com.facebook.CustomTabActivity&quot;&quot; on some devices but my app has nothing to with facebook or facebook login. I checked AndroidManifest or buildgraddle files and there is absolutely nothing regarding facebook login.\r\n\r\nWhen I used Search Everywhere function in Android Studio with &quot;facebook&quot;, it brings implementation &#39;com.google.firebase:firebase-auth-ktx:21.0.1&#39; since it includes methods regarding all login types available on Firebase.\r\n\r\nCrash occured on devices GCE x86 phone (Android 9), Pixel 6 (Android 12) and Pixel 5 (Android 11)\r\n\r\nApp doesn&#39;t crash on my and my families phones Galaxy A7, A31, A71 (Android 7, 11, 11 respectively)\r\n\r\nAll crash reports look pretty much below:\r\n\r\n```\r\nCaused by java.lang.ClassNotFoundException\r\nDidn&#39;t find class &quot;com.facebook.CustomTabActivity&quot; on path: DexPathList[[zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/base.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.en.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/lib/arm64, /system/lib64, /system_ext/lib64]]\r\ndalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\r\njava.lang.ClassLoader.loadClass (ClassLoader.java:379)\r\njava.lang.ClassLoader.loadClass (ClassLoader.java:312)\r\nandroid.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\r\nandroidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\r\nandroid.app.Instrumentation.newActivity (Instrumentation.java:1253)\r\nandroid.app.ActivityThread.performLaunchActivity (ActivityThread.java:3335)\r\nandroid.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3595)\r\nandroid.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\r\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\nandroid.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2066)\r\nandroid.os.Handler.dispatchMessage (Handler.java:106)\r\nandroid.os.Looper.loop (Looper.java:223)\r\nandroid.app.ActivityThread.main (ActivityThread.java:7664)\r\njava.lang.reflect.Method.invoke (Method.java)\r\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\r\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:947)\r\n```\r\n\r\nI could not find any solution on internet, worst part is I can&#39;t reproduce the crash on my phone\r\n\r\nCan anyone help?","title":"Didn&#39;t find class &quot;com.facebook.CustomTabActivity&quot;","body":"<p>I have recently launched an app that has anonymous and google login enabled on firebase(atm google sign in is not activated in the app).</p>\n<p>Firebase Crashlytics has some crash reports with &quot;Didn't find class &quot;com.facebook.CustomTabActivity&quot;&quot; on some devices but my app has nothing to with facebook or facebook login. I checked AndroidManifest or buildgraddle files and there is absolutely nothing regarding facebook login.</p>\n<p>When I used Search Everywhere function in Android Studio with &quot;facebook&quot;, it brings implementation 'com.google.firebase:firebase-auth-ktx:21.0.1' since it includes methods regarding all login types available on Firebase.</p>\n<p>Crash occured on devices GCE x86 phone (Android 9), Pixel 6 (Android 12) and Pixel 5 (Android 11)</p>\n<p>App doesn't crash on my and my families phones Galaxy A7, A31, A71 (Android 7, 11, 11 respectively)</p>\n<p>All crash reports look pretty much below:</p>\n<pre><code>Caused by java.lang.ClassNotFoundException\nDidn't find class &quot;com.facebook.CustomTabActivity&quot; on path: DexPathList[[zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/base.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.en.apk&quot;, zip file &quot;/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/split_config.xxhdpi.apk&quot;],nativeLibraryDirectories=[/data/app/~~Ko9ZjzfmE8iRzY8kL5QL1Q==/com.hashi_daily_bridge_puzzles-HJbJv6IA69g_I2HGK8O82A==/lib/arm64, /system/lib64, /system_ext/lib64]]\ndalvik.system.BaseDexClassLoader.findClass (BaseDexClassLoader.java:207)\njava.lang.ClassLoader.loadClass (ClassLoader.java:379)\njava.lang.ClassLoader.loadClass (ClassLoader.java:312)\nandroid.app.AppComponentFactory.instantiateActivity (AppComponentFactory.java:95)\nandroidx.core.app.CoreComponentFactory.instantiateActivity (CoreComponentFactory.java:45)\nandroid.app.Instrumentation.newActivity (Instrumentation.java:1253)\nandroid.app.ActivityThread.performLaunchActivity (ActivityThread.java:3335)\nandroid.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3595)\nandroid.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:85)\nandroid.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\nandroid.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\nandroid.app.ActivityThread$H.handleMessage (ActivityThread.java:2066)\nandroid.os.Handler.dispatchMessage (Handler.java:106)\nandroid.os.Looper.loop (Looper.java:223)\nandroid.app.ActivityThread.main (ActivityThread.java:7664)\njava.lang.reflect.Method.invoke (Method.java)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:592)\ncom.android.internal.os.ZygoteInit.main (ZygoteInit.java:947)\n</code></pre>\n<p>I could not find any solution on internet, worst part is I can't reproduce the crash on my phone</p>\n<p>Can anyone help?</p>\n"},{"tags":["java","jms","message-queue","spring-jms"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657387304,"post_id":72921850,"comment_id":128800445,"body_markdown":"How do you know the consumer is stopping? Have you taken any thread dumps from the consumer application? If so, can you paste one into the question?","body":"How do you know the consumer is stopping? Have you taken any thread dumps from the consumer application? If so, can you paste one into the question?"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1657468997,"post_id":72921850,"comment_id":128812237,"body_markdown":"Thanks for the response. I have not taken thread dump. I&#39;m consuming from the queue and if the consumer is stopped the lag in queue get increased. It gets normal once I restart the pod","body":"Thanks for the response. I have not taken thread dump. I&#39;m consuming from the queue and if the consumer is stopped the lag in queue get increased. It gets normal once I restart the pod"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657481303,"post_id":72921850,"comment_id":128814692,"body_markdown":"You need to get some thread dumps to see what the consuming application is actually doing when it stalls. It may be hung in another call (e.g. sending the message to Kafka).","body":"You need to get some thread dumps to see what the consuming application is actually doing when it stalls. It may be hung in another call (e.g. sending the message to Kafka)."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1657649487,"post_id":72921850,"comment_id":128859386,"body_markdown":"Any feedback here?","body":"Any feedback here?"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1657944827,"post_id":72921850,"comment_id":128935618,"body_markdown":"waiting for @JmsListener stop consuming messages so that I can take thread dump","body":"waiting for @JmsListener stop consuming messages so that I can take thread dump"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658321219,"post_id":72921850,"comment_id":129022112,"body_markdown":"org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@b14cd7f:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])\n\ngetting this log","body":"org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocke&zwnj;&#8203;t([org.apache.tomcat&zwnj;&#8203;.util.net.NioEndpoin&zwnj;&#8203;t$NioSocketWrapper@b&zwnj;&#8203;14cd7f:org.apache.to&zwnj;&#8203;mcat.util.net.NioCha&zwnj;&#8203;nnel@686840e4:java.n&zwnj;&#8203;io.channels.SocketCh&zwnj;&#8203;annel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])  getting this log"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658324127,"post_id":72921850,"comment_id":129023502,"body_markdown":"That appears unrelated to the consumer issue at this point.","body":"That appears unrelated to the consumer issue at this point."},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658338304,"post_id":72921850,"comment_id":129029380,"body_markdown":"One more observation, I have 2 pods and they both stopped with the interval of 2 sec and same logs","body":"One more observation, I have 2 pods and they both stopped with the interval of 2 sec and same logs"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658340484,"post_id":72921850,"comment_id":129030104,"body_markdown":"If they&#39;re both using the same shared resource (e.g. Kafka instance) that would make sense. Did you ever get those thread dumps? If so, please add them to the question.","body":"If they&#39;re both using the same shared resource (e.g. Kafka instance) that would make sense. Did you ever get those thread dumps? If so, please add them to the question."},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658411030,"post_id":72921850,"comment_id":129048979,"body_markdown":"is there any alternatige for @JmsListener for consuming records?\nyes I&#39;m using shared resource. Now I dont have thread dump will get it next time when listener stops","body":"is there any alternatige for @JmsListener for consuming records? yes I&#39;m using shared resource. Now I dont have thread dump will get it next time when listener stops"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1658413040,"post_id":72921850,"comment_id":129049853,"body_markdown":"Yes, there are alternatives to Spring&#39;s JmsListener. The simplest is just using the JMS API directly. However, changing your application at this point would be premature since you don&#39;t have a clear understanding of root cause of the problem.","body":"Yes, there are alternatives to Spring&#39;s JmsListener. The simplest is just using the JMS API directly. However, changing your application at this point would be premature since you don&#39;t have a clear understanding of root cause of the problem."},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658469969,"post_id":72921850,"comment_id":129063335,"body_markdown":"@JustinBertram added thread dump\nhttps://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit","body":"@JustinBertram added thread dump <a href=\"https://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit\" rel=\"nofollow noreferrer\">docs.google.com/document/d/&hellip;</a>"},{"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"score":0,"creation_date":1658820631,"post_id":72921850,"comment_id":129139800,"body_markdown":"@JustinBertram did you find something?","body":"@JustinBertram did you find something?"}],"answers":[{"tags":[],"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666030815,"creation_date":1666030815,"answer_id":74101527,"question_id":72921850,"body_markdown":"Well, after discussing with network and devops team and checking the logs from server side we found out that this was caused by firewall due to which network was getting dropped","title":"Why @JMSListener stops listening events without any error or exception in Spring Boot application","body":"<p>Well, after discussing with network and devops team and checking the logs from server side we found out that this was caused by firewall due to which network was getting dropped</p>\n"}],"owner":{"account_id":14762290,"reputation":63,"user_id":10661256,"display_name":"Ankit Kadam"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":526,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666030815,"creation_date":1657374166,"question_id":72921850,"body_markdown":"I&#39;m consuming events from Tibco EMS using `@JMSListener(destination = &quot;myDestination&quot;, concurrency = &quot;1-2&quot;)` and pushing them to Kafka.\r\n\r\nHere&#39;s my `ConfigClass`:\r\n```java\r\n@Configuration\r\n@EnableJms\r\npublic class ConfigClass {\r\n     @Bean(name = &quot;emsConFactory&quot;)\r\n     public ConnectionFactory connectionFactory() throws JMSException {\r\n          final TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\r\n    \r\n          factory.setServerUrl(url);\r\n          factory.setUserName(userName);\r\n          factory.setUserPassword(password);\r\n    \r\n          return factory;\r\n     }\r\n    \r\n     @Bean\r\n     public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() throws JMSException {\r\n          DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\r\n          factory.setConnectionFactory(connectionFactory());\r\n          return factory;\r\n     }\r\n}\r\n```\r\nBut the consumer is stopping without any exception or error.\r\n\r\nLogs after consuming last msg:\r\n```\r\n2022-07-20 17:24:42.215 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507) and timeout 30000 to node 2: {acks=-1,timeout=30000,partitionSizes=[jms-json-horeca-ims-feed-1=419]}\r\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Received PRODUCE response from node 2 for request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507): ProduceResponseData(responses=[TopicProduceResponse(name=&#39;jms-json-horeca-ims-feed&#39;, partitionResponses=[PartitionProduceResponse(index=1, errorCode=0, baseOffset=3236704, logAppendTimeMs=-1, logStartOffset=2214655, recordErrors=[], errorMessage=null)])], throttleTimeMs=0)\r\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId: 8365; Set last ack&#39;d sequence number for topic-partition jms-json-horeca-ims-feed-1 to 248953\r\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-80-exec-3] latch=2\r\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@b14cd7f:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])\r\n2022-07-20 17:24:48.538 DEBUG 1 --- [nio-80-Acceptor] o.apache.tomcat.util.threads.LimitLatch  : Counting up[http-nio-80-Acceptor] latch=2\r\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [113]\r\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@43d1784a:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/10.0.79.46:39190]], Read from buffer: [0]\r\n```\r\n\r\nThread dump:\r\n\r\nhttps://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit?usp=sharing","title":"Why @JMSListener stops listening events without any error or exception in Spring Boot application","body":"<p>I'm consuming events from Tibco EMS using <code>@JMSListener(destination = &quot;myDestination&quot;, concurrency = &quot;1-2&quot;)</code> and pushing them to Kafka.</p>\n<p>Here's my <code>ConfigClass</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableJms\npublic class ConfigClass {\n     @Bean(name = &quot;emsConFactory&quot;)\n     public ConnectionFactory connectionFactory() throws JMSException {\n          final TibjmsConnectionFactory factory = new TibjmsConnectionFactory();\n    \n          factory.setServerUrl(url);\n          factory.setUserName(userName);\n          factory.setUserPassword(password);\n    \n          return factory;\n     }\n    \n     @Bean\n     public DefaultJmsListenerContainerFactory jmsListenerContainerFactory() throws JMSException {\n          DefaultJmsListenerContainerFactory factory = new DefaultJmsListenerContainerFactory();\n          factory.setConnectionFactory(connectionFactory());\n          return factory;\n     }\n}\n</code></pre>\n<p>But the consumer is stopping without any exception or error.</p>\n<p>Logs after consuming last msg:</p>\n<pre><code>2022-07-20 17:24:42.215 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507) and timeout 30000 to node 2: {acks=-1,timeout=30000,partitionSizes=[jms-json-horeca-ims-feed-1=419]}\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] org.apache.kafka.clients.NetworkClient   : [Producer clientId=producer-1] Received PRODUCE response from node 2 for request with header RequestHeader(apiKey=PRODUCE, apiVersion=7, clientId=producer-1, correlationId=1274507): ProduceResponseData(responses=[TopicProduceResponse(name='jms-json-horeca-ims-feed', partitionResponses=[PartitionProduceResponse(index=1, errorCode=0, baseOffset=3236704, logAppendTimeMs=-1, logStartOffset=2214655, recordErrors=[], errorMessage=null)])], throttleTimeMs=0)\n2022-07-20 17:24:42.217 DEBUG 1 --- [ad | producer-1] o.a.k.c.p.internals.TransactionManager   : [Producer clientId=producer-1] ProducerId: 8365; Set last ack'd sequence number for topic-partition jms-json-horeca-ims-feed-1 to 248953\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] o.apache.tomcat.util.threads.LimitLatch  : Counting down[http-nio-80-exec-3] latch=2\n2022-07-20 17:24:46.551 DEBUG 1 --- [p-nio-80-exec-3] org.apache.tomcat.util.net.NioEndpoint   : Calling [org.apache.tomcat.util.net.NioEndpoint@750d3d61].closeSocket([org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@b14cd7f:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/100.107.212.96:42696]])\n2022-07-20 17:24:48.538 DEBUG 1 --- [nio-80-Acceptor] o.apache.tomcat.util.threads.LimitLatch  : Counting up[http-nio-80-Acceptor] latch=2\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.coyote.http11.Http11InputBuffer      : Before fill(): parsingHeader: [true], parsingRequestLine: [true], parsingRequestLinePhase: [0], parsingRequestLineStart: [0], byteBuffer.position(): [0], byteBuffer.limit(): [0], end: [113]\n2022-07-20 17:24:48.538 DEBUG 1 --- [p-nio-80-exec-2] o.a.tomcat.util.net.SocketWrapperBase    : Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@43d1784a:org.apache.tomcat.util.net.NioChannel@686840e4:java.nio.channels.SocketChannel[connected local=/100.105.73.169:80 remote=/10.0.79.46:39190]], Read from buffer: [0]\n</code></pre>\n<p>Thread dump:</p>\n<p><a href=\"https://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit?usp=sharing\" rel=\"nofollow noreferrer\">https://docs.google.com/document/d/1otTaK458itGmvDzgqVpCgE2MEfs9hMt-WFJ2F2Rllk0/edit?usp=sharing</a></p>\n"},{"tags":["java"],"owner":{"account_id":3465916,"reputation":884,"user_id":2901466,"accept_rate":69,"display_name":"cluemein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1406218805,"answer_count":0,"score":-1,"last_activity_date":1666030772,"creation_date":1403190192,"question_id":24309861,"body_markdown":"I am trying to use the local version of css-validator, but can&#39;t seem to get it to work.  I think everything is set up correctly, but whenever I run it with the command given as an example by w3c, it gives errors.  Some people say I am missing something in my path or something like that, but I am not sure which path they are talking about (build path or environmental variables), and I don&#39;t know what exactly needs to be put into this path either.  \r\n\r\nI have looked for detailed instructions, but the most detailed instruction I found was that it needed to be in lib (which lib, I see hundreds of them).  For reference, here is the documentation of css-validator.jar that I have found so far (which is not much, consisting of nothing but a command to run in cmd prompt):\r\nhttp://jigsaw.w3.org/css-validator/DOWNLOAD.html\r\n\r\nThis is the part most relevant from there:\r\nNote : the css-validator.jar file must be located at the exact same level as the lib/ folder to work properly.\r\n\r\n\r\nAlso, I tried using the jcabi.w3c wrapper(which I thought it said it only needed one dependency, but another website said it needed more, including glassfish jersey-core), but it talks about all these dependencies that I don&#39;t know where to put them (its xml, but it doesn&#39;t seem to match an Ivy document) and many I don&#39;t even have or know how to set up. \r\n\r\n The w3c wrapper simply says &quot;No main in selection&quot; when I try to run it (which is a message I have never even seen before in cmd).  So how do I get this thing working?  Where is the documentation (more than 3 lines that W3C provides please,)?  \r\n\r\n\r\nAlso, the error I am getting when trying to use css-validator.jar:\r\n\r\n    C:\\Users\\burnjc\\Downloads&gt;java -jar css-validator.jar http://www.w3.org/\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/w3c/tools/resourc\r\n    es/ProtocolException\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2531)\r\n        at java.lang.Class.getMethod0(Class.java:2774)\r\n        at java.lang.Class.getMethod(Class.java:1663)\r\n        at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:494)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:486)\r\n\r\n    Caused by: java.lang.ClassNotFoundException: org.w3c.tools.resources.ProtocolExc\r\n    eption\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        ... 6 more\r\n\r\n","title":"Are there any detailed instructions for how to use css-validator.jar?","body":"<p>I am trying to use the local version of css-validator, but can't seem to get it to work.  I think everything is set up correctly, but whenever I run it with the command given as an example by w3c, it gives errors.  Some people say I am missing something in my path or something like that, but I am not sure which path they are talking about (build path or environmental variables), and I don't know what exactly needs to be put into this path either.  </p>\n\n<p>I have looked for detailed instructions, but the most detailed instruction I found was that it needed to be in lib (which lib, I see hundreds of them).  For reference, here is the documentation of css-validator.jar that I have found so far (which is not much, consisting of nothing but a command to run in cmd prompt):\n<a href=\"http://jigsaw.w3.org/css-validator/DOWNLOAD.html\" rel=\"nofollow\">http://jigsaw.w3.org/css-validator/DOWNLOAD.html</a></p>\n\n<p>This is the part most relevant from there:\nNote : the css-validator.jar file must be located at the exact same level as the lib/ folder to work properly.</p>\n\n<p>Also, I tried using the jcabi.w3c wrapper(which I thought it said it only needed one dependency, but another website said it needed more, including glassfish jersey-core), but it talks about all these dependencies that I don't know where to put them (its xml, but it doesn't seem to match an Ivy document) and many I don't even have or know how to set up. </p>\n\n<p>The w3c wrapper simply says \"No main in selection\" when I try to run it (which is a message I have never even seen before in cmd).  So how do I get this thing working?  Where is the documentation (more than 3 lines that W3C provides please,)?  </p>\n\n<p>Also, the error I am getting when trying to use css-validator.jar:</p>\n\n<pre><code>C:\\Users\\burnjc\\Downloads&gt;java -jar css-validator.jar http://www.w3.org/\nException in thread \"main\" java.lang.NoClassDefFoundError: org/w3c/tools/resourc\nes/ProtocolException\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2531)\n    at java.lang.Class.getMethod0(Class.java:2774)\n    at java.lang.Class.getMethod(Class.java:1663)\n    at sun.launcher.LauncherHelper.getMainMethod(LauncherHelper.java:494)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:486)\n\nCaused by: java.lang.ClassNotFoundException: org.w3c.tools.resources.ProtocolExc\neption\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:366)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:355)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:354)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","eclipse","spring-boot","maven","esapi"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653466558,"post_id":72374032,"comment_id":127856699,"body_markdown":"Welcome to stackoverflow. It cannot find a properties file in the location it is expecting it, this has nothing to do with conflicting dependencies. Please add the **full stacktrace** instead of a snippet.","body":"Welcome to stackoverflow. It cannot find a properties file in the location it is expecting it, this has nothing to do with conflicting dependencies. Please add the <b>full stacktrace</b> instead of a snippet."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653467463,"post_id":72374032,"comment_id":127857038,"body_markdown":"@M.Deinum When we see this error generally we think for that but in my case we are not   providing / using the file anywhere in the code then how come it is working for some other project and same dependancies?","body":"@M.Deinum When we see this error generally we think for that but in my case we are not   providing / using the file anywhere in the code then how come it is working for some other project and same dependancies?"},{"owner":{"account_id":9603898,"reputation":396,"user_id":7130482,"display_name":"Einstein_AB"},"score":0,"creation_date":1653472039,"post_id":72374032,"comment_id":127858755,"body_markdown":"@NamanSharma I am currently struggling to integrate ESAPI with my springboot project. \nI have tried the documentation guide as well. Can you help me with a minimal example of steps that would be needed for the setup. I would really appreciate the help","body":"@NamanSharma I am currently struggling to integrate ESAPI with my springboot project.  I have tried the documentation guide as well. Can you help me with a minimal example of steps that would be needed for the setup. I would really appreciate the help"},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653472875,"post_id":72374032,"comment_id":127859096,"body_markdown":"@Einstein_AB I found this link usefull : [link](https://blog.katastros.com/a?ID=00750-6b758253-3217-4515-a80d-fa6952730423)","body":"@Einstein_AB I found this link usefull : <a href=\"https://blog.katastros.com/a?ID=00750-6b758253-3217-4515-a80d-fa6952730423\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653473625,"post_id":72374032,"comment_id":127859338,"body_markdown":"It requires a properties file to be configured, without that file it won&#39;t work. So provide the said file. Judging from this it eventually finds something and you are just triggered by the warnings...","body":"It requires a properties file to be configured, without that file it won&#39;t work. So provide the said file. Judging from this it eventually finds something and you are just triggered by the warnings..."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653475413,"post_id":72374032,"comment_id":127859906,"body_markdown":"@M.Deinum Check the updated description that&#39;s what the actual exception is that is comming from service also note this exception i am getting in my local only when the same service is deployed on server where it has only those dependancy which are required by the service it works as expected but in local as i have some other projects which use other version of this dependancy it is causing the above issue.","body":"@M.Deinum Check the updated description that&#39;s what the actual exception is that is comming from service also note this exception i am getting in my local only when the same service is deployed on server where it has only those dependancy which are required by the service it works as expected but in local as i have some other projects which use other version of this dependancy it is causing the above issue."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653477416,"post_id":72374032,"comment_id":127860607,"body_markdown":"That error is about creating an instance **not** the loading of a properties file. As stated you are mixing things and get triggered by the warnings. If you want to add something add the **full stacktrace** as that will contain a cause (probably some mixing of versions, incompatible other things).","body":"That error is about creating an instance <b>not</b> the loading of a properties file. As stated you are mixing things and get triggered by the warnings. If you want to add something add the <b>full stacktrace</b> as that will contain a cause (probably some mixing of versions, incompatible other things)."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653483091,"post_id":72374032,"comment_id":127862858,"body_markdown":"@M.Deinum I have added the complete stacktrace.","body":"@M.Deinum I have added the complete stacktrace."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653483332,"post_id":72374032,"comment_id":127862978,"body_markdown":"Well if you read the stacktrace it is pretty clear `java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory`... Apparenty you are either missing some (additional?) dependency or you are mixing different versions of that dependency. Or that class is loaded dynamically based on a property in your properties file and that name/location of the class has changed.","body":"Well if you read the stacktrace it is pretty clear <code>java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory</code>... Apparenty you are either missing some (additional?) dependency or you are mixing different versions of that dependency. Or that class is loaded dynamically based on a property in your properties file and that name/location of the class has changed."},{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653484612,"post_id":72374032,"comment_id":127863548,"body_markdown":"@M.Deinum yeah that is what i am trying to say when the service is deployed on the server it picks the correct version as there are no other dependancies present apart from the one&#39;s that are declared in service, but since my local has the previous version of this dependancy it is conflicting in my local when i try to remove the depedency manually and update the project the depedency folder is created again, as i mentioned earlier that i was able to resolve this for other project by deleting the dependency manually but for some reason not working for this project.","body":"@M.Deinum yeah that is what i am trying to say when the service is deployed on the server it picks the correct version as there are no other dependancies present apart from the one&#39;s that are declared in service, but since my local has the previous version of this dependancy it is conflicting in my local when i try to remove the depedency manually and update the project the depedency folder is created again, as i mentioned earlier that i was able to resolve this for other project by deleting the dependency manually but for some reason not working for this project."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653484757,"post_id":72374032,"comment_id":127863617,"body_markdown":"There is no conflicting dependency... There is only one, unless you included both.","body":"There is no conflicting dependency... There is only one, unless you included both."}],"answers":[{"comments":[{"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"score":0,"creation_date":1653560183,"post_id":72385034,"comment_id":127883564,"body_markdown":"Thanks for the advice in our case we are not defining any property in ESAPI.properties it is blank so i think we should be good as you mentioned in your answer. The problem i am facing is that after the update my project is somehow not able to dereference the older version and as i mentioned i was able to run another similar project with similar dependency structure to run fine after i manually removed the dependency from .m2 folder and re-downloaded all the required dependencies but when i tried the similar approach in another project i am still facing the same issue in my local.","body":"Thanks for the advice in our case we are not defining any property in ESAPI.properties it is blank so i think we should be good as you mentioned in your answer. The problem i am facing is that after the update my project is somehow not able to dereference the older version and as i mentioned i was able to run another similar project with similar dependency structure to run fine after i manually removed the dependency from .m2 folder and re-downloaded all the required dependencies but when i tried the similar approach in another project i am still facing the same issue in my local."},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1653657889,"post_id":72385034,"comment_id":127910506,"body_markdown":"It may be that someone has dumped an ESAPI.properties in one of your application jars and it is finding it that way. Try pointing to the new one via the System property org.owasp.esapi.resources, as per https://www.javadoc.io/doc/org.owasp.esapi/esapi and you may be able to work around that problem.","body":"It may be that someone has dumped an ESAPI.properties in one of your application jars and it is finding it that way. Try pointing to the new one via the System property org.owasp.esapi.resources, as per <a href=\"https://www.javadoc.io/doc/org.owasp.esapi/esapi\" rel=\"nofollow noreferrer\">javadoc.io/doc/org.owasp.esapi/esapi</a> and you may be able to work around that problem."},{"owner":{"account_id":10925100,"reputation":976,"user_id":8030048,"display_name":"M. Amer"},"score":0,"creation_date":1666184253,"post_id":72385034,"comment_id":130875094,"body_markdown":"For those who kept looking for the config files for sometime like I did:\nhttps://github.com/ESAPI/esapi-java-legacy/releases/download/esapi-2.5.0.0/esapi-2.5.0.0-configuration.jar","body":"For those who kept looking for the config files for sometime like I did: <a href=\"https://github.com/ESAPI/esapi-java-legacy/releases/download/esapi-2.5.0.0/esapi-2.5.0.0-configuration.jar\" rel=\"nofollow noreferrer\">github.com/ESAPI/esapi-java-legacy/releases/download/&hellip;</a>"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1666320052,"post_id":72385034,"comment_id":130914230,"body_markdown":"@M.Amer - Yeah, sorry about that. We try to document that under &#39;releases&#39;. A long time ago, we used to bundle those default ESAPI configuration files as resources in the ESAPI jar itself, but it made them difficult to change (especially back when we used &#39;jarsigner&#39; to since the ESAPI jar). It just caused more confusion than it was worth so we split it out into a separate jar. Unfortunately, I&#39;ve not be able to figure out how to get the configuration jar to upload to Maven Central. :-(","body":"@M.Amer - Yeah, sorry about that. We try to document that under &#39;releases&#39;. A long time ago, we used to bundle those default ESAPI configuration files as resources in the ESAPI jar itself, but it made them difficult to change (especially back when we used &#39;jarsigner&#39; to since the ESAPI jar). It just caused more confusion than it was worth so we split it out into a separate jar. Unfortunately, I&#39;ve not be able to figure out how to get the configuration jar to upload to Maven Central. :-("}],"tags":[],"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653520255,"creation_date":1653520255,"answer_id":72385034,"question_id":72374032,"body_markdown":"Based on your actual exception stack trace that you present, I think this line points to the problem:\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\r\n\r\n(About 10 lines or so from the bottom.)\r\n\r\nYou mentioned that you had went from ESAPI 2.1.0.1 to 2.4.0.0. Back during ESAPI 2.2.1.0 (which you skipped over), we refactored the Logger class names to add support for SLF4J. So, I&#39;m guessing that you didn&#39;t read those release notes, which is understandable. However, as a result of the refactoring, there were some required changes that needed to be made in your **ESAPI.properties** file and it looks as though you didn&#39;t make those.  Specifically, you need to  to update your `ESAPI.Logger` property with one of the new class names in your and possibly make some other related changes as discussed in https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.2.1.0-release-notes.txt#L128-L155 and several successive release notes. (I left that paragraph in the release notes for several releases over a couple of years, but I finally pulled it out of 2.3.0.0 because we had so much other important stuff in there that we didn&#39;t want people to skim over.)ESAPI.Logger\r\n\r\nAnyhow, had you just used the stock configuration files from the esapi.2.4.0.0-configuration.jar, it likely would have worked, but like most people migrating, they don&#39;t think they need to update the **ESAPI.properties** file. And since the stack trace is so long, you almost have to know what you&#39;re looking for to find the root cause. But I think that should fix your problem. It if doesn&#39;t, let me know as there could always be other things wrong as well.\r\n\r\nHope that helps.","title":"Failed To Load ESAPI.properties Error In Java Spring Boot 2.6.7 After Updating The ESAPI Dependancy","body":"<p>Based on your actual exception stack trace that you present, I think this line points to the problem:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\n</code></pre>\n<p>(About 10 lines or so from the bottom.)</p>\n<p>You mentioned that you had went from ESAPI 2.1.0.1 to 2.4.0.0. Back during ESAPI 2.2.1.0 (which you skipped over), we refactored the Logger class names to add support for SLF4J. So, I'm guessing that you didn't read those release notes, which is understandable. However, as a result of the refactoring, there were some required changes that needed to be made in your <strong>ESAPI.properties</strong> file and it looks as though you didn't make those.  Specifically, you need to  to update your <code>ESAPI.Logger</code> property with one of the new class names in your and possibly make some other related changes as discussed in <a href=\"https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.2.1.0-release-notes.txt#L128-L155\" rel=\"nofollow noreferrer\">https://github.com/ESAPI/esapi-java-legacy/blob/develop/documentation/esapi4java-core-2.2.1.0-release-notes.txt#L128-L155</a> and several successive release notes. (I left that paragraph in the release notes for several releases over a couple of years, but I finally pulled it out of 2.3.0.0 because we had so much other important stuff in there that we didn't want people to skim over.)ESAPI.Logger</p>\n<p>Anyhow, had you just used the stock configuration files from the esapi.2.4.0.0-configuration.jar, it likely would have worked, but like most people migrating, they don't think they need to update the <strong>ESAPI.properties</strong> file. And since the stack trace is so long, you almost have to know what you're looking for to find the root cause. But I think that should fix your problem. It if doesn't, let me know as there could always be other things wrong as well.</p>\n<p>Hope that helps.</p>\n"}],"owner":{"account_id":12848357,"reputation":11,"user_id":9294047,"display_name":"Naman Sharma"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666030461,"creation_date":1653466032,"question_id":72374032,"body_markdown":"Getting \r\n```\r\njava.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\r\n```\r\nAfter updating the ESAPI dependency from 2.1.0.1 to 2.4.0.0 in one of my projects. Although i was able to remove this error in another project by removing the previous version of the dependancy when i am trying the similar approach in another project it is still giving the error. Tried maven clean install , maven update &amp; eclipse:eclipse as well no help from these. is there any way i can find what the actual cause of this is as the current solution that i have is to clean the .m2 folder redownload the dependancy again but that is very lengthy process. Also i am not sure why the old one is conflicting with the new one when i try maven dependancy i am only seeing the newer version in the output. Although i am not using the library in this project it is coming as part of dependancy we have.\r\n\r\n\r\nThe StackTrace\r\n\r\n    ESAPI: WARNING: System property [org.owasp.esapi.opsteam] is not set\r\n    ESAPI: WARNING: System property [org.owasp.esapi.devteam] is not set\r\n    ESAPI: Attempting to load ESAPI.properties via file I/O.\r\n    ESAPI: Attempting to load ESAPI.properties as resource file via file I/O.\r\n    ESAPI: Not found in &#39;org.owasp.esapi.resources&#39; directory or file not readable: C:\\git\\xyzproject\\ESAPI.properties\r\n    ESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\ESAPI.properties\r\n    ESAPI: Not found in &#39;user.home&#39; (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\ESAPI.properties\r\n    ESAPI: Loading ESAPI.properties via file I/O failed. Exception was: java.io.FileNotFoundException\r\n    ESAPI: Attempting to load ESAPI.properties via the classpath.\r\n    ESAPI: SUCCESSFULLY LOADED ESAPI.properties via the CLASSPATH from &#39;/ (root)&#39; using current thread context class loader!\r\n    ESAPI: SecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\r\n    ESAPI: SecurityConfiguration for Validator.ConfigurationFile not found in ESAPI.properties. Using default: validation.properties\r\n    ESAPI: Attempting to load validation.properties via file I/O.\r\n    ESAPI: Attempting to load validation.properties as resource file via file I/O.\r\n    ESAPI: Not found in &#39;org.owasp.esapi.resources&#39; directory or file not readable: C:\\git\\xyzproject\\validation.properties\r\n    ESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\validation.properties\r\n    ESAPI: Not found in &#39;user.home&#39; (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\validation.properties\r\n    ESAPI: Loading validation.properties via file I/O failed.\r\n    ESAPI: Attempting to load validation.properties via the classpath.\r\n    ESAPI: validation.properties could not be loaded by any means. fail.. Caught java.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\r\n    ESAPI: SecurityConfiguration for ESAPI.printProperties not found in ESAPI.properties. Using default: false\r\n    ESAPI: SecurityConfiguration for Encryptor.CipherTransformation not found in ESAPI.properties. Using default: AES/CBC/PKCS5Padding\r\n    ESAPI: SecurityConfiguration for ESAPI.Encoder not found in ESAPI.properties. Using default: org.owasp.esapi.reference.DefaultEncoder\r\n    ESAPI: SecurityConfiguration for ESAPI.Logger not found in ESAPI.properties. Using default: org.owasp.esapi.logging.java.JavaLogFactory\r\n\r\n\r\n\r\n\r\nThe actual Exception that is thrown\r\n\r\n\r\n    org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n\r\n\r\n\r\nComplete StackTrace\r\n\r\n    java.util.concurrent.ExecutionException: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n    at java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n    at java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1907)\r\n    at com.xyz.handleAffiliationRelationAggregationRequest(GetAffiliationJSONEndpoint.java:85)\r\n    at com.xyz$$FastClassBySpringCGLIB$$5366cde1.invoke(&lt;generated&gt;)\r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)\r\n    at com.xyz.common.metrics.MetricAdvice.calculateMethodMetric(MetricAdvice.java:64)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:497)\r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\r\n    at com.xyz$$EnhancerBySpringCGLIB$$5920ce53.handleAffiliationRelationAggregationRequest(&lt;generated&gt;)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:497)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    at com.xyz.common.web.RequestFilter.doFilterInternal(RequestFilter.java:77)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\r\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\r\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\r\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1423)\r\n    at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n    at java.lang.Thread.run(Thread.java:745)\r\n    Caused by: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\r\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\r\n    at org.owasp.esapi.ESAPI.encoder(ESAPI.java:101)\r\n    at com.xyz.logging.util.JavaLogger.espiEncodeString(JavaLogger.java:278)\r\n    at com.xyz.logging.util.JavaLogger.debug(JavaLogger.java:38)\r\n    at com.xyz.tag.util.Logger.debug(Logger.java:55)\r\n    at com.xyz.tag.exception.ApplicationException.&lt;init&gt;(ApplicationException.java:57)\r\n    at com.xyz.tag.exception.ExceptionFactory.createException(ExceptionFactory.java:126)\r\n    at com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:61)\r\n    at com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:30)\r\n    at com.xyz.aggregation.exception.ExceptionUtilService.createSPSException(ExceptionUtilService.java:39)\r\n    at com.xyz.aggregation.GetAffiliationAggregationHelper.getAggregatedAffiliationRelations(GetAffiliationAggregationHelper.java:90)\r\n    at com.xyz.aggregation.GetAffiliationAggregationHelper$$FastClassBySpringCGLIB$$8448cc4c.invoke(&lt;generated&gt;)\r\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\r\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\r\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor$$Lambda$1512/375283757.call(Unknown Source)\r\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:278)\r\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport$$Lambda$1513/259319007.get(Unknown Source)\r\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1582)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            ... 1 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:497)\r\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\r\n            ... 23 more\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\r\n    at java.lang.Class.forName0(Native Method)\r\n    at java.lang.Class.forName(Class.java:264)\r\n    at org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\r\n    at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\r\n    at org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\r\n    at org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\r\n    at org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:83)\r\n    at org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:67)\r\n            ... 28 more","title":"Failed To Load ESAPI.properties Error In Java Spring Boot 2.6.7 After Updating The ESAPI Dependancy","body":"<p>Getting</p>\n<pre><code>java.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\n</code></pre>\n<p>After updating the ESAPI dependency from 2.1.0.1 to 2.4.0.0 in one of my projects. Although i was able to remove this error in another project by removing the previous version of the dependancy when i am trying the similar approach in another project it is still giving the error. Tried maven clean install , maven update &amp; eclipse:eclipse as well no help from these. is there any way i can find what the actual cause of this is as the current solution that i have is to clean the .m2 folder redownload the dependancy again but that is very lengthy process. Also i am not sure why the old one is conflicting with the new one when i try maven dependancy i am only seeing the newer version in the output. Although i am not using the library in this project it is coming as part of dependancy we have.</p>\n<p>The StackTrace</p>\n<pre><code>ESAPI: WARNING: System property [org.owasp.esapi.opsteam] is not set\nESAPI: WARNING: System property [org.owasp.esapi.devteam] is not set\nESAPI: Attempting to load ESAPI.properties via file I/O.\nESAPI: Attempting to load ESAPI.properties as resource file via file I/O.\nESAPI: Not found in 'org.owasp.esapi.resources' directory or file not readable: C:\\git\\xyzproject\\ESAPI.properties\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\ESAPI.properties\nESAPI: Not found in 'user.home' (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\ESAPI.properties\nESAPI: Loading ESAPI.properties via file I/O failed. Exception was: java.io.FileNotFoundException\nESAPI: Attempting to load ESAPI.properties via the classpath.\nESAPI: SUCCESSFULLY LOADED ESAPI.properties via the CLASSPATH from '/ (root)' using current thread context class loader!\nESAPI: SecurityConfiguration for Validator.ConfigurationFile.MultiValued not found in ESAPI.properties. Using default: false\nESAPI: SecurityConfiguration for Validator.ConfigurationFile not found in ESAPI.properties. Using default: validation.properties\nESAPI: Attempting to load validation.properties via file I/O.\nESAPI: Attempting to load validation.properties as resource file via file I/O.\nESAPI: Not found in 'org.owasp.esapi.resources' directory or file not readable: C:\\git\\xyzproject\\validation.properties\nESAPI: Not found in SystemResource Directory/resourceDirectory: .esapi\\validation.properties\nESAPI: Not found in 'user.home' (C:\\Users\\XYZ) directory: C:\\Users\\XYZ\\esapi\\validation.properties\nESAPI: Loading validation.properties via file I/O failed.\nESAPI: Attempting to load validation.properties via the classpath.\nESAPI: validation.properties could not be loaded by any means. fail.. Caught java.lang.IllegalArgumentException; exception message was: java.lang.IllegalArgumentException: Failed to load ESAPI.properties as a classloader resource.\nESAPI: SecurityConfiguration for ESAPI.printProperties not found in ESAPI.properties. Using default: false\nESAPI: SecurityConfiguration for Encryptor.CipherTransformation not found in ESAPI.properties. Using default: AES/CBC/PKCS5Padding\nESAPI: SecurityConfiguration for ESAPI.Encoder not found in ESAPI.properties. Using default: org.owasp.esapi.reference.DefaultEncoder\nESAPI: SecurityConfiguration for ESAPI.Logger not found in ESAPI.properties. Using default: org.owasp.esapi.logging.java.JavaLogFactory\n</code></pre>\n<p>The actual Exception that is thrown</p>\n<pre><code>org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\n</code></pre>\n<p>Complete StackTrace</p>\n<pre><code>java.util.concurrent.ExecutionException: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\nat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\nat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1907)\nat com.xyz.handleAffiliationRelationAggregationRequest(GetAffiliationJSONEndpoint.java:85)\nat com.xyz$$FastClassBySpringCGLIB$$5366cde1.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:102)\nat com.xyz.common.metrics.MetricAdvice.calculateMethodMetric(MetricAdvice.java:64)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:175)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)\nat com.xyz$$EnhancerBySpringCGLIB$$5920ce53.handleAffiliationRelationAggregationRequest(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\nat com.xyz.common.web.RequestFilter.doFilterInternal(RequestFilter.java:77)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:79)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\nat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\nat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:79)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:852)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1423)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: org.owasp.esapi.errors.ConfigurationException: java.lang.reflect.InvocationTargetException Encoder class (org.owasp.esapi.reference.DefaultEncoder) CTOR threw exception.\nat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:129)\nat org.owasp.esapi.ESAPI.encoder(ESAPI.java:101)\nat com.xyz.logging.util.JavaLogger.espiEncodeString(JavaLogger.java:278)\nat com.xyz.logging.util.JavaLogger.debug(JavaLogger.java:38)\nat com.xyz.tag.util.Logger.debug(Logger.java:55)\nat com.xyz.tag.exception.ApplicationException.&lt;init&gt;(ApplicationException.java:57)\nat com.xyz.tag.exception.ExceptionFactory.createException(ExceptionFactory.java:126)\nat com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:61)\nat com.xyz.aggregation.exception.ProviderExceptionFactory.createException(ProviderExceptionFactory.java:30)\nat com.xyz.aggregation.exception.ExceptionUtilService.createSPSException(ExceptionUtilService.java:39)\nat com.xyz.aggregation.GetAffiliationAggregationHelper.getAggregatedAffiliationRelations(GetAffiliationAggregationHelper.java:90)\nat com.xyz.aggregation.GetAffiliationAggregationHelper$$FastClassBySpringCGLIB$$8448cc4c.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)\nat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\nat org.springframework.aop.interceptor.AsyncExecutionInterceptor$$Lambda$1512/375283757.call(Unknown Source)\nat org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:278)\nat org.springframework.aop.interceptor.AsyncExecutionAspectSupport$$Lambda$1513/259319007.get(Unknown Source)\nat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1582)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        ... 1 more\nCaused by: java.lang.reflect.InvocationTargetException\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:86)\n        ... 23 more\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class org.owasp.esapi.logging.java.JavaLogFactory\nat java.lang.Class.forName0(Native Method)\nat java.lang.Class.forName(Class.java:264)\nat org.owasp.esapi.util.ObjFactory.loadClassByStringName(ObjFactory.java:158)\nat org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:81)\nat org.owasp.esapi.ESAPI.logFactory(ESAPI.java:139)\nat org.owasp.esapi.ESAPI.getLogger(ESAPI.java:155)\nat org.owasp.esapi.reference.DefaultEncoder.&lt;init&gt;(DefaultEncoder.java:83)\nat org.owasp.esapi.reference.DefaultEncoder.getInstance(DefaultEncoder.java:67)\n        ... 28 more\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666030460,"creation_date":1666030460,"answer_id":74101466,"question_id":74100466,"body_markdown":"Try using `and` method which accepts a custom expression instead of `andExpression`\r\n```\r\n     Aggregation.newAggregation(\r\n        Aggregation.project(&quot;productType&quot;, &quot;created&quot;)\r\n            .and(DateOperators.zonedDateOf(&quot;created&quot;, Timezone.valueOf(&quot;Europe/Zurich&quot;)).toString(&quot;%Y.%m.%d&quot;))\r\n    );\r\n```","title":"Using MongoDB dateToString with timezone in project aggregation from spring boot","body":"<p>Try using <code>and</code> method which accepts a custom expression instead of <code>andExpression</code></p>\n<pre><code>     Aggregation.newAggregation(\n        Aggregation.project(&quot;productType&quot;, &quot;created&quot;)\n            .and(DateOperators.zonedDateOf(&quot;created&quot;, Timezone.valueOf(&quot;Europe/Zurich&quot;)).toString(&quot;%Y.%m.%d&quot;))\n    );\n</code></pre>\n"}],"owner":{"account_id":1427796,"reputation":93,"user_id":1350889,"display_name":"user1350889"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666030460,"creation_date":1666024688,"question_id":74100466,"body_markdown":"I want to created following MongoDB aggregation pipeline from Java Spring Boot\r\n```\r\n  &quot;pipeline&quot;: [\r\n    {\r\n      &quot;$project&quot;: {\r\n        productType: 1,\r\n        created: 1,\r\n        date: {\r\n          $dateToString: {\r\n            timezone: &quot;Europe/Zurich&quot;,\r\n            format: &quot;%Y.%m.%d&quot;,\r\n            date: &quot;$created&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  ]\r\n```\r\n\r\nThis code is working and creates the pipeline - unfortunately without the timezone part:\r\n```\r\n  Aggregation agg = newAggregation(\r\n          project(&quot;productType&quot;, &quot;created&quot;)\r\n                  .andExpression(&quot;created&quot;).dateAsFormattedString(&quot;%Y.%m.%d&quot;).as(&quot;date&quot;)\r\n  );\r\n```\r\n\r\nHow to adapt the Java Code so that **$dateToString** uses **timezone** and the result looks like this:\r\n```\r\n_id: &quot;def166b4-967d-45ae-8b1c-1f05f8a1fc20&quot;\r\nproductType: &quot;car&quot;\r\ncreated: 2019-04-13T23:23:42.617+00:00\r\ndate: &quot;2019.04.14&quot;\r\n```\r\n","title":"Using MongoDB dateToString with timezone in project aggregation from spring boot","body":"<p>I want to created following MongoDB aggregation pipeline from Java Spring Boot</p>\n<pre><code>  &quot;pipeline&quot;: [\n    {\n      &quot;$project&quot;: {\n        productType: 1,\n        created: 1,\n        date: {\n          $dateToString: {\n            timezone: &quot;Europe/Zurich&quot;,\n            format: &quot;%Y.%m.%d&quot;,\n            date: &quot;$created&quot;\n          }\n        }\n      }\n    }\n  ]\n</code></pre>\n<p>This code is working and creates the pipeline - unfortunately without the timezone part:</p>\n<pre><code>  Aggregation agg = newAggregation(\n          project(&quot;productType&quot;, &quot;created&quot;)\n                  .andExpression(&quot;created&quot;).dateAsFormattedString(&quot;%Y.%m.%d&quot;).as(&quot;date&quot;)\n  );\n</code></pre>\n<p>How to adapt the Java Code so that <strong>$dateToString</strong> uses <strong>timezone</strong> and the result looks like this:</p>\n<pre><code>_id: &quot;def166b4-967d-45ae-8b1c-1f05f8a1fc20&quot;\nproductType: &quot;car&quot;\ncreated: 2019-04-13T23:23:42.617+00:00\ndate: &quot;2019.04.14&quot;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","redis","spring-data-redis"],"answers":[{"comments":[{"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"score":0,"creation_date":1507572998,"post_id":46611401,"comment_id":80254266,"body_markdown":"When I return to the code that was causing me this issue I will give it a go. Thanks","body":"When I return to the code that was causing me this issue I will give it a go. Thanks"}],"tags":[],"owner":{"account_id":8953983,"reputation":3285,"user_id":6679072,"display_name":"ootero"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1529658358,"creation_date":1507312480,"answer_id":46611401,"question_id":45970684,"body_markdown":"* Try excluding this two auto-configuration classes in your test properties file:  \r\n`spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration`\r\n\r\nor\r\n\r\n* exclude\r\n`org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration`  \r\nand set: `spring.data.redis.repositories.enabled=false`","title":"Disable Redis AutoConfig in spring boot when testing","body":"<ul>\n<li>Try excluding this two auto-configuration classes in your test properties file:<br>\n<code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration</code></li>\n</ul>\n\n<p>or</p>\n\n<ul>\n<li>exclude\n<code>org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration</code><br>\nand set: <code>spring.data.redis.repositories.enabled=false</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46120,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1666029667,"creation_date":1553435067,"answer_id":55324425,"question_id":45970684,"body_markdown":"With YAML syntax (&amp; Spring Boot):\r\n\r\n    spring.autoconfigure:\r\n      exclude:\r\n        - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\r\n        - org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration\r\n\r\nIf you have [SystemEnvironmentPropertySource](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/SystemEnvironmentPropertySource.html) in you app context you can use environment variable `SPRING_AUTOCONFIGURE_EXCLUDE` separating items with comma:\r\n\r\n```\r\nSPRING_AUTOCONFIGURE_EXCLUDE=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration\r\n```\r\n\r\nAlso try `@EnableAutoConfiguration(exclude = {...})` on a `@TestConfiguration` annotated class.","title":"Disable Redis AutoConfig in spring boot when testing","body":"<p>With YAML syntax (&amp; Spring Boot):</p>\n<pre><code>spring.autoconfigure:\n  exclude:\n    - org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\n    - org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration\n</code></pre>\n<p>If you have <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/env/SystemEnvironmentPropertySource.html\" rel=\"nofollow noreferrer\">SystemEnvironmentPropertySource</a> in you app context you can use environment variable <code>SPRING_AUTOCONFIGURE_EXCLUDE</code> separating items with comma:</p>\n<pre><code>SPRING_AUTOCONFIGURE_EXCLUDE=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration\n</code></pre>\n<p>Also try <code>@EnableAutoConfiguration(exclude = {...})</code> on a <code>@TestConfiguration</code> annotated class.</p>\n"},{"tags":[],"owner":{"account_id":1035646,"reputation":1821,"user_id":1042999,"accept_rate":50,"display_name":"Sinisha Mihajlovski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591792740,"creation_date":1591792740,"answer_id":62303823,"question_id":45970684,"body_markdown":"If you dont want to change any files/code, you can also do this with an environment variable:\r\n\r\n    SPRING_AUTOCONFIGURE_EXCLUDE=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration","title":"Disable Redis AutoConfig in spring boot when testing","body":"<p>If you dont want to change any files/code, you can also do this with an environment variable:</p>\n\n<pre><code>SPRING_AUTOCONFIGURE_EXCLUDE=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration,org.springframework.boot.autoconfigure.data.redis.RedisRepositoriesAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17314,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":3,"score":8,"last_activity_date":1666029667,"creation_date":1504132467,"question_id":45970684,"body_markdown":"I am trying to disable Redis when I am testing with spring boot. I have disabled my configuration but the auto config created a default connection and fails because it can&#39;t connect to a non-existent service. For testing I am content to just use a basic in-memory cache or a no-op cache. That doesn&#39;t work either. Here is what I have tried:\r\n\r\nper [this issue][1] I added said configuration to my test app properties\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\r\n\r\nBut. That gets me a bit further. But ultimately I get a `NoSuchBeanDefinitionException` `redisTemplate` - this is because `redisReferenceResolver` is trying to look that up. \r\n\r\nLooking at my debugger right now, the bean it&#39;s trying to hydrate is:\r\n`org.springframework.data.redis.core.convert.ReferenceResolverImpl` which is coming from `spring-data-redis:1.8.0.RELEASE` which is coming from this dependency: `compile(&#39;org.springframework.boot:spring-boot-starter-data-redis&#39;)` . I admit, the bean name is a bit misleading. The type it actually resolves to is not\r\n\r\nThe only other reference to redis is in our hibernate support. \r\n\r\nCan someone explain how to turn this off for testing?\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/5386","title":"Disable Redis AutoConfig in spring boot when testing","body":"<p>I am trying to disable Redis when I am testing with spring boot. I have disabled my configuration but the auto config created a default connection and fails because it can't connect to a non-existent service. For testing I am content to just use a basic in-memory cache or a no-op cache. That doesn't work either. Here is what I have tried:</p>\n\n<p>per <a href=\"https://github.com/spring-projects/spring-boot/issues/5386\" rel=\"noreferrer\">this issue</a> I added said configuration to my test app properties</p>\n\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\n</code></pre>\n\n<p>But. That gets me a bit further. But ultimately I get a <code>NoSuchBeanDefinitionException</code> <code>redisTemplate</code> - this is because <code>redisReferenceResolver</code> is trying to look that up. </p>\n\n<p>Looking at my debugger right now, the bean it's trying to hydrate is:\n<code>org.springframework.data.redis.core.convert.ReferenceResolverImpl</code> which is coming from <code>spring-data-redis:1.8.0.RELEASE</code> which is coming from this dependency: <code>compile('org.springframework.boot:spring-boot-starter-data-redis')</code> . I admit, the bean name is a bit misleading. The type it actually resolves to is not</p>\n\n<p>The only other reference to redis is in our hibernate support. </p>\n\n<p>Can someone explain how to turn this off for testing?</p>\n"},{"tags":["java","sql","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"score":0,"creation_date":1666003218,"post_id":74032925,"comment_id":130824021,"body_markdown":"Thank you for your response.     In my question, missed one scenario.                                                                   \nScenario: I have total 6 fields, I need to check only 3 fields for percentage calculation and remaing 3 fields need to skip  ( Field types are primary key field and relation ship key fields)\npublic class Employee {\n    private Long id;  // skip \n    private String firstName;\n\tprivate String lastName;\n    private MailingAddressDto address;  // skip \n    private UploadFileDto profileImage;  // skip \n    private String websiteUrl;\n\t}.","body":"Thank you for your response.     In my question, missed one scenario.                                                                    Scenario: I have total 6 fields, I need to check only 3 fields for percentage calculation and remaing 3 fields need to skip  ( Field types are primary key field and relation ship key fields) public class Employee {     private Long id;  // skip      private String firstName; \tprivate String lastName;     private MailingAddressDto address;  // skip      private UploadFileDto profileImage;  // skip      private String websiteUrl; \t}."},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1666012548,"post_id":74032925,"comment_id":130827456,"body_markdown":"To skip a field, you would add an additional filter clause to the stream processor. `allProps.stream().filter(p -&gt; !p.getName().equals(&quot;id&quot;).prop(prop -&gt; ...`","body":"To skip a field, you would add an additional filter clause to the stream processor. <code>allProps.stream().filter(p -&gt; !p.getName().equals(&quot;id&quot;).prop(prop -&gt; ...</code>"},{"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"score":0,"creation_date":1666017882,"post_id":74032925,"comment_id":130829536,"body_markdown":"Thank you for the response. To skip id field, I will pass additional filter clause to the stream, for other fields like address and profileImage, is there any other way to check instead of passing statically in filter clause. I have different data types(user, company etc)  in remaining entities and I would like to write one logic to reuse for all the entities. Could you please suggest me any other idea if you have.","body":"Thank you for the response. To skip id field, I will pass additional filter clause to the stream, for other fields like address and profileImage, is there any other way to check instead of passing statically in filter clause. I have different data types(user, company etc)  in remaining entities and I would like to write one logic to reuse for all the entities. Could you please suggest me any other idea if you have."},{"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"score":0,"creation_date":1666084869,"post_id":74032925,"comment_id":130846046,"body_markdown":"Thank you so much, you saved lot of time to me.","body":"Thank you so much, you saved lot of time to me."},{"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"score":0,"creation_date":1666091455,"post_id":74032925,"comment_id":130848281,"body_markdown":"Can we do same thing at SQL database level","body":"Can we do same thing at SQL database level"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1666104347,"post_id":74032925,"comment_id":130853479,"body_markdown":"If you mean calculating the percentage of columns in the db that are non-null, then yes, but it isn&#39;t going to be nearly as dynamic as the JPA solution.\n(BTW, since the answer worked, would you mind upvoting it?)","body":"If you mean calculating the percentage of columns in the db that are non-null, then yes, but it isn&#39;t going to be nearly as dynamic as the JPA solution. (BTW, since the answer worked, would you mind upvoting it?)"},{"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"score":0,"creation_date":1666115727,"post_id":74032925,"comment_id":130857718,"body_markdown":"I tried, but I don&#39;t have option to do that due to reputation, it&#39;s helped using JPA.","body":"I tried, but I don&#39;t have option to do that due to reputation, it&#39;s helped using JPA."},{"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"score":0,"creation_date":1666115774,"post_id":74032925,"comment_id":130857751,"body_markdown":"If you have any solution using SQL to get the same way please provide me that.","body":"If you have any solution using SQL to get the same way please provide me that."}],"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666029610,"creation_date":1665514916,"answer_id":74032925,"question_id":74026912,"body_markdown":"You could try using Reflection in a transient field of the entity class.\r\n```Java\r\n@Transient\r\npublic float getPercentDone() {\r\n  var propDesc = BeanUtilsBean2.getInstance().getPropertyUtils().getPropertyDescriptors(this);\r\n  var allProps = Arrays.stream(propDesc).filter(prop -&gt; !&quot;percentDone&quot;.equals(prop.getName()))\r\n        .collect(Collectors.toList());\r\n  var countNotNull = allProps.stream().filter(prop -&gt; {\r\n    try {\r\n      return BeanUtilsBean2.getInstance().getProperty(this, prop.getName()) != null;\r\n    } catch (Exception e) {\r\n      return false;\r\n    }\r\n  }).count();\r\n\r\n  return (countNotNull * 100.0f) / allProps.size();\r\n}\r\n```\r\nI used [BeanUtils](https://commons.apache.org/proper/commons-beanutils/) from Apache Commons for this, but if you can&#39;t use that, you can do the same with out-of-the-box reflection (it is just longer).\r\n\r\n## Skipping Fields\r\nTo skip fields like ids and join fields, you can create a list. And replace the filter with one that checks the list of skipped properties. If you put this in a `@MappedSuperclass` the entity children only need to override the list.\r\n\r\n**Note**: `percentDone` and `skippedProperties` must both be skipped fields themselves.\r\n```Java\r\nList&lt;String&gt; skippedProperties = List.of(&quot;percentDone&quot;, &quot;skippedProperties&quot;, &quot;id&quot;, &quot;user&quot;);\r\n...\r\n@Transient\r\npublic float getPercentDone() {\r\n  var propDesc = BeanUtilsBean2.getInstance().getPropertyUtils().getPropertyDescriptors(this);\r\n  var allProps = Arrays.stream(propDesc)\r\n        .filter (prop -&gt; !skippedProperties.contains(prop.getName())\r\n        .collect(Collectors.toList());\r\n  var countNotNull = allProps.stream().filter(prop -&gt; {\r\n    try {\r\n      return BeanUtilsBean2.getInstance().getProperty(this, prop.getName()) != null;\r\n    } catch (Exception e) {\r\n      return false;\r\n    }\r\n  }).count();\r\n\r\n  return (countNotNull * 100.0f) / (allProps.size() - skippedProperties.size());\r\n}\r\n```","title":"Percentage calculation based on entity fields data in Spring data JPA","body":"<p>You could try using Reflection in a transient field of the entity class.</p>\n<pre><code>@Transient\npublic float getPercentDone() {\n  var propDesc = BeanUtilsBean2.getInstance().getPropertyUtils().getPropertyDescriptors(this);\n  var allProps = Arrays.stream(propDesc).filter(prop -&gt; !&quot;percentDone&quot;.equals(prop.getName()))\n        .collect(Collectors.toList());\n  var countNotNull = allProps.stream().filter(prop -&gt; {\n    try {\n      return BeanUtilsBean2.getInstance().getProperty(this, prop.getName()) != null;\n    } catch (Exception e) {\n      return false;\n    }\n  }).count();\n\n  return (countNotNull * 100.0f) / allProps.size();\n}\n</code></pre>\n<p>I used <a href=\"https://commons.apache.org/proper/commons-beanutils/\" rel=\"nofollow noreferrer\">BeanUtils</a> from Apache Commons for this, but if you can't use that, you can do the same with out-of-the-box reflection (it is just longer).</p>\n<h2>Skipping Fields</h2>\n<p>To skip fields like ids and join fields, you can create a list. And replace the filter with one that checks the list of skipped properties. If you put this in a <code>@MappedSuperclass</code> the entity children only need to override the list.</p>\n<p><strong>Note</strong>: <code>percentDone</code> and <code>skippedProperties</code> must both be skipped fields themselves.</p>\n<pre><code>List&lt;String&gt; skippedProperties = List.of(&quot;percentDone&quot;, &quot;skippedProperties&quot;, &quot;id&quot;, &quot;user&quot;);\n...\n@Transient\npublic float getPercentDone() {\n  var propDesc = BeanUtilsBean2.getInstance().getPropertyUtils().getPropertyDescriptors(this);\n  var allProps = Arrays.stream(propDesc)\n        .filter (prop -&gt; !skippedProperties.contains(prop.getName())\n        .collect(Collectors.toList());\n  var countNotNull = allProps.stream().filter(prop -&gt; {\n    try {\n      return BeanUtilsBean2.getInstance().getProperty(this, prop.getName()) != null;\n    } catch (Exception e) {\n      return false;\n    }\n  }).count();\n\n  return (countNotNull * 100.0f) / (allProps.size() - skippedProperties.size());\n}\n</code></pre>\n"}],"owner":{"account_id":23070187,"reputation":3,"user_id":17184069,"display_name":"Rajasekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74032925,"answer_count":1,"score":0,"last_activity_date":1666029610,"creation_date":1665485497,"question_id":74026912,"body_markdown":"If the entity has 10 fields and 5 fields has data and 5 fields has no data in database record, then the percentage of that entity record has 50%.\r\n\r\nHow can we calculate using Spring data jpa or any existing libraries in Java","title":"Percentage calculation based on entity fields data in Spring data JPA","body":"<p>If the entity has 10 fields and 5 fields has data and 5 fields has no data in database record, then the percentage of that entity record has 50%.</p>\n<p>How can we calculate using Spring data jpa or any existing libraries in Java</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666029484,"creation_date":1666029484,"answer_id":74101323,"question_id":74100513,"body_markdown":"I recommend not extending from ResponseEntityExceptionHandler as a first test.\r\n\r\nCreate an exception handler by doing something like this:\r\n\r\n    @ExceptionHandler(ResponseStatusException.class)\r\n    public ResponseEntity&lt;Object&gt; testHandler(Exception ex, WebRequest request) {\r\n        return new ResponseEntity&lt;&gt;(&quot;whatever&quot;, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\nI suspect that you are not telling spring to handle this specific exception via:\r\n\r\n    @ExceptionHandler(ResponseStatusException.class)\r\n","title":"How to log exceptions in Controller Advice when exceptions extends to ResponseStatusException?","body":"<p>I recommend not extending from ResponseEntityExceptionHandler as a first test.</p>\n<p>Create an exception handler by doing something like this:</p>\n<pre><code>@ExceptionHandler(ResponseStatusException.class)\npublic ResponseEntity&lt;Object&gt; testHandler(Exception ex, WebRequest request) {\n    return new ResponseEntity&lt;&gt;(&quot;whatever&quot;, HttpStatus.NOT_FOUND);\n}\n</code></pre>\n<p>I suspect that you are not telling spring to handle this specific exception via:</p>\n<pre><code>@ExceptionHandler(ResponseStatusException.class)\n</code></pre>\n"}],"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666029484,"creation_date":1666024980,"question_id":74100513,"body_markdown":"I am unable to capture exceptions in controller advice and log those exceptions. The exceptions are extended to ResponseStatusException. I tried this out but it didnt work.\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandler extends ResponseEntityExceptionHandler {\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(ExceptionHandler.class);\r\n\r\n    @Override\r\n    protected ResponseEntity&lt;Object&gt; handleExceptionInternal(\r\n            @NonNull Exception ex,\r\n            @Nullable Object body,\r\n            @NonNull HttpHeaders headers,\r\n            HttpStatus status,\r\n            @NonNull WebRequest request) {\r\n        if (status.is5xxServerError()) {\r\n            LOGGER.error(&quot;An exception occurred, which will cause a {} response&quot;, status, ex);\r\n        } else if (status.is4xxClientError()) {\r\n            LOGGER.warn(&quot;An exception occured, which will cause a {} response&quot;, status, ex);\r\n        } else {\r\n            LOGGER.debug(&quot;An exception occured, which will cause a {} response&quot;, status, ex);\r\n        }\r\n        return super.handleExceptionInternal(ex, body, headers, status, request);\r\n    }\r\n    }\r\n\r\n How could I achieve this requirement?","title":"How to log exceptions in Controller Advice when exceptions extends to ResponseStatusException?","body":"<p>I am unable to capture exceptions in controller advice and log those exceptions. The exceptions are extended to ResponseStatusException. I tried this out but it didnt work.</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler extends ResponseEntityExceptionHandler {\nprivate static final Logger LOGGER = LoggerFactory.getLogger(ExceptionHandler.class);\n\n@Override\nprotected ResponseEntity&lt;Object&gt; handleExceptionInternal(\n        @NonNull Exception ex,\n        @Nullable Object body,\n        @NonNull HttpHeaders headers,\n        HttpStatus status,\n        @NonNull WebRequest request) {\n    if (status.is5xxServerError()) {\n        LOGGER.error(&quot;An exception occurred, which will cause a {} response&quot;, status, ex);\n    } else if (status.is4xxClientError()) {\n        LOGGER.warn(&quot;An exception occured, which will cause a {} response&quot;, status, ex);\n    } else {\n        LOGGER.debug(&quot;An exception occured, which will cause a {} response&quot;, status, ex);\n    }\n    return super.handleExceptionInternal(ex, body, headers, status, request);\n}\n}\n</code></pre>\n<p>How could I achieve this requirement?</p>\n"},{"tags":["java","selenium","selenium-webdriver","google-datalayer","data-layers"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1663228466,"post_id":73725577,"comment_id":130190954,"body_markdown":"Can you explain little bit more? What do you want to validate? and Please provide an example.","body":"Can you explain little bit more? What do you want to validate? and Please provide an example."},{"owner":{"account_id":26262841,"reputation":5,"user_id":19933868,"display_name":"Ragav"},"score":0,"creation_date":1666029558,"post_id":73725577,"comment_id":130833850,"body_markdown":"I&#39;ve provided an example @NandanA, have a look","body":"I&#39;ve provided an example @NandanA, have a look"}],"owner":{"account_id":26262841,"reputation":5,"user_id":19933868,"display_name":"Ragav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":335,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666029475,"creation_date":1663215409,"question_id":73725577,"body_markdown":"**I am using the following code to get data layer, help me how to validate the data layer.\r\nIs there any way to validate the data layer?\r\nIs it possible to use assertion here? If so how?**\r\n```\r\npublic void datalayer(String data[]) {\t\r\n\t\tJavascriptExecutor executor = (JavascriptExecutor)driver;\r\n\t\tArrayList&lt;Map&lt;String, List&lt;String&gt; &gt;&gt; datalist = new ArrayList&lt;&gt;();\r\n\r\n\t    //Execute google tag manage in the console using javascript executor to fetch values       \r\n\t    datalist =  (ArrayList&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;) executor.executeScript(&quot;return dataLayer&quot;);\r\n\t    \r\n\t    // Parse through GTM arrayList  \r\n\t    for(int a=0; a &lt; datalist .size(); a++) {\r\n\t        for (String key : datalist .get(a).keySet()) {\r\n\t            System.out.println(key + &quot;      &quot; + datalist.get(a).get(key));\r\n\r\n\t        }\r\n\t    }\r\n```\r\n**The datalayer output will look like this**\r\n\r\nI need to validate only the last three pairs - attributes,event,eventinfo\r\n```\r\nOnetrustActiveGroups      ,1,2,4,0_225614,0_225613,0_225612,\r\nevent      OneTrustLoaded\r\ngtm.uniqueEventId      1\r\nOptanonActiveGroups      ,1,2,4,0_225614,0_225613,0_225612,\r\nevent      OptanonLoaded\r\ngtm.uniqueEventId      5\r\nevent      gtm.js\r\ngtm.start      1666028572529\r\ngtm.uniqueEventId      7\r\nevent      gtm.dom\r\ngtm.uniqueEventId      9\r\nevent      dl-ready\r\ngtm.uniqueEventId      11\r\npage      {attributes={country=united-states-of-america, platform=aem, referringurl=not authored, uri=http://tccc-prod-nagbrands-us-surge-en.tccc-aem.com/home}, category={beverage=surge, campaign=not authored, content=/, flavor=not authored, pageType=homepage, primaryCategory=homepage, subCategory=homepage}, pageInfo={language=en, pageName=surge soda is back | surge}}\r\nsystem      {attributes={baseurl=https://www.surge.com, businessunit=united-states, environment=must-set-per-environment, geounit=ccna, language=en, productiondate=not authored, siteplatform=aem, siteplatformversion=6.4}}\r\nuser      {profile={attributes={isLoggedIn=false}, profileInfo={sessionUUID=}}}\r\nversion      1.0\r\nevent      OneTrustGroupsUpdated\r\ngtm.uniqueEventId      19\r\nevent      gtm.load\r\ngtm.uniqueEventId      21\r\nevent      gtm.linkClick\r\neventCallback      {}\r\neventTimeout      2000\r\ngtm.element      [org.openqa.selenium.remote.RemoteWebElement@2dcdcb78 -&gt; unknown locator]\r\ngtm.elementClasses      nav-icons__link nav__social-icons--twitter\r\ngtm.elementId      \r\ngtm.elementTarget      _blank\r\ngtm.elementUrl      https://twitter.com/SURGE\r\ngtm.triggers      6802053_14\r\ngtm.uniqueEventId      23\r\nattributes     {origin=aem, region=header, subCategory=twitter}\r\nevent      anchor-click\r\neventInfo      {category=anchor, eventAction=click, eventName=follow surge on twitter, linkName=follow surge on twitter, value=not authored}\r\ngtm.uniqueEventId      25\r\n```\r\n\r\n    ","title":"How to validate datalayer that i&#39;ve pulled from the chrome console","body":"<p><strong>I am using the following code to get data layer, help me how to validate the data layer.\nIs there any way to validate the data layer?\nIs it possible to use assertion here? If so how?</strong></p>\n<pre><code>public void datalayer(String data[]) {  \n        JavascriptExecutor executor = (JavascriptExecutor)driver;\n        ArrayList&lt;Map&lt;String, List&lt;String&gt; &gt;&gt; datalist = new ArrayList&lt;&gt;();\n\n        //Execute google tag manage in the console using javascript executor to fetch values       \n        datalist =  (ArrayList&lt;Map&lt;String, List&lt;String&gt;&gt;&gt;) executor.executeScript(&quot;return dataLayer&quot;);\n        \n        // Parse through GTM arrayList  \n        for(int a=0; a &lt; datalist .size(); a++) {\n            for (String key : datalist .get(a).keySet()) {\n                System.out.println(key + &quot;      &quot; + datalist.get(a).get(key));\n\n            }\n        }\n</code></pre>\n<p><strong>The datalayer output will look like this</strong></p>\n<p>I need to validate only the last three pairs - attributes,event,eventinfo</p>\n<pre><code>OnetrustActiveGroups      ,1,2,4,0_225614,0_225613,0_225612,\nevent      OneTrustLoaded\ngtm.uniqueEventId      1\nOptanonActiveGroups      ,1,2,4,0_225614,0_225613,0_225612,\nevent      OptanonLoaded\ngtm.uniqueEventId      5\nevent      gtm.js\ngtm.start      1666028572529\ngtm.uniqueEventId      7\nevent      gtm.dom\ngtm.uniqueEventId      9\nevent      dl-ready\ngtm.uniqueEventId      11\npage      {attributes={country=united-states-of-america, platform=aem, referringurl=not authored, uri=http://tccc-prod-nagbrands-us-surge-en.tccc-aem.com/home}, category={beverage=surge, campaign=not authored, content=/, flavor=not authored, pageType=homepage, primaryCategory=homepage, subCategory=homepage}, pageInfo={language=en, pageName=surge soda is back | surge}}\nsystem      {attributes={baseurl=https://www.surge.com, businessunit=united-states, environment=must-set-per-environment, geounit=ccna, language=en, productiondate=not authored, siteplatform=aem, siteplatformversion=6.4}}\nuser      {profile={attributes={isLoggedIn=false}, profileInfo={sessionUUID=}}}\nversion      1.0\nevent      OneTrustGroupsUpdated\ngtm.uniqueEventId      19\nevent      gtm.load\ngtm.uniqueEventId      21\nevent      gtm.linkClick\neventCallback      {}\neventTimeout      2000\ngtm.element      [org.openqa.selenium.remote.RemoteWebElement@2dcdcb78 -&gt; unknown locator]\ngtm.elementClasses      nav-icons__link nav__social-icons--twitter\ngtm.elementId      \ngtm.elementTarget      _blank\ngtm.elementUrl      https://twitter.com/SURGE\ngtm.triggers      6802053_14\ngtm.uniqueEventId      23\nattributes     {origin=aem, region=header, subCategory=twitter}\nevent      anchor-click\neventInfo      {category=anchor, eventAction=click, eventName=follow surge on twitter, linkName=follow surge on twitter, value=not authored}\ngtm.uniqueEventId      25\n</code></pre>\n"},{"tags":["java","chunked-encoding","apache-commons-httpclient"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1537281561,"post_id":6124233,"comment_id":91722970,"body_markdown":"Does this also apply to HTTP Client 4.5 (Apache HttpComponents)?","body":"Does this also apply to HTTP Client 4.5 (Apache HttpComponents)?"}],"answers":[{"comments":[{"owner":{"account_id":402376,"reputation":103,"user_id":769508,"display_name":"Jacelyn"},"score":0,"creation_date":1306469415,"post_id":6125290,"comment_id":7139138,"body_markdown":"u&#39;re absolutely right!! my problem have been resolved.. thanks :)","body":"u&#39;re absolutely right!! my problem have been resolved.. thanks :)"}],"tags":[],"owner":{"account_id":377630,"reputation":75679,"user_id":729881,"display_name":"Edward Thomson"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1306330434,"creation_date":1306330434,"answer_id":6125290,"question_id":6124233,"body_markdown":"commons-httpclient will de-chunk your server&#39;s response out of the box, there&#39;s no need for you to handle chunking.  However, you may be running into problems because - due to the nature of chunking - you don&#39;t know the length of the content until you&#39;ve read it all.  (Requesting the content length will return -1.)  You therefore cannot allocate a fixed-size buffer to hold the entire content.\r\n\r\nIf you change your test of the getResponseContentLength return value to &quot;if(len &gt; 0)&quot;, I think you&#39;ll see that you fall into the readLine case when you encounter a response that is chunked, and that it should read the entire response line-by-line.","title":"how to handle / read the response with &quot;Transfer-Encoding:chunked&quot;?","body":"<p>commons-httpclient will de-chunk your server's response out of the box, there's no need for you to handle chunking.  However, you may be running into problems because - due to the nature of chunking - you don't know the length of the content until you've read it all.  (Requesting the content length will return -1.)  You therefore cannot allocate a fixed-size buffer to hold the entire content.</p>\n\n<p>If you change your test of the getResponseContentLength return value to \"if(len > 0)\", I think you'll see that you fall into the readLine case when you encounter a response that is chunked, and that it should read the entire response line-by-line.</p>\n"},{"comments":[{"owner":{"account_id":35998,"reputation":3107,"user_id":102375,"accept_rate":53,"display_name":"nilskp"},"score":1,"creation_date":1523369980,"post_id":23949297,"comment_id":86526974,"body_markdown":"Sort of defeats the purpose of chunked encoding.","body":"Sort of defeats the purpose of chunked encoding."}],"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401435025,"creation_date":1401435025,"answer_id":23949297,"question_id":6124233,"body_markdown":"Another library to consider is the Jodd Http library (http://jodd.org/doc/http.html). It handles Chunked transfer encoding for you and you get the whole body as a string back.\r\n\r\nThe nice thing is that the API is really simple:\r\n\r\n    HttpRequest httpRequest = HttpRequest.get(&quot;http://jodd.org&quot;);\r\n    HttpResponse response = httpRequest.send();\r\n\r\n","title":"how to handle / read the response with &quot;Transfer-Encoding:chunked&quot;?","body":"<p>Another library to consider is the Jodd Http library (<a href=\"http://jodd.org/doc/http.html\" rel=\"nofollow\">http://jodd.org/doc/http.html</a>). It handles Chunked transfer encoding for you and you get the whole body as a string back.</p>\n\n<p>The nice thing is that the API is really simple:</p>\n\n<pre><code>HttpRequest httpRequest = HttpRequest.get(\"http://jodd.org\");\nHttpResponse response = httpRequest.send();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10223289,"reputation":13,"user_id":7546810,"display_name":"Alex Blanes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666029433,"creation_date":1666029433,"answer_id":74101313,"question_id":6124233,"body_markdown":"For some reason I was having a similiar error. I was using jackson deserealizer to convert `response.getEntity().getContent()` using an `objectMapper` to a custom object. The server was returning a chunked response and the `InputStream` returned had a lenght longer than the content. This originated an exception. I resolved by `readAllBytes()` of the `InputStream`.","title":"how to handle / read the response with &quot;Transfer-Encoding:chunked&quot;?","body":"<p>For some reason I was having a similiar error. I was using jackson deserealizer to convert <code>response.getEntity().getContent()</code> using an <code>objectMapper</code> to a custom object. The server was returning a chunked response and the <code>InputStream</code> returned had a lenght longer than the content. This originated an exception. I resolved by <code>readAllBytes()</code> of the <code>InputStream</code>.</p>\n"}],"owner":{"account_id":402376,"reputation":103,"user_id":769508,"display_name":"Jacelyn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17677,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":6125290,"answer_count":3,"score":8,"last_activity_date":1666029433,"creation_date":1306325345,"question_id":6124233,"body_markdown":"May i know how to handle / read the response with &quot;Transfer-Encoding:chunked&quot;?\r\n\r\nCurrently im using common-httpclient.3.1\r\n\r\nMy current coding as followings (can handle response with content-length in header only) :-\r\n\r\n                httppost = new PostMethod(localurl);\r\n                httppost.setRequestHeader(&quot;Content-Type&quot;, &quot;application/xml; charset=utf-8&quot;);\r\n                RequestEntity entity = new StringRequestEntity(in, &quot;application/xml&quot;, &quot;UTF-8&quot;);\r\n                httppost.setRequestHeader(&quot;Content-length&quot;, entity.getContentLength()+&quot;&quot;);\r\n                httppost.setRequestEntity(entity);\r\n                for (int i=0; i&lt;retryAttempt; i++) {\r\n                    try {\r\n                        httpclient.executeMethod(httppost);\r\n                        if (httppost.getStatusCode() == 200) {\r\n\r\n                            br = new BufferedReader(new InputStreamReader(httppost.getResponseBodyAsStream(), httppost.getResponseCharSet()));\r\n                            String reply = null;\r\n                            \r\n                            long len = httppost.getResponseContentLength();\r\n                            \r\n                            if(len != 0) {\r\n                                char[] cbuf = new char[Integer.parseInt(len+&quot;&quot;)];\r\n                                if (br.read(cbuf, 0, Integer.parseInt(len+&quot;&quot;)) != -1 ) {\r\n                                    repOut = String.valueOf(cbuf);\r\n                                }\r\n                            }else{\r\n                                while ((reply = br.readLine()) != null) {\r\n                                    if (!reply.equals(&quot;&quot;)) repOut += reply+&quot; \\n &quot;;\r\n                                }\r\n    }\r\n\r\n\r\n\r\nResponse get from URL (via httppost):\r\n\r\n    Thread-9, READ: TLSv1 Application Data, length = 443\r\n    Padded plaintext after DECRYPTION:  len = 443\r\n    0000: 48 54 54 50 2F 31 2E 31   20 32 30 30 20 4F 4B 0D  HTTP/1.1 200 OK.\r\n    0010: 0A 53 65 72 76 65 72 3A   20 53 54 52 4F 4E 47 48  .Server: STRONGH\r\n    0020: 4F 4C 44 2F 33 2E 30 2F   4F 70 65 6E 42 53 44 0D  OLD/3.0/OpenBSD.\r\n    0030: 0A 44 61 74 65 3A 20 53   75 6E 2C 20 32 32 20 4D  .Date: Sun, 22 M\r\n    0040: 61 79 20 32 30 31 31 20   31 34 3A 30 31 3A 30 38  ay 2011 14:01:08\r\n    0050: 20 47 4D 54 0D 0A 43 6F   6E 74 65 6E 74 2D 74 79   GMT..Content-ty\r\n    0060: 70 65 3A 20 61 70 70 6C   69 63 61 74 69 6F 6E 2F  pe: application/\r\n    0070: 78 6D 6C 3B 63 68 61 72   73 65 74 3D 55 54 46 2D  xml;charset=UTF-\r\n    0080: 38 0D 0A 53 65 74 2D 63   6F 6F 6B 69 65 3A 20 4A  8..Set-cookie: J\r\n    0090: 53 45 53 53 49 4F 4E 49   44 3D 34 34 42 35 33 45  SESSIONID=44B53E\r\n    00A0: 35 46 38 30 39 41 35 35   32 34 32 41 44 36 34 38  5F809A55242AD648\r\n    00B0: 33 41 39 33 32 42 30 46   44 36 3B 20 50 61 74 68  3A932B0FD6; Path\r\n    00C0: 3D 2F 3B 20 53 65 63 75   72 65 0D 0A 54 72 61 6E  =/; Secure..Tran\r\n    00D0: 73 66 65 72 2D 65 6E 63   6F 64 69 6E 67 3A 20 63  sfer-encoding: c\r\n    00E0: 68 75 6E 6B 65 64 0D 0A   0D 0A 62 62 0D 0A 3C 3F  hunked....bb..&lt;?\r\n    00F0: 78 6D 6C 20 76 65 72 73   69 6F 6E 3D 22 31 2E 30  xml version=&quot;1.0\r\n    0100: 22 20 65 6E 63 6F 64 69   6E 67 3D 22 55 54 46 2D  &quot; encoding=&quot;UTF-\r\n    0110: 38 22 3F 3E 0A 3C 54 68   72 65 65 44 53 65 63 75  8&quot;?&gt;.&lt;ThreeDSecu\r\n    0120: 72 65 3E 3C 4D 65 73 73   61 67 65 20 69 64 3D 22  re&gt;&lt;Message id=&quot;\r\n    0130: 50 41 54 72 61 6E 73 52   65 71 53 70 65 63 34 31  PATransReqSpec41\r\n    0140: 37 39 32 30 31 31 30 35   32 32 32 32 30 30 30 32  7920110522220002\r\n    0150: 36 30 31 37 32 39 33 33   37 36 38 36 35 22 3E 3C  6017293376865&quot;&gt;&lt;\r\n    0160: 50 41 54 72 61 6E 73 52   65 73 3E 3C 76 65 72 73  PATransRes&gt;&lt;vers\r\n    0170: 69 6F 6E 3E 31 2E 30 2E   32 3C 2F 76 65 72 73 69  ion&gt;1.0.2&lt;/versi\r\n    0180: 6F 6E 3E 3C 2F 50 41 54   72 61 6E 73 52 65 73 3E  on&gt;&lt;/PATransRes&gt;\r\n    0190: 3C 2F 4D 65 73 73 61 67   65 3E 3C 2F 54 68 72 65  &lt;/Message&gt;&lt;/Thre\r\n    01A0: 65 44 53 65 63 75 72 65   3E 0D 0A 76 67 28 7C B3  eDSecure&gt;..vg(..\r\n    01B0: C8 F9 7C A1 C9 77 2F F6   E8 8A 42                 .....w/...B\r\n    [Raw read]: length = 5","title":"how to handle / read the response with &quot;Transfer-Encoding:chunked&quot;?","body":"<p>May i know how to handle / read the response with \"Transfer-Encoding:chunked\"?</p>\n\n<p>Currently im using common-httpclient.3.1</p>\n\n<p>My current coding as followings (can handle response with content-length in header only) :-</p>\n\n<pre><code>            httppost = new PostMethod(localurl);\n            httppost.setRequestHeader(\"Content-Type\", \"application/xml; charset=utf-8\");\n            RequestEntity entity = new StringRequestEntity(in, \"application/xml\", \"UTF-8\");\n            httppost.setRequestHeader(\"Content-length\", entity.getContentLength()+\"\");\n            httppost.setRequestEntity(entity);\n            for (int i=0; i&lt;retryAttempt; i++) {\n                try {\n                    httpclient.executeMethod(httppost);\n                    if (httppost.getStatusCode() == 200) {\n\n                        br = new BufferedReader(new InputStreamReader(httppost.getResponseBodyAsStream(), httppost.getResponseCharSet()));\n                        String reply = null;\n\n                        long len = httppost.getResponseContentLength();\n\n                        if(len != 0) {\n                            char[] cbuf = new char[Integer.parseInt(len+\"\")];\n                            if (br.read(cbuf, 0, Integer.parseInt(len+\"\")) != -1 ) {\n                                repOut = String.valueOf(cbuf);\n                            }\n                        }else{\n                            while ((reply = br.readLine()) != null) {\n                                if (!reply.equals(\"\")) repOut += reply+\" \\n \";\n                            }\n}\n</code></pre>\n\n<p>Response get from URL (via httppost):</p>\n\n<pre><code>Thread-9, READ: TLSv1 Application Data, length = 443\nPadded plaintext after DECRYPTION:  len = 443\n0000: 48 54 54 50 2F 31 2E 31   20 32 30 30 20 4F 4B 0D  HTTP/1.1 200 OK.\n0010: 0A 53 65 72 76 65 72 3A   20 53 54 52 4F 4E 47 48  .Server: STRONGH\n0020: 4F 4C 44 2F 33 2E 30 2F   4F 70 65 6E 42 53 44 0D  OLD/3.0/OpenBSD.\n0030: 0A 44 61 74 65 3A 20 53   75 6E 2C 20 32 32 20 4D  .Date: Sun, 22 M\n0040: 61 79 20 32 30 31 31 20   31 34 3A 30 31 3A 30 38  ay 2011 14:01:08\n0050: 20 47 4D 54 0D 0A 43 6F   6E 74 65 6E 74 2D 74 79   GMT..Content-ty\n0060: 70 65 3A 20 61 70 70 6C   69 63 61 74 69 6F 6E 2F  pe: application/\n0070: 78 6D 6C 3B 63 68 61 72   73 65 74 3D 55 54 46 2D  xml;charset=UTF-\n0080: 38 0D 0A 53 65 74 2D 63   6F 6F 6B 69 65 3A 20 4A  8..Set-cookie: J\n0090: 53 45 53 53 49 4F 4E 49   44 3D 34 34 42 35 33 45  SESSIONID=44B53E\n00A0: 35 46 38 30 39 41 35 35   32 34 32 41 44 36 34 38  5F809A55242AD648\n00B0: 33 41 39 33 32 42 30 46   44 36 3B 20 50 61 74 68  3A932B0FD6; Path\n00C0: 3D 2F 3B 20 53 65 63 75   72 65 0D 0A 54 72 61 6E  =/; Secure..Tran\n00D0: 73 66 65 72 2D 65 6E 63   6F 64 69 6E 67 3A 20 63  sfer-encoding: c\n00E0: 68 75 6E 6B 65 64 0D 0A   0D 0A 62 62 0D 0A 3C 3F  hunked....bb..&lt;?\n00F0: 78 6D 6C 20 76 65 72 73   69 6F 6E 3D 22 31 2E 30  xml version=\"1.0\n0100: 22 20 65 6E 63 6F 64 69   6E 67 3D 22 55 54 46 2D  \" encoding=\"UTF-\n0110: 38 22 3F 3E 0A 3C 54 68   72 65 65 44 53 65 63 75  8\"?&gt;.&lt;ThreeDSecu\n0120: 72 65 3E 3C 4D 65 73 73   61 67 65 20 69 64 3D 22  re&gt;&lt;Message id=\"\n0130: 50 41 54 72 61 6E 73 52   65 71 53 70 65 63 34 31  PATransReqSpec41\n0140: 37 39 32 30 31 31 30 35   32 32 32 32 30 30 30 32  7920110522220002\n0150: 36 30 31 37 32 39 33 33   37 36 38 36 35 22 3E 3C  6017293376865\"&gt;&lt;\n0160: 50 41 54 72 61 6E 73 52   65 73 3E 3C 76 65 72 73  PATransRes&gt;&lt;vers\n0170: 69 6F 6E 3E 31 2E 30 2E   32 3C 2F 76 65 72 73 69  ion&gt;1.0.2&lt;/versi\n0180: 6F 6E 3E 3C 2F 50 41 54   72 61 6E 73 52 65 73 3E  on&gt;&lt;/PATransRes&gt;\n0190: 3C 2F 4D 65 73 73 61 67   65 3E 3C 2F 54 68 72 65  &lt;/Message&gt;&lt;/Thre\n01A0: 65 44 53 65 63 75 72 65   3E 0D 0A 76 67 28 7C B3  eDSecure&gt;..vg(..\n01B0: C8 F9 7C A1 C9 77 2F F6   E8 8A 42                 .....w/...B\n[Raw read]: length = 5\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1666124741,"post_id":74099352,"comment_id":130860647,"body_markdown":"You don&#39;t need `Employee&lt;Address&gt;` as return type, it&#39;s enough just to return `Employee` type.","body":"You don&#39;t need <code>Employee&lt;Address&gt;</code> as return type, it&#39;s enough just to return <code>Employee</code> type."}],"owner":{"account_id":2981669,"reputation":11,"user_id":2531512,"display_name":"Indu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":615,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666028023,"creation_date":1666019365,"question_id":74099352,"body_markdown":"I am learning Swagger. I have a simple Spring Boot REST API to display employee. The Employee model has an association of employee addresses. All I am trying is to display the employee details for the documentation using Swagger.\r\n\r\nThis is my Employee model:\r\n\r\n    package com.example.documentation.model;\r\n\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    public class Employee&lt;T&gt; {\r\n        @Schema(type = &quot;int&quot;, description = &quot;id for employee&quot;)\r\n        private int id;\r\n\r\n        @Schema(type = &quot;string&quot;, description = &quot;name of employee&quot;)\r\n        private String name;\r\n        private List&lt;T&gt; listOfAddresses;\r\n        public Employee(int id, String name, List&lt;T&gt; listOfAddresses) {\r\n            this.listOfAddresses = listOfAddresses;\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public List&lt;T&gt; getListOfAddresses() {\r\n            listOfAddresses = (List&lt;T&gt;) Arrays.asList(new Address(2201,&quot;Street 1&quot;,&quot;UB12 \r\n    1TT&quot;), new Address(3201,&quot;Street 1&quot;,&quot;KK12 1TP&quot;));\r\n            return listOfAddresses;\r\n        }\r\n\r\n        public void setListOfAddresses(List&lt;T&gt; listOfAddresses) {\r\n            this.listOfAddresses = listOfAddresses;\r\n        }}\r\n\r\nwhere Address is a normal POJO with houseNumber, Streetname and postcode.\r\n\r\nBelow is my controller:\r\n\r\n    package com.example.documentation.controller;\r\n\r\n    import com.example.documentation.model.Address;\r\n    import com.example.documentation.model.Employee;\r\n    import io.swagger.v3.oas.annotations.Operation;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    @RestController\r\n    public class EmployeeController {\r\n\r\n        private Employee&lt;Address&gt; employee;\r\n    \r\n        @RequestMapping(&quot;/employee/{id}&quot;)\r\n        @Operation(\r\n                tags = {&quot;Employee&quot;}\r\n        )\r\n    \r\n        public Employee&lt;Address&gt; getEmployeeDetailsById(@PathVariable(name = &quot;id&quot;, required = true) int id,\r\n                                                        @PathVariable(name = &quot;name&quot;, required = false) String name)  {\r\n    \r\n            List&lt;Address&gt; list = Arrays.asList(new Address(101,&quot;T1&quot;,&quot;Test 1&quot;),\r\n                    new Address(201,&quot;T2&quot;,&quot;Test 2&quot;));\r\n            employee = new Employee&lt;&gt;(101,&quot;David&quot;, list);\r\n    \r\n            return employee;\r\n        }\r\n    }\r\n\r\nI am using Gradle.\r\n\r\nWhen I access Swagger UI, I see the following:\r\n\r\n![](https://i.stack.imgur.com/6L6Ie.png)\r\n\r\nAs you can see the ID and the name of the employee is missing. Any idea how to resolve this?","title":"Swagger UI not showing all the fields from user defined model","body":"<p>I am learning Swagger. I have a simple Spring Boot REST API to display employee. The Employee model has an association of employee addresses. All I am trying is to display the employee details for the documentation using Swagger.</p>\n<p>This is my Employee model:</p>\n<pre><code>package com.example.documentation.model;\n\nimport io.swagger.v3.oas.annotations.media.Schema;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Employee&lt;T&gt; {\n    @Schema(type = &quot;int&quot;, description = &quot;id for employee&quot;)\n    private int id;\n\n    @Schema(type = &quot;string&quot;, description = &quot;name of employee&quot;)\n    private String name;\n    private List&lt;T&gt; listOfAddresses;\n    public Employee(int id, String name, List&lt;T&gt; listOfAddresses) {\n        this.listOfAddresses = listOfAddresses;\n        this.id = id;\n        this.name = name;\n    }\n\n    public List&lt;T&gt; getListOfAddresses() {\n        listOfAddresses = (List&lt;T&gt;) Arrays.asList(new Address(2201,&quot;Street 1&quot;,&quot;UB12 \n1TT&quot;), new Address(3201,&quot;Street 1&quot;,&quot;KK12 1TP&quot;));\n        return listOfAddresses;\n    }\n\n    public void setListOfAddresses(List&lt;T&gt; listOfAddresses) {\n        this.listOfAddresses = listOfAddresses;\n    }}\n</code></pre>\n<p>where Address is a normal POJO with houseNumber, Streetname and postcode.</p>\n<p>Below is my controller:</p>\n<pre><code>package com.example.documentation.controller;\n\nimport com.example.documentation.model.Address;\nimport com.example.documentation.model.Employee;\nimport io.swagger.v3.oas.annotations.Operation;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n@RestController\npublic class EmployeeController {\n\n    private Employee&lt;Address&gt; employee;\n\n    @RequestMapping(&quot;/employee/{id}&quot;)\n    @Operation(\n            tags = {&quot;Employee&quot;}\n    )\n\n    public Employee&lt;Address&gt; getEmployeeDetailsById(@PathVariable(name = &quot;id&quot;, required = true) int id,\n                                                    @PathVariable(name = &quot;name&quot;, required = false) String name)  {\n\n        List&lt;Address&gt; list = Arrays.asList(new Address(101,&quot;T1&quot;,&quot;Test 1&quot;),\n                new Address(201,&quot;T2&quot;,&quot;Test 2&quot;));\n        employee = new Employee&lt;&gt;(101,&quot;David&quot;, list);\n\n        return employee;\n    }\n}\n</code></pre>\n<p>I am using Gradle.</p>\n<p>When I access Swagger UI, I see the following:</p>\n<p><img src=\"https://i.stack.imgur.com/6L6Ie.png\" alt=\"\" /></p>\n<p>As you can see the ID and the name of the employee is missing. Any idea how to resolve this?</p>\n"},{"tags":["java","sql-server","spring","spring-boot"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":2,"creation_date":1655808205,"post_id":72698722,"comment_id":128413851,"body_markdown":"You upgraded to `mssql-jdbc-10.2.1`. The answer is to read the release notes, [JDBC Driver 10.2 for SQL Server Released](https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754), and then you&#39;d know that JDBC 10.2 had a **BREAKING CHANGE** that changes the default from `encrypt=no;` to `encrypt=yes;` and that you&#39;d need to do something about that.","body":"You upgraded to <code>mssql-jdbc-10.2.1</code>. The answer is to read the release notes, <a href=\"https://techcommunity.microsoft.com/t5/sql-server-blog/jdbc-driver-10-2-for-sql-server-released/ba-p/3100754\" rel=\"nofollow noreferrer\">JDBC Driver 10.2 for SQL Server Released</a>, and then you&#39;d know that JDBC 10.2 had a <b>BREAKING CHANGE</b> that changes the default from <code>encrypt=no;</code> to <code>encrypt=yes;</code> and that you&#39;d need to do something about that."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1655808640,"post_id":72698722,"comment_id":128414015,"body_markdown":"@AlwaysLearning oh there is what I did not see a while a go hehe, yeah I already did what they less recommend in there which is change encrypt to false or use trustServerCertificate to true, I need help on how to do this &quot;Install a trusted certificate on your server.&quot; which is the recommended way, is there any tutorial you can point me to?","body":"@AlwaysLearning oh there is what I did not see a while a go hehe, yeah I already did what they less recommend in there which is change encrypt to false or use trustServerCertificate to true, I need help on how to do this &quot;Install a trusted certificate on your server.&quot; which is the recommended way, is there any tutorial you can point me to?"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":1,"creation_date":1655809294,"post_id":72698722,"comment_id":128414223,"body_markdown":"Have a read through [Certificate Management (SQL Server Configuration Manager)](https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/manage-certificates) as a starting point. Given the difficulty of getting CA-signed certificates for things-that-aren&#39;t-web-servers (unless you have your own organizational CA), if you have a limited pool of connecting clients it&#39;s usually easier to export the public key portion of the SQL Server&#39;s self-signed certificate and install that into the Trusted Certificate stores of the clients.","body":"Have a read through <a href=\"https://learn.microsoft.com/en-us/sql/database-engine/configure-windows/manage-certificates\" rel=\"nofollow noreferrer\">Certificate Management (SQL Server Configuration Manager)</a> as a starting point. Given the difficulty of getting CA-signed certificates for things-that-aren&#39;t-web-servers (unless you have your own organizational CA), if you have a limited pool of connecting clients it&#39;s usually easier to export the public key portion of the SQL Server&#39;s self-signed certificate and install that into the Trusted Certificate stores of the clients."}],"answers":[{"tags":[],"owner":{"account_id":10925100,"reputation":976,"user_id":8030048,"display_name":"M. Amer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666027864,"creation_date":1666027864,"answer_id":74101047,"question_id":72698722,"body_markdown":"I faced the same issue with spring boot 2.7.4\r\n\r\nit turns out that since 2.7.0 the JDBC **Driver 10.2** for SQL Server is used\r\n&lt;br/&gt;instead of **9.4.1.jre8** for 2.6.x\r\n\r\nSo you&#39;ve 1 of 2 solutions that worked for me:\r\n\r\n **1. Use the older version of mssql-jdbc driver** &lt;br/&gt;\r\n*I assume you&#39;re using spring-boot-starter-parent, so under the POM file properties section , just add*\r\n```\r\n\t&lt;properties&gt;\t\r\n\t\t&lt;mssql-jdbc.version&gt;9.4.1.jre8&lt;/mssql-jdbc.version&gt;\r\n    &lt;/properties&gt;\r\n```\r\n **2. Or ask the driver to just trust the whatever the Sql server certiticate is**\r\n&lt;br/&gt;\r\nyou can do so by adding this to the connection string (*which you already mentioned*):\r\n```\r\njdbc:sqlserver://hOSt:pORt;databaseName=dbName;encrypt=true;trustServerCertificate=true\r\n```\r\n\r\n&lt;br/&gt; Personally I didn&#39;t prefer to trust any certificate blindly so went for 1\r\n&lt;br/&gt;specially it saves you the hassle of managing a self-signed certificate for your sql server","title":"spring-boot-starter-parent 2.7.0 version destroys connection to sql server database","body":"<p>I faced the same issue with spring boot 2.7.4</p>\n<p>it turns out that since 2.7.0 the JDBC <strong>Driver 10.2</strong> for SQL Server is used\n<br/>instead of <strong>9.4.1.jre8</strong> for 2.6.x</p>\n<p>So you've 1 of 2 solutions that worked for me:</p>\n<p><strong>1. Use the older version of mssql-jdbc driver</strong> <br/>\n<em>I assume you're using spring-boot-starter-parent, so under the POM file properties section , just add</em></p>\n<pre><code>    &lt;properties&gt;    \n        &lt;mssql-jdbc.version&gt;9.4.1.jre8&lt;/mssql-jdbc.version&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p><strong>2. Or ask the driver to just trust the whatever the Sql server certiticate is</strong>\n<br/>\nyou can do so by adding this to the connection string (<em>which you already mentioned</em>):</p>\n<pre><code>jdbc:sqlserver://hOSt:pORt;databaseName=dbName;encrypt=true;trustServerCertificate=true\n</code></pre>\n<p><br/> Personally I didn't prefer to trust any certificate blindly so went for 1\n<br/>specially it saves you the hassle of managing a self-signed certificate for your sql server</p>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2081,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1666027864,"creation_date":1655805097,"question_id":72698722,"body_markdown":"When using 2.5.7 as the starter parent version I can connect to the sql database, but when upgrading to 2.7.0 the following error appears:\r\n\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;. ClientConnectionId:044dca7c-183e-44cd-7dc1-54b73c13e44a\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3680) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:2113) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3204) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2833) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2671) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1640) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:936) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n    \tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n    \tat com.comfenalcoantioquia.subsidies.SubsidiesApplication.main(SubsidiesApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\r\n    Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:369) ~[na:na]\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312) ~[na:na]\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307) ~[na:na]\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654) ~[na:na]\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478) ~[na:na]\r\n    \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456) ~[na:na]\r\n    \tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1377) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1290) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:383) ~[na:na]\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:2021) ~[mssql-jdbc-10.2.1.jre8.jar:na]\r\n    \t... 56 common frames omitted\r\n\r\nI solved it by carefully looking at my other project thatcan succesfully connect to the database and that (spring-boot-starter-parent version) was the only thing that I notice different and surprise it was the &quot;problem&quot;, then reading here https://spring.io/blog/2022/05/19/spring-boot-2-7-0-available-now\r\nI notice that in one of the highlights it says &quot;Web server SSL configuration using PEM-encoded certs&quot; and I have the feeling it has to do with this issue, so for fixing I feel I am doing like a workaround which is adding this in the url connection at the properties yml:\r\n\r\n    encrypt=true;trustServerCertificate=true\r\n\r\nthis solution I got from here: https://stackoverflow.com/a/72376020/12085680\r\n\r\nbut I was wondering if there is a more proper way to fix this, so I can use 2.7.0 or above and do what is supposed to do? So please share any guide or tutorial for doing the proper solution, like should I generate a certificate? how? where should it be placed? thanks for any guide/help\r\n","title":"spring-boot-starter-parent 2.7.0 version destroys connection to sql server database","body":"<p>When using 2.5.7 as the starter parent version I can connect to the sql database, but when upgrading to 2.7.0 the following error appears:</p>\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&quot;. ClientConnectionId:044dca7c-183e-44cd-7dc1-54b73c13e44a\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:3680) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:2113) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:3204) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2833) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:2671) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1640) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:936) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:175) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:173) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:127) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.9.Final.jar:5.6.9.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.comfenalcoantioquia.subsidies.SubsidiesApplication.main(SubsidiesApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.0.jar:2.7.0]\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:369) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:312) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.onCertificate(CertificateMessage.java:473) ~[na:na]\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.consume(CertificateMessage.java:369) ~[na:na]\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:478) ~[na:na]\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:456) ~[na:na]\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:199) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1377) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1290) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:411) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:383) ~[na:na]\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:2021) ~[mssql-jdbc-10.2.1.jre8.jar:na]\n    ... 56 common frames omitted\n</code></pre>\n<p>I solved it by carefully looking at my other project thatcan succesfully connect to the database and that (spring-boot-starter-parent version) was the only thing that I notice different and surprise it was the &quot;problem&quot;, then reading here <a href=\"https://spring.io/blog/2022/05/19/spring-boot-2-7-0-available-now\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/05/19/spring-boot-2-7-0-available-now</a>\nI notice that in one of the highlights it says &quot;Web server SSL configuration using PEM-encoded certs&quot; and I have the feeling it has to do with this issue, so for fixing I feel I am doing like a workaround which is adding this in the url connection at the properties yml:</p>\n<pre><code>encrypt=true;trustServerCertificate=true\n</code></pre>\n<p>this solution I got from here: <a href=\"https://stackoverflow.com/a/72376020/12085680\">https://stackoverflow.com/a/72376020/12085680</a></p>\n<p>but I was wondering if there is a more proper way to fix this, so I can use 2.7.0 or above and do what is supposed to do? So please share any guide or tutorial for doing the proper solution, like should I generate a certificate? how? where should it be placed? thanks for any guide/help</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1666024534,"post_id":74100395,"comment_id":130832283,"body_markdown":"This is an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). The purpose of the [Scanner](https://www.w3schools.com/java/java_user_input.asp) class is to get user input, not read files. These are two very different tasks.","body":"This is an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. The purpose of the <a href=\"https://www.w3schools.com/java/java_user_input.asp\" rel=\"nofollow noreferrer\">Scanner</a> class is to get user input, not read files. These are two very different tasks."},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1666024576,"post_id":74100395,"comment_id":130832293,"body_markdown":"Does this answer your question? [Reading a plain text file in Java](https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4716503/reading-a-plain-text-file-in-java\">Reading a plain text file in Java</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1666024698,"post_id":74100395,"comment_id":130832322,"body_markdown":"You can use [`Files.lines(Path)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)) or [`Files.lines(Path, Charset)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path,java.nio.charset.Charset)). There is no need to use `Scanner` if you just want to read lines.","body":"You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.lines(Path)</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"nofollow noreferrer\"><code>Files.lines(Path, Charset)</code></a>. There is no need to use <code>Scanner</code> if you just want to read lines."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666025055,"post_id":74100395,"comment_id":130832425,"body_markdown":"You can use Scanner if you want to.  You would need a loop that new a new scanner for each file and then use the scanner to reads the lines.","body":"You can use Scanner if you want to.  You would need a loop that new a new scanner for each file and then use the scanner to reads the lines."},{"owner":{"account_id":21713820,"reputation":9,"user_id":16025121,"display_name":"Ausrys"},"score":0,"creation_date":1666026368,"post_id":74100395,"comment_id":130832845,"body_markdown":"Reading from a single file is not a problem for me, a problem for me is that when I try for example pass: `File[] files = new File(Folder_path).listFiles()  ` `Files.lines(files[1])` or any other reader I fail","body":"Reading from a single file is not a problem for me, a problem for me is that when I try for example pass: <code>File[] files = new File(Folder_path).listFiles()  </code> <code>Files.lines(files[1])</code> or any other reader I fail"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1666046388,"post_id":74101046,"comment_id":130838503,"body_markdown":"Fine but you&#39;d get a nasty surprise if one of those files is a directory ;)","body":"Fine but you&#39;d get a nasty surprise if one of those files is a directory ;)"},{"owner":{"account_id":21713820,"reputation":9,"user_id":16025121,"display_name":"Ausrys"},"score":0,"creation_date":1666098954,"post_id":74101046,"comment_id":130850993,"body_markdown":"yes, but for my task I knew that there were only files in that directory, in another cases I believe there should be a check to see if it is a file or directory","body":"yes, but for my task I knew that there were only files in that directory, in another cases I believe there should be a check to see if it is a file or directory"}],"tags":[],"owner":{"account_id":21713820,"reputation":9,"user_id":16025121,"display_name":"Ausrys"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666027859,"creation_date":1666027859,"answer_id":74101046,"question_id":74100395,"body_markdown":"My solution: \r\n\r\n    private String Folder_path = &quot;the_path_to_fikes&quot;;\r\n    File[] files = new File(Folder_path).listFiles();\r\n    String obj = files[1].toString();\r\n        Path path = Paths.get(obj);\r\n        try {\r\n            Files.lines(path).forEach(line -&gt; {\r\n                System.out.println(line);\r\n            });\r\n        } catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }","title":"java read files from a directory line by line","body":"<p>My solution:</p>\n<pre><code>private String Folder_path = &quot;the_path_to_fikes&quot;;\nFile[] files = new File(Folder_path).listFiles();\nString obj = files[1].toString();\n    Path path = Paths.get(obj);\n    try {\n        Files.lines(path).forEach(line -&gt; {\n            System.out.println(line);\n        });\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":21713820,"reputation":9,"user_id":16025121,"display_name":"Ausrys"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74101046,"answer_count":1,"score":0,"last_activity_date":1666027859,"creation_date":1666024289,"question_id":74100395,"body_markdown":"I have a directory with text files, those files contain a number in every line, which I have to do some calculations with. I need to read a file, read every single line in the file and then continue with another file until they all are read. I am new to Java so I was thinking of using scanner to read every line, but I haven&#39;t been able to get a file from a directory correctly.\r\n\r\n    private String Folder_path = &quot;the path to dir&quot;;\r\n    Path kazkas = Paths.get(Folder_path);\r\n    File[] files = new File(Folder_path).listFiles();\r\n\r\nI get to this point, but haven&#39;t found a solution how to take single file and pass it to the scanner.\r\n","title":"java read files from a directory line by line","body":"<p>I have a directory with text files, those files contain a number in every line, which I have to do some calculations with. I need to read a file, read every single line in the file and then continue with another file until they all are read. I am new to Java so I was thinking of using scanner to read every line, but I haven't been able to get a file from a directory correctly.</p>\n<pre><code>private String Folder_path = &quot;the path to dir&quot;;\nPath kazkas = Paths.get(Folder_path);\nFile[] files = new File(Folder_path).listFiles();\n</code></pre>\n<p>I get to this point, but haven't found a solution how to take single file and pass it to the scanner.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1666027196,"post_id":74100809,"comment_id":130833102,"body_markdown":"Whatever the actual variable is in the while loop - by definition of your loop it will terminate when `counter` is at final which means you&#39;ll never see the value in t2 at final - for example.","body":"Whatever the actual variable is in the while loop - by definition of your loop it will terminate when <code>counter</code> is at final which means you&#39;ll never see the value in t2 at final - for example."},{"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"score":0,"creation_date":1666028598,"post_id":74100809,"comment_id":130833525,"body_markdown":"yeah, it should be &quot;final_value&quot;, i edited.  Hmm, you&#39;re right, it should stop t2 = final -1, I&#39;ll look at the code again to see whats going on.  Either way, whatever happens, it should be consistent and not sometimes be one less.  I was thinking perhaps there was some odd behavior with the thread and the text field updates","body":"yeah, it should be &quot;final_value&quot;, i edited.  Hmm, you&#39;re right, it should stop t2 = final -1, I&#39;ll look at the code again to see whats going on.  Either way, whatever happens, it should be consistent and not sometimes be one less.  I was thinking perhaps there was some odd behavior with the thread and the text field updates"},{"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"score":0,"creation_date":1666029382,"post_id":74100809,"comment_id":130833793,"body_markdown":"ok this is strange.  If I put a breakpoint at the while loop, T2 is always displayed as Counter + 1 eventhough the &quot;setText&quot; is before &quot;counter++&quot;.  If I put a breakpoint at &quot;counter++&quot;, T2 displays counter.  Is the setText executing AFTER counter++ because of threading?","body":"ok this is strange.  If I put a breakpoint at the while loop, T2 is always displayed as Counter + 1 eventhough the &quot;setText&quot; is before &quot;counter++&quot;.  If I put a breakpoint at &quot;counter++&quot;, T2 displays counter.  Is the setText executing AFTER counter++ because of threading?"},{"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"score":0,"creation_date":1666029631,"post_id":74100809,"comment_id":130833875,"body_markdown":"I just moved counter++ and the line after it to before the setText and it seems to work better now.","body":"I just moved counter++ and the line after it to before the setText and it seems to work better now."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1666029697,"post_id":74100809,"comment_id":130833909,"body_markdown":"The only UI behavior that may seem odd that I can tell is it may appear to &quot;skip&quot; values because you are queueing a new value every 100 milliseconds to the UI queue and you may not be able to see those changes for a variety of reasons.","body":"The only UI behavior that may seem odd that I can tell is it may appear to &quot;skip&quot; values because you are queueing a new value every 100 milliseconds to the UI queue and you may not be able to see those changes for a variety of reasons."},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1666029822,"post_id":74100809,"comment_id":130833954,"body_markdown":"And referring to `counter` post delayed may be an issue as well - try forming the string before `post`ing - so it uses the value at the iteration of the loop.","body":"And referring to <code>counter</code> post delayed may be an issue as well - try forming the string before <code>post</code>ing - so it uses the value at the iteration of the loop."}],"owner":{"account_id":1811996,"reputation":431,"user_id":1647854,"accept_rate":13,"display_name":"eng3"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666027770,"creation_date":1666026471,"question_id":74100809,"body_markdown":"I have two text fields that I want to show counting up and stopping at a certain number.  Typically it works fine, but sometimes one or both stop short by one number.\r\n\r\n```\r\nfinal TextView t1 = (TextView) findViewById(R.id.text1);\r\nfinal TextView t2 = (TextView) findViewById(R.id.text2);\r\nwinthread = new Thread(new Runnable() {\r\n\tfloat store_count = oldstore;\r\n\tint counter = 0;\r\n\tpublic void run() {\r\n\t\twhile (counter &lt; final_value) {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t} catch (InterruptedException e) {\t}\r\n\t\t\tt1.post(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tt1.setText(String.format(&quot;T1 $%.2f&quot;, store_count));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tt2.post(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tt2.setText(String.format(&quot;T2 %d&quot;, counter));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tcounter++;\r\n\t\t\tstore_count = oldstore +  counter * 5;\r\n\t\t}\r\n\t}\r\n});\r\nwinthread.start();\r\n```\r\n\r\nFrom the code, T1 should stop at *oldstore+final_valuex5* and T2 should stop at *final_value* but sometimes T1 stops at *oldstore+final_valuex5-1* or T2 stops at *final_value-1*","title":"Basic counter display sometimes stops short","body":"<p>I have two text fields that I want to show counting up and stopping at a certain number.  Typically it works fine, but sometimes one or both stop short by one number.</p>\n<pre><code>final TextView t1 = (TextView) findViewById(R.id.text1);\nfinal TextView t2 = (TextView) findViewById(R.id.text2);\nwinthread = new Thread(new Runnable() {\n    float store_count = oldstore;\n    int counter = 0;\n    public void run() {\n        while (counter &lt; final_value) {\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {  }\n            t1.post(new Runnable() {\n                public void run() {\n                    t1.setText(String.format(&quot;T1 $%.2f&quot;, store_count));\n                }\n            });\n            t2.post(new Runnable() {\n                public void run() {\n                    t2.setText(String.format(&quot;T2 %d&quot;, counter));\n                }\n            });\n            counter++;\n            store_count = oldstore +  counter * 5;\n        }\n    }\n});\nwinthread.start();\n</code></pre>\n<p>From the code, T1 should stop at <em>oldstore+final_valuex5</em> and T2 should stop at <em>final_value</em> but sometimes T1 stops at <em>oldstore+final_valuex5-1</em> or T2 stops at <em>final_value-1</em></p>\n"},{"tags":["java","simpledateformat","date-conversion"],"comments":[{"owner":{"account_id":2888337,"reputation":3729,"user_id":2477669,"accept_rate":71,"display_name":"JohnMark13"},"score":1,"creation_date":1378204748,"post_id":18589986,"comment_id":27357224,"body_markdown":"Why do you need to use a ThreadLocal?","body":"Why do you need to use a ThreadLocal?"},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":0,"creation_date":1406581564,"post_id":18589986,"comment_id":38878515,"body_markdown":"Because SimpleDateFormats (and indeed most other Format instances) are not thread-safe. See my [blog post](https://stijndewitt.wordpress.com/2014/07/28/how-javas-text-formats-can-subtly-break-your-code/) on this topic.","body":"Because SimpleDateFormats (and indeed most other Format instances) are not thread-safe. See my <a href=\"https://stijndewitt.wordpress.com/2014/07/28/how-javas-text-formats-can-subtly-break-your-code/\" rel=\"nofollow noreferrer\">blog post</a> on this topic."}],"answers":[{"comments":[{"owner":{"account_id":2888337,"reputation":3729,"user_id":2477669,"accept_rate":71,"display_name":"JohnMark13"},"score":1,"creation_date":1378205556,"post_id":18590155,"comment_id":27357706,"body_markdown":"Do people do that? If you (the original l poster) does not understand ThreadLocals properly I would recommend not using them. I would maybe consider FastDateFormat from Commons Lang, or DateTimeFormat from the JodaTime library. Here is a long and interesting thread on the subject.. http://jsr166-concurrency.10961.n7.nabble.com/Threadlocals-and-memory-leaks-in-J2EE-td3960.html","body":"Do people do that? If you (the original l poster) does not understand ThreadLocals properly I would recommend not using them. I would maybe consider FastDateFormat from Commons Lang, or DateTimeFormat from the JodaTime library. Here is a long and interesting thread on the subject.. <a href=\"http://jsr166-concurrency.10961.n7.nabble.com/Threadlocals-and-memory-leaks-in-J2EE-td3960.html\" rel=\"nofollow noreferrer\">jsr166-concurrency.10961.n7.nabble.com/&hellip;</a>"},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":1,"creation_date":1409160586,"post_id":18590155,"comment_id":39864658,"body_markdown":"@JohnMark13 : Yes, people do that. I also [recommend](https://stijndewitt.wordpress.com/2014/07/28/how-javas-text-formats-can-subtly-break-your-code/) it. How is he not understanding ThreadLocals properly? Joshua Bloch, author of Effective Java says on your link: &quot;This thread is littered with misinformation. [..] There is nothing inherently wrong with thread locals: They do not cause memory leaks. They are not slow.&quot;. The discussion is about bugs in Tomcat and some other apps that use thread pools and have implementation issues with ThreadLocals. They can and should be fixed in those apps.","body":"@JohnMark13 : Yes, people do that. I also <a href=\"https://stijndewitt.wordpress.com/2014/07/28/how-javas-text-formats-can-subtly-break-your-code/\" rel=\"nofollow noreferrer\">recommend</a> it. How is he not understanding ThreadLocals properly? Joshua Bloch, author of Effective Java says on your link: &quot;This thread is littered with misinformation. [..] There is nothing inherently wrong with thread locals: They do not cause memory leaks. They are not slow.&quot;. The discussion is about bugs in Tomcat and some other apps that use thread pools and have implementation issues with ThreadLocals. They can and should be fixed in those apps."},{"owner":{"account_id":2888337,"reputation":3729,"user_id":2477669,"accept_rate":71,"display_name":"JohnMark13"},"score":0,"creation_date":1409217285,"post_id":18590155,"comment_id":39885555,"body_markdown":"@StijndeWitt Because his question is [paraphrased] &quot;I do not know how to do this using Thread Local&quot;. See also, &quot;otherwise it will leak the memory .why do we want these references after the current thread work has done&quot;, which shows a lack of understanding.\n\nAgree should be fixed in the containers, but you firstly need to understand what they are and secondly how they might impact your project is you use them incorrectly.\n\nOr, just copy a code snippet from SO and don&#39;t worry about understanding what it does.","body":"@StijndeWitt Because his question is [paraphrased] &quot;I do not know how to do this using Thread Local&quot;. See also, &quot;otherwise it will leak the memory .why do we want these references after the current thread work has done&quot;, which shows a lack of understanding.  Agree should be fixed in the containers, but you firstly need to understand what they are and secondly how they might impact your project is you use them incorrectly.  Or, just copy a code snippet from SO and don&#39;t worry about understanding what it does."},{"owner":{"account_id":107907,"reputation":40512,"user_id":286685,"accept_rate":56,"display_name":"Stijn de Witt"},"score":1,"creation_date":1409298548,"post_id":18590155,"comment_id":39921491,"body_markdown":"True... I was confused by the comment being on this answer and not on the question itself but you are right... Only use something if you understand the effects it will have.","body":"True... I was confused by the comment being on this answer and not on the question itself but you are right... Only use something if you understand the effects it will have."}],"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1378206315,"creation_date":1378204755,"answer_id":18590155,"question_id":18589986,"body_markdown":"The idea behind this is that SimpleDateFormat is not thread-safe so in a mutil-threaded app you cannot share an instance of SimpleDateFormat between multiple threads. But since creation of SimpleDateFormat is an expensive operation we can use a ThreadLocal as workaround\r\n\r\n\tstatic ThreadLocal&lt;SimpleDateFormat&gt; format1 = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n\t\t@Override\r\n\t\tprotected SimpleDateFormat initialValue() {\r\n\t\t\treturn new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic String formatDate(Date date) {\r\n\t\treturn format1.get().format(date);\r\n\t}\r\n","title":"Date Conversion with ThreadLocal","body":"<p>The idea behind this is that SimpleDateFormat is not thread-safe so in a mutil-threaded app you cannot share an instance of SimpleDateFormat between multiple threads. But since creation of SimpleDateFormat is an expensive operation we can use a ThreadLocal as workaround</p>\n\n<pre><code>static ThreadLocal&lt;SimpleDateFormat&gt; format1 = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n    @Override\n    protected SimpleDateFormat initialValue() {\n        return new SimpleDateFormat(\"yyyy-MM-dd\");\n    }\n};\n\npublic String formatDate(Date date) {\n    return format1.get().format(date);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3171065,"reputation":101,"user_id":2680017,"accept_rate":75,"display_name":"user2680017"},"score":0,"creation_date":1378207076,"post_id":18590570,"comment_id":27358591,"body_markdown":"Thanks Richie, But your class not working saying class body,field declaration not completed.i added extra closing braces but still no luck.and also how to remove these threadlocal references once calll is over.","body":"Thanks Richie, But your class not working saying class body,field declaration not completed.i added extra closing braces but still no luck.and also how to remove these threadlocal references once calll is over."},{"owner":{"account_id":58145,"reputation":9066,"user_id":174144,"accept_rate":83,"display_name":"Richie"},"score":0,"creation_date":1378209289,"post_id":18590570,"comment_id":27359817,"body_markdown":"check now. I have added the braces now.","body":"check now. I have added the braces now."},{"owner":{"account_id":3171065,"reputation":101,"user_id":2680017,"accept_rate":75,"display_name":"user2680017"},"score":0,"creation_date":1378212521,"post_id":18590570,"comment_id":27361794,"body_markdown":"otherwise it will leak the memory .why do we want these references after the current thread work has done.","body":"otherwise it will leak the memory .why do we want these references after the current thread work has done."},{"owner":{"account_id":58145,"reputation":9066,"user_id":174144,"accept_rate":83,"display_name":"Richie"},"score":1,"creation_date":1378221590,"post_id":18590570,"comment_id":27367544,"body_markdown":"If you see the code - both the objects are static which means that it would be like singleton. As long as you are not creating ThreadLocal instances each time, you need not worry about memory leaks. But in case you are very particular - to remove references, you can manually call outDateFormatHolder.remove() and inDateFormatHolder.remove() from formatDate method. http://stackoverflow.com/questions/3869026/how-to-clean-up-threadlocals","body":"If you see the code - both the objects are static which means that it would be like singleton. As long as you are not creating ThreadLocal instances each time, you need not worry about memory leaks. But in case you are very particular - to remove references, you can manually call outDateFormatHolder.remove() and inDateFormatHolder.remove() from formatDate method. <a href=\"http://stackoverflow.com/questions/3869026/how-to-clean-up-threadlocals\" title=\"how to clean up threadlocals\">stackoverflow.com/questions/3869026/&hellip;</a>"},{"owner":{"account_id":58145,"reputation":9066,"user_id":174144,"accept_rate":83,"display_name":"Richie"},"score":0,"creation_date":1378222016,"post_id":18590570,"comment_id":27367805,"body_markdown":"&quot;final Date date = format1.parse(tradeDate);\n    final Date formattedDate = format2.parse(format2.format(date));&quot; - date and formattedDate are the same - You can debug and check.  If you need the date object then the first statement is enough - the date object is not stored with the format. If you want to print the date object again after your second statment, still you will need to call the format method.","body":"&quot;final Date date = format1.parse(tradeDate);     final Date formattedDate = format2.parse(format2.format(date));&quot; - date and formattedDate are the same - You can debug and check.  If you need the date object then the first statement is enough - the date object is not stored with the format. If you want to print the date object again after your second statment, still you will need to call the format method."}],"tags":[],"owner":{"account_id":58145,"reputation":9066,"user_id":174144,"accept_rate":83,"display_name":"Richie"},"comment_count":5,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1378209227,"creation_date":1378205983,"answer_id":18590570,"question_id":18589986,"body_markdown":"ThreadLocal in Java is a way to achieve thread-safety apart from writing immutable classes. Since SimpleDateFormat is not thread safe, you can use a ThreadLocal to make it thread safe.\r\n\r\n    class DateFormatter{\r\n\r\n        private static ThreadLocal&lt;SimpleDateFormat&gt; outDateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n\t\t@Override\r\n\t\tprotected SimpleDateFormat initialValue() {\r\n\t\t\treturn new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\t\t}\r\n\t};\r\n\r\n\tprivate static ThreadLocal&lt;SimpleDateFormat&gt; inDateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\r\n\t\t@Override\r\n\t\tprotected SimpleDateFormat initialValue() {\r\n\t\t\treturn new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n\t\t}\r\n\t};\r\n\r\n\tpublic static String formatDate(String date) throws ParseException { \r\n\t\treturn outDateFormatHolder.get().format(\r\n\t\t\t\tinDateFormatHolder.get().parse(date));\r\n\t}        \r\n    }\r\n","title":"Date Conversion with ThreadLocal","body":"<p>ThreadLocal in Java is a way to achieve thread-safety apart from writing immutable classes. Since SimpleDateFormat is not thread safe, you can use a ThreadLocal to make it thread safe.</p>\n\n<pre><code>class DateFormatter{\n\n    private static ThreadLocal&lt;SimpleDateFormat&gt; outDateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n    @Override\n    protected SimpleDateFormat initialValue() {\n        return new SimpleDateFormat(\"MM/dd/yyyy\");\n    }\n};\n\nprivate static ThreadLocal&lt;SimpleDateFormat&gt; inDateFormatHolder = new ThreadLocal&lt;SimpleDateFormat&gt;() {\n    @Override\n    protected SimpleDateFormat initialValue() {\n        return new SimpleDateFormat(\"yyyyMMdd\");\n    }\n};\n\npublic static String formatDate(String date) throws ParseException { \n    return outDateFormatHolder.get().format(\n            inDateFormatHolder.get().parse(date));\n}        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666027730,"creation_date":1666027730,"answer_id":74101030,"question_id":18589986,"body_markdown":"Java-8+\r\n--\r\n\r\nThe [modern Date-Time](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) classes introduced with Java-8 are thread-safe. \r\n\r\n**Demo**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuuMMdd&quot;, Locale.ENGLISH);\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\r\n            LocalDate date = LocalDate.parse(&quot;20130212&quot;, parser);\r\n            String formattedString = date.format(formatter);\r\n            System.out.println(formattedString);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    12/02/2013\r\n\r\nNote that I [prefer u to y](https://stackoverflow.com/a/65928023/10819573) with `DateTimeFormatter`.\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n","title":"Date Conversion with ThreadLocal","body":"<h2>Java-8+</h2>\n<p>The <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time</a> classes introduced with Java-8 are thread-safe.</p>\n<p><strong>Demo</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;uuuuMMdd&quot;, Locale.ENGLISH);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd/MM/uuuu&quot;, Locale.ENGLISH);\n        LocalDate date = LocalDate.parse(&quot;20130212&quot;, parser);\n        String formattedString = date.format(formatter);\n        System.out.println(formattedString);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>12/02/2013\n</code></pre>\n<p>Note that I <a href=\"https://stackoverflow.com/a/65928023/10819573\">prefer u to y</a> with <code>DateTimeFormatter</code>.</p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":3171065,"reputation":101,"user_id":2680017,"accept_rate":75,"display_name":"user2680017"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15527,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":18590570,"answer_count":3,"score":9,"last_activity_date":1666027730,"creation_date":1378204300,"question_id":18589986,"body_markdown":"I have a requirement to convert incoming date string format &quot;20130212&quot; (YYYYMMDD) to 12/02/2013 (DD/MM/YYYY) \r\n\r\nusing `ThreadLocal`. I know a way to do this without the `ThreadLocal`. Can anyone help me?\r\n\r\nConversion without `ThreadLocal`:\r\n\r\n\t\tfinal SimpleDateFormat format2 = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n\t\tfinal SimpleDateFormat format1 = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n\t\tfinal Date date = format1.parse(tradeDate);\r\n\t\tfinal Date formattedDate = format2.parse(format2.format(date));","title":"Date Conversion with ThreadLocal","body":"<p>I have a requirement to convert incoming date string format \"20130212\" (YYYYMMDD) to 12/02/2013 (DD/MM/YYYY) </p>\n\n<p>using <code>ThreadLocal</code>. I know a way to do this without the <code>ThreadLocal</code>. Can anyone help me?</p>\n\n<p>Conversion without <code>ThreadLocal</code>:</p>\n\n<pre><code>    final SimpleDateFormat format2 = new SimpleDateFormat(\"MM/dd/yyyy\");\n    final SimpleDateFormat format1 = new SimpleDateFormat(\"yyyyMMdd\");\n    final Date date = format1.parse(tradeDate);\n    final Date formattedDate = format2.parse(format2.format(date));\n</code></pre>\n"},{"tags":["java","kotlin","spring-security","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666027712,"creation_date":1666027712,"answer_id":74101026,"question_id":74096598,"body_markdown":"You can create a custom `ServerWebExchangeMatcher` implementation that checks if the request comes from a subdomain and use it in your DSL, something like:\r\n```java\r\nhttp\r\n    .authorizeExchange()\r\n        .matcher(new MySubdomainMatcher()).permitAll()\r\n        .pathMatchers(&quot;/**&quot;).authenticated();\r\n\r\nclass MySubdomainMatcher implements ServerWebExchangeMatcher {\r\n\r\n    public Mono&lt;MatchResult&gt; matches(ServerWebExchange exchange) {\r\n        // perform the logic in the request\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"Disable spring security for subdomain","body":"<p>You can create a custom <code>ServerWebExchangeMatcher</code> implementation that checks if the request comes from a subdomain and use it in your DSL, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .authorizeExchange()\n        .matcher(new MySubdomainMatcher()).permitAll()\n        .pathMatchers(&quot;/**&quot;).authenticated();\n\nclass MySubdomainMatcher implements ServerWebExchangeMatcher {\n\n    public Mono&lt;MatchResult&gt; matches(ServerWebExchange exchange) {\n        // perform the logic in the request\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8902878,"reputation":296,"user_id":6645767,"accept_rate":64,"display_name":"matrixguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74101026,"answer_count":1,"score":1,"last_activity_date":1666027712,"creation_date":1666006204,"question_id":74096598,"body_markdown":"I have an application which can be accessed via different domains of type \r\n\r\n&gt; www.*.example.com\r\n\r\nFor ex-\r\n\r\nwww.test.example.com\r\n\r\nwww.npc.example.com\r\n\r\nwww.train.example.com\r\n\r\n\r\nWhen configuring the spring security (authentication/oauth) , I&#39;d like to enable security only for certain subdomains and keep it disabled for others.\r\n\r\nSay enable it for only &quot;www.test.example.com&quot;\r\n\r\nHere&#39;s my filter config -\r\n\r\n```\r\n@Bean\r\n    fun securityWebFilterChain(\r\n        http: ServerHttpSecurity\r\n    ): SecurityWebFilterChain {\r\n         return http.csrf().disable()\r\n            .cors().configurationSource(corsConfigurationSource())\r\n            .and()\r\n            .authorizeExchange()\r\n                .pathMatchers(&quot;/**&quot;)\r\n               .authenticated()\r\n            .and().httpBasic().and().oauth2Login { oauth2 -&gt;\r\n                        oauth2.authenticationSuccessHandler(oauthSuccessHandler)\r\n                            .authorizedClientService(redisOauthClientService)\r\n                    }\r\n            .build()\r\n    }\r\n\r\n```\r\n\r\n\r\nThe base url is present as another header. Is there a  way to use the header to enable/disable security config? Any other approach would also be fine.\r\n","title":"Disable spring security for subdomain","body":"<p>I have an application which can be accessed via different domains of type</p>\n<blockquote>\n<p>www.*.example.com</p>\n</blockquote>\n<p>For ex-</p>\n<p><a href=\"http://www.test.example.com\" rel=\"nofollow noreferrer\">www.test.example.com</a></p>\n<p><a href=\"http://www.npc.example.com\" rel=\"nofollow noreferrer\">www.npc.example.com</a></p>\n<p><a href=\"http://www.train.example.com\" rel=\"nofollow noreferrer\">www.train.example.com</a></p>\n<p>When configuring the spring security (authentication/oauth) , I'd like to enable security only for certain subdomains and keep it disabled for others.</p>\n<p>Say enable it for only &quot;www.test.example.com&quot;</p>\n<p>Here's my filter config -</p>\n<pre><code>@Bean\n    fun securityWebFilterChain(\n        http: ServerHttpSecurity\n    ): SecurityWebFilterChain {\n         return http.csrf().disable()\n            .cors().configurationSource(corsConfigurationSource())\n            .and()\n            .authorizeExchange()\n                .pathMatchers(&quot;/**&quot;)\n               .authenticated()\n            .and().httpBasic().and().oauth2Login { oauth2 -&gt;\n                        oauth2.authenticationSuccessHandler(oauthSuccessHandler)\n                            .authorizedClientService(redisOauthClientService)\n                    }\n            .build()\n    }\n\n</code></pre>\n<p>The base url is present as another header. Is there a  way to use the header to enable/disable security config? Any other approach would also be fine.</p>\n"},{"tags":["java","hibernate","jpa","caching","guava"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666027604,"creation_date":1666027604,"answer_id":74101000,"question_id":74069208,"body_markdown":"Second level caching of Hibernate will take care of all of that. It will transparently put objects into the cache and evict them if some transaction (of that application) changes data. 2nd level caching refers to caching of entity object in a cache. There also is a query cache, which makes use of the second level cache. Note that the query cache needs to be enabled on a per query basis though with `org.hibernate.query.Query#setCacheable`","title":"Preloading JPA/Hibernate entities to an in-memory cache","body":"<p>Second level caching of Hibernate will take care of all of that. It will transparently put objects into the cache and evict them if some transaction (of that application) changes data. 2nd level caching refers to caching of entity object in a cache. There also is a query cache, which makes use of the second level cache. Note that the query cache needs to be enabled on a per query basis though with <code>org.hibernate.query.Query#setCacheable</code></p>\n"}],"owner":{"account_id":7560690,"reputation":158,"user_id":5738409,"display_name":"kozeljko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666027604,"creation_date":1665750394,"question_id":74069208,"body_markdown":"at work we are using Java EE (WildFly) with an ever increasing workload. Persistence layer uses EJBs with JPA and Hibernate. One table (main data table) gets like 99% of the traffic and database size, while there are a bunch of others that are used to described the data. \r\n\r\nIt works, but sometimes it slows down, due to many description entities that have to be loaded while saving the data table entities. We can&#39;t seem to get the 2nd level Hibernate cache going, so we are currently looking into in-memory caching. \r\n\r\nThe basic idea is just a simple HashMap for each of the description entities I mentioned above. We are talking about 10 tables with 50k records total, so it wouldn&#39;t impact the database badly. \r\n\r\nLoad all of them at startup, put them in the HashMap, link them with other cached entities (Some description entities have relations between themselves). When one of the entities is updated, replace it in cache with an updated version. While the reside in the cache, they are evicted and should behave like normal POJOs. \r\n\r\nWe&#39;ve also looked into some real caching solutions like JCache, Caffeine, etc, but aren&#39;t sure if we really need the features they offer.\r\n\r\nDoes any of this make sense? Or is it a stupid approach to the problem?\r\n","title":"Preloading JPA/Hibernate entities to an in-memory cache","body":"<p>at work we are using Java EE (WildFly) with an ever increasing workload. Persistence layer uses EJBs with JPA and Hibernate. One table (main data table) gets like 99% of the traffic and database size, while there are a bunch of others that are used to described the data.</p>\n<p>It works, but sometimes it slows down, due to many description entities that have to be loaded while saving the data table entities. We can't seem to get the 2nd level Hibernate cache going, so we are currently looking into in-memory caching.</p>\n<p>The basic idea is just a simple HashMap for each of the description entities I mentioned above. We are talking about 10 tables with 50k records total, so it wouldn't impact the database badly.</p>\n<p>Load all of them at startup, put them in the HashMap, link them with other cached entities (Some description entities have relations between themselves). When one of the entities is updated, replace it in cache with an updated version. While the reside in the cache, they are evicted and should behave like normal POJOs.</p>\n<p>We've also looked into some real caching solutions like JCache, Caffeine, etc, but aren't sure if we really need the features they offer.</p>\n<p>Does any of this make sense? Or is it a stupid approach to the problem?</p>\n"},{"tags":["java","hibernate","kotlin","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1665965370,"post_id":74063093,"comment_id":130816164,"body_markdown":"Update: made some progress using hibernate docs, but now stuck on another issue: https://stackoverflow.com/questions/74091483/hibernate-one-to-one-unidirectional-identifiergenerationexception-null-id-gene","body":"Update: made some progress using hibernate docs, but now stuck on another issue: <a href=\"https://stackoverflow.com/questions/74091483/hibernate-one-to-one-unidirectional-identifiergenerationexception-null-id-gene\" title=\"hibernate one to one unidirectional identifiergenerationexception null id gene\">stackoverflow.com/questions/74091483/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"score":0,"creation_date":1666241005,"post_id":74100897,"comment_id":130890216,"body_markdown":"PersonStatus is separate because only this table needs to be audited by envers. And when we add `@Entity`, we _have to_ provide a primary key column. Secondary table didn&#39;t work for me because of those partial auditing requirements, but the usage of `@JoinColumn` in your first code snippet did the trick. Thanks!","body":"PersonStatus is separate because only this table needs to be audited by envers. And when we add <code>@Entity</code>, we <i>have to</i> provide a primary key column. Secondary table didn&#39;t work for me because of those partial auditing requirements, but the usage of <code>@JoinColumn</code> in your first code snippet did the trick. Thanks!"}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666026977,"creation_date":1666026977,"answer_id":74100897,"question_id":74063093,"body_markdown":"Why do you need a separate primary key for `PersonStatus`? Model it like this instead:\r\n\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\nclass PersonEntity(\r\n    @Id\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Long? = null,\r\n\r\n    val name: String,\r\n\r\n    @OneToOne(cascade = [CascadeType.ALL], orphanRemoval = true)\r\n    @JoinColumn(name = &quot;id&quot;, referenceColumnName = &quot;person_id&quot;)\r\n    var personStatus: PersonStatusEntity,\r\n)\r\n@Entity(name = &quot;PersonStatus&quot;)\r\nclass PersonStatusEntity(\r\n    @Enumerated(EnumType.STRING)\r\n    val status: Status,\r\n\r\n    @UpdateTimestamp\r\n    val updateTime: OffsetDateTime? = null\r\n)\r\n```\r\n\r\nor even better, through a secondary table:\r\n\r\n\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\n@SecondaryTable(name = &quot;PersonStatus&quot;, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;person_id&quot;))\r\nclass PersonEntity(\r\n    @Id\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Long? = null,\r\n\r\n    val name: String,\r\n\r\n    @Embedded\r\n    var personStatus: PersonStatus,\r\n)\r\n@Embeddable\r\nclass PersonStatusEntity(\r\n    @Column(table = &quot;PersonStatus&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    val status: Status,\r\n\r\n    @Column(table = &quot;PersonStatus&quot;)\r\n    @UpdateTimestamp\r\n    val updateTime: OffsetDateTime? = null\r\n)\r\n```\r\n\r\nMaybe you need to inline this though:\r\n\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\n@SecondaryTable(name = &quot;PersonStatus&quot;, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;person_id&quot;))\r\nclass PersonEntity(\r\n    @Id\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Long? = null,\r\n\r\n    val name: String,\r\n\r\n    @Column(table = &quot;PersonStatus&quot;)\r\n    @Enumerated(EnumType.STRING)\r\n    val status: Status,\r\n\r\n    @Column(table = &quot;PersonStatus&quot;)\r\n    @UpdateTimestamp\r\n    val updateTime: OffsetDateTime? = null\r\n)\r\n```","title":"Hibernate one-to-one unidirectional puts null in foreign key","body":"<p>Why do you need a separate primary key for <code>PersonStatus</code>? Model it like this instead:</p>\n<pre><code>@Entity(name = &quot;Person&quot;)\nclass PersonEntity(\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    val name: String,\n\n    @OneToOne(cascade = [CascadeType.ALL], orphanRemoval = true)\n    @JoinColumn(name = &quot;id&quot;, referenceColumnName = &quot;person_id&quot;)\n    var personStatus: PersonStatusEntity,\n)\n@Entity(name = &quot;PersonStatus&quot;)\nclass PersonStatusEntity(\n    @Enumerated(EnumType.STRING)\n    val status: Status,\n\n    @UpdateTimestamp\n    val updateTime: OffsetDateTime? = null\n)\n</code></pre>\n<p>or even better, through a secondary table:</p>\n<pre><code>@Entity(name = &quot;Person&quot;)\n@SecondaryTable(name = &quot;PersonStatus&quot;, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;person_id&quot;))\nclass PersonEntity(\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    val name: String,\n\n    @Embedded\n    var personStatus: PersonStatus,\n)\n@Embeddable\nclass PersonStatusEntity(\n    @Column(table = &quot;PersonStatus&quot;)\n    @Enumerated(EnumType.STRING)\n    val status: Status,\n\n    @Column(table = &quot;PersonStatus&quot;)\n    @UpdateTimestamp\n    val updateTime: OffsetDateTime? = null\n)\n</code></pre>\n<p>Maybe you need to inline this though:</p>\n<pre><code>@Entity(name = &quot;Person&quot;)\n@SecondaryTable(name = &quot;PersonStatus&quot;, pkJoinColumns = @PrimaryKeyJoinColumn(name = &quot;person_id&quot;))\nclass PersonEntity(\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    val name: String,\n\n    @Column(table = &quot;PersonStatus&quot;)\n    @Enumerated(EnumType.STRING)\n    val status: Status,\n\n    @Column(table = &quot;PersonStatus&quot;)\n    @UpdateTimestamp\n    val updateTime: OffsetDateTime? = null\n)\n</code></pre>\n"}],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74100897,"answer_count":1,"score":0,"last_activity_date":1666026977,"creation_date":1665706682,"question_id":74063093,"body_markdown":"I have one-to-one mapping between two tables:\r\n\r\n**person** -&gt; id | name\r\n\r\n**person_status** -&gt; id | person_id | status\r\n\r\nI need a unidirectional mapping, i.e. I want to get personStatus from person object, but not the other way round.\r\n\r\nHere are the entities:\r\n\r\n```\r\n@Entity(name = &quot;Person&quot;)\r\nclass PersonEntity(\r\n    @Id\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Long? = null,\r\n\r\n    val name: String,\r\n\r\n    @OneToOne(mappedBy = &quot;person&quot;, cascade = [CascadeType.ALL])\r\n    var personStatus: PersonStatusEntity,\r\n)\r\n```\r\n\r\n```\r\n@Entity(name = &quot;PersonStatus&quot;)\r\nclass PersonStatusEntity(\r\n    @Id\r\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    var id: Long? = null,\r\n\r\n    @OneToOne(cascade = [CascadeType.ALL])\r\n    @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    var person: PersonEntity? = null,\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    val status: Status,\r\n\r\n    @UpdateTimestamp\r\n    val updateTime: OffsetDateTime? = null\r\n)\r\n```\r\n\r\nNow when I run `personRepository.findOneByName(&quot;John&quot;)`, I get the PersonEntity object, which has the personStatus field populated. But inside that personStatus object, the person object is null.\r\n\r\n```\r\npersonEntity = \r\n-- id = 1\r\n-- name = &quot;John&quot;\r\n-- personStatus = \r\n----- id = 1\r\n----- person = null\r\n----- status = APPROVED\r\n----- updateTime = &quot;2022-10-14T10:50:21.519228+11:00&quot;\r\n```\r\n\r\nIdeally **this person field inside personStatus should not be there**, as I don&#39;t want to access a person from a personStatus object. But I can&#39;t figure out the correct annotations to tell hibernate what column to look for while joining. If there is no way to do that, then at least it should not be null. I looked at some existing questions, but they are doing bidirectional mapping, which I&#39;m trying to avoid. How can I achieve that? \r\nThanks.","title":"Hibernate one-to-one unidirectional puts null in foreign key","body":"<p>I have one-to-one mapping between two tables:</p>\n<p><strong>person</strong> -&gt; id | name</p>\n<p><strong>person_status</strong> -&gt; id | person_id | status</p>\n<p>I need a unidirectional mapping, i.e. I want to get personStatus from person object, but not the other way round.</p>\n<p>Here are the entities:</p>\n<pre><code>@Entity(name = &quot;Person&quot;)\nclass PersonEntity(\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    val name: String,\n\n    @OneToOne(mappedBy = &quot;person&quot;, cascade = [CascadeType.ALL])\n    var personStatus: PersonStatusEntity,\n)\n</code></pre>\n<pre><code>@Entity(name = &quot;PersonStatus&quot;)\nclass PersonStatusEntity(\n    @Id\n    @Column(name = &quot;id&quot;, updatable = false, nullable = false)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    var id: Long? = null,\n\n    @OneToOne(cascade = [CascadeType.ALL])\n    @JoinColumn(name = &quot;person_id&quot;, referencedColumnName = &quot;id&quot;)\n    var person: PersonEntity? = null,\n\n    @Enumerated(EnumType.STRING)\n    val status: Status,\n\n    @UpdateTimestamp\n    val updateTime: OffsetDateTime? = null\n)\n</code></pre>\n<p>Now when I run <code>personRepository.findOneByName(&quot;John&quot;)</code>, I get the PersonEntity object, which has the personStatus field populated. But inside that personStatus object, the person object is null.</p>\n<pre><code>personEntity = \n-- id = 1\n-- name = &quot;John&quot;\n-- personStatus = \n----- id = 1\n----- person = null\n----- status = APPROVED\n----- updateTime = &quot;2022-10-14T10:50:21.519228+11:00&quot;\n</code></pre>\n<p>Ideally <strong>this person field inside personStatus should not be there</strong>, as I don't want to access a person from a personStatus object. But I can't figure out the correct annotations to tell hibernate what column to look for while joining. If there is no way to do that, then at least it should not be null. I looked at some existing questions, but they are doing bidirectional mapping, which I'm trying to avoid. How can I achieve that?\nThanks.</p>\n"},{"tags":["java","macos","jna"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666026887,"creation_date":1666026887,"answer_id":74100875,"question_id":74096237,"body_markdown":"The JNA class you inherited is based on Linux LibC where [RLIMIT_NOFILE][1] is defined as 7:\r\n```c\r\n# define RLIMIT_NOFILE\t\t7\t/* max number of open files */\r\n```\r\nWhile there is a lot of overlap between C headers on Linux and macOS, there&#39;s enough of a difference in XNU that you should always verify macOS headers separately.\r\n\r\nOn macOS these constants are apparently different; you&#39;ve correctly noted it&#39;s returning RLIMIT_NPROC there instead, and you should use 8.\r\n```c\r\n#define RLIMIT_NPROC    7               /* number of processes */\r\n#define RLIMIT_NOFILE   8               /* number of open files */\r\n```\r\nOn macOS you might consider using `sysctl` instead:\r\n```\r\nkern.maxfiles: 245760\r\nkern.maxfilesperproc: 122880\r\nkern.num_files: 8685\r\n```\r\n\r\n  [1]: https://github.com/torvalds/linux/blob/5bfc75d92efd494db37f5c4c173d3639d4772966/include/uapi/asm-generic/resource.h#L31","title":"JNA getrlimits() returns wrong values","body":"<p>The JNA class you inherited is based on Linux LibC where <a href=\"https://github.com/torvalds/linux/blob/5bfc75d92efd494db37f5c4c173d3639d4772966/include/uapi/asm-generic/resource.h#L31\" rel=\"nofollow noreferrer\">RLIMIT_NOFILE</a> is defined as 7:</p>\n<pre class=\"lang-c prettyprint-override\"><code># define RLIMIT_NOFILE      7   /* max number of open files */\n</code></pre>\n<p>While there is a lot of overlap between C headers on Linux and macOS, there's enough of a difference in XNU that you should always verify macOS headers separately.</p>\n<p>On macOS these constants are apparently different; you've correctly noted it's returning RLIMIT_NPROC there instead, and you should use 8.</p>\n<pre class=\"lang-c prettyprint-override\"><code>#define RLIMIT_NPROC    7               /* number of processes */\n#define RLIMIT_NOFILE   8               /* number of open files */\n</code></pre>\n<p>On macOS you might consider using <code>sysctl</code> instead:</p>\n<pre><code>kern.maxfiles: 245760\nkern.maxfilesperproc: 122880\nkern.num_files: 8685\n</code></pre>\n"}],"owner":{"account_id":16764163,"reputation":53,"user_id":12118201,"display_name":"stackseti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74100875,"answer_count":1,"score":1,"last_activity_date":1666026939,"creation_date":1666004370,"question_id":74096237,"body_markdown":"Is the JNA functionality correct for the following snippet?\r\nIt seems to me that retrieving the values for `Resource.RLIMIT_NOFILE` returns the values of `Resource.RLIMIT_NPROC` and may be a bug?\r\n\r\nCode:\r\n```java\r\npublic interface CLibrary extends LibCAPI, Library {\r\n    CLibrary INSTANCE = Native.load(&quot;c&quot;, CLibrary.class);\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        final CLibrary INSTANCE = Native.load(&quot;c&quot;, CLibrary.class);\r\n        final Resource.Rlimit rlimit = new Resource.Rlimit();\r\n        INSTANCE.getrlimit(Resource.RLIMIT_NOFILE, rlimit);\r\n        System.out.println(rlimit.rlim_max);\r\n        System.out.println(rlimit.rlim_cur);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\n8352\r\n5568\r\n```\r\n\r\nThe output corresponds to the `maxprocess` output of my macOs 12.6, but I would expect it to be the one of `maxfiles`.\r\n```\r\n❯ launchctl limit\r\n\tcpu         unlimited      unlimited\r\n\tfilesize    unlimited      unlimited\r\n\tdata        unlimited      unlimited\r\n\tstack       8388608        67104768\r\n\tcore        0              unlimited\r\n\trss         unlimited      unlimited\r\n\tmemlock     unlimited      unlimited\r\n\tmaxproc     5568           8352\r\n\tmaxfiles    256            unlimited\r\n```","title":"JNA getrlimits() returns wrong values","body":"<p>Is the JNA functionality correct for the following snippet?\nIt seems to me that retrieving the values for <code>Resource.RLIMIT_NOFILE</code> returns the values of <code>Resource.RLIMIT_NPROC</code> and may be a bug?</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface CLibrary extends LibCAPI, Library {\n    CLibrary INSTANCE = Native.load(&quot;c&quot;, CLibrary.class);\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        final CLibrary INSTANCE = Native.load(&quot;c&quot;, CLibrary.class);\n        final Resource.Rlimit rlimit = new Resource.Rlimit();\n        INSTANCE.getrlimit(Resource.RLIMIT_NOFILE, rlimit);\n        System.out.println(rlimit.rlim_max);\n        System.out.println(rlimit.rlim_cur);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>8352\n5568\n</code></pre>\n<p>The output corresponds to the <code>maxprocess</code> output of my macOs 12.6, but I would expect it to be the one of <code>maxfiles</code>.</p>\n<pre><code>❯ launchctl limit\n    cpu         unlimited      unlimited\n    filesize    unlimited      unlimited\n    data        unlimited      unlimited\n    stack       8388608        67104768\n    core        0              unlimited\n    rss         unlimited      unlimited\n    memlock     unlimited      unlimited\n    maxproc     5568           8352\n    maxfiles    256            unlimited\n</code></pre>\n"},{"tags":["java","spring","rest","predicate","querydsl"],"comments":[{"owner":{"account_id":10308318,"reputation":97,"user_id":7604893,"display_name":"ApexOne"},"score":0,"creation_date":1511778476,"post_id":47346428,"comment_id":81973164,"body_markdown":"I gave this up.. i just wrote a query myself.","body":"I gave this up.. i just wrote a query myself."}],"answers":[{"comments":[{"owner":{"account_id":15216309,"reputation":575,"user_id":10979593,"display_name":"Padi kodwo Amu"},"score":0,"creation_date":1665924595,"post_id":54139153,"comment_id":130808278,"body_markdown":"I voted up. I think you should reformat the code. one closing bracket is missing.","body":"I voted up. I think you should reformat the code. one closing bracket is missing."}],"tags":[],"owner":{"account_id":9576900,"reputation":21,"user_id":7112675,"display_name":"Marcelo Martins"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1666026327,"creation_date":1547169659,"answer_id":54139153,"question_id":47346428,"body_markdown":"You can try this method to create a new predicate replacing AND operator for OR:\r\n\r\n   \r\n\r\n     public static Predicate replaceAndForOR(Predicate predicate) {\r\n        if (predicate instanceof PredicateOperation) {\r\n          PredicateOperation operation = (PredicateOperation) predicate;\r\n          List&lt;Expression&lt;?&gt;&gt; expressions = operation.getArgs();\r\n          BooleanBuilder builder = new BooleanBuilder();\r\n    \r\n          for (Expression&lt;?&gt; exp : expressions) {\r\n            String[] expStrings = exp.toString().split(&quot;&amp;&amp;&quot;);\r\n            PredicateOperation op = (PredicateOperation) exp;\r\n    \r\n            if (expStrings.length &gt; 1) {\r\n              Predicate p = replaceAndForOR(op);\r\n              builder.or(p);\r\n            } else {\r\n              builder.or(op);\r\n            }\r\n          }\r\n    \r\n          return builder.getValue();\r\n        } else {\r\n          return predicate;\r\n        }\r\n      }","title":"QueryDSL with OR operator instead of AND","body":"<p>You can try this method to create a new predicate replacing AND operator for OR:</p>\n<pre><code> public static Predicate replaceAndForOR(Predicate predicate) {\n    if (predicate instanceof PredicateOperation) {\n      PredicateOperation operation = (PredicateOperation) predicate;\n      List&lt;Expression&lt;?&gt;&gt; expressions = operation.getArgs();\n      BooleanBuilder builder = new BooleanBuilder();\n\n      for (Expression&lt;?&gt; exp : expressions) {\n        String[] expStrings = exp.toString().split(&quot;&amp;&amp;&quot;);\n        PredicateOperation op = (PredicateOperation) exp;\n\n        if (expStrings.length &gt; 1) {\n          Predicate p = replaceAndForOR(op);\n          builder.or(p);\n        } else {\n          builder.or(op);\n        }\n      }\n\n      return builder.getValue();\n    } else {\n      return predicate;\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":10308318,"reputation":97,"user_id":7604893,"display_name":"ApexOne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1618,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1666026327,"creation_date":1510908074,"question_id":47346428,"body_markdown":"I need some help with the QueryDSL lib. More specifically i have this:\r\n\r\nI am trying to make an search endpoint that will enable the user to search for saved items with specific features like name, location, owner etc.. ( the searchable fields are class variables )\r\n \r\n\r\n    @GetMapping(value = &quot;/search&quot;, produces = MediaTypes.HAL_JSON_VALUE)\r\n    PagedResources&lt;SavedItemResource&gt; searchByQuery(final Pageable pageable,\r\n                                                        @RequestParam(value = &quot;type&quot;, required = false) final List&lt;String&gt; typeFilters,\r\n                                                        @QuerydslPredicate(root = SavedItem.class) Predicate predicate) {\r\n       return pagedResourcesAssembler.toResource(service.findAll(predicate,pageable), assembler);\r\n    }\r\n\r\nI customized the binding like this to support list of values for each field.\r\n\r\n     MultiValueBinding&lt;StringPath, String&gt; contains = (path, values) -&gt; {\r\n            BooleanBuilder predicate = new BooleanBuilder();\r\n            for (String value : values) {\r\n                predicate.or(path.containsIgnoreCase(value));\r\n            }\r\n            return predicate;\r\n        };\r\n\r\nThis works very well if i only search on one field. But when I search on multiple fields it does not work because the @QuerydslPredicate will make a predicate with a AND operator. But i need an OR between the different fields. \r\n\r\nIs there an easy way to do this? Thx in advance!","title":"QueryDSL with OR operator instead of AND","body":"<p>I need some help with the QueryDSL lib. More specifically i have this:</p>\n\n<p>I am trying to make an search endpoint that will enable the user to search for saved items with specific features like name, location, owner etc.. ( the searchable fields are class variables )</p>\n\n<pre><code>@GetMapping(value = \"/search\", produces = MediaTypes.HAL_JSON_VALUE)\nPagedResources&lt;SavedItemResource&gt; searchByQuery(final Pageable pageable,\n                                                    @RequestParam(value = \"type\", required = false) final List&lt;String&gt; typeFilters,\n                                                    @QuerydslPredicate(root = SavedItem.class) Predicate predicate) {\n   return pagedResourcesAssembler.toResource(service.findAll(predicate,pageable), assembler);\n}\n</code></pre>\n\n<p>I customized the binding like this to support list of values for each field.</p>\n\n<pre><code> MultiValueBinding&lt;StringPath, String&gt; contains = (path, values) -&gt; {\n        BooleanBuilder predicate = new BooleanBuilder();\n        for (String value : values) {\n            predicate.or(path.containsIgnoreCase(value));\n        }\n        return predicate;\n    };\n</code></pre>\n\n<p>This works very well if i only search on one field. But when I search on multiple fields it does not work because the @QuerydslPredicate will make a predicate with a AND operator. But i need an OR between the different fields. </p>\n\n<p>Is there an easy way to do this? Thx in advance!</p>\n"},{"tags":["java","intellij-idea","gluonfx"],"comments":[{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1666181906,"post_id":74100783,"comment_id":130874141,"body_markdown":"Looks like https://stackoverflow.com/a/61758740/18430882. Check mentions of JAVA_HOME in https://openjfx.io/openjfx-docs/#maven","body":"Looks like <a href=\"https://stackoverflow.com/a/61758740/18430882\">stackoverflow.com/a/61758740/18430882</a>. Check mentions of JAVA_HOME in <a href=\"https://openjfx.io/openjfx-docs/#maven\" rel=\"nofollow noreferrer\">openjfx.io/openjfx-docs/#maven</a>"},{"owner":{"account_id":5081123,"reputation":31,"user_id":4077182,"display_name":"Fred Little"},"score":0,"creation_date":1666807028,"post_id":74100783,"comment_id":131025342,"body_markdown":"Yes, JAVA_HOME needed to be set to what IntelliJ Project Structure indicated I was using.","body":"Yes, JAVA_HOME needed to be set to what IntelliJ Project Structure indicated I was using."}],"owner":{"account_id":5081123,"reputation":31,"user_id":4077182,"display_name":"Fred Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666026324,"creation_date":1666026324,"question_id":74100783,"body_markdown":"I followed instructions at https://gluonhq.com/developers/media/  video titled &quot;Getting Started with Gluon in Intellij IDEA&quot;.  The steps  given in the video were to (1) install Intellij (I downloaded and installed intellij 2022.2.3 Community Edition on a Widows 10 OS), (2) install the Gluon plugin, (3) create a new project (the video showed selection of gluon multi view, but I selected a single view project), (4) select a JDK (the video showed selection of JDK 17, I selected JDK 19), (5) run the application from the Maven view window by clicking plugins/gluonfx:run and the video&#39;s application ran ok, but mine failed with the message, error: javafx:run@default-cli failed. A google search for this error on intellij gluon gave no results. \r\n\r\nThe error is thrown after a series of INFO lines in the run window, the last line reads to the effect that the plugin is running in a default cli. Then the error is given and the preceding lines are erased. I am quite new to IntelliJ and Gluon and will need assistance in debugging and log file viewing so I am sorry I can&#39;t offer more detail here.\r\n\r\nCan this be fixed or why not?","title":"How do I fix intellij 2022 gluonfx error: javafx:run@default-cli failed","body":"<p>I followed instructions at <a href=\"https://gluonhq.com/developers/media/\" rel=\"nofollow noreferrer\">https://gluonhq.com/developers/media/</a>  video titled &quot;Getting Started with Gluon in Intellij IDEA&quot;.  The steps  given in the video were to (1) install Intellij (I downloaded and installed intellij 2022.2.3 Community Edition on a Widows 10 OS), (2) install the Gluon plugin, (3) create a new project (the video showed selection of gluon multi view, but I selected a single view project), (4) select a JDK (the video showed selection of JDK 17, I selected JDK 19), (5) run the application from the Maven view window by clicking plugins/gluonfx:run and the video's application ran ok, but mine failed with the message, error: javafx:run@default-cli failed. A google search for this error on intellij gluon gave no results.</p>\n<p>The error is thrown after a series of INFO lines in the run window, the last line reads to the effect that the plugin is running in a default cli. Then the error is given and the preceding lines are erased. I am quite new to IntelliJ and Gluon and will need assistance in debugging and log file viewing so I am sorry I can't offer more detail here.</p>\n<p>Can this be fixed or why not?</p>\n"},{"tags":["java","odata","olingo"],"answers":[{"tags":[],"owner":{"account_id":2904628,"reputation":6707,"user_id":2490343,"accept_rate":100,"display_name":"Shiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666026254,"creation_date":1666026254,"answer_id":74100765,"question_id":74045037,"body_markdown":"The batch request will be created automatically by the OData Client.\r\n\r\nTLDR;\r\n\r\nA batch request is a REST call to a special endpoint `$batch`, with a well-defined payload type.\r\n\r\nThe payload consists of batch requests and subtype of chagesets. Both of them are used to club multiple requests into one except the requests in one changeset is expected to be atomic. So, either all the requests execute or in case one or more fails there should be a rollback (or similar) to prevent the others from persisting\r\n\r\nhttps://olingo.apache.org/doc/odata4/tutorials/od4_basic_batch_client.html\r\n\r\nThis link has the example for creating the client, Then create an entity and set some properties, put it in change set and execute. In the background it will send a batch request as per the OData $batch format as documented in\r\n \r\nhttps://olingo.apache.org/doc/odata4/tutorials/batch/tutorial_batch.html \r\n\r\n\r\n\r\n","title":"How to make $batch POST request using Olingo v4 and Java?","body":"<p>The batch request will be created automatically by the OData Client.</p>\n<p>TLDR;</p>\n<p>A batch request is a REST call to a special endpoint <code>$batch</code>, with a well-defined payload type.</p>\n<p>The payload consists of batch requests and subtype of chagesets. Both of them are used to club multiple requests into one except the requests in one changeset is expected to be atomic. So, either all the requests execute or in case one or more fails there should be a rollback (or similar) to prevent the others from persisting</p>\n<p><a href=\"https://olingo.apache.org/doc/odata4/tutorials/od4_basic_batch_client.html\" rel=\"nofollow noreferrer\">https://olingo.apache.org/doc/odata4/tutorials/od4_basic_batch_client.html</a></p>\n<p>This link has the example for creating the client, Then create an entity and set some properties, put it in change set and execute. In the background it will send a batch request as per the OData $batch format as documented in</p>\n<p><a href=\"https://olingo.apache.org/doc/odata4/tutorials/batch/tutorial_batch.html\" rel=\"nofollow noreferrer\">https://olingo.apache.org/doc/odata4/tutorials/batch/tutorial_batch.html</a></p>\n"}],"owner":{"account_id":17268121,"reputation":149,"user_id":12504411,"display_name":"prathyusha magam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666026254,"creation_date":1665591587,"question_id":74045037,"body_markdown":"We&#39;ve to implement batch request for odata in java.I&#39;m new to odata,from the below 2 following references,which one has to be followed.Do we&#39;ve to construct a batch request or will it be done using odata batch api&#39;s?Can anyone please help on how to proceed with the implementation?\r\n\r\nhttps://olingo.apache.org/doc/odata4/tutorials/batch/tutorial_batch.html\r\nhttps://olingo.apache.org/doc/odata4/tutorials/od4_basic_batch_client.html","title":"How to make $batch POST request using Olingo v4 and Java?","body":"<p>We've to implement batch request for odata in java.I'm new to odata,from the below 2 following references,which one has to be followed.Do we've to construct a batch request or will it be done using odata batch api's?Can anyone please help on how to proceed with the implementation?</p>\n<p><a href=\"https://olingo.apache.org/doc/odata4/tutorials/batch/tutorial_batch.html\" rel=\"nofollow noreferrer\">https://olingo.apache.org/doc/odata4/tutorials/batch/tutorial_batch.html</a>\n<a href=\"https://olingo.apache.org/doc/odata4/tutorials/od4_basic_batch_client.html\" rel=\"nofollow noreferrer\">https://olingo.apache.org/doc/odata4/tutorials/od4_basic_batch_client.html</a></p>\n"},{"tags":["java","if-statement","conditional-statements"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":1,"creation_date":1666025369,"post_id":74100498,"comment_id":130832517,"body_markdown":"!= doesn&#39;t work on objects (which strings are).","body":"!= doesn&#39;t work on objects (which strings are)."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666025550,"post_id":74100498,"comment_id":130832576,"body_markdown":"Are you allowed to use array?  if the number of lines are different, it would only print the message that the two files have different number of lines?  If so, you can build a string consisting of line ( &lt; and &gt; lines).  Then outside the while loop, check if scan1 or scan2 has next line.  If true, then the number of lines are different.  If false, then print the string you built.","body":"Are you allowed to use array?  if the number of lines are different, it would only print the message that the two files have different number of lines?  If so, you can build a string consisting of line ( &lt; and &gt; lines).  Then outside the while loop, check if scan1 or scan2 has next line.  If true, then the number of lines are different.  If false, then print the string you built."}],"answers":[{"tags":[],"owner":{"account_id":9255220,"reputation":2956,"user_id":6874359,"display_name":"peterulb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666025736,"creation_date":1666025736,"answer_id":74100663,"question_id":74100498,"body_markdown":"Different number of lines means that once your loop is finished, one scanner will be able to produce another line while the other is not.  \r\nSo if either `scan1` or `scan2` returns `hasNextLine == true` you&#39;ll know that the line count is different.\r\n\r\nAlso note that `==` on objects will compare the references. You should use `!Objects.equals(line1, line2)` (null-safe) or `line1.equals(line2)` (not null-safe).\r\n\r\nAn example would look like this:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Path;\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class App {\r\n    public static void main(String[] args) {\r\n        try (var scan1 = new Scanner(Path.of(&quot;a.txt&quot;));\r\n             var scan2 = new Scanner(Path.of(&quot;b.txt&quot;))) {\r\n            while (scan1.hasNextLine() &amp;&amp; scan2.hasNextLine()) {\r\n                var line1 = scan1.nextLine();\r\n                var line2 = scan2.nextLine();\r\n                if (!Objects.equals(line1, line2)) {\r\n//                    System.out.println(lineNum1);\r\n                    System.out.println(&quot;&lt;&quot; + line1);\r\n                    System.out.println(&quot;&gt;&quot; + line2);\r\n                }\r\n            }\r\n            if (scan1.hasNextLine() || scan2.hasNextLine()) {\r\n                System.out.println(&quot;Different number of lines&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you do not wish to output the differences in the case of different line count, you&#39;d either have to store the result somewhere or do a count beforhand. ","title":"Have an if statement with 2 conditions complete a task if one condition is false","body":"<p>Different number of lines means that once your loop is finished, one scanner will be able to produce another line while the other is not.<br />\nSo if either <code>scan1</code> or <code>scan2</code> returns <code>hasNextLine == true</code> you'll know that the line count is different.</p>\n<p>Also note that <code>==</code> on objects will compare the references. You should use <code>!Objects.equals(line1, line2)</code> (null-safe) or <code>line1.equals(line2)</code> (not null-safe).</p>\n<p>An example would look like this:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Path;\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class App {\n    public static void main(String[] args) {\n        try (var scan1 = new Scanner(Path.of(&quot;a.txt&quot;));\n             var scan2 = new Scanner(Path.of(&quot;b.txt&quot;))) {\n            while (scan1.hasNextLine() &amp;&amp; scan2.hasNextLine()) {\n                var line1 = scan1.nextLine();\n                var line2 = scan2.nextLine();\n                if (!Objects.equals(line1, line2)) {\n//                    System.out.println(lineNum1);\n                    System.out.println(&quot;&lt;&quot; + line1);\n                    System.out.println(&quot;&gt;&quot; + line2);\n                }\n            }\n            if (scan1.hasNextLine() || scan2.hasNextLine()) {\n                System.out.println(&quot;Different number of lines&quot;);\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>If you do not wish to output the differences in the case of different line count, you'd either have to store the result somewhere or do a count beforhand.</p>\n"}],"owner":{"account_id":26650981,"reputation":7,"user_id":20265293,"display_name":"Brianna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666025736,"creation_date":1666024851,"question_id":74100498,"body_markdown":"My code is reading in two files, comparing the lines of these files, and printing out if there is a line that doesn&#39;t match. Here&#39;s what I have: \r\n\r\n    while (scan1.hasNextLine() &amp;&amp; scan2.hasNextLine())\r\n       {\r\n           line1 = scan1.nextLine();\r\n           line2 = scan2.nextLine();\r\n           if (line1 != line2)\r\n           {\r\n               System.out.println(lineNum1);\r\n               System.out.println(&quot;&lt;&quot; + line1);\r\n               System.out.println(&quot;&gt;&quot; + line2);\r\n           }\r\n\r\n       }\r\n\r\nHow do I make it so that if one of those conditions is false, ie. one file doesn&#39;t have any more lines but the other one does, it prints out letting know that the files have a different number of lines?\r\n\r\nThank you.","title":"Have an if statement with 2 conditions complete a task if one condition is false","body":"<p>My code is reading in two files, comparing the lines of these files, and printing out if there is a line that doesn't match. Here's what I have:</p>\n<pre><code>while (scan1.hasNextLine() &amp;&amp; scan2.hasNextLine())\n   {\n       line1 = scan1.nextLine();\n       line2 = scan2.nextLine();\n       if (line1 != line2)\n       {\n           System.out.println(lineNum1);\n           System.out.println(&quot;&lt;&quot; + line1);\n           System.out.println(&quot;&gt;&quot; + line2);\n       }\n\n   }\n</code></pre>\n<p>How do I make it so that if one of those conditions is false, ie. one file doesn't have any more lines but the other one does, it prints out letting know that the files have a different number of lines?</p>\n<p>Thank you.</p>\n"},{"tags":["java","windows","logstash","jruby","logstash-configuration"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1666032148,"post_id":74100652,"comment_id":130834643,"body_markdown":"It looks like it is looking for `jruby` executable in `D:\\softwares\\logstash-8.4.3\\vendor\\jruby`","body":"It looks like it is looking for <code>jruby</code> executable in <code>D:\\softwares\\logstash-8.4.3\\vendor\\jruby</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666045176,"post_id":74100652,"comment_id":130838254,"body_markdown":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.\nPlease learn to copy/paste cmd.exe!\n\nThe command is as follows: ```jruby --version```","body":"Please never post images of text. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly. Please learn to copy/paste cmd.exe!  The command is as follows: <code>jruby --version</code>"},{"owner":{"account_id":10307342,"reputation":31,"user_id":7604176,"display_name":"MMA"},"score":0,"creation_date":1667496133,"post_id":74100652,"comment_id":131186059,"body_markdown":"Hi, I tried all ways of setting up JAVA_HOME path and ruby paths but I am unable to successfully install Logstash on my Windows machine (x64)","body":"Hi, I tried all ways of setting up JAVA_HOME path and ruby paths but I am unable to successfully install Logstash on my Windows machine (x64)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667498137,"post_id":74100652,"comment_id":131186695,"body_markdown":"*but I am unable to successfully install Logstash on my Windows machine* I&#39;m wondering then, why we can see a logstash bin directory in your picture?","body":"<i>but I am unable to successfully install Logstash on my Windows machine</i> I&#39;m wondering then, why we can see a logstash bin directory in your picture?"},{"owner":{"account_id":10307342,"reputation":31,"user_id":7604176,"display_name":"MMA"},"score":0,"creation_date":1667538085,"post_id":74100652,"comment_id":131194614,"body_markdown":"Hi @g00se it doesn&#39;t run .","body":"Hi @g00se it doesn&#39;t run ."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1667551358,"post_id":74100652,"comment_id":131197410,"body_markdown":"You might not have set env vars such as `PATH` right. You should not need to change to bin directories to run things","body":"You might not have set env vars such as <code>PATH</code> right. You should not need to change to bin directories to run things"}],"owner":{"account_id":10307342,"reputation":31,"user_id":7604176,"display_name":"MMA"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666025699,"creation_date":1666025699,"question_id":74100652,"body_markdown":"I am trying to set up Logstash on my windows laptop.\r\n\r\nI have a running version of jdk 17.0.2\r\nJAVA_HOME,LS_JAVA_HOME are set up \r\nJava path till bin directory has also been added to PATH system variable.\r\n\r\nBut I get JAVA_HOME not set.(If I use JAVA_HOME system variable)\r\nOnce I also set up LS_JAVA_HOME, it gave me a jruby error. (jruby is set up and working on cmd)\r\n\r\n[![LS_JAVA_HOME error][1]][1]\r\n\r\nPlease help !\r\n\r\nRegards,\r\nAarushi\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zrYv5.png","title":"JAVA_HOME not set while installing logstash","body":"<p>I am trying to set up Logstash on my windows laptop.</p>\n<p>I have a running version of jdk 17.0.2\nJAVA_HOME,LS_JAVA_HOME are set up\nJava path till bin directory has also been added to PATH system variable.</p>\n<p>But I get JAVA_HOME not set.(If I use JAVA_HOME system variable)\nOnce I also set up LS_JAVA_HOME, it gave me a jruby error. (jruby is set up and working on cmd)</p>\n<p><a href=\"https://i.stack.imgur.com/zrYv5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zrYv5.png\" alt=\"LS_JAVA_HOME error\" /></a></p>\n<p>Please help !</p>\n<p>Regards,\nAarushi</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1665825853,"post_id":74078107,"comment_id":130792606,"body_markdown":"This is not valid XML! You would have to parse the file &quot;by hand&quot; and extract the XML part  that you then read with the XML mapper.","body":"This is not valid XML! You would have to parse the file &quot;by hand&quot; and extract the XML part  that you then read with the XML mapper."}],"answers":[{"comments":[{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1665840685,"post_id":74079845,"comment_id":130795400,"body_markdown":"That won&#39;t work, since this is a &#39;defined&#39; format and other software expects files to be formatted like this.","body":"That won&#39;t work, since this is a &#39;defined&#39; format and other software expects files to be formatted like this."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":1,"creation_date":1665843108,"post_id":74079845,"comment_id":130795918,"body_markdown":"If there&#39;s a specification then that helps enormously -- usually when people try to parse &quot;XML-like&quot; files the problem is that there is no spec, they&#39;re just trying to work it out from a few examples. But if there&#39;s a spec, you should point to it when asking the question, since the spec is fundamental to the answer. Of course, it would still be much better if they used XML, because there&#39;s lots of tooling readily available for XML.","body":"If there&#39;s a specification then that helps enormously -- usually when people try to parse &quot;XML-like&quot; files the problem is that there is no spec, they&#39;re just trying to work it out from a few examples. But if there&#39;s a spec, you should point to it when asking the question, since the spec is fundamental to the answer. Of course, it would still be much better if they used XML, because there&#39;s lots of tooling readily available for XML."},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1666384819,"post_id":74079845,"comment_id":130933001,"body_markdown":"@MichaelKay, `+1`, this is a right way to solve the problem, adding a root tag and parsing it as an `XML` this is what I did in my solution.","body":"@MichaelKay, <code>+1</code>, this is a right way to solve the problem, adding a root tag and parsing it as an <code>XML</code> this is what I did in my solution."}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665840375,"creation_date":1665840375,"answer_id":74079845,"question_id":74078107,"body_markdown":"Turn it into XML by adding a start and end tag:\r\n\r\n    &lt;doc&gt;\r\n    &lt;movie&gt;\r\n    &lt;title&gt;Kung Fu Killer&lt;/title&gt;\r\n    &lt;genre&gt;Martial arts&lt;/genre&gt;\r\n    &lt;/movie&gt;\r\n    http://www.imdb.com/title/tt2952602/\r\n    &lt;/doc&gt;\r\n\r\nand once it&#39;s been turned into XML, you can use all the XML technology you want.\r\n\r\nOf course, this relies on the idea that if you add `&lt;doc&gt;` at the start and `&lt;/doc&gt;` at the end, you will get well-formed XML. There&#39;s no way to be sure of that; if the last line were\r\n\r\n    http://www.imdb.com/title/tt2952602/?x=3&amp;y=4\r\n\r\nthen this approach would fail. It would be much better if you could persuade the originator of this data to use XML to start with - standards are useful!\r\n","title":"Parse XML-like file that has one extra field without tags","body":"<p>Turn it into XML by adding a start and end tag:</p>\n<pre><code>&lt;doc&gt;\n&lt;movie&gt;\n&lt;title&gt;Kung Fu Killer&lt;/title&gt;\n&lt;genre&gt;Martial arts&lt;/genre&gt;\n&lt;/movie&gt;\nhttp://www.imdb.com/title/tt2952602/\n&lt;/doc&gt;\n</code></pre>\n<p>and once it's been turned into XML, you can use all the XML technology you want.</p>\n<p>Of course, this relies on the idea that if you add <code>&lt;doc&gt;</code> at the start and <code>&lt;/doc&gt;</code> at the end, you will get well-formed XML. There's no way to be sure of that; if the last line were</p>\n<pre><code>http://www.imdb.com/title/tt2952602/?x=3&amp;y=4\n</code></pre>\n<p>then this approach would fail. It would be much better if you could persuade the originator of this data to use XML to start with - standards are useful!</p>\n"},{"comments":[{"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"score":0,"creation_date":1666036355,"post_id":74100647,"comment_id":130835825,"body_markdown":"Excellent, thanks a lot! One tweak left, if the file contains *only* the url, the parser fails. Any possibility to handle this properly as well?","body":"Excellent, thanks a lot! One tweak left, if the file contains <i>only</i> the url, the parser fails. Any possibility to handle this properly as well?"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":1,"creation_date":1666039882,"post_id":74100647,"comment_id":130836886,"body_markdown":"@kerner1000, you can check if file contains any `&lt;` character which is not allowed in `URL`. If file contains it you can treat is an XML, in other case as a raw text. Also, you can use regular expression to check if content is `URL` - [What is the best regular expression to check if a string is a valid URL?](https://stackoverflow.com/q/161738/51591), if it does not match, just try to read parse it as `XML`","body":"@kerner1000, you can check if file contains any <code>&lt;</code> character which is not allowed in <code>URL</code>. If file contains it you can treat is an XML, in other case as a raw text. Also, you can use regular expression to check if content is <code>URL</code> - <a href=\"https://stackoverflow.com/q/161738/51591\">What is the best regular expression to check if a string is a valid URL?</a>, if it does not match, just try to read parse it as <code>XML</code>"}],"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666025661,"creation_date":1666025661,"answer_id":74100647,"question_id":74078107,"body_markdown":"You can read the content of the file, wrap it with an extra root tag and read it as an `XML`. `XmlMapper` allows to handle problems using `DeserializationProblemHandler` class. There is a `handleUnknownProperty` method which you can override and handle your case. See below example:\r\n```java\r\nimport com.fasterxml.jackson.core.JsonParser;\r\nimport com.fasterxml.jackson.databind.DeserializationContext;\r\nimport com.fasterxml.jackson.databind.JsonDeserializer;\r\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\n\r\npublic class XmlMapperApp {\r\n\r\n\tpublic static void main(String... args) throws Exception {\r\n\t\tFile xmlFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\r\n\t\tString content = &quot;&lt;NfoRoot&gt;&quot; + String.join(&quot;&quot;, Files.readAllLines(xmlFile.toPath())) + &quot;&lt;/NfoRoot&gt;&quot;;\r\n\r\n\t\tXmlMapper xmlMapper = new XmlMapper();\r\n\t\txmlMapper.addHandler(new DeserializationProblemHandler() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean handleUnknownProperty(DeserializationContext ctxt, JsonParser p, JsonDeserializer&lt;?&gt; deserializer, Object beanOrClass, String propertyName) throws IOException {\r\n\t\t\t\tif (beanOrClass instanceof NfoRoot) {\r\n\t\t\t\t\t((NfoRoot) beanOrClass).setRestOfTheFile(p.readValueAs(String.class));\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn super.handleUnknownProperty(ctxt, p, deserializer, beanOrClass, propertyName);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tNfoRoot value = xmlMapper.readValue(content, NfoRoot.class);\r\n\t\tSystem.out.println(value);\r\n\t}\r\n}\r\n\r\n@ToString\r\n@Getter\r\n@Setter\r\nclass NfoFileXmlModel {\r\n\t@ToString\r\n\t@Getter\r\n\t@Setter\r\n\tpublic static class Art {\r\n\t\tString poster;\r\n\t}\r\n\r\n\tArt art;\r\n\tString year;\r\n\tString title;\r\n\tString genre;\r\n}\r\n\r\n@ToString\r\n@Getter\r\n@Setter\r\nclass NfoRoot {\r\n\tNfoFileXmlModel movie;\r\n\r\n\tString restOfTheFile;\r\n}\r\n```\r\n\r\nAbove code prints:\r\n```log\r\nNfoRoot(movie=NfoFileXmlModel(art=null, year=null, title=Kung Fu Killer, genre=Martial arts), restOfTheFile=http://www.imdb.com/title/tt2952602/)\r\n```","title":"Parse XML-like file that has one extra field without tags","body":"<p>You can read the content of the file, wrap it with an extra root tag and read it as an <code>XML</code>. <code>XmlMapper</code> allows to handle problems using <code>DeserializationProblemHandler</code> class. There is a <code>handleUnknownProperty</code> method which you can override and handle your case. See below example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.deser.DeserializationProblemHandler;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\npublic class XmlMapperApp {\n\n    public static void main(String... args) throws Exception {\n        File xmlFile = new File(&quot;./resource/test.xml&quot;).getAbsoluteFile();\n        String content = &quot;&lt;NfoRoot&gt;&quot; + String.join(&quot;&quot;, Files.readAllLines(xmlFile.toPath())) + &quot;&lt;/NfoRoot&gt;&quot;;\n\n        XmlMapper xmlMapper = new XmlMapper();\n        xmlMapper.addHandler(new DeserializationProblemHandler() {\n            @Override\n            public boolean handleUnknownProperty(DeserializationContext ctxt, JsonParser p, JsonDeserializer&lt;?&gt; deserializer, Object beanOrClass, String propertyName) throws IOException {\n                if (beanOrClass instanceof NfoRoot) {\n                    ((NfoRoot) beanOrClass).setRestOfTheFile(p.readValueAs(String.class));\n                    return true;\n                }\n\n                return super.handleUnknownProperty(ctxt, p, deserializer, beanOrClass, propertyName);\n            }\n        });\n\n        NfoRoot value = xmlMapper.readValue(content, NfoRoot.class);\n        System.out.println(value);\n    }\n}\n\n@ToString\n@Getter\n@Setter\nclass NfoFileXmlModel {\n    @ToString\n    @Getter\n    @Setter\n    public static class Art {\n        String poster;\n    }\n\n    Art art;\n    String year;\n    String title;\n    String genre;\n}\n\n@ToString\n@Getter\n@Setter\nclass NfoRoot {\n    NfoFileXmlModel movie;\n\n    String restOfTheFile;\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>NfoRoot(movie=NfoFileXmlModel(art=null, year=null, title=Kung Fu Killer, genre=Martial arts), restOfTheFile=http://www.imdb.com/title/tt2952602/)\n</code></pre>\n"}],"owner":{"account_id":4311991,"reputation":3414,"user_id":3522818,"accept_rate":67,"display_name":"kerner1000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74100647,"answer_count":2,"score":1,"last_activity_date":1666025661,"creation_date":1665824868,"question_id":74078107,"body_markdown":"I have the following file content:\r\n\r\n    &lt;movie&gt;\r\n    &lt;title&gt;Kung Fu Killer&lt;/title&gt;\r\n    &lt;genre&gt;Martial arts&lt;/genre&gt;\r\n    &lt;/movie&gt;\r\n    http://www.imdb.com/title/tt2952602/\r\n\r\nI parse this file into a Java object with the following code:\r\n\r\n      XmlMapper mapper = new XmlMapper();\r\n      mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n      try {\r\n          NfoFileXmlModel xmlFileContent = mapper.readValue(nfoFile.toFile(), NfoFileXmlModel.class);\r\n      } catch (JsonParseException e) {\r\n          log.debug(&quot;Failed to deserialize {} ({})&quot;, nfoFile, e.toString());\r\n      }\r\n\r\n    @ToString\r\n    @Getter\r\n    @Setter\r\n    public class NfoFileXmlModel {\r\n        @ToString\r\n        @Getter\r\n        @Setter\r\n        public static class Art {\r\n            String poster;\r\n        }\r\n    \r\n        Art art;\r\n        String year;\r\n        String title;\r\n    }\r\n\r\n\r\nThis works well for the XML-like &#39;fields&#39;.\r\nHow can I parse the last line, which is so to say &#39;anonymous&#39;, since there is no tags around the value?","title":"Parse XML-like file that has one extra field without tags","body":"<p>I have the following file content:</p>\n<pre><code>&lt;movie&gt;\n&lt;title&gt;Kung Fu Killer&lt;/title&gt;\n&lt;genre&gt;Martial arts&lt;/genre&gt;\n&lt;/movie&gt;\nhttp://www.imdb.com/title/tt2952602/\n</code></pre>\n<p>I parse this file into a Java object with the following code:</p>\n<pre><code>  XmlMapper mapper = new XmlMapper();\n  mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n  try {\n      NfoFileXmlModel xmlFileContent = mapper.readValue(nfoFile.toFile(), NfoFileXmlModel.class);\n  } catch (JsonParseException e) {\n      log.debug(&quot;Failed to deserialize {} ({})&quot;, nfoFile, e.toString());\n  }\n\n@ToString\n@Getter\n@Setter\npublic class NfoFileXmlModel {\n    @ToString\n    @Getter\n    @Setter\n    public static class Art {\n        String poster;\n    }\n\n    Art art;\n    String year;\n    String title;\n}\n</code></pre>\n<p>This works well for the XML-like 'fields'.\nHow can I parse the last line, which is so to say 'anonymous', since there is no tags around the value?</p>\n"},{"tags":["java","types"],"comments":[{"owner":{"account_id":3085517,"reputation":4752,"user_id":2612743,"accept_rate":92,"display_name":"1110101001"},"score":0,"creation_date":1419753431,"post_id":27674621,"comment_id":43764124,"body_markdown":"19 is two characters.","body":"19 is two characters."},{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":1,"creation_date":1419753435,"post_id":27674621,"comment_id":43764126,"body_markdown":"pls read a basic tutorial on datatypes...","body":"pls read a basic tutorial on datatypes..."},{"owner":{"account_id":3659449,"reputation":20245,"user_id":3049655,"accept_rate":95,"display_name":"Spikatrix"},"score":0,"creation_date":1419753450,"post_id":27674621,"comment_id":43764130,"body_markdown":"`&#39;19&#39;` consist of two characters `&#39;1&#39;` and `&#39;9&#39;`. You can&#39;t store both of these in a `char` variable. It is better to use `int` for your purpose. Why do you want to use `char`?","body":"<code>&#39;19&#39;</code> consist of two characters <code>&#39;1&#39;</code> and <code>&#39;9&#39;</code>. You can&#39;t store both of these in a <code>char</code> variable. It is better to use <code>int</code> for your purpose. Why do you want to use <code>char</code>?"},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1419753514,"post_id":27674621,"comment_id":43764141,"body_markdown":"`char ch=&#39;19&#39;;` shouldn&#39;t even compile.","body":"<code>char ch=&#39;19&#39;;</code> shouldn&#39;t even compile."},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1419753557,"post_id":27674621,"comment_id":43764150,"body_markdown":"***Please please please please PLEASE read _any_ basic tutorial or guide on Java datatypes...***","body":"<b><i>Please please please please PLEASE read _any_ basic tutorial or guide on Java datatypes...</i></b>"},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1419757877,"post_id":27674621,"comment_id":43764880,"body_markdown":"Maybe my short explanation helps you to understand what &quot;char&quot; is, and what it is not.","body":"Maybe my short explanation helps you to understand what &quot;char&quot; is, and what it is not."}],"answers":[{"comments":[{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":1,"creation_date":1419753594,"post_id":27674638,"comment_id":43764157,"body_markdown":"But it would be better to use a byte, short or int. Using char is obfuscating.","body":"But it would be better to use a byte, short or int. Using char is obfuscating."},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1419753634,"post_id":27674638,"comment_id":43764168,"body_markdown":"@laune Depending on the usage, a `char` would be appropriate here.","body":"@laune Depending on the usage, a <code>char</code> would be appropriate here."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":2,"creation_date":1419753648,"post_id":27674638,"comment_id":43764172,"body_markdown":"@laune That depends on how large is the number you want to store.","body":"@laune That depends on how large is the number you want to store."},{"owner":{"account_id":8834,"reputation":297144,"user_id":16076,"display_name":"Mitch Wheat"},"score":0,"creation_date":1419753843,"post_id":27674638,"comment_id":43764205,"body_markdown":"char is actually an integer type. It stores the 16-bit Unicode integer value of the character in question.","body":"char is actually an integer type. It stores the 16-bit Unicode integer value of the character in question."},{"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"score":0,"creation_date":1419753873,"post_id":27674638,"comment_id":43764212,"body_markdown":"Unless you are doing something like ch - &#39;0&#39;, calculations involving char aren&#39;t really good coding style. There&#39;s int, short, long,...","body":"Unless you are doing something like ch - &#39;0&#39;, calculations involving char aren&#39;t really good coding style. There&#39;s int, short, long,..."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419753512,"creation_date":1419753512,"answer_id":27674638,"question_id":27674621,"body_markdown":"&#39;19&#39; is not a char. a char is a single character.\r\n\r\nYou can store any number between 0 and 2^16-1 in a char variable. That value would represent some single character.\r\n\r\n    char ch=19;\r\n\r\nNote that the character whose numeric value is 19 has no relation to either the &#39;1&#39; or &#39;9&#39; characters.","title":"Numbers in Char","body":"<p>'19' is not a char. a char is a single character.</p>\n\n<p>You can store any number between 0 and 2^16-1 in a char variable. That value would represent some single character.</p>\n\n<pre><code>char ch=19;\n</code></pre>\n\n<p>Note that the character whose numeric value is 19 has no relation to either the '1' or '9' characters.</p>\n"},{"comments":[{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":2,"creation_date":1419753607,"post_id":27674648,"comment_id":43764163,"body_markdown":"Wrong. This is Java, not a native C-like language.","body":"Wrong. This is Java, not a native C-like language."},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":0,"creation_date":1419753672,"post_id":27674648,"comment_id":43764178,"body_markdown":"`You can store values up to 127 in a character` is wrong @1110101001.","body":"<code>You can store values up to 127 in a character</code> is wrong @1110101001."},{"owner":{"account_id":3085517,"reputation":4752,"user_id":2612743,"accept_rate":92,"display_name":"1110101001"},"score":0,"creation_date":1419753723,"post_id":27674648,"comment_id":43764188,"body_markdown":"@Qix Oh you were referring to that part. In that case sorry, you are right. Chars in java are 2 bytes.","body":"@Qix Oh you were referring to that part. In that case sorry, you are right. Chars in java are 2 bytes."},{"owner":{"account_id":134685,"reputation":14507,"user_id":510036,"accept_rate":96,"display_name":"Qix - MONICA WAS MISTREATED"},"score":2,"creation_date":1419753737,"post_id":27674648,"comment_id":43764190,"body_markdown":"@1110101001 Indeed! Kinda... They&#39;re not ASCII either; they&#39;re UTF-16 IIRC.","body":"@1110101001 Indeed! Kinda... They&#39;re not ASCII either; they&#39;re UTF-16 IIRC."},{"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"score":0,"creation_date":1419753941,"post_id":27674648,"comment_id":43764222,"body_markdown":"@Qix I agree with that.  However the comment `wrong` without further clarification was not very informative. I&#39;ve edited my answer.","body":"@Qix I agree with that.  However the comment <code>wrong</code> without further clarification was not very informative. I&#39;ve edited my answer."}],"tags":[],"owner":{"account_id":429815,"reputation":69624,"user_id":812912,"accept_rate":94,"display_name":"Ivaylo Strandjev"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419753994,"creation_date":1419753573,"answer_id":27674648,"question_id":27674621,"body_markdown":"A char has an integer equivalent namely its character code. You can store values up to 2^16-1 in a character, but you need to remove the quotes.  Simply assign integer value to the char.","title":"Numbers in Char","body":"<p>A char has an integer equivalent namely its character code. You can store values up to 2^16-1 in a character, but you need to remove the quotes.  Simply assign integer value to the char.</p>\n"},{"tags":[],"owner":{"account_id":2413237,"reputation":31164,"user_id":2107876,"accept_rate":88,"display_name":"laune"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419757756,"creation_date":1419757756,"answer_id":27675066,"question_id":27674621,"body_markdown":"Storing numbers (for computations) in a char is almost always a bad idea. Consider this:\r\n\r\n     char a = 100;\r\n     char b = 52;                    // Output\r\n\t System.out.println( b );        // 4\r\n     System.out.println( a - b );    // 48\r\n     char c = (char)(a - b);\r\n     System.out.println( c );        // 0\r\n     System.out.println( b - a );    // -48\r\n     char d = (char)(b - a);\r\n\t System.out.println( d );        // ￐\r\n\r\nOne does not store &quot;numbers&quot; in a char: it is (due to whatever historical or recently planned development) better called &quot;enumerations of characters&quot;: Roman letters, digits, special characters, Greek letters, Cyrillic letters, CJK logograms and whatever, math symbols, diacritic signs, dingbats,... The use of ordinal numbers for this is due to the fact that computers store binary numbers.\r\n\r\n    char dig0 = &#39;0&#39;;   // This stores the *character* we use as &quot;zero&quot;. It has the ordinal 48.\r\n    char letA = 65;    // The character in let is what we call &quot;capital A&quot;.\r\n\r\nStoring the digits &#39;0&#39; through &#39;9&#39; by their ordinals 48 to 57 is not a good basis for computations.\r\n","title":"Numbers in Char","body":"<p>Storing numbers (for computations) in a char is almost always a bad idea. Consider this:</p>\n\n<pre><code> char a = 100;\n char b = 52;                    // Output\n System.out.println( b );        // 4\n System.out.println( a - b );    // 48\n char c = (char)(a - b);\n System.out.println( c );        // 0\n System.out.println( b - a );    // -48\n char d = (char)(b - a);\n System.out.println( d );        // ￐\n</code></pre>\n\n<p>One does not store \"numbers\" in a char: it is (due to whatever historical or recently planned development) better called \"enumerations of characters\": Roman letters, digits, special characters, Greek letters, Cyrillic letters, CJK logograms and whatever, math symbols, diacritic signs, dingbats,... The use of ordinal numbers for this is due to the fact that computers store binary numbers.</p>\n\n<pre><code>char dig0 = '0';   // This stores the *character* we use as \"zero\". It has the ordinal 48.\nchar letA = 65;    // The character in let is what we call \"capital A\".\n</code></pre>\n\n<p>Storing the digits '0' through '9' by their ordinals 48 to 57 is not a good basis for computations.</p>\n"},{"tags":[],"owner":{"account_id":5348156,"reputation":1,"user_id":8915470,"display_name":"Mohan Raj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666025507,"creation_date":1666025455,"answer_id":74100604,"question_id":27674621,"body_markdown":"The Size of a Java char is 16-bit and the range is between 0 to 65,535. Also, the standard ASCII characters range from 0 to 127. So you should able to use 19 without the single quotations like **char ch=19**  instead of **char ch=&#39;19&#39;**","title":"Numbers in Char","body":"<p>The Size of a Java char is 16-bit and the range is between 0 to 65,535. Also, the standard ASCII characters range from 0 to 127. So you should able to use 19 without the single quotations like <strong>char ch=19</strong>  instead of <strong>char ch='19'</strong></p>\n"}],"owner":{"account_id":5465524,"reputation":169,"user_id":4346443,"accept_rate":22,"display_name":"ks_mani"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13451,"favorite_count":0,"down_vote_count":5,"up_vote_count":2,"answer_count":4,"score":-3,"last_activity_date":1666025507,"creation_date":1419753379,"question_id":27674621,"body_markdown":"The question is very simple and noobish but It has troubled me for quite a long time. \r\n\r\nIf I want to store a number as a character in a character variable, I can do this with only the number 0 to 9, because these are specified in the ASCII table. \r\nBut if I wish to store the number greater than 9, I can&#39;t do so directly.\r\nE.g. \r\n\r\n    char ch=&#39;19&#39;;\r\n    int n=(int)ch;\r\n    System.out.println(n); \r\n\r\nThis gives me an error, at the very first line. \r\n\r\nIs there any other way, by which I can store a number greater than 9 into a char variable? \r\n\r\nThanks in advance... ","title":"Numbers in Char","body":"<p>The question is very simple and noobish but It has troubled me for quite a long time. </p>\n\n<p>If I want to store a number as a character in a character variable, I can do this with only the number 0 to 9, because these are specified in the ASCII table. \nBut if I wish to store the number greater than 9, I can't do so directly.\nE.g. </p>\n\n<pre><code>char ch='19';\nint n=(int)ch;\nSystem.out.println(n); \n</code></pre>\n\n<p>This gives me an error, at the very first line. </p>\n\n<p>Is there any other way, by which I can store a number greater than 9 into a char variable? </p>\n\n<p>Thanks in advance... </p>\n"},{"tags":["java","spring-boot","spring-mvc","junit","objectmapper"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":1,"creation_date":1666028986,"post_id":74100593,"comment_id":130833657,"body_markdown":"can you format your question a bit better? And also include all the files you think are relevant? Its hard to help you since you dont provide the actual code.","body":"can you format your question a bit better? And also include all the files you think are relevant? Its hard to help you since you dont provide the actual code."},{"owner":{"account_id":3619003,"reputation":663,"user_id":3018285,"accept_rate":50,"display_name":"ALex"},"score":0,"creation_date":1667490535,"post_id":74100593,"comment_id":131183885,"body_markdown":"You don&#39;t need to mock the objectMapper. Show us what the controller endpoint looks like and show us the error you get","body":"You don&#39;t need to mock the objectMapper. Show us what the controller endpoint looks like and show us the error you get"}],"owner":{"account_id":26650983,"reputation":1,"user_id":20265295,"display_name":"Prajwala P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666025407,"creation_date":1666025407,"question_id":74100593,"body_markdown":"I have a controller ItemController.java in which I&#39;m using objectmapper in logger.info\r\nobjectMapper.writeValueAsString(&quot;something&quot;);\r\n\r\nIn the controller unit test, I need to use the object mapper as\r\nmockMvc.perform(post(&quot;/api/items&quot;).content(objectmapper.writeValueAsString(&quot;something&quot;));\r\n\r\nIf i mock the object mapper,i get error in the test file, if i don&#39;t mock it I get the error in the controller.\r\nHow do I do it?","title":"ObjectMapper with and without mock","body":"<p>I have a controller ItemController.java in which I'm using objectmapper in logger.info\nobjectMapper.writeValueAsString(&quot;something&quot;);</p>\n<p>In the controller unit test, I need to use the object mapper as\nmockMvc.perform(post(&quot;/api/items&quot;).content(objectmapper.writeValueAsString(&quot;something&quot;));</p>\n<p>If i mock the object mapper,i get error in the test file, if i don't mock it I get the error in the controller.\nHow do I do it?</p>\n"},{"tags":["java","xml","spring"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666025825,"post_id":74100588,"comment_id":130832679,"body_markdown":"I haven&#39;t touched XML for a while.  Are you sure your XML are valid?  Is the expected output XML correct?","body":"I haven&#39;t touched XML for a while.  Are you sure your XML are valid?  Is the expected output XML correct?"},{"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"score":0,"creation_date":1666026475,"post_id":74100588,"comment_id":130832879,"body_markdown":"yes XMLs are valid and expected result xml also valid.","body":"yes XMLs are valid and expected result xml also valid."},{"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1666030717,"post_id":74100588,"comment_id":130834214,"body_markdown":"There are APIs and languages to process and transform and change or merge XML, Java has strong support for XSLT 1 built-in and has open-source solutions with Saxon for XSLT 3.0 and XQuery 3.1 and with BaseX or exist-db for XQuery 3.1. There are also various APIs like JDOM, XOM. So there is certainly no need for string operations based on regular expressions. Of course that simple example doesn&#39;t explain your merging requirement but dealing with namespaces is certainly not something you need regular expressions for.","body":"There are APIs and languages to process and transform and change or merge XML, Java has strong support for XSLT 1 built-in and has open-source solutions with Saxon for XSLT 3.0 and XQuery 3.1 and with BaseX or exist-db for XQuery 3.1. There are also various APIs like JDOM, XOM. So there is certainly no need for string operations based on regular expressions. Of course that simple example doesn&#39;t explain your merging requirement but dealing with namespaces is certainly not something you need regular expressions for."}],"owner":{"account_id":10244422,"reputation":599,"user_id":7560684,"display_name":"VKP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666025372,"creation_date":1666025372,"question_id":74100588,"body_markdown":"I have few XMLs needs to be merged and create a new xml. How i can extract the xml namespaces from the xmls and use it for resulting xml.\r\n\r\nxml1\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n     &lt;root1 xmlns:xlink=&quot;ABC/xlink&quot; xmlns:xsi=&quot;XYZ/instance&quot;&gt;\r\n     &lt;tag1&gt;123&lt;/tag1&gt;\r\n     &lt;/root1&gt;\r\n\r\nxml2\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n     &lt;root2 xmlns:xlink2=&quot;EFG/xlink2&quot; xmlns:xsi=&quot;XYZ/instance&quot;&gt;\r\n     &lt;tag2&gt;321&lt;/tag2&gt;\r\n     &lt;/root2&gt;\r\n\r\nexpected result xml\r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n     &lt;root xmlns:xlink=&quot;ABC/xlink&quot; xmlns:xsi=&quot;XYZ/instance&quot; xmlns:xlink2=&quot;EFG/xlink2&quot;&gt;\r\n     &lt;tag1&gt;123&lt;/tag1&gt;\r\n     &lt;tag2&gt;321&lt;/tag2&gt;\r\n     &lt;/root&gt;\r\n\r\nCurrently i am trying like below \r\n\r\n          Pattern pattern = Pattern.compile(&quot;xmlns[\\\\s\\\\S]*?&gt;&quot;);\r\n          Matcher matcher = pattern.matcher(stringxml);\r\n          while(matcher.find()){\r\n           //storing the namespace.\r\n          }\r\n\r\nTrying to do String manipulation to create the proper xml namespace. There are quite a few string operations happening to handle the namespace properly like need to avoid the duplicate namespace if its defined in both xmls. Is there any other better way to do it ? ","title":"How to merge multple XML files and make proper namespaces in result XML","body":"<p>I have few XMLs needs to be merged and create a new xml. How i can extract the xml namespaces from the xmls and use it for resulting xml.</p>\n<p>xml1</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n &lt;root1 xmlns:xlink=&quot;ABC/xlink&quot; xmlns:xsi=&quot;XYZ/instance&quot;&gt;\n &lt;tag1&gt;123&lt;/tag1&gt;\n &lt;/root1&gt;\n</code></pre>\n<p>xml2</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n &lt;root2 xmlns:xlink2=&quot;EFG/xlink2&quot; xmlns:xsi=&quot;XYZ/instance&quot;&gt;\n &lt;tag2&gt;321&lt;/tag2&gt;\n &lt;/root2&gt;\n</code></pre>\n<p>expected result xml</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n &lt;root xmlns:xlink=&quot;ABC/xlink&quot; xmlns:xsi=&quot;XYZ/instance&quot; xmlns:xlink2=&quot;EFG/xlink2&quot;&gt;\n &lt;tag1&gt;123&lt;/tag1&gt;\n &lt;tag2&gt;321&lt;/tag2&gt;\n &lt;/root&gt;\n</code></pre>\n<p>Currently i am trying like below</p>\n<pre><code>      Pattern pattern = Pattern.compile(&quot;xmlns[\\\\s\\\\S]*?&gt;&quot;);\n      Matcher matcher = pattern.matcher(stringxml);\n      while(matcher.find()){\n       //storing the namespace.\n      }\n</code></pre>\n<p>Trying to do String manipulation to create the proper xml namespace. There are quite a few string operations happening to handle the namespace properly like need to avoid the duplicate namespace if its defined in both xmls. Is there any other better way to do it ?</p>\n"},{"tags":["java","android","ejabberd","smack"],"answers":[{"comments":[{"owner":{"account_id":976895,"reputation":1855,"user_id":997757,"accept_rate":74,"display_name":"Mesut"},"score":0,"creation_date":1666008119,"post_id":74094485,"comment_id":130825819,"body_markdown":"I know how stanza packets are received by ejabberd and I wrote a module in ejabberd for it. The issue is here, completely related with smack. And these links doesn&#39;t explain my question.","body":"I know how stanza packets are received by ejabberd and I wrote a module in ejabberd for it. The issue is here, completely related with smack. And these links doesn&#39;t explain my question."}],"tags":[],"owner":{"account_id":26645740,"reputation":1,"user_id":20260689,"display_name":"Arshad Iqbal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665995371,"creation_date":1665995371,"answer_id":74094485,"question_id":74094241,"body_markdown":"You approach is true to convert that IQ object into XML, then String.\r\n\r\nFirst you need to go through with the official document of ejabberd server website: https://www.ejabberd.im/IQ%20handlers/index.html\r\n\r\nNow, you have to understand how IQ object raw packet are receiving in this thread:  https://discourse.igniterealtime.org/t/how-can-i-create-send-and-receive-raw-iq-packet/71540","title":"How to convert from String to IQ object in Smack","body":"<p>You approach is true to convert that IQ object into XML, then String.</p>\n<p>First you need to go through with the official document of ejabberd server website: <a href=\"https://www.ejabberd.im/IQ%20handlers/index.html\" rel=\"nofollow noreferrer\">https://www.ejabberd.im/IQ%20handlers/index.html</a></p>\n<p>Now, you have to understand how IQ object raw packet are receiving in this thread:  <a href=\"https://discourse.igniterealtime.org/t/how-can-i-create-send-and-receive-raw-iq-packet/71540\" rel=\"nofollow noreferrer\">https://discourse.igniterealtime.org/t/how-can-i-create-send-and-receive-raw-iq-packet/71540</a></p>\n"}],"owner":{"account_id":976895,"reputation":1855,"user_id":997757,"accept_rate":74,"display_name":"Mesut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666024179,"creation_date":1665994035,"question_id":74094241,"body_markdown":"I&#39;m making IQ requests for saving some data. In order to be synced with ejabberd server, I save IQ data to SQLite database in case of failure. So I convert IQ object to String by `iqObject.toXML().toString()`. But I&#39;m stuck When I read from database and convert into IQ class.\r\n\r\nMy question is: How to convert following String to IQ class?\r\n\r\n```\r\n&lt;iq type=&#39;set&#39; id=&#39;1001&#39;&gt;\r\n&lt;query xmlns=&#39;urn:xmpp:contacts&#39; clean=&quot;false&quot; domain=&#39;localhost&#39;&gt;\r\n&lt;add&gt;\r\n&lt;i id=&quot;1&quot; number=&quot;+90&quot;&gt;Mesut&lt;/i&gt;\r\n&lt;i id=&quot;2&quot; number=&quot;+91&quot;&gt;Umit&lt;/i&gt;\r\n&lt;i id=&quot;3&quot; number=&quot;unknown&quot;&gt;Unknown&lt;/i&gt;\r\n&lt;/add&gt;\r\n&lt;delete&gt;\r\n&lt;i id=&quot;4&quot; /&gt;\r\n&lt;i id=&quot;5&quot; /&gt;\r\n&lt;/delete&gt;\r\n&lt;/query&gt;\r\n&lt;/iq&gt;\r\n```\r\n\r\nAny helps would be very appreciated.  \r\nBest regards...\r\n\r\n## Update1\r\n\r\n- My smack version is: 4.5.0-alpha1\r\n\r\n&gt; The problem is not related with neighter ejabberd nor openfire. It is exactly related with _Smack_\r\n\r\n\r\nAtention please, the problem is not sending or receiving IQ packets. I make these works successfully. My question is how to send the String above over Smack as IQ stanza packet, so that receive appropriate IQ response.\r\n\r\n","title":"How to convert from String to IQ object in Smack","body":"<p>I'm making IQ requests for saving some data. In order to be synced with ejabberd server, I save IQ data to SQLite database in case of failure. So I convert IQ object to String by <code>iqObject.toXML().toString()</code>. But I'm stuck When I read from database and convert into IQ class.</p>\n<p>My question is: How to convert following String to IQ class?</p>\n<pre><code>&lt;iq type='set' id='1001'&gt;\n&lt;query xmlns='urn:xmpp:contacts' clean=&quot;false&quot; domain='localhost'&gt;\n&lt;add&gt;\n&lt;i id=&quot;1&quot; number=&quot;+90&quot;&gt;Mesut&lt;/i&gt;\n&lt;i id=&quot;2&quot; number=&quot;+91&quot;&gt;Umit&lt;/i&gt;\n&lt;i id=&quot;3&quot; number=&quot;unknown&quot;&gt;Unknown&lt;/i&gt;\n&lt;/add&gt;\n&lt;delete&gt;\n&lt;i id=&quot;4&quot; /&gt;\n&lt;i id=&quot;5&quot; /&gt;\n&lt;/delete&gt;\n&lt;/query&gt;\n&lt;/iq&gt;\n</code></pre>\n<p>Any helps would be very appreciated.<br />\nBest regards...</p>\n<h2>Update1</h2>\n<ul>\n<li>My smack version is: 4.5.0-alpha1</li>\n</ul>\n<blockquote>\n<p>The problem is not related with neighter ejabberd nor openfire. It is exactly related with <em>Smack</em></p>\n</blockquote>\n<p>Atention please, the problem is not sending or receiving IQ packets. I make these works successfully. My question is how to send the String above over Smack as IQ stanza packet, so that receive appropriate IQ response.</p>\n"},{"tags":["java","mongodb","morphia"],"answers":[{"tags":[],"owner":{"account_id":2707260,"reputation":1497,"user_id":2336595,"display_name":"Nice-Guy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666023981,"creation_date":1666023600,"answer_id":74100248,"question_id":73394609,"body_markdown":"The best recommendation I can make is the newly released [Java builders for Atlas Search][1].\r\n\r\nThey simplify a lot of the work. The example they provide for search a title field looks a lot better than the raw aggregation pipeline equivalent for Java.\r\n\r\n**New builder syntax**:\r\n\r\n```java\r\nBson textSearch = Aggregates.search(\r\n        SearchOperator.text(\r\n                SearchPath.fieldPath(&quot;title&quot;), &quot;Future&quot;));\r\n```\r\n\r\n**Legacy, without builder syntax**:\r\n```java\r\nFindIterable&lt;Document&gt; result = collection.aggregate(Arrays.asList(new Document(&quot;$search&quot;, \r\n    new Document(&quot;text&quot;, \r\n    new Document(&quot;query&quot;, &quot;Future&quot;)\r\n                .append(&quot;path&quot;, &quot;title&quot;))))\r\n```\r\n\r\n  [1]: https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/builders/aggregates/#atlas-full-text-search","title":"Using Atlas Search in Morphia","body":"<p>The best recommendation I can make is the newly released <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/fundamentals/builders/aggregates/#atlas-full-text-search\" rel=\"nofollow noreferrer\">Java builders for Atlas Search</a>.</p>\n<p>They simplify a lot of the work. The example they provide for search a title field looks a lot better than the raw aggregation pipeline equivalent for Java.</p>\n<p><strong>New builder syntax</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Bson textSearch = Aggregates.search(\n        SearchOperator.text(\n                SearchPath.fieldPath(&quot;title&quot;), &quot;Future&quot;));\n</code></pre>\n<p><strong>Legacy, without builder syntax</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>FindIterable&lt;Document&gt; result = collection.aggregate(Arrays.asList(new Document(&quot;$search&quot;, \n    new Document(&quot;text&quot;, \n    new Document(&quot;query&quot;, &quot;Future&quot;)\n                .append(&quot;path&quot;, &quot;title&quot;))))\n</code></pre>\n"}],"owner":{"account_id":1236416,"reputation":910,"user_id":1330186,"accept_rate":50,"display_name":"Dani C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74100248,"answer_count":1,"score":0,"last_activity_date":1666023981,"creation_date":1660768450,"question_id":73394609,"body_markdown":"currently, we have our Mongo servers running at Atlas and as a feature request, we must implement full-text search in our service, which uses Morphia, and this feature will affect one of our mapped classes. Our project uses yet Morphia 1.6.1.\r\n\r\nAtlas provides a command that is not natively supported by Mongo, but in our case simplifies a lot our use-case (we don&#39;t have, for example, to index all our documents on Elastic Search).\r\n\r\nBy looking at the AggregationPipeline interface of Morphia 1.6.1 or the Javadocs of the Aggregation interface in the last version (2.3-SNAPSHOT), we don&#39;t see how to achieve this, and we were wondering if there is some way, like pass a native object to one of the stages of the pipeline.\r\n\r\nThere is any workaround for this?.\r\n\r\nThanks in advance.","title":"Using Atlas Search in Morphia","body":"<p>currently, we have our Mongo servers running at Atlas and as a feature request, we must implement full-text search in our service, which uses Morphia, and this feature will affect one of our mapped classes. Our project uses yet Morphia 1.6.1.</p>\n<p>Atlas provides a command that is not natively supported by Mongo, but in our case simplifies a lot our use-case (we don't have, for example, to index all our documents on Elastic Search).</p>\n<p>By looking at the AggregationPipeline interface of Morphia 1.6.1 or the Javadocs of the Aggregation interface in the last version (2.3-SNAPSHOT), we don't see how to achieve this, and we were wondering if there is some way, like pass a native object to one of the stages of the pipeline.</p>\n<p>There is any workaround for this?.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","apple-push-notifications"],"comments":[{"owner":{"display_name":"user4798111"},"score":0,"creation_date":1433949170,"post_id":1355837,"comment_id":49573736,"body_markdown":"Is DeviceID and Device token same ?","body":"Is DeviceID and Device token same ?"}],"answers":[{"comments":[{"owner":{"account_id":16987,"reputation":6240,"user_id":37575,"accept_rate":95,"display_name":"Sam"},"score":0,"creation_date":1433972838,"post_id":1355865,"comment_id":49587977,"body_markdown":"I updated the link to https://github.com/o-sam-o/javapns/blob/master/src/javapns/notification/PushNotificationManager.java#L501","body":"I updated the link to <a href=\"https://github.com/o-sam-o/javapns/blob/master/src/javapns/notification/PushNotificationManager.java#L501\" rel=\"nofollow noreferrer\">github.com/o-sam-o/javapns/blob/master/src/javapns/notificat&zwnj;&#8203;ion/&hellip;</a>"}],"tags":[],"owner":{"account_id":16987,"reputation":6240,"user_id":37575,"accept_rate":95,"display_name":"Sam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433972807,"creation_date":1251695007,"answer_id":1355865,"question_id":1355837,"body_markdown":"You seem to be missing the token\r\n\r\n\r\n    pushManager.addDevice(&quot;iPhone&quot;, &quot;f4201f5d8278fe39545349d0868a24a3b60ed732&quot;);\r\n\r\n\r\nTakes id and token check:\r\n\r\nhttps://github.com/o-sam-o/javapns/blob/master/src/javapns/notification/PushNotificationManager.java#L501\r\n\r\nThe only way to get a token is from the iphone app.  A valid token looks something like this:\r\n1d2d6f34 c5028bca c50df5f9 1992c912 ce7deae8 3bbe7da5 447f6a68 cfecdc0e","title":"Use Apple Push Notification Service through Java","body":"<p>You seem to be missing the token</p>\n\n<pre><code>pushManager.addDevice(\"iPhone\", \"f4201f5d8278fe39545349d0868a24a3b60ed732\");\n</code></pre>\n\n<p>Takes id and token check:</p>\n\n<p><a href=\"https://github.com/o-sam-o/javapns/blob/master/src/javapns/notification/PushNotificationManager.java#L501\" rel=\"nofollow noreferrer\">https://github.com/o-sam-o/javapns/blob/master/src/javapns/notification/PushNotificationManager.java#L501</a></p>\n\n<p>The only way to get a token is from the iphone app.  A valid token looks something like this:\n1d2d6f34 c5028bca c50df5f9 1992c912 ce7deae8 3bbe7da5 447f6a68 cfecdc0e</p>\n"},{"comments":[{"owner":{"account_id":13492752,"reputation":159,"user_id":9734448,"display_name":"pankaj"},"score":0,"creation_date":1587213582,"post_id":1357671,"comment_id":108424076,"body_markdown":"Can you please guide me if i can use this libarary to send apns-push-type header for APNS payload, which is required in iOS13?\nMy question: https://stackoverflow.com/questions/61278008/unable-to-set-header-field-apns-push-type-in-apple-push-notification-in-javapn","body":"Can you please guide me if i can use this libarary to send apns-push-type header for APNS payload, which is required in iOS13? My question: <a href=\"https://stackoverflow.com/questions/61278008/unable-to-set-header-field-apns-push-type-in-apple-push-notification-in-javapn\" title=\"unable to set header field apns push type in apple push notification in javapn\">stackoverflow.com/questions/61278008/&hellip;</a>"}],"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1251728080,"creation_date":1251728080,"answer_id":1357671,"question_id":1355837,"body_markdown":"1. Your Java code looks solid!  However, don&#39;t forget to close the connection, through `PushNotificationManager.closeConnection()`.  It&#39;s important to cleanup after yourself.\n\n   As a side comment, I notice that you are adding the device &#39;iPhone&#39; but querying for &#39;Lambo&#39; afterwards.  This is an indication of a bug.\n\n2. The device token shown in the code is incorrect.  Device tokens, currently, as 32-bit long value, which gets hexed into 64 characters.  I assume that the server is failing silently when pushing the notification to invalid token!\n\n3.  The only way to get the device token is from the app itself.  As provided by the [Push Notification guide](http://developer.apple.com/iphone/library/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/IPhoneOSClientImp/IPhoneOSClientImp.html#//apple_ref/doc/uid/TP40008194-CH103-SW1) suggests, the iPhone app needs to register for notification upon launch.  In the [`application:didRegisterForRemoteNotificationsWithDeviceToken:`](http://developer.apple.com/IPhone/library/documentation/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application:didRegisterForRemoteNotificationsWithDeviceToken:), the iPhone needs to send the device token to your java provider server.  (For debugging purposes, you can just `NSLog` the device token and use it; it never changes across runs).\n\n    I would recommend that you create a server in your java provider server to receive device tokens.  Set up a `ServerSocket` to receive connections from the iPhone and their device token (and any additional info you need) and insert the tokens in the database.\n","title":"Use Apple Push Notification Service through Java","body":"<ol>\n<li><p>Your Java code looks solid!  However, don't forget to close the connection, through <code>PushNotificationManager.closeConnection()</code>.  It's important to cleanup after yourself.</p>\n<p>As a side comment, I notice that you are adding the device 'iPhone' but querying for 'Lambo' afterwards.  This is an indication of a bug.</p>\n</li>\n<li><p>The device token shown in the code is incorrect.  Device tokens, currently, as 32-bit long value, which gets hexed into 64 characters.  I assume that the server is failing silently when pushing the notification to invalid token!</p>\n</li>\n<li><p>The only way to get the device token is from the app itself.  As provided by the <a href=\"http://developer.apple.com/iphone/library/documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/IPhoneOSClientImp/IPhoneOSClientImp.html#//apple_ref/doc/uid/TP40008194-CH103-SW1\" rel=\"nofollow noreferrer\">Push Notification guide</a> suggests, the iPhone app needs to register for notification upon launch.  In the <a href=\"http://developer.apple.com/IPhone/library/documentation/UIKit/Reference/UIApplicationDelegate_Protocol/Reference/Reference.html#//apple_ref/occ/intfm/UIApplicationDelegate/application:didRegisterForRemoteNotificationsWithDeviceToken:\" rel=\"nofollow noreferrer\"><code>application:didRegisterForRemoteNotificationsWithDeviceToken:</code></a>, the iPhone needs to send the device token to your java provider server.  (For debugging purposes, you can just <code>NSLog</code> the device token and use it; it never changes across runs).</p>\n<p>I would recommend that you create a server in your java provider server to receive device tokens.  Set up a <code>ServerSocket</code> to receive connections from the iPhone and their device token (and any additional info you need) and insert the tokens in the database.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":391100,"reputation":19046,"user_id":751581,"accept_rate":70,"display_name":"Patrick Jackson"},"score":0,"creation_date":1367169972,"post_id":1544075,"comment_id":23275901,"body_markdown":"is this still needed with the most recent version of java-apns?","body":"is this still needed with the most recent version of java-apns?"}],"tags":[],"owner":{"account_id":62379,"reputation":4678,"user_id":185387,"accept_rate":32,"display_name":"ZaBlanc"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1255097994,"creation_date":1255097994,"answer_id":1544075,"question_id":1355837,"body_markdown":"Just a little tip, in order to convert your received token into a format suitable for registration with javapns, this code will do the trick:\r\n\r\n    - (NSString *)convertTokenToDeviceID:(NSData *)token {\r\n\tNSMutableString *deviceID = [NSMutableString string];\r\n\t\r\n\t// iterate through the bytes and convert to hex\r\n\tunsigned char *ptr = (unsigned char *)[token bytes];\r\n\t\r\n\tfor (NSInteger i=0; i &lt; 32; ++i) {\r\n\t\t[deviceID appendString:[NSString stringWithFormat:@&quot;%02x&quot;, ptr[i]]];\r\n\t}\r\n\t\r\n\treturn deviceID;\r\n}\r\n\r\n\r\n\r\n","title":"Use Apple Push Notification Service through Java","body":"<p>Just a little tip, in order to convert your received token into a format suitable for registration with javapns, this code will do the trick:</p>\n\n<pre><code>- (NSString *)convertTokenToDeviceID:(NSData *)token {\nNSMutableString *deviceID = [NSMutableString string];\n\n// iterate through the bytes and convert to hex\nunsigned char *ptr = (unsigned char *)[token bytes];\n\nfor (NSInteger i=0; i &lt; 32; ++i) {\n    [deviceID appendString:[NSString stringWithFormat:@\"%02x\", ptr[i]]];\n}\n\nreturn deviceID;\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":41016,"reputation":31045,"user_id":119114,"accept_rate":100,"display_name":"Nate"},"score":0,"creation_date":1310533806,"post_id":1800161,"comment_id":7893416,"body_markdown":"With the caveat that his deviceToken is wrong, too, right?  That looks like a [[UIDevice currentDevice] uniqueIdentifier], but the java apns class wants the binary device token converted to a 64 character hex string.","body":"With the caveat that his deviceToken is wrong, too, right?  That looks like a [[UIDevice currentDevice] uniqueIdentifier], but the java apns class wants the binary device token converted to a 64 character hex string."},{"owner":{"account_id":41016,"reputation":31045,"user_id":119114,"accept_rate":100,"display_name":"Nate"},"score":0,"creation_date":1310611424,"post_id":1800161,"comment_id":7912885,"body_markdown":"Ok, great.  I was able to get the exact code you pasted above working, so long as I replaced deviceToken with the full 64 char hex string generated by code similar to ZaBlanc&#39;s.  Great library, by the way!","body":"Ok, great.  I was able to get the exact code you pasted above working, so long as I replaced deviceToken with the full 64 char hex string generated by code similar to ZaBlanc&#39;s.  Great library, by the way!"},{"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"score":0,"creation_date":1310686374,"post_id":1800161,"comment_id":7931608,"body_markdown":"@Nate.  Thanks, please join the google group and influence the library evolution.","body":"@Nate.  Thanks, please join the google group and influence the library evolution."},{"owner":{"account_id":344164,"reputation":2553,"user_id":676326,"accept_rate":50,"display_name":"TKV"},"score":0,"creation_date":1335958185,"post_id":1800161,"comment_id":13433856,"body_markdown":"hi.i checked with this ..but the default sound is not working in this case.","body":"hi.i checked with this ..but the default sound is not working in this case."},{"owner":{"account_id":921513,"reputation":39385,"user_id":953140,"accept_rate":100,"display_name":"Ahamed"},"score":2,"creation_date":1375939457,"post_id":1800161,"comment_id":26528432,"body_markdown":"@notnoop, The above code is fine for single payload push to one or more device. If we need to do this repeatedly based on the web service call, creating the apnsservice each and every time won&#39;t be good. Is there a way to keep this connection open as long as possible?  I don&#39;t see any open or close of connection. when does it happen exactly. Please guide me.","body":"@notnoop, The above code is fine for single payload push to one or more device. If we need to do this repeatedly based on the web service call, creating the apnsservice each and every time won&#39;t be good. Is there a way to keep this connection open as long as possible?  I don&#39;t see any open or close of connection. when does it happen exactly. Please guide me."},{"owner":{"display_name":"user5268786"},"score":0,"creation_date":1445425546,"post_id":1800161,"comment_id":54316346,"body_markdown":"How we will come to know that Push Notification being sent successfully through APNS API? As GCM gives success or failure message. Does APNS provide same for ioS?","body":"How we will come to know that Push Notification being sent successfully through APNS API? As GCM gives success or failure message. Does APNS provide same for ioS?"},{"owner":{"account_id":13492752,"reputation":159,"user_id":9734448,"display_name":"pankaj"},"score":0,"creation_date":1587208369,"post_id":1800161,"comment_id":108422094,"body_markdown":"@notnoop how to send apns-push-type header attribute? for iOS 13 we need to send this header ref: https://onesignal.com/blog/ios-13-introduces-4-breaking-changes-to-notifications/.","body":"@notnoop how to send apns-push-type header attribute? for iOS 13 we need to send this header ref: <a href=\"https://onesignal.com/blog/ios-13-introduces-4-breaking-changes-to-notifications/\" rel=\"nofollow noreferrer\">onesignal.com/blog/&hellip;</a>."}],"tags":[],"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"comment_count":7,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1259185327,"creation_date":1259185327,"answer_id":1800161,"question_id":1355837,"body_markdown":"As a shameful self-advertising, I encourage to use [`java-apns`](http://github.com/notnoop/java-apns) library.  Your code will look like:\r\n\r\n    ApnsService service =\r\n         APNS.newService()\r\n         .withCert(&quot;/etc/Certificates.p12&quot;, &quot;password&quot;)\r\n         .withSandboxDestination() // or .withProductionDestination()\r\n         .build();\r\n    \r\n    String payload =\r\n        APNS.newPayload()\r\n        .alertBody(&quot;My alert message&quot;)\r\n        .badge(45)\r\n        .sound(&quot;default&quot;)\r\n        .build();\r\n    \r\n    String deviceToken = &quot;f4201f5d8278fe39545349d0868a24a3b60ed732&quot;;\r\n    \r\n    log.warn(&quot;Sending push notification...&quot;);\r\n    service.push(deviceToken, payload);\r\n\r\n","title":"Use Apple Push Notification Service through Java","body":"<p>As a shameful self-advertising, I encourage to use <a href=\"http://github.com/notnoop/java-apns\" rel=\"noreferrer\"><code>java-apns</code></a> library.  Your code will look like:</p>\n\n<pre><code>ApnsService service =\n     APNS.newService()\n     .withCert(\"/etc/Certificates.p12\", \"password\")\n     .withSandboxDestination() // or .withProductionDestination()\n     .build();\n\nString payload =\n    APNS.newPayload()\n    .alertBody(\"My alert message\")\n    .badge(45)\n    .sound(\"default\")\n    .build();\n\nString deviceToken = \"f4201f5d8278fe39545349d0868a24a3b60ed732\";\n\nlog.warn(\"Sending push notification...\");\nservice.push(deviceToken, payload);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13492752,"reputation":159,"user_id":9734448,"display_name":"pankaj"},"score":0,"creation_date":1587213507,"post_id":6810579,"comment_id":108424048,"body_markdown":"Can you please guide me if i can use this libarary to send apns-push-type header for APNS payload, which is required in iOS13?\nMy question: https://stackoverflow.com/questions/61278008/unable-to-set-header-field-apns-push-type-in-apple-push-notification-in-javapn","body":"Can you please guide me if i can use this libarary to send apns-push-type header for APNS payload, which is required in iOS13? My question: <a href=\"https://stackoverflow.com/questions/61278008/unable-to-set-header-field-apns-push-type-in-apple-push-notification-in-javapn\" title=\"unable to set header field apns push type in apple push notification in javapn\">stackoverflow.com/questions/61278008/&hellip;</a>"}],"tags":[],"owner":{"account_id":783129,"reputation":21,"user_id":837284,"display_name":"sergio"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390314844,"creation_date":1311552019,"answer_id":6810579,"question_id":1355837,"body_markdown":"I tried this and I keep getting hanged when sending the notification, and nothing gets sent.\r\n\r\nThe issue stems from the following function:\r\n\r\n             public void sendNotification(Device device, PayLoad payload) \r\n\r\nIt seems that the bufferedreader has NULL\r\n\r\n               BufferedReader in = \r\n               new BufferedReader(new InputStreamReader(this.socket.getInputStream() ) );\r\n\r\n\r\nSo when this portion of the code gets hit it just hangs there in endless loop\r\n\r\n      logger.debug( &quot;In: [&quot; + in.readLine() + &quot;]&quot; );\r\n\r\nThis output is [null]\r\n\r\n\r\nSo then right after then the loops get executed:\t\r\n\t\t\t\r\n          while ( ! this.socket.isInputShutdown() ) {\r\n   \t          while( in.ready() ) {\r\n\t\t          logger.debug(&quot;ready now&quot;);\r\n\t\t          logger.debug(in.readLine());\r\n\t\t          System.out.println( this.socket.getInputStream().read() );\r\n\t          }\r\n          }\r\n\r\nThe code enters the first while loop and waits for the BufferedReader in to be ready\r\nand just keeps waiting..... ad that is your hanging\r\n\r\n\r\n","title":"Use Apple Push Notification Service through Java","body":"<p>I tried this and I keep getting hanged when sending the notification, and nothing gets sent.</p>\n\n<p>The issue stems from the following function:</p>\n\n<pre><code>         public void sendNotification(Device device, PayLoad payload) \n</code></pre>\n\n<p>It seems that the bufferedreader has NULL</p>\n\n<pre><code>           BufferedReader in = \n           new BufferedReader(new InputStreamReader(this.socket.getInputStream() ) );\n</code></pre>\n\n<p>So when this portion of the code gets hit it just hangs there in endless loop</p>\n\n<pre><code>  logger.debug( \"In: [\" + in.readLine() + \"]\" );\n</code></pre>\n\n<p>This output is [null]</p>\n\n<p>So then right after then the loops get executed:    </p>\n\n<pre><code>      while ( ! this.socket.isInputShutdown() ) {\n          while( in.ready() ) {\n              logger.debug(\"ready now\");\n              logger.debug(in.readLine());\n              System.out.println( this.socket.getInputStream().read() );\n          }\n      }\n</code></pre>\n\n<p>The code enters the first while loop and waits for the BufferedReader in to be ready\nand just keeps waiting..... ad that is your hanging</p>\n"},{"comments":[{"owner":{"display_name":"user4798111"},"score":0,"creation_date":1433949465,"post_id":7719401,"comment_id":49573943,"body_markdown":"Could you please paste code to support your answer ? Here in my case I not getting any error also notifications are not going. Please help","body":"Could you please paste code to support your answer ? Here in my case I not getting any error also notifications are not going. Please help"},{"owner":{"account_id":964885,"reputation":249,"user_id":988491,"display_name":"Sylvain P."},"score":0,"creation_date":1442581188,"post_id":7719401,"comment_id":53151864,"body_markdown":"Here it is:\nPush.alert(&quot;Hello World!&quot;, &quot;keystore.p12&quot;, &quot;keystore_password&quot;, false, &quot;Your token&quot;);\n\nEverything is pretty well documented in the project&#39;s wiki on Google Code. There are basic and advanced code examples.","body":"Here it is: Push.alert(&quot;Hello World!&quot;, &quot;keystore.p12&quot;, &quot;keystore_password&quot;, false, &quot;Your token&quot;);  Everything is pretty well documented in the project&#39;s wiki on Google Code. There are basic and advanced code examples."},{"owner":{"account_id":13492752,"reputation":159,"user_id":9734448,"display_name":"pankaj"},"score":0,"creation_date":1587213654,"post_id":7719401,"comment_id":108424108,"body_markdown":"@Syslvain P.  Can you please guide me if i can use this libarary to send apns-push-type header for APNS payload, which is required in iOS13?\nMy question: https://stackoverflow.com/questions/61278008/unable-to-set-header-field-apns-push-type-in-apple-push-notification-in-javapn","body":"@Syslvain P.  Can you please guide me if i can use this libarary to send apns-push-type header for APNS payload, which is required in iOS13? My question: <a href=\"https://stackoverflow.com/questions/61278008/unable-to-set-header-field-apns-push-type-in-apple-push-notification-in-javapn\" title=\"unable to set header field apns push type in apple push notification in javapn\">stackoverflow.com/questions/61278008/&hellip;</a>"}],"tags":[],"owner":{"account_id":964885,"reputation":249,"user_id":988491,"display_name":"Sylvain P."},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318285760,"creation_date":1318285760,"answer_id":7719401,"question_id":1355837,"body_markdown":"JavaPNS was recently updated to 2.0, and fixed ALL reported issues up to the release date.  It does fix the issue you are describing, and using the library is MUCH simpler than it ever was (you can push a notification with a single line of code now).","title":"Use Apple Push Notification Service through Java","body":"<p>JavaPNS was recently updated to 2.0, and fixed ALL reported issues up to the release date.  It does fix the issue you are describing, and using the library is MUCH simpler than it ever was (you can push a notification with a single line of code now).</p>\n"},{"tags":[],"owner":{"account_id":6670989,"reputation":41,"user_id":5147132,"display_name":"Jacqueline Rodriguez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666022900,"creation_date":1666013580,"answer_id":74098148,"question_id":1355837,"body_markdown":"Regarding the comment for notnoop [here][1]:\r\n\r\nIf you are landing on this post in 2022, you&#39;ll find that the [java-apns][2] library doesn&#39;t work since 2021. Instead they recommend using [pushy][3] library.\r\n\r\nI have tried this one just by following their example in the README file and it works really well. They have added examples for both authorisation types: by certificate or by token.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/1800161/5147132instead\r\n  [2]: https://github.com/notnoop/java-apns#warning\r\n  [3]: https://github.com/jchambers/pushy","title":"Use Apple Push Notification Service through Java","body":"<p>Regarding the comment for notnoop <a href=\"https://stackoverflow.com/a/1800161/5147132instead\">here</a>:</p>\n<p>If you are landing on this post in 2022, you'll find that the <a href=\"https://github.com/notnoop/java-apns#warning\" rel=\"nofollow noreferrer\">java-apns</a> library doesn't work since 2021. Instead they recommend using <a href=\"https://github.com/jchambers/pushy\" rel=\"nofollow noreferrer\">pushy</a> library.</p>\n<p>I have tried this one just by following their example in the README file and it works really well. They have added examples for both authorisation types: by certificate or by token.</p>\n"}],"owner":{"account_id":878349,"reputation":687,"user_id":144173,"accept_rate":42,"display_name":"mw_javaguy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39739,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":1544075,"answer_count":7,"score":8,"last_activity_date":1666022900,"creation_date":1251694136,"question_id":1355837,"body_markdown":"Am trying to implement a Java program which sends an Apple Push Notification to an iPhone client app... Found the following library: [Java APNs][1]\r\n\r\nProvider code:\r\n-------------------\r\n\r\nCreated the following code (from Javapns) to use in my app:\r\n\r\n    try {\r\n        PayLoad payLoad = new PayLoad();\r\n\r\n        payLoad.addAlert(&quot;My alert message&quot;);\r\n        payLoad.addBadge(45);\r\n        payLoad.addSound(&quot;default&quot;);\r\n\r\n        PushNotificationManager pushManager = PushNotificationManager.getInstance();\r\n        pushManager.addDevice(&quot;iPhone&quot;, &quot;f4201f5d8278fe39545349d0868a24a3b60ed732&quot;);\r\n        log.warn(&quot;Initializing connectiong with APNS...&quot;);\r\n\r\n        // Connect to APNs\r\n        pushManager.initializeConnection(HOST, PORT, \r\n                                     &quot;/etc/Certificates.p12&quot;, &quot;password&quot;, \r\n        SSLConnectionHelper.KEYSTORE_TYPE_PKCS12);\r\n\r\n        Device client = pushManager.getDevice(&quot;Lambo&quot;);\r\n\r\n        // Send Push\r\n        log.warn(&quot;Sending push notification...&quot;);\r\n        PushNotificationManager.getInstance().sendNotification(client, payLoad);\r\n     }\r\n     catch (Exception e) {\r\n        throw new ApnsPushNotificationException(&quot;Unable to send push &quot; + e);\r\n     }\r\n  \r\nWhen I run this app (as you can see through the Log4j statements) there&#39;s no exceptions which occur:\r\n\r\n      WARN  [MyCode] Initializing connectiong with APNS...\r\n      WARN  [MyCode] Sending push notification...\r\n\r\nBut my client app doesn&#39;t receive any notifications!\r\n\r\nIDPP Registration Process:\r\n------------------------------------\r\n\r\nAlso, did the following on the iPhone Developer Program Portal (IDPP):\r\n\r\n- Created the APNS based SSL Certificate and Keys\r\n\r\n- Created and installed the provisioning profile\r\n\r\n- Installed the SSL Certificate and Key on the server.\r\n\r\nHave read over the Apple Push Notification Service Guide several times and noticed a few things:\r\n\r\n(1) On page 15, it states that the device token is not the same as the device UDID (which I am currently incorrectly passing in as the second parameter inside the PushNotificationManager.addDevice() method (see above)).\r\n\r\nOn page 17, it states:\r\n\r\n&quot;APNs generates a device token using information contained in the unique device certificate. The device token contains an identifier of the device. It then encrypts the device token with a token key and returns it to the device. The device returns the device token to the requesting application as an NSData object. The application then must deliver the device token to its provider in either binary or hexidecimal format.&quot;\r\n\r\niPhone OS Client Implementation\r\n----------------------------------------------\r\n\r\n(2) After reading pages 33 - 34, I discovered that I didn&#39;t include the Objective-C code to have the app register with APNs.\r\n\r\nAm not an Objective-C developer, so is this where I can recover the device code or do I have to get it from the certificate?\r\n\r\nWhere do I obtain the device token (sorry, someone else wrote the Objective-C client app and I am a Java Developer)?\r\n\r\nQuestion(s):\r\n\r\n(1) With the exception of not knowing where to get the device token and the mobile client code registration, is there anything else that I have not looked over or missed?\r\n\r\n(2) Am I using the Javapns library the right way?\r\n\r\nThank you for taking the time to read this...\r\n\r\n\r\n  [1]: http://code.google.com/p/javapns/","title":"Use Apple Push Notification Service through Java","body":"<p>Am trying to implement a Java program which sends an Apple Push Notification to an iPhone client app... Found the following library: <a href=\"http://code.google.com/p/javapns/\" rel=\"nofollow noreferrer\">Java APNs</a></p>\n\n<h2>Provider code:</h2>\n\n<p>Created the following code (from Javapns) to use in my app:</p>\n\n<pre><code>try {\n    PayLoad payLoad = new PayLoad();\n\n    payLoad.addAlert(\"My alert message\");\n    payLoad.addBadge(45);\n    payLoad.addSound(\"default\");\n\n    PushNotificationManager pushManager = PushNotificationManager.getInstance();\n    pushManager.addDevice(\"iPhone\", \"f4201f5d8278fe39545349d0868a24a3b60ed732\");\n    log.warn(\"Initializing connectiong with APNS...\");\n\n    // Connect to APNs\n    pushManager.initializeConnection(HOST, PORT, \n                                 \"/etc/Certificates.p12\", \"password\", \n    SSLConnectionHelper.KEYSTORE_TYPE_PKCS12);\n\n    Device client = pushManager.getDevice(\"Lambo\");\n\n    // Send Push\n    log.warn(\"Sending push notification...\");\n    PushNotificationManager.getInstance().sendNotification(client, payLoad);\n }\n catch (Exception e) {\n    throw new ApnsPushNotificationException(\"Unable to send push \" + e);\n }\n</code></pre>\n\n<p>When I run this app (as you can see through the Log4j statements) there's no exceptions which occur:</p>\n\n<pre><code>  WARN  [MyCode] Initializing connectiong with APNS...\n  WARN  [MyCode] Sending push notification...\n</code></pre>\n\n<p>But my client app doesn't receive any notifications!</p>\n\n<h2>IDPP Registration Process:</h2>\n\n<p>Also, did the following on the iPhone Developer Program Portal (IDPP):</p>\n\n<ul>\n<li><p>Created the APNS based SSL Certificate and Keys</p></li>\n<li><p>Created and installed the provisioning profile</p></li>\n<li><p>Installed the SSL Certificate and Key on the server.</p></li>\n</ul>\n\n<p>Have read over the Apple Push Notification Service Guide several times and noticed a few things:</p>\n\n<p>(1) On page 15, it states that the device token is not the same as the device UDID (which I am currently incorrectly passing in as the second parameter inside the PushNotificationManager.addDevice() method (see above)).</p>\n\n<p>On page 17, it states:</p>\n\n<p>\"APNs generates a device token using information contained in the unique device certificate. The device token contains an identifier of the device. It then encrypts the device token with a token key and returns it to the device. The device returns the device token to the requesting application as an NSData object. The application then must deliver the device token to its provider in either binary or hexidecimal format.\"</p>\n\n<h2>iPhone OS Client Implementation</h2>\n\n<p>(2) After reading pages 33 - 34, I discovered that I didn't include the Objective-C code to have the app register with APNs.</p>\n\n<p>Am not an Objective-C developer, so is this where I can recover the device code or do I have to get it from the certificate?</p>\n\n<p>Where do I obtain the device token (sorry, someone else wrote the Objective-C client app and I am a Java Developer)?</p>\n\n<p>Question(s):</p>\n\n<p>(1) With the exception of not knowing where to get the device token and the mobile client code registration, is there anything else that I have not looked over or missed?</p>\n\n<p>(2) Am I using the Javapns library the right way?</p>\n\n<p>Thank you for taking the time to read this...</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":0,"creation_date":1666014651,"post_id":74098346,"comment_id":130828343,"body_markdown":"What language is this supposed to be?","body":"What language is this supposed to be?"},{"owner":{"account_id":26649287,"reputation":1,"user_id":20263817,"display_name":"Servant Of God"},"score":0,"creation_date":1666014747,"post_id":74098346,"comment_id":130828381,"body_markdown":"It is in Java..","body":"It is in Java.."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1666015162,"post_id":74098346,"comment_id":130828541,"body_markdown":"It&#39;d depend on what you want the string representation to be. Most enum constants iirc simply defer to `Enum#name`. So `Pheontic` would output `Alpha`, `Bravo`, etc. Alphabet would `#toString` as `A`, `B`, `C` etc. I would also question the usage for this, as the design might have a better approach.","body":"It&#39;d depend on what you want the string representation to be. Most enum constants iirc simply defer to <code>Enum#name</code>. So <code>Pheontic</code> would output <code>Alpha</code>, <code>Bravo</code>, etc. Alphabet would <code>#toString</code> as <code>A</code>, <code>B</code>, <code>C</code> etc. I would also question the usage for this, as the design might have a better approach."}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666019418,"creation_date":1666019418,"answer_id":74099363,"question_id":74098346,"body_markdown":"If you have two sets of enums that have equivalent values stored in the same order, then you can use the ordinal value from one to look up the equivalent value from the other.\r\n\r\n    int ord=Alphabet.A.ordinal();\r\n    Phonetic equiv=Phonetic.values()[ord];\r\n    System.out.println(equiv);","title":"How to convert an enum from another enum into a string","body":"<p>If you have two sets of enums that have equivalent values stored in the same order, then you can use the ordinal value from one to look up the equivalent value from the other.</p>\n<pre><code>int ord=Alphabet.A.ordinal();\nPhonetic equiv=Phonetic.values()[ord];\nSystem.out.println(equiv);\n</code></pre>\n"}],"owner":{"account_id":26649287,"reputation":1,"user_id":20263817,"display_name":"Servant Of God"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666022888,"creation_date":1666014432,"question_id":74098346,"body_markdown":"I have a pair of related enums in Java.\r\n\r\nEnum Alphabet\r\n\r\n    {\r\n      A, B, C;\r\n    }\r\n\r\nEnum Phonetic\r\n\r\n    {\r\n      Alpha (Alphabet.A, Amber)\r\n      Bravo (Alphabet.B, Beta)\r\n      Charlie (Alphabet.C, Cookie)\r\n    }\r\n      \r\n\r\nHow do I convert the Alphabet.A values in enum phonetic into a string?","title":"How to convert an enum from another enum into a string","body":"<p>I have a pair of related enums in Java.</p>\n<p>Enum Alphabet</p>\n<pre><code>{\n  A, B, C;\n}\n</code></pre>\n<p>Enum Phonetic</p>\n<pre><code>{\n  Alpha (Alphabet.A, Amber)\n  Bravo (Alphabet.B, Beta)\n  Charlie (Alphabet.C, Cookie)\n}\n  \n</code></pre>\n<p>How do I convert the Alphabet.A values in enum phonetic into a string?</p>\n"},{"tags":["java","jsp","servlets","inputstream"],"answers":[{"tags":[],"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436076457,"creation_date":1436076457,"answer_id":31227600,"question_id":31227525,"body_markdown":"Move your Test.jar inside WEB-INF folder.","title":"Servlet - java.lang.IllegalStateException: getWriter() has already been called for this response","body":"<p>Move your Test.jar inside WEB-INF folder.</p>\n"},{"tags":[],"owner":{"account_id":1146751,"reputation":4513,"user_id":1129313,"accept_rate":46,"display_name":"Garry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1436076622,"creation_date":1436076622,"answer_id":31227617,"question_id":31227525,"body_markdown":"You may have to move your test.jar in the source folder of your project so that it can accessible.","title":"Servlet - java.lang.IllegalStateException: getWriter() has already been called for this response","body":"<p>You may have to move your test.jar in the source folder of your project so that it can accessible.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436081115,"creation_date":1436081115,"answer_id":31228080,"question_id":31227525,"body_markdown":"It is explicit in [`ServletResponse` javadoc](http://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html#getOutputStream--) for method `getOutputStream()` :\r\n\r\n*Either this method or getWriter() may be called to write the body, not both, except when reset() has been called.*\r\n\r\nBut I think you did not show the relevant code because according to the stacktrace, the error occurs in `controller.BeerSelect.processRequest`, in `BeerSelect.java` line 83.\r\n\r\nWith what you show, I cannot guess where `getOutputStream` was called, but the error says that it was, so you can :\r\n\r\n- either find where it was called and use `getWriter` instead\r\n- or replace `getWriter` with `getOutputStream` in `BeerSelect.java`.","title":"Servlet - java.lang.IllegalStateException: getWriter() has already been called for this response","body":"<p>It is explicit in <a href=\"http://docs.oracle.com/javaee/7/api/javax/servlet/ServletResponse.html#getOutputStream--\" rel=\"nofollow\"><code>ServletResponse</code> javadoc</a> for method <code>getOutputStream()</code> :</p>\n\n<p><em>Either this method or getWriter() may be called to write the body, not both, except when reset() has been called.</em></p>\n\n<p>But I think you did not show the relevant code because according to the stacktrace, the error occurs in <code>controller.BeerSelect.processRequest</code>, in <code>BeerSelect.java</code> line 83.</p>\n\n<p>With what you show, I cannot guess where <code>getOutputStream</code> was called, but the error says that it was, so you can :</p>\n\n<ul>\n<li>either find where it was called and use <code>getWriter</code> instead</li>\n<li>or replace <code>getWriter</code> with <code>getOutputStream</code> in <code>BeerSelect.java</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":396855,"reputation":15238,"user_id":760656,"display_name":"Ramesh PVK"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1436082947,"creation_date":1436082947,"answer_id":31228273,"question_id":31227525,"body_markdown":"It is illegal to use both ServletRequest.getOutputStream() and ServletRequest.getWriter(). This has been answered here in detail here.\r\n\r\nhttps://stackoverflow.com/questions/15676337/java-lang-illegalstateexception-already-using-output-stream/15676991#15676991","title":"Servlet - java.lang.IllegalStateException: getWriter() has already been called for this response","body":"<p>It is illegal to use both ServletRequest.getOutputStream() and ServletRequest.getWriter(). This has been answered here in detail here.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15676337/java-lang-illegalstateexception-already-using-output-stream/15676991#15676991\">java.lang.IllegalStateException: Already using output stream</a></p>\n"}],"owner":{"account_id":4254070,"reputation":834,"user_id":3480200,"accept_rate":72,"display_name":"Altiano Gerung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42876,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31228273,"answer_count":4,"score":7,"last_activity_date":1666022549,"creation_date":1436075509,"question_id":31227525,"body_markdown":"I&#39;m using GlassFish as Server and Netbeans IDE 8.0\r\nHere is my project structure.\r\n\r\n![enter image description here][1]\r\n\r\nHow my program works: \r\n\r\n1. client open localhost:8080/Beer\r\n2. she/he selects a beer (in index.html)\r\n3. it will POST to BeerSelect.java (BS for short)\r\n4. BS will call BeerExpert.java and then call result.jsp for finally send Test.jar to client\r\n\r\nHere is the important code in BS.\r\n\r\n        /* Result.jsp */\r\n        String c = request.getParameter(&quot;color&quot;);\r\n        BeerExpert be = new BeerExpert();\r\n        List result = be.getBrands(c);\r\n        \r\n        request.setAttribute(&quot;styles&quot;, result);\r\n        RequestDispatcher view = request.getRequestDispatcher(&quot;result.jsp&quot;);\r\n        view.forward(request, response);\r\n        \r\n        /* Test Client Download */\r\n        response.setContentType(&quot;application/jar&quot;);\r\n        \r\n        ServletContext ctx = getServletContext();\r\n        InputStream is = ctx.getResourceAsStream(&quot;/Test.jar&quot;);\r\n        \r\n        int read = 0;\r\n        byte[] bytes = new byte[1024];\r\n        \r\n        OutputStream os = response.getOutputStream();\r\n        while ((read = is.read(bytes)) != -1){\r\n            os.write(bytes, 0, read);\r\n        }\r\n        os.flush();\r\n\r\nThe Error:\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/cJHt2.jpg\r\n  [2]: http://i.stack.imgur.com/fEGk9.jpg","title":"Servlet - java.lang.IllegalStateException: getWriter() has already been called for this response","body":"<p>I'm using GlassFish as Server and Netbeans IDE 8.0\nHere is my project structure.</p>\n\n<p><img src=\"https://i.stack.imgur.com/cJHt2.jpg\" alt=\"enter image description here\"></p>\n\n<p>How my program works: </p>\n\n<ol>\n<li>client open localhost:8080/Beer</li>\n<li>she/he selects a beer (in index.html)</li>\n<li>it will POST to BeerSelect.java (BS for short)</li>\n<li>BS will call BeerExpert.java and then call result.jsp for finally send Test.jar to client</li>\n</ol>\n\n<p>Here is the important code in BS.</p>\n\n<pre><code>    /* Result.jsp */\n    String c = request.getParameter(\"color\");\n    BeerExpert be = new BeerExpert();\n    List result = be.getBrands(c);\n\n    request.setAttribute(\"styles\", result);\n    RequestDispatcher view = request.getRequestDispatcher(\"result.jsp\");\n    view.forward(request, response);\n\n    /* Test Client Download */\n    response.setContentType(\"application/jar\");\n\n    ServletContext ctx = getServletContext();\n    InputStream is = ctx.getResourceAsStream(\"/Test.jar\");\n\n    int read = 0;\n    byte[] bytes = new byte[1024];\n\n    OutputStream os = response.getOutputStream();\n    while ((read = is.read(bytes)) != -1){\n        os.write(bytes, 0, read);\n    }\n    os.flush();\n</code></pre>\n\n<p>The Error:\n<img src=\"https://i.stack.imgur.com/fEGk9.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-boot","azure","saml","spring-saml"],"owner":{"account_id":19463827,"reputation":305,"user_id":14237523,"display_name":"The_new_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1692,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666022508,"creation_date":1665956627,"question_id":74090893,"body_markdown":"Hi I am very new to spring boot security. Currently we are using LDAP(IdP) to authenticate the user in spring boot(SP) . Now we want replace LDAP with Azure AD using SAML authentication.\r\n\r\n[SAML Integration with Spring Boot &amp; Spring Security — Microsoft Azure AD][1]\r\n\r\n\r\n  [1]: https://dummybot.medium.com/saml-integration-with-spring-boot-spring-security-microsoft-azure-ad-b9610bdb78b9\r\nSource code :\r\nhttps://github.com/sravankadium/dummybot-example-saml\r\n\r\nThis above code is running perfectly. I have copied the setting but getting issue while hitting the end points in my project.\r\n\r\nI have did some changes in my code . \r\n\r\nExisting code:\r\n\r\n        @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        private static final Logger logger = LoggerFactory.getLogger(SecurityConfiguration.class);\r\n    \r\n        @Autowired\r\n        private PasswordEncoder passwordEncoder;\r\n    \r\n        private final Environment environment;\r\n    \r\n        private final Ldap ldapConfig;\r\n    \r\n        public SecurityConfiguration(final Environment environment, final IccsConfiguration iccsConfiguration) {\r\n            this.environment = environment;\r\n            ldapConfig = iccsConfiguration.getLdap();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder encoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\r\n            if (developmentProfile()) {\r\n                logger.warn(&quot;Enabling simple admin user for development purposes&quot;);\r\n                auth.inMemoryAuthentication()\r\n                        .withUser(&quot;admin&quot;)\r\n                        .password(passwordEncoder.encode(&quot;password&quot;))\r\n                        .roles(ldapConfig.groupToUpperCaseArray());\r\n            }\r\n            List&lt;InetAddress&gt; ldapServers = ldapConfig.getServers();\r\n            for (InetAddress server : ldapServers) {\r\n                String protocol = ldapConfig.isSecure() ? &quot;ldaps&quot; : &quot;ldap&quot;;\r\n                String port = ldapConfig.isSecure() ? &quot;636&quot; : &quot;389&quot;;\r\n                auth.ldapAuthentication()\r\n                        .userDetailsContextMapper(new InetOrgPersonContextMapper())\r\n                        .userDnPatterns(ldapConfig.getUserDnPatterns())\r\n                        .groupSearchBase(ldapConfig.getGroupSearchBase())\r\n                        .groupSearchFilter(ldapConfig.getGroupSearchFilter())\r\n                        .contextSource()\r\n                        .url(protocol + &quot;://&quot; + server.getHostAddress() + &quot;:&quot; + port + &quot;/&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.AuthorizedUrl authorizedUrl = http.csrf()\r\n                    .disable()\r\n                    .requestCache().requestCache(new CustomRequestCache())\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    // Allow all Vaadin internal requests.\r\n                    .requestMatchers(SecurityUtils::isFrameworkInternalRequest).permitAll()\r\n                    .anyRequest();\r\n            if (ldapConfig.groupIsDefined()) {\r\n                authorizedUrl.hasRole(ldapConfig.groupToUpperCase());\r\n            } else {\r\n                authorizedUrl.authenticated();\r\n            }\r\n            http\r\n                    // Login page is accessible to anybody\r\n                    .formLogin().defaultSuccessUrl(VaadinConstant.BASE_URL, true)\r\n                    .loginPage(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\r\n                    .permitAll()\r\n                    .loginProcessingUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\r\n                    .failureUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN + &quot;?error&quot;)\r\n                    // Logout success page is accessible to anybody\r\n                    .and()\r\n                    .logout()\r\n                    .logoutSuccessUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\r\n                    .permitAll()\r\n                    .and()\r\n                    // Create completely new session\r\n                    .sessionManagement()\r\n                    .sessionFixation()\r\n                    .newSession();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(final WebSecurity web) {\r\n            web.ignoring().antMatchers(\r\n                    &quot;/css/**&quot;,\r\n                    &quot;/js/**&quot;,\r\n                    &quot;/images/**&quot;,\r\n                    &quot;/webjars/**&quot;,\r\n                    &quot;/**/favicon.ico&quot;,\r\n                    // -- General=\r\n                    &quot;/api/**&quot;,\r\n                    &quot;/internal/**&quot;,\r\n                    // Client-side JS\r\n                    &quot;/ui/VAADIN/**&quot;,\r\n                    // -- Swagger UI v2 --\r\n                    &quot;/v2/api-docs&quot;,\r\n                    &quot;/swagger-resources&quot;,\r\n                    &quot;/swagger-resources/**&quot;,\r\n                    &quot;/configuration/ui&quot;,\r\n                    &quot;/configuration/security&quot;,\r\n                    &quot;/swagger-ui.html&quot;,\r\n                    // -- Swagger UI v3 (OpenAPI) --\r\n                    &quot;/v3/api-docs.yaml&quot;,\r\n                    &quot;/v3/api-docs/**&quot;,\r\n                    &quot;/swagger-ui/**&quot;);\r\n        }\r\n    \r\n        private boolean developmentProfile() {\r\n            return ArrayUtils.contains(environment.getActiveProfiles(), &quot;dev&quot;);\r\n        }\r\n     }\r\n\r\nAfter Edit:\r\nSAML configuration:\r\nSamlAppConfig.java:\r\n\r\n    @ConfigurationProperties(prefix = &quot;spring.security.saml2&quot;)\r\n    @Configuration\r\n    public class SamlAppConfig extends SamlServerConfiguration {\r\n    }\r\n\r\n    @Configuration\r\n    public class SamlSecurityConfiguration extends SamlServiceProviderServerBeanConfiguration {\r\n    \r\n    \tprivate final SamlAppConfig samlAppConfig;\r\n    \r\n    \tpublic SamlSecurityConfiguration(SamlAppConfig samlAppConfig){\r\n    \t\tthis.samlAppConfig = samlAppConfig;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SamlServerConfiguration getDefaultHostSamlServerConfiguration() {\r\n    \t\treturn samlAppConfig;\r\n    \t}\r\n    \r\n    }\r\n\r\nSamlWebSecurityConfiguration :\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @Order(1)\r\n    public class SamlWebSecurityConfiguration extends SamlServiceProviderSecurityConfiguration {\r\n    \r\n    \tprivate SamlAppConfig samlAppConfig;\r\n    \r\n    \tpublic SamlWebSecurityConfiguration(\r\n    \t\t\tSamlServiceProviderServerBeanConfiguration configuration, @Qualifier(&quot;samlAppConfig&quot;) SamlAppConfig samlAppConfig) {\r\n    \t\tsuper(&quot;/saml/sp/&quot;,configuration);\r\n    \t\tthis.samlAppConfig = samlAppConfig;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\tsuper.configure(http);\r\n    \t\thttp.apply(serviceProvider()).configure(samlAppConfig);\r\n    \t}\r\n    }\r\n\r\nSecurityConfiguration:\r\n\r\n        @EnableWebSecurity\r\n    @Configuration\r\n    @Order(2)\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(final HttpSecurity http) throws Exception {\r\n            http.csrf()\r\n                    .disable()\r\n                    .requestCache().requestCache(new CustomRequestCache())\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    // Allow all Vaadin internal requests.\r\n                    .requestMatchers(SecurityUtils::isFrameworkInternalRequest).permitAll()\r\n                    .anyRequest().authenticated();\r\n    \r\n    \r\n           /* http\r\n                    // Login page is accessible to anybody\r\n                    .formLogin().defaultSuccessUrl(VaadinConstant.BASE_URL, true)\r\n                    .loginPage(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\r\n                    .permitAll()\r\n                    .loginProcessingUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\r\n                    .failureUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN + &quot;?error&quot;)\r\n                    // Logout success page is accessible to anybody\r\n                    .and()\r\n                    .logout()\r\n                    .logoutSuccessUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\r\n                    .permitAll()\r\n                    .and()\r\n                    // Create completely new session\r\n                    .sessionManagement()\r\n                    .sessionFixation()\r\n                    .newSession();*/\r\n    \r\n    \r\n            http\r\n                    .antMatcher(&quot;/**&quot;)\r\n                    .authorizeRequests()\r\n                    .antMatchers(GET, &quot;/home&quot;).permitAll()\r\n                    .antMatchers(GET, &quot;/api/samlLink&quot;).permitAll()\r\n                    .antMatchers(&quot;/**&quot;).authenticated()\r\n                    .and()\r\n                    .formLogin()\r\n                    .defaultSuccessUrl(VaadinConstant.BASE_URL, true)\r\n                    .loginPage(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void configure(final WebSecurity web) {\r\n            web.ignoring().antMatchers(\r\n                    &quot;/css/**&quot;,\r\n                    &quot;/js/**&quot;,\r\n                    &quot;/images/**&quot;,\r\n                    &quot;/webjars/**&quot;,\r\n                    &quot;/**/favicon.ico&quot;,\r\n                    // -- General=\r\n                    &quot;/api/**&quot;,\r\n                    &quot;/internal/**&quot;,\r\n                    // Client-side JS\r\n                    &quot;/ui/VAADIN/**&quot;,\r\n                    // -- Swagger UI v2 --\r\n                    &quot;/v2/api-docs&quot;,\r\n                    &quot;/swagger-resources&quot;,\r\n                    &quot;/swagger-resources/**&quot;,\r\n                    &quot;/configuration/ui&quot;,\r\n                    &quot;/configuration/security&quot;,\r\n                    &quot;/swagger-ui.html&quot;,\r\n                    // -- Swagger UI v3 (OpenAPI) --\r\n                    &quot;/v3/api-docs.yaml&quot;,\r\n                    &quot;/v3/api-docs/**&quot;,\r\n                    &quot;/swagger-ui/**&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n    \r\n \r\nI know what is the problem but not able to solve , actually here I need to register `saml.discovery.url` and `saml.discovery.entity-id` and also `SamlProviderProvisioning&lt;ServiceProviderService&gt; provisioning`\r\n\r\nThere are so many example for Okta Auth but very few with Azure SAML . \r\n\r\nHere I am not able to implement the SSO url , whenever I am hitting the localhost it is showing the forbidden error , and also I am not sure how to make entry point for SAML for my every request , my spring boot project uses Vaadin front end. I dont know what silly mistake am I doing , I am not sure how to proceed here. How can I make create entry url and whenever I am hitting any end point it should redirect the Microsoft login page.\r\n\r\nAny lead would be appreciated Thank you ! \r\n\r\n\r\n","title":"How to configure Spring boot app security using SAML Authentication with Azure AD","body":"<p>Hi I am very new to spring boot security. Currently we are using LDAP(IdP) to authenticate the user in spring boot(SP) . Now we want replace LDAP with Azure AD using SAML authentication.</p>\n<p><a href=\"https://dummybot.medium.com/saml-integration-with-spring-boot-spring-security-microsoft-azure-ad-b9610bdb78b9\" rel=\"nofollow noreferrer\">SAML Integration with Spring Boot &amp; Spring Security — Microsoft Azure AD</a></p>\n<p>Source code :\n<a href=\"https://github.com/sravankadium/dummybot-example-saml\" rel=\"nofollow noreferrer\">https://github.com/sravankadium/dummybot-example-saml</a></p>\n<p>This above code is running perfectly. I have copied the setting but getting issue while hitting the end points in my project.</p>\n<p>I have did some changes in my code .</p>\n<p>Existing code:</p>\n<pre><code>    @Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    private static final Logger logger = LoggerFactory.getLogger(SecurityConfiguration.class);\n\n    @Autowired\n    private PasswordEncoder passwordEncoder;\n\n    private final Environment environment;\n\n    private final Ldap ldapConfig;\n\n    public SecurityConfiguration(final Environment environment, final IccsConfiguration iccsConfiguration) {\n        this.environment = environment;\n        ldapConfig = iccsConfiguration.getLdap();\n    }\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    protected void configure(final AuthenticationManagerBuilder auth) throws Exception {\n        if (developmentProfile()) {\n            logger.warn(&quot;Enabling simple admin user for development purposes&quot;);\n            auth.inMemoryAuthentication()\n                    .withUser(&quot;admin&quot;)\n                    .password(passwordEncoder.encode(&quot;password&quot;))\n                    .roles(ldapConfig.groupToUpperCaseArray());\n        }\n        List&lt;InetAddress&gt; ldapServers = ldapConfig.getServers();\n        for (InetAddress server : ldapServers) {\n            String protocol = ldapConfig.isSecure() ? &quot;ldaps&quot; : &quot;ldap&quot;;\n            String port = ldapConfig.isSecure() ? &quot;636&quot; : &quot;389&quot;;\n            auth.ldapAuthentication()\n                    .userDetailsContextMapper(new InetOrgPersonContextMapper())\n                    .userDnPatterns(ldapConfig.getUserDnPatterns())\n                    .groupSearchBase(ldapConfig.getGroupSearchBase())\n                    .groupSearchFilter(ldapConfig.getGroupSearchFilter())\n                    .contextSource()\n                    .url(protocol + &quot;://&quot; + server.getHostAddress() + &quot;:&quot; + port + &quot;/&quot;);\n        }\n    }\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        ExpressionUrlAuthorizationConfigurer&lt;HttpSecurity&gt;.AuthorizedUrl authorizedUrl = http.csrf()\n                .disable()\n                .requestCache().requestCache(new CustomRequestCache())\n                .and()\n                .authorizeRequests()\n                // Allow all Vaadin internal requests.\n                .requestMatchers(SecurityUtils::isFrameworkInternalRequest).permitAll()\n                .anyRequest();\n        if (ldapConfig.groupIsDefined()) {\n            authorizedUrl.hasRole(ldapConfig.groupToUpperCase());\n        } else {\n            authorizedUrl.authenticated();\n        }\n        http\n                // Login page is accessible to anybody\n                .formLogin().defaultSuccessUrl(VaadinConstant.BASE_URL, true)\n                .loginPage(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\n                .permitAll()\n                .loginProcessingUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\n                .failureUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN + &quot;?error&quot;)\n                // Logout success page is accessible to anybody\n                .and()\n                .logout()\n                .logoutSuccessUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\n                .permitAll()\n                .and()\n                // Create completely new session\n                .sessionManagement()\n                .sessionFixation()\n                .newSession();\n    }\n\n    @Override\n    public void configure(final WebSecurity web) {\n        web.ignoring().antMatchers(\n                &quot;/css/**&quot;,\n                &quot;/js/**&quot;,\n                &quot;/images/**&quot;,\n                &quot;/webjars/**&quot;,\n                &quot;/**/favicon.ico&quot;,\n                // -- General=\n                &quot;/api/**&quot;,\n                &quot;/internal/**&quot;,\n                // Client-side JS\n                &quot;/ui/VAADIN/**&quot;,\n                // -- Swagger UI v2 --\n                &quot;/v2/api-docs&quot;,\n                &quot;/swagger-resources&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/configuration/ui&quot;,\n                &quot;/configuration/security&quot;,\n                &quot;/swagger-ui.html&quot;,\n                // -- Swagger UI v3 (OpenAPI) --\n                &quot;/v3/api-docs.yaml&quot;,\n                &quot;/v3/api-docs/**&quot;,\n                &quot;/swagger-ui/**&quot;);\n    }\n\n    private boolean developmentProfile() {\n        return ArrayUtils.contains(environment.getActiveProfiles(), &quot;dev&quot;);\n    }\n }\n</code></pre>\n<p>After Edit:\nSAML configuration:\nSamlAppConfig.java:</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;spring.security.saml2&quot;)\n@Configuration\npublic class SamlAppConfig extends SamlServerConfiguration {\n}\n\n@Configuration\npublic class SamlSecurityConfiguration extends SamlServiceProviderServerBeanConfiguration {\n\n    private final SamlAppConfig samlAppConfig;\n\n    public SamlSecurityConfiguration(SamlAppConfig samlAppConfig){\n        this.samlAppConfig = samlAppConfig;\n    }\n\n    @Override\n    protected SamlServerConfiguration getDefaultHostSamlServerConfiguration() {\n        return samlAppConfig;\n    }\n\n}\n</code></pre>\n<p>SamlWebSecurityConfiguration :</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@Order(1)\npublic class SamlWebSecurityConfiguration extends SamlServiceProviderSecurityConfiguration {\n\n    private SamlAppConfig samlAppConfig;\n\n    public SamlWebSecurityConfiguration(\n            SamlServiceProviderServerBeanConfiguration configuration, @Qualifier(&quot;samlAppConfig&quot;) SamlAppConfig samlAppConfig) {\n        super(&quot;/saml/sp/&quot;,configuration);\n        this.samlAppConfig = samlAppConfig;\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http.apply(serviceProvider()).configure(samlAppConfig);\n    }\n}\n</code></pre>\n<p>SecurityConfiguration:</p>\n<pre><code>    @EnableWebSecurity\n@Configuration\n@Order(2)\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(final HttpSecurity http) throws Exception {\n        http.csrf()\n                .disable()\n                .requestCache().requestCache(new CustomRequestCache())\n                .and()\n                .authorizeRequests()\n                // Allow all Vaadin internal requests.\n                .requestMatchers(SecurityUtils::isFrameworkInternalRequest).permitAll()\n                .anyRequest().authenticated();\n\n\n       /* http\n                // Login page is accessible to anybody\n                .formLogin().defaultSuccessUrl(VaadinConstant.BASE_URL, true)\n                .loginPage(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\n                .permitAll()\n                .loginProcessingUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\n                .failureUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN + &quot;?error&quot;)\n                // Logout success page is accessible to anybody\n                .and()\n                .logout()\n                .logoutSuccessUrl(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN)\n                .permitAll()\n                .and()\n                // Create completely new session\n                .sessionManagement()\n                .sessionFixation()\n                .newSession();*/\n\n\n        http\n                .antMatcher(&quot;/**&quot;)\n                .authorizeRequests()\n                .antMatchers(GET, &quot;/home&quot;).permitAll()\n                .antMatchers(GET, &quot;/api/samlLink&quot;).permitAll()\n                .antMatchers(&quot;/**&quot;).authenticated()\n                .and()\n                .formLogin()\n                .defaultSuccessUrl(VaadinConstant.BASE_URL, true)\n                .loginPage(VaadinConstant.BASE_URL + &quot;/&quot; + ViewConstant.Route.LOGIN);\n\n\n    }\n\n    @Override\n    public void configure(final WebSecurity web) {\n        web.ignoring().antMatchers(\n                &quot;/css/**&quot;,\n                &quot;/js/**&quot;,\n                &quot;/images/**&quot;,\n                &quot;/webjars/**&quot;,\n                &quot;/**/favicon.ico&quot;,\n                // -- General=\n                &quot;/api/**&quot;,\n                &quot;/internal/**&quot;,\n                // Client-side JS\n                &quot;/ui/VAADIN/**&quot;,\n                // -- Swagger UI v2 --\n                &quot;/v2/api-docs&quot;,\n                &quot;/swagger-resources&quot;,\n                &quot;/swagger-resources/**&quot;,\n                &quot;/configuration/ui&quot;,\n                &quot;/configuration/security&quot;,\n                &quot;/swagger-ui.html&quot;,\n                // -- Swagger UI v3 (OpenAPI) --\n                &quot;/v3/api-docs.yaml&quot;,\n                &quot;/v3/api-docs/**&quot;,\n                &quot;/swagger-ui/**&quot;);\n    }\n\n}\n</code></pre>\n<p>I know what is the problem but not able to solve , actually here I need to register <code>saml.discovery.url</code> and <code>saml.discovery.entity-id</code> and also <code>SamlProviderProvisioning&lt;ServiceProviderService&gt; provisioning</code></p>\n<p>There are so many example for Okta Auth but very few with Azure SAML .</p>\n<p>Here I am not able to implement the SSO url , whenever I am hitting the localhost it is showing the forbidden error , and also I am not sure how to make entry point for SAML for my every request , my spring boot project uses Vaadin front end. I dont know what silly mistake am I doing , I am not sure how to proceed here. How can I make create entry url and whenever I am hitting any end point it should redirect the Microsoft login page.</p>\n<p>Any lead would be appreciated Thank you !</p>\n"},{"tags":["java","firefox","jboss","ssl-certificate","keystore"],"comments":[{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":1,"creation_date":1496899931,"post_id":44426745,"comment_id":75852590,"body_markdown":"*&quot;Certificate key usage inadequate for attempted operation&quot;* - Which certificate did it fail on? CA, intermediate or server? Also see [How do you sign Certificate Signing Request with your Certification Authority](http://stackoverflow.com/a/21340898/608639) and [How to create a self-signed certificate with openssl?](http://stackoverflow.com/q/10175812/608639)","body":"<i>&quot;Certificate key usage inadequate for attempted operation&quot;</i> - Which certificate did it fail on? CA, intermediate or server? Also see <a href=\"http://stackoverflow.com/a/21340898/608639\">How do you sign Certificate Signing Request with your Certification Authority</a> and <a href=\"http://stackoverflow.com/q/10175812/608639\">How to create a self-signed certificate with openssl?</a>"},{"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"score":0,"creation_date":1496900597,"post_id":44426745,"comment_id":75852892,"body_markdown":"I think it is Server certificate. Keystore configuration in JBoss seems all fine. There are no errors shown in log on server start up.","body":"I think it is Server certificate. Keystore configuration in JBoss seems all fine. There are no errors shown in log on server start up."},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":1,"creation_date":1496900823,"post_id":44426745,"comment_id":75852975,"body_markdown":"Without seeing the full certificate and the full chain, its hard for us to tell. *KU* and *EKU* look OK on the end-entity/server certificate. There are other minor irregularities, but nothing that should cause a hard failure. Are you certain the server certificate is the problem??","body":"Without seeing the full certificate and the full chain, its hard for us to tell. <i>KU</i> and <i>EKU</i> look OK on the end-entity/server certificate. There are other minor irregularities, but nothing that should cause a hard failure. Are you certain the server certificate is the problem??"},{"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"score":0,"creation_date":1496900922,"post_id":44426745,"comment_id":75853021,"body_markdown":"Do you have any idea how can I make sure the problem is with server certificate. I did a modulus comparison of Server cert &amp; Pvt key. It matches","body":"Do you have any idea how can I make sure the problem is with server certificate. I did a modulus comparison of Server cert &amp; Pvt key. It matches"},{"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"score":0,"creation_date":1496902512,"post_id":44426745,"comment_id":75853834,"body_markdown":"@jww, Shouldn&#39;t &quot;Certificate Signing&quot; be included in key usage? This is included under KU in my previously used self signed certificate.","body":"@jww, Shouldn&#39;t &quot;Certificate Signing&quot; be included in key usage? This is included under KU in my previously used self signed certificate."},{"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"score":0,"creation_date":1496903951,"post_id":44426745,"comment_id":75854650,"body_markdown":"I have added chain certificate KU to the main description.. Can you please check","body":"I have added chain certificate KU to the main description.. Can you please check"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1496905101,"post_id":44426745,"comment_id":75855337,"body_markdown":"Please provide the entire certificate for each certificate in the chain. Start with the CA and finish with the end-entity certificate. Otherwise, reference the [CA/B Baseline Requirements](https://cabforum.org/baseline-requirements-documents/). The CA/B BR is what the browsers use for their PKI. Your certificates must conform if they are being consumed by browsers.","body":"Please provide the entire certificate for each certificate in the chain. Start with the CA and finish with the end-entity certificate. Otherwise, reference the <a href=\"https://cabforum.org/baseline-requirements-documents/\" rel=\"nofollow noreferrer\">CA/B Baseline Requirements</a>. The CA/B BR is what the browsers use for their PKI. Your certificates must conform if they are being consumed by browsers."}],"answers":[{"tags":[],"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1499245584,"creation_date":1499245584,"answer_id":44921691,"question_id":44426745,"body_markdown":"The issue with the key store was, I have imported intermediate CA certificates under different aliases. What I did was put all certificates of the chain in one certificate and executed below commands. This fixed my problem.\r\n\r\n    openssl pkcs12 -export -name ALIAS -in &quot;path to certificate bundle&quot; -inkey &quot;path to privkey&quot; -out &quot;keystore.p12&quot;\r\n    \r\n    keytool -importkeystore -srckeystore &quot;keystore.p12&quot; -srcstoretype pkcs12 -destkeystore &quot;keystore.jks&quot;","title":"Certificate key usage inadequate for attempted operation. Error code: SEC_ERROR_INADEQUATE_KEY_USAGE","body":"<p>The issue with the key store was, I have imported intermediate CA certificates under different aliases. What I did was put all certificates of the chain in one certificate and executed below commands. This fixed my problem.</p>\n\n<pre><code>openssl pkcs12 -export -name ALIAS -in \"path to certificate bundle\" -inkey \"path to privkey\" -out \"keystore.p12\"\n\nkeytool -importkeystore -srckeystore \"keystore.p12\" -srcstoretype pkcs12 -destkeystore \"keystore.jks\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13506612,"reputation":1124,"user_id":9744434,"display_name":"alanextar"},"score":6,"creation_date":1606151846,"post_id":59961969,"comment_id":114868595,"body_markdown":"Instruction how to find this file:\n&quot;You can use the button on the &quot;Help -&gt; Troubleshooting Information&quot; (about:support) page to go to the current Firefox profile folder or use the about:profiles page.&quot;","body":"Instruction how to find this file: &quot;You can use the button on the &quot;Help -&gt; Troubleshooting Information&quot; (about:support) page to go to the current Firefox profile folder or use the about:profiles page.&quot;"},{"owner":{"account_id":1548614,"reputation":2566,"user_id":1441523,"display_name":"Scott Stevens"},"score":0,"creation_date":1670114791,"post_id":59961969,"comment_id":131798534,"body_markdown":"Thanks - for me, it seems like those two files got corrupted somehow, deleting forces Firefox to re-recreate them.","body":"Thanks - for me, it seems like those two files got corrupted somehow, deleting forces Firefox to re-recreate them."}],"tags":[],"owner":{"account_id":1484326,"reputation":551,"user_id":1392886,"display_name":"ChAnDu353"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1580281373,"creation_date":1580281373,"answer_id":59961969,"question_id":44426745,"body_markdown":"Delete the cert9.db , cert_override.txt files from your firefox profile. ","title":"Certificate key usage inadequate for attempted operation. Error code: SEC_ERROR_INADEQUATE_KEY_USAGE","body":"<p>Delete the cert9.db , cert_override.txt files from your firefox profile. </p>\n"},{"comments":[{"owner":{"account_id":3852156,"reputation":143,"user_id":3192030,"accept_rate":100,"display_name":"Nicol&#225;s Lope de Barrios"},"score":0,"creation_date":1620738211,"post_id":66179271,"comment_id":119284716,"body_markdown":"Hi, I&#39;d like to try that, where is the cert9.db file located in Windows 10? Thanks","body":"Hi, I&#39;d like to try that, where is the cert9.db file located in Windows 10? Thanks"}],"tags":[],"owner":{"account_id":20701493,"reputation":1,"user_id":15200443,"display_name":"Joachim Kemmries"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613165324,"creation_date":1613165324,"answer_id":66179271,"question_id":44426745,"body_markdown":"Had the same issue with Thunderbird 78. I imported the profile from another computer where everything worked fine. Now on the new one the smtp server caused that mentioned error. Pulling emails from imap was fine, just sending caused that error message. For me the solution: close Thunderbird --- rename the file cert9.db in the root profile folder --- starting again Thunderbird and after getting a message of an untrusty cert just confirmed an exception for that one and after that action sending emails over that smtp server worked again.","title":"Certificate key usage inadequate for attempted operation. Error code: SEC_ERROR_INADEQUATE_KEY_USAGE","body":"<p>Had the same issue with Thunderbird 78. I imported the profile from another computer where everything worked fine. Now on the new one the smtp server caused that mentioned error. Pulling emails from imap was fine, just sending caused that error message. For me the solution: close Thunderbird --- rename the file cert9.db in the root profile folder --- starting again Thunderbird and after getting a message of an untrusty cert just confirmed an exception for that one and after that action sending emails over that smtp server worked again.</p>\n"}],"owner":{"account_id":420902,"reputation":1383,"user_id":798839,"accept_rate":93,"display_name":"Anu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30386,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":44921691,"answer_count":3,"score":8,"last_activity_date":1666021834,"creation_date":1496896753,"question_id":44426745,"body_markdown":"I am provided CA Signed Server certificate, chain certificate and private key. From those, I created keystore using open SSL and secured the web application (HTTPS configuration in server.xml). However, when I tried to access web application via browser(Firefox), it gives out below error.\r\n\r\n&gt; Secure Connection Failed  \r\n&gt; Certificate key usage inadequate for attempted operation. Error code: SEC_ERROR_INADEQUATE_KEY_USAGE\r\n\r\nCertificates were initially in &quot;.crt&quot; and I tried after converting them to &quot;.cer&quot; as well. Still, the error complains something about &quot;Key Usage&quot;. I ran following command to check certificate key usage and screenshot is attached.\r\n\r\n    openssl x509 -in ServerCertificate.cer -text -noout\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBelow is from Chain certificate;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYour help in resolving this issue is highly appreciated.\r\n[PS: Before configuring CA signed certificates, I created self signed certs and that configuration worked with no issue]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zT8iR.png\r\n  [2]: https://i.stack.imgur.com/rSO6T.png","title":"Certificate key usage inadequate for attempted operation. Error code: SEC_ERROR_INADEQUATE_KEY_USAGE","body":"<p>I am provided CA Signed Server certificate, chain certificate and private key. From those, I created keystore using open SSL and secured the web application (HTTPS configuration in server.xml). However, when I tried to access web application via browser(Firefox), it gives out below error.</p>\n<blockquote>\n<p>Secure Connection Failed<br />\nCertificate key usage inadequate for attempted operation. Error code: SEC_ERROR_INADEQUATE_KEY_USAGE</p>\n</blockquote>\n<p>Certificates were initially in &quot;.crt&quot; and I tried after converting them to &quot;.cer&quot; as well. Still, the error complains something about &quot;Key Usage&quot;. I ran following command to check certificate key usage and screenshot is attached.</p>\n<pre><code>openssl x509 -in ServerCertificate.cer -text -noout\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zT8iR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zT8iR.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is from Chain certificate;</p>\n<p><a href=\"https://i.stack.imgur.com/rSO6T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rSO6T.png\" alt=\"enter image description here\" /></a></p>\n<p>Your help in resolving this issue is highly appreciated.\n[PS: Before configuring CA signed certificates, I created self signed certs and that configuration worked with no issue]</p>\n"},{"tags":["java","android","configuration","android-studio"],"comments":[{"owner":{"account_id":1001782,"reputation":3026,"user_id":1016472,"accept_rate":67,"display_name":"Ralph Bergmann"},"score":0,"creation_date":1477992642,"post_id":27588787,"comment_id":67967897,"body_markdown":"Possible duplicate of [hide Intellij Idea yellow light bulb](http://stackoverflow.com/questions/16712626/hide-intellij-idea-yellow-light-bulb)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/16712626/hide-intellij-idea-yellow-light-bulb\">hide Intellij Idea yellow light bulb</a>"},{"owner":{"account_id":7248179,"reputation":1545,"user_id":5529417,"display_name":"Seth"},"score":0,"creation_date":1477992879,"post_id":27588787,"comment_id":67968011,"body_markdown":"@RalphBergmann This question is about android-studio whilst the other one is about intellij.","body":"@RalphBergmann This question is about android-studio whilst the other one is about intellij."},{"owner":{"account_id":1001782,"reputation":3026,"user_id":1016472,"accept_rate":67,"display_name":"Ralph Bergmann"},"score":0,"creation_date":1477995882,"post_id":27588787,"comment_id":67969594,"body_markdown":"@Seth Android Studio is based on IntelliJ ;-)","body":"@Seth Android Studio is based on IntelliJ ;-)"}],"answers":[{"comments":[{"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"score":0,"creation_date":1446681432,"post_id":27593044,"comment_id":54850116,"body_markdown":"Worked for me, too, thanks!  Note that as you upgrade, you&#39;ll see other directories: AndroidStudio, AndroidStudio1.2, AndroidStudio1.3, etc.  Just use the first directory without the numbers.","body":"Worked for me, too, thanks!  Note that as you upgrade, you&#39;ll see other directories: AndroidStudio, AndroidStudio1.2, AndroidStudio1.3, etc.  Just use the first directory without the numbers."},{"owner":{"account_id":311307,"reputation":11224,"user_id":624814,"accept_rate":79,"display_name":"SMBiggs"},"score":0,"creation_date":1446772453,"post_id":27593044,"comment_id":54894989,"body_markdown":"But a day later, it&#39;s back!  I checked the editor.xml file, and it still has SHOW_INTENTION_BULB set to false.  Sigh.","body":"But a day later, it&#39;s back!  I checked the editor.xml file, and it still has SHOW_INTENTION_BULB set to false.  Sigh."},{"owner":{"account_id":1077108,"reputation":7629,"user_id":1074998,"accept_rate":48,"display_name":"林果皞"},"score":0,"creation_date":1459757630,"post_id":27593044,"comment_id":60411682,"body_markdown":"Is there still working ? I can&#39;t found neither editor.xml nor `bulb` keywords in latest Android Studio Linux.","body":"Is there still working ? I can&#39;t found neither editor.xml nor <code>bulb</code> keywords in latest Android Studio Linux."},{"owner":{"account_id":4940810,"reputation":2507,"user_id":3977548,"accept_rate":73,"display_name":"Peter Graham"},"score":0,"creation_date":1555606699,"post_id":27593044,"comment_id":98177949,"body_markdown":"Show intention bulb is now a field in preferences. No need to edit the xml anymore","body":"Show intention bulb is now a field in preferences. No need to edit the xml anymore"}],"tags":[],"owner":{"account_id":1290835,"reputation":229,"user_id":1242974,"accept_rate":33,"display_name":"Brian Davis"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428517905,"creation_date":1419190860,"answer_id":27593044,"question_id":27588787,"body_markdown":"I found the answer to this question [here][1].  Basically, to disable the feature you have to manually edit the editor.xml and change `SHOW_INTENTION_BULB` from `true` to `false`.  The editor settings are located here:\r\n\r\nThe file is located at:\r\n\r\n - On OS X: `~/Library/Preferences/&lt;PRODUCT&gt;/options/editor.xml`\r\n - On Windows: `%HOMEPATH%\\.&lt;PRODUCT&gt;\\config\\options\\editor.xml`\r\n - On Linux: `~/.&lt;PRODUCT&gt;/config/options/editor.xml`\r\n\r\n&amp;lt;PRODUCT&gt; for me was AndroidStudio.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16712626/hide-intellij-idea-yellow-light-bulb","title":"Disable lightbulb in Android Studio&#39;s Java editor","body":"<p>I found the answer to this question <a href=\"https://stackoverflow.com/questions/16712626/hide-intellij-idea-yellow-light-bulb\">here</a>.  Basically, to disable the feature you have to manually edit the editor.xml and change <code>SHOW_INTENTION_BULB</code> from <code>true</code> to <code>false</code>.  The editor settings are located here:</p>\n\n<p>The file is located at:</p>\n\n<ul>\n<li>On OS X: <code>~/Library/Preferences/&lt;PRODUCT&gt;/options/editor.xml</code></li>\n<li>On Windows: <code>%HOMEPATH%\\.&lt;PRODUCT&gt;\\config\\options\\editor.xml</code></li>\n<li>On Linux: <code>~/.&lt;PRODUCT&gt;/config/options/editor.xml</code></li>\n</ul>\n\n<p>&lt;PRODUCT> for me was AndroidStudio.</p>\n"},{"comments":[{"owner":{"account_id":1290835,"reputation":229,"user_id":1242974,"accept_rate":33,"display_name":"Brian Davis"},"score":0,"creation_date":1444848275,"post_id":33093414,"comment_id":54077922,"body_markdown":"Thanks for this answer.  I actually haven&#39;t used Android Studio for quite some time as the project I was working on was unfortunately short-lived.","body":"Thanks for this answer.  I actually haven&#39;t used Android Studio for quite some time as the project I was working on was unfortunately short-lived."}],"tags":[],"owner":{"account_id":5407971,"reputation":293,"user_id":4305810,"display_name":"ChrisA"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1444705395,"creation_date":1444705395,"answer_id":33093414,"question_id":27588787,"body_markdown":"These are called &quot;Intentions&quot; in Android Studio. You can either disable them one at a time or groups of them. The settings can be found in:\r\n\r\nFile &gt; Settings &gt; Editor &gt; Intentions\r\n\r\nI personally don&#39;t like any helpers of any kind when developing. I simply unchecked everything and clicked OK.","title":"Disable lightbulb in Android Studio&#39;s Java editor","body":"<p>These are called \"Intentions\" in Android Studio. You can either disable them one at a time or groups of them. The settings can be found in:</p>\n\n<p>File > Settings > Editor > Intentions</p>\n\n<p>I personally don't like any helpers of any kind when developing. I simply unchecked everything and clicked OK.</p>\n"},{"tags":[],"owner":{"account_id":21665095,"reputation":91,"user_id":15983629,"display_name":"Andrew Kornovan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666021319,"creation_date":1666021319,"answer_id":74099797,"question_id":27588787,"body_markdown":"The easiest way so far:\r\nIn the Settings of Android Studio search for &quot;bulb&quot;.\r\nYou&#39;ll find &quot;Show intention bulb&quot; check-box.","title":"Disable lightbulb in Android Studio&#39;s Java editor","body":"<p>The easiest way so far:\nIn the Settings of Android Studio search for &quot;bulb&quot;.\nYou'll find &quot;Show intention bulb&quot; check-box.</p>\n"}],"owner":{"account_id":1290835,"reputation":229,"user_id":1242974,"accept_rate":33,"display_name":"Brian Davis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1485,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1666021319,"creation_date":1419160155,"question_id":27588787,"body_markdown":"I just installed Android Studio and have begun the process of configuring the editor to my taste. However, I cannot for the life of me find an option to disable the little light bulb that appears in the left margin a second after clicking a line of text.\r\n\r\n[edit] I&#39;ve only noticed this in the java editor, so I edited the subject line to help indicate that.\r\n\r\nDoes anyone know how this feature can be disabled?\r\n","title":"Disable lightbulb in Android Studio&#39;s Java editor","body":"<p>I just installed Android Studio and have begun the process of configuring the editor to my taste. However, I cannot for the life of me find an option to disable the little light bulb that appears in the left margin a second after clicking a line of text.</p>\n\n<p>[edit] I've only noticed this in the java editor, so I edited the subject line to help indicate that.</p>\n\n<p>Does anyone know how this feature can be disabled?</p>\n"},{"tags":["java","multithreading","udp","p2p","gossip"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666021309,"creation_date":1666021309,"answer_id":74099795,"question_id":74097508,"body_markdown":"Your code is not complete, but my guess is that `peerSocket` is the same `DatagranSocket` in both threads?  \r\n\r\nIf so, the `receiveSearchMessage` thread is liable to be consuming messages that you are wanting `receiveResponseMessage` to consume.\r\n\r\nSome possible ways to handle this are:\r\n\r\n  - have two distinct sockets listening on different ports, OR \r\n  - have a single thread that receives all messages, works out what that they are and hands them off to other threads to process, OR\r\n  - have a single thread that receives and processes all message.\r\n\r\nUnfortunately, your problem description is rather unclear and it is therefore difficult to work out which (if any) of the above is a correct solution.\r\n\r\nHowever, if you have two threads receiving from the same socket with no kind of coordination, you can never be sure that the right threads will get the right messages.  So what you are currently doing is wrong ... assuming they are both using the same port.","title":"Java | Socket timeout behavior not properly working for multithreading","body":"<p>Your code is not complete, but my guess is that <code>peerSocket</code> is the same <code>DatagranSocket</code> in both threads?</p>\n<p>If so, the <code>receiveSearchMessage</code> thread is liable to be consuming messages that you are wanting <code>receiveResponseMessage</code> to consume.</p>\n<p>Some possible ways to handle this are:</p>\n<ul>\n<li>have two distinct sockets listening on different ports, OR</li>\n<li>have a single thread that receives all messages, works out what that they are and hands them off to other threads to process, OR</li>\n<li>have a single thread that receives and processes all message.</li>\n</ul>\n<p>Unfortunately, your problem description is rather unclear and it is therefore difficult to work out which (if any) of the above is a correct solution.</p>\n<p>However, if you have two threads receiving from the same socket with no kind of coordination, you can never be sure that the right threads will get the right messages.  So what you are currently doing is wrong ... assuming they are both using the same port.</p>\n"}],"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666021309,"creation_date":1666010720,"question_id":74097508,"body_markdown":"I am developing a simple gossip udp system for a college project where end users should first initialize their own peer network configuration (ip:port) and also set up the network configuration for two neighbours. Only afterwards they are able to search for a specific file present within the system.\r\n\r\nThere are two kinds of messages exchanged between these peers: **SEARCH** messages which represent a forwarded request from the original peer to another until the requested file is found or all peers are reached. **RESPONSE** messages which represent when a file from a specific request is found and should be forwarded directly to the original requestor.\r\n\r\nThere are two threads to handle the exchange of messages between each peer. One should constantly be on the lookout for any incoming **SEARCH** messages and **runs right after the user initializes their own peer and their neighbours&#39; network configuration**, while the other should lookout only **once** for an incoming **RESPONSE** message and **runs right after the user enters the name of the requested file to be searched for**. This latter should also includes a **timeout feature** if there is no response for **ten seconds**.\r\n\r\nEven though both are similar, to fulfill the timeout behavior I have tried to create two isolated threads, one to continuously receive any incoming **SEARCH** messages and the other to run just once to receive only one incoming **RESPONSE** message.\r\n\r\nThe issue happens when the timeout feature comes into play. I have tried using **peerSocket.setSoTimeout(10000)** into the **RESPONSE** thread and it gets stuck there and doesn&#39;t move on to the next line.\r\n\r\nHowever, strange enough, when I move this exact method within the **SEARCH** thread, it works fine. I really don&#39;t know if this has to do with the fact that both are using the same socket.\r\n\r\nI would really appreciate some advice into this.\r\n\r\n**SEARCH THREAD:**\r\n\r\n    public static class receiveSearchMessage extends Thread {\r\n            public void run() {\r\n                // Repeats the operation...\r\n                while (true) {\r\n\r\n                    //Packet generation\r\n                    Gson gson = new Gson();\r\n    \r\n                    byte[] recBuffer = new byte[1024];\r\n    \r\n                    DatagramPacket recPkt = new DatagramPacket(recBuffer, recBuffer.length);\r\n    \r\n                    //Awaiting for any incoming search messages from other peers\r\n                    try {\r\n                        peerSocket.receive(recPkt);\r\n                    } catch (IOException e) {\r\n                        // TODO Auto-generated catch block\r\n                        e.printStackTrace();\r\n                    }\r\n    \r\n                    String msg = new String(recPkt.getData(), recPkt.getOffset(), recPkt.getLength());\r\n    \r\n                    receivedMessage = gson.fromJson(msg, Message.class);\r\n                }\r\n            }\r\n        }\r\n\r\n**RESPONSE THREAD:**\r\n\r\n    public static class receiveResponseMessage extends Thread {\r\n            public void run() {\r\n                Gson gson = new Gson();\r\n    \r\n                byte[] recBuffer = new byte[1024];\r\n    \r\n                DatagramPacket recPkt = new DatagramPacket(recBuffer, recBuffer.length);\r\n    \r\n                //Awaiting for an incoming response message from other peer\r\n                try {\r\n                    peerSocket.setSoTimeout(10000);\r\n                    peerSocket.receive(recPkt);\r\n                    peerSocket.setSoTimeout(0);\r\n                } catch (SocketTimeoutException e) {\r\n                    System.out.println(&quot;No one in the system has the file [&quot; + fileName + &quot;]&quot;);\r\n                    return;\r\n                } catch (IOException e) {\r\n                    // TODO Auto-generated catch block\r\n                    e.printStackTrace();\r\n                } \r\n    \r\n                String msg = new String(recPkt.getData(), recPkt.getOffset(), recPkt.getLength());\r\n    \r\n                receivedMessage = gson.fromJson(msg, Message.class);\r\n    \r\n            }\r\n        }","title":"Java | Socket timeout behavior not properly working for multithreading","body":"<p>I am developing a simple gossip udp system for a college project where end users should first initialize their own peer network configuration (ip:port) and also set up the network configuration for two neighbours. Only afterwards they are able to search for a specific file present within the system.</p>\n<p>There are two kinds of messages exchanged between these peers: <strong>SEARCH</strong> messages which represent a forwarded request from the original peer to another until the requested file is found or all peers are reached. <strong>RESPONSE</strong> messages which represent when a file from a specific request is found and should be forwarded directly to the original requestor.</p>\n<p>There are two threads to handle the exchange of messages between each peer. One should constantly be on the lookout for any incoming <strong>SEARCH</strong> messages and <strong>runs right after the user initializes their own peer and their neighbours' network configuration</strong>, while the other should lookout only <strong>once</strong> for an incoming <strong>RESPONSE</strong> message and <strong>runs right after the user enters the name of the requested file to be searched for</strong>. This latter should also includes a <strong>timeout feature</strong> if there is no response for <strong>ten seconds</strong>.</p>\n<p>Even though both are similar, to fulfill the timeout behavior I have tried to create two isolated threads, one to continuously receive any incoming <strong>SEARCH</strong> messages and the other to run just once to receive only one incoming <strong>RESPONSE</strong> message.</p>\n<p>The issue happens when the timeout feature comes into play. I have tried using <strong>peerSocket.setSoTimeout(10000)</strong> into the <strong>RESPONSE</strong> thread and it gets stuck there and doesn't move on to the next line.</p>\n<p>However, strange enough, when I move this exact method within the <strong>SEARCH</strong> thread, it works fine. I really don't know if this has to do with the fact that both are using the same socket.</p>\n<p>I would really appreciate some advice into this.</p>\n<p><strong>SEARCH THREAD:</strong></p>\n<pre><code>public static class receiveSearchMessage extends Thread {\n        public void run() {\n            // Repeats the operation...\n            while (true) {\n\n                //Packet generation\n                Gson gson = new Gson();\n\n                byte[] recBuffer = new byte[1024];\n\n                DatagramPacket recPkt = new DatagramPacket(recBuffer, recBuffer.length);\n\n                //Awaiting for any incoming search messages from other peers\n                try {\n                    peerSocket.receive(recPkt);\n                } catch (IOException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n\n                String msg = new String(recPkt.getData(), recPkt.getOffset(), recPkt.getLength());\n\n                receivedMessage = gson.fromJson(msg, Message.class);\n            }\n        }\n    }\n</code></pre>\n<p><strong>RESPONSE THREAD:</strong></p>\n<pre><code>public static class receiveResponseMessage extends Thread {\n        public void run() {\n            Gson gson = new Gson();\n\n            byte[] recBuffer = new byte[1024];\n\n            DatagramPacket recPkt = new DatagramPacket(recBuffer, recBuffer.length);\n\n            //Awaiting for an incoming response message from other peer\n            try {\n                peerSocket.setSoTimeout(10000);\n                peerSocket.receive(recPkt);\n                peerSocket.setSoTimeout(0);\n            } catch (SocketTimeoutException e) {\n                System.out.println(&quot;No one in the system has the file [&quot; + fileName + &quot;]&quot;);\n                return;\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            } \n\n            String msg = new String(recPkt.getData(), recPkt.getOffset(), recPkt.getLength());\n\n            receivedMessage = gson.fromJson(msg, Message.class);\n\n        }\n    }\n</code></pre>\n"},{"tags":["javascript","java","ajax","csrf","struts-1"],"answers":[{"comments":[{"owner":{"account_id":24880569,"reputation":1,"user_id":18753833,"display_name":"Re Viki"},"score":0,"creation_date":1666021263,"post_id":73896558,"comment_id":130830967,"body_markdown":"Hello @Aleksa i already have implemented it for both request `GET`, `POST`, what I&#39;m looking for is a proper way of doing it on `GET` request, without displaying token in `URL` or in a `source` of the application.","body":"Hello @Aleksa i already have implemented it for both request <code>GET</code>, <code>POST</code>, what I&#39;m looking for is a proper way of doing it on <code>GET</code> request, without displaying token in <code>URL</code> or in a <code>source</code> of the application."}],"tags":[],"owner":{"account_id":13743231,"reputation":677,"user_id":9917714,"display_name":"Aleksa Majkic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664458856,"creation_date":1664458856,"answer_id":73896558,"question_id":73895949,"body_markdown":"Your protection mechanism will depend on your authentication type. For stateful authentication you could implement JWT. If you only use authentication via Bearer tokens and not via cookies then CSRF vulnerability shouldn&#39;t be a problem.\r\n\r\nIf you want stateless authentication, then you will be prone to CSRF even with JWT token. You will need an information that isn&#39;t included in a cookie, some CSRF mitigation mechanism, for example you could use a CSRF token.","title":"Enable CSRF protection on GET request","body":"<p>Your protection mechanism will depend on your authentication type. For stateful authentication you could implement JWT. If you only use authentication via Bearer tokens and not via cookies then CSRF vulnerability shouldn't be a problem.</p>\n<p>If you want stateless authentication, then you will be prone to CSRF even with JWT token. You will need an information that isn't included in a cookie, some CSRF mitigation mechanism, for example you could use a CSRF token.</p>\n"}],"owner":{"account_id":24880569,"reputation":1,"user_id":18753833,"display_name":"Re Viki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666021106,"creation_date":1664456222,"question_id":73895949,"body_markdown":"I would like to know is there any proper way to enable CSRF protection on all `GET` request&#39;s of the application? at the moment I have implemented it on all `POST` request using `javax.servlet.Filter` and then enabling it inside the `JSP`&#39;s `POST` methods hidden fields like this\r\n`&lt;input type=&quot;hidden&quot; name=&quot;csrf-token&quot; value=&quot;${my_csrf_token}&quot; /&gt;`\r\n\r\nDid same for GET requests as well, appending the token to parameters like this\r\n\r\n    $.ajax({\r\n\t\t\t\t\turl: &quot;${pageContext.request.contextPath}/Someprocess.do&quot;,\r\n\t\t\t\t\ttype: &quot;GET&quot;,\r\n\t\t\t\t\tdata: {param1: request.param1, param2: &quot;param2&quot;, csrf_token: &quot;${CSRF_TOKEN}&quot;},\r\n\t\t\t\t\tdataType: &quot;json&quot;,\r\n\t\t\t\t\tsuccess: function (data) {\r\n\t\t\t\t\t\tresponse(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\nbut it gets displayed in URL\r\n\r\n`domain?params=params&amp;csrf_token=token`\r\n\r\nwould much appreciate good hints.  ","title":"Enable CSRF protection on GET request","body":"<p>I would like to know is there any proper way to enable CSRF protection on all <code>GET</code> request's of the application? at the moment I have implemented it on all <code>POST</code> request using <code>javax.servlet.Filter</code> and then enabling it inside the <code>JSP</code>'s <code>POST</code> methods hidden fields like this\n<code>&lt;input type=&quot;hidden&quot; name=&quot;csrf-token&quot; value=&quot;${my_csrf_token}&quot; /&gt;</code></p>\n<p>Did same for GET requests as well, appending the token to parameters like this</p>\n<pre><code>$.ajax({\n                url: &quot;${pageContext.request.contextPath}/Someprocess.do&quot;,\n                type: &quot;GET&quot;,\n                data: {param1: request.param1, param2: &quot;param2&quot;, csrf_token: &quot;${CSRF_TOKEN}&quot;},\n                dataType: &quot;json&quot;,\n                success: function (data) {\n                    response(data);\n                }\n            });\n</code></pre>\n<p>but it gets displayed in URL</p>\n<p><code>domain?params=params&amp;csrf_token=token</code></p>\n<p>would much appreciate good hints.</p>\n"},{"tags":["java","ssl","wso2","wso2-esb"],"comments":[{"owner":{"account_id":5075311,"reputation":2992,"user_id":4072843,"display_name":"Castaglia"},"score":1,"creation_date":1456458564,"post_id":35641773,"comment_id":58967157,"body_markdown":"The `https.protocols` property is used by `HttpsUrlConnection`, but it looks, from the stacktrace, that the ESB code is using Apache&#39;s `HttpClient` (which does not honor `https.protocols`); see this post for a related discussion: http://stackoverflow.com/q/26429751/4072843","body":"The <code>https.protocols</code> property is used by <code>HttpsUrlConnection</code>, but it looks, from the stacktrace, that the ESB code is using Apache&#39;s <code>HttpClient</code> (which does not honor <code>https.protocols</code>); see this post for a related discussion: <a href=\"http://stackoverflow.com/q/26429751/4072843\">stackoverflow.com/q/26429751/4072843</a>"},{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1456458971,"post_id":35641773,"comment_id":58967277,"body_markdown":"I see. So an &quot;alternative&quot; for Apache&#39;s client remains unknown.","body":"I see. So an &quot;alternative&quot; for Apache&#39;s client remains unknown."},{"owner":{"account_id":5075311,"reputation":2992,"user_id":4072843,"display_name":"Castaglia"},"score":0,"creation_date":1456459141,"post_id":35641773,"comment_id":58967319,"body_markdown":"Using Java 7, yes.  *If* you _could_ upgrade to Java 8, then you would be able to use the &quot;jdk.tls.client.protocols&quot; system property that was [added as a security enhancement](https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html).","body":"Using Java 7, yes.  <i>If</i> you <i>could</i> upgrade to Java 8, then you would be able to use the &quot;jdk.tls.client.protocols&quot; system property that was <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/enhancements-8.html\" rel=\"nofollow noreferrer\">added as a security enhancement</a>."},{"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"score":0,"creation_date":1456459458,"post_id":35641773,"comment_id":58967416,"body_markdown":"I have tested with java 8 and it works, but it also causes problems with another components of the ESB.","body":"I have tested with java 8 and it works, but it also causes problems with another components of the ESB."},{"owner":{"account_id":4374011,"reputation":1391,"user_id":3567488,"accept_rate":71,"display_name":"Jenananthan"},"score":2,"creation_date":1467610355,"post_id":35641773,"comment_id":63782032,"body_markdown":"This has been identified as bug[1] and fixed in ESB 4.9.0.Contact the wso2 support team ,they may have patch for ESB 4.6.0. or try to upgrade to java 8 and set following  jdk.tls.client.protocols=TLSv1.2 in java.security.\n\n[1]https://wso2.org/jira/browse/ESBJAVA-3644","body":"This has been identified as bug[1] and fixed in ESB 4.9.0.Contact the wso2 support team ,they may have patch for ESB 4.6.0. or try to upgrade to java 8 and set following  jdk.tls.client.protocols=TLSv1.2 in java.security.  [1]<a href=\"https://wso2.org/jira/browse/ESBJAVA-3644\" rel=\"nofollow noreferrer\">wso2.org/jira/browse/ESBJAVA-3644</a>"}],"answers":[{"tags":[],"owner":{"account_id":26078278,"reputation":46,"user_id":19776908,"display_name":"Scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666020795,"creation_date":1666020795,"answer_id":74099700,"question_id":35641773,"body_markdown":"This issue is old enough that the best answer now would be to please use the [latest version of API Manager][1] with Micro Integrator to [achieve this goal of using TLS1.2][2]. You&#39;ll also want to [disable weak ciphers][3].\r\n\r\nBy the way, the suggested update to ESB 4.9.1 is no longer valid since ESB 4.9 was discontinued [Sep 10, 2019][4].\r\n\r\n\r\n  [1]: https://wso2.com/api-manager/\r\n  [2]: https://ei.docs.wso2.com/en/7.0.0/micro-integrator/setup/transport_configurations/configuring-transports/#configuring-transport-level-security\r\n  [3]: https://ei.docs.wso2.com/en/7.0.0/micro-integrator/setup/transport_configurations/configuring-transports/#disabling-weak-ciphers\r\n  [4]: https://wso2.com/products/support-matrix/","title":"Apache HttpClient handshake failure with TLSv1.2","body":"<p>This issue is old enough that the best answer now would be to please use the <a href=\"https://wso2.com/api-manager/\" rel=\"nofollow noreferrer\">latest version of API Manager</a> with Micro Integrator to <a href=\"https://ei.docs.wso2.com/en/7.0.0/micro-integrator/setup/transport_configurations/configuring-transports/#configuring-transport-level-security\" rel=\"nofollow noreferrer\">achieve this goal of using TLS1.2</a>. You'll also want to <a href=\"https://ei.docs.wso2.com/en/7.0.0/micro-integrator/setup/transport_configurations/configuring-transports/#disabling-weak-ciphers\" rel=\"nofollow noreferrer\">disable weak ciphers</a>.</p>\n<p>By the way, the suggested update to ESB 4.9.1 is no longer valid since ESB 4.9 was discontinued <a href=\"https://wso2.com/products/support-matrix/\" rel=\"nofollow noreferrer\">Sep 10, 2019</a>.</p>\n"}],"owner":{"account_id":153578,"reputation":15120,"user_id":368926,"accept_rate":63,"display_name":"elias"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7414,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1666020795,"creation_date":1456450325,"question_id":35641773,"body_markdown":"First of all, I&#39;ll explain the scenario.\r\n\r\nI have a WSO2 ESB-4.6.0 (that uses Apache&#39;s HttpClient) running with  `jdk1.7.0_79`, and my goal is to call an external secure service that only accepts `TLSv1.2` protocol, without to update the Java to the version 8.  \r\nThe external server directives are:\r\n\r\n    Supported versions: TLSv1.2\r\n    Deflate compression: no\r\n    Supported cipher suites (ORDER IS NOT SIGNIFICANT):\r\n      TLSv1.2\r\n         RSA_WITH_3DES_EDE_CBC_SHA\r\n         DHE_RSA_WITH_3DES_EDE_CBC_SHA\r\n         RSA_WITH_AES_128_CBC_SHA\r\n         DHE_RSA_WITH_AES_128_CBC_SHA\r\n         RSA_WITH_AES_256_CBC_SHA\r\n         DHE_RSA_WITH_AES_256_CBC_SHA\r\n         RSA_WITH_AES_128_CBC_SHA256\r\n         RSA_WITH_AES_256_CBC_SHA256\r\n         RSA_WITH_CAMELLIA_128_CBC_SHA\r\n         DHE_RSA_WITH_CAMELLIA_128_CBC_SHA\r\n         DHE_RSA_WITH_AES_128_CBC_SHA256\r\n         DHE_RSA_WITH_AES_256_CBC_SHA256\r\n         RSA_WITH_CAMELLIA_256_CBC_SHA\r\n         DHE_RSA_WITH_CAMELLIA_256_CBC_SHA\r\n         TLS_RSA_WITH_AES_128_GCM_SHA256\r\n         TLS_RSA_WITH_AES_256_GCM_SHA384\r\n         TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\r\n         TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\r\n         TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\r\n         TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\r\n         TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\r\n         TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n         TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\r\n         TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n         TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\r\n    ----------------------\r\n    Minimal encryption strength:     strong encryption (96-bit or more)\r\n    Achievable encryption strength:  strong encryption (96-bit or more)\r\n    BEAST status: protected\r\n    CRIME status: protected\r\n\r\nSo, building and calling a simple proxy, which have an endpoint poiting to this service, results in:\r\n\r\n    Using SSLEngineImpl.\r\n    Allow unsafe renegotiation: false\r\n    Allow legacy hello messages: true\r\n    Is initial handshake: true\r\n    Is secure renegotiation: false\r\n    HTTPS-Sender I/O dispatcher-1, fatal error: 40: Couldn&#39;t kickstart handshaking\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    HTTPS-Sender I/O dispatcher-1, SEND TLSv1 ALERT:  fatal, description = handshake_failure\r\n    HTTPS-Sender I/O dispatcher-1, WRITE: TLSv1 Alert, length = 2\r\n    [2016-02-25 22:15:12,689] ERROR - TargetHandler I/O error: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n            at sun.security.ssl.Handshaker.activate(Handshaker.java:470)\r\n            at sun.security.ssl.SSLEngineImpl.kickstartHandshake(SSLEngineImpl.java:714)\r\n            at sun.security.ssl.SSLEngineImpl.beginHandshake(SSLEngineImpl.java:740)\r\n            at org.apache.http.impl.nio.reactor.SSLIOSession.bind(SSLIOSession.java:141)\r\n            at org.apache.http.impl.nio.ssl.SSLClientIOEventDispatch.connected(SSLClientIOEventDispatch.java:205)\r\n            at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionCreated(BaseIOReactor.java:250)\r\n            at org.apache.http.impl.nio.reactor.AbstractIOReactor.processNewChannels(AbstractIOReactor.java:425)\r\n            at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:289)\r\n            at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n            at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:542)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nAt this point, my first thought was to find a way to &quot;configure&quot; the Java 7 to work with this. So, I did build a simple webservice client class with Eclipse (using `javax.xml.soap.SOAPConnectionFactory`) and run it with the same JVM that the ESB uses. As expected, same error!  \r\nHowever, I edited the `jre/lib/security/java.security` file and found this parameters that makes the call work:\r\n\r\n    java MyClientClass -Dhttps.protocols=TLSv1.2 -Dhttps.cipherSuites=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n\r\nAfter all this, I thought the same parameters applied to the ESB should work. But the two parameters above and the others below, in many different combinations, not make it happen, having the same exception as before.\r\n\r\n    ./wso2server.sh -Ddeployment.security.SSLv3=false \\\r\n                    -Ddeployment.security.TLSv1=false \\\r\n                    -Ddeployment.security.TLSv1.1=false \\\r\n                    -Ddeployment.security.TLSv1.2=true \\\r\n                    -Dhttps.protocols=TLSv1.2 \\\r\n                    -Dhttps.cipherSuites=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\r\n\r\nWhy the ESB, with the same JVM and the same arguments does not works, and `MyClientClass ` do? The problem is in Apache&#39;s http-core implementation (as stack trace points)? I made some mistake or this parameters are simply ignored?\r\n\r\nThe HttpCore version is 4.1.3.","title":"Apache HttpClient handshake failure with TLSv1.2","body":"<p>First of all, I'll explain the scenario.</p>\n\n<p>I have a WSO2 ESB-4.6.0 (that uses Apache's HttpClient) running with  <code>jdk1.7.0_79</code>, and my goal is to call an external secure service that only accepts <code>TLSv1.2</code> protocol, without to update the Java to the version 8.<br>\nThe external server directives are:</p>\n\n<pre><code>Supported versions: TLSv1.2\nDeflate compression: no\nSupported cipher suites (ORDER IS NOT SIGNIFICANT):\n  TLSv1.2\n     RSA_WITH_3DES_EDE_CBC_SHA\n     DHE_RSA_WITH_3DES_EDE_CBC_SHA\n     RSA_WITH_AES_128_CBC_SHA\n     DHE_RSA_WITH_AES_128_CBC_SHA\n     RSA_WITH_AES_256_CBC_SHA\n     DHE_RSA_WITH_AES_256_CBC_SHA\n     RSA_WITH_AES_128_CBC_SHA256\n     RSA_WITH_AES_256_CBC_SHA256\n     RSA_WITH_CAMELLIA_128_CBC_SHA\n     DHE_RSA_WITH_CAMELLIA_128_CBC_SHA\n     DHE_RSA_WITH_AES_128_CBC_SHA256\n     DHE_RSA_WITH_AES_256_CBC_SHA256\n     RSA_WITH_CAMELLIA_256_CBC_SHA\n     DHE_RSA_WITH_CAMELLIA_256_CBC_SHA\n     TLS_RSA_WITH_AES_128_GCM_SHA256\n     TLS_RSA_WITH_AES_256_GCM_SHA384\n     TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\n     TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\n     TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA\n     TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n     TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA\n     TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n     TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\n     TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n     TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\n----------------------\nMinimal encryption strength:     strong encryption (96-bit or more)\nAchievable encryption strength:  strong encryption (96-bit or more)\nBEAST status: protected\nCRIME status: protected\n</code></pre>\n\n<p>So, building and calling a simple proxy, which have an endpoint poiting to this service, results in:</p>\n\n<pre><code>Using SSLEngineImpl.\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nHTTPS-Sender I/O dispatcher-1, fatal error: 40: Couldn't kickstart handshaking\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nHTTPS-Sender I/O dispatcher-1, SEND TLSv1 ALERT:  fatal, description = handshake_failure\nHTTPS-Sender I/O dispatcher-1, WRITE: TLSv1 Alert, length = 2\n[2016-02-25 22:15:12,689] ERROR - TargetHandler I/O error: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n        at sun.security.ssl.Handshaker.activate(Handshaker.java:470)\n        at sun.security.ssl.SSLEngineImpl.kickstartHandshake(SSLEngineImpl.java:714)\n        at sun.security.ssl.SSLEngineImpl.beginHandshake(SSLEngineImpl.java:740)\n        at org.apache.http.impl.nio.reactor.SSLIOSession.bind(SSLIOSession.java:141)\n        at org.apache.http.impl.nio.ssl.SSLClientIOEventDispatch.connected(SSLClientIOEventDispatch.java:205)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionCreated(BaseIOReactor.java:250)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processNewChannels(AbstractIOReactor.java:425)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:289)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:542)\n        at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>At this point, my first thought was to find a way to \"configure\" the Java 7 to work with this. So, I did build a simple webservice client class with Eclipse (using <code>javax.xml.soap.SOAPConnectionFactory</code>) and run it with the same JVM that the ESB uses. As expected, same error!<br>\nHowever, I edited the <code>jre/lib/security/java.security</code> file and found this parameters that makes the call work:</p>\n\n<pre><code>java MyClientClass -Dhttps.protocols=TLSv1.2 -Dhttps.cipherSuites=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n</code></pre>\n\n<p>After all this, I thought the same parameters applied to the ESB should work. But the two parameters above and the others below, in many different combinations, not make it happen, having the same exception as before.</p>\n\n<pre><code>./wso2server.sh -Ddeployment.security.SSLv3=false \\\n                -Ddeployment.security.TLSv1=false \\\n                -Ddeployment.security.TLSv1.1=false \\\n                -Ddeployment.security.TLSv1.2=true \\\n                -Dhttps.protocols=TLSv1.2 \\\n                -Dhttps.cipherSuites=TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\n</code></pre>\n\n<p>Why the ESB, with the same JVM and the same arguments does not works, and <code>MyClientClass</code> do? The problem is in Apache's http-core implementation (as stack trace points)? I made some mistake or this parameters are simply ignored?</p>\n\n<p>The HttpCore version is 4.1.3.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1666012829,"post_id":74097733,"comment_id":130827587,"body_markdown":"Hard to say, since you don&#39;t show us the code handling the exceptions. What does the catch block look like?","body":"Hard to say, since you don&#39;t show us the code handling the exceptions. What does the catch block look like?"},{"owner":{"account_id":12916388,"reputation":137,"user_id":9340501,"display_name":"bobier2"},"score":0,"creation_date":1666013613,"post_id":74097733,"comment_id":130827908,"body_markdown":"It is up to the user of project A to catch the exceptions the way he wants. If you wants to know the kind of exceptions that can occur, it it basically common exceptions such as NullPointerException or failed Http request (Error 500 for example).","body":"It is up to the user of project A to catch the exceptions the way he wants. If you wants to know the kind of exceptions that can occur, it it basically common exceptions such as NullPointerException or failed Http request (Error 500 for example)."}],"answers":[{"tags":[],"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666020710,"creation_date":1666020710,"answer_id":74099682,"question_id":74097733,"body_markdown":"Just my two cents, but as I started typing it in a comment it became too long:\r\n\r\n* Throwing `Exception` doesn&#39;t provide any useful information, what do you do in the catch part of your API method? You always have to handle all exceptions and/or re-throw them.\r\n* The proper way of handling exceptions has to be done in the implementation part (Project B):\r\n  * Is the information not useful or can/should be handled Project B? Handle it (via a retry mechanism or providing a meaningful default value, e.g. user not found in session =&gt; return an `UnknownUser` object or `null`).\r\n  * Is the information useful for Project A? Define a project specific exception, e.g. `UserNotFoundException` and throw that one. Then Project A can handle that specific case. \r\n* You don&#39;t need to define the RuntimeExceptions as they are bubbling up the call stack until Project A anyway (if not handled/catched before in Project B), but yes they are also children of `Exception`.","title":"Catching Exception in API to handle all possible exceptions occuring in implementation?","body":"<p>Just my two cents, but as I started typing it in a comment it became too long:</p>\n<ul>\n<li>Throwing <code>Exception</code> doesn't provide any useful information, what do you do in the catch part of your API method? You always have to handle all exceptions and/or re-throw them.</li>\n<li>The proper way of handling exceptions has to be done in the implementation part (Project B):\n<ul>\n<li>Is the information not useful or can/should be handled Project B? Handle it (via a retry mechanism or providing a meaningful default value, e.g. user not found in session =&gt; return an <code>UnknownUser</code> object or <code>null</code>).</li>\n<li>Is the information useful for Project A? Define a project specific exception, e.g. <code>UserNotFoundException</code> and throw that one. Then Project A can handle that specific case.</li>\n</ul>\n</li>\n<li>You don't need to define the RuntimeExceptions as they are bubbling up the call stack until Project A anyway (if not handled/catched before in Project B), but yes they are also children of <code>Exception</code>.</li>\n</ul>\n"}],"owner":{"account_id":12916388,"reputation":137,"user_id":9340501,"display_name":"bobier2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666020710,"creation_date":1666011705,"question_id":74097733,"body_markdown":"Let say I have 2 projects A (API), and B (implementation).\r\nMy sonar-lint tells me I should never throw Exception because it is too generic. So, what should be the proper way to handle any kinds of exceptions in the API, including both runtime and &quot;checked&quot; exceptions ?\r\n\r\nProject A\r\n\r\n    public interface IBuilder {\r\n\t    public void create() throws Exception;\r\n    }\r\n\r\nProject B\r\n\r\n    public abstract class ABuilder implements IBuilder {\r\n\t    public void create() throws Exception {\r\n\t\t    throw myImplException();\r\n\t    }\r\n    }\r\n    \r\n    public class ARealBuilder extends ABuilder {\r\n\t    public void create() throws Exception {\r\n\t\t    //Some Exceptions and RunTimeExceptions can occurs\r\n\t    }\r\n    }\r\n\r\nIf I create my own exception type like this:\r\n\r\n    public class myException extends Exception {\r\n    }\r\n\r\nDoes this handle RuntimeExceptions ?","title":"Catching Exception in API to handle all possible exceptions occuring in implementation?","body":"<p>Let say I have 2 projects A (API), and B (implementation).\nMy sonar-lint tells me I should never throw Exception because it is too generic. So, what should be the proper way to handle any kinds of exceptions in the API, including both runtime and &quot;checked&quot; exceptions ?</p>\n<p>Project A</p>\n<pre><code>public interface IBuilder {\n    public void create() throws Exception;\n}\n</code></pre>\n<p>Project B</p>\n<pre><code>public abstract class ABuilder implements IBuilder {\n    public void create() throws Exception {\n        throw myImplException();\n    }\n}\n\npublic class ARealBuilder extends ABuilder {\n    public void create() throws Exception {\n        //Some Exceptions and RunTimeExceptions can occurs\n    }\n}\n</code></pre>\n<p>If I create my own exception type like this:</p>\n<pre><code>public class myException extends Exception {\n}\n</code></pre>\n<p>Does this handle RuntimeExceptions ?</p>\n"},{"tags":["java","concurrency","executorservice"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664922785,"post_id":73954106,"comment_id":130579740,"body_markdown":"besides waiting on the results from more than one thread, which is the only way I can think of to wait for different amounts of times at the same time, there&#39;s probably at least a better way using two compound futures from `CompletableFuture.allOf` where you wait on the results sequentially but after submitting all your callables to the executor service(s) (your sample only uses executor1 btw). Also consider if there is really a reason to give one set of tasks only 2 seconds to complete when you will wait for 3 more seconds anyways on another set of tasks.","body":"besides waiting on the results from more than one thread, which is the only way I can think of to wait for different amounts of times at the same time, there&#39;s probably at least a better way using two compound futures from <code>CompletableFuture.allOf</code> where you wait on the results sequentially but after submitting all your callables to the executor service(s) (your sample only uses executor1 btw). Also consider if there is really a reason to give one set of tasks only 2 seconds to complete when you will wait for 3 more seconds anyways on another set of tasks."},{"owner":{"account_id":13426937,"reputation":13,"user_id":9687973,"display_name":"Gunther"},"score":0,"creation_date":1664926160,"post_id":73954106,"comment_id":130580214,"body_markdown":"(Using executor1 for both is a typo). I&#39;m trying wait for results from two threads but there I still have to wait for both to finish (with awaitTermination()).\n\n5 and 2 is made up, my original difference is 5 seconds(each counts)\nI&#39;ll read about &quot;CompletableFuture.allOf&quot;, and continue to look for options. Thanks","body":"(Using executor1 for both is a typo). I&#39;m trying wait for results from two threads but there I still have to wait for both to finish (with awaitTermination()).  5 and 2 is made up, my original difference is 5 seconds(each counts) I&#39;ll read about &quot;CompletableFuture.allOf&quot;, and continue to look for options. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":13426937,"reputation":13,"user_id":9687973,"display_name":"Gunther"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666020237,"creation_date":1666020237,"answer_id":74099569,"question_id":73954106,"body_markdown":"The solution I ended up with was waiting for the results from two threads.\r\nAlso instead of creating two threads for each call I ended up using another executorService to reuse the threads \r\n\r\nShortened version(doesn&#39;t run, modify to run):\r\n\r\n    ExecutorService executorService1 = Executors.newFixedThreadPool(5);\r\n    ExecutorService executorService2 = Executors.newFixedThreadPool(2);\r\n    \r\n    List&lt;Callable&lt;String&gt;&gt; callableTasks1 = new ArrayList(3 callables);\r\n    List&lt;Callable&lt;String&gt;&gt; callableTasks2 = new ArrayList(2 callables);\r\n    \r\n    List&lt;Callable&lt;Object&gt;&gt; callableObjectFutures = executorService2.invokeAll(\r\n    () -&gt; {executorService1.invokeAll(invokeAll(callableTasks1, 5, TimeUnit.Seconds);},\r\n    () -&gt; {executorService1.invokeAll(invokeAll(callableTasks2, 2, TimeUnit.Seconds);}\r\n    );\r\n\r\n    List&lt;Future&lt;String&gt;&gt; completed = callableObjectFutures.get(0).get();\r\n    completed.addAll(callableObjectFutures.get(1).get());","title":"How to run two ExecutorService invokeAll() in parallel?","body":"<p>The solution I ended up with was waiting for the results from two threads.\nAlso instead of creating two threads for each call I ended up using another executorService to reuse the threads</p>\n<p>Shortened version(doesn't run, modify to run):</p>\n<pre><code>ExecutorService executorService1 = Executors.newFixedThreadPool(5);\nExecutorService executorService2 = Executors.newFixedThreadPool(2);\n\nList&lt;Callable&lt;String&gt;&gt; callableTasks1 = new ArrayList(3 callables);\nList&lt;Callable&lt;String&gt;&gt; callableTasks2 = new ArrayList(2 callables);\n\nList&lt;Callable&lt;Object&gt;&gt; callableObjectFutures = executorService2.invokeAll(\n() -&gt; {executorService1.invokeAll(invokeAll(callableTasks1, 5, TimeUnit.Seconds);},\n() -&gt; {executorService1.invokeAll(invokeAll(callableTasks2, 2, TimeUnit.Seconds);}\n);\n\nList&lt;Future&lt;String&gt;&gt; completed = callableObjectFutures.get(0).get();\ncompleted.addAll(callableObjectFutures.get(1).get());\n</code></pre>\n"}],"owner":{"account_id":13426937,"reputation":13,"user_id":9687973,"display_name":"Gunther"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74099569,"answer_count":1,"score":1,"last_activity_date":1666020237,"creation_date":1664921637,"question_id":73954106,"body_markdown":"TLDR: I want to submit two lists of callables at the same time, but different timeout \r\n\r\n_____________________________________________________________________\r\nIs there a way or the best alternative to running two invokeAll() commands at the same time with different timeouts?\r\n\r\nEx of blocking:\r\n```\r\nExecutorService executorService1 = Executors.newFixedThreadPool(2);\r\nExecutorService executorService2 = Executors.newFixedThreadPool(2);\r\n\r\nList&lt;Callable&lt;String&gt;&gt; callableTasks1;\r\nList&lt;Callable&lt;String&gt;&gt; callableTasks2;\r\n\r\nList&lt;Future&lt;String&gt;&gt; completed;\r\n\r\ncompleted = executorService1.invokeAll(callableTasks1, 5, TimeUnit.Seconds);\r\ncompleted.addAll(executorService1.invokeAll(callableTasks2, 2, TimeUnit.Seconds));\r\n```\r\n\r\n```\r\nfor(Future&lt;String&gt; s: completed) {\r\n    if(s.isCancelled()) {\r\n        System.out.println(&quot;It&#39;s cancelled&quot;);\r\n    } else {\r\n       try {\r\n         System.out.println(&quot;Got it: &quot; + s.get());\r\n       } \r\n       catch(...) {\r\n        ...\r\n       }\r\n    }\r\n}\r\n```\r\nSubmitting each task in a for loop: \r\nexecutorService1.submit(task) and calling task.get(5, TimeUnit.Seconds) \r\nseems to be running in sequence.","title":"How to run two ExecutorService invokeAll() in parallel?","body":"<p>TLDR: I want to submit two lists of callables at the same time, but different timeout</p>\n<hr />\n<p>Is there a way or the best alternative to running two invokeAll() commands at the same time with different timeouts?</p>\n<p>Ex of blocking:</p>\n<pre><code>ExecutorService executorService1 = Executors.newFixedThreadPool(2);\nExecutorService executorService2 = Executors.newFixedThreadPool(2);\n\nList&lt;Callable&lt;String&gt;&gt; callableTasks1;\nList&lt;Callable&lt;String&gt;&gt; callableTasks2;\n\nList&lt;Future&lt;String&gt;&gt; completed;\n\ncompleted = executorService1.invokeAll(callableTasks1, 5, TimeUnit.Seconds);\ncompleted.addAll(executorService1.invokeAll(callableTasks2, 2, TimeUnit.Seconds));\n</code></pre>\n<pre><code>for(Future&lt;String&gt; s: completed) {\n    if(s.isCancelled()) {\n        System.out.println(&quot;It's cancelled&quot;);\n    } else {\n       try {\n         System.out.println(&quot;Got it: &quot; + s.get());\n       } \n       catch(...) {\n        ...\n       }\n    }\n}\n</code></pre>\n<p>Submitting each task in a for loop:\nexecutorService1.submit(task) and calling task.get(5, TimeUnit.Seconds)\nseems to be running in sequence.</p>\n"},{"tags":["java","multidimensional-array","processing"],"comments":[{"owner":{"account_id":21286432,"reputation":76,"user_id":15664021,"display_name":"w3_"},"score":0,"creation_date":1666020289,"post_id":74099292,"comment_id":130830551,"body_markdown":"Okay so i changed ```int [][] newBoard = {};``` to ```int [][] newBoard = new int[boardSize][boardSize];``` so if boardSize is 3 it would be a array with 3 sub arrays and in these arrays will be 3 items right?","body":"Okay so i changed <code>int [][] newBoard = {};</code> to <code>int [][] newBoard = new int[boardSize][boardSize];</code> so if boardSize is 3 it would be a array with 3 sub arrays and in these arrays will be 3 items right?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1666020450,"post_id":74099292,"comment_id":130830615,"body_markdown":"Array indexes in Java are zero based, so for a three element array, indexes are 0, 1 and 2. Your error message says you are trying to access element with index = 3. Refer to: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html","body":"Array indexes in Java are zero based, so for a three element array, indexes are 0, 1 and 2. Your error message says you are trying to access element with index = 3. Refer to: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":21286432,"reputation":76,"user_id":15664021,"display_name":"w3_"},"score":0,"creation_date":1666022174,"post_id":74099292,"comment_id":130831356,"body_markdown":"Ahh that makes sense, i should have known that my bad haha, anyways that was the issue, thanks for ur help @Abra","body":"Ahh that makes sense, i should have known that my bad haha, anyways that was the issue, thanks for ur help @Abra"}],"owner":{"account_id":21286432,"reputation":76,"user_id":15664021,"display_name":"w3_"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666020208,"creation_date":1666019093,"question_id":74099292,"body_markdown":"Well im learning processing and i have experience with javascript etc but i have an issue\r\n\r\n```\r\nint [][] generateNewBoard(int boardSize) {\r\n  int [][] newBoard = new int[boardSize][boardSize];\r\n  \r\n    for (int x = 0; x &lt; boardSize*3; x++) {\r\n      for (int y = 0; y &lt; boardSize*3; y++) {\r\n       if (x &lt; boardSize &amp;&amp; y &lt; boardSize) {\r\n        newBoard[y][x] = 0;\r\n       } else if (x &lt; boardSize*2 &amp;&amp; y &lt; boardSize*2) {\r\n         newBoard[y][x] = 1;\r\n       } else {\r\n         newBoard[y][x] = 0;\r\n       }\r\n    }\r\n  }\r\n\r\n  \r\n  return newBoard;\r\n}\r\n```\r\n\r\ni want this to generate this:\r\n```\r\n{\r\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\r\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\r\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\r\n    {1, 1, 1, 1, 1, 1, 1, 1, 1},\r\n    {1, 1, 1, 1, 2, 1, 1, 1, 1},\r\n    {1, 1, 1, 1, 1, 1, 1, 1, 1},\r\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\r\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\r\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\r\n}\r\n```\r\n\r\nIn javascript it would be newBoard[y][x] = 0; but it seems like processing does not like that because i get an error saying &quot;java.lang.reflect.InvocationTargetException&quot; and i tried many variations but cant really find a solution so im seeking ur help!\r\n\r\nAny feedback is welcome!\r\n\r\nEdit: full error message for stack trace\r\n\r\n```\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat processing.core.PApplet.runSketch(PApplet.java:10168)\r\n\t... 1 more\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\r\n\tat Solitaire.generateNewBoard(Solitaire.java:77)\r\n\tat Solitaire.&lt;init&gt;(Solitaire.java:29)\r\n\t... 7 more\r\nRuntimeException: java.lang.reflect.InvocationTargetException\r\n```","title":"Processing generate multidimensional array","body":"<p>Well im learning processing and i have experience with javascript etc but i have an issue</p>\n<pre><code>int [][] generateNewBoard(int boardSize) {\n  int [][] newBoard = new int[boardSize][boardSize];\n  \n    for (int x = 0; x &lt; boardSize*3; x++) {\n      for (int y = 0; y &lt; boardSize*3; y++) {\n       if (x &lt; boardSize &amp;&amp; y &lt; boardSize) {\n        newBoard[y][x] = 0;\n       } else if (x &lt; boardSize*2 &amp;&amp; y &lt; boardSize*2) {\n         newBoard[y][x] = 1;\n       } else {\n         newBoard[y][x] = 0;\n       }\n    }\n  }\n\n  \n  return newBoard;\n}\n</code></pre>\n<p>i want this to generate this:</p>\n<pre><code>{\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\n    {1, 1, 1, 1, 1, 1, 1, 1, 1},\n    {1, 1, 1, 1, 2, 1, 1, 1, 1},\n    {1, 1, 1, 1, 1, 1, 1, 1, 1},\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\n    {0, 0, 0, 1, 1, 1, 0, 0, 0},\n}\n</code></pre>\n<p>In javascript it would be newBoard[y][x] = 0; but it seems like processing does not like that because i get an error saying &quot;java.lang.reflect.InvocationTargetException&quot; and i tried many variations but cant really find a solution so im seeking ur help!</p>\n<p>Any feedback is welcome!</p>\n<p>Edit: full error message for stack trace</p>\n<pre><code>Caused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at processing.core.PApplet.runSketch(PApplet.java:10168)\n    ... 1 more\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3\n    at Solitaire.generateNewBoard(Solitaire.java:77)\n    at Solitaire.&lt;init&gt;(Solitaire.java:29)\n    ... 7 more\nRuntimeException: java.lang.reflect.InvocationTargetException\n</code></pre>\n"},{"tags":["java","stanford-nlp"],"comments":[{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1666023812,"post_id":74096145,"comment_id":130831998,"body_markdown":"How are you building and running your project? What maven commands have you used?","body":"How are you building and running your project? What maven commands have you used?"},{"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"score":0,"creation_date":1666024281,"post_id":74096145,"comment_id":130832192,"body_markdown":"I simply [built a fat jar](https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven) from your example and then ran: `java -cp ./target/* your.package.name.SentimentAnalysis`. The code compiled and executed normally.","body":"I simply <a href=\"https://stackoverflow.com/questions/16222748/building-a-fat-jar-using-maven\">built a fat jar</a> from your example and then ran: <code>java -cp .&#47;target&#47;* your.package.name.SentimentAnalysis</code>. The code compiled and executed normally."}],"owner":{"account_id":26647713,"reputation":1,"user_id":20262445,"display_name":"jakoboo1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666020157,"creation_date":1666003918,"question_id":74096145,"body_markdown":"I wanted to get started with the StanfordCorenlp library in Java. I added the edu.stanford.nlp.corenlp:4.4.0 library with the correct dependencies to the project. After that I wrote a simple program that should display the sentiment of a couple of sentences.  I made two classes: Pipeline and SentimentAnalysis. \r\n\r\n**Pipeline class:**\r\n\r\n    public class Pipeline {\r\n    \r\n        private static Properties properties;\r\n        private static String propertiesName = &quot;tokenize, ssplit, pos, lemma, ner&quot;;\r\n        private static StanfordCoreNLP stanfordCoreNLP;\r\n    \r\n        private Pipeline() { }\r\n    \r\n        static {\r\n            properties = new Properties();\r\n            properties.setProperty(&quot;annotators&quot;, propertiesName);\r\n        }\r\n    \r\n        public static StanfordCoreNLP getPipeline(){\r\n            if (stanfordCoreNLP == null){\r\n                stanfordCoreNLP = new StanfordCoreNLP(properties);\r\n            }\r\n            return stanfordCoreNLP;\r\n        }\r\n    }\r\n\r\n**SentimentAnalysis class:**\r\n\r\n   \r\n\r\n     public class SentimentAnlysis {\r\n        \r\n            public static void main(String[] args) {\r\n        \r\n                StanfordCoreNLP stanfordCoreNLP = Pipeline.getPipeline();\r\n        \r\n                String text = &quot;Hello i hate this shit. My name is Johnson&quot;;\r\n        \r\n                CoreDocument coreDocument = new CoreDocument(text);\r\n        \r\n                stanfordCoreNLP.annotate(coreDocument);\r\n        \r\n                List&lt;CoreSentence&gt; sentences = coreDocument.sentences();\r\n        \r\n                for (CoreSentence sentence : sentences){\r\n        \r\n                    String sentiment = sentence.sentiment();\r\n        \r\n                    System.out.println(sentiment + &quot;\\t&quot; + sentence);\r\n        \r\n                }\r\n            }\r\n        }\r\n\r\n**pom.xml**\r\n \r\n\r\n       &lt;dependency&gt;\r\n                    &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.4.0&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.4.0&lt;/version&gt;\r\n                    &lt;classifier&gt;models&lt;/classifier&gt;\r\n                &lt;/dependency&gt;\r\n\r\n\r\nWhen i run my code i get the following error.\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; edu.stanford.nlp.io.RuntimeIOException: Error while loading a tagger model (probably missing model file)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.readModelAndInit(MaxentTagger.java:798)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.(MaxentTagger.java:322)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.(MaxentTagger.java:275)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.POSTaggerAnnotator.loadModel(POSTaggerAnnotator.java:85)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.POSTaggerAnnotator.(POSTaggerAnnotator.java:73)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.AnnotatorImplementations.posTagger(AnnotatorImplementations.java:75)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$getNamedAnnotators$6(StanfordCoreNLP.java:566)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$constructAnnotatorPool$33(StanfordCoreNLP.java:647)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.util.Lazy$3.compute(Lazy.java:126)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.util.Lazy.get(Lazy.java:31)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.AnnotatorPool.get(AnnotatorPool.java:149)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.(StanfordCoreNLP.java:278)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.(StanfordCoreNLP.java:194)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.(StanfordCoreNLP.java:190)\r\nat com.example.oefenenstanford/com.example.oefenenstanford.Pipeline.getPipeline(Pipeline.java:22)\r\nat com.example.oefenenstanford/com.example.oefenenstanford.SentimentAnlysis.main(SentimentAnlysis.java:13)\r\nCaused by: java.io.IOException: Unable to open &quot;edu/stanford/nlp/models/pos-tagger/english-left3words-distsim.tagger&quot; as class path, filename or URL\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.io.IOUtils.getInputStreamFromURLOrClasspathOrFileSystem(IOUtils.java:501)\r\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.readModelAndInit(MaxentTagger.java:795)\r\n```\r\n\r\nI have no idea what is causing this problem.","title":"java.io.IOException: Unable to open &quot;edu/stanford/nlp/models/pos-tagger/english-left3words-distsim.tagger&quot; as class path, filename or URL","body":"<p>I wanted to get started with the StanfordCorenlp library in Java. I added the edu.stanford.nlp.corenlp:4.4.0 library with the correct dependencies to the project. After that I wrote a simple program that should display the sentiment of a couple of sentences.  I made two classes: Pipeline and SentimentAnalysis.</p>\n<p><strong>Pipeline class:</strong></p>\n<pre><code>public class Pipeline {\n\n    private static Properties properties;\n    private static String propertiesName = &quot;tokenize, ssplit, pos, lemma, ner&quot;;\n    private static StanfordCoreNLP stanfordCoreNLP;\n\n    private Pipeline() { }\n\n    static {\n        properties = new Properties();\n        properties.setProperty(&quot;annotators&quot;, propertiesName);\n    }\n\n    public static StanfordCoreNLP getPipeline(){\n        if (stanfordCoreNLP == null){\n            stanfordCoreNLP = new StanfordCoreNLP(properties);\n        }\n        return stanfordCoreNLP;\n    }\n}\n</code></pre>\n<p><strong>SentimentAnalysis class:</strong></p>\n<pre><code> public class SentimentAnlysis {\n    \n        public static void main(String[] args) {\n    \n            StanfordCoreNLP stanfordCoreNLP = Pipeline.getPipeline();\n    \n            String text = &quot;Hello i hate this shit. My name is Johnson&quot;;\n    \n            CoreDocument coreDocument = new CoreDocument(text);\n    \n            stanfordCoreNLP.annotate(coreDocument);\n    \n            List&lt;CoreSentence&gt; sentences = coreDocument.sentences();\n    \n            for (CoreSentence sentence : sentences){\n    \n                String sentiment = sentence.sentiment();\n    \n                System.out.println(sentiment + &quot;\\t&quot; + sentence);\n    \n            }\n        }\n    }\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>   &lt;dependency&gt;\n                &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\n                &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\n                &lt;version&gt;4.4.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;edu.stanford.nlp&lt;/groupId&gt;\n                &lt;artifactId&gt;stanford-corenlp&lt;/artifactId&gt;\n                &lt;version&gt;4.4.0&lt;/version&gt;\n                &lt;classifier&gt;models&lt;/classifier&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>When i run my code i get the following error.</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; edu.stanford.nlp.io.RuntimeIOException: Error while loading a tagger model (probably missing model file)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.readModelAndInit(MaxentTagger.java:798)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.(MaxentTagger.java:322)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.(MaxentTagger.java:275)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.POSTaggerAnnotator.loadModel(POSTaggerAnnotator.java:85)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.POSTaggerAnnotator.(POSTaggerAnnotator.java:73)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.AnnotatorImplementations.posTagger(AnnotatorImplementations.java:75)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$getNamedAnnotators$6(StanfordCoreNLP.java:566)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.lambda$constructAnnotatorPool$33(StanfordCoreNLP.java:647)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.util.Lazy$3.compute(Lazy.java:126)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.util.Lazy.get(Lazy.java:31)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.AnnotatorPool.get(AnnotatorPool.java:149)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.(StanfordCoreNLP.java:278)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.(StanfordCoreNLP.java:194)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.pipeline.StanfordCoreNLP.(StanfordCoreNLP.java:190)\nat com.example.oefenenstanford/com.example.oefenenstanford.Pipeline.getPipeline(Pipeline.java:22)\nat com.example.oefenenstanford/com.example.oefenenstanford.SentimentAnlysis.main(SentimentAnlysis.java:13)\nCaused by: java.io.IOException: Unable to open &quot;edu/stanford/nlp/models/pos-tagger/english-left3words-distsim.tagger&quot; as class path, filename or URL\nat stanford.corenlp@4.4.0/edu.stanford.nlp.io.IOUtils.getInputStreamFromURLOrClasspathOrFileSystem(IOUtils.java:501)\nat stanford.corenlp@4.4.0/edu.stanford.nlp.tagger.maxent.MaxentTagger.readModelAndInit(MaxentTagger.java:795)\n</code></pre>\n<p>I have no idea what is causing this problem.</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666019929,"creation_date":1666004677,"answer_id":74096286,"question_id":74094666,"body_markdown":"That is due to the fact that by using `*` as pattern for the URI of endpoints to mock, you also include your *from* endpoint `direct:start` which implies that it is mocked too consequently the message is not transmitted to the rest of the route, therefore `mock:jpa:Data` doesn&#39;t receive any message. \r\n\r\nUse a more specific pattern that matches only with your *to* endpoint like `jpa:Data`.\r\n\r\nFYI, you can simplify your code by leveraging existing methods such as `replaceRouteFromWith` and `isMockEndpointsAndSkip` as next:\r\n\r\n```\r\n@Override\r\n@BeforeEach\r\npublic void setUp() throws Exception {\r\n    // The new from endpoint for the route &quot;testId&quot;\r\n    replaceRouteFromWith(&quot;testId&quot;, &quot;direct:start&quot;);\r\n    super.setUp();\r\n}\r\n\r\n@Override\r\nprotected RoutesBuilder createRouteBuilder() throws Exception {\r\n    return new TestRoute();\r\n}\r\n\r\n@Override\r\npublic String isMockEndpointsAndSkip() {\r\n    // The pattern of the URI of endpoints to mock \r\n    return &quot;jpa:Data&quot;;\r\n}\r\n\r\n@Test\r\nvoid testRoute() throws Exception {\r\n    MockEndpoint mockEndpoint = getMockEndpoint(&quot;mock:jpa:Data&quot;)\r\n    mockEndpoint.expectedMessageCount(1);\r\n\r\n    var data = getSomeTestData();\r\n    template.sendBody(&quot;direct:start&quot;, data);\r\n    mockEndpoint.assertIsSatisfied();\r\n}\r\n```","title":"Apache Camel test with mockEndpointsAndSkip() is not receiving messages, but weaveById().replace().to() is","body":"<p>That is due to the fact that by using <code>*</code> as pattern for the URI of endpoints to mock, you also include your <em>from</em> endpoint <code>direct:start</code> which implies that it is mocked too consequently the message is not transmitted to the rest of the route, therefore <code>mock:jpa:Data</code> doesn't receive any message.</p>\n<p>Use a more specific pattern that matches only with your <em>to</em> endpoint like <code>jpa:Data</code>.</p>\n<p>FYI, you can simplify your code by leveraging existing methods such as <code>replaceRouteFromWith</code> and <code>isMockEndpointsAndSkip</code> as next:</p>\n<pre><code>@Override\n@BeforeEach\npublic void setUp() throws Exception {\n    // The new from endpoint for the route &quot;testId&quot;\n    replaceRouteFromWith(&quot;testId&quot;, &quot;direct:start&quot;);\n    super.setUp();\n}\n\n@Override\nprotected RoutesBuilder createRouteBuilder() throws Exception {\n    return new TestRoute();\n}\n\n@Override\npublic String isMockEndpointsAndSkip() {\n    // The pattern of the URI of endpoints to mock \n    return &quot;jpa:Data&quot;;\n}\n\n@Test\nvoid testRoute() throws Exception {\n    MockEndpoint mockEndpoint = getMockEndpoint(&quot;mock:jpa:Data&quot;)\n    mockEndpoint.expectedMessageCount(1);\n\n    var data = getSomeTestData();\n    template.sendBody(&quot;direct:start&quot;, data);\n    mockEndpoint.assertIsSatisfied();\n}\n</code></pre>\n"}],"owner":{"account_id":17459269,"reputation":136,"user_id":12657338,"display_name":"Noel93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74096286,"answer_count":1,"score":1,"last_activity_date":1666019929,"creation_date":1665996387,"question_id":74094666,"body_markdown":"I tried unit testing Apache Camel and I started out with a real basic case where my route looks like that:\r\n\r\n```\r\npublic class TestRoute extends RouteBuilder {\r\n\r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\tfrom(&quot;jpa:Data&quot;).to(&quot;jpa:Data&quot;).id(&quot;testId&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nNow the following approach didn&#39;t work. I tried mocking all endpoints, however I&#39;m getting ```mock://jpa:Data Received message count. Expected: &lt;1&gt; but was: &lt;0&gt;```\r\n\r\n\r\n```\r\npublic class RouteTest extends CamelTestSupport {\r\n\t@Override\r\n\t@BeforeEach\r\n\tpublic void setUp() throws Exception {\r\n\t\tsuper.setUp();\r\n\t}\r\n\r\n\t@Override\r\n\tprotected RoutesBuilder createRouteBuilder() throws Exception {\r\n\t\treturn new TestRoute();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean isUseAdviceWith() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t@Test\r\n\tvoid testRoute() throws Exception {\r\n\t\tAdviceWith.adviceWith(context, null, false, a -&gt; {\r\n\t\t\ta.replaceFromWith(&quot;direct:start&quot;);\r\n\t\t\ta.mockEndpointsAndSkip(&quot;*&quot;);\r\n\t\t});\r\n\t\tcontext.start();\r\n        // The false here makes sure that I get an exception if I&#39;m using a name \r\n        // of a nonexistent mocked endpoint, so that shouldn&#39;t be the problem here\r\n\t\tgetMockEndpoint(&quot;mock:jpa:Data&quot;, false).expectedMessageCount(1);\r\n\r\n\t\tvar data = getSomeTestData();\r\n\t\ttemplate.sendBody(&quot;direct:start&quot;, data);\r\n\t\tassertMockEndpointsSatisfied();\r\n\t}\r\n}\r\n```\r\n\r\nA workaround I found is replacing ```a.mockEndpointsAndSkip(&quot;*&quot;);``` with ```a.weaveById(&quot;testId&quot;).replace().to(&quot;mock:jpa:Data&quot;);```. However I&#39;m unsure what&#39;s the difference in this case, considering ```mockEndpointsAndSkip``` should also replace all endpoints with a mocked version. It would be a bit troublesome to replace ALL endpoints in a real scenario manually.","title":"Apache Camel test with mockEndpointsAndSkip() is not receiving messages, but weaveById().replace().to() is","body":"<p>I tried unit testing Apache Camel and I started out with a real basic case where my route looks like that:</p>\n<pre><code>public class TestRoute extends RouteBuilder {\n\n    @Override\n    public void configure() throws Exception {\n        from(&quot;jpa:Data&quot;).to(&quot;jpa:Data&quot;).id(&quot;testId&quot;);\n    }\n}\n</code></pre>\n<p>Now the following approach didn't work. I tried mocking all endpoints, however I'm getting <code>mock://jpa:Data Received message count. Expected: &lt;1&gt; but was: &lt;0&gt;</code></p>\n<pre><code>public class RouteTest extends CamelTestSupport {\n    @Override\n    @BeforeEach\n    public void setUp() throws Exception {\n        super.setUp();\n    }\n\n    @Override\n    protected RoutesBuilder createRouteBuilder() throws Exception {\n        return new TestRoute();\n    }\n\n    @Override\n    public boolean isUseAdviceWith() {\n        return true;\n    }\n\n    @Test\n    void testRoute() throws Exception {\n        AdviceWith.adviceWith(context, null, false, a -&gt; {\n            a.replaceFromWith(&quot;direct:start&quot;);\n            a.mockEndpointsAndSkip(&quot;*&quot;);\n        });\n        context.start();\n        // The false here makes sure that I get an exception if I'm using a name \n        // of a nonexistent mocked endpoint, so that shouldn't be the problem here\n        getMockEndpoint(&quot;mock:jpa:Data&quot;, false).expectedMessageCount(1);\n\n        var data = getSomeTestData();\n        template.sendBody(&quot;direct:start&quot;, data);\n        assertMockEndpointsSatisfied();\n    }\n}\n</code></pre>\n<p>A workaround I found is replacing <code>a.mockEndpointsAndSkip(&quot;*&quot;);</code> with <code>a.weaveById(&quot;testId&quot;).replace().to(&quot;mock:jpa:Data&quot;);</code>. However I'm unsure what's the difference in this case, considering <code>mockEndpointsAndSkip</code> should also replace all endpoints with a mocked version. It would be a bit troublesome to replace ALL endpoints in a real scenario manually.</p>\n"},{"tags":["java","permissions","google-admin-sdk","google-directory-api"],"comments":[{"owner":{"account_id":23932132,"reputation":2051,"user_id":17926478,"display_name":"Lorena Gomez"},"score":0,"creation_date":1666204999,"post_id":73746336,"comment_id":130883065,"body_markdown":"If [this](https://stackoverflow.com/a/74099446/17926478) answered your question, please click the accept button on the left (check icon). By doing so, other people in the community, who may have the same concern as you, will know that theirs can be resolved. If the accept button is unavailable to you, feel free to tell me. [How to accept answer](https://stackoverflow.com/help/accepted-answer)","body":"If <a href=\"https://stackoverflow.com/a/74099446/17926478\">this</a> answered your question, please click the accept button on the left (check icon). By doing so, other people in the community, who may have the same concern as you, will know that theirs can be resolved. If the accept button is unavailable to you, feel free to tell me. <a href=\"https://stackoverflow.com/help/accepted-answer\">How to accept answer</a>"}],"answers":[{"comments":[{"owner":{"account_id":26344164,"reputation":23,"user_id":20002812,"display_name":"Stefano"},"score":0,"creation_date":1666944861,"post_id":74099446,"comment_id":131058945,"body_markdown":"Hi Lorena, I have asked to my admin to grant permission to the service account, but it doesn&#39;t work. I have read in some docs that It can take up to 24 hours for new roles to take effect, but the 24 hourse already passed...","body":"Hi Lorena, I have asked to my admin to grant permission to the service account, but it doesn&#39;t work. I have read in some docs that It can take up to 24 hours for new roles to take effect, but the 24 hourse already passed..."},{"owner":{"account_id":23932132,"reputation":2051,"user_id":17926478,"display_name":"Lorena Gomez"},"score":0,"creation_date":1666964612,"post_id":74099446,"comment_id":131065409,"body_markdown":"@Stefano what exactly are you trying to do with the service account? Do you get any errors? Please share more details so I can help in a better way.","body":"@Stefano what exactly are you trying to do with the service account? Do you get any errors? Please share more details so I can help in a better way."},{"owner":{"account_id":26344164,"reputation":23,"user_id":20002812,"display_name":"Stefano"},"score":0,"creation_date":1667404441,"post_id":74099446,"comment_id":131160203,"body_markdown":"Hi Lorena, it works now! Really, the cloud took days (so more than 24 hours) before the new authorization was acquired by the service account","body":"Hi Lorena, it works now! Really, the cloud took days (so more than 24 hours) before the new authorization was acquired by the service account"}],"tags":[],"owner":{"account_id":23932132,"reputation":2051,"user_id":17926478,"display_name":"Lorena Gomez"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666019759,"creation_date":1666019759,"answer_id":74099446,"question_id":73746336,"body_markdown":"Depending on what you need, you can assign a Super Admin role and it will have access to all features in the Admin console and Admin SDK or in this case if you only want the user to be able to use the method [users.list](https://developers.google.com/admin-sdk/directory/reference/rest/v1/users/list) then you can [create a custom role](https://support.google.com/a/answer/2406043?topic=2785005&amp;ctx=topic) and grant the [privileges](https://support.google.com/a/answer/1219251?#zippy=%2Cadmin-api) you need. For example you can assign the  `Users &gt; Read` privilege and the user should be able to use this method.\r\n\r\n**References:**\r\n\r\n[Directory API: Prerequisites](https://developers.google.com/admin-sdk/directory/v1/guides/prerequisites)","title":"Directory API Java users.list permissions","body":"<p>Depending on what you need, you can assign a Super Admin role and it will have access to all features in the Admin console and Admin SDK or in this case if you only want the user to be able to use the method <a href=\"https://developers.google.com/admin-sdk/directory/reference/rest/v1/users/list\" rel=\"nofollow noreferrer\">users.list</a> then you can <a href=\"https://support.google.com/a/answer/2406043?topic=2785005&amp;ctx=topic\" rel=\"nofollow noreferrer\">create a custom role</a> and grant the <a href=\"https://support.google.com/a/answer/1219251?#zippy=%2Cadmin-api\" rel=\"nofollow noreferrer\">privileges</a> you need. For example you can assign the  <code>Users &gt; Read</code> privilege and the user should be able to use this method.</p>\n<p><strong>References:</strong></p>\n<p><a href=\"https://developers.google.com/admin-sdk/directory/v1/guides/prerequisites\" rel=\"nofollow noreferrer\">Directory API: Prerequisites</a></p>\n"}],"owner":{"account_id":26344164,"reputation":23,"user_id":20002812,"display_name":"Stefano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74099446,"answer_count":1,"score":2,"last_activity_date":1666019759,"creation_date":1663338463,"question_id":73746336,"body_markdown":"please, anyone could tell me which permissions I should grant a user or service account to be able to access &quot;Admin SDK Directory API&quot; and use users.list method?\r\nThanks in advance. \r\nStefano","title":"Directory API Java users.list permissions","body":"<p>please, anyone could tell me which permissions I should grant a user or service account to be able to access &quot;Admin SDK Directory API&quot; and use users.list method?\nThanks in advance.\nStefano</p>\n"},{"tags":["java","ssl","wso2","ssl-certificate","wso2-api-manager"],"comments":[{"owner":{"account_id":152400,"reputation":240448,"user_id":366904,"accept_rate":82,"display_name":"Cody Gray - on strike"},"score":1,"creation_date":1663903046,"post_id":34841899,"comment_id":130353512,"body_markdown":"There was an answer posted here that many people seemed to find useful. Unfortunately, it was plagiarized with insufficient attribution, so it had to be deleted. The source it copied from was: https://nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/","body":"There was an answer posted here that many people seemed to find useful. Unfortunately, it was plagiarized with insufficient attribution, so it had to be deleted. The source it copied from was: <a href=\"https://nakov.com/blog/2009/07/16/disable-certificate-validation-in-java-ssl-connections/\" rel=\"nofollow noreferrer\">nakov.com/blog/2009/07/16/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26078278,"reputation":46,"user_id":19776908,"display_name":"Scott"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666019424,"creation_date":1666019424,"answer_id":74099365,"question_id":34841899,"body_markdown":"[API Manager 1.9.1 Support EOL Date][1] was Aug 31, 2019, so if you haven&#39;t I strongly suggest you update to the latest version.\r\n\r\nNormally you&#39;ll want to use http if you want the insecure address. In WSO2 https is configured to be secure and you can import the backend client certificate into the client trust store file using these the directions on [Adding SSL Certificates to keystrokes][2] page. \r\n\r\nYou may also find the [Configure Keystores][3] page to be of assistance.\r\n\r\nCalling an HTTPS endpoint in an insecure way can lead to security vulnerabilities and is not a best practice.\r\n\r\nBest of luck on your adventure!\r\n\r\n\r\n  [1]: https://wso2.com/products/support-matrix/\r\n  [2]: https://apim.docs.wso2.com/en/latest/install-and-setup/setup/mi-setup/security/importing_ssl_certificate/https://apim.docs.wso2.com/en/latest/install-and-setup/setup/mi-setup/security/importing_ssl_certificate/\r\n  [3]: https://apim.docs.wso2.com/en/latest/install-and-setup/setup/mi-setup/security/configuring_keystores/","title":"java.security.cert.CertificateException: No subject alternative names present;","body":"<p><a href=\"https://wso2.com/products/support-matrix/\" rel=\"nofollow noreferrer\">API Manager 1.9.1 Support EOL Date</a> was Aug 31, 2019, so if you haven't I strongly suggest you update to the latest version.</p>\n<p>Normally you'll want to use http if you want the insecure address. In WSO2 https is configured to be secure and you can import the backend client certificate into the client trust store file using these the directions on <a href=\"https://apim.docs.wso2.com/en/latest/install-and-setup/setup/mi-setup/security/importing_ssl_certificate/https://apim.docs.wso2.com/en/latest/install-and-setup/setup/mi-setup/security/importing_ssl_certificate/\" rel=\"nofollow noreferrer\">Adding SSL Certificates to keystrokes</a> page.</p>\n<p>You may also find the <a href=\"https://apim.docs.wso2.com/en/latest/install-and-setup/setup/mi-setup/security/configuring_keystores/\" rel=\"nofollow noreferrer\">Configure Keystores</a> page to be of assistance.</p>\n<p>Calling an HTTPS endpoint in an insecure way can lead to security vulnerabilities and is not a best practice.</p>\n<p>Best of luck on your adventure!</p>\n"}],"owner":{"display_name":"user5707585"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14847,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1666019424,"creation_date":1453054784,"question_id":34841899,"body_markdown":"I am using `WSO2 API Manager` version `1.9.1`. In this tool, I publish my sample project (i.e., `proxied`) and subscribe that project to get consumer key and secret. This tool also gives me CURL command which works fine. \r\n\r\nThe below CURL command which runs fine.\r\n\r\n    curl -k -d &quot;grant_type=password&amp;username=XXXXX&amp;password=XXXXX&quot; -H &quot;Authorization: Basic XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX, Content-Type: application/x-www-form-urlencoded&quot; https://XXXXXXXXXXX:XXXX/token\r\n\r\nNow I&#39;m trying to developed the `java` code using `RestTemplate` which will connect to `SSL protected site` without `cert verification` i.e., `insecure` way looking at above CURL command.\r\nSo far I developed below code, but when I run I see following error coming. \r\n\r\n\r\n    public static void main(String[] args) {\r\n    \t\tHttpHeaders headers = new HttpHeaders();\r\n    \t\theaders.add(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \t\theaders.add(&quot;Content-Type&quot;, MediaType.APPLICATION_FORM_URLENCODED.toString());\r\n    \t\theaders.add(&quot;Authorization&quot;, &quot;Basic XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX&quot;);\r\n    \r\n    \t\tString url = &quot;https://XXXXXXXXXXXXXX:XXXX/token&quot;;\r\n    \r\n    \t\tString data = &quot;grant_type=password&amp;username=XXXXX&amp;password=XXXXX&quot;;\r\n    \r\n    \t\tRestTemplate restTemplate = new RestTemplate();\r\n    \t\tHttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(data,headers);\r\n    \t\tHttpEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, String.class);\r\n    \t\tSystem.out.println(&quot;RESPONSE : &quot;+response.getBody());\r\n    \t}\r\n\r\nThe error I am facing. **Please suggest how we can connect to SSL site insecure way, the same curl command does?**\r\n\r\n    Exception in thread &quot;main&quot; org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;https://XXXXXXXXXXX:8243/token&quot;:java.security.cert.CertificateException: No subject alternative names present; nested exception is javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:580)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:530)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:448)\r\n    \tat com.java.wso2.TokenDemo.main(TokenDemo.java:74)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present\r\n    \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\r\n    \tat sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1937)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\r\n    \tat sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\r\n    \tat sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1478)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\r\n    \tat sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1050)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1363)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1391)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1375)\r\n    \tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\r\n    \tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\r\n    \tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:81)\r\n    \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n    \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:569)\r\n    \t... 3 more\r\n\r\nHow we can solve this error? Off-course my issue is not similar to https://stackoverflow.com/questions/17167691/javax-net-ssl-sslhandshakeexception-java-security-cert-certificateexception-no","title":"java.security.cert.CertificateException: No subject alternative names present;","body":"<p>I am using <code>WSO2 API Manager</code> version <code>1.9.1</code>. In this tool, I publish my sample project (i.e., <code>proxied</code>) and subscribe that project to get consumer key and secret. This tool also gives me CURL command which works fine. </p>\n\n<p>The below CURL command which runs fine.</p>\n\n<pre><code>curl -k -d \"grant_type=password&amp;username=XXXXX&amp;password=XXXXX\" -H \"Authorization: Basic XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX, Content-Type: application/x-www-form-urlencoded\" https://XXXXXXXXXXX:XXXX/token\n</code></pre>\n\n<p>Now I'm trying to developed the <code>java</code> code using <code>RestTemplate</code> which will connect to <code>SSL protected site</code> without <code>cert verification</code> i.e., <code>insecure</code> way looking at above CURL command.\nSo far I developed below code, but when I run I see following error coming. </p>\n\n<pre><code>public static void main(String[] args) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(\"Accept\", \"application/json\");\n        headers.add(\"Content-Type\", MediaType.APPLICATION_FORM_URLENCODED.toString());\n        headers.add(\"Authorization\", \"Basic XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\");\n\n        String url = \"https://XXXXXXXXXXXXXX:XXXX/token\";\n\n        String data = \"grant_type=password&amp;username=XXXXX&amp;password=XXXXX\";\n\n        RestTemplate restTemplate = new RestTemplate();\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;String&gt;(data,headers);\n        HttpEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.POST, entity, String.class);\n        System.out.println(\"RESPONSE : \"+response.getBody());\n    }\n</code></pre>\n\n<p>The error I am facing. <strong>Please suggest how we can connect to SSL site insecure way, the same curl command does?</strong></p>\n\n<pre><code>Exception in thread \"main\" org.springframework.web.client.ResourceAccessException: I/O error on POST request for \"https://XXXXXXXXXXX:8243/token\":java.security.cert.CertificateException: No subject alternative names present; nested exception is javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:580)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:530)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:448)\n    at com.java.wso2.TokenDemo.main(TokenDemo.java:74)\nCaused by: javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present\n    at sun.security.ssl.Alerts.getSSLException(Alerts.java:192)\n    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1937)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:302)\n    at sun.security.ssl.Handshaker.fatalSE(Handshaker.java:296)\n    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1478)\n    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:212)\n    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:979)\n    at sun.security.ssl.Handshaker.process_record(Handshaker.java:914)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1050)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1363)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1391)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1375)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:563)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:153)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:81)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:569)\n    ... 3 more\n</code></pre>\n\n<p>How we can solve this error? Off-course my issue is not similar to <a href=\"https://stackoverflow.com/questions/17167691/javax-net-ssl-sslhandshakeexception-java-security-cert-certificateexception-no\">javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative names present</a></p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":1042758,"reputation":68403,"user_id":1048425,"accept_rate":100,"display_name":"GarethD"},"score":2,"creation_date":1666021094,"post_id":74099351,"comment_id":130830903,"body_markdown":"I can see two issues, the first is that you don&#39;t set your username parameter, which would be something like `statement.setString(1, &quot;Username&quot;)`, the second is that your result set only has two columns, and you are trying to retrieve columns 2 and 3, rather than 1 and 2.","body":"I can see two issues, the first is that you don&#39;t set your username parameter, which would be something like <code>statement.setString(1, &quot;Username&quot;)</code>, the second is that your result set only has two columns, and you are trying to retrieve columns 2 and 3, rather than 1 and 2."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1666023359,"post_id":74099351,"comment_id":130831808,"body_markdown":"Also (a) there should be no need to use `Class.forName();` except in some relatively uncommon scenarios (and in out-of-date tutorials). JDBC drivers register themselves. And (b) Don&#39;t use `statement.executeQuery(query);` here, just use `statement.executeQuery();`. The `query` (which is a Java String) has already been handled by `connection.prepareStatement(query)`. Don&#39;t use it again when you execute the statement.","body":"Also (a) there should be no need to use <code>Class.forName();</code> except in some relatively uncommon scenarios (and in out-of-date tutorials). JDBC drivers register themselves. And (b) Don&#39;t use <code>statement.executeQuery(query);</code> here, just use <code>statement.executeQuery();</code>. The <code>query</code> (which is a Java String) has already been handled by <code>connection.prepareStatement(query)</code>. Don&#39;t use it again when you execute the statement."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1666023572,"post_id":74099351,"comment_id":130831899,"body_markdown":"There are lots of good JDBC answers on Stack Overflow showing how to use prepared statements to execute SELECTs, With some research you should find them.","body":"There are lots of good JDBC answers on Stack Overflow showing how to use prepared statements to execute SELECTs, With some research you should find them."},{"owner":{"display_name":"user17893652"},"score":0,"creation_date":1666029061,"post_id":74099351,"comment_id":130833683,"body_markdown":"@GarethD, I tried the solution you suggested but I still couldn&#39;t resolve the issue.","body":"@GarethD, I tried the solution you suggested but I still couldn&#39;t resolve the issue."},{"owner":{"account_id":1042758,"reputation":68403,"user_id":1048425,"accept_rate":100,"display_name":"GarethD"},"score":0,"creation_date":1666074010,"post_id":74099351,"comment_id":130842655,"body_markdown":"@KB21 Have you tried debugging and stepping through your code to see if you are ever reaching `_name = resultSet.getString(2);`? If I had to guess your select statement returns no records, therefore `resultSet.next()` returns false, so you never actually assign `_name`, so it remains null. That is of course a guess, because I have no idea what data sits in your `student` table, nor do I know what username you are using to get this error.","body":"@KB21 Have you tried debugging and stepping through your code to see if you are ever reaching <code>_name = resultSet.getString(2);</code>? If I had to guess your select statement returns no records, therefore <code>resultSet.next()</code> returns false, so you never actually assign <code>_name</code>, so it remains null. That is of course a guess, because I have no idea what data sits in your <code>student</code> table, nor do I know what username you are using to get this error."}],"owner":{"display_name":"user17893652"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666019363,"creation_date":1666019363,"question_id":74099351,"body_markdown":"Is there a way to pass data values for a `MySQL` database into a variable in `Java`? \r\nThis is what I have tried so far:\r\n\r\n    try {\r\n            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n            Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Login&quot;, &quot;root&quot;, &quot;****&quot;);\r\n            String query = &quot;Select username, passphrase from student where username=?&quot;;\r\n            statement = connection.prepareStatement(query);\r\n            resultSet = statement.executeQuery(query);\r\n            if (resultSet.next()) {\r\n                _name = resultSet.getString(2);\r\n                _pass_phrase = resultSet.getString(3);\r\n            }\r\n        } catch (Exception e) {\r\n            System.out.println(Arrays.toString(e.getStackTrace()));\r\n            assert resultSet != null;\r\n            resultSet.close();\r\n            statement.close();\r\n        }\r\nbut I keep on getting a `NullPointerException` that points to my `_name` variable, telling me it empty. Could someone please point out to me what it is doing, and how to correct it? ","title":"How do I pass data values from a particular column or field in a database into a variable in java?","body":"<p>Is there a way to pass data values for a <code>MySQL</code> database into a variable in <code>Java</code>?\nThis is what I have tried so far:</p>\n<pre><code>try {\n        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n        Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/Login&quot;, &quot;root&quot;, &quot;****&quot;);\n        String query = &quot;Select username, passphrase from student where username=?&quot;;\n        statement = connection.prepareStatement(query);\n        resultSet = statement.executeQuery(query);\n        if (resultSet.next()) {\n            _name = resultSet.getString(2);\n            _pass_phrase = resultSet.getString(3);\n        }\n    } catch (Exception e) {\n        System.out.println(Arrays.toString(e.getStackTrace()));\n        assert resultSet != null;\n        resultSet.close();\n        statement.close();\n    }\n</code></pre>\n<p>but I keep on getting a <code>NullPointerException</code> that points to my <code>_name</code> variable, telling me it empty. Could someone please point out to me what it is doing, and how to correct it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1665533892,"post_id":74034963,"comment_id":130721674,"body_markdown":"Please read the Javadoc for JSONObject. You need to call `getJSONArray`","body":"Please read the Javadoc for JSONObject. You need to call <code>getJSONArray</code>"}],"answers":[{"tags":[],"owner":{"account_id":7143720,"reputation":2741,"user_id":5460296,"accept_rate":95,"display_name":"jmona789"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666018870,"creation_date":1666018870,"answer_id":74099246,"question_id":74034963,"body_markdown":"Thanks to @tgdavies for their comment, was able to get it working by doing this:\r\n```\r\nJSONObject jsonObject = jsonObj.getJSONObject(&quot;facet_counts&quot;).getJSONObject(&quot;facet_fields&quot;);\r\nIterator&lt;String&gt; keys = jsonObject.keys();\r\n\tjsonStr = jsonStr + &quot;\\&quot;facetCounts\\&quot;: {&quot;;\r\n\twhile(keys.hasNext()) {\r\n\t\tString key = keys.next();\r\n\t\tjsonStr = jsonStr + &quot;\\&quot;&quot; + key + &quot;\\&quot;:&quot;;\r\n\t\tif (jsonObject.get(key) instanceof JSONArray) {\r\n\t\t\tJSONArray facets = new JSONArray(jsonObject.getJSONArray(key).toString());\r\n```","title":"incompatible types: java.lang.Object cannot be converted to org.json.JSONArray","body":"<p>Thanks to @tgdavies for their comment, was able to get it working by doing this:</p>\n<pre><code>JSONObject jsonObject = jsonObj.getJSONObject(&quot;facet_counts&quot;).getJSONObject(&quot;facet_fields&quot;);\nIterator&lt;String&gt; keys = jsonObject.keys();\n    jsonStr = jsonStr + &quot;\\&quot;facetCounts\\&quot;: {&quot;;\n    while(keys.hasNext()) {\n        String key = keys.next();\n        jsonStr = jsonStr + &quot;\\&quot;&quot; + key + &quot;\\&quot;:&quot;;\n        if (jsonObject.get(key) instanceof JSONArray) {\n            JSONArray facets = new JSONArray(jsonObject.getJSONArray(key).toString());\n</code></pre>\n"}],"owner":{"account_id":7143720,"reputation":2741,"user_id":5460296,"accept_rate":95,"display_name":"jmona789"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74099246,"answer_count":1,"score":0,"last_activity_date":1666018870,"creation_date":1665530374,"question_id":74034963,"body_markdown":"I am writing a Java function that restructures some JSON I am getting from a server and I am running into an issue trying to create a JSONArray:\r\n\r\n\r\n```\r\nJSONObject jsonObject = jsonObj.getJSONObject(&quot;facet_counts&quot;).getJSONObject(&quot;facet_fields&quot;);\r\nIterator&lt;String&gt; keys = jsonObject.keys();\r\njsonStr = jsonStr + &quot;\\&quot;facetCounts\\&quot;: {&quot;;\r\n    while(keys.hasNext()) {\r\n        String key = keys.next();\r\n\t\tjsonStr = jsonStr + &quot;\\&quot;&quot; + key + &quot;\\&quot;:&quot;;\r\n\t\tif (jsonObject.get(key) instanceof JSONArray) {\r\n\t\t    JSONArray facets = jsonObject.get(key);\r\n```\r\n\r\nI am checking if jsonObject.get(key) is an instanceof JSONArray, but it keeps throwing the error `incompatible types: java.lang.Object cannot be converted to org.json.JSONArray`. ","title":"incompatible types: java.lang.Object cannot be converted to org.json.JSONArray","body":"<p>I am writing a Java function that restructures some JSON I am getting from a server and I am running into an issue trying to create a JSONArray:</p>\n<pre><code>JSONObject jsonObject = jsonObj.getJSONObject(&quot;facet_counts&quot;).getJSONObject(&quot;facet_fields&quot;);\nIterator&lt;String&gt; keys = jsonObject.keys();\njsonStr = jsonStr + &quot;\\&quot;facetCounts\\&quot;: {&quot;;\n    while(keys.hasNext()) {\n        String key = keys.next();\n        jsonStr = jsonStr + &quot;\\&quot;&quot; + key + &quot;\\&quot;:&quot;;\n        if (jsonObject.get(key) instanceof JSONArray) {\n            JSONArray facets = jsonObject.get(key);\n</code></pre>\n<p>I am checking if jsonObject.get(key) is an instanceof JSONArray, but it keeps throwing the error <code>incompatible types: java.lang.Object cannot be converted to org.json.JSONArray</code>.</p>\n"},{"tags":["java","rest","java-ee-6"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1665735403,"post_id":74066209,"comment_id":130772131,"body_markdown":"you can use Apache HttpClient  for example","body":"you can use Apache HttpClient  for example"},{"owner":{"account_id":16673497,"reputation":2011,"user_id":12050506,"display_name":"possum"},"score":0,"creation_date":1665737945,"post_id":74066209,"comment_id":130772942,"body_markdown":"Please explain what &quot;doesn&#39;t work for me&quot; means and provide what evidence you have to support it.","body":"Please explain what &quot;doesn&#39;t work for me&quot; means and provide what evidence you have to support it."},{"owner":{"account_id":15006333,"reputation":66,"user_id":10832295,"display_name":"Aziz Gasimov"},"score":0,"creation_date":1665747232,"post_id":74066209,"comment_id":130775698,"body_markdown":"Maybe this is what you are looking for: [consuming api in java 1.6](https://stackoverflow.com/a/51792422/10832295)","body":"Maybe this is what you are looking for: <a href=\"https://stackoverflow.com/a/51792422/10832295\">consuming api in java 1.6</a>"},{"owner":{"account_id":10443571,"reputation":938,"user_id":7699379,"display_name":"Lalaluka"},"score":0,"creation_date":1665748068,"post_id":74066209,"comment_id":130775947,"body_markdown":"Please Provide an error message or a clear explination on whats not working exactly","body":"Please Provide an error message or a clear explination on whats not working exactly"},{"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"score":0,"creation_date":1666018727,"post_id":74066209,"comment_id":130829890,"body_markdown":"@Lalaluka you can check the question","body":"@Lalaluka you can check the question"},{"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"score":0,"creation_date":1666018748,"post_id":74066209,"comment_id":130829900,"body_markdown":"@possum you can check the question","body":"@possum you can check the question"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1666030282,"post_id":74066209,"comment_id":130834091,"body_markdown":"https://www.tutorialworks.com/java-trust-ssl/","body":"<a href=\"https://www.tutorialworks.com/java-trust-ssl/\" rel=\"nofollow noreferrer\">tutorialworks.com/java-trust-ssl</a>"}],"owner":{"account_id":26106383,"reputation":27,"user_id":19801031,"display_name":"darine"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666018703,"creation_date":1665734885,"question_id":74066209,"body_markdown":"I want to consume this URL: `https://197.5.145.85:13002/cgi-bin/sendsms?username=bar&amp;password=bar&amp;from=&amp;to=21652031757`  \r\n\r\n\r\n    public void postFromURL(String url) { \r\n        RestTemplate restTemplate = new RestTemplate();\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;);\r\n        ResponseEntity&lt;Object&gt; response = restTemplate.postForEntity(url,null, Object.class);    \r\n    }\r\n\r\nI am getting this error `unable to find valid certification path to requested target`\r\nis there any solution ? ","title":"How to consume a Rest web service in java6?","body":"<p>I want to consume this URL: <code>https://197.5.145.85:13002/cgi-bin/sendsms?username=bar&amp;password=bar&amp;from=&amp;to=21652031757</code></p>\n<pre><code>public void postFromURL(String url) { \n    RestTemplate restTemplate = new RestTemplate();\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(&quot;Authorization&quot;, &quot;Bearer &quot;);\n    ResponseEntity&lt;Object&gt; response = restTemplate.postForEntity(url,null, Object.class);    \n}\n</code></pre>\n<p>I am getting this error <code>unable to find valid certification path to requested target</code>\nis there any solution ?</p>\n"},{"tags":["java","kotlin","logging","logback","slf4j"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662539169,"post_id":73632246,"comment_id":130026262,"body_markdown":"That&#39;s not Java. Please tag the appropriate language (I guess it&#39;s kotlin, but I won&#39;t change it myself because I&#39;m not sure).","body":"That&#39;s not Java. Please tag the appropriate language (I guess it&#39;s kotlin, but I won&#39;t change it myself because I&#39;m not sure)."},{"owner":{"account_id":1004665,"reputation":2733,"user_id":1018730,"accept_rate":52,"display_name":"Mazmart"},"score":0,"creation_date":1662551924,"post_id":73632246,"comment_id":130031219,"body_markdown":"yes the code is written in kotlin but the question is about logback for java. I will add the kotlin tag","body":"yes the code is written in kotlin but the question is about logback for java. I will add the kotlin tag"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":1,"creation_date":1662556402,"post_id":73632246,"comment_id":130033047,"body_markdown":"There&#39;s no way to do this out of the box. Logback appenders are initialized before they accept any messages. So you&#39;d need to write your own appender, which attempts to open the file if it&#39;s not already open. If that fails, then you&#39;d add the message to a thread-safe buffer. If it succeeds, you&#39;d write all the messages in the buffer. Once the file has been opened, you can just write the messages normally.","body":"There&#39;s no way to do this out of the box. Logback appenders are initialized before they accept any messages. So you&#39;d need to write your own appender, which attempts to open the file if it&#39;s not already open. If that fails, then you&#39;d add the message to a thread-safe buffer. If it succeeds, you&#39;d write all the messages in the buffer. Once the file has been opened, you can just write the messages normally."},{"owner":{"account_id":1004665,"reputation":2733,"user_id":1018730,"accept_rate":52,"display_name":"Mazmart"},"score":0,"creation_date":1666018238,"post_id":73632246,"comment_id":130829682,"body_markdown":"@kdgregory I&#39;ve done it according to your comment. I&#39;ve extended RollingFileAppender and override the openFile and subAppend methods to stash logs until HDD is initialized. once initialized i call the super.openFile method cycle through the stash to append it. once done i allow the subAppend method to call super.subApend","body":"@kdgregory I&#39;ve done it according to your comment. I&#39;ve extended RollingFileAppender and override the openFile and subAppend methods to stash logs until HDD is initialized. once initialized i call the super.openFile method cycle through the stash to append it. once done i allow the subAppend method to call super.subApend"}],"answers":[{"tags":[],"owner":{"account_id":1004665,"reputation":2733,"user_id":1018730,"accept_rate":52,"display_name":"Mazmart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666018620,"creation_date":1666018620,"answer_id":74099186,"question_id":73632246,"body_markdown":"For anyone looking for an answer. I&#39;ve followed the @kdgregory comment and implemented it this way:\r\n\r\n```\r\nclass MyAppender : RollingFileAppender&lt;ILoggingEvent&gt;() {\r\n    private val buffer = mutableListOf&lt;ILoggingEvent&gt;()\r\n\r\n    fun initHdd() {\r\n        if (hddInit) return\r\n        try {\r\n            super.openFile(file)\r\n            hddInit = true\r\n            buffer.forEach {\r\n                append(it)\r\n            }\r\n            buffer.clear()\r\n        } catch (e: Exception) {\r\n        }\r\n    }\r\n\r\n\r\n    override fun openFile(file_name: String?): Boolean {\r\n        if (!hddInit) outputStream = NullOutputStream()\r\n        else super.openFile(file_name)\r\n        return true\r\n    }\r\n\r\n\r\n    override fun subAppend(event: ILoggingEvent) {\r\n        if (hddInit) super.subAppend(event)\r\n        else {\r\n            if (buffer.size &gt;= MAX_BUFFER_SIZE) return\r\n            buffer.add(event)\r\n        }\r\n    }\r\n\r\n    companion object {\r\n        private const val MAX_BUFFER_SIZE = 1000;\r\n        private const val MAX_TAG_LENGTH = 23\r\n        var hddInit = false\r\n    }\r\n}\r\n```","title":"Logback buffer messages before HDD is available","body":"<p>For anyone looking for an answer. I've followed the @kdgregory comment and implemented it this way:</p>\n<pre><code>class MyAppender : RollingFileAppender&lt;ILoggingEvent&gt;() {\n    private val buffer = mutableListOf&lt;ILoggingEvent&gt;()\n\n    fun initHdd() {\n        if (hddInit) return\n        try {\n            super.openFile(file)\n            hddInit = true\n            buffer.forEach {\n                append(it)\n            }\n            buffer.clear()\n        } catch (e: Exception) {\n        }\n    }\n\n\n    override fun openFile(file_name: String?): Boolean {\n        if (!hddInit) outputStream = NullOutputStream()\n        else super.openFile(file_name)\n        return true\n    }\n\n\n    override fun subAppend(event: ILoggingEvent) {\n        if (hddInit) super.subAppend(event)\n        else {\n            if (buffer.size &gt;= MAX_BUFFER_SIZE) return\n            buffer.add(event)\n        }\n    }\n\n    companion object {\n        private const val MAX_BUFFER_SIZE = 1000;\n        private const val MAX_TAG_LENGTH = 23\n        var hddInit = false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1004665,"reputation":2733,"user_id":1018730,"accept_rate":52,"display_name":"Mazmart"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74099186,"answer_count":1,"score":-1,"last_activity_date":1666018620,"creation_date":1662539046,"question_id":73632246,"body_markdown":"So i have an embeedded java device that runs code as early as possible after boot. But HDD is not available immediately.\r\n\r\nI&#39;ve found out that using logback with xml configuration is not working as whenever it starts it checks for existance of log file which is not possible as HDD is not mounted yet. \r\n\r\nSo I&#39;ve programatically added FileAppender when HDD is started. But this results in lots of messages being lost as there is no appender when the device boots and I am unable to get logs from the time when it booted till the HDD is available.\r\n\r\nIs there a way to buffer these messages and print them to the file once the HDD is booted?\r\n\r\n\r\nmy way of initing appender:\r\n\r\n```kotlin\r\nfun startLogger() {\r\n    logger.debug(&quot;Starting HDD logger&quot;)\r\n    val lc = LoggerFactory.getILoggerFactory() as LoggerContext\r\n    lc.reset()\r\n    try {\r\n        val root = lc.getLogger(Logger.ROOT_LOGGER_NAME)\r\n        logFileAppender.apply {\r\n            context = lc\r\n            name = &quot;logFile&quot;\r\n            file = &quot;/mnt/hdd/cz.myq.roger.ricoh/logs/logfile.log&quot;\r\n            encoder = PatternLayoutEncoder().apply {\r\n                context = lc\r\n                pattern = &quot;%-12date{yyyy-MM-dd HH:mm:ss.SSS} %logger{12} %-5level - %msg%n&quot;\r\n                start()\r\n            }\r\n            isAppend = true\r\n            rollingPolicy = TimeBasedRollingPolicy&lt;ILoggingEvent&gt;().apply {\r\n                context = lc\r\n                fileNamePattern = &quot;/mnt/hdd/cz.myq.roger.ricoh/logs/logfile-%d{yyyy-MM-dd}.log.zip&quot;\r\n                maxHistory = 7\r\n                setTotalSizeCap(FileSize.valueOf(&quot;100MB&quot;))\r\n            }.also {\r\n                it.setParent(this@apply)\r\n                it.start()\r\n            }\r\n            start()\r\n        }\r\n        root.addAppender(logFileAppender)\r\n\r\n        lc.getLogger(DNSIncoming::class.java).level = Level.WARN\r\n    } catch (e: Exception) {\r\n        logger.error(&quot;Error starting log&quot;, e)\r\n    }\r\n}\r\n```","title":"Logback buffer messages before HDD is available","body":"<p>So i have an embeedded java device that runs code as early as possible after boot. But HDD is not available immediately.</p>\n<p>I've found out that using logback with xml configuration is not working as whenever it starts it checks for existance of log file which is not possible as HDD is not mounted yet.</p>\n<p>So I've programatically added FileAppender when HDD is started. But this results in lots of messages being lost as there is no appender when the device boots and I am unable to get logs from the time when it booted till the HDD is available.</p>\n<p>Is there a way to buffer these messages and print them to the file once the HDD is booted?</p>\n<p>my way of initing appender:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun startLogger() {\n    logger.debug(&quot;Starting HDD logger&quot;)\n    val lc = LoggerFactory.getILoggerFactory() as LoggerContext\n    lc.reset()\n    try {\n        val root = lc.getLogger(Logger.ROOT_LOGGER_NAME)\n        logFileAppender.apply {\n            context = lc\n            name = &quot;logFile&quot;\n            file = &quot;/mnt/hdd/cz.myq.roger.ricoh/logs/logfile.log&quot;\n            encoder = PatternLayoutEncoder().apply {\n                context = lc\n                pattern = &quot;%-12date{yyyy-MM-dd HH:mm:ss.SSS} %logger{12} %-5level - %msg%n&quot;\n                start()\n            }\n            isAppend = true\n            rollingPolicy = TimeBasedRollingPolicy&lt;ILoggingEvent&gt;().apply {\n                context = lc\n                fileNamePattern = &quot;/mnt/hdd/cz.myq.roger.ricoh/logs/logfile-%d{yyyy-MM-dd}.log.zip&quot;\n                maxHistory = 7\n                setTotalSizeCap(FileSize.valueOf(&quot;100MB&quot;))\n            }.also {\n                it.setParent(this@apply)\n                it.start()\n            }\n            start()\n        }\n        root.addAppender(logFileAppender)\n\n        lc.getLogger(DNSIncoming::class.java).level = Level.WARN\n    } catch (e: Exception) {\n        logger.error(&quot;Error starting log&quot;, e)\n    }\n}\n</code></pre>\n"},{"tags":["java","jms","spring-jms"],"comments":[{"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"score":0,"creation_date":1666016736,"post_id":74098326,"comment_id":130829132,"body_markdown":"1) How did you configure `MyMessageService`? For outgoing messages it is important to cache JMS objects, see [JmsTemplate](https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/jms/support/JmsAccessor.html). 2) When `sessionTransacted=true`, acknowledge mode is ignored.","body":"1) How did you configure <code>MyMessageService</code>? For outgoing messages it is important to cache JMS objects, see <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/index.html?org/springframework/jms/support/JmsAccessor.html\" rel=\"nofollow noreferrer\">JmsTemplate</a>. 2) When <code>sessionTransacted=true</code>, acknowledge mode is ignored."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1666017330,"post_id":74098326,"comment_id":130829310,"body_markdown":"Before proceeding with modifications to your application you should profile it so you know _exactly_ where time is being taken. Otherwise your modifications may not make any difference at all. You may not actually gain any performance at all by increasing message consumption concurrency.","body":"Before proceeding with modifications to your application you should profile it so you know <i>exactly</i> where time is being taken. Otherwise your modifications may not make any difference at all. You may not actually gain any performance at all by increasing message consumption concurrency."}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1666018515,"creation_date":1666014328,"question_id":74098326,"body_markdown":"I&#39;m trying to identify how to increase the rate of message consumption of a JMS Springboot application. I tried testing the rate of message consumption of the app and it took 1.5 hrs to consume and process 2000 waiting/pending messages in QUEUE.\r\n\r\nIn other words, problem is, it took 1.5hrs for the springboot app to empty the QUEUE it&#39;s consuming from.\r\n\r\n    public class MyMessageListener implements MessageListener {\r\n    \r\n        @Autowired\r\n        private MyMessageService messageService;\r\n    \r\n        @Override\r\n        public void onMessage(Message message) {\r\n            String messageContent = null;\r\n            try {\r\n                if (message instanceof BytesMessage) {\r\n                    BytesMessage bytesMessage = (BytesMessage) message;\r\n                    long length = bytesMessage.getBodyLength();\r\n                    byte[] content = new byte[(int) length];\r\n                    bytesMessage.readBytes(content);\r\n                    messageContent = new String(content, StandardCharsets.UTF_8);\r\n                } else if (message instanceof TextMessage) {\r\n                    TextMessage textMessage = (TextMessage) message;\r\n                    messageContent = textMessage.getText();\r\n                }\r\n    \r\n                if (messageContent != null) {\r\n                    FileIOHelper.writeInboundXmlToFile(messageContent); //write message to file\r\n                    String accountNumber = XmlUtil.extractAccountNumber(messageContent);\r\n                    final String xmlMessageTransformed = messageService.transformXmlMessageToOldSchema(messageContent);\r\n                    if (!xmlMessageTransformed.isEmpty()) {\r\n                        FileIOHelper.writeTransformedXmlToFile(accountNumber, xmlMessageTransformed); //write message to file\r\n                        Map&lt;String, String&gt; outboundHeaderProperties = messageService.createJMSHeaderProperties(message);\r\n                        messageService.publishMessageToOutboundTopic(xmlMessageTransformed, outboundHeaderProperties);\r\n                    } else {\r\n                        FileIOHelper.writeUnprocessedXmlToFile(messageContent); //write message to file\r\n                        log.error(\r\n                                String.format(&quot;Failed transformation of message account# &quot;, accountNumber));\r\n                    }\r\n                    message.acknowledge(); // acknowledge ALL inbound messages from inbound QUEUE\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nAs you can see, part of the processing of message involves writing a copy of inbound and outbound messages received to a file. I suspect this is what&#39;s causing the slow consumption/processing rate of messages from QUEUE.\r\n\r\nIn my JMS Configuration class, I have the following :\r\n\r\n        @Bean\r\n    \tpublic DefaultMessageListenerContainer listenerContainer(MessageListenerAdapter messageListener,\r\n    \t\t\t@Qualifier(&quot;sourceConnection&quot;) ConnectionFactory listenerConnectionFactory) {\r\n    \t\tDefaultMessageListenerContainer container = new DefaultMessageListenerContainer();\r\n    \t\tcontainer.setConnectionFactory(listenerConnectionFactory);\r\n    \t\tcontainer.setDestinationName(jmsSourceQueue);\r\n    \t\tcontainer.setMessageListener(messageListener);\r\n    \t\tcontainer.setSessionTransacted(true);\r\n    \t\tcontainer.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\r\n    \t\tcontainer.setRecoveryInterval(30000); //reconnect every 30 seconds if disconnected.\r\n    \t\t// container.setConcurrentConsumers(1); // do I need to add this line?\r\n    \t\t// container.setMaxConcurrentConsumers(5); //Or, add this line?\r\n    \t\treturn container;\r\n    \t}\r\n\r\nI searched SO and learned about `setConcurrentConsumers()` and `setMaxConcurrentConsumers()` I&#39;m not sure if that&#39;s how I can solve the slow message consumption rate.\r\n\r\nThe requirement for our JMS application is to be able to consume messages in just a few minutes. In my example above, it took 1.5 hrs to consume all 2000 messages.\r\n\r\nCan you suggest a way or approach to solve this without removing the write-to-file step?\r\n\r\nThank you!","title":"Increase Spring Boot JMS message consumption rate","body":"<p>I'm trying to identify how to increase the rate of message consumption of a JMS Springboot application. I tried testing the rate of message consumption of the app and it took 1.5 hrs to consume and process 2000 waiting/pending messages in QUEUE.</p>\n<p>In other words, problem is, it took 1.5hrs for the springboot app to empty the QUEUE it's consuming from.</p>\n<pre><code>public class MyMessageListener implements MessageListener {\n\n    @Autowired\n    private MyMessageService messageService;\n\n    @Override\n    public void onMessage(Message message) {\n        String messageContent = null;\n        try {\n            if (message instanceof BytesMessage) {\n                BytesMessage bytesMessage = (BytesMessage) message;\n                long length = bytesMessage.getBodyLength();\n                byte[] content = new byte[(int) length];\n                bytesMessage.readBytes(content);\n                messageContent = new String(content, StandardCharsets.UTF_8);\n            } else if (message instanceof TextMessage) {\n                TextMessage textMessage = (TextMessage) message;\n                messageContent = textMessage.getText();\n            }\n\n            if (messageContent != null) {\n                FileIOHelper.writeInboundXmlToFile(messageContent); //write message to file\n                String accountNumber = XmlUtil.extractAccountNumber(messageContent);\n                final String xmlMessageTransformed = messageService.transformXmlMessageToOldSchema(messageContent);\n                if (!xmlMessageTransformed.isEmpty()) {\n                    FileIOHelper.writeTransformedXmlToFile(accountNumber, xmlMessageTransformed); //write message to file\n                    Map&lt;String, String&gt; outboundHeaderProperties = messageService.createJMSHeaderProperties(message);\n                    messageService.publishMessageToOutboundTopic(xmlMessageTransformed, outboundHeaderProperties);\n                } else {\n                    FileIOHelper.writeUnprocessedXmlToFile(messageContent); //write message to file\n                    log.error(\n                            String.format(&quot;Failed transformation of message account# &quot;, accountNumber));\n                }\n                message.acknowledge(); // acknowledge ALL inbound messages from inbound QUEUE\n            }\n        } catch (Exception e) {\n            log.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>As you can see, part of the processing of message involves writing a copy of inbound and outbound messages received to a file. I suspect this is what's causing the slow consumption/processing rate of messages from QUEUE.</p>\n<p>In my JMS Configuration class, I have the following :</p>\n<pre><code>    @Bean\n    public DefaultMessageListenerContainer listenerContainer(MessageListenerAdapter messageListener,\n            @Qualifier(&quot;sourceConnection&quot;) ConnectionFactory listenerConnectionFactory) {\n        DefaultMessageListenerContainer container = new DefaultMessageListenerContainer();\n        container.setConnectionFactory(listenerConnectionFactory);\n        container.setDestinationName(jmsSourceQueue);\n        container.setMessageListener(messageListener);\n        container.setSessionTransacted(true);\n        container.setSessionAcknowledgeMode(Session.CLIENT_ACKNOWLEDGE);\n        container.setRecoveryInterval(30000); //reconnect every 30 seconds if disconnected.\n        // container.setConcurrentConsumers(1); // do I need to add this line?\n        // container.setMaxConcurrentConsumers(5); //Or, add this line?\n        return container;\n    }\n</code></pre>\n<p>I searched SO and learned about <code>setConcurrentConsumers()</code> and <code>setMaxConcurrentConsumers()</code> I'm not sure if that's how I can solve the slow message consumption rate.</p>\n<p>The requirement for our JMS application is to be able to consume messages in just a few minutes. In my example above, it took 1.5 hrs to consume all 2000 messages.</p>\n<p>Can you suggest a way or approach to solve this without removing the write-to-file step?</p>\n<p>Thank you!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1487414661,"post_id":42314055,"comment_id":71782071,"body_markdown":"Welcome to Stack Overflow! Please take the [tour](http://stackoverflow.com/tour), have a look around, and read through the [help center](http://stackoverflow.com/help), in particular [How do I ask a good question?](http://stackoverflow.com/help/how-to-ask) and [What topics can I ask about here?](http://stackoverflow.com/help/on-topic). - please ask one question at a time only.","body":"Welcome to Stack Overflow! Please take the <a href=\"http://stackoverflow.com/tour\">tour</a>, have a look around, and read through the <a href=\"http://stackoverflow.com/help\">help center</a>, in particular <a href=\"http://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a> and <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>. - please ask one question at a time only."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1487414677,"post_id":42314055,"comment_id":71782078,"body_markdown":"Because println() accepts a single argument, not two. https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.String-. The error message tells you exactly that. You should read it. printf() takes several arguments: https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#printf-java.lang.String-java.lang.Object...-. So, in short, read error messages, and read the javadoc.","body":"Because println() accepts a single argument, not two. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#println-java.lang.String-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/io/&hellip;</a>. The error message tells you exactly that. You should read it. printf() takes several arguments: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html#printf-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/io/&hellip;</a>. So, in short, read error messages, and read the javadoc."},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":1,"creation_date":1487414791,"post_id":42314055,"comment_id":71782103,"body_markdown":"Regarding your second question, http://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value?rq=1 would be a good read.","body":"Regarding your second question, <a href=\"http://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value?rq=1\" title=\"is java pass by reference or pass by value\">stackoverflow.com/questions/40480/&hellip;</a> would be a good read."}],"answers":[{"comments":[{"owner":{"account_id":10246335,"reputation":59,"user_id":7562014,"display_name":"Rahul Khanna"},"score":0,"creation_date":1487415311,"post_id":42314082,"comment_id":71782263,"body_markdown":"This gives me an `Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;i&#39;`. and no output is given. Why is that so?","body":"This gives me an <code>Exception in thread &quot;main&quot; java.util.UnknownFormatConversionException: Conversion = &#39;i&#39;</code>. and no output is given. Why is that so?"},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":0,"creation_date":1487415378,"post_id":42314082,"comment_id":71782286,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":1890132,"reputation":6513,"user_id":1794706,"display_name":"anacron"},"score":0,"creation_date":1487415569,"post_id":42314082,"comment_id":71782349,"body_markdown":"You need to use  `%d` not `%i`. Like this:    `System.out.println(&quot;This is a object passing: %d&quot;,c2.a);`","body":"You need to use  <code>%d</code> not <code>%i</code>. Like this:    <code>System.out.println(&quot;This is a object passing: %d&quot;,c2.a);</code>"},{"owner":{"account_id":10246335,"reputation":59,"user_id":7562014,"display_name":"Rahul Khanna"},"score":0,"creation_date":1487415569,"post_id":42314082,"comment_id":71782350,"body_markdown":"thanks @fuv would read it. But does my question really deserves -1. It strange to see that .","body":"thanks @fuv would read it. But does my question really deserves -1. It strange to see that ."}],"tags":[],"owner":{"account_id":1890132,"reputation":6513,"user_id":1794706,"display_name":"anacron"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1487414665,"creation_date":1487414665,"answer_id":42314082,"question_id":42314055,"body_markdown":"You need to use the `printf` method and not `println`. \r\n\r\n`println` is used to print primitive types, Strings and objects as they are. Also, println takes only one argument as input. That is the reason you are getting an error when you pass multiple arguments to it in your code.\r\n\r\n`printf` on the other hand is used to format and then print the formatted string to the Standard output / error. This is what you should use in your code above for formatting the output.\r\n\r\nHere&#39;s a [reference to the tutorials][1].\r\n\r\n---\r\n\r\nHope this helps!\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/data/numberformat.html","title":"Java print string and int on same line","body":"<p>You need to use the <code>printf</code> method and not <code>println</code>. </p>\n\n<p><code>println</code> is used to print primitive types, Strings and objects as they are. Also, println takes only one argument as input. That is the reason you are getting an error when you pass multiple arguments to it in your code.</p>\n\n<p><code>printf</code> on the other hand is used to format and then print the formatted string to the Standard output / error. This is what you should use in your code above for formatting the output.</p>\n\n<p>Here's a <a href=\"https://docs.oracle.com/javase/tutorial/java/data/numberformat.html\" rel=\"noreferrer\">reference to the tutorials</a>.</p>\n\n<hr>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":23392530,"reputation":25,"user_id":18243130,"display_name":"Bekhruz Suleymanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666018462,"creation_date":1666018462,"answer_id":74099145,"question_id":42314055,"body_markdown":"Try:\r\n```\r\nint x = 3;\r\nSystem.out.println(&quot;This is my number&quot; + x);\r\n\r\n```\r\nThe output should be: \r\n```\r\nThis is my number 3\r\n```","title":"Java print string and int on same line","body":"<p>Try:</p>\n<pre><code>int x = 3;\nSystem.out.println(&quot;This is my number&quot; + x);\n\n</code></pre>\n<p>The output should be:</p>\n<pre><code>This is my number 3\n</code></pre>\n"}],"owner":{"account_id":10246335,"reputation":59,"user_id":7562014,"display_name":"Rahul Khanna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17869,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":42314082,"answer_count":2,"score":1,"last_activity_date":1666018462,"creation_date":1487414490,"question_id":42314055,"body_markdown":"I was trying to print a string and int on a same line. But I get an error. I know my way around this error but why does the line `System.out.println(&quot;This is a string: %i&quot;, c2.a);`gives error whereas the line `System.out.println(&quot;This is class method&quot; + c2.a );` gives the correct output. Below is my code.\r\n\r\n    public class MyClass\r\n    {\r\n      private int a;\r\n      public double b;\r\n      \r\n      public MyClass(int first, double second)\r\n      {\r\n        this.a = first;\r\n        this.b = second;\r\n      }\r\n    \r\n      // new method\r\n      public static void incrementBoth(MyClass c1) {\r\n        c1.a = c1.a + 1;\r\n        c1.b = c1.b + 1.0;\r\n      }\r\n    \r\n      //pass by valuye therefore no change\r\n      public static void incrementA(int a)\r\n      {\r\n        a = a+1;\r\n      }\r\n    \r\n      public static void main(String[] args)\r\n      {\r\n        MyClass c1 = new MyClass(10, 20.5);\r\n        MyClass c2 = new MyClass(10, 31.5);\r\n        // different code below\r\n        incrementBoth(c2);\r\n        incrementA(c1.a);\r\n        System.out.println(&quot;This is a object passing: %i&quot;,c2.a);\r\n        System.out.println(&quot;This is object passing: &quot; + c2.a );\r\n        System.out.println(&quot;This is pass by value: %d&quot;,c1.a);\r\n      }\r\n    }\r\n\r\nMy other question is does the line `incrementBoth(c2)` changes value of c2 because here whole object is passed to the method rather than passing by value in `incrementA(c1.a)`","title":"Java print string and int on same line","body":"<p>I was trying to print a string and int on a same line. But I get an error. I know my way around this error but why does the line <code>System.out.println(\"This is a string: %i\", c2.a);</code>gives error whereas the line <code>System.out.println(\"This is class method\" + c2.a );</code> gives the correct output. Below is my code.</p>\n\n<pre><code>public class MyClass\n{\n  private int a;\n  public double b;\n\n  public MyClass(int first, double second)\n  {\n    this.a = first;\n    this.b = second;\n  }\n\n  // new method\n  public static void incrementBoth(MyClass c1) {\n    c1.a = c1.a + 1;\n    c1.b = c1.b + 1.0;\n  }\n\n  //pass by valuye therefore no change\n  public static void incrementA(int a)\n  {\n    a = a+1;\n  }\n\n  public static void main(String[] args)\n  {\n    MyClass c1 = new MyClass(10, 20.5);\n    MyClass c2 = new MyClass(10, 31.5);\n    // different code below\n    incrementBoth(c2);\n    incrementA(c1.a);\n    System.out.println(\"This is a object passing: %i\",c2.a);\n    System.out.println(\"This is object passing: \" + c2.a );\n    System.out.println(\"This is pass by value: %d\",c1.a);\n  }\n}\n</code></pre>\n\n<p>My other question is does the line <code>incrementBoth(c2)</code> changes value of c2 because here whole object is passed to the method rather than passing by value in <code>incrementA(c1.a)</code></p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1666019121,"post_id":74099098,"comment_id":130830064,"body_markdown":"Don&#39;t attempt to turn the String into an Object. Instead, you would add the `Doctor` object directly to the `JList` so you can then get the `Doctor` object when needed. So, when you create the JList you use `JList&lt;Doctor&gt;`. Read the JList API. You will find other &quot;getter&quot; methods that allow you to get the selected `Doctor` object. You will then need to create a custom renderer to display the appropriate information from the `Doctor` object.","body":"Don&#39;t attempt to turn the String into an Object. Instead, you would add the <code>Doctor</code> object directly to the <code>JList</code> so you can then get the <code>Doctor</code> object when needed. So, when you create the JList you use <code>JList&lt;Doctor&gt;</code>. Read the JList API. You will find other &quot;getter&quot; methods that allow you to get the selected <code>Doctor</code> object. You will then need to create a custom renderer to display the appropriate information from the <code>Doctor</code> object."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1666019275,"post_id":74099098,"comment_id":130830130,"body_markdown":"The Swing tutorial has an example of creating a [custom renderer](https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer). The example is for a combo box, but the concept is the same.","body":"The Swing tutorial has an example of creating a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html#renderer\" rel=\"nofollow noreferrer\">custom renderer</a>. The example is for a combo box, but the concept is the same."}],"owner":{"account_id":23508373,"reputation":3,"user_id":17557258,"display_name":"Mirax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666018219,"creation_date":1666018219,"question_id":74099098,"body_markdown":"This is a small test sample of a bigger project so i quickly threw a simple frame window, I want to be able to get the selection from the list and turn it into an object so I can grab the getter methods (getName, getTime, etc) to slap onto a JLabel.\r\nFYI, the toArray() is a method I wrote that just returns (getName() + &quot;&quot; +getTime())\r\n\r\n    public static void main(String[] args) throws IOException, ClassNotFoundException {\r\n        FileInputStream file = new FileInputStream(&quot;skinDoctor.dat&quot;);\r\n        ObjectInputStream o = new ObjectInputStream(file);\r\n\r\n        Doctor doctor0 = (Doctor) o.readObject();\r\n        Doctor doctor1 = (Doctor) o.readObject();\r\n\r\n        String[] listX = {doctor0.toArray(), doctor1.toArray()};\r\n        JList&lt;String&gt; list = new JList&lt;&gt;(listX);\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.setSize(400, 400);\r\n        frame.setDefaultCloseOperation(3);\r\n        frame.setVisible(true);\r\n        frame.add(list);\r\n    }\r\n\r\nWould it go something like this? or is it just not possible \r\n\r\n    if(list.getSelectedIndex() == 0){\r\n            //Something here to turn it into an object\r\n        }\r\n\r\n","title":"is it possible to turn a JList selectedIndex into an object?","body":"<p>This is a small test sample of a bigger project so i quickly threw a simple frame window, I want to be able to get the selection from the list and turn it into an object so I can grab the getter methods (getName, getTime, etc) to slap onto a JLabel.\nFYI, the toArray() is a method I wrote that just returns (getName() + &quot;&quot; +getTime())</p>\n<pre><code>public static void main(String[] args) throws IOException, ClassNotFoundException {\n    FileInputStream file = new FileInputStream(&quot;skinDoctor.dat&quot;);\n    ObjectInputStream o = new ObjectInputStream(file);\n\n    Doctor doctor0 = (Doctor) o.readObject();\n    Doctor doctor1 = (Doctor) o.readObject();\n\n    String[] listX = {doctor0.toArray(), doctor1.toArray()};\n    JList&lt;String&gt; list = new JList&lt;&gt;(listX);\n\n    JFrame frame = new JFrame();\n    frame.setSize(400, 400);\n    frame.setDefaultCloseOperation(3);\n    frame.setVisible(true);\n    frame.add(list);\n}\n</code></pre>\n<p>Would it go something like this? or is it just not possible</p>\n<pre><code>if(list.getSelectedIndex() == 0){\n        //Something here to turn it into an object\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9268,"page":955,"page_size":100}
