{"items":[{"tags":["java","android"],"owner":{"account_id":25105260,"reputation":1,"user_id":18955508,"display_name":"jayadra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676914734,"answer_count":0,"score":0,"last_activity_date":1676914363,"creation_date":1676914363,"question_id":75512469,"body_markdown":"\r\n```\r\npackage com.jay.Atmos;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.ComponentName;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.Canvas;\r\nimport android.graphics.drawable.AnimationDrawable;\r\nimport android.graphics.drawable.Drawable;\r\nimport android.graphics.drawable.TransitionDrawable;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.ImageButton;\r\nimport android.widget.RelativeLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBar;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.auth.GithubAuthCredential;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\nimport com.ismaeldivita.chipnavigation.ChipNavigationBar;\r\nimport com.jay.Atmos.Fragment.HomeFragment;\r\nimport com.jay.Atmos.Fragment.NotificationFragment;\r\nimport com.jay.Atmos.Fragment.ProfileFragment;\r\nimport com.jay.Atmos.Fragment.SearchFragment;\r\n\r\nimport com.jay.Atmos.calling.BaseActivity;\r\nimport com.jay.Atmos.calling.SinchService;\r\nimport com.sinch.android.rtc.SinchError;\r\nimport com.squareup.picasso.Picasso;\r\n\r\nimport java.util.Objects;\r\n\r\nimport de.hdodenhof.circleimageview.CircleImageView;\r\n\r\npublic class MainActivity  extends BaseActivity implements SinchService.StartFailedListener {\r\n\r\n\r\n    Fragment selectedFagrament = null;\r\n    DatabaseReference RootRef;\r\n\r\n    private ImageButton ChatButton;\r\n    private Toolbar mToolbar;\r\n\r\n\r\n    int prev_nav_item = 0;\r\n\r\n    private CircleImageView navProfileImage;\r\n    private TextView navUserName;\r\n\r\n\r\n    private ActionBarDrawerToggle actionBarDrawerToggle;\r\n\r\n\r\n    private NavigationView navigationView;\r\n\r\n\r\n    private DrawerLayout drawerLayout;\r\n\r\n    Fragment fragment;\r\n\r\n    private FirebaseUser currentUser;\r\n    private FirebaseAuth mAuth;\r\n\r\n    ChipNavigationBar BottomNavBar;\r\n    FragmentManager fragmentManager;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        currentUser = mAuth.getCurrentUser();\r\n        RootRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n        BottomNavBar = findViewById(R.id.bottom_nav_bar);\r\n\r\n\r\n\r\n\r\n//\r\n//        RelativeLayout bganim = findViewById(R.id.bganim);\r\n//\r\n////\r\n//        TransitionDrawable trans = (TransitionDrawable) bganim.getBackground();\r\n//        trans.startTransition(3000);\r\n////        trans.reverseTransition(500);\r\n//        trans.mutate();\r\n//        trans.canApplyTheme();\r\n\r\n\r\n\r\n\r\n\r\n\r\n        ChatButton = findViewById(R.id.ChatBtn);\r\n\r\n        initializechatbutton();\r\n\r\n\r\n\r\n        mToolbar = (Toolbar) findViewById(R.id.explore_toolbar);\r\n        setSupportActionBar(mToolbar);\r\n        Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Vish Me&quot;);\r\n\r\n//        getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\r\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\r\n//        getSupportActionBar().setCustomView(R.layout.app_bar_layout);\r\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\r\n//        View view =getSupportActionBar().getCustomView();\r\n//\r\n\r\n\r\n\r\n\r\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\r\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n\r\n        actionBarDrawerToggle.setHomeAsUpIndicator(R.drawable.ic_arrowoption);\r\n\r\n\r\n        actionBarDrawerToggle.syncState();\r\n        actionBarDrawerToggle.setDrawerSlideAnimationEnabled(true);\r\n        actionBarDrawerToggle.setDrawerIndicatorEnabled(true);\r\n\r\n\r\n//\r\n\r\n        if (currentUser == null) {\r\n            SendUserToLoginActivity();\r\n\r\n        } else\r\n        {\r\n\r\n\r\n\r\n            VerifyUserExistence();\r\n            Bundle intent = getIntent().getExtras();\r\n        if(intent != null) {\r\n\r\n            String publisher = intent.getString(&quot;publisherid&quot;);\r\n\r\n            SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\r\n            editor.putString(&quot;profileid&quot;, publisher);\r\n            editor.apply();\r\n\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                    new ProfileFragment()).commit();\r\n        }\r\n\r\n\r\n        }\r\n\r\n\r\n//\r\n\r\n\r\n\r\n\r\n\r\n            drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                MainActivity.this, drawerLayout, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawerLayout.setDrawerListener(toggle);\r\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n\r\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\r\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\r\n        navigationView = (NavigationView) findViewById(R.id.navigation_view);\r\n        View navView = navigationView.inflateHeaderView(R.layout.navigation_header);\r\n        navProfileImage = (CircleImageView) navView.findViewById(R.id.nav_profile_image);\r\n        navUserName = (TextView) navView.findViewById(R.id.nav_profile_name);\r\n\r\n\r\n\r\n//       selectedFagrament = new HomeFragment();\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\r\n                    ChatButton.setVisibility(View.VISIBLE);\r\n\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem Item) {\r\n\r\n                NavMenuSelector(Item);\r\n\r\n\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        if (savedInstanceState==null)\r\n        {\r\n            BottomNavBar.setItemSelected(R.id.nav_home,true);\r\n            fragmentManager = getSupportFragmentManager();\r\n            HomeFragment homeFragment = new HomeFragment();\r\n            fragmentManager.beginTransaction().replace(R.id.fragment_container , homeFragment).commit();\r\n        }\r\n\r\n        BottomNavBar.setOnItemSelectedListener(new ChipNavigationBar.OnItemSelectedListener() {\r\n            private final String TAG = MainActivity.class.getSimpleName();\r\n\r\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\r\n            @Override\r\n            public void onItemSelected(int id) {\r\n\r\n                 fragment = null;\r\n\r\n                switch (id)\r\n                {\r\n                    case R.id.nav_home:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\r\n                        ChatButton.setVisibility(View.VISIBLE);\r\n\r\n                        break;\r\n                    case R.id.nav_search:\r\n\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new SearchFragment()).addToBackStack(&quot;search&quot;).commit();\r\n\r\n                        ChatButton.setVisibility(View.GONE);\r\n                      //  mToolbar.setVisibility(View.GONE);\r\n                        break;\r\n                    case R.id.nav_add:\r\n                        selectedFagrament = null;\r\n                        startActivity(new Intent(MainActivity.this, PostActivity.class));\r\n\r\n\r\n                        break;\r\n\r\n                    case R.id.nav_heart:\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new NotificationFragment()).addToBackStack(&quot;notify&quot;).commit();\r\n\r\n                        ChatButton.setVisibility(View.GONE);\r\n                        mToolbar.setVisibility(View.GONE);\r\n\r\n                        break;\r\n                    case R.id.nav_profile:\r\n\r\n                        SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\r\n                        editor.putString(&quot;profileid&quot;, currentUser.getUid());\r\n                        editor.apply();\r\n                        ChatButton.setVisibility(View.GONE);\r\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                                new ProfileFragment()).addToBackStack(&quot;profile&quot;).commit();\r\n\r\n\r\n                        break;\r\n                }\r\n\r\n                if (fragment!=null)\r\n                {\r\n                    fragmentManager = getSupportFragmentManager();\r\n\r\n                    fragmentManager.beginTransaction().replace(R.id.fragment_container,\r\n                            fragment).commit();\r\n                }\r\n\r\n                else\r\n                {\r\n                    Log.e(TAG , &quot;Error&quot;);\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        ChatButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n//                selectedFagrament = null;\r\n\r\n\r\n                Intent ChatIntent = new Intent(MainActivity.this, ChatListActivity.class);\r\n                startActivity(ChatIntent);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private void initializechatbutton() {\r\n    }\r\n\r\n\r\n\r\n\r\n            private void NavMenuSelector (MenuItem Item){\r\n                switch (Item.getItemId()) {\r\n                    case R.id.BirthDays:\r\n                        Toast.makeText(this, &quot;Birthdays selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.shortClips:\r\n                        //  Intent Intent = new Intent(MainActivity.this, ScreenShareActivity.class);\r\n                        // startActivity(Intent);                break;\r\n\r\n\r\n                    case R.id.short_Films:\r\n                        Toast.makeText(this, &quot;ShortFilms selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.marketing:\r\n                        Toast.makeText(this, &quot;Marketing selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.Find_Friends_option:\r\n                        Toast.makeText(this, &quot;Find Friends selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.my_contacts:\r\n                        Toast.makeText(this, &quot;My Friends selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.privacy_Settings_option:\r\n                        Toast.makeText(this, &quot;Privacy Settings selected&quot;, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n\r\n\r\n                    case R.id.main_Log_Out_option:\r\n                        mAuth.signOut();\r\n\r\n\r\n                        SendUserToLoginActivity();\r\n                        break;\r\n\r\n\r\n                }\r\n            }\r\n\r\n\r\n            private void SendUserToLoginActivity () {\r\n                Intent editprofile = new Intent(MainActivity.this, AccountLoginActivity.class);\r\n                startActivity(editprofile);\r\n            }\r\n\r\n\r\n            @Override\r\n            public boolean onOptionsItemSelected (MenuItem item){\r\n                if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\r\n                    return true;\r\n                }\r\n                return super.onOptionsItemSelected(item);\r\n            }\r\n\r\n\r\n            private void VerifyUserExistence () {\r\n\r\n\r\n                RootRef.child(currentUser.getUid()).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n\r\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n\r\n\r\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n//                            new HomeFragment()).commit();\r\n\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\r\n\r\n\r\n                            if (!getSinchServiceInterface().isStarted()) {\r\n                                initiateSinch();\r\n//\r\n                            }\r\n//\r\n                            updateNavMenu();\r\n\r\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            updateNavMenu();\r\n//\r\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n//                            new HomeFragment()).commit();\r\n\r\n//\r\n                            if (!getSinchServiceInterface().isStarted()) {\r\n                                initiateSinch();\r\n//\r\n\r\n                            }\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n                        } else if ((dataSnapshot.child(&quot;username&quot;).exists())) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            navUserName.setText(retrieveUserName);\r\n\r\n\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\r\n                            new HomeFragment()).commit();\r\n\r\n\r\n                            updateNavMenu();\r\n\r\n                            if (!getSinchServiceInterface().isStarted()) {\r\n                                initiateSinch();\r\n//\r\n\r\n                            }\r\n                        } else {\r\n                            SendUserTosettingsActivity();\r\n                            Toast.makeText(MainActivity.this, &quot;Update your profile for settings!!!!!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n            private void updateNavMenu () {\r\n\r\n                String currentUserid = currentUser.getUid();\r\n\r\n                RootRef.child(currentUserid).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n\r\n\r\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\r\n\r\n\r\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\r\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\r\n\r\n                            navUserName.setText(retrieveUserName);\r\n                        } else {\r\n                            navUserName.setVisibility(View.INVISIBLE);\r\n                            Toast.makeText(MainActivity.this, &quot;Set profile NAVIGATION&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n\r\n            private void SendUserTosettingsActivity ()\r\n            {\r\n\r\n                Intent editprofile = new Intent(MainActivity.this, SettingsActivity.class);\r\n                startActivity(editprofile);\r\n            }\r\n\r\n\r\n            private void initiateSinch () {\r\n\r\n                if (!getSinchServiceInterface().isStarted()) {\r\n\r\n\r\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\r\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\r\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\r\n                    getSinchServiceInterface().startClient(currentUser.getUid());\r\n\r\n                }\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            protected void onServiceConnected () {\r\n\r\n                getSinchServiceInterface().setStartListener(this);\r\n\r\n            }\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n//        if (fragment!=null)\r\n//        {\r\n//            fragmentManager = getSupportFragmentManager();\r\n//\r\n//            fragmentManager.beginTransaction().replace(R.id.fragment_container,\r\n//                    fragment).commit();\r\n//        }///\r\n\r\n\r\n\r\n\r\n\r\n        super.onBackPressed();\r\n    }\r\n\r\n    @Override\r\n            public void onBindingDied (ComponentName name){\r\n\r\n                if (!getSinchServiceInterface().isStarted()) {\r\n\r\n\r\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\r\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\r\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\r\n                    getSinchServiceInterface().startClient(currentUser.getUid());\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            protected void onStart () {\r\n\r\n\r\n\r\n                super.onStart();\r\n            }\r\n\r\n            @Override\r\n            protected void onPause () {\r\n\r\n\r\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\r\n                super.onPause();\r\n            }\r\n\r\n            @Override\r\n            protected void onResume () {\r\n\r\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\r\n                super.onResume();\r\n\r\n            }\r\n\r\n            @Override\r\n            protected void onRestart () {\r\n\r\n\r\n                super.onRestart();\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStartFailed (SinchError error){\r\n                Toast.makeText(this, error.toString(), Toast.LENGTH_LONG).show();\r\n                if (!getSinchServiceInterface().isStarted()) {\r\n\r\n\r\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\r\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\r\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\r\n                    getSinchServiceInterface().startClient(currentUser.getUid());\r\n\r\n                }\r\n\r\n\r\n                //////////////////////////////////////////////\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onStarted () {\r\n                Toast.makeText(this, &quot;Service Started&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n               // finish();\r\n            }\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n```\r\ni have a main activity with a bottom navigation menu which has a inter changing frangment. i also have a button which changes to other activity.\r\nwhen i try to go to other activity it gives a error displaying \r\n&quot;    FATAL EXCEPTION: main\r\n                 Process: com.jay.Atmos, PID: 10737\r\n                 java.lang.IllegalArgumentException: No view found for id 0x7f0a0199 (com.jay.Atmos:id/fragment_container) for fragment HomeFragment{4d85ba} (187ff6c1-438d-411d-97cd-cf6946773579 id=0x7f0a0199)\r\n                 \tat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:513)\r\n                 \tat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n                 \tat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n                 \tat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n                 \tat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n                 \tat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\r\n                 \tat androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\r\n                 \tat androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\r\n                 \tat androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\r\n                 \tat androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\r\n                 \tat com.jay.Atmos.MainActivity.onStart(MainActivity.java:662)\r\n                 \tat com.jay.Atmos.ChatActivity.onStart(ChatActivity.java:961)\r\n                 \tat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\r\n                 \tat android.app.Activity.performStart(Activity.java:8231)\r\n                 \tat android.app.ActivityThread.handleStartActivity(ActivityThread.java:3872)\r\n                 \tat android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\r\n                 \tat android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\r\n                 \tat android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\r\n                 \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n                 \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\r\n                 \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                 \tat android.os.Looper.loop(Looper.java:246)\r\n                 \tat android.app.ActivityThread.main(ActivityThread.java:8653)\r\n                 \tat java.lang.reflect.Method.invoke(Native Method)\r\n                 \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n                 \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) &quot;\r\n\r\n```","title":"java.lang.IllegalArgumentException: No view found for id 0x7f0a0199","body":"<pre><code>package com.jay.Atmos;\n\nimport android.annotation.SuppressLint;\nimport android.content.ComponentName;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.graphics.Canvas;\nimport android.graphics.drawable.AnimationDrawable;\nimport android.graphics.drawable.Drawable;\nimport android.graphics.drawable.TransitionDrawable;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ImageButton;\nimport android.widget.RelativeLayout;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBar;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.content.ContextCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.auth.GithubAuthCredential;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\nimport com.ismaeldivita.chipnavigation.ChipNavigationBar;\nimport com.jay.Atmos.Fragment.HomeFragment;\nimport com.jay.Atmos.Fragment.NotificationFragment;\nimport com.jay.Atmos.Fragment.ProfileFragment;\nimport com.jay.Atmos.Fragment.SearchFragment;\n\nimport com.jay.Atmos.calling.BaseActivity;\nimport com.jay.Atmos.calling.SinchService;\nimport com.sinch.android.rtc.SinchError;\nimport com.squareup.picasso.Picasso;\n\nimport java.util.Objects;\n\nimport de.hdodenhof.circleimageview.CircleImageView;\n\npublic class MainActivity  extends BaseActivity implements SinchService.StartFailedListener {\n\n\n    Fragment selectedFagrament = null;\n    DatabaseReference RootRef;\n\n    private ImageButton ChatButton;\n    private Toolbar mToolbar;\n\n\n    int prev_nav_item = 0;\n\n    private CircleImageView navProfileImage;\n    private TextView navUserName;\n\n\n    private ActionBarDrawerToggle actionBarDrawerToggle;\n\n\n    private NavigationView navigationView;\n\n\n    private DrawerLayout drawerLayout;\n\n    Fragment fragment;\n\n    private FirebaseUser currentUser;\n    private FirebaseAuth mAuth;\n\n    ChipNavigationBar BottomNavBar;\n    FragmentManager fragmentManager;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        mAuth = FirebaseAuth.getInstance();\n        currentUser = mAuth.getCurrentUser();\n        RootRef = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\n        BottomNavBar = findViewById(R.id.bottom_nav_bar);\n\n\n\n\n//\n//        RelativeLayout bganim = findViewById(R.id.bganim);\n//\n////\n//        TransitionDrawable trans = (TransitionDrawable) bganim.getBackground();\n//        trans.startTransition(3000);\n////        trans.reverseTransition(500);\n//        trans.mutate();\n//        trans.canApplyTheme();\n\n\n\n\n\n\n        ChatButton = findViewById(R.id.ChatBtn);\n\n        initializechatbutton();\n\n\n\n        mToolbar = (Toolbar) findViewById(R.id.explore_toolbar);\n        setSupportActionBar(mToolbar);\n        Objects.requireNonNull(getSupportActionBar()).setTitle(&quot;Vish Me&quot;);\n\n//        getSupportActionBar().setDisplayOptions(ActionBar.DISPLAY_SHOW_CUSTOM);\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\n//        getSupportActionBar().setCustomView(R.layout.app_bar_layout);\n//        getSupportActionBar().setDisplayShowCustomEnabled(true);\n//        View view =getSupportActionBar().getCustomView();\n//\n\n\n\n\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n\n        actionBarDrawerToggle.setHomeAsUpIndicator(R.drawable.ic_arrowoption);\n\n\n        actionBarDrawerToggle.syncState();\n        actionBarDrawerToggle.setDrawerSlideAnimationEnabled(true);\n        actionBarDrawerToggle.setDrawerIndicatorEnabled(true);\n\n\n//\n\n        if (currentUser == null) {\n            SendUserToLoginActivity();\n\n        } else\n        {\n\n\n\n            VerifyUserExistence();\n            Bundle intent = getIntent().getExtras();\n        if(intent != null) {\n\n            String publisher = intent.getString(&quot;publisherid&quot;);\n\n            SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\n            editor.putString(&quot;profileid&quot;, publisher);\n            editor.apply();\n\n            getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                    new ProfileFragment()).commit();\n        }\n\n\n        }\n\n\n//\n\n\n\n\n\n            drawerLayout = (DrawerLayout) findViewById(R.id.drawyer_layout);\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                MainActivity.this, drawerLayout, R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawerLayout.setDrawerListener(toggle);\n        actionBarDrawerToggle = new ActionBarDrawerToggle(MainActivity.this, drawerLayout, R.string.drawer_open, R.string.drawer_close);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n\n        getSupportActionBar().setDisplayHomeAsUpEnabled(true);\n        getSupportActionBar().setDisplayShowHomeEnabled(true);\n        navigationView = (NavigationView) findViewById(R.id.navigation_view);\n        View navView = navigationView.inflateHeaderView(R.layout.navigation_header);\n        navProfileImage = (CircleImageView) navView.findViewById(R.id.nav_profile_image);\n        navUserName = (TextView) navView.findViewById(R.id.nav_profile_name);\n\n\n\n//       selectedFagrament = new HomeFragment();\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                            new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\n                    ChatButton.setVisibility(View.VISIBLE);\n\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem Item) {\n\n                NavMenuSelector(Item);\n\n\n                return false;\n            }\n        });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        if (savedInstanceState==null)\n        {\n            BottomNavBar.setItemSelected(R.id.nav_home,true);\n            fragmentManager = getSupportFragmentManager();\n            HomeFragment homeFragment = new HomeFragment();\n            fragmentManager.beginTransaction().replace(R.id.fragment_container , homeFragment).commit();\n        }\n\n        BottomNavBar.setOnItemSelectedListener(new ChipNavigationBar.OnItemSelectedListener() {\n            private final String TAG = MainActivity.class.getSimpleName();\n\n            @SuppressLint(&quot;NonConstantResourceId&quot;)\n            @Override\n            public void onItemSelected(int id) {\n\n                 fragment = null;\n\n                switch (id)\n                {\n                    case R.id.nav_home:\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new HomeFragment()).addToBackStack(&quot;home&quot;).commit();\n                        ChatButton.setVisibility(View.VISIBLE);\n\n                        break;\n                    case R.id.nav_search:\n\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new SearchFragment()).addToBackStack(&quot;search&quot;).commit();\n\n                        ChatButton.setVisibility(View.GONE);\n                      //  mToolbar.setVisibility(View.GONE);\n                        break;\n                    case R.id.nav_add:\n                        selectedFagrament = null;\n                        startActivity(new Intent(MainActivity.this, PostActivity.class));\n\n\n                        break;\n\n                    case R.id.nav_heart:\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new NotificationFragment()).addToBackStack(&quot;notify&quot;).commit();\n\n                        ChatButton.setVisibility(View.GONE);\n                        mToolbar.setVisibility(View.GONE);\n\n                        break;\n                    case R.id.nav_profile:\n\n                        SharedPreferences.Editor editor = getSharedPreferences(&quot;PREFS&quot;, MODE_PRIVATE).edit();\n                        editor.putString(&quot;profileid&quot;, currentUser.getUid());\n                        editor.apply();\n                        ChatButton.setVisibility(View.GONE);\n                        getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                                new ProfileFragment()).addToBackStack(&quot;profile&quot;).commit();\n\n\n                        break;\n                }\n\n                if (fragment!=null)\n                {\n                    fragmentManager = getSupportFragmentManager();\n\n                    fragmentManager.beginTransaction().replace(R.id.fragment_container,\n                            fragment).commit();\n                }\n\n                else\n                {\n                    Log.e(TAG , &quot;Error&quot;);\n                }\n\n            }\n        });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n        ChatButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n//                selectedFagrament = null;\n\n\n                Intent ChatIntent = new Intent(MainActivity.this, ChatListActivity.class);\n                startActivity(ChatIntent);\n            }\n        });\n\n    }\n\n\n\n\n\n\n\n\n    private void initializechatbutton() {\n    }\n\n\n\n\n            private void NavMenuSelector (MenuItem Item){\n                switch (Item.getItemId()) {\n                    case R.id.BirthDays:\n                        Toast.makeText(this, &quot;Birthdays selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.shortClips:\n                        //  Intent Intent = new Intent(MainActivity.this, ScreenShareActivity.class);\n                        // startActivity(Intent);                break;\n\n\n                    case R.id.short_Films:\n                        Toast.makeText(this, &quot;ShortFilms selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.marketing:\n                        Toast.makeText(this, &quot;Marketing selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.Find_Friends_option:\n                        Toast.makeText(this, &quot;Find Friends selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.my_contacts:\n                        Toast.makeText(this, &quot;My Friends selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.privacy_Settings_option:\n                        Toast.makeText(this, &quot;Privacy Settings selected&quot;, Toast.LENGTH_SHORT).show();\n                        break;\n\n\n                    case R.id.main_Log_Out_option:\n                        mAuth.signOut();\n\n\n                        SendUserToLoginActivity();\n                        break;\n\n\n                }\n            }\n\n\n            private void SendUserToLoginActivity () {\n                Intent editprofile = new Intent(MainActivity.this, AccountLoginActivity.class);\n                startActivity(editprofile);\n            }\n\n\n            @Override\n            public boolean onOptionsItemSelected (MenuItem item){\n                if (actionBarDrawerToggle.onOptionsItemSelected(item)) {\n                    return true;\n                }\n                return super.onOptionsItemSelected(item);\n            }\n\n\n            private void VerifyUserExistence () {\n\n\n                RootRef.child(currentUser.getUid()).addValueEventListener(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(DataSnapshot dataSnapshot) {\n\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\n\n\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n//                            new HomeFragment()).commit();\n\n\n                            navUserName.setText(retrieveUserName);\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\n\n\n                            if (!getSinchServiceInterface().isStarted()) {\n                                initiateSinch();\n//\n                            }\n//\n                            updateNavMenu();\n\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            updateNavMenu();\n//\n//                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n//                            new HomeFragment()).commit();\n\n//\n                            if (!getSinchServiceInterface().isStarted()) {\n                                initiateSinch();\n//\n\n                            }\n\n                            navUserName.setText(retrieveUserName);\n                        } else if ((dataSnapshot.child(&quot;username&quot;).exists())) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            navUserName.setText(retrieveUserName);\n\n\n                    getSupportFragmentManager().beginTransaction().replace(R.id.fragment_container,\n                            new HomeFragment()).commit();\n\n\n                            updateNavMenu();\n\n                            if (!getSinchServiceInterface().isStarted()) {\n                                initiateSinch();\n//\n\n                            }\n                        } else {\n                            SendUserTosettingsActivity();\n                            Toast.makeText(MainActivity.this, &quot;Update your profile for settings!!!!!&quot;, Toast.LENGTH_SHORT).show();\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n\n                    }\n                });\n\n\n            }\n\n            private void updateNavMenu () {\n\n                String currentUserid = currentUser.getUid();\n\n                RootRef.child(currentUserid).addValueEventListener(new ValueEventListener() {\n                    @Override\n\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                        if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;profileimage&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;))))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n                            String retrieveProfileImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\n\n\n                            navUserName.setText(retrieveUserName);\n\n\n                            Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.profilepic).into(navProfileImage);\n\n\n                        } else if ((dataSnapshot.exists()) &amp;&amp; (dataSnapshot.hasChild(&quot;username&quot;) &amp;&amp; (dataSnapshot.hasChild(&quot;fullName&quot;)))) {\n                            String retrieveUserName = dataSnapshot.child(&quot;username&quot;).getValue().toString();\n\n                            navUserName.setText(retrieveUserName);\n                        } else {\n                            navUserName.setVisibility(View.INVISIBLE);\n                            Toast.makeText(MainActivity.this, &quot;Set profile NAVIGATION&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n\n\n                    @Override\n                    public void onCancelled(DatabaseError databaseError) {\n\n                    }\n                });\n\n\n            }\n\n\n            private void SendUserTosettingsActivity ()\n            {\n\n                Intent editprofile = new Intent(MainActivity.this, SettingsActivity.class);\n                startActivity(editprofile);\n            }\n\n\n            private void initiateSinch () {\n\n                if (!getSinchServiceInterface().isStarted()) {\n\n\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\n                    getSinchServiceInterface().startClient(currentUser.getUid());\n\n                }\n\n\n            }\n\n            @Override\n            protected void onServiceConnected () {\n\n                getSinchServiceInterface().setStartListener(this);\n\n            }\n\n\n    @Override\n    public void onBackPressed() {\n\n//        if (fragment!=null)\n//        {\n//            fragmentManager = getSupportFragmentManager();\n//\n//            fragmentManager.beginTransaction().replace(R.id.fragment_container,\n//                    fragment).commit();\n//        }///\n\n\n\n\n\n        super.onBackPressed();\n    }\n\n    @Override\n            public void onBindingDied (ComponentName name){\n\n                if (!getSinchServiceInterface().isStarted()) {\n\n\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\n                    getSinchServiceInterface().startClient(currentUser.getUid());\n\n                }\n\n            }\n\n            @Override\n            protected void onStart () {\n\n\n\n                super.onStart();\n            }\n\n            @Override\n            protected void onPause () {\n\n\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\n                super.onPause();\n            }\n\n            @Override\n            protected void onResume () {\n\n                Toast.makeText(this, &quot;on pause&quot;, Toast.LENGTH_SHORT).show();\n                super.onResume();\n\n            }\n\n            @Override\n            protected void onRestart () {\n\n\n                super.onRestart();\n\n            }\n\n            @Override\n            public void onStartFailed (SinchError error){\n                Toast.makeText(this, error.toString(), Toast.LENGTH_LONG).show();\n                if (!getSinchServiceInterface().isStarted()) {\n\n\n                    Intent serviceIntent = new Intent(MainActivity.this, SinchService.class);\n                    serviceIntent.putExtra(&quot;inputExtra&quot;, currentUser.getUid());\n                    ContextCompat.startForegroundService(MainActivity.this, serviceIntent);\n                    getSinchServiceInterface().startClient(currentUser.getUid());\n\n                }\n\n\n                //////////////////////////////////////////////\n\n\n            }\n\n            @Override\n            public void onStarted () {\n                Toast.makeText(this, &quot;Service Started&quot;, Toast.LENGTH_SHORT).show();\n\n\n               // finish();\n            }\n\n\n\n\n}\n\n\n</code></pre>\n<p>i have a main activity with a bottom navigation menu which has a inter changing frangment. i also have a button which changes to other activity.\nwhen i try to go to other activity it gives a error displaying\n&quot;    FATAL EXCEPTION: main\nProcess: com.jay.Atmos, PID: 10737\njava.lang.IllegalArgumentException: No view found for id 0x7f0a0199 (com.jay.Atmos:id/fragment_container) for fragment HomeFragment{4d85ba} (187ff6c1-438d-411d-97cd-cf6946773579 id=0x7f0a0199)\nat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:513)\nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\nat androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\nat androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\nat androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\nat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\nat androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\nat androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\nat androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\nat androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:246)\nat com.jay.Atmos.MainActivity.onStart(MainActivity.java:662)\nat com.jay.Atmos.ChatActivity.onStart(ChatActivity.java:961)\nat android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1435)\nat android.app.Activity.performStart(Activity.java:8231)\nat android.app.ActivityThread.handleStartActivity(ActivityThread.java:3872)\nat android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:221)\nat android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:201)\nat android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:173)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2336)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:246)\nat android.app.ActivityThread.main(ActivityThread.java:8653)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1130) &quot;</p>\n<pre><code></code></pre>\n"},{"tags":["java","docker","jenkins","docker-swarm"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676952424,"post_id":75512435,"comment_id":133235766,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27834691,"reputation":1,"user_id":21252431,"display_name":"Luka1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676914073,"creation_date":1676914073,"question_id":75512435,"body_markdown":"I&#39;m trying to build a job but at some point it stops building and does not do anything no matter how much time i will wait. Sometimes it still finishes building even when there are errors.\r\nHere&#39;s the console log from docker terminal:\r\n\r\n```\r\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\r\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: RetryException occurred\r\n2023-02-20 21:14:35 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\r\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\r\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\r\n2023-02-20 21:14:35 jenkins-slave   | \r\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:35 jenkins-slave   | INFO: Retrying in 10 seconds\r\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\r\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: RetryException occurred\r\n2023-02-20 21:14:45 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\r\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\r\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\r\n2023-02-20 21:14:45 jenkins-slave   | \r\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:45 jenkins-slave   | INFO: Retrying in 10 seconds\r\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.695+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\r\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.708+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 9 ms\r\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\r\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: RetryException occurred\r\n2023-02-20 21:14:55 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\r\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\r\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\r\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\r\n2023-02-20 21:14:55 jenkins-slave   | \r\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\r\n2023-02-20 21:14:55 jenkins-slave   | INFO: Retrying in 10 seconds\r\n2023-02-20 21:15:02 jenkins-master  | 2023-02-20 17:15:02.650+0000 [id=1157]    INFO    h.TcpSlaveAgentListener$ConnectionHandler#run: Connection #238 failed: java.io.EOFException\r\n```\r\n\r\nCan anybody help me fix this?\r\n\r\nI tried building a job again and again but does not work.\r\nI&#39;m expecting it to work normally and not freeze in the middle of the building process.","title":"Jenkins returns http code 401 and does not finish building","body":"<p>I'm trying to build a job but at some point it stops building and does not do anything no matter how much time i will wait. Sometimes it still finishes building even when there are errors.\nHere's the console log from docker terminal:</p>\n<pre><code>2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:35 jenkins-slave   | SEVERE: RetryException occurred\n2023-02-20 21:14:35 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\n2023-02-20 21:14:35 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\n2023-02-20 21:14:35 jenkins-slave   | \n2023-02-20 21:14:35 jenkins-slave   | Feb 20, 2023 5:14:35 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:35 jenkins-slave   | INFO: Retrying in 10 seconds\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:45 jenkins-slave   | SEVERE: RetryException occurred\n2023-02-20 21:14:45 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\n2023-02-20 21:14:45 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\n2023-02-20 21:14:45 jenkins-slave   | \n2023-02-20 21:14:45 jenkins-slave   | Feb 20, 2023 5:14:45 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:45 jenkins-slave   | INFO: Retrying in 10 seconds\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.695+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Started Update IdP Metadata from URL PeriodicWork\n2023-02-20 21:14:51 jenkins-master  | 2023-02-20 17:14:51.708+0000 [id=1156]    INFO    hudson.model.AsyncAperiodicWork#lambda$doAperiodicRun$0: Finished Update IdP Metadata from URL PeriodicWork. 9 ms\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.SwarmClient discoverFromMasterUrl\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:55 jenkins-slave   | SEVERE: RetryException occurred\n2023-02-20 21:14:55 jenkins-slave   | hudson.plugins.swarm.RetryException: Failed to fetch slave info from Jenkins, HTTP response code: 401\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.SwarmClient.discoverFromMasterUrl(SwarmClient.java:151)\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.run(Client.java:150)\n2023-02-20 21:14:55 jenkins-slave   |   at hudson.plugins.swarm.Client.main(Client.java:128)\n2023-02-20 21:14:55 jenkins-slave   | \n2023-02-20 21:14:55 jenkins-slave   | Feb 20, 2023 5:14:55 PM hudson.plugins.swarm.Client run\n2023-02-20 21:14:55 jenkins-slave   | INFO: Retrying in 10 seconds\n2023-02-20 21:15:02 jenkins-master  | 2023-02-20 17:15:02.650+0000 [id=1157]    INFO    h.TcpSlaveAgentListener$ConnectionHandler#run: Connection #238 failed: java.io.EOFException\n</code></pre>\n<p>Can anybody help me fix this?</p>\n<p>I tried building a job again and again but does not work.\nI'm expecting it to work normally and not freeze in the middle of the building process.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7139308,"reputation":2282,"user_id":5457643,"display_name":"Turamarth"},"score":1,"creation_date":1676906492,"post_id":75511046,"comment_id":133226715,"body_markdown":"Does this answer your question? [Is there a way to assign values into an Array with forEach?](https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach\">Is there a way to assign values into an Array with forEach?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2800537,"reputation":454,"user_id":2408863,"display_name":"tonnoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676907281,"creation_date":1676906722,"answer_id":75511159,"question_id":75511046,"body_markdown":"As pointed [here][1] , you can&#39;t do it.\r\nHere is an equivalent way using `while` and array assignment :\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the size of array&quot;);\r\n            int n = sc.nextInt();\r\n            float sum = 0;\r\n            float[] a = new float[n];\r\n            System.out.println(&quot;Enter the elements of array&quot;);\r\n            int i = 0;\r\n            while (i &lt; n) {\r\n                a[i++] = sc.nextFloat();\r\n            }\r\n            System.out.println(&quot;The sum of the items in array are:&quot;);\r\n            for (float element : a) {\r\n                sum = sum + element;\r\n            }\r\n            System.out.println(sum);\r\n    \r\n        }\r\n    }\r\n\r\nGood luck on your path young padawan!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach","title":"how to create an array of 5 elements dynamically and print the sum of all elements in end?","body":"<p>As pointed <a href=\"https://stackoverflow.com/questions/59894380/is-there-a-way-to-assign-values-into-an-array-with-foreach\">here</a> , you can't do it.\nHere is an equivalent way using <code>while</code> and array assignment :</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        int n = sc.nextInt();\n        float sum = 0;\n        float[] a = new float[n];\n        System.out.println(&quot;Enter the elements of array&quot;);\n        int i = 0;\n        while (i &lt; n) {\n            a[i++] = sc.nextFloat();\n        }\n        System.out.println(&quot;The sum of the items in array are:&quot;);\n        for (float element : a) {\n            sum = sum + element;\n        }\n        System.out.println(sum);\n\n    }\n}\n</code></pre>\n<p>Good luck on your path young padawan!</p>\n"},{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676913930,"creation_date":1676913930,"answer_id":75512410,"question_id":75511046,"body_markdown":"A `float` is a primitive value, so when you&#39;re iterating `a` in your loop and assigning each value to `element`, your `element` variable will just receive a copy of the value taken from the array.  It is not a reference to a value inside your array.\r\n\r\nNote that even if your array contained Objects instead of primitives, you would still not be able to replace one of them by reassigning a reference variable of that Object to something else.  You could alter the property of a mutable Object in your array using a reference to that object, but you couldn&#39;t replace the Object itself.\r\n\r\n","title":"how to create an array of 5 elements dynamically and print the sum of all elements in end?","body":"<p>A <code>float</code> is a primitive value, so when you're iterating <code>a</code> in your loop and assigning each value to <code>element</code>, your <code>element</code> variable will just receive a copy of the value taken from the array.  It is not a reference to a value inside your array.</p>\n<p>Note that even if your array contained Objects instead of primitives, you would still not be able to replace one of them by reassigning a reference variable of that Object to something else.  You could alter the property of a mutable Object in your array using a reference to that object, but you couldn't replace the Object itself.</p>\n"}],"owner":{"account_id":27833775,"reputation":1,"user_id":21251681,"display_name":"Maliha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676913930,"creation_date":1676906122,"question_id":75511046,"body_markdown":"when I try the same logic and execute using for loop it works whereas when I try the same using for each loop it doesn&#39;t give the expected result. when I try to print sum of all elements at end it gives the answer 0.\r\n\r\n\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the size of array&quot;);\r\n\t\tfloat n = sc.nextFloat(); float sum=0;\r\n\t\tfloat []a =new float[5];\r\n\t\tSystem.out.println(&quot;Enter the elements of array&quot;);\r\n\t\tfor(float element : a)\r\n\t\t{\r\n\t\t    element = sc.nextFloat();\r\n\t\t}\r\n\t\tSystem.out.println(&quot;The sum of the items in array are:&quot;);\r\n\t\tfor(float element : a)\r\n\t\t{\r\n\t\t   sum = sum + element; \r\n\t\t   \r\n\t\t}\r\n\t\tSystem.out.println(sum);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"how to create an array of 5 elements dynamically and print the sum of all elements in end?","body":"<p>when I try the same logic and execute using for loop it works whereas when I try the same using for each loop it doesn't give the expected result. when I try to print sum of all elements at end it gives the answer 0.</p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        float n = sc.nextFloat(); float sum=0;\n        float []a =new float[5];\n        System.out.println(&quot;Enter the elements of array&quot;);\n        for(float element : a)\n        {\n            element = sc.nextFloat();\n        }\n        System.out.println(&quot;The sum of the items in array are:&quot;);\n        for(float element : a)\n        {\n           sum = sum + element; \n           \n        }\n        System.out.println(sum);\n        \n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","proxy","client-server","socks"],"owner":{"account_id":15452432,"reputation":81,"user_id":11147465,"display_name":"Albert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":0,"score":8,"last_activity_date":1676913862,"creation_date":1552025074,"question_id":55057596,"body_markdown":"Using RFC 1928, I have implemented SOCKS5 &#39;BIND&#39; and &#39;UDP ASSOCIATE&#39; commands on Java, but I haven&#39;t found any way to test their work. I have tried browser (Firefox), FTP server and client in active and passive mods (run server on my Android phone and connected to it using Filezilla client for Linux), e-mail client (Thunderbird and SMTP). But every app always sends a request on connection (using only &#39;CONNECT&#39; command) and nothing else (but all of them work normal). So, how I can test commands?","title":"How can I test implementations of SOCKS5 proxy &#39;BIND&#39; and &#39;UDP ASSOCIATE&#39; commands?","body":"<p>Using RFC 1928, I have implemented SOCKS5 'BIND' and 'UDP ASSOCIATE' commands on Java, but I haven't found any way to test their work. I have tried browser (Firefox), FTP server and client in active and passive mods (run server on my Android phone and connected to it using Filezilla client for Linux), e-mail client (Thunderbird and SMTP). But every app always sends a request on connection (using only 'CONNECT' command) and nothing else (but all of them work normal). So, how I can test commands?</p>\n"},{"tags":["java","android","postgresql","classnotfoundexception"],"comments":[{"owner":{"account_id":1018150,"reputation":45383,"user_id":1029225,"display_name":"MH."},"score":1,"creation_date":1338924120,"post_id":10903481,"comment_id":14216177,"body_markdown":"Did you place the .jar in a `lib` folder in stead of `libs`, by any chance? Since [ADT r17](http://tools.android.com/recent/dealingwithdependenciesinandroidprojects), Libraries referenced from external locations will *not* be packaged into the .apk. The result is your project will compile fine, but at runtime you&#39;ll run into the `NoClassDefFoundError` because of the missing libraries. There are lots of similar Q&amp;A&#39;s on SO by the way; e.g. [this one](http://stackoverflow.com/a/9820881/1029225).","body":"Did you place the .jar in a <code>lib</code> folder in stead of <code>libs</code>, by any chance? Since <a href=\"http://tools.android.com/recent/dealingwithdependenciesinandroidprojects\" rel=\"nofollow noreferrer\">ADT r17</a>, Libraries referenced from external locations will <i>not</i> be packaged into the .apk. The result is your project will compile fine, but at runtime you&#39;ll run into the <code>NoClassDefFoundError</code> because of the missing libraries. There are lots of similar Q&amp;A&#39;s on SO by the way; e.g. <a href=\"http://stackoverflow.com/a/9820881/1029225\">this one</a>."},{"owner":{"account_id":1544090,"reputation":251,"user_id":1438048,"display_name":"user1438048"},"score":0,"creation_date":1338924789,"post_id":10903481,"comment_id":14216438,"body_markdown":"Got it to work. A lot to learn :P Thanks!","body":"Got it to work. A lot to learn :P Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1338924211,"creation_date":1338924211,"answer_id":10903581,"question_id":10903481,"body_markdown":"It&#39;s a CLASSPATH issue; the PostgreSQL JDBC driver isn&#39;t available when the class loader tries to load it.   You need to add it to your CLASSPATH correctly.\r\n\r\nIf it works in Eclipse, it&#39;s because adding a JAR to the build path *is* adding it to the CLASSPATH.  You have to understand how CLASSPATH works without the Eclipse training wheels to help you.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>It's a CLASSPATH issue; the PostgreSQL JDBC driver isn't available when the class loader tries to load it.   You need to add it to your CLASSPATH correctly.</p>\n\n<p>If it works in Eclipse, it's because adding a JAR to the build path <em>is</em> adding it to the CLASSPATH.  You have to understand how CLASSPATH works without the Eclipse training wheels to help you.</p>\n"},{"tags":[],"owner":{"account_id":155770,"reputation":120153,"user_id":372643,"accept_rate":88,"display_name":"Bruno"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1392562993,"creation_date":1392562993,"answer_id":21812893,"question_id":10903481,"body_markdown":"Assuming your dependencies are correctly configured (see [`libs` directory in Android SDK version 17 or above](http://tools.android.com/recent/dealingwithdependenciesinandroidprojects), as pointed out in a comment), you should be able to get the 9.2 driver to work by registering it explicitly with the driver manager.\r\n\r\nInstead of:\r\n\r\n    Class.forName(&quot;org.postgresql.Driver&quot;);\r\n\r\nUse:\r\n\r\n    DriverManager.register(new org.postgresql.Driver());\r\n\r\n\r\n(I&#39;ve also tried with the 9.3-1100-jdbc41 jar, but this wouldn&#39;t work.)\r\n\r\nPlease note that, as [explained by Craig Ringer in an answer to a duplicate question](https://stackoverflow.com/a/10441565/372643), using JDBC from Android is rarely a good idea, because JDBC connections aren&#39;t well suited to network usage patterns generally used by Android devices.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>Assuming your dependencies are correctly configured (see <a href=\"http://tools.android.com/recent/dealingwithdependenciesinandroidprojects\" rel=\"nofollow noreferrer\"><code>libs</code> directory in Android SDK version 17 or above</a>, as pointed out in a comment), you should be able to get the 9.2 driver to work by registering it explicitly with the driver manager.</p>\n\n<p>Instead of:</p>\n\n<pre><code>Class.forName(\"org.postgresql.Driver\");\n</code></pre>\n\n<p>Use:</p>\n\n<pre><code>DriverManager.register(new org.postgresql.Driver());\n</code></pre>\n\n<p>(I've also tried with the 9.3-1100-jdbc41 jar, but this wouldn't work.)</p>\n\n<p>Please note that, as <a href=\"https://stackoverflow.com/a/10441565/372643\">explained by Craig Ringer in an answer to a duplicate question</a>, using JDBC from Android is rarely a good idea, because JDBC connections aren't well suited to network usage patterns generally used by Android devices.</p>\n"},{"comments":[{"owner":{"account_id":1389951,"reputation":949,"user_id":1321016,"display_name":"Warren MacEvoy"},"score":0,"creation_date":1605120769,"post_id":22450996,"comment_id":114557343,"body_markdown":"This driver does not work in android,\n```java\njava.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/management/ManagementFactory;\n\tat org.postgresql.util.PGPropertyMaxResultBufferParser.adjustResultSize\n```\nAFIK there is no android driver for postgres","body":"This driver does not work in android, <code>java java.lang.NoClassDefFoundError: Failed resolution of: Ljava&#47;lang&#47;management&#47;ManagementFactory; \tat org.postgresql.util.PGPropertyMaxResultBufferParser.adjustRe&zwnj;&#8203;sultSize </code> AFIK there is no android driver for postgres"},{"owner":{"account_id":1389951,"reputation":949,"user_id":1321016,"display_name":"Warren MacEvoy"},"score":0,"creation_date":1607088832,"post_id":22450996,"comment_id":115169491,"body_markdown":"I did get an old version of the driver to load: `org.postgresql:postgresql:42.2.9.jre7` later versions fail on Android 29 (not tested on other versions of android)","body":"I did get an old version of the driver to load: <code>org.postgresql:postgresql:42.2.9.jre7</code> later versions fail on Android 29 (not tested on other versions of android)"}],"tags":[],"owner":{"account_id":3375136,"reputation":49,"user_id":2833407,"display_name":"yangya"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1395049486,"creation_date":1395049486,"answer_id":22450996,"question_id":10903481,"body_markdown":"You should put the jar package into the lib folder(WebContent-WEB-INF-lib),and right click on the jar package-build path-add to build path","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>You should put the jar package into the lib folder(WebContent-WEB-INF-lib),and right click on the jar package-build path-add to build path</p>\n"},{"tags":[],"owner":{"account_id":3399835,"reputation":217,"user_id":2852348,"display_name":"Shilpa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426343549,"creation_date":1426343549,"answer_id":29050078,"question_id":10903481,"body_markdown":"Downloading and adding the JDBC JAR file to the built path of the tool you are using may be a temporary solution as none of the above solutions worked out in my case.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>Downloading and adding the JDBC JAR file to the built path of the tool you are using may be a temporary solution as none of the above solutions worked out in my case.</p>\n"},{"comments":[{"owner":{"account_id":1757981,"reputation":2086,"user_id":2245107,"accept_rate":90,"display_name":"Mygod"},"score":1,"creation_date":1515575715,"post_id":37712556,"comment_id":83347421,"body_markdown":"Are you sure this is the correct one to use? https://mvnrepository.com/artifact/org.postgresql/postgresql","body":"Are you sure this is the correct one to use? <a href=\"https://mvnrepository.com/artifact/org.postgresql/postgresql\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.postgresql/postgresql</a>"},{"owner":{"account_id":3251585,"reputation":2262,"user_id":2741678,"accept_rate":88,"display_name":"Sumit"},"score":0,"creation_date":1588957577,"post_id":37712556,"comment_id":109109786,"body_markdown":"Trying to run `DriverManager.getConnection()`, at least with version 42.2.12, results in `java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.management.ManagementFactory&quot;`","body":"Trying to run <code>DriverManager.getConnection()</code>, at least with version 42.2.12, results in <code>java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.management.ManagementFactory&quot;</code>"},{"owner":{"account_id":6542876,"reputation":3814,"user_id":5059725,"accept_rate":39,"display_name":"Anant Shah"},"score":0,"creation_date":1592657798,"post_id":37712556,"comment_id":110506336,"body_markdown":"@Sumit any solution of that error? getting same error","body":"@Sumit any solution of that error? getting same error"}],"tags":[],"owner":{"account_id":1458483,"reputation":5866,"user_id":1373465,"accept_rate":84,"display_name":"Menelaos Kotsollaris"},"comment_count":3,"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1582995030,"creation_date":1465418610,"answer_id":37712556,"question_id":10903481,"body_markdown":"You need to add the PostgreSQL JDBC Driver in your project as mentioned in [search.maven.org][1].\r\n\r\n**Gradle**:\r\n\r\n    implementation &#39;org.postgresql:postgresql:42.2.10&#39;\r\n\r\n**Maven**:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n  &lt;version&gt;42.2.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nYou can also [download][2] the **JAR** and import to your project manually.\r\n\r\nNOTE: Compile as used in this answer is deprecated. Replace with implementation as per [3].\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/org.postgresql/postgresql\r\n  [2]: https://jdbc.postgresql.org/download.html\r\n  [3]: https://developer.android.com/studio/build/dependencies?utm_source=android-studio#dependency_configurations","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>You need to add the PostgreSQL JDBC Driver in your project as mentioned in <a href=\"https://search.maven.org/artifact/org.postgresql/postgresql\" rel=\"noreferrer\">search.maven.org</a>.</p>\n\n<p><strong>Gradle</strong>:</p>\n\n<pre><code>implementation 'org.postgresql:postgresql:42.2.10'\n</code></pre>\n\n<p><strong>Maven</strong>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n  &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n  &lt;version&gt;42.2.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You can also <a href=\"https://jdbc.postgresql.org/download.html\" rel=\"noreferrer\">download</a> the <strong>JAR</strong> and import to your project manually.</p>\n\n<p>NOTE: Compile as used in this answer is deprecated. Replace with implementation as per <a href=\"https://developer.android.com/studio/build/dependencies?utm_source=android-studio#dependency_configurations\" rel=\"noreferrer\">3</a>.</p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1544805107,"post_id":51324677,"comment_id":94418588,"body_markdown":"Version `postgresql:postgresql:9.1-901-1.jdbc4` is extremely old. The latest version is `org.postgresql:postgresql:42.2.5`, see https://search.maven.org/search?q=g:org.postgresql%20AND%20a:postgresql","body":"Version <code>postgresql:postgresql:9.1-901-1.jdbc4</code> is extremely old. The latest version is <code>org.postgresql:postgresql:42.2.5</code>, see <a href=\"https://search.maven.org/search?q=g:org.postgresql%20AND%20a:postgresql\" rel=\"nofollow noreferrer\">search.maven.org/search?q=g:org.postgresql%20AND%20a:postgre&zwnj;&#8203;sql</a>"}],"tags":[],"owner":{"account_id":12022589,"reputation":109,"user_id":8795582,"display_name":"Jagannath Pattar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531483350,"creation_date":1531483350,"answer_id":51324677,"question_id":10903481,"body_markdown":"I faced the same problem; but the mistake I did was the postgre dependency I added only in plugins section; After adding the postgre dependency (the following) into the project dependencies section it worked.\r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;    \r\n    &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>I faced the same problem; but the mistake I did was the postgre dependency I added only in plugins section; After adding the postgre dependency (the following) into the project dependencies section it worked.</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;postgresql&lt;/groupId&gt;\n&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n&lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;    \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14210054,"reputation":81,"user_id":11610225,"display_name":"chadmc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594754040,"creation_date":1594754040,"answer_id":62902412,"question_id":10903481,"body_markdown":"I tried a million things for gradel, and I just needed to add this line to the build.gradel file.\r\n\r\n    dependencies {\r\n        compile group: &#39;org.postgresql&#39;, name: &#39;postgresql&#39;, version: &#39;42.2.1&#39;\r\n    }\r\n\r\n","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>I tried a million things for gradel, and I just needed to add this line to the build.gradel file.</p>\n<pre><code>dependencies {\n    compile group: 'org.postgresql', name: 'postgresql', version: '42.2.1'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11838475,"reputation":31,"user_id":8663052,"display_name":"gatan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628599095,"creation_date":1628599095,"answer_id":68726961,"question_id":10903481,"body_markdown":"My postgresql driver was working well until I did some developments on my project: added some new files included mapper file because I used Spring and MyBatis. Suddenly, when I tried to run it on server--tomcat--I got the error that org.postgresql.Driver could not be loaded.\r\n\r\nSolution on my case:\r\nRestart the Eclipse. Maybe in some ways, Eclipse lost contact with the driver. So it needed to be refreshed by restarting it.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>My postgresql driver was working well until I did some developments on my project: added some new files included mapper file because I used Spring and MyBatis. Suddenly, when I tried to run it on server--tomcat--I got the error that org.postgresql.Driver could not be loaded.</p>\n<p>Solution on my case:\nRestart the Eclipse. Maybe in some ways, Eclipse lost contact with the driver. So it needed to be refreshed by restarting it.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677245197,"post_id":75512372,"comment_id":133304775,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75512372/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27834784,"reputation":1,"user_id":21252502,"display_name":"user21252502"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676913607,"creation_date":1676913607,"answer_id":75512372,"question_id":10903481,"body_markdown":"Add JDBC Driver jar file in your classpath\r\n\r\nGo to https://jdbc.postgresql.org/download/\r\n\r\ndownload the jar file\r\n\r\nRight click on java project\r\nClick Run As\r\nRun Configuration\r\nClick classpath tab\r\nClick your project name\r\nchoose add external jar from right side panel\r\nlocate the file and click apply\r\nRun","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>Add JDBC Driver jar file in your classpath</p>\n<p>Go to <a href=\"https://jdbc.postgresql.org/download/\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/download/</a></p>\n<p>download the jar file</p>\n<p>Right click on java project\nClick Run As\nRun Configuration\nClick classpath tab\nClick your project name\nchoose add external jar from right side panel\nlocate the file and click apply\nRun</p>\n"}],"owner":{"account_id":1544090,"reputation":251,"user_id":1438048,"display_name":"user1438048"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137955,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":9,"score":25,"last_activity_date":1676913607,"creation_date":1338923799,"question_id":10903481,"body_markdown":"I am running Eclipse on Windows.\r\n\r\nFollowing [this tutorial](http://www.slideshare.net/markwkm/andoird-postgresql) I downloaded JDBC4, added it to my build path using Project&gt;Properties&gt;add External JAR, browsed for the file, it worked (`.classpath` file shows the correct lib path). \r\n\r\nThe package appears in my Referenced Libraries folder, so I continue the tutorial.\r\n\r\n        import java.sql.Connection;\r\n        import java.sql.DriverManager;\r\n        import java.sql.PreparedStatement;\r\n        import java.sql.SQLException;\r\n\r\n        ....\r\n\r\n        public void open ()\r\n\t        {\r\n\t\ttry {\r\n\t\t\tClass.forName(&quot;org.postgresql.Driver&quot;);\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconn = DriverManager.getConnection(url, username, password);\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nI think it would be as simple as that but I get hit with this big long stack trace starting with\r\n\r\n        java.lang.ClassNotFoundException: org.postgresql.Driver\r\n(I can provide more if needed)\r\n\r\nI tried `include org.postgresql.*;` but that didn&#39;t help either. I have also tried the JDBC3 but no luck there either.\r\n\r\nI looked at https://stackoverflow.com/questions/10435609/driver-jdbc-postgresql-with-android which provided a vague answer saying I would be better off just using HTTP+JSON. Which I have never used.\r\n\r\nI&#39;m brand new to Android, postgresql, web development, so a simple answer would be appreciated.","title":"java.lang.ClassNotFoundException: org.postgresql.Driver, Android","body":"<p>I am running Eclipse on Windows.</p>\n\n<p>Following <a href=\"http://www.slideshare.net/markwkm/andoird-postgresql\" rel=\"noreferrer\">this tutorial</a> I downloaded JDBC4, added it to my build path using Project>Properties>add External JAR, browsed for the file, it worked (<code>.classpath</code> file shows the correct lib path). </p>\n\n<p>The package appears in my Referenced Libraries folder, so I continue the tutorial.</p>\n\n<pre><code>    import java.sql.Connection;\n    import java.sql.DriverManager;\n    import java.sql.PreparedStatement;\n    import java.sql.SQLException;\n\n    ....\n\n    public void open ()\n        {\n    try {\n        Class.forName(\"org.postgresql.Driver\");\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        conn = DriverManager.getConnection(url, username, password);\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>I think it would be as simple as that but I get hit with this big long stack trace starting with</p>\n\n<pre><code>    java.lang.ClassNotFoundException: org.postgresql.Driver\n</code></pre>\n\n<p>(I can provide more if needed)</p>\n\n<p>I tried <code>include org.postgresql.*;</code> but that didn't help either. I have also tried the JDBC3 but no luck there either.</p>\n\n<p>I looked at <a href=\"https://stackoverflow.com/questions/10435609/driver-jdbc-postgresql-with-android\">Driver JDBC PostgreSQL with Android</a> which provided a vague answer saying I would be better off just using HTTP+JSON. Which I have never used.</p>\n\n<p>I'm brand new to Android, postgresql, web development, so a simple answer would be appreciated.</p>\n"},{"tags":["java","android","kotlin","mobile","screen-recording"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1676822880,"post_id":75501334,"comment_id":133210453,"body_markdown":"The media projection APIs require user permission. Historically, with a well-written app, you need to obtain permission once per process. Perhaps some rules changed in Android 12, but the need for a permission prompt has been there since Android 5.0.","body":"The media projection APIs require user permission. Historically, with a well-written app, you need to obtain permission once per process. Perhaps some rules changed in Android 12, but the need for a permission prompt has been there since Android 5.0."},{"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"score":0,"creation_date":1676823912,"post_id":75501334,"comment_id":133210622,"body_markdown":"Thanks for your response. I know there would be required permission since android 5.0, but what makes me annoying is requiring every time. One time is tolerable but each time asking is nervous.","body":"Thanks for your response. I know there would be required permission since android 5.0, but what makes me annoying is requiring every time. One time is tolerable but each time asking is nervous."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676824298,"post_id":75501334,"comment_id":133210698,"body_markdown":"Well, it *should* make people nervous. I think the permission prompt changed over the years -- what you show now helps users make informed decisions about whether they want your app to have this power.","body":"Well, it <i>should</i> make people nervous. I think the permission prompt changed over the years -- what you show now helps users make informed decisions about whether they want your app to have this power."}],"answers":[{"comments":[{"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"score":0,"creation_date":1676828049,"post_id":75502023,"comment_id":133211462,"body_markdown":"thanks for your advice.\nbut i wanna know where to save the result of media project intent","body":"thanks for your advice. but i wanna know where to save the result of media project intent"},{"owner":{"account_id":10821091,"reputation":631,"user_id":7958563,"display_name":"Ivan Shafran"},"score":0,"creation_date":1676830847,"post_id":75502023,"comment_id":133212022,"body_markdown":"@KittyKagaya, you can save the intent in memory anywhere because it is only valid while the process is alive. For example, save it in the camera fragment as a variable. Or, as in our application, save it in a Kotlin object.","body":"@KittyKagaya, you can save the intent in memory anywhere because it is only valid while the process is alive. For example, save it in the camera fragment as a variable. Or, as in our application, save it in a Kotlin object."},{"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"score":0,"creation_date":1676835948,"post_id":75502023,"comment_id":133212987,"body_markdown":"thanks for your kind attention.\nwould you kindly send me the code snippet so I can get bright picture.","body":"thanks for your kind attention. would you kindly send me the code snippet so I can get bright picture."},{"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"score":0,"creation_date":1676877782,"post_id":75502023,"comment_id":133218741,"body_markdown":"Hello, Ivan Shafran.\nI hope you would send me the code snippet so I can see how to save the result of intent.","body":"Hello, Ivan Shafran. I hope you would send me the code snippet so I can see how to save the result of intent."},{"owner":{"account_id":10821091,"reputation":631,"user_id":7958563,"display_name":"Ivan Shafran"},"score":0,"creation_date":1676913843,"post_id":75502023,"comment_id":133228896,"body_markdown":"@KittyKagaya Hello, Kitty! I updated the answer. Please check the attached snippet for the idea. If it solves your problem, you can mark the answer as accepted, so other users can rely on it, also. If it&#39;s not, do let me know, if I can help you further","body":"@KittyKagaya Hello, Kitty! I updated the answer. Please check the attached snippet for the idea. If it solves your problem, you can mark the answer as accepted, so other users can rely on it, also. If it&#39;s not, do let me know, if I can help you further"},{"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"score":0,"creation_date":1676960951,"post_id":75502023,"comment_id":133236969,"body_markdown":"Big thanks to you. it works well as you expected. hope you would take attention on my question later again","body":"Big thanks to you. it works well as you expected. hope you would take attention on my question later again"}],"tags":[],"owner":{"account_id":10821091,"reputation":631,"user_id":7958563,"display_name":"Ivan Shafran"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676913555,"creation_date":1676827364,"answer_id":75502023,"question_id":75501334,"body_markdown":"In my experience, you can save the result of media projection intent and reuse it during the same application process session. That is how most applications overcome this issue.\r\n\r\nBut be aware that it is more a hack than a solution because the docs do not guarantee it. In contrast, it says you can not reuse it. So use it at your own risk.\r\n\r\nFrom my observations, it will work almost everywhere except some Xiaomi and Huawei devices. You can add them to ignore list and ask every time. Another good idea will be to add a try-catch when reusing an intent, so you can request permission again if the intent is expired.\r\n\r\nContext: we use this hack in an application with millions of active users, so it has some credibility.\r\n\r\nCode snippet to get the idea, but not production ready:\r\n```Kotlin\r\nobject MediaProjectionIntentHolder {\r\n\t\r\n\tvar intent: Intent? = null\r\n\r\n}\r\n\r\nclass ScreenRecordingFragment : Fragment() {\r\n\t\r\n\r\n\t// A user clicked button and this function is called\r\n\tprivate fun startScreenRecording() {\r\n\t\tval intent = MediaProjectionIntentHolder.intent\r\n        // You can check Huawei / Xiaomi devices here to ask permission every time\r\n\t\tif (intent != null) {\r\n\t\t\trecordScreen(intent)\r\n\t\t} else {\r\n\t\t\trequestPermission()\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fun recordScreen(intent: Intent) {\r\n\t\t// Actual screen recording start\r\n\t}\r\n\r\n\tprivate showError() {\r\n\t\t// show error\r\n\t}\r\n\r\n\r\n\tprivate fun requestPermission() {\r\n\t\tval service = requireContext().getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\r\n\t\tval intent = service.createScreenCaptureIntent()\r\n\r\n\t\tval screenRecordingSupported = context.packageManager.queryIntentActivities(intent, 0).isNotEmpty()\r\n\r\n\t\tif (screenRecordingSupported) {\r\n\t\t\tstartActivityForResult(intent, REQUEST_CODE)\r\n\t\t} else {\r\n\t\t\tshowError()\r\n\t\t}\r\n\t}\r\n\r\n\toverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n        if (requestCode == REQUEST_CODE) {\r\n            if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\r\n            \tMediaProjectionIntentHolder.intent = data\r\n                recordScreen(data)\r\n            } else {\r\n                showError()\r\n            }\r\n        }\r\n    }\r\n\r\n\tprivate companion object {\r\n\t\tprivate consta val REQUEST_CODE = 42\r\n\t}\r\n}\r\n\r\n```","title":"Screen recording asks permission every time in android version 12 or above","body":"<p>In my experience, you can save the result of media projection intent and reuse it during the same application process session. That is how most applications overcome this issue.</p>\n<p>But be aware that it is more a hack than a solution because the docs do not guarantee it. In contrast, it says you can not reuse it. So use it at your own risk.</p>\n<p>From my observations, it will work almost everywhere except some Xiaomi and Huawei devices. You can add them to ignore list and ask every time. Another good idea will be to add a try-catch when reusing an intent, so you can request permission again if the intent is expired.</p>\n<p>Context: we use this hack in an application with millions of active users, so it has some credibility.</p>\n<p>Code snippet to get the idea, but not production ready:</p>\n<pre><code>object MediaProjectionIntentHolder {\n    \n    var intent: Intent? = null\n\n}\n\nclass ScreenRecordingFragment : Fragment() {\n    \n\n    // A user clicked button and this function is called\n    private fun startScreenRecording() {\n        val intent = MediaProjectionIntentHolder.intent\n        // You can check Huawei / Xiaomi devices here to ask permission every time\n        if (intent != null) {\n            recordScreen(intent)\n        } else {\n            requestPermission()\n        }\n    }\n\n    private fun recordScreen(intent: Intent) {\n        // Actual screen recording start\n    }\n\n    private showError() {\n        // show error\n    }\n\n\n    private fun requestPermission() {\n        val service = requireContext().getSystemService(Context.MEDIA_PROJECTION_SERVICE) as MediaProjectionManager\n        val intent = service.createScreenCaptureIntent()\n\n        val screenRecordingSupported = context.packageManager.queryIntentActivities(intent, 0).isNotEmpty()\n\n        if (screenRecordingSupported) {\n            startActivityForResult(intent, REQUEST_CODE)\n        } else {\n            showError()\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n        if (requestCode == REQUEST_CODE) {\n            if (resultCode == Activity.RESULT_OK &amp;&amp; data != null) {\n                MediaProjectionIntentHolder.intent = data\n                recordScreen(data)\n            } else {\n                showError()\n            }\n        }\n    }\n\n    private companion object {\n        private consta val REQUEST_CODE = 42\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":27825796,"reputation":11,"user_id":21245258,"display_name":"Kitty Kagaya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75502023,"answer_count":1,"score":1,"last_activity_date":1676913555,"creation_date":1676821673,"question_id":75501334,"body_markdown":"Thanks for your attention about my trouble.\r\nI am working with android + java &amp; kotlin app.\r\nIt needs to be screen recorded but it asks permission every time in android version 12 or above.\r\n\r\nScreen Record Permission Request\r\n\r\n[1]:https://i.stack.imgur.com/ydB4O.png\r\n\r\n![1]\r\n\r\nI hope this would ask only one time for permission request.\r\nI&#39;ve seen [XRecorder](https://play.google.com/store/apps/details?id=videoeditor.videorecorder.screenrecorder) does require once for screen recording permission not every time.\r\nIsn&#39;t there anyway to make my app to ask only one time for permission request.\r\nWish someone would help me to solve this.","title":"Screen recording asks permission every time in android version 12 or above","body":"<p>Thanks for your attention about my trouble.\nI am working with android + java &amp; kotlin app.\nIt needs to be screen recorded but it asks permission every time in android version 12 or above.</p>\n<p>Screen Record Permission Request</p>\n<p><img src=\"https://i.stack.imgur.com/ydB4O.png\" alt=\"1\" /></p>\n<p>I hope this would ask only one time for permission request.\nI've seen <a href=\"https://play.google.com/store/apps/details?id=videoeditor.videorecorder.screenrecorder\" rel=\"nofollow noreferrer\">XRecorder</a> does require once for screen recording permission not every time.\nIsn't there anyway to make my app to ask only one time for permission request.\nWish someone would help me to solve this.</p>\n"},{"tags":["java","maven","slf4j"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1676914960,"post_id":75512334,"comment_id":133229195,"body_markdown":"Did you actually try? It should work just fine, but I would make sure the exclusions are correct by trying to reference log4j 1.x directly from my own code to make sure it&#39;s going through slf4j.","body":"Did you actually try? It should work just fine, but I would make sure the exclusions are correct by trying to reference log4j 1.x directly from my own code to make sure it&#39;s going through slf4j."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1676920266,"post_id":75512334,"comment_id":133230550,"body_markdown":"@E-Riz You are right, with correct exclusions it works just fine.","body":"@E-Riz You are right, with correct exclusions it works just fine."}],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676913340,"creation_date":1676913340,"question_id":75512334,"body_markdown":"My standalone Java program should log with slf4j.\r\n\r\nSome of dependencies log with log4j in version 1.x.\r\n\r\nI understand that I must probably put exclusions on log4j for those dependencies and in turn add the `log4j-over-slf4j` dependency to my project?\r\n\r\nBut what about the logging backend then? Can I still use log4j in version 2 as backend for slf4j? Or will this lead to an endless logging loop? ","title":"Using slf4j with code calling log12 code - what about the logging backend?","body":"<p>My standalone Java program should log with slf4j.</p>\n<p>Some of dependencies log with log4j in version 1.x.</p>\n<p>I understand that I must probably put exclusions on log4j for those dependencies and in turn add the <code>log4j-over-slf4j</code> dependency to my project?</p>\n<p>But what about the logging backend then? Can I still use log4j in version 2 as backend for slf4j? Or will this lead to an endless logging loop?</p>\n"},{"tags":["javascript","java","string","unicode","character"],"comments":[{"owner":{"account_id":24409551,"reputation":13,"user_id":18337220,"display_name":"Dan Howard"},"score":0,"creation_date":1676909059,"post_id":75511386,"comment_id":133227543,"body_markdown":"Basically how do I convert from ascii to the underscored variant.  That&#39;s what I&#39;m interested in.","body":"Basically how do I convert from ascii to the underscored variant.  That&#39;s what I&#39;m interested in."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676914676,"post_id":75511386,"comment_id":133229115,"body_markdown":"Not all letters from Basic Latin (A-Z) have a matching character with a line below. For example, `A` does not, while `B` does. See [*Latin Extended Additional*](https://www.compart.com/en/unicode/block/U+1E00) block page.","body":"Not all letters from Basic Latin (A-Z) have a matching character with a line below. For example, <code>A</code> does not, while <code>B</code> does. See <a href=\"https://www.compart.com/en/unicode/block/U+1E00\" rel=\"nofollow noreferrer\"><i>Latin Extended Additional</i></a> block page."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1676908952,"post_id":75511496,"comment_id":133227503,"body_markdown":"This answer clearly doesn&#39;t answer what OP is asking for. However, it correctly surmises that OP has fallen afoul of the X/Y rule: OP wants a certain thing &#39;X&#39; (X = underscores in JavaFX menus), and has thought of a solution &#39;Y&#39; (Y = use unicode chars that look like basic alphabet letters with underscores), but now has questions about Y. However, Y is a really bad solution to X. I&#39;m not quite certain what SO policy is, but, this helps the asker and is likely highly relevant to anybody asking &#39;how do I convert from ascii to the underscored variant&#39;, so, this serves as the best answer.","body":"This answer clearly doesn&#39;t answer what OP is asking for. However, it correctly surmises that OP has fallen afoul of the X/Y rule: OP wants a certain thing &#39;X&#39; (X = underscores in JavaFX menus), and has thought of a solution &#39;Y&#39; (Y = use unicode chars that look like basic alphabet letters with underscores), but now has questions about Y. However, Y is a really bad solution to X. I&#39;m not quite certain what SO policy is, but, this helps the asker and is likely highly relevant to anybody asking &#39;how do I convert from ascii to the underscored variant&#39;, so, this serves as the best answer."},{"owner":{"account_id":24409551,"reputation":13,"user_id":18337220,"display_name":"Dan Howard"},"score":0,"creation_date":1676908985,"post_id":75511496,"comment_id":133227524,"body_markdown":"@DaveS Yeah true but the user needs to press &lt;alt&gt; to enable it.  In my case my &quot;menu&quot; is just a series of styled buttons. I&#39;m just wondering if there&#39;s a defined relationship with these characters like upper and lower can easily be converted with with addition or subtraction.","body":"@DaveS Yeah true but the user needs to press &lt;alt&gt; to enable it.  In my case my &quot;menu&quot; is just a series of styled buttons. I&#39;m just wondering if there&#39;s a defined relationship with these characters like upper and lower can easily be converted with with addition or subtraction."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1676909067,"post_id":75511496,"comment_id":133227545,"body_markdown":"@DanHoward Your complaint boils down to: &quot;Yeah but I hate how JavaFX does it / I hate how the OS itself even works, so for just my one app I want to completely reinvent it all, and, uh, screenreaders? Accessibility? I don&#39;t know what that means&quot;. You see how you should just do the thing the OS and JavaFX libraries intend for you to do to have accelerators for the menu, and not handroll your own solution here.","body":"@DanHoward Your complaint boils down to: &quot;Yeah but I hate how JavaFX does it / I hate how the OS itself even works, so for just my one app I want to completely reinvent it all, and, uh, screenreaders? Accessibility? I don&#39;t know what that means&quot;. You see how you should just do the thing the OS and JavaFX libraries intend for you to do to have accelerators for the menu, and not handroll your own solution here."},{"owner":{"account_id":24409551,"reputation":13,"user_id":18337220,"display_name":"Dan Howard"},"score":0,"creation_date":1676909161,"post_id":75511496,"comment_id":133227583,"body_markdown":"@rzwitserloot It&#39;s a question. Not a complaint.","body":"@rzwitserloot It&#39;s a question. Not a complaint."},{"owner":{"account_id":94279,"reputation":3166,"user_id":257489,"accept_rate":100,"display_name":"DaveS"},"score":0,"creation_date":1676912118,"post_id":75511496,"comment_id":133228417,"body_markdown":"I think you&#39;ll just have to use string replacement function calls. I.e. `str.replace(&quot;d&quot;, &quot;\\u1E0F&quot;);`. You could build a function that takes a normal letter, and replaces it via a map, but you&#39;d probably have to build that map manually.","body":"I think you&#39;ll just have to use string replacement function calls. I.e. <code>str.replace(&quot;d&quot;, &quot;\\u1E0F&quot;);</code>. You could build a function that takes a normal letter, and replaces it via a map, but you&#39;d probably have to build that map manually."}],"tags":[],"owner":{"account_id":94279,"reputation":3166,"user_id":257489,"accept_rate":100,"display_name":"DaveS"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676908550,"creation_date":1676908550,"answer_id":75511496,"question_id":75511386,"body_markdown":"What would a screen reader read the underlined characters as? \r\n\r\nJavaFX has [keyboard mnemonics](https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MenuItem.html#mnemonicParsingProperty) built-in and enabled by default. All you have to do is put an underscore before the letter you want to use.\r\n\r\nAlso, there are [accelorators](https://www.tutorialspoint.com/how-to-add-accelerators-to-a-menu-item) if you want to show keyboard shortcuts beside menu items.","title":"Convert characters to underscore characters with utf-8","body":"<p>What would a screen reader read the underlined characters as?</p>\n<p>JavaFX has <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/control/MenuItem.html#mnemonicParsingProperty\" rel=\"nofollow noreferrer\">keyboard mnemonics</a> built-in and enabled by default. All you have to do is put an underscore before the letter you want to use.</p>\n<p>Also, there are <a href=\"https://www.tutorialspoint.com/how-to-add-accelerators-to-a-menu-item\" rel=\"nofollow noreferrer\">accelorators</a> if you want to show keyboard shortcuts beside menu items.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1676913165,"creation_date":1676911586,"answer_id":75512029,"question_id":75511386,"body_markdown":"Try it like this. Use the diacritic `(\\\\u0332)` for underscoring.\r\n```\r\nString uscore = &quot;\\u0332&quot;;\r\nfor (char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) {\r\n    String s = uscore + c;\r\n    System.out.print(s + &quot; &quot;);        \r\n    \r\n}\r\n```\r\nprints\r\n```\r\na̲ b̲ c̲ d̲ e̲ f̲ g̲ h̲ i̲ j̲ k̲ l̲ m̲ n̲ o̲ p̲ q̲ r̲ s̲ t̲ u̲ v̲ w̲ x̲ y̲ z̲\r\n```\r\n**Caveat:**  When printing with `Eclipse`, those that go below the base line don&#39;t show as underscored in the console. They do show up when I paste them into the answer.  It may be due to the fact that I have not upgraded to `JDK 19` as per the bug report on `System.out` support as mentioned [here](https://stackoverflow.com/a/75399383/1552534)","title":"Convert characters to underscore characters with utf-8","body":"<p>Try it like this. Use the diacritic <code>(\\\\u0332)</code> for underscoring.</p>\n<pre><code>String uscore = &quot;\\u0332&quot;;\nfor (char c = 'a'; c &lt;= 'z'; c++) {\n    String s = uscore + c;\n    System.out.print(s + &quot; &quot;);        \n    \n}\n</code></pre>\n<p>prints</p>\n<pre><code>a̲ b̲ c̲ d̲ e̲ f̲ g̲ h̲ i̲ j̲ k̲ l̲ m̲ n̲ o̲ p̲ q̲ r̲ s̲ t̲ u̲ v̲ w̲ x̲ y̲ z̲\n</code></pre>\n<p><strong>Caveat:</strong>  When printing with <code>Eclipse</code>, those that go below the base line don't show as underscored in the console. They do show up when I paste them into the answer.  It may be due to the fact that I have not upgraded to <code>JDK 19</code> as per the bug report on <code>System.out</code> support as mentioned <a href=\"https://stackoverflow.com/a/75399383/1552534\">here</a></p>\n"}],"owner":{"account_id":24409551,"reputation":13,"user_id":18337220,"display_name":"Dan Howard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75512029,"answer_count":2,"score":1,"last_activity_date":1676913165,"creation_date":1676907938,"question_id":75511386,"body_markdown":"I&#39;m surprised I could not find this but I notice Unicode contains underscore versions of the letters and I&#39;d like something that could convert one to the other. \r\n\r\nexample: \r\n\r\nhttps://www.compart.com/en/unicode/U+1E0F\r\n\r\n “ḏ” (U+1E0F)\r\n\r\nand\r\n\r\n “d” (U+0064)\r\n\r\nHas anyone written a character converter to allow me to take a substring and convert some characters to their underscore versions?  I&#39;m not 100% sure of the relationships.\r\n\r\nJava or JavaScript or C# or other would be fine.\r\n\r\nTIA\r\n\r\nThis is for a menu in JavaFX. I could do it with a graphic maybe but I would lose styles. ","title":"Convert characters to underscore characters with utf-8","body":"<p>I'm surprised I could not find this but I notice Unicode contains underscore versions of the letters and I'd like something that could convert one to the other.</p>\n<p>example:</p>\n<p><a href=\"https://www.compart.com/en/unicode/U+1E0F\" rel=\"nofollow noreferrer\">https://www.compart.com/en/unicode/U+1E0F</a></p>\n<p>“ḏ” (U+1E0F)</p>\n<p>and</p>\n<p>“d” (U+0064)</p>\n<p>Has anyone written a character converter to allow me to take a substring and convert some characters to their underscore versions?  I'm not 100% sure of the relationships.</p>\n<p>Java or JavaScript or C# or other would be fine.</p>\n<p>TIA</p>\n<p>This is for a menu in JavaFX. I could do it with a graphic maybe but I would lose styles.</p>\n"},{"tags":["java","filter","stream","java-stream","chain"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1676913157,"post_id":75512279,"comment_id":133228682,"body_markdown":"It&#39;s parallel already. Those extra calls are useless.","body":"It&#39;s parallel already. Those extra calls are useless."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1676913422,"post_id":75512279,"comment_id":133228768,"body_markdown":"Related: [Java Stream API - Parallel and Sequential Streams](https://stackoverflow.com/q/63112716/6395627)","body":"Related: <a href=\"https://stackoverflow.com/q/63112716/6395627\">Java Stream API - Parallel and Sequential Streams</a>"},{"owner":{"account_id":17484987,"reputation":187,"user_id":12959368,"display_name":"Pavlo Maistrenko"},"score":0,"creation_date":1676913678,"post_id":75512279,"comment_id":133228845,"body_markdown":"So, the ```filter()``` effectively returns the same stream, but filtered, right?","body":"So, the <code>filter()</code> effectively returns the same stream, but filtered, right?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1676914027,"post_id":75512279,"comment_id":133228943,"body_markdown":"No, that&#39;s imprecise. Filter returns a stream containing the instruction that filtering should happen when a terminal operation, like `count`, runs. The actual stream is not filtered until the end. Likewise, `parallel` does nothing but set a flag saying &quot;this should be run in parallel&quot;, which is not checked again until the terminal operation. That&#39;s why multiple calls to `parallel` just equates to setting a flag that&#39;s already set.","body":"No, that&#39;s imprecise. Filter returns a stream containing the instruction that filtering should happen when a terminal operation, like <code>count</code>, runs. The actual stream is not filtered until the end. Likewise, <code>parallel</code> does nothing but set a flag saying &quot;this should be run in parallel&quot;, which is not checked again until the terminal operation. That&#39;s why multiple calls to <code>parallel</code> just equates to setting a flag that&#39;s already set."},{"owner":{"account_id":17484987,"reputation":187,"user_id":12959368,"display_name":"Pavlo Maistrenko"},"score":0,"creation_date":1676915818,"post_id":75512279,"comment_id":133229430,"body_markdown":"Now I get it. It resembles an SQL query. Thank you, Michael, for the explanation, and Slaw, for the link.","body":"Now I get it. It resembles an SQL query. Thank you, Michael, for the explanation, and Slaw, for the link."}],"owner":{"account_id":17484987,"reputation":187,"user_id":12959368,"display_name":"Pavlo Maistrenko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676912980,"creation_date":1676912980,"question_id":75512279,"body_markdown":"The following code applies a chain of filters to a Stream and then counts the number of resulting items:\r\n\r\n```    \r\npublic int countNumberOfFailedStudentsunder20(\r\n            final Student[] studentArray) {\r\n        return (int) Stream.of(studentArray)\r\n              .parallel()\r\n              .filter(s -&gt; !s.checkIsCurrent())\r\n              .parallel()\r\n              .filter(s -&gt; s.getAge() &gt; 20)\r\n              .parallel()\r\n              .filter(s -&gt; s.getGrade() &lt; 65)\r\n              .count();\r\n    }\r\n``` \r\nIs the output of each subsequent filter a parallel stream (while the initial stream was made parallel by calling ```parallel()```) or it must be converted to a parallel stream explicitly, like it presently is.  ","title":"Is the output of filter() on a Java parallel stream also parallel? (chaining filters, executed in parallel)","body":"<p>The following code applies a chain of filters to a Stream and then counts the number of resulting items:</p>\n<pre><code>public int countNumberOfFailedStudentsunder20(\n            final Student[] studentArray) {\n        return (int) Stream.of(studentArray)\n              .parallel()\n              .filter(s -&gt; !s.checkIsCurrent())\n              .parallel()\n              .filter(s -&gt; s.getAge() &gt; 20)\n              .parallel()\n              .filter(s -&gt; s.getGrade() &lt; 65)\n              .count();\n    }\n</code></pre>\n<p>Is the output of each subsequent filter a parallel stream (while the initial stream was made parallel by calling <code>parallel()</code>) or it must be converted to a parallel stream explicitly, like it presently is.</p>\n"},{"tags":["java","user-input"],"comments":[{"owner":{"account_id":6587107,"reputation":23126,"user_id":5089567,"accept_rate":83,"display_name":"Konrad"},"score":0,"creation_date":1676911933,"post_id":75512077,"comment_id":133228354,"body_markdown":"https://stackoverflow.com/questions/245062/whats-the-difference-between-javascript-and-java","body":"<a href=\"https://stackoverflow.com/questions/245062/whats-the-difference-between-javascript-and-java\" title=\"whats the difference between javascript and java\">stackoverflow.com/questions/245062/&hellip;</a>"},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":0,"creation_date":1676912004,"post_id":75512077,"comment_id":133228382,"body_markdown":"Does your code really start with `Import java.util.Scanner;`? Because that won&#39;t compile, Java is case-sensitive.","body":"Does your code really start with <code>Import java.util.Scanner;</code>? Because that won&#39;t compile, Java is case-sensitive."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1676912172,"post_id":75512077,"comment_id":133228434,"body_markdown":"Please review: https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo  It could be at least a *part* of your problem.","body":"Please review: <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\" title=\"scanner is skipping nextline after using next or nextfoo\">stackoverflow.com/questions/13102045/&hellip;</a>  It could be at least a <i>part</i> of your problem."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":1,"creation_date":1676912334,"post_id":75512077,"comment_id":133228488,"body_markdown":"you have this &gt; `;`  on the while and in all ifs ex: `(menuChoice != 5);`  and what it should be `(menuChoice != 5)`","body":"you have this &gt; <code>;</code>  on the while and in all ifs ex: <code>(menuChoice != 5);</code>  and what it should be <code>(menuChoice != 5)</code>"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1676912388,"post_id":75512077,"comment_id":133228504,"body_markdown":"See the dupe to get an answer to your current issue. Then see the question @PM77-1 has linked to, this is also an issue in your code. And you never ask the user for another menu item when the first item has been processed.","body":"See the dupe to get an answer to your current issue. Then see the question @PM77-1 has linked to, this is also an issue in your code. And you never ask the user for another menu item when the first item has been processed."}],"owner":{"account_id":26654885,"reputation":11,"user_id":20268575,"display_name":"raisu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676912322,"answer_count":0,"score":0,"last_activity_date":1676912435,"creation_date":1676911835,"question_id":75512077,"body_markdown":"I&#39;m a beginner to Java, the code is for a homework assignment regarding files and loops.\r\nWhen I to run this code to check for any errors, when hitting a number, it doesn&#39;t go forward past the menu. However, if I hit 5, it then start&#39;s with the choice that&#39;s meant for 1. I&#39;m not exactly sure what&#39;s happening that&#39;s resulting in the error. \r\n\r\n\r\nI did try to switch the code to a switch method instead of a while loop, but that resulted in just the code not moving forward regardless of what option was selected. I also tried moving scanners around but that didn&#39;t also effect it.\r\n\r\nThe following is the code for reference \r\n```\r\nImport java.util.Scanner; \r\nimport java.io.*;\r\n\r\n\r\npublic class Homework3A {\r\n\tpublic static void main(String[] args) throws IOException\r\n\t{ \r\n\t\t\r\n\t\t//Homework3A\r\n\t\t//Lance Torres, completed on DATE\r\n\t\t\r\n\t\t\t\t\r\n\t\tScanner userInput = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;1. Add student\\n&quot;\r\n\t\t\t\t+ &quot;2. Add course \\n&quot;\r\n\t\t\t\t+ &quot;3. Display student\\n&quot;\r\n\t\t\t\t+ &quot;4. Display Course.\\n&quot;\r\n\t\t\t\t+ &quot;5. Exit&quot;); //the message that will display to start the menu \r\n\t\t \r\n\t\tint menuChoice = userInput.nextInt(); //changing the scanner type into a int type for the menu loop \r\n\t\t//will be using a while loop for this since it is a loop i am more familiar with when typing menus \r\n\t\tPrintWriter StudentOPFile = new PrintWriter(&quot;Students.txt&quot;);\r\n\t\tPrintWriter CoursesOPFile = new PrintWriter(&quot;Courses.txt&quot;); \r\n\t\twhile (menuChoice != 5); //this loop will keep happening until the user hits the int 5  \r\n\t\t{ \r\n\t\t\tif (menuChoice == 1); //for adding a student \r\n\t\t\t{ \r\n\t\t\t\tScanner studentInput = new Scanner(System.in); \r\n\t\t\t\tSystem.out.println(&quot;Please enter the new Student ID. &quot;); \r\n\t\t\t\tSystem.out.println(&quot;Student ID: &quot;); \r\n\t\t\t\tint studentID = studentInput.nextInt();\r\n\t\t\t\t//the system message and the string that will collect the user ID \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the Student&#39;s first name: &quot;); \r\n\t\t\t\tString firstName = studentInput.nextLine(); \r\n\t\t\t\t//code above is for when the user enters the first name of the student \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the Student&#39;s last name: &quot;); \r\n\t\t\t\tString lastName = studentInput.nextLine(); //for the last name of the student \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the address: &quot;); \r\n\t\t\t\tString address = studentInput.nextLine(); \r\n\t\t\t\t//for the address \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the city: &quot;); \r\n\t\t\t\tString city = studentInput.nextLine(); \r\n\t\t\t\t//for the city \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the state&quot;); \r\n\t\t\t\tString state = studentInput.nextLine(); \r\n\t\t\t\t//for the state \r\n\t\t\t\t\r\n\t\t\t\tFileWriter StudentWriter = new FileWriter(&quot;Students.txt&quot;, true); //adding a file writer in order to append information to the file\r\n\t\t\t\tPrintWriter outputFile = new PrintWriter(StudentWriter);\r\n\t\t\t\toutputFile.println(studentID + firstName + lastName + address + city + state); //adds all the information as a line \r\n\t\t\t\toutputFile.close(); //closes the file \r\n\t\t\t\tSystem.out.println(&quot;Student information added successfully.&quot;); //system display message when the system finishes writing it to file \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif (menuChoice == 2); \r\n\t\t\t{ \r\n\t\t\t\tScanner courseInput = new Scanner(System.in) ;\r\n\t\t\t\tSystem.out.println(&quot;Please enter the course ID: &quot;);\r\n\t\t\t\tint courseID = courseInput.nextInt(); \r\n\t\t\t\t//for when the user adds the courseID \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter the course name: &quot;); \r\n\t\t\t\tString courseName = courseInput.nextLine(); \r\n\t\t\t\t//when the user adds the course&#39;s name \r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;Please enter a decription for the course: &quot;); \r\n\t\t\t\tString courseDescrption = courseInput.nextLine(); \r\n\t\t\t\t//when the user adds the descrption, decided to make this a string as well since it could be a long sentence as opposed to a single world \r\n\t\t\t\t\r\n\t\t\t\tFileWriter CourseWriter = new FileWriter(&quot;Courses.txt&quot;, true); \r\n\t\t\t\tPrintWriter outputFile = new PrintWriter(CourseWriter);\r\n\t\t\t\toutputFile.println(courseID + courseName + courseDescrption);\r\n\t\t\t\toutputFile.close(); \r\n\t\t\t\tSystem.out.println(&quot;Course information added successfully.&quot;);\r\n\t\t\t} \r\n\t\t\tif (menuChoice == 3);\r\n\t\t\t{ \r\n\t\t\t\t File studentFile = new File(&quot;Students.txt&quot;);\r\n\t\t\t\t Scanner inputFileusingStudentID = new Scanner(studentFile); \r\n\t\t\t\t while (inputFileusingStudentID.hasNext())\r\n\t\t\t\t\t {\r\n\t\t\t\t\t String studentInformation = inputFileusingStudentID.nextLine(); \r\n\t\t\t\t\t \r\n\t\t\t\t\t System.out.println(studentInformation); \r\n\t\t\t\t\t }\r\n\t\t\t\t inputFileusingStudentID.close(); \r\n\t\t\t}\r\n\t\t\tif (menuChoice == 4); \r\n\t\t\t{ \r\n\t\t\t\t File coursesFile = new File(&quot;Courses.txt&quot;);\r\n\t\t\t\t Scanner inputFileusingCourseID = new Scanner(coursesFile); \r\n\t\t\t\t while (inputFileusingCourseID.hasNext())\r\n\t\t\t\t\t {\r\n\t\t\t\t\t String courseInformation = inputFileusingCourseID.nextLine(); \r\n\t\t\t\t\t \r\n\t\t\t\t\t System.out.println(courseInformation); \r\n\t\t\t\t\t }\r\n\t\t\t\t inputFileusingCourseID.close(); \r\n\t\t\t} System.out.println(&quot;Thank you for using the program. Now Exiting...&quot;);\r\n\t\t\tSystem.out.println(&quot;Goodbye.&quot;); \r\n\t\t} \t\r\n\t\r\n}\r\n\r\n\r\n```\r\n","title":"Code doesn&#39;t go through when inputting a number when prompted","body":"<p>I'm a beginner to Java, the code is for a homework assignment regarding files and loops.\nWhen I to run this code to check for any errors, when hitting a number, it doesn't go forward past the menu. However, if I hit 5, it then start's with the choice that's meant for 1. I'm not exactly sure what's happening that's resulting in the error.</p>\n<p>I did try to switch the code to a switch method instead of a while loop, but that resulted in just the code not moving forward regardless of what option was selected. I also tried moving scanners around but that didn't also effect it.</p>\n<p>The following is the code for reference</p>\n<pre><code>Import java.util.Scanner; \nimport java.io.*;\n\n\npublic class Homework3A {\n    public static void main(String[] args) throws IOException\n    { \n        \n        //Homework3A\n        //Lance Torres, completed on DATE\n        \n                \n        Scanner userInput = new Scanner(System.in);\n        System.out.println(&quot;1. Add student\\n&quot;\n                + &quot;2. Add course \\n&quot;\n                + &quot;3. Display student\\n&quot;\n                + &quot;4. Display Course.\\n&quot;\n                + &quot;5. Exit&quot;); //the message that will display to start the menu \n         \n        int menuChoice = userInput.nextInt(); //changing the scanner type into a int type for the menu loop \n        //will be using a while loop for this since it is a loop i am more familiar with when typing menus \n        PrintWriter StudentOPFile = new PrintWriter(&quot;Students.txt&quot;);\n        PrintWriter CoursesOPFile = new PrintWriter(&quot;Courses.txt&quot;); \n        while (menuChoice != 5); //this loop will keep happening until the user hits the int 5  \n        { \n            if (menuChoice == 1); //for adding a student \n            { \n                Scanner studentInput = new Scanner(System.in); \n                System.out.println(&quot;Please enter the new Student ID. &quot;); \n                System.out.println(&quot;Student ID: &quot;); \n                int studentID = studentInput.nextInt();\n                //the system message and the string that will collect the user ID \n                \n                System.out.println(&quot;Please enter the Student's first name: &quot;); \n                String firstName = studentInput.nextLine(); \n                //code above is for when the user enters the first name of the student \n                \n                System.out.println(&quot;Please enter the Student's last name: &quot;); \n                String lastName = studentInput.nextLine(); //for the last name of the student \n                \n                System.out.println(&quot;Please enter the address: &quot;); \n                String address = studentInput.nextLine(); \n                //for the address \n                \n                System.out.println(&quot;Please enter the city: &quot;); \n                String city = studentInput.nextLine(); \n                //for the city \n                \n                System.out.println(&quot;Please enter the state&quot;); \n                String state = studentInput.nextLine(); \n                //for the state \n                \n                FileWriter StudentWriter = new FileWriter(&quot;Students.txt&quot;, true); //adding a file writer in order to append information to the file\n                PrintWriter outputFile = new PrintWriter(StudentWriter);\n                outputFile.println(studentID + firstName + lastName + address + city + state); //adds all the information as a line \n                outputFile.close(); //closes the file \n                System.out.println(&quot;Student information added successfully.&quot;); //system display message when the system finishes writing it to file \n                }\n                \n            }\n            if (menuChoice == 2); \n            { \n                Scanner courseInput = new Scanner(System.in) ;\n                System.out.println(&quot;Please enter the course ID: &quot;);\n                int courseID = courseInput.nextInt(); \n                //for when the user adds the courseID \n                \n                System.out.println(&quot;Please enter the course name: &quot;); \n                String courseName = courseInput.nextLine(); \n                //when the user adds the course's name \n                \n                System.out.println(&quot;Please enter a decription for the course: &quot;); \n                String courseDescrption = courseInput.nextLine(); \n                //when the user adds the descrption, decided to make this a string as well since it could be a long sentence as opposed to a single world \n                \n                FileWriter CourseWriter = new FileWriter(&quot;Courses.txt&quot;, true); \n                PrintWriter outputFile = new PrintWriter(CourseWriter);\n                outputFile.println(courseID + courseName + courseDescrption);\n                outputFile.close(); \n                System.out.println(&quot;Course information added successfully.&quot;);\n            } \n            if (menuChoice == 3);\n            { \n                 File studentFile = new File(&quot;Students.txt&quot;);\n                 Scanner inputFileusingStudentID = new Scanner(studentFile); \n                 while (inputFileusingStudentID.hasNext())\n                     {\n                     String studentInformation = inputFileusingStudentID.nextLine(); \n                     \n                     System.out.println(studentInformation); \n                     }\n                 inputFileusingStudentID.close(); \n            }\n            if (menuChoice == 4); \n            { \n                 File coursesFile = new File(&quot;Courses.txt&quot;);\n                 Scanner inputFileusingCourseID = new Scanner(coursesFile); \n                 while (inputFileusingCourseID.hasNext())\n                     {\n                     String courseInformation = inputFileusingCourseID.nextLine(); \n                     \n                     System.out.println(courseInformation); \n                     }\n                 inputFileusingCourseID.close(); \n            } System.out.println(&quot;Thank you for using the program. Now Exiting...&quot;);\n            System.out.println(&quot;Goodbye.&quot;); \n        }   \n    \n}\n\n\n</code></pre>\n"},{"tags":["java","spring-boot","selenium-webdriver","testng","testrail"],"owner":{"account_id":27834229,"reputation":11,"user_id":21252052,"display_name":"Najaf Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676912390,"creation_date":1676912390,"question_id":75512185,"body_markdown":"I&#39;m using third party tool TestRail, I need to run my UI Automation scripts using UI scripts of testRail. I need to expose an API in the src.test.java.xxxx folder instead of src.main.java.xxxx that will actually execute the TestNG tests.\r\nhttps://support.gurock.com/hc/en-us/articles/7344009893908-UI-scripts-introduction\r\nSpring is not allowing me to expose an API in the test folder. \r\nIs there any specific configuration required to create API in test folder? We are already using Spring in our test folder like:\r\n\r\n```\r\npackage com.xxxx.selenium;\r\n\r\nimport com.xxxx.selenium.logging.LoggingAspect;\r\nimport org.springframework.context.annotation.*;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Configuration\r\n@ComponentScan(basePackages={&quot;com.xxxx.selenium.*&quot;, &quot;com.xxxx.restassured&quot;})\r\n@PropertySource({&quot;classpath:application-test.properties&quot;,&quot;classpath:api-test.properties&quot;,\r\n        &quot;classpath:taxlookup-apidata.properties&quot;})\r\n@EnableAspectJAutoProxy(proxyTargetClass = true)\r\npublic class TestConfig {\r\n\r\n    @Bean\r\n    public LoggingAspect loggingAspect() {\r\n        return new LoggingAspect();\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@SpringBootTest(classes = TestConfig.class)\r\npublic class AbstractTest extends AbstractTestNGSpringContextTests\r\n{\r\n\r\n    private static Logger logger = LoggerFactory.getLogger(AbstractTest.class);\r\n\r\n    @Autowired\r\n    protected LoadURL loadURL;\r\n    @Autowired\r\n    protected Menu menu;\r\n    @Autowired\r\n    protected ReportManager manager;\r\n```\r\n\r\n\r\n\r\n\r\nI have tried to run the piece of code by creating a main method in the test folder and It was executing the tests.\r\n\r\n```\r\npackage com.xxxx;\r\n\r\nimport com.xxxx.selenium.listeners.TestListener;\r\nimport com.xxxx.selenium.sanitypack.BarCodeCycleCountSanity;\r\nimport org.testng.ITestNGListener;\r\nimport org.testng.TestNG;\r\n\r\n\r\npublic class Main {\r\n    public static void main(String args[]){\r\n        ITestNGListener testListener = new TestListener();\r\n        TestNG testNG = new TestNG();\r\n        testNG.setTestClasses(new Class[] {xyz.class});\r\n        testNG.addListener(testListener);\r\n        testNG.run();\r\n\r\n    }\r\n}\r\n```\r\n\r\nI have also tried to move the above mentioned code in the main folder but the packages do not import in the main folder.\r\n\r\n","title":"Can we expose API in test folder instead of main folder in spring boot java","body":"<p>I'm using third party tool TestRail, I need to run my UI Automation scripts using UI scripts of testRail. I need to expose an API in the src.test.java.xxxx folder instead of src.main.java.xxxx that will actually execute the TestNG tests.\n<a href=\"https://support.gurock.com/hc/en-us/articles/7344009893908-UI-scripts-introduction\" rel=\"nofollow noreferrer\">https://support.gurock.com/hc/en-us/articles/7344009893908-UI-scripts-introduction</a>\nSpring is not allowing me to expose an API in the test folder.\nIs there any specific configuration required to create API in test folder? We are already using Spring in our test folder like:</p>\n<pre><code>package com.xxxx.selenium;\n\nimport com.xxxx.selenium.logging.LoggingAspect;\nimport org.springframework.context.annotation.*;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Configuration\n@ComponentScan(basePackages={&quot;com.xxxx.selenium.*&quot;, &quot;com.xxxx.restassured&quot;})\n@PropertySource({&quot;classpath:application-test.properties&quot;,&quot;classpath:api-test.properties&quot;,\n        &quot;classpath:taxlookup-apidata.properties&quot;})\n@EnableAspectJAutoProxy(proxyTargetClass = true)\npublic class TestConfig {\n\n    @Bean\n    public LoggingAspect loggingAspect() {\n        return new LoggingAspect();\n    }\n}\n</code></pre>\n<pre><code>@SpringBootTest(classes = TestConfig.class)\npublic class AbstractTest extends AbstractTestNGSpringContextTests\n{\n\n    private static Logger logger = LoggerFactory.getLogger(AbstractTest.class);\n\n    @Autowired\n    protected LoadURL loadURL;\n    @Autowired\n    protected Menu menu;\n    @Autowired\n    protected ReportManager manager;\n</code></pre>\n<p>I have tried to run the piece of code by creating a main method in the test folder and It was executing the tests.</p>\n<pre><code>package com.xxxx;\n\nimport com.xxxx.selenium.listeners.TestListener;\nimport com.xxxx.selenium.sanitypack.BarCodeCycleCountSanity;\nimport org.testng.ITestNGListener;\nimport org.testng.TestNG;\n\n\npublic class Main {\n    public static void main(String args[]){\n        ITestNGListener testListener = new TestListener();\n        TestNG testNG = new TestNG();\n        testNG.setTestClasses(new Class[] {xyz.class});\n        testNG.addListener(testListener);\n        testNG.run();\n\n    }\n}\n</code></pre>\n<p>I have also tried to move the above mentioned code in the main folder but the packages do not import in the main folder.</p>\n"},{"tags":["java","kotlin","aws-lambda","cold-start"],"answers":[{"tags":[],"owner":{"account_id":27222298,"reputation":11,"user_id":20751328,"display_name":"Jan Br&#252;ggmann"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671204887,"creation_date":1670928867,"answer_id":74783697,"question_id":74737674,"body_markdown":"I ran into essentially the same issue (with Java instead of Kotlin) and the solution was to switch the runtime-&gt;handler from\r\n\r\n    org.springframework.cloud.function.adapter.aws.SpringBootStreamHandler\r\n\r\nto\r\n\r\n    org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest\r\n\r\n","title":"SnapStart function priming - Doesn&#39;t seem to be working","body":"<p>I ran into essentially the same issue (with Java instead of Kotlin) and the solution was to switch the runtime-&gt;handler from</p>\n<pre><code>org.springframework.cloud.function.adapter.aws.SpringBootStreamHandler\n</code></pre>\n<p>to</p>\n<pre><code>org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleRequest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3681487,"reputation":31,"user_id":3066352,"display_name":"Aleksandras Mileris"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676912084,"creation_date":1676909667,"answer_id":75511712,"question_id":74737674,"body_markdown":"It would probably be worth mentioning that as of 2023-02-20 [SnapStart isn&#39;t engaged for $LATEST][1] version of an AWS Lambda function, i.e. make sure you are invoking a particular published version. Otherwise, [Best practices for working with Lambda SnapStart article][2] says that the main performance killers are dynamically loaded classes, and network connections that need to be re-established from time to time.\r\n\r\nFrom [Snapstart Integration issue][3] raised for Spring Cloud Function on GitHub I tend to think that switching to `org.springframework.cloud.function.adapter.aws.FunctionInvoker` probably somewhat helps, but doesn&#39;t address the performance challenges mentioned above. I&#39;m not sure if I&#39;m interpreting [olegz&#39;s advice][4] correctly, but what worked best so far for my AWS lambda function built with Spring Boot/Spring Cloud Function is a &quot;warm-up&quot; config. It hooks into the `CRaC lifecycle` via `beforeCheckpoint()` and issues dummy requests to S3 and DynamoDB before the VM snapshot is made. This way most dynamically-loaded classes are pre-loaded, and network connections are pre-established, before any subsequent function invocation takes place.\r\n\r\n```java\r\npackage eu.mycompany.mysamplesystem.attachmentstore.configuration;\r\n\r\nimport com.amazonaws.services.lambda.runtime.events.S3Event;\r\nimport eu.mycompany.mysamplesystem.attachmentstore.handlers.MainEventHandler;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.crac.Core;\r\nimport org.crac.Resource;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport software.amazon.awssdk.services.s3.model.NoSuchKeyException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n@Configuration\r\n@Slf4j\r\npublic class WarmUpConfig implements Resource {\r\n\r\n\tprivate final MainEventHandler mainEventHandler;\r\n\r\n\tpublic WarmUpConfig(final MainEventHandler mainEventHandler) {\r\n\t\tCore.getGlobalContext().register(this);\r\n\t\tthis.mainEventHandler = mainEventHandler;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) {\r\n\t\tlog.debug(&quot;Warm-up MainEventHandler by issuing dummy requests&quot;);\r\n\t\tdummyS3Invocation();\r\n\t\tdummyDynamoDbInvocation();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) {\r\n\r\n\t}\r\n\r\n\tpublic void dummyS3Invocation() {\r\n\t\tS3Event s3Event = generateWarmUpEvent(&quot;ObjectCreated:Put&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tmainEventHandler.handleRequest(s3Event, null);\r\n\t\t\tthrow new IllegalStateException(&quot;Warm-up event processing should have reached S3 and failed with S3Exception&quot;);\r\n\t\t} catch (NoSuchKeyException e) {\r\n\t\t\tlog.debug(&quot;S3Exception is expected, since it is a warm-up&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void dummyDynamoDbInvocation() {\r\n\t\tS3Event s3Event = generateWarmUpEvent(&quot;ObjectRemoved:Delete&quot;);\r\n\t\tmainEventHandler.handleRequest(s3Event, null);\r\n\t}\r\n\r\n\tprivate S3Event generateWarmUpEvent(String eventName) {\r\n\t\tS3Event.S3BucketEntity s3BucketEntity = new S3Event.S3BucketEntity(&quot;hopefully_non_existing_bucket&quot;, null, null);\r\n\t\tS3Event.S3ObjectEntity s3ObjectEntity = new S3Event.S3ObjectEntity(&quot;hopefully/non/existing.key&quot;, 0L, null, null, null);\r\n\t\tS3Event.S3Entity s3Entity = new S3Event.S3Entity(null, s3BucketEntity, s3ObjectEntity, null);\r\n\t\tList&lt;S3Event.S3EventNotificationRecord&gt; records = new ArrayList&lt;&gt;();\r\n\t\trecords.add(new S3Event.S3EventNotificationRecord(null, eventName, null, null, null, null, null, s3Entity, null));\r\n\t\treturn new S3Event(records);\r\n\t}\r\n}\r\n```\t\r\n\r\nP.S.: The `MainEventHandler` is basically the entry point to all the business logic exposed by the `Function`.\r\n\r\n```java\r\n@SpringBootApplication\r\n@RequiredArgsConstructor\r\npublic class Lambda {\r\n\r\n\tprivate final MainEventHandler mainEventHandler;\r\n\r\n\tpublic static void main(String... args) {\r\n\t\tSpringApplication.run(Lambda.class, args);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Function&lt;Message&lt;S3Event&gt;, String&gt; defaultFunctionLambda() {\r\n\t\treturn message -&gt; {\r\n\t\t\tContext context = message.getHeaders().get(&quot;aws-context&quot;, Context.class);\r\n\t\t\treturn mainEventHandler.handleRequest(message.getPayload(), context);\r\n\t\t};\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html\r\n  [2]: https://docs.aws.amazon.com/lambda/latest/dg/snapstart-best-practices.html\r\n  [3]: https://github.com/spring-cloud/spring-cloud-function/issues/967\r\n  [4]: https://github.com/spring-cloud/spring-cloud-function/issues/967#issuecomment-1400291803","title":"SnapStart function priming - Doesn&#39;t seem to be working","body":"<p>It would probably be worth mentioning that as of 2023-02-20 <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart.html\" rel=\"nofollow noreferrer\">SnapStart isn't engaged for $LATEST</a> version of an AWS Lambda function, i.e. make sure you are invoking a particular published version. Otherwise, <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/snapstart-best-practices.html\" rel=\"nofollow noreferrer\">Best practices for working with Lambda SnapStart article</a> says that the main performance killers are dynamically loaded classes, and network connections that need to be re-established from time to time.</p>\n<p>From <a href=\"https://github.com/spring-cloud/spring-cloud-function/issues/967\" rel=\"nofollow noreferrer\">Snapstart Integration issue</a> raised for Spring Cloud Function on GitHub I tend to think that switching to <code>org.springframework.cloud.function.adapter.aws.FunctionInvoker</code> probably somewhat helps, but doesn't address the performance challenges mentioned above. I'm not sure if I'm interpreting <a href=\"https://github.com/spring-cloud/spring-cloud-function/issues/967#issuecomment-1400291803\" rel=\"nofollow noreferrer\">olegz's advice</a> correctly, but what worked best so far for my AWS lambda function built with Spring Boot/Spring Cloud Function is a &quot;warm-up&quot; config. It hooks into the <code>CRaC lifecycle</code> via <code>beforeCheckpoint()</code> and issues dummy requests to S3 and DynamoDB before the VM snapshot is made. This way most dynamically-loaded classes are pre-loaded, and network connections are pre-established, before any subsequent function invocation takes place.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package eu.mycompany.mysamplesystem.attachmentstore.configuration;\n\nimport com.amazonaws.services.lambda.runtime.events.S3Event;\nimport eu.mycompany.mysamplesystem.attachmentstore.handlers.MainEventHandler;\nimport lombok.extern.slf4j.Slf4j;\nimport org.crac.Core;\nimport org.crac.Resource;\nimport org.springframework.context.annotation.Configuration;\nimport software.amazon.awssdk.services.s3.model.NoSuchKeyException;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Configuration\n@Slf4j\npublic class WarmUpConfig implements Resource {\n\n    private final MainEventHandler mainEventHandler;\n\n    public WarmUpConfig(final MainEventHandler mainEventHandler) {\n        Core.getGlobalContext().register(this);\n        this.mainEventHandler = mainEventHandler;\n    }\n\n    @Override\n    public void beforeCheckpoint(org.crac.Context&lt;? extends Resource&gt; context) {\n        log.debug(&quot;Warm-up MainEventHandler by issuing dummy requests&quot;);\n        dummyS3Invocation();\n        dummyDynamoDbInvocation();\n    }\n\n    @Override\n    public void afterRestore(org.crac.Context&lt;? extends Resource&gt; context) {\n\n    }\n\n    public void dummyS3Invocation() {\n        S3Event s3Event = generateWarmUpEvent(&quot;ObjectCreated:Put&quot;);\n\n        try {\n            mainEventHandler.handleRequest(s3Event, null);\n            throw new IllegalStateException(&quot;Warm-up event processing should have reached S3 and failed with S3Exception&quot;);\n        } catch (NoSuchKeyException e) {\n            log.debug(&quot;S3Exception is expected, since it is a warm-up&quot;);\n        }\n    }\n\n    public void dummyDynamoDbInvocation() {\n        S3Event s3Event = generateWarmUpEvent(&quot;ObjectRemoved:Delete&quot;);\n        mainEventHandler.handleRequest(s3Event, null);\n    }\n\n    private S3Event generateWarmUpEvent(String eventName) {\n        S3Event.S3BucketEntity s3BucketEntity = new S3Event.S3BucketEntity(&quot;hopefully_non_existing_bucket&quot;, null, null);\n        S3Event.S3ObjectEntity s3ObjectEntity = new S3Event.S3ObjectEntity(&quot;hopefully/non/existing.key&quot;, 0L, null, null, null);\n        S3Event.S3Entity s3Entity = new S3Event.S3Entity(null, s3BucketEntity, s3ObjectEntity, null);\n        List&lt;S3Event.S3EventNotificationRecord&gt; records = new ArrayList&lt;&gt;();\n        records.add(new S3Event.S3EventNotificationRecord(null, eventName, null, null, null, null, null, s3Entity, null));\n        return new S3Event(records);\n    }\n}\n</code></pre>\n<p>P.S.: The <code>MainEventHandler</code> is basically the entry point to all the business logic exposed by the <code>Function</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@RequiredArgsConstructor\npublic class Lambda {\n\n    private final MainEventHandler mainEventHandler;\n\n    public static void main(String... args) {\n        SpringApplication.run(Lambda.class, args);\n    }\n\n    @Bean\n    public Function&lt;Message&lt;S3Event&gt;, String&gt; defaultFunctionLambda() {\n        return message -&gt; {\n            Context context = message.getHeaders().get(&quot;aws-context&quot;, Context.class);\n            return mainEventHandler.handleRequest(message.getPayload(), context);\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11677676,"reputation":51,"user_id":8550604,"display_name":"EricTenenbaum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676912084,"creation_date":1670544814,"question_id":74737674,"body_markdown":"I’m somewhat new to Kotlin/Java, but I have been using AWS Lambda for several years now (all Python and Node). I’ve been trying to “successfully” enable SnapStart on a SpringBoot Lambda using Kotlin running on java11 corretto (the only runtime supported currently), but it doesn’t seem to be working as I would have expected. \r\n\r\nI have hooked into the CRaC lifecycle methods beforeCheckpoint and afterRestore. In beforeCheckpoint I’ve initialized the SpringBoot application and I can see it in the deployment logs (AWS creates log streams for the deployment phase with SnapStart lambdas). \r\n\r\nHowever, the concerning thing is I’m also seeing the SpringBoot app get initialized in the function invocation logs too. I would have expected that to only happen during the deployment/initialization phase when the snapshot is being created. As a result I’m not really seeing a tremendous improvement on latency or overall. \r\n\r\nAny ideas why this is happening? ","title":"SnapStart function priming - Doesn&#39;t seem to be working","body":"<p>I’m somewhat new to Kotlin/Java, but I have been using AWS Lambda for several years now (all Python and Node). I’ve been trying to “successfully” enable SnapStart on a SpringBoot Lambda using Kotlin running on java11 corretto (the only runtime supported currently), but it doesn’t seem to be working as I would have expected.</p>\n<p>I have hooked into the CRaC lifecycle methods beforeCheckpoint and afterRestore. In beforeCheckpoint I’ve initialized the SpringBoot application and I can see it in the deployment logs (AWS creates log streams for the deployment phase with SnapStart lambdas).</p>\n<p>However, the concerning thing is I’m also seeing the SpringBoot app get initialized in the function invocation logs too. I would have expected that to only happen during the deployment/initialization phase when the snapshot is being created. As a result I’m not really seeing a tremendous improvement on latency or overall.</p>\n<p>Any ideas why this is happening?</p>\n"},{"tags":["java","java.util.scanner","reader"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":2,"creation_date":1670449461,"post_id":74723102,"comment_id":131881513,"body_markdown":"You could use this library which can parse bibtex files: https://github.com/jbibtex/jbibtex","body":"You could use this library which can parse bibtex files: <a href=\"https://github.com/jbibtex/jbibtex\" rel=\"nofollow noreferrer\">github.com/jbibtex/jbibtex</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user20716279"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676912065,"creation_date":1670455796,"answer_id":74723956,"question_id":74723102,"body_markdown":"You can solve it using regex:\r\n\r\n    try {\r\n            File myFile = new File(&quot;Latex3.bib&quot;);\r\n            Scanner reader = new Scanner(myFile);\r\n            while (reader.hasNextLine()) {\r\n                Pattern pattern = Pattern.compile(&quot;=\\\\{([^}]*)&quot;);\r\n                Matcher matcher = pattern.matcher(reader.nextLine());\r\n                if (matcher.find()) {\r\n                    System.out.println(matcher.group(1));\r\n                }\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.getMessage();\r\n        }\r\n\r\n\r\nUse this to test your regex pattern: https://regex101.com/.\r\n\r\nAnd to learn about regex check this one: https://dev.java/learn/regex/.\r\n\r\nAlso you can use the `indexOf` method from String class that will return the index of `{` then you substring the line from that index till the end minus 2 as the 2 last index has `}` and `,`.\r\n","title":"Read specific part of a line","body":"<p>You can solve it using regex:</p>\n<pre><code>try {\n        File myFile = new File(&quot;Latex3.bib&quot;);\n        Scanner reader = new Scanner(myFile);\n        while (reader.hasNextLine()) {\n            Pattern pattern = Pattern.compile(&quot;=\\\\{([^}]*)&quot;);\n            Matcher matcher = pattern.matcher(reader.nextLine());\n            if (matcher.find()) {\n                System.out.println(matcher.group(1));\n            }\n        }\n    } catch (FileNotFoundException e) {\n        e.getMessage();\n    }\n</code></pre>\n<p>Use this to test your regex pattern: <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a>.</p>\n<p>And to learn about regex check this one: <a href=\"https://dev.java/learn/regex/\" rel=\"nofollow noreferrer\">https://dev.java/learn/regex/</a>.</p>\n<p>Also you can use the <code>indexOf</code> method from String class that will return the index of <code>{</code> then you substring the line from that index till the end minus 2 as the 2 last index has <code>}</code> and <code>,</code>.</p>\n"}],"owner":{"account_id":27182797,"reputation":3,"user_id":20717744,"display_name":"Anas Aaquil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74723956,"answer_count":1,"score":0,"last_activity_date":1676912065,"creation_date":1670449185,"question_id":74723102,"body_markdown":"I am trying to read and save in a variable only a specific part of a line when reading a line from a file.\r\n\r\nI know how to read the whole file line per line but I can&#39;t seem to figure out how to read a specific part.\r\n\r\nHere is the file format: \r\n\r\n```\r\n @ARTICLE{\r\n8249726, \r\nauthor={N. Khlif and A. Masmoudi and F. Kammoun and N. Masmoudi}, \r\njournal={IET Image Processing}, \r\ntitle={Secure chaotic dual encryption scheme for H.264/AVC video conferencing protection}, \r\nnumber={1}, \r\nyear={2018}, \r\nvolume={12}, \r\npages={42-52}, \r\nkeywords={adaptive codes;chaotic communication;cryptography;data compression;data protection;variable length codes;video coding;H.264/AVC video conferencing protection;advanced video coding protection;chaos-based crypto-compression scheme;compression ratio;context adaptive variable length coding;decision module;format compliance;inter-prediction encryption;intra-prediction encryption;piecewise linear chaotic maps;pseudorandom bit generators;secure chaotic dual encryption scheme;selective encryption approach;video compression standards}, \r\ndoi={10.1049/iet-ipr.2017.0022}, \r\nISSN={1751-9659}, \r\nmonth={Dec},\r\n}\r\n```\r\n\r\n\r\nI only need to read and save in different variables the text between the `{` and `}`.\r\n\r\nI have no clue how I can do this. Here is the code I tried so far:\r\n\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\ttry {\r\n\t\tFile myFile = new File(&quot;Latex3.bib&quot;);\r\n\t\tScanner reader = new Scanner(myFile);\r\n\t\twhile(reader.hasNextLine()) {\r\n\t\t\tSystem.out.println(reader.nextLine());\r\n\t\t}\r\n\t}catch(FileNotFoundException e) {\r\n\t\te.getMessage();\r\n\t}\t\r\n```","title":"Read specific part of a line","body":"<p>I am trying to read and save in a variable only a specific part of a line when reading a line from a file.</p>\n<p>I know how to read the whole file line per line but I can't seem to figure out how to read a specific part.</p>\n<p>Here is the file format:</p>\n<pre><code> @ARTICLE{\n8249726, \nauthor={N. Khlif and A. Masmoudi and F. Kammoun and N. Masmoudi}, \njournal={IET Image Processing}, \ntitle={Secure chaotic dual encryption scheme for H.264/AVC video conferencing protection}, \nnumber={1}, \nyear={2018}, \nvolume={12}, \npages={42-52}, \nkeywords={adaptive codes;chaotic communication;cryptography;data compression;data protection;variable length codes;video coding;H.264/AVC video conferencing protection;advanced video coding protection;chaos-based crypto-compression scheme;compression ratio;context adaptive variable length coding;decision module;format compliance;inter-prediction encryption;intra-prediction encryption;piecewise linear chaotic maps;pseudorandom bit generators;secure chaotic dual encryption scheme;selective encryption approach;video compression standards}, \ndoi={10.1049/iet-ipr.2017.0022}, \nISSN={1751-9659}, \nmonth={Dec},\n}\n</code></pre>\n<p>I only need to read and save in different variables the text between the <code>{</code> and <code>}</code>.</p>\n<p>I have no clue how I can do this. Here is the code I tried so far:</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        File myFile = new File(&quot;Latex3.bib&quot;);\n        Scanner reader = new Scanner(myFile);\n        while(reader.hasNextLine()) {\n            System.out.println(reader.nextLine());\n        }\n    }catch(FileNotFoundException e) {\n        e.getMessage();\n    }   \n</code></pre>\n"},{"tags":["java","graphql","quarkus"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676026512,"post_id":75409391,"comment_id":133058750,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":13000641,"reputation":21,"user_id":9396869,"display_name":"Lexx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676911935,"creation_date":1676911935,"answer_id":75512097,"question_id":75409391,"body_markdown":"Look like you use `RestClientBuilder.newBuilder().z().build(YourClientIface.class)`\r\nIn this case all you need make your interface `extends Closeable`\r\nAnd wrap your client creation and usage into **try** section like:\r\n\r\n    try (YourClientIface client = RestClientBuilder.newBuilder().build(YourClientIface.class)) {\r\n            client.getSmth();\r\n    }\r\n\r\nYour client will be closed automatically \r\n\r\n","title":"RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you","body":"<p>Look like you use <code>RestClientBuilder.newBuilder().z().build(YourClientIface.class)</code>\nIn this case all you need make your interface <code>extends Closeable</code>\nAnd wrap your client creation and usage into <strong>try</strong> section like:</p>\n<pre><code>try (YourClientIface client = RestClientBuilder.newBuilder().build(YourClientIface.class)) {\n        client.getSmth();\n}\n</code></pre>\n<p>Your client will be closed automatically</p>\n"}],"owner":{"account_id":27751973,"reputation":11,"user_id":21186233,"display_name":"Intellect"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2655,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676911935,"creation_date":1676022750,"question_id":75409391,"body_markdown":"Actually, I am using java quarkus to request to graphql which has dynamic url. But the issue is after the request is completed I am getting this warning: \r\n`WARN  [org.jbo.res.cli.jax.i18n] (Finalizer) RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you. Please close clients yourself. ` Can someone have some advice?\r\n\r\nI tried closing the client but it didn&#39;t have .close() method available.","title":"RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you","body":"<p>Actually, I am using java quarkus to request to graphql which has dynamic url. But the issue is after the request is completed I am getting this warning:\n<code>WARN  [org.jbo.res.cli.jax.i18n] (Finalizer) RESTEASY004687: Closing a class org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient43Engine instance for you. Please close clients yourself. </code> Can someone have some advice?</p>\n<p>I tried closing the client but it didn't have .close() method available.</p>\n"},{"tags":["java","amazon-s3"],"owner":{"account_id":15626788,"reputation":1,"user_id":11274210,"display_name":"Sean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676911880,"creation_date":1676669107,"question_id":75489362,"body_markdown":"I&#39;m trying to use the AWS SDK for Java v2 to upload a file to S3 and have the upload integrity checked using the SHA256 trailing checksum. My code works fine to upload the file if the checksumAlgorithm(ChecksumAlorithm.SHA256) property of PutObjectRequest is not present but when it is included the uploaded file has additional characters at its start and is truncated at the end. \r\n\r\nHere&#39;s the code I&#39;m using:\r\n\r\n```\r\nbyte[] smallJsonBytes = getObjectFile(&quot;UploadTest\\\\smallFile.txt&quot;);\r\n\r\n    PutObjectRequest putOb = PutObjectRequest.builder()\r\n          .bucket(credsProvider.getS3Bucketname())\r\n          .key(s3Key)\r\n          **.checksumAlgorithm(ChecksumAlgorithm.SHA256)**\r\n          .build();\r\n\r\n    PutObjectResponse response = this.myS3Client.putObject(putOb, RequestBody.fromBytes(smallJsonBytes));\r\n```\r\n\r\nBelow is the debug output when the checksumAlgorithm property is included. You can see the AWS SDK is generating a trailing checksum as expected but, as noted already, the uploaded file is corrupted: You can see the insertion of the string &quot;14&quot; in the debug output and this string appears at the beginning of the uploaded file. Additionally, the uploaded file is truncated.\r\n\r\nClearly from the debug output there is a problem with the evaluation of the file&#39;s content length.\r\n\r\nI&#39;ve tried specifying the contentLength directly on the PutObjectRequest (as per documentation - .contentLength(long length)), and also tried converting smallJsonBytes to a ByteArrayInputStream and specifying the contentLength in the RequestBody.fromInputStream, both with the same result.\r\n\r\n```\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-content-sha256: STREAMING-UNSIGNED-PAYLOAD-TRAILER[\\r][\\n]&quot;\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;X-Amz-Date: 20230216T215655Z[\\r][\\n]&quot;\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-decoded-content-length: 20[\\r][\\n]&quot;\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-sdk-checksum-algorithm: SHA256[\\r][\\n]&quot;\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-trailer: x-amz-checksum-sha256[\\r][\\n]&quot;\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Length: 99[\\r][\\n]&quot;\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\r\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n14:56:56.206 [main] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 100 Continue[\\r][\\n]&quot;\r\n14:56:56.206 [main] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[\\r][\\n]&quot;\r\n14:56:56.211 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 100 Continue\r\n14:56:56.211 [main] DEBUG software.amazon.awssdk.core.internal.io.SdkLengthAwareInputStream - Specified InputStream length of 20 has been reached. Returning EOF.\r\n14:56:56.213 [main] DEBUG software.amazon.awssdk.core.internal.io.SdkLengthAwareInputStream - Specified InputStream length of 20 has been reached. Returning EOF.\r\n14:56:56.216 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;14[\\r][\\n]&quot;\r\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Nothing much in here[\\r][\\n]&quot;\r\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;0[\\r][\\n]&quot;\r\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-checksum-sha256:BthkalBn8SFAnEAFIWr2vtfO0h+TEdX/vOH+iZqKJ4k=[\\r][\\n]&quot;\r\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\r\n14:56:56.389 [main] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 200 OK[\\r][\\n]&quot;\r\n\r\n\r\n```\r\n","title":"AWS SDK for Java V2: PutObject corrupts uploaded file when checksumAlgorithm is specified","body":"<p>I'm trying to use the AWS SDK for Java v2 to upload a file to S3 and have the upload integrity checked using the SHA256 trailing checksum. My code works fine to upload the file if the checksumAlgorithm(ChecksumAlorithm.SHA256) property of PutObjectRequest is not present but when it is included the uploaded file has additional characters at its start and is truncated at the end.</p>\n<p>Here's the code I'm using:</p>\n<pre><code>byte[] smallJsonBytes = getObjectFile(&quot;UploadTest\\\\smallFile.txt&quot;);\n\n    PutObjectRequest putOb = PutObjectRequest.builder()\n          .bucket(credsProvider.getS3Bucketname())\n          .key(s3Key)\n          **.checksumAlgorithm(ChecksumAlgorithm.SHA256)**\n          .build();\n\n    PutObjectResponse response = this.myS3Client.putObject(putOb, RequestBody.fromBytes(smallJsonBytes));\n</code></pre>\n<p>Below is the debug output when the checksumAlgorithm property is included. You can see the AWS SDK is generating a trailing checksum as expected but, as noted already, the uploaded file is corrupted: You can see the insertion of the string &quot;14&quot; in the debug output and this string appears at the beginning of the uploaded file. Additionally, the uploaded file is truncated.</p>\n<p>Clearly from the debug output there is a problem with the evaluation of the file's content length.</p>\n<p>I've tried specifying the contentLength directly on the PutObjectRequest (as per documentation - .contentLength(long length)), and also tried converting smallJsonBytes to a ByteArrayInputStream and specifying the contentLength in the RequestBody.fromInputStream, both with the same result.</p>\n<pre><code>14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-content-sha256: STREAMING-UNSIGNED-PAYLOAD-TRAILER[\\r][\\n]&quot;\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;X-Amz-Date: 20230216T215655Z[\\r][\\n]&quot;\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-decoded-content-length: 20[\\r][\\n]&quot;\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-sdk-checksum-algorithm: SHA256[\\r][\\n]&quot;\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-trailer: x-amz-checksum-sha256[\\r][\\n]&quot;\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Content-Length: 99[\\r][\\n]&quot;\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Connection: Keep-Alive[\\r][\\n]&quot;\n14:56:56.150 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\n14:56:56.206 [main] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 100 Continue[\\r][\\n]&quot;\n14:56:56.206 [main] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;[\\r][\\n]&quot;\n14:56:56.211 [main] DEBUG org.apache.http.headers - http-outgoing-0 &lt;&lt; HTTP/1.1 100 Continue\n14:56:56.211 [main] DEBUG software.amazon.awssdk.core.internal.io.SdkLengthAwareInputStream - Specified InputStream length of 20 has been reached. Returning EOF.\n14:56:56.213 [main] DEBUG software.amazon.awssdk.core.internal.io.SdkLengthAwareInputStream - Specified InputStream length of 20 has been reached. Returning EOF.\n14:56:56.216 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;14[\\r][\\n]&quot;\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;Nothing much in here[\\r][\\n]&quot;\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;0[\\r][\\n]&quot;\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;x-amz-checksum-sha256:BthkalBn8SFAnEAFIWr2vtfO0h+TEdX/vOH+iZqKJ4k=[\\r][\\n]&quot;\n14:56:56.217 [main] DEBUG org.apache.http.wire - http-outgoing-0 &gt;&gt; &quot;[\\r][\\n]&quot;\n14:56:56.389 [main] DEBUG org.apache.http.wire - http-outgoing-0 &lt;&lt; &quot;HTTP/1.1 200 OK[\\r][\\n]&quot;\n\n\n</code></pre>\n"},{"tags":["java","c#","arrays","range","byte"],"comments":[{"owner":{"account_id":7777024,"reputation":2482,"user_id":5884788,"display_name":"bradimus"},"score":1,"creation_date":1469125796,"post_id":38511711,"comment_id":64420966,"body_markdown":"c# `byte` and java `byte` are not equivalent. Java&#39;s `byte`s are signed.","body":"c# <code>byte</code> and java <code>byte</code> are not equivalent. Java&#39;s <code>byte</code>s are signed."},{"owner":{"account_id":7470769,"reputation":1333,"user_id":5678845,"accept_rate":100,"display_name":"Roberto Pegoraro"},"score":0,"creation_date":1469126312,"post_id":38511711,"comment_id":64421262,"body_markdown":"So if I use md5 encryption in C # I will never be able to convert in java?","body":"So if I use md5 encryption in C # I will never be able to convert in java?"},{"owner":{"account_id":7777024,"reputation":2482,"user_id":5884788,"display_name":"bradimus"},"score":1,"creation_date":1469127755,"post_id":38511711,"comment_id":64422056,"body_markdown":"Both arrays are `{ 0b00000110, 0b11111010, 0b1101011 }`. They have different interpretations.","body":"Both arrays are <code>{ 0b00000110, 0b11111010, 0b1101011 }</code>. They have different interpretations."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1469126316,"creation_date":1469125928,"answer_id":38511860,"question_id":38511711,"body_markdown":"&gt; *How to solve this problem*\n\nthe 1st is read about [how java represents data types][1]..:\n\n&gt; **byte**: The byte data type is an 8-bit signed two&#39;s complement integer.\n&gt; It has a minimum value of -128 and a maximum value of 127 (inclusive).\n&gt; The byte data type can be useful for saving memory in large arrays,\n&gt; where the memory savings actually matters. They can also be used in\n&gt; place of int where their limits help to clarify your code; the fact\n&gt; that a variable&#39;s range is limited can serve as a form of\n&gt; documentation.\n\nas [@bradimus][2] statements, java&#39;s byte is an 8-bits 2 complement signed int\nbut in C# you will never see a negative byte value\n\n\n# Hint:\n\n if you consider to make a conversion...\n\n&gt; -6 **in java can be** 256+(-6) = 250 **in C#**\n\nand carefully consider the max and min in a java-byte if you need to convert from C# to java....\n\n\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\n  [2]: https://stackoverflow.com/users/5884788/bradimus","title":"How to convert byte[] c# to java byte[]","body":"<blockquote>\n<p><em>How to solve this problem</em></p>\n</blockquote>\n<p>the 1st is read about <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">how java represents data types</a>..:</p>\n<blockquote>\n<p><strong>byte</strong>: The byte data type is an 8-bit signed two's complement integer.\nIt has a minimum value of -128 and a maximum value of 127 (inclusive).\nThe byte data type can be useful for saving memory in large arrays,\nwhere the memory savings actually matters. They can also be used in\nplace of int where their limits help to clarify your code; the fact\nthat a variable's range is limited can serve as a form of\ndocumentation.</p>\n</blockquote>\n<p>as <a href=\"https://stackoverflow.com/users/5884788/bradimus\">@bradimus</a> statements, java's byte is an 8-bits 2 complement signed int\nbut in C# you will never see a negative byte value</p>\n<h1>Hint:</h1>\n<p>if you consider to make a conversion...</p>\n<blockquote>\n<p>-6 <strong>in java can be</strong> 256+(-6) = 250 <strong>in C#</strong></p>\n</blockquote>\n<p>and carefully consider the max and min in a java-byte if you need to convert from C# to java....</p>\n"}],"owner":{"account_id":7470769,"reputation":1333,"user_id":5678845,"accept_rate":100,"display_name":"Roberto Pegoraro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38511860,"answer_count":1,"score":1,"last_activity_date":1676911846,"creation_date":1469125433,"question_id":38511711,"body_markdown":"I have this code in C#\r\n\r\n`byte[] t = {6, 250, 215}`. \r\n\r\nBut in Java is \r\n\r\n`byte[] t = {6, -6, -41}`.\r\n\r\nHow to solve this problem?","title":"How to convert byte[] c# to java byte[]","body":"<p>I have this code in C#</p>\n<p><code>byte[] t = {6, 250, 215}</code>.</p>\n<p>But in Java is</p>\n<p><code>byte[] t = {6, -6, -41}</code>.</p>\n<p>How to solve this problem?</p>\n"},{"tags":["java","kotlin","data-structures","collections"],"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":2,"creation_date":1676901478,"post_id":75510126,"comment_id":133225136,"body_markdown":"&quot;better&quot; in terms of performance or readable code? Question 3 is vague. You just save the data to a file or database--there are many ways to do that.","body":"&quot;better&quot; in terms of performance or readable code? Question 3 is vague. You just save the data to a file or database--there are many ways to do that."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1676902767,"post_id":75510126,"comment_id":133225546,"body_markdown":"Define “small”. It’s not helpful to compare it to “bigdata”, just another undefined quantity.","body":"Define “small”. It’s not helpful to compare it to “bigdata”, just another undefined quantity."},{"owner":{"account_id":22848,"reputation":131598,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":1,"creation_date":1676907767,"post_id":75510126,"comment_id":133227136,"body_markdown":"You could get tens of millions of those records into memory, and the answer recommending the specification pattern would work well for querying. For persistence, you could just write the data to a CSV file that you read in at program startup. Assuming, of course, that you don&#39;t need to change the data while the program is running.","body":"You could get tens of millions of those records into memory, and the answer recommending the specification pattern would work well for querying. For persistence, you could just write the data to a CSV file that you read in at program startup. Assuming, of course, that you don&#39;t need to change the data while the program is running."},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1676908060,"post_id":75510126,"comment_id":133227232,"body_markdown":"@Tenfour04, &quot;better&quot; in terms of readable code. \nAs for persistence - I dont want to add a full-fledged relational DB because of 1 table. What are the options?","body":"@Tenfour04, &quot;better&quot; in terms of readable code.  As for persistence - I dont want to add a full-fledged relational DB because of 1 table. What are the options?"},{"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"score":0,"creation_date":1676908107,"post_id":75510126,"comment_id":133227254,"body_markdown":"@Holger, &quot;small&quot; means at most several hundreds of objects of the size, which will not affect Java Heap significantly.","body":"@Holger, &quot;small&quot; means at most several hundreds of objects of the size, which will not affect Java Heap significantly."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676984459,"post_id":75510126,"comment_id":133243568,"body_markdown":"“several hundreds” is a size where even linear searches through a list would still have reasonable performance. A map from a value to a single object only makes sense if you assume that there can only be one object having this field value, which would be rather unusual.","body":"“several hundreds” is a size where even linear searches through a list would still have reasonable performance. A map from a value to a single object only makes sense if you assume that there can only be one object having this field value, which would be rather unusual."}],"answers":[{"comments":[{"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1676909439,"post_id":75510933,"comment_id":133227671,"body_markdown":"It could also be implemented without reflection so you don&#39;t have to type property names as strings. `class FieldValue&lt;T, V&gt;(private val property: (T)-&gt;V, private val value: V): Specification&lt;T&gt; { override fun isSatisfiedBy(obj: T) = property(obj) == value }`","body":"It could also be implemented without reflection so you don&#39;t have to type property names as strings. <code>class FieldValue&lt;T, V&gt;(private val property: (T)-&gt;V, private val value: V): Specification&lt;T&gt; { override fun isSatisfiedBy(obj: T) = property(obj) == value }</code>"},{"owner":{"account_id":4698404,"reputation":226,"user_id":3802693,"display_name":"majdibo"},"score":0,"creation_date":1676910813,"post_id":75510933,"comment_id":133228048,"body_markdown":"Thank you for the feedback , indeed this is more elegant , I edit my response to add it","body":"Thank you for the feedback , indeed this is more elegant , I edit my response to add it"}],"tags":[],"owner":{"account_id":4698404,"reputation":226,"user_id":3802693,"display_name":"majdibo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676911067,"creation_date":1676905461,"answer_id":75510933,"question_id":75510126,"body_markdown":"Instead of creating a separate data structure You can use a **Specification Pattern** to evaluate if an object satisfy a condition, using this pattern you can do any sort of combination and define even more complex rules\r\n\r\nHere is an example (Kotlin version) :\r\n\r\n    import java.util.Objects\r\n    \r\n    interface Specification&lt;T&gt; {\r\n        fun isSatisfiedBy(obj: T): Boolean\r\n    }\r\n    \r\n    class Or&lt;T&gt;(private val spec1: Specification&lt;T&gt;, private val spec2: Specification&lt;T&gt;) : Specification&lt;T&gt; {\r\n        override fun isSatisfiedBy(obj: T) = spec1.isSatisfiedBy(obj) || spec2.isSatisfiedBy(obj)\r\n    }\r\n    \r\n    class And&lt;T&gt;(private val spec1: Specification&lt;T&gt;, private val spec2: Specification&lt;T&gt;) : Specification&lt;T&gt; {\r\n        override fun isSatisfiedBy(obj: T) = spec1.isSatisfiedBy(obj) &amp;&amp; spec2.isSatisfiedBy(obj)\r\n    }\r\n    \r\n    class FieldValue&lt;T, V&gt;(private val property: (T)-&gt;V, private val value: V): Specification&lt;T&gt; { \r\n        override fun isSatisfiedBy(obj: T) = property(obj) == value \r\n    }\r\n\r\nand you can use it like this : \r\n\r\n    fun main() {\r\n        val myObjects: List&lt;MyObject&gt; = listOf(\r\n        MyObject(1, &quot;abc&quot;, true),\r\n        MyObject(2, &quot;def&quot;, false),\r\n        MyObject(3, &quot;abc&quot;, false),\r\n        MyObject(4, &quot;ghi&quot;, true),\r\n        MyObject(5, &quot;abc&quot;, true)\r\n    )\r\n        \r\n        // check the following condition a=5 OR (b=abc AND c = true)\r\n        val spec: Specification&lt;MyObject&gt; = Or(\r\n            FieldValue(MyObject::a, 5),\r\n            And(\r\n                FieldValue(MyObject::b, &quot;abc&quot;),\r\n                FieldValue(MyObject::c, true)\r\n            )\r\n        )\r\n        \r\n        val results = myObjects.filter(spec::isSatisfiedBy)\r\n    }\r\n\r\nNow this will filter on the fly your list so you need only to maintain your initial list of `MyObject`","title":"Choosing a datastructure for working with small dataset","body":"<p>Instead of creating a separate data structure You can use a <strong>Specification Pattern</strong> to evaluate if an object satisfy a condition, using this pattern you can do any sort of combination and define even more complex rules</p>\n<p>Here is an example (Kotlin version) :</p>\n<pre><code>import java.util.Objects\n\ninterface Specification&lt;T&gt; {\n    fun isSatisfiedBy(obj: T): Boolean\n}\n\nclass Or&lt;T&gt;(private val spec1: Specification&lt;T&gt;, private val spec2: Specification&lt;T&gt;) : Specification&lt;T&gt; {\n    override fun isSatisfiedBy(obj: T) = spec1.isSatisfiedBy(obj) || spec2.isSatisfiedBy(obj)\n}\n\nclass And&lt;T&gt;(private val spec1: Specification&lt;T&gt;, private val spec2: Specification&lt;T&gt;) : Specification&lt;T&gt; {\n    override fun isSatisfiedBy(obj: T) = spec1.isSatisfiedBy(obj) &amp;&amp; spec2.isSatisfiedBy(obj)\n}\n\nclass FieldValue&lt;T, V&gt;(private val property: (T)-&gt;V, private val value: V): Specification&lt;T&gt; { \n    override fun isSatisfiedBy(obj: T) = property(obj) == value \n}\n</code></pre>\n<p>and you can use it like this :</p>\n<pre><code>fun main() {\n    val myObjects: List&lt;MyObject&gt; = listOf(\n    MyObject(1, &quot;abc&quot;, true),\n    MyObject(2, &quot;def&quot;, false),\n    MyObject(3, &quot;abc&quot;, false),\n    MyObject(4, &quot;ghi&quot;, true),\n    MyObject(5, &quot;abc&quot;, true)\n)\n    \n    // check the following condition a=5 OR (b=abc AND c = true)\n    val spec: Specification&lt;MyObject&gt; = Or(\n        FieldValue(MyObject::a, 5),\n        And(\n            FieldValue(MyObject::b, &quot;abc&quot;),\n            FieldValue(MyObject::c, true)\n        )\n    )\n    \n    val results = myObjects.filter(spec::isSatisfiedBy)\n}\n</code></pre>\n<p>Now this will filter on the fly your list so you need only to maintain your initial list of <code>MyObject</code></p>\n"}],"owner":{"account_id":362912,"reputation":3283,"user_id":706354,"accept_rate":67,"display_name":"MiamiBeach"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75510933,"answer_count":1,"score":0,"last_activity_date":1676911640,"creation_date":1676901241,"question_id":75510126,"body_markdown":"I have a small set of Java POJOs, each them has several fields. I do not plan to add fields to them on the fly. Size of my set is small: it&#39;s not about some &quot;bigdata&quot;, but rather about state of my application. I.e my data holder class looks like\r\n\r\n```java\r\nclass MyObject\r\n{\r\n    private int a\r\n    private String b\r\n    private boolean c\r\n}\r\n```\r\n\r\nI need some datastructure which can help me to make queries to this data by some field values: by a=5, b=&quot;abc&quot; or c=true. For now it&#39;s OK to query by one fields only, i.e. I don&#39;t need complex queries.\r\n\r\nA straightforward solution is to use maps:\r\n\r\n    Map&lt;Integer, MyObject&gt; aMap = new HashMap&lt;&gt;()\r\n    Map&lt;String, MyObject&gt; bMap = new HashMap&lt;&gt;()\r\n    Map&lt;Boolean, MyObject&gt; cMap = new HashMap&lt;&gt;()\r\n\r\nThe questions are:\r\n\r\n 1. Is there a way to make it better? Java version up to latest one.\r\n 2. Is there a way to make it better in Kotlin?\r\n 3. (optional requirement so far) What if I need to store it to make this collection survive application restart?","title":"Choosing a datastructure for working with small dataset","body":"<p>I have a small set of Java POJOs, each them has several fields. I do not plan to add fields to them on the fly. Size of my set is small: it's not about some &quot;bigdata&quot;, but rather about state of my application. I.e my data holder class looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyObject\n{\n    private int a\n    private String b\n    private boolean c\n}\n</code></pre>\n<p>I need some datastructure which can help me to make queries to this data by some field values: by a=5, b=&quot;abc&quot; or c=true. For now it's OK to query by one fields only, i.e. I don't need complex queries.</p>\n<p>A straightforward solution is to use maps:</p>\n<pre><code>Map&lt;Integer, MyObject&gt; aMap = new HashMap&lt;&gt;()\nMap&lt;String, MyObject&gt; bMap = new HashMap&lt;&gt;()\nMap&lt;Boolean, MyObject&gt; cMap = new HashMap&lt;&gt;()\n</code></pre>\n<p>The questions are:</p>\n<ol>\n<li>Is there a way to make it better? Java version up to latest one.</li>\n<li>Is there a way to make it better in Kotlin?</li>\n<li>(optional requirement so far) What if I need to store it to make this collection survive application restart?</li>\n</ol>\n"},{"tags":["java","jcifs","smbj"],"owner":{"account_id":27834160,"reputation":1,"user_id":21251999,"display_name":"Виктор Григорьев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676911509,"creation_date":1676911509,"question_id":75512018,"body_markdown":"I get an error STATUS_ACCESS_DENIED (0xc0000022) every time I try to connect to a share on a host with linux. And I don&#39;t get an error if I try to connect to a share on host with windows.\r\n\r\nHere is an example of my java code\r\n\r\n```\r\nSMBClient client = new SMBClient();\r\n        try (Connection connection = client.connect(hostName);\r\n             Session session = connection.authenticate(new AuthenticationContext(userName, password, domain));\r\n             DiskShare share = (DiskShare) session.connectShare(shareName)) {\r\n            if (!session.isAnonymous() &amp;&amp; connection.isConnected() &amp;&amp; share.isConnected()) {\r\n                FileAllInformation shareInformation = share.getFileInformation(path);\r\n            }\r\n        }\r\n```\r\n\r\nplease pay attention to the fact that the session is active and not anonymous, host and share connections are open. However share.getFileInformation(path) will return an exception\r\n\r\n\r\n```\r\ncom.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Create failed for \\\\*hostName*\\*shareName*\\*path*\r\n\tat com.hierynomus.smbj.share.Share.receive(Share.java:380) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.Share.sendReceive(Share.java:359) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.Share.createFile(Share.java:156) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:105) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.paths.PathResolver$1.resolve(PathResolver.java:32) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.paths.SymlinkPathResolver.resolve(SymlinkPathResolver.java:62) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare.resolveAndCreateFile(DiskShare.java:105) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare.open(DiskShare.java:65) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare.getFileInformation(DiskShare.java:295) ~[smbj-0.11.5.jar:na]\r\n\tat com.hierynomus.smbj.share.DiskShare.getFileInformation(DiskShare.java:288) ~[smbj-0.11.5.jar:na]\r\n\r\n```\r\n\r\nI get this result when use any method, not only this one\r\n\r\n\r\ntried other versions of smbj and jcifs, but result is always the same","title":"com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Create failed for \\\\*hostName*\\*shareName*\\*path*","body":"<p>I get an error STATUS_ACCESS_DENIED (0xc0000022) every time I try to connect to a share on a host with linux. And I don't get an error if I try to connect to a share on host with windows.</p>\n<p>Here is an example of my java code</p>\n<pre><code>SMBClient client = new SMBClient();\n        try (Connection connection = client.connect(hostName);\n             Session session = connection.authenticate(new AuthenticationContext(userName, password, domain));\n             DiskShare share = (DiskShare) session.connectShare(shareName)) {\n            if (!session.isAnonymous() &amp;&amp; connection.isConnected() &amp;&amp; share.isConnected()) {\n                FileAllInformation shareInformation = share.getFileInformation(path);\n            }\n        }\n</code></pre>\n<p>please pay attention to the fact that the session is active and not anonymous, host and share connections are open. However share.getFileInformation(path) will return an exception</p>\n<pre><code>com.hierynomus.mssmb2.SMBApiException: STATUS_ACCESS_DENIED (0xc0000022): Create failed for \\\\*hostName*\\*shareName*\\*path*\n    at com.hierynomus.smbj.share.Share.receive(Share.java:380) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.Share.sendReceive(Share.java:359) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.Share.createFile(Share.java:156) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare.createFileAndResolve(DiskShare.java:75) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare.access$100(DiskShare.java:55) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:109) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare$2.apply(DiskShare.java:105) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.paths.PathResolver$1.resolve(PathResolver.java:32) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.paths.SymlinkPathResolver.resolve(SymlinkPathResolver.java:62) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare.resolveAndCreateFile(DiskShare.java:105) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare.open(DiskShare.java:65) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare.getFileInformation(DiskShare.java:295) ~[smbj-0.11.5.jar:na]\n    at com.hierynomus.smbj.share.DiskShare.getFileInformation(DiskShare.java:288) ~[smbj-0.11.5.jar:na]\n\n</code></pre>\n<p>I get this result when use any method, not only this one</p>\n<p>tried other versions of smbj and jcifs, but result is always the same</p>\n"},{"tags":["java","kotlin","generics","inheritance","model"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676911478,"post_id":75511994,"comment_id":133228228,"body_markdown":"You&#39;d use generics in the case that you have a need for the concrete subtypes (e.g. when you want something more specific than `Object` out of `List`). Ideally, you would model these classes in a way that you can simply keep a reference to `League` (with appropriate methods like `League#getMembers()`), and then pass concrete classes like `TennisLeague` in place of whatever `League` is required","body":"You&#39;d use generics in the case that you have a need for the concrete subtypes (e.g. when you want something more specific than <code>Object</code> out of <code>List</code>). Ideally, you would model these classes in a way that you can simply keep a reference to <code>League</code> (with appropriate methods like <code>League#getMembers()</code>), and then pass concrete classes like <code>TennisLeague</code> in place of whatever <code>League</code> is required"},{"owner":{"account_id":5362790,"reputation":57,"user_id":4273562,"display_name":"alGhul7"},"score":0,"creation_date":1676911683,"post_id":75511994,"comment_id":133228283,"body_markdown":"but, the method getMembers should return a list of Player for TennisLeague and a list of Team for other classes.. Then I&#39;d need generics, wouldn&#39;t I?","body":"but, the method getMembers should return a list of Player for TennisLeague and a list of Team for other classes.. Then I&#39;d need generics, wouldn&#39;t I?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676912592,"post_id":75511994,"comment_id":133228555,"body_markdown":"You can simply return a `List&lt;? extends LeagueMember&gt;` in that case, and the subclasses are free to return `List&lt;Player&gt;` or somesuch.","body":"You can simply return a <code>List&lt;? extends LeagueMember&gt;</code> in that case, and the subclasses are free to return <code>List&lt;Player&gt;</code> or somesuch."}],"owner":{"account_id":5362790,"reputation":57,"user_id":4273562,"display_name":"alGhul7"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676911503,"creation_date":1676911339,"question_id":75511994,"body_markdown":"I am trying to model a tournament project having the following classes:\r\n\r\n* **Championship** -&gt; having a list of Divisions.\r\n* **Division** -&gt; having a list of Leagues.\r\n* **League** -&gt; having a list of LeagueMembers; \r\n* **LeagueMember** -&gt; is abstract because **Player** and **Team** extend it (a league can be made by a list of players or a list of teams)\r\n\r\nThe thing is that I&#39;d like to be able to create a TennisLeague, extending League&lt;&lt;Player&gt;Player&gt;, and FootballLeague, extending League&lt;&lt;Team&gt;Team&gt;. The problem is that I am trying to use Generics but it seems like I have to use them in all the clases, and it looks weird to me. \r\n\r\nAm I following the right approach? Could you help me with the class modeling? Thanks\r\n","title":"Class modeling: Inheritance with Generics: Kotlin / Java","body":"<p>I am trying to model a tournament project having the following classes:</p>\n<ul>\n<li><strong>Championship</strong> -&gt; having a list of Divisions.</li>\n<li><strong>Division</strong> -&gt; having a list of Leagues.</li>\n<li><strong>League</strong> -&gt; having a list of LeagueMembers;</li>\n<li><strong>LeagueMember</strong> -&gt; is abstract because <strong>Player</strong> and <strong>Team</strong> extend it (a league can be made by a list of players or a list of teams)</li>\n</ul>\n<p>The thing is that I'd like to be able to create a TennisLeague, extending League&lt;Player&gt;, and FootballLeague, extending League&lt;Team&gt;. The problem is that I am trying to use Generics but it seems like I have to use them in all the clases, and it looks weird to me.</p>\n<p>Am I following the right approach? Could you help me with the class modeling? Thanks</p>\n"},{"tags":["java","ssl","java-8","pkix","ssl-handshake"],"comments":[{"owner":{"account_id":14555492,"reputation":64,"user_id":10513148,"display_name":"Isuru"},"score":0,"creation_date":1676908389,"post_id":75511088,"comment_id":133227343,"body_markdown":"Possible duplicate of this thread\nhttps://stackoverflow.com/a/36427118/10513148","body":"Possible duplicate of this thread <a href=\"https://stackoverflow.com/a/36427118/10513148\">stackoverflow.com/a/36427118/10513148</a>"}],"owner":{"account_id":6174451,"reputation":13,"user_id":4811815,"display_name":"Sanvar Inamdar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676911431,"creation_date":1676906373,"question_id":75511088,"body_markdown":"I have a REST call for GCP for fetching the regions. After upgrade of Java version from 8.252 to 8.352, the API is started failing with exception.\r\n\r\n```none\r\norg.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://compute.googleapis.com/compute/v1/projects/my-project/regions&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785) ~[spring-web-5.3.22.jar:5.3.22]\r\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:732) ~[spring-web-5.3.22.jar:5.3.22]\r\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:641) ~[spring-web-5.3.22.jar:5.3.22]\r\n\r\n...................\r\n...................\r\n...................\r\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    at sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[?:1.8.0_352]\r\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:324) ~[?:1.8.0_352]\r\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) ~[?:1.8.0_352]\r\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:262) ~[?:1.8.0_352]\r\n```\r\n\r\nAfter reverting to older version it&#39;s working, but not with 8.352.","title":"After upgrading Java 8.252 to 8.352 I get SSL exception for REST API call","body":"<p>I have a REST call for GCP for fetching the regions. After upgrade of Java version from 8.252 to 8.352, the API is started failing with exception.</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.web.client.ResourceAccessException: I/O error on GET request for &quot;https://compute.googleapis.com/compute/v1/projects/my-project/regions&quot;: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target; nested exception is javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:785) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:732) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:641) ~[spring-web-5.3.22.jar:5.3.22]\n\n...................\n...................\n...................\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at sun.security.ssl.Alert.createSSLException(Alert.java:131) ~[?:1.8.0_352]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:324) ~[?:1.8.0_352]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:267) ~[?:1.8.0_352]\n    at sun.security.ssl.TransportContext.fatal(TransportContext.java:262) ~[?:1.8.0_352]\n</code></pre>\n<p>After reverting to older version it's working, but not with 8.352.</p>\n"},{"tags":["java","micronaut"],"comments":[{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1562776584,"post_id":56974909,"comment_id":100486433,"body_markdown":"You shouldn&#39;t add query string params (`?surname={surname}`) to `@Get`-s value, `@RequestAttribute` in method&#39;s argument list is enough","body":"You shouldn&#39;t add query string params (<code>?surname={surname}</code>) to <code>@Get</code>-s value, <code>@RequestAttribute</code> in method&#39;s argument list is enough"},{"owner":{"account_id":327306,"reputation":2632,"user_id":649605,"accept_rate":81,"display_name":"3logy"},"score":0,"creation_date":1562835114,"post_id":56974909,"comment_id":100505291,"body_markdown":"It doesnt work. I have an &quot;Required argument [String surname] not specified&quot;","body":"It doesnt work. I have an &quot;Required argument [String surname] not specified&quot;"}],"answers":[{"tags":[],"owner":{"account_id":13455741,"reputation":4930,"user_id":9709361,"display_name":"cgrim"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1563374345,"creation_date":1563374345,"answer_id":57078482,"question_id":56974909,"body_markdown":"`surname` in your case is not request attribute but query value (parameter). So use `@QueryValue` annotation instead of `@RequestAttribute` and do not specify it in URL pattern. \r\n\r\nSo the controller implementation can look like this:\r\n\r\n    @Controller\r\n    public class MyController {\r\n        @Get(value = &quot;/bob/{name}/params&quot;)\r\n        String getMyParam(String name, @QueryValue String surname) {\r\n            return name + surname;\r\n        }\r\n    }\r\n\r\n---\r\nAnother thing is that `@NotNull` annotation for `surname` parameter is redundant. That parameter is required by default. If you want it as optional then it must be of `Optional` type like this:\r\n\r\n    @Get(value = &quot;/bob/{name}/params&quot;)\r\n    String getMyParam(String name, @QueryValue Optional&lt;String&gt; surname) {\r\n        return name + surname.orElse(&quot;&quot;);\r\n    }\r\n\r\n","title":"Multiple get request parameters @PathVariable and @RequestAttribute with Micronaut?","body":"<p><code>surname</code> in your case is not request attribute but query value (parameter). So use <code>@QueryValue</code> annotation instead of <code>@RequestAttribute</code> and do not specify it in URL pattern. </p>\n\n<p>So the controller implementation can look like this:</p>\n\n<pre><code>@Controller\npublic class MyController {\n    @Get(value = \"/bob/{name}/params\")\n    String getMyParam(String name, @QueryValue String surname) {\n        return name + surname;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Another thing is that <code>@NotNull</code> annotation for <code>surname</code> parameter is redundant. That parameter is required by default. If you want it as optional then it must be of <code>Optional</code> type like this:</p>\n\n<pre><code>@Get(value = \"/bob/{name}/params\")\nString getMyParam(String name, @QueryValue Optional&lt;String&gt; surname) {\n    return name + surname.orElse(\"\");\n}\n</code></pre>\n"}],"owner":{"account_id":327306,"reputation":2632,"user_id":649605,"accept_rate":81,"display_name":"3logy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16978,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":57078482,"answer_count":1,"score":11,"last_activity_date":1676911378,"creation_date":1562775718,"question_id":56974909,"body_markdown":"I have a get function in my controller with differents parameters:\r\n\r\n**myinterface.java**:\r\n\r\n    public interface MyInterface {\r\n       \r\n       @Get(value = &quot;/bob/{name}/params?surname={surname}&quot;)\r\n       String getMyParam (\r\n       @Parameter(name=&quot;name&quot;, required=true)\r\n       @PathVariable(&quot;name&quot;) String name, \r\n       @NotNull \r\n       @Parameter(name=&quot;surname&quot;, required=true) \r\n       @Valid \r\n       @RequestAttribute(value=&quot;surname&quot;) String surname) {\r\n       \r\n       }\r\n    }\r\n\r\n**mycontroller.java**:\r\n\r\n    public class MyController implements MyInterface {\r\n       \r\n       @Override\r\n       public String getMyParam(String name, String surname) { return name + surname; }\r\n    }\r\n\r\n\r\nBut when i&#39;m calling &quot;http://localhost:8080/bob/marley/params?surname=lion&quot; it&#39;s send a ERROR MESSAGE: Page Not Found.\r\n\r\nWhen i&#39;m work with optional parameters `/books{?max,offset}` it&#39;s work. Did i miss something?\r\n\r\nAre PathVariable and RequestAttribute not mixable while doing query requests?\r\n\r\n**EDIT 1**\r\n\r\nWhen i remove the `?surname=={surname}` from the @Get value it occurs an &quot;HttpClientResponseException: Require argument [String surname] not specified&quot;.","title":"Multiple get request parameters @PathVariable and @RequestAttribute with Micronaut?","body":"<p>I have a get function in my controller with differents parameters:</p>\n\n<p><strong>myinterface.java</strong>:</p>\n\n<pre><code>public interface MyInterface {\n\n   @Get(value = \"/bob/{name}/params?surname={surname}\")\n   String getMyParam (\n   @Parameter(name=\"name\", required=true)\n   @PathVariable(\"name\") String name, \n   @NotNull \n   @Parameter(name=\"surname\", required=true) \n   @Valid \n   @RequestAttribute(value=\"surname\") String surname) {\n\n   }\n}\n</code></pre>\n\n<p><strong>mycontroller.java</strong>:</p>\n\n<pre><code>public class MyController implements MyInterface {\n\n   @Override\n   public String getMyParam(String name, String surname) { return name + surname; }\n}\n</code></pre>\n\n<p>But when i'm calling \"<a href=\"http://localhost:8080/bob/marley/params?surname=lion\" rel=\"noreferrer\">http://localhost:8080/bob/marley/params?surname=lion</a>\" it's send a ERROR MESSAGE: Page Not Found.</p>\n\n<p>When i'm work with optional parameters <code>/books{?max,offset}</code> it's work. Did i miss something?</p>\n\n<p>Are PathVariable and RequestAttribute not mixable while doing query requests?</p>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>When i remove the <code>?surname=={surname}</code> from the @Get value it occurs an \"HttpClientResponseException: Require argument [String surname] not specified\".</p>\n"},{"tags":["java","algorithm","linked-list"],"comments":[{"owner":{"account_id":541753,"reputation":2011,"user_id":910411,"accept_rate":86,"display_name":"Tobi"},"score":1,"creation_date":1522159554,"post_id":49515051,"comment_id":86034960,"body_markdown":"`this == null` will always be false","body":"<code>this == null</code> will always be false"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1522159611,"post_id":49515051,"comment_id":86035016,"body_markdown":"And *does not work* means nothing. Please give exact error.","body":"And <i>does not work</i> means nothing. Please give exact error."},{"owner":{"account_id":9946314,"reputation":51,"user_id":9558634,"display_name":"Atmo101"},"score":0,"creation_date":1522174195,"post_id":49515051,"comment_id":86044931,"body_markdown":"when I print t2 It is supposed to print the whole list. this doesn&#39;t work it gives an exception","body":"when I print t2 It is supposed to print the whole list. this doesn&#39;t work it gives an exception"}],"answers":[{"tags":[],"owner":{"account_id":11745047,"reputation":914,"user_id":8596064,"display_name":"Absent"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1522159645,"creation_date":1522159645,"answer_id":49515122,"question_id":49515051,"body_markdown":"You need to change the if condition. It must terminate before you enter null, not after.\r\n\r\n    public String toString(){\r\n        if(this.suivant == null)\r\n            return(city.toString() + &quot;Fin&quot;);\r\n        else{\r\n            return(city.toString()+&quot;-&gt;&quot; + this.suivant.toString());\r\n        }\r\n\r\n\r\n    }","title":"implementing simply linked list in Java","body":"<p>You need to change the if condition. It must terminate before you enter null, not after.</p>\n\n<pre><code>public String toString(){\n    if(this.suivant == null)\n        return(city.toString() + \"Fin\");\n    else{\n        return(city.toString()+\"-&gt;\" + this.suivant.toString());\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":9946314,"reputation":51,"user_id":9558634,"display_name":"Atmo101"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":49515122,"answer_count":1,"score":0,"last_activity_date":1676911180,"creation_date":1522159471,"question_id":49515051,"body_markdown":"I am new to Java and trying to implement a simple linked list in Java(I know there is a special class for that) and having a problem in the toString() method for the class Tour which is not working. it&#39;s suppose to be a recursive method. \r\n\r\n    public class Tour {\r\n\t    private Ville city;\r\n\t    private Tour suivant;\r\n\r\n\t    public Ville getVille() {\r\n\t\t    return(city);\r\n\t    }\r\n\r\n\t    public Tour getSuivant() {\r\n\t\t    return(suivant);\r\n\t    }\r\n\r\n\t    public void setVille(Ville laVille) {\r\n\t\t    city = laVille;\r\n\t    }\r\n\r\n\t    public void setSuivant( Tour leSuivant) {\r\n\t\t    suivant = leSuivant;\r\n\t    }\r\n\r\n\t    public String toString(){\r\n\t\t    if(this == null) {\r\n\t\t\t    return(&quot;Fin&quot;);\r\n\t\t    } else {\r\n\t\t\t    return(city.toString()+&quot;-&gt;&quot; + this.suivant.toString());\r\n\t\t    }\t\r\n\t    }\r\n    }\r\n\r\nthe main method is here:\r\n\r\n    public class Test {\r\n\t    public static void main(String[] args) {\r\n\t\t    Ville v1 = new Ville();\r\n\t\t    v1.setNom(&quot;tantan&quot;);\r\n\t\t    v1.setCoordonner(1,5);\r\n\r\n\t\t    Ville v2 = new Ville();\r\n\t\t    v2.setNom(&quot;Errachidia&quot;);\r\n\t\t    v2.setCoordonner(10,6);\r\n\r\n\t\t    Tour t1 = new Tour();\r\n\t\t    t1.setVille(v1);\r\n\t\t    t1.setSuivant(null);\r\n\r\n\t\t    Tour t2 = new Tour();\r\n\t\t    t2.setVille(v2);\r\n\t\t    t2.setSuivant(t1);\r\n\r\n\t\t    System.out.println(t2);\r\n\t    }\r\n    }\r\n\r\nThanks in advance.","title":"implementing simply linked list in Java","body":"<p>I am new to Java and trying to implement a simple linked list in Java(I know there is a special class for that) and having a problem in the toString() method for the class Tour which is not working. it's suppose to be a recursive method.</p>\n<pre><code>public class Tour {\n    private Ville city;\n    private Tour suivant;\n\n    public Ville getVille() {\n        return(city);\n    }\n\n    public Tour getSuivant() {\n        return(suivant);\n    }\n\n    public void setVille(Ville laVille) {\n        city = laVille;\n    }\n\n    public void setSuivant( Tour leSuivant) {\n        suivant = leSuivant;\n    }\n\n    public String toString(){\n        if(this == null) {\n            return(&quot;Fin&quot;);\n        } else {\n            return(city.toString()+&quot;-&gt;&quot; + this.suivant.toString());\n        }   \n    }\n}\n</code></pre>\n<p>the main method is here:</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        Ville v1 = new Ville();\n        v1.setNom(&quot;tantan&quot;);\n        v1.setCoordonner(1,5);\n\n        Ville v2 = new Ville();\n        v2.setNom(&quot;Errachidia&quot;);\n        v2.setCoordonner(10,6);\n\n        Tour t1 = new Tour();\n        t1.setVille(v1);\n        t1.setSuivant(null);\n\n        Tour t2 = new Tour();\n        t2.setVille(v2);\n        t2.setSuivant(t1);\n\n        System.out.println(t2);\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":13204667,"reputation":49,"user_id":9536844,"display_name":"Angelbreath"},"score":0,"creation_date":1522234952,"post_id":49531447,"comment_id":86071730,"body_markdown":"In most tutorials i see how to create a GUI starts as a new application! i didnt find any tutorial to change the application from CLI to GUI. This is the reason of my question","body":"In most tutorials i see how to create a GUI starts as a new application! i didnt find any tutorial to change the application from CLI to GUI. This is the reason of my question"}],"answers":[{"comments":[{"owner":{"account_id":13204667,"reputation":49,"user_id":9536844,"display_name":"Angelbreath"},"score":0,"creation_date":1522233321,"post_id":49531983,"comment_id":86070548,"body_markdown":"I understand what you say, but my question is that later i acctually have to change ALL my code to take user input from GUI, display the output in GUI, even some if/else blocks to become choiseButton. So its like writing all the application from the begining. Am i wrong? I have a small program of 3 classes and i think its already very complicated to make a GUI for it. I cant imagine if its full workink with lets say 50 classes to have change all your code to become GUI programm.","body":"I understand what you say, but my question is that later i acctually have to change ALL my code to take user input from GUI, display the output in GUI, even some if/else blocks to become choiseButton. So its like writing all the application from the begining. Am i wrong? I have a small program of 3 classes and i think its already very complicated to make a GUI for it. I cant imagine if its full workink with lets say 50 classes to have change all your code to become GUI programm."},{"owner":{"account_id":13224021,"reputation":984,"user_id":9549750,"display_name":"jukzi"},"score":0,"creation_date":1522234242,"post_id":49531983,"comment_id":86071238,"body_markdown":"The idea of abstracting UI from the logic is that you NEVER need to CHANGE your logic. You only write logic once and later ADD a GUI or Command Line Inteface (CLI) around it. Also a boolean choise may be passed as boolean argument","body":"The idea of abstracting UI from the logic is that you NEVER need to CHANGE your logic. You only write logic once and later ADD a GUI or Command Line Inteface (CLI) around it. Also a boolean choise may be passed as boolean argument"}],"tags":[],"owner":{"account_id":13224021,"reputation":984,"user_id":9549750,"display_name":"jukzi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522232533,"creation_date":1522232533,"answer_id":49531983,"question_id":49531447,"body_markdown":"It is best to seperate your algorithm/logic from the user interface (UI). So all input should be passed as function parameter to your logic. Later to you can then decide wether it comes from a graphical user interface (GUI) or is passed over from the commandline. Also the output should be a UI independend datastructure. Then you can visualize it later both as plan Text or graphically.\r\n","title":"From command line to GUI","body":"<p>It is best to seperate your algorithm/logic from the user interface (UI). So all input should be passed as function parameter to your logic. Later to you can then decide wether it comes from a graphical user interface (GUI) or is passed over from the commandline. Also the output should be a UI independend datastructure. Then you can visualize it later both as plan Text or graphically.</p>\n"},{"comments":[{"owner":{"account_id":13204667,"reputation":49,"user_id":9536844,"display_name":"Angelbreath"},"score":0,"creation_date":1522234014,"post_id":49532176,"comment_id":86071078,"body_markdown":"Let me be more clear.Assuming i have a project to make a programm. The programm must do 1,2,3,4,5 thinks. Ex, add task, mark task as completed, print list of tasks, etc. I make the programm and next step is to provide a gui for all this. As my programm is already working the way i want, i have to rewrite everything to become a gui application. So it was better to start building it as GUI programm from the beggining?","body":"Let me be more clear.Assuming i have a project to make a programm. The programm must do 1,2,3,4,5 thinks. Ex, add task, mark task as completed, print list of tasks, etc. I make the programm and next step is to provide a gui for all this. As my programm is already working the way i want, i have to rewrite everything to become a gui application. So it was better to start building it as GUI programm from the beggining?"},{"owner":{"account_id":9775129,"reputation":79,"user_id":7245456,"display_name":"Imaddin Ahmed Mohamed"},"score":0,"creation_date":1522234521,"post_id":49532176,"comment_id":86071432,"body_markdown":"Yes, you are tight or you can separate and to do the application wich uses the console as a module or a class which provides you what you want. After you have the class as a module you can use objects of this class in the controller. In conclusion, you don&#39;t have to remove your application which use the console, you only have to change small things. I hope i help you.","body":"Yes, you are tight or you can separate and to do the application wich uses the console as a module or a class which provides you what you want. After you have the class as a module you can use objects of this class in the controller. In conclusion, you don&#39;t have to remove your application which use the console, you only have to change small things. I hope i help you."}],"tags":[],"owner":{"account_id":9775129,"reputation":79,"user_id":7245456,"display_name":"Imaddin Ahmed Mohamed"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522233103,"creation_date":1522233103,"answer_id":49532176,"question_id":49531447,"body_markdown":"Well, i can tell you from my experience what i consider as a good option.\r\nYou want to use the terminal or the console with System class which i consider a good option but only when you have a consola or a terminal. Well, you can use the terminal input arguments and pass them to the main function to other function wich is used in the controller class of you JavaFX application. In this case i will recomend you use only the args as a alternative mode in the inputs that your program can manage. In case that you have used nmap application as example, you can see that the  inputs from the terminal can be provided from the terminal to the GUI application.\r\nBut i don&#39;t recommend you to use one terminal application or one terminal input for passing values to the GUI terminal, i mean you can but i don&#39;t recommend you. \r\nIn case that you want, you can pass values from the main function to as args value to the controller class and manage what do you want, or using System.in or what you want to the java controller class you can do it.\r\n\r\nBut the best option is to use sceneBuilder for bulding  the application and gives the logic to the javaFXController.java class which is in charge to manage the values.\r\nThe first step:\r\n     To build the components from sceneBuilder always providing the fx:id and      the handler name for the component.\r\n\r\nSecond step:\r\n     Manage the values that you want from the GUI \r\nThird Step:\r\n     Manage the values from the terminal to the application but it is trivial\r\n\r\n\r\n\r\nGood luck!\r\n","title":"From command line to GUI","body":"<p>Well, i can tell you from my experience what i consider as a good option.\nYou want to use the terminal or the console with System class which i consider a good option but only when you have a consola or a terminal. Well, you can use the terminal input arguments and pass them to the main function to other function wich is used in the controller class of you JavaFX application. In this case i will recomend you use only the args as a alternative mode in the inputs that your program can manage. In case that you have used nmap application as example, you can see that the  inputs from the terminal can be provided from the terminal to the GUI application.\nBut i don't recommend you to use one terminal application or one terminal input for passing values to the GUI terminal, i mean you can but i don't recommend you. \nIn case that you want, you can pass values from the main function to as args value to the controller class and manage what do you want, or using System.in or what you want to the java controller class you can do it.</p>\n\n<p>But the best option is to use sceneBuilder for bulding  the application and gives the logic to the javaFXController.java class which is in charge to manage the values.\nThe first step:\n     To build the components from sceneBuilder always providing the fx:id and      the handler name for the component.</p>\n\n<p>Second step:\n     Manage the values that you want from the GUI \nThird Step:\n     Manage the values from the terminal to the application but it is trivial</p>\n\n<p>Good luck!</p>\n"}],"owner":{"account_id":13204667,"reputation":49,"user_id":9536844,"display_name":"Angelbreath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676911127,"creation_date":1522230970,"question_id":49531447,"body_markdown":"What is the right approach to end up with a GUI Java program?\r\n\r\nExplain: I want to make a program that has a GUI. Should I complete my program as command line application and then creating the GUI? Or start with e.x. WindowBuilder, Java Fx and make it as a GUI application from the beginning?\r\n\r\nAssume that I have a user input using Scanner. When I want to end up with GUI should I have to change all the code to take input from JTextField?\r\n\r\nBe more specific: I have the following code \r\n\r\n    //Add task to the List\r\n    public void AddToList() {\r\n        myList.add(task.setTaskDesc());\r\n        System.out.println(&quot;New item &quot; + task.tascDesc + &quot; is added in your task list!&quot;);\r\n    }\r\n\r\nThe AddToList method takes user (scanner input) and creates a task added in the list. So I have to change ALL the code to become GUI? \r\nIts a general purpose question just to understand which is the normal way to make a full program as most of the programs need a GUI.","title":"From command line to GUI","body":"<p>What is the right approach to end up with a GUI Java program?</p>\n<p>Explain: I want to make a program that has a GUI. Should I complete my program as command line application and then creating the GUI? Or start with e.x. WindowBuilder, Java Fx and make it as a GUI application from the beginning?</p>\n<p>Assume that I have a user input using Scanner. When I want to end up with GUI should I have to change all the code to take input from JTextField?</p>\n<p>Be more specific: I have the following code</p>\n<pre><code>//Add task to the List\npublic void AddToList() {\n    myList.add(task.setTaskDesc());\n    System.out.println(&quot;New item &quot; + task.tascDesc + &quot; is added in your task list!&quot;);\n}\n</code></pre>\n<p>The AddToList method takes user (scanner input) and creates a task added in the list. So I have to change ALL the code to become GUI?\nIts a general purpose question just to understand which is the normal way to make a full program as most of the programs need a GUI.</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":1729178,"reputation":705,"user_id":1583160,"accept_rate":100,"display_name":"irotsoma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676911096,"creation_date":1676910660,"question_id":75511888,"body_markdown":"I have a Java application that searches a database for records that each belong to one parent. In this case the child records can not be separated from their parent, and the parent almost always contains many records. Think of it like a book is the parent and the pages are the children which each hold some set of properties that can be searched on. It&#39;s impossible to maintain the context of a page outside of its book because the book itself holds some information directly related to the pages and some pages depend on each other to make sense.\r\n\r\nCurrently it just selects all parents that have at least one child that meets the criteria and returns all of those results. But now I want to implement a limit on the amount of output so that even larger datasets can be used to output even smaller datasets that match better. I&#39;m a little new to elastic search, but I&#39;m mostly familiar with the basics, scoring and finding the best match and then limiting the results. But if I just limit to the number of children and then take the rest of that last parent, I&#39;m not necessarily going to get the fewest additional results possible.\r\n\r\nSo let&#39;s say I filter the results down to the following set of parents based on their children having the best match scores. Now I need to get at least 1,000 records, but as few as possible over 1,000. And let&#39;s say the parents have the following number of children:\r\n\r\n```none\r\nParent 1 - 349\r\nParent 2 - 303\r\nParent 3 - 299\r\nParent 4 - 248\r\nParent 5 - 101\r\nParent 6 - 60\r\nParent 7 - 15\r\n```\r\n\r\nIf I sort in descending order and limit to the fewest over 1000, I would choose 1-4 for a total of 1,199 child records. If I sort ascending I would choose 2-7 for a total of 1,026. My original thought was just doing both and choosing the closest. But what I really want is: 1, 2, 4, and 5 since together those add up to 1,001. \r\n\r\nSo I&#39;d love to learn some more elastic search functionality that might help with this kind of more complex limiting.\r\n","title":"Find count of child records that as closely approach limit as possible","body":"<p>I have a Java application that searches a database for records that each belong to one parent. In this case the child records can not be separated from their parent, and the parent almost always contains many records. Think of it like a book is the parent and the pages are the children which each hold some set of properties that can be searched on. It's impossible to maintain the context of a page outside of its book because the book itself holds some information directly related to the pages and some pages depend on each other to make sense.</p>\n<p>Currently it just selects all parents that have at least one child that meets the criteria and returns all of those results. But now I want to implement a limit on the amount of output so that even larger datasets can be used to output even smaller datasets that match better. I'm a little new to elastic search, but I'm mostly familiar with the basics, scoring and finding the best match and then limiting the results. But if I just limit to the number of children and then take the rest of that last parent, I'm not necessarily going to get the fewest additional results possible.</p>\n<p>So let's say I filter the results down to the following set of parents based on their children having the best match scores. Now I need to get at least 1,000 records, but as few as possible over 1,000. And let's say the parents have the following number of children:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Parent 1 - 349\nParent 2 - 303\nParent 3 - 299\nParent 4 - 248\nParent 5 - 101\nParent 6 - 60\nParent 7 - 15\n</code></pre>\n<p>If I sort in descending order and limit to the fewest over 1000, I would choose 1-4 for a total of 1,199 child records. If I sort ascending I would choose 2-7 for a total of 1,026. My original thought was just doing both and choosing the closest. But what I really want is: 1, 2, 4, and 5 since together those add up to 1,001.</p>\n<p>So I'd love to learn some more elastic search functionality that might help with this kind of more complex limiting.</p>\n"},{"tags":["java","azure-cosmosdb","azure-cosmosdb-sqlapi"],"answers":[{"tags":[],"owner":{"account_id":17250869,"reputation":114,"user_id":12491066,"display_name":"Theo van Kraay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676910688,"creation_date":1676910688,"answer_id":75511892,"question_id":75487251,"body_markdown":"The code you have given should work fine if either `null` or an actual value is passed for any of the parameters. But in your case, for `active`, it is neither. Nothing is passed, not even `null`. \r\n\r\nIt seems from the comments in your code that &quot;active&quot; is an object of type `List`, and you are attempting to pass a value in that list to `getBackListOptions`, and extracting that value directly in the method call with `p.getActive().get(0)`. But I think your implementation code is failing where `p.getActive().get(0)` is called, before `getBackListOptions` is even invoked. The error you are getting is not something that is returned from Cosmos Spring client, which I believe is doing what it should. You need to handle the values you are passing properly before passing them. I think you could handle this something like below. \r\n\r\n    String base = p.getBase(); //set the value here so it is clear where failure is\r\n    String position = p.getPosition(); //set the value here so it is clear where failure is\r\n    String active = p.getActive() == null ? null : p.getActive().get(0); //I think this line was failing before because p.getActive() was null, but this condition handles that case\r\n    \r\n    latestDetails = repositoryA.getBackListOptions(base,position,active);//active is a List and we are passing one value","title":"How to write dynamic native queries in cosmos DB","body":"<p>The code you have given should work fine if either <code>null</code> or an actual value is passed for any of the parameters. But in your case, for <code>active</code>, it is neither. Nothing is passed, not even <code>null</code>.</p>\n<p>It seems from the comments in your code that &quot;active&quot; is an object of type <code>List</code>, and you are attempting to pass a value in that list to <code>getBackListOptions</code>, and extracting that value directly in the method call with <code>p.getActive().get(0)</code>. But I think your implementation code is failing where <code>p.getActive().get(0)</code> is called, before <code>getBackListOptions</code> is even invoked. The error you are getting is not something that is returned from Cosmos Spring client, which I believe is doing what it should. You need to handle the values you are passing properly before passing them. I think you could handle this something like below.</p>\n<pre><code>String base = p.getBase(); //set the value here so it is clear where failure is\nString position = p.getPosition(); //set the value here so it is clear where failure is\nString active = p.getActive() == null ? null : p.getActive().get(0); //I think this line was failing before because p.getActive() was null, but this condition handles that case\n\nlatestDetails = repositoryA.getBackListOptions(base,position,active);//active is a List and we are passing one value\n</code></pre>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676910688,"creation_date":1676653499,"question_id":75487251,"body_markdown":"I have a situation where i have couple of fields i have to pass while calling the cosmos DB , but those fields may not always have values. Some of them might be null while passing them to the repository method. I am trying to do it like below \r\n\r\n    public interface CachedRepository{\r\n    @Query(value=&quot;select * from abc a where (@base=null or a.base=@base) and (@position=null or a.position=@position) and (@active=null or a.active = @active)&quot;)\r\n    List&lt;BackList&gt; getBackListOptions(@Param(&quot;base&quot;)String base,@Param(&quot;position&quot;)String position,@Param(&quot;active&quot;) String active);\r\n\r\n\r\nThe implementation class \r\n\r\n    latestDetails = repositoryA.getBackListOptions(p.getBase(),p.getPosition(),p.getActive().get(0));//active is a List and we are passing one value \r\n\r\nI am trying to pass the request without the active parameter(i.e. active is null in the request) The exception i am getting is \r\n\r\n    Can not invoke &quot;java.util.List.get(int)&quot; because  the return value of request.Pick.getActive() is null\r\n\r\nThe cosmos Table is \r\n\r\n    {\r\n      &#39;_id&quot;:&quot;a25777-j&quot;\r\n       &quot;empId&quot;: 2436,\r\n       &quot;base&quot;:&quot;JH&quot;,\r\n       &quot;position&quot;:&quot;HG&quot;,\r\n       &quot;active&quot;:&quot;J&quot;\r\n        .........\r\n      }\r\nAnd i am taking reference from this answer\r\nhttps://stackoverflow.com/questions/65613687/how-to-write-dynamic-sql-in-spring-data-azure-cosmos-db\r\n\r\nPlease let me know where i am doing it wrong","title":"How to write dynamic native queries in cosmos DB","body":"<p>I have a situation where i have couple of fields i have to pass while calling the cosmos DB , but those fields may not always have values. Some of them might be null while passing them to the repository method. I am trying to do it like below</p>\n<pre><code>public interface CachedRepository{\n@Query(value=&quot;select * from abc a where (@base=null or a.base=@base) and (@position=null or a.position=@position) and (@active=null or a.active = @active)&quot;)\nList&lt;BackList&gt; getBackListOptions(@Param(&quot;base&quot;)String base,@Param(&quot;position&quot;)String position,@Param(&quot;active&quot;) String active);\n</code></pre>\n<p>The implementation class</p>\n<pre><code>latestDetails = repositoryA.getBackListOptions(p.getBase(),p.getPosition(),p.getActive().get(0));//active is a List and we are passing one value \n</code></pre>\n<p>I am trying to pass the request without the active parameter(i.e. active is null in the request) The exception i am getting is</p>\n<pre><code>Can not invoke &quot;java.util.List.get(int)&quot; because  the return value of request.Pick.getActive() is null\n</code></pre>\n<p>The cosmos Table is</p>\n<pre><code>{\n  '_id&quot;:&quot;a25777-j&quot;\n   &quot;empId&quot;: 2436,\n   &quot;base&quot;:&quot;JH&quot;,\n   &quot;position&quot;:&quot;HG&quot;,\n   &quot;active&quot;:&quot;J&quot;\n    .........\n  }\n</code></pre>\n<p>And i am taking reference from this answer\n<a href=\"https://stackoverflow.com/questions/65613687/how-to-write-dynamic-sql-in-spring-data-azure-cosmos-db\">How to write dynamic sql in Spring Data Azure Cosmos DB</a></p>\n<p>Please let me know where i am doing it wrong</p>\n"},{"tags":["java","android","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":15554088,"reputation":865,"user_id":13984325,"display_name":"Sid"},"score":0,"creation_date":1676911267,"post_id":75511776,"comment_id":133228178,"body_markdown":"Just after I made this I stumbled across bound services which looks like it may be able to help me out however I still really want to know why the camera screen is turning blank","body":"Just after I made this I stumbled across bound services which looks like it may be able to help me out however I still really want to know why the camera screen is turning blank"}],"owner":{"account_id":15554088,"reputation":865,"user_id":13984325,"display_name":"Sid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676909999,"creation_date":1676909999,"question_id":75511776,"body_markdown":"Im using CameraX and would like to allow video to record when the app is in the background.\r\n\r\nThe basic flow of the app is:\r\n- User enters the app and clicks record\r\n- The camera preview is displayed on the screen\r\n- The user clicks home, the preview obviously disappears but the recording continues until the user clicks stop in the foreground service notification.\r\n\r\nMy current implementation isn&#39;t working, when the app first starts I get a blank preview (but recording happens) until I refresh the screen or something at which point the preview shows.\r\n\r\nHere is the code:\r\n\r\nMain activity:\r\n```\r\n\r\n        PreviewView previewView = new PreviewView(this);\r\n        ConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(\r\n                ConstraintLayout.LayoutParams.WRAP_CONTENT,\r\n                ConstraintLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        previewView.setLayoutParams(layoutParams);\r\n        rootLayout.addView(previewView);\r\n\r\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n\r\n                Preview preview = new Preview.Builder()\r\n                        .build();\r\n\r\n                CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                        .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n                        .build();\r\n\r\n                preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n                cameraProvider.unbindAll();\r\n                Camera camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview);\r\n\r\n                Intent intent = new Intent(this, MyService.class);\r\n                this.startForegroundService(intent);\r\n\r\n\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                // No errors need to be handled for this Future.\r\n                // This should never be reached.\r\n            }\r\n        }, ContextCompat.getMainExecutor((this)));\r\n\r\n```\r\n\r\nMyService: \r\n\r\nNote! I have used the image capture usecase here for simplicity\r\n\r\n```\r\n\r\npublic class MyService extends LifecycleService {\r\n    int startMode;      \r\n    IBinder binder;      \r\n    boolean allowRebind; \r\n    String channelId;\r\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n    private Preview preview;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        this.createNotificationChannel();\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        super.onStartCommand(intent, flags, startId);\r\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n        cameraProviderFuture.addListener(() -&gt; {\r\n            try {\r\n                // get the camera process singleton\r\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n\r\n                CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build();\r\n\r\n                ImageCapture imageCapture =\r\n                        new ImageCapture.Builder()\r\n                                .build();\r\n\r\n\r\n                Notification notification = new Notification.Builder(this, channelId).setContentTitle(&quot;hello&quot;).setContentText(&quot;world&quot;).build();\r\n                startForeground(1, notification);\r\n\r\n\r\n                cameraProvider.bindToLifecycle(this, cameraSelector, imageCapture);\r\n\r\n            } catch (ExecutionException | InterruptedException e) {\r\n                // No errors need to be handled for this Future.\r\n                // This should never be reached.\r\n            }\r\n        }, ContextCompat.getMainExecutor((this)));\r\n\r\n\r\n        return startMode;\r\n\r\n    }\r\n\r\n    @Override\r\n    public IBinder onBind...\r\n\r\n    @Override\r\n    public boolean onUnbind...\r\n\r\n    @Override\r\n    public void onRebind...\r\n\r\n    @Override\r\n    public void onDestroy...\r\n\r\n    public void createNotificationChannel() {\r\n        String channelId = &quot;my_channel_id&quot;;\r\n        CharSequence channelName = &quot;My Channel&quot;;\r\n        String channelDescription = &quot;My Channel Description&quot;;\r\n        int importance = NotificationManager.IMPORTANCE_HIGH;\r\n\r\n        NotificationChannel channel = new NotificationChannel(channelId, channelName, importance);\r\n        channel.setDescription(channelDescription);\r\n\r\n        NotificationManager notificationManager = getSystemService(NotificationManager.class);\r\n        notificationManager.createNotificationChannel(channel);\r\n\r\n        this.channelId = channelId;\r\n    }\r\n}\r\n\r\n\r\n```\r\nLike I said, this gives me a blank screen in the preview until I make some change e.g. locking the device and unlocking it.\r\n\r\nDoes anyone know how I can go about this?\r\n","title":"Start a camera from within a foreground service","body":"<p>Im using CameraX and would like to allow video to record when the app is in the background.</p>\n<p>The basic flow of the app is:</p>\n<ul>\n<li>User enters the app and clicks record</li>\n<li>The camera preview is displayed on the screen</li>\n<li>The user clicks home, the preview obviously disappears but the recording continues until the user clicks stop in the foreground service notification.</li>\n</ul>\n<p>My current implementation isn't working, when the app first starts I get a blank preview (but recording happens) until I refresh the screen or something at which point the preview shows.</p>\n<p>Here is the code:</p>\n<p>Main activity:</p>\n<pre><code>\n        PreviewView previewView = new PreviewView(this);\n        ConstraintLayout.LayoutParams layoutParams = new ConstraintLayout.LayoutParams(\n                ConstraintLayout.LayoutParams.WRAP_CONTENT,\n                ConstraintLayout.LayoutParams.WRAP_CONTENT\n        );\n        previewView.setLayoutParams(layoutParams);\n        rootLayout.addView(previewView);\n\n        ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n\n                Preview preview = new Preview.Builder()\n                        .build();\n\n                CameraSelector cameraSelector = new CameraSelector.Builder()\n                        .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n                        .build();\n\n                preview.setSurfaceProvider(previewView.getSurfaceProvider());\n                cameraProvider.unbindAll();\n                Camera camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview);\n\n                Intent intent = new Intent(this, MyService.class);\n                this.startForegroundService(intent);\n\n\n            } catch (ExecutionException | InterruptedException e) {\n                // No errors need to be handled for this Future.\n                // This should never be reached.\n            }\n        }, ContextCompat.getMainExecutor((this)));\n\n</code></pre>\n<p>MyService:</p>\n<p>Note! I have used the image capture usecase here for simplicity</p>\n<pre><code>\npublic class MyService extends LifecycleService {\n    int startMode;      \n    IBinder binder;      \n    boolean allowRebind; \n    String channelId;\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n    private Preview preview;\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        this.createNotificationChannel();\n    }\n\n\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        super.onStartCommand(intent, flags, startId);\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                // get the camera process singleton\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n\n                CameraSelector cameraSelector = new CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build();\n\n                ImageCapture imageCapture =\n                        new ImageCapture.Builder()\n                                .build();\n\n\n                Notification notification = new Notification.Builder(this, channelId).setContentTitle(&quot;hello&quot;).setContentText(&quot;world&quot;).build();\n                startForeground(1, notification);\n\n\n                cameraProvider.bindToLifecycle(this, cameraSelector, imageCapture);\n\n            } catch (ExecutionException | InterruptedException e) {\n                // No errors need to be handled for this Future.\n                // This should never be reached.\n            }\n        }, ContextCompat.getMainExecutor((this)));\n\n\n        return startMode;\n\n    }\n\n    @Override\n    public IBinder onBind...\n\n    @Override\n    public boolean onUnbind...\n\n    @Override\n    public void onRebind...\n\n    @Override\n    public void onDestroy...\n\n    public void createNotificationChannel() {\n        String channelId = &quot;my_channel_id&quot;;\n        CharSequence channelName = &quot;My Channel&quot;;\n        String channelDescription = &quot;My Channel Description&quot;;\n        int importance = NotificationManager.IMPORTANCE_HIGH;\n\n        NotificationChannel channel = new NotificationChannel(channelId, channelName, importance);\n        channel.setDescription(channelDescription);\n\n        NotificationManager notificationManager = getSystemService(NotificationManager.class);\n        notificationManager.createNotificationChannel(channel);\n\n        this.channelId = channelId;\n    }\n}\n\n\n</code></pre>\n<p>Like I said, this gives me a blank screen in the preview until I make some change e.g. locking the device and unlocking it.</p>\n<p>Does anyone know how I can go about this?</p>\n"},{"tags":["java","list","collections","java-stream","compare"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676653566,"creation_date":1676653566,"answer_id":75487265,"question_id":75487147,"body_markdown":"You can make a copy of each `List`, sort these copies, then compare them element by element.\r\n\r\n```java\r\nComparator&lt;List&lt;Person&gt;&gt; comp = (a, b) -&gt; {\r\n    List&lt;Person&gt; s1 = a.stream().sorted(Comparator.comparingInt(Person::getScore).reversed()).toList(), \r\n                 s2 = b.stream().sorted(Comparator.comparingInt(Person::getScore).reversed()).toList();\r\n    for (int i = 0; i &lt; Math.min(a.size(), b.size()); i++) {\r\n        int c = Integer.compare(s1.get(i).getScore(), s2.get(i).getScore());\r\n        if (c != 0) return c;\r\n    }\r\n    return Integer.compare(a.size(), b.size());\r\n};\r\n```","title":"Compare two lists based on highest value and subsequent values?","body":"<p>You can make a copy of each <code>List</code>, sort these copies, then compare them element by element.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;List&lt;Person&gt;&gt; comp = (a, b) -&gt; {\n    List&lt;Person&gt; s1 = a.stream().sorted(Comparator.comparingInt(Person::getScore).reversed()).toList(), \n                 s2 = b.stream().sorted(Comparator.comparingInt(Person::getScore).reversed()).toList();\n    for (int i = 0; i &lt; Math.min(a.size(), b.size()); i++) {\n        int c = Integer.compare(s1.get(i).getScore(), s2.get(i).getScore());\n        if (c != 0) return c;\n    }\n    return Integer.compare(a.size(), b.size());\n};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676909755,"creation_date":1676909755,"answer_id":75511729,"question_id":75487147,"body_markdown":"Define a comparator to compare the lists. After, sorting each list, The comparator short circuits as soon corresponding scores are unequal, returning the value of the the last comparison.  Otherwise, if the two lists are equal or if if their sizes are different, the shortest list will return as the smaller.\r\n\r\n**Details**\r\n\r\nSince the score is the target of the comparison, I decided to grab it early and place in `int` arrays which are sorted.  Then I iterate over the arrays in reverse order to ensure I am testing the largest elements first (`IntStreams` can&#39;t take a comparator for sorting and I didn&#39;t want to box the `int` values).\r\n\r\nIterating over the lists, the scores are compared and the result is mapped to the stream.  Then the result of the comparison `(-1,0, or 1)` is filtered to ignore zero values, capturing the result in an `OptionalInt`.\r\n\r\nThen either the `OptionalInt` value is returned, or the comparison of the array sizes.  Then, all comparisons being equal, the smaller array length would return `-1`, `larger 1`, and `equal lengths 0`\r\n  \r\n```\r\nComparator&lt;List&lt;Person&gt;&gt; listComp = (lst1, lst2) -&gt; {\r\n    int[] scores1 = lst1.stream().mapToInt(Person::getScore).sorted()\r\n            .toArray();\r\n    int[] scores2 = lst2.stream().mapToInt(Person::getScore).sorted()\r\n            .toArray();\r\n    \r\n    OptionalInt diff = IntStream\r\n            .iterate(Math.min(scores1.length-1, scores2.length-1),\r\n                    i -&gt; i &gt;= 0, i -&gt; i-1)\r\n            .map(i -&gt; Integer.compare(scores1[i], scores2[i]))\r\n            .filter(delta -&gt; delta != 0).findFirst();\r\n\r\n    return diff.orElse(Integer.compare(scores1.length, scores2.length));\r\n};\r\n```\r\n**Demos**\r\n\r\nSome Data - comparing every two lists in the list of lists to each other. For demo purposes, I am using a `record` with a modified `toString()`.\r\n```\r\nrecord Person(int getScore) {\r\n     @Override\r\n     public String toString() {\r\n         return &quot;%d&quot;.formatted(getScore);\r\n     }\r\n}\r\n\r\nList&lt;List&lt;Person&gt;&gt; lists = List.of(\r\n        // first is smaller\r\n        List.of(new Person(3), new Person(5), new Person(8)),\r\n        List.of(new Person(8), new Person(4), new Person(7)),\r\n        // equal lists\r\n        List.of(new Person(3), new Person(7), new Person(8)),\r\n        List.of(new Person(8), new Person(3), new Person(7)),\r\n        // first is smaller due to length\r\n        List.of(new Person(3), new Person(7), new Person(8)),\r\n        List.of(new Person(8), new Person(3), new Person(7),\r\n                new Person(2)));\r\n```\r\nTo compare the lists, use `int result = listComp.compare(list1, list2);`\r\n```\r\n int v;\r\n for (int i = 0; i &lt; lists.size(); i += 2) {\r\n     System.out.println(lists.get(i)\r\n             + ((v = listComp.compare(lists.get(i), lists.get(i + 1))) &gt; 0\r\n                     ? &quot; &gt; &quot;\r\n                     : (v &lt; 0) ? &quot; &lt; &quot; : &quot; == &quot;)\r\n             + lists.get(i + 1));\r\n }\r\n```\r\nprints the following:\r\n```\r\n[3, 5, 8] &lt; [8, 4, 7]\r\n[3, 7, 8] == [8, 3, 7]\r\n[3, 7, 8] &gt; [8, 3, 7, 2]\r\n\r\n","title":"Compare two lists based on highest value and subsequent values?","body":"<p>Define a comparator to compare the lists. After, sorting each list, The comparator short circuits as soon corresponding scores are unequal, returning the value of the the last comparison.  Otherwise, if the two lists are equal or if if their sizes are different, the shortest list will return as the smaller.</p>\n<p><strong>Details</strong></p>\n<p>Since the score is the target of the comparison, I decided to grab it early and place in <code>int</code> arrays which are sorted.  Then I iterate over the arrays in reverse order to ensure I am testing the largest elements first (<code>IntStreams</code> can't take a comparator for sorting and I didn't want to box the <code>int</code> values).</p>\n<p>Iterating over the lists, the scores are compared and the result is mapped to the stream.  Then the result of the comparison <code>(-1,0, or 1)</code> is filtered to ignore zero values, capturing the result in an <code>OptionalInt</code>.</p>\n<p>Then either the <code>OptionalInt</code> value is returned, or the comparison of the array sizes.  Then, all comparisons being equal, the smaller array length would return <code>-1</code>, <code>larger 1</code>, and <code>equal lengths 0</code></p>\n<pre><code>Comparator&lt;List&lt;Person&gt;&gt; listComp = (lst1, lst2) -&gt; {\n    int[] scores1 = lst1.stream().mapToInt(Person::getScore).sorted()\n            .toArray();\n    int[] scores2 = lst2.stream().mapToInt(Person::getScore).sorted()\n            .toArray();\n    \n    OptionalInt diff = IntStream\n            .iterate(Math.min(scores1.length-1, scores2.length-1),\n                    i -&gt; i &gt;= 0, i -&gt; i-1)\n            .map(i -&gt; Integer.compare(scores1[i], scores2[i]))\n            .filter(delta -&gt; delta != 0).findFirst();\n\n    return diff.orElse(Integer.compare(scores1.length, scores2.length));\n};\n</code></pre>\n<p><strong>Demos</strong></p>\n<p>Some Data - comparing every two lists in the list of lists to each other. For demo purposes, I am using a <code>record</code> with a modified <code>toString()</code>.</p>\n<pre><code>record Person(int getScore) {\n     @Override\n     public String toString() {\n         return &quot;%d&quot;.formatted(getScore);\n     }\n}\n\nList&lt;List&lt;Person&gt;&gt; lists = List.of(\n        // first is smaller\n        List.of(new Person(3), new Person(5), new Person(8)),\n        List.of(new Person(8), new Person(4), new Person(7)),\n        // equal lists\n        List.of(new Person(3), new Person(7), new Person(8)),\n        List.of(new Person(8), new Person(3), new Person(7)),\n        // first is smaller due to length\n        List.of(new Person(3), new Person(7), new Person(8)),\n        List.of(new Person(8), new Person(3), new Person(7),\n                new Person(2)));\n</code></pre>\n<p>To compare the lists, use <code>int result = listComp.compare(list1, list2);</code></p>\n<pre><code> int v;\n for (int i = 0; i &lt; lists.size(); i += 2) {\n     System.out.println(lists.get(i)\n             + ((v = listComp.compare(lists.get(i), lists.get(i + 1))) &gt; 0\n                     ? &quot; &gt; &quot;\n                     : (v &lt; 0) ? &quot; &lt; &quot; : &quot; == &quot;)\n             + lists.get(i + 1));\n }\n</code></pre>\n<p>prints the following:</p>\n<pre><code>[3, 5, 8] &lt; [8, 4, 7]\n[3, 7, 8] == [8, 3, 7]\n[3, 7, 8] &gt; [8, 3, 7, 2]\n\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1677293080,"accepted_answer_id":75487265,"answer_count":2,"score":-2,"last_activity_date":1676909755,"creation_date":1676652991,"question_id":75487147,"body_markdown":"I have two lists of:\r\n\r\n    List&lt;Person&gt; persons;\r\n\r\neach Person has the attribute - `score`\r\n\r\ne.g. \r\n\r\n**list1:**\r\n\r\n    person.score = 3\r\n    person.score = 5\r\n    person.score = 8\r\n\r\n**list2:**\r\n\r\n    person.score = 8\r\n    person.score = 4\r\n    person.score = 7\r\n\r\nI want to compare each list to find the `highest` score in each. If both highest are the same, then I want to compare the second highest etc and so on.\r\n\r\nHow can I do so?\r\n\r\n\r\n\r\n\r\n","title":"Compare two lists based on highest value and subsequent values?","body":"<p>I have two lists of:</p>\n<pre><code>List&lt;Person&gt; persons;\n</code></pre>\n<p>each Person has the attribute - <code>score</code></p>\n<p>e.g.</p>\n<p><strong>list1:</strong></p>\n<pre><code>person.score = 3\nperson.score = 5\nperson.score = 8\n</code></pre>\n<p><strong>list2:</strong></p>\n<pre><code>person.score = 8\nperson.score = 4\nperson.score = 7\n</code></pre>\n<p>I want to compare each list to find the <code>highest</code> score in each. If both highest are the same, then I want to compare the second highest etc and so on.</p>\n<p>How can I do so?</p>\n"},{"tags":["java","kotlin","reflection","annotations"],"comments":[{"owner":{"account_id":3524496,"reputation":168,"user_id":2945996,"display_name":"rimesc"},"score":2,"creation_date":1676920551,"post_id":75511547,"comment_id":133230618,"body_markdown":"From the Javadoc for @Inherited: “Note that this meta-annotation interface has no use effect if the annotated interface is used to annotate anything other than a class.”  For what you’re trying to do you’re pretty much stuck with using reflection to figure out which method on the superclass your method is overriding.  You might find Spring’s AnnotationUtils helpful (at least as a reference if you’re not actually using Spring).\n\nhttps://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/annotation/AnnotationUtils.java","body":"From the Javadoc for @Inherited: “Note that this meta-annotation interface has no use effect if the annotated interface is used to annotate anything other than a class.”  For what you’re trying to do you’re pretty much stuck with using reflection to figure out which method on the superclass your method is overriding.  You might find Spring’s AnnotationUtils helpful (at least as a reference if you’re not actually using Spring).  <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-core/src/main/java/org/springframework/core/annotation/AnnotationUtils.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-framework/blob/main/&hellip;</a>"},{"owner":{"account_id":1233186,"reputation":349,"user_id":1197346,"display_name":"Captain_spack_jarrow"},"score":0,"creation_date":1677058738,"post_id":75511547,"comment_id":133260741,"body_markdown":"Thanks!!! Great you have an eye for the detail. But I had in general a problem finding java annotation from kotlin. For example if I move  @JavaAnnotation directly in MyClass. I will update the question. I will check AnnotationUtils thanks for that also.","body":"Thanks!!! Great you have an eye for the detail. But I had in general a problem finding java annotation from kotlin. For example if I move  @JavaAnnotation directly in MyClass. I will update the question. I will check AnnotationUtils thanks for that also."}],"owner":{"account_id":1233186,"reputation":349,"user_id":1197346,"display_name":"Captain_spack_jarrow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676909746,"creation_date":1676908795,"question_id":75511547,"body_markdown":"I declare a java annotation.\r\n\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    @Inherited\r\n    public @interface JavaAnnotation{}\r\n\r\n\r\nI use this java annotation in kotlin interface\r\n\r\nProblem.kt\r\n\r\n    interface IMyClass {\r\n            @JavaAnnotation\r\n            fun method() {}\r\n        }\r\n    \r\n    class MyClass : IMyClass{\r\n        override fun method() {}\r\n    }\r\n    \r\n    class Problem {\r\n        @Test\r\n        internal fun shouldFindAnnotationFromParentInterface() {\r\n            val myClass = MyClass()\r\n            Assertions.assertTrue(myClass::class.declaredFunctions.find { it.name == &quot;method&quot; }!!.annotations.isEmpty().not())\r\n        }\r\n    }\r\n\r\nI see that java annotation uses @Inherited.\r\nI want to find the java annotation on the Kotlin MyClass::method. \r\nI get an empty array.\r\n\r\n\r\nCould you help me?\r\nThanks","title":"Unable to get java annotation on kotlin method using reflection","body":"<p>I declare a java annotation.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\n@Inherited\npublic @interface JavaAnnotation{}\n</code></pre>\n<p>I use this java annotation in kotlin interface</p>\n<p>Problem.kt</p>\n<pre><code>interface IMyClass {\n        @JavaAnnotation\n        fun method() {}\n    }\n\nclass MyClass : IMyClass{\n    override fun method() {}\n}\n\nclass Problem {\n    @Test\n    internal fun shouldFindAnnotationFromParentInterface() {\n        val myClass = MyClass()\n        Assertions.assertTrue(myClass::class.declaredFunctions.find { it.name == &quot;method&quot; }!!.annotations.isEmpty().not())\n    }\n}\n</code></pre>\n<p>I see that java annotation uses @Inherited.\nI want to find the java annotation on the Kotlin MyClass::method.\nI get an empty array.</p>\n<p>Could you help me?\nThanks</p>\n"},{"tags":["java","spring"],"owner":{"account_id":12703822,"reputation":53,"user_id":9229754,"display_name":"Alberto Contorno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676909539,"creation_date":1676908166,"question_id":75511426,"body_markdown":"There are two entities: A and B.\r\n\r\nA has a state: OPEN or CLOSED.\r\nB can have multiple A, but only 1 with state OPEN. So, if B already has an entity B with state OPEN and then someone tries to open another B with state OPEN the validation blocks it.\r\nThe problem is that if 2 requests occur at the same time containing the same entity A with state OPEN and linked to the same entity B, then both the validations pass and both entities A are saved because the validation checks on the DB if there exists an A with state OPEN and, being the requests &#39;concurrent&#39;, there are none in the DB. \r\nHow to avoid this?\r\n","title":"How to avoid saving multiple entities (duplicates) with concurrent requests when there is a validation to do on the DB","body":"<p>There are two entities: A and B.</p>\n<p>A has a state: OPEN or CLOSED.\nB can have multiple A, but only 1 with state OPEN. So, if B already has an entity B with state OPEN and then someone tries to open another B with state OPEN the validation blocks it.\nThe problem is that if 2 requests occur at the same time containing the same entity A with state OPEN and linked to the same entity B, then both the validations pass and both entities A are saved because the validation checks on the DB if there exists an A with state OPEN and, being the requests 'concurrent', there are none in the DB.\nHow to avoid this?</p>\n"},{"tags":["java","multithreading","queue"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1676908303,"post_id":75511444,"comment_id":133227312,"body_markdown":"The first approach is basically an abstracted version of the second approach. The first is better, because you don&#39;t have to implement the queueing/threads bit of it.","body":"The first approach is basically an abstracted version of the second approach. The first is better, because you don&#39;t have to implement the queueing/threads bit of it."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1676913046,"post_id":75511444,"comment_id":133228661,"body_markdown":"Re, &quot;Is the first approach consuming more memory...?&quot; They&#39;ll probably be about the same unless there is some difference between what you call a &quot;task&quot; in the first case and an &quot;item&quot; in the second case. There&#39;s no reason why there _should_ be a difference, because both describe the same piece of work that needs to be done by the worker threads.","body":"Re, &quot;Is the first approach consuming more memory...?&quot; They&#39;ll probably be about the same unless there is some difference between what you call a &quot;task&quot; in the first case and an &quot;item&quot; in the second case. There&#39;s no reason why there <i>should</i> be a difference, because both describe the same piece of work that needs to be done by the worker threads."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1677210501,"post_id":75511444,"comment_id":133297291,"body_markdown":"Does the collection of incoming payloads need to be durable? For example, if there are 10,000 pending items and the system goes down, is it ok to lose those 10,000 items? What&#39;s an upper limit of incoming payloads – 10k, 100k, 1M, 10M, etc?","body":"Does the collection of incoming payloads need to be durable? For example, if there are 10,000 pending items and the system goes down, is it ok to lose those 10,000 items? What&#39;s an upper limit of incoming payloads – 10k, 100k, 1M, 10M, etc?"}],"owner":{"account_id":3547973,"reputation":1492,"user_id":2963436,"accept_rate":40,"display_name":"Maayan Hope"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676909512,"creation_date":1676908235,"question_id":75511444,"body_markdown":"We have an API endpoint that is called very rapidly\r\n\r\nEach call has a payload that needs to be handled offline\r\n\r\nWe have 2 options:\r\n\r\n1. For each API call, submit a new task using ExecutorService. The tasks will pile up in the internal queue of the ExecutorService (we can ignore memory problems for now).\r\n\r\n2. For each API call, add the payload to some queue and return immediately\r\n\r\n   Have some X amount of threads that will pull items from that queue and handle them\r\n\r\nIs there a difference between these 2 approaches? what could be better?\r\n\r\nIs the first approach consuming more memory than the second one per each work item?\r\n\r\n","title":"Queueing task by using ExecutorService or by using my own queue","body":"<p>We have an API endpoint that is called very rapidly</p>\n<p>Each call has a payload that needs to be handled offline</p>\n<p>We have 2 options:</p>\n<ol>\n<li><p>For each API call, submit a new task using ExecutorService. The tasks will pile up in the internal queue of the ExecutorService (we can ignore memory problems for now).</p>\n</li>\n<li><p>For each API call, add the payload to some queue and return immediately</p>\n<p>Have some X amount of threads that will pull items from that queue and handle them</p>\n</li>\n</ol>\n<p>Is there a difference between these 2 approaches? what could be better?</p>\n<p>Is the first approach consuming more memory than the second one per each work item?</p>\n"},{"tags":["java","mysql","hibernate","kotlin","mariadb"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676889541,"post_id":75507384,"comment_id":133221849,"body_markdown":"Post text rather than images.","body":"Post text rather than images."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676889598,"post_id":75507384,"comment_id":133221868,"body_markdown":"Show entire example input, not fragment.","body":"Show entire example input, not fragment."},{"owner":{"account_id":3662711,"reputation":495,"user_id":3052078,"accept_rate":72,"display_name":"user3052078"},"score":0,"creation_date":1676891097,"post_id":75507384,"comment_id":133222271,"body_markdown":"I edit the text, but the ideea is that in kotlin i see in debug all ZonedDateTime are consecutive, unique, 15 minutes difference, but when wanted to be saved in mariadb some changes are happening to this data, no ideea what, is not from my side.","body":"I edit the text, but the ideea is that in kotlin i see in debug all ZonedDateTime are consecutive, unique, 15 minutes difference, but when wanted to be saved in mariadb some changes are happening to this data, no ideea what, is not from my side."},{"owner":{"account_id":2892575,"reputation":6529,"user_id":2481006,"display_name":"Georg Richter"},"score":1,"creation_date":1676891287,"post_id":75507384,"comment_id":133222322,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"},{"owner":{"account_id":9417,"reputation":96439,"user_id":17389,"accept_rate":38,"display_name":"ysth"},"score":0,"creation_date":1676917452,"post_id":75507384,"comment_id":133229822,"body_markdown":"a column of type timezone is stored as epoch seconds but when you read or write to it looks like a datetime in the time zone of your database connection session.  this can be very painful to deal with; it is almost always a better idea to use a datetime type and, on the client side, produce and expect utc","body":"a column of type timezone is stored as epoch seconds but when you read or write to it looks like a datetime in the time zone of your database connection session.  this can be very painful to deal with; it is almost always a better idea to use a datetime type and, on the client side, produce and expect utc"}],"owner":{"account_id":3662711,"reputation":495,"user_id":3052078,"accept_rate":72,"display_name":"user3052078"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676909333,"creation_date":1676885058,"question_id":75507384,"body_markdown":"I receive dates as a strings for period 30 october to 31 october when daylight saving is happening.\r\n\r\nRelevant data: \r\n```none\r\n[\r\n  [&quot;2022-10-30T00:00:00+02:00&quot;,103.01],\r\n  [&quot;2022-10-30T00:15:00+02:00&quot;,103.01],\r\n  [&quot;2022-10-30T00:30:00+02:00&quot;,103.01],\r\n  [&quot;2022-10-30T00:45:00+02:00&quot;,103.01],\r\n  [&quot;2022-10-30T01:00:00+02:00&quot;,100.49],\r\n  [&quot;2022-10-30T01:15:00+02:00&quot;,100.49],\r\n  [&quot;2022-10-30T01:30:00+02:00&quot;,100.49],\r\n  [&quot;2022-10-30T01:45:00+02:00&quot;,100.49],\r\n  [&quot;2022-10-30T02:00:00+02:00&quot;,100.2],\r\n  [&quot;2022-10-30T02:15:00+02:00&quot;,100.2],\r\n  [&quot;2022-10-30T02:30:00+02:00&quot;,100.2],\r\n  [&quot;2022-10-30T02:45:00+02:00&quot;,100.2],\r\n  [&quot;2022-10-30T02:00:00+01:00&quot;,99.92],\r\n  [&quot;2022-10-30T02:15:00+01:00&quot;,99.92],\r\n  [&quot;2022-10-30T02:30:00+01:00&quot;,99.92]\r\n]\r\n```\r\nAt 2AM they are multiple values but different GMT\r\n\r\nI convert the strings to ZoneDateTime with this line:\r\n\r\n```Java\r\nval zonedTimestamp = ZonedDateTime.parse(timestamp)\r\n                                  .withZoneSameInstant(ZoneId.of(&quot;GMT&quot;))\r\n```\r\n\r\nAnd the values seems to be ok, they are all consecutive, no duplicates for that 1 hour, no GMT added to them\r\n\r\nThe field `timestamp` on entity is unique and is of type `ZonedDateTime`.\r\nIn mariadb the field is declared as ```timestamp``` (i have used also datetime but is the same problem).\r\n\r\nAnd on saving of the entities i receive the error `Duplicate entry &#39;2022-10-30 03:00:00&#39; for key &#39;timestamp&#39;`, somehow mariadb is not taking those `ZonedDateTime` as their values.\r\nI saw suggestions to use `timestamp with time zone` but is not such a thing in mariadb.","title":"Mariadb day light saving time kotlin","body":"<p>I receive dates as a strings for period 30 october to 31 october when daylight saving is happening.</p>\n<p>Relevant data:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n  [&quot;2022-10-30T00:00:00+02:00&quot;,103.01],\n  [&quot;2022-10-30T00:15:00+02:00&quot;,103.01],\n  [&quot;2022-10-30T00:30:00+02:00&quot;,103.01],\n  [&quot;2022-10-30T00:45:00+02:00&quot;,103.01],\n  [&quot;2022-10-30T01:00:00+02:00&quot;,100.49],\n  [&quot;2022-10-30T01:15:00+02:00&quot;,100.49],\n  [&quot;2022-10-30T01:30:00+02:00&quot;,100.49],\n  [&quot;2022-10-30T01:45:00+02:00&quot;,100.49],\n  [&quot;2022-10-30T02:00:00+02:00&quot;,100.2],\n  [&quot;2022-10-30T02:15:00+02:00&quot;,100.2],\n  [&quot;2022-10-30T02:30:00+02:00&quot;,100.2],\n  [&quot;2022-10-30T02:45:00+02:00&quot;,100.2],\n  [&quot;2022-10-30T02:00:00+01:00&quot;,99.92],\n  [&quot;2022-10-30T02:15:00+01:00&quot;,99.92],\n  [&quot;2022-10-30T02:30:00+01:00&quot;,99.92]\n]\n</code></pre>\n<p>At 2AM they are multiple values but different GMT</p>\n<p>I convert the strings to ZoneDateTime with this line:</p>\n<pre><code>val zonedTimestamp = ZonedDateTime.parse(timestamp)\n                                  .withZoneSameInstant(ZoneId.of(&quot;GMT&quot;))\n</code></pre>\n<p>And the values seems to be ok, they are all consecutive, no duplicates for that 1 hour, no GMT added to them</p>\n<p>The field <code>timestamp</code> on entity is unique and is of type <code>ZonedDateTime</code>.\nIn mariadb the field is declared as <code>timestamp</code> (i have used also datetime but is the same problem).</p>\n<p>And on saving of the entities i receive the error <code>Duplicate entry '2022-10-30 03:00:00' for key 'timestamp'</code>, somehow mariadb is not taking those <code>ZonedDateTime</code> as their values.\nI saw suggestions to use <code>timestamp with time zone</code> but is not such a thing in mariadb.</p>\n"},{"tags":["java","design-patterns","model","architecture","implementation"],"owner":{"account_id":18993625,"reputation":1,"user_id":13862288,"display_name":"V&#237;ctor Pineda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676909265,"creation_date":1676909265,"question_id":75511641,"body_markdown":"Currently, I&#39;m using Json to send different data to different vendors, but I&#39;m curious about if there is a better alternative to do it.\r\n\r\nLet&#39;s see this way.\r\n\r\nI have one library, to make some operations for different vendors.\r\n\r\n&gt; Provider Library\r\n\r\n```\r\nclass Google {\r\n  String id;\r\n  Integer amount;\r\n\r\n  // getters and setters\r\n}\r\n```\r\n\r\n```\r\nclass Oracle {\r\n  String id;\r\n  Integer amount;\r\n  Instant request;\r\n\r\n  // getters and setters\r\n}\r\n```\r\n\r\n```\r\nclass AbstractRequest {\r\n  String id;\r\n  Integer amount;\r\n  Instant request;\r\n\r\n  // getters and setters\r\n}\r\n```\r\n\r\n```\r\nclass ConverterGoogle&lt;Google, AbstractRequest&gt; {\r\n  // convert between models\r\n}\r\n\r\nclass ConverterOracle&lt;Oracle, AbstractRequest&gt; {\r\n  // convert between models\r\n}\r\n```\r\n\r\n```\r\ninterface Provider {\r\n  void execute(AbstractRequest request);\r\n  String key();\r\n}\r\n```\r\n\r\n```\r\nclass GoogleProvider extends AbstractProvider {\r\n  void execute(AbstractRequest request) {\r\n    Google model = ConverterGoogle.convert(request);\r\n    // operations with model\r\n  }\r\n  String key() { return &quot;google&quot;; }\r\n}\r\n\r\nclass OracleProvider extends AbstractProvider {\r\n  void execute(AbstractRequest request) {\r\n    Oracle model = ConverterOracle.convert(request);\r\n    // operations with model\r\n  }\r\n  String key() { return &quot;oracle&quot;; }\r\n}\r\n```\r\n\r\nThere is another Service project that uses the before library. Depending on specific runtime data, will determine which provider will be used.\r\n\r\n&gt; Service Project\r\n\r\n```\r\nclass OperationsService {\r\n  void process(String data) { // data could be something like &quot;google_ujk345678iju78fh4&quot;\r\n    Provider provider = providerService.getProvider(data);\r\n    \r\n    AbstractRequest request = requestCreatorService.create(provider.getKey(), data);\r\n\r\n    provider.execute(request);\r\n  }\r\n}\r\n\r\nclass RequestCreatorService {\r\n  AbstractRequest create(String providerKey, String data) {\r\n    // retrieve information from database to create the proper AbstractRequest for each provider\r\n  }\r\n}\r\n```\r\n\r\n---\r\n\r\nAnd well, what&#39;s the issue? If a new provider comes in, with a different model, the AbstractRequest only has 3 fields, then it should change to hold the new ones.\r\n\r\nAt this moment, I solved it by sending a JSON request and the provider library and each implementation is responsible to retrieve its necessary data. So, we do not depend on a generic/common abstract model, with specific fields.\r\n\r\n```\r\ninterface Provider {\r\n  void execute(String jsonRequest);\r\n  String key();\r\n}\r\n```\r\n\r\n```\r\nclass GoogleProvider extends AbstractProvider {\r\n  void execute(String jsonRequest) {\r\n    Google model = GoogleDataExtractor.convert(jsonRequest);\r\n    // operations with model\r\n  }\r\n  String key() { return &quot;google&quot;; }\r\n}\r\n\r\nclass OracleProvider extends AbstractProvider {\r\n  void execute(String jsonRequest) {\r\n    Oracle model = OracleDataExtractor.convert(jsonRequest);\r\n    // operations with model\r\n  }\r\n  String key() { return &quot;oracle&quot;; }\r\n}\r\n```\r\n\r\nOf course, I had to create a v2 of the library to not break current implementation and the service. It&#39;s in testing phase.\r\n\r\nI would like to know if there is another way to do it, using other specific model data class, specific pattern, etc.","title":"How can I design an abstract model for different implementations in Java","body":"<p>Currently, I'm using Json to send different data to different vendors, but I'm curious about if there is a better alternative to do it.</p>\n<p>Let's see this way.</p>\n<p>I have one library, to make some operations for different vendors.</p>\n<blockquote>\n<p>Provider Library</p>\n</blockquote>\n<pre><code>class Google {\n  String id;\n  Integer amount;\n\n  // getters and setters\n}\n</code></pre>\n<pre><code>class Oracle {\n  String id;\n  Integer amount;\n  Instant request;\n\n  // getters and setters\n}\n</code></pre>\n<pre><code>class AbstractRequest {\n  String id;\n  Integer amount;\n  Instant request;\n\n  // getters and setters\n}\n</code></pre>\n<pre><code>class ConverterGoogle&lt;Google, AbstractRequest&gt; {\n  // convert between models\n}\n\nclass ConverterOracle&lt;Oracle, AbstractRequest&gt; {\n  // convert between models\n}\n</code></pre>\n<pre><code>interface Provider {\n  void execute(AbstractRequest request);\n  String key();\n}\n</code></pre>\n<pre><code>class GoogleProvider extends AbstractProvider {\n  void execute(AbstractRequest request) {\n    Google model = ConverterGoogle.convert(request);\n    // operations with model\n  }\n  String key() { return &quot;google&quot;; }\n}\n\nclass OracleProvider extends AbstractProvider {\n  void execute(AbstractRequest request) {\n    Oracle model = ConverterOracle.convert(request);\n    // operations with model\n  }\n  String key() { return &quot;oracle&quot;; }\n}\n</code></pre>\n<p>There is another Service project that uses the before library. Depending on specific runtime data, will determine which provider will be used.</p>\n<blockquote>\n<p>Service Project</p>\n</blockquote>\n<pre><code>class OperationsService {\n  void process(String data) { // data could be something like &quot;google_ujk345678iju78fh4&quot;\n    Provider provider = providerService.getProvider(data);\n    \n    AbstractRequest request = requestCreatorService.create(provider.getKey(), data);\n\n    provider.execute(request);\n  }\n}\n\nclass RequestCreatorService {\n  AbstractRequest create(String providerKey, String data) {\n    // retrieve information from database to create the proper AbstractRequest for each provider\n  }\n}\n</code></pre>\n<hr />\n<p>And well, what's the issue? If a new provider comes in, with a different model, the AbstractRequest only has 3 fields, then it should change to hold the new ones.</p>\n<p>At this moment, I solved it by sending a JSON request and the provider library and each implementation is responsible to retrieve its necessary data. So, we do not depend on a generic/common abstract model, with specific fields.</p>\n<pre><code>interface Provider {\n  void execute(String jsonRequest);\n  String key();\n}\n</code></pre>\n<pre><code>class GoogleProvider extends AbstractProvider {\n  void execute(String jsonRequest) {\n    Google model = GoogleDataExtractor.convert(jsonRequest);\n    // operations with model\n  }\n  String key() { return &quot;google&quot;; }\n}\n\nclass OracleProvider extends AbstractProvider {\n  void execute(String jsonRequest) {\n    Oracle model = OracleDataExtractor.convert(jsonRequest);\n    // operations with model\n  }\n  String key() { return &quot;oracle&quot;; }\n}\n</code></pre>\n<p>Of course, I had to create a v2 of the library to not break current implementation and the service. It's in testing phase.</p>\n<p>I would like to know if there is another way to do it, using other specific model data class, specific pattern, etc.</p>\n"},{"tags":["java","quaternions","joml"],"answers":[{"comments":[{"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"score":0,"creation_date":1676913591,"post_id":75511623,"comment_id":133228821,"body_markdown":"Thank you for your answer! I don&#39;t quite understand how to use this method correctly and where and what arguments to give. Could I ask for more details?","body":"Thank you for your answer! I don&#39;t quite understand how to use this method correctly and where and what arguments to give. Could I ask for more details?"}],"tags":[],"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676909176,"creation_date":1676909176,"answer_id":75511623,"question_id":75511106,"body_markdown":"There&#39;s no one unique rotation that faces the target, but you can use [`Quaternionf#lookAlong(Vector3fc, Vector3fc)`](https://joml-ci.github.io/JOML/apidocs/org/joml/Quaternionf.html#lookAlong(org.joml.Vector3fc,org.joml.Vector3fc)), and for the `dir` parameter use `targetPos.sub(initialPos)`.","title":"Java: Setting Quaternionf towards a specific position","body":"<p>There's no one unique rotation that faces the target, but you can use <a href=\"https://joml-ci.github.io/JOML/apidocs/org/joml/Quaternionf.html#lookAlong(org.joml.Vector3fc,org.joml.Vector3fc)\" rel=\"nofollow noreferrer\"><code>Quaternionf#lookAlong(Vector3fc, Vector3fc)</code></a>, and for the <code>dir</code> parameter use <code>targetPos.sub(initialPos)</code>.</p>\n"}],"owner":{"account_id":22723442,"reputation":119,"user_id":16887604,"display_name":"Adixe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676909244,"creation_date":1676906453,"question_id":75511106,"body_markdown":"I have a problem. I have created an object that will move in X, Y, Z axes in changing directions. I want to use the [Quaternionf][1] class as my tool. Knowing the X, Y, Z coordinates of the object and the coordinates of the target point, I want to set Quaternionf towards this point (from the position of the object, of course). The direction from the object point should always be towards the target point. I am attaching pictures showing what I mean.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see, the direction of the object is always facing the target. I will be grateful for your help!\r\n\r\n\r\n  [1]: https://joml-ci.github.io/JOML/apidocs/org/joml/Quaternionf.html\r\n  [2]: https://i.stack.imgur.com/dm71V.png\r\n  [3]: https://i.stack.imgur.com/IaujX.png","title":"Java: Setting Quaternionf towards a specific position","body":"<p>I have a problem. I have created an object that will move in X, Y, Z axes in changing directions. I want to use the <a href=\"https://joml-ci.github.io/JOML/apidocs/org/joml/Quaternionf.html\" rel=\"nofollow noreferrer\">Quaternionf</a> class as my tool. Knowing the X, Y, Z coordinates of the object and the coordinates of the target point, I want to set Quaternionf towards this point (from the position of the object, of course). The direction from the object point should always be towards the target point. I am attaching pictures showing what I mean.</p>\n<p><a href=\"https://i.stack.imgur.com/dm71V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dm71V.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/IaujX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IaujX.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the direction of the object is always facing the target. I will be grateful for your help!</p>\n"},{"tags":["java","exception","try-catch"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676909196,"post_id":75511549,"comment_id":133227594,"body_markdown":"This way of handling exception doesn&#39;t make much sense, no, for multiple reasons... I would either get rid of the entire `catch` (so `SQLException` is thrown up), wrap the exception in a **more specific** business exception, or I would remove the first `e.printStackTrace()`, and amend the logging to `log.error(&quot;SQLException occured in getSeverityList()&quot;, e)` (assuming a logging API is used which logs exception stracktraces when offered an exception like this), and get rid of the entire nested try-catch.","body":"This way of handling exception doesn&#39;t make much sense, no, for multiple reasons... I would either get rid of the entire <code>catch</code> (so <code>SQLException</code> is thrown up), wrap the exception in a <b>more specific</b> business exception, or I would remove the first <code>e.printStackTrace()</code>, and amend the logging to <code>log.error(&quot;SQLException occured in getSeverityList()&quot;, e)</code> (assuming a logging API is used which logs exception stracktraces when offered an exception like this), and get rid of the entire nested try-catch."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1676909375,"post_id":75511549,"comment_id":133227656,"body_markdown":"There is literally no point in doing this. You don&#39;t need to throw an exception to catch it to print its stack trace: `new Exception(...).printStackTrace();` does the same. But then, you&#39;ve already got that stack trace, plus extra information, from `e.printStackTrace()`; so there&#39;s no point in doing that either.","body":"There is literally no point in doing this. You don&#39;t need to throw an exception to catch it to print its stack trace: <code>new Exception(...).printStackTrace();</code> does the same. But then, you&#39;ve already got that stack trace, plus extra information, from <code>e.printStackTrace()</code>; so there&#39;s no point in doing that either."}],"owner":{"account_id":15582895,"reputation":31,"user_id":11242206,"display_name":"PetKap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676909232,"creation_date":1676908801,"question_id":75511549,"body_markdown":"I found this in our code. I am trying to find some scenario, where this could make sense. But so far I didn&#39;t find any reason to catch exception then throw new and catch also that one. Can you please clarify this or potentially suggest some similar topic? I didn&#39;t find anything by myself.\r\n```\r\n} catch (SQLException e) {\r\n    // handle SQL exception\r\n    e.printStackTrace();\r\n    log.error(&quot;SQLException occured in getSeverityList(), errMsg : &quot; + e.getMessage());\r\n    try {\r\n        throw new Exception(&quot;Error In getSeverityList(): &quot; + e.getMessage());\r\n    } catch (Exception e1) {\r\n        // TODO Auto-generated catch block\r\n        e1.printStackTrace();\r\n    }\r\n} finally {\r\n```\r\n\r\n\r\nI tried already to look for scenario, where something like this makes sense, but without success.","title":"Catch exception and throw different exception","body":"<p>I found this in our code. I am trying to find some scenario, where this could make sense. But so far I didn't find any reason to catch exception then throw new and catch also that one. Can you please clarify this or potentially suggest some similar topic? I didn't find anything by myself.</p>\n<pre><code>} catch (SQLException e) {\n    // handle SQL exception\n    e.printStackTrace();\n    log.error(&quot;SQLException occured in getSeverityList(), errMsg : &quot; + e.getMessage());\n    try {\n        throw new Exception(&quot;Error In getSeverityList(): &quot; + e.getMessage());\n    } catch (Exception e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n} finally {\n</code></pre>\n<p>I tried already to look for scenario, where something like this makes sense, but without success.</p>\n"},{"tags":["java","regex","unicode"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1676906878,"post_id":75510961,"comment_id":133226838,"body_markdown":"InOgham is the [whole ogham block](https://www.fileformat.info/info/unicode/block/ogham/list.htm). Anyway, `\\u1680` is probably a safe bet.","body":"InOgham is the <a href=\"https://www.fileformat.info/info/unicode/block/ogham/list.htm\" rel=\"nofollow noreferrer\">whole ogham block</a>. Anyway, <code>\\u1680</code> is probably a safe bet."}],"answers":[{"tags":[],"owner":{"account_id":3878647,"reputation":1476,"user_id":3211872,"display_name":"earandap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676909170,"creation_date":1676909170,"answer_id":75511622,"question_id":75510961,"body_markdown":"The Unicode character U+1680 is an Ogham space mark, which differs from the standard space character (U+0020) and the other space characters you listed.\r\n\r\nIn Java&#39;s regular expressions, the `\\p{Z}` character class represents any Unicode separator character, which includes all the space characters you listed except for U+1680. Therefore, the regular expression `\\p{Zs}|\\p{Zl}|\\p{Zp}` should match all the space characters you listed except for U+1680.\r\n\r\nTo precisely match the Ogham space mark (U+1680), you can use the `\\p{InOgham}` character class, which matches any character in the Ogham Unicode block. Here&#39;s an example regex pattern that matches all the space characters you listed, including U+1680:\r\n\r\n    [\\p{Zs}\\p{Zl}\\p{Zp}\\p{InOgham}]\r\n\r\nYou can use this pattern with a String.replaceAll() method call to remove all occurrences of these space characters from a string:\r\n\r\n    String input = &quot;some string with spaces and \\u1680 ogham space marks&quot;;\r\n    String output = input.replaceAll(&quot;[\\\\p{Zs}\\\\p{Zl}\\\\p{Zp}\\\\p{InOgham}]&quot;, &quot;&quot;);\r\n    System.out.println(output); // prints &quot;somestringwithspacesandoghamspacemarks&quot;\r\n\r\n","title":"Regex InOgham unicode in java","body":"<p>The Unicode character U+1680 is an Ogham space mark, which differs from the standard space character (U+0020) and the other space characters you listed.</p>\n<p>In Java's regular expressions, the <code>\\p{Z}</code> character class represents any Unicode separator character, which includes all the space characters you listed except for U+1680. Therefore, the regular expression <code>\\p{Zs}|\\p{Zl}|\\p{Zp}</code> should match all the space characters you listed except for U+1680.</p>\n<p>To precisely match the Ogham space mark (U+1680), you can use the <code>\\p{InOgham}</code> character class, which matches any character in the Ogham Unicode block. Here's an example regex pattern that matches all the space characters you listed, including U+1680:</p>\n<pre><code>[\\p{Zs}\\p{Zl}\\p{Zp}\\p{InOgham}]\n</code></pre>\n<p>You can use this pattern with a String.replaceAll() method call to remove all occurrences of these space characters from a string:</p>\n<pre><code>String input = &quot;some string with spaces and \\u1680 ogham space marks&quot;;\nString output = input.replaceAll(&quot;[\\\\p{Zs}\\\\p{Zl}\\\\p{Zp}\\\\p{InOgham}]&quot;, &quot;&quot;);\nSystem.out.println(output); // prints &quot;somestringwithspacesandoghamspacemarks&quot;\n</code></pre>\n"}],"owner":{"account_id":2639721,"reputation":2133,"user_id":2283644,"accept_rate":42,"display_name":"Alexander Rumanovsk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676909170,"creation_date":1676905596,"question_id":75510961,"body_markdown":"I need to remove the following charachters in the strings that I receive:\r\n\r\n    U+0020 (space)\r\n    U+00A0 (no-break space)\r\n    U+1680 (ogham space mark)\r\n    U+2000 (en quad)\r\n    U+2001 (em quad)\r\n    U+2002 (en space)\r\n    U+2003 (em space) \r\n    U+2004 (three-per-em space) \r\n    U+2005 (four-per-em space) \r\n    U+2006 (six-per-em space) \r\n    U+2007 (figure space) \r\n    U+2008 (punctuation space) \r\n    U+2009 (thin space) \r\n    U+200A (hair space) \r\n    U+202F (narrow no-break space) \r\n    U+205F (medium mathematical space) \r\n    U+3000 (ideographic space) \r\n    U+2028 (line separator) \r\n    U+2029 (paragraph separator)\r\n\r\nI found out that most of the listed ones, I can remove with the following regex:\r\n\r\n    \\p{Zs}|\\p{Zl}|\\p{Zp}\r\n\r\nThis should cover everything, except the U+1680. According to [this site][1], the pattern for the *ogham space mark* should be `\\p{InOgham}`, but when I went to test it on regex tester websites, none of them accepted it. \r\nIs there a specific expression for this, or is it also covered by `\\p{Zs}`?\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/unicode.html\r\n","title":"Regex InOgham unicode in java","body":"<p>I need to remove the following charachters in the strings that I receive:</p>\n<pre><code>U+0020 (space)\nU+00A0 (no-break space)\nU+1680 (ogham space mark)\nU+2000 (en quad)\nU+2001 (em quad)\nU+2002 (en space)\nU+2003 (em space) \nU+2004 (three-per-em space) \nU+2005 (four-per-em space) \nU+2006 (six-per-em space) \nU+2007 (figure space) \nU+2008 (punctuation space) \nU+2009 (thin space) \nU+200A (hair space) \nU+202F (narrow no-break space) \nU+205F (medium mathematical space) \nU+3000 (ideographic space) \nU+2028 (line separator) \nU+2029 (paragraph separator)\n</code></pre>\n<p>I found out that most of the listed ones, I can remove with the following regex:</p>\n<pre><code>\\p{Zs}|\\p{Zl}|\\p{Zp}\n</code></pre>\n<p>This should cover everything, except the U+1680. According to <a href=\"https://www.regular-expressions.info/unicode.html\" rel=\"nofollow noreferrer\">this site</a>, the pattern for the <em>ogham space mark</em> should be <code>\\p{InOgham}</code>, but when I went to test it on regex tester websites, none of them accepted it.\nIs there a specific expression for this, or is it also covered by <code>\\p{Zs}</code>?</p>\n"},{"tags":["java","spring","spring-boot","mapping","mapstruct"],"owner":{"display_name":"user21099360"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676909721,"answer_count":0,"score":0,"last_activity_date":1676908954,"creation_date":1676908954,"question_id":75511576,"body_markdown":"I am trying to apply mapping between entities and DTOs in my project and after following some tutorials, I am confused regarding to the most proper way for using MapStruct. \r\n\r\nI followed [this](https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application) article on Baeldung, but some concepts are explained mixed. Also checked the [Documentation](https://mapstruct.org/), but I think there would be better way to map using this library than this:\r\n\r\n```\r\n@Mapper \r\npublic interface CarMapper {\r\n \r\n    CarMapper INSTANCE = Mappers.getMapper( CarMapper.class );\r\n \r\n    @Mapping(source = &quot;numberOfSeats&quot;, target = &quot;seatCount&quot;)\r\n    CarDto carToCarDto(Car car);\r\n}        \r\n```\r\n\r\nIs there a more cleaner way to use MapStruct by using dependency injection instead of using the following ugly `INSTANCE` variable? \r\n\r\n```\r\nCarDto carDto = CarMapper.INSTANCE.carToCarDto( car );\r\n```","title":"Using MapStruct with dependency injection in Spring Boot?","body":"<p>I am trying to apply mapping between entities and DTOs in my project and after following some tutorials, I am confused regarding to the most proper way for using MapStruct.</p>\n<p>I followed <a href=\"https://www.baeldung.com/entity-to-and-from-dto-for-a-java-spring-application\" rel=\"nofollow noreferrer\">this</a> article on Baeldung, but some concepts are explained mixed. Also checked the <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">Documentation</a>, but I think there would be better way to map using this library than this:</p>\n<pre><code>@Mapper \npublic interface CarMapper {\n \n    CarMapper INSTANCE = Mappers.getMapper( CarMapper.class );\n \n    @Mapping(source = &quot;numberOfSeats&quot;, target = &quot;seatCount&quot;)\n    CarDto carToCarDto(Car car);\n}        \n</code></pre>\n<p>Is there a more cleaner way to use MapStruct by using dependency injection instead of using the following ugly <code>INSTANCE</code> variable?</p>\n<pre><code>CarDto carDto = CarMapper.INSTANCE.carToCarDto( car );\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot"],"comments":[{"owner":{"account_id":10708047,"reputation":799,"user_id":7881122,"display_name":"winnervc"},"score":0,"creation_date":1676904937,"post_id":75510328,"comment_id":133226300,"body_markdown":"Does your IAM keys have proper s3 IAM policy or role attached, that has access to s3?","body":"Does your IAM keys have proper s3 IAM policy or role attached, that has access to s3?"},{"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"score":0,"creation_date":1676906467,"post_id":75510328,"comment_id":133226706,"body_markdown":"I added AmazonS3FullAccess to permission policies. I created a new key now it says: &quot;The AWS Access Key Id you provided does not exist in our records.&quot;","body":"I added AmazonS3FullAccess to permission policies. I created a new key now it says: &quot;The AWS Access Key Id you provided does not exist in our records.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676906953,"creation_date":1676906936,"answer_id":75511193,"question_id":75510328,"body_markdown":"Following the [official guide to explicitly specifying credentials in Java][1], you don&#39;t need to specify the region while instantiate the credentials.\r\n\r\nCheck also the permissions on the user for which you created the keypair, the ListBuckets API needs at least the **s3:ListAllMyBuckets** permission, as stated [here][2].\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\r\n  [2]: https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBuckets.html","title":"Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied","body":"<p>Following the <a href=\"https://docs.aws.amazon.com/sdk-for-java/v1/developer-guide/credentials.html\" rel=\"nofollow noreferrer\">official guide to explicitly specifying credentials in Java</a>, you don't need to specify the region while instantiate the credentials.</p>\n<p>Check also the permissions on the user for which you created the keypair, the ListBuckets API needs at least the <strong>s3:ListAllMyBuckets</strong> permission, as stated <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBuckets.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676908904,"creation_date":1676908904,"answer_id":75511567,"question_id":75510328,"body_markdown":"I solved the problem by adding permission **AmazonS3FullAccess** on the **Permissions Policies** panel and restarted spring boot and all works well. ","title":"Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied","body":"<p>I solved the problem by adding permission <strong>AmazonS3FullAccess</strong> on the <strong>Permissions Policies</strong> panel and restarted spring boot and all works well.</p>\n"}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1542,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676908904,"creation_date":1676902346,"question_id":75510328,"body_markdown":"In a Spring Boot project, I try to get list of buckets. I don&#39;t have a bucket yet. Error is as follows:\r\n\r\n    Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied\r\n\r\nI created the access &amp; secret keys an hour ago. I tried to delete and re-create bu no chance. Is there anything missing? \r\n\r\n    AWSCredentials credentials = new BasicAWSCredentials(\r\n        &quot;myaccesskey&quot;, \r\n        &quot;mysecretkey&quot;\r\n        );\r\n\r\n        AmazonS3 s3client = AmazonS3ClientBuilder\r\n        .standard()\r\n        .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n        .withRegion(Regions.US_EAST_1)\r\n        .build();\r\n\r\n        try{\r\n            List&lt;Bucket&gt; buckets = s3client.listBuckets();\r\n            \r\n            for(Bucket bucket : buckets) {\r\n                response += bucket.getName();\r\n            }\r\n        } catch (Exception exception) {\r\n            System.out.print(exception);\r\n        }    ","title":"Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied","body":"<p>In a Spring Boot project, I try to get list of buckets. I don't have a bucket yet. Error is as follows:</p>\n<pre><code>Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied\n</code></pre>\n<p>I created the access &amp; secret keys an hour ago. I tried to delete and re-create bu no chance. Is there anything missing?</p>\n<pre><code>AWSCredentials credentials = new BasicAWSCredentials(\n    &quot;myaccesskey&quot;, \n    &quot;mysecretkey&quot;\n    );\n\n    AmazonS3 s3client = AmazonS3ClientBuilder\n    .standard()\n    .withCredentials(new AWSStaticCredentialsProvider(credentials))\n    .withRegion(Regions.US_EAST_1)\n    .build();\n\n    try{\n        List&lt;Bucket&gt; buckets = s3client.listBuckets();\n        \n        for(Bucket bucket : buckets) {\n            response += bucket.getName();\n        }\n    } catch (Exception exception) {\n        System.out.print(exception);\n    }    \n</code></pre>\n"},{"tags":["java","windows","eclipse","swt","uiautomatorviewer"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1518246258,"post_id":48718161,"comment_id":84435336,"body_markdown":"Since you got an exception and not a compile error, what is happening is that Eclipse is aware of the library for building, but your deployment environment does not know where to find the SWT jar.  Please [edit] your question and explain how you are deploying and running your project.","body":"Since you got an exception and not a compile error, what is happening is that Eclipse is aware of the library for building, but your deployment environment does not know where to find the SWT jar.  Please <a href=\"https://stackoverflow.com/posts/48718161/edit\">edit</a> your question and explain how you are deploying and running your project."},{"owner":{"account_id":7138068,"reputation":161,"user_id":5456879,"display_name":"Wanda B."},"score":0,"creation_date":1518246431,"post_id":48718161,"comment_id":84435374,"body_markdown":"Hi, @JimGarrison! I am attempting to run `uiautomatorviewer` from cmd, and therefore I believe I only need to set the `ANDROID_SWT` path variable. However, despite my having set this variable, as well as having added Java to my `PATH` variable, I am receiving the above exception.","body":"Hi, @JimGarrison! I am attempting to run <code>uiautomatorviewer</code> from cmd, and therefore I believe I only need to set the <code>ANDROID_SWT</code> path variable. However, despite my having set this variable, as well as having added Java to my <code>PATH</code> variable, I am receiving the above exception."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1518246624,"post_id":48718161,"comment_id":84435416,"body_markdown":"You need to add the `swt.jar` file to the classpath.  Try that.","body":"You need to add the <code>swt.jar</code> file to the classpath.  Try that."},{"owner":{"account_id":7138068,"reputation":161,"user_id":5456879,"display_name":"Wanda B."},"score":0,"creation_date":1518246973,"post_id":48718161,"comment_id":84435499,"body_markdown":"Hmmm, I made a new variable `CLASSPATH` since it did not already exist in my Environment Variables, and added the absolute path of `swt.jar` downloaded from Eclipse, and yet I receive the same exception... I&#39;m going to reboot my computer in case the changes to envionrment variables only takes effect when you logout and create a new session!","body":"Hmmm, I made a new variable <code>CLASSPATH</code> since it did not already exist in my Environment Variables, and added the absolute path of <code>swt.jar</code> downloaded from Eclipse, and yet I receive the same exception... I&#39;m going to reboot my computer in case the changes to envionrment variables only takes effect when you logout and create a new session!"},{"owner":{"account_id":7138068,"reputation":161,"user_id":5456879,"display_name":"Wanda B."},"score":0,"creation_date":1518247237,"post_id":48718161,"comment_id":84435566,"body_markdown":"Here are some of the environment variables I&#39;ve set so far:\n\n1) ANDROID_HOME - location of .\\Android\\sdk (within the Android Studio directory)\n2) ANDROID_SWT - location of swt.jar\n3) CLASSPATH - location of swt.jar\n4) PATH - appended bin directory for JDK 8 (I read that JDK 9 is incompatible with uiautomatorviewer), as well as  %ANDROID_HOME%\\platform-tools and the standalone adb tools directory... I am still experiencing the same exception. Thank you again for your continued help with this issue!","body":"Here are some of the environment variables I&#39;ve set so far:  1) ANDROID_HOME - location of .\\Android\\sdk (within the Android Studio directory) 2) ANDROID_SWT - location of swt.jar 3) CLASSPATH - location of swt.jar 4) PATH - appended bin directory for JDK 8 (I read that JDK 9 is incompatible with uiautomatorviewer), as well as  %ANDROID_HOME%\\platform-tools and the standalone adb tools directory... I am still experiencing the same exception. Thank you again for your continued help with this issue!"},{"owner":{"account_id":7138068,"reputation":161,"user_id":5456879,"display_name":"Wanda B."},"score":0,"creation_date":1518251831,"post_id":48718161,"comment_id":84436651,"body_markdown":"@JimGarrison I have solved the issue, as per my follow-up comment :) Thanks for commenting!","body":"@JimGarrison I have solved the issue, as per my follow-up comment :) Thanks for commenting!"}],"answers":[{"tags":[],"owner":{"account_id":7138068,"reputation":161,"user_id":5456879,"display_name":"Wanda B."},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1518251790,"creation_date":1518251790,"answer_id":48718830,"question_id":48718161,"body_markdown":"Precisely follow [these instructions][1]. I made the mistake of trying to download the Eclipse SWT in order to troubleshoot other issues I was having; setting this different SWT version in the `CLASSPATH` and `ANDROID_SWT` environment variables caused this exception.\r\n\r\n\r\n  [1]: http://www.automationtestinghub.com/setup-android-environment-variables/","title":"Uiautomatorviewer SWT exception","body":"<p>Precisely follow <a href=\"http://www.automationtestinghub.com/setup-android-environment-variables/\" rel=\"nofollow noreferrer\">these instructions</a>. I made the mistake of trying to download the Eclipse SWT in order to troubleshoot other issues I was having; setting this different SWT version in the <code>CLASSPATH</code> and <code>ANDROID_SWT</code> environment variables caused this exception.</p>\n"},{"tags":[],"owner":{"account_id":18509597,"reputation":1,"user_id":13485136,"display_name":"somya sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588811771,"creation_date":1588788694,"answer_id":61642271,"question_id":48718161,"body_markdown":"Make sure JDK location selected in Android studio is same as JDK set in environment variable. \n\n[![enter image description here][1]][1]\n\n[1]: https://i.stack.imgur.com/TA0sz.png","title":"Uiautomatorviewer SWT exception","body":"<p>Make sure JDK location selected in Android studio is same as JDK set in environment variable.</p>\n<p><a href=\"https://i.stack.imgur.com/TA0sz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TA0sz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9188431,"reputation":91,"user_id":6829756,"display_name":"enes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627549542,"creation_date":1627549542,"answer_id":68573109,"question_id":48718161,"body_markdown":"In my case adding ANDROID_SWT to environment variables or editing PATH didn&#39;t solve the problem. Therefore I found a different solution via help from [this][1] question.\r\n\r\nRunning **uiautomatorviewer.bat** and output : \r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Control\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n\tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n\tat java.lang.Class.getMethod0(Class.java:3018)\r\n\tat java.lang.Class.getMethod(Class.java:1784)\r\n\tat sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Listener\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\r\n```\r\n\r\n**Solution :**\r\n\r\nGo to : https://www.findjar.com/ and search for missing class. \r\nIn this case search for class : \r\n```\r\norg.eclipse.swt.widgets.Control\r\n```\r\nFor your case it is: \r\n```\r\norg.eclipse.swt.widgets.Listener\r\n```\r\n\r\nNames of the classes in the error can change, but all the classes needed comes from **.jar** file that will be downloaded.\r\n\r\nIn the results click :\r\n```\r\n[CLASS] org.eclipse.swt.widgets.Control\r\n```\r\nor for your case : \r\n```\r\n[CLASS] org.eclipse.swt.widgets.Listener\r\n```\r\n\r\nDownload latest and suitable file for your OS. [This][2] was the latest and suitable for Windowsx86_64 currently.\r\n\r\nPut downloaded **.jar** file into :  \r\n\r\n&gt; C:\\Users\\\\{userId}\\AppData\\Local\\Android\\Sdk\\tools\\lib \r\n\r\nor equivalent path for your OS.\r\n\r\nNow **uiautomatorviewer.bat** should run without any problems.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/48254790/solving-noclassdeffounderror-exception-with-swt\r\n  [2]: https://www.findjar.com/jar/org/eclipse/platform/org.eclipse.swt.win32.win32.x86_64/3.106.3/org.eclipse.swt.win32.win32.x86_64-3.106.3.jar.html","title":"Uiautomatorviewer SWT exception","body":"<p>In my case adding ANDROID_SWT to environment variables or editing PATH didn't solve the problem. Therefore I found a different solution via help from <a href=\"https://stackoverflow.com/questions/48254790/solving-noclassdeffounderror-exception-with-swt\">this</a> question.</p>\n<p>Running <strong>uiautomatorviewer.bat</strong> and output :</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Control\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Listener\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n\n</code></pre>\n<p><strong>Solution :</strong></p>\n<p>Go to : <a href=\"https://www.findjar.com/\" rel=\"nofollow noreferrer\">https://www.findjar.com/</a> and search for missing class.\nIn this case search for class :</p>\n<pre><code>org.eclipse.swt.widgets.Control\n</code></pre>\n<p>For your case it is:</p>\n<pre><code>org.eclipse.swt.widgets.Listener\n</code></pre>\n<p>Names of the classes in the error can change, but all the classes needed comes from <strong>.jar</strong> file that will be downloaded.</p>\n<p>In the results click :</p>\n<pre><code>[CLASS] org.eclipse.swt.widgets.Control\n</code></pre>\n<p>or for your case :</p>\n<pre><code>[CLASS] org.eclipse.swt.widgets.Listener\n</code></pre>\n<p>Download latest and suitable file for your OS. <a href=\"https://www.findjar.com/jar/org/eclipse/platform/org.eclipse.swt.win32.win32.x86_64/3.106.3/org.eclipse.swt.win32.win32.x86_64-3.106.3.jar.html\" rel=\"nofollow noreferrer\">This</a> was the latest and suitable for Windowsx86_64 currently.</p>\n<p>Put downloaded <strong>.jar</strong> file into :</p>\n<blockquote>\n<p>C:\\Users\\{userId}\\AppData\\Local\\Android\\Sdk\\tools\\lib</p>\n</blockquote>\n<p>or equivalent path for your OS.</p>\n<p>Now <strong>uiautomatorviewer.bat</strong> should run without any problems.</p>\n"},{"tags":[],"owner":{"account_id":27833895,"reputation":11,"user_id":21251779,"display_name":"Anindita Rath"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676908759,"creation_date":1676907352,"answer_id":75511274,"question_id":48718161,"body_markdown":" **In my case the exception was** \r\n  \r\n\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: \r\n      org/eclipse/swt/custom/TableTreeItem\r\n\tat org.eclipse.jface.util.OpenStrategy.initializeHandler(OpenStrategy.java:270)\r\n\tat org.eclipse.jface.util.OpenStrategy.&lt;init&gt;(OpenStrategy.java:108)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.hookControl(StructuredViewer.java:1213)\r\n\tat org.eclipse.jface.viewers.ColumnViewer.hookControl(ColumnViewer.java:68)\r\n\tat org.eclipse.jface.viewers.AbstractTreeViewer.hookControl(AbstractTreeViewer.java:1452)\r\n\tat org.eclipse.jface.viewers.TreeViewer.hookControl(TreeViewer.java:274)\r\n\tat org.eclipse.jface.viewers.TreeViewer.&lt;init&gt;(TreeViewer.java:137)\r\n\tat org.eclipse.jface.viewers.TreeViewer.&lt;init&gt;(TreeViewer.java:124)\r\n\tat com.android.uiautomator.UiAutomatorView.&lt;init&gt;(UiAutomatorView.java:361)\r\n\tat com.android.uiautomator.UiAutomatorViewer.createContents(UiAutomatorViewer.java:66)\r\n\tat org.eclipse.jface.window.Window.create(Window.java:431)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:790)\r\n\tat com.android.uiautomator.UiAutomatorViewer.main(UiAutomatorViewer.java:78)\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.custom.TableTreeItem\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 13 more\r\n\r\nSteps followed for the solution \r\n 1. Go to https://jar-download.com/\r\n 2. Search for the missing jar file in my case it was **org.eclipse.swt.custom.tabletreeitem**\r\n 3. Download the jar file compatible with your system Mac/Win/Linux (In my case it was mac \r\n[enter image description here][1]\r\n 4. Extract the jar file and copy it\r\n 5. Go to the lib folder inside SDK (Android/Sdk/Tools/Lib\r\n 6. Paste the jar file into the lib folder \r\n 7. Restart your terminal or cmd \r\n 8. Run the command again for cd $ANDROID_HOME/tools/bin \r\n 9. Run the command ./uiautomatorviewer\r\n\r\n\r\n**Alternatively** \r\n\r\nTry to download the swt jar file with a different version and copy it to the respective folders.\r\nFollow this thread :\r\n\r\nhttps://github.com/android/android-test/issues/911#issuecomment-849389068\r\n\r\n  [1]: https://i.stack.imgur.com/JP2e4.jpg","title":"Uiautomatorviewer SWT exception","body":"<p><strong>In my case the exception was</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: \n  org/eclipse/swt/custom/TableTreeItem\nat org.eclipse.jface.util.OpenStrategy.initializeHandler(OpenStrategy.java:270)\nat org.eclipse.jface.util.OpenStrategy.&lt;init&gt;(OpenStrategy.java:108)\nat org.eclipse.jface.viewers.StructuredViewer.hookControl(StructuredViewer.java:1213)\nat org.eclipse.jface.viewers.ColumnViewer.hookControl(ColumnViewer.java:68)\nat org.eclipse.jface.viewers.AbstractTreeViewer.hookControl(AbstractTreeViewer.java:1452)\nat org.eclipse.jface.viewers.TreeViewer.hookControl(TreeViewer.java:274)\nat org.eclipse.jface.viewers.TreeViewer.&lt;init&gt;(TreeViewer.java:137)\nat org.eclipse.jface.viewers.TreeViewer.&lt;init&gt;(TreeViewer.java:124)\nat com.android.uiautomator.UiAutomatorView.&lt;init&gt;(UiAutomatorView.java:361)\nat com.android.uiautomator.UiAutomatorViewer.createContents(UiAutomatorViewer.java:66)\nat org.eclipse.jface.window.Window.create(Window.java:431)\nat org.eclipse.jface.window.Window.open(Window.java:790)\nat com.android.uiautomator.UiAutomatorViewer.main(UiAutomatorViewer.java:78)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.swt.custom.TableTreeItem\nat java.net.URLClassLoader.findClass(URLClassLoader.java:387)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n... 13 more\n</code></pre>\n<p>Steps followed for the solution</p>\n<ol>\n<li>Go to <a href=\"https://jar-download.com/\" rel=\"nofollow noreferrer\">https://jar-download.com/</a></li>\n<li>Search for the missing jar file in my case it was <strong>org.eclipse.swt.custom.tabletreeitem</strong></li>\n<li>Download the jar file compatible with your system Mac/Win/Linux (In my case it was mac\n<a href=\"https://i.stack.imgur.com/JP2e4.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></li>\n<li>Extract the jar file and copy it</li>\n<li>Go to the lib folder inside SDK (Android/Sdk/Tools/Lib</li>\n<li>Paste the jar file into the lib folder</li>\n<li>Restart your terminal or cmd</li>\n<li>Run the command again for cd $ANDROID_HOME/tools/bin</li>\n<li>Run the command ./uiautomatorviewer</li>\n</ol>\n<p><strong>Alternatively</strong></p>\n<p>Try to download the swt jar file with a different version and copy it to the respective folders.\nFollow this thread :</p>\n<p><a href=\"https://github.com/android/android-test/issues/911#issuecomment-849389068\" rel=\"nofollow noreferrer\">https://github.com/android/android-test/issues/911#issuecomment-849389068</a></p>\n"}],"owner":{"account_id":7138068,"reputation":161,"user_id":5456879,"display_name":"Wanda B."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3195,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48718830,"answer_count":4,"score":3,"last_activity_date":1676908759,"creation_date":1518246162,"question_id":48718161,"body_markdown":"Since StackExchange advised me to not ask for help or clarification on a [previously existing post][1], I am making a new thread.\r\n\r\n\r\nOn Windows 10x64 I downloaded the [Eclipse SWT][2] (in second-to-last section of Downloads page), set my `ANDROID_SWT` environment variable to `&lt;download location&gt;\\swt.jar`, and have attempted to run `uiautomatorviewer` from `cmd` again, only to receive the same error message as when I tried to use the SWT bundled with eclipse:\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Listener\r\n        at java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n        at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n        at java.lang.Class.getMethod0(Class.java:3018)\r\n        at java.lang.Class.getMethod(Class.java:1784)\r\n        at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Listener\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        ... 7 more\r\n\r\nHas anyone else encountered this error, and if so, what was the root cause?\r\n\r\nThanks in advance for your time and help!\r\n\r\n  [1]: https://stackoverflow.com/questions/48128648/uiautomatorviewer-is-not-working-throwing-error-that-swt-folder-does-not-exist#\r\n  [2]: http://download.eclipse.org/eclipse/downloads/drops4/R-4.7.2-201711300510/","title":"Uiautomatorviewer SWT exception","body":"<p>Since StackExchange advised me to not ask for help or clarification on a <a href=\"https://stackoverflow.com/questions/48128648/uiautomatorviewer-is-not-working-throwing-error-that-swt-folder-does-not-exist#\">previously existing post</a>, I am making a new thread.</p>\n\n<p>On Windows 10x64 I downloaded the <a href=\"http://download.eclipse.org/eclipse/downloads/drops4/R-4.7.2-201711300510/\" rel=\"nofollow noreferrer\">Eclipse SWT</a> (in second-to-last section of Downloads page), set my <code>ANDROID_SWT</code> environment variable to <code>&lt;download location&gt;\\swt.jar</code>, and have attempted to run <code>uiautomatorviewer</code> from <code>cmd</code> again, only to receive the same error message as when I tried to use the SWT bundled with eclipse:</p>\n\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread \"main\" java.lang.NoClassDefFoundError: org/eclipse/swt/widgets/Listener\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:544)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:526)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.swt.widgets.Listener\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 7 more\n</code></pre>\n\n<p>Has anyone else encountered this error, and if so, what was the root cause?</p>\n\n<p>Thanks in advance for your time and help!</p>\n"},{"tags":["java","android","android-studio","kotlin"],"owner":{"account_id":27627447,"reputation":13,"user_id":21087151,"display_name":"Dev_chaitanya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676908612,"creation_date":1676908612,"question_id":75511509,"body_markdown":"I am developing an app using kotlin in which there are UPI Payment interface, all is done well but during payment Payment app Showing note - &quot;You are not authorized to make this type of transaction for safety reason&quot;. payee party is marchant and i&#39;m paying using Phone pe and Paytm. \r\nThere is no any error happening for Complete Stacktress, My app is ready only showing above error as describe. please help me to resolve this issue.\r\n\r\n\r\n```\r\nclass PayShareAmount : AppCompatActivity() {\r\n    private var amountEt: String = &quot;1000&quot;\r\n    private var noteEt: String = &quot;xxxx xxxx&quot;\r\n    private var nameEt: String = &quot;xxxxx&quot;\r\n    private var upiIdEt: String = &quot;xxxxxxxx@ybl&quot;\r\n    private lateinit var send: Button\r\n    private val UPI_PAYMENT = 0\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_pay_share_amount)\r\n\r\n        initializeViews()\r\n\r\n        send.setOnClickListener {\r\n            //Getting the values from the EditTexts\r\n            val amount = amountEt\r\n            val note = noteEt\r\n            val name = nameEt\r\n            val upiId = upiIdEt\r\n            payUsingUpi(amount, upiId, name, note)\r\n        }\r\n    }\r\n\r\n    private fun initializeViews() {\r\n        send = findViewById(R.id.send)\r\n        //amountEt = findViewById(R.id.amount_et)\r\n        //noteEt = findViewById.toString()(R.id.note)\r\n        //nameEt = findViewById(R.id.name)\r\n        //upiIdEt = findViewById(R.id.upi_id)\r\n    }\r\n\r\n    private fun payUsingUpi(amount: String, upiId: String, name: String, note: String) {\r\n\r\n        val uri = Uri.parse(&quot;upi://pay&quot;).buildUpon()\r\n            .appendQueryParameter(&quot;pa&quot;, upiId)\r\n            .appendQueryParameter(&quot;pn&quot;, name)\r\n            .appendQueryParameter(&quot;tn&quot;, note)\r\n            .appendQueryParameter(&quot;am&quot;, amount)\r\n            .appendQueryParameter(&quot;cu&quot;, &quot;INR&quot;)\r\n            .build()\r\n\r\n\r\n        val upiPayIntent = Intent(Intent.ACTION_VIEW)\r\n        upiPayIntent.data = uri\r\n\r\n        // will always show a dialog to user to choose an app\r\n        val chooser = Intent.createChooser(upiPayIntent, &quot;Pay with&quot;)\r\n\r\n        // check if intent resolves\r\n        if (null != chooser.resolveActivity(packageManager)) {\r\n            startActivityForResult(chooser, UPI_PAYMENT)\r\n        } else {\r\n            Toast.makeText(this@PayShareAmount, &quot;No UPI app found, please install one to continue&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n\r\n    }\r\n\r\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n        super.onActivityResult(requestCode, resultCode, data)\r\n\r\n        when (requestCode) {\r\n            UPI_PAYMENT -&gt; if (Activity.RESULT_OK == resultCode || resultCode == 11) {\r\n                if (data != null) {\r\n                    val trxt = data.getStringExtra(&quot;response&quot;)\r\n                    Log.d(&quot;UPI&quot;, &quot;onActivityResult: $trxt&quot;)\r\n                    val dataList = ArrayList&lt;String&gt;()\r\n                    dataList.add(trxt.toString())\r\n                    upiPaymentDataOperation(dataList)\r\n                } else {\r\n                    Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;)\r\n                    val dataList = ArrayList&lt;String&gt;()\r\n                    dataList.add(&quot;nothing&quot;)\r\n                    upiPaymentDataOperation(dataList)\r\n                }\r\n            } else {\r\n                Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;) //when user simply back without payment\r\n                val dataList = ArrayList&lt;String&gt;()\r\n                dataList.add(&quot;nothing&quot;)\r\n                upiPaymentDataOperation(dataList)\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun upiPaymentDataOperation(data: ArrayList&lt;String&gt;) {\r\n        if (isConnectionAvailable(this@PayShareAmount)) {\r\n            val str: String = data[0]\r\n            Log.d(&quot;UPIPAY&quot;, &quot;upiPaymentDataOperation: $str&quot;)\r\n            var paymentCancel = &quot;&quot;\r\n            var status = &quot;&quot;\r\n            var approvalRefNo = &quot;&quot;\r\n            val response = str.split(&quot;&amp;&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\r\n            for (i in response.indices) {\r\n                val equalStr = response[i].split(&quot;=&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\r\n                if (equalStr.size &gt;= 2) {\r\n                    if (equalStr[0].lowercase(Locale.ROOT) == &quot;Status&quot;.lowercase(Locale.ROOT)) {\r\n                        status = equalStr[1].lowercase(Locale.ROOT)\r\n                    } else if (equalStr[0].lowercase(Locale.ROOT) == &quot;ApprovalRefNo&quot;.lowercase(\r\n                            Locale.ROOT\r\n                        ) || equalStr[0].lowercase(Locale.ROOT) == &quot;txnRef&quot;.lowercase(Locale.ROOT)\r\n                    ) {\r\n                        approvalRefNo = equalStr[1]\r\n                    }\r\n                } else {\r\n                    paymentCancel = &quot;Payment cancelled by user.&quot;\r\n                }\r\n            }\r\n\r\n            if (status == &quot;success&quot;) {\r\n                //Code to handle successful transaction here.\r\n                Toast.makeText(this@PayShareAmount, &quot;Transaction successful.&quot;, Toast.LENGTH_SHORT).show()\r\n                Log.d(&quot;UPI&quot;, &quot;responseStr: $approvalRefNo&quot;)\r\n            } else if (&quot;Payment cancelled by user.&quot; == paymentCancel) {\r\n                Toast.makeText(this@PayShareAmount, &quot;Payment cancelled by user.&quot;, Toast.LENGTH_SHORT).show()\r\n            } else {\r\n                Toast.makeText(this@PayShareAmount, &quot;Transaction failed.Please try again&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        } else {\r\n            Toast.makeText(this@PayShareAmount, &quot;Internet connection is not available. Please check and try again&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\n    companion object {\r\n\r\n        fun isConnectionAvailable(context: Context): Boolean {\r\n            val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n            val netInfo = connectivityManager.activeNetworkInfo\r\n            if (netInfo != null &amp;&amp; netInfo.isConnected\r\n                &amp;&amp; netInfo.isConnectedOrConnecting\r\n                &amp;&amp; netInfo.isAvailable) {\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n}```\r\n\r\n","title":"UPI Payment interface not working, only causing &quot;You are not authorized to make this type of transaction for safety reason&quot;","body":"<p>I am developing an app using kotlin in which there are UPI Payment interface, all is done well but during payment Payment app Showing note - &quot;You are not authorized to make this type of transaction for safety reason&quot;. payee party is marchant and i'm paying using Phone pe and Paytm.\nThere is no any error happening for Complete Stacktress, My app is ready only showing above error as describe. please help me to resolve this issue.</p>\n<pre><code>class PayShareAmount : AppCompatActivity() {\n    private var amountEt: String = &quot;1000&quot;\n    private var noteEt: String = &quot;xxxx xxxx&quot;\n    private var nameEt: String = &quot;xxxxx&quot;\n    private var upiIdEt: String = &quot;xxxxxxxx@ybl&quot;\n    private lateinit var send: Button\n    private val UPI_PAYMENT = 0\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_pay_share_amount)\n\n        initializeViews()\n\n        send.setOnClickListener {\n            //Getting the values from the EditTexts\n            val amount = amountEt\n            val note = noteEt\n            val name = nameEt\n            val upiId = upiIdEt\n            payUsingUpi(amount, upiId, name, note)\n        }\n    }\n\n    private fun initializeViews() {\n        send = findViewById(R.id.send)\n        //amountEt = findViewById(R.id.amount_et)\n        //noteEt = findViewById.toString()(R.id.note)\n        //nameEt = findViewById(R.id.name)\n        //upiIdEt = findViewById(R.id.upi_id)\n    }\n\n    private fun payUsingUpi(amount: String, upiId: String, name: String, note: String) {\n\n        val uri = Uri.parse(&quot;upi://pay&quot;).buildUpon()\n            .appendQueryParameter(&quot;pa&quot;, upiId)\n            .appendQueryParameter(&quot;pn&quot;, name)\n            .appendQueryParameter(&quot;tn&quot;, note)\n            .appendQueryParameter(&quot;am&quot;, amount)\n            .appendQueryParameter(&quot;cu&quot;, &quot;INR&quot;)\n            .build()\n\n\n        val upiPayIntent = Intent(Intent.ACTION_VIEW)\n        upiPayIntent.data = uri\n\n        // will always show a dialog to user to choose an app\n        val chooser = Intent.createChooser(upiPayIntent, &quot;Pay with&quot;)\n\n        // check if intent resolves\n        if (null != chooser.resolveActivity(packageManager)) {\n            startActivityForResult(chooser, UPI_PAYMENT)\n        } else {\n            Toast.makeText(this@PayShareAmount, &quot;No UPI app found, please install one to continue&quot;, Toast.LENGTH_SHORT).show()\n        }\n\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        when (requestCode) {\n            UPI_PAYMENT -&gt; if (Activity.RESULT_OK == resultCode || resultCode == 11) {\n                if (data != null) {\n                    val trxt = data.getStringExtra(&quot;response&quot;)\n                    Log.d(&quot;UPI&quot;, &quot;onActivityResult: $trxt&quot;)\n                    val dataList = ArrayList&lt;String&gt;()\n                    dataList.add(trxt.toString())\n                    upiPaymentDataOperation(dataList)\n                } else {\n                    Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;)\n                    val dataList = ArrayList&lt;String&gt;()\n                    dataList.add(&quot;nothing&quot;)\n                    upiPaymentDataOperation(dataList)\n                }\n            } else {\n                Log.d(&quot;UPI&quot;, &quot;onActivityResult: &quot; + &quot;Return data is null&quot;) //when user simply back without payment\n                val dataList = ArrayList&lt;String&gt;()\n                dataList.add(&quot;nothing&quot;)\n                upiPaymentDataOperation(dataList)\n            }\n        }\n    }\n\n    private fun upiPaymentDataOperation(data: ArrayList&lt;String&gt;) {\n        if (isConnectionAvailable(this@PayShareAmount)) {\n            val str: String = data[0]\n            Log.d(&quot;UPIPAY&quot;, &quot;upiPaymentDataOperation: $str&quot;)\n            var paymentCancel = &quot;&quot;\n            var status = &quot;&quot;\n            var approvalRefNo = &quot;&quot;\n            val response = str.split(&quot;&amp;&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\n            for (i in response.indices) {\n                val equalStr = response[i].split(&quot;=&quot;.toRegex()).dropLastWhile { it.isEmpty() }.toTypedArray()\n                if (equalStr.size &gt;= 2) {\n                    if (equalStr[0].lowercase(Locale.ROOT) == &quot;Status&quot;.lowercase(Locale.ROOT)) {\n                        status = equalStr[1].lowercase(Locale.ROOT)\n                    } else if (equalStr[0].lowercase(Locale.ROOT) == &quot;ApprovalRefNo&quot;.lowercase(\n                            Locale.ROOT\n                        ) || equalStr[0].lowercase(Locale.ROOT) == &quot;txnRef&quot;.lowercase(Locale.ROOT)\n                    ) {\n                        approvalRefNo = equalStr[1]\n                    }\n                } else {\n                    paymentCancel = &quot;Payment cancelled by user.&quot;\n                }\n            }\n\n            if (status == &quot;success&quot;) {\n                //Code to handle successful transaction here.\n                Toast.makeText(this@PayShareAmount, &quot;Transaction successful.&quot;, Toast.LENGTH_SHORT).show()\n                Log.d(&quot;UPI&quot;, &quot;responseStr: $approvalRefNo&quot;)\n            } else if (&quot;Payment cancelled by user.&quot; == paymentCancel) {\n                Toast.makeText(this@PayShareAmount, &quot;Payment cancelled by user.&quot;, Toast.LENGTH_SHORT).show()\n            } else {\n                Toast.makeText(this@PayShareAmount, &quot;Transaction failed.Please try again&quot;, Toast.LENGTH_SHORT).show()\n            }\n        } else {\n            Toast.makeText(this@PayShareAmount, &quot;Internet connection is not available. Please check and try again&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    companion object {\n\n        fun isConnectionAvailable(context: Context): Boolean {\n            val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n            val netInfo = connectivityManager.activeNetworkInfo\n            if (netInfo != null &amp;&amp; netInfo.isConnected\n                &amp;&amp; netInfo.isConnectedOrConnecting\n                &amp;&amp; netInfo.isAvailable) {\n                return true\n            }\n            return false\n        }\n    }\n}```\n\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jacoco","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1676908616,"post_id":75511279,"comment_id":133227399,"body_markdown":"Thanks for the edit. That plugin invocation is only doing the report. How are you doing instrumentation? Via java agent at runtime? Are you sure you&#39;re actually collecting coverage in those 3rd party packages?","body":"Thanks for the edit. That plugin invocation is only doing the report. How are you doing instrumentation? Via java agent at runtime? Are you sure you&#39;re actually collecting coverage in those 3rd party packages?"}],"owner":{"account_id":14652260,"reputation":137,"user_id":11233282,"display_name":"ArthurS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676907914,"creation_date":1676907375,"question_id":75511279,"body_markdown":"I have two different spring boot microfrontends, I am running Jacoco Maven Plugin in both projects, it generates one &quot;jacoco-ut&quot; folder with the report in both projects. Is there any way to generate just one covering both projects? I tried to use the &quot;include&quot; tag on pom.xml pointing to the other microfrontend, which is a dependency but it did not work: \r\n\r\n    &lt;plugin&gt;\r\n       &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n       &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;jacoco-report-aggregate&lt;/id&gt;\r\n              &lt;phase&gt;test&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                 &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n         &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n           &lt;includes&gt;  \r\n          &lt;include&gt;com/company/packgePath/package/**/*.class&lt;/include&gt;     \r\n           &lt;/includes&gt;\r\n        &lt;/configuration&gt;\r\n\r\n","title":"How to include a external package to Jacoco Maven Plugin report","body":"<p>I have two different spring boot microfrontends, I am running Jacoco Maven Plugin in both projects, it generates one &quot;jacoco-ut&quot; folder with the report in both projects. Is there any way to generate just one covering both projects? I tried to use the &quot;include&quot; tag on pom.xml pointing to the other microfrontend, which is a dependency but it did not work:</p>\n<pre><code>&lt;plugin&gt;\n   &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n   &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;jacoco-report-aggregate&lt;/id&gt;\n          &lt;phase&gt;test&lt;/phase&gt;\n          &lt;goals&gt;\n             &lt;goal&gt;report-aggregate&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n     &lt;/executions&gt;\n    &lt;configuration&gt;\n       &lt;includes&gt;  \n      &lt;include&gt;com/company/packgePath/package/**/*.class&lt;/include&gt;     \n       &lt;/includes&gt;\n    &lt;/configuration&gt;\n</code></pre>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1676906065,"post_id":75510738,"comment_id":133226616,"body_markdown":"How do you want your `optionList` to be?","body":"How do you want your <code>optionList</code> to be?"}],"answers":[{"tags":[],"owner":{"account_id":1595031,"reputation":1446,"user_id":1477418,"display_name":"Islam Elbanna"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676905013,"creation_date":1676905013,"answer_id":75510846,"question_id":75510738,"body_markdown":"There is no `.stream()` over Array, you need to use `Arrays.stream`\r\n\r\n```java\r\nDemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\r\nList&lt;String&gt; optionlList  =\r\n            Arrays.stream(response).map(res -&gt; res.option.toString()).collect(Collectors.toList());\r\n\r\n```","title":"Is there a way to filter an array and collect multiple JSON nodes into a Java list?","body":"<p>There is no <code>.stream()</code> over Array, you need to use <code>Arrays.stream</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\nList&lt;String&gt; optionlList  =\n            Arrays.stream(response).map(res -&gt; res.option.toString()).collect(Collectors.toList());\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676906263,"creation_date":1676906263,"answer_id":75511061,"question_id":75510738,"body_markdown":"You can do like below, stream through the `response` array and `flatMap` the option and collect to a single list   \r\n  \r\n\r\n            DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\r\n    \r\n            List&lt;String&gt; optionList = Arrays.stream(response)\r\n                    .flatMap(demoResponse -&gt; demoResponse.getOption().stream())\r\n                    .map(Object::toString)\r\n                    .collect(Collectors.toList());\r\n\r\n\r\nYour `optionList` would be \r\n\r\n    [MAJOR, {name=testOne, id=1111, demolId=demoid-1}, {name=testTwo, id=2222, demoId=demoid-3}, {name=testThree, id=3333, demolId=demo-2}, {name=sampleA, id=4444}, {name=runA, id=eaf7d6a5-2038-45a0-9f06-6410694e5354, demoId=demolid-1}, york, tampa]\r\n\r\n","title":"Is there a way to filter an array and collect multiple JSON nodes into a Java list?","body":"<p>You can do like below, stream through the <code>response</code> array and <code>flatMap</code> the option and collect to a single list</p>\n<pre><code>        DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\n\n        List&lt;String&gt; optionList = Arrays.stream(response)\n                .flatMap(demoResponse -&gt; demoResponse.getOption().stream())\n                .map(Object::toString)\n                .collect(Collectors.toList());\n</code></pre>\n<p>Your <code>optionList</code> would be</p>\n<pre><code>[MAJOR, {name=testOne, id=1111, demolId=demoid-1}, {name=testTwo, id=2222, demoId=demoid-3}, {name=testThree, id=3333, demolId=demo-2}, {name=sampleA, id=4444}, {name=runA, id=eaf7d6a5-2038-45a0-9f06-6410694e5354, demoId=demolid-1}, york, tampa]\n</code></pre>\n"}],"owner":{"account_id":25318030,"reputation":25,"user_id":19139804,"display_name":"matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75510846,"answer_count":2,"score":0,"last_activity_date":1676907353,"creation_date":1676904399,"question_id":75510738,"body_markdown":"I have this JSON API response list:\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: &quot;demoType&quot;,\r\n            &quot;label&quot;: &quot;Demo Type&quot;,\r\n            &quot;option&quot;: [\r\n                &quot;MAJOR&quot;\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;test&quot;,\r\n            &quot;label&quot;: &quot;test&quot;,\r\n            &quot;option&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;testOne&quot;,\r\n                    &quot;id&quot;: &quot;1111&quot;,\r\n                    &quot;demolId&quot;: &quot;demoid-1&quot;\r\n                },\r\n                {\r\n                    &quot;name&quot;: &quot;testTwo&quot;,\r\n                    &quot;id&quot;: &quot;2222&quot;,\r\n                    &quot;demoId&quot;: &quot;demoid-3&quot;\r\n                },\r\n                {\r\n                    &quot;name&quot;: &quot;testThree&quot;,\r\n                    &quot;id&quot;: &quot;3333&quot;,\r\n                    &quot;demolId&quot;: &quot;demo-2&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;sampleType&quot;,\r\n            &quot;label&quot;: &quot;sample&quot;,\r\n            &quot;option&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;sampleA&quot;,\r\n                    &quot;id&quot;: &quot;4444&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;runType&quot;,\r\n            &quot;label&quot;: &quot;run one&quot;,\r\n            &quot;option&quot;: [\r\n                {\r\n                    &quot;name&quot;: &quot;runA&quot;,\r\n                    &quot;id&quot;: &quot;eaf7d6a5-2038-45a0-9f06-6410694e5354&quot;,\r\n                    &quot;demoId&quot;: &quot;demolid-1&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: &quot;city&quot;,\r\n            &quot;label&quot;: &quot;City&quot;,\r\n            &quot;option&quot;: [\r\n                &quot;york&quot;,\r\n                &quot;tampa&quot;\r\n            ]\r\n        }\r\n\r\n]\r\n\r\nI have a corresponding responseDTO:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class DemoResponse {\r\n      public String id;\r\n      public String label;\r\n      public ArrayList&lt;Object&gt; option;\r\n    }\r\n\r\nThe API response has got a property called `option`, which appears multiple times in a nested list. What I want to achieve is to collect the values of all the options properties to a list.\r\n\r\nI tried like this:\r\n\r\n    DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\r\n    List&lt;String&gt; optionlList  =\r\n                response.stream().map(newList -&gt; newdList.toString()).collect(Collectors.toList());\r\n    \r\n`stream` could not be compiled. I am convinced that what I am doing is obviously wrong, but I am not sure how to achieve what I want which is to get all the values of the option fields in the API response and collect them into a list.","title":"Is there a way to filter an array and collect multiple JSON nodes into a Java list?","body":"<p>I have this JSON API response list:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;demoType&quot;,\n        &quot;label&quot;: &quot;Demo Type&quot;,\n        &quot;option&quot;: [\n            &quot;MAJOR&quot;\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;test&quot;,\n        &quot;label&quot;: &quot;test&quot;,\n        &quot;option&quot;: [\n            {\n                &quot;name&quot;: &quot;testOne&quot;,\n                &quot;id&quot;: &quot;1111&quot;,\n                &quot;demolId&quot;: &quot;demoid-1&quot;\n            },\n            {\n                &quot;name&quot;: &quot;testTwo&quot;,\n                &quot;id&quot;: &quot;2222&quot;,\n                &quot;demoId&quot;: &quot;demoid-3&quot;\n            },\n            {\n                &quot;name&quot;: &quot;testThree&quot;,\n                &quot;id&quot;: &quot;3333&quot;,\n                &quot;demolId&quot;: &quot;demo-2&quot;\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;sampleType&quot;,\n        &quot;label&quot;: &quot;sample&quot;,\n        &quot;option&quot;: [\n            {\n                &quot;name&quot;: &quot;sampleA&quot;,\n                &quot;id&quot;: &quot;4444&quot;\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;runType&quot;,\n        &quot;label&quot;: &quot;run one&quot;,\n        &quot;option&quot;: [\n            {\n                &quot;name&quot;: &quot;runA&quot;,\n                &quot;id&quot;: &quot;eaf7d6a5-2038-45a0-9f06-6410694e5354&quot;,\n                &quot;demoId&quot;: &quot;demolid-1&quot;\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: &quot;city&quot;,\n        &quot;label&quot;: &quot;City&quot;,\n        &quot;option&quot;: [\n            &quot;york&quot;,\n            &quot;tampa&quot;\n        ]\n    }\n</code></pre>\n<p>]</p>\n<p>I have a corresponding responseDTO:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class DemoResponse {\n  public String id;\n  public String label;\n  public ArrayList&lt;Object&gt; option;\n}\n</code></pre>\n<p>The API response has got a property called <code>option</code>, which appears multiple times in a nested list. What I want to achieve is to collect the values of all the options properties to a list.</p>\n<p>I tried like this:</p>\n<pre><code>DemoResponse[] response = (BaseClient.getResponse().as(DemoResponse[].class));\nList&lt;String&gt; optionlList  =\n            response.stream().map(newList -&gt; newdList.toString()).collect(Collectors.toList());\n</code></pre>\n<p><code>stream</code> could not be compiled. I am convinced that what I am doing is obviously wrong, but I am not sure how to achieve what I want which is to get all the values of the option fields in the API response and collect them into a list.</p>\n"},{"tags":["java","spring","junit","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676907352,"creation_date":1676907352,"answer_id":75511275,"question_id":75479309,"body_markdown":"When you do not specify a paging query provider, the builder will try to determine a suitable one from the meta-data of your data source. Since you are using a mocked database, you need to mock the call to `getConnection()`.  Otherwise, you have to use a stub database for tests (like an embedded H2 or HSQL).\r\n\r\nIf you know what datasource you will be using, the best way is to specify its paging query provider implementation in your builder. Here is an example if you use H2:\r\n\r\n```\r\n@Configuration\r\npublic class RelatorioReader {\r\n\r\n    @Bean(&quot;relatorioreader&quot;)\r\n    @StepScope\r\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\r\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\r\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\r\n\r\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\r\n                    .name(&quot;relatorioDiario&quot;)\r\n                    .dataSource(dataSource)\r\n                    .selectClause(&quot;SELET * &quot;)\r\n                    .fromClause(&quot;FROM myTable &quot;)\r\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\r\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\r\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\r\n                    .rowMapper(new RelatorioMapper())\r\n                    .queryProvider(new H2PagingQueryProvider())\r\n                    .build();\r\n    }\r\n}\r\n```","title":"How to test JdbcPagingItemReaderBuilder with Junit","body":"<p>When you do not specify a paging query provider, the builder will try to determine a suitable one from the meta-data of your data source. Since you are using a mocked database, you need to mock the call to <code>getConnection()</code>.  Otherwise, you have to use a stub database for tests (like an embedded H2 or HSQL).</p>\n<p>If you know what datasource you will be using, the best way is to specify its paging query provider implementation in your builder. Here is an example if you use H2:</p>\n<pre><code>@Configuration\npublic class RelatorioReader {\n\n    @Bean(&quot;relatorioreader&quot;)\n    @StepScope\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\n\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\n                    .name(&quot;relatorioDiario&quot;)\n                    .dataSource(dataSource)\n                    .selectClause(&quot;SELET * &quot;)\n                    .fromClause(&quot;FROM myTable &quot;)\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\n                    .rowMapper(new RelatorioMapper())\n                    .queryProvider(new H2PagingQueryProvider())\n                    .build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4661584,"reputation":276,"user_id":3884452,"accept_rate":80,"display_name":"Erico Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676907352,"creation_date":1676595006,"question_id":75479309,"body_markdown":"I&#39;m creating a spring-batch application, and I&#39;m having trouble creating a unit test class with junit that tests my reader that uses **JdbcPaginItemReaderBuilder**.\r\n\r\nReader Code:\r\n\r\n```\r\n@Configuration\r\npublic class RelatorioReader {\r\n\r\n    @Bean(&quot;relatorioreader&quot;)\r\n    @StepScope\r\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\r\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\r\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\r\n\r\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\r\n                    .name(&quot;relatorioDiario&quot;)\r\n                    .dataSource(dataSource)\r\n                    .selectClause(&quot;SELET * &quot;)\r\n                    .fromClause(&quot;FROM myTable &quot;)\r\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\r\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\r\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\r\n                    .rowMapper(new RelatorioMapper())\r\n                    .build();\r\n    }\r\n}\r\n```\r\n\r\nJunit Code\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class RelatorioReaderTest {\r\n\r\n    @InjectMocks\r\n    RelatorioReader reader;\r\n\r\n    @Mock\r\n    DataSource dataSource;\r\n\r\n    @Test\r\n    public void test_itemReader() {\r\n        ItemReader&lt;Relatorio&gt; itemReader = reader.relatorioItemReader(dataSource, &quot;2023-02-16&quot;);\r\n\r\n        assertNotNull(itemReader);\r\n    }\r\n}\r\n```\r\n\r\nException when running Junit:\r\n\r\n```\r\njava.lang.IllegalArgumentException: Unable to determine PagingQueryProvider type\r\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.determineQueryProvider(JdbcPagingItemReaderBuilder.java:383)\r\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.build(JdbcPagingItemReaderBuilder.java:335)\r\n    at com.erico.relatorio.item.reader.RelatorioReader.relatorioItemReader(RelatorioReader.java:34)\r\n    at com.erico.relatorio.item.reader.RelatorioReaderTest.test_itemReader(RelatorioReaderTest.java:27)\r\n    ...\r\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\r\n    at ...\r\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\r\n    at ...\r\n```\r\n","title":"How to test JdbcPagingItemReaderBuilder with Junit","body":"<p>I'm creating a spring-batch application, and I'm having trouble creating a unit test class with junit that tests my reader that uses <strong>JdbcPaginItemReaderBuilder</strong>.</p>\n<p>Reader Code:</p>\n<pre><code>@Configuration\npublic class RelatorioReader {\n\n    @Bean(&quot;relatorioreader&quot;)\n    @StepScope\n    public ItemReader&lt;Relatorio&gt; relatorioItemReader(\n        @Qualifier(&quot;dataSource&quot;) DataSource dataSource,\n        @Value(&quot;#{jobParameters[dateParam]}&quot;) String dateParam) {\n\n        return new JdbcPagingItemReaderBuilder&lt;Relatorio&gt;()\n                    .name(&quot;relatorioDiario&quot;)\n                    .dataSource(dataSource)\n                    .selectClause(&quot;SELET * &quot;)\n                    .fromClause(&quot;FROM myTable &quot;)\n                    .whereClause(&quot; WHERE date = :dateParam&quot;)\n                    .parameterValues(Collections.singletonMap(&quot;dateParam&quot;, dateParam))\n                    .sortKeys(Collections.singletonMap(&quot;ID&quot;, Order.ASCENDING))\n                    .rowMapper(new RelatorioMapper())\n                    .build();\n    }\n}\n</code></pre>\n<p>Junit Code</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class RelatorioReaderTest {\n\n    @InjectMocks\n    RelatorioReader reader;\n\n    @Mock\n    DataSource dataSource;\n\n    @Test\n    public void test_itemReader() {\n        ItemReader&lt;Relatorio&gt; itemReader = reader.relatorioItemReader(dataSource, &quot;2023-02-16&quot;);\n\n        assertNotNull(itemReader);\n    }\n}\n</code></pre>\n<p>Exception when running Junit:</p>\n<pre><code>java.lang.IllegalArgumentException: Unable to determine PagingQueryProvider type\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.determineQueryProvider(JdbcPagingItemReaderBuilder.java:383)\n    at org.springframework.batch.item.database.builder.JdbcPagingItemReaderBuilder.build(JdbcPagingItemReaderBuilder.java:335)\n    at com.erico.relatorio.item.reader.RelatorioReader.relatorioItemReader(RelatorioReader.java:34)\n    at com.erico.relatorio.item.reader.RelatorioReaderTest.test_itemReader(RelatorioReaderTest.java:27)\n    ...\nCaused by: org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\n    at ...\nCaused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: DataSource returned null from getConnection(): dataSource\n    at ...\n</code></pre>\n"},{"tags":["java","maven","jira-rest-api","jira-integration"],"comments":[{"owner":{"display_name":"user2858650"},"score":1,"creation_date":1676656770,"post_id":75487269,"comment_id":133188184,"body_markdown":"The error message is telling you that dependency com.atlassian.platform:platform:pom:3.1.7 cannot be found for some reason. What I typically do in these situations is manually go to the Artifactory repository and confirm the artifact exists. If it does then you know you either have a pom entry error or a corrupted local artifact. Then you can address as needed. For future reference, whenever you get these Maven build errors, drop the error into your web browser search function, remove the references to the specific artifact name/group/version and run a search. You should get a lot of hits.","body":"The error message is telling you that dependency com.atlassian.platform:platform:pom:3.1.7 cannot be found for some reason. What I typically do in these situations is manually go to the Artifactory repository and confirm the artifact exists. If it does then you know you either have a pom entry error or a corrupted local artifact. Then you can address as needed. For future reference, whenever you get these Maven build errors, drop the error into your web browser search function, remove the references to the specific artifact name/group/version and run a search. You should get a lot of hits."},{"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"score":0,"creation_date":1676698743,"post_id":75487269,"comment_id":133194409,"body_markdown":"Checked that com.atlassian.platform:platform:pom:3.1.7 not exist in the maven_dev repo. but does this exist in the maven repo? so i can request my tem to add this into maven_dev","body":"Checked that com.atlassian.platform:platform:pom:3.1.7 not exist in the maven_dev repo. but does this exist in the maven repo? so i can request my tem to add this into maven_dev"}],"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676907260,"creation_date":1676653588,"question_id":75487269,"body_markdown":"The below dependency was already existing in our organization repository and it was removed for some reasons\r\n\r\nLater I changed the repository as below and updated it with new repository  which has this dependency 5.2.0\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jira-rest-java-client-app&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nThe repository updated as below\r\n\r\n\t&lt;repositories&gt;\r\n\t\t&lt;repository&gt;\r\n\t\t\t&lt;id&gt;central&lt;/id&gt;\r\n\t\t\t&lt;name&gt;maven_dev&lt;/name&gt;\r\n\t\t\t&lt;url&gt;https://artifactory.organization.site/artifactory/maven_dev&lt;/url&gt;\r\n\t\t&lt;/repository&gt;\r\n\t&lt;/repositories&gt;\r\n\r\nWhen I build project after these changes am getting the below error\r\n````\r\nCould not resolve dependencies for project testngframeworkLibrary:PETERTESTNG:jar:3.16: Failed to collect dependencies at com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failed to read artifact descriptor for com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failure to find com.atlassian.platform:platform:pom:3.1.7 in https://artifactory.organization.site/artifactory/maven_dev was cached in the local repository, resolution will not be reattempted until the update interval of org-maven_dev has elapsed or updates are forced -&gt; [Help 1]\r\n````","title":"Maven Build Failure for artifact ID jira-rest-java-client-app","body":"<p>The below dependency was already existing in our organization repository and it was removed for some reasons</p>\n<p>Later I changed the repository as below and updated it with new repository  which has this dependency 5.2.0</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.atlassian.jira&lt;/groupId&gt;\n    &lt;artifactId&gt;jira-rest-java-client-app&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The repository updated as below</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;name&gt;maven_dev&lt;/name&gt;\n        &lt;url&gt;https://artifactory.organization.site/artifactory/maven_dev&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>When I build project after these changes am getting the below error</p>\n<pre><code>Could not resolve dependencies for project testngframeworkLibrary:PETERTESTNG:jar:3.16: Failed to collect dependencies at com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failed to read artifact descriptor for com.atlassian.jira:jira-rest-java-client-app:jar:5.2.0: Failure to find com.atlassian.platform:platform:pom:3.1.7 in https://artifactory.organization.site/artifactory/maven_dev was cached in the local repository, resolution will not be reattempted until the update interval of org-maven_dev has elapsed or updates are forced -&gt; [Help 1]\n</code></pre>\n"},{"tags":["java","date","datetime","time","jodatime"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1256724038,"post_id":1636038,"comment_id":1505316,"body_markdown":"good question... `DateTime` could use a `rollForwardTo(...)` method","body":"good question... <code>DateTime</code> could use a <code>rollForwardTo(...)</code> method"},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1342580541,"post_id":1636038,"comment_id":15248288,"body_markdown":"@skaffman See my generic rollForward answer. Its not super duper tested but seems to work for me.","body":"@skaffman See my generic rollForward answer. Its not super duper tested but seems to work for me."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1429385884,"post_id":1636038,"comment_id":47578363,"body_markdown":"Actually, java.time is *not* necessarily better that [Joda-Time](http://www.joda.org/joda-time/). Each has features the other lacks. For example, java.time lacks the [`Interval`](http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html) class found in Joda-Time. So use each for its strengths. You can mix and match within a project. Just be careful with your `import` statements as a few of their classes share the same name.","body":"Actually, java.time is <i>not</i> necessarily better that <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a>. Each has features the other lacks. For example, java.time lacks the <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a> class found in Joda-Time. So use each for its strengths. You can mix and match within a project. Just be careful with your <code>import</code> statements as a few of their classes share the same name."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1666386703,"post_id":1636038,"comment_id":130933404,"body_markdown":"The equivalent question, but for Java time instead of Joda-Time: https://stackoverflow.com/q/21242809/1108305","body":"The equivalent question, but for Java time instead of Joda-Time: <a href=\"https://stackoverflow.com/q/21242809/1108305\">stackoverflow.com/q/21242809/1108305</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676923989,"post_id":1636038,"comment_id":133231418,"body_markdown":"To update [my Comment above](https://stackoverflow.com/questions/1636038/time-how-to-get-the-next-friday/75511018#comment47578363_1636038): I have changed my advice. You should migrate away from *Joda-Time* as soon as is convenient. That project is in maintenance mode, with no further feature work to be done. To regain some of the features present in *Joda-Time* but missing in *java.time*, add the [*ThreeTen-Extra*](https://www.threeten.org/threeten-extra/index.html) library to your project. For example, that library offers classes for `Interval` and `LocalDateRange`.","body":"To update <a href=\"https://stackoverflow.com/questions/1636038/time-how-to-get-the-next-friday/75511018#comment47578363_1636038\">my Comment above</a>: I have changed my advice. You should migrate away from <i>Joda-Time</i> as soon as is convenient. That project is in maintenance mode, with no further feature work to be done. To regain some of the features present in <i>Joda-Time</i> but missing in <i>java.time</i>, add the <a href=\"https://www.threeten.org/threeten-extra/index.html\" rel=\"nofollow noreferrer\"><i>ThreeTen-Extra</i></a> library to your project. For example, that library offers classes for <code>Interval</code> and <code>LocalDateRange</code>."}],"answers":[{"comments":[{"owner":{"account_id":87456,"reputation":828,"user_id":366073,"accept_rate":86,"display_name":"David Victor"},"score":2,"creation_date":1316001232,"post_id":1636213,"comment_id":8962062,"body_markdown":"or compile it ... &quot;DateTimeConstans&quot;","body":"or compile it ... &quot;DateTimeConstans&quot;"},{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":0,"creation_date":1376667177,"post_id":1636213,"comment_id":26809552,"body_markdown":"Your last snippet&#39;s &quot;return&quot; line contains a redundant &quot;)&quot; character. Anyways, thanks, great solution!","body":"Your last snippet&#39;s &quot;return&quot; line contains a redundant &quot;)&quot; character. Anyways, thanks, great solution!"}],"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1383852853,"creation_date":1256723764,"answer_id":1636213,"question_id":1636038,"body_markdown":"It&#39;s possible to do it in a much easier to read way:\r\n\r\n    if (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\r\n        return d.withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    } else if (d.getDayOfWeek() == DateTimeConstants.FRIDAY) {\r\n        // almost useless branch, could be merged with the one above\r\n        return d;\r\n    } else {\r\n        return d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    }\r\n\r\n\r\nor in a bit shorter form\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {    \r\n    \tif (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\r\n    \t\td = d.withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    \t} else {\r\n    \t\td = d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\r\n    \t}    \r\n    \treturn d; // note that there&#39;s a possibility original object is returned\r\n    }\r\n\r\nor even shorter\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {\r\n    \tif (d.getDayOfWeek() &gt;= DateTimeConstants.FRIDAY) {\r\n    \t\td = d.plusWeeks(1);\r\n    \t}\r\n    \treturn d.withDayOfWeek(DateTimeConstants.FRIDAY);\r\n    }\r\n\r\n\r\n*PS. I didn&#39;t test the actual code! :)*","title":"Time: How to get the next friday?","body":"<p>It's possible to do it in a much easier to read way:</p>\n\n<pre><code>if (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\n    return d.withDayOfWeek(DateTimeConstants.FRIDAY));\n} else if (d.getDayOfWeek() == DateTimeConstants.FRIDAY) {\n    // almost useless branch, could be merged with the one above\n    return d;\n} else {\n    return d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\n}\n</code></pre>\n\n<p>or in a bit shorter form</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {    \n    if (d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY) {\n        d = d.withDayOfWeek(DateTimeConstants.FRIDAY));\n    } else {\n        d = d.plusWeeks(1).withDayOfWeek(DateTimeConstants.FRIDAY));\n    }    \n    return d; // note that there's a possibility original object is returned\n}\n</code></pre>\n\n<p>or even shorter</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n    if (d.getDayOfWeek() &gt;= DateTimeConstants.FRIDAY) {\n        d = d.plusWeeks(1);\n    }\n    return d.withDayOfWeek(DateTimeConstants.FRIDAY);\n}\n</code></pre>\n\n<p><em>PS. I didn't test the actual code! :)</em></p>\n"},{"comments":[{"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"score":1,"creation_date":1256725679,"post_id":1636269,"comment_id":1505453,"body_markdown":"Thanks for your answer. Your suggestion with the more general approach is nice. But the oneliner is awkward in term of readability.","body":"Thanks for your answer. Your suggestion with the more general approach is nice. But the oneliner is awkward in term of readability."},{"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"score":5,"creation_date":1256726398,"post_id":1636269,"comment_id":1505516,"body_markdown":"@michaelkebe you asked for a oneliner, I just provided one...  ;-)","body":"@michaelkebe you asked for a oneliner, I just provided one...  ;-)"},{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":1,"creation_date":1376668316,"post_id":1636269,"comment_id":26810308,"body_markdown":"@michael.kebe I usually place newlines with ternaries at &quot;?&quot; and &quot;:&quot;, hit format in Eclipse and it arranges pretty well.","body":"@michael.kebe I usually place newlines with ternaries at &quot;?&quot; and &quot;:&quot;, hit format in Eclipse and it arranges pretty well."}],"tags":[],"owner":{"account_id":38931,"reputation":32526,"user_id":112079,"display_name":"fvu"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1256724404,"creation_date":1256724404,"answer_id":1636269,"question_id":1636038,"body_markdown":"Your code in 1 line\r\n\r\n    private LocalDate calcNextFriday3(LocalDate d) {\r\n        return d.isBefore(d.dayOfWeek().setCopy(5))?d.dayOfWeek().setCopy(5):d.plusWeeks(1).dayOfWeek().setCopy(5);\r\n    }\r\n\r\nAlternative approach\r\n\r\n    private LocalDate calcNextDay(LocalDate d, int weekday) {\r\n        return (d.getDayOfWeek() &lt; weekday)?d.withDayOfWeek(weekday):d.plusWeeks(1).withDayOfWeek(weekday);\r\n    }\r\n\r\n\r\n    private LocalDate calcNextFriday2(LocalDate d) {\r\n        return calcNextDay(d,DateTimeConstants.FRIDAY);\r\n    }\r\n\r\nsomewhat tested ;-)\r\n","title":"Time: How to get the next friday?","body":"<p>Your code in 1 line</p>\n\n<pre><code>private LocalDate calcNextFriday3(LocalDate d) {\n    return d.isBefore(d.dayOfWeek().setCopy(5))?d.dayOfWeek().setCopy(5):d.plusWeeks(1).dayOfWeek().setCopy(5);\n}\n</code></pre>\n\n<p>Alternative approach</p>\n\n<pre><code>private LocalDate calcNextDay(LocalDate d, int weekday) {\n    return (d.getDayOfWeek() &lt; weekday)?d.withDayOfWeek(weekday):d.plusWeeks(1).withDayOfWeek(weekday);\n}\n\n\nprivate LocalDate calcNextFriday2(LocalDate d) {\n    return calcNextDay(d,DateTimeConstants.FRIDAY);\n}\n</code></pre>\n\n<p>somewhat tested ;-)</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1342581223,"creation_date":1342580499,"answer_id":11533693,"question_id":1636038,"body_markdown":"I just wasted like 30 minutes trying to figure this out myself but I needed to generically roll forward.\r\n\r\nAnyway here is my solution:\r\n\r\n    public static DateTime rollForwardWith(ReadableInstant now, AbstractPartial lp) {\r\n        DateTime dt = lp.toDateTime(now);\r\n        while (dt.isBefore(now)) {\r\n            dt = dt.withFieldAdded(lp.getFieldTypes()[0].getRangeDurationType(), 1);\r\n        }\r\n        return dt;\r\n    }\r\n\r\nNow you just need to make a Partial (which LocalDate is) for the day of the week.  \r\n\r\n    Partial().with(DateTimeFieldType.dayOfWeek(), DateTimeConstants.FRIDAY); \r\n\r\nNow whatever the most significant field is of the partial will be +1 if the current date is after it (now).\r\n\r\nThat is if you make a partial with March 2012 it will create a new datetime of March 2013 or &lt;.","title":"Time: How to get the next friday?","body":"<p>I just wasted like 30 minutes trying to figure this out myself but I needed to generically roll forward.</p>\n\n<p>Anyway here is my solution:</p>\n\n<pre><code>public static DateTime rollForwardWith(ReadableInstant now, AbstractPartial lp) {\n    DateTime dt = lp.toDateTime(now);\n    while (dt.isBefore(now)) {\n        dt = dt.withFieldAdded(lp.getFieldTypes()[0].getRangeDurationType(), 1);\n    }\n    return dt;\n}\n</code></pre>\n\n<p>Now you just need to make a Partial (which LocalDate is) for the day of the week.  </p>\n\n<pre><code>Partial().with(DateTimeFieldType.dayOfWeek(), DateTimeConstants.FRIDAY); \n</code></pre>\n\n<p>Now whatever the most significant field is of the partial will be +1 if the current date is after it (now).</p>\n\n<p>That is if you make a partial with March 2012 it will create a new datetime of March 2013 or &lt;.</p>\n"},{"tags":[],"owner":{"account_id":108117,"reputation":9982,"user_id":287138,"accept_rate":82,"display_name":"Stefan Haberl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1412590691,"creation_date":1412590691,"answer_id":26214173,"question_id":1636038,"body_markdown":"counting bytes @fvu answer can be shortened even further to:\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {\r\n      return d.plusWeeks(d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY ? 0 : 1).withDayOfWeek(DateTimeConstants.FRIDAY);\r\n    }","title":"Time: How to get the next friday?","body":"<p>counting bytes @fvu answer can be shortened even further to:</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n  return d.plusWeeks(d.getDayOfWeek() &lt; DateTimeConstants.FRIDAY ? 0 : 1).withDayOfWeek(DateTimeConstants.FRIDAY);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2512449,"reputation":15802,"user_id":2184584,"accept_rate":46,"display_name":"Christopher Francisco"},"score":0,"creation_date":1464278835,"post_id":29010338,"comment_id":62430519,"body_markdown":"Does this uses joda-time?","body":"Does this uses joda-time?"},{"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"score":3,"creation_date":1464378026,"post_id":29010338,"comment_id":62478695,"body_markdown":"No, but it developed from it. Here a quote from the joda time homepage: _Joda-Time is the de facto standard date and time library for Java prior to Java SE 8. Users are now asked to migrate to java.time (JSR-310)._","body":"No, but it developed from it. Here a quote from the joda time homepage: <i>Joda-Time is the de facto standard date and time library for Java prior to Java SE 8. Users are now asked to migrate to java.time (JSR-310).</i>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1467246788,"post_id":29010338,"comment_id":63657888,"body_markdown":"FYI, the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html)  classes are built into Java 8 and later. Much of the java.time functionality has been back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to Android in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP). Also, see [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html) to learn more.","body":"FYI, the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a>  classes are built into Java 8 and later. Much of the java.time functionality has been back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to Android in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a>. Also, see <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a> to learn more."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1666386663,"post_id":29010338,"comment_id":130933392,"body_markdown":"Equivalent question, but for Java time instead of Joda Time: https://stackoverflow.com/q/21242809/1108305","body":"Equivalent question, but for Java time instead of Joda Time: <a href=\"https://stackoverflow.com/q/21242809/1108305\">stackoverflow.com/q/21242809/1108305</a>"}],"tags":[],"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"comment_count":4,"down_vote_count":0,"up_vote_count":123,"is_accepted":true,"score":123,"last_activity_date":1467246660,"creation_date":1426164806,"answer_id":29010338,"question_id":1636038,"body_markdown":"# java.time\r\n\r\nWith the [java.time][1] framework built into Java 8 and later ([Tutorial][2]) you can use [`TemporalAdjusters`](https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html) to get [next][3] or [previous][4] [day-of-week][5].\r\n\r\n    private LocalDate calcNextFriday(LocalDate d) {\r\n\t  return d.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#next-java.time.DayOfWeek-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#previous-java.time.DayOfWeek-\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html","title":"Time: How to get the next friday?","body":"<h1>java.time</h1>\n\n<p>With the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\">java.time</a> framework built into Java 8 and later (<a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\">Tutorial</a>) you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html\"><code>TemporalAdjusters</code></a> to get <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#next-java.time.DayOfWeek-\">next</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalAdjusters.html#previous-java.time.DayOfWeek-\">previous</a> <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/DayOfWeek.html\">day-of-week</a>.</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n  return d.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1543540535,"post_id":30861158,"comment_id":93966242,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."}],"tags":[],"owner":{"account_id":3776250,"reputation":75,"user_id":3137020,"display_name":"dinesh pazani"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524588930,"creation_date":1434439191,"answer_id":30861158,"question_id":1636038,"body_markdown":"\timport java.util.Calendar;\r\n\r\n    private Calendar getNextweekOfDay(int weekOfDay) {\r\n        Calendar today = Calendar.getInstance();\r\n        int dayOfWeek = today.get(Calendar.DAY_OF_WEEK);\r\n        int daysUntilNextWeekOfDay = weekOfDay - dayOfWeek;\r\n        if (daysUntilNextWeekOfDay == 0) daysUntilNextWeekOfDay = 7;\r\n        Calendar nextWeekOfDay = (Calendar)today.clone();\r\n        nextWeekOfDay.add(Calendar.DAY_OF_WEEK, daysUntilNextWeekOfDay);\r\n        return nextWeekOfDay;\r\n    }\r\n\t\r\n\t// set alarm for next Friday 9am\r\n\tpublic void setAlarm() {\r\n        Calendar calAlarm = getNextweekOfDay(Calendar.FRIDAY);\r\n        calAlarm.set(Calendar.HOUR_OF_DAY, 9);//9am\r\n        calAlarm.set(Calendar.MINUTE, 0);\r\n        calAlarm.set(Calendar.SECOND, 0);\r\n        scheduleAlarm(calAlarm);// this is my own method to schedule a pendingIntent\r\n    }","title":"Time: How to get the next friday?","body":"<pre><code>import java.util.Calendar;\n\nprivate Calendar getNextweekOfDay(int weekOfDay) {\n    Calendar today = Calendar.getInstance();\n    int dayOfWeek = today.get(Calendar.DAY_OF_WEEK);\n    int daysUntilNextWeekOfDay = weekOfDay - dayOfWeek;\n    if (daysUntilNextWeekOfDay == 0) daysUntilNextWeekOfDay = 7;\n    Calendar nextWeekOfDay = (Calendar)today.clone();\n    nextWeekOfDay.add(Calendar.DAY_OF_WEEK, daysUntilNextWeekOfDay);\n    return nextWeekOfDay;\n}\n\n// set alarm for next Friday 9am\npublic void setAlarm() {\n    Calendar calAlarm = getNextweekOfDay(Calendar.FRIDAY);\n    calAlarm.set(Calendar.HOUR_OF_DAY, 9);//9am\n    calAlarm.set(Calendar.MINUTE, 0);\n    calAlarm.set(Calendar.SECOND, 0);\n    scheduleAlarm(calAlarm);// this is my own method to schedule a pendingIntent\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1543540460,"post_id":53422758,"comment_id":93966227,"body_markdown":"FYI, the terribly troublesome old date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`java.util.Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), and `java.text.SimpleDateFormat` are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes built into Java 8 and later. See [*Tutorial* by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the terribly troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes built into Java 8 and later. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><i>Tutorial</i> by Oracle</a>."},{"owner":{"account_id":245024,"reputation":177,"user_id":1937041,"display_name":"Breton F."},"score":1,"creation_date":1544196360,"post_id":53422758,"comment_id":94202240,"body_markdown":"Yes If you use java 8 or onwards version or Jodatime, this is not for you. I did say it but i was not clear. Thanks for commenting.","body":"Yes If you use java 8 or onwards version or Jodatime, this is not for you. I did say it but i was not clear. Thanks for commenting."}],"tags":[],"owner":{"account_id":245024,"reputation":177,"user_id":1937041,"display_name":"Breton F."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544196442,"creation_date":1542850769,"answer_id":53422758,"question_id":1636038,"body_markdown":"A simple modulo based solution which should work with most of former java versions in case you are not allowed to upgrade your java version to java8 or onwards or to use a standard java date library as jodatime\r\n\r\n Number of days to add to your date is given by this formula :\r\n\r\n   (7 + Calendar.FRIDAY - yourDateAsCalendar.get(Calendar.DAY_OF_WEEK)) % 7\r\n\r\nNote also this can be generalized for any week day by changing the static field Calendar.FRIDAY to your given weekday. Some snippet code below\r\n\r\n   \r\n\r\n    public static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 15; i++) {\r\n\t\t\t\r\n\t\t\tCalendar cur = Calendar.getInstance();\r\n\t\t\tcur.add(Calendar.DAY_OF_MONTH, i);\r\n\t\t\t\r\n\t\t\tCalendar friday = Calendar.getInstance();\r\n\t\t\tfriday.setTime(cur.getTime());\r\n\t\t\tfriday.add(Calendar.DAY_OF_MONTH, (7 + Calendar.FRIDAY - cur.get(Calendar.DAY_OF_WEEK)) % 7);\r\n\t\t\t\r\n\t\t\tSystem.out.println(MessageFormat.format(&quot;Date {0} -&gt; {1} &quot;, cur.getTime(),  friday.getTime()));\r\n\t\t}\r\n\t}\r\n\r\n  ","title":"Time: How to get the next friday?","body":"<p>A simple modulo based solution which should work with most of former java versions in case you are not allowed to upgrade your java version to java8 or onwards or to use a standard java date library as jodatime</p>\n\n<p>Number of days to add to your date is given by this formula :</p>\n\n<p>(7 + Calendar.FRIDAY - yourDateAsCalendar.get(Calendar.DAY_OF_WEEK)) % 7</p>\n\n<p>Note also this can be generalized for any week day by changing the static field Calendar.FRIDAY to your given weekday. Some snippet code below</p>\n\n<pre><code>public static void main(String[] args) {\n    for (int i = 0; i &lt; 15; i++) {\n\n        Calendar cur = Calendar.getInstance();\n        cur.add(Calendar.DAY_OF_MONTH, i);\n\n        Calendar friday = Calendar.getInstance();\n        friday.setTime(cur.getTime());\n        friday.add(Calendar.DAY_OF_MONTH, (7 + Calendar.FRIDAY - cur.get(Calendar.DAY_OF_WEEK)) % 7);\n\n        System.out.println(MessageFormat.format(\"Date {0} -&gt; {1} \", cur.getTime(),  friday.getTime()));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1615207036,"post_id":66529440,"comment_id":117611475,"body_markdown":"How is it better than the accepted answer? I guess it’s correct, but I have a very hard time convincing myself.","body":"How is it better than the accepted answer? I guess it’s correct, but I have a very hard time convincing myself."},{"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"score":0,"creation_date":1615208488,"post_id":66529440,"comment_id":117612070,"body_markdown":"no-one saying it&#39;s better,  just an alternative way of doing the same. I believe my answer has clear logic and it doesn&#39;t require knowledge/usage of different APIs/ classes other than LocalDate","body":"no-one saying it&#39;s better,  just an alternative way of doing the same. I believe my answer has clear logic and it doesn&#39;t require knowledge/usage of different APIs/ classes other than LocalDate"}],"tags":[],"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615208551,"creation_date":1615204637,"answer_id":66529440,"question_id":1636038,"body_markdown":"Here&#39;s an alternative way of doing it, without using any other classes/APIs outside LocalDate.\r\n\r\n         LocalDate nextFriday = (d.plusWeeks(1).withDayOfWeek(5).minusDays(7).isAfter(d)) \r\n                                ? d.plusWeeks(1).withDayOfWeek(5)\r\n                                : d.withDayOfWeek(5);","title":"Time: How to get the next friday?","body":"<p>Here's an alternative way of doing it, without using any other classes/APIs outside LocalDate.</p>\n<pre><code>     LocalDate nextFriday = (d.plusWeeks(1).withDayOfWeek(5).minusDays(7).isAfter(d)) \n                            ? d.plusWeeks(1).withDayOfWeek(5)\n                            : d.withDayOfWeek(5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":234754,"reputation":5730,"user_id":501113,"accept_rate":90,"display_name":"chaotic3quilibrium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676905906,"creation_date":1676905906,"answer_id":75511018,"question_id":1636038,"body_markdown":"Using [Joda-Time][1] 2.12.2, below is a pure function which will find the next/prior [Day of the Week][2] as a `LocalDate` using [ISO8601 constants][3].\r\n\r\nParameters:\r\n\r\n - `localDate`: the anchor date\r\n - `isoDayOfWeek`: the specific Day of the Week desired\r\n   - the weekday number, [from 1 through 7][3]\r\n   - beginning with Monday and ending with Sunday\r\n - `howManyWeeksOut`: how far forward/backward to offset in weeks, with 0 meaning closest \r\n - `isPast`: when `true`, offset backwards in time, otherwise offset forwards\r\n - `isExcludingToday`: when `true` and `isoDayOfWeek` is equal to `localDate.getDayOfWeek()`, offset forward/backwards a full week from `localDate`\r\n\r\n\r\n```java\r\nimport org.joda.time.LocalDate;\r\n\r\npublic static LocalDate toDayOfWeek(\r\n    LocalDate localDate,\r\n    int isoDayOfWeek,\r\n    int howManyWeeksOut,\r\n    boolean isPast,\r\n    boolean isExcludingToday\r\n) {\r\n  var localDateDayOfWeek = localDate.getDayOfWeek();\r\n  if ((localDateDayOfWeek == isoDayOfWeek) &amp;&amp; !isExcludingToday &amp;&amp; (howManyWeeksOut == 0)) {\r\n    return localDate;\r\n  }\r\n  var daysUntilIsoDayOfWeek =\r\n      isoDayOfWeek + ((isoDayOfWeek &lt; localDateDayOfWeek) ? 7 : 0) - localDateDayOfWeek;\r\n  var weeksOffset =\r\n      7 * (howManyWeeksOut + ((daysUntilIsoDayOfWeek == 0) &amp;&amp; isExcludingToday ? 1 : 0));\r\n\r\n  return (!isPast)\r\n      ? localDate.plusDays(daysUntilIsoDayOfWeek + weeksOffset)\r\n      : localDate.minusDays(((daysUntilIsoDayOfWeek != 0) ? (7 - daysUntilIsoDayOfWeek) : 0) + weeksOffset);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.joda.org/joda-time/apidocs/index.html?overview-summary.html\r\n  [2]: https://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html#getDayOfWeek--\r\n  [3]: https://en.wikipedia.org/wiki/ISO_8601#Week_dates","title":"Time: How to get the next friday?","body":"<p>Using <a href=\"https://www.joda.org/joda-time/apidocs/index.html?overview-summary.html\" rel=\"nofollow noreferrer\">Joda-Time</a> 2.12.2, below is a pure function which will find the next/prior <a href=\"https://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html#getDayOfWeek--\" rel=\"nofollow noreferrer\">Day of the Week</a> as a <code>LocalDate</code> using <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow noreferrer\">ISO8601 constants</a>.</p>\n<p>Parameters:</p>\n<ul>\n<li><code>localDate</code>: the anchor date</li>\n<li><code>isoDayOfWeek</code>: the specific Day of the Week desired\n<ul>\n<li>the weekday number, <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Week_dates\" rel=\"nofollow noreferrer\">from 1 through 7</a></li>\n<li>beginning with Monday and ending with Sunday</li>\n</ul>\n</li>\n<li><code>howManyWeeksOut</code>: how far forward/backward to offset in weeks, with 0 meaning closest</li>\n<li><code>isPast</code>: when <code>true</code>, offset backwards in time, otherwise offset forwards</li>\n<li><code>isExcludingToday</code>: when <code>true</code> and <code>isoDayOfWeek</code> is equal to <code>localDate.getDayOfWeek()</code>, offset forward/backwards a full week from <code>localDate</code></li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>import org.joda.time.LocalDate;\n\npublic static LocalDate toDayOfWeek(\n    LocalDate localDate,\n    int isoDayOfWeek,\n    int howManyWeeksOut,\n    boolean isPast,\n    boolean isExcludingToday\n) {\n  var localDateDayOfWeek = localDate.getDayOfWeek();\n  if ((localDateDayOfWeek == isoDayOfWeek) &amp;&amp; !isExcludingToday &amp;&amp; (howManyWeeksOut == 0)) {\n    return localDate;\n  }\n  var daysUntilIsoDayOfWeek =\n      isoDayOfWeek + ((isoDayOfWeek &lt; localDateDayOfWeek) ? 7 : 0) - localDateDayOfWeek;\n  var weeksOffset =\n      7 * (howManyWeeksOut + ((daysUntilIsoDayOfWeek == 0) &amp;&amp; isExcludingToday ? 1 : 0));\n\n  return (!isPast)\n      ? localDate.plusDays(daysUntilIsoDayOfWeek + weeksOffset)\n      : localDate.minusDays(((daysUntilIsoDayOfWeek != 0) ? (7 - daysUntilIsoDayOfWeek) : 0) + weeksOffset);\n}\n</code></pre>\n"}],"owner":{"account_id":63956,"reputation":10936,"user_id":189058,"accept_rate":83,"display_name":"michael.kebe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46732,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":29010338,"answer_count":9,"score":77,"last_activity_date":1676905906,"creation_date":1256721373,"question_id":1636038,"body_markdown":"How can I get the next friday with the [Joda-Time][1] API.\r\n\r\nThe [`LocalDate`][2] of today is `today`. It looks to me you have to decide whever you are before or after the friday of the current week. See this method:\r\n\r\n\tprivate LocalDate calcNextFriday(LocalDate d) {\r\n\t\tLocalDate friday = d.dayOfWeek().setCopy(5);\r\n\t\tif (d.isBefore(friday)) {\r\n\t\t\treturn d.dayOfWeek().setCopy(5);\r\n\t\t} else {\r\n\t\t\treturn d.plusWeeks(1).dayOfWeek().setCopy(5);\r\n\t\t}\r\n\t}\r\n\r\nIs it possible to do it shorter or with a oneliner?\r\n\r\n&lt;strike&gt;PS: Please don&#39;t advise me using JDKs date/time stuff. Joda-Time is a much better API.&lt;/strike&gt;\r\n\r\nJava 8 introduces [java.time][3] package ([Tutorial][4]) which is even better.\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/\r\n  [2]: http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/datetime/","title":"Time: How to get the next friday?","body":"<p>How can I get the next friday with the <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> API.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> of today is <code>today</code>. It looks to me you have to decide whever you are before or after the friday of the current week. See this method:</p>\n\n<pre><code>private LocalDate calcNextFriday(LocalDate d) {\n    LocalDate friday = d.dayOfWeek().setCopy(5);\n    if (d.isBefore(friday)) {\n        return d.dayOfWeek().setCopy(5);\n    } else {\n        return d.plusWeeks(1).dayOfWeek().setCopy(5);\n    }\n}\n</code></pre>\n\n<p>Is it possible to do it shorter or with a oneliner?</p>\n\n<p><strike>PS: Please don't advise me using JDKs date/time stuff. Joda-Time is a much better API.</strike></p>\n\n<p>Java 8 introduces <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> package (<a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"noreferrer\">Tutorial</a>) which is even better.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1605721187,"post_id":64898249,"comment_id":114740375,"body_markdown":"Looks like you have a `module-info.java` making this a &#39;modular&#39; project which doesn&#39;t match what your course wants. Delete the module-info.java to make the project a non-modular Java project.","body":"Looks like you have a <code>module-info.java</code> making this a &#39;modular&#39; project which doesn&#39;t match what your course wants. Delete the module-info.java to make the project a non-modular Java project."}],"answers":[{"tags":[],"owner":{"account_id":16645821,"reputation":149,"user_id":12030165,"display_name":"Daniel Boehm"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605722254,"creation_date":1605721599,"answer_id":64898499,"question_id":64898249,"body_markdown":"Seems a &quot;*modul-info.java&quot; related*&quot; topic.\r\n\r\nSuggestion:\r\n\r\n - Restart Ecclipse and/or delete projects \r\n - Create a new project and when creating a new project do NOT select &quot;module-info.java&quot;\r\n - Create a package e.g. hellloworld (package.de.helloworld.chapter01)\r\n - In this package right click and create a java class (here HelloWorld)\r\n - Run this project as Java application \r\n\r\nthis should work. \r\n\r\n\r\nYou need also the main statement, you included this? :-) \r\n\r\n    package de.helloworld.chapter01;\r\n    \r\n    public class HelloWorld {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t\t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>Seems a &quot;<em>modul-info.java&quot; related</em>&quot; topic.</p>\n<p>Suggestion:</p>\n<ul>\n<li>Restart Ecclipse and/or delete projects</li>\n<li>Create a new project and when creating a new project do NOT select &quot;module-info.java&quot;</li>\n<li>Create a package e.g. hellloworld (package.de.helloworld.chapter01)</li>\n<li>In this package right click and create a java class (here HelloWorld)</li>\n<li>Run this project as Java application</li>\n</ul>\n<p>this should work.</p>\n<p>You need also the main statement, you included this? :-)</p>\n<pre><code>package de.helloworld.chapter01;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n            System.out.println(&quot;Hello World&quot;);\n            \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9088961,"reputation":1,"user_id":6765728,"display_name":"Abdul Sidibe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657816164,"creation_date":1657816164,"answer_id":72983805,"question_id":64898249,"body_markdown":"I had the same problem. I had class in default package. I deleted the class and moved it in to a new package. That fixed problem for me.","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>I had the same problem. I had class in default package. I deleted the class and moved it in to a new package. That fixed problem for me.</p>\n"},{"tags":[],"owner":{"account_id":16617272,"reputation":1,"user_id":12008536,"display_name":"Jonah Ougo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676905684,"creation_date":1676905684,"answer_id":75510979,"question_id":64898249,"body_markdown":"The following steps solved it for me;\r\n\r\n 1. Right-click on your project and select &#39;Properties&#39; at the bottom.\r\n 2. Select &#39;Java Build Path&#39; and navigate to the &#39;Libraries&#39; tab. Remove\r\n    existing libraries.\r\n 3. Add a new library by clicking on &#39;Add Library&#39; from the menu on the right. \r\n    Select &#39;JRE System Library&#39; and click &#39;Next&#39;.\r\n 4. Under &#39;System Library&#39; select &#39;Execution Environment&#39; and click\r\n    &#39;Finish&#39;. Apply all changes &amp; close.\r\n 5. Run your program now.","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>The following steps solved it for me;</p>\n<ol>\n<li>Right-click on your project and select 'Properties' at the bottom.</li>\n<li>Select 'Java Build Path' and navigate to the 'Libraries' tab. Remove\nexisting libraries.</li>\n<li>Add a new library by clicking on 'Add Library' from the menu on the right.\nSelect 'JRE System Library' and click 'Next'.</li>\n<li>Under 'System Library' select 'Execution Environment' and click\n'Finish'. Apply all changes &amp; close.</li>\n<li>Run your program now.</li>\n</ol>\n"}],"owner":{"account_id":19818957,"reputation":45,"user_id":14515988,"display_name":"Anouar Seljouki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676905684,"creation_date":1605720734,"question_id":64898249,"body_markdown":"I am using Eclipse for the first time, I just finished installing it, I typed the code below as instructed by my online course: \r\n\r\n    System.out.println(&quot;Hello World&quot;); \r\n\r\nand I got the error below : \r\n\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Error reading module: C:\\Users\\seljouki\\eclipse-workspace\\MyFirstProject\\bin\r\nCaused by: java.lang.module.InvalidModuleDescriptorException: MyClass.class found in top-level directory (unnamed package not allowed in module)\r\n","title":"Java - Eclipe IDE error - Error occurred during initialization of boot layer","body":"<p>I am using Eclipse for the first time, I just finished installing it, I typed the code below as instructed by my online course:</p>\n<pre><code>System.out.println(&quot;Hello World&quot;); \n</code></pre>\n<p>and I got the error below :</p>\n<p>Error occurred during initialization of boot layer\njava.lang.module.FindException: Error reading module: C:\\Users\\seljouki\\eclipse-workspace\\MyFirstProject\\bin\nCaused by: java.lang.module.InvalidModuleDescriptorException: MyClass.class found in top-level directory (unnamed package not allowed in module)</p>\n"},{"tags":["java","spring","transactions","spring-aop","propagation"],"owner":{"account_id":18062525,"reputation":3,"user_id":13129676,"display_name":"theUnbrakableDiamond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676905068,"creation_date":1676894252,"question_id":75508971,"body_markdown":"I have a method annotated with `@Transactional` that calls a second method annotated with `@Transactional(propagation=Propagation.REQUIRES_NEW)`, which in turn calls a third method annotated with `@Transactional`. If the third method throws an exception and it is caught and suppressed in the second method, the transaction from the first method will be rolled back. However, if the third method does not have the `@Transactional` annotation, only the transaction from the second method will be rolled back. Why  `@Transactional` affect on transaction from first method instead of new transaction from second? \r\n\r\n``` java\r\n@Service\r\nclass FirstClass {\r\n\r\n    private final SecondClass secondClass;\r\n\r\n    @Transactional\r\n    public void firstMethod() {\r\n        //... some code\r\n        secondClass.secondMethod();\r\n        //... some code\r\n    }\r\n}\r\n\r\n@Service\r\nclass SecondClass {\r\n\r\n    private final ThirdClass thirdClass;\r\n\r\n\r\n    @Transactional(Propagation.REQUIRES_NEW)\r\n    public void secondMethod() {\r\n        //... some code\r\n        try {\r\n            thirdClass.thirdMethod();\r\n            //... some code\r\n        }catch (Exception e){\r\n\r\n        }\r\n    }\r\n}\r\n\r\n@Service\r\nclass ThirdClass {\r\n\r\n    @Transactional // this transaction \r\n    public void thirdMethod() {\r\n        throw new RuntimeException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nif we rewrite third method by this way: \r\n\r\n```\r\n@Service\r\nclass ThirdClass {\r\n\r\n    public void thirdMethod() {\r\n        throw new RuntimeException();\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn this scenario, the first transaction will not be rolled back.\r\n","title":"If an exception occurs within a nested Transaction with the propagation REQUIRED_NEW, the Spring framework will perform a rollback of the transaction","body":"<p>I have a method annotated with <code>@Transactional</code> that calls a second method annotated with <code>@Transactional(propagation=Propagation.REQUIRES_NEW)</code>, which in turn calls a third method annotated with <code>@Transactional</code>. If the third method throws an exception and it is caught and suppressed in the second method, the transaction from the first method will be rolled back. However, if the third method does not have the <code>@Transactional</code> annotation, only the transaction from the second method will be rolled back. Why  <code>@Transactional</code> affect on transaction from first method instead of new transaction from second?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\nclass FirstClass {\n\n    private final SecondClass secondClass;\n\n    @Transactional\n    public void firstMethod() {\n        //... some code\n        secondClass.secondMethod();\n        //... some code\n    }\n}\n\n@Service\nclass SecondClass {\n\n    private final ThirdClass thirdClass;\n\n\n    @Transactional(Propagation.REQUIRES_NEW)\n    public void secondMethod() {\n        //... some code\n        try {\n            thirdClass.thirdMethod();\n            //... some code\n        }catch (Exception e){\n\n        }\n    }\n}\n\n@Service\nclass ThirdClass {\n\n    @Transactional // this transaction \n    public void thirdMethod() {\n        throw new RuntimeException();\n    }\n\n}\n</code></pre>\n<p>if we rewrite third method by this way:</p>\n<pre><code>@Service\nclass ThirdClass {\n\n    public void thirdMethod() {\n        throw new RuntimeException();\n    }\n\n}\n</code></pre>\n<p>In this scenario, the first transaction will not be rolled back.</p>\n"},{"tags":["java","spring","jpa","jdbctemplate","spring-jdbc"],"comments":[{"owner":{"account_id":163861,"reputation":5455,"user_id":386268,"accept_rate":95,"display_name":"Eldad Mor"},"score":2,"creation_date":1293884193,"post_id":4573975,"comment_id":5019926,"body_markdown":"One additional factor you&#39;d want to consider is standardization.","body":"One additional factor you&#39;d want to consider is standardization."}],"answers":[{"comments":[{"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"score":6,"creation_date":1293961875,"post_id":4574118,"comment_id":5025615,"body_markdown":"+1 good point about developers needing to know relational database, sql and transactions. JPA however, will allow you to treat your persistence layer as objects backed by tables and not just as tables.","body":"+1 good point about developers needing to know relational database, sql and transactions. JPA however, will allow you to treat your persistence layer as objects backed by tables and not just as tables."},{"owner":{"account_id":94689,"reputation":1109,"user_id":258387,"accept_rate":100,"display_name":"vijayakumarpsg587"},"score":0,"creation_date":1543922358,"post_id":4574118,"comment_id":94084395,"body_markdown":"@Timo I am trying to understand this with a connection pool perspective. So can a JPA have a datasource like HikarCP that has connection pooling? Or does JPA handles it on its own","body":"@Timo I am trying to understand this with a connection pool perspective. So can a JPA have a datasource like HikarCP that has connection pooling? Or does JPA handles it on its own"}],"tags":[],"owner":{"account_id":92092,"reputation":21904,"user_id":252552,"accept_rate":81,"display_name":"Timo Westk&#228;mper"},"comment_count":2,"down_vote_count":1,"up_vote_count":171,"is_accepted":true,"score":170,"last_activity_date":1293886697,"creation_date":1293886697,"answer_id":4574118,"question_id":4573975,"body_markdown":"Use Spring JdbcTemplate if you don&#39;t want to access your database schema via a domain model. Using JdbcTemplate you are using a lower level access, with more flexibility, but probably also more boilerplate.\r\n\r\nSpring JdbcTemplate can be more easily used with exotic database schemas and a stored procedure focus. Using JPA you need to make sure that database schema maps correctly to the domain model.\r\n\r\nBoth technologies need developers knowing relational databases, SQL and transactions. With JPA you get more hidden complexity though.\r\n\r\nJPA is to my knowledge more easily pluggable to data caching layers, since the object oriented focus makes cache entry identification, update and invalidation easier.\r\n\r\nYou can fine tune JdbcTemplate based backends better, but there is for most cases more code involved.\r\n\r\nSome other aspect to consider is that although with JPA you get a domain model for your database schema you will often need to use additional DTO classes. Using JdbcTemplate you can directly operate with DTO classes.","title":"JPA vs Spring JdbcTemplate","body":"<p>Use Spring JdbcTemplate if you don't want to access your database schema via a domain model. Using JdbcTemplate you are using a lower level access, with more flexibility, but probably also more boilerplate.</p>\n\n<p>Spring JdbcTemplate can be more easily used with exotic database schemas and a stored procedure focus. Using JPA you need to make sure that database schema maps correctly to the domain model.</p>\n\n<p>Both technologies need developers knowing relational databases, SQL and transactions. With JPA you get more hidden complexity though.</p>\n\n<p>JPA is to my knowledge more easily pluggable to data caching layers, since the object oriented focus makes cache entry identification, update and invalidation easier.</p>\n\n<p>You can fine tune JdbcTemplate based backends better, but there is for most cases more code involved.</p>\n\n<p>Some other aspect to consider is that although with JPA you get a domain model for your database schema you will often need to use additional DTO classes. Using JdbcTemplate you can directly operate with DTO classes.</p>\n"},{"comments":[{"owner":{"account_id":1985389,"reputation":631,"user_id":1780772,"accept_rate":80,"display_name":"Parvez"},"score":11,"creation_date":1356080474,"post_id":4574355,"comment_id":19302908,"body_markdown":"+1 for the ending statement. It is in general a decision between jdbc vs orm and not specific to JPA vs JdbcTemplate.","body":"+1 for the ending statement. It is in general a decision between jdbc vs orm and not specific to JPA vs JdbcTemplate."},{"owner":{"account_id":140044,"reputation":2757,"user_id":346057,"accept_rate":33,"display_name":"razor"},"score":2,"creation_date":1473160062,"post_id":4574355,"comment_id":66024493,"body_markdown":"what about memory footrprint ? is there any big difference between JdbcTemplate and Spring-Data-Jpa ? (with hibernate i guess)","body":"what about memory footrprint ? is there any big difference between JdbcTemplate and Spring-Data-Jpa ? (with hibernate i guess)"}],"tags":[],"owner":{"account_id":116580,"reputation":118713,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"comment_count":2,"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1480202736,"creation_date":1293892310,"answer_id":4574355,"question_id":4573975,"body_markdown":"I agree with @Timo.  The only other insight I would add/expand upon is that ORM has different semantics from pure sql access to your data.\r\n\r\nThe point of ORM is to abstract away the fact that your data is in a DB at all, as much as possible.  When you use ORM properly, all persistence operations are dealt with in one (hopefully) thin layer.  Your model objects will have little to no persistence code; the fact that you are using ORM should be invisible to your model.\r\n\r\nBecause of this, ORM is very good at making your life easy for certain types of operations, namely simple CRUD operations.  You can load your model objects, present them, update them, delete them quite easily.  It makes your life easier because when you access your data, you get model objects back, on which you can write business logic.  If you use JDBC, you will have to &#39;hydrate&#39; your object instances from the data, which can be complicated and error-prone.\r\n\r\nORM is not always the best choice.  JPA is a tool for a job, if the tool is not sufficient for the job you will want to find a better tool.  For example, I had a scenario where I had to copy an entire object graph and save a new copy of those objects.  If I had used ORM (like I tried to do), I had to load all the objects out of the DB, then copy them, then save the new objects.  I took way too long.\r\n\r\nThe better solution was simply to use jdbc based operations and &#39;insert via select&#39; sql calls to create the new rows.  It was fast, the code was simpler. \r\n\r\nThe other thing to consider is that you are comfortable with JDBC, and have deadlines, you don&#39;t have to jump on the ORM bandwagon.  The Spring JdbcTemplate classes are extremely powerful and helpful.  Sometimes the best tool for the job is the one you know.  You should familiarize yourself with ORM, but not necessarily for a project with high expectations.  There is a lot to learn and its not trivial -- really you are trading one set of complexities with another in the choice to use jdbc vs orm.  \r\n","title":"JPA vs Spring JdbcTemplate","body":"<p>I agree with @Timo.  The only other insight I would add/expand upon is that ORM has different semantics from pure sql access to your data.</p>\n\n<p>The point of ORM is to abstract away the fact that your data is in a DB at all, as much as possible.  When you use ORM properly, all persistence operations are dealt with in one (hopefully) thin layer.  Your model objects will have little to no persistence code; the fact that you are using ORM should be invisible to your model.</p>\n\n<p>Because of this, ORM is very good at making your life easy for certain types of operations, namely simple CRUD operations.  You can load your model objects, present them, update them, delete them quite easily.  It makes your life easier because when you access your data, you get model objects back, on which you can write business logic.  If you use JDBC, you will have to 'hydrate' your object instances from the data, which can be complicated and error-prone.</p>\n\n<p>ORM is not always the best choice.  JPA is a tool for a job, if the tool is not sufficient for the job you will want to find a better tool.  For example, I had a scenario where I had to copy an entire object graph and save a new copy of those objects.  If I had used ORM (like I tried to do), I had to load all the objects out of the DB, then copy them, then save the new objects.  I took way too long.</p>\n\n<p>The better solution was simply to use jdbc based operations and 'insert via select' sql calls to create the new rows.  It was fast, the code was simpler. </p>\n\n<p>The other thing to consider is that you are comfortable with JDBC, and have deadlines, you don't have to jump on the ORM bandwagon.  The Spring JdbcTemplate classes are extremely powerful and helpful.  Sometimes the best tool for the job is the one you know.  You should familiarize yourself with ORM, but not necessarily for a project with high expectations.  There is a lot to learn and its not trivial -- really you are trading one set of complexities with another in the choice to use jdbc vs orm.  </p>\n"},{"tags":[],"owner":{"account_id":250135,"reputation":2497,"user_id":526664,"accept_rate":54,"display_name":"Jason"},"comment_count":0,"down_vote_count":0,"up_vote_count":99,"is_accepted":false,"score":99,"last_activity_date":1676905025,"creation_date":1311731375,"answer_id":6838617,"question_id":4573975,"body_markdown":"I&#39;m a bit late to this post, but I tend to use JdbcTemplate over ORM.  I know SQL (pretty well) and really don&#39;t want to be &quot;abstracted&quot; away from my DB.  I find most of the time, my apps are using DB views where I push most business logic up to.  I have properly layered DAOs that have JdbcTemplate implementations.  It feels &quot;clean&quot; and most boilerplate code is hidden by JdbcTemplate (and it&#39;s online documentation seems MUCH better then ORM stuff).  The limited time I&#39;ve used something like Hibernate, I found when it worked, it save me some time...but when it wasn&#39;t working properly, it cost me days of &quot;WTF&quot; debugging.  I&#39;ve never had to spend more then 20 minutes debugging JdbcTemplate DAO impls.  I think the key, as others noted, is how comfortable you are with SQL / Schema Design\r\n\r\nEDIT in 2023 - it&#39;s been a LONG time since I posted this original answer.  Tools around ORM have come a LONG way.  Spring Data and JPA are now standard and have sensible defaults.  I have come to appreciate having compilation safety when writing SQL.  I don&#39;t think it&#39;s a matter of wrong or right....they are both tools you should have in your tool belt","title":"JPA vs Spring JdbcTemplate","body":"<p>I'm a bit late to this post, but I tend to use JdbcTemplate over ORM.  I know SQL (pretty well) and really don't want to be &quot;abstracted&quot; away from my DB.  I find most of the time, my apps are using DB views where I push most business logic up to.  I have properly layered DAOs that have JdbcTemplate implementations.  It feels &quot;clean&quot; and most boilerplate code is hidden by JdbcTemplate (and it's online documentation seems MUCH better then ORM stuff).  The limited time I've used something like Hibernate, I found when it worked, it save me some time...but when it wasn't working properly, it cost me days of &quot;WTF&quot; debugging.  I've never had to spend more then 20 minutes debugging JdbcTemplate DAO impls.  I think the key, as others noted, is how comfortable you are with SQL / Schema Design</p>\n<p>EDIT in 2023 - it's been a LONG time since I posted this original answer.  Tools around ORM have come a LONG way.  Spring Data and JPA are now standard and have sensible defaults.  I have come to appreciate having compilation safety when writing SQL.  I don't think it's a matter of wrong or right....they are both tools you should have in your tool belt</p>\n"},{"comments":[{"owner":{"account_id":296495,"reputation":17580,"user_id":601493,"accept_rate":73,"display_name":"Jan Zyka"},"score":21,"creation_date":1408350702,"post_id":13887402,"comment_id":39539789,"body_markdown":"Should the line in `getSomeReport()` be `this.jdbcTemplate. ...` rather than `this.entityManager. ...` ?","body":"Should the line in <code>getSomeReport()</code> be <code>this.jdbcTemplate. ...</code> rather than <code>this.entityManager. ...</code> ?"},{"owner":{"account_id":287674,"reputation":2988,"user_id":587641,"accept_rate":42,"display_name":"xtian"},"score":0,"creation_date":1483908314,"post_id":13887402,"comment_id":70280564,"body_markdown":"How do you declare the JdbcTemplate bean when not using XML but just annotations? It is not done automagically by Spring: I get NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.jdbc.core.JdbcTemplate] found","body":"How do you declare the JdbcTemplate bean when not using XML but just annotations? It is not done automagically by Spring: I get NoSuchBeanDefinitionException: No qualifying bean of type [org.springframework.jdbc.core.JdbcTemplate] found"}],"tags":[],"owner":{"account_id":195439,"reputation":60926,"user_id":438319,"accept_rate":73,"display_name":"ams"},"comment_count":2,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1580532225,"creation_date":1355525842,"answer_id":13887402,"question_id":4573975,"body_markdown":"It is not mentioned in the other answers but it is fine to use both. In my App I use JPA and JdbcTemplate, for crud type operations I use JPA but for reporting or where it is easier I use jdbcTemplate. \r\n\r\n    @Repository\r\n    public class FooRepository\r\n    {\r\n    \t@PersistenceContext\r\n    \tprivate EntityManager entityManager;\r\n    \r\n    \t@Autowired(required = true)\r\n    \tprivate JdbcTemplate jdbcTemplate;\r\n           \r\n        public void saveFoo(Foo foo)\r\n        {\r\n             this.entityManager.persist(foo);\r\n        }\r\n\r\n        public List&lt;SomeReportPojo&gt; getSomeReport()\r\n        {\r\n             return this.jdbcTemplate.queryForList(&quot;SELECT .. &quot;,SomeProjectPojo.class); \r\n        }\r\n    }\r\n\r\nThe great thing about Spring is that the exception translation from JPA exceptions to spring Dao exception hierarchy works with both JPA and jdbcTemplate. So use JPA when it makes sense and jdbcTemplate when it makes sense.","title":"JPA vs Spring JdbcTemplate","body":"<p>It is not mentioned in the other answers but it is fine to use both. In my App I use JPA and JdbcTemplate, for crud type operations I use JPA but for reporting or where it is easier I use jdbcTemplate. </p>\n\n<pre><code>@Repository\npublic class FooRepository\n{\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Autowired(required = true)\n    private JdbcTemplate jdbcTemplate;\n\n    public void saveFoo(Foo foo)\n    {\n         this.entityManager.persist(foo);\n    }\n\n    public List&lt;SomeReportPojo&gt; getSomeReport()\n    {\n         return this.jdbcTemplate.queryForList(\"SELECT .. \",SomeProjectPojo.class); \n    }\n}\n</code></pre>\n\n<p>The great thing about Spring is that the exception translation from JPA exceptions to spring Dao exception hierarchy works with both JPA and jdbcTemplate. So use JPA when it makes sense and jdbcTemplate when it makes sense.</p>\n"},{"comments":[{"owner":{"account_id":1157552,"reputation":539,"user_id":1137763,"accept_rate":50,"display_name":"qizer"},"score":5,"creation_date":1539327271,"post_id":21949916,"comment_id":92469625,"body_markdown":"Good day,\nCould you please clarify &#39;hibernate jdbctemplate&#39;, what does it mean? Combination of Hibernate and Spring JDBCTemplate or something else?","body":"Good day, Could you please clarify &#39;hibernate jdbctemplate&#39;, what does it mean? Combination of Hibernate and Spring JDBCTemplate or something else?"}],"tags":[],"owner":{"account_id":3768313,"reputation":59,"user_id":3131171,"display_name":"user3131171"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1393045195,"creation_date":1393045195,"answer_id":21949916,"question_id":4573975,"body_markdown":"At work we use Hibernate JDBCTemplate because it has more flexibility. It also has better performance than JPA because you are not &quot;loading&quot; a lot of unnecessary data into your app.  \r\nIn the JDBCTemplate case, your SQL skills go a long way in giving you exactly what you need at the right speed.","title":"JPA vs Spring JdbcTemplate","body":"<p>At work we use Hibernate JDBCTemplate because it has more flexibility. It also has better performance than JPA because you are not \"loading\" a lot of unnecessary data into your app.<br>\nIn the JDBCTemplate case, your SQL skills go a long way in giving you exactly what you need at the right speed.</p>\n"}],"owner":{"account_id":75366,"reputation":16993,"user_id":216222,"display_name":"aem999"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104958,"favorite_count":0,"down_vote_count":1,"up_vote_count":109,"closed_date":1578675347,"accepted_answer_id":4574118,"answer_count":5,"score":108,"last_activity_date":1676905025,"creation_date":1293883104,"question_id":4573975,"body_markdown":"For a new project is JPA always the recommended tool for handling relational data or are there scenarios where Spring JdbcTemplate is a better choice? Some factors to consider in your response:\r\n\r\n - new database schema vs pre-existing schema and tables\r\n - level of developer expertise\r\n - ease with which can integrate with a data caching layer\r\n - performance\r\n - any other relevant factors to consider?\r\n\r\n \r\n\r\n\r\n\r\n","title":"JPA vs Spring JdbcTemplate","body":"<p>For a new project is JPA always the recommended tool for handling relational data or are there scenarios where Spring JdbcTemplate is a better choice? Some factors to consider in your response:</p>\n\n<ul>\n<li>new database schema vs pre-existing schema and tables</li>\n<li>level of developer expertise</li>\n<li>ease with which can integrate with a data caching layer</li>\n<li>performance</li>\n<li>any other relevant factors to consider?</li>\n</ul>\n"},{"tags":["java","pact"],"owner":{"account_id":19703482,"reputation":11,"user_id":14425727,"display_name":"Yucel C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676904895,"creation_date":1646165615,"question_id":71314140,"body_markdown":"I&#39;m trying to write a simple pact test but I always get connection refused when I call the endpoint in runTest. It looks like PactProviderRuleMk2 can&#39;t do its job right.\r\n\r\n    public class ConsumerTestCurrencyExchange {\r\n\r\n\t@Rule\r\n\tpublic PactProviderRuleMk2 mockProvider = new PactProviderRuleMk2(&quot;forexService&quot;, &quot;localhost&quot;, 8003, this);\r\n\r\n\t@Pact(consumer = &quot;forexServiceClient&quot;)\r\n\tpublic RequestResponsePact createPact(PactDslWithProvider builder) {\r\n\t\tMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n\t\theaders.put(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\r\n\r\n\t\treturn builder\r\n\t\t\t\t.given(&quot;Test 1 For Currency Exchange&quot;)\r\n\t\t\t\t\t.uponReceiving(&quot;Pact JVM example Pact interaction&quot;)\r\n\t\t\t\t\t.path(&quot;/api/currency-exchange/from/USD/to/EUR&quot;)\r\n\t\t\t\t\t.method(&quot;GET&quot;)\r\n\t\t\t\t\t.headers(headers)\r\n\t\t\t\t.willRespondWith()\r\n\t\t\t\t\t.status(200)\r\n\t\t\t\t\t.headers(headers)\r\n\t\t\t\t\t.body(new PactDslJsonBody().stringType(&quot;conversionMultiple&quot;, &quot;2&quot;).asBody())\r\n\t\t\t\t.toPact();\r\n\t}\r\n\r\n\t@Test\r\n\t@PactVerification()\r\n\tpublic void runTest() throws IOException, JSONException {\r\n\t\tSystem.setProperty(&quot;pact.rootDir&quot;, &quot;../pacts&quot;);\r\n\t\t\r\n        // Connection refused here\r\n\t\tHttpResponse response = Request.Get(&quot;http://localhost:8003/api/currency-exchange/from/USD/to/EUR&quot;).execute().returnResponse();\r\n\t\t\r\n\t\t\r\n\t\tString json = EntityUtils.toString(response.getEntity());\r\n\t\tJSONObject jsonObject = new JSONObject(json);\r\n\t\tString conversionMultiple = jsonObject.get(&quot;conversionMultiple&quot;).toString();\r\n\r\n\t\tassertEquals(conversionMultiple, &quot;2&quot;);\r\n\t}}\r\n\r\n\r\n\r\nHere is the stack trace:\r\n\r\n    org.apache.http.conn.HttpHostConnectException: Connect to localhost:8003 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat org.apache.http.client.fluent.Request.internalExecute(Request.java:173)\r\n\tat org.apache.http.client.fluent.Request.execute(Request.java:177)\r\n\r\nDependency:(I tried different versions but the result is same)\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;au.com.dius&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;pact-jvm-consumer-junit_2.12&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.10&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;","title":"Pact Consumer Test Connection Refused","body":"<p>I'm trying to write a simple pact test but I always get connection refused when I call the endpoint in runTest. It looks like PactProviderRuleMk2 can't do its job right.</p>\n<pre><code>public class ConsumerTestCurrencyExchange {\n\n@Rule\npublic PactProviderRuleMk2 mockProvider = new PactProviderRuleMk2(&quot;forexService&quot;, &quot;localhost&quot;, 8003, this);\n\n@Pact(consumer = &quot;forexServiceClient&quot;)\npublic RequestResponsePact createPact(PactDslWithProvider builder) {\n    Map&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n    headers.put(&quot;Content-Type&quot;, &quot;application/json;charset=UTF-8&quot;);\n\n    return builder\n            .given(&quot;Test 1 For Currency Exchange&quot;)\n                .uponReceiving(&quot;Pact JVM example Pact interaction&quot;)\n                .path(&quot;/api/currency-exchange/from/USD/to/EUR&quot;)\n                .method(&quot;GET&quot;)\n                .headers(headers)\n            .willRespondWith()\n                .status(200)\n                .headers(headers)\n                .body(new PactDslJsonBody().stringType(&quot;conversionMultiple&quot;, &quot;2&quot;).asBody())\n            .toPact();\n}\n\n@Test\n@PactVerification()\npublic void runTest() throws IOException, JSONException {\n    System.setProperty(&quot;pact.rootDir&quot;, &quot;../pacts&quot;);\n    \n    // Connection refused here\n    HttpResponse response = Request.Get(&quot;http://localhost:8003/api/currency-exchange/from/USD/to/EUR&quot;).execute().returnResponse();\n    \n    \n    String json = EntityUtils.toString(response.getEntity());\n    JSONObject jsonObject = new JSONObject(json);\n    String conversionMultiple = jsonObject.get(&quot;conversionMultiple&quot;).toString();\n\n    assertEquals(conversionMultiple, &quot;2&quot;);\n}}\n</code></pre>\n<p>Here is the stack trace:</p>\n<pre><code>org.apache.http.conn.HttpHostConnectException: Connect to localhost:8003 [localhost/127.0.0.1, localhost/0:0:0:0:0:0:0:1] failed: Connection refused: connect\nat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156)\nat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376)\nat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393)\nat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236)\nat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\nat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\nat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\nat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\nat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\nat org.apache.http.client.fluent.Request.internalExecute(Request.java:173)\nat org.apache.http.client.fluent.Request.execute(Request.java:177)\n</code></pre>\n<p>Dependency:(I tried different versions but the result is same)</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;au.com.dius&lt;/groupId&gt;\n        &lt;artifactId&gt;pact-jvm-consumer-junit_2.12&lt;/artifactId&gt;\n        &lt;version&gt;3.5.10&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676855711,"post_id":75504469,"comment_id":133215927,"body_markdown":"But please, answering this be patient, im kinda new to Java and Android and some short and simple explanation may just confuse me:)","body":"But please, answering this be patient, im kinda new to Java and Android and some short and simple explanation may just confuse me:)"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1676867144,"post_id":75504469,"comment_id":133217208,"body_markdown":"what is the error message you see in log","body":"what is the error message you see in log"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676899347,"post_id":75504469,"comment_id":133224496,"body_markdown":"Null exception i guess","body":"Null exception i guess"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1676902018,"post_id":75504469,"comment_id":133225317,"body_markdown":"guess?, sir please copy paste the error you see in Logcat","body":"guess?, sir please copy paste the error you see in Logcat"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676903782,"post_id":75504469,"comment_id":133225909,"body_markdown":"Was from phone, sorry. There is actual log item:\n`java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{ae0c997 11188:com.example.myapplication/u0a121} (pid=11188, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs`\n\nSeems to be permission problem. Trying to work around, but still the same. \n\nInteresting thing - when i create my object first time and access virtual machine item (screenshot) - it works fine and opens on all entities, but on reload it crashes while try to open","body":"Was from phone, sorry. There is actual log item: <code>java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{ae0c997 11188:com.example.myapplication&#47;u0a121} (pid=11188, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs</code>  Seems to be permission problem. Trying to work around, but still the same.   Interesting thing - when i create my object first time and access virtual machine item (screenshot) - it works fine and opens on all entities, but on reload it crashes while try to open"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1676904655,"post_id":75504469,"comment_id":133226206,"body_markdown":"check out https://stackoverflow.com/questions/46916992/having-trouble-implementing-action-open-document-to-my-project","body":"check out <a href=\"https://stackoverflow.com/questions/46916992/having-trouble-implementing-action-open-document-to-my-project\" title=\"having trouble implementing action open document to my project\">stackoverflow.com/questions/46916992/&hellip;</a>"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1676906060,"post_id":75504469,"comment_id":133226613,"body_markdown":"@Dilshad \nI&#39;ve checked this question and the solution were so close, but when i paste code it not works (some of the entities are cannot be loaded as classes, etc.). \n\nIm not understanding what intent is, what context is, etc. I&#39;m few days in android developement and trying to do some very common things, that becomes huge mess. \n\nHow do i ask user to give permissions? Is there any simple solution? Like for example when you first open an app - it asks for 5-6 permissions needed. Maybe you know the solution? Please :)","body":"@Dilshad  I&#39;ve checked this question and the solution were so close, but when i paste code it not works (some of the entities are cannot be loaded as classes, etc.).   Im not understanding what intent is, what context is, etc. I&#39;m few days in android developement and trying to do some very common things, that becomes huge mess.   How do i ask user to give permissions? Is there any simple solution? Like for example when you first open an app - it asks for 5-6 permissions needed. Maybe you know the solution? Please :)"},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1677033773,"post_id":75504469,"comment_id":133256207,"body_markdown":"if you are a beginner i would say you should move to Kotlin instead of Java and write UI in Jetpack Compose","body":"if you are a beginner i would say you should move to Kotlin instead of Java and write UI in Jetpack Compose"},{"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"score":0,"creation_date":1677072661,"post_id":75504469,"comment_id":133264855,"body_markdown":"@Dilshad Kotlin have like 5% of the Java support. Java is widely represented in internet, every of my issues are already appear somewhere and solved. Kotlin has nothing of that. But thanks for advice.","body":"@Dilshad Kotlin have like 5% of the Java support. Java is widely represented in internet, every of my issues are already appear somewhere and solved. Kotlin has nothing of that. But thanks for advice."},{"owner":{"account_id":24083930,"reputation":107,"user_id":18058213,"display_name":"Dilshad"},"score":0,"creation_date":1677129504,"post_id":75504469,"comment_id":133277883,"body_markdown":"sorry for discussing off-topic from your question. Java is just older but Kotlin is way functional for android. I never felt lack of resources in internet for Kotlin in my journey. there is nothing wrong using java for android but your gonna miss lot of things especially writing UI in Compose and KMM.","body":"sorry for discussing off-topic from your question. Java is just older but Kotlin is way functional for android. I never felt lack of resources in internet for Kotlin in my journey. there is nothing wrong using java for android but your gonna miss lot of things especially writing UI in Compose and KMM."}],"owner":{"account_id":27805595,"reputation":23,"user_id":21236434,"display_name":"PewPew01"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676904874,"creation_date":1676855615,"question_id":75504469,"body_markdown":"Im trying to do the next:\r\n1. Find image from device and add it to programm (done!)\r\n2. Store image URI to string and save it to .txt file (done!)\r\n3. Extract URI from .txt file (done!)\r\n4. Open a dialog window to show the image on click - and there is a problem - i&#39;ve tryied everything i found on google and stack overflow - both methods does not work - drawable returns no image (drawable = null), and setImageURI crashes the application.\r\nDebugger shows something like that:\r\n\r\n`content://com.android.providers.media.documents/document/image%3A31`\r\n\r\ncode:\r\n```\r\n\r\npublic Dialog onCreateDialog(Bundle savedInstanceState) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n        LayoutInflater inflater = getActivity().getLayoutInflater();\r\n        View view = inflater.inflate(R.layout.pop_up_add_item, null);\r\n        final Button btn=view.findViewById(R.id.test);\r\n        imgg=view.findViewById(R.id.img);\r\n        String str_tooltip=getArguments().getString(&quot;Entity&quot;);\r\n        String main_str=getArguments().getString(&quot;Original&quot;);\r\n        String str_adress=getArguments().getString(&quot;Uri&quot;);\r\n        Uri uri = Uri.parse(str_adress);\r\n\r\n        //imgg.setI(uri);\r\n\r\n\r\n        if (str_adress!=null &amp; str_adress.length()&gt;0) {\r\n            final Uri uri1 = Uri.parse(str_adress);\r\n            //final String path = uri.getPath();\r\n            //File drawableFile = new     File(getApplicationContext().getFilesDir().getAbsolutePath()+&quot;/into11.png&quot;);\r\n            //final Drawable drawable = Drawable.createFromPath(path);\r\n\r\n            imgg.setImageURI(uri);\r\n\r\n        } \r\n```\r\n\r\n\r\nIs there any solution on this? Probably common problem? \r\n\r\n**UPDATE**\r\n\r\nAfter tried all the available options eventually (thanks to sir @Dilshad) i&#39;ve found that the trouble is caused by `java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{1a24ed9 11931:com.example.myapplication/u0a121} (pid=11931, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs` --&gt; Permission issue. \r\n\r\nSo, trying to solve it i added:\r\n```\r\n &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\r\n```\r\nin AndroidManifest\r\n\r\nand \r\n`int result = ContextCompat.checkSelfPermission(takeThis, android.Manifest.permission.READ_EXTERNAL_STORAGE);`\r\nin the place in the code where the access begins.\r\n\r\nBut till the moment problem is not solved. \r\n","title":"Java.lang.SecurityException: Permission Denial - how to solve?","body":"<p>Im trying to do the next:</p>\n<ol>\n<li>Find image from device and add it to programm (done!)</li>\n<li>Store image URI to string and save it to .txt file (done!)</li>\n<li>Extract URI from .txt file (done!)</li>\n<li>Open a dialog window to show the image on click - and there is a problem - i've tryied everything i found on google and stack overflow - both methods does not work - drawable returns no image (drawable = null), and setImageURI crashes the application.\nDebugger shows something like that:</li>\n</ol>\n<p><code>content://com.android.providers.media.documents/document/image%3A31</code></p>\n<p>code:</p>\n<pre><code>\npublic Dialog onCreateDialog(Bundle savedInstanceState) {\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n        LayoutInflater inflater = getActivity().getLayoutInflater();\n        View view = inflater.inflate(R.layout.pop_up_add_item, null);\n        final Button btn=view.findViewById(R.id.test);\n        imgg=view.findViewById(R.id.img);\n        String str_tooltip=getArguments().getString(&quot;Entity&quot;);\n        String main_str=getArguments().getString(&quot;Original&quot;);\n        String str_adress=getArguments().getString(&quot;Uri&quot;);\n        Uri uri = Uri.parse(str_adress);\n\n        //imgg.setI(uri);\n\n\n        if (str_adress!=null &amp; str_adress.length()&gt;0) {\n            final Uri uri1 = Uri.parse(str_adress);\n            //final String path = uri.getPath();\n            //File drawableFile = new     File(getApplicationContext().getFilesDir().getAbsolutePath()+&quot;/into11.png&quot;);\n            //final Drawable drawable = Drawable.createFromPath(path);\n\n            imgg.setImageURI(uri);\n\n        } \n</code></pre>\n<p>Is there any solution on this? Probably common problem?</p>\n<p><strong>UPDATE</strong></p>\n<p>After tried all the available options eventually (thanks to sir @Dilshad) i've found that the trouble is caused by <code>java.lang.SecurityException: Permission Denial: opening provider com.android.providers.media.MediaDocumentsProvider from ProcessRecord{1a24ed9 11931:com.example.myapplication/u0a121} (pid=11931, uid=10121) requires that you obtain access using ACTION_OPEN_DOCUMENT or related APIs</code> --&gt; Permission issue.</p>\n<p>So, trying to solve it i added:</p>\n<pre><code> &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; tools:ignore=&quot;ScopedStorage&quot;/&gt;\n</code></pre>\n<p>in AndroidManifest</p>\n<p>and\n<code>int result = ContextCompat.checkSelfPermission(takeThis, android.Manifest.permission.READ_EXTERNAL_STORAGE);</code>\nin the place in the code where the access begins.</p>\n<p>But till the moment problem is not solved.</p>\n"},{"tags":["java","spring","jackson","quarkus","jsonb-api"],"answers":[{"comments":[{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1676904037,"post_id":70447343,"comment_id":133225997,"body_markdown":"The imported class is `com.fasterxml.jackson.annotation.JsonView` right? Then it&#39;s from Jackson, not Jsonb right?","body":"The imported class is <code>com.fasterxml.jackson.annotation.JsonView</code> right? Then it&#39;s from Jackson, not Jsonb right?"}],"tags":[],"owner":{"account_id":23718674,"reputation":11,"user_id":17739504,"display_name":"Matteo Aliffi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640167740,"creation_date":1640167740,"answer_id":70447343,"question_id":63726364,"body_markdown":"Quarkus supports usage of JsonViews to manage the serialization/deserialization of request/response.\r\n\r\n(Just to let you know, sadly it&#39;s not supported (yet) by smallry-openapi implementation, so even if the serialization would work, you&#39;ll still see the full model in swagger.)\r\n\r\nAn example of usage, taken from official guide https://quarkus.io/guides/resteasy-reactive#jsonview-support:\r\n\r\nJAX-RS methods can be annotated with `@JsonView` in order to customize the serialization of the returned POJO, on a per method-basis. This is best explained with an example.\r\n\r\nA typical use of `@JsonView` is to hide certain fields on certain methods. In that vein, let’s define two views:\r\n\r\n```java\r\npublic class Views {\r\n\r\n    public static class Public {\r\n    }\r\n\r\n    public static class Private extends Public {\r\n    }\r\n}\r\n```\r\nLet’s assume we have the User POJO on which we want to hide some field during serialization. A simple example of this is:\r\n\r\n```java\r\npublic class User {\r\n\r\n    @JsonView(Views.Private.class)\r\n    public int id;\r\n\r\n    @JsonView(Views.Public.class)\r\n    public String name;\r\n}\r\n```\r\nDepending on the JAX-RS method that returns this user, we might want to exclude the id field from serialization - for example you might want an insecure method to not expose this field. The way we can achieve that in RESTEasy Reactive is shown in the following example:\r\n\r\n```java\r\n@JsonView(Views.Public.class)\r\n@GET\r\n@Path(&quot;/public&quot;)\r\npublic User userPublic() {\r\n    return testUser();\r\n}\r\n\r\n@JsonView(Views.Private.class)\r\n@GET\r\n@Path(&quot;/private&quot;)\r\npublic User userPrivate() {\r\n    return testUser();\r\n}\r\n```\r\nWhen the result the userPublic method is serialized, the id field will not be contained in the response as the Public view does not include it. The result of userPrivate however will include the id as expected when serialized.\r\n\r\n","title":"Is there an equivalent of Jackson + Spring&#39;s `@JsonView` using Quarkus + JSONB?","body":"<p>Quarkus supports usage of JsonViews to manage the serialization/deserialization of request/response.</p>\n<p>(Just to let you know, sadly it's not supported (yet) by smallry-openapi implementation, so even if the serialization would work, you'll still see the full model in swagger.)</p>\n<p>An example of usage, taken from official guide <a href=\"https://quarkus.io/guides/resteasy-reactive#jsonview-support\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/resteasy-reactive#jsonview-support</a>:</p>\n<p>JAX-RS methods can be annotated with <code>@JsonView</code> in order to customize the serialization of the returned POJO, on a per method-basis. This is best explained with an example.</p>\n<p>A typical use of <code>@JsonView</code> is to hide certain fields on certain methods. In that vein, let’s define two views:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Views {\n\n    public static class Public {\n    }\n\n    public static class Private extends Public {\n    }\n}\n</code></pre>\n<p>Let’s assume we have the User POJO on which we want to hide some field during serialization. A simple example of this is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n\n    @JsonView(Views.Private.class)\n    public int id;\n\n    @JsonView(Views.Public.class)\n    public String name;\n}\n</code></pre>\n<p>Depending on the JAX-RS method that returns this user, we might want to exclude the id field from serialization - for example you might want an insecure method to not expose this field. The way we can achieve that in RESTEasy Reactive is shown in the following example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonView(Views.Public.class)\n@GET\n@Path(&quot;/public&quot;)\npublic User userPublic() {\n    return testUser();\n}\n\n@JsonView(Views.Private.class)\n@GET\n@Path(&quot;/private&quot;)\npublic User userPrivate() {\n    return testUser();\n}\n</code></pre>\n<p>When the result the userPublic method is serialized, the id field will not be contained in the response as the Public view does not include it. The result of userPrivate however will include the id as expected when serialized.</p>\n"},{"tags":[],"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676904270,"creation_date":1676904270,"answer_id":75510718,"question_id":63726364,"body_markdown":"Have you checked `@JsonbVisibility` or &quot;Jsonb adapter&quot; part in \r\n https://javaee.github.io/jsonb-spec/users-guide.html  annotation from Jsonb? I am afraid maybe there isn&#39;t a solution in Jsonb yet like `@JsonView` in Jackson. Jsonb adapter is configuration at bean level(you choose the Jsonb instance when you (de)serialize), not at view level.  ","title":"Is there an equivalent of Jackson + Spring&#39;s `@JsonView` using Quarkus + JSONB?","body":"<p>Have you checked <code>@JsonbVisibility</code> or &quot;Jsonb adapter&quot; part in\n<a href=\"https://javaee.github.io/jsonb-spec/users-guide.html\" rel=\"nofollow noreferrer\">https://javaee.github.io/jsonb-spec/users-guide.html</a>  annotation from Jsonb? I am afraid maybe there isn't a solution in Jsonb yet like <code>@JsonView</code> in Jackson. Jsonb adapter is configuration at bean level(you choose the Jsonb instance when you (de)serialize), not at view level.</p>\n"}],"owner":{"account_id":1096096,"reputation":745,"user_id":1089668,"accept_rate":60,"display_name":"zambotn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75510718,"answer_count":2,"score":1,"last_activity_date":1676904270,"creation_date":1599145246,"question_id":63726364,"body_markdown":"I&#39;m playing with Quarkus and trying to build a CRUD REST application; I&#39;m trying to get 2 endpoints returning 2 different views of the same entities. Here is an example on how I would have done in Spring + Jackson:\r\n\r\n    @Entity\r\n    public class Car{\r\n      public String model;\r\n      @ManyToOne( fetch = FetchType.LAZY, cascade = {CascadeType.ALL})\r\n      public Owner owner;\r\n      // [...]\r\n    }\r\n    \r\n    @Entity\r\n    public class Owner{\r\n      public String name;\r\n      // [...]\r\n    }\r\n\r\n**Here it is the important part:** now if I were using Jackson I would have create a `CarView` class:\r\n\r\n    public class CarView {\r\n      public static class Public {};\r\n      public static class Private extends Public {};\r\n    }\r\n\r\nAnd with that I would have annotated `Car.model` with `@JsonView(CarView.Public.class)` and `Car.owner` with `@JsonView(CarView.Private.class)` and then just annotate with the same annotations my methods in the REST controller in order to tell Jackson which view I want to use:\r\n\r\n    @RequestMapping(&quot;/car/{id}&quot;)\r\n    @JsonView(CarView.Public.class)\r\n    public Car getPublic(@PathVariable int id) { /*...*/ }\r\n    \r\n    @RequestMapping(&quot;/car/private/{id}&quot;)\r\n    @JsonView(CarView.Private.class)\r\n    public Car getPrivate(@PathVariable int id) { /*...*/ }\r\n\r\nCan I accomplish the same result using Quarkus &amp; JSON-B?","title":"Is there an equivalent of Jackson + Spring&#39;s `@JsonView` using Quarkus + JSONB?","body":"<p>I'm playing with Quarkus and trying to build a CRUD REST application; I'm trying to get 2 endpoints returning 2 different views of the same entities. Here is an example on how I would have done in Spring + Jackson:</p>\n<pre><code>@Entity\npublic class Car{\n  public String model;\n  @ManyToOne( fetch = FetchType.LAZY, cascade = {CascadeType.ALL})\n  public Owner owner;\n  // [...]\n}\n\n@Entity\npublic class Owner{\n  public String name;\n  // [...]\n}\n</code></pre>\n<p><strong>Here it is the important part:</strong> now if I were using Jackson I would have create a <code>CarView</code> class:</p>\n<pre><code>public class CarView {\n  public static class Public {};\n  public static class Private extends Public {};\n}\n</code></pre>\n<p>And with that I would have annotated <code>Car.model</code> with <code>@JsonView(CarView.Public.class)</code> and <code>Car.owner</code> with <code>@JsonView(CarView.Private.class)</code> and then just annotate with the same annotations my methods in the REST controller in order to tell Jackson which view I want to use:</p>\n<pre><code>@RequestMapping(&quot;/car/{id}&quot;)\n@JsonView(CarView.Public.class)\npublic Car getPublic(@PathVariable int id) { /*...*/ }\n\n@RequestMapping(&quot;/car/private/{id}&quot;)\n@JsonView(CarView.Private.class)\npublic Car getPrivate(@PathVariable int id) { /*...*/ }\n</code></pre>\n<p>Can I accomplish the same result using Quarkus &amp; JSON-B?</p>\n"},{"tags":["java","spring","runtime-error","vaadin","jrebel"],"comments":[{"owner":{"account_id":19520479,"reputation":76,"user_id":14282486,"display_name":"Jonathan"},"score":0,"creation_date":1676905247,"post_id":75510698,"comment_id":133226391,"body_markdown":"Have you tried running in in another IDE like Eclipse? And what happens if you reinstall Intellij?","body":"Have you tried running in in another IDE like Eclipse? And what happens if you reinstall Intellij?"},{"owner":{"account_id":3837378,"reputation":35488,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1676905992,"post_id":75510698,"comment_id":133226595,"body_markdown":"What _exactly_ do you mean by &quot;web program&quot;.  Are you talking about code\nthat resides usually in the frontend folder (e.g. js/ts/...) or code on\nthe JVM side (e.g. java/...)? What build tool are you using, how do you\nrecompile.  Have you tried removing elements of the equation?  What\nhappens when you compile/run the application from the CLI (outside of\nIDEA)?  Does the used build tool allow to ramp up logging (e.g. `gradle\n-d` shows excessive debug logging). When you say you _looked_ at the\nchanges in git, have you actually tried to `git bisect`?","body":"What <i>exactly</i> do you mean by &quot;web program&quot;.  Are you talking about code that resides usually in the frontend folder (e.g. js/ts/...) or code on the JVM side (e.g. java/...)? What build tool are you using, how do you recompile.  Have you tried removing elements of the equation?  What happens when you compile/run the application from the CLI (outside of IDEA)?  Does the used build tool allow to ramp up logging (e.g. <code>gradle -d</code> shows excessive debug logging). When you say you <i>looked</i> at the changes in git, have you actually tried to <code>git bisect</code>?"},{"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"score":0,"creation_date":1676961092,"post_id":75510698,"comment_id":133236997,"body_markdown":"Im using Vaadin to build web programs without javascript or HTML, moreover only with java. Vaadin automatically compiles the code from java in javascript and HTML, so i only have to code on the JVM side. I use JRebel to build the program, but if i deactivate it, it also doesnt work. I already tried to remove all changes since the last commit, but it still doesnt work.","body":"Im using Vaadin to build web programs without javascript or HTML, moreover only with java. Vaadin automatically compiles the code from java in javascript and HTML, so i only have to code on the JVM side. I use JRebel to build the program, but if i deactivate it, it also doesnt work. I already tried to remove all changes since the last commit, but it still doesnt work."}],"owner":{"account_id":27518510,"reputation":91,"user_id":20999057,"display_name":"Ji Lin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676904114,"creation_date":1676904114,"question_id":75510698,"body_markdown":"Im using Intellij, Vaadin, Spring and JRebel.\r\n\r\nI didnt made any changes on my program, but since today my program doesnt work normal anymore. If i try to make any code changes through IntelliJ, normally, JRebel is going to refresh the Website automatically, but since today there is no refresh anymore. If i try to restart the Program, the Website looks just the same like before the code changes, i dont know why, but dont matter what i change, even if i delete all the code and restart the program, its working, but only with the older version and without any changes.\r\nI already tried to delete the &quot;generated&quot; and &quot;node_modules&quot; file, restart the PC, invalidating the caches, restarting the IDE or using the program without JRebel, but no matter what i do, i dont get any changes on the webprogramm, it seems like the file is frozen and Intellij doenst do any code changes to it, if i change the code.\r\nI updated IntelliJ to the newest version, but it still doesnt work and i dont have any idea now.\r\n\r\nSome Weird things happened:&lt;br&gt;\r\nIf i change the code, so there is an Error in the code and i recompile and restart the program, the terminal doesnt show any error.&lt;br&gt;\r\nIf i delete the generated and the node_modules file and restart the program, then oddly, all code changes are applied, but only one time. If i try to make any code changes, there is no change at all, only if i delete the files.&lt;br&gt;\r\nIf i make code changes and save them and then restart the pc, there is no change after restart the programm, like the program is locked on a special version and any code change on it, even when saving, doesnt get applied.\r\n\r\nDoes anybody have the same problem or any idea how i can fix this?\r\nI use git and looked up, if i made any changes, which can impair the program, but i dindt find any.\r\n","title":"Changes in Intellij doesnt have any affect on the web program","body":"<p>Im using Intellij, Vaadin, Spring and JRebel.</p>\n<p>I didnt made any changes on my program, but since today my program doesnt work normal anymore. If i try to make any code changes through IntelliJ, normally, JRebel is going to refresh the Website automatically, but since today there is no refresh anymore. If i try to restart the Program, the Website looks just the same like before the code changes, i dont know why, but dont matter what i change, even if i delete all the code and restart the program, its working, but only with the older version and without any changes.\nI already tried to delete the &quot;generated&quot; and &quot;node_modules&quot; file, restart the PC, invalidating the caches, restarting the IDE or using the program without JRebel, but no matter what i do, i dont get any changes on the webprogramm, it seems like the file is frozen and Intellij doenst do any code changes to it, if i change the code.\nI updated IntelliJ to the newest version, but it still doesnt work and i dont have any idea now.</p>\n<p>Some Weird things happened:<br>\nIf i change the code, so there is an Error in the code and i recompile and restart the program, the terminal doesnt show any error.<br>\nIf i delete the generated and the node_modules file and restart the program, then oddly, all code changes are applied, but only one time. If i try to make any code changes, there is no change at all, only if i delete the files.<br>\nIf i make code changes and save them and then restart the pc, there is no change after restart the programm, like the program is locked on a special version and any code change on it, even when saving, doesnt get applied.</p>\n<p>Does anybody have the same problem or any idea how i can fix this?\nI use git and looked up, if i made any changes, which can impair the program, but i dindt find any.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1676904262,"post_id":75510686,"comment_id":133226066,"body_markdown":"Nope. https://www.jetbrains.com/help/idea/working-with-the-ide-features-from-command-line.html#arguments Absolute path only","body":"Nope. <a href=\"https://www.jetbrains.com/help/idea/working-with-the-ide-features-from-command-line.html#arguments\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/&hellip;</a> Absolute path only"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1676949763,"post_id":75510686,"comment_id":133235490,"body_markdown":"No, you may try the [Searching Everywhere](https://www.jetbrains.com/help/idea/searching-everywhere.html) in IDEA for your use case. @Michael Relative path should be ok here too (e.g. `idea64.exe sample.txt`).","body":"No, you may try the <a href=\"https://www.jetbrains.com/help/idea/searching-everywhere.html\" rel=\"nofollow noreferrer\">Searching Everywhere</a> in IDEA for your use case. @Michael Relative path should be ok here too (e.g. <code>idea64.exe sample.txt</code>)."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1676968072,"post_id":75510686,"comment_id":133238568,"body_markdown":"@LJreplica He specifically wants from the command line so linking to a feature that&#39;s unrelated to the command line is not helpful","body":"@LJreplica He specifically wants from the command line so linking to a feature that&#39;s unrelated to the command line is not helpful"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676904013,"creation_date":1676904013,"question_id":75510686,"body_markdown":"Is it possible to open a Java source file in IntelliJ Idea from command line by its class name (simple or qualified) as part of already opened project?\r\n\r\nWhen `idea64.exe --help` is run, following dialog pops up:\r\n\r\n[![Idea command line options popup][1]][1]\r\n\r\nIt doesn&#39;t mention any option for opening by a class name.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DTtpw.png","title":"How to open a Java file by a class name from command line?","body":"<p>Is it possible to open a Java source file in IntelliJ Idea from command line by its class name (simple or qualified) as part of already opened project?</p>\n<p>When <code>idea64.exe --help</code> is run, following dialog pops up:</p>\n<p><a href=\"https://i.stack.imgur.com/DTtpw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTtpw.png\" alt=\"Idea command line options popup\" /></a></p>\n<p>It doesn't mention any option for opening by a class name.</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0"],"owner":{"account_id":22565756,"reputation":185,"user_id":16752809,"display_name":"gs97ahn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676903883,"creation_date":1676903883,"question_id":75510650,"body_markdown":"Currently, the client team will be implemting Apple&#39;s OAuth Login and receive the OAuth token(I think Apple uses the naming &quot;Identity Token&quot;). With this token, I need to authenticate the token from Apple&#39;s server and receive information about this token in JSON.\r\n\r\nI want to know if there is a way to send a Apple OAuth token to a specific URL and authenticate it like how I implemented it for Google OAuth which is below.\r\n\r\n```java\r\n    public String verifyGoogle(String token) {\r\n\r\n        if (token == null || token.equals(&quot;&quot;))\r\n            throw new CustomException(TOKEN_REQUIRED_FAIL);\r\n\r\n        String googleUrl = &quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;;\r\n        String authId = null;\r\n        try {\r\n            URL url = new URL(googleUrl);\r\n\r\n            HttpsURLConnection http = (HttpsURLConnection) url.openConnection();\r\n            http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n            http.setRequestProperty(&quot;Authorization&quot;, token);\r\n            http.setRequestMethod(&quot;GET&quot;);\r\n            http.connect();\r\n\r\n            if (http.getResponseCode() != 200)\r\n                throw new CustomException(OAUTH_FAIL);\r\n\r\n            StringBuilder sb = new StringBuilder();\r\n            InputStreamReader in = new InputStreamReader(http.getInputStream(), StandardCharsets.UTF_8);\r\n            BufferedReader br = new BufferedReader(in);\r\n            String line = null;\r\n            while((line = br.readLine()) != null) {\r\n                sb.append(line).append(&quot;\\n&quot;);\r\n            }\r\n\r\n            JSONParser parser = new JSONParser();\r\n            JSONObject jsonObject = (JSONObject) parser.parse(sb.toString());\r\n            authId = jsonObject.get(&quot;sub&quot;).toString();\r\n\r\n            http.disconnect();\r\n\r\n        }catch (IOException | ParseException e) {\r\n            throw new CustomException(SERVER_ERROR);\r\n        }\r\n        return authId;\r\n    }\r\n```","title":"Is there a way to authorize and receive info of an Apple&#39;s OAuth token from Spring Boot?","body":"<p>Currently, the client team will be implemting Apple's OAuth Login and receive the OAuth token(I think Apple uses the naming &quot;Identity Token&quot;). With this token, I need to authenticate the token from Apple's server and receive information about this token in JSON.</p>\n<p>I want to know if there is a way to send a Apple OAuth token to a specific URL and authenticate it like how I implemented it for Google OAuth which is below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public String verifyGoogle(String token) {\n\n        if (token == null || token.equals(&quot;&quot;))\n            throw new CustomException(TOKEN_REQUIRED_FAIL);\n\n        String googleUrl = &quot;https://www.googleapis.com/oauth2/v3/userinfo&quot;;\n        String authId = null;\n        try {\n            URL url = new URL(googleUrl);\n\n            HttpsURLConnection http = (HttpsURLConnection) url.openConnection();\n            http.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n            http.setRequestProperty(&quot;Authorization&quot;, token);\n            http.setRequestMethod(&quot;GET&quot;);\n            http.connect();\n\n            if (http.getResponseCode() != 200)\n                throw new CustomException(OAUTH_FAIL);\n\n            StringBuilder sb = new StringBuilder();\n            InputStreamReader in = new InputStreamReader(http.getInputStream(), StandardCharsets.UTF_8);\n            BufferedReader br = new BufferedReader(in);\n            String line = null;\n            while((line = br.readLine()) != null) {\n                sb.append(line).append(&quot;\\n&quot;);\n            }\n\n            JSONParser parser = new JSONParser();\n            JSONObject jsonObject = (JSONObject) parser.parse(sb.toString());\n            authId = jsonObject.get(&quot;sub&quot;).toString();\n\n            http.disconnect();\n\n        }catch (IOException | ParseException e) {\n            throw new CustomException(SERVER_ERROR);\n        }\n        return authId;\n    }\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"comments":[{"owner":{"account_id":2997882,"reputation":10322,"user_id":2544036,"accept_rate":78,"display_name":"Jacobian"},"score":0,"creation_date":1445261035,"post_id":33215597,"comment_id":54235106,"body_markdown":"Thanks! Will check it in a second.","body":"Thanks! Will check it in a second."},{"owner":{"account_id":2997882,"reputation":10322,"user_id":2544036,"accept_rate":78,"display_name":"Jacobian"},"score":4,"creation_date":1445261319,"post_id":33215597,"comment_id":54235301,"body_markdown":"Unfortunatelly, it seems like `JSONArray` from `org.json.simple.*` does not have `length()` method and `getJSONObject()`","body":"Unfortunatelly, it seems like <code>JSONArray</code> from <code>org.json.simple.*</code> does not have <code>length()</code> method and <code>getJSONObject()</code>"},{"owner":{"account_id":4629453,"reputation":1655,"user_id":3752374,"accept_rate":50,"display_name":"dguay"},"score":1,"creation_date":1445261535,"post_id":33215597,"comment_id":54235432,"body_markdown":"@Jacobian Have you tried using `org.json.JSONArray`?","body":"@Jacobian Have you tried using <code>org.json.JSONArray</code>?"},{"owner":{"account_id":2997882,"reputation":10322,"user_id":2544036,"accept_rate":78,"display_name":"Jacobian"},"score":1,"creation_date":1445261801,"post_id":33215597,"comment_id":54235669,"body_markdown":"Now, I have not tried it, yet. Is it much more powerful?","body":"Now, I have not tried it, yet. Is it much more powerful?"},{"owner":{"account_id":4629453,"reputation":1655,"user_id":3752374,"accept_rate":50,"display_name":"dguay"},"score":0,"creation_date":1445262556,"post_id":33215597,"comment_id":54236243,"body_markdown":"@Jacobian I&#39;ve never used `org.json.simple.JSONArray` so I can&#39;t say. Maybe @RealSkeptic has better knowledge about that :)","body":"@Jacobian I&#39;ve never used <code>org.json.simple.JSONArray</code> so I can&#39;t say. Maybe @RealSkeptic has better knowledge about that :)"},{"owner":{"account_id":4629453,"reputation":1655,"user_id":3752374,"accept_rate":50,"display_name":"dguay"},"score":1,"creation_date":1445262648,"post_id":33215597,"comment_id":54236318,"body_markdown":"@Jacobian [I found this](http://stackoverflow.com/questions/26936436/is-org-json-simple-jsonarray-poorly-designed)","body":"@Jacobian <a href=\"http://stackoverflow.com/questions/26936436/is-org-json-simple-jsonarray-poorly-designed\">I found this</a>"},{"owner":{"account_id":3214736,"reputation":522,"user_id":2713818,"display_name":"rkedge"},"score":4,"creation_date":1568662365,"post_id":33215597,"comment_id":102337764,"body_markdown":"For `org.json.simple.JSONArray` you need to use the `size()` method (instead of `length()`) inherited from java.util.ArrayList.","body":"For <code>org.json.simple.JSONArray</code> you need to use the <code>size()</code> method (instead of <code>length()</code>) inherited from java.util.ArrayList."}],"tags":[],"owner":{"account_id":4629453,"reputation":1655,"user_id":3752374,"accept_rate":50,"display_name":"dguay"},"comment_count":7,"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1445260982,"creation_date":1445260982,"answer_id":33215597,"question_id":33215539,"body_markdown":"Seems like you can&#39;t iterate through `JSONArray` with a `for each`. You can loop through your `JSONArray` like this:\r\n\r\n    for (int i=0; i &lt; arr.length(); i++) {\r\n        arr.getJSONObject(i);\r\n    }\r\n\r\n[Source](https://stackoverflow.com/questions/4784874/is-it-possible-to-iterate-through-jsonarray)","title":"Foreach with JSONArray and JSONObject","body":"<p>Seems like you can't iterate through <code>JSONArray</code> with a <code>for each</code>. You can loop through your <code>JSONArray</code> like this:</p>\n\n<pre><code>for (int i=0; i &lt; arr.length(); i++) {\n    arr.getJSONObject(i);\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/4784874/is-it-possible-to-iterate-through-jsonarray\">Source</a></p>\n"},{"comments":[{"owner":{"account_id":2997882,"reputation":10322,"user_id":2544036,"accept_rate":78,"display_name":"Jacobian"},"score":1,"creation_date":1445261710,"post_id":33215802,"comment_id":54235591,"body_markdown":"Thanks! It works. Though, it seems like I did it using `java.util.Iterator`","body":"Thanks! It works. Though, it seems like I did it using <code>java.util.Iterator</code>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1445261940,"post_id":33215802,"comment_id":54235772,"body_markdown":"@Jacobian Yes, it&#39;s `java.util.Iterator`, but it&#39;s a *raw* one (E.g. a `List&lt;String&gt;` would return an `Iterator&lt;String&gt;`, and then you can use `String` as the enhanced for loop variable&#39;s type. When it&#39;s raw, the base type is assumed to be `Object`.","body":"@Jacobian Yes, it&#39;s <code>java.util.Iterator</code>, but it&#39;s a <i>raw</i> one (E.g. a <code>List&lt;String&gt;</code> would return an <code>Iterator&lt;String&gt;</code>, and then you can use <code>String</code> as the enhanced for loop variable&#39;s type. When it&#39;s raw, the base type is assumed to be <code>Object</code>."}],"tags":[],"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"comment_count":2,"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1445261529,"creation_date":1445261529,"answer_id":33215802,"question_id":33215539,"body_markdown":"Apparently, `org.json.simple.JSONArray` implements a *raw* Iterator. This means that each element is considered to be an `Object`. You can try to cast:\r\n\r\n    for(Object o: arr){\r\n        if ( o instanceof JSONObject ) {\r\n            parse((JSONObject)o);\r\n        }\r\n    }\r\n\r\nThis is how things were done back in Java 1.4 and earlier.","title":"Foreach with JSONArray and JSONObject","body":"<p>Apparently, <code>org.json.simple.JSONArray</code> implements a <em>raw</em> Iterator. This means that each element is considered to be an <code>Object</code>. You can try to cast:</p>\n\n<pre><code>for(Object o: arr){\n    if ( o instanceof JSONObject ) {\n        parse((JSONObject)o);\n    }\n}\n</code></pre>\n\n<p>This is how things were done back in Java 1.4 and earlier.</p>\n"},{"comments":[{"owner":{"account_id":1261920,"reputation":11497,"user_id":1219956,"accept_rate":65,"display_name":"Fonix"},"score":0,"creation_date":1503654120,"post_id":41344980,"comment_id":78715514,"body_markdown":"can achieve the same if using [retrolambda](http://www.vogella.com/tutorials/Retrolambda/article.html) with java 7","body":"can achieve the same if using <a href=\"http://www.vogella.com/tutorials/Retrolambda/article.html\" rel=\"nofollow noreferrer\">retrolambda</a> with java 7"},{"owner":{"account_id":2092917,"reputation":999,"user_id":1862299,"display_name":"Prakhyat"},"score":3,"creation_date":1510892246,"post_id":41344980,"comment_id":81638437,"body_markdown":"The method forEach((&lt;no type&gt; item) -&gt; {}) is undefined for the type \n JSONArray","body":"The method forEach((&lt;no type&gt; item) -&gt; {}) is undefined for the type   JSONArray"},{"owner":{"account_id":1013194,"reputation":6637,"user_id":1025328,"accept_rate":89,"display_name":"Prasad Khode"},"score":2,"creation_date":1542088832,"post_id":41344980,"comment_id":93431905,"body_markdown":"@Jugi the json library that I have used above is `org.json` and you can use `forEach` on `JSONArray`, you can check once if you are still in doubt","body":"@Jugi the json library that I have used above is <code>org.json</code> and you can use <code>forEach</code> on <code>JSONArray</code>, you can check once if you are still in doubt"},{"owner":{"account_id":7465244,"reputation":804,"user_id":5675083,"accept_rate":67,"display_name":"FlyingSheep"},"score":1,"creation_date":1557861562,"post_id":41344980,"comment_id":98905428,"body_markdown":"I beg to differ with Jugi and akcasoy. This works for me with Java 8 and org.json.JSONArray.","body":"I beg to differ with Jugi and akcasoy. This works for me with Java 8 and org.json.JSONArray."},{"owner":{"account_id":255992,"reputation":857,"user_id":536406,"accept_rate":100,"display_name":"yanike"},"score":1,"creation_date":1576858691,"post_id":41344980,"comment_id":105042663,"body_markdown":"This works with org.json here -&gt; https://mvnrepository.com/artifact/org.json/json Make sure you aren&#39;t using the wrong org.json","body":"This works with org.json here -&gt; <a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.json/json</a> Make sure you aren&#39;t using the wrong org.json"},{"owner":{"account_id":255992,"reputation":857,"user_id":536406,"accept_rate":100,"display_name":"yanike"},"score":0,"creation_date":1576859978,"post_id":41344980,"comment_id":105043219,"body_markdown":"Also note that forEach() doesn&#39;t give you all the options a true Iterator will give. For more features, use the following: Iterator&lt;?&gt; arrayi = arrayJson.iterator(); while (arrayi.hasNext()) { JSONObject obj = (JSONObject) arrayi.next(); }","body":"Also note that forEach() doesn&#39;t give you all the options a true Iterator will give. For more features, use the following: Iterator&lt;?&gt; arrayi = arrayJson.iterator(); while (arrayi.hasNext()) { JSONObject obj = (JSONObject) arrayi.next(); }"}],"tags":[],"owner":{"account_id":1013194,"reputation":6637,"user_id":1025328,"accept_rate":89,"display_name":"Prasad Khode"},"comment_count":6,"down_vote_count":2,"up_vote_count":41,"is_accepted":false,"score":39,"last_activity_date":1576909466,"creation_date":1482840724,"answer_id":41344980,"question_id":33215539,"body_markdown":"Make sure you are using this org.json:\r\nhttps://mvnrepository.com/artifact/org.json/json\r\n\r\nif you are using Java 8 then you can use\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n\r\n    JSONArray array = ...;\r\n    \r\n    array.forEach(item -&gt; {\r\n        JSONObject obj = (JSONObject) item;\r\n        parse(obj);\r\n    });\r\n\r\n\r\n**Just added a simple test to prove that it works:**\r\n\r\nAdd the following dependency into your `pom.xml` file (To prove that it works, I have used the old jar which was there when I have posted this answer)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20160810&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd the simple test code snippet will be:\r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONObject;\r\n    \r\n    public class Test {\r\n        public static void main(String args[]) {\r\n            JSONArray array = new JSONArray();\r\n    \r\n            JSONObject object = new JSONObject();\r\n            object.put(&quot;key1&quot;, &quot;value1&quot;);\r\n    \r\n            array.put(object);\r\n    \r\n            array.forEach(item -&gt; {\r\n                System.out.println(item.toString());\r\n            });\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    {&quot;key1&quot;:&quot;value1&quot;}","title":"Foreach with JSONArray and JSONObject","body":"<p>Make sure you are using this org.json:\n<a href=\"https://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.json/json</a></p>\n\n<p>if you are using Java 8 then you can use</p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\nJSONArray array = ...;\n\narray.forEach(item -&gt; {\n    JSONObject obj = (JSONObject) item;\n    parse(obj);\n});\n</code></pre>\n\n<p><strong>Just added a simple test to prove that it works:</strong></p>\n\n<p>Add the following dependency into your <code>pom.xml</code> file (To prove that it works, I have used the old jar which was there when I have posted this answer)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20160810&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And the simple test code snippet will be:</p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONObject;\n\npublic class Test {\n    public static void main(String args[]) {\n        JSONArray array = new JSONArray();\n\n        JSONObject object = new JSONObject();\n        object.put(\"key1\", \"value1\");\n\n        array.put(object);\n\n        array.forEach(item -&gt; {\n            System.out.println(item.toString());\n        });\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>{\"key1\":\"value1\"}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21889654,"reputation":168,"user_id":16176812,"display_name":"Sivaraman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659947725,"creation_date":1626023688,"answer_id":68338418,"question_id":33215539,"body_markdown":"* Inside the ***for*** loop, you can simply typecast `Object` to `JSONObject` and access the values.\r\n\r\nEg:\r\n   \r\n\r\n        JSONArray myJSONArray = [...Some JSONObjects Here...];\r\n\r\n        for (Object myObject : myJSONArray) {\r\n\r\n            //If you want to get JSONObject\r\n            JSONObject myJSONObject = (JSONObject) myObject;\r\n\r\n            //If you want to access JSONObject&#39;s values\r\n            long number     = myJSONObject.getLong(&quot;myNum&quot;);\r\n            String myString = myJSONObject.getString(&quot;myStr&quot;);\r\n        }\r\n\r\n    ","title":"Foreach with JSONArray and JSONObject","body":"<ul>\n<li>Inside the <em><strong>for</strong></em> loop, you can simply typecast <code>Object</code> to <code>JSONObject</code> and access the values.</li>\n</ul>\n<p>Eg:</p>\n<pre><code>    JSONArray myJSONArray = [...Some JSONObjects Here...];\n\n    for (Object myObject : myJSONArray) {\n\n        //If you want to get JSONObject\n        JSONObject myJSONObject = (JSONObject) myObject;\n\n        //If you want to access JSONObject's values\n        long number     = myJSONObject.getLong(&quot;myNum&quot;);\n        String myString = myJSONObject.getString(&quot;myStr&quot;);\n    }\n</code></pre>\n"}],"owner":{"account_id":2997882,"reputation":10322,"user_id":2544036,"accept_rate":78,"display_name":"Jacobian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249857,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":33215802,"answer_count":4,"score":47,"last_activity_date":1676903833,"creation_date":1445260797,"question_id":33215539,"body_markdown":"I&#39;m using `org.json.simple.JSONArray` and `org.json.simple.JSONObject`. I know that these two classes `JSONArray` and `JSONObject` are incompatible, but still I want to do quite a natural thing - I want to for-each over `JSONArray` parsing at each iteration step one `JSONObject` (nested inside that `JSONArray`). I try to do it like so:\r\n\r\n    JSONArray arr = ...; // &lt;-- got by some procedure\r\n    for(JSONObject o: arr){\r\n        parse(o);\r\n    }\r\n\r\nWhen I try to compile this code, indeed I get &quot;incompatible types&quot; error, even though it looks so natural. So, my question is what is the best way to iterate through `JSONArray`?","title":"Foreach with JSONArray and JSONObject","body":"<p>I'm using <code>org.json.simple.JSONArray</code> and <code>org.json.simple.JSONObject</code>. I know that these two classes <code>JSONArray</code> and <code>JSONObject</code> are incompatible, but still I want to do quite a natural thing - I want to for-each over <code>JSONArray</code> parsing at each iteration step one <code>JSONObject</code> (nested inside that <code>JSONArray</code>). I try to do it like so:</p>\n\n<pre><code>JSONArray arr = ...; // &lt;-- got by some procedure\nfor(JSONObject o: arr){\n    parse(o);\n}\n</code></pre>\n\n<p>When I try to compile this code, indeed I get \"incompatible types\" error, even though it looks so natural. So, my question is what is the best way to iterate through <code>JSONArray</code>?</p>\n"},{"tags":["javascript","java","automation","selenium-chromedriver","webautomation"],"answers":[{"tags":[],"owner":{"account_id":21435240,"reputation":36,"user_id":15790813,"display_name":"TheDarven"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676903796,"creation_date":1676903796,"answer_id":75510633,"question_id":75424574,"body_markdown":"If you try to select the radio button, you should use the following code :\r\n\r\n    WebElement rvbtn = driver.findElement(By.name(&quot;inputValue&quot;));\r\n    rvbtn.click();\r\n\r\nYou used the **value** attribute instead of the **name** attribute inside your **By.name** selector.\r\n","title":"Select element by id from the dom, using Java., the element tag is not visible on the inspect","body":"<p>If you try to select the radio button, you should use the following code :</p>\n<pre><code>WebElement rvbtn = driver.findElement(By.name(&quot;inputValue&quot;));\nrvbtn.click();\n</code></pre>\n<p>You used the <strong>value</strong> attribute instead of the <strong>name</strong> attribute inside your <strong>By.name</strong> selector.</p>\n"}],"owner":{"account_id":27763915,"reputation":1,"user_id":21195714,"display_name":"Paras Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676903796,"creation_date":1676168973,"question_id":75424574,"body_markdown":"[1]:https://i.stack.imgur.com/jRVYt.png\r\n\r\n![1]\r\n\r\n\r\n\r\nI tried the below code but the button wasn&#39;t selected.\r\n\r\n    WebElement rvbtn = driver.findElement(By.name(&quot;rv&quot;));\r\n    rvbtn.click();","title":"Select element by id from the dom, using Java., the element tag is not visible on the inspect","body":"<p><img src=\"https://i.stack.imgur.com/jRVYt.png\" alt=\"1\" /></p>\n<p>I tried the below code but the button wasn't selected.</p>\n<pre><code>WebElement rvbtn = driver.findElement(By.name(&quot;rv&quot;));\nrvbtn.click();\n</code></pre>\n"},{"tags":["java","spring-boot","liquibase"],"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1676904131,"post_id":75510595,"comment_id":133226027,"body_markdown":"Where on the filesystem is your `db-changelog-master.xml` file and how are you running the application?\n\nA [minimal, reproducible example](/help/mcve) would make this question much easier to answer.","body":"Where on the filesystem is your <code>db-changelog-master.xml</code> file and how are you running the application?  A <a href=\"/help/mcve\">minimal, reproducible example</a> would make this question much easier to answer."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1676904388,"post_id":75510595,"comment_id":133226112,"body_markdown":"@AndyWilkinson db-changelog-master.xml is under db/changelog","body":"@AndyWilkinson db-changelog-master.xml is under db/changelog"},{"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1676933852,"post_id":75510595,"comment_id":133233521,"body_markdown":"Does this answer your question? [changelog directory not found after spring boot 3 upgrade](https://stackoverflow.com/questions/75059387/changelog-directory-not-found-after-spring-boot-3-upgrade)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75059387/changelog-directory-not-found-after-spring-boot-3-upgrade\">changelog directory not found after spring boot 3 upgrade</a>"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1676966789,"post_id":75510595,"comment_id":133238215,"body_markdown":"which version of liquibase and which version of spring-boot are you using? Maybe you should use `spring.liquibase.change-log`. In your yaml you are missing the `spring` prefix.","body":"which version of liquibase and which version of spring-boot are you using? Maybe you should use <code>spring.liquibase.change-log</code>. In your yaml you are missing the <code>spring</code> prefix."}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676903635,"creation_date":1676903635,"question_id":75510595,"body_markdown":"I have a problem about detecting db.changelog-master.xml in Spring Boot app through Liquibase.\r\n\r\nWhen I run the app, I get this issue shown below.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Liquibase failed to start because no changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;.\r\n    \r\n    Action:\r\n    \r\n    Make sure a Liquibase changelog is present at the configured path.\r\n\r\n\r\nHere is my **application.yaml** file shown below.\r\n\r\n    liquibase:\r\n      enabled: true\r\n      change-log=classpath: /db/changelog/db.changelog-master.xml\r\n\r\nHere is my **db.changelog-master.xml** shown below\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n    http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\r\n    \r\n        &lt;include file=&quot;/db/changelog/changes/a.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\r\n        &lt;include file=&quot;/db/changelog/changes/b.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\r\n        ...\r\n    \r\n    &lt;/databaseChangeLog&gt;\r\n\r\nHow can I fix the issue?\r\n","title":"Cannot detect liquibase log file -Liquibase failed to start because no changelog could be found at &#39;classpath:/db/changelog/db.changelog-master.yaml&#39;","body":"<p>I have a problem about detecting db.changelog-master.xml in Spring Boot app through Liquibase.</p>\n<p>When I run the app, I get this issue shown below.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nLiquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.\n\nAction:\n\nMake sure a Liquibase changelog is present at the configured path.\n</code></pre>\n<p>Here is my <strong>application.yaml</strong> file shown below.</p>\n<pre><code>liquibase:\n  enabled: true\n  change-log=classpath: /db/changelog/db.changelog-master.xml\n</code></pre>\n<p>Here is my <strong>db.changelog-master.xml</strong> shown below</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\nhttp://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd&quot;&gt;\n\n    &lt;include file=&quot;/db/changelog/changes/a.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\n    &lt;include file=&quot;/db/changelog/changes/b.xml&quot; relativeToChangelogFile=&quot;true&quot;/&gt;\n    ...\n\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>How can I fix the issue?</p>\n"},{"tags":["java","unix","file-io","posix"],"answers":[{"comments":[{"owner":{"account_id":70105,"reputation":83,"user_id":203626,"display_name":"Aaron D. Ball"},"score":0,"creation_date":1260970497,"post_id":1909826,"comment_id":1819960,"body_markdown":"Thanks!  Ultimately I guess JDK 7 isn&#39;t so bad;  I can just keep the binaries with the tool I&#39;m writing, and it will be production-grade software soon enough.","body":"Thanks!  Ultimately I guess JDK 7 isn&#39;t so bad;  I can just keep the binaries with the tool I&#39;m writing, and it will be production-grade software soon enough."}],"tags":[],"owner":{"account_id":31142,"reputation":28734,"user_id":85306,"accept_rate":94,"display_name":"Jherico"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1260905757,"creation_date":1260905757,"answer_id":1909826,"question_id":1909623,"body_markdown":"Looks like you&#39;ve pretty much covered all the bases.  When I started reading your question my first thought was JDK 7 or JNI.  Without knowing anything about the change pattern on these files you might also look into some sort of persistent cache of the information in question, like an embedded DB.  You could also look at some other access method besides NFS, like a custom web service that provides bulk file information from a remote host.","title":"Unix stat()/lstat() for Java","body":"<p>Looks like you've pretty much covered all the bases.  When I started reading your question my first thought was JDK 7 or JNI.  Without knowing anything about the change pattern on these files you might also look into some sort of persistent cache of the information in question, like an embedded DB.  You could also look at some other access method besides NFS, like a custom web service that provides bulk file information from a remote host.</p>\n"},{"comments":[{"owner":{"account_id":70105,"reputation":83,"user_id":203626,"display_name":"Aaron D. Ball"},"score":1,"creation_date":1483069980,"post_id":6498817,"comment_id":69982940,"body_markdown":"For a little historical background: the NFS servers in question were a 5-10PB Isilon cluster, which provided strict consistency on stat calls but at the cost of terrible latency under contention. (I&#39;m still not sure if they had a big lock or something more sophisticated.) This was a filesystem-level problem: we didn&#39;t do any better sshed in as root. We ended up just letting it take its time rather than spend a few days of people-time trying to save a few days of computer-time.","body":"For a little historical background: the NFS servers in question were a 5-10PB Isilon cluster, which provided strict consistency on stat calls but at the cost of terrible latency under contention. (I&#39;m still not sure if they had a big lock or something more sophisticated.) This was a filesystem-level problem: we didn&#39;t do any better sshed in as root. We ended up just letting it take its time rather than spend a few days of people-time trying to save a few days of computer-time."}],"tags":[],"owner":{"account_id":811068,"reputation":11,"user_id":818120,"display_name":"DavidP"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1309207969,"creation_date":1309207969,"answer_id":6498817,"question_id":1909623,"body_markdown":"Yes, stat() is under all the calls and libraries.  It is a latency problem.  However, you can do many stat() at once, as there are many NFS server daemons to support your connections, using threads unless someone has an asynchronous stat() up their sleeve!  If you could get on the host, like with ssh, stat() would be much cheaper.  You could even write a tcp service to stream in paths and stream out stat().  Unfortunately, access to the NFS server is hard or impossible, as it may only have admin accounts, be a Hitachi SAN or something.","title":"Unix stat()/lstat() for Java","body":"<p>Yes, stat() is under all the calls and libraries.  It is a latency problem.  However, you can do many stat() at once, as there are many NFS server daemons to support your connections, using threads unless someone has an asynchronous stat() up their sleeve!  If you could get on the host, like with ssh, stat() would be much cheaper.  You could even write a tcp service to stream in paths and stream out stat().  Unfortunately, access to the NFS server is hard or impossible, as it may only have admin accounts, be a Hitachi SAN or something.</p>\n"},{"tags":[],"owner":{"account_id":3568486,"reputation":4276,"user_id":2979435,"accept_rate":42,"display_name":"deFreitas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676903564,"creation_date":1676903235,"answer_id":75510500,"question_id":1909623,"body_markdown":"&gt; Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive: I&#39;m trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second.\r\n\r\nThere&#39;s no much to do here, linux provides an interface which only accepts one file descriptor at time.\r\n\r\n&gt; Is there a &quot;right&quot; way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  .... got a couple of suggested JNI/JNA implementations. One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).\r\n\r\nCall a c function using JNA is very straightforward, a wrapper library may be not necessary, bellow a snippet to make a call to `stat` or `lstat` syscall, [see my complete answer for more details](https://stackoverflow.com/a/75503656/2979435):\r\n\r\n    // wont call lstat c function directly \r\n    // cause stat and lstat aren&#39;t available at libc 2.31-\r\n    public interface Stats extends Library {\r\n    \r\n      Stats INSTANCE = Native.loadLibrary(Platform.C_LIBRARY_NAME, Stats.class);\r\n    \r\n      int syscall(int number, Object... args);\r\n    \r\n      default int doStat(String pathname, Stat statbuf){\r\n        return this.syscall(4, pathname, statbuf);\r\n      }\r\n    \r\n      default int doLstat(String pathname, Stat statbuf){\r\n        return this.syscall(6, pathname, statbuf);\r\n      }\r\n    }","title":"Unix stat()/lstat() for Java","body":"<blockquote>\n<p>Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive: I'm trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second.</p>\n</blockquote>\n<p>There's no much to do here, linux provides an interface which only accepts one file descriptor at time.</p>\n<blockquote>\n<p>Is there a &quot;right&quot; way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  .... got a couple of suggested JNI/JNA implementations. One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).</p>\n</blockquote>\n<p>Call a c function using JNA is very straightforward, a wrapper library may be not necessary, bellow a snippet to make a call to <code>stat</code> or <code>lstat</code> syscall, <a href=\"https://stackoverflow.com/a/75503656/2979435\">see my complete answer for more details</a>:</p>\n<pre><code>// wont call lstat c function directly \n// cause stat and lstat aren't available at libc 2.31-\npublic interface Stats extends Library {\n\n  Stats INSTANCE = Native.loadLibrary(Platform.C_LIBRARY_NAME, Stats.class);\n\n  int syscall(int number, Object... args);\n\n  default int doStat(String pathname, Stat statbuf){\n    return this.syscall(4, pathname, statbuf);\n  }\n\n  default int doLstat(String pathname, Stat statbuf){\n    return this.syscall(6, pathname, statbuf);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":70105,"reputation":83,"user_id":203626,"display_name":"Aaron D. Ball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8699,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":1909826,"answer_count":3,"score":7,"last_activity_date":1676903564,"creation_date":1260903912,"question_id":1909623,"body_markdown":"Suppose I want to get several of a file&#39;s properties (owner, size, permissions, times) as returned by the lstat() system call.  One way to do this in Java is to create a java.io.File object and do calls like length(), lastModified(), etc. on it.  I have two problems so far:\r\n\r\n1. Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive:  I&#39;m trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second. \r\n\r\n2. The call isn&#39;t lstat(), it&#39;s typically stat() (which follows symlinks) or fstat64() (which opens the file and may trigger a write operation to record the access time).\r\n\r\nIs there a &quot;right&quot; way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  What I have found so far from Googling:\r\n\r\n- JDK 7 will have the &lt;a href=&quot;http://openjdk.java.net/projects/nio/javadoc/java/nio/file/attribute/package-summary.html&quot;&gt;PosixFileAttributes&lt;/a&gt; interface in java.nio.file with everything I want (but I&#39;d rather not be running nightly builds of my JDK if I can avoid it).\r\n\r\n- I can roll my own interface with JNI or JNA (but I&#39;d rather not if there&#39;s an existing one).\r\n\r\nA &lt;a href=&quot;https://stackoverflow.com/questions/1088113/is-there-a-java-library-of-unix-functions&quot;&gt;previous similar question&lt;/a&gt; got a couple of suggested JNI/JNA implementations.  One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).\r\n\r\nAre there any better options out there?","title":"Unix stat()/lstat() for Java","body":"<p>Suppose I want to get several of a file's properties (owner, size, permissions, times) as returned by the lstat() system call.  One way to do this in Java is to create a java.io.File object and do calls like length(), lastModified(), etc. on it.  I have two problems so far:</p>\n\n<ol>\n<li><p>Each one of these calls triggers a stat() call, and for my purposes stat()s are considered expensive:  I'm trying to scan billions of files in parallel on hundreds of hosts, and (to a first approximation) the only way to access these files is via NFS, often against filer clusters where stat() under load may take half a second. </p></li>\n<li><p>The call isn't lstat(), it's typically stat() (which follows symlinks) or fstat64() (which opens the file and may trigger a write operation to record the access time).</p></li>\n</ol>\n\n<p>Is there a \"right\" way to do this, such that I end up just doing a single lstat() call and accessing the members of the struct stat?  What I have found so far from Googling:</p>\n\n<ul>\n<li><p>JDK 7 will have the <a href=\"http://openjdk.java.net/projects/nio/javadoc/java/nio/file/attribute/package-summary.html\" rel=\"nofollow noreferrer\">PosixFileAttributes</a> interface in java.nio.file with everything I want (but I'd rather not be running nightly builds of my JDK if I can avoid it).</p></li>\n<li><p>I can roll my own interface with JNI or JNA (but I'd rather not if there's an existing one).</p></li>\n</ul>\n\n<p>A <a href=\"https://stackoverflow.com/questions/1088113/is-there-a-java-library-of-unix-functions\">previous similar question</a> got a couple of suggested JNI/JNA implementations.  One is gone and the other is questionably maintained (e.g., no downloads, just an hg repository).</p>\n\n<p>Are there any better options out there?</p>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"comments":[{"owner":{"display_name":"user12429628"},"score":1,"creation_date":1676967756,"post_id":75510544,"comment_id":133238470,"body_markdown":"Thanks. This option was missing. I don&#39;t know why, my accout was an administrator. I have created a new acount that works now.","body":"Thanks. This option was missing. I don&#39;t know why, my accout was an administrator. I have created a new acount that works now."}],"tags":[],"owner":{"account_id":23997029,"reputation":589,"user_id":17982436,"display_name":"Mehtab Siddique"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676903407,"creation_date":1676903407,"answer_id":75510544,"question_id":75471040,"body_markdown":"After granting the permission , some permissions need to be granted admin consent in the azure portal as seen in the screenshot below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/glCZc.png\r\n\r\nYou need to ask the administrator for granting the permissions.","title":"app-auth in MS Graph Api does not work in msgraph-training-java","body":"<p>After granting the permission , some permissions need to be granted admin consent in the azure portal as seen in the screenshot below:</p>\n<p><a href=\"https://i.stack.imgur.com/glCZc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/glCZc.png\" alt=\"enter image description here\" /></a></p>\n<p>You need to ask the administrator for granting the permissions.</p>\n"}],"owner":{"display_name":"user12429628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75510544,"answer_count":1,"score":0,"last_activity_date":1676903407,"creation_date":1676543901,"question_id":75471040,"body_markdown":"I want to learn MS Graph Api for Java and I&#39;m compiling and running the app-auth example in msgraph training java.\r\n\r\nDisplaying the access token works fine but displaying the user list fails.\r\n\r\nThe readme says, when configuring the application permisions I should select &quot;Grant admin consent for...&quot; but there is no such an option. I still get an error:\r\n\r\n&quot;Error message: Insufficient privileges to complete the operation.&quot;\r\n\r\nbut I have granted all permissions in the Mail Section and User Section of MS Graph\r\n\r\n","title":"app-auth in MS Graph Api does not work in msgraph-training-java","body":"<p>I want to learn MS Graph Api for Java and I'm compiling and running the app-auth example in msgraph training java.</p>\n<p>Displaying the access token works fine but displaying the user list fails.</p>\n<p>The readme says, when configuring the application permisions I should select &quot;Grant admin consent for...&quot; but there is no such an option. I still get an error:</p>\n<p>&quot;Error message: Insufficient privileges to complete the operation.&quot;</p>\n<p>but I have granted all permissions in the Mail Section and User Section of MS Graph</p>\n"},{"tags":["java","math","decimal","rounding","decimalformat"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":1,"creation_date":1676442563,"post_id":75456112,"comment_id":133135409,"body_markdown":"[read the documentation](https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html)","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">read the documentation</a>"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1676453692,"post_id":75456112,"comment_id":133137930,"body_markdown":"For your example, `17.751` does not round to `17.76` did you mean `17.7551`? As pointed out in a comment below. `input` is not exactly `17.755` it is the closest value that double can represent. `17.75499...` if you want better accuracy there is [BigDecimal](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html). eg `new BigDecimal(&quot;17.755&quot;);` That way you&#39;ll be rounding what you expect.","body":"For your example, <code>17.751</code> does not round to <code>17.76</code> did you mean <code>17.7551</code>? As pointed out in a comment below. <code>input</code> is not exactly <code>17.755</code> it is the closest value that double can represent. <code>17.75499...</code> if you want better accuracy there is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a>. eg <code>new BigDecimal(&quot;17.755&quot;);</code> That way you&#39;ll be rounding what you expect."},{"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"score":0,"creation_date":1676793863,"post_id":75456112,"comment_id":133206206,"body_markdown":"Sorry @matt the input was 17.7551 , ive corrected that in the description also","body":"Sorry @matt the input was 17.7551 , ive corrected that in the description also"},{"owner":{"account_id":27811565,"reputation":11,"user_id":21233858,"display_name":"bardia dorry"},"score":0,"creation_date":1676804126,"post_id":75456112,"comment_id":133207553,"body_markdown":"you can change rounding mode if you need ceiling : https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java","body":"you can change rounding mode if you need ceiling : <a href=\"https://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\" title=\"how to round a number to n decimal places in java\">stackoverflow.com/questions/153724/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676902491,"creation_date":1676901817,"answer_id":75510225,"question_id":75456112,"body_markdown":"First of, your final value is a `Double` **it does not have 2 digits!** When you do Double.valueOf it will become the *closest representable value*. If you actually want two digits in Java then you need to use [BigDecimal](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html) which actually stores base 10 floating point representations.\r\n\r\nThe trick is, the value you are using is not what you think it is.\r\n\r\n    double d = 17.755;\r\n\r\nJava doubles are power of 2 exponent, so a number that appears to be an exact value in decimal, has a repeating representation in float. That means it needs to be truncated and the closest value is used. \r\n\r\n    jshell&gt; double d = 17.755;\r\n    d ==&gt; 17.755\r\n    \r\n    jshell&gt; var x = new BigDecimal(d);\r\n    x ==&gt; 17.754999999999999005240169935859739780426025390625\r\n    \r\n    jshell&gt; var y = new BigDecimal(&quot;17.755&quot;);\r\n    y ==&gt; 17.755\r\n\r\nNow you can see that `x` which is an exact representation of `d` is actually less than `17.755` so when you round it it goes **down**.\r\n\r\n`y` on the other hand is exactly 17.755 and will round according the the rules you apply.\r\n\r\n    jshell&gt; System.out.printf(&quot;%.2f\\n&quot;, y);\r\n    17.76\r\n\r\n    jshell&gt; System.out.printf(&quot;%.2f\\n&quot;, x);\r\n    17.75\r\n","title":"Java - DecimalFormat not rounding off to 2 digits","body":"<p>First of, your final value is a <code>Double</code> <strong>it does not have 2 digits!</strong> When you do Double.valueOf it will become the <em>closest representable value</em>. If you actually want two digits in Java then you need to use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">BigDecimal</a> which actually stores base 10 floating point representations.</p>\n<p>The trick is, the value you are using is not what you think it is.</p>\n<pre><code>double d = 17.755;\n</code></pre>\n<p>Java doubles are power of 2 exponent, so a number that appears to be an exact value in decimal, has a repeating representation in float. That means it needs to be truncated and the closest value is used.</p>\n<pre><code>jshell&gt; double d = 17.755;\nd ==&gt; 17.755\n\njshell&gt; var x = new BigDecimal(d);\nx ==&gt; 17.754999999999999005240169935859739780426025390625\n\njshell&gt; var y = new BigDecimal(&quot;17.755&quot;);\ny ==&gt; 17.755\n</code></pre>\n<p>Now you can see that <code>x</code> which is an exact representation of <code>d</code> is actually less than <code>17.755</code> so when you round it it goes <strong>down</strong>.</p>\n<p><code>y</code> on the other hand is exactly 17.755 and will round according the the rules you apply.</p>\n<pre><code>jshell&gt; System.out.printf(&quot;%.2f\\n&quot;, y);\n17.76\n\njshell&gt; System.out.printf(&quot;%.2f\\n&quot;, x);\n17.75\n</code></pre>\n"}],"owner":{"account_id":2908204,"reputation":1283,"user_id":2493020,"accept_rate":67,"display_name":"Abdul Mohsin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676902491,"creation_date":1676441830,"question_id":75456112,"body_markdown":"I want to round off the numbers to 2 digits only, have written the below code:\r\n\r\n    Double input = 17.755;\r\n    DecimalFormat twoDigitDecimalFormat = new DecimalFormat(&quot;0.00&quot;);\r\n    Double output = Double.valueOf(twoDigitDecimalFormat.format(input));\r\n\r\nI was expecting output should be `17.76` but it is giving me `17.75` only, for all the other cases it is working perfectly fine, but only this number is not working, if I add one more digit in the input, say `17.7551` then it will roundoff to `17.76`","title":"Java - DecimalFormat not rounding off to 2 digits","body":"<p>I want to round off the numbers to 2 digits only, have written the below code:</p>\n<pre><code>Double input = 17.755;\nDecimalFormat twoDigitDecimalFormat = new DecimalFormat(&quot;0.00&quot;);\nDouble output = Double.valueOf(twoDigitDecimalFormat.format(input));\n</code></pre>\n<p>I was expecting output should be <code>17.76</code> but it is giving me <code>17.75</code> only, for all the other cases it is working perfectly fine, but only this number is not working, if I add one more digit in the input, say <code>17.7551</code> then it will roundoff to <code>17.76</code></p>\n"},{"tags":["java","scala","generics","gatling","scala-java-interop"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1676627051,"post_id":75446830,"comment_id":133179336,"body_markdown":"What are your Scala version, Java version, Gatling version?","body":"What are your Scala version, Java version, Gatling version?"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1676628044,"post_id":75446830,"comment_id":133179631,"body_markdown":"How is variable `myFeeder` defined?","body":"How is variable <code>myFeeder</code> defined?"}],"answers":[{"comments":[{"owner":{"account_id":1149855,"reputation":317,"user_id":1131796,"accept_rate":62,"display_name":"Oleksii Pylypchuk"},"score":0,"creation_date":1676374358,"post_id":75447105,"comment_id":133120122,"body_markdown":"that was my first feeling- mixing up is bad idea. I would better go with scala, but i will hardly be blessed to bring in one more language nobody else in the team knows, and the only reason i rolled down to scala is &quot;make&quot; method","body":"that was my first feeling- mixing up is bad idea. I would better go with scala, but i will hardly be blessed to bring in one more language nobody else in the team knows, and the only reason i rolled down to scala is &quot;make&quot; method"},{"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"score":1,"creation_date":1676374840,"post_id":75447105,"comment_id":133120278,"body_markdown":"Indeed, you should probably stick to Java to ease onboarding of other users who might not want to try Scala just for the sake of writing Gatling tests.","body":"Indeed, you should probably stick to Java to ease onboarding of other users who might not want to try Scala just for the sake of writing Gatling tests."}],"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676373757,"creation_date":1676373757,"answer_id":75447105,"question_id":75446830,"body_markdown":"Disclaimer: Gatling&#39;s author here\r\n\r\n&gt; is there better way to utilise scala Gatling api in java?\r\n\r\nDon&#39;t. Gatling&#39;s Java DSL wasn&#39;t built with interoperability with the Scala DSL in mind. In particular, `asScala()` is an internal.\r\n\r\nGo with either one or the other, but don&#39;t mix them together.","title":"invoking scala generic classes from java looses generic info","body":"<p>Disclaimer: Gatling's author here</p>\n<blockquote>\n<p>is there better way to utilise scala Gatling api in java?</p>\n</blockquote>\n<p>Don't. Gatling's Java DSL wasn't built with interoperability with the Scala DSL in mind. In particular, <code>asScala()</code> is an internal.</p>\n<p>Go with either one or the other, but don't mix them together.</p>\n"}],"owner":{"account_id":1149855,"reputation":317,"user_id":1131796,"accept_rate":62,"display_name":"Oleksii Pylypchuk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676902382,"creation_date":1676372170,"question_id":75446830,"body_markdown":"trying to use in java class defined in scala library. \r\nDefinition:\r\n```\r\nfinal class ScenarioBuilder(...) extends StructureBuilder[ScenarioBuilder]\r\ntrait StructureBuilder[B &lt;: StructureBuilder[B]] extends Execs[B] with Feeds[B]\r\n```\r\nyes, it is Gatling.\r\n\r\nmy java code:\r\n```\r\n    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\r\n        return in.feed(myFeeder.asScala())\r\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala())\r\n                .exec( http(&quot;my api call&quot;)\r\n                    .get(&quot;/api&quot;).asScala());\r\n    }\r\n```\r\n\r\nIdea finds this code correct, but whenever i try to compile it i get this errors:\r\n```\r\nsymbol:   method exec(io.gatling.core.action.builder.ActionBuilder)\r\nlocation: class java.lang.Object\r\nor\r\njava: incompatible types: java.lang.Object cannot be converted to io.gatling.core.structure.ScenarioBuilder\r\n```\r\n\r\nin other words methods ```B feed(...)``` from ```Feeds[B]``` and ```B exec(...)``` from ```Execs[B]``` always return Object and i would expect ```B``` to be ```ScenarioBuilder``` \r\n\r\nthe only way to compile and run this code i came up with is this:\r\n```\r\n    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\r\n        StructureBuilder&lt;ScenarioBuilder&gt; sb = in;\r\n        sb = (StructureBuilder&lt;ScenarioBuilder&gt;) sb.feed(myFeeder.asScala())\r\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala());\r\n        return (ScenarioBuilder) sb.exec( http(&quot;my api call&quot;)\r\n                    .get(&quot;/api&quot;).asScala());\r\n    }\r\n```\r\nand it looks disgusting \r\n\r\nquestions:\r\n- why does java misses generic info from scala classes?\r\n- is there better way to utilise scala Gatling api in java?\r\n- why does IDE finds the first variant correct and compiler does not?\r\n\r\nyes, i know there&#39;s java api in Gatling though by some reason method make is defined like this:\r\n\r\n```\r\n  public ScenarioBuilder make(\r\n      Function&lt;io.gatling.core.structure.ScenarioBuilder, io.gatling.core.structure.ScenarioBuilder&gt;\r\n          f) {\r\n    return new ScenarioBuilder(f.apply(wrapped));\r\n  }\r\n```\r\nand to me it is very open question  why it is defined this way.\r\n\r\nthanks in advance\r\n\r\nUPD:\r\njava- 1.8, scala- 2.11.8\r\n```\r\nmyFeeder  = listFeeder(Arrays.asList(\r\n                Collections.singletonMap(&quot;items&quot;, Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;))\r\n)).circular()\r\n```\r\n\r\nGatling version - 3.9.0 though the question not about Gatling itself it is mostly about calling scala code with generics from java. \r\n\r\nBy some reason javac does not see generic info in scala classes, and i wonder why.\r\n\r\nAs to Gatling i&#39;ve solved the issue by proper API usage, long story short don&#39;t use ```make``` methods for construction scenario from different steps ```exec(ChainBuilder)``` is the choice.\r\n\r\n","title":"invoking scala generic classes from java looses generic info","body":"<p>trying to use in java class defined in scala library.\nDefinition:</p>\n<pre><code>final class ScenarioBuilder(...) extends StructureBuilder[ScenarioBuilder]\ntrait StructureBuilder[B &lt;: StructureBuilder[B]] extends Execs[B] with Feeds[B]\n</code></pre>\n<p>yes, it is Gatling.</p>\n<p>my java code:</p>\n<pre><code>    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\n        return in.feed(myFeeder.asScala())\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala())\n                .exec( http(&quot;my api call&quot;)\n                    .get(&quot;/api&quot;).asScala());\n    }\n</code></pre>\n<p>Idea finds this code correct, but whenever i try to compile it i get this errors:</p>\n<pre><code>symbol:   method exec(io.gatling.core.action.builder.ActionBuilder)\nlocation: class java.lang.Object\nor\njava: incompatible types: java.lang.Object cannot be converted to io.gatling.core.structure.ScenarioBuilder\n</code></pre>\n<p>in other words methods <code>B feed(...)</code> from <code>Feeds[B]</code> and <code>B exec(...)</code> from <code>Execs[B]</code> always return Object and i would expect <code>B</code> to be <code>ScenarioBuilder</code></p>\n<p>the only way to compile and run this code i came up with is this:</p>\n<pre><code>    public ScenarioBuilder callMyApi(ScenarioBuilder in) {\n        StructureBuilder&lt;ScenarioBuilder&gt; sb = in;\n        sb = (StructureBuilder&lt;ScenarioBuilder&gt;) sb.feed(myFeeder.asScala())\n                .exec(addCookie(Cookie(&quot;key&quot;, &quot;value&quot;)).asScala());\n        return (ScenarioBuilder) sb.exec( http(&quot;my api call&quot;)\n                    .get(&quot;/api&quot;).asScala());\n    }\n</code></pre>\n<p>and it looks disgusting</p>\n<p>questions:</p>\n<ul>\n<li>why does java misses generic info from scala classes?</li>\n<li>is there better way to utilise scala Gatling api in java?</li>\n<li>why does IDE finds the first variant correct and compiler does not?</li>\n</ul>\n<p>yes, i know there's java api in Gatling though by some reason method make is defined like this:</p>\n<pre><code>  public ScenarioBuilder make(\n      Function&lt;io.gatling.core.structure.ScenarioBuilder, io.gatling.core.structure.ScenarioBuilder&gt;\n          f) {\n    return new ScenarioBuilder(f.apply(wrapped));\n  }\n</code></pre>\n<p>and to me it is very open question  why it is defined this way.</p>\n<p>thanks in advance</p>\n<p>UPD:\njava- 1.8, scala- 2.11.8</p>\n<pre><code>myFeeder  = listFeeder(Arrays.asList(\n                Collections.singletonMap(&quot;items&quot;, Arrays.asList(&quot;Item 1&quot;, &quot;Item 2&quot;))\n)).circular()\n</code></pre>\n<p>Gatling version - 3.9.0 though the question not about Gatling itself it is mostly about calling scala code with generics from java.</p>\n<p>By some reason javac does not see generic info in scala classes, and i wonder why.</p>\n<p>As to Gatling i've solved the issue by proper API usage, long story short don't use <code>make</code> methods for construction scenario from different steps <code>exec(ChainBuilder)</code> is the choice.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17622138,"reputation":78,"user_id":12787850,"display_name":"Dayton Rumbold"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676902070,"creation_date":1614722420,"answer_id":66447784,"question_id":66447662,"body_markdown":"It sounds like you want something like this... \r\n\r\n    \\---folder\r\n        |   file1.txt\r\n        |   file2.txt\r\n        |\r\n        \\---subfolder\r\n                file3.txt\r\n                file4.txt\r\n\r\nTo print... \r\n\r\n    folder\\file1.txt\r\n    folder\\file2.txt\r\n    folder\\subfolder\\file3.txt\r\n    folder\\subfolder\\file4.txt\r\n\r\nIf that assumption is right, one solution is to try using `java.nio.file.Files.walk(Path)`.\r\n\r\n    \r\n    Files.walk(Paths.get(&quot;folder&quot;))\r\n            .filter(Files::isRegularFile)\r\n            .forEach(System.out::println);//print out the files in all directories from root\r\n\r\n`Files.walk(path)` can return those subfolder files by walking the file tree rooted at the start file given.","title":"How to list directory items from a directory java","body":"<p>It sounds like you want something like this...</p>\n<pre><code>\\---folder\n    |   file1.txt\n    |   file2.txt\n    |\n    \\---subfolder\n            file3.txt\n            file4.txt\n</code></pre>\n<p>To print...</p>\n<pre><code>folder\\file1.txt\nfolder\\file2.txt\nfolder\\subfolder\\file3.txt\nfolder\\subfolder\\file4.txt\n</code></pre>\n<p>If that assumption is right, one solution is to try using <code>java.nio.file.Files.walk(Path)</code>.</p>\n<pre><code>Files.walk(Paths.get(&quot;folder&quot;))\n        .filter(Files::isRegularFile)\n        .forEach(System.out::println);//print out the files in all directories from root\n</code></pre>\n<p><code>Files.walk(path)</code> can return those subfolder files by walking the file tree rooted at the start file given.</p>\n"}],"owner":{"account_id":18429956,"reputation":29,"user_id":13425353,"display_name":"Massin_NYC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1614723343,"accepted_answer_id":66447784,"answer_count":1,"score":1,"last_activity_date":1676902070,"creation_date":1614721774,"question_id":66447662,"body_markdown":"I am building a program where the input is a directory path and the output should show all files in this path, **including the files from a directory, which are in the given path.** For example: *Input:* **C:** *Output:* **C:/Directory1** and **C:/Directory1/file1.pdf.**\r\n\r\n    static string Directory = sc.next();\r\n    static File folder = new File(Directory);\r\n    static File[]listofFiles = folder.listFiles();\r\n\r\n    public static void ListOfFilesInADirectory (final File folder) {\r\n    for (int i = 0; i &lt; listofFiles.length; i++) { \r\n    \t\t\t  if (listofFiles[i].isFile()) {\t\t   \r\n    \t\t\t    System.out.println(&quot;File &quot; + listofFiles[i].getName());\r\n    \t\t\t  } else if (listofFiles[i].isDirectory()) { \r\n    \t\t\t    System.out.println(&quot;Directory &quot; + listofFiles[i].getName());\r\n    \t\t\t  }\r\n    \t\t\t}\r\n    \t}\r\n\r\nThe code above is the code for the input of the directory and the output of all the files in this directory, but not them in a folder, of this directory. How can I show the files in folders of the director too?\r\n","title":"How to list directory items from a directory java","body":"<p>I am building a program where the input is a directory path and the output should show all files in this path, <strong>including the files from a directory, which are in the given path.</strong> For example: <em>Input:</em> <strong>C:</strong> <em>Output:</em> <strong>C:/Directory1</strong> and <strong>C:/Directory1/file1.pdf.</strong></p>\n<pre><code>static string Directory = sc.next();\nstatic File folder = new File(Directory);\nstatic File[]listofFiles = folder.listFiles();\n\npublic static void ListOfFilesInADirectory (final File folder) {\nfor (int i = 0; i &lt; listofFiles.length; i++) { \n              if (listofFiles[i].isFile()) {           \n                System.out.println(&quot;File &quot; + listofFiles[i].getName());\n              } else if (listofFiles[i].isDirectory()) { \n                System.out.println(&quot;Directory &quot; + listofFiles[i].getName());\n              }\n            }\n    }\n</code></pre>\n<p>The code above is the code for the input of the directory and the output of all the files in this directory, but not them in a folder, of this directory. How can I show the files in folders of the director too?</p>\n"},{"tags":["java","spring","mongodb"],"owner":{"account_id":1771524,"reputation":380,"user_id":1616194,"accept_rate":80,"display_name":"Maxim VA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676901456,"creation_date":1676901456,"question_id":75510157,"body_markdown":"Issue: I have fields in a MongoDB that need to map to a property of type Date (java.util) in a POJO (new POJO for existing documents), but the db has values of type String and Date for the same field.\r\n\r\nAs far as i can tell, i can use a Converter for that, this is what i have:\r\n\r\n```java\r\n@ReadingConverter\r\npublic class StringToDateConverter implements Converter&lt;String, Date&gt; {\r\n  private static final String DATE_PATTERN = &quot;yyyy-MM-dd&quot;;\r\n  private static final String DATE_PATTERN_SECONDS = &quot;yyyy-MM-dd HH:mm:ss&quot;;\r\n\r\n\r\n  @Override\r\n  public Date convert(String source) {\r\n    try {\r\n      // First attempt is to try and parse the date with the provided patterns\r\n      return DateUtils.parseDateStrictly(source, DATE_PATTERN, DATE_PATTERN_SECONDS);\r\n    } catch (ParseException parseException) {\r\n      try {\r\n        // If that doesn&#39;t work, next up is trying to parse it as an ISO_INSTANT (e.g. 2018-03-14T14:34:56.705Z)\r\n        TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_INSTANT.parse(source);\r\n        return Date.from(Instant.from(temporalAccessor));\r\n      } catch (DateTimeParseException dateTimeParseException) {\r\n        // The date cannot be parsed with the given patterns and isn&#39;t a valid ISO_INSTANT\r\n        String message = &quot;&#39;&quot; + source + &quot;&#39; could not be parsed as a date from one of the supported formats: &#39;&quot; + DATE_PATTERN +\r\n          &quot;&#39;, &#39;&quot; + DATE_PATTERN_SECONDS + &quot;&#39; and &#39;yyyy-MM-ddTHH:mm:ss.SSSZ&#39;&quot;;\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThen i register this converter with a mongoTemplate:\r\n```java\r\nthis.mongoTemplate = new MongoTemplate(mongoClient, &quot;database-name&quot;);\r\n    MappingMongoConverter converter = (MappingMongoConverter) mongoTemplate.getConverter();\r\n    converter.setCustomConversions(\r\n      new MongoCustomConversions(\r\n        Arrays.asList(\r\n          new StringToDateConverter()\r\n        )\r\n      )\r\n    );\r\n    converter.afterPropertiesSet();\r\n```\r\n\r\nWhen i view the converters in the mongoTemplate like so ``mongoTemplate.getConverter().getCustomConversions();`` i can see the custom converter.\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when i try to read from the db, the convert function of the converter is never called and i keep getting this error: ``Decoding &#39;someDate&#39; errored with: readStartDocument can only be called when CurrentBSONType is DOCUMENT, not when CurrentBSONType is STRING``\r\n\r\n```java\r\nMongoCollection&lt;PojoClassName&gt; collection = mongoTemplate.getCollection(&quot;collection-name&quot;).withDocumentClass(PojoClassName.class);\r\n```\r\n\r\nShould i register the custom converter another way, or am i missing something obvious here?\r\n\r\nI&#39;m using spring-boot-starter-parent 2.7.8 and mongodb java driver 4.8.2\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VAHgw.png","title":"Is it possible to use custom conversions with a mongo collection for a specific POJO","body":"<p>Issue: I have fields in a MongoDB that need to map to a property of type Date (java.util) in a POJO (new POJO for existing documents), but the db has values of type String and Date for the same field.</p>\n<p>As far as i can tell, i can use a Converter for that, this is what i have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ReadingConverter\npublic class StringToDateConverter implements Converter&lt;String, Date&gt; {\n  private static final String DATE_PATTERN = &quot;yyyy-MM-dd&quot;;\n  private static final String DATE_PATTERN_SECONDS = &quot;yyyy-MM-dd HH:mm:ss&quot;;\n\n\n  @Override\n  public Date convert(String source) {\n    try {\n      // First attempt is to try and parse the date with the provided patterns\n      return DateUtils.parseDateStrictly(source, DATE_PATTERN, DATE_PATTERN_SECONDS);\n    } catch (ParseException parseException) {\n      try {\n        // If that doesn't work, next up is trying to parse it as an ISO_INSTANT (e.g. 2018-03-14T14:34:56.705Z)\n        TemporalAccessor temporalAccessor = DateTimeFormatter.ISO_INSTANT.parse(source);\n        return Date.from(Instant.from(temporalAccessor));\n      } catch (DateTimeParseException dateTimeParseException) {\n        // The date cannot be parsed with the given patterns and isn't a valid ISO_INSTANT\n        String message = &quot;'&quot; + source + &quot;' could not be parsed as a date from one of the supported formats: '&quot; + DATE_PATTERN +\n          &quot;', '&quot; + DATE_PATTERN_SECONDS + &quot;' and 'yyyy-MM-ddTHH:mm:ss.SSSZ'&quot;;\n        return null;\n      }\n    }\n  }\n}\n</code></pre>\n<p>Then i register this converter with a mongoTemplate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.mongoTemplate = new MongoTemplate(mongoClient, &quot;database-name&quot;);\n    MappingMongoConverter converter = (MappingMongoConverter) mongoTemplate.getConverter();\n    converter.setCustomConversions(\n      new MongoCustomConversions(\n        Arrays.asList(\n          new StringToDateConverter()\n        )\n      )\n    );\n    converter.afterPropertiesSet();\n</code></pre>\n<p>When i view the converters in the mongoTemplate like so <code>mongoTemplate.getConverter().getCustomConversions();</code> i can see the custom converter.\n<a href=\"https://i.stack.imgur.com/VAHgw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VAHgw.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when i try to read from the db, the convert function of the converter is never called and i keep getting this error: <code>Decoding 'someDate' errored with: readStartDocument can only be called when CurrentBSONType is DOCUMENT, not when CurrentBSONType is STRING</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoCollection&lt;PojoClassName&gt; collection = mongoTemplate.getCollection(&quot;collection-name&quot;).withDocumentClass(PojoClassName.class);\n</code></pre>\n<p>Should i register the custom converter another way, or am i missing something obvious here?</p>\n<p>I'm using spring-boot-starter-parent 2.7.8 and mongodb java driver 4.8.2</p>\n"},{"tags":["java","spring","websocket","stomp"],"owner":{"account_id":27400247,"reputation":1,"user_id":20901785,"display_name":"Julian Weghaupt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676901205,"creation_date":1676901170,"question_id":75510115,"body_markdown":"I want to implement a simple lobby function in a webapplication of mine using Stomp-websockets.\r\n\r\nThe basic idea is this:\r\n- When somebody tries to create a lobby, a lobby is created by the server and they try to subscribe to a topic with that lobbyId.\r\n- If the creation of the lobby is not possible, i want to reject the subscription.\r\n\r\nIs Spring Security with Authorization the only way to handle this, or is there simpler way to approach this?\r\n\r\nI am already using an eventlistener to receive SessionsubscribeEvents and am accessing the Session Id via the event, but how can i get the Session with the accessed Id?\r\n\r\n\r\n","title":"Handling Stompsessions in Spring","body":"<p>I want to implement a simple lobby function in a webapplication of mine using Stomp-websockets.</p>\n<p>The basic idea is this:</p>\n<ul>\n<li>When somebody tries to create a lobby, a lobby is created by the server and they try to subscribe to a topic with that lobbyId.</li>\n<li>If the creation of the lobby is not possible, i want to reject the subscription.</li>\n</ul>\n<p>Is Spring Security with Authorization the only way to handle this, or is there simpler way to approach this?</p>\n<p>I am already using an eventlistener to receive SessionsubscribeEvents and am accessing the Session Id via the event, but how can i get the Session with the accessed Id?</p>\n"},{"tags":["java","spring","filter","spring-security"],"comments":[{"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"İsmail Y."},"score":0,"creation_date":1676903394,"post_id":75507756,"comment_id":133225752,"body_markdown":"Does this answer your question? [How can I access the H2-console while using Spring Security (Spring Boot 3.0.2)?](https://stackoverflow.com/questions/75367159/how-can-i-access-the-h2-console-while-using-spring-security-spring-boot-3-0-2)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75367159/how-can-i-access-the-h2-console-while-using-spring-security-spring-boot-3-0-2\">How can I access the H2-console while using Spring Security (Spring Boot 3.0.2)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676900977,"creation_date":1676900977,"answer_id":75510076,"question_id":75507756,"body_markdown":"The problem is at `webSecurityCustomizer`\r\n\r\nThe `requestMatchers` should be set to `AntPathRequestMatcher` not the default `MvcRequestMatcher`\r\n\r\n    @Bean\r\n    WebSecurityCustomizer webSecurityCustomizer() {\r\n        return web -&gt; web.ignoring().requestMatchers(\r\n                           new AntPathRequestMatcher(&quot;/h2-console/**&quot;)\r\n                        );\r\n    }","title":"Spring Security 6 SecurityFilterChain precedence WebSecurityCustomizer","body":"<p>The problem is at <code>webSecurityCustomizer</code></p>\n<p>The <code>requestMatchers</code> should be set to <code>AntPathRequestMatcher</code> not the default <code>MvcRequestMatcher</code></p>\n<pre><code>@Bean\nWebSecurityCustomizer webSecurityCustomizer() {\n    return web -&gt; web.ignoring().requestMatchers(\n                       new AntPathRequestMatcher(&quot;/h2-console/**&quot;)\n                    );\n}\n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3369,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75510076,"answer_count":1,"score":1,"last_activity_date":1676900977,"creation_date":1676887084,"question_id":75507756,"body_markdown":"In spring security 6 I have configured the `securityFilterChain` as below:\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n        http.csrf()\r\n            .disable()\r\n            .cors()\r\n            .and()\r\n            .exceptionHandling()\r\n            .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .authorizeHttpRequests(\r\n            \t\tauthorize -&gt; authorize\r\n            \t\t\t.requestMatchers(HttpMethod.OPTIONS).permitAll()\r\n            \t\t\t.requestMatchers(HttpMethod.GET,&quot;/articles/feed&quot;).authenticated()\r\n            \t\t\t.requestMatchers(HttpMethod.POST, &quot;/users&quot;,  &quot;/users/login&quot;).permitAll()\r\n            \t\t\t.requestMatchers(HttpMethod.GET, &quot;/articles/**&quot;, &quot;/profiles/**&quot;, &quot;/tags&quot;).permitAll()\r\n    \t\t\t        .anyRequest().authenticated()\r\n    \t\t\t        )\r\n            .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n            return http.build();\r\n      }\r\n\r\nTo enable `h2-console` I have add this:\r\n\r\n\t@Bean\r\n\tpublic WebSecurityCustomizer webSecurityCustomizer() {\r\n\t\treturn (web) -&gt; web.ignoring().requestMatchers(&quot;/h2-console/**&quot;);\r\n\t}\r\n\r\nHowever I find that the configurations in `SecurityFilterChain` are precedence the configurations which I set in `WebSecurityCustomizer`. For example the `jwtRequestFilter` is still lunched for `/h2-console/**` urls\r\n\r\nI can configure `/h2-console/*` in filter chain, But I want to know if there are other ways.","title":"Spring Security 6 SecurityFilterChain precedence WebSecurityCustomizer","body":"<p>In spring security 6 I have configured the <code>securityFilterChain</code> as below:</p>\n<pre><code>@Bean\nSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    http.csrf()\n        .disable()\n        .cors()\n        .and()\n        .exceptionHandling()\n        .authenticationEntryPoint(new HttpStatusEntryPoint(HttpStatus.UNAUTHORIZED))\n        .and()\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeHttpRequests(\n                authorize -&gt; authorize\n                    .requestMatchers(HttpMethod.OPTIONS).permitAll()\n                    .requestMatchers(HttpMethod.GET,&quot;/articles/feed&quot;).authenticated()\n                    .requestMatchers(HttpMethod.POST, &quot;/users&quot;,  &quot;/users/login&quot;).permitAll()\n                    .requestMatchers(HttpMethod.GET, &quot;/articles/**&quot;, &quot;/profiles/**&quot;, &quot;/tags&quot;).permitAll()\n                    .anyRequest().authenticated()\n                    )\n        .addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n        return http.build();\n  }\n</code></pre>\n<p>To enable <code>h2-console</code> I have add this:</p>\n<pre><code>@Bean\npublic WebSecurityCustomizer webSecurityCustomizer() {\n    return (web) -&gt; web.ignoring().requestMatchers(&quot;/h2-console/**&quot;);\n}\n</code></pre>\n<p>However I find that the configurations in <code>SecurityFilterChain</code> are precedence the configurations which I set in <code>WebSecurityCustomizer</code>. For example the <code>jwtRequestFilter</code> is still lunched for <code>/h2-console/**</code> urls</p>\n<p>I can configure <code>/h2-console/*</code> in filter chain, But I want to know if there are other ways.</p>\n"},{"tags":["java","android","sqlite","encoding","utf-8"],"comments":[{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":5,"creation_date":1509128664,"post_id":46981216,"comment_id":80910018,"body_markdown":"There is no foolproof way to determine character encoding from the encoded character data alone.  There are heuristic approaches that even a cursory web search should have turned up, but the usual mechanism is to rely on the encoding to be specified separately from the content.","body":"There is no foolproof way to determine character encoding from the encoded character data alone.  There are heuristic approaches that even a cursory web search should have turned up, but the usual mechanism is to rely on the encoding to be specified separately from the content."},{"owner":{"account_id":11849195,"reputation":109,"user_id":8670974,"display_name":"sdfbhg"},"score":0,"creation_date":1509128788,"post_id":46981216,"comment_id":80910074,"body_markdown":"Usually the encoding is specified by whomever inserted the data or separately from the content","body":"Usually the encoding is specified by whomever inserted the data or separately from the content"},{"owner":{"account_id":11935718,"reputation":21,"user_id":8734277,"display_name":"Kevin Giediel"},"score":0,"creation_date":1509129241,"post_id":46981216,"comment_id":80910284,"body_markdown":"that&#39;s true, however the problem is: my users are going to edit the file, if they edit with windows notepad and save it, it&#39;ll always get the encoding as &quot;ISO-8859-1&quot;. The original file encoding is &quot;UTF-8&quot;.","body":"that&#39;s true, however the problem is: my users are going to edit the file, if they edit with windows notepad and save it, it&#39;ll always get the encoding as &quot;ISO-8859-1&quot;. The original file encoding is &quot;UTF-8&quot;."},{"owner":{"account_id":1877557,"reputation":5688,"user_id":1698431,"accept_rate":75,"display_name":"lenz"},"score":1,"creation_date":1509130865,"post_id":46981216,"comment_id":80910972,"body_markdown":"I suggest you look for an encoding guessing library. Validating UTF-8 is pretty straight-forward, but when it comes Notepad and friends, you will get whatever 8-bit encoding is suitable for the user&#39;s localisation – eg. Polish `ł` can&#39;t be represented in ISO-8859-1. And for distinguishing different ISO-8859-_X_ encodings, you need statistics of character distributions in different languages.","body":"I suggest you look for an encoding guessing library. Validating UTF-8 is pretty straight-forward, but when it comes Notepad and friends, you will get whatever 8-bit encoding is suitable for the user&#39;s localisation – eg. Polish <code>ł</code> can&#39;t be represented in ISO-8859-1. And for distinguishing different ISO-8859-<i>X</i> encodings, you need statistics of character distributions in different languages."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1509138021,"post_id":46981216,"comment_id":80914111,"body_markdown":"Isn&#39;t ISO-8859-1 a full subset of UTF-8?  I would recommend just assuming UTF-8 instead of trying to calculate if the file is ISO-8859-1 or UTF-8.  The issue arises if the uploaded file&#39;s encoding is either Windows-1252 or ISO-8859-X.  In the cases of Windows-1252, I have written converters that look for the microsoft control characters and then either translate them to a more ascii based character or the proper UTF-8 characters.  For ISO-8859-X issues, er, you&#39;re on your own.  Sorry.","body":"Isn&#39;t ISO-8859-1 a full subset of UTF-8?  I would recommend just assuming UTF-8 instead of trying to calculate if the file is ISO-8859-1 or UTF-8.  The issue arises if the uploaded file&#39;s encoding is either Windows-1252 or ISO-8859-X.  In the cases of Windows-1252, I have written converters that look for the microsoft control characters and then either translate them to a more ascii based character or the proper UTF-8 characters.  For ISO-8859-X issues, er, you&#39;re on your own.  Sorry."},{"owner":{"account_id":108321,"reputation":88297,"user_id":287586,"accept_rate":80,"display_name":"dan04"},"score":1,"creation_date":1509146046,"post_id":46981216,"comment_id":80916552,"body_markdown":"@hooknc: *US-ASCII* is a subset of UTF-8.  ISO-8859-1 is a subset in terms of character repertoire, but *not* in terms of encoded bytes.","body":"@hooknc: <i>US-ASCII</i> is a subset of UTF-8.  ISO-8859-1 is a subset in terms of character repertoire, but <i>not</i> in terms of encoded bytes."},{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1509297022,"post_id":46981216,"comment_id":80952380,"body_markdown":"You can&#39;t edit a text file without knowing which encoding to read it with and how to save back with the same, and which character set the encoding is for so as to avoid characters that aren&#39;t supported. Can you provide a template in a format that: explains it or influences the editors to default to the right thing or helps detect that the user inappropriately switched the encoding?","body":"You can&#39;t edit a text file without knowing which encoding to read it with and how to save back with the same, and which character set the encoding is for so as to avoid characters that aren&#39;t supported. Can you provide a template in a format that: explains it or influences the editors to default to the right thing or helps detect that the user inappropriately switched the encoding?"}],"answers":[{"tags":[],"owner":{"account_id":11935718,"reputation":21,"user_id":8734277,"display_name":"Kevin Giediel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676900881,"creation_date":1509391026,"answer_id":47022705,"question_id":46981216,"body_markdown":"I resolved the problem with the lib universal chardet.\r\nIt&#39;s working fine as expected.\r\n\r\n\tFileInputStream fIn  = new FileInputStream(myFile);\r\n\tbyte[] buf = new byte[4096];\r\n\tUniversalDetector detector = new UniversalDetector(null);\r\n\tint nread;\r\n\twhile ((nread = fIn.read(buf)) &gt; 0 &amp;&amp; !detector.isDone()) {\r\n\t\tdetector.handleData(buf, 0, nread);\r\n\t}\r\n\tdetector.dataEnd();\r\n\tString encoding = detector.getDetectedCharset();\r\n\tString chartsetName = null;\r\n\tif (encoding.equalsIgnoreCase(&quot;WINDOWS-1252&quot;)){\r\n\t\tchartsetName = &quot;ISO-8859-1&quot;;\r\n\t}\r\n\tif (encoding.equalsIgnoreCase(&quot;UTF-8&quot;)){\r\n\t\tchartsetName = &quot;UTF-8&quot;;\r\n\t}\r\n\r\n\tBufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, chartsetName));","title":"java how to distinguish a file encoding ISO-8859-1 and UTF-8?","body":"<p>I resolved the problem with the lib universal chardet.\nIt's working fine as expected.</p>\n<pre><code>FileInputStream fIn  = new FileInputStream(myFile);\nbyte[] buf = new byte[4096];\nUniversalDetector detector = new UniversalDetector(null);\nint nread;\nwhile ((nread = fIn.read(buf)) &gt; 0 &amp;&amp; !detector.isDone()) {\n    detector.handleData(buf, 0, nread);\n}\ndetector.dataEnd();\nString encoding = detector.getDetectedCharset();\nString chartsetName = null;\nif (encoding.equalsIgnoreCase(&quot;WINDOWS-1252&quot;)){\n    chartsetName = &quot;ISO-8859-1&quot;;\n}\nif (encoding.equalsIgnoreCase(&quot;UTF-8&quot;)){\n    chartsetName = &quot;UTF-8&quot;;\n}\n\nBufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, chartsetName));\n</code></pre>\n"}],"owner":{"account_id":11935718,"reputation":21,"user_id":8734277,"display_name":"Kevin Giediel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47022705,"answer_count":1,"score":1,"last_activity_date":1676900881,"creation_date":1509128265,"question_id":46981216,"body_markdown":"I have an Android Aplication that reads a file with SQL script to insert data into a SQLite DB.\r\nHowever I need to know the exatly encoding of this file, I have an EditText that reads information from SQLite, and if the encoding is not right, it&#39;ll be shown as invalid characters like &quot;?&quot; instead of characters like &quot;&#231;, &#237;, &#227;&quot;.\r\n\r\nI have the following code:\r\n\r\n    FileInputStream fIn  = new FileInputStream(myFile);\r\n    BufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, &quot;ISO-8859-1&quot;));\r\n\tString aDataRow;\r\n\twhile ((aDataRow = myReader.readLine()) != null) {\r\n\t\tif(!aDataRow.isEmpty()){\r\n\t\t\tString[] querys = aDataRow.split(&quot;;&quot;);\r\n\t\t\tCollections.addAll(querysParaExecutar, querys);\r\n\t\t}\r\n\t}\r\n\tmyReader.close();\r\n\r\n------\r\nthis works for &quot;ISO-8859-1&quot; encoding, and works for UTF-8 if I set to &quot;UTF-8&quot; as a charset. I need to programatically detect the charset encoding (UTF-8 or ISO-8859-1) and apply the correct one to my code.\r\nIs there a simple way to do that?","title":"java how to distinguish a file encoding ISO-8859-1 and UTF-8?","body":"<p>I have an Android Aplication that reads a file with SQL script to insert data into a SQLite DB.\nHowever I need to know the exatly encoding of this file, I have an EditText that reads information from SQLite, and if the encoding is not right, it'll be shown as invalid characters like \"?\" instead of characters like \"ç, í, ã\".</p>\n\n<p>I have the following code:</p>\n\n<pre><code>FileInputStream fIn  = new FileInputStream(myFile);\nBufferedReader myReader = new BufferedReader(new InputStreamReader(fIn, \"ISO-8859-1\"));\nString aDataRow;\nwhile ((aDataRow = myReader.readLine()) != null) {\n    if(!aDataRow.isEmpty()){\n        String[] querys = aDataRow.split(\";\");\n        Collections.addAll(querysParaExecutar, querys);\n    }\n}\nmyReader.close();\n</code></pre>\n\n<hr>\n\n<p>this works for \"ISO-8859-1\" encoding, and works for UTF-8 if I set to \"UTF-8\" as a charset. I need to programatically detect the charset encoding (UTF-8 or ISO-8859-1) and apply the correct one to my code.\nIs there a simple way to do that?</p>\n"},{"tags":["java","postgresql","spring-batch","mybatis","connection-pooling"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1676888937,"post_id":75507960,"comment_id":133221652,"body_markdown":"Do your jobs also create some threats on their own?","body":"Do your jobs also create some threats on their own?"},{"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"score":0,"creation_date":1676889184,"post_id":75507960,"comment_id":133221738,"body_markdown":"thanks for the response, and no, no nested threads nor transactions found in jobs","body":"thanks for the response, and no, no nested threads nor transactions found in jobs"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1676889736,"post_id":75507960,"comment_id":133221921,"body_markdown":"Do your jobs run for a long while?","body":"Do your jobs run for a long while?"},{"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"score":0,"creation_date":1676889919,"post_id":75507960,"comment_id":133221962,"body_markdown":"jobs are completed by 60~120 seconds, and data-source property `maxWaitMillis` is set to `128000`","body":"jobs are completed by 60~120 seconds, and data-source property <code>maxWaitMillis</code> is set to <code>128000</code>"},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1676891140,"post_id":75507960,"comment_id":133222280,"body_markdown":"Is it possible that sometimes they take a longer time to complete? 128000 is only slightly greater than 120 seconds. So, if sometimes they take 128 seconds, then it could be a timeout issue.","body":"Is it possible that sometimes they take a longer time to complete? 128000 is only slightly greater than 120 seconds. So, if sometimes they take 128 seconds, then it could be a timeout issue."},{"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"score":0,"creation_date":1676891698,"post_id":75507960,"comment_id":133222424,"body_markdown":"with a job like the sample code, does 1 job use 3 connections ? ( 1 connection for each step using transaction-manager)\n1 thought a connection was returned to the pool whenever it is committed or rollbacked, so 1 job uses 1 connection as a result.","body":"with a job like the sample code, does 1 job use 3 connections ? ( 1 connection for each step using transaction-manager) 1 thought a connection was returned to the pool whenever it is committed or rollbacked, so 1 job uses 1 connection as a result."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676900846,"creation_date":1676900846,"answer_id":75510050,"question_id":75507960,"body_markdown":"The number of database connections used in a step depends on a number of parameters, including the type of the step (single-threaded or multi-threaded), as well as the type of item reader (for example the jdbc cursor item reader opens a single connection, while the jdbc paging item reader opens a connection per page). The type of the reader is not described in your question, and without the full stack trace of the error, it is impossible to know the root cause of your issue.\r\n\r\nThe best way to answer your question is by enabling debug logs for the `org.springframework.jdbc` package.","title":"Could not open JDBC for transaction with Spring Batch","body":"<p>The number of database connections used in a step depends on a number of parameters, including the type of the step (single-threaded or multi-threaded), as well as the type of item reader (for example the jdbc cursor item reader opens a single connection, while the jdbc paging item reader opens a connection per page). The type of the reader is not described in your question, and without the full stack trace of the error, it is impossible to know the root cause of your issue.</p>\n<p>The best way to answer your question is by enabling debug logs for the <code>org.springframework.jdbc</code> package.</p>\n"}],"owner":{"account_id":7626458,"reputation":125,"user_id":5782763,"display_name":"guchuan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676900846,"creation_date":1676888261,"question_id":75507960,"body_markdown":"Sorry for the poor English, but I hope someone can help me.\r\n\r\nI am facing a \r\n`Could not open JDBC for transaction`\r\nerror caused by `org.springframework.jdbc.datasource.DataSourceTransactionManager` with SpringBatch.\r\n\r\nI have a job defined in xml that looks like this\r\n```xml\r\n&lt;batch:job id=&quot;chunkJob&quot; job-repository=&quot;jobRepository&quot;&gt;\r\n    &lt;batch:step id=&quot;chunkJob.step01&quot;&gt;\r\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\r\n            &lt;batch:chunk reader=&quot;reader1&quot;\r\n                         processor=&quot;processor1&quot;\r\n                         writer=&quot;writer1&quot;\r\n                         commit-interval=&quot;1&quot; /&gt;\r\n        &lt;/batch:tasklet&gt;\r\n    &lt;/batch:step&gt;\r\n    &lt;batch:step id=&quot;chunkJob.step02&quot;&gt;\r\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\r\n            &lt;batch:chunk reader=&quot;reader2&quot;\r\n                         processor=&quot;processor2&quot;\r\n                         writer=&quot;writer2&quot;\r\n                         commit-interval=&quot;1&quot; /&gt;\r\n        &lt;/batch:tasklet&gt;\r\n    &lt;/batch:step&gt;\r\n    &lt;batch:step id=&quot;chunkJob.step03&quot;&gt;\r\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\r\n            &lt;batch:chunk reader=&quot;reader3&quot;\r\n                         processor=&quot;processor3&quot;\r\n                         writer=&quot;writer3&quot;\r\n                         commit-interval=&quot;1&quot; /&gt;\r\n        &lt;/batch:tasklet&gt;\r\n    &lt;/batch:step&gt;\r\n&lt;/batch:job&gt;\r\n\r\n```\r\n\r\nJava process is running untill I shut it down by my will, and job runs when I trigger it to run. And I set it to use multiple java thread to run several jobs at the same time.\r\n\r\n`jobTransactionManager` is using `org.apache.commons.dbcp2.BasicDataSource`, database is postgresql, and number of max connection set for pool is `10`.\r\n\r\nThe error came up when 4 job ran on the same time, but the error won&#39;t reproduce every time 4 job runs together.\r\nI was expecting the jdbc-connection to be returned every time the batch-step is completed(committed or rollbacked), so the number of connections that 1 job uses is 1, but since this error came up, I am bit confused.\r\n\r\nCan anyone help me understand how and when the jdbc connection is returned to the pool ?","title":"Could not open JDBC for transaction with Spring Batch","body":"<p>Sorry for the poor English, but I hope someone can help me.</p>\n<p>I am facing a\n<code>Could not open JDBC for transaction</code>\nerror caused by <code>org.springframework.jdbc.datasource.DataSourceTransactionManager</code> with SpringBatch.</p>\n<p>I have a job defined in xml that looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;batch:job id=&quot;chunkJob&quot; job-repository=&quot;jobRepository&quot;&gt;\n    &lt;batch:step id=&quot;chunkJob.step01&quot;&gt;\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\n            &lt;batch:chunk reader=&quot;reader1&quot;\n                         processor=&quot;processor1&quot;\n                         writer=&quot;writer1&quot;\n                         commit-interval=&quot;1&quot; /&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n    &lt;batch:step id=&quot;chunkJob.step02&quot;&gt;\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\n            &lt;batch:chunk reader=&quot;reader2&quot;\n                         processor=&quot;processor2&quot;\n                         writer=&quot;writer2&quot;\n                         commit-interval=&quot;1&quot; /&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n    &lt;batch:step id=&quot;chunkJob.step03&quot;&gt;\n        &lt;batch:tasklet transaction-manager=&quot;jobTransactionManager&quot;&gt;\n            &lt;batch:chunk reader=&quot;reader3&quot;\n                         processor=&quot;processor3&quot;\n                         writer=&quot;writer3&quot;\n                         commit-interval=&quot;1&quot; /&gt;\n        &lt;/batch:tasklet&gt;\n    &lt;/batch:step&gt;\n&lt;/batch:job&gt;\n\n</code></pre>\n<p>Java process is running untill I shut it down by my will, and job runs when I trigger it to run. And I set it to use multiple java thread to run several jobs at the same time.</p>\n<p><code>jobTransactionManager</code> is using <code>org.apache.commons.dbcp2.BasicDataSource</code>, database is postgresql, and number of max connection set for pool is <code>10</code>.</p>\n<p>The error came up when 4 job ran on the same time, but the error won't reproduce every time 4 job runs together.\nI was expecting the jdbc-connection to be returned every time the batch-step is completed(committed or rollbacked), so the number of connections that 1 job uses is 1, but since this error came up, I am bit confused.</p>\n<p>Can anyone help me understand how and when the jdbc connection is returned to the pool ?</p>\n"},{"tags":["java","delimiter"],"comments":[{"owner":{"account_id":13773045,"reputation":717,"user_id":9939999,"display_name":"Raj"},"score":3,"creation_date":1536571426,"post_id":52254657,"comment_id":91456757,"body_markdown":"Can you share your code?","body":"Can you share your code?"},{"owner":{"account_id":10995975,"reputation":2305,"user_id":8078178,"display_name":"Ramesh"},"score":0,"creation_date":1536571451,"post_id":52254657,"comment_id":91456775,"body_markdown":"Please come up with a code that you have tried.","body":"Please come up with a code that you have tried."},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1536571461,"post_id":52254657,"comment_id":91456783,"body_markdown":"How are you reading those values? If you don&#39;t share your code, no one will be able to answer this question.","body":"How are you reading those values? If you don&#39;t share your code, no one will be able to answer this question."},{"owner":{"account_id":2513781,"reputation":1109,"user_id":2185630,"display_name":"dbl"},"score":0,"creation_date":1536571518,"post_id":52254657,"comment_id":91456817,"body_markdown":"Are you using a notebook and a pen to process all those entries?","body":"Are you using a notebook and a pen to process all those entries?"},{"owner":{"account_id":14316670,"reputation":3,"user_id":10341267,"display_name":"Joel Miller"},"score":0,"creation_date":1536664287,"post_id":52254657,"comment_id":91496370,"body_markdown":"Hey everyone, my bad I just noticed how I didn’t include the code I used. It was basically using Scanner scan = new Scanner (System.in); so since the default delimeter is a white space, whatever the first value is (14 in this case) will be stored correct?","body":"Hey everyone, my bad I just noticed how I didn’t include the code I used. It was basically using Scanner scan = new Scanner (System.in); so since the default delimeter is a white space, whatever the first value is (14 in this case) will be stored correct?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1536574863,"creation_date":1536574863,"answer_id":52255668,"question_id":52254657,"body_markdown":"Assuming you&#39;re talking about `java.util.Scanner`, the default delimiter is whitespace. Therefore, if you enter &quot;14 45 20 16&quot; on the command line and then pressed the enter key, the `nextInt` or `next` call on the scanner instance would return 14. If you then call `nextInt` on scanner again, you get no prompting; that would immediately return 45. Another 2 calls would return respectively 20 and 16. If you then call `nextInt` a fifth time, that call would wait until you typed something.\r\n","title":"On the subject of delimiters","body":"<p>Assuming you're talking about <code>java.util.Scanner</code>, the default delimiter is whitespace. Therefore, if you enter \"14 45 20 16\" on the command line and then pressed the enter key, the <code>nextInt</code> or <code>next</code> call on the scanner instance would return 14. If you then call <code>nextInt</code> on scanner again, you get no prompting; that would immediately return 45. Another 2 calls would return respectively 20 and 16. If you then call <code>nextInt</code> a fifth time, that call would wait until you typed something.</p>\n"}],"owner":{"account_id":14316670,"reputation":3,"user_id":10341267,"display_name":"Joel Miller"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"accepted_answer_id":52255668,"answer_count":1,"score":-5,"last_activity_date":1676900815,"creation_date":1536571342,"question_id":52254657,"body_markdown":"I’m new to Java and was just wondering , with the default delimiter, what will be the value of age? (Note i enter the values when prompted and then end with a ‘enter’ key) \r\n\r\nEnter Age: 14 45 20 16 (then press enter key) \r\n\r\nWhat is the value of age( 14? 16? 14452016?) and why?","title":"On the subject of delimiters","body":"<p>I’m new to Java and was just wondering , with the default delimiter, what will be the value of age? (Note i enter the values when prompted and then end with a ‘enter’ key)</p>\n<p>Enter Age: 14 45 20 16 (then press enter key)</p>\n<p>What is the value of age( 14? 16? 14452016?) and why?</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"score":0,"creation_date":1602829990,"post_id":64384014,"comment_id":113848820,"body_markdown":"Please add a [Minimal Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) and your complete stack trace.","body":"Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal Reproducible Example</a> and your complete stack trace."},{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1602829994,"post_id":64384014,"comment_id":113848824,"body_markdown":"What type is `pictures`? I think it&#39;s a custom type and don&#39;t have method `append`  so getting error.","body":"What type is <code>pictures</code>? I think it&#39;s a custom type and don&#39;t have method <code>append</code>  so getting error."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":1,"creation_date":1602830216,"post_id":64384014,"comment_id":113848905,"body_markdown":"I think `pictures` is a `String[]`. And a `String` doesn&#39;t have an `append` method.","body":"I think <code>pictures</code> is a <code>String[]</code>. And a <code>String</code> doesn&#39;t have an <code>append</code> method."}],"answers":[{"comments":[{"owner":{"account_id":10692006,"reputation":93,"user_id":7870548,"display_name":"Shivangi"},"score":1,"creation_date":1602918614,"post_id":64384206,"comment_id":113876685,"body_markdown":"Well that is the problem, I am not trying to print them directly but append and store it into a separate array and then use that arraylist later.","body":"Well that is the problem, I am not trying to print them directly but append and store it into a separate array and then use that arraylist later."},{"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"score":0,"creation_date":1603002547,"post_id":64384206,"comment_id":113894372,"body_markdown":"@Shivangi My edit stores the words into an array that can be used later, `framedString`","body":"@Shivangi My edit stores the words into an array that can be used later, <code>framedString</code>"}],"tags":[],"owner":{"account_id":10341526,"reputation":284,"user_id":13157036,"display_name":"CodingNinja"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602833117,"creation_date":1602830946,"answer_id":64384206,"question_id":64384014,"body_markdown":"You can simplify this without using `.append`. Use a `for` loop to print a row of asterisks, which should be the length of the string plus 2(1 extra for each side). To get the length of the string use `.length()`Then print an asterisk before and after the string using\r\n\r\n `System.out.println(&quot;*&quot; + string + &quot;*&quot;);`\r\n\r\nand print the same row of asterisks as in the first part.\r\n\r\n\r\nThe same goes for printing an array of strings, just use a for loop to print each value with  `System.out.println(&quot;*&quot; + string[i] + &quot;*&quot;);` then follow it with the same row of asterisks used for the top border.\r\n\r\n---\r\nEdit: After reading your question again closely I think you wanted the result stored in a new array. I started writing an example code and couldn&#39;t help but write the whole thing:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString text [] = {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;};\r\n\t    String framedString [] = {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}; //java arrays are fixed in size, \r\n                                                         //so I had to define 6 blank values\r\n\t    String asterisks = &quot;**&quot;;\r\n\t    int lineCounter = 0;\r\n\t    \r\n\t    for (int i = 0; i &lt; text[1].length(); i++) { //creates string of asterisks\r\n\t    \tasterisks = asterisks + &quot;*&quot;;\r\n\t    }\r\n\t    \r\n    \tframedString[lineCounter] = asterisks; //first value becomes asterisk string\r\n    \t\r\n    \tfor (int j = 0; j &lt; text.length; j++) { //adds an asterisk before and after each string of &quot;text&quot; and stores it in &quot;framedString&quot;\r\n    \t\tlineCounter = j+1;\r\n    \t\tframedString[lineCounter] = &quot;*&quot; + text[j] + &quot;*&quot;;\r\n    \t}\r\n    \t\r\n    \tframedString[lineCounter+1] = asterisks; // last value becomes asterisk string as well\r\n    \t\r\n    \tfor (int k = 0; k &lt; framedString.length; k++) { //prints the result\r\n    \t\tSystem.out.println(framedString[k]);\r\n    \t}   \t\r\n\t}","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<p>You can simplify this without using <code>.append</code>. Use a <code>for</code> loop to print a row of asterisks, which should be the length of the string plus 2(1 extra for each side). To get the length of the string use <code>.length()</code>Then print an asterisk before and after the string using</p>\n<p><code>System.out.println(&quot;*&quot; + string + &quot;*&quot;);</code></p>\n<p>and print the same row of asterisks as in the first part.</p>\n<p>The same goes for printing an array of strings, just use a for loop to print each value with  <code>System.out.println(&quot;*&quot; + string[i] + &quot;*&quot;);</code> then follow it with the same row of asterisks used for the top border.</p>\n<hr />\n<p>Edit: After reading your question again closely I think you wanted the result stored in a new array. I started writing an example code and couldn't help but write the whole thing:</p>\n<pre><code>public static void main(String[] args) {\n    String text [] = {&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;};\n    String framedString [] = {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}; //java arrays are fixed in size, \n                                                     //so I had to define 6 blank values\n    String asterisks = &quot;**&quot;;\n    int lineCounter = 0;\n    \n    for (int i = 0; i &lt; text[1].length(); i++) { //creates string of asterisks\n        asterisks = asterisks + &quot;*&quot;;\n    }\n    \n    framedString[lineCounter] = asterisks; //first value becomes asterisk string\n    \n    for (int j = 0; j &lt; text.length; j++) { //adds an asterisk before and after each string of &quot;text&quot; and stores it in &quot;framedString&quot;\n        lineCounter = j+1;\n        framedString[lineCounter] = &quot;*&quot; + text[j] + &quot;*&quot;;\n    }\n    \n    framedString[lineCounter+1] = asterisks; // last value becomes asterisk string as well\n    \n    for (int k = 0; k &lt; framedString.length; k++) { //prints the result\n        System.out.println(framedString[k]);\n    }       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4346080,"reputation":1073,"user_id":3547985,"accept_rate":71,"display_name":"Mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618455863,"creation_date":1618455863,"answer_id":67101708,"question_id":64384014,"body_markdown":"    String[] addBorder(String[] picture) {\r\n    final int additionalCount = 2;\r\n    int elementLength = picture[0].length() + additionalCount;  // first element length which used to determine howmany * required.\r\n    int loopLength = picture.length + additionalCount; // extra two iteration for loop to add *** at the begining and end of array.\r\n    \r\n    String [] output = new String[loopLength];\r\n    \r\n    String border = &quot;&quot;;\r\n    for( int i = 1; i &lt;= elementLength; i++){\r\n        border += &quot;*&quot;;\r\n    }\r\n    \r\n    for (int i = 0; i &lt; loopLength; i++){\r\n        if(i == 0){\r\n            output[i] = border;\r\n        } else if(i == loopLength-1){\r\n             output[i] = border;\r\n        } else {\r\n            String s = &quot;*&quot;+picture[i-1]+&quot;*&quot;;\r\n            output[i] = s;\r\n        }\r\n    }\r\n    return output;\r\n}","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>String[] addBorder(String[] picture) {\nfinal int additionalCount = 2;\nint elementLength = picture[0].length() + additionalCount;  // first element length which used to determine howmany * required.\nint loopLength = picture.length + additionalCount; // extra two iteration for loop to add *** at the begining and end of array.\n\nString [] output = new String[loopLength];\n\nString border = &quot;&quot;;\nfor( int i = 1; i &lt;= elementLength; i++){\n    border += &quot;*&quot;;\n}\n\nfor (int i = 0; i &lt; loopLength; i++){\n    if(i == 0){\n        output[i] = border;\n    } else if(i == loopLength-1){\n         output[i] = border;\n    } else {\n        String s = &quot;*&quot;+picture[i-1]+&quot;*&quot;;\n        output[i] = s;\n    }\n}\nreturn output;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":16708376,"reputation":41,"user_id":12076269,"display_name":"Raja Shaiyan Azad Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626601605,"creation_date":1626601605,"answer_id":68427891,"question_id":64384014,"body_markdown":"This solution can be broken down into 3 simple steps, 1st is to add the list of * at the top of the array, 2nd to add the * at the start and end of the element in the picture array by looping via the elements of the array and the last part is to add the list of * to the bottom of the array as the length of the last element of the array.\r\n\r\n```\r\nlet picture =  [&quot;abc&quot;, &quot;ded&quot;]; \r\n\r\nfunction addBorder(picture) {\r\n //adding the * on the top of the picture array as equal to the lenght of the top element of the array.\r\n let top = &#39;*&#39;.repeat(picture[0].length);\r\n picture.unshift(top);\r\n\r\n //looping through the array and concat the * at the end and the start of the array\r\n for(let i = 0; i &lt; picture.length; i++){\r\n     picture[i] = picture[i] + &#39;*&#39;;\r\n     picture[i] = &#39;*&#39; + picture[i];\r\n }\r\n\r\n //adding the * on the bottom of the picture array as equal to the lenght of the last element of the array.\r\n let bottom = &#39;*&#39;.repeat(picture[1].length);\r\n picture.push(bottom);\r\n \r\n return picture;\r\n}\r\n\r\n```","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<p>This solution can be broken down into 3 simple steps, 1st is to add the list of * at the top of the array, 2nd to add the * at the start and end of the element in the picture array by looping via the elements of the array and the last part is to add the list of * to the bottom of the array as the length of the last element of the array.</p>\n<pre><code>let picture =  [&quot;abc&quot;, &quot;ded&quot;]; \n\nfunction addBorder(picture) {\n //adding the * on the top of the picture array as equal to the lenght of the top element of the array.\n let top = '*'.repeat(picture[0].length);\n picture.unshift(top);\n\n //looping through the array and concat the * at the end and the start of the array\n for(let i = 0; i &lt; picture.length; i++){\n     picture[i] = picture[i] + '*';\n     picture[i] = '*' + picture[i];\n }\n\n //adding the * on the bottom of the picture array as equal to the lenght of the last element of the array.\n let bottom = '*'.repeat(picture[1].length);\n picture.push(bottom);\n \n return picture;\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633119636,"post_id":69410969,"comment_id":122684781,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/69410969/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":22460112,"reputation":1,"user_id":16662174,"display_name":"eduestralop"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633115533,"creation_date":1633115533,"answer_id":69410969,"question_id":64384014,"body_markdown":"```\r\nfunction addBorder(picture) {\r\n  let maxlength = 0\r\n  for (let i=0;i&lt;picture.length;i++){\r\n    if(picture[i].length&gt;maxlength){\r\n      maxlength= picture[i].length\r\n    }\r\n  }\r\n  let border = &quot;*&quot;.repeat(maxlength+2);\r\n  let resultArr =[border,border]\r\nfor (let i=0;i&lt;picture.length;i++){\r\n    resultArr.splice(i+1,0,&quot;\\*&quot;+picture[i]+&quot;\\*&quot;)\r\n} return resultArr\r\n}\r\n```","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function addBorder(picture) {\n  let maxlength = 0\n  for (let i=0;i&lt;picture.length;i++){\n    if(picture[i].length&gt;maxlength){\n      maxlength= picture[i].length\n    }\n  }\n  let border = &quot;*&quot;.repeat(maxlength+2);\n  let resultArr =[border,border]\nfor (let i=0;i&lt;picture.length;i++){\n    resultArr.splice(i+1,0,&quot;\\*&quot;+picture[i]+&quot;\\*&quot;)\n} return resultArr\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13751015,"reputation":1,"user_id":9923100,"display_name":"jimibilibob"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650319165,"creation_date":1650319165,"answer_id":71917508,"question_id":64384014,"body_markdown":"    function solution(picture) {\r\n    const verticalBorder = &#39;*&#39;.repeat(picture[0].length);\r\n    picture.unshift(verticalBorder);\r\n    picture.push(verticalBorder);\r\n    return picture.map( (el) =&gt; &#39;*&#39; + el + &#39;*&#39; );\r\n}","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function solution(picture) {\nconst verticalBorder = '*'.repeat(picture[0].length);\npicture.unshift(verticalBorder);\npicture.push(verticalBorder);\nreturn picture.map( (el) =&gt; '*' + el + '*' );\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":9584721,"reputation":21,"user_id":7117949,"display_name":"Md Monirul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670315955,"creation_date":1670315955,"answer_id":74699509,"question_id":64384014,"body_markdown":"    function addBorder(picture) {\r\n      const wall = &quot;*&quot;.repeat(picture[0].length + 2);\r\n    \r\n      picture.unshift(wall);\r\n      picture.push(wall);\r\n    \r\n      for (let i = 1; i &lt; picture.length - 1; i++) {\r\n        picture[i] = `*${picture[i]}*`;\r\n      }\r\n      return picture;\r\n    }\r\n    \r\n    console.log(addBorder([&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;]));\r\n\r\n","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function addBorder(picture) {\n  const wall = &quot;*&quot;.repeat(picture[0].length + 2);\n\n  picture.unshift(wall);\n  picture.push(wall);\n\n  for (let i = 1; i &lt; picture.length - 1; i++) {\n    picture[i] = `*${picture[i]}*`;\n  }\n  return picture;\n}\n\nconsole.log(addBorder([&quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;]));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677245175,"post_id":75509932,"comment_id":133304765,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75509932/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9915175,"reputation":1,"user_id":15214722,"display_name":"Mujahi Dul Islam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676900118,"creation_date":1676900118,"answer_id":75509932,"question_id":64384014,"body_markdown":"    function solution(picture) {\r\n        let len=picture[0].length;\r\n        let toReturnArray=[];\r\n        toReturnArray[0]=&#39;*&#39;.repeat(len+2);\r\n        for(let i=0;i&lt;picture.length;i++){\r\n            toReturnArray.push(`${&#39;*&#39;+picture[i]+&#39;*&#39;}`);\r\n        }\r\n        toReturnArray.push(toReturnArray[0]);\r\n        return toReturnArray;\r\n    }","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<pre><code>function solution(picture) {\n    let len=picture[0].length;\n    let toReturnArray=[];\n    toReturnArray[0]='*'.repeat(len+2);\n    for(let i=0;i&lt;picture.length;i++){\n        toReturnArray.push(`${'*'+picture[i]+'*'}`);\n    }\n    toReturnArray.push(toReturnArray[0]);\n    return toReturnArray;\n}\n</code></pre>\n"}],"owner":{"account_id":10692006,"reputation":93,"user_id":7870548,"display_name":"Shivangi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6886,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":7,"score":0,"last_activity_date":1676900118,"creation_date":1602829865,"question_id":64384014,"body_markdown":"Example\r\nFor\r\n\r\n```\r\npicture = [&quot;abc&quot;,\r\n           &quot;ded&quot;]\r\n```\r\n\r\nthe output should be\r\n\r\n```\r\naddBorder(picture) = [&quot;*****&quot;,\r\n                      &quot;*abc*&quot;,\r\n                      &quot;*ded*&quot;,\r\n                      &quot;*****&quot;]\r\n```\r\n\r\nI tried to another array and append the &#39;*&#39; ith elements\r\n\r\n    for (int i=0; i&lt;arrlen+2; i++)\r\n        if(i==0 || i==arrlen+1){\r\n            for(int j = 0; j&lt;len+2; j++)\r\n                pictures[i] = pictures[i].append(&quot;*&quot;)\r\n\r\nand\r\n\r\n    else {\r\n            for(int j = 0; j&lt;len+2; j++)\r\n                if(j==0 || i==len+1)\r\n                    pictures[i] = pictures[i].append(&quot;*&quot;);\r\n\r\nBut it says &quot;cannot find symbol&quot; at the .append()","title":"Given a rectangular matrix of characters, add a border of asterisks(*) to it","body":"<p>Example\nFor</p>\n<pre><code>picture = [&quot;abc&quot;,\n           &quot;ded&quot;]\n</code></pre>\n<p>the output should be</p>\n<pre><code>addBorder(picture) = [&quot;*****&quot;,\n                      &quot;*abc*&quot;,\n                      &quot;*ded*&quot;,\n                      &quot;*****&quot;]\n</code></pre>\n<p>I tried to another array and append the '*' ith elements</p>\n<pre><code>for (int i=0; i&lt;arrlen+2; i++)\n    if(i==0 || i==arrlen+1){\n        for(int j = 0; j&lt;len+2; j++)\n            pictures[i] = pictures[i].append(&quot;*&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>else {\n        for(int j = 0; j&lt;len+2; j++)\n            if(j==0 || i==len+1)\n                pictures[i] = pictures[i].append(&quot;*&quot;);\n</code></pre>\n<p>But it says &quot;cannot find symbol&quot; at the .append()</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676899572,"post_id":75250208,"comment_id":133224563,"body_markdown":"Please do not change your question in a way that it is asking something completely different if there are already answers to it. It is no problem if one of your questions is a duplicate. In case you have a new question, please ask it as a separate question.","body":"Please do not change your question in a way that it is asking something completely different if there are already answers to it. It is no problem if one of your questions is a duplicate. In case you have a new question, please ask it as a separate question."},{"owner":{"account_id":19064277,"reputation":37,"user_id":13919672,"display_name":"Kastor438"},"score":0,"creation_date":1677268429,"post_id":75250208,"comment_id":133311036,"body_markdown":"@dan1st It is a problem. I can&#39;t ask new question until I satisfy the issue of the this duplicate. The question is a duplicate as I acknowledged a while ago. I can&#39;t edit the question to no loner be a duplicate, meaning I can not satisfy what Stackoverflow wants me to do to be allowed to ask new questions. If I can&#39;t edit this question to not be a duplicate, and I can&#39;t post until I do make this question a non-duplicate question, what am I supposed to do?","body":"@dan1st It is a problem. I can&#39;t ask new question until I satisfy the issue of the this duplicate. The question is a duplicate as I acknowledged a while ago. I can&#39;t edit the question to no loner be a duplicate, meaning I can not satisfy what Stackoverflow wants me to do to be allowed to ask new questions. If I can&#39;t edit this question to not be a duplicate, and I can&#39;t post until I do make this question a non-duplicate question, what am I supposed to do?"}],"answers":[{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674765274,"creation_date":1674765274,"answer_id":75251375,"question_id":75250208,"body_markdown":"You must change Gradle JDK version to `11`.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ao3Cn.png","title":"How can I change my Java Runtime version to a more updated version?","body":"<p>You must change Gradle JDK version to <code>11</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/ao3Cn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ao3Cn.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19064277,"reputation":37,"user_id":13919672,"display_name":"Kastor438"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674837805,"answer_count":1,"score":0,"last_activity_date":1676899604,"creation_date":1674757559,"question_id":75250208,"body_markdown":"I am receiving the following error when trying to sync gradle files in Android Studio:\r\n```none\r\nA problem occurred configuring root project &#39;Test&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\r\n     Required by:\r\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\r\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\r\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;7.6&#39; but:\r\n          - Variant &#39;apiElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;javadocElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;7.6&#39;)\r\n```\r\nWhich seems to point out that I am using a Java runtime of version 8, and require it to be set to version 11.\r\n\r\nHow do I stop this error and change my Java runtime version?\r\n\r\nIs version 11 also an outdated version of Java runtime?\r\n\r\nWhat are the downfalls of using an outdated version?","title":"How can I change my Java Runtime version to a more updated version?","body":"<p>I am receiving the following error when trying to sync gradle files in Android Studio:</p>\n<pre class=\"lang-none prettyprint-override\"><code>A problem occurred configuring root project 'Test'.\n&gt; Could not resolve all files for configuration ':classpath'.\n   &gt; Could not resolve com.android.tools.build:gradle:7.4.0.\n     Required by:\n         project : &gt; com.android.application:com.android.application.gradle.plugin:7.4.0\n         project : &gt; com.android.library:com.android.library.gradle.plugin:7.4.0\n      &gt; No matching variant of com.android.tools.build:gradle:7.4.0 was found. The consumer was configured to find a runtime of a library compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '7.6' but:\n          - Variant 'apiElements' capability com.android.tools.build:gradle:7.4.0 declares a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares an API of a component compatible with Java 11 and the consumer needed a runtime of a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'javadocElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'runtimeElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a library, packaged as a jar, and its dependencies declared externally:\n              - Incompatible because this component declares a component compatible with Java 11 and the consumer needed a component compatible with Java 8\n              - Other compatible attribute:\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n          - Variant 'sourcesElements' capability com.android.tools.build:gradle:7.4.0 declares a runtime of a component, and its dependencies declared externally:\n              - Incompatible because this component declares documentation and the consumer needed a library\n              - Other compatible attributes:\n                  - Doesn't say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn't say anything about its elements (required them packaged as a jar)\n                  - Doesn't say anything about org.gradle.plugin.api-version (required '7.6')\n</code></pre>\n<p>Which seems to point out that I am using a Java runtime of version 8, and require it to be set to version 11.</p>\n<p>How do I stop this error and change my Java runtime version?</p>\n<p>Is version 11 also an outdated version of Java runtime?</p>\n<p>What are the downfalls of using an outdated version?</p>\n"},{"tags":["java","azure-active-directory","jwt","digital-signature","verify"],"comments":[{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676896401,"post_id":75509214,"comment_id":133223688,"body_markdown":"How are you acquiring the token? What scope(s) are you using? Note that if it is an MS Graph API token, you won&#39;t be able to validate it. Make sure you use a scope defined in your app registration under Expose an API.","body":"How are you acquiring the token? What scope(s) are you using? Note that if it is an MS Graph API token, you won&#39;t be able to validate it. Make sure you use a scope defined in your app registration under Expose an API."},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dağlı"},"score":0,"creation_date":1676897718,"post_id":75509214,"comment_id":133224049,"body_markdown":"Mobile app gets token, then send a request to backend. some information is like that:\n{\n  &quot;issuer&quot;: [&quot;https://sts.windows.net/XXXXXXXX/&quot;], // one of // &#39;iss&#39; claim\n  &quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // &#39;tid&#39; claim\n  &quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;appid&#39; claim\n  &quot;audience&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;aud&#39; claim\n  &quot;scope&quot;: &quot;openid&quot; // &#39;scp&#39; claim contains array of the whitespace-separated scopes\n}\n\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\nmobile app uses this","body":"Mobile app gets token, then send a request to backend. some information is like that: {   &quot;issuer&quot;: [&quot;<a href=\"https://sts.windows.net/XXXXXXXX/&quot;]\" rel=\"nofollow noreferrer\">sts.windows.net/XXXXXXXX/&quot;]</a>, // one of // &#39;iss&#39; claim   &quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // &#39;tid&#39; claim   &quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;appid&#39; claim   &quot;audience&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;aud&#39; claim   &quot;scope&quot;: &quot;openid&quot; // &#39;scp&#39; claim contains array of the whitespace-separated scopes }  <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a> mobile app uses this"},{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676897902,"post_id":75509214,"comment_id":133224112,"body_markdown":"Are the scopes like openid or User.Read or are they scopes that you have defined in Expose an API page?","body":"Are the scopes like openid or User.Read or are they scopes that you have defined in Expose an API page?"},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dağlı"},"score":0,"creation_date":1676897977,"post_id":75509214,"comment_id":133224129,"body_markdown":"scope is openid and flow is like that: https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow","body":"scope is openid and flow is like that: <a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/azure/active-directory/develop/&hellip;</a>"},{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676898369,"post_id":75509214,"comment_id":133224243,"body_markdown":"That&#39;s the ID token then. You need an access token.","body":"That&#39;s the ID token then. You need an access token."},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dağlı"},"score":0,"creation_date":1676898484,"post_id":75509214,"comment_id":133224266,"body_markdown":"I have an access token,  I am trying to verify the bearer token.  I tried to share other information, not the token.","body":"I have an access token,  I am trying to verify the bearer token.  I tried to share other information, not the token."},{"owner":{"account_id":1826174,"reputation":55261,"user_id":1658906,"accept_rate":100,"display_name":"juunas"},"score":0,"creation_date":1676899405,"post_id":75509214,"comment_id":133224516,"body_markdown":"Or hmm, maybe I did in fact say that wrong. If the scope is openid, it is not correct for your API anyway. You need to use a scope you defined in your app registration when acquiring the access token.","body":"Or hmm, maybe I did in fact say that wrong. If the scope is openid, it is not correct for your API anyway. You need to use a scope you defined in your app registration when acquiring the access token."},{"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dağlı"},"score":0,"creation_date":1676905157,"post_id":75509214,"comment_id":133226362,"body_markdown":"Can&#39;t I write my own JWT parse and verify method for a token created with scope openid?","body":"Can&#39;t I write my own JWT parse and verify method for a token created with scope openid?"}],"owner":{"account_id":1012668,"reputation":512,"user_id":1024886,"accept_rate":43,"display_name":"Burak Dağlı"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676899597,"creation_date":1676895677,"question_id":75509214,"body_markdown":"I am developing a Backend code for a company to log in to our application in Login with Azure Ad User. I have to be able to make a JWT Verify. \r\n\r\nI read too many posts. I&#39;m trying to use the AUTH0 library. I have tried a lot, but still &quot;com.auth Where do I make mistakes? \r\n\r\n```   \r\n       try {\r\n            String token = &quot;your-token-here&quot;; // set real token\r\n            String tenant_id = &quot;your-tenant_id&quot;; // set tenant id\r\n            String jwkSetUri = &quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/discovery/v2.0/keys&quot;;\r\n            DecodedJWT decodedJWT = JWT.decode(token);\r\n            JwkProvider jwkProvider = null;\r\n\r\n            jwkProvider = new UrlJwkProvider(new URL(jwkSetUri));\r\n\r\n            Jwk jwk = jwkProvider.get(decodedJWT.getKeyId());\r\n            Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\r\n            JWTVerifier verifier = JWT.require(algorithm)\r\n                    .withIssuer(&quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/v2.0&quot;)\r\n                    .build();\r\n            DecodedJWT verifiedJWT = verifier.verify(token);\r\n            // do something with the verified JWT\r\n            System.out.println(&quot;Jwt is valid: &quot; + verifiedJWT);\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (InvalidPublicKeyException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (JwkException e) {\r\n            throw new RuntimeException(e);\r\n        } \r\n\r\n```\r\n\r\nError:\r\n\r\n``` \r\nException in thread &quot;main&quot; com.auth0.jwt.exceptions.SignatureVerificationException: The Token&#39;s Signature resulted invalid when verified using the Algorithm: SHA256withRSA\r\n\tat com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:51)\r\n\tat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:463)\r\n\tat com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)\r\n\tat com.wheelme.client.App.main(App.java:31)\r\n\r\n```\r\n\r\nMobile app gets token, then send a request to backend. some information I have outside of token is like that: \r\n\r\n``` \r\n\r\n{ &quot;issuer&quot;: [&quot;sts.windows.net/XXXXXXXX/&quot;], // one of // &#39;iss&#39; claim \r\n&quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // &#39;tid&#39; claim \r\n&quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // &#39;appid&#39; claim &quot;audience&quot;: \r\n&quot;XXXXXXXXXXXXXX&quot;, // &#39;aud&#39; claim \r\n&quot;scope&quot;: &quot;openid&quot; // &#39;scp&#39; claim contains array of the whitespace-separated scopes }\r\n\r\n``` \r\n\r\n\r\nMobile uses this to get token:\r\n\r\nhttps://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\r\n\r\n\r\nHow can I fix this code?","title":"Can not verify JWT token of Azure AD with openid scope in java","body":"<p>I am developing a Backend code for a company to log in to our application in Login with Azure Ad User. I have to be able to make a JWT Verify.</p>\n<p>I read too many posts. I'm trying to use the AUTH0 library. I have tried a lot, but still &quot;com.auth Where do I make mistakes?</p>\n<pre><code>       try {\n            String token = &quot;your-token-here&quot;; // set real token\n            String tenant_id = &quot;your-tenant_id&quot;; // set tenant id\n            String jwkSetUri = &quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/discovery/v2.0/keys&quot;;\n            DecodedJWT decodedJWT = JWT.decode(token);\n            JwkProvider jwkProvider = null;\n\n            jwkProvider = new UrlJwkProvider(new URL(jwkSetUri));\n\n            Jwk jwk = jwkProvider.get(decodedJWT.getKeyId());\n            Algorithm algorithm = Algorithm.RSA256((RSAPublicKey) jwk.getPublicKey(), null);\n            JWTVerifier verifier = JWT.require(algorithm)\n                    .withIssuer(&quot;https://login.microsoftonline.com/&quot; + tenant_id + &quot;/v2.0&quot;)\n                    .build();\n            DecodedJWT verifiedJWT = verifier.verify(token);\n            // do something with the verified JWT\n            System.out.println(&quot;Jwt is valid: &quot; + verifiedJWT);\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        } catch (InvalidPublicKeyException e) {\n            throw new RuntimeException(e);\n        } catch (JwkException e) {\n            throw new RuntimeException(e);\n        } \n\n</code></pre>\n<p>Error:</p>\n<pre><code>Exception in thread &quot;main&quot; com.auth0.jwt.exceptions.SignatureVerificationException: The Token's Signature resulted invalid when verified using the Algorithm: SHA256withRSA\n    at com.auth0.jwt.algorithms.RSAAlgorithm.verify(RSAAlgorithm.java:51)\n    at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:463)\n    at com.auth0.jwt.JWTVerifier.verify(JWTVerifier.java:445)\n    at com.wheelme.client.App.main(App.java:31)\n\n</code></pre>\n<p>Mobile app gets token, then send a request to backend. some information I have outside of token is like that:</p>\n<pre><code>\n{ &quot;issuer&quot;: [&quot;sts.windows.net/XXXXXXXX/&quot;], // one of // 'iss' claim \n&quot;tenant&quot;: &quot;XXXXXXXXXX&quot;, // 'tid' claim \n&quot;client&quot;: &quot;XXXXXXXXXXXXXX&quot;, // 'appid' claim &quot;audience&quot;: \n&quot;XXXXXXXXXXXXXX&quot;, // 'aud' claim \n&quot;scope&quot;: &quot;openid&quot; // 'scp' claim contains array of the whitespace-separated scopes }\n\n</code></pre>\n<p>Mobile uses this to get token:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#prefer-the-auth-code-flow</a></p>\n<p>How can I fix this code?</p>\n"},{"tags":["java","maven","netbeans","pom.xml"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":1,"creation_date":1676893794,"post_id":75508745,"comment_id":133222975,"body_markdown":"What is the purpose of this? Sounds strange.","body":"What is the purpose of this? Sounds strange."}],"owner":{"account_id":26509400,"reputation":7,"user_id":20144973,"display_name":"JavascriptNewbie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676899557,"creation_date":1676892832,"question_id":75508745,"body_markdown":"I have a Netbeans 16 Maven project with package like that com.abc.mypackage. I tested ok with my java Test file (contain main class) that have the main class on the mypakage folder. Now I want to put the test file (CountryTest.java) on the root folder, that means same folder with src folder and pom.xml. I tried but it not successfully. (I used one jar plugin to build jar file with outside library and I dont want to change it)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.abc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mypackage&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n            &lt;exec.mainClass&gt;CountryTest&lt;/exec.mainClass&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n        &lt;!--  Gson: Java to JSON conversion --&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n          &lt;version&gt;2.10.1&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n         &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n            &lt;groupId&gt;com.jolira&lt;/groupId&gt;\r\n            &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;mainClass&gt;CountryTest&lt;/mainClass&gt;\r\n                  &lt;onejarVersion&gt;0.97&lt;/onejarVersion&gt;\r\n                  &lt;attachToBuild&gt;true&lt;/attachToBuild&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;one-jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nCan you help me with this file (pom.xml). It BUILD SUCCESS but when I run: java -jar target/mypackage-1.0.one-jar.jar it said that \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: CountryTest\r\n            at com.simontuffs.onejar.JarClassLoader.findClass(JarClassLoader.java:713)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\r\n            at com.simontuffs.onejar.JarClassLoader.loadClass(JarClassLoader.java:630)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n            at com.simontuffs.onejar.Boot.run(Boot.java:334)\r\n            at com.simontuffs.onejar.Boot.main(Boot.java:166)\r\n\r\nIn CoutryTest.java I already imported like that:\r\n\r\n    import com.abc.mypackage.File1;\r\n    import com.abc.mypackage.File2;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    public class CountryTest {public static void main(String[] args)\r\n          throws Exception {....}}\r\n\r\nIf I put the test file on \\src\\main\\java, it run successful, but how can I put it to same level with source file (\\src\\)?","title":"How to eidted pom.xml to put file contains Main class on root folder?","body":"<p>I have a Netbeans 16 Maven project with package like that com.abc.mypackage. I tested ok with my java Test file (contain main class) that have the main class on the mypakage folder. Now I want to put the test file (CountryTest.java) on the root folder, that means same folder with src folder and pom.xml. I tried but it not successfully. (I used one jar plugin to build jar file with outside library and I dont want to change it)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.abc&lt;/groupId&gt;\n    &lt;artifactId&gt;mypackage&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;exec.mainClass&gt;CountryTest&lt;/exec.mainClass&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;!--  Gson: Java to JSON conversion --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.10.1&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n     &lt;plugins&gt;\n        &lt;plugin&gt;\n        &lt;groupId&gt;com.jolira&lt;/groupId&gt;\n        &lt;artifactId&gt;onejar-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.4.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;configuration&gt;\n              &lt;mainClass&gt;CountryTest&lt;/mainClass&gt;\n              &lt;onejarVersion&gt;0.97&lt;/onejarVersion&gt;\n              &lt;attachToBuild&gt;true&lt;/attachToBuild&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;one-jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Can you help me with this file (pom.xml). It BUILD SUCCESS but when I run: java -jar target/mypackage-1.0.one-jar.jar it said that</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: CountryTest\n        at com.simontuffs.onejar.JarClassLoader.findClass(JarClassLoader.java:713)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:587)\n        at com.simontuffs.onejar.JarClassLoader.loadClass(JarClassLoader.java:630)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at com.simontuffs.onejar.Boot.run(Boot.java:334)\n        at com.simontuffs.onejar.Boot.main(Boot.java:166)\n</code></pre>\n<p>In CoutryTest.java I already imported like that:</p>\n<pre><code>import com.abc.mypackage.File1;\nimport com.abc.mypackage.File2;\nimport java.util.Collections;\nimport java.util.List;\npublic class CountryTest {public static void main(String[] args)\n      throws Exception {....}}\n</code></pre>\n<p>If I put the test file on \\src\\main\\java, it run successful, but how can I put it to same level with source file (\\src)?</p>\n"},{"tags":["java","synchronized"],"comments":[{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":0,"creation_date":1397734016,"post_id":23131810,"comment_id":35365473,"body_markdown":"What do you mean by variable? You mean primitive variable?","body":"What do you mean by variable? You mean primitive variable?"},{"owner":{"account_id":4342004,"reputation":163,"user_id":3545021,"accept_rate":36,"display_name":"PTech"},"score":0,"creation_date":1397736151,"post_id":23131810,"comment_id":35366839,"body_markdown":"@Kugathasan Abimaran. - Yes I mean primitive variable. like int, float etc.      e.g. synchronize int a","body":"@Kugathasan Abimaran. - Yes I mean primitive variable. like int, float etc.      e.g. synchronize int a"}],"answers":[{"comments":[{"owner":{"account_id":1297601,"reputation":1110,"user_id":1248254,"accept_rate":64,"display_name":"PetrS"},"score":1,"creation_date":1397733997,"post_id":23131843,"comment_id":35365460,"body_markdown":"I think that question is about variables of primitive data type like `int`, `float`, etc.","body":"I think that question is about variables of primitive data type like <code>int</code>, <code>float</code>, etc."},{"owner":{"account_id":3948755,"reputation":2180,"user_id":3260147,"accept_rate":50,"display_name":"Niraj Patel"},"score":0,"creation_date":1397734075,"post_id":23131843,"comment_id":35365511,"body_markdown":"I posted the answer for primitives","body":"I posted the answer for primitives"},{"owner":{"account_id":4342004,"reputation":163,"user_id":3545021,"accept_rate":36,"display_name":"PTech"},"score":0,"creation_date":1397734133,"post_id":23131843,"comment_id":35365550,"body_markdown":"@user1906108 - Your answer is like the synchronized block. I have edited my question.","body":"@user1906108 - Your answer is like the synchronized block. I have edited my question."},{"owner":{"account_id":1297601,"reputation":1110,"user_id":1248254,"accept_rate":64,"display_name":"PetrS"},"score":0,"creation_date":1397734203,"post_id":23131843,"comment_id":35365597,"body_markdown":"Yes, I see it right now. But this is not answer to question, because OP wants to know the reason, not the solution.","body":"Yes, I see it right now. But this is not answer to question, because OP wants to know the reason, not the solution."},{"owner":{"account_id":4342004,"reputation":163,"user_id":3545021,"accept_rate":36,"display_name":"PTech"},"score":0,"creation_date":1397734356,"post_id":23131843,"comment_id":35365677,"body_markdown":"@ PS glass - Yes I want the reason.","body":"@ PS glass - Yes I want the reason."}],"tags":[],"owner":{"account_id":2149234,"reputation":2245,"user_id":1906108,"accept_rate":100,"display_name":"D&#225;vid Szab&#243;"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397733881,"creation_date":1397733881,"answer_id":23131843,"question_id":23131810,"body_markdown":"You can synchronize a variable too.\r\n\r\n    synchronized(myvariable) {\r\n    .......\r\n    }\r\n\r\nAlso you should check the &#39;volatile&#39; keyword.\r\nhttp://en.wikipedia.org/wiki/Volatile_variable#In_Java","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>You can synchronize a variable too.</p>\n\n<pre><code>synchronized(myvariable) {\n.......\n}\n</code></pre>\n\n<p>Also you should check the 'volatile' keyword.\n<a href=\"http://en.wikipedia.org/wiki/Volatile_variable#In_Java\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Volatile_variable#In_Java</a></p>\n"},{"tags":[],"owner":{"account_id":3948755,"reputation":2180,"user_id":3260147,"accept_rate":50,"display_name":"Niraj Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397734039,"creation_date":1397734039,"answer_id":23131901,"question_id":23131810,"body_markdown":"you mean to say you need to synchronize operations on variable ? like you want to protect operation on variable e.g. increment,decrement ? java has atomic API like `java.util.concurrent.AtomicBoolean` etc..\r\n\r\n\r\nBenefits of using Atomic Concurrency classes is that we don’t need to worry about synchronization at each and every place we are dealing with integers and it’s assumed to be more efficient that synchronization which involves locking resources.","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>you mean to say you need to synchronize operations on variable ? like you want to protect operation on variable e.g. increment,decrement ? java has atomic API like <code>java.util.concurrent.AtomicBoolean</code> etc..</p>\n\n<p>Benefits of using Atomic Concurrency classes is that we don’t need to worry about synchronization at each and every place we are dealing with integers and it’s assumed to be more efficient that synchronization which involves locking resources.</p>\n"},{"tags":[],"owner":{"account_id":3971851,"reputation":1056,"user_id":3276247,"accept_rate":46,"display_name":"user3276247"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1397734095,"creation_date":1397734095,"answer_id":23131919,"question_id":23131810,"body_markdown":"Variable in itself does not stand on its own. It needs a class to have some context. That&#39;s why the lock is on the class or the object and not on the variable.","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>Variable in itself does not stand on its own. It needs a class to have some context. That's why the lock is on the class or the object and not on the variable.</p>\n"},{"tags":[],"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1397734847,"creation_date":1397734847,"answer_id":23132171,"question_id":23131810,"body_markdown":"I suppose by **variable**, you meant class fields. But this is not how synchronization works in Java.\r\n\r\nThe aim of `synchronized` block or method is to prevent multiple threads changing the state of a class variable at the same time. Synchronization in `Java`works by owning a lock - if you have synchronized method, you are using an intrinsic lock of the object, otherwise you have to supply a lock. If fields were to be declared as `synchronized`, that would more or less force all the methods in that class that uses the field to work in a synchronized way by owning the lock and this would be bad for performance.\r\n\r\nIf you are looking for synchronization guarantees at field level without having to synchronize methods, consider using [Atomic variables][1] like `java.util.concurrent.atomic.AtomicInteger`\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>I suppose by <strong>variable</strong>, you meant class fields. But this is not how synchronization works in Java.</p>\n\n<p>The aim of <code>synchronized</code> block or method is to prevent multiple threads changing the state of a class variable at the same time. Synchronization in <code>Java</code>works by owning a lock - if you have synchronized method, you are using an intrinsic lock of the object, otherwise you have to supply a lock. If fields were to be declared as <code>synchronized</code>, that would more or less force all the methods in that class that uses the field to work in a synchronized way by owning the lock and this would be bad for performance.</p>\n\n<p>If you are looking for synchronization guarantees at field level without having to synchronize methods, consider using <a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/atomicvars.html\" rel=\"nofollow\">Atomic variables</a> like <code>java.util.concurrent.atomic.AtomicInteger</code></p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676891652,"creation_date":1676891652,"answer_id":75508537,"question_id":23131810,"body_markdown":"Restriction to use reference-typed objects as `synchronized(..)` argument comes from the idea of encapsulation, when you and only you control who and how can access your `lock` (ref or value).\r\n\r\nImagine the case when you want to take a lock on value-typed (primitive) lock `int x = 5`, then inside `synchronized` block another lock on `int y = 0`. In the same time other part of your project (or 3-rd party library) also takes these locks in opposite order - first `int a = 0`, then `int b = 5`.\r\n\r\nResult? Deadlock. Why? Because of lack of encapsulation - you can&#39;t control visibility of value-typed (primitive) variables. They always are public, by nature.","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>Restriction to use reference-typed objects as <code>synchronized(..)</code> argument comes from the idea of encapsulation, when you and only you control who and how can access your <code>lock</code> (ref or value).</p>\n<p>Imagine the case when you want to take a lock on value-typed (primitive) lock <code>int x = 5</code>, then inside <code>synchronized</code> block another lock on <code>int y = 0</code>. In the same time other part of your project (or 3-rd party library) also takes these locks in opposite order - first <code>int a = 0</code>, then <code>int b = 5</code>.</p>\n<p>Result? Deadlock. Why? Because of lack of encapsulation - you can't control visibility of value-typed (primitive) variables. They always are public, by nature.</p>\n"}],"owner":{"account_id":4342004,"reputation":163,"user_id":3545021,"accept_rate":36,"display_name":"PTech"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4032,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":23131919,"answer_count":5,"score":3,"last_activity_date":1676899469,"creation_date":1397733778,"question_id":23131810,"body_markdown":"In java there is a `synchronize` keyword that is used to avoid multiple thread access to a method or some block of code at some point.\r\n\r\nMy question is why can’t the `synchronize` keyword be used with primitive variables? I know that java does not permit this. But what is the logic as to why this isn’t permitted since all variables in java are `Object`s including primitive types like `int`,`float` etc.\r\n\r\n\r\ne.g.   \r\n\r\n    int a=1;\r\n    synchronized(a){}//why is this forbidden ","title":"Why is the synchronize keyword restricted to non primitive fields only?","body":"<p>In java there is a <code>synchronize</code> keyword that is used to avoid multiple thread access to a method or some block of code at some point.</p>\n<p>My question is why can’t the <code>synchronize</code> keyword be used with primitive variables? I know that java does not permit this. But what is the logic as to why this isn’t permitted since all variables in java are <code>Object</code>s including primitive types like <code>int</code>,<code>float</code> etc.</p>\n<p>e.g.</p>\n<pre><code>int a=1;\nsynchronized(a){}//why is this forbidden \n</code></pre>\n"},{"tags":["java","spring","spring-boot","interceptor","thread-local"],"comments":[{"owner":{"account_id":153343,"reputation":1086,"user_id":368532,"accept_rate":70,"display_name":"Boris"},"score":0,"creation_date":1676844019,"post_id":75500904,"comment_id":133214396,"body_markdown":"Do you maybe use async or any similar tool that makes your service visiting another thread?","body":"Do you maybe use async or any similar tool that makes your service visiting another thread?"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676887775,"post_id":75500904,"comment_id":133221336,"body_markdown":"some calls to downstream are async where this is being used. Like they are being called in a different thread.","body":"some calls to downstream are async where this is being used. Like they are being called in a different thread."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676887800,"post_id":75500904,"comment_id":133221343,"body_markdown":"But to cover those cases I have also added ```InheritableThreadLocal```","body":"But to cover those cases I have also added <code>InheritableThreadLocal</code>"},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1676891629,"post_id":75500904,"comment_id":133222408,"body_markdown":"Try a normal servlet filter instead. The getRequestURI() is not immutable but your code assumes so.","body":"Try a normal servlet filter instead. The getRequestURI() is not immutable but your code assumes so."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676894392,"post_id":75500904,"comment_id":133223142,"body_markdown":"@BalusC, How filter is better then interceptor here. ```getRequestURI()``` is to skip this logic in ```/health``` endpoints. I think that&#39;s Irrelevant.","body":"@BalusC, How filter is better then interceptor here. <code>getRequestURI()</code> is to skip this logic in <code>&#47;health</code> endpoints. I think that&#39;s Irrelevant."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1676894513,"post_id":75500904,"comment_id":133223178,"body_markdown":"With a filter you don&#39;t need to check getRequestURI() twice so you eliminate the risk that it&#39;s modified in the meanwhile (e.g. by a forward or a custom request wrapper etc). You can put the creation and destroy of threadlocal in a try-finally in a single method block which is way much more robust.","body":"With a filter you don&#39;t need to check getRequestURI() twice so you eliminate the risk that it&#39;s modified in the meanwhile (e.g. by a forward or a custom request wrapper etc). You can put the creation and destroy of threadlocal in a try-finally in a single method block which is way much more robust."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676895589,"post_id":75500904,"comment_id":133223462,"body_markdown":"Got it. but even if it get&#39;s changed in postHandle call. It will clear the ThreadLocal by calling remove, which won&#39;t do anything as it&#39;s never got set right ?","body":"Got it. but even if it get&#39;s changed in postHandle call. It will clear the ThreadLocal by calling remove, which won&#39;t do anything as it&#39;s never got set right ?"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676896031,"post_id":75500904,"comment_id":133223571,"body_markdown":"@BalusC, I don&#39;t see a condition here. Where values set by on request thread in ThreadLocal gets accessed by other request thread and values removed by one request thread will be removed for other request thread as well.","body":"@BalusC, I don&#39;t see a condition here. Where values set by on request thread in ThreadLocal gets accessed by other request thread and values removed by one request thread will be removed for other request thread as well."},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1676899778,"post_id":75500904,"comment_id":133224622,"body_markdown":"@BalusC, I am using @Async in service class, Is that possible that context information is not being passed to the thread which is executing, even after using  ```InheritableThreadLocal```","body":"@BalusC, I am using @Async in service class, Is that possible that context information is not being passed to the thread which is executing, even after using  <code>InheritableThreadLocal</code>"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676899435,"creation_date":1676817717,"question_id":75500904,"body_markdown":"```ThreadLocal``` in being set in ```HandlerInterceptor``` for each **request**, but sometimes it is returning **null** instead of the expected value, when accessing in the service layer. \r\n\r\nAs stated by docs **ThreadLocal** objects are **thread safe** and are local to a single request thread. So even if multiple requests are setting/clearing it, it will only get set/cleared for that particular request thread and not impact the request threads.\r\n\r\nBut 1-2 times(**not able to reproduce now, even with lot of logging statements**) in debug mode, I encounter that the ```ThreadLocal``` to be null in the service layer(thus got a **NullPointerException**), even though it should not be as it&#39;s being set in the ```HandlerInceptor``` which always hits first before the controller layer in spring-boot.\r\n\r\n&gt; Is below **ThreadLocal** code really thread-safe, when multiple request threads access it simultaneously.\r\n\r\nIs it possible that **Interceptor** is executed in one **Thread** and controller executes in another thread and somehow controller thread executes first before interceptor sets the values in **ThreadLocal**. \r\n\r\nCode :\r\n\r\n**ThreadLocal.class**\r\n    \r\n    @Component\r\n    public class ThreadLocalUtil {\r\n    \r\n        private static final ThreadLocal&lt;ConstantsConfig&gt; constantsConfig = new InheritableThreadLocal&lt;&gt;();\r\n    \r\n        public static ConstantsConfig getConstantsConfig() {\r\n            return constantsConfig.get();\r\n        }\r\n    \r\n        public static void setConstantsConfig(ConstantsConfig config) {\r\n            constantsConfig.set(config);\r\n        }\r\n    \r\n        public static void clearConstantsConfig() {\r\n            constantsConfig.remove();\r\n        }\r\n    }\r\n\r\n\r\n**HandlerInceptor.class**\r\n\r\n    public class RequestInterceptor implements HandlerInterceptor {\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        if (request.getRequestURI().equals(&quot;/health&quot;)) {\r\n            return true;\r\n        }\r\n        // we are always setting ThreadLocal, before accessing it in service layer.\r\n        setConstants(request);\r\n        logThreadLocal();\r\n        return true;\r\n    }\r\n\r\n    private void setConstants(HttpServletRequest request) {          \r\n         ThreadLocalUtil.setConstantsConfig(BeanUtil.getBean(ImplConstantsConfig.class))\r\n    }\r\n\r\n    @Override\r\n    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\r\n            throws Exception {\r\n        if (request.getRequestURI().equals(&quot;/health&quot;)) {\r\n            return;\r\n        }\r\n    \r\n        ThreadLocalUtil.clearConstantsConfig();\r\n    }\r\n\r\nAccessorService.class\r\n\r\n    // accessed in multiple service classes for 1 request/response cycle.\r\n    ThreadLocalUtil.getConstantsConfig().getProperty1()\r\n    ThreadLocalUtil.getConstantsConfig().getProperty2()\r\n\r\n\r\n\r\n\r\n","title":"ThreadLocal is returning null, even after being set in HandlerInterceptor","body":"<p><code>ThreadLocal</code> in being set in <code>HandlerInterceptor</code> for each <strong>request</strong>, but sometimes it is returning <strong>null</strong> instead of the expected value, when accessing in the service layer.</p>\n<p>As stated by docs <strong>ThreadLocal</strong> objects are <strong>thread safe</strong> and are local to a single request thread. So even if multiple requests are setting/clearing it, it will only get set/cleared for that particular request thread and not impact the request threads.</p>\n<p>But 1-2 times(<strong>not able to reproduce now, even with lot of logging statements</strong>) in debug mode, I encounter that the <code>ThreadLocal</code> to be null in the service layer(thus got a <strong>NullPointerException</strong>), even though it should not be as it's being set in the <code>HandlerInceptor</code> which always hits first before the controller layer in spring-boot.</p>\n<blockquote>\n<p>Is below <strong>ThreadLocal</strong> code really thread-safe, when multiple request threads access it simultaneously.</p>\n</blockquote>\n<p>Is it possible that <strong>Interceptor</strong> is executed in one <strong>Thread</strong> and controller executes in another thread and somehow controller thread executes first before interceptor sets the values in <strong>ThreadLocal</strong>.</p>\n<p>Code :</p>\n<p><strong>ThreadLocal.class</strong></p>\n<pre><code>@Component\npublic class ThreadLocalUtil {\n\n    private static final ThreadLocal&lt;ConstantsConfig&gt; constantsConfig = new InheritableThreadLocal&lt;&gt;();\n\n    public static ConstantsConfig getConstantsConfig() {\n        return constantsConfig.get();\n    }\n\n    public static void setConstantsConfig(ConstantsConfig config) {\n        constantsConfig.set(config);\n    }\n\n    public static void clearConstantsConfig() {\n        constantsConfig.remove();\n    }\n}\n</code></pre>\n<p><strong>HandlerInceptor.class</strong></p>\n<pre><code>public class RequestInterceptor implements HandlerInterceptor {\n\n@Override\npublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n    if (request.getRequestURI().equals(&quot;/health&quot;)) {\n        return true;\n    }\n    // we are always setting ThreadLocal, before accessing it in service layer.\n    setConstants(request);\n    logThreadLocal();\n    return true;\n}\n\nprivate void setConstants(HttpServletRequest request) {          \n     ThreadLocalUtil.setConstantsConfig(BeanUtil.getBean(ImplConstantsConfig.class))\n}\n\n@Override\npublic void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, ModelAndView modelAndView)\n        throws Exception {\n    if (request.getRequestURI().equals(&quot;/health&quot;)) {\n        return;\n    }\n\n    ThreadLocalUtil.clearConstantsConfig();\n}\n</code></pre>\n<p>AccessorService.class</p>\n<pre><code>// accessed in multiple service classes for 1 request/response cycle.\nThreadLocalUtil.getConstantsConfig().getProperty1()\nThreadLocalUtil.getConstantsConfig().getProperty2()\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676899155,"post_id":75509728,"comment_id":133224445,"body_markdown":"It will simply not work. Annotations are static metadata. Next to that `@Pattern` isn&#39;t a spring annotation and as such not handled by SPring so no variable substition, if any, is available. So in short it won&#39;t work.","body":"It will simply not work. Annotations are static metadata. Next to that <code>@Pattern</code> isn&#39;t a spring annotation and as such not handled by SPring so no variable substition, if any, is available. So in short it won&#39;t work."}],"owner":{"account_id":15489786,"reputation":11,"user_id":11174627,"display_name":"Pratik Malani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676898987,"creation_date":1676898987,"question_id":75509728,"body_markdown":"Not able to read regular expressions from application.properties file when using @Pattern annotation in Spring Boot 3.0.1\r\n\r\nTrying to use the same steps given in\r\nhttps://stackoverflow.com/questions/59581979/how-to-read-the-regex-pattern-from-property-file-in-spring-boot\r\n\r\nBut after following the steps getting below error\r\n\r\n\r\n```\r\n`Caused by: java.lang.IllegalArgumentException: HV000022: Invalid regular expression.\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:43)\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:24)\r\nat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.initializeValidator(AbstractConstraintValidatorManagerImpl.java:142)\r\n... 14 more\r\nCaused by: java.util.regex.PatternSyntaxException: Illegal repetition near index 2\r\n${my.regex.charOrNumber}\r\n^\r\nat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\r\nat java.base/java.util.regex.Pattern.closure(Pattern.java:3309)\r\nat java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\r\nat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\r\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\r\nat java.base/java.util.regex.Pattern.\\&lt;init\\&gt;(Pattern.java:1430)\r\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1095)\r\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:40)`\r\n```\r\n","title":"Read regexp from application.properties file in spring boot 3.0.1 using @pattern","body":"<p>Not able to read regular expressions from application.properties file when using @Pattern annotation in Spring Boot 3.0.1</p>\n<p>Trying to use the same steps given in\n<a href=\"https://stackoverflow.com/questions/59581979/how-to-read-the-regex-pattern-from-property-file-in-spring-boot\">How to read the regex pattern from property file in spring boot</a></p>\n<p>But after following the steps getting below error</p>\n<pre><code>`Caused by: java.lang.IllegalArgumentException: HV000022: Invalid regular expression.\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:43)\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:24)\nat org.hibernate.validator.internal.engine.constraintvalidation.AbstractConstraintValidatorManagerImpl.initializeValidator(AbstractConstraintValidatorManagerImpl.java:142)\n... 14 more\nCaused by: java.util.regex.PatternSyntaxException: Illegal repetition near index 2\n${my.regex.charOrNumber}\n^\nat java.base/java.util.regex.Pattern.error(Pattern.java:2028)\nat java.base/java.util.regex.Pattern.closure(Pattern.java:3309)\nat java.base/java.util.regex.Pattern.sequence(Pattern.java:2214)\nat java.base/java.util.regex.Pattern.expr(Pattern.java:2069)\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1783)\nat java.base/java.util.regex.Pattern.\\&lt;init\\&gt;(Pattern.java:1430)\nat java.base/java.util.regex.Pattern.compile(Pattern.java:1095)\nat org.hibernate.validator.internal.constraintvalidators.bv.PatternValidator.initialize(PatternValidator.java:40)`\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1676864960,"post_id":75504947,"comment_id":133216958,"body_markdown":"`System.out.println(Arrays.stream(input).mapToObj(d -&gt; String.format(&quot;%3.2f&quot;, d)).collect(Collectors.joining(&quot;, &quot;)));`","body":"<code>System.out.println(Arrays.stream(input).mapToObj(d -&gt; String.format(&quot;%3.2f&quot;, d)).collect(Collectors.joining(&quot;, &quot;)));</code>"},{"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"score":2,"creation_date":1676867517,"post_id":75504947,"comment_id":133217261,"body_markdown":"@HovercraftFullOfEels Arrays.stream is not supporting a float array.","body":"@HovercraftFullOfEels Arrays.stream is not supporting a float array."},{"owner":{"account_id":11829073,"reputation":76,"user_id":8656297,"display_name":"Dupeyrat Kevin"},"score":0,"creation_date":1676892703,"post_id":75504947,"comment_id":133222688,"body_markdown":"A simple research can maybe help you : https://stackoverflow.com/questions/37987051/how-to-concatenate-a-string-with-the-new-1-8-stream-api#37987434. You will need to box your float primitive and convert your array to a stream first","body":"A simple research can maybe help you : <a href=\"https://stackoverflow.com/questions/37987051/how-to-concatenate-a-string-with-the-new-1-8-stream-api#37987434\" title=\"how to concatenate a string with the new 1 8 stream api%2337987434\">stackoverflow.com/questions/37987051/&hellip;</a>. You will need to box your float primitive and convert your array to a stream first"}],"answers":[{"tags":[],"owner":{"account_id":27832003,"reputation":11,"user_id":21250236,"display_name":"RMDragonheart"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676893470,"creation_date":1676893470,"answer_id":75508848,"question_id":75504947,"body_markdown":"I think that those two options would be acceptable if you extract the logic to sperate method and name it properly.\r\n```\r\n    // Option 1\r\n    float[] input = new float[] {1.0f, 0.95f, 0.11f};\r\n    var stringArray = Arrays.toString(input);\r\n    stringArray = stringArray.substring(1, stringArray.length() - 1);\r\n    stringArray = stringArray.replaceAll(&quot; &quot;, &quot;&quot;);\r\n    System.out.println(stringArray);\r\n    // Result: 1.0,0.95,0.11\r\n\r\n    // Option 2\r\n    var stringBuilder = new StringBuilder();\r\n    for (var value : input) {\r\n      stringBuilder.append(value).append(&quot;,&quot;);\r\n    }\r\n    stringBuilder.setLength(stringBuilder.length() - 1);\r\n    System.out.println(stringBuilder);\r\n    // Result: 1.0,0.95,0.11\r\n```","title":"How to convert a float array to a string concatenated by comma","body":"<p>I think that those two options would be acceptable if you extract the logic to sperate method and name it properly.</p>\n<pre><code>    // Option 1\n    float[] input = new float[] {1.0f, 0.95f, 0.11f};\n    var stringArray = Arrays.toString(input);\n    stringArray = stringArray.substring(1, stringArray.length() - 1);\n    stringArray = stringArray.replaceAll(&quot; &quot;, &quot;&quot;);\n    System.out.println(stringArray);\n    // Result: 1.0,0.95,0.11\n\n    // Option 2\n    var stringBuilder = new StringBuilder();\n    for (var value : input) {\n      stringBuilder.append(value).append(&quot;,&quot;);\n    }\n    stringBuilder.setLength(stringBuilder.length() - 1);\n    System.out.println(stringBuilder);\n    // Result: 1.0,0.95,0.11\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676898598,"creation_date":1676898036,"answer_id":75509572,"question_id":75504947,"body_markdown":"I figured out a close answer:\r\n\r\n    float[] input = new float[]{1.0f, 0.95f, 0.11f};\r\n\r\n    // output: 1.0,0.95,0.11\r\n    System.out.println(\r\n            IntStream.range(0, input.length)\r\n                    .mapToObj(i -&gt; String.valueOf(input[i]))\r\n                    .collect(Collectors.joining(&quot;,&quot;))\r\n    );\r\n\r\nThe idea is to use the `IntStream` to create an array index first, then map to each array element.","title":"How to convert a float array to a string concatenated by comma","body":"<p>I figured out a close answer:</p>\n<pre><code>float[] input = new float[]{1.0f, 0.95f, 0.11f};\n\n// output: 1.0,0.95,0.11\nSystem.out.println(\n        IntStream.range(0, input.length)\n                .mapToObj(i -&gt; String.valueOf(input[i]))\n                .collect(Collectors.joining(&quot;,&quot;))\n);\n</code></pre>\n<p>The idea is to use the <code>IntStream</code> to create an array index first, then map to each array element.</p>\n"}],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75509572,"answer_count":2,"score":0,"last_activity_date":1676898598,"creation_date":1676862699,"question_id":75504947,"body_markdown":"As the title, is there any clean Java syntax that supports converting a float array to a string concatenated by comma?\r\n\r\nI tried searching for Java stream, but it does not support float array well.\r\n\r\n\r\n\r\n    // input: \r\n    float[] input = new float[]{1.0f, 0.95f, 0.11f};\r\n\r\n    // expected output: \r\n    &quot;1.0,0.95,0.11&quot;\r\n\r\nUpdate:\r\nOf course, there are many approaches, I can even use a simple loop to do it. But compared to `String.join()` for String or Java Stream for `double[]`, I would like to know if there&#39;s one for `float[]`.","title":"How to convert a float array to a string concatenated by comma","body":"<p>As the title, is there any clean Java syntax that supports converting a float array to a string concatenated by comma?</p>\n<p>I tried searching for Java stream, but it does not support float array well.</p>\n<pre><code>// input: \nfloat[] input = new float[]{1.0f, 0.95f, 0.11f};\n\n// expected output: \n&quot;1.0,0.95,0.11&quot;\n</code></pre>\n<p>Update:\nOf course, there are many approaches, I can even use a simple loop to do it. But compared to <code>String.join()</code> for String or Java Stream for <code>double[]</code>, I would like to know if there's one for <code>float[]</code>.</p>\n"},{"tags":["java","spring-boot","junit","ldap","spring-boot-test"],"comments":[{"owner":{"account_id":1239958,"reputation":39024,"user_id":1202807,"display_name":"Gabriel Luci"},"score":0,"creation_date":1677002471,"post_id":75509233,"comment_id":133249589,"body_markdown":"Is that the complete error message? It seems like the last part of it is missing.","body":"Is that the complete error message? It seems like the last part of it is missing."}],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676898356,"creation_date":1676895756,"question_id":75509233,"body_markdown":"I have followed this guide https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/ and tried to write unit tests for it. I have implemented tests in both spring-ldap-test and zapodot but regardless what I do I get the follwing error when performing a search on in the implementation against the embedded server:\r\n\r\n    LDAP: error code 32 - Unable to perform the search because base entry &#39;ou=Users,dc=memorynotfound,dc=com&#39;\r\n\r\nIn tests I&#39;ve use base as &quot;dc=memorynotfound,dc=com&quot;\r\n\r\nWhat could possibly be wrong? Against a real LDAP-server I get a similar error.","title":"LDAP unit test is failing","body":"<p>I have followed this guide <a href=\"https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/\" rel=\"nofollow noreferrer\">https://memorynotfound.com/spring-ldap-object-directory-mapping-odm-configuration-example/</a> and tried to write unit tests for it. I have implemented tests in both spring-ldap-test and zapodot but regardless what I do I get the follwing error when performing a search on in the implementation against the embedded server:</p>\n<pre><code>LDAP: error code 32 - Unable to perform the search because base entry 'ou=Users,dc=memorynotfound,dc=com'\n</code></pre>\n<p>In tests I've use base as &quot;dc=memorynotfound,dc=com&quot;</p>\n<p>What could possibly be wrong? Against a real LDAP-server I get a similar error.</p>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":4663157,"reputation":15229,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1676820257,"post_id":75501044,"comment_id":133210043,"body_markdown":"`n^(1/x)` is the same as the `x-th root of n`. So for this special requirement, you can just iterate over `i = 1.. z` and calculate `i^x` until `i^x  &gt; n`. Then your result is `i-1`","body":"<code>n^(1&#47;x)</code> is the same as the <code>x-th root of n</code>. So for this special requirement, you can just iterate over <code>i = 1.. z</code> and calculate <code>i^x</code> until <code>i^x  &gt; n</code>. Then your result is <code>i-1</code>"},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676830998,"post_id":75501044,"comment_id":133212049,"body_markdown":"@derpirscher The loop is much to slow.","body":"@derpirscher The loop is much to slow."},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676838398,"post_id":75501044,"comment_id":133213418,"body_markdown":"@user16320675 ULP not OK : See modification I have add a floorULP() in code : it does not work ( ok with 125= 5^3 but NOT with 24389=29^3","body":"@user16320675 ULP not OK : See modification I have add a floorULP() in code : it does not work ( ok with 125= 5^3 but NOT with 24389=29^3"},{"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"score":0,"creation_date":1676898147,"post_id":75501044,"comment_id":133224185,"body_markdown":"Here is a one line function that works  :given arguments (in,exp ) the function will      :       return  new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32.).longValue();  //     Note: DECIMAL64 as any precision out of [7,15] does not work why ??","body":"Here is a one line function that works  :given arguments (in,exp ) the function will      :       return  new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32.).long&zwnj;&#8203;Value();  //     Note: DECIMAL64 as any precision out of [7,15] does not work why ??"}],"owner":{"account_id":208121,"reputation":225,"user_id":458407,"display_name":"J&#233;r&#244;me JEAN-CHARLES"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676898336,"creation_date":1676818922,"question_id":75501044,"body_markdown":"How should I write this function. Argument **in** is in [2,2^60] and **exp** in [2,60].\r\nQUEST1 : How to avoid the MESSY test ? I could not make it with Big decimal.This is like an exponential version of the old classic bug ( 1 multiply by 3 then divided by 3 is not always 1). \r\nQUEST2 : How to code it if in  is much bigger ( 2^90)\r\nSee code below. If needed I can post the code that test it all.\r\n```\r\n/** @param in input \r\n  * @param exp exponent &gt;=2 \r\n  * @return floor[in^(1/exp)] */\r\npublic static long floorOk1( final long in , final int exp) {  \r\n\tfinal long ret = (long) Math.floor(Math.pow(in,1.0/exp));\r\n\tif ( Math.pow(ret+1,exp) &lt;= in ) CORRECTIONS++; // add 1 needed \r\n\t\treturn  ( Math.pow(ret+1,exp) &lt;=in ) ? ret+1L: ret ;   \r\n}\r\n// All OK floorBAD(25 ,2)=5 = floorULP(25 ,2)    \r\n// floorULP(125,3)=5 OK ,BUT floorBAD(125,3)=4 (must be 5 as 5^3=125)  \r\n// floorULP(24389,3)=28 and  floorBAD(24389,3)=28  BOTH WRONG (should be 29 as  29^3= 24389 ) \r\n/**  (24389,3)-&gt;28 is WRONG should be 29 ,  BUT ( 125/3)=5 ok */ \r\npublic static long floorULP( final long in , final int exp) { \r\n\tfinal double val = Math.pow(in,1.0/exp) ;\r\n\treturn (long) ( Math.floor(val+Math.ulp(val))); \r\n} \r\n/** Arguments (125/3) and (24389,3) -&gt; WRONG results: 1 less than expected. */ \r\n\tpublic static long floorBAD( final long in , final int exp) { return (long) Math.floor(Math.pow(in,1.0/exp)); } \r\n\r\n\t/** Args(in,exp)= (125  ,3) ==&gt; floorBAD is wrong but floorULP is OK \r\n\t *  Args(in,exp)= (24389,3) ==&gt; floorBAD is wrong AND  floorULP also WRONG \r\n\t *  NOTE : WE HAVE 5^3= 125 ; 29^3= 24389  **/\r\n\tpublic static void smallDifferenceTest() { \r\n\t\tSystem.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == BAD(25   ,2)=&quot; + floorBAD(25 ,2)   + &quot; Ok=&quot; + (floorBAD(25 ,2)==floorOk1(25 ,2)) ) ;\r\n\t\tSystem.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == ULP(25   ,2)=&quot; + floorULP(25 ,2)   + &quot; Ok=&quot; + (floorULP(25 ,2)==floorOk1(25 ,2)) ) ;\r\n\r\n\t\tSystem.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; != BAD(125  ,3)=&quot; + floorBAD(125,3)   + &quot; Ok=&quot; + (floorBAD(125,3)==floorOk1(125,3)) ) ;\r\n\t\tSystem.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; == ULP(125  ,3)=&quot; + floorULP(125,3)   + &quot; Ok=&quot; + (floorULP(125,3)==floorOk1(125,3)) ) ;\r\n\r\n\t\tSystem.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != ULP(24389,3)=&quot; + floorULP(24389,3) + &quot; Ok=&quot; + (floorULP(24389,3)==floorOk1(24389,3)) ) ; ;\r\n\t\tSystem.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != BAD(24389,3)=&quot; + floorBAD(24389,3) + &quot; Ok=&quot; + (floorBAD(24389,3)==floorOk1(24389,3)) ) ; ;\r\n\t}\r\n/*\r\nTests result are: \r\n floorOk1(25,2)    =5 == BAD(25   ,2)=5 Ok=true\r\n floorOk1(25,2)    =5 == ULP(25   ,2)=5 Ok=true\r\n floorOk1(125,3)   =5 != BAD(125  ,3)=4 Ok=false\r\n floorOk1(125,3)   =5 == ULP(125  ,3)=5 Ok=true\r\n floorOk1(24389,3) =29 != ULP(24389,3)=28 Ok=false\r\n floorOk1(24389,3) =29 != BAD(24389,3)=28 Ok=false\r\n*/\t\r\n\r\n```\r\n\r\nI mainly tried BigDecimal as an alternative found one solution:\r\n\r\n```\r\npublic static long floorDEC( final long in , final int exp)\t{ \r\n return new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32).longValue();\r\n\t} \r\n\r\n```","title":"Proper code in Java to calculate floor(n^(1/exp)). WIth n and exp both integers","body":"<p>How should I write this function. Argument <strong>in</strong> is in [2,2^60] and <strong>exp</strong> in [2,60].\nQUEST1 : How to avoid the MESSY test ? I could not make it with Big decimal.This is like an exponential version of the old classic bug ( 1 multiply by 3 then divided by 3 is not always 1).\nQUEST2 : How to code it if in  is much bigger ( 2^90)\nSee code below. If needed I can post the code that test it all.</p>\n<pre><code>/** @param in input \n  * @param exp exponent &gt;=2 \n  * @return floor[in^(1/exp)] */\npublic static long floorOk1( final long in , final int exp) {  \n    final long ret = (long) Math.floor(Math.pow(in,1.0/exp));\n    if ( Math.pow(ret+1,exp) &lt;= in ) CORRECTIONS++; // add 1 needed \n        return  ( Math.pow(ret+1,exp) &lt;=in ) ? ret+1L: ret ;   \n}\n// All OK floorBAD(25 ,2)=5 = floorULP(25 ,2)    \n// floorULP(125,3)=5 OK ,BUT floorBAD(125,3)=4 (must be 5 as 5^3=125)  \n// floorULP(24389,3)=28 and  floorBAD(24389,3)=28  BOTH WRONG (should be 29 as  29^3= 24389 ) \n/**  (24389,3)-&gt;28 is WRONG should be 29 ,  BUT ( 125/3)=5 ok */ \npublic static long floorULP( final long in , final int exp) { \n    final double val = Math.pow(in,1.0/exp) ;\n    return (long) ( Math.floor(val+Math.ulp(val))); \n} \n/** Arguments (125/3) and (24389,3) -&gt; WRONG results: 1 less than expected. */ \n    public static long floorBAD( final long in , final int exp) { return (long) Math.floor(Math.pow(in,1.0/exp)); } \n\n    /** Args(in,exp)= (125  ,3) ==&gt; floorBAD is wrong but floorULP is OK \n     *  Args(in,exp)= (24389,3) ==&gt; floorBAD is wrong AND  floorULP also WRONG \n     *  NOTE : WE HAVE 5^3= 125 ; 29^3= 24389  **/\n    public static void smallDifferenceTest() { \n        System.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == BAD(25   ,2)=&quot; + floorBAD(25 ,2)   + &quot; Ok=&quot; + (floorBAD(25 ,2)==floorOk1(25 ,2)) ) ;\n        System.out.println(&quot; floorOk1(25,2)    =&quot; + floorOk1(25 ,2)   + &quot; == ULP(25   ,2)=&quot; + floorULP(25 ,2)   + &quot; Ok=&quot; + (floorULP(25 ,2)==floorOk1(25 ,2)) ) ;\n\n        System.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; != BAD(125  ,3)=&quot; + floorBAD(125,3)   + &quot; Ok=&quot; + (floorBAD(125,3)==floorOk1(125,3)) ) ;\n        System.out.println(&quot; floorOk1(125,3)   =&quot; + floorOk1(125,3)   + &quot; == ULP(125  ,3)=&quot; + floorULP(125,3)   + &quot; Ok=&quot; + (floorULP(125,3)==floorOk1(125,3)) ) ;\n\n        System.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != ULP(24389,3)=&quot; + floorULP(24389,3) + &quot; Ok=&quot; + (floorULP(24389,3)==floorOk1(24389,3)) ) ; ;\n        System.out.println(&quot; floorOk1(24389,3) =&quot; + floorOk1(24389,3) + &quot; != BAD(24389,3)=&quot; + floorBAD(24389,3) + &quot; Ok=&quot; + (floorBAD(24389,3)==floorOk1(24389,3)) ) ; ;\n    }\n/*\nTests result are: \n floorOk1(25,2)    =5 == BAD(25   ,2)=5 Ok=true\n floorOk1(25,2)    =5 == ULP(25   ,2)=5 Ok=true\n floorOk1(125,3)   =5 != BAD(125  ,3)=4 Ok=false\n floorOk1(125,3)   =5 == ULP(125  ,3)=5 Ok=true\n floorOk1(24389,3) =29 != ULP(24389,3)=28 Ok=false\n floorOk1(24389,3) =29 != BAD(24389,3)=28 Ok=false\n*/  \n\n</code></pre>\n<p>I mainly tried BigDecimal as an alternative found one solution:</p>\n<pre><code>public static long floorDEC( final long in , final int exp) { \n return new BigDecimal(Math.pow(in,1.0/exp),MathContext.DECIMAL32).longValue();\n    } \n\n</code></pre>\n"},{"tags":["java","kotlin","generics","covariance","contravariance"],"comments":[{"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"score":1,"creation_date":1692291935,"post_id":75509417,"comment_id":135606731,"body_markdown":"As both answers indicate &quot;Java doesn’t support declaration-site variance like Kotlin does&quot;. Notice [JEP-300](https://openjdk.org/jeps/300) proposes it, so maybe in a distant future...","body":"As both answers indicate &quot;Java doesn’t support declaration-site variance like Kotlin does&quot;. Notice <a href=\"https://openjdk.org/jeps/300\" rel=\"nofollow noreferrer\">JEP-300</a> proposes it, so maybe in a distant future..."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676897957,"creation_date":1676897957,"answer_id":75509557,"question_id":75509417,"body_markdown":"Java doesn’t support declaration-site variance like Kotlin does. It only supports use-site variance. In other words, variance can only be used on variable and parameter types, not in class/interface definitions.\r\n\r\nSo in Java, you would specify your interface and class definitions without variance, and every time you need variance, you would declare the variable with it. \r\n\r\nCovariance uses `? extends`, and contravariance use `? super`, for example:\r\n\r\n```java\r\nBox&lt;? extends Number&gt; numberBox = new BoxImpl(1);\r\n","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Java doesn’t support declaration-site variance like Kotlin does. It only supports use-site variance. In other words, variance can only be used on variable and parameter types, not in class/interface definitions.</p>\n<p>So in Java, you would specify your interface and class definitions without variance, and every time you need variance, you would declare the variable with it.</p>\n<p>Covariance uses <code>? extends</code>, and contravariance use <code>? super</code>, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Box&lt;? extends Number&gt; numberBox = new BoxImpl(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676898282,"creation_date":1676898282,"answer_id":75509612,"question_id":75509417,"body_markdown":"Java doesn&#39;t have declaration-site variance like Kotlin does. That is, you cannot specify the variance of a type when you *declare* it. However, it does have use-site variance - you *can* specify the variance when you *use* a type, as the type of a variable, for example.\r\n\r\nFor example,\r\n\r\n    // Kotlin\r\n    var foo: SomeGenericType&lt;out T&gt;\r\n    var bar: SomeGenericType&lt;in T&gt;\r\n\r\nis similar to:\r\n\r\n    // Java\r\n    SomeGenericType&lt;? extends T&gt; foo;\r\n    SomeGenericType&lt;? super T&gt; bar;\r\n\r\n(The mnemonic for this is [PECS][1].)\r\n\r\nA crucial difference though, is that you can pass `null`s into methods of the Java `bar` variable,\r\n\r\n    bar.someMethod(null);\r\n\r\nBut you cannot pass anything into the Kotlin `bar` - it literally takes `Nothing`!\r\n\r\nIf you are trying to use a generic type from Java in your Kotlin code, I think you&#39;d have to make it `@UnsafeVariance` to suppress the compiler error for now.\r\n\r\n    // Of course, only do this if you are sure that Box is covariant!\r\n    data class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;@UnsafeVariance T&gt;\r\n\r\nThere are also discussions about adding the ability to annotate Java type parameters so that the Kotlin compiler knows about their variance. See [this](https://youtrack.jetbrains.com/issue/KT-41062/Allow-Java-classes-to-specify-declaration-site-variance) and [this](https://github.com/jspecify/jspecify/issues/72). Hopefully we can get that some day in the future. Though this doesn&#39;t change the fact that there is no declaration-site variance in Java.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Java doesn't have declaration-site variance like Kotlin does. That is, you cannot specify the variance of a type when you <em>declare</em> it. However, it does have use-site variance - you <em>can</em> specify the variance when you <em>use</em> a type, as the type of a variable, for example.</p>\n<p>For example,</p>\n<pre><code>// Kotlin\nvar foo: SomeGenericType&lt;out T&gt;\nvar bar: SomeGenericType&lt;in T&gt;\n</code></pre>\n<p>is similar to:</p>\n<pre><code>// Java\nSomeGenericType&lt;? extends T&gt; foo;\nSomeGenericType&lt;? super T&gt; bar;\n</code></pre>\n<p>(The mnemonic for this is <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">PECS</a>.)</p>\n<p>A crucial difference though, is that you can pass <code>null</code>s into methods of the Java <code>bar</code> variable,</p>\n<pre><code>bar.someMethod(null);\n</code></pre>\n<p>But you cannot pass anything into the Kotlin <code>bar</code> - it literally takes <code>Nothing</code>!</p>\n<p>If you are trying to use a generic type from Java in your Kotlin code, I think you'd have to make it <code>@UnsafeVariance</code> to suppress the compiler error for now.</p>\n<pre><code>// Of course, only do this if you are sure that Box is covariant!\ndata class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;@UnsafeVariance T&gt;\n</code></pre>\n<p>There are also discussions about adding the ability to annotate Java type parameters so that the Kotlin compiler knows about their variance. See <a href=\"https://youtrack.jetbrains.com/issue/KT-41062/Allow-Java-classes-to-specify-declaration-site-variance\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://github.com/jspecify/jspecify/issues/72\" rel=\"nofollow noreferrer\">this</a>. Hopefully we can get that some day in the future. Though this doesn't change the fact that there is no declaration-site variance in Java.</p>\n"}],"owner":{"account_id":1023984,"reputation":40599,"user_id":1033686,"accept_rate":97,"display_name":"Matthew Layton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75509612,"answer_count":2,"score":1,"last_activity_date":1676898282,"creation_date":1676896919,"question_id":75509417,"body_markdown":"Consider the following Kotlin interface:\r\n\r\n```kotlin\r\ninterface Box&lt;out T : SomeType&gt; {\r\n    val item: T\r\n}\r\n```\r\n\r\nImplementing this with Kotlin would look something like this:\r\n\r\n```kotlin\r\ndata class BoxImpl&lt;out T : SomeType&gt;(override val item: T) : Box&lt;T&gt;\r\n```\r\n\r\nNow I want to convert that interface to Java:\r\n\r\n```java\r\npublic interface Box&lt;T extends SomeType&gt; {\r\n    T getItem();\r\n}\r\n```\r\n\r\nBut implementing this in Kotlin causes a problem:\r\n```\r\ndata class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;T&gt; {\r\n\r\n    override fun getItem(): T {\r\n        return item\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that the Kotlin compiler complains that `T` is **invariant** on the Java interface, but **covariant** on the implementation.\r\n\r\nSo, how do you specify `out` (covariant) variance in Java?\r\n\r\nAdditionally, how would you specify `in` (contra-variant) variance?","title":"What is Java&#39;s equivalent to Kotlin&#39;s covariant and contra-variant modifiers?","body":"<p>Consider the following Kotlin interface:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface Box&lt;out T : SomeType&gt; {\n    val item: T\n}\n</code></pre>\n<p>Implementing this with Kotlin would look something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class BoxImpl&lt;out T : SomeType&gt;(override val item: T) : Box&lt;T&gt;\n</code></pre>\n<p>Now I want to convert that interface to Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Box&lt;T extends SomeType&gt; {\n    T getItem();\n}\n</code></pre>\n<p>But implementing this in Kotlin causes a problem:</p>\n<pre><code>data class BoxImpl&lt;out T : SomeType&gt;(private val item: T) : Box&lt;T&gt; {\n\n    override fun getItem(): T {\n        return item\n    }\n}\n</code></pre>\n<p>The problem is that the Kotlin compiler complains that <code>T</code> is <strong>invariant</strong> on the Java interface, but <strong>covariant</strong> on the implementation.</p>\n<p>So, how do you specify <code>out</code> (covariant) variance in Java?</p>\n<p>Additionally, how would you specify <code>in</code> (contra-variant) variance?</p>\n"},{"tags":["java","algorithm","nodes","a-star","euclidean-distance"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1676826675,"post_id":75501885,"comment_id":133211211,"body_markdown":"Yes, in the sense that the euclidean path has an equivalent manhattan path, so there is always a pair. But no in the sense that there are way more equally valid manhattan paths if each step has the same weight than the single on you&#39;re showing here.","body":"Yes, in the sense that the euclidean path has an equivalent manhattan path, so there is always a pair. But no in the sense that there are way more equally valid manhattan paths if each step has the same weight than the single on you&#39;re showing here."},{"owner":{"account_id":267086,"reputation":62435,"user_id":555045,"accept_rate":100,"display_name":"harold"},"score":2,"creation_date":1676826803,"post_id":75501885,"comment_id":133211241,"body_markdown":"It&#39;s possible and expected to at least happen *sometimes* (you can make trivial maps that force that to happen), checking whether it should happen for this specific grid would be a bit of work..","body":"It&#39;s possible and expected to at least happen <i>sometimes</i> (you can make trivial maps that force that to happen), checking whether it should happen for this specific grid would be a bit of work.."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1676828543,"post_id":75501885,"comment_id":133211553,"body_markdown":"No, those results don&#39;t make sense.  You used the same heuristic both times.","body":"No, those results don&#39;t make sense.  You used the same heuristic both times."}],"answers":[{"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1677396688,"post_id":75509529,"comment_id":133327010,"body_markdown":"Any feedback to this answer? Did you check your code?","body":"Any feedback to this answer? Did you check your code?"},{"owner":{"account_id":19678378,"reputation":661,"user_id":14405992,"display_name":"Chris Costa"},"score":1,"creation_date":1677416909,"post_id":75509529,"comment_id":133329711,"body_markdown":"Yes, you were right. I had a bug in my algorithm. The 2 heuristics give different paths. Thank you","body":"Yes, you were right. I had a bug in my algorithm. The 2 heuristics give different paths. Thank you"}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676897752,"creation_date":1676897752,"answer_id":75509529,"question_id":75501885,"body_markdown":"In the example grid, the shortest paths have a length that is equal to the Manhattan distance between start and finish, and this is even true for most cells in your grid: the shortest path from those cells to the finish has the Manhattan distance from that cell to the finish. That means that with the Manhattan heuristic function, competing alternatives will often have the same total cost (i.e. 14) and whether or not the priority queue delivers the nodes in the same order as for the other, Euclidean distance heuristic, depends on how such ties are broken.\r\n\r\n**However**, the sequence of explored nodes you have given for the Euclidean distance heuristic cannot be right:\r\n\r\nFor instance, cells (0,5) and (3,3) don&#39;t appear in the expected order.\r\n\r\nHere are the relevant cost values for these two cells:\r\n\r\n| cell  | steps made from (0,0) | Euclidean to (4,10) | total cost (priority)\r\n|:-----:|:---------------------:|:-------------------:|:----------:\r\n| (0,5) |         5             |      6.403 -&gt; 6     |  5 + 6 = 11\r\n| (3,3) |         6             |      7.071 -&gt; 7     |  6 + 7 = 13\r\n\r\nSo clearly, (0, 5) should be pulled from the priority queue before (3, 3), yet in your sequence you have (3, 3) coming before (0, 5). This means something is wrong in your algorithm.\r\n\r\n","title":"Is it logical for Manhattan and Euclidean heuristics to check the same nodes?","body":"<p>In the example grid, the shortest paths have a length that is equal to the Manhattan distance between start and finish, and this is even true for most cells in your grid: the shortest path from those cells to the finish has the Manhattan distance from that cell to the finish. That means that with the Manhattan heuristic function, competing alternatives will often have the same total cost (i.e. 14) and whether or not the priority queue delivers the nodes in the same order as for the other, Euclidean distance heuristic, depends on how such ties are broken.</p>\n<p><strong>However</strong>, the sequence of explored nodes you have given for the Euclidean distance heuristic cannot be right:</p>\n<p>For instance, cells (0,5) and (3,3) don't appear in the expected order.</p>\n<p>Here are the relevant cost values for these two cells:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: center;\">cell</th>\n<th style=\"text-align: center;\">steps made from (0,0)</th>\n<th style=\"text-align: center;\">Euclidean to (4,10)</th>\n<th style=\"text-align: center;\">total cost (priority)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: center;\">(0,5)</td>\n<td style=\"text-align: center;\">5</td>\n<td style=\"text-align: center;\">6.403 -&gt; 6</td>\n<td style=\"text-align: center;\">5 + 6 = 11</td>\n</tr>\n<tr>\n<td style=\"text-align: center;\">(3,3)</td>\n<td style=\"text-align: center;\">6</td>\n<td style=\"text-align: center;\">7.071 -&gt; 7</td>\n<td style=\"text-align: center;\">6 + 7 = 13</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So clearly, (0, 5) should be pulled from the priority queue before (3, 3), yet in your sequence you have (3, 3) coming before (0, 5). This means something is wrong in your algorithm.</p>\n"}],"owner":{"account_id":19678378,"reputation":661,"user_id":14405992,"display_name":"Chris Costa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75509529,"answer_count":1,"score":1,"last_activity_date":1676897752,"creation_date":1676826326,"question_id":75501885,"body_markdown":"So I have created an app where I have to find the shortest route from ``startPos`` to ``endPos`` using the A* algorithm. I have approached this problem with the 2 most common heuristics:\r\n\r\n **1. Manhattan Distance**\r\n\r\n **2. Euclidean Distance**\r\n\r\nNot only both of them give me the same path but they both explore the same nodes. Does it make sense?\r\n\r\nMy functions for calculating the distances:\r\n\r\n```\r\npublic static int manhattanDistance(int row1, int col1, int row2, int col2) {\r\n    return Math.abs(row1 - row2) + Math.abs(col1 - col2);\r\n} \r\n```\r\n\r\n```\r\npublic static int euclideanDistance(int row1, int col1, int row2, int col2) {\r\n    int dx = col2 - col1;\r\n    int dy = row2 - row1;\r\n    return (int) Math.sqrt(dx * dx + dy * dy);\r\n}\r\n```\r\nAn example is when I have the grid:\r\n```\r\nS0000001000\r\n11001000010\r\n00000000000\r\n00100000001\r\n0000010100E\r\n```\r\nwith starting position ``S = (0.0)`` and ending position ``E = (4,10)``\r\n\r\nAfter executing the algorithm I get the results:\r\n```\r\nCalculating result using Manhattan Distance.\r\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\r\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\r\n\r\nCalculating result using Euclidean Distance.\r\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\r\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\r\n```\r\nAs we can see not only the path is the same but the nodes are the same explored in the same order. Should it be like this? Does it make sense to be like this? Is it always going to be like this for all scenarios?","title":"Is it logical for Manhattan and Euclidean heuristics to check the same nodes?","body":"<p>So I have created an app where I have to find the shortest route from <code>startPos</code> to <code>endPos</code> using the A* algorithm. I have approached this problem with the 2 most common heuristics:</p>\n<p><strong>1. Manhattan Distance</strong></p>\n<p><strong>2. Euclidean Distance</strong></p>\n<p>Not only both of them give me the same path but they both explore the same nodes. Does it make sense?</p>\n<p>My functions for calculating the distances:</p>\n<pre><code>public static int manhattanDistance(int row1, int col1, int row2, int col2) {\n    return Math.abs(row1 - row2) + Math.abs(col1 - col2);\n} \n</code></pre>\n<pre><code>public static int euclideanDistance(int row1, int col1, int row2, int col2) {\n    int dx = col2 - col1;\n    int dy = row2 - row1;\n    return (int) Math.sqrt(dx * dx + dy * dy);\n}\n</code></pre>\n<p>An example is when I have the grid:</p>\n<pre><code>S0000001000\n11001000010\n00000000000\n00100000001\n0000010100E\n</code></pre>\n<p>with starting position <code>S = (0.0)</code> and ending position <code>E = (4,10)</code></p>\n<p>After executing the algorithm I get the results:</p>\n<pre><code>Calculating result using Manhattan Distance.\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\n\nCalculating result using Euclidean Distance.\nNodes explored (33): (0, 0) (0, 1) (0, 2) (0, 3) (1, 2) (1, 3) (2, 2) (2, 3) (0, 4) (3, 3) (0, 5) (4, 3) (1, 5) (3, 4) (1, 6) (3, 5) (2, 6) (1, 7) (2, 7) (1, 8) (3, 6) (3, 7) (2, 8) (3, 8) (2, 9) (4, 8) (2, 10) (4, 9) (0, 8) (2, 1) (0, 9) (3, 1) (4, 1)\nPath: (0, 0) (0, 1) (0, 2) (0, 3) (0, 4) (0, 5) (1, 5) (1, 6) (2, 6) (2, 7) (3, 7) (3, 8) (4, 8) (4, 9) (4, 10)\n</code></pre>\n<p>As we can see not only the path is the same but the nodes are the same explored in the same order. Should it be like this? Does it make sense to be like this? Is it always going to be like this for all scenarios?</p>\n"},{"tags":["java","spring-boot","maven","pom.xml"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676898043,"post_id":75509497,"comment_id":133224155,"body_markdown":"As stated in the other question no you don&#39;t need to exclude it! The exclude in the plugin section is a totally different one then the one from the dependencies section! It is needed here because lombok is a provided dependency, by default those aren&#39;t included. However with a Spring BOot application those are included in the fat-jar. For lombok that isn&#39;t needed hence the exclude in the plugin section as to not include it in the resulting jar.","body":"As stated in the other question no you don&#39;t need to exclude it! The exclude in the plugin section is a totally different one then the one from the dependencies section! It is needed here because lombok is a provided dependency, by default those aren&#39;t included. However with a Spring BOot application those are included in the fat-jar. For lombok that isn&#39;t needed hence the exclude in the plugin section as to not include it in the resulting jar."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676898880,"post_id":75509497,"comment_id":133224365,"body_markdown":"@M.Deinum Thanks for reply. **1.** Do you mean that in order to remove a transitive dependency (for example when adding Lombok separately and it is also included in Spring), I just need to specify the version that I added in the `&lt;properties&gt;` tags as shown above, right?","body":"@M.Deinum Thanks for reply. <b>1.</b> Do you mean that in order to remove a transitive dependency (for example when adding Lombok separately and it is also included in Spring), I just need to specify the version that I added in the <code>&lt;properties&gt;</code> tags as shown above, right?"},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676898983,"post_id":75509497,"comment_id":133224394,"body_markdown":"**2.** In this scene, do I need to remove `&lt;exclude&gt;` part only or all the `&lt;plugin&gt;` part for `lombok` (shown above) above from pom.xml?","body":"<b>2.</b> In this scene, do I need to remove <code>&lt;exclude&gt;</code> part only or all the <code>&lt;plugin&gt;</code> part for <code>lombok</code> (shown above) above from pom.xml?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676899426,"post_id":75509497,"comment_id":133224525,"body_markdown":"I strongly suggest you first start to learn how maven works. As you are mixing a lot of, unrelated, things together. 1. No, 2 No. Read my comment again.","body":"I strongly suggest you first start to learn how maven works. As you are mixing a lot of, unrelated, things together. 1. No, 2 No. Read my comment again."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676899567,"post_id":75509497,"comment_id":133224559,"body_markdown":"Which one is unrelated? Did not you suggest to me that defining version using &lt;properties&gt; tag instead of excluding the transitive reference?","body":"Which one is unrelated? Did not you suggest to me that defining version using &lt;properties&gt; tag instead of excluding the transitive reference?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676900173,"post_id":75509497,"comment_id":133224752,"body_markdown":"That is what I suggested and you should do, hence I don&#39;t get the gist of this question as that is more or less asking the same. The exclude you mention is for dependencies, the exclude here is for something entirely different. That are different beast. You also need to exclude it for a totally different reason.","body":"That is what I suggested and you should do, hence I don&#39;t get the gist of this question as that is more or less asking the same. The exclude you mention is for dependencies, the exclude here is for something entirely different. That are different beast. You also need to exclude it for a totally different reason."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676900420,"post_id":75509497,"comment_id":133224824,"body_markdown":"Yes, I followed your suggestion. But I think excluding snakeyaml or lombox fom Spring when adding them as dependencies are the same, what is the difference? If you clarify us, there will be no confusion. After that I can also read, but at first it seems to be useful to clarify some points you mentioned.","body":"Yes, I followed your suggestion. But I think excluding snakeyaml or lombox fom Spring when adding them as dependencies are the same, what is the difference? If you clarify us, there will be no confusion. After that I can also read, but at first it seems to be useful to clarify some points you mentioned."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676900605,"post_id":75509497,"comment_id":133224882,"body_markdown":"No they aren&#39;t the same not even close. And as mentioned twice before en exclude in the dependencies section is different then the exclude here for the spring-boot-maven-plugin as I already explained in my first comment.","body":"No they aren&#39;t the same not even close. And as mentioned twice before en exclude in the dependencies section is different then the exclude here for the spring-boot-maven-plugin as I already explained in my first comment."},{"owner":{"display_name":"user21099360"},"score":0,"creation_date":1676903098,"post_id":75509497,"comment_id":133225655,"body_markdown":"I think the problem with your explanations is not posting an example code and generally try to explain by words. But even if they are generally useful, unexperienced developers cannot get benefit from those unless you provide an example code. Instead of posting several comments, I think you would give an example part of pom.xml and show clearly the difference :)","body":"I think the problem with your explanations is not posting an example code and generally try to explain by words. But even if they are generally useful, unexperienced developers cannot get benefit from those unless you provide an example code. Instead of posting several comments, I think you would give an example part of pom.xml and show clearly the difference :)"}],"owner":{"display_name":"user21099360"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676897524,"creation_date":1676897524,"question_id":75509497,"body_markdown":"I use lombok in my project and I realized the following `&lt;exclude&gt;` part in my pom.xml:\r\n\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    &lt;configuration&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI just add the lombok dependency and did not add this block. Is this something that lombok is also available and when I add it explicitly, it is excluded by adding this block automatically to the pom.xml? \r\n\r\nIf it is the case, should I use this approach (adding `&lt;excludes&gt;` block for the related library) when I use a different version for transitive dependencies e.g. `snakeyaml` ? Or should I just add the properties as shown below and override the transitive dependency version? \r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\r\n&lt;/properties&gt;\r\n```","title":"Excluding lombok from pom.xml in Spring Boot?","body":"<p>I use lombok in my project and I realized the following <code>&lt;exclude&gt;</code> part in my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;/exclude&gt;\n        &lt;/excludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I just add the lombok dependency and did not add this block. Is this something that lombok is also available and when I add it explicitly, it is excluded by adding this block automatically to the pom.xml?</p>\n<p>If it is the case, should I use this approach (adding <code>&lt;excludes&gt;</code> block for the related library) when I use a different version for transitive dependencies e.g. <code>snakeyaml</code> ? Or should I just add the properties as shown below and override the transitive dependency version?</p>\n<pre><code>&lt;properties&gt;\n    &lt;snakeyaml.version&gt;1.33&lt;/snakeyaml.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":["java","spring","jvm","graalvm","spring-native"],"answers":[{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676896985,"creation_date":1676675993,"answer_id":75490057,"question_id":75489897,"body_markdown":"First of all, you should know what a JRE (Java runtime environment) is. Basically, it includes everything required to run Java applications that are already built. A [JDK (Java Development Kit)][1] is a superset of a JRE, adding the tools for developing Java applications.\r\n\r\nWith [`jlink`][2], you can create JRE images. This means you are creating a Java installation that is capable of running your Java program. This can be done in a way so it only contains the necessary modules. [`jpackage`][3] allows you to create an installer for such a JRE.\r\n\r\nOn the other hand, a native image is a version of your code that&#39;s compiled and optimized for a specific target platform. Typically, it&#39;s a single executable file that runs your code. When [creating a native image][4], it takes your application and converts (compiles) it to a platform specific executable (unlike `jlink` which creates a JRE that is able run your &quot;normal&quot; JAR).\r\n\r\nNative-image does not generate a JAR but an ELF/EXE file which can be executed on your device without a Java installation while `jlink` just creates a (minimal) Java installation capable of running your application.\r\n\r\nIt should be noted that native-image comes with a few limitations. For example, remote class loading is not possible and if you use [Reflection][5], you [need to specify what to reflectively access at compile-time](https://docs.oracle.com/en/graalvm/enterprise/21/docs/reference-manual/native-image/Reflection/).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/\r\n  [2]: https://openjdk.org/jeps/282\r\n  [3]: https://openjdk.org/jeps/392\r\n  [4]: https://www.graalvm.org/22.0/reference-manual/native-image/\r\n  [5]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/package-summary.html","title":"Difference between Java custom JRE and Java native image","body":"<p>First of all, you should know what a JRE (Java runtime environment) is. Basically, it includes everything required to run Java applications that are already built. A <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/\" rel=\"nofollow noreferrer\">JDK (Java Development Kit)</a> is a superset of a JRE, adding the tools for developing Java applications.</p>\n<p>With <a href=\"https://openjdk.org/jeps/282\" rel=\"nofollow noreferrer\"><code>jlink</code></a>, you can create JRE images. This means you are creating a Java installation that is capable of running your Java program. This can be done in a way so it only contains the necessary modules. <a href=\"https://openjdk.org/jeps/392\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> allows you to create an installer for such a JRE.</p>\n<p>On the other hand, a native image is a version of your code that's compiled and optimized for a specific target platform. Typically, it's a single executable file that runs your code. When <a href=\"https://www.graalvm.org/22.0/reference-manual/native-image/\" rel=\"nofollow noreferrer\">creating a native image</a>, it takes your application and converts (compiles) it to a platform specific executable (unlike <code>jlink</code> which creates a JRE that is able run your &quot;normal&quot; JAR).</p>\n<p>Native-image does not generate a JAR but an ELF/EXE file which can be executed on your device without a Java installation while <code>jlink</code> just creates a (minimal) Java installation capable of running your application.</p>\n<p>It should be noted that native-image comes with a few limitations. For example, remote class loading is not possible and if you use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/reflect/package-summary.html\" rel=\"nofollow noreferrer\">Reflection</a>, you <a href=\"https://docs.oracle.com/en/graalvm/enterprise/21/docs/reference-manual/native-image/Reflection/\" rel=\"nofollow noreferrer\">need to specify what to reflectively access at compile-time</a>.</p>\n"}],"owner":{"account_id":27815181,"reputation":11,"user_id":21236733,"display_name":"MRoose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676896985,"creation_date":1676674043,"question_id":75489897,"body_markdown":"In addition to developing classic services on Spring Boot, I want to know Java with it environment better.\r\nWhen I began to study portability, I came across such concepts as custom JRE (jlink, jmods) and native image (GraalVM, Liberica NIC).\r\n\r\nAs I understand :\r\n\r\n- Custom JRE for creating distribution folder with executable file. In folder only necessary dependencies. It arrived in Java 9\r\n- Native image for creating executable all in one JAR\r\n\r\nWhich of them should be used in which cases?  \r\n","title":"Difference between Java custom JRE and Java native image","body":"<p>In addition to developing classic services on Spring Boot, I want to know Java with it environment better.\nWhen I began to study portability, I came across such concepts as custom JRE (jlink, jmods) and native image (GraalVM, Liberica NIC).</p>\n<p>As I understand :</p>\n<ul>\n<li>Custom JRE for creating distribution folder with executable file. In folder only necessary dependencies. It arrived in Java 9</li>\n<li>Native image for creating executable all in one JAR</li>\n</ul>\n<p>Which of them should be used in which cases?</p>\n"},{"tags":["java","flutter","encryption","aes"],"comments":[{"owner":{"account_id":5624889,"reputation":754,"user_id":4453627,"display_name":"CbL"},"score":0,"creation_date":1615031272,"post_id":66504628,"comment_id":117568973,"body_markdown":"Do you mean you want to encrypt the data with java and  then decrypt with dart (in flutter)? Can you elaborate more about your question?","body":"Do you mean you want to encrypt the data with java and  then decrypt with dart (in flutter)? Can you elaborate more about your question?"},{"owner":{"account_id":20885262,"reputation":1,"user_id":15342010,"display_name":"saeed hooshmand"},"score":0,"creation_date":1615178210,"post_id":66504628,"comment_id":117601697,"body_markdown":"@CbL  yes , please help  me","body":"@CbL  yes , please help  me"}],"owner":{"account_id":20885262,"reputation":1,"user_id":15342010,"display_name":"saeed hooshmand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896938,"creation_date":1615026223,"question_id":66504628,"body_markdown":"I have some code for encryption data in **java** with **salt** and **key**\r\n\r\n    Encryption.Builder builder = new Encryption.Builder()\r\n            .setIv(new byte[16])\r\n            .setKey(&quot;encry&quot;)\r\n            .setSalt(salt)\r\n            .setKeyLength(128)\r\n            .setKeyAlgorithm(&quot;AES&quot;)\r\n            .setCharsetName(&quot;UTF8&quot;)\r\n            .setIterationCount(16)//65536\r\n            .setDigestAlgorithm(&quot;SHA1&quot;)\r\n            .setBase64Mode(Base64.DEFAULT)\r\n            .setAlgorithm(&quot;AES/CBC/PKCS5Padding&quot;)\r\n            .setSecureRandomAlgorithm(&quot;SHA1PRNG&quot;)\r\n            .setSecretKeyType(&quot;PBKDF2WithHmacSHA1&quot;);\r\n\r\n   \r\n      Encryption encryption = builder.build();\r\n      System.out.println(&quot;decryptedEnc = &quot; + enc);\r\n      String decrypt = encryption.decryptOrNull(&quot;9iLnZQjN2aZoCs04lkWw3HX2xb6io8ouND7VhhfeIYsKhUCjPHgThL3IeIiEPBmpwGkAKoIFvJidsa3rancHJoYy2e3ipj5zw+e2L7va5qA=&quot;);\r\n      System.out.println(&quot;decrypted = &quot; + decrypt);\r\n      return decrypt;\r\n\r\n\r\nand I decrypt data to flutter , But I can&#39;t found answer this question\r\n\r\n\r\nplease help me\r\n\r\n\r\ntnx a lot ","title":"I went AES encryption in java convert and use to flutter","body":"<p>I have some code for encryption data in <strong>java</strong> with <strong>salt</strong> and <strong>key</strong></p>\n<pre><code>Encryption.Builder builder = new Encryption.Builder()\n        .setIv(new byte[16])\n        .setKey(&quot;encry&quot;)\n        .setSalt(salt)\n        .setKeyLength(128)\n        .setKeyAlgorithm(&quot;AES&quot;)\n        .setCharsetName(&quot;UTF8&quot;)\n        .setIterationCount(16)//65536\n        .setDigestAlgorithm(&quot;SHA1&quot;)\n        .setBase64Mode(Base64.DEFAULT)\n        .setAlgorithm(&quot;AES/CBC/PKCS5Padding&quot;)\n        .setSecureRandomAlgorithm(&quot;SHA1PRNG&quot;)\n        .setSecretKeyType(&quot;PBKDF2WithHmacSHA1&quot;);\n\n\n  Encryption encryption = builder.build();\n  System.out.println(&quot;decryptedEnc = &quot; + enc);\n  String decrypt = encryption.decryptOrNull(&quot;9iLnZQjN2aZoCs04lkWw3HX2xb6io8ouND7VhhfeIYsKhUCjPHgThL3IeIiEPBmpwGkAKoIFvJidsa3rancHJoYy2e3ipj5zw+e2L7va5qA=&quot;);\n  System.out.println(&quot;decrypted = &quot; + decrypt);\n  return decrypt;\n</code></pre>\n<p>and I decrypt data to flutter , But I can't found answer this question</p>\n<p>please help me</p>\n<p>tnx a lot</p>\n"},{"tags":["javascript","java","xml","jenkins","ant"],"answers":[{"tags":[],"owner":{"account_id":13171843,"reputation":15,"user_id":9513895,"display_name":"man like dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676896901,"creation_date":1676536904,"answer_id":75469682,"question_id":75467256,"body_markdown":"using the suggestion below fixed the error.\r\n\r\ni.e.\r\n```javascript\r\nvar Zip = org.apache.tools.ant.taskdefs.Zip;\r\n```\r\n\r\nhttps://stackoverflow.com/questions/22503100/java-8-javascript-engine-backwards-compatibility\r\n","title":"Cannot load ZipFileSet in Ant","body":"<p>using the suggestion below fixed the error.</p>\n<p>i.e.</p>\n<pre class=\"lang-js prettyprint-override\"><code>var Zip = org.apache.tools.ant.taskdefs.Zip;\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/22503100/java-8-javascript-engine-backwards-compatibility\">Java 8 Javascript Engine backwards compatibility</a></p>\n"}],"owner":{"account_id":13171843,"reputation":15,"user_id":9513895,"display_name":"man like dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75469682,"answer_count":1,"score":0,"last_activity_date":1676896901,"creation_date":1676514534,"question_id":75467256,"body_markdown":"i get a typeerror when executing the below in my ant deploy.xml file, any idea what&#39;s wrong?\r\nThis worked about two weeks ago\r\n \r\n**command**:ant -f deploy.xml\r\n\r\n**ant version**: 1.9.4\r\n\r\n**error**:*javax.script.ScriptException: TypeError: Cannot load script from Packages.org.apache.tools.ant.types.ZipFileSet* \r\n```\r\n&lt;script language=&quot;javascript&quot;&gt;&lt;![CDATA[\r\n\t     var version = java.lang.System.getProperty(&quot;java.version&quot;);\r\n         if ( version.startsWith(&quot;1.8.0&quot;)) {\r\n             load(Packages.org.apache.tools.ant.types.ZipFileSet);\r\n             load(Packages.org.apache.tools.ant.taskdefs.Zip);\r\n         } else {\r\n             importClass(Packages.org.apache.tools.ant.types.ZipFileSet);\r\n             importClass(Packages.org.apache.tools.ant.taskdefs.Zip);\r\n\t\t }\r\n         ]]&gt;\r\n&lt;/script&gt;\r\n```","title":"Cannot load ZipFileSet in Ant","body":"<p>i get a typeerror when executing the below in my ant deploy.xml file, any idea what's wrong?\nThis worked about two weeks ago</p>\n<p><strong>command</strong>:ant -f deploy.xml</p>\n<p><strong>ant version</strong>: 1.9.4</p>\n<p><strong>error</strong>:<em>javax.script.ScriptException: TypeError: Cannot load script from Packages.org.apache.tools.ant.types.ZipFileSet</em></p>\n<pre><code>&lt;script language=&quot;javascript&quot;&gt;&lt;![CDATA[\n         var version = java.lang.System.getProperty(&quot;java.version&quot;);\n         if ( version.startsWith(&quot;1.8.0&quot;)) {\n             load(Packages.org.apache.tools.ant.types.ZipFileSet);\n             load(Packages.org.apache.tools.ant.taskdefs.Zip);\n         } else {\n             importClass(Packages.org.apache.tools.ant.types.ZipFileSet);\n             importClass(Packages.org.apache.tools.ant.taskdefs.Zip);\n         }\n         ]]&gt;\n&lt;/script&gt;\n</code></pre>\n"},{"tags":["java","multithreading","semaphore","executorservice","java.util.concurrent"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676893674,"post_id":75508858,"comment_id":133222928,"body_markdown":"Inter- or intra-process? Doesn&#39;t a `synchronized` block work already? How are you using the semaphore inside `MyTask`?","body":"Inter- or intra-process? Doesn&#39;t a <code>synchronized</code> block work already? How are you using the semaphore inside <code>MyTask</code>?"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1676893789,"post_id":75508858,"comment_id":133222973,"body_markdown":"If the method that opens and closes the file is synchronized, you shouldn&#39;t have this issue","body":"If the method that opens and closes the file is synchronized, you shouldn&#39;t have this issue"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1676894369,"post_id":75508858,"comment_id":133223135,"body_markdown":"Show us the code that manipulates the data and where you acquire the semaphore. It&#39;s very easy to write threaded code wrong. For example if you protect individual steps in your process by semaphore but not the relevant sequences *together*, then it&#39;s easy to get the problems you describe.","body":"Show us the code that manipulates the data and where you acquire the semaphore. It&#39;s very easy to write threaded code wrong. For example if you protect individual steps in your process by semaphore but not the relevant sequences <i>together</i>, then it&#39;s easy to get the problems you describe."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":0,"creation_date":1677037369,"post_id":75508858,"comment_id":133256657,"body_markdown":"needs more code.. what is `MyTask`?","body":"needs more code.. what is <code>MyTask</code>?"}],"owner":{"account_id":25568793,"reputation":1,"user_id":19349509,"display_name":"Eswari Sekar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896792,"creation_date":1676893508,"question_id":75508858,"body_markdown":"I&#39;m creating dynamic threads as shown below \r\n```\r\nExecutorService service = Executors.newFixedThreadPool(brnchCount);\r\nSemaphore smp = new Semaphore(1);\r\nfor (Object o : list) {\r\nservice.submit(new MyTask(o, projectId, serverConfigFilePath, path, packName, executeParam, smp));\r\n}\r\nservice.shutdown();\r\n```\r\n\r\nEach call has to access a json file and update data to the same. As all threads are accessing the same file, its throwing exception and corrupting the file.\r\n\r\n\r\nI tried using the &#39;Semaphore&#39; to acquire the method which manipulates the file. Still m getting the same error.\r\nHow can all the threads read and write the json without any exception ?","title":"When a thread is reading a json file, how to make sure all other threads are in wait in java?","body":"<p>I'm creating dynamic threads as shown below</p>\n<pre><code>ExecutorService service = Executors.newFixedThreadPool(brnchCount);\nSemaphore smp = new Semaphore(1);\nfor (Object o : list) {\nservice.submit(new MyTask(o, projectId, serverConfigFilePath, path, packName, executeParam, smp));\n}\nservice.shutdown();\n</code></pre>\n<p>Each call has to access a json file and update data to the same. As all threads are accessing the same file, its throwing exception and corrupting the file.</p>\n<p>I tried using the 'Semaphore' to acquire the method which manipulates the file. Still m getting the same error.\nHow can all the threads read and write the json without any exception ?</p>\n"},{"tags":["java","tomcat","jackrabbit"],"comments":[{"owner":{"account_id":1688160,"reputation":22605,"user_id":1551022,"accept_rate":89,"display_name":"Jops"},"score":0,"creation_date":1676899172,"post_id":75509141,"comment_id":133224452,"body_markdown":"Your issue is likely due to missing dependencies only, double check your classpath.","body":"Your issue is likely due to missing dependencies only, double check your classpath."},{"owner":{"account_id":4468997,"reputation":1,"user_id":3635771,"display_name":"user3635771"},"score":0,"creation_date":1676901594,"post_id":75509141,"comment_id":133225182,"body_markdown":"But how do i know which dependency is missing?","body":"But how do i know which dependency is missing?"},{"owner":{"account_id":1688160,"reputation":22605,"user_id":1551022,"accept_rate":89,"display_name":"Jops"},"score":0,"creation_date":1676904235,"post_id":75509141,"comment_id":133226059,"body_markdown":"This missing class should be in jackrabbit-core.xxx.jar. Check your classpath closely that it references this jar correctly, or has the right permissions to access this jar.","body":"This missing class should be in jackrabbit-core.xxx.jar. Check your classpath closely that it references this jar correctly, or has the right permissions to access this jar."}],"owner":{"account_id":4468997,"reputation":1,"user_id":3635771,"display_name":"user3635771"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896786,"creation_date":1676895254,"question_id":75509141,"body_markdown":"I have a problem where i do not get any further by googling or researching in any other way. I am new to web applications in general but not new to coding. I apologize in advance should this be a stupid question. \r\n\r\nI am trying to create a test instance from a repository and when i try opening the app i keep on receiving the following error. \r\n\r\n\r\n```\r\nHTTP Status 500 – Internal Server Error\r\nType Exception Report\r\n\r\nMessage Servlet.init() for servlet [dispatcher] threw exception\r\n\r\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\r\n\r\nException\r\n\r\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nRoot Cause\r\n\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jackrabbitRepository&#39; defined in de.undermuffin.config.ServletContextConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method &#39;jackrabbitRepository&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nRoot Cause\r\n\r\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method &#39;jackrabbitRepository&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nRoot Cause\r\n\r\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\r\n\torg.apache.jackrabbit.core.query.QOMQueryFactory.getSupportedLanguages(QOMQueryFactory.java:61)\r\n\torg.apache.jackrabbit.core.query.CompoundQueryFactory.createQuery(CompoundQueryFactory.java:66)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:95)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:91)\r\n\torg.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl.perform(QueryManagerImpl.java:197)\r\n\torg.apache.jackrabbit.core.query.QueryManagerImpl.createQuery(QueryManagerImpl.java:91)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:195)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:144)\r\n\torg.apache.jackrabbit.core.security.user.IndexNodeResolver.findNode(IndexNodeResolver.java:72)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:486)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.setPrincipal(UserManagerImpl.java:717)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:578)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:562)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.createAdmin(UserManagerImpl.java:1006)\r\n\torg.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:447)\r\n\torg.apache.jackrabbit.core.DefaultSecurityManager.createSystemUsers(DefaultSecurityManager.java:609)\r\n\torg.apache.jackrabbit.core.DefaultSecurityManager.init(DefaultSecurityManager.java:205)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.initSecurityManager(RepositoryImpl.java:473)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:332)\r\n\torg.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:615)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.createRepository(BindableRepository.java:141)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.init(BindableRepository.java:117)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepository.&lt;init&gt;(BindableRepository.java:106)\r\n\torg.apache.jackrabbit.core.jndi.BindableRepositoryFactory.getObjectInstance(BindableRepositoryFactory.java:52)\r\n\torg.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\r\n\tjava.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:857)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:160)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:843)\r\n\torg.apache.naming.NamingContext.lookup(NamingContext.java:174)\r\n\tde.undermuffin.config.ServletContextConfiguration.jackrabbitRepository(ServletContextConfiguration.java:259)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.CGLIB$jackrabbitRepository$21(&lt;generated&gt;)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94$$FastClassBySpringCGLIB$$be193171.invoke(&lt;generated&gt;)\r\n\torg.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\torg.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:318)\r\n\tde.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.jackrabbitRepository(&lt;generated&gt;)\r\n\tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tjava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tjava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tjava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\torg.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\r\n\torg.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\r\n\torg.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n\torg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\r\n\torg.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n\torg.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n\torg.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\torg.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\r\n\torg.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\r\n\torg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\r\n\torg.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\r\n\torg.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\r\n\torg.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\r\n\torg.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\r\n\tjavax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n\torg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\torg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\torg.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\r\n\torg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\torg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\r\n\torg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\torg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n\torg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\r\n\torg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\torg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\nNote The full stack trace of the root cause is available in the server logs.\r\n\r\nApache Tomcat/9.0.31 (Ubuntu)\r\n```\r\n\r\n\r\nI tried to reasearch the error but i am unsure what is missing and where to add something to the code.","title":"Problem starting java app with jackrabbit spring etc","body":"<p>I have a problem where i do not get any further by googling or researching in any other way. I am new to web applications in general but not new to coding. I apologize in advance should this be a stupid question.</p>\n<p>I am trying to create a test instance from a repository and when i try opening the app i keep on receiving the following error.</p>\n<pre><code>HTTP Status 500 – Internal Server Error\nType Exception Report\n\nMessage Servlet.init() for servlet [dispatcher] threw exception\n\nDescription The server encountered an unexpected condition that prevented it from fulfilling the request.\n\nException\n\njavax.servlet.ServletException: Servlet.init() for servlet [dispatcher] threw exception\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\n\nRoot Cause\n\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jackrabbitRepository' defined in de.undermuffin.config.ServletContextConfiguration: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method 'jackrabbitRepository' threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nRoot Cause\n\norg.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.jcr.Repository]: Factory method 'jackrabbitRepository' threw exception; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nRoot Cause\n\njava.lang.NoClassDefFoundError: Could not initialize class org.apache.jackrabbit.commons.query.QueryObjectModelBuilderRegistry\n    org.apache.jackrabbit.core.query.QOMQueryFactory.getSupportedLanguages(QOMQueryFactory.java:61)\n    org.apache.jackrabbit.core.query.CompoundQueryFactory.createQuery(CompoundQueryFactory.java:66)\n    org.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:95)\n    org.apache.jackrabbit.core.query.QueryManagerImpl$2.perform(QueryManagerImpl.java:91)\n    org.apache.jackrabbit.core.session.SessionState.perform(SessionState.java:216)\n    org.apache.jackrabbit.core.query.QueryManagerImpl.perform(QueryManagerImpl.java:197)\n    org.apache.jackrabbit.core.query.QueryManagerImpl.createQuery(QueryManagerImpl.java:91)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:195)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.buildQuery(IndexNodeResolver.java:144)\n    org.apache.jackrabbit.core.security.user.IndexNodeResolver.findNode(IndexNodeResolver.java:72)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:486)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.setPrincipal(UserManagerImpl.java:717)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:578)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createUser(UserManagerImpl.java:562)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.createAdmin(UserManagerImpl.java:1006)\n    org.apache.jackrabbit.core.security.user.UserManagerImpl.getAuthorizable(UserManagerImpl.java:447)\n    org.apache.jackrabbit.core.DefaultSecurityManager.createSystemUsers(DefaultSecurityManager.java:609)\n    org.apache.jackrabbit.core.DefaultSecurityManager.init(DefaultSecurityManager.java:205)\n    org.apache.jackrabbit.core.RepositoryImpl.initSecurityManager(RepositoryImpl.java:473)\n    org.apache.jackrabbit.core.RepositoryImpl.&lt;init&gt;(RepositoryImpl.java:332)\n    org.apache.jackrabbit.core.RepositoryImpl.create(RepositoryImpl.java:615)\n    org.apache.jackrabbit.core.jndi.BindableRepository.createRepository(BindableRepository.java:141)\n    org.apache.jackrabbit.core.jndi.BindableRepository.init(BindableRepository.java:117)\n    org.apache.jackrabbit.core.jndi.BindableRepository.&lt;init&gt;(BindableRepository.java:106)\n    org.apache.jackrabbit.core.jndi.BindableRepositoryFactory.getObjectInstance(BindableRepositoryFactory.java:52)\n    org.apache.naming.factory.FactoryBase.getObjectInstance(FactoryBase.java:96)\n    java.naming/javax.naming.spi.NamingManager.getObjectInstance(NamingManager.java:341)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:857)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:160)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:843)\n    org.apache.naming.NamingContext.lookup(NamingContext.java:174)\n    de.undermuffin.config.ServletContextConfiguration.jackrabbitRepository(ServletContextConfiguration.java:259)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.CGLIB$jackrabbitRepository$21(&lt;generated&gt;)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94$$FastClassBySpringCGLIB$$be193171.invoke(&lt;generated&gt;)\n    org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:318)\n    de.undermuffin.config.ServletContextConfiguration$$EnhancerBySpringCGLIB$$7d5aba94.jackrabbitRepository(&lt;generated&gt;)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n    org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:813)\n    org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:741)\n    org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:185)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1143)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1046)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1192)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1116)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1014)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:545)\n    org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\n    org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543)\n    org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:772)\n    org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:838)\n    org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:537)\n    org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:667)\n    org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:539)\n    org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:493)\n    org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:136)\n    javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:688)\n    org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:375)\n    org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n    org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1594)\n    org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    java.base/java.lang.Thread.run(Thread.java:829)\nNote The full stack trace of the root cause is available in the server logs.\n\nApache Tomcat/9.0.31 (Ubuntu)\n</code></pre>\n<p>I tried to reasearch the error but i am unsure what is missing and where to add something to the code.</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1676889624,"post_id":75508109,"comment_id":133221874,"body_markdown":"&quot;*with fooDate as a VARCHAR*&quot; - Why, oh Why? **Never**, ever store timestamp values in `varchar` columns. The column should be defined as `timestamptz` in the database. You aren&#39;t using `String` in Java either, so why use the wrong data type in the database?","body":"&quot;<i>with fooDate as a VARCHAR</i>&quot; - Why, oh Why? <b>Never</b>, ever store timestamp values in <code>varchar</code> columns. The column should be defined as <code>timestamptz</code> in the database. You aren&#39;t using <code>String</code> in Java either, so why use the wrong data type in the database?"},{"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"score":0,"creation_date":1676892157,"post_id":75508109,"comment_id":133222537,"body_markdown":"Because a database is not capable of handling offset correctly, timestamptz only store utc value","body":"Because a database is not capable of handling offset correctly, timestamptz only store utc value"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1676892676,"post_id":75508109,"comment_id":133222681,"body_markdown":"Yes, and `timestamptz` will be converted to the local time zone of the database client. But if you don&#39;t want an automatic conversion. Use a `timestamp` column and store the &quot;original&quot; time zone in a second column.","body":"Yes, and <code>timestamptz</code> will be converted to the local time zone of the database client. But if you don&#39;t want an automatic conversion. Use a <code>timestamp</code> column and store the &quot;original&quot; time zone in a second column."}],"answers":[{"comments":[{"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"score":0,"creation_date":1676951301,"post_id":75509123,"comment_id":133235653,"body_markdown":"Thanks, I actually use cast(f.fooDate as String) &gt; :fromDate , since we store it in standard ISO format, the string cast works properly.","body":"Thanks, I actually use cast(f.fooDate as String) &gt; :fromDate , since we store it in standard ISO format, the string cast works properly."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1676976114,"post_id":75509123,"comment_id":133240987,"body_markdown":"But that doesn&#39;t seem like it would correctly order date times in different time zones.","body":"But that doesn&#39;t seem like it would correctly order date times in different time zones."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676896761,"creation_date":1676895134,"answer_id":75509123,"question_id":75508109,"body_markdown":"In Hibernate 6 you can use `cast(f.fooDate as LocalDateTime)` or `cast(f.fooDate as Timestamp)` to convert a string representation of a datetime to a timestamp. This _should_ work if the database understands the string representation that you have used to encode the offset datetime.\r\n\r\n(You might also try `cast(f.fooDate as OffsetDateTime)`, though this doesn&#39;t really work especially well on MySQL or PostgreSQL.)\r\n\r\nOn the other hand, it will _not_ work if your `AttributeConverter` encodes the offset datetime to some format you invented that the database doesn&#39;t understand.\r\n\r\nIn that case, you would need to:\r\n\r\n1. figure out a SQL expression that parses your offset data time format, perhaps by writing a SQL function and exporting it to the database, and\r\n2. register that as a custom HQL function using a `FunctionContributor`.","title":"Comparing string and OffsetDateTime in JPA / postgresQL","body":"<p>In Hibernate 6 you can use <code>cast(f.fooDate as LocalDateTime)</code> or <code>cast(f.fooDate as Timestamp)</code> to convert a string representation of a datetime to a timestamp. This <em>should</em> work if the database understands the string representation that you have used to encode the offset datetime.</p>\n<p>(You might also try <code>cast(f.fooDate as OffsetDateTime)</code>, though this doesn't really work especially well on MySQL or PostgreSQL.)</p>\n<p>On the other hand, it will <em>not</em> work if your <code>AttributeConverter</code> encodes the offset datetime to some format you invented that the database doesn't understand.</p>\n<p>In that case, you would need to:</p>\n<ol>\n<li>figure out a SQL expression that parses your offset data time format, perhaps by writing a SQL function and exporting it to the database, and</li>\n<li>register that as a custom HQL function using a <code>FunctionContributor</code>.</li>\n</ol>\n"}],"owner":{"account_id":2898866,"reputation":167,"user_id":2486070,"accept_rate":20,"display_name":"Arthur Saint-Genis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75509123,"answer_count":1,"score":0,"last_activity_date":1676896761,"creation_date":1676889161,"question_id":75508109,"body_markdown":"I am migrating a codebase from mysql to postgresQL.\r\n\r\nI have an entity \r\n\r\n    public class FooEntity implements Serializable {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    @Convert(converter = DateTimeConverter.class)\r\n    private OffsetDateTime fooDate;\r\n\r\nThe entity is stored in a foo table with fooDate as a VARCHAR. the DateTimeConverter make the conversion between string / offsetDateTime.\r\n\r\nI have a SQL request doing :\r\n\r\n\r\n            @Query(&quot;&quot;&quot;SELECT f.id as id,\r\n            f.fooDate as fooDate,\r\n            FROM FooEntity f\r\n            WHERE (:fooDate IS NULL OR f.fooDate &gt;= :fooDate)&quot;&quot;&quot;)\r\n    Page&lt;Map&lt;String, Object&gt;&gt; findAllByFooDate(Pageable pageable, OffSetDateTime fooDate);\r\n\r\nMy first issue was that if mysql have no issue with fooDate parameter being an OffsetDateTime, postgresQL will complain that the parameter is an unknown type. \r\n\r\nFirst solution was to convert OffsetDateTime to a String in the method signature. works well for postgresQL, but now I have an hibernate issue that complain that f.fooDate &gt;= :fooDate are not the same type.\r\n\r\nHow can I handle properly that issue ?\r\n\r\n","title":"Comparing string and OffsetDateTime in JPA / postgresQL","body":"<p>I am migrating a codebase from mysql to postgresQL.</p>\n<p>I have an entity</p>\n<pre><code>public class FooEntity implements Serializable {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Column(nullable = false)\n@Convert(converter = DateTimeConverter.class)\nprivate OffsetDateTime fooDate;\n</code></pre>\n<p>The entity is stored in a foo table with fooDate as a VARCHAR. the DateTimeConverter make the conversion between string / offsetDateTime.</p>\n<p>I have a SQL request doing :</p>\n<pre><code>        @Query(&quot;&quot;&quot;SELECT f.id as id,\n        f.fooDate as fooDate,\n        FROM FooEntity f\n        WHERE (:fooDate IS NULL OR f.fooDate &gt;= :fooDate)&quot;&quot;&quot;)\nPage&lt;Map&lt;String, Object&gt;&gt; findAllByFooDate(Pageable pageable, OffSetDateTime fooDate);\n</code></pre>\n<p>My first issue was that if mysql have no issue with fooDate parameter being an OffsetDateTime, postgresQL will complain that the parameter is an unknown type.</p>\n<p>First solution was to convert OffsetDateTime to a String in the method signature. works well for postgresQL, but now I have an hibernate issue that complain that f.fooDate &gt;= :fooDate are not the same type.</p>\n<p>How can I handle properly that issue ?</p>\n"},{"tags":["java","android","gluon-mobile","graalvm-native-image","gluonfx"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676904480,"post_id":75509367,"comment_id":133226145,"body_markdown":"I took a look at the Android module, `BrowserService`, and it appears to handle URI/Web browser. Android has its own rules for [dealing with storage](https://developer.android.com/training/data-storage) which means that [the issue you commented on](https://github.com/gluonhq/attach/issues/242) is still open.","body":"I took a look at the Android module, <code>BrowserService</code>, and it appears to handle URI/Web browser. Android has its own rules for <a href=\"https://developer.android.com/training/data-storage\" rel=\"nofollow noreferrer\">dealing with storage</a> which means that <a href=\"https://github.com/gluonhq/attach/issues/242\" rel=\"nofollow noreferrer\">the issue you commented on</a> is still open."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1676908984,"post_id":75509367,"comment_id":133227523,"body_markdown":"BrowserService is not for file access, indeed. However, StorageService deals with private and public folders.","body":"BrowserService is not for file access, indeed. However, StorageService deals with private and public folders."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676909644,"post_id":75509367,"comment_id":133227721,"body_markdown":"@Jos&#233;Pereda I can access the files via StorageService just fine.\nBut I want to present the user the system file browser with a given directory. Is there another possibility to do this, if not with the BrowserService?","body":"@Jos&#233;Pereda I can access the files via StorageService just fine. But I want to present the user the system file browser with a given directory. Is there another possibility to do this, if not with the BrowserService?"},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676909723,"post_id":75509367,"comment_id":133227753,"body_markdown":"@MorrisonChang Oh, by the way ... I just worked around that issue today. I&#39;ll add a comment.","body":"@MorrisonChang Oh, by the way ... I just worked around that issue today. I&#39;ll add a comment."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1676910011,"post_id":75509367,"comment_id":133227832,"body_markdown":"For a FileChooser, you will need something like this: https://github.com/gluonhq/attach/pull/283. Since that hasn&#39;t been integrated into Attach, you could give it a try as part of [AttachExtended](https://github.com/gluonhq/attachextended).","body":"For a FileChooser, you will need something like this: <a href=\"https://github.com/gluonhq/attach/pull/283\" rel=\"nofollow noreferrer\">github.com/gluonhq/attach/pull/283</a>. Since that hasn&#39;t been integrated into Attach, you could give it a try as part of <a href=\"https://github.com/gluonhq/attachextended\" rel=\"nofollow noreferrer\">AttachExtended</a>."},{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":0,"creation_date":1676910677,"post_id":75509367,"comment_id":133228008,"body_markdown":"@Jos&#233;Pereda At least on Linux and Windows there is a difference between a FileChooser and a FileBrowser. The FileChooser is used to present the user an option to select one or more files that are later processed in the application.\nThe FileBrowser is simply an application to navigate the filesystem and view directory contents.\nI want to open a FileBrowser to a log or a data directory of my application.\n\nBut I agree: If the BrowserService does not support file-URLs on all plattforms, there is corrently no Attach service that allows that.","body":"@Jos&#233;Pereda At least on Linux and Windows there is a difference between a FileChooser and a FileBrowser. The FileChooser is used to present the user an option to select one or more files that are later processed in the application. The FileBrowser is simply an application to navigate the filesystem and view directory contents. I want to open a FileBrowser to a log or a data directory of my application.  But I agree: If the BrowserService does not support file-URLs on all plattforms, there is corrently no Attach service that allows that."}],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896612,"creation_date":1676896612,"question_id":75509367,"body_markdown":"Writing JavaFX applications for Android, using GraalVM and gluon-maven-plugin:\r\n\r\nI am trying to open a file system location using Gluon Attach (4.0.17-SNAPSHOT) ``BrowserService`` with a ``file:`` URL. That works fine on desktop systems, but fails on Android (13)\r\n\r\n```java\r\njava.io.IOException: Error launching url file:/storage/emulated/0/Documents/CommLink6/logs\r\n \tat com.gluonhq.attach.browser.impl.AndroidBrowserService.launchExternalBrowser(AndroidBrowserService.java:57)\r\n \tat de.rpgframework.eden.client.jfx.EdenClientApplication.lambda$openFile$10(EdenClientApplication.java:799)\r\n```\r\nI tried ``file:/`` and ``file:///``\r\n\r\nJudging from the [source code][1] it fails in a native function.\r\n\r\nEither I am doing something wrong with the file-URL or the BrowserService is not a good choice to open file locations - but I am not aware of another options that works platform independently.\r\n\r\nCan anyone help?\r\n\r\n\r\n  [1]: https://github.com/gluonhq/attach/blob/master/modules/browser/src/main/java/com/gluonhq/attach/browser/impl/AndroidBrowserService.java","title":"Gluon Attach - open file system browser on Android","body":"<p>Writing JavaFX applications for Android, using GraalVM and gluon-maven-plugin:</p>\n<p>I am trying to open a file system location using Gluon Attach (4.0.17-SNAPSHOT) <code>BrowserService</code> with a <code>file:</code> URL. That works fine on desktop systems, but fails on Android (13)</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.io.IOException: Error launching url file:/storage/emulated/0/Documents/CommLink6/logs\n    at com.gluonhq.attach.browser.impl.AndroidBrowserService.launchExternalBrowser(AndroidBrowserService.java:57)\n    at de.rpgframework.eden.client.jfx.EdenClientApplication.lambda$openFile$10(EdenClientApplication.java:799)\n</code></pre>\n<p>I tried <code>file:/</code> and <code>file:///</code></p>\n<p>Judging from the <a href=\"https://github.com/gluonhq/attach/blob/master/modules/browser/src/main/java/com/gluonhq/attach/browser/impl/AndroidBrowserService.java\" rel=\"nofollow noreferrer\">source code</a> it fails in a native function.</p>\n<p>Either I am doing something wrong with the file-URL or the BrowserService is not a good choice to open file locations - but I am not aware of another options that works platform independently.</p>\n<p>Can anyone help?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":2,"creation_date":1676909149,"post_id":75509365,"comment_id":133227580,"body_markdown":"Use a [Zip File System Provider](https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html) in conjunction with [java.nio.file.Files#walkl()](https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-) and copy each file individually and change the folder name on the fly.","body":"Use a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Zip File System Provider</a> in conjunction with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\">java.nio.file.Files#walkl()</a> and copy each file individually and change the folder name on the fly."}],"owner":{"account_id":3282603,"reputation":241,"user_id":2762835,"accept_rate":17,"display_name":"Kalava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676896601,"creation_date":1676896601,"question_id":75509365,"body_markdown":"I want to rename non empty folder in a zip file using java. The Files.move only copies folder without its children/content. How to rename folder along with its contents in a zip file?\r\n\r\n","title":"Rename non empty folder inside zip file using java","body":"<p>I want to rename non empty folder in a zip file using java. The Files.move only copies folder without its children/content. How to rename folder along with its contents in a zip file?</p>\n"},{"tags":["java","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676889282,"post_id":75508103,"comment_id":133221770,"body_markdown":"Wild guess no `@ExtendWith(MockitoExtension.class)` on your test or using the wrong `@Test` (the one from JUnit4 instead of JUnit5). But as you posted only a partial snippet instead of the **full test** this is impossible to know.","body":"Wild guess no <code>@ExtendWith(MockitoExtension.class)</code> on your test or using the wrong <code>@Test</code> (the one from JUnit4 instead of JUnit5). But as you posted only a partial snippet instead of the <b>full test</b> this is impossible to know."},{"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"score":0,"creation_date":1676889836,"post_id":75508103,"comment_id":133221942,"body_markdown":"@M.Deinum Added more details to the question.","body":"@M.Deinum Added more details to the question."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676890823,"post_id":75508103,"comment_id":133222195,"body_markdown":"I would expect the stack trace to give you a strong clue as to why you are getting NPE.","body":"I would expect the stack trace to give you a strong clue as to why you are getting NPE."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676891234,"post_id":75508103,"comment_id":133222309,"body_markdown":"I would start by upgrade Mockito. 4.0.0 is a bit dated, I would at least try 4.11 or even switch to the 5.x releases. It is still not the full test case as I would expect some additional imports.","body":"I would start by upgrade Mockito. 4.0.0 is a bit dated, I would at least try 4.11 or even switch to the 5.x releases. It is still not the full test case as I would expect some additional imports."},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1676891473,"post_id":75508103,"comment_id":133222376,"body_markdown":"Your code should catch NPE and rethrow it as your type of exception.  Either that or if you get a NPE in your service have it throw your Exception type.","body":"Your code should catch NPE and rethrow it as your type of exception.  Either that or if you get a NPE in your service have it throw your Exception type."},{"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"score":0,"creation_date":1676894408,"post_id":75508103,"comment_id":133223145,"body_markdown":"@M.Deinum Upgrading to 4.11 gives me detailed log, thank you!","body":"@M.Deinum Upgrading to 4.11 gives me detailed log, thank you!"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676897615,"post_id":75508103,"comment_id":133224013,"body_markdown":"Why `@Spy`? You are not spying on any calls nor stubbing calls","body":"Why <code>@Spy</code>? You are not spying on any calls nor stubbing calls"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1676896272,"post_id":75508684,"comment_id":133223659,"body_markdown":"You don&#39;t even need the `@ExtendWith` with this (having that will actually slow down your test speed as it will scan the class for mockito annotations).","body":"You don&#39;t even need the <code>@ExtendWith</code> with this (having that will actually slow down your test speed as it will scan the class for mockito annotations)."}],"tags":[],"owner":{"account_id":13075799,"reputation":117,"user_id":9696968,"display_name":"schlin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676896243,"creation_date":1676892459,"answer_id":75508684,"question_id":75508103,"body_markdown":"the problem is the `@InjectMocks` and `@Spy` annotation. Using them together does not make sense (as discussed [in this stackoverflow post][1]). Creating the class by hand solves the `NullPointerException` and the test runs successfully\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.Spy;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n    import static \r\n    org.junit.jupiter.api.Assertions.assertThrows;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class MyServiceTest {\r\n       MyService myServiceToTest;\r\n\r\n       @Test\r\n       public void invoke_ShouldThrow_MyCustomException() {\r\n          MyService myServiceToTest = new MyService();\r\n          assertThrows(MyCustomException.class, () -&gt; {\r\n            myServiceToTest.invoke(null);\r\n          });\r\n       }\r\n    }  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field#:~:text=%40Spy%20and%20%40InjectMocks%20cannot%20be,them%20to%20the%20same%20object.","title":"JUnit 5 and Mockito assertThrows() raises NullPointerException instead of original","body":"<p>the problem is the <code>@InjectMocks</code> and <code>@Spy</code> annotation. Using them together does not make sense (as discussed <a href=\"https://stackoverflow.com/questions/38567326/is-it-discouraged-to-use-spy-and-injectmocks-on-the-same-field#:%7E:text=%40Spy%20and%20%40InjectMocks%20cannot%20be,them%20to%20the%20same%20object.\">in this stackoverflow post</a>). Creating the class by hand solves the <code>NullPointerException</code> and the test runs successfully</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\nimport static \norg.junit.jupiter.api.Assertions.assertThrows;\n\n@ExtendWith(MockitoExtension.class)\npublic class MyServiceTest {\n   MyService myServiceToTest;\n\n   @Test\n   public void invoke_ShouldThrow_MyCustomException() {\n      MyService myServiceToTest = new MyService();\n      assertThrows(MyCustomException.class, () -&gt; {\n        myServiceToTest.invoke(null);\n      });\n   }\n}  \n</code></pre>\n"}],"owner":{"account_id":3091246,"reputation":1242,"user_id":2617281,"accept_rate":88,"display_name":"Michi-2142"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75508684,"answer_count":1,"score":0,"last_activity_date":1676896243,"creation_date":1676889138,"question_id":75508103,"body_markdown":"I want to test a method which should throw a exception of type `MyCustomException`. This is an example of my class `MyService`.\r\n\r\n    public class MyService {\r\n\t    public void invoke(InvocationContext ctx) throws MyCustomException{\r\n\t\t    if(ctx == null) {\r\n\t\t        throw new MyCustomException(&quot;Parameter ctx must not be null.&quot;);\r\n            }\r\n\t    }\r\n    }\r\n\r\nI would like to test, whether method throws `MyCustomException` if I pass a null value with the `assertThrows()`.\r\n\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.Spy;\r\n    import org.mockito.junit.jupiter.MockitoExtension;\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    public class AxwApplicationTest {\r\n        @Spy\r\n\t    @InjectMocks\r\n\t    MyService myServiceToTest;\r\n\t\r\n\t    @Test\r\n\t    public void invoke_ShouldThrow_MyCustomException() {\r\n\t\t    assertThrows(MyCustomException.class, () -&gt; {\r\n\t\t\t    myServiceToTest.invoke(null);\r\n\t\t    });\r\n\t    }\r\n    }\r\nSomehow the exception is thrown but ends up as `NullPointerException` and I don&#39;t know how to solve it. The `assertThrows` gives my following error:\r\n\r\n    java.lang.AssertionError: unexpected exception type thrown; expected:&lt;com.myproject.MyCustomException&gt; but was:&lt;java.lang.NullPointerException&gt;\r\n\r\n\r\nMaven dependencies:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t&lt;version&gt;5.9.2&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.0.0&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"JUnit 5 and Mockito assertThrows() raises NullPointerException instead of original","body":"<p>I want to test a method which should throw a exception of type <code>MyCustomException</code>. This is an example of my class <code>MyService</code>.</p>\n<pre><code>public class MyService {\n    public void invoke(InvocationContext ctx) throws MyCustomException{\n        if(ctx == null) {\n            throw new MyCustomException(&quot;Parameter ctx must not be null.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I would like to test, whether method throws <code>MyCustomException</code> if I pass a null value with the <code>assertThrows()</code>.</p>\n<pre><code>import org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mockito;\nimport org.mockito.Spy;\nimport org.mockito.junit.jupiter.MockitoExtension;\n\n@ExtendWith(MockitoExtension.class)\npublic class AxwApplicationTest {\n    @Spy\n    @InjectMocks\n    MyService myServiceToTest;\n\n    @Test\n    public void invoke_ShouldThrow_MyCustomException() {\n        assertThrows(MyCustomException.class, () -&gt; {\n            myServiceToTest.invoke(null);\n        });\n    }\n}\n</code></pre>\n<p>Somehow the exception is thrown but ends up as <code>NullPointerException</code> and I don't know how to solve it. The <code>assertThrows</code> gives my following error:</p>\n<pre><code>java.lang.AssertionError: unexpected exception type thrown; expected:&lt;com.myproject.MyCustomException&gt; but was:&lt;java.lang.NullPointerException&gt;\n</code></pre>\n<p>Maven dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.9.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676775063,"post_id":75497676,"comment_id":133204684,"body_markdown":"&quot;Format&quot; the text BEFORE you apply it to the field, I&#39;d start with the prefix you want to use a `static String`, get the last 4 characters from the text and simple combine them together","body":"&quot;Format&quot; the text BEFORE you apply it to the field, I&#39;d start with the prefix you want to use a <code>static String</code>, get the last 4 characters from the text and simple combine them together"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1676776366,"post_id":75497676,"comment_id":133204771,"body_markdown":"I&#39;m not sure that makes sense (to me).  Why would you mask the input in such away?  How would the user possibly verify what they&#39;ve input.  I get masking it as output, but input seems .... weird","body":"I&#39;m not sure that makes sense (to me).  Why would you mask the input in such away?  How would the user possibly verify what they&#39;ve input.  I get masking it as output, but input seems .... weird"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824242,"post_id":75497676,"comment_id":133210692,"body_markdown":"please describe the _exact_ behaviour you want to achieve: simple masking after input might require a different approach that masking during input.","body":"please describe the <i>exact</i> behaviour you want to achieve: simple masking after input might require a different approach that masking during input."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824464,"post_id":75497676,"comment_id":133210722,"body_markdown":"@MadProgrammer while I - as a user - hate a ux that doesn&#39;t show my input, there are examples f.i. in mobile and/or browser contexts where only the currently typed char is shown and then is (animatedly, OMG ;) is hidden, the more user-friendly variants having an eye picture that re-shows the input when clicked.","body":"@MadProgrammer while I - as a user - hate a ux that doesn&#39;t show my input, there are examples f.i. in mobile and/or browser contexts where only the currently typed char is shown and then is (animatedly, OMG ;) is hidden, the more user-friendly variants having an eye picture that re-shows the input when clicked."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676839006,"post_id":75497676,"comment_id":133213543,"body_markdown":"@kleopatra I don&#39;t know what you&#39;ve been buying, but I&#39;ve never seen it - I &quot;might&quot; consider a on focus lost state, but not while the user is typing","body":"@kleopatra I don&#39;t know what you&#39;ve been buying, but I&#39;ve never seen it - I &quot;might&quot; consider a on focus lost state, but not while the user is typing"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676893485,"post_id":75497676,"comment_id":133222872,"body_markdown":"@MadProgrammer don&#39;t know what you mean by _buying_ (all my apps are free, neither stolen nor bought &lt;g&gt;) but you are right: I should come up with an example .. will do next time I stumble across it (my memory isn&#39;t as crisp as it used to be ;)","body":"@MadProgrammer don&#39;t know what you mean by <i>buying</i> (all my apps are free, neither stolen nor bought &lt;g&gt;) but you are right: I should come up with an example .. will do next time I stumble across it (my memory isn&#39;t as crisp as it used to be ;)"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824520,"post_id":75497878,"comment_id":133210733,"body_markdown":"please demonstrate how to apply that to the context of a textField","body":"please demonstrate how to apply that to the context of a textField"}],"tags":[],"owner":{"account_id":24252734,"reputation":31,"user_id":18203551,"display_name":"Muhammad Ismail"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676821566,"creation_date":1676778746,"answer_id":75497878,"question_id":75497676,"body_markdown":"\r\n\r\n    String number = &quot;6235761255231456&quot;;\r\n    String mask = number.replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\r\n    System.out.println(mask);\r\n    \r\n    OutPut:\r\n    XXXXXXXXXXXX1456\r\n\r\nhere replace we are using replaceAll method which will take regular expression as parameter and and will replace every digit with X except last four digit the following regular expression is accepting all except last 4 digit.\r\n \r\n","title":"Java text field for credit card number only showing last 4 digits","body":"<pre><code>String number = &quot;6235761255231456&quot;;\nString mask = number.replaceAll(&quot;\\\\d(?=\\\\d{4})&quot;, &quot;X&quot;);\nSystem.out.println(mask);\n\nOutPut:\nXXXXXXXXXXXX1456\n</code></pre>\n<p>here replace we are using replaceAll method which will take regular expression as parameter and and will replace every digit with X except last four digit the following regular expression is accepting all except last 4 digit.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676796354,"creation_date":1676796354,"answer_id":75498947,"question_id":75497676,"body_markdown":"A [`JFormattedTextField`][1] has a *formatter factory*. I looked at the code of the default *formatter factory* &amp;ndash; which is class `DefaultFormatterFactory` &amp;ndash; and tried to adapt it to your requirements.\r\n\r\nThat class defines several *formatter* classes: one for when the `JFormattedTextField` is in *edit* mode, i.e. it has the keyboard focus and another for *display* mode, i.e. when the `JFormattedTextField` does **not** have keyboard focus.\r\n\r\nIn the below code I created a `CreditCardFormatterFactory` class as well as a `CreditCardEditFormatter` class and a `CreditCardDisplayFormatter` class.\r\n\r\nNote that I may have misunderstood your requirements, so the below code may not be exactly what you require but I would like to think that it is good enough for you to be able to adapt it to your exact requirements.\r\n```java\r\nimport java.awt.BorderLayout;\r\nimport java.awt.EventQueue;\r\nimport java.text.ParseException;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFormattedTextField;\r\nimport javax.swing.JFormattedTextField.AbstractFormatter;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\npublic class FtfTest {\r\n    private void buildAndDisplayGui() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(createFormattedTextField(), BorderLayout.PAGE_START);\r\n        frame.add(createButton(), BorderLayout.PAGE_END);\r\n        frame.pack();\r\n        frame.setLocationByPlatform(true);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private JPanel createFormattedTextField() {\r\n        JPanel panel = new JPanel();\r\n        JLabel label = new JLabel(&quot;Credit Card Number&quot;);\r\n        panel.add(label);\r\n        JFormattedTextField creditCardFormattedTextField = new JFormattedTextField(\r\n                                                                 new CreditCardFormatterFactory());\r\n        creditCardFormattedTextField.setColumns(16);\r\n        panel.add(creditCardFormattedTextField);\r\n        return panel;\r\n    }\r\n\r\n    private JPanel createButton() {\r\n        JPanel panel = new JPanel();\r\n        JButton button = new JButton(&quot;Exit&quot;);\r\n        button.addActionListener(e -&gt; System.exit(0));\r\n        panel.add(button);\r\n        return panel;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; new FtfTest().buildAndDisplayGui());\r\n    }\r\n}\r\n\r\nclass CreditCardFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use for display. */\r\n    private JFormattedTextField.AbstractFormatter displayFormat;\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use for editing. */\r\n    private JFormattedTextField.AbstractFormatter editFormat;\r\n\r\n    /** {@code JFormattedTextField.AbstractFormatter} to use if the value is null. */\r\n    private JFormattedTextField.AbstractFormatter nullFormat;\r\n\r\n    public CreditCardFormatterFactory() {\r\n        displayFormat = new CreditCardDisplayFormatter();\r\n        editFormat = new CreditCardEditFormatter();\r\n    }\r\n\r\n    @Override\r\n    public AbstractFormatter getFormatter(JFormattedTextField ftf) {\r\n        JFormattedTextField.AbstractFormatter format = null;\r\n        if (ftf != null) {\r\n            if (ftf.hasFocus()) {\r\n                format = getEditFormatter();\r\n            }\r\n            else {\r\n                format = getDisplayFormatter();\r\n            }\r\n        }\r\n        return format;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getDisplayFormatter() {\r\n        return displayFormat;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getEditFormatter() {\r\n        return editFormat;\r\n    }\r\n\r\n    public JFormattedTextField.AbstractFormatter getNullFormatter() {\r\n        return nullFormat;\r\n    }\r\n}\r\n\r\nclass CreditCardDisplayFormatter extends JFormattedTextField.AbstractFormatter {\r\n\r\n    @Override\r\n    public Object stringToValue(String text) throws ParseException {\r\n        System.out.printf(&quot;CreditCardDisplayFormatter.stringToValue( ^%s^ )%n&quot;, text);\r\n        return text;\r\n    }\r\n\r\n    @Override\r\n    public String valueToString(Object value) throws ParseException {\r\n        System.out.printf(&quot;CreditCardDisplayFormatter.valueToString( ^%s^ )%n&quot;,\r\n                          String.valueOf(value));\r\n        String str = value == null ? &quot;&quot; : value.toString();\r\n        if (str.length() &gt; 0) {\r\n            if (str.length() &gt; 12) {\r\n                str = &quot;XXXXXXXXXXXX&quot; + str.substring(12);\r\n            }\r\n            else {\r\n                str = str.replaceAll(&quot;\\\\d&quot;, &quot;X&quot;);\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n}\r\n\r\nclass CreditCardEditFormatter extends JFormattedTextField.AbstractFormatter {\r\n\r\n    @Override\r\n    public Object stringToValue(String text) throws ParseException {\r\n        System.out.printf(&quot;CreditCardEditFormatter.stringToValue( ^%s^ )%n&quot;, text);\r\n        return text;\r\n    }\r\n\r\n    @Override\r\n    public String valueToString(Object value) throws ParseException {\r\n        System.out.printf(&quot;CreditCardEditFormatter.valueToString( ^%s^ )%n&quot;,\r\n                          String.valueOf(value));\r\n        return value == null ? null : value.toString();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html","title":"Java text field for credit card number only showing last 4 digits","body":"<p>A <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\"><code>JFormattedTextField</code></a> has a <em>formatter factory</em>. I looked at the code of the default <em>formatter factory</em> – which is class <code>DefaultFormatterFactory</code> – and tried to adapt it to your requirements.</p>\n<p>That class defines several <em>formatter</em> classes: one for when the <code>JFormattedTextField</code> is in <em>edit</em> mode, i.e. it has the keyboard focus and another for <em>display</em> mode, i.e. when the <code>JFormattedTextField</code> does <strong>not</strong> have keyboard focus.</p>\n<p>In the below code I created a <code>CreditCardFormatterFactory</code> class as well as a <code>CreditCardEditFormatter</code> class and a <code>CreditCardDisplayFormatter</code> class.</p>\n<p>Note that I may have misunderstood your requirements, so the below code may not be exactly what you require but I would like to think that it is good enough for you to be able to adapt it to your exact requirements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.text.ParseException;\n\nimport javax.swing.JButton;\nimport javax.swing.JFormattedTextField;\nimport javax.swing.JFormattedTextField.AbstractFormatter;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class FtfTest {\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(createFormattedTextField(), BorderLayout.PAGE_START);\n        frame.add(createButton(), BorderLayout.PAGE_END);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createFormattedTextField() {\n        JPanel panel = new JPanel();\n        JLabel label = new JLabel(&quot;Credit Card Number&quot;);\n        panel.add(label);\n        JFormattedTextField creditCardFormattedTextField = new JFormattedTextField(\n                                                                 new CreditCardFormatterFactory());\n        creditCardFormattedTextField.setColumns(16);\n        panel.add(creditCardFormattedTextField);\n        return panel;\n    }\n\n    private JPanel createButton() {\n        JPanel panel = new JPanel();\n        JButton button = new JButton(&quot;Exit&quot;);\n        button.addActionListener(e -&gt; System.exit(0));\n        panel.add(button);\n        return panel;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; new FtfTest().buildAndDisplayGui());\n    }\n}\n\nclass CreditCardFormatterFactory extends JFormattedTextField.AbstractFormatterFactory {\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use for display. */\n    private JFormattedTextField.AbstractFormatter displayFormat;\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use for editing. */\n    private JFormattedTextField.AbstractFormatter editFormat;\n\n    /** {@code JFormattedTextField.AbstractFormatter} to use if the value is null. */\n    private JFormattedTextField.AbstractFormatter nullFormat;\n\n    public CreditCardFormatterFactory() {\n        displayFormat = new CreditCardDisplayFormatter();\n        editFormat = new CreditCardEditFormatter();\n    }\n\n    @Override\n    public AbstractFormatter getFormatter(JFormattedTextField ftf) {\n        JFormattedTextField.AbstractFormatter format = null;\n        if (ftf != null) {\n            if (ftf.hasFocus()) {\n                format = getEditFormatter();\n            }\n            else {\n                format = getDisplayFormatter();\n            }\n        }\n        return format;\n    }\n\n    public JFormattedTextField.AbstractFormatter getDisplayFormatter() {\n        return displayFormat;\n    }\n\n    public JFormattedTextField.AbstractFormatter getEditFormatter() {\n        return editFormat;\n    }\n\n    public JFormattedTextField.AbstractFormatter getNullFormatter() {\n        return nullFormat;\n    }\n}\n\nclass CreditCardDisplayFormatter extends JFormattedTextField.AbstractFormatter {\n\n    @Override\n    public Object stringToValue(String text) throws ParseException {\n        System.out.printf(&quot;CreditCardDisplayFormatter.stringToValue( ^%s^ )%n&quot;, text);\n        return text;\n    }\n\n    @Override\n    public String valueToString(Object value) throws ParseException {\n        System.out.printf(&quot;CreditCardDisplayFormatter.valueToString( ^%s^ )%n&quot;,\n                          String.valueOf(value));\n        String str = value == null ? &quot;&quot; : value.toString();\n        if (str.length() &gt; 0) {\n            if (str.length() &gt; 12) {\n                str = &quot;XXXXXXXXXXXX&quot; + str.substring(12);\n            }\n            else {\n                str = str.replaceAll(&quot;\\\\d&quot;, &quot;X&quot;);\n            }\n        }\n        return str;\n    }\n}\n\nclass CreditCardEditFormatter extends JFormattedTextField.AbstractFormatter {\n\n    @Override\n    public Object stringToValue(String text) throws ParseException {\n        System.out.printf(&quot;CreditCardEditFormatter.stringToValue( ^%s^ )%n&quot;, text);\n        return text;\n    }\n\n    @Override\n    public String valueToString(Object value) throws ParseException {\n        System.out.printf(&quot;CreditCardEditFormatter.valueToString( ^%s^ )%n&quot;,\n                          String.valueOf(value));\n        return value == null ? null : value.toString();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27661692,"reputation":11,"user_id":21114373,"display_name":"cstjmn"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676896069,"creation_date":1676774440,"question_id":75497676,"body_markdown":"I have to do a supermarket app in Java for a class, one of the many requirements is that when a purchase is being made it asks for the credit/debit card data, and when the user fills the credit card number field it only displays the last four digits, something like XXXXXXXXXXXX1456\r\n\r\nI am using Java Swing for the GUI and I have tried to use the formatted field, the password field and a normal field and I can&#180;t seem to find a way to make it only display the last four digits when is being filled.","title":"Java text field for credit card number only showing last 4 digits","body":"<p>I have to do a supermarket app in Java for a class, one of the many requirements is that when a purchase is being made it asks for the credit/debit card data, and when the user fills the credit card number field it only displays the last four digits, something like XXXXXXXXXXXX1456</p>\n<p>I am using Java Swing for the GUI and I have tried to use the formatted field, the password field and a normal field and I can´t seem to find a way to make it only display the last four digits when is being filled.</p>\n"},{"tags":["java","json","jaxb"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1287051169,"post_id":3916123,"comment_id":4195715,"body_markdown":"&quot;using JAXB to convert the POJO&#39;s to JSON&quot;.... how?","body":"&quot;using JAXB to convert the POJO&#39;s to JSON&quot;.... how?"}],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":0,"down_vote_count":2,"up_vote_count":58,"is_accepted":true,"score":56,"last_activity_date":1676895439,"creation_date":1286896543,"answer_id":3916165,"question_id":3916123,"body_markdown":"The first example from your question,\r\n\r\n&gt; ```javascript\r\n&gt; foos: [\r\n&gt;     foo: { ... },\r\n&gt;     foo: { ... }\r\n&gt; ]\r\n&gt; ```\r\n\r\nis in invalid syntax. You cannot have object properties inside a plain array. \r\n\r\nThe second example from your question,\r\n\r\n&gt; ```javascript\r\n&gt; foos: [\r\n&gt;     { ... },\r\n&gt;     { ... }\r\n&gt; ]\r\n&gt; ```\r\n\r\nis right although it is not *strict* JSON. It&#39;s a *relaxed* form of JSON wherein quotes in string keys are omitted.\r\n\r\nFollowing is the correct one when you want to obey *strict* JSON:\r\n\r\n```javascript\r\n&quot;foos&quot;: [\r\n    { ... },\r\n    { ... }\r\n]\r\n```\r\n\r\n[This &quot;Mastering JSON&quot; tutorial by Patrick Hunlock][1], may help to learn about JSON and [this site][2] may help to validate JSON.\r\n\r\n\r\n  [1]: http://web.archive.org/web/20180919022127/http://index-of.es/JS/Mastering_JSON_(JavaScript_Object_Notation).pdf\r\n  [2]: https://www.jsonlint.com/","title":"JSON Structure for List of Objects","body":"<p>The first example from your question,</p>\n<blockquote>\n<pre class=\"lang-js prettyprint-override\"><code>foos: [\n    foo: { ... },\n    foo: { ... }\n]\n</code></pre>\n</blockquote>\n<p>is in invalid syntax. You cannot have object properties inside a plain array.</p>\n<p>The second example from your question,</p>\n<blockquote>\n<pre class=\"lang-js prettyprint-override\"><code>foos: [\n    { ... },\n    { ... }\n]\n</code></pre>\n</blockquote>\n<p>is right although it is not <em>strict</em> JSON. It's a <em>relaxed</em> form of JSON wherein quotes in string keys are omitted.</p>\n<p>Following is the correct one when you want to obey <em>strict</em> JSON:</p>\n<pre class=\"lang-js prettyprint-override\"><code>&quot;foos&quot;: [\n    { ... },\n    { ... }\n]\n</code></pre>\n<p><a href=\"http://web.archive.org/web/20180919022127/http://index-of.es/JS/Mastering_JSON_(JavaScript_Object_Notation).pdf\" rel=\"nofollow noreferrer\">This &quot;Mastering JSON&quot; tutorial by Patrick Hunlock</a>, may help to learn about JSON and <a href=\"https://www.jsonlint.com/\" rel=\"nofollow noreferrer\">this site</a> may help to validate JSON.</p>\n"},{"comments":[{"owner":{"account_id":1695601,"reputation":860,"user_id":1557032,"accept_rate":83,"display_name":"Ramanpreet Singh"},"score":0,"creation_date":1459534056,"post_id":3916173,"comment_id":60345475,"body_markdown":"This doesnt validate on jsonlint :(\nI am tempted to think jsonlint is wrong though :-|","body":"This doesnt validate on jsonlint :( I am tempted to think jsonlint is wrong though :-|"},{"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"score":5,"creation_date":1459540531,"post_id":3916173,"comment_id":60348874,"body_markdown":"@RamanpreetSingh - If you&#39;re validating via `jsonlint`, then you&#39;ll need to also add quotes around `foos` at the top level.","body":"@RamanpreetSingh - If you&#39;re validating via <code>jsonlint</code>, then you&#39;ll need to also add quotes around <code>foos</code> at the top level."},{"owner":{"account_id":1695601,"reputation":860,"user_id":1557032,"accept_rate":83,"display_name":"Ramanpreet Singh"},"score":0,"creation_date":1459772772,"post_id":3916173,"comment_id":60421456,"body_markdown":"I added quotes and curly braces at the top level and it works. Thanks!","body":"I added quotes and curly braces at the top level and it works. Thanks!"}],"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"comment_count":3,"down_vote_count":0,"up_vote_count":116,"is_accepted":false,"score":116,"last_activity_date":1586609364,"creation_date":1286896571,"answer_id":3916173,"question_id":3916123,"body_markdown":"The second is almost correct:\r\n\r\n    {\r\n        &quot;foos&quot; : [{\r\n            &quot;prop1&quot;:&quot;value1&quot;,\r\n            &quot;prop2&quot;:&quot;value2&quot;\r\n        }, {\r\n            &quot;prop1&quot;:&quot;value3&quot;, \r\n            &quot;prop2&quot;:&quot;value4&quot;\r\n        }]\r\n    }","title":"JSON Structure for List of Objects","body":"<p>The second is almost correct:</p>\n\n<pre><code>{\n    \"foos\" : [{\n        \"prop1\":\"value1\",\n        \"prop2\":\"value2\"\n    }, {\n        \"prop1\":\"value3\", \n        \"prop2\":\"value4\"\n    }]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7731306,"reputation":1871,"user_id":5854349,"display_name":"Timothy Kanski"},"comment_count":0,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1485565029,"creation_date":1485565029,"answer_id":41905330,"question_id":3916123,"body_markdown":"As others mentioned, Justin&#39;s answer was close, but not quite right.  I tested this using Visual Studio&#39;s &quot;Paste JSON as C# Classes&quot;\r\n\r\n    {\r\n        &quot;foos&quot; : [\r\n            {\r\n                &quot;prop1&quot;:&quot;value1&quot;,\r\n                &quot;prop2&quot;:&quot;value2&quot;\r\n            },\r\n            {\r\n                &quot;prop1&quot;:&quot;value3&quot;, \r\n                &quot;prop2&quot;:&quot;value4&quot;\r\n            }\r\n        ]\r\n    }","title":"JSON Structure for List of Objects","body":"<p>As others mentioned, Justin's answer was close, but not quite right.  I tested this using Visual Studio's \"Paste JSON as C# Classes\"</p>\n\n<pre><code>{\n    \"foos\" : [\n        {\n            \"prop1\":\"value1\",\n            \"prop2\":\"value2\"\n        },\n        {\n            \"prop1\":\"value3\", \n            \"prop2\":\"value4\"\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4611231,"reputation":21,"user_id":3739283,"display_name":"user3739283"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669956108,"creation_date":1669956108,"answer_id":74650989,"question_id":3916123,"body_markdown":"1) I use jsonformatter page to test the json validator.\r\n2) try to use jsonwhatever\r\n\r\nexample:\r\n``` \r\nlist_a = func_generator_of_objects()\r\n\r\njson_string = jsonwhatever(&#39;foos&#39;,list_a)\r\n```","title":"JSON Structure for List of Objects","body":"<ol>\n<li>I use jsonformatter page to test the json validator.</li>\n<li>try to use jsonwhatever</li>\n</ol>\n<p>example:</p>\n<pre><code>list_a = func_generator_of_objects()\n\njson_string = jsonwhatever('foos',list_a)\n</code></pre>\n"}],"owner":{"account_id":64695,"reputation":5754,"user_id":190857,"accept_rate":88,"display_name":"Vanchinathan Chandrasekaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466220,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":3916165,"answer_count":4,"score":93,"last_activity_date":1676895439,"creation_date":1286896290,"question_id":3916123,"body_markdown":"I would like to know, whats the right structure for a list of objects in JSON.\r\n\r\nWe are using JAXB to convert the POJO&#39;s to JSON.\r\n\r\nHere is the choices, Please direct me what is right.\r\n\r\n    foos: [\r\n                 foo:{..},\r\n                 foo:{..}\r\n          ]\r\n\r\nor \r\n\r\n       foos : [\r\n               {...},\r\n               {...}\r\n              ]\r\n\r\nIf the first structure is right, what is the JAXB annotation I should use to get the structure right.\r\n","title":"JSON Structure for List of Objects","body":"<p>I would like to know, whats the right structure for a list of objects in JSON.</p>\n\n<p>We are using JAXB to convert the POJO's to JSON.</p>\n\n<p>Here is the choices, Please direct me what is right.</p>\n\n<pre><code>foos: [\n             foo:{..},\n             foo:{..}\n      ]\n</code></pre>\n\n<p>or </p>\n\n<pre><code>   foos : [\n           {...},\n           {...}\n          ]\n</code></pre>\n\n<p>If the first structure is right, what is the JAXB annotation I should use to get the structure right.</p>\n"},{"tags":["java","android","algorithm","math","circuit-diagram"],"comments":[{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":1,"creation_date":1676848280,"post_id":75503919,"comment_id":133215027,"body_markdown":"@m0skit0 Thank you for your response. This is not a homework question. I am designing a circuit drawing tool for Android, and I have been stuck on this point. I have tried to come up with a solution on my own, but I am having difficulty figuring out the best approach. Any help or suggestions would be greatly appreciated. Thank you.","body":"@m0skit0 Thank you for your response. This is not a homework question. I am designing a circuit drawing tool for Android, and I have been stuck on this point. I have tried to come up with a solution on my own, but I am having difficulty figuring out the best approach. Any help or suggestions would be greatly appreciated. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676849075,"post_id":75503919,"comment_id":133215128,"body_markdown":"@Abdo21 Please review &quot;the intersection of two lines&quot; and realize that the &quot;circuits&quot; are actually rectangles. Otherwise show code of what you have tried. Do start with the simplest cases first before tackling the others.","body":"@Abdo21 Please review &quot;the intersection of two lines&quot; and realize that the &quot;circuits&quot; are actually rectangles. Otherwise show code of what you have tried. Do start with the simplest cases first before tackling the others."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":1,"creation_date":1676849700,"post_id":75503919,"comment_id":133215206,"body_markdown":"@MorrisonChang Thank you for your response. I appreciate your suggestion, but I don&#39;t think this problem is the same as the problem of the intersection of two lines. In this case, we have two points (the source and target) and need to compute the corner point based on the orientation of the components. The orientation of the component determines which side of the rectangle we need to connect. Unfortunately, I have not been able to come up with a solution on my own. Any help or suggestions would be greatly appreciated. Thank you.","body":"@MorrisonChang Thank you for your response. I appreciate your suggestion, but I don&#39;t think this problem is the same as the problem of the intersection of two lines. In this case, we have two points (the source and target) and need to compute the corner point based on the orientation of the components. The orientation of the component determines which side of the rectangle we need to connect. Unfortunately, I have not been able to come up with a solution on my own. Any help or suggestions would be greatly appreciated. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676850534,"post_id":75503919,"comment_id":133215303,"body_markdown":"The first row is a line intersection problem. The second and third rows are rotating the projection rectangles (not the circuit image) where the intersection occurs with additional rules like not going through the circuit.","body":"The first row is a line intersection problem. The second and third rows are rotating the projection rectangles (not the circuit image) where the intersection occurs with additional rules like not going through the circuit."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676851117,"post_id":75503919,"comment_id":133215375,"body_markdown":"@MorrisonChang I agree that I could use brute force to solve this problem with if-else statements for each case, but I was hoping to find a more optimal solution. As I am designing a circuit drawing tool for Android, it&#39;s important to me that the solution is efficient. Thank you.","body":"@MorrisonChang I agree that I could use brute force to solve this problem with if-else statements for each case, but I was hoping to find a more optimal solution. As I am designing a circuit drawing tool for Android, it&#39;s important to me that the solution is efficient. Thank you."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1676852210,"post_id":75503919,"comment_id":133215498,"body_markdown":"If you are doing every second fine, but in that case the connections should be cached/part of your display pipeline. If you are trying to optimize hundreds of &quot;circuits&quot; in various combinations, I&#39;m not sure if Android is an appropriate platform.","body":"If you are doing every second fine, but in that case the connections should be cached/part of your display pipeline. If you are trying to optimize hundreds of &quot;circuits&quot; in various combinations, I&#39;m not sure if Android is an appropriate platform."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676853094,"post_id":75503919,"comment_id":133215612,"body_markdown":"@MorrisonChang The circuits that I intend to draw are relatively small and not very complex, I will try the brute force method and see if it performs well. Thank you again for your help!","body":"@MorrisonChang The circuits that I intend to draw are relatively small and not very complex, I will try the brute force method and see if it performs well. Thank you again for your help!"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676853849,"post_id":75503919,"comment_id":133215711,"body_markdown":"I think there&#39;ll be cases where there&#39;s no good solution.  For example, what if the components are facing in opposite directions, with the connection points overlapping?","body":"I think there&#39;ll be cases where there&#39;s no good solution.  For example, what if the components are facing in opposite directions, with the connection points overlapping?"}],"answers":[{"comments":[{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1676859446,"post_id":75504359,"comment_id":133216355,"body_markdown":"Thank you for taking the time to provide this information. You&#39;re right, there are a few missing cases that need to be considered I will take this approach into consideration when working on the solution for this problem. Thank you.","body":"Thank you for taking the time to provide this information. You&#39;re right, there are a few missing cases that need to be considered I will take this approach into consideration when working on the solution for this problem. Thank you."}],"tags":[],"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676895240,"creation_date":1676853770,"answer_id":75504359,"question_id":75503919,"body_markdown":"Horizontal/vertical isn’t enough – we need to know which side of the\r\ncomponent the connection point is on. Also I’m not sure how you want to\r\nhandle connection points on opposite sides.\r\n\r\nFor the cases you’ve shown, the answer will be either (source.x,\r\ntarget.y) or (target.x, source.y). If (for example) the source point is\r\non the right side of its component, then (target.x, source.y) is vetoed\r\nif target.x \\&lt; source.x or preferred if source.x \\&lt; target.x; (source.x,\r\ntarget.y) is a middling option. The other seven cases (three source\r\ndirections and four target directions) are symmetric. We demand an\r\noption that is not vetoed, and should choose one that is preferred if\r\npossible.\r\n\r\nLet’s assume that (source.dx, source.dy) and (target.dx, target.dy) give\r\nthe coordinates of their respective connection points relative to the\r\ncenter of the component (so using the usual mathematical coordinate\r\nsystem with positive dx pointing right and positive dy pointing up, (dx,\r\ndy) = (1, 0) is right, and (dx, dy) = (0, 1) is up, etc.). The generic\r\ncondition for a component is, a point (x′, y′) is\r\nvetoed/preferred/middling if component.dx \\* (x′ - component.x) +\r\ncomponent.dy \\* (y′ - component.y) is less than/greater than/equal to\r\nzero respectively. If we let “vetoed” be -2 points, preferred be 1\r\npoint, and middling be 0 points, we can add up the scores for both\r\ncandidate points and take the max.\r\n","title":"How can I compute the corner point for connecting two circuit components?","body":"<p>Horizontal/vertical isn’t enough – we need to know which side of the\ncomponent the connection point is on. Also I’m not sure how you want to\nhandle connection points on opposite sides.</p>\n<p>For the cases you’ve shown, the answer will be either (source.x,\ntarget.y) or (target.x, source.y). If (for example) the source point is\non the right side of its component, then (target.x, source.y) is vetoed\nif target.x &lt; source.x or preferred if source.x &lt; target.x; (source.x,\ntarget.y) is a middling option. The other seven cases (three source\ndirections and four target directions) are symmetric. We demand an\noption that is not vetoed, and should choose one that is preferred if\npossible.</p>\n<p>Let’s assume that (source.dx, source.dy) and (target.dx, target.dy) give\nthe coordinates of their respective connection points relative to the\ncenter of the component (so using the usual mathematical coordinate\nsystem with positive dx pointing right and positive dy pointing up, (dx,\ndy) = (1, 0) is right, and (dx, dy) = (0, 1) is up, etc.). The generic\ncondition for a component is, a point (x′, y′) is\nvetoed/preferred/middling if component.dx * (x′ - component.x) +\ncomponent.dy * (y′ - component.y) is less than/greater than/equal to\nzero respectively. If we let “vetoed” be -2 points, preferred be 1\npoint, and middling be 0 points, we can add up the scores for both\ncandidate points and take the max.</p>\n"}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75504359,"answer_count":1,"score":1,"last_activity_date":1676895240,"creation_date":1676846819,"question_id":75503919,"body_markdown":"I have a source component and a target component and I want to calculate the corner point where they will be connected. I am implementing a method that takes the source and target points and their orientations (either horizontal or vertical) as inputs. Here is the skeleton of the method:\r\n\r\n    private final static int HORIZONTAL = 0;\r\n    private final static int VERTICAL = 1;\r\n    \r\n    private PointF computeCornerPoint(PointF sourcePoint, int sourceComponentOrientation, PointF targetPoint, int targetComponentOrientation) {\r\n        PointF cornerPoint = new PointF();\r\n    \r\n        // TODO: Calculate the corner point here\r\n    \r\n        return cornerPoint;\r\n    }\r\n\r\n\r\nI have created a diagram that shows all the possible cases. In the diagram, the green points are the source and target points, and the red point is the corner point that I want to compute.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso, note that this problem is symmetric, so the source and target components can be swapped, and the diagram I provided only shows one case.\r\n\r\nIn Android, the x-coordinate increases from left to right, and the y-coordinate increases from top to bottom.\r\n\r\nCan you suggest an algorithm or a solution to compute the corner point for all these cases?\r\n\r\nAdditionally, please let me know if there is any information missing that would be helpful in solving this problem.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nhbsh.png","title":"How can I compute the corner point for connecting two circuit components?","body":"<p>I have a source component and a target component and I want to calculate the corner point where they will be connected. I am implementing a method that takes the source and target points and their orientations (either horizontal or vertical) as inputs. Here is the skeleton of the method:</p>\n<pre><code>private final static int HORIZONTAL = 0;\nprivate final static int VERTICAL = 1;\n\nprivate PointF computeCornerPoint(PointF sourcePoint, int sourceComponentOrientation, PointF targetPoint, int targetComponentOrientation) {\n    PointF cornerPoint = new PointF();\n\n    // TODO: Calculate the corner point here\n\n    return cornerPoint;\n}\n</code></pre>\n<p>I have created a diagram that shows all the possible cases. In the diagram, the green points are the source and target points, and the red point is the corner point that I want to compute.</p>\n<p><a href=\"https://i.stack.imgur.com/Nhbsh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nhbsh.png\" alt=\"enter image description here\" /></a></p>\n<p>Also, note that this problem is symmetric, so the source and target components can be swapped, and the diagram I provided only shows one case.</p>\n<p>In Android, the x-coordinate increases from left to right, and the y-coordinate increases from top to bottom.</p>\n<p>Can you suggest an algorithm or a solution to compute the corner point for all these cases?</p>\n<p>Additionally, please let me know if there is any information missing that would be helpful in solving this problem.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1676870910,"post_id":75505303,"comment_id":133217654,"body_markdown":"JPA: https://stackoverflow.com/questions/59628543/jpa-specification-to-filter-entries-based-on-a-key-in-the-jsonb-map and Native query: https://stackoverflow.com/questions/54006818/how-to-filter-jsonb-array-elements","body":"JPA: <a href=\"https://stackoverflow.com/questions/59628543/jpa-specification-to-filter-entries-based-on-a-key-in-the-jsonb-map\" title=\"jpa specification to filter entries based on a key in the jsonb map\">stackoverflow.com/questions/59628543/&hellip;</a> and Native query: <a href=\"https://stackoverflow.com/questions/54006818/how-to-filter-jsonb-array-elements\" title=\"how to filter jsonb array elements\">stackoverflow.com/questions/54006818/&hellip;</a>"}],"owner":{"account_id":14248845,"reputation":444,"user_id":11435260,"display_name":"AbrA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676895192,"creation_date":1676867714,"question_id":75505303,"body_markdown":"I stored a data in jsonb column:\r\n\r\n    @Entity\r\n    public class Car {\r\n        @Id\r\n        private Long id;\r\n\r\n        @Type(type = &quot;jsonb&quot;)\r\n        private Data data;\r\n    }\r\n Example of structure\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;car&quot;: &quot;mersedes&quot;,\r\n        &quot;count&quot;: 100,\r\n        &quot;stores&quot; : [{\r\n            &quot;city&quot;: &quot;LA&quot;,\r\n            &quot;country&quot;: &quot;USA&quot;,\r\n            &quot;brands&quot;: [{\r\n                &quot;name&quot;: &quot;CLS&quot;,\r\n                &quot;count&quot;: 14\r\n            },\r\n            {\r\n                &quot;name&quot;: &quot;C-class&quot;,\r\n                &quot;count&quot;: 17\r\n            }]\r\n        }]\r\n    }\r\n\r\na file takes more than 700mB of memory and I don&#39;t want to load all the data into RAM, I need to get data only by filters, for example get only CLS model. can this be done with jpa specification?  \r\n  \r\nAnd if I want to getting only adderesses how to ignore brands?\r\nhow to get from the original json like this:\r\n\r\n     { \r\n          &quot;stores&quot; : [{\r\n            &quot;city&quot;: &quot;LA&quot;,\r\n            &quot;country&quot;: &quot;USA&quot;\r\n          ]}\r\n     }","title":"JSONB and JPA. extract data by filter","body":"<p>I stored a data in jsonb column:</p>\n<pre><code>@Entity\npublic class Car {\n    @Id\n    private Long id;\n\n    @Type(type = &quot;jsonb&quot;)\n    private Data data;\n}\n</code></pre>\n<p>Example of structure</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;car&quot;: &quot;mersedes&quot;,\n    &quot;count&quot;: 100,\n    &quot;stores&quot; : [{\n        &quot;city&quot;: &quot;LA&quot;,\n        &quot;country&quot;: &quot;USA&quot;,\n        &quot;brands&quot;: [{\n            &quot;name&quot;: &quot;CLS&quot;,\n            &quot;count&quot;: 14\n        },\n        {\n            &quot;name&quot;: &quot;C-class&quot;,\n            &quot;count&quot;: 17\n        }]\n    }]\n}\n</code></pre>\n<p>a file takes more than 700mB of memory and I don't want to load all the data into RAM, I need to get data only by filters, for example get only CLS model. can this be done with jpa specification?</p>\n<p>And if I want to getting only adderesses how to ignore brands?\nhow to get from the original json like this:</p>\n<pre><code> { \n      &quot;stores&quot; : [{\n        &quot;city&quot;: &quot;LA&quot;,\n        &quot;country&quot;: &quot;USA&quot;\n      ]}\n }\n</code></pre>\n"},{"tags":["java","arrays","fibonacci"],"answers":[{"tags":[],"owner":{"display_name":"user4668606"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434325381,"creation_date":1434325381,"answer_id":30835685,"question_id":30835626,"body_markdown":"Use a `Scanner`, or some `InputStreamReader` to read the input from the console. `Scanner` would be used in this way:\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    if(scanner.hasNextInt())\r\n        int someInt = scanner.nextInt();\r\n\r\nAnother option would be to use some reader like this:\r\n\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n\r\nand parse the required data from the output of the reader. Using `Scanner` will be simpler in most cases though.","title":"Java Fibonacci series","body":"<p>Use a <code>Scanner</code>, or some <code>InputStreamReader</code> to read the input from the console. <code>Scanner</code> would be used in this way:</p>\n\n<pre><code>Scanner scanner = new Scanner(System.in);\nif(scanner.hasNextInt())\n    int someInt = scanner.nextInt();\n</code></pre>\n\n<p>Another option would be to use some reader like this:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n</code></pre>\n\n<p>and parse the required data from the output of the reader. Using <code>Scanner</code> will be simpler in most cases though.</p>\n"},{"comments":[{"owner":{"account_id":5830934,"reputation":45,"user_id":4595448,"display_name":"Billy"},"score":0,"creation_date":1434327143,"post_id":30835718,"comment_id":49716138,"body_markdown":"this is perfect the only issue I&#39;m having is getting the program to print the numbers (up to 30 in the series) before asking the user to select the numbers","body":"this is perfect the only issue I&#39;m having is getting the program to print the numbers (up to 30 in the series) before asking the user to select the numbers"},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1434503038,"post_id":30835718,"comment_id":49802318,"body_markdown":"Your second for-loop in the `main` method is weird. Why don&#39;t you just remove the for-loop and replace what&#39;s inside of it (`if (i == num) { System.out.print(feb[i] + &quot; &quot;); }`) with `System.out.print(feb[num] + &quot; &quot;);` ?","body":"Your second for-loop in the <code>main</code> method is weird. Why don&#39;t you just remove the for-loop and replace what&#39;s inside of it (<code>if (i == num) { System.out.print(feb[i] + &quot; &quot;); }</code>) with <code>System.out.print(feb[num] + &quot; &quot;);</code> ?"},{"owner":{"account_id":3329744,"reputation":944,"user_id":2798950,"accept_rate":100,"display_name":"VNT"},"score":0,"creation_date":1496555489,"post_id":30835718,"comment_id":75704505,"body_markdown":"@Ritesh Karwa  Are you able to get 30th element from the series?","body":"@Ritesh Karwa  Are you able to get 30th element from the series?"},{"owner":{"account_id":4310479,"reputation":2204,"user_id":4854861,"display_name":"Ritesh  Karwa"},"score":0,"creation_date":1496684441,"post_id":30835718,"comment_id":75750183,"body_markdown":"@VNT did not actually get your question? if you want the 30th element just \nmake int febCount = 31;","body":"@VNT did not actually get your question? if you want the 30th element just  make int febCount = 31;"}],"tags":[],"owner":{"account_id":4310479,"reputation":2204,"user_id":4854861,"display_name":"Ritesh  Karwa"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676890269,"creation_date":1434325733,"answer_id":30835718,"question_id":30835626,"body_markdown":"    \r\n**Here you go :**\r\n\r\n   \r\n\r\n     public class TestProgram {\r\n    \r\n    \tpublic static void main(String a[]) {\r\n    \r\n    \t\tScanner reader = new Scanner(System.in);\r\n    \t\tprintFibonacciSeries();\r\n    \t\tSystem.out.println(&quot;&quot;);\r\n    \t\tSystem.out.println(&quot;Fibonacci Series, Enter the number in the series of 30 you want to see&quot;);\r\n    \t\tint num = reader.nextInt();\r\n    \t\tint febCount = 30;\r\n    \t\tint[] feb = new int[febCount];\r\n    \t\tfeb[0] = 0;\r\n    \t\tfeb[1] = 1;\r\n    \t\tfor (int i = 2; i &lt; febCount; i++) {\r\n    \t\t\tfeb[i] = feb[i - 1] + feb[i - 2];\r\n\r\n    \t\t\tif (i == num) {\r\n    \t\t\t\tSystem.out.print(feb[i] + &quot; &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void printFibonacciSeries() {\r\n    \r\n    \t\tint febCount = 31;\r\n    \t\tint[] feb = new int[febCount];\r\n    \t\tfeb[0] = 0;\r\n    \t\tfeb[1] = 1;\r\n    \t\tfor (int i = 2; i &lt; febCount; i++) {\r\n    \t\t\tfeb[i] = feb[i - 1] + feb[i - 2];\r\n    \t\t\tSystem.out.print(feb[i] + &quot; &quot;);\r\n    \r\n    \t\t}\r\n    \t}\r\n    \r\n    }","title":"Java Fibonacci series","body":"<p><strong>Here you go :</strong></p>\n<pre><code> public class TestProgram {\n\n    public static void main(String a[]) {\n\n        Scanner reader = new Scanner(System.in);\n        printFibonacciSeries();\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Fibonacci Series, Enter the number in the series of 30 you want to see&quot;);\n        int num = reader.nextInt();\n        int febCount = 30;\n        int[] feb = new int[febCount];\n        feb[0] = 0;\n        feb[1] = 1;\n        for (int i = 2; i &lt; febCount; i++) {\n            feb[i] = feb[i - 1] + feb[i - 2];\n\n            if (i == num) {\n                System.out.print(feb[i] + &quot; &quot;);\n            }\n        }\n    }\n\n    public static void printFibonacciSeries() {\n\n        int febCount = 31;\n        int[] feb = new int[febCount];\n        feb[0] = 0;\n        feb[1] = 1;\n        for (int i = 2; i &lt; febCount; i++) {\n            feb[i] = feb[i - 1] + feb[i - 2];\n            System.out.print(feb[i] + &quot; &quot;);\n\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1676890537,"post_id":44351052,"comment_id":133222134,"body_markdown":"`public static void main(long n)` will not be an executable entry point","body":"<code>public static void main(long n)</code> will not be an executable entry point"}],"tags":[],"owner":{"account_id":11041541,"reputation":1,"user_id":8109253,"display_name":"IronFist"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496555255,"creation_date":1496554246,"answer_id":44351052,"question_id":30835626,"body_markdown":"    public class Fibonacci_series  // upto less than a given number\r\n    {\r\n        public static void main(long n)\r\n        {\r\n            long a=0, b=1, c=0;\r\n            while (c&lt;n)\r\n            {\r\n                a=b;\r\n                b=c;\r\n                System.out.print(c+&quot;, &quot;);\r\n                c=a+b;\r\n            }\r\n            System.out.print(&quot;....&quot;);\r\n        }\r\n    }","title":"Java Fibonacci series","body":"<pre><code>public class Fibonacci_series  // upto less than a given number\n{\n    public static void main(long n)\n    {\n        long a=0, b=1, c=0;\n        while (c&lt;n)\n        {\n            a=b;\n            b=c;\n            System.out.print(c+\", \");\n            c=a+b;\n        }\n        System.out.print(\"....\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676895069,"creation_date":1676890737,"answer_id":75508390,"question_id":30835626,"body_markdown":"You could use a command line argument and read it from the main method args:\r\n\r\n    public class MyFibonacci {\r\n        public static void main(String a[]) throws NumberFormatException {\r\n             int febCount = Integer.parseInt(a[0]);\r\n\r\nthen call it with\r\n\r\n    java MyFibonacci 30\r\n\r\nOr pass it in the &#39;VM options&#39; input in an IntelliJ run configuration\r\n","title":"Java Fibonacci series","body":"<p>You could use a command line argument and read it from the main method args:</p>\n<pre><code>public class MyFibonacci {\n    public static void main(String a[]) throws NumberFormatException {\n         int febCount = Integer.parseInt(a[0]);\n</code></pre>\n<p>then call it with</p>\n<pre><code>java MyFibonacci 30\n</code></pre>\n<p>Or pass it in the 'VM options' input in an IntelliJ run configuration</p>\n"}],"owner":{"account_id":5830934,"reputation":45,"user_id":4595448,"display_name":"Billy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":976,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1676895069,"creation_date":1434324635,"question_id":30835626,"body_markdown":"What would be the next step in order to ask the user which of the numbers in this series of 30 he wants to see and prompts for an integer input - a number between 1 and 30 (inclusive)?\r\n\r\nSo if the user wants to see the fifth (5th) number of the Fibonacci series the user would input the integer 5 in response to the prompt.\r\n\r\n    public class MyFibonacci {\r\n        public static void main(String a[]) {\r\n             int febCount = 30;\r\n             int[] feb = new int[febCount];\r\n             feb[0] = 0;\r\n             feb[1] = 1;\r\n             for(int i=2; i &lt; febCount; i++) {\r\n                 feb[i] = feb[i-1] + feb[i-2];\r\n             }\r\n     \r\n             for(int i=0; i&lt; febCount; i++) {\r\n                     System.out.print(feb[i] + &quot; &quot;);\r\n             }\r\n        }\r\n    }   \r\n\r\n \r\n","title":"Java Fibonacci series","body":"<p>What would be the next step in order to ask the user which of the numbers in this series of 30 he wants to see and prompts for an integer input - a number between 1 and 30 (inclusive)?</p>\n\n<p>So if the user wants to see the fifth (5th) number of the Fibonacci series the user would input the integer 5 in response to the prompt.</p>\n\n<pre><code>public class MyFibonacci {\n    public static void main(String a[]) {\n         int febCount = 30;\n         int[] feb = new int[febCount];\n         feb[0] = 0;\n         feb[1] = 1;\n         for(int i=2; i &lt; febCount; i++) {\n             feb[i] = feb[i-1] + feb[i-2];\n         }\n\n         for(int i=0; i&lt; febCount; i++) {\n                 System.out.print(feb[i] + \" \");\n         }\n    }\n}   \n</code></pre>\n"},{"tags":["java","testing","mockito"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1676881595,"post_id":75506775,"comment_id":133219675,"body_markdown":"It can not be done by mockito. You have to refactor your code or change to powermockito","body":"It can not be done by mockito. You have to refactor your code or change to powermockito"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1676882609,"post_id":75506775,"comment_id":133219932,"body_markdown":"Please improve your question by showing us your attempt and what failed.","body":"Please improve your question by showing us your attempt and what failed."},{"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"score":0,"creation_date":1676883504,"post_id":75506775,"comment_id":133220159,"body_markdown":"Updated code. I am unable to verify the commented line of test case","body":"Updated code. I am unable to verify the commented line of test case"}],"answers":[{"comments":[{"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"score":0,"creation_date":1676881589,"post_id":75506800,"comment_id":133219673,"body_markdown":"I dont want to use powerMocktio.whenNew method.","body":"I dont want to use powerMocktio.whenNew method."},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":0,"creation_date":1676882370,"post_id":75506800,"comment_id":133219868,"body_markdown":"Then, if your code look like this;\n    public class A {\n        private final B b;\n\n        public A(B b) {\n            this.b = b;\n        }\n\n        public void methodA() {\n            // --- some code ---\n            methodC(b);\n        }\n    }\n\nyou can create a mock instance of B and pass it to your A instance\n\n    B mockB = mock(B.class);\n    A a = new A(mockB);\n    a.methodA();","body":"Then, if your code look like this;     public class A {         private final B b;          public A(B b) {             this.b = b;         }          public void methodA() {             // --- some code ---             methodC(b);         }     }  you can create a mock instance of B and pass it to your A instance      B mockB = mock(B.class);     A a = new A(mockB);     a.methodA();"},{"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"score":0,"creation_date":1676883216,"post_id":75506800,"comment_id":133220087,"body_markdown":"I tried using MockedConstruction on B class. I can mock the method but when I am verifying the call after assertion it&#39;s getting failed. \nI did something like this.\n```\ntry(MockedConstruction mocked = mockConstruction(B.class){\n\n--- assertEquals( )--- done\nverify(yourClassObject, times(1)).methodC() ? here I am not getting how can I verify methodC onvocation as i dont have the mock object returned from that class. \n}\n```","body":"I tried using MockedConstruction on B class. I can mock the method but when I am verifying the call after assertion it&#39;s getting failed.  I did something like this. ``` try(MockedConstruction mocked = mockConstruction(B.class){  --- assertEquals( )--- done verify(yourClassObject, times(1)).methodC() ? here I am not getting how can I verify methodC onvocation as i dont have the mock object returned from that class.  } ```"},{"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"score":0,"creation_date":1676884581,"post_id":75506800,"comment_id":133220418,"body_markdown":"ArgumentCaptor can be used with Mockito&#39;s verify() method;\n\nimport org.mockito.ArgumentCaptor;\nimport org.mockito.MockedConstruction;\n\ntry (MockedConstruction mocked = mockConstruction(B.class)) {\n\n    yourClassObject.methodA();\n\n    ArgumentCaptor&lt;B&gt; bCaptor = ArgumentCaptor.forClass(B.class);\n    verify(yourClassObject, times(1)).methodC(bCaptor.capture());\n\n    B mockedB = bCaptor.getValue();\n    assertNotNull(mockedB);\n}","body":"ArgumentCaptor can be used with Mockito&#39;s verify() method;  import org.mockito.ArgumentCaptor; import org.mockito.MockedConstruction;  try (MockedConstruction mocked = mockConstruction(B.class)) {      yourClassObject.methodA();      ArgumentCaptor&lt;B&gt; bCaptor = ArgumentCaptor.forClass(B.class);     verify(yourClassObject, times(1)).methodC(bCaptor.capture());      B mockedB = bCaptor.getValue();     assertNotNull(mockedB); }"}],"tags":[],"owner":{"account_id":26816655,"reputation":77,"user_id":20406553,"display_name":"jetbrain_icin icin"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676881330,"creation_date":1676881330,"answer_id":75506800,"question_id":75506775,"body_markdown":" Mockito framework can be used to mock the creation of the B object by mocking the behavior of the constructor;\r\n\r\n    B mockB = Mockito.mock(B.class);\r\n\r\n    Mockito.whenNew(B.class).withNoArguments().thenReturn(mockB);\r\n\r\n    yourObject.methodA();\r\n\r\n    Mockito.verify(yourObject).methodC(mockB);\r\n","title":"Mocking a new object inside another method testing","body":"<p>Mockito framework can be used to mock the creation of the B object by mocking the behavior of the constructor;</p>\n<pre><code>B mockB = Mockito.mock(B.class);\n\nMockito.whenNew(B.class).withNoArguments().thenReturn(mockB);\n\nyourObject.methodA();\n\nMockito.verify(yourObject).methodC(mockB);\n</code></pre>\n"}],"owner":{"account_id":27830309,"reputation":1,"user_id":21248874,"display_name":"piyush bansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1053,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676894620,"creation_date":1676881133,"question_id":75506775,"body_markdown":"I have a class which contains method like \r\n\r\n```java\r\nprivate MqttWrapper createNewMqttWrapperInstance(EdamsCell deviceCell) {\r\n    MqttWrapper mqttWrapper = new MqttWrapper();\r\n    MqttClientConnectionManager mqttClientConnectionManager = context.getMqttClientConnectionManager();\r\n    MqttClientConnection mqttClientConnection = mqttClientConnectionManager.getMqttClientConnection(mqttWrapper);\r\n\r\n    setMqttWrapperProperties(mqttWrapper, AWSIotConnectionStatus.CONNECTED);\r\n    log.info(&quot;New instance of MqttWrapper created for device cell {}&quot;, deviceCell);\r\n\r\n    return mqttWrapper;\r\n}\r\n```\r\n\r\nMy test method is \r\n```java\r\ntry(MockedConstruction mocked = mockConstruction(MqttWrapper.class, (mock, context) -&gt; {})){\r\n    mockMethodCalls();\r\n    doReturn(mqttClientConnection).when(mqttClientConnectionManager).getMqttClientConnection(); -&gt;I am not able to control this as there in code a new object is passed. \r\n    mqttWrapperFactoryImpl = spy(new MqttWrapperFactoryImpl(context));\r\n    outputMqttWrapper = mqttWrapperFactoryImpl.getMqttWrapperForSiteId(SITE_ID);\r\n\r\n    assertEquals(expectedMqttWrapper, outputMqttWrapper);\r\n    \r\n    // verify(mqttClientConnectionManager, times(1)).getMqttClientConnection(IOT_ENDPOINT, deviceResponseListener,\r\n    //         CELL, new MqttWrapper());\r\n    verify(mqttClientConnectionManager, times(1)).getMqttClientConnection( sample);\r\n    verifyNoMoreInteractions(mqttClientConnectionManager);\r\n}\r\n```\r\n\r\nI want to mock this b object creation so that I can control the methodC and verify the same after assertion. I dont want to use PowerMockito.\r\n\r\nI can&#39;t control the invocation method also, neither I am able to verify the test calling.\r\nI tried MockitoConstruction but was unable to do so. ","title":"Mocking a new object inside another method testing","body":"<p>I have a class which contains method like</p>\n<pre class=\"lang-java prettyprint-override\"><code>private MqttWrapper createNewMqttWrapperInstance(EdamsCell deviceCell) {\n    MqttWrapper mqttWrapper = new MqttWrapper();\n    MqttClientConnectionManager mqttClientConnectionManager = context.getMqttClientConnectionManager();\n    MqttClientConnection mqttClientConnection = mqttClientConnectionManager.getMqttClientConnection(mqttWrapper);\n\n    setMqttWrapperProperties(mqttWrapper, AWSIotConnectionStatus.CONNECTED);\n    log.info(&quot;New instance of MqttWrapper created for device cell {}&quot;, deviceCell);\n\n    return mqttWrapper;\n}\n</code></pre>\n<p>My test method is</p>\n<pre class=\"lang-java prettyprint-override\"><code>try(MockedConstruction mocked = mockConstruction(MqttWrapper.class, (mock, context) -&gt; {})){\n    mockMethodCalls();\n    doReturn(mqttClientConnection).when(mqttClientConnectionManager).getMqttClientConnection(); -&gt;I am not able to control this as there in code a new object is passed. \n    mqttWrapperFactoryImpl = spy(new MqttWrapperFactoryImpl(context));\n    outputMqttWrapper = mqttWrapperFactoryImpl.getMqttWrapperForSiteId(SITE_ID);\n\n    assertEquals(expectedMqttWrapper, outputMqttWrapper);\n    \n    // verify(mqttClientConnectionManager, times(1)).getMqttClientConnection(IOT_ENDPOINT, deviceResponseListener,\n    //         CELL, new MqttWrapper());\n    verify(mqttClientConnectionManager, times(1)).getMqttClientConnection( sample);\n    verifyNoMoreInteractions(mqttClientConnectionManager);\n}\n</code></pre>\n<p>I want to mock this b object creation so that I can control the methodC and verify the same after assertion. I dont want to use PowerMockito.</p>\n<p>I can't control the invocation method also, neither I am able to verify the test calling.\nI tried MockitoConstruction but was unable to do so.</p>\n"},{"tags":["java","spring-boot","junit5","graalvm-native-image","embedded-kafka"],"comments":[{"owner":{"account_id":13870433,"reputation":86,"user_id":10013726,"display_name":"Ankur Sharma"},"score":0,"creation_date":1676894983,"post_id":75509030,"comment_id":133223292,"body_markdown":"Not sure about any connection between Kafka and GraalVM. Question is how is your setup? Are you using a kafka on your local machine? and what port you are giving when using Embedded Kafka? Because the way I see it, it should not be same when both embedded and actual kafka cluster is on same machine.","body":"Not sure about any connection between Kafka and GraalVM. Question is how is your setup? Are you using a kafka on your local machine? and what port you are giving when using Embedded Kafka? Because the way I see it, it should not be same when both embedded and actual kafka cluster is on same machine."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676922416,"post_id":75509030,"comment_id":133231069,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":8943569,"reputation":1,"user_id":6671793,"display_name":"Mohammadreza Mirali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676894610,"creation_date":1676894610,"question_id":75509030,"body_markdown":"I want to use EmbeddedKafka with GraalVM using Spring boot in tests. When I run the test it goes to idle and Waiting until the timeout happens. Is there any idea how to use them together? \r\n\r\nWhen I run the test it goes to idle and Waiting until the timeout happens.","title":"EmbeddedKafka and GraalVM in Springboot tests","body":"<p>I want to use EmbeddedKafka with GraalVM using Spring boot in tests. When I run the test it goes to idle and Waiting until the timeout happens. Is there any idea how to use them together?</p>\n<p>When I run the test it goes to idle and Waiting until the timeout happens.</p>\n"},{"tags":["java","spring","spring-security","oauth"],"owner":{"account_id":1571567,"reputation":2442,"user_id":1459161,"accept_rate":95,"display_name":"glethien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676893764,"creation_date":1676884911,"question_id":75507349,"body_markdown":"Good morning.\r\nWe are developing an application which needs access to the internet for reaching the OAuth2.0 server. The problem is, that the configuration of the cloud blocks all internet access, which is not handled by a proxy. For authentication with the proxy we are provided with some credentials. Using the newest Spring boot version and the newest version of Spring Security, the whole team (hobby devs, and free / hobby project, nothing commercial) has no idea on how to setup the SpringSecurityOAuthFilterChain to make all OAuth calls using the proxy with credentials.\r\n\r\nHere is our current FilterChain\r\n\r\n        http //\r\n                .authorizeHttpRequests() //\r\n                .requestMatchers(PAGE_AUTH_SSO_LOGIN, PAGE_AUTH_ERROR, LOGIN_OAUTH2_CALLBACK_URL,\r\n                        AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK,\r\n                        SpringConstants.ACTUATOR_HEALTH_URL).permitAll() //\r\n                .anyRequest().authenticated() //\r\n                .and() //\r\n                .oauth2Login() //\r\n                    .loginPage(PAGE_AUTH_SSO_LOGIN)//\r\n                    .successHandler((request, response, authentication) -&gt; //\r\n                            response.sendRedirect(SUCCESSFUL_OAUTH_LOGIN_CALLBACK)) //\r\n                    .failureHandler((request, response, authentication) -&gt; //\r\n                            response.sendRedirect(AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK)) //\r\n                .and() //\r\n                .logout() //\r\n                .logoutUrl(LOGOUT_URL) //\r\n                .logoutSuccessUrl(\r\n                        &quot;/oauth2/authorization/logout?redirect_uri=http://localhost:8090/page/auth/ssoLogin.xhtml&quot;) //\r\n                .clearAuthentication(true) //\r\n                .invalidateHttpSession(true) //\r\n                .deleteCookies(JSESSIONID) //\r\n                .and() //\r\n                .csrf().disable();\r\n\r\nSetting the parameters for the JVM did not work. Can someone give us a hint or a working example on how to solve this problem?\r\n\r\nVersion of spring boot and spring boot security 3.0.1\r\nVersion of spring-boot-starter-oauth2-client: 3.0.1","title":"Spring OAuth2 with Proxy using Credentials","body":"<p>Good morning.\nWe are developing an application which needs access to the internet for reaching the OAuth2.0 server. The problem is, that the configuration of the cloud blocks all internet access, which is not handled by a proxy. For authentication with the proxy we are provided with some credentials. Using the newest Spring boot version and the newest version of Spring Security, the whole team (hobby devs, and free / hobby project, nothing commercial) has no idea on how to setup the SpringSecurityOAuthFilterChain to make all OAuth calls using the proxy with credentials.</p>\n<p>Here is our current FilterChain</p>\n<pre><code>    http //\n            .authorizeHttpRequests() //\n            .requestMatchers(PAGE_AUTH_SSO_LOGIN, PAGE_AUTH_ERROR, LOGIN_OAUTH2_CALLBACK_URL,\n                    AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK,\n                    SpringConstants.ACTUATOR_HEALTH_URL).permitAll() //\n            .anyRequest().authenticated() //\n            .and() //\n            .oauth2Login() //\n                .loginPage(PAGE_AUTH_SSO_LOGIN)//\n                .successHandler((request, response, authentication) -&gt; //\n                        response.sendRedirect(SUCCESSFUL_OAUTH_LOGIN_CALLBACK)) //\n                .failureHandler((request, response, authentication) -&gt; //\n                        response.sendRedirect(AuthenticationUtils.FAILURE_OAUTH_LOGIN_CALLBACK)) //\n            .and() //\n            .logout() //\n            .logoutUrl(LOGOUT_URL) //\n            .logoutSuccessUrl(\n                    &quot;/oauth2/authorization/logout?redirect_uri=http://localhost:8090/page/auth/ssoLogin.xhtml&quot;) //\n            .clearAuthentication(true) //\n            .invalidateHttpSession(true) //\n            .deleteCookies(JSESSIONID) //\n            .and() //\n            .csrf().disable();\n</code></pre>\n<p>Setting the parameters for the JVM did not work. Can someone give us a hint or a working example on how to solve this problem?</p>\n<p>Version of spring boot and spring boot security 3.0.1\nVersion of spring-boot-starter-oauth2-client: 3.0.1</p>\n"},{"tags":["java","email","jakarta-mail","email-bounces"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676893478,"post_id":75506337,"comment_id":133222870,"body_markdown":"You need to **parse** the parts of the DSN with JakartaMail, instead of just printing out the stream of the message.","body":"You need to <b>parse</b> the parts of the DSN with JakartaMail, instead of just printing out the stream of the message."}],"owner":{"account_id":22310428,"reputation":55,"user_id":20916403,"display_name":"rose pauline"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676893344,"creation_date":1676877943,"question_id":75506337,"body_markdown":"How to remove the highlighted content as in below image? While reading bounced emails with java mail API.\r\n\r\n**Image(Highlighted content to be removed)**\r\n\r\n[![Image](https://i.stack.imgur.com/uKvDc.png)](https://i.stack.imgur.com/uKvDc.png)\r\n\r\n**Code**\r\n```\r\nif (message.isMimeType(&quot;multipart/report&quot;)) {\r\n\tSystem.out.println(&quot;inputstream:::&quot; + message.getInputStream());\r\n\tStringWriter writer = new StringWriter();\r\n\tIOUtils.copy(message.getInputStream(), writer);\r\n\tSystem.out.println(&quot;Content inputstream: &quot; + writer.toString());\r\n\tresult = writer.toString();\r\n\tSystem.out.println(&quot;resultlast:::&quot; + result);\r\n\t\r\n\tresult = result.replaceAll(&quot;(\\n)&quot;, &quot;&lt;br&gt;&quot;);\r\n\tSystem.out.println(&quot;result--br::&quot;+result);\r\n}\r\n```\r\n","title":"While reading bounced emails in java mail API, how to remove the highlighted content as in below image?","body":"<p>How to remove the highlighted content as in below image? While reading bounced emails with java mail API.</p>\n<p><strong>Image(Highlighted content to be removed)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uKvDc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uKvDc.png\" alt=\"Image\" /></a></p>\n<p><strong>Code</strong></p>\n<pre><code>if (message.isMimeType(&quot;multipart/report&quot;)) {\n    System.out.println(&quot;inputstream:::&quot; + message.getInputStream());\n    StringWriter writer = new StringWriter();\n    IOUtils.copy(message.getInputStream(), writer);\n    System.out.println(&quot;Content inputstream: &quot; + writer.toString());\n    result = writer.toString();\n    System.out.println(&quot;resultlast:::&quot; + result);\n    \n    result = result.replaceAll(&quot;(\\n)&quot;, &quot;&lt;br&gt;&quot;);\n    System.out.println(&quot;result--br::&quot;+result);\n}\n</code></pre>\n"},{"tags":["java","kotlin","spring-mvc","openapi-generator"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1676705329,"post_id":75486623,"comment_id":133194987,"body_markdown":"The resulting spec is not valid, it&#39;s supposed to be `type: string`. This looks like a bug in the library that generates an OpenAPI spec from the source code.","body":"The resulting spec is not valid, it&#39;s supposed to be <code>type: string</code>. This looks like a bug in the library that generates an OpenAPI spec from the source code."}],"answers":[{"tags":[],"owner":{"account_id":16344760,"reputation":105,"user_id":11804812,"display_name":"fiftyone_51"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676893318,"creation_date":1676893318,"answer_id":75508829,"question_id":75486623,"body_markdown":"The annotation based approach that I showed in my question does not seem to generate a valid OpenApi spec with `springdoc-openapi:1.6.13`. The type of the field `identifier` needs to be String, as Helen mentioned in the comments.\r\n\r\nI was able to solve the issue by creating the Schema for this particular class manually, using a `GlobalOpenApiCustomizer` Bean:\r\n\r\n```lang-kotlin\r\n@Bean\r\nfun myDtoCustomizer(): GlobalOpenApiCustomizer {\r\n    val firstEnum = StringSchema()\r\n    firstEnum.description = &quot;First Enum&quot;\r\n    MyFirstEnum.values().forEach { firstEnum.addEnumItem(it.name) }\r\n\r\n    val secondEnum = StringSchema()\r\n    secondEnum.description = &quot;Second Enum&quot;\r\n    MySecondEnum.values().forEach { secondEnum.addEnumItem(it.name) }\r\n\r\n    return GlobalOpenApiCustomizer {\r\n        it.components.schemas[MyDto::class.simpleName] = ObjectSchema()\r\n            .addProperty(\r\n                MyDto::identifier.name,\r\n                StringSchema().oneOf(\r\n                    listOf(\r\n                        firstEnum,\r\n                        secondEnum\r\n                    )\r\n                )\r\n            )\r\n            .addProperty(MyDto::someOtherField.name, StringSchema())\r\n    }\r\n}\r\n```\r\n\r\nWhich in turn produces the following Spec:\r\n\r\n```lang-json\r\n&quot;MyDto&quot;: {\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;identifier&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;oneOf&quot;: [{\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;description&quot;: &quot;First Enum&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;FirstEnumValue1&quot;,\r\n                        &quot;FirstEnumValue2&quot;,\r\n                        &quot;FirstEnumValue3&quot;\r\n                    ]\r\n                }, {\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;description&quot;: &quot;Second Enum&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;SecondEnumValue1&quot;,\r\n                        &quot;SecondEnumValue2&quot;,\r\n                        &quot;SecondEnumValue3&quot;\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        &quot;someOtherField&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n}\r\n```","title":"OpenApi specification generator - Supply values from multiple Enum classes for a String field","body":"<p>The annotation based approach that I showed in my question does not seem to generate a valid OpenApi spec with <code>springdoc-openapi:1.6.13</code>. The type of the field <code>identifier</code> needs to be String, as Helen mentioned in the comments.</p>\n<p>I was able to solve the issue by creating the Schema for this particular class manually, using a <code>GlobalOpenApiCustomizer</code> Bean:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\nfun myDtoCustomizer(): GlobalOpenApiCustomizer {\n    val firstEnum = StringSchema()\n    firstEnum.description = &quot;First Enum&quot;\n    MyFirstEnum.values().forEach { firstEnum.addEnumItem(it.name) }\n\n    val secondEnum = StringSchema()\n    secondEnum.description = &quot;Second Enum&quot;\n    MySecondEnum.values().forEach { secondEnum.addEnumItem(it.name) }\n\n    return GlobalOpenApiCustomizer {\n        it.components.schemas[MyDto::class.simpleName] = ObjectSchema()\n            .addProperty(\n                MyDto::identifier.name,\n                StringSchema().oneOf(\n                    listOf(\n                        firstEnum,\n                        secondEnum\n                    )\n                )\n            )\n            .addProperty(MyDto::someOtherField.name, StringSchema())\n    }\n}\n</code></pre>\n<p>Which in turn produces the following Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;MyDto&quot;: {\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;identifier&quot;: {\n            &quot;type&quot;: &quot;string&quot;,\n            &quot;oneOf&quot;: [{\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;description&quot;: &quot;First Enum&quot;,\n                    &quot;enum&quot;: [\n                        &quot;FirstEnumValue1&quot;,\n                        &quot;FirstEnumValue2&quot;,\n                        &quot;FirstEnumValue3&quot;\n                    ]\n                }, {\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;description&quot;: &quot;Second Enum&quot;,\n                    &quot;enum&quot;: [\n                        &quot;SecondEnumValue1&quot;,\n                        &quot;SecondEnumValue2&quot;,\n                        &quot;SecondEnumValue3&quot;\n                    ]\n                }\n            ]\n        },\n        &quot;someOtherField&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16344760,"reputation":105,"user_id":11804812,"display_name":"fiftyone_51"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676893318,"creation_date":1676649899,"question_id":75486623,"body_markdown":"I&#39;m writing a Spring Boot application in Kotlin, and I&#39;m currently struggling to generate a specification for a DTO class that has a backing field of the type `String`, which I want to then later parse into one of two enum classes in the adapter layer.\r\n\r\n\r\nI&#39;ve tried the following approach using the `oneOf` Annotation value, which seemed like it does what I want:\r\n```lang-kotlin\r\ndata class MyDto(\r\n    @Schema(\r\n        type = &quot;string&quot;,\r\n        oneOf = [MyFirstEnum::class, MySecondEnum::class]\r\n    )\r\n    val identifier: String,\r\n    val someOtherField: String\r\n) {\r\n    fun transform() { ... } // this will use the string identifier to pick the correct enum type later\r\n}\r\n```\r\n\r\n\r\nWhich results in the following OpenApi Spec:\r\n\r\n```lang-json\r\n&quot;MyDto&quot;: {\r\n    &quot;required&quot;: [\r\n        &quot;someOtherField&quot;,\r\n        &quot;identifier&quot;\r\n    ],\r\n    &quot;type&quot;: &quot;object&quot;,\r\n    &quot;properties&quot;: {\r\n        &quot;identifier&quot;: {\r\n            &quot;type&quot;: &quot;object&quot;,    // &lt;--- this should be string\r\n            &quot;oneOf&quot;: [{\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;FirstEnumValue1&quot;,\r\n                        &quot;FirstEnumValue2&quot;,\r\n                        &quot;FirstEnumValue3&quot;\r\n                    ]\r\n                }, {\r\n                    &quot;type&quot;: &quot;string&quot;,\r\n                    &quot;enum&quot;: [\r\n                        &quot;SecondEnumValue1&quot;,\r\n                        &quot;SecondEnumValue2&quot;,\r\n                        &quot;SecondEnumValue3&quot;\r\n                    ]\r\n                }\r\n            ]\r\n        },\r\n        &quot;someOtherField&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAs you can see, the enum constants are (I think) correctly inlined into the specification, but the `type` annotation on the field, which I set to `string` is bypassed, resulting in an `object` type, which I suppose is incorrect in this case.\r\n\r\nMy questions are:\r\n* Is my current code and the resulting spec valid with the `object` declaration instead of `string`?\r\n* Is there a better way to embed the enum values into the spec?\r\n\r\n**Edited to add:** I&#39;m using Spring Boot v2.7.8 in combination with `springdoc-openapi` v1.6.13 to automatically generate the OpenApi Spec.","title":"OpenApi specification generator - Supply values from multiple Enum classes for a String field","body":"<p>I'm writing a Spring Boot application in Kotlin, and I'm currently struggling to generate a specification for a DTO class that has a backing field of the type <code>String</code>, which I want to then later parse into one of two enum classes in the adapter layer.</p>\n<p>I've tried the following approach using the <code>oneOf</code> Annotation value, which seemed like it does what I want:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class MyDto(\n    @Schema(\n        type = &quot;string&quot;,\n        oneOf = [MyFirstEnum::class, MySecondEnum::class]\n    )\n    val identifier: String,\n    val someOtherField: String\n) {\n    fun transform() { ... } // this will use the string identifier to pick the correct enum type later\n}\n</code></pre>\n<p>Which results in the following OpenApi Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;MyDto&quot;: {\n    &quot;required&quot;: [\n        &quot;someOtherField&quot;,\n        &quot;identifier&quot;\n    ],\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;properties&quot;: {\n        &quot;identifier&quot;: {\n            &quot;type&quot;: &quot;object&quot;,    // &lt;--- this should be string\n            &quot;oneOf&quot;: [{\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;enum&quot;: [\n                        &quot;FirstEnumValue1&quot;,\n                        &quot;FirstEnumValue2&quot;,\n                        &quot;FirstEnumValue3&quot;\n                    ]\n                }, {\n                    &quot;type&quot;: &quot;string&quot;,\n                    &quot;enum&quot;: [\n                        &quot;SecondEnumValue1&quot;,\n                        &quot;SecondEnumValue2&quot;,\n                        &quot;SecondEnumValue3&quot;\n                    ]\n                }\n            ]\n        },\n        &quot;someOtherField&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n        }\n    }\n}\n</code></pre>\n<p>As you can see, the enum constants are (I think) correctly inlined into the specification, but the <code>type</code> annotation on the field, which I set to <code>string</code> is bypassed, resulting in an <code>object</code> type, which I suppose is incorrect in this case.</p>\n<p>My questions are:</p>\n<ul>\n<li>Is my current code and the resulting spec valid with the <code>object</code> declaration instead of <code>string</code>?</li>\n<li>Is there a better way to embed the enum values into the spec?</li>\n</ul>\n<p><strong>Edited to add:</strong> I'm using Spring Boot v2.7.8 in combination with <code>springdoc-openapi</code> v1.6.13 to automatically generate the OpenApi Spec.</p>\n"},{"tags":["java","swing","imageicon","hidpi"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676818332,"post_id":75500826,"comment_id":133209709,"body_markdown":"Try using a jlabel constructor with inageicon and setsize() and setminimumsize() and setmaximumsize() on the jlabel.","body":"Try using a jlabel constructor with inageicon and setsize() and setminimumsize() and setmaximumsize() on the jlabel."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1676819717,"post_id":75500826,"comment_id":133209950,"body_markdown":"*I have a JLabel with an icon which I do NOT want to scale* - check out: https://stackoverflow.com/a/65742492/131872 for an Icon that won&#39;t scale.","body":"<i>I have a JLabel with an icon which I do NOT want to scale</i> - check out: <a href=\"https://stackoverflow.com/a/65742492/131872\">stackoverflow.com/a/65742492/131872</a> for an Icon that won&#39;t scale."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676824644,"post_id":75500826,"comment_id":133210762,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1676892066,"post_id":75500826,"comment_id":133222521,"body_markdown":"My bad! When I initially tried with the BaseMultiResolutionImage, I was literally using _the same file_ ! I think the image files themselves need to have increase size for corresponding resolution! i.e. my 100% resolution image file is at 108x83. The image file size to use on a 175% resolution should be of 189x145. So now, the images are no longer fuzzy ;)\n\nHOWEVER, I am running into another issue where the 175% is not blurry, BUT it is not smooth.. it is kinda choppy. An antialiasing problem or something ? I&#39;ve updated question to show this...","body":"My bad! When I initially tried with the BaseMultiResolutionImage, I was literally using <i>the same file</i> ! I think the image files themselves need to have increase size for corresponding resolution! i.e. my 100% resolution image file is at 108x83. The image file size to use on a 175% resolution should be of 189x145. So now, the images are no longer fuzzy ;)  HOWEVER, I am running into another issue where the 175% is not blurry, BUT it is not smooth.. it is kinda choppy. An antialiasing problem or something ? I&#39;ve updated question to show this..."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677253874,"post_id":75500826,"comment_id":133307358,"body_markdown":"Kinda difficult to explain this but the upscaling of the image information on simple geometric shape such as that would seem ok and be a little scratchy above 150 percent. If it had been a true colour 24 bit photograph  image it would show severe quality degradation. Why not make the image (redraw new file) at the largest percent resolution and downscale in your method from the large master image.","body":"Kinda difficult to explain this but the upscaling of the image information on simple geometric shape such as that would seem ok and be a little scratchy above 150 percent. If it had been a true colour 24 bit photograph  image it would show severe quality degradation. Why not make the image (redraw new file) at the largest percent resolution and downscale in your method from the large master image."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1677254040,"post_id":75500826,"comment_id":133307405,"body_markdown":"If you are using core image package, choose resize algorithm constant field value SMOOTH","body":"If you are using core image package, choose resize algorithm constant field value SMOOTH"},{"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"score":0,"creation_date":1677320512,"post_id":75500826,"comment_id":133317270,"body_markdown":"Sorry Samuel. I don&#39;t understand... &quot;redraw new file.. and downscale from that&quot; ?? Nor do I understand the using of core image package. Either way, I&#39;ve submitted a new question on Stack that demos this problem with full working code and images: https://stackoverflow.com/questions/75564701/misunderstanding-or-usage-of-basemultiresolutionimage-upscaled-images-are-scra\n\nHope you, or someone else can shed a light on this... it&#39;s annoying me and find this problem stupid to deal with :( Thank you.","body":"Sorry Samuel. I don&#39;t understand... &quot;redraw new file.. and downscale from that&quot; ?? Nor do I understand the using of core image package. Either way, I&#39;ve submitted a new question on Stack that demos this problem with full working code and images: <a href=\"https://stackoverflow.com/questions/75564701/misunderstanding-or-usage-of-basemultiresolutionimage-upscaled-images-are-scra\" title=\"misunderstanding or usage of basemultiresolutionimage upscaled images are scra\">stackoverflow.com/questions/75564701/&hellip;</a>  Hope you, or someone else can shed a light on this... it&#39;s annoying me and find this problem stupid to deal with :( Thank you."}],"owner":{"account_id":13485616,"reputation":469,"user_id":9729513,"display_name":"Pat"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676893085,"creation_date":1676816933,"question_id":75500826,"body_markdown":"I know they are quite a few forums that kinda talks about this, but my problem is that I have a JLabel with an icon which I do NOT want to scale when resolution is &lt;&gt; 100% ! I.e. (sorry, in french):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nInitially, I set my JLabel icon with something like:\r\n\r\n```java\r\nlblImage.setIcon( getNoteIcon() );\r\n\r\n//...\r\n\r\nImageIcon getNoteIcon(){\r\n\treturn new ImageIcon( getClass().getResource(&#39;path/to/file.png&#39;) );\r\n}\r\n```\r\n\r\nThis results are that my image displays blurry when HiDPI resolution is set to higher than 100%. Examples:\r\n\r\nAt 100%:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd at 150%:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nYou can see that the music note image is fuzzier in the 150% resolution.\r\n\r\nWhat I want: I DO NOT want it to up or downscale the image! I want to keep the original size, unless I can provide different image sizes for various resolutions.\r\n\r\nThat being said, I looked and tried to use the BaseMultiResolutionImage class to deal with resolutions, passing along an array of the &quot;same size image&quot;, but I get the same results when I change the resolution. This is the code I tried :\r\n\r\n```java\r\nImageIcon getNoteIcon(){\r\n\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\t/* all images are width = 108 height = 83 */\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 100%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 125%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 150%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 175%\r\n\timgList.add(ImageIO.read(new File(&#39;path/to/file.png&#39;))); // 200%\r\n\r\n\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\r\n\treturn new ImageIcon(\r\n\t\tmultiResolutionImage\r\n\t);\r\n}\r\n```\r\n\r\nI don&#39;t understand what I&#39;m doing wrong, or if I&#39;m even using `BaseMultiResolutionImage` correctly. Finally, if I do manage say to give 3 different images for 3 resolutions, (i.e. 100, 125, 150%), is there a way to tell it the &quot;default&quot; one to use when I do not have an image for a given resolution (i.e. 200%) ? \r\n\r\nCan anyone shed a light on all of this? Seems like a lot of confusion on my end just to get an image to NOT scale in my window...\r\n\r\nMuch thanks!\r\nPat\r\n\r\n-----------\r\n***UPDATE AFTER &quot;PROPER&quot; USE OF BaseMultiResolutionImage:***\r\n\r\n```java\r\ntry {\r\n\tList&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\r\n\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_100/file.png&quot;))); // 100% - 108x83\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_125/file.png&quot;))); // 125% - 135x104\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_150/file.png&quot;))); // 150% - 162x124\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_175/file.png&quot;))); // 175% - 189x145\r\n\timgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_200/file.png&quot;))); // 200% - 216x166\r\n\r\n\tBaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\r\n\tImageIcon icon = new ImageIcon(multiResolutionImage);\r\n\r\n\treturn icon;\r\n}\r\ncatch(IOException ex){\r\n\tex.printStackTrace();\r\n\treturn null;\r\n}\r\n```\r\n\r\nOn screen font DPI set to 175% in Windows, this results in:\r\n\r\n**Before using BaseMultiResolutionImage**\r\n\r\n[![enter image description here][4]][4]\r\n\r\n**After using BaseMultiResolutionImage**\r\n\r\n[![enter image description here][5]][5]\r\n\r\nHere is a comparison of what I get (left), with the actual image file it&#39;s supposed to show on the right hand side (mind you Paint doesn&#39;t take into account background transparency):\r\n\r\n[![enter image description here][6]][6]\r\n\r\nAny ideas as to why this &quot;choppy&quot; image is showing? What am I missing ?\r\n\r\nThanks again.\r\nPat\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xD6uH.png\r\n  [2]: https://i.stack.imgur.com/PX4jw.png\r\n  [3]: https://i.stack.imgur.com/m3zKg.png\r\n  [4]: https://i.stack.imgur.com/gVDLt.png\r\n  [5]: https://i.stack.imgur.com/B8qoK.png\r\n  [6]: https://i.stack.imgur.com/qTgE3.png","title":"Swing JLabel icon: use same image for all resolutions","body":"<p>I know they are quite a few forums that kinda talks about this, but my problem is that I have a JLabel with an icon which I do NOT want to scale when resolution is &lt;&gt; 100% ! I.e. (sorry, in french):</p>\n<p><a href=\"https://i.stack.imgur.com/xD6uH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xD6uH.png\" alt=\"enter image description here\" /></a></p>\n<p>Initially, I set my JLabel icon with something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>lblImage.setIcon( getNoteIcon() );\n\n//...\n\nImageIcon getNoteIcon(){\n    return new ImageIcon( getClass().getResource('path/to/file.png') );\n}\n</code></pre>\n<p>This results are that my image displays blurry when HiDPI resolution is set to higher than 100%. Examples:</p>\n<p>At 100%:</p>\n<p><a href=\"https://i.stack.imgur.com/PX4jw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PX4jw.png\" alt=\"enter image description here\" /></a></p>\n<p>And at 150%:</p>\n<p><a href=\"https://i.stack.imgur.com/m3zKg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m3zKg.png\" alt=\"enter image description here\" /></a></p>\n<p>You can see that the music note image is fuzzier in the 150% resolution.</p>\n<p>What I want: I DO NOT want it to up or downscale the image! I want to keep the original size, unless I can provide different image sizes for various resolutions.</p>\n<p>That being said, I looked and tried to use the BaseMultiResolutionImage class to deal with resolutions, passing along an array of the &quot;same size image&quot;, but I get the same results when I change the resolution. This is the code I tried :</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImageIcon getNoteIcon(){\n    List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n    /* all images are width = 108 height = 83 */\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 100%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 125%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 150%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 175%\n    imgList.add(ImageIO.read(new File('path/to/file.png'))); // 200%\n\n    BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n\n    return new ImageIcon(\n        multiResolutionImage\n    );\n}\n</code></pre>\n<p>I don't understand what I'm doing wrong, or if I'm even using <code>BaseMultiResolutionImage</code> correctly. Finally, if I do manage say to give 3 different images for 3 resolutions, (i.e. 100, 125, 150%), is there a way to tell it the &quot;default&quot; one to use when I do not have an image for a given resolution (i.e. 200%) ?</p>\n<p>Can anyone shed a light on all of this? Seems like a lot of confusion on my end just to get an image to NOT scale in my window...</p>\n<p>Much thanks!\nPat</p>\n<hr />\n<p><em><strong>UPDATE AFTER &quot;PROPER&quot; USE OF BaseMultiResolutionImage:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    List&lt;Image&gt; imgList = new ArrayList&lt;Image&gt;();\n\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_100/file.png&quot;))); // 100% - 108x83\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_125/file.png&quot;))); // 125% - 135x104\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_150/file.png&quot;))); // 150% - 162x124\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_175/file.png&quot;))); // 175% - 189x145\n    imgList.add(ImageIO.read(getClass().getResource(&quot;images/notes/hidpi_200/file.png&quot;))); // 200% - 216x166\n\n    BaseMultiResolutionImage multiResolutionImage = new BaseMultiResolutionImage(imgList.toArray(new Image[0]));\n    ImageIcon icon = new ImageIcon(multiResolutionImage);\n\n    return icon;\n}\ncatch(IOException ex){\n    ex.printStackTrace();\n    return null;\n}\n</code></pre>\n<p>On screen font DPI set to 175% in Windows, this results in:</p>\n<p><strong>Before using BaseMultiResolutionImage</strong></p>\n<p><a href=\"https://i.stack.imgur.com/gVDLt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gVDLt.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>After using BaseMultiResolutionImage</strong></p>\n<p><a href=\"https://i.stack.imgur.com/B8qoK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B8qoK.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is a comparison of what I get (left), with the actual image file it's supposed to show on the right hand side (mind you Paint doesn't take into account background transparency):</p>\n<p><a href=\"https://i.stack.imgur.com/qTgE3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qTgE3.png\" alt=\"enter image description here\" /></a></p>\n<p>Any ideas as to why this &quot;choppy&quot; image is showing? What am I missing ?</p>\n<p>Thanks again.\nPat</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9589,"page":634,"page_size":100}
