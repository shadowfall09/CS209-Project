{"items":[{"tags":["java","threadpoolexecutor","java-threads","java-21","virtual-threads"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":2,"creation_date":1701613668,"post_id":77594577,"comment_id":136795045,"body_markdown":"What is the issue you have when creating thread pools? You can even specify a ` ThreadFactory`, which will create virtual threads for you. Please [edit] your question to include a more detailed description. Also add the source code you have already tried and what the problem is with the source code you have.","body":"What is the issue you have when creating thread pools? You can even specify a ` ThreadFactory`, which will create virtual threads for you. Please <a href=\"https://stackoverflow.com/posts/77594577/edit\">edit</a> your question to include a more detailed description. Also add the source code you have already tried and what the problem is with the source code you have."},{"owner":{"account_id":21557479,"reputation":3,"user_id":18037193,"display_name":"Shantanu Vidwans"},"score":0,"creation_date":1701613819,"post_id":77594577,"comment_id":136795058,"body_markdown":"@Progman Yeah, I Could create a ThreadFactory as pass it in but still i wont be able to limit the number of platform threads the pool can run on.","body":"@Progman Yeah, I Could create a ThreadFactory as pass it in but still i wont be able to limit the number of platform threads the pool can run on."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1701629137,"post_id":77594577,"comment_id":136796789,"body_markdown":"[Never pool virtual threads.](https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2)","body":"<a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html#GUID-C0FEE349-D998-4C9D-B032-E01D06BE55F2\" rel=\"nofollow noreferrer\">Never pool virtual threads.</a>"},{"owner":{"account_id":21557479,"reputation":3,"user_id":18037193,"display_name":"Shantanu Vidwans"},"score":0,"creation_date":1701630483,"post_id":77594577,"comment_id":136796948,"body_markdown":"@VGR I did read that, but in my case with what i want to create does make sense. My use case uses job dependent on each other (basically output of one job provides input to another in queue). I want to be able to create a ThreadPool for each job and each task in the job will be a Vthread. The jobs don&#39;t take equal amount of time per task so I should be able to provide some allocation to each job based on its requirements. This will enable me to stream jobs into one another. Now each job may use Vthread or Pthread based on the operation (I/O or compute).","body":"@VGR I did read that, but in my case with what i want to create does make sense. My use case uses job dependent on each other (basically output of one job provides input to another in queue). I want to be able to create a ThreadPool for each job and each task in the job will be a Vthread. The jobs don&#39;t take equal amount of time per task so I should be able to provide some allocation to each job based on its requirements. This will enable me to stream jobs into one another. Now each job may use Vthread or Pthread based on the operation (I/O or compute)."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1701631036,"post_id":77594577,"comment_id":136797018,"body_markdown":"Virtual threads are not designed to be reused.  Keeping a pool of them undermines how they work.  Your job should just create the virtual threads it needs as it needs them, and should not attempt to pool them.","body":"Virtual threads are not designed to be reused.  Keeping a pool of them undermines how they work.  Your job should just create the virtual threads it needs as it needs them, and should not attempt to pool them."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701632337,"post_id":77594577,"comment_id":136797141,"body_markdown":"What exactly do you mean by &quot;so I should be able to provide some allocation to each job based on its requirements&quot;?","body":"What exactly do you mean by &quot;so I should be able to provide some allocation to each job based on its requirements&quot;?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701632424,"post_id":77594577,"comment_id":136797150,"body_markdown":"I suggest you revamp your Question to explain your need and your requirement,. What prompted you to devise this pooling solution? This looks like an [XY problem](https://en.wikipedia.org/wiki/XY_problem).","body":"I suggest you revamp your Question to explain your need and your requirement,. What prompted you to devise this pooling solution? This looks like an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>."}],"answers":[{"comments":[{"owner":{"account_id":21557479,"reputation":3,"user_id":18037193,"display_name":"Shantanu Vidwans"},"score":0,"creation_date":1701651145,"post_id":77596023,"comment_id":136798715,"body_markdown":"I think your methodology make 10x more sense. Instead of running each type of task on separate pools, packing all the tasks into one serial code per unit makes more sense. This way i can easily get the benefit of virtualThreads whenever a I/O operation occurs. Time to go on with my project to create a library based on this case on maven.","body":"I think your methodology make 10x more sense. Instead of running each type of task on separate pools, packing all the tasks into one serial code per unit makes more sense. This way i can easily get the benefit of virtualThreads whenever a I/O operation occurs. Time to go on with my project to create a library based on this case on maven."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701696997,"post_id":77596023,"comment_id":136804042,"body_markdown":"@Holger I was trying to make clear how the try-with-resources works with an `AutoCloseable` executor service. I rewrote the text to be more general. Thank you for your Comment.","body":"@Holger I was trying to make clear how the try-with-resources works with an <code>AutoCloseable</code> executor service. I rewrote the text to be more general. Thank you for your Comment."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1701701706,"creation_date":1701634478,"answer_id":77596023,"question_id":77594577,"body_markdown":"[Virtual threads][1] were invented to avoid the bother you seem to be undertaking. \r\n\r\n\r\nAnd, virtual threads are explicitly documented as *not* being intended for pooling. Like [facial tissues][2], grab a fresh one, use it, and dispose. \r\n\r\nRead the Java JEP, and watch videos with Ron Pressler, Alan Bateman, etc. to understand the purpose and nature of virtual thread technology. \r\n\r\nYou said:\r\n\r\n&gt; My use case uses job dependent on each other (basically output of one job provides input to another in queue). \r\n\r\n… and:\r\n\r\n&gt; when passing in a runnable, inside the run method I could just create virtual threads \r\n\r\nTurn your thinking inside-out: Instead of creating virtual threads to run a bunch of related cascading tasks, create just one thread to do all the work in serial fashion. \r\n\r\nIf you have a series of cascading tasks, each task picking up after the previous task‘s result, then simply write wrap all that work in a single `Runnable`/`Callable`. Execute that single combined task in a single new fresh virtual thread. Let that virtual thread run to completion. \r\n\r\nLet&#39;s devise a simple demo app. We have three tasks that feed into one another, `TaskA`, `TaskB`, and `TaskC`. They are housed together as `AlphabetTask`. The result is &quot;ABC&quot;, each letter having been added by each subtask.\r\n\r\n```java\r\nclass AlphabetTask implements Callable &lt; String &gt;\r\n{\r\n    private final UUID id = UUID.randomUUID ( );\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\r\n        String a = new TaskA ( ).call ( );\r\n        String b = new TaskB ( a ).call ( );\r\n        String c = new TaskC ( b ).call ( );\r\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\r\n        return c;\r\n    }\r\n}\r\n\r\nclass TaskA implements Callable &lt; String &gt;\r\n{\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return &quot;A&quot;;\r\n    }\r\n}\r\n\r\nclass TaskB implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskB ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;B&quot;;\r\n    }\r\n}\r\n\r\nclass TaskC implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskC ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;C&quot;;\r\n    }\r\n}\r\n```\r\n\r\nWe establish three instances of *AlphabetTask*.\r\n\r\n\r\n\r\n```java\r\nCollection &lt; AlphabetTask &gt; alphabetTasks =\r\n        List.of (\r\n                new AlphabetTask ( ) ,\r\n                new AlphabetTask ( ) ,\r\n                new AlphabetTask ( )\r\n        );\r\n```\r\n\r\nWe submit all of those instances to an executor service. For each of those three `AlphabetTasks`, the executor assigns a fresh new virtual thread. Within each virtual thread, each of our subtasks are called in sequential order.\r\n\r\nNotice that we can use try-with-resources syntax to automatically close our executor service if its tasks complete in under a day. \r\n\r\n```java\r\nList &lt; Future &lt; String &gt; &gt; futures = List.of ( );\r\ntry (\r\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n)\r\n{\r\n    try\r\n    {\r\n        futures = executorService.invokeAll ( alphabetTasks );\r\n    } catch ( InterruptedException e )\r\n    {\r\n        throw new RuntimeException ( e );\r\n    }\r\n}\r\n// The try-with-resources blocks here if executor service has any uncompleted tasks.\r\nfutures.forEach ( stringFuture -&gt; {\r\n    try\r\n    {\r\n        System.out.println ( stringFuture.get ( ) );\r\n    } catch ( InterruptedException | ExecutionException e )\r\n    {\r\n        throw new RuntimeException ( e );\r\n    }\r\n} );\r\n\r\n```\r\n\r\nCaveat: Virtual threads are appropriate to tasks where the code involves blocking, such as file I/O, network I/O, database calls, waiting on a lock, etc. Do *not* use virtual threads to run CPU-bound tasks (no blocking involved). \r\n\r\nWhen run:\r\n\r\n```none\r\nStarting AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c 2023-12-03T20:30:03.442091Z\r\nStarting AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 2023-12-03T20:30:03.442091Z\r\nStarting AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b 2023-12-03T20:30:03.442091Z\r\nRunning TaskA. 2023-12-03T20:30:03.452388Z\r\nRunning TaskA. 2023-12-03T20:30:03.452392Z\r\nRunning TaskA. 2023-12-03T20:30:03.452383Z\r\nRunning TaskB. 2023-12-03T20:30:03.556780Z\r\nRunning TaskB. 2023-12-03T20:30:03.687342Z\r\nRunning TaskC. 2023-12-03T20:30:03.812744Z\r\nRunning TaskB. 2023-12-03T20:30:04.108820Z\r\nRunning TaskC. 2023-12-03T20:30:04.278596Z\r\nEnding AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b Result: ABC 2023-12-03T20:30:04.310085Z\r\nRunning TaskC. 2023-12-03T20:30:04.360861Z\r\nEnding AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c Result: ABC 2023-12-03T20:30:04.624803Z\r\nEnding AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 Result: ABC 2023-12-03T20:30:04.953132Z\r\nABC\r\nABC\r\nABC\r\n```\r\n\r\nBeware: Output on console may *not* appear in chronological order when calling `System.out.println` across threads. Include and inspect timestamps if you care about order.\r\n\r\n\r\n----------\r\n\r\nHere is all of that code for your copy-paste convenience, to be dropped into a single `.java` file.\r\n\r\n```java\r\npackage work.basil.example.threading;\r\n\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.*;\r\n\r\npublic class Subtasks\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        Subtasks app = new Subtasks ( );\r\n        app.demo ( );\r\n    }\r\n\r\n    private void demo ( )\r\n    {\r\n        Collection &lt; AlphabetTask &gt; alphabetTasks =\r\n                List.of (\r\n                        new AlphabetTask ( ) ,\r\n                        new AlphabetTask ( ) ,\r\n                        new AlphabetTask ( )\r\n                );\r\n        List &lt; Future &lt; String &gt; &gt; futures = List.of ( );\r\n        try (\r\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\r\n        )\r\n        {\r\n            try\r\n            {\r\n                futures = executorService.invokeAll ( alphabetTasks );\r\n            } catch ( InterruptedException e )\r\n            {\r\n                throw new RuntimeException ( e );\r\n            }\r\n        }\r\n        // The try-with-resources blocks here if executor service has any uncompleted tasks.\r\n        futures.forEach ( stringFuture -&gt; {\r\n            try\r\n            {\r\n                System.out.println ( stringFuture.get ( ) );\r\n            } catch ( InterruptedException | ExecutionException e )\r\n            {\r\n                throw new RuntimeException ( e );\r\n            }\r\n        } );\r\n    }\r\n}\r\n\r\nclass AlphabetTask implements Callable &lt; String &gt;\r\n{\r\n    private final UUID id = UUID.randomUUID ( );\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\r\n        String a = new TaskA ( ).call ( );\r\n        String b = new TaskB ( a ).call ( );\r\n        String c = new TaskC ( b ).call ( );\r\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\r\n        return c;\r\n    }\r\n}\r\n\r\nclass TaskA implements Callable &lt; String &gt;\r\n{\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return &quot;A&quot;;\r\n    }\r\n}\r\n\r\nclass TaskB implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskB ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;B&quot;;\r\n    }\r\n}\r\n\r\nclass TaskC implements Callable &lt; String &gt;\r\n{\r\n    private final String input;\r\n\r\n    public TaskC ( final String input )\r\n    {\r\n        this.input = input;\r\n    }\r\n\r\n    @Override\r\n    public String call ( ) throws Exception\r\n    {\r\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\r\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\r\n        return this.input + &quot;C&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/444\r\n  [2]: https://en.wikipedia.org/wiki/Facial_tissue","title":"Create separate thread Pools for a pool of Platform Threads in java","body":"<p><a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">Virtual threads</a> were invented to avoid the bother you seem to be undertaking.</p>\n<p>And, virtual threads are explicitly documented as <em>not</em> being intended for pooling. Like <a href=\"https://en.wikipedia.org/wiki/Facial_tissue\" rel=\"nofollow noreferrer\">facial tissues</a>, grab a fresh one, use it, and dispose.</p>\n<p>Read the Java JEP, and watch videos with Ron Pressler, Alan Bateman, etc. to understand the purpose and nature of virtual thread technology.</p>\n<p>You said:</p>\n<blockquote>\n<p>My use case uses job dependent on each other (basically output of one job provides input to another in queue).</p>\n</blockquote>\n<p>… and:</p>\n<blockquote>\n<p>when passing in a runnable, inside the run method I could just create virtual threads</p>\n</blockquote>\n<p>Turn your thinking inside-out: Instead of creating virtual threads to run a bunch of related cascading tasks, create just one thread to do all the work in serial fashion.</p>\n<p>If you have a series of cascading tasks, each task picking up after the previous task‘s result, then simply write wrap all that work in a single <code>Runnable</code>/<code>Callable</code>. Execute that single combined task in a single new fresh virtual thread. Let that virtual thread run to completion.</p>\n<p>Let's devise a simple demo app. We have three tasks that feed into one another, <code>TaskA</code>, <code>TaskB</code>, and <code>TaskC</code>. They are housed together as <code>AlphabetTask</code>. The result is &quot;ABC&quot;, each letter having been added by each subtask.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class AlphabetTask implements Callable &lt; String &gt;\n{\n    private final UUID id = UUID.randomUUID ( );\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\n        String a = new TaskA ( ).call ( );\n        String b = new TaskB ( a ).call ( );\n        String c = new TaskC ( b ).call ( );\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\n        return c;\n    }\n}\n\nclass TaskA implements Callable &lt; String &gt;\n{\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return &quot;A&quot;;\n    }\n}\n\nclass TaskB implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskB ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;B&quot;;\n    }\n}\n\nclass TaskC implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskC ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;C&quot;;\n    }\n}\n</code></pre>\n<p>We establish three instances of <em>AlphabetTask</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Collection &lt; AlphabetTask &gt; alphabetTasks =\n        List.of (\n                new AlphabetTask ( ) ,\n                new AlphabetTask ( ) ,\n                new AlphabetTask ( )\n        );\n</code></pre>\n<p>We submit all of those instances to an executor service. For each of those three <code>AlphabetTasks</code>, the executor assigns a fresh new virtual thread. Within each virtual thread, each of our subtasks are called in sequential order.</p>\n<p>Notice that we can use try-with-resources syntax to automatically close our executor service if its tasks complete in under a day.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List &lt; Future &lt; String &gt; &gt; futures = List.of ( );\ntry (\n        ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n)\n{\n    try\n    {\n        futures = executorService.invokeAll ( alphabetTasks );\n    } catch ( InterruptedException e )\n    {\n        throw new RuntimeException ( e );\n    }\n}\n// The try-with-resources blocks here if executor service has any uncompleted tasks.\nfutures.forEach ( stringFuture -&gt; {\n    try\n    {\n        System.out.println ( stringFuture.get ( ) );\n    } catch ( InterruptedException | ExecutionException e )\n    {\n        throw new RuntimeException ( e );\n    }\n} );\n\n</code></pre>\n<p>Caveat: Virtual threads are appropriate to tasks where the code involves blocking, such as file I/O, network I/O, database calls, waiting on a lock, etc. Do <em>not</em> use virtual threads to run CPU-bound tasks (no blocking involved).</p>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Starting AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c 2023-12-03T20:30:03.442091Z\nStarting AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 2023-12-03T20:30:03.442091Z\nStarting AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b 2023-12-03T20:30:03.442091Z\nRunning TaskA. 2023-12-03T20:30:03.452388Z\nRunning TaskA. 2023-12-03T20:30:03.452392Z\nRunning TaskA. 2023-12-03T20:30:03.452383Z\nRunning TaskB. 2023-12-03T20:30:03.556780Z\nRunning TaskB. 2023-12-03T20:30:03.687342Z\nRunning TaskC. 2023-12-03T20:30:03.812744Z\nRunning TaskB. 2023-12-03T20:30:04.108820Z\nRunning TaskC. 2023-12-03T20:30:04.278596Z\nEnding AlphabetTask 94a4d5b9-3ed9-43d4-ba66-509380fa9f8b Result: ABC 2023-12-03T20:30:04.310085Z\nRunning TaskC. 2023-12-03T20:30:04.360861Z\nEnding AlphabetTask 3a594ed1-a76e-4927-83b1-2d6bc81f566c Result: ABC 2023-12-03T20:30:04.624803Z\nEnding AlphabetTask 12743216-8e42-4be1-bfc4-1893e08e58a7 Result: ABC 2023-12-03T20:30:04.953132Z\nABC\nABC\nABC\n</code></pre>\n<p>Beware: Output on console may <em>not</em> appear in chronological order when calling <code>System.out.println</code> across threads. Include and inspect timestamps if you care about order.</p>\n<hr />\n<p>Here is all of that code for your copy-paste convenience, to be dropped into a single <code>.java</code> file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.threading;\n\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.UUID;\nimport java.util.concurrent.*;\n\npublic class Subtasks\n{\n    public static void main ( String[] args )\n    {\n        Subtasks app = new Subtasks ( );\n        app.demo ( );\n    }\n\n    private void demo ( )\n    {\n        Collection &lt; AlphabetTask &gt; alphabetTasks =\n                List.of (\n                        new AlphabetTask ( ) ,\n                        new AlphabetTask ( ) ,\n                        new AlphabetTask ( )\n                );\n        List &lt; Future &lt; String &gt; &gt; futures = List.of ( );\n        try (\n                ExecutorService executorService = Executors.newVirtualThreadPerTaskExecutor ( ) ;\n        )\n        {\n            try\n            {\n                futures = executorService.invokeAll ( alphabetTasks );\n            } catch ( InterruptedException e )\n            {\n                throw new RuntimeException ( e );\n            }\n        }\n        // The try-with-resources blocks here if executor service has any uncompleted tasks.\n        futures.forEach ( stringFuture -&gt; {\n            try\n            {\n                System.out.println ( stringFuture.get ( ) );\n            } catch ( InterruptedException | ExecutionException e )\n            {\n                throw new RuntimeException ( e );\n            }\n        } );\n    }\n}\n\nclass AlphabetTask implements Callable &lt; String &gt;\n{\n    private final UUID id = UUID.randomUUID ( );\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Starting AlphabetTask &quot; + this.id + &quot; &quot; + Instant.now ( ) );\n        String a = new TaskA ( ).call ( );\n        String b = new TaskB ( a ).call ( );\n        String c = new TaskC ( b ).call ( );\n        System.out.println ( &quot;Ending AlphabetTask &quot; + this.id + &quot; Result: &quot; + c + &quot; &quot; + Instant.now ( ) );\n        return c;\n    }\n}\n\nclass TaskA implements Callable &lt; String &gt;\n{\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskA. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return &quot;A&quot;;\n    }\n}\n\nclass TaskB implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskB ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskB. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;B&quot;;\n    }\n}\n\nclass TaskC implements Callable &lt; String &gt;\n{\n    private final String input;\n\n    public TaskC ( final String input )\n    {\n        this.input = input;\n    }\n\n    @Override\n    public String call ( ) throws Exception\n    {\n        System.out.println ( &quot;Running TaskC. &quot; + Instant.now ( ) );\n        Thread.sleep ( Duration.ofMillis ( ThreadLocalRandom.current ( ).nextInt ( 100 , 800 ) ) );\n        return this.input + &quot;C&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21557479,"reputation":3,"user_id":18037193,"display_name":"Shantanu Vidwans"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77596023,"answer_count":1,"score":0,"last_activity_date":1701701706,"creation_date":1701611546,"question_id":77594577,"body_markdown":"I want to create pool of virtual threads running on separate pool of Java Threads.\r\n\r\nHere&#39;s the architecture I am trying to create:\r\n\r\n[![architecture][1]][1]\r\n\r\nThis is to enable me to create separate pools to run batch tasks in one JVM and take benefit of virtual threads with n:m mapping for each pool. So if i have 12 cores then i can create 2 ThreadPools of 6 Threads. Each pool will only execute a specific task. Each pool will have N number of VirtualThreads. So, here the mapping would be 2 pools of {N VirtualThreads -&gt; 6 Platform Threads}.\r\n\r\nTLDR, I want to limit the number of PlatformThreads that a pool of virtual threads can run on.\r\n\r\nOne thing i could think of is, create the thread pool and when passing in a runnable, inside the run method I could just create virtual threads but the not sure how practical is it and will i be getting the pool partition that i want. Another issue with this approach is, the virtual threads will be running in just one java thread, so no N:M mapping\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rEC7i.jpg","title":"Create separate thread Pools for a pool of Platform Threads in java","body":"<p>I want to create pool of virtual threads running on separate pool of Java Threads.</p>\n<p>Here's the architecture I am trying to create:</p>\n<p><a href=\"https://i.stack.imgur.com/rEC7i.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rEC7i.jpg\" alt=\"architecture\" /></a></p>\n<p>This is to enable me to create separate pools to run batch tasks in one JVM and take benefit of virtual threads with n:m mapping for each pool. So if i have 12 cores then i can create 2 ThreadPools of 6 Threads. Each pool will only execute a specific task. Each pool will have N number of VirtualThreads. So, here the mapping would be 2 pools of {N VirtualThreads -&gt; 6 Platform Threads}.</p>\n<p>TLDR, I want to limit the number of PlatformThreads that a pool of virtual threads can run on.</p>\n<p>One thing i could think of is, create the thread pool and when passing in a runnable, inside the run method I could just create virtual threads but the not sure how practical is it and will i be getting the pool partition that i want. Another issue with this approach is, the virtual threads will be running in just one java thread, so no N:M mapping</p>\n"},{"tags":["java","string","variables"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1701248464,"post_id":77569733,"comment_id":136750889,"body_markdown":"Short answer: you can&#39;t, at least not for local variables. It&#39;s something that people are inclined to want to do when they start programming, and there is almost never a need for this. Check [this related question](https://stackoverflow.com/questions/6729605/assigning-variables-with-dynamic-names-in-java) for context. If you want to store key/value pairs, use a `HashMap`. By the way, `String x=&#39;abc&#39;;` is not valid Java.","body":"Short answer: you can&#39;t, at least not for local variables. It&#39;s something that people are inclined to want to do when they start programming, and there is almost never a need for this. Check <a href=\"https://stackoverflow.com/questions/6729605/assigning-variables-with-dynamic-names-in-java\">this related question</a> for context. If you want to store key/value pairs, use a <code>HashMap</code>. By the way, <code>String x=&#39;abc&#39;;</code> is not valid Java."},{"owner":{"account_id":28977552,"reputation":125,"user_id":22196286,"display_name":"Mark"},"score":1,"creation_date":1701249351,"post_id":77569733,"comment_id":136751052,"body_markdown":"I know i just wrote a dummy example for the sake of the question but thank u for ur clarification","body":"I know i just wrote a dummy example for the sake of the question but thank u for ur clarification"}],"answers":[{"comments":[{"owner":{"account_id":28977552,"reputation":125,"user_id":22196286,"display_name":"Mark"},"score":1,"creation_date":1701248995,"post_id":77569792,"comment_id":136750992,"body_markdown":"ok i thought there&#39;s a way for that thank u for the clarification","body":"ok i thought there&#39;s a way for that thank u for the clarification"}],"tags":[],"owner":{"account_id":25802749,"reputation":1420,"user_id":19544859,"display_name":"mikyll98"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701700360,"creation_date":1701248761,"answer_id":77569792,"question_id":77569733,"body_markdown":"You can&#39;t. When you compile a java program in java bytecode, the information about variable names are not included.\r\n\r\nFor example:\r\nFile `Main.java`\r\n```java\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] args) {\r\n\t\tString x = &quot;abc&quot;;\r\n\t\tSystem.out.println(x);\r\n\t}\r\n}\r\n```\r\n\r\ncompiled in `Main.class` (there are many more &quot;characters&quot; you cannot see):\r\n```lang-none\r\n&#202;&#254;&#186;&#190;   = \r\n      java/lang/Object &lt;init&gt; ()V  abc\t \r\n   \r\n  java/lang/System out Ljava/io/PrintStream;\r\n      java/io/PrintStream println (Ljava/lang/String;)V  Main Code LineNumberTable main ([Ljava/lang/String;)V \r\nSourceFile \tMain.java !                    *&#183; &#177;            \t       +     L&#178; \t+&#182; &#177;              \r\n       \r\n```\r\n\r\nIf you try to use a decompiler to decompile the bytecode, that&#39;s what you&#39;d get:\r\n```java\r\nimport java.io.PrintStream;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main(String[] paramArrayOfString)\r\n\t{\r\n\t\tString str = &quot;abc&quot;;\r\n\t\tSystem.out.println(str);\r\n\t}\r\n}\r\n```\r\nAs you can see, there is no information about any variable names.\r\n\r\nThe simplest reason behind this is that this information is *completely useless to the runtime*, it is only useful to programmers when they&#39;re writing code, to give a meaning of what they&#39;re coding and keep track of the business logic.","title":"how to display variable name dynamic in java","body":"<p>You can't. When you compile a java program in java bytecode, the information about variable names are not included.</p>\n<p>For example:\nFile <code>Main.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main\n{\n    public static void main(String[] args) {\n        String x = &quot;abc&quot;;\n        System.out.println(x);\n    }\n}\n</code></pre>\n<p>compiled in <code>Main.class</code> (there are many more &quot;characters&quot; you cannot see):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Êþº¾   = \n      java/lang/Object &lt;init&gt; ()V  abc   \n   \n  java/lang/System out Ljava/io/PrintStream;\n      java/io/PrintStream println (Ljava/lang/String;)V  Main Code LineNumberTable main ([Ljava/lang/String;)V \nSourceFile  Main.java !                    *· ±                    +     L²     +¶ ±              \n       \n</code></pre>\n<p>If you try to use a decompiler to decompile the bytecode, that's what you'd get:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.PrintStream;\n\npublic class Main\n{\n    public static void main(String[] paramArrayOfString)\n    {\n        String str = &quot;abc&quot;;\n        System.out.println(str);\n    }\n}\n</code></pre>\n<p>As you can see, there is no information about any variable names.</p>\n<p>The simplest reason behind this is that this information is <em>completely useless to the runtime</em>, it is only useful to programmers when they're writing code, to give a meaning of what they're coding and keep track of the business logic.</p>\n"}],"owner":{"account_id":28977552,"reputation":125,"user_id":22196286,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1701251363,"accepted_answer_id":77569792,"answer_count":1,"score":0,"last_activity_date":1701700360,"creation_date":1701248060,"question_id":77569733,"body_markdown":"i want to display only the variable name not the value\r\nlet&#39;s say\r\n```\r\nString x=&#39;abc&#39;;\r\n```\r\ni want my output to be ```x``` not```abc```\r\ndon&#39;t want to create a code like this\r\n```\r\nSystem.out.println(&#39;x&#39;)\r\n```\r\ni want dynamicaly save the variable name in another variable and display it\r\nlike if there&#39;s a built in function to do this like for example i know this function doesn&#39;t exist but lets say it exists\r\n```\r\nSystem.out.println(x.getVariableName()) //output x\r\n```\r\ni want a something like that","title":"how to display variable name dynamic in java","body":"<p>i want to display only the variable name not the value\nlet's say</p>\n<pre><code>String x='abc';\n</code></pre>\n<p>i want my output to be <code>x</code> not<code>abc</code>\ndon't want to create a code like this</p>\n<pre><code>System.out.println('x')\n</code></pre>\n<p>i want dynamicaly save the variable name in another variable and display it\nlike if there's a built in function to do this like for example i know this function doesn't exist but lets say it exists</p>\n<pre><code>System.out.println(x.getVariableName()) //output x\n</code></pre>\n<p>i want a something like that</p>\n"},{"tags":["java","jaxb","cxf-xjc-plugin"],"owner":{"account_id":1710753,"reputation":993,"user_id":1568881,"accept_rate":40,"display_name":"Aguid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701700337,"creation_date":1686058960,"question_id":76415336,"body_markdown":"cxf-xjc-plugin isn&#39;t working as expected. \r\n\r\nI am getting the following issue after a clean install in maven (java11)\r\n\r\n&gt; vendor extension bindings (jaxb:extensionBindingPrefixes) are not\r\n&gt; allowed in the strict mode. Use -extension\r\n\r\nWhat is the error cause ? \r\n\r\n\r\nhere the plugin conifugration :\r\n\r\n      &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.3.0&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;xjc&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;xsdOptions&gt;\r\n                                    &lt;xsdOption&gt;\r\n                                        &lt;xsd&gt;src/main/resources/xsd/Content.xsd&lt;/xsd&gt;\r\n                                            &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\r\n                                        &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\r\n                                    &lt;/xsdOption&gt;\r\n                                    &lt;xsdOption&gt;\r\n                                        &lt;xsd&gt;src/main/resources/xsd/e-BoxDefinitionType.xsd&lt;/xsd&gt;\r\n                                        &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\r\n                                        &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\r\n                                    &lt;/xsdOption&gt;\r\n                                &lt;/xsdOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\n\r\nHere my rules : \r\n\r\n\r\n","title":"jaxb:extensionBindingPrefixes is not working for cxf-xjc-plugin?","body":"<p>cxf-xjc-plugin isn't working as expected.</p>\n<p>I am getting the following issue after a clean install in maven (java11)</p>\n<blockquote>\n<p>vendor extension bindings (jaxb:extensionBindingPrefixes) are not\nallowed in the strict mode. Use -extension</p>\n</blockquote>\n<p>What is the error cause ?</p>\n<p>here the plugin conifugration :</p>\n<pre><code>  &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;xjc&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xsdtojava&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;xsdOptions&gt;\n                                &lt;xsdOption&gt;\n                                    &lt;xsd&gt;src/main/resources/xsd/Content.xsd&lt;/xsd&gt;\n                                        &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\n                                    &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\n                                &lt;/xsdOption&gt;\n                                &lt;xsdOption&gt;\n                                    &lt;xsd&gt;src/main/resources/xsd/e-BoxDefinitionType.xsd&lt;/xsd&gt;\n                                    &lt;bindingFile&gt;src/main/xjb/rules.xml&lt;/bindingFile&gt;\n                                    &lt;catalog&gt;src/main/resources/xsd/catalog.cat&lt;/catalog&gt;\n                                &lt;/xsdOption&gt;\n                            &lt;/xsdOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Here my rules :</p>\n"},{"tags":["java","arrays","optimization"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":6,"creation_date":1375264360,"post_id":17967114,"comment_id":26262130,"body_markdown":"What restrictions are placed on you? Can you `sort`? You can certainly improve on this O(n^3) implementation. This algorithm should be O(nln(n)) in the optimal case.","body":"What restrictions are placed on you? Can you <code>sort</code>? You can certainly improve on this O(n^3) implementation. This algorithm should be O(nln(n)) in the optimal case."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":11,"creation_date":1375264364,"post_id":17967114,"comment_id":26262131,"body_markdown":"Well yes, you&#39;ve got an O(n^3) algorithm... that doesn&#39;t sound like a good idea to me.","body":"Well yes, you&#39;ve got an O(n^3) algorithm... that doesn&#39;t sound like a good idea to me."},{"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"score":2,"creation_date":1375264371,"post_id":17967114,"comment_id":26262138,"body_markdown":"you can use `Set&lt;Integer&gt;` ?","body":"you can use <code>Set&lt;Integer&gt;</code> ?"},{"owner":{"display_name":"user1907906"},"score":11,"creation_date":1375264398,"post_id":17967114,"comment_id":26262153,"body_markdown":"You asked this in [Codereview](http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array), too. There is [an answer](http://codereview.stackexchange.com/a/29212/27897), too.","body":"You asked this in <a href=\"http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array\">Codereview</a>, too. There is <a href=\"http://codereview.stackexchange.com/a/29212/27897\">an answer</a>, too."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264524,"post_id":17967114,"comment_id":26262238,"body_markdown":"@BoristheSpider Yes, the array can be sorted.","body":"@BoristheSpider Yes, the array can be sorted."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264577,"post_id":17967114,"comment_id":26262267,"body_markdown":"@sanbhat I was asked to write my own implementation, not to use any tools.","body":"@sanbhat I was asked to write my own implementation, not to use any tools."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264637,"post_id":17967114,"comment_id":26262299,"body_markdown":"@Tichodroma I asked, but there isn&#39;t too much attention there, so I asked it here.","body":"@Tichodroma I asked, but there isn&#39;t too much attention there, so I asked it here."},{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1375264693,"post_id":17967114,"comment_id":26262345,"body_markdown":"@ashur Perhaps take a look at the answer there. It will help you.","body":"@ashur Perhaps take a look at the answer there. It will help you."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375264791,"post_id":17967114,"comment_id":26262403,"body_markdown":"What&#39;s the range of the `int`s in the arrays? If it&#39;s known and small you can do a bucket sort and remove duplicates as you go.","body":"What&#39;s the range of the <code>int</code>s in the arrays? If it&#39;s known and small you can do a bucket sort and remove duplicates as you go."},{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":0,"creation_date":1375264938,"post_id":17967114,"comment_id":26262484,"body_markdown":"@BoristheSpider values inside array doesn&#39;t matter really. But I can assume that range is between 0-1000.","body":"@BoristheSpider values inside array doesn&#39;t matter really. But I can assume that range is between 0-1000."},{"owner":{"account_id":2485637,"reputation":17240,"user_id":2164109,"display_name":"morgano"},"score":3,"creation_date":1375264958,"post_id":17967114,"comment_id":26262494,"body_markdown":"Well, you already have two answers in the [code review forum](http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array)","body":"Well, you already have two answers in the <a href=\"http://codereview.stackexchange.com/questions/29210/java-remove-duplicates-from-an-array\">code review forum</a>"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1397884651,"post_id":17967114,"comment_id":35427378,"body_markdown":"possible duplicate of [Java Remove Duplicates from an Array?](http://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array\">Java Remove Duplicates from an Array?</a>"},{"owner":{"account_id":301110,"reputation":98854,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1412316025,"post_id":17967114,"comment_id":41036681,"body_markdown":"This question appears to be off-topic because it is asking for a code review. See [What topics can I ask about here](http://stackoverflow.com/help/on-topic) in the Help Center. Perhaps [Code Review Stack Exchange](http://codereview.stackexchange.com/) would be a better place to ask.","body":"This question appears to be off-topic because it is asking for a code review. See <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here</a> in the Help Center. Perhaps <a href=\"http://codereview.stackexchange.com/\">Code Review Stack Exchange</a> would be a better place to ask."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1425591847,"post_id":17967114,"comment_id":46037814,"body_markdown":"possible duplicate of [How do I remove repeated elements from ArrayList?](http://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/203984/how-do-i-remove-repeated-elements-from-arraylist\">How do I remove repeated elements from ArrayList?</a>"},{"owner":{"account_id":3178785,"reputation":8361,"user_id":2686013,"display_name":"HaveNoDisplayName"},"score":0,"creation_date":1444117718,"post_id":17967114,"comment_id":53753605,"body_markdown":"Possible duplicate of [Algorithm: efficient way to remove duplicate integers from an array](http://stackoverflow.com/questions/1532819/algorithm-efficient-way-to-remove-duplicate-integers-from-an-array)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/1532819/algorithm-efficient-way-to-remove-duplicate-integers-from-an-array\">Algorithm: efficient way to remove duplicate integers from an array</a>"},{"owner":{"account_id":1235179,"reputation":1372,"user_id":1198898,"display_name":"human.js"},"score":0,"creation_date":1486554667,"post_id":17967114,"comment_id":71393338,"body_markdown":"code can benefit by sorting the array and then using that information to modify that array in place and getting a new end index.","body":"code can benefit by sorting the array and then using that information to modify that array in place and getting a new end index."}],"answers":[{"comments":[{"owner":{"account_id":2310149,"reputation":1275,"user_id":2028459,"accept_rate":50,"display_name":"MrD"},"score":0,"creation_date":1375265236,"post_id":17967206,"comment_id":26262659,"body_markdown":"I guess this won&#39;t maintain the order of the array. You&#39;d better use a Set-Implementation which does so.","body":"I guess this won&#39;t maintain the order of the array. You&#39;d better use a Set-Implementation which does so."}],"tags":[],"owner":{"account_id":3111948,"reputation":5565,"user_id":2633527,"accept_rate":71,"display_name":"David Xu"},"comment_count":1,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1518965992,"creation_date":1375264490,"answer_id":17967206,"question_id":17967114,"body_markdown":"    public static int[] removeDuplicates(int[] arr){\r\n    \tHashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n    \tfinal int len = arr.length;\r\n        //changed end to len\r\n        for(int i = 0; i &lt; len; i++){\r\n            set.add(arr[i]);\r\n        }\r\n    \r\n        int[] whitelist = new int[set.size()];\r\n    \tint i = 0;\r\n    \tfor (Iterator&lt;Integer&gt; it = set.iterator(); it.hasNext();) {\r\n    \t\twhitelist[i++] = it.next();\r\n    \t}\r\n        return whitelist;\r\n    }\r\n\r\nRuns in O(N) time instead of your O(N^3) time","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static int[] removeDuplicates(int[] arr){\n    HashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    final int len = arr.length;\n    //changed end to len\n    for(int i = 0; i &lt; len; i++){\n        set.add(arr[i]);\n    }\n\n    int[] whitelist = new int[set.size()];\n    int i = 0;\n    for (Iterator&lt;Integer&gt; it = set.iterator(); it.hasNext();) {\n        whitelist[i++] = it.next();\n    }\n    return whitelist;\n}\n</code></pre>\n\n<p>Runs in O(N) time instead of your O(N^3) time</p>\n"},{"comments":[{"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"score":9,"creation_date":1375264675,"post_id":17967216,"comment_id":26262329,"body_markdown":"I&#39;m supposed to write my own implementation for this exercise. But thanks anyway.","body":"I&#39;m supposed to write my own implementation for this exercise. But thanks anyway."},{"owner":{"account_id":1228802,"reputation":279,"user_id":1193815,"accept_rate":50,"display_name":"old_soul_on_the_run"},"score":19,"creation_date":1536895953,"post_id":17967216,"comment_id":91596186,"body_markdown":"OP clearly says he wants to solve without Set. Please read the question before answering.","body":"OP clearly says he wants to solve without Set. Please read the question before answering."},{"owner":{"account_id":12868583,"reputation":345,"user_id":9307901,"display_name":"Harshit Saxena"},"score":2,"creation_date":1550478840,"post_id":17967216,"comment_id":96268574,"body_markdown":"I Came here to search for a method which is easy and understandable, for me it doesn&#39;t matter whether it&#39;s set or anything. Thank you so much for this great help","body":"I Came here to search for a method which is easy and understandable, for me it doesn&#39;t matter whether it&#39;s set or anything. Thank you so much for this great help"},{"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"score":4,"creation_date":1550479682,"post_id":17967216,"comment_id":96268930,"body_markdown":"@goyalshub1509, when I answered it was not written that he wants without set, so I answered like that.","body":"@goyalshub1509, when I answered it was not written that he wants without set, so I answered like that."},{"owner":{"account_id":11407644,"reputation":843,"user_id":8362671,"accept_rate":60,"display_name":"Angad Bansode"},"score":0,"creation_date":1653106971,"post_id":17967216,"comment_id":127775924,"body_markdown":"But question itself says dont use SET collection, then why this answer here?","body":"But question itself says dont use SET collection, then why this answer here?"},{"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"score":1,"creation_date":1653134093,"post_id":17967216,"comment_id":127779971,"body_markdown":"@AngadBansode read my answer prior to your comment please.","body":"@AngadBansode read my answer prior to your comment please."}],"tags":[],"owner":{"account_id":460525,"reputation":18289,"user_id":861679,"accept_rate":68,"display_name":"Android Killer"},"comment_count":6,"down_vote_count":14,"up_vote_count":59,"is_accepted":false,"score":45,"last_activity_date":1398991632,"creation_date":1375264513,"answer_id":17967216,"question_id":17967114,"body_markdown":"you can take the help of **Set** collection\r\n\r\n    int end = arr.length;\r\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n    \r\n    for(int i = 0; i &lt; end; i++){\r\n      set.add(arr[i]);\r\n    }\r\n\r\nnow if you will iterate through this **set**, it will contain only unique values. Iterating code is like this :\r\n\r\n    Iterator it = set.iterator();\r\n    while(it.hasNext()) {\r\n      System.out.println(it.next());\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>you can take the help of <strong>Set</strong> collection</p>\n\n<pre><code>int end = arr.length;\nSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n\nfor(int i = 0; i &lt; end; i++){\n  set.add(arr[i]);\n}\n</code></pre>\n\n<p>now if you will iterate through this <strong>set</strong>, it will contain only unique values. Iterating code is like this :</p>\n\n<pre><code>Iterator it = set.iterator();\nwhile(it.hasNext()) {\n  System.out.println(it.next());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"score":0,"creation_date":1375270954,"post_id":17967261,"comment_id":26265965,"body_markdown":"bad idea... why find the max value? u need to go through all values? like i said in my comment earlier, sort it and check for the index+1 item","body":"bad idea... why find the max value? u need to go through all values? like i said in my comment earlier, sort it and check for the index+1 item"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375271760,"post_id":17967261,"comment_id":26266469,"body_markdown":"@mc_fish The OP states the range of the values. That&#39;s why I suggested two approaches. One if the range is unknown and one if the range is **known** and **small**.","body":"@mc_fish The OP states the range of the values. That&#39;s why I suggested two approaches. One if the range is unknown and one if the range is <b>known</b> and <b>small</b>."},{"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"score":0,"creation_date":1375272217,"post_id":17967261,"comment_id":26266749,"body_markdown":"yeah but he run a test at 1M? just saying","body":"yeah but he run a test at 1M? just saying"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1375272778,"post_id":17967261,"comment_id":26267094,"body_markdown":"Yes, 1M values but, to quote his comment, _assume that range is between 0-1000_. So the range is very small.","body":"Yes, 1M values but, to quote his comment, <i>assume that range is between 0-1000</i>. So the range is very small."}],"tags":[],"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1375267655,"creation_date":1375264632,"answer_id":17967261,"question_id":17967114,"body_markdown":"You need to sort your array then then loop and remove duplicates. As you cannot use other tools you need to write be code yourself.\r\n\r\nYou can easily find examples of quicksort in Java [on the internet][1] (on which this example is based).\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1};\r\n        System.out.println(Arrays.toString(original));\r\n        quicksort(original);\r\n        System.out.println(Arrays.toString(original));\r\n        final int[] unqiue = new int[original.length];\r\n        int prev = original[0];\r\n        unqiue[0] = prev;\r\n        int count = 1;\r\n        for (int i = 1; i &lt; original.length; ++i) {\r\n            if (original[i] != prev) {\r\n                unqiue[count++] = original[i];\r\n            }\r\n            prev = original[i];\r\n        }\r\n        System.out.println(Arrays.toString(unqiue));\r\n        final int[] compressed = new int[count];\r\n        System.arraycopy(unqiue, 0, compressed, 0, count);\r\n        System.out.println(Arrays.toString(compressed));\r\n    }\r\n\r\n    private static void quicksort(final int[] values) {\r\n        if (values.length == 0) {\r\n            return;\r\n        }\r\n        quicksort(values, 0, values.length - 1);\r\n    }\r\n\r\n    private static void quicksort(final int[] values, final int low, final int high) {\r\n        int i = low, j = high;\r\n        int pivot = values[low + (high - low) / 2];\r\n        while (i &lt;= j) {\r\n            while (values[i] &lt; pivot) {\r\n                i++;\r\n            }\r\n            while (values[j] &gt; pivot) {\r\n                j--;\r\n            }\r\n            if (i &lt;= j) {\r\n                swap(values, i, j);\r\n                i++;\r\n                j--;\r\n            }\r\n        }\r\n        if (low &lt; j) {\r\n            quicksort(values, low, j);\r\n        }\r\n        if (i &lt; high) {\r\n            quicksort(values, i, high);\r\n        }\r\n    }\r\n\r\n    private static void swap(final int[] values, final int i, final int j) {\r\n        final int temp = values[i];\r\n        values[i] = values[j];\r\n        values[j] = temp;\r\n    }\r\n\r\nSo the process runs in 3 steps.\r\n\r\n 1. Sort the array  - `O(nlgn)`\r\n 2. Remove duplicates - `O(n)`\r\n 3. Compact the array - `O(n)`\r\n\r\nSo this improves significantly on your `O(n^3)` approach.\r\n\r\nOutput:\r\n\r\n    [1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1]\r\n    [1, 1, 1, 2, 4, 4, 7, 8, 8, 9, 9]\r\n    [1, 2, 4, 7, 8, 9, 0, 0, 0, 0, 0]\r\n    [1, 2, 4, 7, 8, 9]\r\n\r\n**EDIT**\r\n\r\nOP states _values inside array doesn&#39;t matter really. But I can assume that range is between 0-1000_. This is a classic case where an O(n) sort can be used.\r\n\r\nWe create an array of size `range +1`, in this case `1001`. We then loop over the data and increment the values on each index corresponding to the datapoint.\r\n\r\nWe can then compact the resulting array, dropping values the have not been incremented. This makes the values unique as we ignore the count.\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000};\r\n        System.out.println(Arrays.toString(original));\r\n        final int[] buckets = new int[1001];\r\n        for (final int i : original) {\r\n            buckets[i]++;\r\n        }\r\n        final int[] unique = new int[original.length];\r\n        int count = 0;\r\n        for (int i = 0; i &lt; buckets.length; ++i) {\r\n            if (buckets[i] &gt; 0) {\r\n                unique[count++] = i;\r\n            }\r\n        }\r\n        final int[] compressed = new int[count];\r\n        System.arraycopy(unique, 0, compressed, 0, count);\r\n        System.out.println(Arrays.toString(compressed));\r\n    }\r\n\r\nOutput:\r\n\r\n    [1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000]\r\n    [1, 2, 4, 7, 8, 9, 1000]\r\n\r\n[1]:http://www.vogella.com/articles/JavaAlgorithmsQuicksort/article.html","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>You need to sort your array then then loop and remove duplicates. As you cannot use other tools you need to write be code yourself.</p>\n\n<p>You can easily find examples of quicksort in Java <a href=\"http://www.vogella.com/articles/JavaAlgorithmsQuicksort/article.html\" rel=\"nofollow\">on the internet</a> (on which this example is based).</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1};\n    System.out.println(Arrays.toString(original));\n    quicksort(original);\n    System.out.println(Arrays.toString(original));\n    final int[] unqiue = new int[original.length];\n    int prev = original[0];\n    unqiue[0] = prev;\n    int count = 1;\n    for (int i = 1; i &lt; original.length; ++i) {\n        if (original[i] != prev) {\n            unqiue[count++] = original[i];\n        }\n        prev = original[i];\n    }\n    System.out.println(Arrays.toString(unqiue));\n    final int[] compressed = new int[count];\n    System.arraycopy(unqiue, 0, compressed, 0, count);\n    System.out.println(Arrays.toString(compressed));\n}\n\nprivate static void quicksort(final int[] values) {\n    if (values.length == 0) {\n        return;\n    }\n    quicksort(values, 0, values.length - 1);\n}\n\nprivate static void quicksort(final int[] values, final int low, final int high) {\n    int i = low, j = high;\n    int pivot = values[low + (high - low) / 2];\n    while (i &lt;= j) {\n        while (values[i] &lt; pivot) {\n            i++;\n        }\n        while (values[j] &gt; pivot) {\n            j--;\n        }\n        if (i &lt;= j) {\n            swap(values, i, j);\n            i++;\n            j--;\n        }\n    }\n    if (low &lt; j) {\n        quicksort(values, low, j);\n    }\n    if (i &lt; high) {\n        quicksort(values, i, high);\n    }\n}\n\nprivate static void swap(final int[] values, final int i, final int j) {\n    final int temp = values[i];\n    values[i] = values[j];\n    values[j] = temp;\n}\n</code></pre>\n\n<p>So the process runs in 3 steps.</p>\n\n<ol>\n<li>Sort the array  - <code>O(nlgn)</code></li>\n<li>Remove duplicates - <code>O(n)</code></li>\n<li>Compact the array - <code>O(n)</code></li>\n</ol>\n\n<p>So this improves significantly on your <code>O(n^3)</code> approach.</p>\n\n<p>Output:</p>\n\n<pre><code>[1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1]\n[1, 1, 1, 2, 4, 4, 7, 8, 8, 9, 9]\n[1, 2, 4, 7, 8, 9, 0, 0, 0, 0, 0]\n[1, 2, 4, 7, 8, 9]\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>OP states <em>values inside array doesn't matter really. But I can assume that range is between 0-1000</em>. This is a classic case where an O(n) sort can be used.</p>\n\n<p>We create an array of size <code>range +1</code>, in this case <code>1001</code>. We then loop over the data and increment the values on each index corresponding to the datapoint.</p>\n\n<p>We can then compact the resulting array, dropping values the have not been incremented. This makes the values unique as we ignore the count.</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    final int[] original = new int[]{1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000};\n    System.out.println(Arrays.toString(original));\n    final int[] buckets = new int[1001];\n    for (final int i : original) {\n        buckets[i]++;\n    }\n    final int[] unique = new int[original.length];\n    int count = 0;\n    for (int i = 0; i &lt; buckets.length; ++i) {\n        if (buckets[i] &gt; 0) {\n            unique[count++] = i;\n        }\n    }\n    final int[] compressed = new int[count];\n    System.arraycopy(unique, 0, compressed, 0, count);\n    System.out.println(Arrays.toString(compressed));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1, 1, 2, 8, 9, 8, 4, 7, 4, 9, 1, 1000, 1000]\n[1, 2, 4, 7, 8, 9, 1000]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1590699,"reputation":3309,"user_id":1474069,"accept_rate":80,"display_name":"Carlitos Way"},"score":0,"creation_date":1534341154,"post_id":17967304,"comment_id":90672278,"body_markdown":"I think this is the best approach... I would also try to use a biginteger instead of array of boolean (It is more efficient in memory use, but It is a little hard to understand because you will need to do bitwise operations)","body":"I think this is the best approach... I would also try to use a biginteger instead of array of boolean (It is more efficient in memory use, but It is a little hard to understand because you will need to do bitwise operations)"}],"tags":[],"owner":{"account_id":2750348,"reputation":643,"user_id":2369893,"display_name":"DaMachk"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375264742,"creation_date":1375264742,"answer_id":17967304,"question_id":17967114,"body_markdown":"What if you create two boolean arrays: 1 for negative values and 1 for positive values and init it all on false.\r\n\r\nThen you cycle thorugh the input array and lookup in the arrays if you&#39;ve encoutered the value already.\r\nIf not, you add it to the output array and mark it as already used.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>What if you create two boolean arrays: 1 for negative values and 1 for positive values and init it all on false.</p>\n\n<p>Then you cycle thorugh the input array and lookup in the arrays if you've encoutered the value already.\nIf not, you add it to the output array and mark it as already used.</p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375265042,"creation_date":1375265042,"answer_id":17967417,"question_id":17967114,"body_markdown":"There exists many solution of this problem. \r\n\r\n1. The sort approach \r\n\r\n - You sort your array and resolve only unique items \r\n\r\n\r\n2. The set approach \r\n\r\n - You declare a HashSet where you put all item then you have only unique ones. \r\n\r\n3. You create a boolean array that represent the items all ready returned, (this depend on your data in the array). \r\n\r\n\r\nIf you deal with large amount of data i would pick the 1. solution. As you do not allocate additional memory and sorting is quite fast. For small set of data the complexity would be n^2 but for large i will be n log n.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>There exists many solution of this problem. </p>\n\n<ol>\n<li><p>The sort approach </p>\n\n<ul>\n<li>You sort your array and resolve only unique items </li>\n</ul></li>\n<li><p>The set approach </p>\n\n<ul>\n<li>You declare a HashSet where you put all item then you have only unique ones. </li>\n</ul></li>\n<li><p>You create a boolean array that represent the items all ready returned, (this depend on your data in the array). </p></li>\n</ol>\n\n<p>If you deal with large amount of data i would pick the 1. solution. As you do not allocate additional memory and sorting is quite fast. For small set of data the complexity would be n^2 but for large i will be n log n.</p>\n"},{"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375266839,"post_id":17967818,"comment_id":26263615,"body_markdown":"The code as it stands won&#39;t work because `new int[] {};` is an empty array so you will get an `ArrayIndexOutOfBoundsException`. More damming perhaps is that binary search only works on **sorted data**. You have not sorted the data. And once the data is sorted then the binary search is redundant.","body":"The code as it stands won&#39;t work because <code>new int[] {};</code> is an empty array so you will get an <code>ArrayIndexOutOfBoundsException</code>. More damming perhaps is that binary search only works on <b>sorted data</b>. You have not sorted the data. And once the data is sorted then the binary search is redundant."},{"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"score":0,"creation_date":1375270420,"post_id":17967818,"comment_id":26265670,"body_markdown":"So other that u cant read, everything&#39;s ok? there is a note on the bottom of my answer(so basically u cant read?) + the comment from ashur states that the array can be sorted...so this is spam?","body":"So other that u cant read, everything&#39;s ok? there is a note on the bottom of my answer(so basically u cant read?) + the comment from ashur states that the array can be sorted...so this is spam?"},{"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"score":0,"creation_date":1375270771,"post_id":17967818,"comment_id":26265864,"body_markdown":"ps sorted data = unique data? in what universe? the only other option would be to check the index+1 item and that is the only part of your comment that has any sense","body":"ps sorted data = unique data? in what universe? the only other option would be to check the index+1 item and that is the only part of your comment that has any sense"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375271441,"post_id":17967818,"comment_id":26266265,"body_markdown":"Sorry, I guess I misunderstood. I think you need to set the value `int[]` to `new int[arr.lenght]` as otherwise the code won&#39;t work. And you need to add that the array must be **already** sorted. All the OP said was that you _can_ sort the data not that it is already sorted. I still don&#39;t think this answer is correct. And as for sort == unqiue, that is not what I said. All I said was that if the data is sorted then you can find unique values without binary search as they are, by definition, adjacent - you therefore don&#39;t need to go looking for them.","body":"Sorry, I guess I misunderstood. I think you need to set the value <code>int[]</code> to <code>new int[arr.lenght]</code> as otherwise the code won&#39;t work. And you need to add that the array must be <b>already</b> sorted. All the OP said was that you <i>can</i> sort the data not that it is already sorted. I still don&#39;t think this answer is correct. And as for sort == unqiue, that is not what I said. All I said was that if the data is sorted then you can find unique values without binary search as they are, by definition, adjacent - you therefore don&#39;t need to go looking for them."},{"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"score":0,"creation_date":1375271616,"post_id":17967818,"comment_id":26266372,"body_markdown":"yeah your right on the binary search part, but either way the data needs to be sorted...so an index+1 would be the best idea","body":"yeah your right on the binary search part, but either way the data needs to be sorted...so an index+1 would be the best idea"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375271618,"post_id":17967818,"comment_id":26266374,"body_markdown":"So, if the array is **already** sorted then your method is over complicated and you can collapse adjacent values. If the data is **not yet sorted** then your method does not work...","body":"So, if the array is <b>already</b> sorted then your method is over complicated and you can collapse adjacent values. If the data is <b>not yet sorted</b> then your method does not work..."},{"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"score":0,"creation_date":1375271693,"post_id":17967818,"comment_id":26266421,"body_markdown":"i didn&#39;t suggest this for my method, i suggested it for the index+1 part, wait ill edit the answer","body":"i didn&#39;t suggest this for my method, i suggested it for the index+1 part, wait ill edit the answer"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375272045,"post_id":17967818,"comment_id":26266639,"body_markdown":"It&#39;s simple. There is no set of circumstances under which the code makes sense. There are two scenarios, lets call them **A** and **B**. In scenario **A** is array is passed in **sorted**. In scenario **B** the array is passed in **unsorted**. So, in **A** your code will work but it doesn&#39;t makes sense; you can more easily collapse on adjacent values. In scenario **B** your code will **not** work, you must sort the array first; in that case see **A**.","body":"It&#39;s simple. There is no set of circumstances under which the code makes sense. There are two scenarios, lets call them <b>A</b> and <b>B</b>. In scenario <b>A</b> is array is passed in <b>sorted</b>. In scenario <b>B</b> the array is passed in <b>unsorted</b>. So, in <b>A</b> your code will work but it doesn&#39;t makes sense; you can more easily collapse on adjacent values. In scenario <b>B</b> your code will <b>not</b> work, you must sort the array first; in that case see <b>A</b>."},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1375273502,"post_id":17967818,"comment_id":26267531,"body_markdown":"In your new method you return an array with loads of zeroes at the end. You should really compact the array otherwise it will be impossible to use... Your first method is still doesn&#39;t make sense so I would delete it.","body":"In your new method you return an array with loads of zeroes at the end. You should really compact the array otherwise it will be impossible to use... Your first method is still doesn&#39;t make sense so I would delete it."},{"owner":{"display_name":"user4782805"},"score":0,"creation_date":1619196053,"post_id":17967818,"comment_id":118840926,"body_markdown":"I Don&#39;t agree with @mc_fish as i wont assume a sorted array.","body":"I Don&#39;t agree with @mc_fish as i wont assume a sorted array."}],"tags":[],"owner":{"account_id":351506,"reputation":493,"user_id":688023,"accept_rate":50,"display_name":"mc_fish"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539264512,"creation_date":1375266223,"answer_id":17967818,"question_id":17967114,"body_markdown":"For a sorted Array, just check the next index:\r\n\r\n    //sorted data!\r\n    public static int[] distinct(int[] arr) {\r\n    \tint[] temp = new int[arr.length];\r\n    \r\n    \tint count = 0;\r\n    \tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\tint current = arr[i];\r\n    \r\n    \t\tif(count &gt; 0 )\r\n    \t\t\tif(temp[count - 1] == current)\r\n    \t\t\t\tcontinue;\r\n    \r\n    \t\ttemp[count] = current;\r\n    \t\tcount++;\r\n    \t}\r\n\r\n        int[] whitelist = new int[count];\r\n        System.arraycopy(temp, 0, whitelist, 0, count);\r\n    \r\n    \treturn whitelist;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>For a sorted Array, just check the next index:</p>\n\n<pre><code>//sorted data!\npublic static int[] distinct(int[] arr) {\n    int[] temp = new int[arr.length];\n\n    int count = 0;\n    for (int i = 0; i &lt; arr.length; i++) {\n        int current = arr[i];\n\n        if(count &gt; 0 )\n            if(temp[count - 1] == current)\n                continue;\n\n        temp[count] = current;\n        count++;\n    }\n\n    int[] whitelist = new int[count];\n    System.arraycopy(temp, 0, whitelist, 0, count);\n\n    return whitelist;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1134320,"reputation":537,"user_id":1119716,"accept_rate":92,"display_name":"Say No To Censorship"},"score":0,"creation_date":1428533279,"post_id":17974322,"comment_id":47207725,"body_markdown":"Your implementation is similar to Bucket Sort algorithm.","body":"Your implementation is similar to Bucket Sort algorithm."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":9,"creation_date":1429462373,"post_id":17974322,"comment_id":47598886,"body_markdown":"`== false` and `== true`? Ever heard of `!` ?","body":"<code>== false</code> and <code>== true</code>? Ever heard of <code>!</code> ?"},{"owner":{"account_id":1271867,"reputation":5803,"user_id":1227940,"accept_rate":56,"display_name":"Ankur Verma"},"score":2,"creation_date":1446804714,"post_id":17974322,"comment_id":54906659,"body_markdown":"Why == true? facepalm","body":"Why == true? facepalm"},{"owner":{"account_id":2416637,"reputation":96,"user_id":2110517,"accept_rate":50,"display_name":"Arnav Joshi"},"score":0,"creation_date":1471755687,"post_id":17974322,"comment_id":65471388,"body_markdown":"why we are creating new array with totalItems, we can save memory using same array, below is code:\n int c = 0;\n\t    for (int i = 0; i &lt; arr.length; i++) {\n\t        if (set[arr[i]]) {\n\t        \tarr[c++] = arr[i];\n\t        \tSystem.out.println(arr[i]);\n\t            set[arr[i]] = false;\n\t        }\n\t    }","body":"why we are creating new array with totalItems, we can save memory using same array, below is code:  int c = 0; \t    for (int i = 0; i &lt; arr.length; i++) { \t        if (set[arr[i]]) { \t        \tarr[c++] = arr[i]; \t        \tSystem.out.println(arr[i]); \t            set[arr[i]] = false; \t        } \t    }"}],"tags":[],"owner":{"account_id":973998,"reputation":138710,"user_id":995876,"display_name":"Esailija"},"comment_count":4,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1471529400,"creation_date":1375283849,"answer_id":17974322,"question_id":17967114,"body_markdown":"Since you can assume the range is between 0-1000 there is a very simple and efficient solution\r\n\r\n    //Throws an exception if values are not in the range of 0-1000\r\n    public static int[] removeDuplicates(int[] arr) {\r\n        boolean[] set = new boolean[1001]; //values must default to false\r\n        int totalItems = 0;\r\n        \r\n        for (int i = 0; i &lt; arr.length; ++i) {\r\n            if (!set[arr[i]]) {\r\n                set[arr[i]] = true;\r\n                totalItems++;\r\n            }\r\n        }\r\n        \r\n        int[] ret = new int[totalItems];\r\n        int c = 0;\r\n        for (int i = 0; i &lt; set.length; ++i) {\r\n            if (set[i]) {\r\n                ret[c++] = i;\r\n            }\r\n        }\r\n        return ret;\r\n    }\r\n    \r\nThis runs in linear time O(n). Caveat: the returned array is sorted so if that is illegal then this answer is invalid.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Since you can assume the range is between 0-1000 there is a very simple and efficient solution</p>\n\n<pre><code>//Throws an exception if values are not in the range of 0-1000\npublic static int[] removeDuplicates(int[] arr) {\n    boolean[] set = new boolean[1001]; //values must default to false\n    int totalItems = 0;\n\n    for (int i = 0; i &lt; arr.length; ++i) {\n        if (!set[arr[i]]) {\n            set[arr[i]] = true;\n            totalItems++;\n        }\n    }\n\n    int[] ret = new int[totalItems];\n    int c = 0;\n    for (int i = 0; i &lt; set.length; ++i) {\n        if (set[i]) {\n            ret[c++] = i;\n        }\n    }\n    return ret;\n}\n</code></pre>\n\n<p>This runs in linear time O(n). Caveat: the returned array is sorted so if that is illegal then this answer is invalid.</p>\n"},{"tags":[],"owner":{"account_id":3541763,"reputation":21,"user_id":2958646,"display_name":"Tummala srikanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1383704081,"creation_date":1383702794,"answer_id":19802629,"question_id":17967114,"body_markdown":"This is simple way to sort the elements in the array\r\n\r\n    public class DublicatesRemove {\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \r\n    \t\tBufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\tSystem.out.println(&quot;enter size of the array&quot;);\r\n    \t\tint l = Integer.parseInt(br.readLine());\r\n    \t\tint[] a = new int[l];\r\n    \t\t// insert elements in the array logic\r\n    \t\tfor (int i = 0; i &lt; l; i++) \r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;enter a element&quot;);\r\n    \t\t\tint el = Integer.parseInt(br.readLine());\r\n    \t\t\ta[i] = el;\r\n    \t\t}\r\n    \t\t// sorting elements in the array logic\r\n    \t\tfor (int i = 0; i &lt; l; i++) \r\n    \t\t{\r\n    \t\t\tfor (int j = 0; j &lt; l - 1; j++) \r\n    \t\t\t{\r\n    \t\t\t\tif (a[j] &gt; a[j + 1])\r\n    \t\t\t\t{\r\n    \t\t\t\t\tint temp = a[j];\r\n    \t\t\t\t\ta[j] = a[j + 1];\r\n    \t\t\t\t\ta[j + 1] = temp;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t// remove duplicate elements logic\r\n    \t\tint b = 0;\r\n    \t\ta[b] = a[0];\r\n    \t\tfor (int i = 1; i &lt; l; i++)\r\n    \t\t{\r\n    \t\t\tif (a[b] != a[i])\r\n    \t\t\t{\r\n    \t\t\t\tb++;\r\n    \t\t\t\ta[b]=a[i];\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;=b;i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(a[i]);\r\n    \t\t}\r\n    \r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>This is simple way to sort the elements in the array</p>\n\n<pre><code>public class DublicatesRemove {\n    public static void main(String args[]) throws Exception {\n\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        System.out.println(\"enter size of the array\");\n        int l = Integer.parseInt(br.readLine());\n        int[] a = new int[l];\n        // insert elements in the array logic\n        for (int i = 0; i &lt; l; i++) \n        {\n            System.out.println(\"enter a element\");\n            int el = Integer.parseInt(br.readLine());\n            a[i] = el;\n        }\n        // sorting elements in the array logic\n        for (int i = 0; i &lt; l; i++) \n        {\n            for (int j = 0; j &lt; l - 1; j++) \n            {\n                if (a[j] &gt; a[j + 1])\n                {\n                    int temp = a[j];\n                    a[j] = a[j + 1];\n                    a[j + 1] = temp;\n                }\n            }\n        }\n        // remove duplicate elements logic\n        int b = 0;\n        a[b] = a[0];\n        for (int i = 1; i &lt; l; i++)\n        {\n            if (a[b] != a[i])\n            {\n                b++;\n                a[b]=a[i];\n\n            }\n\n        }\n        for(int i=0;i&lt;=b;i++)\n        {\n            System.out.println(a[i]);\n        }\n\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":939794,"reputation":2423,"user_id":968064,"accept_rate":86,"display_name":"Rushdi Shams"},"score":0,"creation_date":1420732289,"post_id":24134518,"comment_id":44091962,"body_markdown":"The output of this program is : 1\n2\n3\n4\n5\n0\n0\n0\n0\n0\n0\n0\n0\n0\n0","body":"The output of this program is : 1 2 3 4 5 0 0 0 0 0 0 0 0 0 0"}],"tags":[],"owner":{"account_id":4591780,"reputation":325,"user_id":3724864,"accept_rate":48,"display_name":"Programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402383645,"creation_date":1402382573,"answer_id":24134518,"question_id":17967114,"body_markdown":"\r\n    public static void main(String args[]) {\r\n\t\tint[] intarray = {1,2,3,4,5,1,2,3,4,5,1,2,3,4,5};\r\n\t\t\r\n\t\tSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\n\t\tfor(int i : intarray) {\r\n\t\t\tset.add(i);\r\n\t\t}\r\n\t\t\r\n\t\tIterator&lt;Integer&gt; setitr = set.iterator();\r\n\t\tfor(int pos=0; pos &lt; intarray.length; pos ++) {\r\n\t\t\tif(pos &lt; set.size()) {\r\n\t\t\t\tintarray[pos] =setitr.next();\r\n\t\t\t} else {\r\n\t\t\t\tintarray[pos]= 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i: intarray)\r\n\t\tSystem.out.println(i);\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static void main(String args[]) {\n    int[] intarray = {1,2,3,4,5,1,2,3,4,5,1,2,3,4,5};\n\n    Set&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\n    for(int i : intarray) {\n        set.add(i);\n    }\n\n    Iterator&lt;Integer&gt; setitr = set.iterator();\n    for(int pos=0; pos &lt; intarray.length; pos ++) {\n        if(pos &lt; set.size()) {\n            intarray[pos] =setitr.next();\n        } else {\n            intarray[pos]= 0;\n        }\n    }\n\n    for(int i: intarray)\n    System.out.println(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1088897,"reputation":153,"user_id":1083974,"display_name":"Eagle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1402897760,"creation_date":1402897760,"answer_id":24237289,"question_id":17967114,"body_markdown":"I know this is kinda dead but I just wrote this for my own use. It&#39;s more or less the same as adding to a hashset and then pulling all the elements out of it. It should run in O(nlogn) worst case.\r\n\r\n        public static int[] removeDuplicates(int[] numbers) {\r\n        Entry[] entries = new Entry[numbers.length];\r\n        int size = 0;\r\n        for (int i = 0 ; i &lt; numbers.length ; i++) {\r\n            int nextVal = numbers[i];\r\n            int index = nextVal % entries.length;\r\n            Entry e = entries[index];\r\n            if (e == null) {\r\n                entries[index] = new Entry(nextVal);\r\n                size++;\r\n            } else {\r\n                if(e.insert(nextVal)) {\r\n                    size++;\r\n                }\r\n            }\r\n        }\r\n        int[] result = new int[size];\r\n        int index = 0;\r\n        for (int i = 0 ; i &lt; entries.length ; i++) {\r\n            Entry current = entries[i];\r\n            while (current != null) {\r\n                result[i++] = current.value;\r\n                current = current.next;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static class Entry {\r\n        int value;\r\n        Entry next;\r\n\r\n        Entry(int value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public boolean insert(int newVal) {\r\n            Entry current = this;\r\n            Entry prev = null;\r\n            while (current != null) {\r\n                if (current.value == newVal) {\r\n                    return false;\r\n                } else if(current.next != null) {\r\n                    prev = current;\r\n                    current = next;\r\n                }\r\n            }\r\n            prev.next = new Entry(value);\r\n            return true;\r\n        }\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I know this is kinda dead but I just wrote this for my own use. It's more or less the same as adding to a hashset and then pulling all the elements out of it. It should run in O(nlogn) worst case.</p>\n\n<pre><code>    public static int[] removeDuplicates(int[] numbers) {\n    Entry[] entries = new Entry[numbers.length];\n    int size = 0;\n    for (int i = 0 ; i &lt; numbers.length ; i++) {\n        int nextVal = numbers[i];\n        int index = nextVal % entries.length;\n        Entry e = entries[index];\n        if (e == null) {\n            entries[index] = new Entry(nextVal);\n            size++;\n        } else {\n            if(e.insert(nextVal)) {\n                size++;\n            }\n        }\n    }\n    int[] result = new int[size];\n    int index = 0;\n    for (int i = 0 ; i &lt; entries.length ; i++) {\n        Entry current = entries[i];\n        while (current != null) {\n            result[i++] = current.value;\n            current = current.next;\n        }\n    }\n    return result;\n}\n\npublic static class Entry {\n    int value;\n    Entry next;\n\n    Entry(int value) {\n        this.value = value;\n    }\n\n    public boolean insert(int newVal) {\n        Entry current = this;\n        Entry prev = null;\n        while (current != null) {\n            if (current.value == newVal) {\n                return false;\n            } else if(current.next != null) {\n                prev = current;\n                current = next;\n            }\n        }\n        prev.next = new Entry(value);\n        return true;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1793733,"reputation":1212,"user_id":1633618,"accept_rate":68,"display_name":"Bmo"},"score":10,"creation_date":1403096722,"post_id":24285962,"comment_id":37526391,"body_markdown":"Answers like these are much more helpful to the community if you explain a bit about what you&#39;ve done.","body":"Answers like these are much more helpful to the community if you explain a bit about what you&#39;ve done."},{"owner":{"account_id":5960042,"reputation":2613,"user_id":4685486,"accept_rate":100,"display_name":"Anatolii Stepaniuk"},"score":0,"creation_date":1502261591,"post_id":24285962,"comment_id":78125935,"body_markdown":"Efficient removal of duplicates but not efficient sorting :-)","body":"Efficient removal of duplicates but not efficient sorting :-)"}],"tags":[],"owner":{"account_id":4629673,"reputation":134,"user_id":3752541,"display_name":"user3752541"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1483764943,"creation_date":1403095491,"answer_id":24285962,"question_id":17967114,"body_markdown":"    class Demo \r\n    {\r\n        public static void main(String[] args) \r\n\t    {\r\n\t\t    int a[]={3,2,1,4,2,1};\r\n\t\t    System.out.print(&quot;Before Sorting:&quot;);\r\n\t\t    for (int i=0;i&lt;a.length; i++ )\r\n\t\t    {\r\n\t\t    \tSystem.out.print(a[i]+&quot;\\t&quot;);\r\n\t    \t}\r\n            System.out.print (&quot;\\nAfter Sorting:&quot;);\r\n\t\t    //sorting the elements\r\n\t\t    for(int i=0;i&lt;a.length;i++)\r\n\t\t    {\r\n\t\t\t    for(int j=i;j&lt;a.length;j++)\r\n\t\t\t    {\r\n\t\t\t\t    if(a[i]&gt;a[j])\r\n\t\t\t\t    {\r\n\t\t\t\t        int temp=a[i];\r\n\t\t\t\t        a[i]=a[j];\r\n\t\t\t\t        a[j]=temp;\r\n\t\t\t\t    }\r\n\r\n\t\t\t    }\r\n\t\t    }\r\n\r\n\t\t    //After sorting\r\n\t\t    for(int i=0;i&lt;a.length;i++)\r\n\t\t    {\r\n\t\t\t    System.out.print(a[i]+&quot;\\t&quot;);\r\n\t\t    }\r\n            System.out.print(&quot;\\nAfter removing duplicates:&quot;);\r\n\t\t    int b=0;\r\n\t\t    a[b]=a[0];\r\n\t\t    for(int i=0;i&lt;a.length;i++)\r\n\t\t    {\r\n\t\t\t    if (a[b]!=a[i])\r\n\t\t\t    {\r\n\t\t\t\t    b++;\r\n\t\t\t\t    a[b]=a[i];\r\n\t\t\t    }\r\n\t\t    }\r\n\t        for (int i=0;i&lt;=b;i++ )\r\n\t        {\r\n\t\t        System.out.print(a[i]+&quot;\\t&quot;);\r\n\t        }\r\n\t    }\r\n    }\r\n      OUTPUT:Before Sortng:3 2 1 4 2 1 After Sorting:1 1 2 2 3 4 \r\n                    Removing Duplicates:1 2 3 4\r\n\r\n    \r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>class Demo \n{\n    public static void main(String[] args) \n    {\n        int a[]={3,2,1,4,2,1};\n        System.out.print(\"Before Sorting:\");\n        for (int i=0;i&lt;a.length; i++ )\n        {\n            System.out.print(a[i]+\"\\t\");\n        }\n        System.out.print (\"\\nAfter Sorting:\");\n        //sorting the elements\n        for(int i=0;i&lt;a.length;i++)\n        {\n            for(int j=i;j&lt;a.length;j++)\n            {\n                if(a[i]&gt;a[j])\n                {\n                    int temp=a[i];\n                    a[i]=a[j];\n                    a[j]=temp;\n                }\n\n            }\n        }\n\n        //After sorting\n        for(int i=0;i&lt;a.length;i++)\n        {\n            System.out.print(a[i]+\"\\t\");\n        }\n        System.out.print(\"\\nAfter removing duplicates:\");\n        int b=0;\n        a[b]=a[0];\n        for(int i=0;i&lt;a.length;i++)\n        {\n            if (a[b]!=a[i])\n            {\n                b++;\n                a[b]=a[i];\n            }\n        }\n        for (int i=0;i&lt;=b;i++ )\n        {\n            System.out.print(a[i]+\"\\t\");\n        }\n    }\n}\n  OUTPUT:Before Sortng:3 2 1 4 2 1 After Sorting:1 1 2 2 3 4 \n                Removing Duplicates:1 2 3 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4333163,"reputation":1683,"user_id":3538065,"accept_rate":44,"display_name":"driftking9987"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1407168993,"creation_date":1407168993,"answer_id":25123107,"question_id":17967114,"body_markdown":"    int tempvar=0; //Variable for the final array without any duplicates\r\n    \t int whilecount=0;    //variable for while loop\r\n    \t while(whilecount&lt;(nsprtable*2)-1) //nsprtable can be any number\r\n    \t {\r\n    //to check whether the next value is idential in case of sorted array\t\t\r\n    if(temparray[whilecount]!=temparray[whilecount+1])\r\n    \t\t{\r\n    \t\t\tfinalarray[tempvar]=temparray[whilecount];\r\n    \t\t\ttempvar++;\r\n    \t\t\twhilecount=whilecount+1;\r\n    \t\t}\r\n    \t\telse if (temparray[whilecount]==temparray[whilecount+1])\r\n    \t\t{\r\n    \t\t\tfinalarray[tempvar]=temparray[whilecount];\r\n    \t\t\ttempvar++;\r\n    \t\t\twhilecount=whilecount+2;\r\n    \t\t}\r\n    \t }\r\n\r\nHope this helps or solves the purpose.","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>int tempvar=0; //Variable for the final array without any duplicates\n     int whilecount=0;    //variable for while loop\n     while(whilecount&lt;(nsprtable*2)-1) //nsprtable can be any number\n     {\n//to check whether the next value is idential in case of sorted array       \nif(temparray[whilecount]!=temparray[whilecount+1])\n        {\n            finalarray[tempvar]=temparray[whilecount];\n            tempvar++;\n            whilecount=whilecount+1;\n        }\n        else if (temparray[whilecount]==temparray[whilecount+1])\n        {\n            finalarray[tempvar]=temparray[whilecount];\n            tempvar++;\n            whilecount=whilecount+2;\n        }\n     }\n</code></pre>\n\n<p>Hope this helps or solves the purpose.</p>\n"},{"comments":[{"owner":{"account_id":1134320,"reputation":537,"user_id":1119716,"accept_rate":92,"display_name":"Say No To Censorship"},"score":25,"creation_date":1428532967,"post_id":25148131,"comment_id":47207631,"body_markdown":"you are assuming the array is sorted so it will fail if the array has duplicates at random places or is unsorted.","body":"you are assuming the array is sorted so it will fail if the array has duplicates at random places or is unsorted."},{"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"score":4,"creation_date":1472044857,"post_id":25148131,"comment_id":65594529,"body_markdown":"@kick Butowski well if array is sorted it can be done much simpler with XOR operation .see mine answer","body":"@kick Butowski well if array is sorted it can be done much simpler with XOR operation .see mine answer"},{"owner":{"account_id":1142179,"reputation":2647,"user_id":1125743,"accept_rate":35,"display_name":"K.K"},"score":0,"creation_date":1495664801,"post_id":25148131,"comment_id":75354747,"body_markdown":"assumes array is sorted","body":"assumes array is sorted"},{"owner":{"account_id":17609750,"reputation":153,"user_id":12778051,"display_name":"prajun7"},"score":0,"creation_date":1670422833,"post_id":25148131,"comment_id":131873090,"body_markdown":"Nice algorithm to remove duplicate elements for the sorted array.","body":"Nice algorithm to remove duplicate elements for the sorted array."}],"tags":[],"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"comment_count":4,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1532985397,"creation_date":1407272092,"answer_id":25148131,"question_id":17967114,"body_markdown":"**Note: I am assuming the array is sorted.**\r\n\r\nCode:\r\n\r\n    int[] input = new int[]{1, 1, 3, 7, 7, 8, 9, 9, 9, 10};\r\n    int current = input[0];\r\n    boolean found = false;\r\n\r\n    for (int i = 0; i &lt; input.length; i++) {\r\n        if (current == input[i] &amp;&amp; !found) {\r\n            found = true;\r\n        } else if (current != input[i]) {\r\n            System.out.print(&quot; &quot; + current);\r\n            current = input[i];\r\n            found = false;\r\n        }\r\n    }\r\n    System.out.print(&quot; &quot; + current);\r\n\r\noutput:\r\n\r\n      1 3 7 8 9 10\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p><strong>Note: I am assuming the array is sorted.</strong></p>\n\n<p>Code:</p>\n\n<pre><code>int[] input = new int[]{1, 1, 3, 7, 7, 8, 9, 9, 9, 10};\nint current = input[0];\nboolean found = false;\n\nfor (int i = 0; i &lt; input.length; i++) {\n    if (current == input[i] &amp;&amp; !found) {\n        found = true;\n    } else if (current != input[i]) {\n        System.out.print(\" \" + current);\n        current = input[i];\n        found = false;\n    }\n}\nSystem.out.print(\" \" + current);\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>  1 3 7 8 9 10\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3222017"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413348940,"creation_date":1413348940,"answer_id":26374737,"question_id":17967114,"body_markdown":"    package com.pari.practice;\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Iterator;\r\n\r\n    import com.pari.sort.Sort;\r\n\r\n    public class RemoveDuplicates {\r\n\t\r\n\t /**\r\n\t * brute force- o(N square)\r\n\t * \r\n\t * @param input\r\n\t * @return\r\n\t */\r\n\tpublic static int[] removeDups(int[] input){\r\n\t\tboolean[] isSame = new boolean[input.length];\r\n\t\tint sameNums = 0;\r\n\t\t\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tfor( int j = i+1; j &lt; input.length; j++){\r\n\t\t\t\tif( input[j] == input[i] ){ //compare same\r\n\t\t\t\t\tisSame[j] = true;\r\n\t\t\t\t\tsameNums++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t//compact the array into the result.\r\n\t\tint[] result = new int[input.length-sameNums];\r\n\t\tint count = 0;\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tif( isSame[i] == true) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tresult[count] = input[i];\r\n\t\t\t\tcount++;\r\n \t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\t/**\r\n\t * set - o(N)\r\n\t * does not guarantee order of elements returned - set property\r\n\t * \r\n\t * @param input\r\n\t * @return\r\n\t */\r\n\tpublic static int[] removeDups1(int[] input){\r\n\t\tHashSet myset = new HashSet();\r\n\t\t\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tmyset.add(input[i]);\r\n\t\t}\r\n\t\t\r\n\t\t//compact the array into the result.\r\n\t\tint[] result = new int[myset.size()];\r\n\t\tIterator setitr = myset.iterator();\r\n\t\tint count = 0;\r\n\t\twhile( setitr.hasNext() ){\r\n\t\t\tresult[count] = (int) setitr.next();\r\n\t\t\tcount++;\r\n\t\t}\r\n\t\t\r\n  \treturn result;\r\n\t}\r\n\t\r\n\t/**\r\n\t * quicksort - o(Nlogn)\r\n\t * \r\n\t * @param input\r\n\t * @return\r\n\t */\r\n\tpublic static int[] removeDups2(int[] input){\r\n\t\tSort st = new Sort();\r\n\t\tst.quickSort(input, 0, input.length-1); //input is sorted\r\n\t\t\r\n\t\t//compact the array into the result.\r\n\t\tint[] intermediateResult = new int[input.length];\r\n\t\tint count = 0;\r\n\t\tint prev = Integer.MIN_VALUE;\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tif( input[i] != prev ){\r\n\t\t\t\tintermediateResult[count] = input[i];\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tprev = input[i];\r\n\t\t}\r\n\t\t\r\n\t\tint[] result = new int[count];\r\n\t\tSystem.arraycopy(intermediateResult, 0, result, 0, count);\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void printArray(int[] input){\r\n\t\tfor( int i = 0; i &lt; input.length; i++ ){\r\n\t\t\tSystem.out.print(input[i] + &quot; &quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tint[] input = {5,6,8,0,1,2,5,9,11,0};\r\n\t\tRemoveDuplicates.printArray(RemoveDuplicates.removeDups(input));\r\n\t\tSystem.out.println();\r\n\t\tRemoveDuplicates.printArray(RemoveDuplicates.removeDups1(input));\r\n\t\tSystem.out.println();\r\n\t\tRemoveDuplicates.printArray(RemoveDuplicates.removeDups2(input));\r\n\t}\r\n    }\r\n\r\n\r\n\r\nOutput:\r\n5 6 8 0 1 2 9 11 \r\n\r\n0 1 2 5 6 8 9 11 \r\n\r\n0 1 2 5 6 8 9 11 \r\n\r\nI have just written the above code for trying out. thanks.","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>package com.pari.practice;\n\nimport java.util.HashSet;\nimport java.util.Iterator;\n\nimport com.pari.sort.Sort;\n\npublic class RemoveDuplicates {\n\n /**\n * brute force- o(N square)\n * \n * @param input\n * @return\n */\npublic static int[] removeDups(int[] input){\n    boolean[] isSame = new boolean[input.length];\n    int sameNums = 0;\n\n    for( int i = 0; i &lt; input.length; i++ ){\n        for( int j = i+1; j &lt; input.length; j++){\n            if( input[j] == input[i] ){ //compare same\n                isSame[j] = true;\n                sameNums++;\n            }\n        }\n    }\n\n    //compact the array into the result.\n    int[] result = new int[input.length-sameNums];\n    int count = 0;\n    for( int i = 0; i &lt; input.length; i++ ){\n        if( isSame[i] == true) {\n            continue;\n        }\n        else{\n            result[count] = input[i];\n            count++;\n        }\n    }\n\n    return result;\n}\n\n/**\n * set - o(N)\n * does not guarantee order of elements returned - set property\n * \n * @param input\n * @return\n */\npublic static int[] removeDups1(int[] input){\n    HashSet myset = new HashSet();\n\n    for( int i = 0; i &lt; input.length; i++ ){\n        myset.add(input[i]);\n    }\n\n    //compact the array into the result.\n    int[] result = new int[myset.size()];\n    Iterator setitr = myset.iterator();\n    int count = 0;\n    while( setitr.hasNext() ){\n        result[count] = (int) setitr.next();\n        count++;\n    }\n\nreturn result;\n}\n\n/**\n * quicksort - o(Nlogn)\n * \n * @param input\n * @return\n */\npublic static int[] removeDups2(int[] input){\n    Sort st = new Sort();\n    st.quickSort(input, 0, input.length-1); //input is sorted\n\n    //compact the array into the result.\n    int[] intermediateResult = new int[input.length];\n    int count = 0;\n    int prev = Integer.MIN_VALUE;\n    for( int i = 0; i &lt; input.length; i++ ){\n        if( input[i] != prev ){\n            intermediateResult[count] = input[i];\n            count++;\n        }\n        prev = input[i];\n    }\n\n    int[] result = new int[count];\n    System.arraycopy(intermediateResult, 0, result, 0, count);\n\n    return result;\n}\n\n\npublic static void printArray(int[] input){\n    for( int i = 0; i &lt; input.length; i++ ){\n        System.out.print(input[i] + \" \");\n    }\n}\n\npublic static void main(String[] args){\n    int[] input = {5,6,8,0,1,2,5,9,11,0};\n    RemoveDuplicates.printArray(RemoveDuplicates.removeDups(input));\n    System.out.println();\n    RemoveDuplicates.printArray(RemoveDuplicates.removeDups1(input));\n    System.out.println();\n    RemoveDuplicates.printArray(RemoveDuplicates.removeDups2(input));\n}\n}\n</code></pre>\n\n<p>Output:\n5 6 8 0 1 2 9 11 </p>\n\n<p>0 1 2 5 6 8 9 11 </p>\n\n<p>0 1 2 5 6 8 9 11 </p>\n\n<p>I have just written the above code for trying out. thanks.</p>\n"},{"tags":[],"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1429031864,"creation_date":1429031864,"answer_id":29633545,"question_id":17967114,"body_markdown":"Slight modification to the original code itself, by removing the innermost for loop.\r\n\r\n\tpublic static int[] removeDuplicates(int[] arr){\r\n\t\tint end = arr.length;\r\n\r\n\t    for (int i = 0; i &lt; end; i++) {\r\n\t        for (int j = i + 1; j &lt; end; j++) {\r\n\t            if (arr[i] == arr[j]) {                  \r\n\t            \t/*int shiftLeft = j;\r\n\t                for (int k = j+1; k &lt; end; k++, shiftLeft++) {\r\n\t                    arr[shiftLeft] = arr[k];\r\n\t                }*/\r\n\t            \tarr[j] = arr[end-1];\r\n\t                end--;\r\n\t                j--;\r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t    int[] whitelist = new int[end];\r\n\t    /*for(int i = 0; i &lt; end; i++){\r\n\t        whitelist[i] = arr[i];\r\n\t    }*/\r\n\t    System.arraycopy(arr, 0, whitelist, 0, end);\r\n\t    return whitelist;\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Slight modification to the original code itself, by removing the innermost for loop.</p>\n\n<pre><code>public static int[] removeDuplicates(int[] arr){\n    int end = arr.length;\n\n    for (int i = 0; i &lt; end; i++) {\n        for (int j = i + 1; j &lt; end; j++) {\n            if (arr[i] == arr[j]) {                  \n                /*int shiftLeft = j;\n                for (int k = j+1; k &lt; end; k++, shiftLeft++) {\n                    arr[shiftLeft] = arr[k];\n                }*/\n                arr[j] = arr[end-1];\n                end--;\n                j--;\n            }\n        }\n    }\n\n    int[] whitelist = new int[end];\n    /*for(int i = 0; i &lt; end; i++){\n        whitelist[i] = arr[i];\n    }*/\n    System.arraycopy(arr, 0, whitelist, 0, end);\n    return whitelist;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6307018,"reputation":1,"user_id":4916184,"display_name":"JavDev"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1436332503,"creation_date":1436332503,"answer_id":31283992,"question_id":17967114,"body_markdown":"    public class RemoveDuplicates {\r\n\tpublic Integer[] returnUniqueNumbers(Integer[] original,\r\n\t\t\tInteger[] uniqueNumbers) {\r\n\t\tint k = 0;\t\r\n\t\t\r\n\t\tfor (int j =  original.length - 1; j &gt;= 0; j--) {\r\n\t\t\tboolean present = false;\r\n\t\t\tfor (Integer u : uniqueNumbers) {\r\n\t\t\t\tif (u != null){\r\n\t\t\t\tif(u.equals(original[j])) {\r\n\t\t\t\t\tpresent = true;\r\n\t\t\t\t}}\r\n\t\t\t}\r\n\t\t\tif (present == false) {\r\n\t\t\t\tuniqueNumbers[k] = original[j];\r\n\t\t\t\tk++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn uniqueNumbers;\r\n\t}\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tRemoveDuplicates removeDup = new RemoveDuplicates();\r\n\t\tInteger[] original = { 10, 20, 40, 30, 50, 40, 30, 20, 10, 50, 50, 50,20,30,10,40 };\r\n\t\tInteger[] finalValue = new Integer[original.length + 1];\r\n\r\n\t\t// method to return unique values\r\n\t\tInteger[] unique = removeDup.returnUniqueNumbers(original, finalValue);\r\n\r\n\t\t// iterate to return unique values\r\n\t\tfor (Integer u : unique) {\r\n\t\t\tif (u != null) {\r\n\t\t\t\tSystem.out.println(&quot;unique value : &quot; + u);\r\n\t\t\t}\r\n\t\t}\r\n\t}}\r\n\r\nThis code handles unsorted array containing multiple duplicates for same value and returns unique elements.","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public class RemoveDuplicates {\npublic Integer[] returnUniqueNumbers(Integer[] original,\n        Integer[] uniqueNumbers) {\n    int k = 0;  \n\n    for (int j =  original.length - 1; j &gt;= 0; j--) {\n        boolean present = false;\n        for (Integer u : uniqueNumbers) {\n            if (u != null){\n            if(u.equals(original[j])) {\n                present = true;\n            }}\n        }\n        if (present == false) {\n            uniqueNumbers[k] = original[j];\n            k++;\n        }\n    }\n    return uniqueNumbers;\n}\n\npublic static void main(String args[]) {\n    RemoveDuplicates removeDup = new RemoveDuplicates();\n    Integer[] original = { 10, 20, 40, 30, 50, 40, 30, 20, 10, 50, 50, 50,20,30,10,40 };\n    Integer[] finalValue = new Integer[original.length + 1];\n\n    // method to return unique values\n    Integer[] unique = removeDup.returnUniqueNumbers(original, finalValue);\n\n    // iterate to return unique values\n    for (Integer u : unique) {\n        if (u != null) {\n            System.out.println(\"unique value : \" + u);\n        }\n    }\n}}\n</code></pre>\n\n<p>This code handles unsorted array containing multiple duplicates for same value and returns unique elements.</p>\n"},{"tags":[],"owner":{"account_id":2461576,"reputation":1,"user_id":2145636,"display_name":"Raj Asthana"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1437258466,"creation_date":1437258466,"answer_id":31496173,"question_id":17967114,"body_markdown":"I have done using sample as 12 elements, \r\n\r\n\r\npublic class Remdup_arr {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint a[] = {1,1,2,3,4,4,5,6,7,8,6,8};\r\n\t\tfor(int p : a)\r\n\t\t{\r\n\t\t\tSystem.out.print(p);\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tremdup(a);\r\n\t\t\r\n\t}\r\n\r\n\tprivate static void remdup(int[] a) {\r\n\t\t\r\n\t\tint length = a.length;\r\n\t\tint b[] = new int[11];\r\n\t\tint d = 1;\r\n\t\tb[0]=a[0];\r\n\t\twhile(length&lt;13 &amp;&amp; length&gt;0)\r\n\t\t{\r\n\t\t\tint x = a[length-1];\r\n\t\t\tif(!(contain(b , x)))\r\n\t\t\t\t{b[d] = a[length-1];\r\n\t\t\t\td++;}\r\n\t\t\tlength--;\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tfor( int z = 0;z&lt;b.length;z++){\r\n\t\t\tSystem.out.print(b[z]);\r\n\t\t    System.out.print(&quot;\\t&quot;);}\r\n\t\t\r\n\t}\r\n\t\r\n\tprivate static boolean contain(int[] b ,int p) {\r\n\t\t\r\n\t\tboolean bool = false;\r\n\t\tint len = b.length;\r\n\t\tfor(int i = 0;i&lt;len;i++)\r\n\t\t{\r\n\t\t\tif(p == b[i])\r\n\t\t\t\tbool = true;\r\n\t\t}\r\n\t\t\t\r\n\t    \t\t\r\n\t\t\t\r\n\t\treturn bool;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n\t\r\n\r\noutput is :-\r\n1\t1\t2\t3\t4\t4\t5\t6\t7\t8\t6\t8\t\r\n\r\n1\t8\t6\t7\t5\t4\t3\t2\t0\t0\t0\t","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I have done using sample as 12 elements, </p>\n\n<p>public class Remdup_arr {</p>\n\n<pre><code>public static void main(String[] args) {\n\n    int a[] = {1,1,2,3,4,4,5,6,7,8,6,8};\n    for(int p : a)\n    {\n        System.out.print(p);\n        System.out.print(\"\\t\");\n    }\n\n    System.out.println();\n    System.out.println();\n\n    remdup(a);\n\n}\n\nprivate static void remdup(int[] a) {\n\n    int length = a.length;\n    int b[] = new int[11];\n    int d = 1;\n    b[0]=a[0];\n    while(length&lt;13 &amp;&amp; length&gt;0)\n    {\n        int x = a[length-1];\n        if(!(contain(b , x)))\n            {b[d] = a[length-1];\n            d++;}\n        length--;\n\n\n    }\n\n    for( int z = 0;z&lt;b.length;z++){\n        System.out.print(b[z]);\n        System.out.print(\"\\t\");}\n\n}\n\nprivate static boolean contain(int[] b ,int p) {\n\n    boolean bool = false;\n    int len = b.length;\n    for(int i = 0;i&lt;len;i++)\n    {\n        if(p == b[i])\n            bool = true;\n    }\n\n\n\n    return bool;\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>output is :-\n1   1   2   3   4   4   5   6   7   8   6   8   </p>\n\n<p>1   8   6   7   5   4   3   2   0   0   0   </p>\n"},{"tags":[],"owner":{"account_id":6832217,"reputation":21,"user_id":5255742,"display_name":"Deepanjan Das"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1440394152,"creation_date":1440270606,"answer_id":32159808,"question_id":17967114,"body_markdown":"Use the ArrayUtil class as you need. I have written some methods other than removing duplicates. This class is implemented without using any Collection framework classes.\r\n\r\n    public class ArrayUtils {\r\n\t/**\r\n\t * Removes all duplicate elements from an array. \r\n\t * @param arr Array from which duplicate elements are to be removed.\r\n\t * @param removeAllDuplicates true if remove all duplicate values, false otherwise \r\n\t * @return Array of unique elements.\r\n\t */\r\n\tpublic static int[] removeDuplicate(int[] arr, boolean removeAllDuplicates)         {\r\n\t\tint size = arr.length;\r\n\r\n\t\tfor (int i = 0; i &lt; size;) {\r\n\t\t\tboolean flag = false;\r\n\r\n\t\t\tfor (int j = i + 1; j &lt; size;) {\r\n\t\t\t\tif (arr[i] == arr[j]) {\r\n\t\t\t\t\tflag = true;\r\n\t\t\t\t\tshrinkArray(arr, j, size);\r\n\t\t\t\t\tsize--;\r\n\t\t\t\t} else\r\n\t\t\t\t\tj++;\r\n\t\t\t}\r\n\r\n\t\t\tif (flag &amp;&amp; removeAllDuplicates) {\r\n\t\t\t\tshrinkArray(arr, i, size);\r\n\t\t\t\tsize--;\r\n\t\t\t} else\r\n\t\t\t\ti++;\r\n\t\t}\r\n\r\n\t\tint unique[] = new int[size];\r\n\t\tfor (int i = 0; i &lt; size; i++)\r\n\t\t\tunique[i] = arr[i];\r\n\r\n\t\treturn unique;\r\n\t}\r\n\r\n\t/**\r\n\t * Removes duplicate elements from an array. \r\n\t * @param arr Array from which duplicate elements are to be removed.\r\n\t * @return Array of unique elements.\r\n\t */\r\n\tpublic static int[] removeDuplicate(int[] arr) {\r\n\t\treturn removeDuplicate(arr, false);\r\n\t}\r\n\t\r\n\t\r\n\tprivate static void shrinkArray(int[] arr, int pos, int size) {\r\n\t\tfor (int i = pos; i &lt; size - 1; i++) {\r\n\t\t\tarr[i] = arr[i + 1];\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Displays the array.\r\n\t * @param arr The array to be displayed.\r\n\t */\r\n\tpublic static void displayArray(int arr[]) {\r\n\t\tSystem.out.println(&quot;\\n\\nThe Array Is:-\\n&quot;);\r\n\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tSystem.out.print(arr[i] + &quot;\\t&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Initializes the array with a given value.\r\n\t * @param arr The array to be initialized.\r\n\t * @param withValue The value with which the array is to be initialized.\r\n\t */\r\n\tpublic static void initializeArray(int[] arr, int withValue) {\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] = withValue;\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * Checks whether an element is there in the array. \r\n\t * @param arr The array in which the element is to be found.\r\n\t * @param element The element that is to be found.\r\n\t * @return True if found false otherwise\r\n\t */\r\n\tpublic static boolean contains(int arr[], int element) {\r\n\t\tfor(int i=0; i&lt; arr.length; i++) {\r\n\t\t\tif(arr[i] == element)\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Removes a element from an array.\r\n\t * @param arr The array from which the element is to removed.\r\n\t * @param element The element to be removed\r\n\t * @return The size of the array after removing.\r\n\t */\r\n\tpublic static int removeElement(int[] arr, int element) {\r\n\t\tint size = arr.length;\r\n\t\tfor(int i=0; i&lt; arr.length; i++){\r\n\t\t\tif(arr[i] == element){\r\n\t\t\t\tshrinkArray(arr, i, arr.length);\r\n\t\t\t\tsize--;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn size;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Counts unique elements in an array.\r\n\t * @param arr The required array.\r\n\t * @return Unique element count.\r\n\t */\r\n\tpublic static int uniqueElementCount(int arr[]) {\r\n\t\tint count = 0;\r\n\t\tint uniqueCount=0;\r\n\t\tint[] consideredElements = new int[arr.length];\r\n\t\t\r\n\t\tinitializeArray(consideredElements, 0);\r\n\t\t\r\n\t\tfor(int i=0;i&lt;arr.length;i++) {\r\n\t\t\tint element = arr[i];\r\n\t\t\tfor(int j=i+1;j&lt;arr.length; j++){\r\n\t\t\t\tif(element != arr[j] &amp;&amp; !contains(consideredElements, element)){\r\n\t\t\t\t\tconsideredElements[count++] = element;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor(int i=0;i&lt; consideredElements.length;i++)\r\n\t\t\tif(consideredElements[i]!=0)\r\n\t\t\t\tuniqueCount++;\r\n\t\t\t\r\n\t\treturn uniqueCount;\r\n\t}\r\n    }\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Use the ArrayUtil class as you need. I have written some methods other than removing duplicates. This class is implemented without using any Collection framework classes.</p>\n\n<pre><code>public class ArrayUtils {\n/**\n * Removes all duplicate elements from an array. \n * @param arr Array from which duplicate elements are to be removed.\n * @param removeAllDuplicates true if remove all duplicate values, false otherwise \n * @return Array of unique elements.\n */\npublic static int[] removeDuplicate(int[] arr, boolean removeAllDuplicates)         {\n    int size = arr.length;\n\n    for (int i = 0; i &lt; size;) {\n        boolean flag = false;\n\n        for (int j = i + 1; j &lt; size;) {\n            if (arr[i] == arr[j]) {\n                flag = true;\n                shrinkArray(arr, j, size);\n                size--;\n            } else\n                j++;\n        }\n\n        if (flag &amp;&amp; removeAllDuplicates) {\n            shrinkArray(arr, i, size);\n            size--;\n        } else\n            i++;\n    }\n\n    int unique[] = new int[size];\n    for (int i = 0; i &lt; size; i++)\n        unique[i] = arr[i];\n\n    return unique;\n}\n\n/**\n * Removes duplicate elements from an array. \n * @param arr Array from which duplicate elements are to be removed.\n * @return Array of unique elements.\n */\npublic static int[] removeDuplicate(int[] arr) {\n    return removeDuplicate(arr, false);\n}\n\n\nprivate static void shrinkArray(int[] arr, int pos, int size) {\n    for (int i = pos; i &lt; size - 1; i++) {\n        arr[i] = arr[i + 1];\n    }\n}\n\n/**\n * Displays the array.\n * @param arr The array to be displayed.\n */\npublic static void displayArray(int arr[]) {\n    System.out.println(\"\\n\\nThe Array Is:-\\n\");\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        System.out.print(arr[i] + \"\\t\");\n    }\n}\n\n/**\n * Initializes the array with a given value.\n * @param arr The array to be initialized.\n * @param withValue The value with which the array is to be initialized.\n */\npublic static void initializeArray(int[] arr, int withValue) {\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i] = withValue;\n    }\n}\n\n/**\n * Checks whether an element is there in the array. \n * @param arr The array in which the element is to be found.\n * @param element The element that is to be found.\n * @return True if found false otherwise\n */\npublic static boolean contains(int arr[], int element) {\n    for(int i=0; i&lt; arr.length; i++) {\n        if(arr[i] == element)\n            return true;\n    }\n\n    return false;\n}\n\n/**\n * Removes a element from an array.\n * @param arr The array from which the element is to removed.\n * @param element The element to be removed\n * @return The size of the array after removing.\n */\npublic static int removeElement(int[] arr, int element) {\n    int size = arr.length;\n    for(int i=0; i&lt; arr.length; i++){\n        if(arr[i] == element){\n            shrinkArray(arr, i, arr.length);\n            size--;\n        }\n    }\n    return size;\n}\n\n/**\n * Counts unique elements in an array.\n * @param arr The required array.\n * @return Unique element count.\n */\npublic static int uniqueElementCount(int arr[]) {\n    int count = 0;\n    int uniqueCount=0;\n    int[] consideredElements = new int[arr.length];\n\n    initializeArray(consideredElements, 0);\n\n    for(int i=0;i&lt;arr.length;i++) {\n        int element = arr[i];\n        for(int j=i+1;j&lt;arr.length; j++){\n            if(element != arr[j] &amp;&amp; !contains(consideredElements, element)){\n                consideredElements[count++] = element;\n            }\n        }\n    }\n\n    for(int i=0;i&lt; consideredElements.length;i++)\n        if(consideredElements[i]!=0)\n            uniqueCount++;\n\n    return uniqueCount;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6936585,"reputation":9,"user_id":5324294,"display_name":"venkata harish"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1441958010,"creation_date":1441956878,"answer_id":32518025,"question_id":17967114,"body_markdown":"    public static void main(String[] args) {\r\n    \t\tInteger[] intArray = { 1, 1, 1, 2, 4, 2, 3, 5, 3, 6, 7, 3, 4, 5 };\r\n    \t\tInteger[] finalArray = removeDuplicates(intArray);\r\n    \t\tSystem.err.println(Arrays.asList(finalArray));\r\n    \t}\r\n    \r\n    \tprivate static Integer[] removeDuplicates(Integer[] intArray) {\r\n    \t\tint count = 0;\r\n    \t\tInteger[] interimArray = new Integer[intArray.length];\r\n    \t\tfor (int i = 0; i &lt; intArray.length; i++) {\r\n    \t\t\tboolean exists = false;\r\n    \t\t\tfor (int j = 0; j &lt; interimArray.length; j++) {\r\n    \t\t\t\tif (interimArray[j]!=null &amp;&amp; interimArray[j] == intArray[i]) {\r\n    \t\t\t\t\texists = true;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (!exists) {\r\n    \t\t\t\tinterimArray[count] = intArray[i];\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfinal Integer[] finalArray = new Integer[count];\r\n    \t    System.arraycopy(interimArray, 0, finalArray, 0, count);\r\n    \t\treturn finalArray;\r\n    \t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static void main(String[] args) {\n        Integer[] intArray = { 1, 1, 1, 2, 4, 2, 3, 5, 3, 6, 7, 3, 4, 5 };\n        Integer[] finalArray = removeDuplicates(intArray);\n        System.err.println(Arrays.asList(finalArray));\n    }\n\n    private static Integer[] removeDuplicates(Integer[] intArray) {\n        int count = 0;\n        Integer[] interimArray = new Integer[intArray.length];\n        for (int i = 0; i &lt; intArray.length; i++) {\n            boolean exists = false;\n            for (int j = 0; j &lt; interimArray.length; j++) {\n                if (interimArray[j]!=null &amp;&amp; interimArray[j] == intArray[i]) {\n                    exists = true;\n                }\n            }\n            if (!exists) {\n                interimArray[count] = intArray[i];\n                count++;\n            }\n        }\n        final Integer[] finalArray = new Integer[count];\n        System.arraycopy(interimArray, 0, finalArray, 0, count);\n        return finalArray;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":429479,"reputation":43,"user_id":812393,"display_name":"Jonathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441960549,"creation_date":1441960549,"answer_id":32519076,"question_id":17967114,"body_markdown":"I feel Android Killer&#39;s idea is great, but I just wondered if we can leverage HashMap. So I did a little experiment. And I found HashMap seems faster than HashSet.\r\n\r\nHere is code:\r\n\r\n        int[] input = new int[1000000];\r\n\r\n\t\tfor (int i = 0; i &lt; input.length; i++) {\r\n\t\t\tRandom random = new Random();\r\n\t\t\tinput[i] = random.nextInt(200000);\r\n\t\t}\r\n\r\n\t\tlong startTime1 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Set start time:&quot; + startTime1);\r\n\r\n\t\tSet&lt;Integer&gt; resultSet = new HashSet&lt;Integer&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; input.length; i++) {\r\n\t\t\tresultSet.add(input[i]);\r\n\t\t}\r\n\r\n\t\tlong endTime1 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Set end time:&quot;+ endTime1);\r\n\t\tSystem.out.println(&quot;result of set:&quot; + (endTime1 - startTime1));\t\t\r\n\t\tSystem.out.println(&quot;number of Set:&quot; + resultSet.size() + &quot;\\n&quot;);\r\n\r\n\t\tlong startTime2 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Map start time:&quot; + startTime1);\r\n\r\n\t\tMap&lt;Integer, Integer&gt; resultMap = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n\t\tfor (int i = 0; i &lt; input.length; i++) {\r\n\t\t\tif (!resultMap.containsKey(input[i]))\r\n\t\t\t\tresultMap.put(input[i], input[i]);\r\n\t\t}\r\n\r\n\t\tlong endTime2 = new Date().getTime();\r\n\t\tSystem.out.println(&quot;Map end Time:&quot; + endTime2);\r\n\t\tSystem.out.println(&quot;result of Map:&quot; + (endTime2 - startTime2));\r\n\t\tSystem.out.println(&quot;number of Map:&quot; + resultMap.size());\r\n\r\nHere is result:\r\n\r\n    Set start time:1441960583837\r\n    Set end time:1441960583917\r\n    result of set:80\r\n    number of Set:198652\r\n    \r\n    Map start time:1441960583837\r\n    Map end Time:1441960583983\r\n    result of Map:66\r\n    number of Map:198652\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I feel Android Killer's idea is great, but I just wondered if we can leverage HashMap. So I did a little experiment. And I found HashMap seems faster than HashSet.</p>\n\n<p>Here is code:</p>\n\n<pre><code>    int[] input = new int[1000000];\n\n    for (int i = 0; i &lt; input.length; i++) {\n        Random random = new Random();\n        input[i] = random.nextInt(200000);\n    }\n\n    long startTime1 = new Date().getTime();\n    System.out.println(\"Set start time:\" + startTime1);\n\n    Set&lt;Integer&gt; resultSet = new HashSet&lt;Integer&gt;();\n\n    for (int i = 0; i &lt; input.length; i++) {\n        resultSet.add(input[i]);\n    }\n\n    long endTime1 = new Date().getTime();\n    System.out.println(\"Set end time:\"+ endTime1);\n    System.out.println(\"result of set:\" + (endTime1 - startTime1));     \n    System.out.println(\"number of Set:\" + resultSet.size() + \"\\n\");\n\n    long startTime2 = new Date().getTime();\n    System.out.println(\"Map start time:\" + startTime1);\n\n    Map&lt;Integer, Integer&gt; resultMap = new HashMap&lt;Integer, Integer&gt;();\n\n    for (int i = 0; i &lt; input.length; i++) {\n        if (!resultMap.containsKey(input[i]))\n            resultMap.put(input[i], input[i]);\n    }\n\n    long endTime2 = new Date().getTime();\n    System.out.println(\"Map end Time:\" + endTime2);\n    System.out.println(\"result of Map:\" + (endTime2 - startTime2));\n    System.out.println(\"number of Map:\" + resultMap.size());\n</code></pre>\n\n<p>Here is result:</p>\n\n<pre><code>Set start time:1441960583837\nSet end time:1441960583917\nresult of set:80\nnumber of Set:198652\n\nMap start time:1441960583837\nMap end Time:1441960583983\nresult of Map:66\nnumber of Map:198652\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2997527,"reputation":4422,"user_id":2543758,"accept_rate":61,"display_name":"Lion789"},"score":2,"creation_date":1462693101,"post_id":32689754,"comment_id":61737836,"body_markdown":"Any examples that you can include?","body":"Any examples that you can include?"},{"owner":{"account_id":3736932,"reputation":423,"user_id":3107673,"accept_rate":0,"display_name":"user3107673"},"score":1,"creation_date":1497281875,"post_id":32689754,"comment_id":76000444,"body_markdown":"@Lion check the code here - https://gist.github.com/anil477/c2349420b7ebca121ef82ca30b771bcd","body":"@Lion check the code here - <a href=\"https://gist.github.com/anil477/c2349420b7ebca121ef82ca30b771bcd\" rel=\"nofollow noreferrer\">gist.github.com/anil477/c2349420b7ebca121ef82ca30b771bcd</a>"}],"tags":[],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1479475835,"creation_date":1442821095,"answer_id":32689754,"question_id":17967114,"body_markdown":"Since this question is still getting a lot of attention, I decided to answer it by copying [this answer from Code Review.SE](https://codereview.stackexchange.com/a/29216/5799):\r\n\r\n&gt; You&#39;re following the same philosophy as the bubble sort, which is\r\n&gt; very, very, very slow. Have you tried this?:\r\n&gt; \r\n&gt;- Sort your unordered array with [quicksort](http://en.wikipedia.org/wiki/Quicksort). Quicksort is much faster\r\n&gt; than bubble sort (I know, you are not sorting, but the algorithm you\r\n&gt; follow is almost the same as bubble sort to traverse the array). \r\n\r\n\r\n&gt;- Then start removing duplicates (repeated values will be next to each\r\n&gt; other). In a `for` loop you could have two indices: `source` and\r\n&gt; `destination`. (On each loop you copy `source` to `destination` unless they\r\n&gt; are the same, and increment both by 1). Every time you find a\r\n&gt; duplicate you increment source (and don&#39;t perform the copy).\r\n@morgano","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Since this question is still getting a lot of attention, I decided to answer it by copying <a href=\"https://codereview.stackexchange.com/a/29216/5799\">this answer from Code Review.SE</a>:</p>\n\n<blockquote>\n  <p>You're following the same philosophy as the bubble sort, which is\n  very, very, very slow. Have you tried this?:</p>\n  \n  <ul>\n  <li><p>Sort your unordered array with <a href=\"http://en.wikipedia.org/wiki/Quicksort\" rel=\"noreferrer\">quicksort</a>. Quicksort is much faster\n  than bubble sort (I know, you are not sorting, but the algorithm you\n  follow is almost the same as bubble sort to traverse the array). </p></li>\n  <li><p>Then start removing duplicates (repeated values will be next to each\n  other). In a <code>for</code> loop you could have two indices: <code>source</code> and\n  <code>destination</code>. (On each loop you copy <code>source</code> to <code>destination</code> unless they\n  are the same, and increment both by 1). Every time you find a\n  duplicate you increment source (and don't perform the copy).\n  @morgano</p></li>\n  </ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6100119,"reputation":221,"user_id":4759425,"accept_rate":33,"display_name":"UmaShankar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1453703699,"creation_date":1453703699,"answer_id":34986443,"question_id":17967114,"body_markdown":"Hope it helps...\r\n\r\n    if (!checked)//Condition to add into array {\r\n\t\t\t$scope.selectWeekDays.push(WeekKeys);\r\n\t\t} else {\r\n\t\t\tfor (i = 0; i &lt;= $scope.selectWeekDays.length; i++) // Loop to check IsExists {\r\n\t\t\t\tif ($scope.selectWeekDays[i] == WeekKeys)//then if Equals removing by splice {\r\n\t\t\t\t\t$scope.selectWeekDays.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Hope it helps...</p>\n\n<pre><code>if (!checked)//Condition to add into array {\n        $scope.selectWeekDays.push(WeekKeys);\n    } else {\n        for (i = 0; i &lt;= $scope.selectWeekDays.length; i++) // Loop to check IsExists {\n            if ($scope.selectWeekDays[i] == WeekKeys)//then if Equals removing by splice {\n                $scope.selectWeekDays.splice(i, 1);\n                break;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8033728,"reputation":105,"user_id":6057655,"display_name":"Bharath Kumar"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1461612880,"creation_date":1461612880,"answer_id":36849523,"question_id":17967114,"body_markdown":"      public static void main(String[] args) { \r\n                int input[] = { 1, 5, 1, 0, -3, 1, -3, 2, 1 }; \r\n                int j = 0; \r\n                int output[] = new int[100]; \r\n                Arrays.fill(a, 0); \r\n                for (int i = 0; i &lt; 9; i++) { \r\n                        if (output[input[i]] == 0) {\r\n                                input[j++] = input[i]; \r\n                                output[input[i]]++; \r\n                        } \r\n                } \r\n                for (int i = 0; i &lt; j; i++) { \r\n                        System.out.print(input[i] + &quot; &quot;); \r\n                } \r\n        }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>  public static void main(String[] args) { \n            int input[] = { 1, 5, 1, 0, -3, 1, -3, 2, 1 }; \n            int j = 0; \n            int output[] = new int[100]; \n            Arrays.fill(a, 0); \n            for (int i = 0; i &lt; 9; i++) { \n                    if (output[input[i]] == 0) {\n                            input[j++] = input[i]; \n                            output[input[i]]++; \n                    } \n            } \n            for (int i = 0; i &lt; j; i++) { \n                    System.out.print(input[i] + \" \"); \n            } \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8708164,"reputation":71,"user_id":6515353,"display_name":"Nitin Sindhe"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1466959042,"creation_date":1466957761,"answer_id":38040529,"question_id":17967114,"body_markdown":"\tpublic class RemoveDuplicates {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\t\tint size;\r\n\t\t\tSystem.out.println(&quot;Enter an array size&quot;);\r\n\t\t\tScanner sc=new Scanner(System.in);\r\n\t\t\tsize = sc.nextInt();\r\n\t\t\r\n\t\t\tint arr[] = new int[size];\r\n\t\t\r\n\t\t\tSystem.out.println(&quot;Enter &quot;+size+&quot; numbers&quot;);\r\n\t\t\tfor(int i=0;i&lt;size;i++){\r\n\t\t\t\tarr[i]=sc.nextInt();\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor(int i=0;i&lt;size;i++){\r\n\t\t\t\tint count=0;\r\n\t\t\t\tfor(int j=i+1;j&lt;size;j++){\r\n\t\t\t\t\tif(arr[i]==arr[j]){\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tint shiftLeft = j;\r\n\t\t\t\t\r\n\t\t\t\t\t\tfor (int k = j+1; k &lt; size; k++, shiftLeft++) {\r\n\t\t\t\t\t\t\tarr[shiftLeft] = arr[k];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsize--;\r\n\t\t\t\t\t\tj--;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;New Array&quot;);\r\n\t\t\tfor(int i=0;i&lt;size;i++)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(arr[i]);\r\n\t\t\t}\r\n\t\t}\r\n\r\n    }\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public class RemoveDuplicates {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        int size;\n        System.out.println(\"Enter an array size\");\n        Scanner sc=new Scanner(System.in);\n        size = sc.nextInt();\n\n        int arr[] = new int[size];\n\n        System.out.println(\"Enter \"+size+\" numbers\");\n        for(int i=0;i&lt;size;i++){\n            arr[i]=sc.nextInt();\n        }\n\n        for(int i=0;i&lt;size;i++){\n            int count=0;\n            for(int j=i+1;j&lt;size;j++){\n                if(arr[i]==arr[j]){\n\n                    int shiftLeft = j;\n\n                    for (int k = j+1; k &lt; size; k++, shiftLeft++) {\n                        arr[shiftLeft] = arr[k];\n                    }\n                    size--;\n                    j--;\n                }\n            }\n        }\n        System.out.println(\"New Array\");\n        for(int i=0;i&lt;size;i++)\n        {\n            System.out.println(arr[i]);\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2201724,"reputation":10403,"user_id":1945960,"display_name":"HiDeoo"},"score":4,"creation_date":1468255876,"post_id":38311919,"comment_id":64041008,"body_markdown":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value.","body":"While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."},{"owner":{"account_id":442325,"reputation":6384,"user_id":832891,"accept_rate":86,"display_name":"Vasseurth"},"score":2,"creation_date":1468262129,"post_id":38311919,"comment_id":64044196,"body_markdown":"Note that this will only work if the array is sorted","body":"Note that this will only work if the array is sorted"}],"tags":[],"owner":{"account_id":8798502,"reputation":9,"user_id":6575604,"display_name":"Naveen Sharma"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1468254817,"creation_date":1468254817,"answer_id":38311919,"question_id":17967114,"body_markdown":"    //Remove duplicate from sorted array\r\n    \r\n    public class RemDupFromArray {\r\n    \tstatic int num;\r\n    \tpublic static void main(String[] args){\r\n    \t\tint arr[] = {0,0,2,2,3, 5, 5,7, 7, 7};\r\n    \t\tfor(int i=0;i&lt;arr.length-1;i++){\r\n    \t\t\tif(num!=arr[i]){\r\n    \t\t\t\tnum=arr[i];\r\n    \t\t\t\tSystem.out.print(arr[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>//Remove duplicate from sorted array\n\npublic class RemDupFromArray {\n    static int num;\n    public static void main(String[] args){\n        int arr[] = {0,0,2,2,3, 5, 5,7, 7, 7};\n        for(int i=0;i&lt;arr.length-1;i++){\n            if(num!=arr[i]){\n                num=arr[i];\n                System.out.print(arr[i]);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":106491,"reputation":59253,"user_id":283676,"accept_rate":93,"display_name":"Andrey"},"score":1,"creation_date":1475686955,"post_id":39124471,"comment_id":67046366,"body_markdown":"Have you tried running this code? It does the opposite and prints 1 7 9 9. If you change == 0 to != 0 it will still miss 10.","body":"Have you tried running this code? It does the opposite and prints 1 7 9 9. If you change == 0 to != 0 it will still miss 10."},{"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"score":0,"creation_date":1475689662,"post_id":39124471,"comment_id":67047857,"body_markdown":"@Andrey Actually i wrote it print the duplicate elements. We can tweak it to print index also . Then either make new except those indexes or make duplicates one null(change integer to Integer object) in existing array depending upon the","body":"@Andrey Actually i wrote it print the duplicate elements. We can tweak it to print index also . Then either make new except those indexes or make duplicates one null(change integer to Integer object) in existing array depending upon the"},{"owner":{"account_id":16468450,"reputation":665,"user_id":11898085,"display_name":"jvkloc"},"score":0,"creation_date":1631139852,"post_id":39124471,"comment_id":122146321,"body_markdown":"Maybe this doesn&#39;t answer the question very precisely, but it solved another problem I had.","body":"Maybe this doesn&#39;t answer the question very precisely, but it solved another problem I had."}],"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1472044711,"creation_date":1472044711,"answer_id":39124471,"question_id":17967114,"body_markdown":"Well first answer will be to use hashset which is designed to remove duplicates as Android Killer answer pointed out\r\n\r\n**Approach 2 :-**\r\nBut if you are not allowed to use set then sort it first with quicksort which will be nlogn and then apply `XOR` operation to find duplicates\r\n\r\nOptimized one \r\n\r\n    public static void removeDuplicates(int[] arr) {\r\n    \t\tint[] input = new int[] { 1, 1, 3, 7, 7, 8, 9, 9, 9, 10 };\r\n    \t\tint current = input[0];\r\n    \t\tboolean found = false;\r\n    \r\n    \t\tfor (int i = 0; i &lt; input.length-1; i++) {\r\n    \t\t\t\r\n    \t\t\tif((input[i]^input[i+1])==0){\r\n    \t\t\t\tSystem.out.println(input[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Well first answer will be to use hashset which is designed to remove duplicates as Android Killer answer pointed out</p>\n\n<p><strong>Approach 2 :-</strong>\nBut if you are not allowed to use set then sort it first with quicksort which will be nlogn and then apply <code>XOR</code> operation to find duplicates</p>\n\n<p>Optimized one </p>\n\n<pre><code>public static void removeDuplicates(int[] arr) {\n        int[] input = new int[] { 1, 1, 3, 7, 7, 8, 9, 9, 9, 10 };\n        int current = input[0];\n        boolean found = false;\n\n        for (int i = 0; i &lt; input.length-1; i++) {\n\n            if((input[i]^input[i+1])==0){\n                System.out.println(input[i]);\n            }\n        }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6301091,"reputation":38074,"user_id":4895725,"display_name":"lmo"},"score":5,"creation_date":1472396908,"post_id":39192493,"comment_id":65725847,"body_markdown":"If this code answers the question, consider adding adding some text explaining the code in your answer. This way, you are far more likely to get more upvotes — and help the questioner learn something new.","body":"If this code answers the question, consider adding adding some text explaining the code in your answer. This way, you are far more likely to get more upvotes — and help the questioner learn something new."}],"tags":[],"owner":{"account_id":9091521,"reputation":1,"user_id":6767192,"display_name":"Azeem Mohammed"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1472395827,"creation_date":1472395827,"answer_id":39192493,"question_id":17967114,"body_markdown":"\r\n\r\n       \tpublic static int[] removeDuplicates(int[] input){\r\n        \t\r\n            int j = 0;\r\n            int i = 1;\r\n            //return if the array length is less than 2\r\n            if(input.length &lt; 2){\r\n                return input;\r\n            }\r\n            while(i &lt; input.length){\r\n                if(input[i] == input[j]){\r\n                    i++;\r\n                }else{\r\n                \tj = j+1;\r\n                \tinput[j] = input[i];\r\n                \ti = i+1;\r\n                }    \r\n            }\r\n            int[] output = new int[j+1];\r\n            for(int k=0; k&lt;output.length; k++){\r\n                output[k] = input[k];\r\n            }\r\n             \r\n            return output;\r\n        }\r\n    \r\n    public static void main(String a[]){\r\n            int[] input1 = {2,3,6,6,8,9,10,10,10,12,12};\r\n            int[] output = removeDuplicates(input1);\r\n            for(int i:output){\r\n                System.out.println(i+&quot; &quot;);\r\n            }\r\n        }\r\n     ","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>    public static int[] removeDuplicates(int[] input){\n\n        int j = 0;\n        int i = 1;\n        //return if the array length is less than 2\n        if(input.length &lt; 2){\n            return input;\n        }\n        while(i &lt; input.length){\n            if(input[i] == input[j]){\n                i++;\n            }else{\n                j = j+1;\n                input[j] = input[i];\n                i = i+1;\n            }    \n        }\n        int[] output = new int[j+1];\n        for(int k=0; k&lt;output.length; k++){\n            output[k] = input[k];\n        }\n\n        return output;\n    }\n\npublic static void main(String a[]){\n        int[] input1 = {2,3,6,6,8,9,10,10,10,12,12};\n        int[] output = removeDuplicates(input1);\n        for(int i:output){\n            System.out.println(i+\" \");\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8436578,"reputation":59,"user_id":6504878,"display_name":"Papasani Mohansrinivas"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1475656936,"creation_date":1475656936,"answer_id":39869230,"question_id":17967114,"body_markdown":"    \r\n\r\n\r\n\r\n    import java.util.*;\r\n    class removeDuplicate{\r\n\tint [] y ;\r\n\r\n\tpublic removeDuplicate(int[] array){\r\n\t\ty=array;\r\n\t\t\r\n\t\t\r\n\t\tfor(int b=0;b&lt;y.length;b++){\r\n\t\t\tint temp = y[b];\r\n\t\t\tfor(int v=0;v&lt;y.length;v++){\r\n\t\t\t\tif( b!=v &amp;&amp; temp==y[v]){\r\n\t\t\t\t\ty[v]=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>import java.util.*;\nclass removeDuplicate{\nint [] y ;\n\npublic removeDuplicate(int[] array){\n    y=array;\n\n\n    for(int b=0;b&lt;y.length;b++){\n        int temp = y[b];\n        for(int v=0;v&lt;y.length;v++){\n            if( b!=v &amp;&amp; temp==y[v]){\n                y[v]=0;\n            }\n        }\n    }\n\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7337765,"reputation":776,"user_id":5588506,"display_name":"Juan Furattini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481909210,"creation_date":1481895721,"answer_id":41185759,"question_id":17967114,"body_markdown":"This is not using Set, Map, List or any extra collection, only two arrays:\r\n\r\n    package arrays.duplicates;\r\n\r\n    import java.lang.reflect.Array;\r\n    import java.util.Arrays;\r\n\r\n    public class ArrayDuplicatesRemover&lt;T&gt; {\r\n\r\n        public static &lt;T&gt; T[] removeDuplicates(T[] input, Class&lt;T&gt; clazz) {\r\n            T[] output = (T[]) Array.newInstance(clazz, 0);\r\n            for (T t : input) {\r\n                if (!inArray(t, output)) {\r\n                    output = Arrays.copyOf(output, output.length + 1);\r\n                    output[output.length - 1] = t;\r\n                }\r\n            }\r\n            return output;\r\n        }\r\n\r\n        private static &lt;T&gt; boolean inArray(T search, T[] array) {\r\n            for (T element : array) {\r\n                if (element.equals(search)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\nAnd the main to test it\r\n\r\n    package arrays.duplicates;\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class TestArrayDuplicates {\r\n\r\n        public static void main(String[] args) {\r\n            Integer[] array = {1, 1, 2, 2, 3, 3, 3, 3, 4};\r\n            testArrayDuplicatesRemover(array);\r\n        }\r\n\r\n        private static void testArrayDuplicatesRemover(Integer[] array) {\r\n            final Integer[] expectedResult = {1, 2, 3, 4};\r\n            Integer[] arrayWithoutDuplicates = ArrayDuplicatesRemover.removeDuplicates(array, Integer.class);\r\n            System.out.println(&quot;Array without duplicates is supposed to be: &quot; + Arrays.toString(expectedResult));\r\n            System.out.println(&quot;Array without duplicates currently is: &quot; + Arrays.toString(arrayWithoutDuplicates));\r\n            System.out.println(&quot;Is test passed ok?: &quot; + (Arrays.equals(arrayWithoutDuplicates, expectedResult) ? &quot;YES&quot; : &quot;NO&quot;));\r\n        }\r\n\r\n    }\r\n\r\nAnd the output:\r\n\r\n    Array without duplicates is supposed to be: [1, 2, 3, 4]\r\n    Array without duplicates currently is: [1, 2, 3, 4]\r\n    Is test passed ok?: YES","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>This is not using Set, Map, List or any extra collection, only two arrays:</p>\n\n<pre><code>package arrays.duplicates;\n\nimport java.lang.reflect.Array;\nimport java.util.Arrays;\n\npublic class ArrayDuplicatesRemover&lt;T&gt; {\n\n    public static &lt;T&gt; T[] removeDuplicates(T[] input, Class&lt;T&gt; clazz) {\n        T[] output = (T[]) Array.newInstance(clazz, 0);\n        for (T t : input) {\n            if (!inArray(t, output)) {\n                output = Arrays.copyOf(output, output.length + 1);\n                output[output.length - 1] = t;\n            }\n        }\n        return output;\n    }\n\n    private static &lt;T&gt; boolean inArray(T search, T[] array) {\n        for (T element : array) {\n            if (element.equals(search)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n</code></pre>\n\n<p>And the main to test it</p>\n\n<pre><code>package arrays.duplicates;\n\nimport java.util.Arrays;\n\npublic class TestArrayDuplicates {\n\n    public static void main(String[] args) {\n        Integer[] array = {1, 1, 2, 2, 3, 3, 3, 3, 4};\n        testArrayDuplicatesRemover(array);\n    }\n\n    private static void testArrayDuplicatesRemover(Integer[] array) {\n        final Integer[] expectedResult = {1, 2, 3, 4};\n        Integer[] arrayWithoutDuplicates = ArrayDuplicatesRemover.removeDuplicates(array, Integer.class);\n        System.out.println(\"Array without duplicates is supposed to be: \" + Arrays.toString(expectedResult));\n        System.out.println(\"Array without duplicates currently is: \" + Arrays.toString(arrayWithoutDuplicates));\n        System.out.println(\"Is test passed ok?: \" + (Arrays.equals(arrayWithoutDuplicates, expectedResult) ? \"YES\" : \"NO\"));\n    }\n\n}\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>Array without duplicates is supposed to be: [1, 2, 3, 4]\nArray without duplicates currently is: [1, 2, 3, 4]\nIs test passed ok?: YES\n</code></pre>\n"},{"comments":[{"owner":{"display_name":"user4782805"},"score":0,"creation_date":1619097249,"post_id":41749035,"comment_id":118805586,"body_markdown":"Excellent solution except for one small change. Please move array.length outside of for loop.","body":"Excellent solution except for one small change. Please move array.length outside of for loop."},{"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"score":1,"creation_date":1647699604,"post_id":41749035,"comment_id":126438946,"body_markdown":"This is Quite optimized","body":"This is Quite optimized"}],"tags":[],"owner":{"account_id":1692226,"reputation":1140,"user_id":1554363,"accept_rate":86,"display_name":"androidEnthusiast"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665953060,"creation_date":1484850255,"answer_id":41749035,"question_id":17967114,"body_markdown":"How about this one, only for **the sorted Array** of numbers, to print the Array without duplicates, **without using Set** or other Collections, just an Array: \r\n\r\n     public static int[] removeDuplicates(int[] array) {\r\n\t\tint[] nums = new int[array.length];\r\n\t\tint addedNumber = 0;\r\n\t\tint j = 0;\r\n\t\tfor(int i=0; i &lt; array.length; i++) {\r\n\t\t\tif (addedNumber != array[i]) {\r\n\t\t\tnums[j] = array[i];\r\n\t\t\tj++;\r\n\t\t\taddedNumber = nums[j-1];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn Arrays.copyOf(nums, j);\r\n\t}\r\n\r\n\r\nAn array of 1040 duplicated numbers processed in 33020 nanoseconds(**0.033020 millisec**). ","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>How about this one, only for <strong>the sorted Array</strong> of numbers, to print the Array without duplicates, <strong>without using Set</strong> or other Collections, just an Array:</p>\n<pre><code> public static int[] removeDuplicates(int[] array) {\n    int[] nums = new int[array.length];\n    int addedNumber = 0;\n    int j = 0;\n    for(int i=0; i &lt; array.length; i++) {\n        if (addedNumber != array[i]) {\n        nums[j] = array[i];\n        j++;\n        addedNumber = nums[j-1];\n        }\n    }\n    return Arrays.copyOf(nums, j);\n}\n</code></pre>\n<p>An array of 1040 duplicated numbers processed in 33020 nanoseconds(<strong>0.033020 millisec</strong>).</p>\n"},{"tags":[],"owner":{"account_id":395294,"reputation":24735,"user_id":758174,"accept_rate":61,"display_name":"Pierre D"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491365855,"creation_date":1491365855,"answer_id":43221724,"question_id":17967114,"body_markdown":"Okay, so you cannot use `Set` or other collections.  One solution I don&#39;t see here so far is one based on the use of a [Bloom filter][1], which essentially is an array of bits, so perhaps that passes your requirements.\r\n\r\nThe Bloom filter is a lovely and very handy technique, fast and space-efficient, that can be used to do a quick check of the existence of an element in a set without storing the set itself or the elements.  It has a (typically small) false positive rate, but no false negative rate.  In other words, for your question, if a Bloom filter tells you that an element hasn&#39;t been seen so far, you can be sure it hasn&#39;t.  But if it says that an element has been seen, you actually need to check.  This still saves a lot of time if there aren&#39;t too many duplicates in your list (for those, there is no looping to do, except in the small probability case of a false positive --you typically chose this rate based on how much space you are willing to give to the Bloom filter (rule of thumb: less than 10 bits per unique element for a false positive rate of 1%).\r\n\r\nThere are many implementations of Bloom filters, see e.g. [here][2] or [here][3], so I won&#39;t repeat that in this answer.  Let us just assume the api described in that last reference, in particular, the [description][4] of `put(E e)`:\r\n\r\n&gt; `true` if the Bloom filter&#39;s bits changed as a result of this operation. If the bits changed, this is _definitely_ the first time object has been added to the filter. If the bits haven&#39;t changed, this _might_ be the first time object has been added to the filter. (...)\r\n\r\nAn implementation using such a Bloom filter would then be:\r\n\r\n    public static int[] removeDuplicates(int[] arr) {\r\n        ArrayList&lt;Integer&gt; out = new ArrayList&lt;&gt;();\r\n        int n = arr.length;\r\n        BloomFilter&lt;Integer&gt; bf = new BloomFilter&lt;&gt;(...);  // decide how many bits and how many hash functions to use (compromise between space and false positive rate)\r\n\r\n        for (int e : arr) {\r\n            boolean might_contain = !bf.put(e);\r\n            boolean found = false;\r\n            if (might_contain) {\r\n                // check if false positive\r\n                for (int u : out) {\r\n                    if (u == e) {\r\n                        found = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (!found) {\r\n                out.add(e);\r\n            }\r\n        }\r\n        return out.stream().mapToInt(i -&gt; i).toArray();\r\n    }\r\n\r\nObviously, if you can alter the incoming array in place, then there is no need for an `ArrayList`: at the end, when you know the actual number of unique elements, just `arraycopy()` those.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Bloom_filter\r\n  [2]: http://www.javamex.com/tutorials/collections/bloom_filter_java.shtml\r\n  [3]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html\r\n  [4]: https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html#put-T-","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Okay, so you cannot use <code>Set</code> or other collections.  One solution I don't see here so far is one based on the use of a <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\" rel=\"nofollow noreferrer\">Bloom filter</a>, which essentially is an array of bits, so perhaps that passes your requirements.</p>\n\n<p>The Bloom filter is a lovely and very handy technique, fast and space-efficient, that can be used to do a quick check of the existence of an element in a set without storing the set itself or the elements.  It has a (typically small) false positive rate, but no false negative rate.  In other words, for your question, if a Bloom filter tells you that an element hasn't been seen so far, you can be sure it hasn't.  But if it says that an element has been seen, you actually need to check.  This still saves a lot of time if there aren't too many duplicates in your list (for those, there is no looping to do, except in the small probability case of a false positive --you typically chose this rate based on how much space you are willing to give to the Bloom filter (rule of thumb: less than 10 bits per unique element for a false positive rate of 1%).</p>\n\n<p>There are many implementations of Bloom filters, see e.g. <a href=\"http://www.javamex.com/tutorials/collections/bloom_filter_java.shtml\" rel=\"nofollow noreferrer\">here</a> or <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html\" rel=\"nofollow noreferrer\">here</a>, so I won't repeat that in this answer.  Let us just assume the api described in that last reference, in particular, the <a href=\"https://google.github.io/guava/releases/snapshot/api/docs/com/google/common/hash/BloomFilter.html#put-T-\" rel=\"nofollow noreferrer\">description</a> of <code>put(E e)</code>:</p>\n\n<blockquote>\n  <p><code>true</code> if the Bloom filter's bits changed as a result of this operation. If the bits changed, this is <em>definitely</em> the first time object has been added to the filter. If the bits haven't changed, this <em>might</em> be the first time object has been added to the filter. (...)</p>\n</blockquote>\n\n<p>An implementation using such a Bloom filter would then be:</p>\n\n<pre><code>public static int[] removeDuplicates(int[] arr) {\n    ArrayList&lt;Integer&gt; out = new ArrayList&lt;&gt;();\n    int n = arr.length;\n    BloomFilter&lt;Integer&gt; bf = new BloomFilter&lt;&gt;(...);  // decide how many bits and how many hash functions to use (compromise between space and false positive rate)\n\n    for (int e : arr) {\n        boolean might_contain = !bf.put(e);\n        boolean found = false;\n        if (might_contain) {\n            // check if false positive\n            for (int u : out) {\n                if (u == e) {\n                    found = true;\n                    break;\n                }\n            }\n        }\n        if (!found) {\n            out.add(e);\n        }\n    }\n    return out.stream().mapToInt(i -&gt; i).toArray();\n}\n</code></pre>\n\n<p>Obviously, if you can alter the incoming array in place, then there is no need for an <code>ArrayList</code>: at the end, when you know the actual number of unique elements, just <code>arraycopy()</code> those.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1537349967,"post_id":43572435,"comment_id":91749227,"body_markdown":"This does not answer the question.  It isn&#39;t Java,","body":"This does not answer the question.  It isn&#39;t Java,"}],"tags":[],"owner":{"account_id":9166006,"reputation":61,"user_id":6815577,"display_name":"PINTU KUMAR"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492980872,"creation_date":1492958009,"answer_id":43572435,"question_id":17967114,"body_markdown":"Please check this. It will work for both sorted/unsorted array. The complexity is O(n^2) same as bubble sort. \r\nYes the complexity can be improved further with first sort and then binary search. But this is simple enough to work on every cases except negative element (-1). This can also be changed by using large integer value instead of -1.\r\n\r\n\r\n\r\n    void remove_duplicates(int *A, int N)\r\n\r\n    {\r\n\r\n\tint i,j;\r\n\r\n\tfor (i=1; i&lt;N; i++) {\r\n\t\tif (A[i] == -1) continue;\r\n\t\tfor (j=i+1; j&lt;=N; j++) {\r\n\t\t\tif (A[i] == A[j])\r\n\t\t\t\tA[j] = -1;\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n    int main() {\r\n\r\n\tint N;\r\n\tint A[1001];\r\n\tint i;\r\n\r\n\tprintf(&quot;Enter N: &quot;);\r\n\tscanf(&quot;%d&quot;, &amp;N);\r\n\tprintf(&quot;Enter the elements:\\n&quot;);\r\n\tfor (i=1; i&lt;=N; i++)\r\n\t\tscanf(&quot;%d&quot;, &amp;A[i]);\r\n\r\n\tremove_duplicates(A, N);\r\n\tfor (i=1; i&lt;=N; i++) {\r\n\t\tif (A[i] == -1)\r\n\t\t\tcontinue;\r\n\t\tprintf(&quot;%d  &quot;, A[i]);\r\n\t}\r\n\tprintf(&quot;\\n&quot;);\r\n\r\n\treturn 0;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Please check this. It will work for both sorted/unsorted array. The complexity is O(n^2) same as bubble sort. \nYes the complexity can be improved further with first sort and then binary search. But this is simple enough to work on every cases except negative element (-1). This can also be changed by using large integer value instead of -1.</p>\n\n<pre><code>void remove_duplicates(int *A, int N)\n\n{\n\nint i,j;\n\nfor (i=1; i&lt;N; i++) {\n    if (A[i] == -1) continue;\n    for (j=i+1; j&lt;=N; j++) {\n        if (A[i] == A[j])\n            A[j] = -1;\n    }\n}\n}\n\nint main() {\n\nint N;\nint A[1001];\nint i;\n\nprintf(\"Enter N: \");\nscanf(\"%d\", &amp;N);\nprintf(\"Enter the elements:\\n\");\nfor (i=1; i&lt;=N; i++)\n    scanf(\"%d\", &amp;A[i]);\n\nremove_duplicates(A, N);\nfor (i=1; i&lt;=N; i++) {\n    if (A[i] == -1)\n        continue;\n    printf(\"%d  \", A[i]);\n}\nprintf(\"\\n\");\n\nreturn 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":156814,"reputation":403,"user_id":374336,"display_name":"Kishore"},"score":0,"creation_date":1516656895,"post_id":45170038,"comment_id":83769175,"body_markdown":"your solution is O(n^2) and this can improved further as someone here already mentioned in the comments. If you use quick sort then the average case complexity is O(nlogn) (merge sort also works) to sort the array. and next you can go over the sorted array once to replace all duplicates in O(n).  so the over all complexity is O(nlogn).","body":"your solution is O(n^2) and this can improved further as someone here already mentioned in the comments. If you use quick sort then the average case complexity is O(nlogn) (merge sort also works) to sort the array. and next you can go over the sorted array once to replace all duplicates in O(n).  so the over all complexity is O(nlogn)."},{"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"score":0,"creation_date":1516681959,"post_id":45170038,"comment_id":83776100,"body_markdown":"I have answered according to question","body":"I have answered according to question"},{"owner":{"account_id":10168990,"reputation":603,"user_id":7509887,"display_name":"Amit Nayak"},"score":0,"creation_date":1538423783,"post_id":45170038,"comment_id":92130648,"body_markdown":"Wrong program try this  : --      int[] arr = {1,2,3,4,2,3,1,1,11,6,1}; // input array 1  2  3  4  4  4 //output","body":"Wrong program try this  : --      int[] arr = {1,2,3,4,2,3,1,1,11,6,1}; // input array 1  2  3  4  4  4 //output"}],"tags":[],"owner":{"account_id":7363021,"reputation":1618,"user_id":5605687,"accept_rate":100,"display_name":"Onic Team"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500389015,"creation_date":1500389015,"answer_id":45170038,"question_id":17967114,"body_markdown":"**Why do all people not check this below lines?**\r\n\r\n*I need to write my own implementation - not to use Set, HashSet etc. Or any other tools such as iterators. Simply an array to remove duplicates.* \r\n\r\nI&#39;m posting very simple implementation with caring the above line.\r\n\r\n    public class RemoveDuplicates {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tint[] arr = { 1, 2, 3, 4, 2, 3, 1 }; // input array\r\n\t\tint len = arr.length;\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; len; j++) {\r\n\t\t\t\tif (arr[i] == arr[j]) {\r\n\t\t\t\t\twhile (j &lt; (len) - 1) {\r\n\t\t\t\t\t\tarr[j] = arr[j - 1];\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlen--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\tSystem.out.print(&quot;  &quot; +arr[i]);\r\n\t\t}\r\n\r\n\t   }\r\n     }\r\n\r\n&gt; Input  : 1, 2, 3, 4, 2, 3, 1\r\n\r\n&gt; Output :   1  2  3  4","title":"How to efficiently remove duplicates from an array without using Set","body":"<p><strong>Why do all people not check this below lines?</strong></p>\n\n<p><em>I need to write my own implementation - not to use Set, HashSet etc. Or any other tools such as iterators. Simply an array to remove duplicates.</em> </p>\n\n<p>I'm posting very simple implementation with caring the above line.</p>\n\n<pre><code>public class RemoveDuplicates {\n\npublic static void main(String[] args) {\n\n    int[] arr = { 1, 2, 3, 4, 2, 3, 1 }; // input array\n    int len = arr.length;\n    for (int i = 0; i &lt; arr.length; i++) {\n        for (int j = i + 1; j &lt; len; j++) {\n            if (arr[i] == arr[j]) {\n                while (j &lt; (len) - 1) {\n                    arr[j] = arr[j - 1];\n                    j++;\n                }\n                len--;\n            }\n        }\n    }\n    for (int i = 0; i &lt; len; i++) {\n        System.out.print(\"  \" +arr[i]);\n    }\n\n   }\n }\n</code></pre>\n\n<blockquote>\n  <p>Input  : 1, 2, 3, 4, 2, 3, 1</p>\n  \n  <p>Output :   1  2  3  4</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8346196,"reputation":333,"user_id":6269836,"accept_rate":75,"display_name":"T&#252;rkmen Mustafa Demirci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508313948,"creation_date":1508313948,"answer_id":46805446,"question_id":17967114,"body_markdown":"Here is my solution. The time complexity is o(n^2)\r\n\r\n    public String removeDuplicates(char[] arr) {\r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \r\n    \t\tif (arr == null)\r\n    \t\t\treturn null;\r\n    \t\tint len = arr.length;\r\n    \r\n    \t\tif (arr.length &lt; 2)\r\n    \t\t\treturn sb.append(arr[0]).toString();\r\n    \r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \r\n    \t\t\tfor (int j = i + 1; j &lt; len; j++) {\r\n    \t\t\t\tif (arr[i] == arr[j]) {\r\n    \t\t\t\t\tarr[j] = 0;\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (arr[i] != 0)\r\n    \t\t\t\tsb.append(arr[i]);\r\n    \t\t}\r\n    \r\n    \t\treturn sb.toString().trim();\r\n    \t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Here is my solution. The time complexity is o(n^2)</p>\n\n<pre><code>public String removeDuplicates(char[] arr) {\n        StringBuilder sb = new StringBuilder();\n\n        if (arr == null)\n            return null;\n        int len = arr.length;\n\n        if (arr.length &lt; 2)\n            return sb.append(arr[0]).toString();\n\n        for (int i = 0; i &lt; len; i++) {\n\n            for (int j = i + 1; j &lt; len; j++) {\n                if (arr[i] == arr[j]) {\n                    arr[j] = 0;\n\n                }\n            }\n            if (arr[i] != 0)\n                sb.append(arr[i]);\n        }\n\n        return sb.toString().trim();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4638300,"reputation":133,"user_id":3758849,"display_name":"Pradeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510751086,"creation_date":1510751086,"answer_id":47308178,"question_id":17967114,"body_markdown":"    public void removeDup(){ \r\n    String[] arr = {&quot;1&quot;,&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;3&quot;};\r\n    \t      boolean exists = false;\r\n    \t      String[] arr2 = new String[arr.length];\r\n    \t      int count1 = 0;\r\n    \t      for(int loop=0;loop&lt;arr.length;loop++)\r\n    \t      \t{\r\n    \t    \t  String val = arr[loop];\r\n    \t    \t  exists = false;\r\n    \t    \t  for(int loop2=0;loop2&lt;arr2.length;loop2++)\r\n    \t    \t  { \t\r\n    \t    \t\t  if(arr2[loop2]==null)break;\r\n    \t    \t\t  if(arr2[loop2]==val){\r\n    \t    \t  \t\t\texists = true;\r\n    \t    \t  \t}\r\n    \t    \t  }\r\n    \t    \t  if(!exists) {\r\n    \t    \t  \t\tarr2[count1] = val;\r\n    \t    \t  \t\tcount1++;\r\n    \t    \t  }\r\n    \t    \t}\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public void removeDup(){ \nString[] arr = {\"1\",\"1\",\"2\",\"3\",\"3\"};\n          boolean exists = false;\n          String[] arr2 = new String[arr.length];\n          int count1 = 0;\n          for(int loop=0;loop&lt;arr.length;loop++)\n            {\n              String val = arr[loop];\n              exists = false;\n              for(int loop2=0;loop2&lt;arr2.length;loop2++)\n              {     \n                  if(arr2[loop2]==null)break;\n                  if(arr2[loop2]==val){\n                        exists = true;\n                }\n              }\n              if(!exists) {\n                    arr2[count1] = val;\n                    count1++;\n              }\n            }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5393847,"reputation":1510,"user_id":4295595,"display_name":"Avinash Pande"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524203780,"creation_date":1524146009,"answer_id":49922884,"question_id":17967114,"body_markdown":"\r\n     package javaa;\r\n\r\n    public class UniqueElementinAnArray \r\n    {\r\n\r\n\t public static void main(String[] args) \r\n\t {\r\n\t\tint[] a = {10,10,10,10,10,100};\r\n\t\tint[] output = new int[a.length];\r\n\t\tint count = 0;\r\n\t\tint num = 0;\r\n\t\t\r\n\t\t//Iterate over an array\r\n\t\tfor(int i=0; i&lt;a.length; i++)\r\n\t\t{\r\n\t\t\tnum=a[i];\r\n\t\t\tboolean flag = check(output,num);\r\n\t\t\tif(flag==false)\r\n\t\t\t{\r\n\t\t\t\toutput[count]=num;\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//print the all the elements from an array except zero&#39;s (0)\r\n\t\tfor (int i : output) \r\n\t\t{\r\n\t\t\tif(i!=0 )\r\n\t\t\t\tSystem.out.print(i+&quot;  &quot;);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t/***\r\n\t * If a next number from an array is already exists in unique array then return true else false\r\n\t * @param arr\tUnique number array. Initially this array is an empty.\r\n\t * @param num\tNumber to be search in unique array. Whether it is duplicate or unique.\r\n\t * @return\ttrue: If a number is already exists in an array else false \r\n\t */\r\n\tpublic static boolean check(int[] arr, int num)\r\n\t{\r\n\t\tboolean flag = false;\r\n\t\tfor(int i=0;i&lt;arr.length; i++)\r\n\t\t{\r\n\t\t\tif(arr[i]==num)\r\n\t\t\t{\r\n\t\t\t\tflag = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn flag;\r\n\t}\r\n\r\n}\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code> package javaa;\n\npublic class UniqueElementinAnArray \n{\n\n public static void main(String[] args) \n {\n    int[] a = {10,10,10,10,10,100};\n    int[] output = new int[a.length];\n    int count = 0;\n    int num = 0;\n\n    //Iterate over an array\n    for(int i=0; i&lt;a.length; i++)\n    {\n        num=a[i];\n        boolean flag = check(output,num);\n        if(flag==false)\n        {\n            output[count]=num;\n            ++count;\n        }\n\n    }\n\n    //print the all the elements from an array except zero's (0)\n    for (int i : output) \n    {\n        if(i!=0 )\n            System.out.print(i+\"  \");\n    }\n\n}\n\n/***\n * If a next number from an array is already exists in unique array then return true else false\n * @param arr   Unique number array. Initially this array is an empty.\n * @param num   Number to be search in unique array. Whether it is duplicate or unique.\n * @return  true: If a number is already exists in an array else false \n */\npublic static boolean check(int[] arr, int num)\n{\n    boolean flag = false;\n    for(int i=0;i&lt;arr.length; i++)\n    {\n        if(arr[i]==num)\n        {\n            flag = true;\n            break;\n        }\n    }\n    return flag;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648546050,"creation_date":1524432683,"answer_id":49970935,"question_id":17967114,"body_markdown":"This is an interview question.\r\n\r\n    public class Test4 {\r\n    public static void main(String[] args) {\r\n    \t int a[] = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65}; \r\n                  int newlength =    lengthofarraywithoutduplicates(a);\r\n                  for(int i = 0 ; i &lt; newlength ;i++) {\r\n                \t  System.out.println(a[i]);\r\n                  }//for\r\n    }//main\r\n    \r\n    private static int lengthofarraywithoutduplicates(int[] a) {\r\n    \t int count = 1 ;\r\n    \t for (int i = 1; i &lt; a.length; i++) {\r\n    \t\t  int ch = a[i];\r\n    \t\t  if(ch != a[i-1]) {\r\n    \t\t\t  a[count++] = ch;\r\n    \t\t  }//if\r\n    \t}//for\r\n    \treturn count;\r\n    \t\r\n    }//fix\r\n    \r\n    }//end1\r\n\r\n\r\nBut, it&#39;s always better to use Stream :\r\n\r\n\t\r\n\r\n    int[] a = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65};\r\n    int[] array = Arrays.stream(a).distinct().toArray();\r\n    System.out.println(Arrays.toString(array));//[1, 2, 3, 6, 66, 7, 65]\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>This is an interview question.</p>\n<pre><code>public class Test4 {\npublic static void main(String[] args) {\n     int a[] = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65}; \n              int newlength =    lengthofarraywithoutduplicates(a);\n              for(int i = 0 ; i &lt; newlength ;i++) {\n                  System.out.println(a[i]);\n              }//for\n}//main\n\nprivate static int lengthofarraywithoutduplicates(int[] a) {\n     int count = 1 ;\n     for (int i = 1; i &lt; a.length; i++) {\n          int ch = a[i];\n          if(ch != a[i-1]) {\n              a[count++] = ch;\n          }//if\n    }//for\n    return count;\n    \n}//fix\n\n}//end1\n</code></pre>\n<p>But, it's always better to use Stream :</p>\n<pre><code>int[] a = {1, 2, 2, 3, 3, 3, 6,6,6,6,6,66,7,65};\nint[] array = Arrays.stream(a).distinct().toArray();\nSystem.out.println(Arrays.toString(array));//[1, 2, 3, 6, 66, 7, 65]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9073730,"reputation":26,"user_id":6755990,"display_name":"Falguni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532717158,"creation_date":1532715230,"answer_id":51563419,"question_id":17967114,"body_markdown":"\r\n\r\n    public static int[] removeDuplicates(int[] arr) {\r\n\r\n    int end = arr.length;\r\n\r\n     HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(end);\r\n        for(int i = 0 ; i &lt; end ; i++){\r\n            set.add(arr[i]);\r\n        }\r\n    return set.toArray();\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static int[] removeDuplicates(int[] arr) {\n\nint end = arr.length;\n\n HashSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;(end);\n    for(int i = 0 ; i &lt; end ; i++){\n        set.add(arr[i]);\n    }\nreturn set.toArray();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5679483,"reputation":99,"user_id":4491252,"display_name":"Jeremiah"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1534339855,"creation_date":1534339855,"answer_id":51859701,"question_id":17967114,"body_markdown":"Heres a simpler, better way to do this using arraylists instead:\r\n\r\n    public static final &lt;T&gt; ArrayList&lt;T&gt; removeDuplicates(ArrayList&lt;T&gt; in){\r\n\t\tArrayList&lt;T&gt; out = new ArrayList&lt;T&gt;();\r\n\t\tfor(T t : in) \r\n\t\t\tif(!out.contains(t)) \r\n\t\t\t\tout.add(t);\r\n\t\treturn out;\r\n\t}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Heres a simpler, better way to do this using arraylists instead:</p>\n\n<pre><code>public static final &lt;T&gt; ArrayList&lt;T&gt; removeDuplicates(ArrayList&lt;T&gt; in){\n    ArrayList&lt;T&gt; out = new ArrayList&lt;T&gt;();\n    for(T t : in) \n        if(!out.contains(t)) \n            out.add(t);\n    return out;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":232768,"reputation":895,"user_id":497833,"display_name":"Maurizio Cucchiara"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539430955,"creation_date":1539430955,"answer_id":52792544,"question_id":17967114,"body_markdown":"Not a big fun of updating user input, however considering your constraints...\r\n\r\n\r\n    public int[] removeDup(int[] nums) {\r\n      Arrays.sort(nums);\r\n      int x = 0;\r\n      for (int i = 0; i &lt; nums.length; i++) {\r\n        if (i == 0 || nums[i] != nums[i - 1]) {\r\n    \tnums[x++] = nums[i];\r\n        }\r\n      }\r\n      return Arrays.copyOf(nums, x);\r\n    }\r\n\r\nArray sort can be easily replaced with any nlog(n) algorithm.","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Not a big fun of updating user input, however considering your constraints...</p>\n\n<pre><code>public int[] removeDup(int[] nums) {\n  Arrays.sort(nums);\n  int x = 0;\n  for (int i = 0; i &lt; nums.length; i++) {\n    if (i == 0 || nums[i] != nums[i - 1]) {\n    nums[x++] = nums[i];\n    }\n  }\n  return Arrays.copyOf(nums, x);\n}\n</code></pre>\n\n<p>Array sort can be easily replaced with any nlog(n) algorithm.</p>\n"},{"tags":[],"owner":{"account_id":5576356,"reputation":1938,"user_id":4419626,"accept_rate":30,"display_name":"Tomin"},"comment_count":0,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1550326971,"creation_date":1550326971,"answer_id":54724042,"question_id":17967114,"body_markdown":"If you are allowed to use Java 8 streams:\r\n\r\n    Arrays.stream(arr).distinct().toArray();","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>If you are allowed to use Java 8 streams:</p>\n\n<pre><code>Arrays.stream(arr).distinct().toArray();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":393656,"reputation":8442,"user_id":755637,"accept_rate":35,"display_name":"V H"},"score":0,"creation_date":1643549742,"post_id":55205639,"comment_id":125364768,"body_markdown":"in the `removeDuplicate` at the very end the last line before `return tempArray` you need something like `tempArray = Arrays.copyOf(tempArray,  j);` otherwise the initiated tempArray will be the size of original array which in short contains a bunch of 0&#39;s for all the entries that were in effect duplicates","body":"in the <code>removeDuplicate</code> at the very end the last line before <code>return tempArray</code> you need something like <code>tempArray = Arrays.copyOf(tempArray,  j);</code> otherwise the initiated tempArray will be the size of original array which in short contains a bunch of 0&#39;s for all the entries that were in effect duplicates"}],"tags":[],"owner":{"account_id":8958875,"reputation":3265,"user_id":6682274,"accept_rate":25,"display_name":"Sudhir Ojha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552814991,"creation_date":1552814991,"answer_id":55205639,"question_id":17967114,"body_markdown":"The most efficient way to remove duplicates from integer array without using set is, just create a temp array and iterate the original array and check if number exists in temp array then do not push into array else put into temp array and return temp array as result. Please consider the following code snippet :\r\n\r\n    package com.numbers;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    public class RemoveDuplicates {\r\n    \tpublic int[] removeDuplicate(int[] array) {\r\n    \t\tint[] tempArray = new int[array.length];\r\n    \t\tint j = 0;\r\n    \t\tfor (int i : array) {\r\n    \t\t\tif (!isExists(tempArray, i)) {\r\n    \t\t\t\ttempArray[j++] = i;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn tempArray;\r\n    \t}\r\n    \r\n    \tpublic static boolean isExists(int[] array, int num) {\r\n    \t\tif (array == null)\r\n    \t\t\treturn false;\r\n    \t\tfor (int i : array) {\r\n    \t\t\tif (i == num) {\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint [] array = { 10, 20, 30, 10, 45, 30 };\r\n    \t\tRemoveDuplicates duplicates = new RemoveDuplicates();\r\n    \t\tSystem.out.println(&quot;Before removing duplicates : &quot; + Arrays.toString(array));\r\n    \t\tint [] newArray = duplicates.removeDuplicate(array);\r\n    \t\tSystem.out.println(&quot;After removing duplicates : &quot; + Arrays.toString(newArray));\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>The most efficient way to remove duplicates from integer array without using set is, just create a temp array and iterate the original array and check if number exists in temp array then do not push into array else put into temp array and return temp array as result. Please consider the following code snippet :</p>\n\n<pre><code>package com.numbers;\n\nimport java.util.Arrays;\n\npublic class RemoveDuplicates {\n    public int[] removeDuplicate(int[] array) {\n        int[] tempArray = new int[array.length];\n        int j = 0;\n        for (int i : array) {\n            if (!isExists(tempArray, i)) {\n                tempArray[j++] = i;\n            }\n        }\n        return tempArray;\n    }\n\n    public static boolean isExists(int[] array, int num) {\n        if (array == null)\n            return false;\n        for (int i : array) {\n            if (i == num) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    public static void main(String[] args) {\n        int [] array = { 10, 20, 30, 10, 45, 30 };\n        RemoveDuplicates duplicates = new RemoveDuplicates();\n        System.out.println(\"Before removing duplicates : \" + Arrays.toString(array));\n        int [] newArray = duplicates.removeDuplicate(array);\n        System.out.println(\"After removing duplicates : \" + Arrays.toString(newArray));\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11812679,"reputation":11,"user_id":8643749,"display_name":"Abdul Rehman Mehar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562487440,"creation_date":1562487440,"answer_id":56920421,"question_id":17967114,"body_markdown":"Just a trick to remove duplicates.\r\n\r\n    public class RemoveDuplicates {\r\n        public static void main(String[] args) {\r\n            int[] arr = {2,2,2,2,2,5,9, 4,5,6,1,6,6,2,4,7};\r\n            arr = removeDuplicates(arr);    \r\n            print(arr);\r\n        }\r\n\r\n        public static int[] removeDuplicates(int [] arr) {\r\n            final int garbage = -2147483648;\r\n            int duplicates = 0;\r\n\r\n            for(int i=0; i&lt;arr.length; i++) {\r\n                for(int j=i+1; j&lt;arr.length; j++) {\r\n                    if (arr[i] == arr[j]) {\r\n                        arr[i] = garbage;\r\n                        duplicates++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            int[] nArr = new int[arr.length - duplicates];\r\n            int nItr = 0;\r\n            for(int i=0; i&lt;arr.length; i++) {\r\n                if (arr[i] != garbage) {\r\n                    nArr[nItr] = arr[i];\r\n                    nItr++;\r\n                } \r\n            }\r\n            return nArr;\r\n        }\r\n\r\n        public static void print(int [] arr) {\r\n            for (int n : arr) {\r\n                System.out.print(n + &quot;\\t&quot;);\r\n            }\r\n        }\r\n\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Just a trick to remove duplicates.</p>\n\n<pre><code>public class RemoveDuplicates {\n    public static void main(String[] args) {\n        int[] arr = {2,2,2,2,2,5,9, 4,5,6,1,6,6,2,4,7};\n        arr = removeDuplicates(arr);    \n        print(arr);\n    }\n\n    public static int[] removeDuplicates(int [] arr) {\n        final int garbage = -2147483648;\n        int duplicates = 0;\n\n        for(int i=0; i&lt;arr.length; i++) {\n            for(int j=i+1; j&lt;arr.length; j++) {\n                if (arr[i] == arr[j]) {\n                    arr[i] = garbage;\n                    duplicates++;\n                }\n            }\n        }\n\n        int[] nArr = new int[arr.length - duplicates];\n        int nItr = 0;\n        for(int i=0; i&lt;arr.length; i++) {\n            if (arr[i] != garbage) {\n                nArr[nItr] = arr[i];\n                nItr++;\n            } \n        }\n        return nArr;\n    }\n\n    public static void print(int [] arr) {\n        for (int n : arr) {\n            System.out.print(n + \"\\t\");\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16810539,"reputation":91,"user_id":12153660,"display_name":"Abhishek Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1577466821,"creation_date":1577466821,"answer_id":59503942,"question_id":17967114,"body_markdown":"\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class Practice {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint a[] = { 1, 3, 3, 4, 2, 1, 5, 6, 7, 7, 8, 10 };\r\n\t\tArrays.sort(a);\r\n\t\tint j = 0;\r\n\t\tfor (int i = 0; i &lt; a.length - 1; i++) {\r\n\t\t\tif (a[i] != a[i + 1]) {\r\n\t\t\t\ta[j] = a[i];\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t}\r\n\t\ta[j] = a[a.length - 1];\r\n\t\tfor (int i = 0; i &lt;= j; i++) {\r\n\t\t\tSystem.out.println(a[i]);\r\n\t\t}\r\n\r\n\t}\r\n    }\r\n    **This is the most simplest way**","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>import java.util.Arrays;\n\npublic class Practice {\n\npublic static void main(String[] args) {\n    int a[] = { 1, 3, 3, 4, 2, 1, 5, 6, 7, 7, 8, 10 };\n    Arrays.sort(a);\n    int j = 0;\n    for (int i = 0; i &lt; a.length - 1; i++) {\n        if (a[i] != a[i + 1]) {\n            a[j] = a[i];\n            j++;\n        }\n    }\n    a[j] = a[a.length - 1];\n    for (int i = 0; i &lt;= j; i++) {\n        System.out.println(a[i]);\n    }\n\n}\n}\n**This is the most simplest way**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15716783,"reputation":567,"user_id":11340793,"display_name":"Hamidreza Soltani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577786178,"creation_date":1577786178,"answer_id":59542475,"question_id":17967114,"body_markdown":"You can use an auxiliary array (temp) which in indexes are numbers of main array. So the time complexity will be liner and O(n). As we want to do it without using any library, we define another array (unique) to push non-duplicate elements:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var num = [2,4,9,4,1,2,24,12,4];\r\n    let temp = [];\r\n    let unique = [];\r\n    let j = 0;\r\n    for (let i = 0; i &lt; num.length; i++){\r\n      if (temp[num[i]] !== 1){\r\n        temp[num[i]] = 1;\r\n        unique[j++] = num[i];\r\n      }\r\n    }\r\n    console.log(unique);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>You can use an auxiliary array (temp) which in indexes are numbers of main array. So the time complexity will be liner and O(n). As we want to do it without using any library, we define another array (unique) to push non-duplicate elements:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var num = [2,4,9,4,1,2,24,12,4];\r\nlet temp = [];\r\nlet unique = [];\r\nlet j = 0;\r\nfor (let i = 0; i &lt; num.length; i++){\r\n  if (temp[num[i]] !== 1){\r\n    temp[num[i]] = 1;\r\n    unique[j++] = num[i];\r\n  }\r\n}\r\nconsole.log(unique);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14548410,"reputation":41,"user_id":10508051,"display_name":"Leo Garza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603603860,"creation_date":1603603316,"answer_id":64520611,"question_id":17967114,"body_markdown":"If you are looking to remove duplicates using the same array and also keeping the time complexity of O(n). Then this should do the trick. Also, would only work if the array is sorted. \r\n\r\n    function removeDuplicates_sorted(arr){\r\n\r\n    let j = 0; \r\n\r\n    for(let x = 0; x &lt; arr.length - 1; x++){\r\n        \r\n        if(arr[x] != arr[x + 1]){ \r\n            arr[j++] = arr[x];\r\n        }\r\n    }\r\n\r\n    arr[j++] = arr[arr.length - 1];\r\n    arr.length = j;\r\n\r\n    return arr;\r\n}\r\n\r\nHere is for an unsorted array, its O(n) but uses more space complexity then the sorted. \r\n\r\n    function removeDuplicates_unsorted(arr){\r\n\r\n    let map = {};\r\n    let j = 0;\r\n\r\n    for(var numbers of arr){\r\n        if(!map[numbers]){\r\n            map[numbers] = 1;\r\n            arr[j++] = numbers;\r\n        }\r\n    }\r\n\r\n    arr.length = j;\r\n\r\n    return arr;\r\n}","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>If you are looking to remove duplicates using the same array and also keeping the time complexity of O(n). Then this should do the trick. Also, would only work if the array is sorted.</p>\n<pre><code>function removeDuplicates_sorted(arr){\n\nlet j = 0; \n\nfor(let x = 0; x &lt; arr.length - 1; x++){\n    \n    if(arr[x] != arr[x + 1]){ \n        arr[j++] = arr[x];\n    }\n}\n\narr[j++] = arr[arr.length - 1];\narr.length = j;\n\nreturn arr;\n</code></pre>\n<p>}</p>\n<p>Here is for an unsorted array, its O(n) but uses more space complexity then the sorted.</p>\n<pre><code>function removeDuplicates_unsorted(arr){\n\nlet map = {};\nlet j = 0;\n\nfor(var numbers of arr){\n    if(!map[numbers]){\n        map[numbers] = 1;\n        arr[j++] = numbers;\n    }\n}\n\narr.length = j;\n\nreturn arr;\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605319116,"creation_date":1605291945,"answer_id":64826139,"question_id":17967114,"body_markdown":"We can remove duplicates using heap data structure.\r\n1. Create a min Heap or Max heap [I use min Heap](Takes `O(n)`)\r\n2. remove the elements from the heap and store it into another list if that element is not in that list. This  takes `O(nlog(n))` since we remove an element from the heap and it takes `log n` we do this  until the all n elements removed from the heap `n * logn`\r\n\r\n\r\nOverall Time complexity is `O(nlog(n))`. \r\n\r\n\r\nPython code for my approach\r\n\r\n```\r\nimport heapq\r\n\r\nl =[1,2,4,6,3,2,6,1]\r\n\r\nheapq.heapify(l)\r\nno_duplicate_list =[]\r\n\r\ntry:\r\n    while True:\r\n        e = heapq.heappop(l)# will return the minimum value from the heap \r\n        if no_duplicate_list ==[]:\r\n            no_duplicate_list.append(e)\r\n        else:\r\n            if e == no_duplicate_list[-1]:\r\n                continue\r\n            no_duplicate_list.append(e)\r\nexcept IndexError as i:\r\n    print(no_duplicate_list) #[1, 2, 3, 4, 6]\r\n\r\n```\r\n\r\n","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>We can remove duplicates using heap data structure.</p>\n<ol>\n<li>Create a min Heap or Max heap [I use min Heap](Takes <code>O(n)</code>)</li>\n<li>remove the elements from the heap and store it into another list if that element is not in that list. This  takes <code>O(nlog(n))</code> since we remove an element from the heap and it takes <code>log n</code> we do this  until the all n elements removed from the heap <code>n * logn</code></li>\n</ol>\n<p>Overall Time complexity is <code>O(nlog(n))</code>.</p>\n<p>Python code for my approach</p>\n<pre><code>import heapq\n\nl =[1,2,4,6,3,2,6,1]\n\nheapq.heapify(l)\nno_duplicate_list =[]\n\ntry:\n    while True:\n        e = heapq.heappop(l)# will return the minimum value from the heap \n        if no_duplicate_list ==[]:\n            no_duplicate_list.append(e)\n        else:\n            if e == no_duplicate_list[-1]:\n                continue\n            no_duplicate_list.append(e)\nexcept IndexError as i:\n    print(no_duplicate_list) #[1, 2, 3, 4, 6]\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22601679,"reputation":73,"user_id":16909816,"display_name":"wesmlr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643307486,"creation_date":1643307486,"answer_id":70883744,"question_id":17967114,"body_markdown":"Note to other readers who desire to use the Set method of solving this problem: If original ordering must be preserved, do not use HashSet as in the top result. HashSet does not guarantee the preservation of the original order, so LinkedHashSet should be used instead-this keeps track of the order in which the elements were inserted into the set and returns them in that order. ","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>Note to other readers who desire to use the Set method of solving this problem: If original ordering must be preserved, do not use HashSet as in the top result. HashSet does not guarantee the preservation of the original order, so LinkedHashSet should be used instead-this keeps track of the order in which the elements were inserted into the set and returns them in that order.</p>\n"},{"tags":[],"owner":{"account_id":5668909,"reputation":56,"user_id":4484241,"display_name":"Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701700268,"creation_date":1701698797,"answer_id":77600054,"question_id":17967114,"body_markdown":"    public static void main(String[] args) {\r\n        int[] array = new int[]{1, 1, 2, 2, 3, 4, 5, 2};\r\n        int[] newArray  = removeDuplicates(array);\r\n        for (int i : newArray) {\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\n    // the total time complexity is O(n^2)\r\n    public static int[] removeDuplicates(int[] arr) {\r\n        int[] newArr = new int[arr.length];    //O(n)\r\n        int count = 0;\r\n\r\n       for (int i : arr) {                     //O(n)\r\n            boolean result = check(newArr, i); //O(n)\r\n\r\n            if (result)\r\n                newArr[count++] = i;\r\n        }\r\n        return  Arrays.copyOf(newArr, count);  //O(n)\r\n    }\r\n\r\n    public static boolean check(int[] arr, int value){\r\n        boolean result = true;\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            if(arr[i] == value){\r\n                result = false;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<pre><code>public static void main(String[] args) {\n    int[] array = new int[]{1, 1, 2, 2, 3, 4, 5, 2};\n    int[] newArray  = removeDuplicates(array);\n    for (int i : newArray) {\n        System.out.println(i);\n    }\n}\n\n// the total time complexity is O(n^2)\npublic static int[] removeDuplicates(int[] arr) {\n    int[] newArr = new int[arr.length];    //O(n)\n    int count = 0;\n\n   for (int i : arr) {                     //O(n)\n        boolean result = check(newArr, i); //O(n)\n\n        if (result)\n            newArr[count++] = i;\n    }\n    return  Arrays.copyOf(newArr, count);  //O(n)\n}\n\npublic static boolean check(int[] arr, int value){\n    boolean result = true;\n    for(int i = 0; i &lt; arr.length; i++){\n        if(arr[i] == value){\n            result = false;\n            break;\n        }\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":510227,"favorite_count":0,"down_vote_count":5,"up_vote_count":74,"accepted_answer_id":32689754,"answer_count":49,"score":69,"last_activity_date":1701700268,"creation_date":1375264229,"question_id":17967114,"body_markdown":"I was asked to write my own implementation to remove duplicated values in an array. Here is what I have created. But after tests with 1,000,000 elements it took very long time to finish. Is there something that I can do to improve my algorithm or any bugs to remove ? \r\n\r\n**I need to write my own implementation - not to [use `Set`](https://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array), `HashSet` etc. Or any other tools such as iterators. Simply an array to remove duplicates.**\r\n\r\n\r\n    public static int[] removeDuplicates(int[] arr) {\r\n    \r\n        int end = arr.length;\r\n    \r\n        for (int i = 0; i &lt; end; i++) {\r\n            for (int j = i + 1; j &lt; end; j++) {\r\n                if (arr[i] == arr[j]) {                  \r\n                    int shiftLeft = j;\r\n                    for (int k = j+1; k &lt; end; k++, shiftLeft++) {\r\n                        arr[shiftLeft] = arr[k];\r\n                    }\r\n                    end--;\r\n                    j--;\r\n                }\r\n            }\r\n        }\r\n    \r\n        int[] whitelist = new int[end];\r\n        for(int i = 0; i &lt; end; i++){\r\n            whitelist[i] = arr[i];\r\n        }\r\n        return whitelist;\r\n    }","title":"How to efficiently remove duplicates from an array without using Set","body":"<p>I was asked to write my own implementation to remove duplicated values in an array. Here is what I have created. But after tests with 1,000,000 elements it took very long time to finish. Is there something that I can do to improve my algorithm or any bugs to remove ? </p>\n\n<p><strong>I need to write my own implementation - not to <a href=\"https://stackoverflow.com/questions/10056729/java-remove-duplicates-from-an-array\">use <code>Set</code></a>, <code>HashSet</code> etc. Or any other tools such as iterators. Simply an array to remove duplicates.</strong></p>\n\n<pre><code>public static int[] removeDuplicates(int[] arr) {\n\n    int end = arr.length;\n\n    for (int i = 0; i &lt; end; i++) {\n        for (int j = i + 1; j &lt; end; j++) {\n            if (arr[i] == arr[j]) {                  \n                int shiftLeft = j;\n                for (int k = j+1; k &lt; end; k++, shiftLeft++) {\n                    arr[shiftLeft] = arr[k];\n                }\n                end--;\n                j--;\n            }\n        }\n    }\n\n    int[] whitelist = new int[end];\n    for(int i = 0; i &lt; end; i++){\n        whitelist[i] = arr[i];\n    }\n    return whitelist;\n}\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":6,"creation_date":1481051501,"post_id":19154117,"comment_id":69214810,"body_markdown":"There was no reason to close this question.  Anyway, the best solution is to use `string.regionMatches(true, 0, prefix, 0, prefix.length());` which doesn&#39;t incur the cost of &quot;normalizing&quot; both strings.","body":"There was no reason to close this question.  Anyway, the best solution is to use <code>string.regionMatches(true, 0, prefix, 0, prefix.length());</code> which doesn&#39;t incur the cost of &quot;normalizing&quot; both strings."},{"owner":{"account_id":940012,"reputation":21855,"user_id":968244,"accept_rate":58,"display_name":"isapir"},"score":0,"creation_date":1539121142,"post_id":19154117,"comment_id":92384505,"body_markdown":"@AlexanderAbakumov Fine by me.  The correct answer is posted in my comment above.  It is much more efficient than changing the case of strings.  It&#39;d be good to upgrade it to an answer rather than a comment.","body":"@AlexanderAbakumov Fine by me.  The correct answer is posted in my comment above.  It is much more efficient than changing the case of strings.  It&#39;d be good to upgrade it to an answer rather than a comment."}],"answers":[{"comments":[{"owner":{"account_id":3376401,"reputation":1557,"user_id":2834468,"display_name":"Sheetal Bhatewara"},"score":1,"creation_date":1381236428,"post_id":19154150,"comment_id":28492174,"body_markdown":"Actually, suppose there is a table which is having more than 1 lakh entries , and I use a for loop on particular column to parse all those entries and in that, I try to use this lowercase option above to search an entry starting with particular pattern. So, this is causing a performance issue. If there is no match found at all, then internally it will parse through all the entries, which will take lot of time, as simultaneously its getting converted to lowercase as well. So is there any other option, to resolve performance issue?","body":"Actually, suppose there is a table which is having more than 1 lakh entries , and I use a for loop on particular column to parse all those entries and in that, I try to use this lowercase option above to search an entry starting with particular pattern. So, this is causing a performance issue. If there is no match found at all, then internally it will parse through all the entries, which will take lot of time, as simultaneously its getting converted to lowercase as well. So is there any other option, to resolve performance issue?"},{"owner":{"account_id":4939453,"reputation":1560,"user_id":3976630,"accept_rate":54,"display_name":"DPM"},"score":0,"creation_date":1519985169,"post_id":19154150,"comment_id":85138743,"body_markdown":"@Rohit Jain, actually this:\n\t`System.out.println(&quot;Session&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase()));` is not a propper solution.\n\nYou can try this: \n\t`System.out.println(&quot;SessIon&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase()));`\nwith vm arguments `-Duser.country=TR -Duser.language=tr` \nIn this example the `I` is uppercase `i`","body":"@Rohit Jain, actually this: \t<code>System.out.println(&quot;Session&quot;.toLowerCase().startsWith(&quot;sEsS&zwnj;&#8203;i&quot;.toLowerCase()));</code> is not a propper solution.  You can try this:  \t<code>System.out.println(&quot;SessIon&quot;.toLowerCase().startsWith(&quot;sEsS&zwnj;&#8203;i&quot;.toLowerCase()));</code> with vm arguments <code>-Duser.country=TR -Duser.language=tr</code>  In this example the <code>I</code> is uppercase <code>i</code>"}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":2,"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1701700120,"creation_date":1380788309,"answer_id":19154150,"question_id":19154117,"body_markdown":"&lt;strike&gt;One option is to convert both of them to either lowercase or uppercase:\r\n\r\n    &quot;Session&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase());\r\n&lt;/strike&gt;\r\nThis is wrong. See: &lt;a href=&quot;https://stackoverflow.com/a/15518878/14731&quot;&gt;https://stackoverflow.com/a/15518878/14731&lt;/a&gt;\r\n&lt;hr /&gt;\r\n\r\nAnother option is to use [`String#regionMatches()`][1] method, which takes a boolean argument stating whether to do case-sensitive matching or not. You can use it like this:\r\n\r\n    String haystack = &quot;Session&quot;;\r\n    String needle = &quot;sEsSi&quot;;\r\n    System.out.println(haystack.regionMatches(true, 0, needle, 0, needle.length()));  // true\r\n\r\nIt checks whether the region of `needle` from index `0` till length `5` is present in `haystack` starting from index `0` till length `5` or not. The first argument is `true`, means it will do case-insensitive matching.\r\n\r\n&lt;hr /&gt;\r\n\r\nAnd if only you are a big fan of ***Regex***, you can do something like this:\r\n\r\n    System.out.println(haystack.matches(&quot;(?i)&quot; + Pattern.quote(needle) + &quot;.*&quot;));\r\n\r\n`(?i)` embedded flag is for ignore case matching. \r\n\r\n[1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#regionMatches%28boolean,%20int,%20java.lang.String,%20int,%20int%29\r\n","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p><strike>One option is to convert both of them to either lowercase or uppercase:</p>\n<pre><code>&quot;Session&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase());\n</code></pre>\n</strike>\nThis is wrong. See: <a href=\"https://stackoverflow.com/a/15518878/14731\">https://stackoverflow.com/a/15518878/14731</a>\n<hr />\n<p>Another option is to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#regionMatches%28boolean,%20int,%20java.lang.String,%20int,%20int%29\" rel=\"nofollow noreferrer\"><code>String#regionMatches()</code></a> method, which takes a boolean argument stating whether to do case-sensitive matching or not. You can use it like this:</p>\n<pre><code>String haystack = &quot;Session&quot;;\nString needle = &quot;sEsSi&quot;;\nSystem.out.println(haystack.regionMatches(true, 0, needle, 0, needle.length()));  // true\n</code></pre>\n<p>It checks whether the region of <code>needle</code> from index <code>0</code> till length <code>5</code> is present in <code>haystack</code> starting from index <code>0</code> till length <code>5</code> or not. The first argument is <code>true</code>, means it will do case-insensitive matching.</p>\n<hr />\n<p>And if only you are a big fan of <em><strong>Regex</strong></em>, you can do something like this:</p>\n<pre><code>System.out.println(haystack.matches(&quot;(?i)&quot; + Pattern.quote(needle) + &quot;.*&quot;));\n</code></pre>\n<p><code>(?i)</code> embedded flag is for ignore case matching.</p>\n"},{"tags":[],"owner":{"account_id":2720760,"reputation":2190,"user_id":2347107,"accept_rate":79,"display_name":"agad"},"comment_count":0,"down_vote_count":7,"up_vote_count":7,"is_accepted":false,"score":0,"last_activity_date":1380788320,"creation_date":1380788320,"answer_id":19154156,"question_id":19154117,"body_markdown":"    myString.toLowerCase().startsWith(starting.toLowerCase());","title":"How to use `string.startsWith()` method ignoring the case?","body":"<pre><code>myString.toLowerCase().startsWith(starting.toLowerCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"comment_count":0,"down_vote_count":7,"up_vote_count":7,"is_accepted":false,"score":0,"last_activity_date":1380788336,"creation_date":1380788336,"answer_id":19154164,"question_id":19154117,"body_markdown":"try this,\r\n\r\n    String session = &quot;Session&quot;;\r\n    if(session.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase()))","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>try this,</p>\n\n<pre><code>String session = \"Session\";\nif(session.toLowerCase().startsWith(\"sEsSi\".toLowerCase()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"comment_count":0,"down_vote_count":5,"up_vote_count":3,"is_accepted":false,"score":-2,"last_activity_date":1380788338,"creation_date":1380788338,"answer_id":19154165,"question_id":19154117,"body_markdown":"You can always do\r\n\r\n    &quot;Session&quot;.toLowerCase().startsWith(&quot;sEsSi&quot;.toLowerCase());","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>You can always do</p>\n\n<pre><code>\"Session\".toLowerCase().startsWith(\"sEsSi\".toLowerCase());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1914874,"reputation":13438,"user_id":1727645,"accept_rate":81,"display_name":"Prasad Kharkar"},"comment_count":0,"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1380788351,"creation_date":1380788351,"answer_id":19154168,"question_id":19154117,"body_markdown":"You can use `someString.toUpperCase().startsWith(someOtherString.toUpperCase())`","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>You can use <code>someString.toUpperCase().startsWith(someOtherString.toUpperCase())</code></p>\n"},{"comments":[{"owner":{"account_id":1141390,"reputation":1154,"user_id":1125191,"accept_rate":60,"display_name":"Dyorgio"},"score":16,"creation_date":1460047947,"post_id":19154186,"comment_id":60574712,"body_markdown":"The big problem here is the performance.\nFor small Strings no problem, but if you have a big one... I mean... Do you really will do a toUpperCase in a 1mb String just to compare 4-10 inicial characters?","body":"The big problem here is the performance. For small Strings no problem, but if you have a big one... I mean... Do you really will do a toUpperCase in a 1mb String just to compare 4-10 inicial characters?"},{"owner":{"account_id":2138901,"reputation":2790,"user_id":1898059,"display_name":"Nemesis"},"score":7,"creation_date":1460233905,"post_id":19154186,"comment_id":60649529,"body_markdown":"Hum even if i can&#39;t see why i would like to compare the starting part of a 1mb String then if only 4 - 10 initial characters interest me i use substring and then normalize and done...","body":"Hum even if i can&#39;t see why i would like to compare the starting part of a 1mb String then if only 4 - 10 initial characters interest me i use substring and then normalize and done..."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":4,"creation_date":1471217827,"post_id":19154186,"comment_id":65250347,"body_markdown":"This answer (and all other answers found herein) are wrong. If you look at the implementation of `String.equalsIgnoreCase()` you will discover that you need to compare **both** lowercase and uppercase versions of the Strings before you can conclusively return `false`. See http://stackoverflow.com/a/38947571/14731 for an alternative answer.","body":"This answer (and all other answers found herein) are wrong. If you look at the implementation of <code>String.equalsIgnoreCase()</code> you will discover that you need to compare <b>both</b> lowercase and uppercase versions of the Strings before you can conclusively return <code>false</code>. See <a href=\"http://stackoverflow.com/a/38947571/14731\">stackoverflow.com/a/38947571/14731</a> for an alternative answer."},{"owner":{"account_id":2138901,"reputation":2790,"user_id":1898059,"display_name":"Nemesis"},"score":0,"creation_date":1473668372,"post_id":19154186,"comment_id":66213902,"body_markdown":"Hum if you have uped your string and then test agains an upped prefix i can&#39;t see when this will fail. Ii seem&#39;s to me that&#39;s what &#39;standardise a string&#39; means... I used it many times with no error in real life projects.","body":"Hum if you have uped your string and then test agains an upped prefix i can&#39;t see when this will fail. Ii seem&#39;s to me that&#39;s what &#39;standardise a string&#39; means... I used it many times with no error in real life projects."},{"owner":{"account_id":3208184,"reputation":1969,"user_id":2708768,"accept_rate":67,"display_name":"Mustafa Berkay Mutlu"},"score":16,"creation_date":1517225093,"post_id":19154186,"comment_id":83993524,"body_markdown":"This answer is not true because toLowerCase() uses Locale.getDefault() internally to change the chars and that might lead to false negatives. Let&#39;s say you want to compare &quot;İstanbul&quot; with &quot;istanbul&quot;. In Turkish &quot;İ&quot; s lower case equivalent is &quot;ı&quot;. So when I try to do that `&quot;İstanbul&quot;.toLowerCase().startsWith(&quot;istanbul&quot;.toLowerCase())` (in a Locale.Turkish environment), it will give me false.","body":"This answer is not true because toLowerCase() uses Locale.getDefault() internally to change the chars and that might lead to false negatives. Let&#39;s say you want to compare &quot;İstanbul&quot; with &quot;istanbul&quot;. In Turkish &quot;İ&quot; s lower case equivalent is &quot;ı&quot;. So when I try to do that <code>&quot;İstanbul&quot;.toLowerCase().startsWith(&quot;istanbul&quot;.toLowerCase()&zwnj;&#8203;)</code> (in a Locale.Turkish environment), it will give me false."},{"owner":{"account_id":1214314,"reputation":4355,"user_id":1182207,"accept_rate":74,"display_name":"Moha the almighty camel"},"score":3,"creation_date":1564332159,"post_id":19154186,"comment_id":100986747,"body_markdown":"@Nemesis, This answer is wrong, having it as the accepted answer could be misleading for a lot of people. Would you please edit your answer and link to Rohit Jain answer.","body":"@Nemesis, This answer is wrong, having it as the accepted answer could be misleading for a lot of people. Would you please edit your answer and link to Rohit Jain answer."},{"owner":{"account_id":10598771,"reputation":304,"user_id":8261867,"display_name":"A.G."},"score":0,"creation_date":1693527321,"post_id":19154186,"comment_id":135776662,"body_markdown":"This is a wrong answer since the original value should not be changed for a conditional function.","body":"This is a wrong answer since the original value should not be changed for a conditional function."}],"tags":[],"owner":{"account_id":2138901,"reputation":2790,"user_id":1898059,"display_name":"Nemesis"},"comment_count":7,"down_vote_count":22,"up_vote_count":143,"is_accepted":true,"score":121,"last_activity_date":1475851594,"creation_date":1380788390,"answer_id":19154186,"question_id":19154117,"body_markdown":"Use `toUpperCase()` or `toLowerCase()` to standardise your string before testing it.","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>Use <code>toUpperCase()</code> or <code>toLowerCase()</code> to standardise your string before testing it.</p>\n"},{"comments":[{"owner":{"account_id":55283,"reputation":2190,"user_id":165494,"accept_rate":97,"display_name":"Mass Dot Net"},"score":0,"creation_date":1639415658,"post_id":63051198,"comment_id":124337497,"body_markdown":"Perfect -- thank you.  This is the answer I was looking for.","body":"Perfect -- thank you.  This is the answer I was looking for."}],"tags":[],"owner":{"account_id":5784405,"reputation":595,"user_id":4564127,"accept_rate":80,"display_name":"S&#233;bastien Vandamme"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1701699994,"creation_date":1595496944,"answer_id":63051198,"question_id":19154117,"body_markdown":"I know I&#39;m late, but what about using StringUtils.startsWithIgnoreCase() from Apache Commons Lang 3 ?\r\n\r\nExample : \r\n\r\n    StringUtils.startsWithIgnoreCase(string, &quot;start&quot;);\r\n\r\nJust add the following dependency to your pom.xml file (taking the hypothesis that you use Maven) :\r\n\r\n&lt;!-- language: xml --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.11&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>I know I'm late, but what about using StringUtils.startsWithIgnoreCase() from Apache Commons Lang 3 ?</p>\n<p>Example :</p>\n<pre><code>StringUtils.startsWithIgnoreCase(string, &quot;start&quot;);\n</code></pre>\n<p>Just add the following dependency to your pom.xml file (taking the hypothesis that you use Maven) :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":2,"creation_date":1631891547,"post_id":68554662,"comment_id":122354350,"body_markdown":"The question is about java.","body":"The question is about java."}],"tags":[],"owner":{"account_id":8983661,"reputation":805,"user_id":6697946,"display_name":"pedram"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1627448703,"creation_date":1627448703,"answer_id":68554662,"question_id":19154117,"body_markdown":"StartsWith(String value, bool ignoreCase, CultureInfo? culture)\r\ne.g: \r\n\r\n    string test = &quot;Session&quot;;\r\n    bool result = test.StartsWith(&quot;sEsSi&quot;, true, null);\r\n    Console.WriteLine(result);\r\n\r\npoint: in VS by right-clicking on StartsWith and then &quot;pick definition&quot; can see all overloading method \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HOjqc.png\r\n  [2]: https://i.stack.imgur.com/JKsnf.png","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>StartsWith(String value, bool ignoreCase, CultureInfo? culture)\ne.g:</p>\n<pre><code>string test = &quot;Session&quot;;\nbool result = test.StartsWith(&quot;sEsSi&quot;, true, null);\nConsole.WriteLine(result);\n</code></pre>\n<p>point: in VS by right-clicking on StartsWith and then &quot;pick definition&quot; can see all overloading method</p>\n<p><a href=\"https://i.stack.imgur.com/HOjqc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOjqc.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JKsnf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JKsnf.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":5392262,"reputation":4671,"user_id":4294399,"display_name":"General Grievance"},"score":0,"creation_date":1690990907,"post_id":76783971,"comment_id":135430848,"body_markdown":"The question is about Java, not .NET/C#.","body":"The question is about Java, not .NET/C#."}],"tags":[],"owner":{"account_id":18530329,"reputation":9,"user_id":13501274,"display_name":"TTTT"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690957469,"creation_date":1690500078,"answer_id":76783971,"question_id":19154117,"body_markdown":"    myString.StartsWith(anotherString, StringComparison.OrdinalIgnoreCase)","title":"How to use `string.startsWith()` method ignoring the case?","body":"<pre><code>myString.StartsWith(anotherString, StringComparison.OrdinalIgnoreCase)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10598771,"reputation":304,"user_id":8261867,"display_name":"A.G."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693534657,"creation_date":1693529677,"answer_id":77019970,"question_id":19154117,"body_markdown":"You can use String.search() function with regex that will give you the index of the first substring match of the search string. Then you can test the returned index to see if it is 0. &#39;i&#39; at the end makes the search case insensitive.\r\n\r\n    const session = &#39;Session&#39;;\r\n    const startsWith = session.search(/sEsSi/i) === 0;","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>You can use String.search() function with regex that will give you the index of the first substring match of the search string. Then you can test the returned index to see if it is 0. 'i' at the end makes the search case insensitive.</p>\n<pre><code>const session = 'Session';\nconst startsWith = session.search(/sEsSi/i) === 0;\n</code></pre>\n"}],"owner":{"account_id":3376401,"reputation":1557,"user_id":2834468,"display_name":"Sheetal Bhatewara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135684,"favorite_count":0,"down_vote_count":4,"up_vote_count":150,"accepted_answer_id":19154186,"answer_count":10,"score":146,"last_activity_date":1701700120,"creation_date":1380788193,"question_id":19154117,"body_markdown":"I want to use `string.startsWith()` method but ignoring the case.\r\n\r\nSuppose I have `String` &quot;Session&quot; and I use `startsWith` on &quot;sEsSi&quot; then it should return `true`.\r\n\r\nHow can I achieve this?","title":"How to use `string.startsWith()` method ignoring the case?","body":"<p>I want to use <code>string.startsWith()</code> method but ignoring the case.</p>\n\n<p>Suppose I have <code>String</code> \"Session\" and I use <code>startsWith</code> on \"sEsSi\" then it should return <code>true</code>.</p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["java","intellij-idea","javafx","controlsfx"],"answers":[{"comments":[{"owner":{"account_id":23773642,"reputation":1,"user_id":17787395,"display_name":"K X"},"score":0,"creation_date":1694357039,"post_id":77076574,"comment_id":135877666,"body_markdown":"Thanks for ur answer. After I replace the vm options with this --add-exports=javafx.base/com.sun.javafx.event=All-UNNAMED. I able to run the program, it does not have any run time error. But the TextFields.bindAutoCompletion() is not working.","body":"Thanks for ur answer. After I replace the vm options with this --add-exports=javafx.base/com.sun.javafx.event=All-UNNAMED. I able to run the program, it does not have any run time error. But the TextFields.bindAutoCompletion() is not working."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1694404769,"post_id":77076574,"comment_id":135881750,"body_markdown":"Well as noted in the answer: “ However, this might not work if org.controlsfx.controls does not support being put on the class path.”  So try making your app modular (adding a module-info) instead, as also noted in the answer.  There is documentation on the controlsfx site about [using it in a modular environment](https://github.com/controlsfx/controlsfx/wiki/Using-ControlsFX-with-JDK-9-and-above).","body":"Well as noted in the answer: “ However, this might not work if org.controlsfx.controls does not support being put on the class path.”  So try making your app modular (adding a module-info) instead, as also noted in the answer.  There is documentation on the controlsfx site about <a href=\"https://github.com/controlsfx/controlsfx/wiki/Using-ControlsFX-with-JDK-9-and-above\" rel=\"nofollow noreferrer\">using it in a modular environment</a>."}],"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1694375841,"creation_date":1694356769,"answer_id":77076574,"question_id":77076526,"body_markdown":"It looks like `org.controlsfx.controls` is being put onto the class path instead of the module path by IntelliJ:\r\n\r\n    class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e)\r\n\r\n(The unnamed modules means the class path).\r\n\r\nIntelliJ puts dependencies on the class or module path depending on whether the project itself is modular. So, in order to have IJ put `org.controlsfx.controls` on the module path, you have to modularise the project by adding a `module-info.java` file.\r\n\r\n(see also: https://stackoverflow.com/questions/65267831)\r\n\r\n---\r\n\r\nIf you don&#39;t want to modularise your project, alternatively you could try using:\r\n\r\n    --add-exports=javafx.base/com.sun.javafx.event=All-UNNAMED\r\n\r\nWhich exports the package to the class path instead (unnamed module). However, this might not work if `org.controlsfx.controls` does not support being put on the class path.\r\n\r\n","title":"Run time error of controls-fx, WARNING: Unknown module: org.controlsfx.controls specified to --add-exports","body":"<p>It looks like <code>org.controlsfx.controls</code> is being put onto the class path instead of the module path by IntelliJ:</p>\n<pre><code>class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e)\n</code></pre>\n<p>(The unnamed modules means the class path).</p>\n<p>IntelliJ puts dependencies on the class or module path depending on whether the project itself is modular. So, in order to have IJ put <code>org.controlsfx.controls</code> on the module path, you have to modularise the project by adding a <code>module-info.java</code> file.</p>\n<p>(see also: <a href=\"https://stackoverflow.com/questions/65267831\">IntelliJ: Put some dependencies on the module path in non-modular application</a>)</p>\n<hr />\n<p>If you don't want to modularise your project, alternatively you could try using:</p>\n<pre><code>--add-exports=javafx.base/com.sun.javafx.event=All-UNNAMED\n</code></pre>\n<p>Which exports the package to the class path instead (unnamed module). However, this might not work if <code>org.controlsfx.controls</code> does not support being put on the class path.</p>\n"}],"owner":{"account_id":23773642,"reputation":1,"user_id":17787395,"display_name":"K X"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701699988,"creation_date":1694355962,"question_id":77076526,"body_markdown":"I could include the controlsfx into my project in IntelliJ but I can&#39;t run the program. \r\nI also already try the other solution: adding this into VM options\r\n\r\n    --add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls\r\n\r\nWhen I run the program, it has run time error:\r\n\r\n        WARNING: Unknown module: org.controlsfx.controls specified to --add-exports\r\n        Caused by: java.lang.reflect.InvocationTargetException\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n        \tat javafx.base@20.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n        \tat javafx.fxml@20.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n        \tat javafx.fxml@20.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\r\n        \t... 33 more\r\n        Caused by: java.lang.IllegalAccessError: class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to unnamed module @0x6bbb636e\r\n        \tat org.controlsfx.control.textfield.AutoCompletionBinding.&lt;init&gt;(AutoCompletionBinding.java:538)\r\n        \tat impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:107)\r\n        \tat impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:92)\r\n        \tat org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:188)\r\n        \tat org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:182)\r\n        \tat Controller.HomeSubScene.SearchBookingController.setUp(SearchBookingController.java:44)\r\n        \tat Controller.HomeCustController.showScene(HomeCustController.java:162)\r\n        \tat Controller.HomeCustController.showManageBookingScene(HomeCustController.java:134)\r\n        \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n        \t... 40 more\r\n    \r\nI hope I could use the controls fx in my project.","title":"Run time error of controls-fx, WARNING: Unknown module: org.controlsfx.controls specified to --add-exports","body":"<p>I could include the controlsfx into my project in IntelliJ but I can't run the program.\nI also already try the other solution: adding this into VM options</p>\n<pre><code>--add-exports=javafx.base/com.sun.javafx.event=org.controlsfx.controls\n</code></pre>\n<p>When I run the program, it has run time error:</p>\n<pre><code>    WARNING: Unknown module: org.controlsfx.controls specified to --add-exports\n    Caused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at javafx.base@20.0.2/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n        at javafx.fxml@20.0.2/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n        at javafx.fxml@20.0.2/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\n        ... 33 more\n    Caused by: java.lang.IllegalAccessError: class org.controlsfx.control.textfield.AutoCompletionBinding (in unnamed module @0x6bbb636e) cannot access class com.sun.javafx.event.EventHandlerManager (in module javafx.base) because module javafx.base does not export com.sun.javafx.event to unnamed module @0x6bbb636e\n        at org.controlsfx.control.textfield.AutoCompletionBinding.&lt;init&gt;(AutoCompletionBinding.java:538)\n        at impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:107)\n        at impl.org.controlsfx.autocompletion.AutoCompletionTextFieldBinding.&lt;init&gt;(AutoCompletionTextFieldBinding.java:92)\n        at org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:188)\n        at org.controlsfx.control.textfield.TextFields.bindAutoCompletion(TextFields.java:182)\n        at Controller.HomeSubScene.SearchBookingController.setUp(SearchBookingController.java:44)\n        at Controller.HomeCustController.showScene(HomeCustController.java:162)\n        at Controller.HomeCustController.showManageBookingScene(HomeCustController.java:134)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        ... 40 more\n</code></pre>\n<p>I hope I could use the controls fx in my project.</p>\n"},{"tags":["java","vert.x","event-bus","vertx-verticle"],"owner":{"account_id":5406100,"reputation":195,"user_id":4304575,"display_name":"Adrien Ruffie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701699817,"creation_date":1701699817,"question_id":77600176,"body_markdown":"I would like to know if is possible with Vert.X and its event bus (and several servers on the same eventbus), to be alert if a disconnection (a connection lost) with a remote server.\r\n\r\nFor example, we have several client(slave) servers and one master, we want to be informed when the connection between client/master.\r\n\r\nIn order to register a special event at the disconnection.\r\n\r\nThere exists a type of handler/callback which can be automatically notified by Vert.X ?\r\n\r\nthank a lot and best regards","title":"Track Vert.X eventbus disconnection","body":"<p>I would like to know if is possible with Vert.X and its event bus (and several servers on the same eventbus), to be alert if a disconnection (a connection lost) with a remote server.</p>\n<p>For example, we have several client(slave) servers and one master, we want to be informed when the connection between client/master.</p>\n<p>In order to register a special event at the disconnection.</p>\n<p>There exists a type of handler/callback which can be automatically notified by Vert.X ?</p>\n<p>thank a lot and best regards</p>\n"},{"tags":["java","hashmap"],"answers":[{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":46,"creation_date":1304684347,"post_id":5911199,"comment_id":6805140,"body_markdown":"+1: You can have more than one key with the same maximum value.  This loop will give you the first one it finds.","body":"+1: You can have more than one key with the same maximum value.  This loop will give you the first one it finds."},{"owner":{"account_id":1135021,"reputation":2068,"user_id":1120248,"accept_rate":86,"display_name":"Aaron J Lang"},"score":25,"creation_date":1325626843,"post_id":5911199,"comment_id":10853979,"body_markdown":"Changing &gt; 0 to &gt;= 0 will give you the last one it finds","body":"Changing &gt; 0 to &gt;= 0 will give you the last one it finds"},{"owner":{"account_id":22041,"reputation":949,"user_id":54035,"accept_rate":77,"display_name":"zkarthik"},"score":1,"creation_date":1419440662,"post_id":5911199,"comment_id":43698884,"body_markdown":"Would Java 8 streams usage help in simplifying this anymore?\ne.x: map.forEach((k,v) -&gt; ...","body":"Would Java 8 streams usage help in simplifying this anymore? e.x: map.forEach((k,v) -&gt; ..."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1419444065,"post_id":5911199,"comment_id":43700007,"body_markdown":"@zkarthik: Using `max` with a custom comparator would probably be simpler.","body":"@zkarthik: Using <code>max</code> with a custom comparator would probably be simpler."},{"owner":{"account_id":12180206,"reputation":2128,"user_id":8891889,"display_name":"Atharva Shukla"},"score":0,"creation_date":1646492481,"post_id":5911199,"comment_id":126139202,"body_markdown":"I had to pass in a `Comparator&lt;V&gt; cmp` parameter and compare values using `cmp.compare(entry.getValue(), maxEntry.getValue()) &gt; 0)`","body":"I had to pass in a <code>Comparator&lt;V&gt; cmp</code> parameter and compare values using <code>cmp.compare(entry.getValue(), maxEntry.getValue()) &gt; 0)</code>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1684064561,"post_id":5911199,"comment_id":134459089,"body_markdown":"@RishabhAgarwal: If you want to add additional options, please add a new answer rather than editing an existing one.","body":"@RishabhAgarwal: If you want to add additional options, please add a new answer rather than editing an existing one."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":6,"down_vote_count":0,"up_vote_count":160,"is_accepted":true,"score":160,"last_activity_date":1684064526,"creation_date":1304683804,"answer_id":5911199,"question_id":5911174,"body_markdown":"Basically you&#39;d need to iterate over the map&#39;s entry set, remembering both the &quot;currently known maximum&quot; and the key associated with it. (Or just the entry containing both, of course.)\r\n\r\nFor example:\r\n\r\n    Map.Entry&lt;Foo, Bar&gt; maxEntry = null;\r\n\r\n    for (Map.Entry&lt;Foo, Bar&gt; entry : map.entrySet())\r\n    {\r\n        if (maxEntry == null || entry.getValue().compareTo(maxEntry.getValue()) &gt; 0)\r\n        {\r\n            maxEntry = entry;\r\n        }\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>Basically you'd need to iterate over the map's entry set, remembering both the &quot;currently known maximum&quot; and the key associated with it. (Or just the entry containing both, of course.)</p>\n<p>For example:</p>\n<pre><code>Map.Entry&lt;Foo, Bar&gt; maxEntry = null;\n\nfor (Map.Entry&lt;Foo, Bar&gt; entry : map.entrySet())\n{\n    if (maxEntry == null || entry.getValue().compareTo(maxEntry.getValue()) &gt; 0)\n    {\n        maxEntry = entry;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5854706,"reputation":77,"user_id":4612374,"display_name":"Sophie"},"score":3,"creation_date":1606521854,"post_id":11256352,"comment_id":114994008,"body_markdown":"it should be &quot;Map.Entry&lt;Integer, Integer&gt; entry: valmap.entrySet()&quot;","body":"it should be &quot;Map.Entry&lt;Integer, Integer&gt; entry: valmap.entrySet()&quot;"}],"tags":[],"owner":{"account_id":967990,"reputation":8481,"user_id":991065,"display_name":"Fathah Rehman P"},"comment_count":1,"down_vote_count":0,"up_vote_count":71,"is_accepted":false,"score":71,"last_activity_date":1619299987,"creation_date":1340946512,"answer_id":11256352,"question_id":5911174,"body_markdown":"This code will print all the keys with maximum value\r\n\r\n    public class NewClass4 {\r\n        public static void main(String[] args)\r\n        {\r\n            HashMap&lt;Integer,Integer&gt;map=new HashMap&lt;Integer, Integer&gt;();\r\n            map.put(1, 50);\r\n            map.put(2, 60);\r\n            map.put(3, 30);\r\n            map.put(4, 60);\r\n            map.put(5, 60);\r\n            int maxValueInMap=(Collections.max(map.values()));  // This will return max value in the HashMap\r\n            for (Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {  // Iterate through HashMap\r\n                if (entry.getValue()==maxValueInMap) {\r\n                    System.out.println(entry.getKey());     // Print the key with max value\r\n                }\r\n            }\r\n    \r\n        }\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>This code will print all the keys with maximum value</p>\n<pre><code>public class NewClass4 {\n    public static void main(String[] args)\n    {\n        HashMap&lt;Integer,Integer&gt;map=new HashMap&lt;Integer, Integer&gt;();\n        map.put(1, 50);\n        map.put(2, 60);\n        map.put(3, 30);\n        map.put(4, 60);\n        map.put(5, 60);\n        int maxValueInMap=(Collections.max(map.values()));  // This will return max value in the HashMap\n        for (Entry&lt;Integer, Integer&gt; entry : map.entrySet()) {  // Iterate through HashMap\n            if (entry.getValue()==maxValueInMap) {\n                System.out.println(entry.getKey());     // Print the key with max value\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4438552,"reputation":888,"user_id":3613700,"accept_rate":100,"display_name":"Amir"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1400864956,"creation_date":1400864956,"answer_id":23834888,"question_id":5911174,"body_markdown":"Here&#39;s how do do it directly (without an explicit extra loop) by defining the appropriate `Comparator`:\r\n\r\n    int keyOfMaxValue = Collections.max(\r\n                            yourMap.entrySet(), \r\n                            new Comparator&lt;Entry&lt;Double,Integer&gt;&gt;(){\r\n                                @Override\r\n                                public int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\r\n                                    return o1.getValue() &gt; o2.getValue()? 1:-1;\r\n                                }\r\n                            }).getKey();\r\n\r\n\r\n\r\n","title":"Finding Key associated with max Value in a Java Map","body":"<p>Here's how do do it directly (without an explicit extra loop) by defining the appropriate <code>Comparator</code>:</p>\n\n<pre><code>int keyOfMaxValue = Collections.max(\n                        yourMap.entrySet(), \n                        new Comparator&lt;Entry&lt;Double,Integer&gt;&gt;(){\n                            @Override\n                            public int compare(Entry&lt;Integer, Integer&gt; o1, Entry&lt;Integer, Integer&gt; o2) {\n                                return o1.getValue() &gt; o2.getValue()? 1:-1;\n                            }\n                        }).getKey();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2447871,"reputation":435,"user_id":2134904,"accept_rate":100,"display_name":"JustABit"},"score":4,"creation_date":1463399899,"post_id":28015042,"comment_id":62034229,"body_markdown":"`(entry1, entry2) -&gt; entry1.getValue() - entry2.getValue()` is more compact for the comparator.","body":"<code>(entry1, entry2) -&gt; entry1.getValue() - entry2.getValue()</code> is more compact for the comparator."},{"owner":{"account_id":3983395,"reputation":3281,"user_id":3284749,"accept_rate":65,"display_name":"Mouna"},"score":8,"creation_date":1465818313,"post_id":28015042,"comment_id":63043800,"body_markdown":"What to do if i want all keys that match the max value?","body":"What to do if i want all keys that match the max value?"},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":8,"creation_date":1475236863,"post_id":28015042,"comment_id":66875064,"body_markdown":"Compact but hard to understand.","body":"Compact but hard to understand."},{"owner":{"account_id":5301572,"reputation":81,"user_id":4230990,"display_name":"Rui Filipe Pedro"},"score":1,"creation_date":1481999044,"post_id":28015042,"comment_id":69602652,"body_markdown":"You can also use the compare method provided by the Integer class\n`countMap.entrySet().stream().max((entry1, entry2) -&gt; Integer.compare(entry1.getValue(), entry2.getValue())).get().getKey();`","body":"You can also use the compare method provided by the Integer class <code>countMap.entrySet().stream().max((entry1, entry2) -&gt; Integer.compare(entry1.getValue(), entry2.getValue())).get().getKey();</code>"},{"owner":{"account_id":460380,"reputation":2425,"user_id":861423,"accept_rate":83,"display_name":"Alexey Grigorev"},"score":4,"creation_date":1487196303,"post_id":28015042,"comment_id":71679550,"body_markdown":"Or you can use `Map.Entry.comparingByValue()` instead","body":"Or you can use <code>Map.Entry.comparingByValue()</code> instead"},{"owner":{"account_id":150121,"reputation":768,"user_id":363075,"accept_rate":100,"display_name":"Tarun"},"score":0,"creation_date":1666706284,"post_id":28015042,"comment_id":130996913,"body_markdown":"Thanks Alexey - Now the third solution from Hilikus would become more consise like this `Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();`.","body":"Thanks Alexey - Now the third solution from Hilikus would become more consise like this <code>Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();</code>."}],"tags":[],"owner":{"account_id":1092127,"reputation":10061,"user_id":1086540,"accept_rate":86,"display_name":"Hilikus"},"comment_count":6,"down_vote_count":0,"up_vote_count":177,"is_accepted":false,"score":177,"last_activity_date":1684054099,"creation_date":1421616695,"answer_id":28015042,"question_id":5911174,"body_markdown":"For completeness, here is a [tag:Java-8] way of doing it\r\n\r\n**Cleanest way:** \r\n\r\n    Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey()\r\nor\r\n\r\n\r\n    countMap.entrySet().stream().max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1).get().getKey();\r\n\r\nor\r\n\r\n    Collections.max(countMap.entrySet(), (entry1, entry2) -&gt; entry1.getValue() - entry2.getValue()).getKey();\r\n\r\nor\r\n\r\n    Collections.max(countMap.entrySet(), Comparator.comparingInt(Map.Entry::getValue)).getKey();","title":"Finding Key associated with max Value in a Java Map","body":"<p>For completeness, here is a <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" aria-label=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\" aria-labelledby=\"tag-java-8-tooltip-container\">java-8</a> way of doing it</p>\n<p><strong>Cleanest way:</strong></p>\n<pre><code>Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey()\n</code></pre>\n<p>or</p>\n<pre><code>countMap.entrySet().stream().max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1).get().getKey();\n</code></pre>\n<p>or</p>\n<pre><code>Collections.max(countMap.entrySet(), (entry1, entry2) -&gt; entry1.getValue() - entry2.getValue()).getKey();\n</code></pre>\n<p>or</p>\n<pre><code>Collections.max(countMap.entrySet(), Comparator.comparingInt(Map.Entry::getValue)).getKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442717072,"creation_date":1442717072,"answer_id":32675235,"question_id":5911174,"body_markdown":"For my project, I used a slightly modified version of Jon&#39;s and Fathah&#39;s solution. In the case of multiple entries with the same value, it returns the last entry it finds:\r\n\r\n    public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map) {\t\t\r\n    \tEntry&lt;String, Integer&gt; maxEntry = null;\r\n    \tInteger max = Collections.max(map.values());\r\n    \t\r\n    \tfor(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n    \t\tInteger value = entry.getValue();\r\n    \t\t\r\n    \t\tif(null != value &amp;&amp; max == value) {\r\n    \t\t\tmaxEntry = entry;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \treturn maxEntry;\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>For my project, I used a slightly modified version of Jon's and Fathah's solution. In the case of multiple entries with the same value, it returns the last entry it finds:</p>\n\n<pre><code>public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map) {        \n    Entry&lt;String, Integer&gt; maxEntry = null;\n    Integer max = Collections.max(map.values());\n\n    for(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n        Integer value = entry.getValue();\n\n        if(null != value &amp;&amp; max == value) {\n            maxEntry = entry;\n        }\n    }\n\n    return maxEntry;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191912,"reputation":309,"user_id":2858684,"accept_rate":60,"display_name":"Danilo"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1447867457,"creation_date":1447867457,"answer_id":33786431,"question_id":5911174,"body_markdown":"Is this solution ok?\r\n\r\n    int[] a = { 1, 2, 3, 4, 5, 6, 7, 7, 7, 7 };\r\n\tMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\r\n\tfor (int i : a) {\r\n\tInteger count = map.get(i);\r\n\tmap.put(i, count != null ? count + 1 : 0);\r\n\t}\r\n\tInteger max = Collections.max(map.keySet());\r\n\tSystem.out.println(max);\r\n\tSystem.out.println(map);","title":"Finding Key associated with max Value in a Java Map","body":"<p>Is this solution ok?</p>\n\n<pre><code>int[] a = { 1, 2, 3, 4, 5, 6, 7, 7, 7, 7 };\nMap&lt;Integer, Integer&gt; map = new HashMap&lt;Integer, Integer&gt;();\nfor (int i : a) {\nInteger count = map.get(i);\nmap.put(i, count != null ? count + 1 : 0);\n}\nInteger max = Collections.max(map.keySet());\nSystem.out.println(max);\nSystem.out.println(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4858789,"reputation":749,"user_id":5744883,"accept_rate":86,"display_name":"Parnab Sanyal"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1461573767,"creation_date":1461571873,"answer_id":36835135,"question_id":5911174,"body_markdown":"you can do like that\r\n\r\n    HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\n    hm.put(1,10);\r\n    hm.put(2,45);\r\n    hm.put(3,100);\r\n    Iterator&lt;Integer&gt; it = hm.keySet().iterator();\r\n    Integer fk = it.next();\r\n    Integer max = hm.get(fk);\r\n    while(it.hasNext()) {\r\n        Integer k = it.next();\r\n        Integer val = hm.get(k);\r\n        if (val &gt; max){\r\n             max = val;\r\n             fk=k;\r\n        }\r\n    }\r\n    System.out.println(&quot;Max Value &quot;+max+&quot; is associated with &quot;+fk+&quot; key&quot;);\r\n\r\n         ","title":"Finding Key associated with max Value in a Java Map","body":"<p>you can do like that</p>\n\n<pre><code>HashMap&lt;Integer,Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\nhm.put(1,10);\nhm.put(2,45);\nhm.put(3,100);\nIterator&lt;Integer&gt; it = hm.keySet().iterator();\nInteger fk = it.next();\nInteger max = hm.get(fk);\nwhile(it.hasNext()) {\n    Integer k = it.next();\n    Integer val = hm.get(k);\n    if (val &gt; max){\n         max = val;\n         fk=k;\n    }\n}\nSystem.out.println(\"Max Value \"+max+\" is associated with \"+fk+\" key\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":3,"creation_date":1474836659,"post_id":37374726,"comment_id":66682683,"body_markdown":"@Samir https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getKey()","body":"@Samir <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Map.Entry.html#getKey()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":1303659,"reputation":2036,"user_id":1253088,"display_name":"Vaibs"},"score":0,"creation_date":1504447694,"post_id":37374726,"comment_id":79007888,"body_markdown":"@Samir, Please check you Java version.  Sleiman Jneid has explicitly mentioned  that it will work with Java 8","body":"@Samir, Please check you Java version.  Sleiman Jneid has explicitly mentioned  that it will work with Java 8"},{"owner":{"account_id":2452403,"reputation":144,"user_id":2138350,"display_name":"Samir"},"score":1,"creation_date":1504650591,"post_id":37374726,"comment_id":79089250,"body_markdown":"@Vaibs I was using Java 8. It doesn&#39;t matter anymore, Hilikus&#39; answer worked for me.","body":"@Vaibs I was using Java 8. It doesn&#39;t matter anymore, Hilikus&#39; answer worked for me."},{"owner":{"account_id":10671005,"reputation":1125,"user_id":7856072,"display_name":"Timur Nurlygayanov"},"score":0,"creation_date":1547207437,"post_id":37374726,"comment_id":95123022,"body_markdown":"It works for me like this:\n\n`String max_key = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();`","body":"It works for me like this:  <code>String max_key = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();</code>"},{"owner":{"account_id":5854706,"reputation":77,"user_id":4612374,"display_name":"Sophie"},"score":4,"creation_date":1593828953,"post_id":37374726,"comment_id":110921855,"body_markdown":"what if there are 2 such key that are max? how can it return an array of such key values?","body":"what if there are 2 such key that are max? how can it return an array of such key values?"},{"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"score":0,"creation_date":1593866316,"post_id":37374726,"comment_id":110929516,"body_markdown":"@Sophie maps don&#39;t allow duplicate keys.","body":"@Sophie maps don&#39;t allow duplicate keys."},{"owner":{"account_id":1557723,"reputation":3383,"user_id":1448316,"accept_rate":40,"display_name":"Sreekanth Karumanaghat"},"score":2,"creation_date":1598535628,"post_id":37374726,"comment_id":112495458,"body_markdown":"@SleimanJneidi The question doesn&#39;t ask about the duplicate keys.\nConsider a situation like this :-\n&lt;1,8&gt;\n&lt;2,8&gt;\n&lt;5,4&gt;\n&lt;4,6&gt;\n&lt;6,7&gt;\nThere are 2 keys with maximum value 8. So it should return 1,2.","body":"@SleimanJneidi The question doesn&#39;t ask about the duplicate keys. Consider a situation like this :- &lt;1,8&gt; &lt;2,8&gt; &lt;5,4&gt; &lt;4,6&gt; &lt;6,7&gt; There are 2 keys with maximum value 8. So it should return 1,2."},{"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"score":0,"creation_date":1634762653,"post_id":37374726,"comment_id":123116240,"body_markdown":"Nice, short and easy to understand","body":"Nice, short and easy to understand"}],"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"comment_count":8,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1463922271,"creation_date":1463922271,"answer_id":37374726,"question_id":5911174,"body_markdown":"A simple one liner using Java-8 \r\n\r\n    Key key = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();","title":"Finding Key associated with max Value in a Java Map","body":"<p>A simple one liner using Java-8 </p>\n\n<pre><code>Key key = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2241,"reputation":44197,"user_id":3093,"accept_rate":83,"display_name":"Dave L."},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1478730266,"creation_date":1478730266,"answer_id":40517026,"question_id":5911174,"body_markdown":"An answer that returns an Optional since the map may have no max value if it is empty:\r\n`map.entrySet().stream().max(Map.Entry.comparingByValue()).map(Map.Entry::getKey);`","title":"Finding Key associated with max Value in a Java Map","body":"<p>An answer that returns an Optional since the map may have no max value if it is empty:\n<code>map.entrySet().stream().max(Map.Entry.comparingByValue()).map(Map.Entry::getKey);</code></p>\n"},{"tags":[],"owner":{"account_id":8179507,"reputation":432,"user_id":6157200,"display_name":"Mariusz Szurgot"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1497355346,"creation_date":1478733607,"answer_id":40517647,"question_id":5911174,"body_markdown":"Java 8 way to get all keys with max value.\r\n\r\n    Integer max = PROVIDED_MAP.entrySet()\r\n                .stream()\r\n                .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1)\r\n                .get()\r\n                .getValue();\r\n\r\n    List listOfMax = PROVIDED_MAP.entrySet()\r\n                .stream()\r\n                .filter(entry -&gt; entry.getValue() == max)\r\n                .map(Map.Entry::getKey)\r\n                .collect(Collectors.toList());\r\n\r\n    System.out.println(listOfMax);\r\n\r\nAlso you can parallelize it by using `parallelStream()` instead of `stream()`","title":"Finding Key associated with max Value in a Java Map","body":"<p>Java 8 way to get all keys with max value.</p>\n\n<pre><code>Integer max = PROVIDED_MAP.entrySet()\n            .stream()\n            .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1)\n            .get()\n            .getValue();\n\nList listOfMax = PROVIDED_MAP.entrySet()\n            .stream()\n            .filter(entry -&gt; entry.getValue() == max)\n            .map(Map.Entry::getKey)\n            .collect(Collectors.toList());\n\nSystem.out.println(listOfMax);\n</code></pre>\n\n<p>Also you can parallelize it by using <code>parallelStream()</code> instead of <code>stream()</code></p>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124874,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1701699224,"creation_date":1498162842,"answer_id":44708676,"question_id":5911174,"body_markdown":"I have two methods, using this m&#233;thod to get the key with the max value:\r\n\r\n     public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map){        \r\n        Entry&lt;String, Integer&gt; maxEntry = null;\r\n        Integer max = Collections.max(map.values());\r\n    \r\n        for(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\r\n            Integer value = entry.getValue();\r\n            if(null != value &amp;&amp; max == value) {\r\n                maxEntry = entry;\r\n            }\r\n        }\r\n        return maxEntry;\r\n    }\r\n\r\nAs an example gettin the Entry with the max value using the method:\r\n\r\n    Map.Entry&lt;String, Integer&gt; maxEntry =  getMaxEntry(map);\r\n\r\n-------------------------------\r\n\r\nUsing **Java 8** we can get an object containing the max value:\r\n\r\n    Object maxEntry = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();      \r\n    \r\n    System.out.println(&quot;maxEntry = &quot; + maxEntry);\r\n\r\n","title":"Finding Key associated with max Value in a Java Map","body":"<p>I have two methods, using this méthod to get the key with the max value:</p>\n<pre><code> public static Entry&lt;String, Integer&gt; getMaxEntry(Map&lt;String, Integer&gt; map){        \n    Entry&lt;String, Integer&gt; maxEntry = null;\n    Integer max = Collections.max(map.values());\n\n    for(Entry&lt;String, Integer&gt; entry : map.entrySet()) {\n        Integer value = entry.getValue();\n        if(null != value &amp;&amp; max == value) {\n            maxEntry = entry;\n        }\n    }\n    return maxEntry;\n}\n</code></pre>\n<p>As an example gettin the Entry with the max value using the method:</p>\n<pre><code>Map.Entry&lt;String, Integer&gt; maxEntry =  getMaxEntry(map);\n</code></pre>\n<hr />\n<p>Using <strong>Java 8</strong> we can get an object containing the max value:</p>\n<pre><code>Object maxEntry = Collections.max(map.entrySet(), Map.Entry.comparingByValue()).getKey();      \n\nSystem.out.println(&quot;maxEntry = &quot; + maxEntry);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6567283,"reputation":1585,"user_id":5076414,"display_name":"Sacky San"},"score":2,"creation_date":1623818710,"post_id":54367324,"comment_id":120182988,"body_markdown":"`3. Using Stream with Method Reference` is quite cool.","body":"<code>3. Using Stream with Method Reference</code> is quite cool."}],"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1620114711,"creation_date":1548426757,"answer_id":54367324,"question_id":5911174,"body_markdown":"**1. Using Stream**\r\n    \r\n    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndLambda(Map&lt;K, V&gt; map) {\r\n        Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\r\n            .stream()\r\n            .max((Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\r\n                .compareTo(e2.getValue())\r\n            );\r\n         \r\n        return maxEntry.get().getKey();\r\n    }\r\n**2. Using Collections.max()  with a Lambda Expression**\r\n    \r\n        public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMaxAndLambda(Map&lt;K, V&gt; map) {\r\n            Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), (Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\r\n                .compareTo(e2.getValue()));\r\n            return maxEntry.getKey();\r\n        }\r\n**3. Using Stream with Method Reference**\r\n    \r\n        public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndMethodReference(Map&lt;K, V&gt; map) {\r\n            Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\r\n                .stream()\r\n                .max(Map.Entry.comparingByValue());\r\n            return maxEntry.get()\r\n                .getKey();\r\n        }\r\n**4. Using Collections.max()**\r\n    \r\n        public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMax(Map&lt;K, V&gt; map) {\r\n            Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), new Comparator&lt;Entry&lt;K, V&gt;&gt;() {\r\n                public int compare(Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) {\r\n                    return e1.getValue()\r\n                        .compareTo(e2.getValue());\r\n                }\r\n            });\r\n            return maxEntry.getKey();\r\n        }\r\n**5. Using Simple Iteration**\r\n\r\n    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingIteration(Map&lt;K, V&gt; map) {\r\n        Map.Entry&lt;K, V&gt; maxEntry = null;\r\n        for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\r\n            if (maxEntry == null || entry.getValue()\r\n                .compareTo(maxEntry.getValue()) &gt; 0) {\r\n                maxEntry = entry;\r\n            }\r\n        }\r\n        return maxEntry.getKey();\r\n    }\r\n\r\n","title":"Finding Key associated with max Value in a Java Map","body":"<p><strong>1. Using Stream</strong></p>\n<pre><code>public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndLambda(Map&lt;K, V&gt; map) {\n    Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\n        .stream()\n        .max((Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\n            .compareTo(e2.getValue())\n        );\n     \n    return maxEntry.get().getKey();\n}\n</code></pre>\n<p><strong>2. Using Collections.max()  with a Lambda Expression</strong></p>\n<pre><code>    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMaxAndLambda(Map&lt;K, V&gt; map) {\n        Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), (Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) -&gt; e1.getValue()\n            .compareTo(e2.getValue()));\n        return maxEntry.getKey();\n    }\n</code></pre>\n<p><strong>3. Using Stream with Method Reference</strong></p>\n<pre><code>    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingStreamAndMethodReference(Map&lt;K, V&gt; map) {\n        Optional&lt;Entry&lt;K, V&gt;&gt; maxEntry = map.entrySet()\n            .stream()\n            .max(Map.Entry.comparingByValue());\n        return maxEntry.get()\n            .getKey();\n    }\n</code></pre>\n<p><strong>4. Using Collections.max()</strong></p>\n<pre><code>    public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingCollectionsMax(Map&lt;K, V&gt; map) {\n        Entry&lt;K, V&gt; maxEntry = Collections.max(map.entrySet(), new Comparator&lt;Entry&lt;K, V&gt;&gt;() {\n            public int compare(Entry&lt;K, V&gt; e1, Entry&lt;K, V&gt; e2) {\n                return e1.getValue()\n                    .compareTo(e2.getValue());\n            }\n        });\n        return maxEntry.getKey();\n    }\n</code></pre>\n<p><strong>5. Using Simple Iteration</strong></p>\n<pre><code>public &lt;K, V extends Comparable&lt;V&gt;&gt; V maxUsingIteration(Map&lt;K, V&gt; map) {\n    Map.Entry&lt;K, V&gt; maxEntry = null;\n    for (Map.Entry&lt;K, V&gt; entry : map.entrySet()) {\n        if (maxEntry == null || entry.getValue()\n            .compareTo(maxEntry.getValue()) &gt; 0) {\n            maxEntry = entry;\n        }\n    }\n    return maxEntry.getKey();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10192855,"reputation":2443,"user_id":8347081,"display_name":"mypetlion"},"score":2,"creation_date":1559681443,"post_id":56451107,"comment_id":99495662,"body_markdown":"Code-only answers are generally frowned upon on this forum. Please edit your answer to include an explanation of your code. How does it solve OP&#39;s problem?","body":"Code-only answers are generally frowned upon on this forum. Please edit your answer to include an explanation of your code. How does it solve OP&#39;s problem?"}],"tags":[],"owner":{"account_id":16073264,"reputation":11,"user_id":11601134,"display_name":"Abdullah Uzundere"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559681094,"creation_date":1559681094,"answer_id":56451107,"question_id":5911174,"body_markdown":"    int maxValue = 0;\r\n    int mKey = 0;\r\n    for(Integer key: map.keySet()){\r\n        if(map.get(key) &gt; maxValue){\r\n            maxValue = map.get(key);\r\n            mKey = key;\r\n        }\r\n    }\r\n    System.out.println(&quot;Max Value &quot; + maxValue + &quot; is associated with &quot; + mKey + &quot; key&quot;);","title":"Finding Key associated with max Value in a Java Map","body":"<pre><code>int maxValue = 0;\nint mKey = 0;\nfor(Integer key: map.keySet()){\n    if(map.get(key) &gt; maxValue){\n        maxValue = map.get(key);\n        mKey = key;\n    }\n}\nSystem.out.println(\"Max Value \" + maxValue + \" is associated with \" + mKey + \" key\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1564140350,"creation_date":1564140350,"answer_id":57219091,"question_id":5911174,"body_markdown":"Majority Element/ max element in the map :\r\n\r\n    public class Main {\r\n    \t public static void main(String[] args) {\r\n    \t int[] a = {1,3,4,3,4,3,2,3,3,3,3,3};\r\n         List&lt;Integer&gt; list = Arrays.stream(a).boxed().collect(Collectors.toList());\r\n         Map&lt;Integer, Long&gt; map = list.parallelStream()\r\n                 .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\r\n         System.out.println(&quot;Map =&gt; &quot; + map);\r\n         //{1=1, 2=1, 3=8, 4=2}\r\n         map.entrySet()\r\n         .stream()\r\n         .max(Comparator.comparing(Entry::getValue))//compare the values and get the maximum value\r\n         .map(Entry::getKey)// get the key appearing maximum number of times\r\n         .ifPresentOrElse(System.out::println,() -&gt; new RuntimeException(&quot;no such thing&quot;));\r\n    \r\n         /*\r\n          * OUTPUT : Map =&gt; {1=1, 2=1, 3=8, 4=2} \r\n          * 3\r\n          */\r\n         // or in  this way \r\n         System.out.println(&quot;.............&quot;);\r\n         Integer maxAppearedElement = map.entrySet()\r\n        \t\t .parallelStream()\r\n        \t\t .max(Comparator.comparing(Entry::getValue))\r\n        \t\t .map(Entry::getKey)\r\n        \t\t .get();\r\n         System.out.println(maxAppearedElement);\r\n    \r\n    \t } \r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>Majority Element/ max element in the map :</p>\n\n<pre><code>public class Main {\n     public static void main(String[] args) {\n     int[] a = {1,3,4,3,4,3,2,3,3,3,3,3};\n     List&lt;Integer&gt; list = Arrays.stream(a).boxed().collect(Collectors.toList());\n     Map&lt;Integer, Long&gt; map = list.parallelStream()\n             .collect(Collectors.groupingBy(Function.identity(),Collectors.counting()));\n     System.out.println(\"Map =&gt; \" + map);\n     //{1=1, 2=1, 3=8, 4=2}\n     map.entrySet()\n     .stream()\n     .max(Comparator.comparing(Entry::getValue))//compare the values and get the maximum value\n     .map(Entry::getKey)// get the key appearing maximum number of times\n     .ifPresentOrElse(System.out::println,() -&gt; new RuntimeException(\"no such thing\"));\n\n     /*\n      * OUTPUT : Map =&gt; {1=1, 2=1, 3=8, 4=2} \n      * 3\n      */\n     // or in  this way \n     System.out.println(\".............\");\n     Integer maxAppearedElement = map.entrySet()\n             .parallelStream()\n             .max(Comparator.comparing(Entry::getValue))\n             .map(Entry::getKey)\n             .get();\n     System.out.println(maxAppearedElement);\n\n     } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9934922,"reputation":4769,"user_id":7353562,"accept_rate":75,"display_name":"Arpan Saini"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1567148239,"creation_date":1567148239,"answer_id":57721928,"question_id":5911174,"body_markdown":" **given map**\r\n\r\n HashMap&lt;Integer, Integer&gt; abc = new HashMap&lt;&gt;();\r\n\r\n**get all map entries with a maximum of values.**\r\n\r\n you can use any of the below methods in the filter to get respective map entries for sets of minimum or maximum values\r\n\r\n    Collections.max(abc.values())\r\n    Collections.min(abc.values())\r\n    Collections.max(abc.keys())\r\n    Collections.max(abc.keys())\r\n    \r\n    abc.entrySet().stream().filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n\r\n\r\n**if only want to get the keys for the filter map** \r\n\r\n    abc.entrySet()\r\n           .stream()\r\n           .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n           .map(Map.Entry::getKey);\r\n\r\n**if you want to get the values for the filtered map**\r\n\r\n    abc.entrySet()\r\n          .stream()\r\n          .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n          .map(Map.Entry::getvalue)\r\n\r\n**if you want to get all such keys in a list:**\r\n\r\n    abc.entrySet()\r\n      .stream()\r\n      .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n      .map(Map.Entry::getKey)\r\n      .collect(Collectors.toList())\r\n\r\n**if you want to get all such values in a list:**\r\n\r\n    abc.entrySet()\r\n      .stream()\r\n      .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\r\n      .map(Map.Entry::getvalue)\r\n      .collect(Collectors.toList())","title":"Finding Key associated with max Value in a Java Map","body":"<p><strong>given map</strong></p>\n\n<p>HashMap abc = new HashMap&lt;>();</p>\n\n<p><strong>get all map entries with a maximum of values.</strong></p>\n\n<p>you can use any of the below methods in the filter to get respective map entries for sets of minimum or maximum values</p>\n\n<pre><code>Collections.max(abc.values())\nCollections.min(abc.values())\nCollections.max(abc.keys())\nCollections.max(abc.keys())\n\nabc.entrySet().stream().filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n</code></pre>\n\n<p><strong>if only want to get the keys for the filter map</strong> </p>\n\n<pre><code>abc.entrySet()\n       .stream()\n       .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n       .map(Map.Entry::getKey);\n</code></pre>\n\n<p><strong>if you want to get the values for the filtered map</strong></p>\n\n<pre><code>abc.entrySet()\n      .stream()\n      .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n      .map(Map.Entry::getvalue)\n</code></pre>\n\n<p><strong>if you want to get all such keys in a list:</strong></p>\n\n<pre><code>abc.entrySet()\n  .stream()\n  .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n  .map(Map.Entry::getKey)\n  .collect(Collectors.toList())\n</code></pre>\n\n<p><strong>if you want to get all such values in a list:</strong></p>\n\n<pre><code>abc.entrySet()\n  .stream()\n  .filter(entry -&gt; entry.getValue() == Collections.max(abc.values()))\n  .map(Map.Entry::getvalue)\n  .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2328447,"reputation":525,"user_id":2042389,"display_name":"NickyPatel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1576050908,"creation_date":1576050908,"answer_id":59281101,"question_id":5911174,"body_markdown":"Simple to understand.\r\nIn Below code, maxKey is the key which is holding the max value.\r\n\r\n    int maxKey = 0;\r\n    int maxValue = 0;\r\n    for(int i : birds.keySet())\r\n    {\r\n     \tif(birds.get(i) &gt; maxValue)\r\n       \t{\r\n       \t\tmaxKey = i;\r\n       \t\tmaxValue = birds.get(i);\r\n       \t}\r\n    }","title":"Finding Key associated with max Value in a Java Map","body":"<p>Simple to understand.\nIn Below code, maxKey is the key which is holding the max value.</p>\n\n<pre><code>int maxKey = 0;\nint maxValue = 0;\nfor(int i : birds.keySet())\n{\n    if(birds.get(i) &gt; maxValue)\n    {\n        maxKey = i;\n        maxValue = birds.get(i);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1852692,"reputation":1963,"user_id":1678893,"display_name":"goedi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612303009,"creation_date":1612302176,"answer_id":66018055,"question_id":5911174,"body_markdown":"This is going to return the keys with max value in a `Map&lt;Integer, Integer&gt;`\r\n\r\n    public Set&lt;Integer&gt; getMaxKeys(Map&lt;Integer, Integer&gt; map) { \r\n    \r\n            if (map.isEmpty()) {\r\n                return Collections.emptySet();\r\n            }\r\n    \r\n            return map\r\n            .entrySet()\r\n            .stream()\r\n            .collect(\r\n                groupingBy(\r\n                    Map.Entry::getValue, TreeMap::new, mapping(Map.Entry::getKey, toSet())\r\n                )\r\n             )\r\n             .lastEntry()\r\n             .getValue();\r\n        }","title":"Finding Key associated with max Value in a Java Map","body":"<p>This is going to return the keys with max value in a <code>Map&lt;Integer, Integer&gt;</code></p>\n<pre><code>public Set&lt;Integer&gt; getMaxKeys(Map&lt;Integer, Integer&gt; map) { \n\n        if (map.isEmpty()) {\n            return Collections.emptySet();\n        }\n\n        return map\n        .entrySet()\n        .stream()\n        .collect(\n            groupingBy(\n                Map.Entry::getValue, TreeMap::new, mapping(Map.Entry::getKey, toSet())\n            )\n         )\n         .lastEntry()\n         .getValue();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4864939,"reputation":1044,"user_id":3923525,"accept_rate":80,"display_name":"jmm"},"score":0,"creation_date":1643756564,"post_id":68435678,"comment_id":125423520,"body_markdown":"This would return the largest _value_, rather than the largest _key_ associated to it","body":"This would return the largest <i>value</i>, rather than the largest <i>key</i> associated to it"}],"tags":[],"owner":{"account_id":5854706,"reputation":77,"user_id":4612374,"display_name":"Sophie"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1626735959,"creation_date":1626674194,"answer_id":68435678,"question_id":5911174,"body_markdown":"The simplest way is:\r\n\r\n    Collections.max(hmap.values());","title":"Finding Key associated with max Value in a Java Map","body":"<p>The simplest way is:</p>\n<pre><code>Collections.max(hmap.values());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652185867,"creation_date":1652185867,"answer_id":72186356,"question_id":5911174,"body_markdown":"**Kotlin**:\r\n```kotlin\r\nval key = map.toList().groupingBy { it }.eachCount().maxByOrNull { it.value }?.key\r\n```","title":"Finding Key associated with max Value in a Java Map","body":"<p><strong>Kotlin</strong>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val key = map.toList().groupingBy { it }.eachCount().maxByOrNull { it.value }?.key\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9858780,"reputation":491,"user_id":9982796,"display_name":"Abhijith Ravindran"},"score":0,"creation_date":1655774787,"post_id":72189607,"comment_id":128406120,"body_markdown":"Your answer doesn&#39;t show how the key for the corresponding max value is retrieved.","body":"Your answer doesn&#39;t show how the key for the corresponding max value is retrieved."}],"tags":[],"owner":{"account_id":15614852,"reputation":565,"user_id":11265290,"display_name":"Imran Sefat"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1652198527,"creation_date":1652198527,"answer_id":72189607,"question_id":5911174,"body_markdown":"        int max = 0;\r\n    // here m is a HashMap&lt;String, Integer&gt;\r\n        for(Map.Entry&lt;String,Integer&gt; entry : m.entrySet()){\r\n    \r\n           if(entry.getValue() &gt; max){\r\n              max = entry.getValue();              \r\n           }\r\n        }","title":"Finding Key associated with max Value in a Java Map","body":"<pre><code>    int max = 0;\n// here m is a HashMap&lt;String, Integer&gt;\n    for(Map.Entry&lt;String,Integer&gt; entry : m.entrySet()){\n\n       if(entry.getValue() &gt; max){\n          max = entry.getValue();              \n       }\n    }\n</code></pre>\n"}],"owner":{"account_id":117187,"reputation":3726,"user_id":307006,"accept_rate":50,"display_name":"Ben B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395742,"favorite_count":0,"down_vote_count":0,"up_vote_count":186,"accepted_answer_id":5911199,"answer_count":20,"score":186,"last_activity_date":1701699224,"creation_date":1304683650,"question_id":5911174,"body_markdown":"What is the easiest way to get key associated with the max value in a map?\r\n\r\nI believe that Collections.max(someMap) will return the max Key, when you want the key that corresponds to the max value.","title":"Finding Key associated with max Value in a Java Map","body":"<p>What is the easiest way to get key associated with the max value in a map?</p>\n\n<p>I believe that Collections.max(someMap) will return the max Key, when you want the key that corresponds to the max value.</p>\n"},{"tags":["java","json","jackson","json-deserialization","objectmapper"],"comments":[{"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"score":1,"creation_date":1594985893,"post_id":62944201,"comment_id":111325698,"body_markdown":"Anybody here who has faced this issue? org.apache.avro.AvroRuntimeException: Not an array:","body":"Anybody here who has faced this issue? org.apache.avro.AvroRuntimeException: Not an array:"},{"owner":{"account_id":14088751,"reputation":1,"user_id":10177797,"display_name":"Shashank Agrawal"},"score":0,"creation_date":1613148634,"post_id":62944201,"comment_id":116995550,"body_markdown":"If you haven&#39;t resolve it yet: https://stackoverflow.com/questions/39349733/jsonmappingexception-when-serializing-avro-generated-object-to-json","body":"If you haven&#39;t resolve it yet: <a href=\"https://stackoverflow.com/questions/39349733/jsonmappingexception-when-serializing-avro-generated-object-to-json\" title=\"jsonmappingexception when serializing avro generated object to json\">stackoverflow.com/questions/39349733/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":609731,"reputation":444,"user_id":332319,"accept_rate":67,"display_name":"Kjeld"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624389267,"creation_date":1624315224,"answer_id":68075543,"question_id":62944201,"body_markdown":"The Jackson conversion process evaluates each and every field or getter of the object recursively, so it can create the JSON nodes. \r\n\r\nYou are probably converting a generated AVRO type here. It contains a field called `$SCHEMA` which itself does not have a method called `getElementType()` implemented. The default method `getElementType()` of `org.apache.avro.Schema` throws this exception explicitly. Since Jackson comes across this method during its conversion process, the exception is thrown. \r\n\r\n`getElementType()` Is just the one of many default implementations in that Schema class which throw an exception by default. I don&#39;t think there is any way around it, except for not using Jackson to create JSON, but instead use the same API that created the AVRO type in the first place. \r\n\r\nEDIT: maybe you could register a `JsonSerializer&lt;Schema&gt;` to your mapper, and customize the serialization of Schema yourself. \r\n","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>The Jackson conversion process evaluates each and every field or getter of the object recursively, so it can create the JSON nodes.</p>\n<p>You are probably converting a generated AVRO type here. It contains a field called <code>$SCHEMA</code> which itself does not have a method called <code>getElementType()</code> implemented. The default method <code>getElementType()</code> of <code>org.apache.avro.Schema</code> throws this exception explicitly. Since Jackson comes across this method during its conversion process, the exception is thrown.</p>\n<p><code>getElementType()</code> Is just the one of many default implementations in that Schema class which throw an exception by default. I don't think there is any way around it, except for not using Jackson to create JSON, but instead use the same API that created the AVRO type in the first place.</p>\n<p>EDIT: maybe you could register a <code>JsonSerializer&lt;Schema&gt;</code> to your mapper, and customize the serialization of Schema yourself.</p>\n"},{"comments":[{"owner":{"account_id":8561190,"reputation":91,"user_id":6415185,"display_name":"Raymond Stanley"},"score":1,"creation_date":1683009844,"post_id":68087222,"comment_id":134297260,"body_markdown":"Thanks! Had the same issue while testing my Spring Rest controller which responds with my avro autogenerated class as JSON. Just had to add the `IgnoreSchemaProperty` class you mentioned and declered a modified `ObjectMapper` with the `.addMixIn(SpecificRecordBase::class.java, IgnoreSchemaProperty::class.java)` (Hint: to work for all generated classes I just used the interface `SpecificRecordBase` instead)","body":"Thanks! Had the same issue while testing my Spring Rest controller which responds with my avro autogenerated class as JSON. Just had to add the <code>IgnoreSchemaProperty</code> class you mentioned and declered a modified <code>ObjectMapper</code> with the <code>.addMixIn(SpecificRecordBase::class.java, IgnoreSchemaProperty::class.java)</code> (Hint: to work for all generated classes I just used the interface <code>SpecificRecordBase</code> instead)"},{"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"score":0,"creation_date":1690346433,"post_id":68087222,"comment_id":135338818,"body_markdown":"@RaymondStanley, good to know your issue is resolved :)","body":"@RaymondStanley, good to know your issue is resolved :)"}],"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624435472,"creation_date":1624378523,"answer_id":68087222,"question_id":62944201,"body_markdown":"This issue comes when you auto generate your POJOs from Avro schema using Avro compiler. This auto generated POJO contains below extra field among others (apart from the one specified by the user in the Avro schema)\r\n\r\n    public static final org.apache.avro.Schema SCHEMA$;\r\n\r\n \r\n\r\nDue to some bug in Avro API the `Schema.getElementType()` method causes **Not an array** Exception during serialization. Below is the method definition \r\n \r\n     public Schema getElementType() {\r\n        throw new AvroRuntimeException(&quot;Not an array: &quot; + this);\r\n      }\r\n\r\nTo fix this issue, just ignore SCHEMA$ field in the auto generated POJO during serialization as below\r\n\r\n    // create this class to ignore one or more fields\r\n    public abstract class IgnoreSchemaProperty\r\n    {\r\n        @JsonIgnore\r\n        abstract void getSchema();\r\n    }\r\n\r\n    public class Test{\r\n        public static void main(String args[]) {\r\n            ObjectMapper objectMapper=new ObjectMapper();\r\n            //pass the above created class in the mixIn\r\n            objectMapper.addMixIn(YourPojo.class, IgnoreSchemaProperty.class);\r\n            String pojoJson = objectMapper.writeValueAsString(YourPojo);\r\n            System.out.println(pojoJson);\r\n        }\r\n    }\r\n\r\n","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>This issue comes when you auto generate your POJOs from Avro schema using Avro compiler. This auto generated POJO contains below extra field among others (apart from the one specified by the user in the Avro schema)</p>\n<pre><code>public static final org.apache.avro.Schema SCHEMA$;\n</code></pre>\n<p>Due to some bug in Avro API the <code>Schema.getElementType()</code> method causes <strong>Not an array</strong> Exception during serialization. Below is the method definition</p>\n<pre><code> public Schema getElementType() {\n    throw new AvroRuntimeException(&quot;Not an array: &quot; + this);\n  }\n</code></pre>\n<p>To fix this issue, just ignore SCHEMA$ field in the auto generated POJO during serialization as below</p>\n<pre><code>// create this class to ignore one or more fields\npublic abstract class IgnoreSchemaProperty\n{\n    @JsonIgnore\n    abstract void getSchema();\n}\n\npublic class Test{\n    public static void main(String args[]) {\n        ObjectMapper objectMapper=new ObjectMapper();\n        //pass the above created class in the mixIn\n        objectMapper.addMixIn(YourPojo.class, IgnoreSchemaProperty.class);\n        String pojoJson = objectMapper.writeValueAsString(YourPojo);\n        System.out.println(pojoJson);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2384530,"reputation":1672,"user_id":2085768,"display_name":"RoutesMaps.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680688743,"creation_date":1680688743,"answer_id":75938065,"question_id":62944201,"body_markdown":"You can use JsonSerializer for Avro Schema checked code:\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import org.apache.avro.Schema;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class AvroSchemaSerializer extends JsonSerializer&lt;Schema&gt; {\r\n        @Override\r\n        public void serialize(Schema value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n            String res = value.toString();\r\n            jgen.writeRaw(res);\r\n        }\r\n    }\r\n\r\n","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>You can use JsonSerializer for Avro Schema checked code:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport org.apache.avro.Schema;\n\nimport java.io.IOException;\n\npublic class AvroSchemaSerializer extends JsonSerializer&lt;Schema&gt; {\n    @Override\n    public void serialize(Schema value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n        String res = value.toString();\n        jgen.writeRaw(res);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701699053,"creation_date":1701699053,"answer_id":77600084,"question_id":62944201,"body_markdown":"Issue shows out when you convert an Avro POJO to JSON using Jackson. The solution is unbelievably humble: `avroPojo.toString()`.\r\n\r\nYou can use this utility method to get the difference of the two compared JSONs:\r\n\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.google.common.collect.MapDifference;\r\n    import com.google.common.collect.Maps;\r\n    import lombok.SneakyThrows;\r\n    import lombok.experimental.UtilityClass;\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    @UtilityClass\r\n    public class JsonUtils {\r\n\r\n    private static final ObjectMapper MAPPER = new ObjectMapper();\r\n\r\n    /**\r\n     * Compare two String JSON-objects.\r\n     *\r\n     * @param sourceJson Basic object to compare.\r\n     * @param targetJson Comparable object.\r\n     * @return A map of fields that differ.\r\n     */\r\n    @SneakyThrows\r\n    public static MapDifference&lt;String, Object&gt; compareJsons(String sourceJson, String targetJson) {\r\n\r\n        Map&lt;String, Object&gt; sourceJsonMap = MAPPER.readValue(\r\n                sourceJson,\r\n                new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\r\n\r\n        Map&lt;String, Object&gt; targetJsonMap = MAPPER.readValue(\r\n                targetJson,\r\n                new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\r\n\r\n        return Maps.difference(sourceJsonMap, targetJsonMap);\r\n      }\r\n    }\r\n\r\nRequired dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson-databind.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;32.0.1-jre&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>Issue shows out when you convert an Avro POJO to JSON using Jackson. The solution is unbelievably humble: <code>avroPojo.toString()</code>.</p>\n<p>You can use this utility method to get the difference of the two compared JSONs:</p>\n<pre><code>import com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.google.common.collect.MapDifference;\nimport com.google.common.collect.Maps;\nimport lombok.SneakyThrows;\nimport lombok.experimental.UtilityClass;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@UtilityClass\npublic class JsonUtils {\n\nprivate static final ObjectMapper MAPPER = new ObjectMapper();\n\n/**\n * Compare two String JSON-objects.\n *\n * @param sourceJson Basic object to compare.\n * @param targetJson Comparable object.\n * @return A map of fields that differ.\n */\n@SneakyThrows\npublic static MapDifference&lt;String, Object&gt; compareJsons(String sourceJson, String targetJson) {\n\n    Map&lt;String, Object&gt; sourceJsonMap = MAPPER.readValue(\n            sourceJson,\n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\n\n    Map&lt;String, Object&gt; targetJsonMap = MAPPER.readValue(\n            targetJson,\n            new TypeReference&lt;HashMap&lt;String, Object&gt;&gt;() {});\n\n    return Maps.difference(sourceJsonMap, targetJsonMap);\n  }\n}\n</code></pre>\n<p>Required dependencies:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;${jackson-databind.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;32.0.1-jre&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6825737,"reputation":574,"user_id":5251510,"display_name":"Nicolas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9617,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1701699053,"creation_date":1594937203,"question_id":62944201,"body_markdown":"While converting Java object to JSON string, I&#39;m facing JsonMappingException. Below is the complete exception message.\r\n\r\n    com.fasterxml.jackson.databind.JsonMappingException: Not an array: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemMemberIdentification2&quot;,&quot;namespace&quot;:&quot;com.sam.eps.paymentdomain.avro.pacs002&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemMemberIdentification2&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;clearing_system_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemIdentification2Choice&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemIdentification2Choice&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;code&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null},{&quot;name&quot;:&quot;proprietary&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]}],&quot;default&quot;:null},{&quot;name&quot;:&quot;member_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]} (through reference chain: com.sam.eps.paymentdomain.avro.pacs002.Document[&quot;fi_to_fi_payment_status_report&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FIToFIPaymentStatusReportV10[&quot;group_header&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.GroupHeader91[&quot;instructed_agent&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.BranchAndFinancialInstitutionIdentification6[&quot;financial_institution_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FinancialInstitutionIdentification18[&quot;clearing_system_member_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.ClearingSystemMemberIdentification2[&quot;schema&quot;]-&gt;org.apache.avro.Schema$RecordSchema[&quot;elementType&quot;])\r\n\r\nBelow is the java code which I use for converting Java object to JSON String. I tried enabling ACCEPT_SINGLE_VALUE_AS_ARRAY, ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT but still facing the issue. Not sure what is causing **JsonMappingException: Not an array** issue.\r\n\r\n    private String convertObjectToJson(Object request) throws JsonProcessingException {\r\n    \r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tobjectMapper.registerModule(new JavaTimeModule());\r\n    \t\tSimpleModule simpleModule = new SimpleModule();\r\n    \t\tsimpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n    \t\t\t\tjsonGenerator.writeString(DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(offsetDateTime));\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tsimpleModule.addSerializer(LocalDate.class, new JsonSerializer&lt;LocalDate&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void serialize(LocalDate localDate, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n    \t\t\t\tjsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE.format(localDate));\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tobjectMapper.registerModule(simpleModule);\r\n    \t\tobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\tobjectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n    \t\tobjectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\r\n    \t\tobjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    \t\treturn objectMapper.writeValueAsString(request);\r\n    \t}","title":"JsonMappingException occurs while converting object to JSON string - org.apache.avro.AvroRuntimeException: Not an array:","body":"<p>While converting Java object to JSON string, I'm facing JsonMappingException. Below is the complete exception message.</p>\n<pre><code>com.fasterxml.jackson.databind.JsonMappingException: Not an array: {&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemMemberIdentification2&quot;,&quot;namespace&quot;:&quot;com.sam.eps.paymentdomain.avro.pacs002&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemMemberIdentification2&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;clearing_system_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;record&quot;,&quot;name&quot;:&quot;ClearingSystemIdentification2Choice&quot;,&quot;doc&quot;:&quot;Schema for com.sam.eps.iso.pacs002.ClearingSystemIdentification2Choice&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;code&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null},{&quot;name&quot;:&quot;proprietary&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]}],&quot;default&quot;:null},{&quot;name&quot;:&quot;member_identification&quot;,&quot;type&quot;:[&quot;null&quot;,{&quot;type&quot;:&quot;string&quot;,&quot;avro.java.string&quot;:&quot;String&quot;}],&quot;default&quot;:null}]} (through reference chain: com.sam.eps.paymentdomain.avro.pacs002.Document[&quot;fi_to_fi_payment_status_report&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FIToFIPaymentStatusReportV10[&quot;group_header&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.GroupHeader91[&quot;instructed_agent&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.BranchAndFinancialInstitutionIdentification6[&quot;financial_institution_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.FinancialInstitutionIdentification18[&quot;clearing_system_member_identification&quot;]-&gt;com.sam.eps.paymentdomain.avro.pacs002.ClearingSystemMemberIdentification2[&quot;schema&quot;]-&gt;org.apache.avro.Schema$RecordSchema[&quot;elementType&quot;])\n</code></pre>\n<p>Below is the java code which I use for converting Java object to JSON String. I tried enabling ACCEPT_SINGLE_VALUE_AS_ARRAY, ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT but still facing the issue. Not sure what is causing <strong>JsonMappingException: Not an array</strong> issue.</p>\n<pre><code>private String convertObjectToJson(Object request) throws JsonProcessingException {\n\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addSerializer(OffsetDateTime.class, new JsonSerializer&lt;OffsetDateTime&gt;() {\n            @Override\n            public void serialize(OffsetDateTime offsetDateTime, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n                jsonGenerator.writeString(DateTimeFormatter.ISO_OFFSET_DATE_TIME.format(offsetDateTime));\n            }\n        });\n        simpleModule.addSerializer(LocalDate.class, new JsonSerializer&lt;LocalDate&gt;() {\n            @Override\n            public void serialize(LocalDate localDate, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n                jsonGenerator.writeString(DateTimeFormatter.ISO_LOCAL_DATE.format(localDate));\n            }\n        });\n        objectMapper.registerModule(simpleModule);\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        objectMapper.enable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n        objectMapper.enable(DeserializationFeature.ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT);\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n        return objectMapper.writeValueAsString(request);\n    }\n</code></pre>\n"},{"tags":["java","web-services","validation","soap","wsdl"],"comments":[{"owner":{"account_id":5649129,"reputation":163,"user_id":4470352,"display_name":"Francisco M"},"score":0,"creation_date":1490353174,"post_id":21461504,"comment_id":73085163,"body_markdown":"This would help you: http://stackoverflow.com/questions/42952387/how-to-set-wsdl-inner-schema-to-jaxb2marshaller-to-validate-each-post-i-wold-mak","body":"This would help you: <a href=\"http://stackoverflow.com/questions/42952387/how-to-set-wsdl-inner-schema-to-jaxb2marshaller-to-validate-each-post-i-wold-mak\" title=\"how to set wsdl inner schema to jaxb2marshaller to validate each post i wold mak\">stackoverflow.com/questions/42952387/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":1,"creation_date":1391147304,"post_id":21462212,"comment_id":32408976,"body_markdown":"I need valiadtion request/response by wsdl. Question has been updated.","body":"I need valiadtion request/response by wsdl. Question has been updated."}],"tags":[],"owner":{"account_id":2038913,"reputation":4421,"user_id":1820583,"accept_rate":84,"display_name":"Eduardo Briguenti Vieira"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391099862,"creation_date":1391099862,"answer_id":21462212,"question_id":21461504,"body_markdown":"If you want to validate an xml, you need to create an XSD for that xml. \r\n\r\nAfter that is just a call to a validate method, just like you did.\r\n\r\n    package com.journaldev.xml;\r\n     \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n     \r\n    import javax.xml.XMLConstants;\r\n    import javax.xml.transform.stream.StreamSource;\r\n    import javax.xml.validation.Schema;\r\n    import javax.xml.validation.SchemaFactory;\r\n    import javax.xml.validation.Validator;\r\n     \r\n    import org.xml.sax.SAXException;\r\n     \r\n    public class XMLValidation {\r\n     \r\n        public static void main(String[] args) {\r\n             \r\n          System.out.println(&quot;EmployeeRequest.xml validates against Employee.xsd? &quot;+validateXMLSchema(&quot;Employee.xsd&quot;, &quot;EmployeeRequest.xml&quot;));\r\n          System.out.println(&quot;EmployeeResponse.xml validates against Employee.xsd? &quot;+validateXMLSchema(&quot;Employee.xsd&quot;, &quot;EmployeeResponse.xml&quot;));\r\n          System.out.println(&quot;employee.xml validates against Employee.xsd? &quot;+validateXMLSchema(&quot;Employee.xsd&quot;, &quot;employee.xml&quot;));\r\n           \r\n          }\r\n         \r\n        public static boolean validateXMLSchema(String xsdPath, String xmlPath){\r\n             \r\n            try {\r\n                SchemaFactory factory = \r\n                        SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n                Schema schema = factory.newSchema(new File(xsdPath));\r\n                Validator validator = schema.newValidator();\r\n                validator.validate(new StreamSource(new File(xmlPath)));\r\n            } catch (IOException | SAXException e) {\r\n                System.out.println(&quot;Exception: &quot;+e.getMessage());\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n**Here a tutorial:**\r\n\r\nhttp://www.journaldev.com/895/how-to-validate-xml-against-xsd-in-java","title":"How programmatically (!) validate soap request/response with wsdl?","body":"<p>If you want to validate an xml, you need to create an XSD for that xml. </p>\n\n<p>After that is just a call to a validate method, just like you did.</p>\n\n<pre><code>package com.journaldev.xml;\n\nimport java.io.File;\nimport java.io.IOException;\n\nimport javax.xml.XMLConstants;\nimport javax.xml.transform.stream.StreamSource;\nimport javax.xml.validation.Schema;\nimport javax.xml.validation.SchemaFactory;\nimport javax.xml.validation.Validator;\n\nimport org.xml.sax.SAXException;\n\npublic class XMLValidation {\n\n    public static void main(String[] args) {\n\n      System.out.println(\"EmployeeRequest.xml validates against Employee.xsd? \"+validateXMLSchema(\"Employee.xsd\", \"EmployeeRequest.xml\"));\n      System.out.println(\"EmployeeResponse.xml validates against Employee.xsd? \"+validateXMLSchema(\"Employee.xsd\", \"EmployeeResponse.xml\"));\n      System.out.println(\"employee.xml validates against Employee.xsd? \"+validateXMLSchema(\"Employee.xsd\", \"employee.xml\"));\n\n      }\n\n    public static boolean validateXMLSchema(String xsdPath, String xmlPath){\n\n        try {\n            SchemaFactory factory = \n                    SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n            Schema schema = factory.newSchema(new File(xsdPath));\n            Validator validator = schema.newValidator();\n            validator.validate(new StreamSource(new File(xmlPath)));\n        } catch (IOException | SAXException e) {\n            System.out.println(\"Exception: \"+e.getMessage());\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n\n<p><strong>Here a tutorial:</strong></p>\n\n<p><a href=\"http://www.journaldev.com/895/how-to-validate-xml-against-xsd-in-java\" rel=\"nofollow\">http://www.journaldev.com/895/how-to-validate-xml-against-xsd-in-java</a></p>\n"}],"owner":{"account_id":1301815,"reputation":31771,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10080,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701698790,"creation_date":1391097993,"question_id":21461504,"body_markdown":"Suppose I have an xml file with request/response and wsdl file. How I can validate *request/response by wsdl*?\r\n\r\n**Important**\r\n\r\nI know that it is possible to enable such validation with container like Spring-Ws or Metro, but I want manual validation without container like that:\r\n\r\n    public static void main (String[] arg) {\r\n         File xmlRequest = new File(arg[0]);\r\n         File wsdlFile = new File(arg[1]);\r\n         //....\r\n         someValidator.validate(xmlRequest, wsdlFile);\r\n    }","title":"How programmatically (!) validate soap request/response with wsdl?","body":"<p>Suppose I have an xml file with request/response and wsdl file. How I can validate <em>request/response by wsdl</em>?</p>\n\n<p><strong>Important</strong></p>\n\n<p>I know that it is possible to enable such validation with container like Spring-Ws or Metro, but I want manual validation without container like that:</p>\n\n<pre><code>public static void main (String[] arg) {\n     File xmlRequest = new File(arg[0]);\n     File wsdlFile = new File(arg[1]);\n     //....\n     someValidator.validate(xmlRequest, wsdlFile);\n}\n</code></pre>\n"},{"tags":["java","android","service","android-broadcast"],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":94004,"user_id":769265,"display_name":"David Wasser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701698671,"creation_date":1701698671,"answer_id":77600042,"question_id":76583558,"body_markdown":"You are checking if your `Service` is running, and of course it is, so this method will ralways eturn `true`. Using `getRunningTasks()` is not intended for this purpose and probably won&#39;t be reliable, especially with newer Android versions.\r\n\r\nWhat you should do is to store the current &quot;charging&quot; state in shared preferences. Whenever your `BroadcastReceiver` is triggered, compare the new &quot;charging&quot; state to the state you have stored in shared preferences. If they are different and the new state is &quot;CHARGING&quot;, then you can launch your app.","title":"How to check if the app is running in background or foreground","body":"<p>You are checking if your <code>Service</code> is running, and of course it is, so this method will ralways eturn <code>true</code>. Using <code>getRunningTasks()</code> is not intended for this purpose and probably won't be reliable, especially with newer Android versions.</p>\n<p>What you should do is to store the current &quot;charging&quot; state in shared preferences. Whenever your <code>BroadcastReceiver</code> is triggered, compare the new &quot;charging&quot; state to the state you have stored in shared preferences. If they are different and the new state is &quot;CHARGING&quot;, then you can launch your app.</p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701698671,"creation_date":1688061717,"question_id":76583558,"body_markdown":"I have a `Service` that always running in the background even if the app is completely closed. In this service, I have a `BroadcastReceiver` that let me know if the device is charging or not :\r\n\r\n      @Override\r\n        public void onBatteryStatusChanged(BatteryUtils.Status status) {\r\n            if (status.getStatus() == BatteryUtils.BatteryStatus.CHARGING) {\r\n                 if(!AppUtils.isAppRunning(getPackageName()))\r\n                       LogUtils.dTag(Constants.TAG, &quot;APP SHOULD LAUNCH NOW&quot;);\r\n            }\r\n        }\r\n\r\n    public static boolean isAppRunning(final String pkgName) {\r\n        ActivityManager am = (ActivityManager) Utils.getApp().getSystemService(Context.ACTIVITY_SERVICE);\r\n        if (am != null) {\r\n            List&lt;ActivityManager.RunningTaskInfo&gt; taskInfo = am.getRunningTasks(Integer.MAX_VALUE);\r\n            if (taskInfo != null &amp;&amp; taskInfo.size() &gt; 0) {\r\n                for (ActivityManager.RunningTaskInfo aInfo : taskInfo) {\r\n                    if (aInfo.baseActivity != null) {\r\n                        if (pkgName.equals(aInfo.baseActivity.getPackageName())) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            List&lt;ActivityManager.RunningServiceInfo&gt; serviceInfo = am.getRunningServices(Integer.MAX_VALUE);\r\n            if (serviceInfo != null &amp;&amp; serviceInfo.size() &gt; 0) {\r\n                for (ActivityManager.RunningServiceInfo aInfo : serviceInfo) {\r\n                    if (pkgName.equals(aInfo.service.getPackageName())) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n**My Goal :**\r\n\r\nIs launching the app once the charger is plugged in, but only if it hasn&#39;t already been launched.\r\n\r\n**My Issue :** \r\n\r\nWhen I check whether the app is running or not, it always returns `TRUE`, even when the app is closed. This behavior occurs because the service is running in the background, leading to the entire app being considered as running.\r\n","title":"How to check if the app is running in background or foreground","body":"<p>I have a <code>Service</code> that always running in the background even if the app is completely closed. In this service, I have a <code>BroadcastReceiver</code> that let me know if the device is charging or not :</p>\n<pre><code>  @Override\n    public void onBatteryStatusChanged(BatteryUtils.Status status) {\n        if (status.getStatus() == BatteryUtils.BatteryStatus.CHARGING) {\n             if(!AppUtils.isAppRunning(getPackageName()))\n                   LogUtils.dTag(Constants.TAG, &quot;APP SHOULD LAUNCH NOW&quot;);\n        }\n    }\n\npublic static boolean isAppRunning(final String pkgName) {\n    ActivityManager am = (ActivityManager) Utils.getApp().getSystemService(Context.ACTIVITY_SERVICE);\n    if (am != null) {\n        List&lt;ActivityManager.RunningTaskInfo&gt; taskInfo = am.getRunningTasks(Integer.MAX_VALUE);\n        if (taskInfo != null &amp;&amp; taskInfo.size() &gt; 0) {\n            for (ActivityManager.RunningTaskInfo aInfo : taskInfo) {\n                if (aInfo.baseActivity != null) {\n                    if (pkgName.equals(aInfo.baseActivity.getPackageName())) {\n                        return true;\n                    }\n                }\n            }\n        }\n        List&lt;ActivityManager.RunningServiceInfo&gt; serviceInfo = am.getRunningServices(Integer.MAX_VALUE);\n        if (serviceInfo != null &amp;&amp; serviceInfo.size() &gt; 0) {\n            for (ActivityManager.RunningServiceInfo aInfo : serviceInfo) {\n                if (pkgName.equals(aInfo.service.getPackageName())) {\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n<p><strong>My Goal :</strong></p>\n<p>Is launching the app once the charger is plugged in, but only if it hasn't already been launched.</p>\n<p><strong>My Issue :</strong></p>\n<p>When I check whether the app is running or not, it always returns <code>TRUE</code>, even when the app is closed. This behavior occurs because the service is running in the background, leading to the entire app being considered as running.</p>\n"},{"tags":["java","maven","keycloak"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1657197930,"post_id":72897675,"comment_id":128756951,"body_markdown":"Can you run `mvn clean install -e -DskipTests`?","body":"Can you run <code>mvn clean install -e -DskipTests</code>?"},{"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"score":0,"creation_date":1657199677,"post_id":72897675,"comment_id":128757755,"body_markdown":"@LajosArpad After having these issues I decided to try `17.0.0` and it built correctly. I went back to `18.0.0` and ran your command and now it is building correctly too. I&#39;ll keep the question open for the moment for if the problem arises.","body":"@LajosArpad After having these issues I decided to try <code>17.0.0</code> and it built correctly. I went back to <code>18.0.0</code> and ran your command and now it is building correctly too. I&#39;ll keep the question open for the moment for if the problem arises."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1662790706,"post_id":73618912,"comment_id":130091966,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/73618912/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16466058,"reputation":1,"user_id":11896143,"display_name":"bachhs"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663676480,"creation_date":1662452749,"answer_id":73618912,"question_id":72897675,"body_markdown":"keycloak-guides generates the documentation for keycloak. You have to set UTF-8 as the default encoding type in the Windows environment.\r\nTry setting **MAVEN_OPTS=-Dfile.encoding=UTF-8** in System Environment Variable.\r\n\r\n[Edit System Variable][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pl92R.png","title":"Unable to build keycloak-themes and keycloak-guides","body":"<p>keycloak-guides generates the documentation for keycloak. You have to set UTF-8 as the default encoding type in the Windows environment.\nTry setting <strong>MAVEN_OPTS=-Dfile.encoding=UTF-8</strong> in System Environment Variable.</p>\n<p><a href=\"https://i.stack.imgur.com/pl92R.png\" rel=\"nofollow noreferrer\">Edit System Variable</a></p>\n"},{"tags":[],"owner":{"account_id":23911556,"reputation":81,"user_id":17908449,"display_name":"john ifemezuo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701698594,"creation_date":1701698594,"answer_id":77600029,"question_id":72897675,"body_markdown":"Am currently using Ubuntu 23.04. I ran `sudo apt install maven` in the terminal and it worked fine for me.","title":"Unable to build keycloak-themes and keycloak-guides","body":"<p>Am currently using Ubuntu 23.04. I ran <code>sudo apt install maven</code> in the terminal and it worked fine for me.</p>\n"}],"owner":{"account_id":3509980,"reputation":3614,"user_id":2934534,"accept_rate":77,"display_name":"Michael"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":872,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701698594,"creation_date":1657196229,"question_id":72897675,"body_markdown":"I would like to build the `Keycloak` project. I&#39;ve checked out the `18.0.0` tag and also `main` but I&#39;m getting the `keycloak-themes` and `keycloak-guides` projects fail to build. \r\n\r\nI&#39;m using Java 11 and have followed the instructions [here][1]. \r\n\r\nI can successfully build `17.0.0`.\r\n\r\n**Command**\r\n```\r\nmvn clean install -DskipTests\r\n```\r\n\r\n\r\n**keycloak-guides**\r\n```\r\n[ERROR] Failed to execute goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc (server-asciidoc-to-html) on project keycloak-guides: Execution server-asciidoc-to-html of goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc failed: org.jruby.exceptions.RaiseException: (ArgumentError) asciidoctor: FAILED: C:/Users/michael.haywood/IdeaProjects/keycloak/docs/guides/target/generated-guides/server/index.adoc: Failed to load AsciiDoc document - invalid byte sequence in UTF-8 -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-guides\r\n```\r\n\r\n**keycloak-themes**\r\n```\r\n[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.12.0:npm (npm-install-common) on project keycloak-themes: Failed to run task: &#39;npm ci --no-optional --ignore-scripts&#39; failed. org.apache.commons.exec.ExecuteException: Process exited with an error: -4058 (Exit value: -4058) -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n[ERROR]\r\n[ERROR] After correcting the problems, you can resume the build with the command\r\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-themes\r\n```\r\n\r\nAre there any other prerequisites when building `Keycloak` from the source code? \r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/main/docs/building.md","title":"Unable to build keycloak-themes and keycloak-guides","body":"<p>I would like to build the <code>Keycloak</code> project. I've checked out the <code>18.0.0</code> tag and also <code>main</code> but I'm getting the <code>keycloak-themes</code> and <code>keycloak-guides</code> projects fail to build.</p>\n<p>I'm using Java 11 and have followed the instructions <a href=\"https://github.com/keycloak/keycloak/blob/main/docs/building.md\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I can successfully build <code>17.0.0</code>.</p>\n<p><strong>Command</strong></p>\n<pre><code>mvn clean install -DskipTests\n</code></pre>\n<p><strong>keycloak-guides</strong></p>\n<pre><code>[ERROR] Failed to execute goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc (server-asciidoc-to-html) on project keycloak-guides: Execution server-asciidoc-to-html of goal org.asciidoctor:asciidoctor-maven-plugin:1.5.5:process-asciidoc failed: org.jruby.exceptions.RaiseException: (ArgumentError) asciidoctor: FAILED: C:/Users/michael.haywood/IdeaProjects/keycloak/docs/guides/target/generated-guides/server/index.adoc: Failed to load AsciiDoc document - invalid byte sequence in UTF-8 -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-guides\n</code></pre>\n<p><strong>keycloak-themes</strong></p>\n<pre><code>[ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.12.0:npm (npm-install-common) on project keycloak-themes: Failed to run task: 'npm ci --no-optional --ignore-scripts' failed. org.apache.commons.exec.ExecuteException: Process exited with an error: -4058 (Exit value: -4058) -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n[ERROR]\n[ERROR] After correcting the problems, you can resume the build with the command\n[ERROR]   mvn &lt;args&gt; -rf :keycloak-themes\n</code></pre>\n<p>Are there any other prerequisites when building <code>Keycloak</code> from the source code?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"score":0,"creation_date":1623158021,"post_id":67822714,"comment_id":119993276,"body_markdown":"do you have any example?","body":"do you have any example?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1623158745,"post_id":67822714,"comment_id":119993678,"body_markdown":"Simply `@Autowired DirectChannel submitApplicationChannel` in the test case and add an interceptor to it before sending the message, then verify that the interceptor was called.","body":"Simply <code>@Autowired DirectChannel submitApplicationChannel</code> in the test case and add an interceptor to it before sending the message, then verify that the interceptor was called."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1622728160,"creation_date":1622728160,"answer_id":67822714,"question_id":67822266,"body_markdown":"In your test, add a `ChannelInterceptor` to the `submitApplicationChannel` before calling the gateway.\r\n\r\n```java\r\npublic interface ChannelInterceptor {\r\n\r\n\t/**\r\n\t * Invoked before the Message is actually sent to the channel.\r\n\t * This allows for modification of the Message if necessary.\r\n\t * If this method returns {@code null} then the actual\r\n\t * send invocation will not occur.\r\n\t */\r\n\t@Nullable\r\n\tdefault Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\r\n\t\treturn message;\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked immediately after the send invocation. The boolean\r\n\t * value argument represents the return value of that invocation.\r\n\t */\r\n\tdefault void postSend(Message&lt;?&gt; message, MessageChannel channel, boolean sent) {\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked after the completion of a send regardless of any exception that\r\n\t * have been raised thus allowing for proper resource cleanup.\r\n\t * &lt;p&gt;Note that this will be invoked only if {@link #preSend} successfully\r\n\t * completed and returned a Message, i.e. it did not return {@code null}.\r\n\t * @since 4.1\r\n\t */\r\n\tdefault void afterSendCompletion(\r\n\t\t\tMessage&lt;?&gt; message, MessageChannel channel, boolean sent, @Nullable Exception ex) {\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked as soon as receive is called and before a Message is\r\n\t * actually retrieved. If the return value is &#39;false&#39;, then no\r\n\t * Message will be retrieved. This only applies to PollableChannels.\r\n\t */\r\n\tdefault boolean preReceive(MessageChannel channel) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked immediately after a Message has been retrieved but before\r\n\t * it is returned to the caller. The Message may be modified if\r\n\t * necessary; {@code null} aborts further interceptor invocations.\r\n\t * This only applies to PollableChannels.\r\n\t */\r\n\t@Nullable\r\n\tdefault Message&lt;?&gt; postReceive(Message&lt;?&gt; message, MessageChannel channel) {\r\n\t\treturn message;\r\n\t}\r\n\r\n\t/**\r\n\t * Invoked after the completion of a receive regardless of any exception that\r\n\t * have been raised thus allowing for proper resource cleanup.\r\n\t * &lt;p&gt;Note that this will be invoked only if {@link #preReceive} successfully\r\n\t * completed and returned {@code true}.\r\n\t * @since 4.1\r\n\t */\r\n\tdefault void afterReceiveCompletion(@Nullable Message&lt;?&gt; message, MessageChannel channel,\r\n\t\t\t@Nullable Exception ex) {\r\n\t}\r\n\r\n}\r\n```","title":"How to test MessageChannel in Spring Integration?","body":"<p>In your test, add a <code>ChannelInterceptor</code> to the <code>submitApplicationChannel</code> before calling the gateway.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ChannelInterceptor {\n\n    /**\n     * Invoked before the Message is actually sent to the channel.\n     * This allows for modification of the Message if necessary.\n     * If this method returns {@code null} then the actual\n     * send invocation will not occur.\n     */\n    @Nullable\n    default Message&lt;?&gt; preSend(Message&lt;?&gt; message, MessageChannel channel) {\n        return message;\n    }\n\n    /**\n     * Invoked immediately after the send invocation. The boolean\n     * value argument represents the return value of that invocation.\n     */\n    default void postSend(Message&lt;?&gt; message, MessageChannel channel, boolean sent) {\n    }\n\n    /**\n     * Invoked after the completion of a send regardless of any exception that\n     * have been raised thus allowing for proper resource cleanup.\n     * &lt;p&gt;Note that this will be invoked only if {@link #preSend} successfully\n     * completed and returned a Message, i.e. it did not return {@code null}.\n     * @since 4.1\n     */\n    default void afterSendCompletion(\n            Message&lt;?&gt; message, MessageChannel channel, boolean sent, @Nullable Exception ex) {\n    }\n\n    /**\n     * Invoked as soon as receive is called and before a Message is\n     * actually retrieved. If the return value is 'false', then no\n     * Message will be retrieved. This only applies to PollableChannels.\n     */\n    default boolean preReceive(MessageChannel channel) {\n        return true;\n    }\n\n    /**\n     * Invoked immediately after a Message has been retrieved but before\n     * it is returned to the caller. The Message may be modified if\n     * necessary; {@code null} aborts further interceptor invocations.\n     * This only applies to PollableChannels.\n     */\n    @Nullable\n    default Message&lt;?&gt; postReceive(Message&lt;?&gt; message, MessageChannel channel) {\n        return message;\n    }\n\n    /**\n     * Invoked after the completion of a receive regardless of any exception that\n     * have been raised thus allowing for proper resource cleanup.\n     * &lt;p&gt;Note that this will be invoked only if {@link #preReceive} successfully\n     * completed and returned {@code true}.\n     * @since 4.1\n     */\n    default void afterReceiveCompletion(@Nullable Message&lt;?&gt; message, MessageChannel channel,\n            @Nullable Exception ex) {\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":3818241,"reputation":4374,"user_id":3167016,"accept_rate":94,"display_name":"TuGordoBello"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67822714,"answer_count":1,"score":0,"last_activity_date":1701698515,"creation_date":1622726424,"question_id":67822266,"body_markdown":"I&#39;m trying to know if the message passed through specific channel for test or i&#39;d like to get the message from specific channel\r\n\r\nSo my flow is: ```controller -&gt; gateway -&gt; ServiceActivator```\r\n\r\n        private final Gateway gateway;\r\n        public ResponseEntity&lt;Map&lt;String,String&gt;&gt; submit(String applicationId, ApplicationDto applicationDto) {\r\n        applicationDto.setApplicationId(applicationId);\r\n        gateway.submitApplication(applicationDto);\r\n        return ResponseEntity.ok(Map.of(MESSAGE, &quot;Accepted submit&quot;));\r\n        }\r\n\r\n\r\nthe gateway\r\n\r\n    @Gateway(requestChannel = &quot;submitApplicationChannel&quot;, replyChannel = &quot;replySubmitApplicationChannel&quot;)\r\n    WorkflowPayload submitApplication(ApplicationDto applicationDto);\r\n\r\n\r\npipeline\r\n\r\n    @Bean\r\n    MessageChannel submitApplicationChannel() {\r\n        return new DirectChannel();\r\n    }\r\n\r\nSo my test is sending a request to start the flow\r\n\r\n    @Test\r\n    @DisplayName(&quot;Application Submission&quot;)\r\n    void submissionTest() throws Exception {\r\n        \r\n        mockMvc.perform(MockMvcRequestBuilders\r\n                .post(&quot;/api/v1/applications/contract-validation/&quot; + APPLICATION_ID)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(payload)))\r\n                .andExpect(status().isAccepted())\r\n                .andReturn();\r\n\r\n    //Check HERE if the message passed through the channel\r\n\r\n    }\r\n\r\n\r\nCan you give me a hand??","title":"How to test MessageChannel in Spring Integration?","body":"<p>I'm trying to know if the message passed through specific channel for test or i'd like to get the message from specific channel</p>\n<p>So my flow is: <code>controller -&gt; gateway -&gt; ServiceActivator</code></p>\n<pre><code>    private final Gateway gateway;\n    public ResponseEntity&lt;Map&lt;String,String&gt;&gt; submit(String applicationId, ApplicationDto applicationDto) {\n    applicationDto.setApplicationId(applicationId);\n    gateway.submitApplication(applicationDto);\n    return ResponseEntity.ok(Map.of(MESSAGE, &quot;Accepted submit&quot;));\n    }\n</code></pre>\n<p>the gateway</p>\n<pre><code>@Gateway(requestChannel = &quot;submitApplicationChannel&quot;, replyChannel = &quot;replySubmitApplicationChannel&quot;)\nWorkflowPayload submitApplication(ApplicationDto applicationDto);\n</code></pre>\n<p>pipeline</p>\n<pre><code>@Bean\nMessageChannel submitApplicationChannel() {\n    return new DirectChannel();\n}\n</code></pre>\n<p>So my test is sending a request to start the flow</p>\n<pre><code>@Test\n@DisplayName(&quot;Application Submission&quot;)\nvoid submissionTest() throws Exception {\n    \n    mockMvc.perform(MockMvcRequestBuilders\n            .post(&quot;/api/v1/applications/contract-validation/&quot; + APPLICATION_ID)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(objectMapper.writeValueAsString(payload)))\n            .andExpect(status().isAccepted())\n            .andReturn();\n\n//Check HERE if the message passed through the channel\n\n}\n</code></pre>\n<p>Can you give me a hand??</p>\n"},{"tags":["java","javafx","awt","menuitem","trayicon"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701701050,"post_id":77599976,"comment_id":136804926,"body_markdown":"Haven&#39;t looked at your code in depth, but it may help to see some working examples. For instance, [this example](https://gist.github.com/jewelsea/e231e89e8d36ef4e5d8a) by jewelsea.","body":"Haven&#39;t looked at your code in depth, but it may help to see some working examples. For instance, <a href=\"https://gist.github.com/jewelsea/e231e89e8d36ef4e5d8a\" rel=\"nofollow noreferrer\">this example</a> by jewelsea."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1701704291,"post_id":77599976,"comment_id":136805631,"body_markdown":"I&#39;m not sure the `setOnCloseEvent(...)` handler is doing anything (other than the logging) that the default behavior doesn&#39;t do anyway. Create and post a [mre].","body":"I&#39;m not sure the <code>setOnCloseEvent(...)</code> handler is doing anything (other than the logging) that the default behavior doesn&#39;t do anyway. Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1701732463,"post_id":77599976,"comment_id":136810015,"body_markdown":"Dustin built a library to handle tray icons in JavaFX called [FXTrayIcon](https://github.com/dustinkredmond/FXTrayIcon).  It might be better to try that than try to implement the functionality yourself.","body":"Dustin built a library to handle tray icons in JavaFX called <a href=\"https://github.com/dustinkredmond/FXTrayIcon\" rel=\"nofollow noreferrer\">FXTrayIcon</a>.  It might be better to try that than try to implement the functionality yourself."},{"owner":{"account_id":27986047,"reputation":11,"user_id":21372856,"display_name":"George Elizarov"},"score":1,"creation_date":1702276694,"post_id":77599976,"comment_id":136872036,"body_markdown":"@jewelsea thank you very much, this library is amazing!","body":"@jewelsea thank you very much, this library is amazing!"}],"owner":{"account_id":27986047,"reputation":11,"user_id":21372856,"display_name":"George Elizarov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701698441,"creation_date":1701698126,"question_id":77599976,"body_markdown":"I have one suspended state of my application that I can&#39;t get around in any way.\r\nI was able to successfully create an application that has absolutely all the functionality. I decided to practice a little and add the ability of the application to work in the tray, for this I created a tray icon with a menu (Open and Close the application window).\r\n```\r\nprivate TrayIcon trayIcon;\r\nprivate PopupMenu popup;\r\nprivate MenuItem openItem;\r\nprivate MenuItem closeItem;\r\nprivate System Tray tray; \r\n```\r\nthere are only two options in my menu, close Item - &quot;Close&quot;, which works wonderfully, and open Item - &quot;Open&quot;, which broke my head.\r\nThe main idea is that I have a primaryStage that hides in the tray when you click the &quot;cross&quot; button on the main window (anyway, I guess it should be like this), I implemented it like this:\r\n```\r\nprimaryStage.setOnCloseRequest(event -&gt; {\r\n            event.consumer();\r\n            primaryStage.hide();\r\n        });\r\n```\r\nNext, when I click the tray icon, the menu is displayed, I press the &quot;Open&quot; button. And visually nothing happens. Next, I went into debug mode, added messages for debugging and saw this behavior that on the line:\r\n`Platform.runLater(new Runnable() {`\r\nthe compiler passes to:\r\n```\r\npublic static void runLater(Runnable runnable) {\r\n        PlatformImpl.runLater(runnable);\r\n    }\r\n```\r\nsome object, then returns back to my method and ignoring the run method exits the method, you can get there again by initiating an event by clicking on the &quot;Open&quot; button. The implementation was written through lambda expressions, but I expanded everything for a better understanding of the process.\r\n\r\nWhat should I change in the code so that the window of my JavaFX application finally opens at the click of the menu button?\r\n\r\n```\r\nopenItem.addActionListener(new ActionListener() {\r\n   @Override\r\n      public void actionPerformed(ActionEvent event) {\r\n      System.out.println(&quot;Preparing to call Platform.runLater&quot;);\r\n      System.out.println(Platform.isFxApplicationThread()); // here is FALSE\r\n   \r\n      Platform.runLater(new Runnable() {\r\n\r\n          @Override\r\n          public void run() { // leave from here to ...\r\n             System.out.println(&quot;Executing in Platform.runLater&quot;);\r\n             System.out.println(Platform.isFxApplicationThread());\r\n             primaryStage.setIconified(false);\r\n             primaryStage.show();\r\n             primaryStage.toFront();\r\n          }\r\n      }); // to here ... and again, after pressing &quot;OPEN&quot;\r\n    }\r\n});\r\n\r\n    closeItem = new MenuItem(&quot;Close&quot;);\r\n    closeItem.addActionListener(event -&gt; {\r\n       Platform.exit();\r\n       tray.remove(trayIcon);\r\n       System.exit(0);\r\n    });\r\n```\r\nHere is my Start method:\r\n```\r\n    @Override\r\n    public void start(Stage primaryStage) throws IOException {\r\n        primaryStage.setTitle(&quot;Meal Ordering App&quot;);\r\n        FXMLLoader startLoader = new FXMLLoader(getClass().getResource(&quot;/Start.fxml&quot;));\r\n        Parent root = startLoader.load();\r\n        Scene scene = new Scene(root);\r\n        primaryStage.setScene(scene);\r\n\r\n        prepareTrayIcon(primaryStage);\r\n        primaryStage.show();\r\n\r\n        primaryStage.setOnCloseRequest(event -&gt; {\r\n            System.out.println(&quot;Closing window requested&quot;);\r\n            event.consume();\r\n            System.out.println(&quot;event is consumed? &quot; + event.isConsumed());\r\n            primaryStage.hide();\r\n        });\r\n\r\n        scheduleNotifications();\r\n    }\r\n```\r\n\r\nI rewrote it in different ways, it didn’t help","title":"Java/JavaFX AWT (MenuItem) to JavaFX (event)","body":"<p>I have one suspended state of my application that I can't get around in any way.\nI was able to successfully create an application that has absolutely all the functionality. I decided to practice a little and add the ability of the application to work in the tray, for this I created a tray icon with a menu (Open and Close the application window).</p>\n<pre><code>private TrayIcon trayIcon;\nprivate PopupMenu popup;\nprivate MenuItem openItem;\nprivate MenuItem closeItem;\nprivate System Tray tray; \n</code></pre>\n<p>there are only two options in my menu, close Item - &quot;Close&quot;, which works wonderfully, and open Item - &quot;Open&quot;, which broke my head.\nThe main idea is that I have a primaryStage that hides in the tray when you click the &quot;cross&quot; button on the main window (anyway, I guess it should be like this), I implemented it like this:</p>\n<pre><code>primaryStage.setOnCloseRequest(event -&gt; {\n            event.consumer();\n            primaryStage.hide();\n        });\n</code></pre>\n<p>Next, when I click the tray icon, the menu is displayed, I press the &quot;Open&quot; button. And visually nothing happens. Next, I went into debug mode, added messages for debugging and saw this behavior that on the line:\n<code>Platform.runLater(new Runnable() {</code>\nthe compiler passes to:</p>\n<pre><code>public static void runLater(Runnable runnable) {\n        PlatformImpl.runLater(runnable);\n    }\n</code></pre>\n<p>some object, then returns back to my method and ignoring the run method exits the method, you can get there again by initiating an event by clicking on the &quot;Open&quot; button. The implementation was written through lambda expressions, but I expanded everything for a better understanding of the process.</p>\n<p>What should I change in the code so that the window of my JavaFX application finally opens at the click of the menu button?</p>\n<pre><code>openItem.addActionListener(new ActionListener() {\n   @Override\n      public void actionPerformed(ActionEvent event) {\n      System.out.println(&quot;Preparing to call Platform.runLater&quot;);\n      System.out.println(Platform.isFxApplicationThread()); // here is FALSE\n   \n      Platform.runLater(new Runnable() {\n\n          @Override\n          public void run() { // leave from here to ...\n             System.out.println(&quot;Executing in Platform.runLater&quot;);\n             System.out.println(Platform.isFxApplicationThread());\n             primaryStage.setIconified(false);\n             primaryStage.show();\n             primaryStage.toFront();\n          }\n      }); // to here ... and again, after pressing &quot;OPEN&quot;\n    }\n});\n\n    closeItem = new MenuItem(&quot;Close&quot;);\n    closeItem.addActionListener(event -&gt; {\n       Platform.exit();\n       tray.remove(trayIcon);\n       System.exit(0);\n    });\n</code></pre>\n<p>Here is my Start method:</p>\n<pre><code>    @Override\n    public void start(Stage primaryStage) throws IOException {\n        primaryStage.setTitle(&quot;Meal Ordering App&quot;);\n        FXMLLoader startLoader = new FXMLLoader(getClass().getResource(&quot;/Start.fxml&quot;));\n        Parent root = startLoader.load();\n        Scene scene = new Scene(root);\n        primaryStage.setScene(scene);\n\n        prepareTrayIcon(primaryStage);\n        primaryStage.show();\n\n        primaryStage.setOnCloseRequest(event -&gt; {\n            System.out.println(&quot;Closing window requested&quot;);\n            event.consume();\n            System.out.println(&quot;event is consumed? &quot; + event.isConsumed());\n            primaryStage.hide();\n        });\n\n        scheduleNotifications();\n    }\n</code></pre>\n<p>I rewrote it in different ways, it didn’t help</p>\n"},{"tags":["java","matrix","liferay"],"owner":{"account_id":30063134,"reputation":1,"user_id":23038839,"display_name":"ImAycee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701698431,"creation_date":1701698431,"question_id":77600015,"body_markdown":"I&#39;m actually working on a matrix server and a Liferay application, I would like to embed the matrix&#39;s client in my liferay application, I saw element, which doesn&#39;t let embed it in any site, and also saw about cactus which is not really what I&#39;m seeking, as I want to include a chat in my application.\r\n\r\nIf anyone got any idea about a great client for Matrix to include it liferay.\r\n\r\nThank you.\r\n\r\nI tried embedding Element.io in an iframe, but it&#39;s not authorized.\r\n\r\nChecked other clients like cactus, but it&#39;s not really what I&#39;m seeking","title":"Matrix Client for Liferay","body":"<p>I'm actually working on a matrix server and a Liferay application, I would like to embed the matrix's client in my liferay application, I saw element, which doesn't let embed it in any site, and also saw about cactus which is not really what I'm seeking, as I want to include a chat in my application.</p>\n<p>If anyone got any idea about a great client for Matrix to include it liferay.</p>\n<p>Thank you.</p>\n<p>I tried embedding Element.io in an iframe, but it's not authorized.</p>\n<p>Checked other clients like cactus, but it's not really what I'm seeking</p>\n"},{"tags":["java","spring","spring-boot","rest","error-handling"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":9,"creation_date":1467275297,"post_id":38117717,"comment_id":63667836,"body_markdown":"One solution is to use `ResponseEntity&lt;Object&gt;`. An other is to use the a BaseClass or Interface for types Success and Error.","body":"One solution is to use <code>ResponseEntity&lt;Object&gt;</code>. An other is to use the a BaseClass or Interface for types Success and Error."},{"owner":{"account_id":3205377,"reputation":341,"user_id":2706507,"accept_rate":75,"display_name":"J.Mengelle"},"score":1,"creation_date":1467276050,"post_id":38117717,"comment_id":63668277,"body_markdown":"Could you not just return `ResponseEntity` in yout method definition ? `  public ResponseEntity myControllerMethod(...)    and return either a `ResponseEntity&lt;Success&gt;` or a `ResponseEntity&lt;Error&gt;`","body":"Could you not just return <code>ResponseEntity</code> in yout method definition ? `  public ResponseEntity myControllerMethod(...)    and return either a <code>ResponseEntity&lt;Success&gt;</code> or a <code>ResponseEntity&lt;Error&gt;</code>"},{"owner":{"account_id":1477692,"reputation":46661,"user_id":1393484,"accept_rate":100,"display_name":"Ali Dehghani"},"score":0,"creation_date":1467292123,"post_id":38117717,"comment_id":63679401,"body_markdown":"`ResponseEntity&lt;Either&lt;Error, Success&gt;&gt;` would be good, if you could manage to implement the data structure in java","body":"<code>ResponseEntity&lt;Either&lt;Error, Success&gt;&gt;</code> would be good, if you could manage to implement the data structure in java"}],"answers":[{"tags":[],"owner":{"account_id":1202195,"reputation":3616,"user_id":1172611,"accept_rate":88,"display_name":"shazinltc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467275846,"creation_date":1467275846,"answer_id":38117932,"question_id":38117717,"body_markdown":"I used to use a class like this. The **statusCode** is set when there is an error with the error message set in **message**. Data is stored either in the Map or in a List as and when appropriate.\r\n\r\n    /**\r\n    * \r\n    */\r\n    package com.test.presentation.response;\r\n\r\n    import java.util.Collection;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * A simple POJO to send JSON response to ajax requests. This POJO enables  us to\r\n     * send messages and error codes with the actual objects in the application.\r\n     * \r\n     * \r\n     */\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n    public class GenericResponse {\r\n\r\n\t/**\r\n\t * An array that contains the actual objects\r\n\t */\r\n\tprivate Collection rows;\r\n\r\n\t/**\r\n\t * An Map that contains the actual objects\r\n\t */\r\n\tprivate Map mapData;\r\n\r\n\t/**\r\n\t * A String containing error code. Set to 1 if there is an error\r\n\t */\r\n\tprivate int statusCode = 0;\r\n\r\n\t/**\r\n\t * A String containing error message.\r\n\t */\r\n\tprivate String message;\r\n\r\n\t/**\r\n\t * An array that contains the actual objects\r\n\t * \r\n\t * @return the rows\r\n\t */\r\n\tpublic Collection getRows() {\r\n\t\treturn rows;\r\n\t}\r\n\r\n\t/**\r\n\t * An array that contains the actual objects\r\n\t * \r\n\t * @param rows\r\n\t *            the rows to set\r\n\t */\r\n\tpublic void setRows(Collection rows) {\r\n\t\tthis.rows = rows;\r\n\t}\r\n\r\n\t/**\r\n\t * An Map that contains the actual objects\r\n\t * \r\n\t * @return the mapData\r\n\t */\r\n\tpublic Map getMapData() {\r\n\t\treturn mapData;\r\n\t}\r\n\r\n\t/**\r\n\t * An Map that contains the actual objects\r\n\t * \r\n\t * @param mapData\r\n\t *            the mapData to set\r\n\t */\r\n\tpublic void setMapData(Map mapData) {\r\n\t\tthis.mapData = mapData;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error code.\r\n\t * \r\n\t * @return the errorCode\r\n\t */\r\n\tpublic int getStatusCode() {\r\n\t\treturn statusCode;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error code.\r\n\t * \r\n\t * @param errorCode\r\n\t *            the errorCode to set\r\n\t */\r\n\tpublic void setStatusCode(int errorCode) {\r\n\t\tthis.statusCode = errorCode;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error message.\r\n\t * \r\n\t * @return the errorMessage\r\n\t */\r\n\tpublic String getMessage() {\r\n\t\treturn message;\r\n\t}\r\n\r\n\t/**\r\n\t * A String containing error message.\r\n\t * \r\n\t * @param errorMessage\r\n\t *            the errorMessage to set\r\n\t */\r\n\tpublic void setMessage(String errorMessage) {\r\n\t\tthis.message = errorMessage;\r\n\t}\r\n\r\n}\r\n\r\nHope this helps.","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>I used to use a class like this. The <strong>statusCode</strong> is set when there is an error with the error message set in <strong>message</strong>. Data is stored either in the Map or in a List as and when appropriate.</p>\n\n<pre><code>/**\n* \n*/\npackage com.test.presentation.response;\n\nimport java.util.Collection;\nimport java.util.Map;\n\n/**\n * A simple POJO to send JSON response to ajax requests. This POJO enables  us to\n * send messages and error codes with the actual objects in the application.\n * \n * \n */\n@SuppressWarnings(\"rawtypes\")\npublic class GenericResponse {\n\n/**\n * An array that contains the actual objects\n */\nprivate Collection rows;\n\n/**\n * An Map that contains the actual objects\n */\nprivate Map mapData;\n\n/**\n * A String containing error code. Set to 1 if there is an error\n */\nprivate int statusCode = 0;\n\n/**\n * A String containing error message.\n */\nprivate String message;\n\n/**\n * An array that contains the actual objects\n * \n * @return the rows\n */\npublic Collection getRows() {\n    return rows;\n}\n\n/**\n * An array that contains the actual objects\n * \n * @param rows\n *            the rows to set\n */\npublic void setRows(Collection rows) {\n    this.rows = rows;\n}\n\n/**\n * An Map that contains the actual objects\n * \n * @return the mapData\n */\npublic Map getMapData() {\n    return mapData;\n}\n\n/**\n * An Map that contains the actual objects\n * \n * @param mapData\n *            the mapData to set\n */\npublic void setMapData(Map mapData) {\n    this.mapData = mapData;\n}\n\n/**\n * A String containing error code.\n * \n * @return the errorCode\n */\npublic int getStatusCode() {\n    return statusCode;\n}\n\n/**\n * A String containing error code.\n * \n * @param errorCode\n *            the errorCode to set\n */\npublic void setStatusCode(int errorCode) {\n    this.statusCode = errorCode;\n}\n\n/**\n * A String containing error message.\n * \n * @return the errorMessage\n */\npublic String getMessage() {\n    return message;\n}\n\n/**\n * A String containing error message.\n * \n * @param errorMessage\n *            the errorMessage to set\n */\npublic void setMessage(String errorMessage) {\n    this.message = errorMessage;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4171274,"reputation":650,"user_id":3418978,"display_name":"Maulik Patel"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1538653286,"creation_date":1467276126,"answer_id":38118045,"question_id":38117717,"body_markdown":"i am not sure but, I think you can use `@ResponseEntity` and `@ResponseBody` and send 2 different one is Success and second is error message like :\r\n\r\n\r\n    @RequestMapping(value =&quot;/book2&quot;, produces =MediaType.APPLICATION_JSON_VALUE )\r\n    @ResponseBody\r\n    Book bookInfo2() {\r\n        Book book = new Book();\r\n        book.setBookName(&quot;Ramcharitmanas&quot;);\r\n        book.setWriter(&quot;TulasiDas&quot;);\r\n        return book;\r\n    }\r\n    \r\n    @RequestMapping(value =&quot;/book3&quot;, produces =MediaType.APPLICATION_JSON_VALUE )\r\n    public ResponseEntity&lt;Book&gt; bookInfo3() {\r\n    \tBook book = new Book();\r\n       \tbook.setBookName(&quot;Ramayan&quot;);\r\n       \tbook.setWriter(&quot;Valmiki&quot;);\r\n        return ResponseEntity.accepted().body(book);\r\n    }\r\n\r\n \r\n\r\nFor more detail refer to this: \r\nhttp://www.concretepage.com/spring-4/spring-4-mvc-jsonp-example-with-rest-responsebody-responseentity\r\n\r\n","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>i am not sure but, I think you can use <code>@ResponseEntity</code> and <code>@ResponseBody</code> and send 2 different one is Success and second is error message like :</p>\n\n<pre><code>@RequestMapping(value =\"/book2\", produces =MediaType.APPLICATION_JSON_VALUE )\n@ResponseBody\nBook bookInfo2() {\n    Book book = new Book();\n    book.setBookName(\"Ramcharitmanas\");\n    book.setWriter(\"TulasiDas\");\n    return book;\n}\n\n@RequestMapping(value =\"/book3\", produces =MediaType.APPLICATION_JSON_VALUE )\npublic ResponseEntity&lt;Book&gt; bookInfo3() {\n    Book book = new Book();\n    book.setBookName(\"Ramayan\");\n    book.setWriter(\"Valmiki\");\n    return ResponseEntity.accepted().body(book);\n}\n</code></pre>\n\n<p>For more detail refer to this: \n<a href=\"http://www.concretepage.com/spring-4/spring-4-mvc-jsonp-example-with-rest-responsebody-responseentity\" rel=\"nofollow noreferrer\">http://www.concretepage.com/spring-4/spring-4-mvc-jsonp-example-with-rest-responsebody-responseentity</a></p>\n"},{"comments":[{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":8,"creation_date":1507781115,"post_id":38123930,"comment_id":80349588,"body_markdown":"Its only the case that code quality tools ( like Sonar Lint ) flag this coding practice with **Generic wildcard types should not be used in return parameters (squid:S1452)**","body":"Its only the case that code quality tools ( like Sonar Lint ) flag this coding practice with <b>Generic wildcard types should not be used in return parameters (squid:S1452)</b>"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":5,"creation_date":1536938366,"post_id":38123930,"comment_id":91616871,"body_markdown":"This is rather a **hack** how to circumvent the (imperfect) mechanism of Java generics. @MarkNorman&#39;s answer is the standard and should be the accepted one.","body":"This is rather a <b>hack</b> how to circumvent the (imperfect) mechanism of Java generics. @MarkNorman&#39;s answer is the standard and should be the accepted one."},{"owner":{"account_id":953854,"reputation":1820,"user_id":979507,"display_name":"Dominik Dorn"},"score":1,"creation_date":1549213092,"post_id":38123930,"comment_id":95814176,"body_markdown":"I just came across the same problem and I&#39;m looking into creating something that would work with VAVRs `Either`, so that I could have a `public ResponseEntity&lt;Either&lt;Error, Success&gt;&gt; method()` or better a `public Either&lt;ResponseEntity&lt;Error&gt;, ResponseEntity&lt;Success&gt;&gt; method()`. I think the way to do that would be to create a `HttpMessageConverter` that would know how to handle that and would simply convert the Either to the left/right side and let normal processing happen .. that way I could signal my valid states without using exceptions.. any ideas on this one?","body":"I just came across the same problem and I&#39;m looking into creating something that would work with VAVRs <code>Either</code>, so that I could have a <code>public ResponseEntity&lt;Either&lt;Error, Success&gt;&gt; method()</code> or better a <code>public Either&lt;ResponseEntity&lt;Error&gt;, ResponseEntity&lt;Success&gt;&gt; method()</code>. I think the way to do that would be to create a <code>HttpMessageConverter</code> that would know how to handle that and would simply convert the Either to the left/right side and let normal processing happen .. that way I could signal my valid states without using exceptions.. any ideas on this one?"},{"owner":{"account_id":17161628,"reputation":505,"user_id":12421130,"display_name":"Daniel Paul"},"score":0,"creation_date":1653983085,"post_id":38123930,"comment_id":127976731,"body_markdown":"Is there a way to convert wildcard generic to a specific generic?","body":"Is there a way to convert wildcard generic to a specific generic?"}],"tags":[],"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"comment_count":4,"down_vote_count":2,"up_vote_count":60,"is_accepted":false,"score":58,"last_activity_date":1559137506,"creation_date":1467291698,"answer_id":38123930,"question_id":38117717,"body_markdown":"You can return generic wildcard `&lt;?&gt;` to return `Success` and `Error` on a same request mapping method\r\n\r\n\tpublic ResponseEntity&lt;?&gt; method() {\r\n\t\tboolean b = // some logic\r\n\t\tif (b)\r\n\t\t\treturn new ResponseEntity&lt;Success&gt;(HttpStatus.OK);\r\n\t\telse\r\n\t\t\treturn new ResponseEntity&lt;Error&gt;(HttpStatus.CONFLICT); //appropriate error code\r\n\t}\r\n\r\n**@Mark Norman answer is the correct approach** ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can return generic wildcard <code>&lt;?&gt;</code> to return <code>Success</code> and <code>Error</code> on a same request mapping method</p>\n\n<pre><code>public ResponseEntity&lt;?&gt; method() {\n    boolean b = // some logic\n    if (b)\n        return new ResponseEntity&lt;Success&gt;(HttpStatus.OK);\n    else\n        return new ResponseEntity&lt;Error&gt;(HttpStatus.CONFLICT); //appropriate error code\n}\n</code></pre>\n\n<p><strong>@Mark Norman answer is the correct approach</strong> </p>\n"},{"comments":[{"owner":{"account_id":247425,"reputation":1133,"user_id":522134,"accept_rate":38,"display_name":"sofiaguyang"},"score":4,"creation_date":1474557517,"post_id":38464143,"comment_id":66589159,"body_markdown":"Not specifying generic type would cause `GsonHttpMessageConverter` to complain and throw error. But simply modifying to `ResponseEntity&lt;?&gt;` would make it work.","body":"Not specifying generic type would cause <code>GsonHttpMessageConverter</code> to complain and throw error. But simply modifying to <code>ResponseEntity&lt;?&gt;</code> would make it work."},{"owner":{"account_id":3731659,"reputation":3183,"user_id":3103802,"accept_rate":73,"display_name":"Saveendra Ekanayake"},"score":0,"creation_date":1491548268,"post_id":38464143,"comment_id":73611420,"body_markdown":"Yes.. anyway when using Jackson, its okay to use without generics.","body":"Yes.. anyway when using Jackson, its okay to use without generics."},{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1593508992,"post_id":38464143,"comment_id":110799470,"body_markdown":"It will be flagged by most code inspection tools though. So, you would have to add an exception or suppress them for this specific response type. - Not a big fan.","body":"It will be flagged by most code inspection tools though. So, you would have to add an exception or suppress them for this specific response type. - Not a big fan."}],"tags":[],"owner":{"account_id":3731659,"reputation":3183,"user_id":3103802,"accept_rate":73,"display_name":"Saveendra Ekanayake"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1468946462,"creation_date":1468946462,"answer_id":38464143,"question_id":38117717,"body_markdown":"Its possible to return `ResponseEntity` without using generics, such as follows,\r\n\r\n    public ResponseEntity method() {\r\n        boolean isValid = // some logic\r\n        if (isValid){\r\n            return new ResponseEntity(new Success(), HttpStatus.OK);\r\n        }\r\n        else{\r\n            return new ResponseEntity(new Error(), HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n\r\n ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Its possible to return <code>ResponseEntity</code> without using generics, such as follows,</p>\n\n<pre><code>public ResponseEntity method() {\n    boolean isValid = // some logic\n    if (isValid){\n        return new ResponseEntity(new Success(), HttpStatus.OK);\n    }\n    else{\n        return new ResponseEntity(new Error(), HttpStatus.BAD_REQUEST);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":"ρяσѕρєя K"},"score":0,"creation_date":1484099606,"post_id":41581004,"comment_id":70367693,"body_markdown":"Add some explanation with answer for how this answer help OP in fixing current issue","body":"Add some explanation with answer for how this answer help OP in fixing current issue"}],"tags":[],"owner":{"account_id":9964013,"reputation":225,"user_id":7372285,"display_name":"sharath"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1484100273,"creation_date":1484095664,"answer_id":41581004,"question_id":38117717,"body_markdown":"Here is a way that I would do it:\r\n\r\n    public ResponseEntity &lt; ? extends BaseResponse &gt; message(@PathVariable String player) { //REST Endpoint.\r\n    \r\n     try {\r\n      Integer.parseInt(player);\r\n      return new ResponseEntity &lt; ErrorResponse &gt; (new ErrorResponse(&quot;111&quot;, &quot;player is not found&quot;), HttpStatus.BAD_REQUEST);\r\n     } catch (Exception e) {\r\n    \r\n    \r\n     }\r\n     Message msg = new Message(player, &quot;Hello &quot; + player);\r\n     return new ResponseEntity &lt; Message &gt; (msg, HttpStatus.OK);\r\n    \r\n    }\r\n    \r\n    @RequestMapping(value = &quot;/getAll/{player}&quot;, method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; messageAll(@PathVariable String player) { //REST Endpoint.\r\n    \r\n     try {\r\n      Integer.parseInt(player);\r\n      List &lt; ErrorResponse &gt; errs = new ArrayList &lt; ErrorResponse &gt; ();\r\n      errs.add(new ErrorResponse(&quot;111&quot;, &quot;player is not found&quot;));\r\n      return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (errs, HttpStatus.BAD_REQUEST);\r\n     } catch (Exception e) {\r\n    \r\n    \r\n     }\r\n     Message msg = new Message(player, &quot;Hello &quot; + player);\r\n     List &lt; Message &gt; msgList = new ArrayList &lt; Message &gt; ();\r\n     msgList.add(msg);\r\n     return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (msgList, HttpStatus.OK);\r\n    \r\n    }\r\n    ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Here is a way that I would do it:</p>\n\n<pre><code>public ResponseEntity &lt; ? extends BaseResponse &gt; message(@PathVariable String player) { //REST Endpoint.\n\n try {\n  Integer.parseInt(player);\n  return new ResponseEntity &lt; ErrorResponse &gt; (new ErrorResponse(\"111\", \"player is not found\"), HttpStatus.BAD_REQUEST);\n } catch (Exception e) {\n\n\n }\n Message msg = new Message(player, \"Hello \" + player);\n return new ResponseEntity &lt; Message &gt; (msg, HttpStatus.OK);\n\n}\n\n@RequestMapping(value = \"/getAll/{player}\", method = RequestMethod.GET, produces = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; messageAll(@PathVariable String player) { //REST Endpoint.\n\n try {\n  Integer.parseInt(player);\n  List &lt; ErrorResponse &gt; errs = new ArrayList &lt; ErrorResponse &gt; ();\n  errs.add(new ErrorResponse(\"111\", \"player is not found\"));\n  return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (errs, HttpStatus.BAD_REQUEST);\n } catch (Exception e) {\n\n\n }\n Message msg = new Message(player, \"Hello \" + player);\n List &lt; Message &gt; msgList = new ArrayList &lt; Message &gt; ();\n msgList.add(msg);\n return new ResponseEntity &lt; List &lt; ? extends BaseResponse &gt;&gt; (msgList, HttpStatus.OK);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11506037,"reputation":1545,"user_id":8432237,"accept_rate":50,"display_name":"NeeruKSingh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509007144,"creation_date":1509005904,"answer_id":46949124,"question_id":38117717,"body_markdown":"You can also  implement like this to return Success and Error on a same request mapping method,use Object class(Parent class of every class in java) :-     \r\n\r\n    public ResponseEntity&lt; Object&gt; method() {                                                                                                                                                                                                                                                                                                                                                                                  \r\n        boolean b = //  logic  here   \r\n          if (b)  \r\n            return new ResponseEntity&lt; Object&gt;(HttpStatus.OK);      \r\n        else      \r\n            return new ResponseEntity&lt; Object&gt;(HttpStatus.CONFLICT); //appropriate error code   \r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can also  implement like this to return Success and Error on a same request mapping method,use Object class(Parent class of every class in java) :-     </p>\n\n<pre><code>public ResponseEntity&lt; Object&gt; method() {                                                                                                                                                                                                                                                                                                                                                                                  \n    boolean b = //  logic  here   \n      if (b)  \n        return new ResponseEntity&lt; Object&gt;(HttpStatus.OK);      \n    else      \n        return new ResponseEntity&lt; Object&gt;(HttpStatus.CONFLICT); //appropriate error code   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12983409,"reputation":61,"user_id":9385037,"display_name":"Ridha10"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1519122012,"creation_date":1519122012,"answer_id":48882913,"question_id":38117717,"body_markdown":"You can use a map with your object or string like bellow :\r\n\r\n    @RequestMapping(value = &quot;/path&quot;, \r\n    \t\tmethod = RequestMethod.GET, \r\n    \t\tproduces = MediaType.APPLICATION_JSON_VALUE)\r\n    \t@ResponseBody\r\n    \tpublic ResponseEntity&lt;Map&lt;String,String&gt;&gt; getData(){\r\n    \r\n    \tMap&lt;String,String&gt; response = new HashMap&lt;String, String&gt;();\r\n    \t\t\r\n    \tboolean isValid = // some logic\r\n        if (isValid){\r\n            response.put(&quot;ok&quot;, &quot;success saving data&quot;);\r\n            return ResponseEntity.accepted().body(response);\r\n        }\r\n        else{\r\n            response.put(&quot;error&quot;, &quot;an error expected on processing file&quot;);\r\n            return ResponseEntity.badRequest().body(response);\r\n        }\r\n    \r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can use a map with your object or string like bellow :</p>\n\n<pre><code>@RequestMapping(value = \"/path\", \n        method = RequestMethod.GET, \n        produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;Map&lt;String,String&gt;&gt; getData(){\n\n    Map&lt;String,String&gt; response = new HashMap&lt;String, String&gt;();\n\n    boolean isValid = // some logic\n    if (isValid){\n        response.put(\"ok\", \"success saving data\");\n        return ResponseEntity.accepted().body(response);\n    }\n    else{\n        response.put(\"error\", \"an error expected on processing file\");\n        return ResponseEntity.badRequest().body(response);\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":16,"creation_date":1536938104,"post_id":50053782,"comment_id":91616699,"body_markdown":"This is the standard and should be the accepted answer IMO.","body":"This is the standard and should be the accepted answer IMO."},{"owner":{"account_id":7768559,"reputation":236,"user_id":5878974,"accept_rate":0,"display_name":"Jon Betts"},"score":0,"creation_date":1551887143,"post_id":50053782,"comment_id":96806691,"body_markdown":"This is great advice, and definitely the way in which I would implement error handling if I were coding a project from scratch.","body":"This is great advice, and definitely the way in which I would implement error handling if I were coding a project from scratch."},{"owner":{"account_id":309142,"reputation":3795,"user_id":621438,"accept_rate":79,"display_name":"LukeSolar"},"score":2,"creation_date":1563483314,"post_id":50053782,"comment_id":100725932,"body_markdown":"What about the fact that it is not recommended to handle expected application flow via Exceptions in Java? For example a getCustomerForIBAN returns an Optional exposed via a REST api `GET /api/customer/{iban}` which returns 200 ok or 404 not found? Would you advice to then throw an Exception and handle that the same way?","body":"What about the fact that it is not recommended to handle expected application flow via Exceptions in Java? For example a getCustomerForIBAN returns an Optional exposed via a REST api <code>GET &#47;api&#47;customer&#47;{iban}</code> which returns 200 ok or 404 not found? Would you advice to then throw an Exception and handle that the same way?"},{"owner":{"account_id":8056844,"reputation":2331,"user_id":6073695,"display_name":"Mark Norman"},"score":1,"creation_date":1563547608,"post_id":50053782,"comment_id":100748413,"body_markdown":"If you want to avoid using exceptions in Java, you can design your controller method to return a `ResponseEntity`. `ResponseEntity` allows you to control the HTTP status code that is returned, and it is a generic type so you can return any object structure.  Here&#39;s an explanation on how to use it: https://www.baeldung.com/spring-response-entity","body":"If you want to avoid using exceptions in Java, you can design your controller method to return a <code>ResponseEntity</code>. <code>ResponseEntity</code> allows you to control the HTTP status code that is returned, and it is a generic type so you can return any object structure.  Here&#39;s an explanation on how to use it: <a href=\"https://www.baeldung.com/spring-response-entity\" rel=\"nofollow noreferrer\">baeldung.com/spring-response-entity</a>"},{"owner":{"account_id":8056844,"reputation":2331,"user_id":6073695,"display_name":"Mark Norman"},"score":0,"creation_date":1563548655,"post_id":50053782,"comment_id":100748960,"body_markdown":"As an addendum to my comment: (1) my comment implies that `ResponseEntity` and Java exceptions are mutually exclusive, which is not the case, (2) the OP wanted to return a different type under exception/error conditions, which makes `@ControllerAdvice` a better option, and (3) you can use both `ResponseEntity` and `@ControllerAdvice` for the same method.","body":"As an addendum to my comment: (1) my comment implies that <code>ResponseEntity</code> and Java exceptions are mutually exclusive, which is not the case, (2) the OP wanted to return a different type under exception/error conditions, which makes <code>@ControllerAdvice</code> a better option, and (3) you can use both <code>ResponseEntity</code> and <code>@ControllerAdvice</code> for the same method."},{"owner":{"account_id":1448620,"reputation":965,"user_id":1366287,"accept_rate":40,"display_name":"taylorcressy"},"score":3,"creation_date":1594160267,"post_id":50053782,"comment_id":111028282,"body_markdown":"Is this really the standard for handling &quot;validation errors&quot; though? Validation errors are meant to be a controlled flow in your service layer (presumably). Why would we let an Exception bubble up to the Controller level unhandled? I understand unexpected Exceptions (i.e. 5xx error codes) but not validation ones (4xx). Am I missing something?","body":"Is this really the standard for handling &quot;validation errors&quot; though? Validation errors are meant to be a controlled flow in your service layer (presumably). Why would we let an Exception bubble up to the Controller level unhandled? I understand unexpected Exceptions (i.e. 5xx error codes) but not validation ones (4xx). Am I missing something?"},{"owner":{"account_id":8056844,"reputation":2331,"user_id":6073695,"display_name":"Mark Norman"},"score":2,"creation_date":1594165776,"post_id":50053782,"comment_id":111029689,"body_markdown":"This is the standard for handling errors that other layers of the application allow to propagate up or throw explicitly. RE: validation errors, the service layer can still catch and handle. I was too restrictive when I stated &quot;handle validation errors&quot; in the first sentence. I&#39;ve deleted &quot;validation&quot; to indicate this is for errors in general. Thanks for pointing that out.","body":"This is the standard for handling errors that other layers of the application allow to propagate up or throw explicitly. RE: validation errors, the service layer can still catch and handle. I was too restrictive when I stated &quot;handle validation errors&quot; in the first sentence. I&#39;ve deleted &quot;validation&quot; to indicate this is for errors in general. Thanks for pointing that out."},{"owner":{"account_id":2093262,"reputation":9491,"user_id":1862590,"display_name":"Sathiamoorthy"},"score":0,"creation_date":1598589112,"post_id":50053782,"comment_id":112513703,"body_markdown":"Follow this approach: https://stackoverflow.com/questions/38117717/what-is-the-best-way-to-return-different-types-of-responseentity-in-spring-mvc-o/63500498#63500498","body":"Follow this approach: <a href=\"https://stackoverflow.com/questions/38117717/what-is-the-best-way-to-return-different-types-of-responseentity-in-spring-mvc-o/63500498#63500498\" title=\"what is the best way to return different types of responseentity in spring mvc o\">stackoverflow.com/questions/38117717/&hellip;</a>"},{"owner":{"account_id":2746704,"reputation":411,"user_id":2366973,"display_name":"Stan Towianski"},"score":0,"creation_date":1625786295,"post_id":50053782,"comment_id":120727418,"body_markdown":"if you return &gt; 1 type (here SUCCESS and ERROR), doesn&#39;t that mean you cannot type your responseEntity? you have to chk and convert it\n    \n    instead of ResponseEntity&lt;SUCCESS&gt; res = restTemplate.exchange( url, GET, req, new ParameterizedTypeReference&lt;SUCCESS&gt;);\n    \n    you have to:\n    ResponseEntity&lt;String&gt; res = restTemplate.exchange( url, get, req, String.class to make it easy );\n    if ( res.getStatusCode == 200 or 204 )\n    String json = res.getBody();\n    SUCCESS suc = jsonToObject( json, SUCCESS type ref );\n    else\n    ERROR err = jsonToObject( json, ERROR type ref );","body":"if you return &gt; 1 type (here SUCCESS and ERROR), doesn&#39;t that mean you cannot type your responseEntity? you have to chk and convert it          instead of ResponseEntity&lt;SUCCESS&gt; res = restTemplate.exchange( url, GET, req, new ParameterizedTypeReference&lt;SUCCESS&gt;);          you have to:     ResponseEntity&lt;String&gt; res = restTemplate.exchange( url, get, req, String.class to make it easy );     if ( res.getStatusCode == 200 or 204 )     String json = res.getBody();     SUCCESS suc = jsonToObject( json, SUCCESS type ref );     else     ERROR err = jsonToObject( json, ERROR type ref );"}],"tags":[],"owner":{"account_id":8056844,"reputation":2331,"user_id":6073695,"display_name":"Mark Norman"},"comment_count":9,"down_vote_count":1,"up_vote_count":196,"is_accepted":true,"score":195,"last_activity_date":1594165646,"creation_date":1524790704,"answer_id":50053782,"question_id":38117717,"body_markdown":"I recommend using Spring&#39;s `@ControllerAdvice` to handle errors. Read [this guide][1] for a good introduction, starting at the section named &quot;Spring Boot Error Handling&quot;. For an in-depth discussion, there&#39;s [an article][2] in the Spring.io blog that was updated on April, 2018.\r\n\r\nA brief summary on how this works:\r\n\r\n - Your controller method should only return `ResponseEntity&lt;Success&gt;`. It will not be responsible for returning error or exception responses.\r\n - You will implement a class that handles exceptions for all controllers.  This class will be annotated with `@ControllerAdvice`\r\n - This controller advice class will contain methods annotated with `@ExceptionHandler`\r\n - Each exception handler method will be configured to handle one or more exception types. These methods are where you specify the response type for errors\r\n - For your example, you would declare (in the controller advice class) an exception handler method for the validation error.  The return type would be `ResponseEntity&lt;Error&gt;`\r\n\r\nWith this approach, you only need to implement your controller exception handling in one place for all endpoints in your API. It also makes it easy for your API to have a uniform exception response structure across all endpoints. This simplifies exception handling for your clients.\r\n\r\n\r\n  [1]: https://www.toptal.com/java/spring-boot-rest-api-error-handling\r\n  [2]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>I recommend using Spring's <code>@ControllerAdvice</code> to handle errors. Read <a href=\"https://www.toptal.com/java/spring-boot-rest-api-error-handling\" rel=\"noreferrer\">this guide</a> for a good introduction, starting at the section named &quot;Spring Boot Error Handling&quot;. For an in-depth discussion, there's <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"noreferrer\">an article</a> in the Spring.io blog that was updated on April, 2018.</p>\n<p>A brief summary on how this works:</p>\n<ul>\n<li>Your controller method should only return <code>ResponseEntity&lt;Success&gt;</code>. It will not be responsible for returning error or exception responses.</li>\n<li>You will implement a class that handles exceptions for all controllers.  This class will be annotated with <code>@ControllerAdvice</code></li>\n<li>This controller advice class will contain methods annotated with <code>@ExceptionHandler</code></li>\n<li>Each exception handler method will be configured to handle one or more exception types. These methods are where you specify the response type for errors</li>\n<li>For your example, you would declare (in the controller advice class) an exception handler method for the validation error.  The return type would be <code>ResponseEntity&lt;Error&gt;</code></li>\n</ul>\n<p>With this approach, you only need to implement your controller exception handling in one place for all endpoints in your API. It also makes it easy for your API to have a uniform exception response structure across all endpoints. This simplifies exception handling for your clients.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593509160,"creation_date":1593509160,"answer_id":62654290,"question_id":38117717,"body_markdown":"Note: if you upgrade from spring boot 1 to spring boot 2 there is a `ResponseStatusException` which has a Http error code and a description.\r\n\r\nSo, you can effectively use generics they way it is intended.\r\n\r\nThe only case which is a bit challenging for me, is the response type for a status 204 (ok with no body). I tend to mark those methods as `ResponseEntity&lt;?&gt;`, because `ResponseEntity&lt;Void&gt;` is less predictive.","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Note: if you upgrade from spring boot 1 to spring boot 2 there is a <code>ResponseStatusException</code> which has a Http error code and a description.</p>\n<p>So, you can effectively use generics they way it is intended.</p>\n<p>The only case which is a bit challenging for me, is the response type for a status 204 (ok with no body). I tend to mark those methods as <code>ResponseEntity&lt;?&gt;</code>, because <code>ResponseEntity&lt;Void&gt;</code> is less predictive.</p>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9491,"user_id":1862590,"display_name":"Sathiamoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1671287533,"creation_date":1597909433,"answer_id":63500498,"question_id":38117717,"body_markdown":"Spring 2 introduced **ResponseStatusException** using this you can **return** String, different HTTP status code, DTO at the **same time**.\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\r\n    \tif(userDto.getId() != null) {\r\n    \t\tthrow new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,&quot;A new user cannot already have an ID&quot;);\r\n    \t}\r\n    \treturn ResponseEntity.ok(userService.saveUser(userDto));\r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Spring 2 introduced <strong>ResponseStatusException</strong> using this you can <strong>return</strong> String, different HTTP status code, DTO at the <strong>same time</strong>.</p>\n<pre><code>@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\n    if(userDto.getId() != null) {\n        throw new ResponseStatusException(HttpStatus.NOT_ACCEPTABLE,&quot;A new user cannot already have an ID&quot;);\n    }\n    return ResponseEntity.ok(userService.saveUser(userDto));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9491,"user_id":1862590,"display_name":"Sathiamoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636368195,"creation_date":1598445289,"answer_id":63597817,"question_id":38117717,"body_markdown":"Using custom exception class you can return different HTTP status code and dto objects.\r\n    \r\n    @PostMapping(&quot;/save&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\r\n        if(userDto.getId() != null) {\r\n            throw new UserNotFoundException(&quot;A new user cannot already have an ID&quot;);\r\n        }\r\n        return ResponseEntity.ok(userService.saveUser(userDto));\r\n    }\r\n\r\nException class\r\n\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    \r\n    @ResponseStatus(value = HttpStatus.NOT_FOUND, reason = &quot;user not found&quot;)\r\n    public class UserNotFoundException extends RuntimeException {\r\n    \r\n        public UserNotFoundException(String message) {\r\n    \r\n            super(message);\r\n        }\r\n    }\r\n\r\n ","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>Using custom exception class you can return different HTTP status code and dto objects.</p>\n<pre><code>@PostMapping(&quot;/save&quot;)\npublic ResponseEntity&lt;UserDto&gt; saveUser(@RequestBody UserDto userDto) {\n    if(userDto.getId() != null) {\n        throw new UserNotFoundException(&quot;A new user cannot already have an ID&quot;);\n    }\n    return ResponseEntity.ok(userService.saveUser(userDto));\n}\n</code></pre>\n<p>Exception class</p>\n<pre><code>import org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.ResponseStatus;\n\n@ResponseStatus(value = HttpStatus.NOT_FOUND, reason = &quot;user not found&quot;)\npublic class UserNotFoundException extends RuntimeException {\n\n    public UserNotFoundException(String message) {\n\n        super(message);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4200044,"reputation":3510,"user_id":3440376,"display_name":"tan9"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599104633,"creation_date":1599103612,"answer_id":63716348,"question_id":38117717,"body_markdown":"For exceptional cases, I will recommend you to adopt [RFC-7807 Problem Details for HTTP APIs\r\n](https://www.rfc-editor.org/rfc/rfc7807) standard in your application.\r\n\r\n[Zalando&#39;s Problems for Spring](https://github.com/zalando/problem-spring-web) provides a good integration with Spring Boot, you can integrate it easily with your existing Spring Boot based application. Just like what [JHipster](https://www.jhipster.tech/managing-server-errors/#api-errors) did.\r\n\r\nAfter adopting RFC-7087 in your application, just throw Exception in your controller method, and you will get a detailed and standard error response like:\r\n\r\n```json\r\n   {\r\n    &quot;type&quot;: &quot;https://example.com/probs/validation-error&quot;,\r\n    &quot;title&quot;: &quot;Request parameter is malformed.&quot;,\r\n    &quot;status&quot;: 400\r\n    &quot;detail&quot;: &quot;Validation error, value of xxx should be a positive number.&quot;,\r\n    &quot;instance&quot;: &quot;/account/12345/msgs/abc&quot;,\r\n   }\r\n```","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>For exceptional cases, I will recommend you to adopt <a href=\"https://www.rfc-editor.org/rfc/rfc7807\" rel=\"nofollow noreferrer\">RFC-7807 Problem Details for HTTP APIs\n</a> standard in your application.</p>\n<p><a href=\"https://github.com/zalando/problem-spring-web\" rel=\"nofollow noreferrer\">Zalando's Problems for Spring</a> provides a good integration with Spring Boot, you can integrate it easily with your existing Spring Boot based application. Just like what <a href=\"https://www.jhipster.tech/managing-server-errors/#api-errors\" rel=\"nofollow noreferrer\">JHipster</a> did.</p>\n<p>After adopting RFC-7087 in your application, just throw Exception in your controller method, and you will get a detailed and standard error response like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>   {\n    &quot;type&quot;: &quot;https://example.com/probs/validation-error&quot;,\n    &quot;title&quot;: &quot;Request parameter is malformed.&quot;,\n    &quot;status&quot;: 400\n    &quot;detail&quot;: &quot;Validation error, value of xxx should be a positive number.&quot;,\n    &quot;instance&quot;: &quot;/account/12345/msgs/abc&quot;,\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660535486,"creation_date":1660535486,"answer_id":73356754,"question_id":38117717,"body_markdown":"To follow up the answer of **@MarkNorman**, I would say you have to define the mapping between the exceptions coming from your `service` to your `controller` (HTTP Error Code).\r\n\r\n - Success response are mapped to `200` status (OK) \r\n - Validation exception mapped with `400` status (BAD_REQUEST)\r\n - Record not found mapped with `404` status (NOT_FOUND)\r\n - Other exception mapped to `500` status (INTERNAL_SERVER_ERROR)\r\n\r\nFor example, your code should look something like this:\r\n\r\n    @GetMapping(&quot;/persons/{id}&quot;)\r\n    public ResponseEntity&lt;Success&gt; findPersonById(@PathVariable(&quot;id&quot;) Long id) {\r\n        try {\r\n            var person = service.findById(id);\r\n            var message = new Message(HttpStatus.OK, getCurrentDateTime(), person);\r\n            return message;\r\n        } catch(ServiceException exception) {\r\n            throw new NotFoundException(&quot;An error occurs while finding a person&quot;, exception);\r\n        }\r\n    }\r\n\r\nAll the exceptions thrown should be redirect in the `ControllerAdvice`\r\n\r\n    @ExceptionHandler(NotFoundException.class)\r\n    public ResponseEntity&lt;Error&gt; handleNotFoundException(NotFoundException exception) {\r\n        var error = new Error(HttpStatus.NOT_FOUND,\r\n                    getCurrentDateTime(),\r\n                    exception.getMessage());\r\n    \r\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\r\n    }\r\n\r\nThe main thing to understand is that your `RestControllers` only understand HTTP protocol and HTTP Code for responses.","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>To follow up the answer of <strong>@MarkNorman</strong>, I would say you have to define the mapping between the exceptions coming from your <code>service</code> to your <code>controller</code> (HTTP Error Code).</p>\n<ul>\n<li>Success response are mapped to <code>200</code> status (OK)</li>\n<li>Validation exception mapped with <code>400</code> status (BAD_REQUEST)</li>\n<li>Record not found mapped with <code>404</code> status (NOT_FOUND)</li>\n<li>Other exception mapped to <code>500</code> status (INTERNAL_SERVER_ERROR)</li>\n</ul>\n<p>For example, your code should look something like this:</p>\n<pre><code>@GetMapping(&quot;/persons/{id}&quot;)\npublic ResponseEntity&lt;Success&gt; findPersonById(@PathVariable(&quot;id&quot;) Long id) {\n    try {\n        var person = service.findById(id);\n        var message = new Message(HttpStatus.OK, getCurrentDateTime(), person);\n        return message;\n    } catch(ServiceException exception) {\n        throw new NotFoundException(&quot;An error occurs while finding a person&quot;, exception);\n    }\n}\n</code></pre>\n<p>All the exceptions thrown should be redirect in the <code>ControllerAdvice</code></p>\n<pre><code>@ExceptionHandler(NotFoundException.class)\npublic ResponseEntity&lt;Error&gt; handleNotFoundException(NotFoundException exception) {\n    var error = new Error(HttpStatus.NOT_FOUND,\n                getCurrentDateTime(),\n                exception.getMessage());\n\n    return ResponseEntity.status(HttpStatus.NOT_FOUND).body(error);\n}\n</code></pre>\n<p>The main thing to understand is that your <code>RestControllers</code> only understand HTTP protocol and HTTP Code for responses.</p>\n"},{"tags":[],"owner":{"account_id":6511,"reputation":4394,"user_id":10980,"accept_rate":60,"display_name":"Rejeev Divakaran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666211797,"creation_date":1666211797,"answer_id":74131604,"question_id":38117717,"body_markdown":"You can use @ExceptionHandler Controller Advice to return custom Return Object in case error. \r\nSee the example code below which returns 400 with Custom response in case of Validation Error.\r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler {\r\n        @ExceptionHandler(value = InputValidationError.class)\r\n        public ResponseEntity&lt;ValidationErrorResponse&gt; handleException(InputValidationError ex){\r\n            return ResponseEntity.badRequest().body(ex.validationErrorResponse);\r\n        }\r\n    }","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>You can use @ExceptionHandler Controller Advice to return custom Return Object in case error.\nSee the example code below which returns 400 with Custom response in case of Validation Error.</p>\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler {\n    @ExceptionHandler(value = InputValidationError.class)\n    public ResponseEntity&lt;ValidationErrorResponse&gt; handleException(InputValidationError ex){\n        return ResponseEntity.badRequest().body(ex.validationErrorResponse);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701698411,"creation_date":1701698411,"answer_id":77600012,"question_id":38117717,"body_markdown":"As for spring boot 3.x, my preferred syntax is returning `ResponseEntity&lt;?&gt;` (with generics) - choosing the `HttpStatus` and `body` according to the result/exception; very clean, easy to maintain and agnostic to the type of API/method I use.\r\n\r\nE.g. \r\n\r\nIn this example, I&#39;m returning either a `User` dto or an `INTERNAL_SERVER_ERROR` with the relevant error message:   \r\n\r\n    @PostMapping(&quot;/signup&quot;)\r\n    public ResponseEntity&lt;?&gt; signup(@RequestBody User user) {\r\n    \ttry {\r\n    \t\treturn ResponseEntity.status(HttpStatus.OK).body(userService.addUser(user));\r\n   \t\t} catch (Exception e) {\r\n   \t\t\treturn ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n   \t\t}\r\n   \t}","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>As for spring boot 3.x, my preferred syntax is returning <code>ResponseEntity&lt;?&gt;</code> (with generics) - choosing the <code>HttpStatus</code> and <code>body</code> according to the result/exception; very clean, easy to maintain and agnostic to the type of API/method I use.</p>\n<p>E.g.</p>\n<p>In this example, I'm returning either a <code>User</code> dto or an <code>INTERNAL_SERVER_ERROR</code> with the relevant error message:</p>\n<pre><code>@PostMapping(&quot;/signup&quot;)\npublic ResponseEntity&lt;?&gt; signup(@RequestBody User user) {\n    try {\n        return ResponseEntity.status(HttpStatus.OK).body(userService.addUser(user));\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3731659,"reputation":3183,"user_id":3103802,"accept_rate":73,"display_name":"Saveendra Ekanayake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278374,"favorite_count":0,"down_vote_count":0,"up_vote_count":113,"accepted_answer_id":50053782,"answer_count":15,"score":113,"last_activity_date":1701698411,"creation_date":1467275170,"question_id":38117717,"body_markdown":"I have written simple REST application in `Spring Boot` (`Spring` Framework). \r\n\r\nIt returns `ResponseEntity&lt;Success&gt;` as **Success** response in the controller level. But I want to return a completely different **Error** response `ResponseEntity&lt;Error&gt;`, if there is an error (*validation error, logic error, runtime error*) in the API. \r\n\r\n**Success** &amp; **Error** responses are completely different for the application.\r\n`Success` &amp; `Error` are the 2 java classes which the application uses to represent **Success** &amp; **Error** responses.\r\n\r\nWhat is the best way to return different types of `ResponseEntity` in `Spring-Boot` (Best way to handle the errors for REST with `Spring`)?\r\n","title":"What is the best way to return different types of ResponseEntity in Spring-Boot (Error Handling for REST with Spring)","body":"<p>I have written simple REST application in <code>Spring Boot</code> (<code>Spring</code> Framework).</p>\n<p>It returns <code>ResponseEntity&lt;Success&gt;</code> as <strong>Success</strong> response in the controller level. But I want to return a completely different <strong>Error</strong> response <code>ResponseEntity&lt;Error&gt;</code>, if there is an error (<em>validation error, logic error, runtime error</em>) in the API.</p>\n<p><strong>Success</strong> &amp; <strong>Error</strong> responses are completely different for the application.\n<code>Success</code> &amp; <code>Error</code> are the 2 java classes which the application uses to represent <strong>Success</strong> &amp; <strong>Error</strong> responses.</p>\n<p>What is the best way to return different types of <code>ResponseEntity</code> in <code>Spring-Boot</code> (Best way to handle the errors for REST with <code>Spring</code>)?</p>\n"},{"tags":["java","sql","postgresql","tomcat","jdbc"],"comments":[{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365544609,"post_id":15913253,"comment_id":22665292,"body_markdown":"where did you get the postgresql JDBC driver from? Can you add the link to that one?","body":"where did you get the postgresql JDBC driver from? Can you add the link to that one?"},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1365544688,"post_id":15913253,"comment_id":22665329,"body_markdown":"possible duplicate of [The infamous &quot;No suitable Driver&quot; exception for Tomcat 5.5, Postgres, and JDBC](http://stackoverflow.com/questions/1911253/the-infamous-no-suitable-driver-exception-for-tomcat-5-5-postgres-and-jdbc)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1911253/the-infamous-no-suitable-driver-exception-for-tomcat-5-5-postgres-and-jdbc\">The infamous &quot;No suitable Driver&quot; exception for Tomcat 5.5, Postgres, and JDBC</a>"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1365544727,"post_id":15913253,"comment_id":22665353,"body_markdown":"In which lib directory did you put it? Why do you use DriverManager since you want to get the connection from a Tomcat DataSource?","body":"In which lib directory did you put it? Why do you use DriverManager since you want to get the connection from a Tomcat DataSource?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1365547427,"post_id":15913253,"comment_id":22666319,"body_markdown":"I agree with JB Nizet: using a DataSource JNDI lookup and the DriverManager does not make any sense.","body":"I agree with JB Nizet: using a DataSource JNDI lookup and the DriverManager does not make any sense."},{"owner":{"account_id":2608736,"reputation":105,"user_id":2259305,"display_name":"cstokes2"},"score":0,"creation_date":1365565894,"post_id":15913253,"comment_id":22670931,"body_markdown":"I am completely new to this so what should I be doing instead? Thanks","body":"I am completely new to this so what should I be doing instead? Thanks"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1365566688,"post_id":15913253,"comment_id":22671122,"body_markdown":"You don&#39;t need to instantiate the Driver class and get the connection from DriverManger, the Datasource takes care of this for you. Just remove this line: Class.forName(&quot;org.postgres.Driver&quot;); and than get the connection from the Datasource you have already looked up in the code, so remove: con = DriverManager.getConnection(url, user, password); and than: con = ds.getConnection(); and use the connection. Remove all the unused code from stance variables. \nStudy this page: http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html","body":"You don&#39;t need to instantiate the Driver class and get the connection from DriverManger, the Datasource takes care of this for you. Just remove this line: Class.forName(&quot;org.postgres.Driver&quot;); and than get the connection from the Datasource you have already looked up in the code, so remove: con = DriverManager.getConnection(url, user, password); and than: con = ds.getConnection(); and use the connection. Remove all the unused code from stance variables.  Study this page: <a href=\"http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/tomcat-6.0-doc/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2608736,"reputation":105,"user_id":2259305,"display_name":"cstokes2"},"score":0,"creation_date":1365567449,"post_id":15913334,"comment_id":22671319,"body_markdown":"Thank you! I will update with results when I apply the changes","body":"Thank you! I will update with results when I apply the changes"},{"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"score":0,"creation_date":1365613252,"post_id":15913334,"comment_id":22696803,"body_markdown":"Hi, I did an update to my answer so you might understand how to do it better.","body":"Hi, I did an update to my answer so you might understand how to do it better."}],"tags":[],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1701698312,"creation_date":1365544753,"answer_id":15913334,"question_id":15913253,"body_markdown":"The proper Driver name is **org.postgresql.Driver** and not org.postgres.Driver\r\n\r\nUpdate: \r\n\r\nCheck this page give it a bit of study and you should be fine \r\n:) \r\nhttp://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html\r\n\r\n\r\nThen instead of using DriverManager, you should just do a lookup(you did already) and get a connection from the DataSource(You can remove pwd, user, and other unused stuff from your code):\r\n\r\n    Context initContext = new InitialContext();\r\n    Context envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\r\n    DataSource ds = (DataSource)envContext.lookup(&quot;jdbc/UptonDB&quot;);\r\n    Connection conn = ds.getConnection();","title":"No Suitable Driver found Postgres JDBC","body":"<p>The proper Driver name is <strong>org.postgresql.Driver</strong> and not org.postgres.Driver</p>\n<p>Update:</p>\n<p>Check this page give it a bit of study and you should be fine\n:)\n<a href=\"http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-6.0-doc/jndi-datasource-examples-howto.html</a></p>\n<p>Then instead of using DriverManager, you should just do a lookup(you did already) and get a connection from the DataSource(You can remove pwd, user, and other unused stuff from your code):</p>\n<pre><code>Context initContext = new InitialContext();\nContext envContext  = (Context)initContext.lookup(&quot;java:/comp/env&quot;);\nDataSource ds = (DataSource)envContext.lookup(&quot;jdbc/UptonDB&quot;);\nConnection conn = ds.getConnection();\n</code></pre>\n"}],"owner":{"account_id":2608736,"reputation":105,"user_id":2259305,"display_name":"cstokes2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14920,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15913334,"answer_count":1,"score":5,"last_activity_date":1701698312,"creation_date":1365544304,"question_id":15913253,"body_markdown":"I am receiving a &quot;no suitable driver found&quot; error when I test my web service on tomcat. I have the JDBC .jar in the lib folder as various tutorials says to do. Here is my code:\r\n\r\n    public class PostDBConnection {\r\n\t\r\n     PreparedStatement st;\r\n     ResultSet rs;\r\n     Connection con;\r\n     DataSource ds;\r\n     InitialContext cxt;\r\n\r\n     String url = &quot;jdbc:postgresql://127.0.0.1:5432/UptonDB&quot;;\r\n     String user = &quot;*****&quot;;\r\n     String password = &quot;*******&quot;;\r\n     String query = &quot;&quot;;\r\n     StringBuilder response = new StringBuilder();\r\n     \r\n\t@SuppressWarnings(&quot;unused&quot;)\r\n\tpublic String getInfo(){\r\n\t\t\r\n        int size = 0;  \r\n        \r\n      \r\n        try {\r\n        \t\r\n        \tcxt = new InitialContext();\t\t\r\n\t\t\tds = (DataSource) cxt.lookup(&quot;java:comp/env/jdbc/UptonDB&quot;);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\ttry{\r\n\t\t  \r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tClass.forName(&quot;org.postgres.Driver&quot;);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t} catch (ClassNotFoundException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t \r\n\t\t\tcon = DriverManager.getConnection(url, user, password);\r\n\t\t  \tst =  con.prepareStatement(&quot;SELECT VERSION()&quot;);\t  \t\t\r\n\t\t  \trs = st.executeQuery();\r\n\t\t  \r\n\t\t  \r\n\t\t  \twhile(rs.next())\r\n\t\t  \t\t{\r\n\t\t  \t\t\t\tresponse.append(rs.getString(1));\r\n\t\t  \t\t\t\r\n\t\t  \t\t}\t\t  \t\t\r\n\t\t  \t}\t  \r\n\t\t\r\n\t\tcatch(SQLException exc)\r\n\t\t\t{\r\n\t\t\t\tLogger lgr = Logger.getLogger(PostDBConnection.class.getName());\r\n\t            lgr.log(Level.SEVERE, exc.getMessage(), exc);\r\n\t\t  \t} \r\n        finally {\r\n            try {\r\n               if (rs != null) {\r\n                    rs.close();\r\n                }\r\n                if (st != null) {\r\n                    st.close();\r\n                }\r\n                if (con != null) {\r\n                    con.close();\r\n                }\r\n\r\n            } catch (SQLException ex) {\r\n                Logger lgr = Logger.getLogger(PostDBConnection.class.getName());\r\n                lgr.log(Level.WARNING, ex.getMessage(), ex);\r\n            }\r\n        }\r\n        \r\n        return response.toString();\r\n    }\r\n\r\nAlso here are the web.xml and context.xml files I created by following instructions on the Tomcat website:\r\n\r\n     &lt;resource-ref&gt;\r\n \t&lt;description&gt;PostgreSQL Data Source &lt;/description&gt;\r\n \t&lt;res-ref-name&gt;jdbc/UptonDB&lt;/res-ref-name&gt;\r\n \t&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n \t&lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n\r\nweb.xml: \r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; \r\n       &lt;Context&gt;  \r\n       &lt;Resource name=&quot;jdbc/UptonDB&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; \r\n        removeAbandoned=&quot;true&quot; removeAbandonedTimeout=&quot;30&quot; maxActive=&quot;80&quot;   \r\n        maxIdle=&quot;30&quot; maxWait=&quot;10000&quot; username=&quot;*****&quot; password=&quot;*******&quot;\r\n        driverClassName=&quot;org.postgresql.Driver&quot;\r\n        url = &quot;jdbc:postgresql://127.0.0.1:5432/UptonDB&quot; useUnicode=&quot;true&quot;\r\n        characterEncoding=&quot;utf-8&quot; characterSetResults=&quot;utf8&quot;/&gt;\r\n       &lt;/Context&gt;\r\n\r\n  \r\nAny help is appreciated thanks!\t","title":"No Suitable Driver found Postgres JDBC","body":"<p>I am receiving a \"no suitable driver found\" error when I test my web service on tomcat. I have the JDBC .jar in the lib folder as various tutorials says to do. Here is my code:</p>\n\n<pre><code>public class PostDBConnection {\n\n PreparedStatement st;\n ResultSet rs;\n Connection con;\n DataSource ds;\n InitialContext cxt;\n\n String url = \"jdbc:postgresql://127.0.0.1:5432/UptonDB\";\n String user = \"*****\";\n String password = \"*******\";\n String query = \"\";\n StringBuilder response = new StringBuilder();\n\n@SuppressWarnings(\"unused\")\npublic String getInfo(){\n\n    int size = 0;  \n\n\n    try {\n\n        cxt = new InitialContext();     \n        ds = (DataSource) cxt.lookup(\"java:comp/env/jdbc/UptonDB\");\n\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n    try{\n\n        try {\n\n            Class.forName(\"org.postgres.Driver\");\n\n\n        } catch (ClassNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n        con = DriverManager.getConnection(url, user, password);\n        st =  con.prepareStatement(\"SELECT VERSION()\");         \n        rs = st.executeQuery();\n\n\n        while(rs.next())\n            {\n                    response.append(rs.getString(1));\n\n            }               \n        }     \n\n    catch(SQLException exc)\n        {\n            Logger lgr = Logger.getLogger(PostDBConnection.class.getName());\n            lgr.log(Level.SEVERE, exc.getMessage(), exc);\n        } \n    finally {\n        try {\n           if (rs != null) {\n                rs.close();\n            }\n            if (st != null) {\n                st.close();\n            }\n            if (con != null) {\n                con.close();\n            }\n\n        } catch (SQLException ex) {\n            Logger lgr = Logger.getLogger(PostDBConnection.class.getName());\n            lgr.log(Level.WARNING, ex.getMessage(), ex);\n        }\n    }\n\n    return response.toString();\n}\n</code></pre>\n\n<p>Also here are the web.xml and context.xml files I created by following instructions on the Tomcat website:</p>\n\n<pre><code> &lt;resource-ref&gt;\n&lt;description&gt;PostgreSQL Data Source &lt;/description&gt;\n&lt;res-ref-name&gt;jdbc/UptonDB&lt;/res-ref-name&gt;\n&lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n&lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n\n<p>web.xml: </p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt; \n   &lt;Context&gt;  \n   &lt;Resource name=\"jdbc/UptonDB\" auth=\"Container\" type=\"javax.sql.DataSource\" \n    removeAbandoned=\"true\" removeAbandonedTimeout=\"30\" maxActive=\"80\"   \n    maxIdle=\"30\" maxWait=\"10000\" username=\"*****\" password=\"*******\"\n    driverClassName=\"org.postgresql.Driver\"\n    url = \"jdbc:postgresql://127.0.0.1:5432/UptonDB\" useUnicode=\"true\"\n    characterEncoding=\"utf-8\" characterSetResults=\"utf8\"/&gt;\n   &lt;/Context&gt;\n</code></pre>\n\n<p>Any help is appreciated thanks! </p>\n"},{"tags":["java","maven","dependency-management","configuration-management"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1504729085,"post_id":46070735,"comment_id":79129279,"body_markdown":"Your assumption you made is wrong, cause the dependencies tag is not inside the `build` tag. They are keep on their own. http://maven.apache.org/pom.html#Dependencies. If you check the global pom the define deps using a real pom which uses the real depenencies locally that&#39;s the test..I hope you don&#39;t upload the deps manually into remote repository...","body":"Your assumption you made is wrong, cause the dependencies tag is not inside the <code>build</code> tag. They are keep on their own. <a href=\"http://maven.apache.org/pom.html#Dependencies\" rel=\"nofollow noreferrer\">maven.apache.org/pom.html#Dependencies</a>. If you check the global pom the define deps using a real pom which uses the real depenencies locally that&#39;s the test..I hope you don&#39;t upload the deps manually into remote repository..."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1504791045,"post_id":46070735,"comment_id":79157237,"body_markdown":"@khmarbaise It would still be great to have a check whether dependencyManagement entries actually exist, without constructing and updating a test project.","body":"@khmarbaise It would still be great to have a check whether dependencyManagement entries actually exist, without constructing and updating a test project."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1504793332,"post_id":46070735,"comment_id":79159043,"body_markdown":"Might be an idea for an improvement of plugins ...might be located in the maven-dependency-plugin goal like `resolve-dependency-management` something like this? Someone can make a jira request for it?...","body":"Might be an idea for an improvement of plugins ...might be located in the maven-dependency-plugin goal like <code>resolve-dependency-management</code> something like this? Someone can make a jira request for it?..."},{"owner":{"account_id":238581,"reputation":4917,"user_id":507564,"accept_rate":63,"display_name":"orshachar"},"score":0,"creation_date":1504823821,"post_id":46070735,"comment_id":79175159,"body_markdown":"@khamrbaise - you&#39;re right. I was confused. But the question still valid","body":"@khamrbaise - you&#39;re right. I was confused. But the question still valid"}],"answers":[{"tags":[],"owner":{"account_id":262424,"reputation":1418,"user_id":547270,"display_name":"scrutari"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1550870330,"creation_date":1550870330,"answer_id":54835333,"question_id":46070735,"body_markdown":"In maven dependency plugin there is goal `dependency:analyze-dep-mgt`. You may use it to check dependencies in `dependencyManagement` section of your `pom.xml`.\r\nIf you need deeper control or more functionality, options would be to create your own plugin or have a dummy project which would use all your managed dependencies (although I should say this is a cumbersome solution).","title":"verify maven managed dependencies","body":"<p>In maven dependency plugin there is goal <code>dependency:analyze-dep-mgt</code>. You may use it to check dependencies in <code>dependencyManagement</code> section of your <code>pom.xml</code>.\nIf you need deeper control or more functionality, options would be to create your own plugin or have a dummy project which would use all your managed dependencies (although I should say this is a cumbersome solution).</p>\n"}],"owner":{"account_id":238581,"reputation":4917,"user_id":507564,"accept_rate":63,"display_name":"orshachar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1124,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":54835333,"answer_count":1,"score":11,"last_activity_date":1701698048,"creation_date":1504687907,"question_id":46070735,"body_markdown":"maven allows you to define in pom file:\r\n\r\n(A) `dependencies` -&gt; the actual direct dependencies of the project\r\n\r\n(B) `dependencyManagement`/`dependencies` -&gt; managed dependencies that affect dependencies of category (A) with undefined version and transitive dependencies.\r\n\r\n\r\n* If I put wrong/unknown artifact on category A - maven will surely fail.\r\n* If I put wrong/unknown artifact on category B - maven will fail only if it affects category A (for instance, A defines dep on `foo:bar` and B defines dep on `foo:bar:&lt;unknown-version&gt;`.\r\n\r\n---\r\nI wonder if there is any existing plugin that will allow me to verify all managed deps (category B) - make sure they actually exist.\r\n\r\nI have 1 global pom project with deps management that serves multiple projects and I want to verify any change to the deps in the CI before uploading new version to remote repository","title":"verify maven managed dependencies","body":"<p>maven allows you to define in pom file:</p>\n\n<p>(A) <code>dependencies</code> -> the actual direct dependencies of the project</p>\n\n<p>(B) <code>dependencyManagement</code>/<code>dependencies</code> -> managed dependencies that affect dependencies of category (A) with undefined version and transitive dependencies.</p>\n\n<ul>\n<li>If I put wrong/unknown artifact on category A - maven will surely fail.</li>\n<li>If I put wrong/unknown artifact on category B - maven will fail only if it affects category A (for instance, A defines dep on <code>foo:bar</code> and B defines dep on <code>foo:bar:&lt;unknown-version&gt;</code>.</li>\n</ul>\n\n<hr>\n\n<p>I wonder if there is any existing plugin that will allow me to verify all managed deps (category B) - make sure they actually exist.</p>\n\n<p>I have 1 global pom project with deps management that serves multiple projects and I want to verify any change to the deps in the CI before uploading new version to remote repository</p>\n"},{"tags":["java","windows","file","apache-commons-vfs"],"comments":[{"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"score":0,"creation_date":1701697509,"post_id":77599710,"comment_id":136804149,"body_markdown":"they come from org.apache.commons, from commons-vfs2","body":"they come from org.apache.commons, from commons-vfs2"}],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701697577,"creation_date":1701695700,"question_id":77599710,"body_markdown":"I am using [Apache Commons Virtual File System][1] (VFS).\r\n\r\nI am building some unit tests for my code and I need to modify the write permission for a folder, to make it not writeable. I tried the below code:\r\n```java\r\n@Rule\r\npublic TemporaryFolder tempFolder = new TemporaryFolder();\r\n\r\n@Test\r\npublic void test_notWriteable() throws IOException {\r\n\r\n    // given\r\n    File dir = tempFolder.newFolder(&quot;testDirectory&quot;);\r\n    dir.setWritable(false, false);\r\n    when(fileApi.isHdfs()).thenReturn(false);\r\n    when(fileApi.getBaseDirectory()).thenReturn(&quot;file://&quot; + dir.getAbsolutePath());\r\n\r\n    // when\r\n    String isBaseFolderAccessible = fileApi.isLocalBaseFolderAccessible();\r\n\r\n    // then\r\n    assertEquals(&quot;dashboard.basedir.not_writeable&quot;, isBaseFolderAccessible);\r\n}\r\n```\r\nThe method:\r\n```\r\nprivate String isLocalBaseFolderAccessible() {\r\n    try {\r\n        final FileSystemManager fileSystemManager = VFS.getManager();\r\n\r\n        final FileObject folder = fileSystemManager.resolveFile(fileApi.getBaseDirectory());\r\n        if (!folder.exists()) {\r\n            return BASEDIR_NOT_FOUND;\r\n        } else if (!folder.isReadable()) {\r\n            return BASEDIR_NOT_READABLE;\r\n        } else if (!folder.isWriteable()) {\r\n            return BASEDIR_NOT_WRITEABLE;\r\n        }\r\n    } catch (Exception exception) {\r\n        final String exceptionMessage = exception.getMessage();\r\n        logger.error(&quot;exception while trying to check base directory access: {}&quot;, exceptionMessage);\r\n        return SETTINGS_CHECK_BASEDIR_NOT_FOUND_I18N;\r\n    }\r\n    return null;\r\n}\r\n```\r\nUnfortunately, the method returns null, so the folder is writeable. \r\nThe problem comes from the fact that `isWriteable()` is called for `AbstractFileObject` and it always returns true:\r\n\r\nfrom `AbstractFileObject`:\r\n```java\r\nprotected boolean doIsWriteable() throws Exception\r\n\r\n{ return true; }\r\n```\r\nI also tried using ACLs for changing the permissions, but that also did not work.\r\nDoes anyone know what I can do to change the folder permissions on Windows, with Java?\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-vfs/","title":"Cannot modify read/write permissions from Java on Windows on folders","body":"<p>I am using <a href=\"https://commons.apache.org/proper/commons-vfs/\" rel=\"nofollow noreferrer\">Apache Commons Virtual File System</a> (VFS).</p>\n<p>I am building some unit tests for my code and I need to modify the write permission for a folder, to make it not writeable. I tried the below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Rule\npublic TemporaryFolder tempFolder = new TemporaryFolder();\n\n@Test\npublic void test_notWriteable() throws IOException {\n\n    // given\n    File dir = tempFolder.newFolder(&quot;testDirectory&quot;);\n    dir.setWritable(false, false);\n    when(fileApi.isHdfs()).thenReturn(false);\n    when(fileApi.getBaseDirectory()).thenReturn(&quot;file://&quot; + dir.getAbsolutePath());\n\n    // when\n    String isBaseFolderAccessible = fileApi.isLocalBaseFolderAccessible();\n\n    // then\n    assertEquals(&quot;dashboard.basedir.not_writeable&quot;, isBaseFolderAccessible);\n}\n</code></pre>\n<p>The method:</p>\n<pre><code>private String isLocalBaseFolderAccessible() {\n    try {\n        final FileSystemManager fileSystemManager = VFS.getManager();\n\n        final FileObject folder = fileSystemManager.resolveFile(fileApi.getBaseDirectory());\n        if (!folder.exists()) {\n            return BASEDIR_NOT_FOUND;\n        } else if (!folder.isReadable()) {\n            return BASEDIR_NOT_READABLE;\n        } else if (!folder.isWriteable()) {\n            return BASEDIR_NOT_WRITEABLE;\n        }\n    } catch (Exception exception) {\n        final String exceptionMessage = exception.getMessage();\n        logger.error(&quot;exception while trying to check base directory access: {}&quot;, exceptionMessage);\n        return SETTINGS_CHECK_BASEDIR_NOT_FOUND_I18N;\n    }\n    return null;\n}\n</code></pre>\n<p>Unfortunately, the method returns null, so the folder is writeable.\nThe problem comes from the fact that <code>isWriteable()</code> is called for <code>AbstractFileObject</code> and it always returns true:</p>\n<p>from <code>AbstractFileObject</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected boolean doIsWriteable() throws Exception\n\n{ return true; }\n</code></pre>\n<p>I also tried using ACLs for changing the permissions, but that also did not work.\nDoes anyone know what I can do to change the folder permissions on Windows, with Java?</p>\n"},{"tags":["java","hadoop","mapreduce","hadoop-yarn"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1702102580,"post_id":77599915,"comment_id":136858714,"body_markdown":"As the logs say - `For more detailed output, check the application tracking page`","body":"As the logs say - <code>For more detailed output, check the application tracking page</code>"}],"owner":{"account_id":30063010,"reputation":1,"user_id":23038736,"display_name":"Maria R."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701697540,"creation_date":1701697540,"question_id":77599915,"body_markdown":"I am trying to run some jar files on my hadoop installed on Windows. I can create the Jar file perfectly from the java files but every time I try to run it gives me this error:\r\n\r\n`2023-12-04 15:02:01,966 INFO client.DefaultNoHARMFailoverProxyProvider: Connecting to ResourceManager at /0.0.0.0:8032\r\n2023-12-04 15:02:03,739 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this.\r\n2023-12-04 15:02:03,756 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/Maria/.staging/job_1701694425339_0001\r\n2023-12-04 15:02:04,472 INFO input.FileInputFormat: Total input files to process : 1\r\n2023-12-04 15:02:04,675 INFO mapreduce.JobSubmitter: number of splits:1\r\n2023-12-04 15:02:05,070 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1701694425339_0001\r\n2023-12-04 15:02:05,072 INFO mapreduce.JobSubmitter: Executing with tokens: []\r\n2023-12-04 15:02:05,549 INFO conf.Configuration: resource-types.xml not found\r\n2023-12-04 15:02:05,551 INFO resource.ResourceUtils: Unable to find &#39;resource-types.xml&#39;.\r\n2023-12-04 15:02:06,682 INFO impl.YarnClientImpl: Submitted application application_1701694425339_0001\r\n2023-12-04 15:02:06,829 INFO mapreduce.Job: The url to track the job: http://DESKTOP-K5QUG8Q:8088/proxy/application_1701694425339_0001/\r\n2023-12-04 15:02:06,833 INFO mapreduce.Job: Running job: job_1701694425339_0001\r\n2023-12-04 15:02:14,011 INFO mapreduce.Job: Job job_1701694425339_0001 running in uber mode : false\r\n2023-12-04 15:02:14,018 INFO mapreduce.Job:  map 0% reduce 0%\r\n2023-12-04 15:02:14,078 INFO mapreduce.Job: Job job_1701694425339_0001 failed with state FAILED due to: Application application_1701694425339_0001 failed 2 times due to AM Container for appattempt_1701694425339_0001_000002 exited with  exitCode: -1\r\nFailing this attempt.Diagnostics: [2023-12-04 15:02:13.720]java.net.URISyntaxException: Relative path in absolute URI:\r\n           C:%5Chadoop%5Cshare%5Chadoop%5Cmapreduce%5Clib%5C*\r\nFor more detailed output, check the application tracking page: http://DESKTOP-K5QUG8Q:8088/cluster/app/application_1701694425339_0001 Then click on links to logs of each attempt.\r\n. Failing the application.\r\n2023-12-04 15:02:14,202 INFO mapreduce.Job: Counters: 0`\r\n\r\nDoes anyone know how this can be fixed? I really need to use hadoop for an asignment. Thank you \r\n\r\nI was trying to run a jar file and an error occurs every time","title":"Hadoop running jar files probelm","body":"<p>I am trying to run some jar files on my hadoop installed on Windows. I can create the Jar file perfectly from the java files but every time I try to run it gives me this error:</p>\n<p><code>2023-12-04 15:02:01,966 INFO client.DefaultNoHARMFailoverProxyProvider: Connecting to ResourceManager at /0.0.0.0:8032 2023-12-04 15:02:03,739 WARN mapreduce.JobResourceUploader: Hadoop command-line option parsing not performed. Implement the Tool interface and execute your application with ToolRunner to remedy this. 2023-12-04 15:02:03,756 INFO mapreduce.JobResourceUploader: Disabling Erasure Coding for path: /tmp/hadoop-yarn/staging/Maria/.staging/job_1701694425339_0001 2023-12-04 15:02:04,472 INFO input.FileInputFormat: Total input files to process : 1 2023-12-04 15:02:04,675 INFO mapreduce.JobSubmitter: number of splits:1 2023-12-04 15:02:05,070 INFO mapreduce.JobSubmitter: Submitting tokens for job: job_1701694425339_0001 2023-12-04 15:02:05,072 INFO mapreduce.JobSubmitter: Executing with tokens: [] 2023-12-04 15:02:05,549 INFO conf.Configuration: resource-types.xml not found 2023-12-04 15:02:05,551 INFO resource.ResourceUtils: Unable to find 'resource-types.xml'. 2023-12-04 15:02:06,682 INFO impl.YarnClientImpl: Submitted application application_1701694425339_0001 2023-12-04 15:02:06,829 INFO mapreduce.Job: The url to track the job: http://DESKTOP-K5QUG8Q:8088/proxy/application_1701694425339_0001/ 2023-12-04 15:02:06,833 INFO mapreduce.Job: Running job: job_1701694425339_0001 2023-12-04 15:02:14,011 INFO mapreduce.Job: Job job_1701694425339_0001 running in uber mode : false 2023-12-04 15:02:14,018 INFO mapreduce.Job:  map 0% reduce 0% 2023-12-04 15:02:14,078 INFO mapreduce.Job: Job job_1701694425339_0001 failed with state FAILED due to: Application application_1701694425339_0001 failed 2 times due to AM Container for appattempt_1701694425339_0001_000002 exited with  exitCode: -1 Failing this attempt.Diagnostics: [2023-12-04 15:02:13.720]java.net.URISyntaxException: Relative path in absolute URI: C:%5Chadoop%5Cshare%5Chadoop%5Cmapreduce%5Clib%5C* For more detailed output, check the application tracking page: http://DESKTOP-K5QUG8Q:8088/cluster/app/application_1701694425339_0001 Then click on links to logs of each attempt. . Failing the application. 2023-12-04 15:02:14,202 INFO mapreduce.Job: Counters: 0</code></p>\n<p>Does anyone know how this can be fixed? I really need to use hadoop for an asignment. Thank you</p>\n<p>I was trying to run a jar file and an error occurs every time</p>\n"},{"tags":["java","azure","azure-application-insights","metrics","open-telemetry"],"comments":[{"owner":{"account_id":28166626,"reputation":434,"user_id":21525734,"display_name":"Pavan"},"score":0,"creation_date":1701747628,"post_id":77599859,"comment_id":136811200,"body_markdown":"can you share the code what you have tried?","body":"can you share the code what you have tried?"},{"owner":{"account_id":30062208,"reputation":1,"user_id":23038085,"display_name":"Wesley Obi"},"score":0,"creation_date":1701760414,"post_id":77599859,"comment_id":136812364,"body_markdown":"@Pavan \n`private TelemetryClient telemetry = new TelemetryClient();`\n`telemetry.trackMetric(new MyTelemetryObject());`\n\nI don&#39;t the code is helpful but there you go. \nAs I said, the data are arriving on azure, but in the alert rule, the payload is not populated with all the data that are in the log","body":"@Pavan  <code>private TelemetryClient telemetry = new TelemetryClient();</code> <code>telemetry.trackMetric(new MyTelemetryObject());</code>  I don&#39;t the code is helpful but there you go.  As I said, the data are arriving on azure, but in the alert rule, the payload is not populated with all the data that are in the log"}],"owner":{"account_id":30062208,"reputation":1,"user_id":23038085,"display_name":"Wesley Obi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701697007,"creation_date":1701697007,"question_id":77599859,"body_markdown":"I&#39;m new to Azure and I&#39;m some problems with the custom metrics feature in Azure. My app is sending custom metrics signals to the Azure Application Insights. If I go to the logs in Azure I can clearly see the signal with the content represented in form of customDimentions. This signal is captured by an Azure Alert, that sends a payload to a specified webhook. The issue is that I couldn&#39;t find add the customDImentions obj to the Alert payload. I know that Alerts have custom properties, but those are static.\r\n\r\nDoes anyone know a solution or a workaround?\r\n\r\nAfter sending the signal from my application I can get some information in my alert like the signal name and the value, but not its properties","title":"Send customDimentions from Azure Application Insights with an Alert Rule","body":"<p>I'm new to Azure and I'm some problems with the custom metrics feature in Azure. My app is sending custom metrics signals to the Azure Application Insights. If I go to the logs in Azure I can clearly see the signal with the content represented in form of customDimentions. This signal is captured by an Azure Alert, that sends a payload to a specified webhook. The issue is that I couldn't find add the customDImentions obj to the Alert payload. I know that Alerts have custom properties, but those are static.</p>\n<p>Does anyone know a solution or a workaround?</p>\n<p>After sending the signal from my application I can get some information in my alert like the signal name and the value, but not its properties</p>\n"},{"tags":["java","spring-boot","websocket","spring-websocket","spring-scheduled"],"answers":[{"comments":[{"owner":{"account_id":21038159,"reputation":27,"user_id":15461131,"display_name":"Yevgeniy"},"score":0,"creation_date":1701697268,"post_id":77598132,"comment_id":136804100,"body_markdown":"Thanks for the answer! I have supplemented the code with client code, index and script. But my question is open, I want my notification to be sent to the user not by an HTTP request, for example a post, but so that if the user’s password is about to expire, my server notifies him about it, not the client sends a request to check that the password is about to expire or no, it was my server that sent it. You can probably use the @SHEDULED annotation for this. But how can I implement this and is this solution even suitable for my task?","body":"Thanks for the answer! I have supplemented the code with client code, index and script. But my question is open, I want my notification to be sent to the user not by an HTTP request, for example a post, but so that if the user’s password is about to expire, my server notifies him about it, not the client sends a request to check that the password is about to expire or no, it was my server that sent it. You can probably use the @SHEDULED annotation for this. But how can I implement this and is this solution even suitable for my task?"},{"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"score":1,"creation_date":1701701510,"post_id":77598132,"comment_id":136805022,"body_markdown":"the user must connect to websocket at the same time when he logs in to the system. When connected to websocket, a request will be made to the determineUser method. If you use the fields in the comment line of the determineUser method I shared with you, you can access user information with the token. You add the user&#39;s id to websocket connections with `new UserPrincipal(id)`. Now, every time the scheduled job runs, a notification will be sent to the user in the system.","body":"the user must connect to websocket at the same time when he logs in to the system. When connected to websocket, a request will be made to the determineUser method. If you use the fields in the comment line of the determineUser method I shared with you, you can access user information with the token. You add the user&#39;s id to websocket connections with <code>new UserPrincipal(id)</code>. Now, every time the scheduled job runs, a notification will be sent to the user in the system."}],"tags":[],"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701679056,"creation_date":1701679056,"answer_id":77598132,"question_id":77588072,"body_markdown":"If you want to use websocket, the users you send notifications to must be using the application at that moment. That is, if the user to whom you send a notification is not logged in to the system, they cannot receive the message. Therefore, it would be more logical to use a mail server instead of websocket. \r\n\r\nIf you still want to use websocket, please share the client(frontend) code as well. Before you can send information to the client, the client must connect to websocket. After the connection is successfully established, you must subscribe to the channel.\r\n\r\n\r\n\r\nFirst of all, the WebSocketConfig class needs to be edited as follows.\r\n\r\n        @Override\r\n    public void registerStompEndpoints(final StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/our-websocket&quot;)\r\n                .setAllowedOrigins(&quot;*&quot;) // or your domain.com\r\n                .setHandshakeHandler(new UserHandshakeHandler())\r\n                .withSockJS();\r\n    }\r\n\r\n\r\nThen, you should correct the UseHandshakeHandler class. You must access and use the information of the requesting user with the following method.\r\n\r\n\r\n        @Override\r\n    protected Principal determineUser(\r\n            ServerHttpRequest request,\r\n            WebSocketHandler wsHandler,\r\n            Map&lt;String, Object&gt; attributes\r\n    ) {\r\n\r\n        // The user&#39;s information can be accessed with the token in the request object.\r\n        /*\r\n        String token = request.getHeader(&quot;Authorization&quot;);\r\n        UserDetailsImpl user = Jwts.parserBuilder()......\r\n        String id = user.getId;\r\n        return new UserPrincipal(id);\r\n        */\r\n        \r\n        // for testing\r\n        String id = UUID.randomUUID().toString(); //You should use this id when sending private messages to the user.\r\n        System.out.println(id);\r\n        return new UserPrincipal(id);\r\n    }\r\n\r\n\r\nI added an example of html and js code below. you can use this for testing.\r\n\r\n**src/main/resources/static/app.js:**\r\n    \r\n    var stompClient = null;\r\n    \r\n    function setConnected(connected) {\r\n        $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\r\n        $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\r\n        if (connected) {\r\n            $(&quot;#conversation&quot;).show();\r\n        }\r\n        else {\r\n            $(&quot;#conversation&quot;).hide();\r\n        }\r\n        $(&quot;#greetings&quot;).html(&quot;&quot;);\r\n    }\r\n    \r\n    function connect() {\r\n        var socket = new SockJS(&#39;http://localhost:8080/our-websocket&#39;);\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            setConnected(true);\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            stompClient.subscribe(&#39;/user/topic/private-messages&#39;, function (greeting) {\r\n            });\r\n        });\r\n    \r\n        socket.addEventListener(&quot;message&quot;, (event) =&gt; {\r\n            showGreeting(event.data);\r\n        });\r\n    \r\n    }\r\n    \r\n    function showGreeting(message) {\r\n        $(&quot;#greetings&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n    }\r\n    \r\n    function disconnect() {\r\n        if (stompClient !== null) {\r\n            stompClient.disconnect();\r\n        }\r\n        setConnected(false);\r\n        console.log(&quot;Disconnected&quot;);\r\n    }\r\n    \r\n    \r\n    \r\n    $(function () {\r\n        $(&quot;form&quot;).on(&#39;submit&#39;, function (e) {\r\n            e.preventDefault();\r\n        });\r\n        $( &quot;#connect&quot; ).click(function() { connect(); });\r\n        $( &quot;#disconnect&quot; ).click(function() { disconnect(); });\r\n    });\r\n\r\n\r\n\r\n**src/main/resources/static/index.html:**\r\n\r\n        &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Hello WebSocket&lt;/title&gt;\r\n        &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.0/cerulean/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n  \r\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;noscript&gt;&lt;h2 style=&quot;color: #ff0000&quot;&gt;Seems your browser doesn&#39;t support Javascript! Websocket relies on Javascript being\r\n        enabled. Please enable\r\n        Javascript and reload this page!&lt;/h2&gt;&lt;/noscript&gt;\r\n    &lt;div id=&quot;main-content&quot; class=&quot;container&quot;&gt;\r\n    \r\n        &lt;br&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                &lt;form class=&quot;form-inline&quot;&gt;\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;label for=&quot;connect&quot;&gt;WebSocket connection:&lt;/label&gt;\r\n                        &lt;button id=&quot;connect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot;&gt;Connect&lt;/button&gt;\r\n                        &lt;button id=&quot;disconnect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot; disabled=&quot;disabled&quot;&gt;Disconnect\r\n                        &lt;/button&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/form&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;row&quot;&gt;\r\n            &lt;div class=&quot;col-md-6&quot;&gt;\r\n                &lt;table id=&quot;conversation&quot; class=&quot;table table-striped&quot;&gt;\r\n                    &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                        &lt;th&gt;Greetings&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                    &lt;/thead&gt;\r\n                    &lt;tbody id=&quot;greetings&quot;&gt;\r\n                    &lt;/tbody&gt;\r\n                &lt;/table&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nNow, run the application and open the `index.html` file. Press the connect button and send a request to the `user-name` value shown on the screen from postman. You will see that the message reaches the user.\r\n\r\n\r\n\r\n\r\nTest pictures.\r\n\r\n[connect to websocket][1]\r\n\r\n[send message to user by id][2]\r\n\r\n[show message][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2d95s.png\r\n  [2]: https://i.stack.imgur.com/oFaxn.png\r\n  [3]: https://i.stack.imgur.com/wfF6Q.jpg","title":"Send message from server to client use Websocket. Java","body":"<p>If you want to use websocket, the users you send notifications to must be using the application at that moment. That is, if the user to whom you send a notification is not logged in to the system, they cannot receive the message. Therefore, it would be more logical to use a mail server instead of websocket.</p>\n<p>If you still want to use websocket, please share the client(frontend) code as well. Before you can send information to the client, the client must connect to websocket. After the connection is successfully established, you must subscribe to the channel.</p>\n<p>First of all, the WebSocketConfig class needs to be edited as follows.</p>\n<pre><code>    @Override\npublic void registerStompEndpoints(final StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/our-websocket&quot;)\n            .setAllowedOrigins(&quot;*&quot;) // or your domain.com\n            .setHandshakeHandler(new UserHandshakeHandler())\n            .withSockJS();\n}\n</code></pre>\n<p>Then, you should correct the UseHandshakeHandler class. You must access and use the information of the requesting user with the following method.</p>\n<pre><code>    @Override\nprotected Principal determineUser(\n        ServerHttpRequest request,\n        WebSocketHandler wsHandler,\n        Map&lt;String, Object&gt; attributes\n) {\n\n    // The user's information can be accessed with the token in the request object.\n    /*\n    String token = request.getHeader(&quot;Authorization&quot;);\n    UserDetailsImpl user = Jwts.parserBuilder()......\n    String id = user.getId;\n    return new UserPrincipal(id);\n    */\n    \n    // for testing\n    String id = UUID.randomUUID().toString(); //You should use this id when sending private messages to the user.\n    System.out.println(id);\n    return new UserPrincipal(id);\n}\n</code></pre>\n<p>I added an example of html and js code below. you can use this for testing.</p>\n<p><strong>src/main/resources/static/app.js:</strong></p>\n<pre><code>var stompClient = null;\n\nfunction setConnected(connected) {\n    $(&quot;#connect&quot;).prop(&quot;disabled&quot;, connected);\n    $(&quot;#disconnect&quot;).prop(&quot;disabled&quot;, !connected);\n    if (connected) {\n        $(&quot;#conversation&quot;).show();\n    }\n    else {\n        $(&quot;#conversation&quot;).hide();\n    }\n    $(&quot;#greetings&quot;).html(&quot;&quot;);\n}\n\nfunction connect() {\n    var socket = new SockJS('http://localhost:8080/our-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        setConnected(true);\n        console.log('Connected: ' + frame);\n        stompClient.subscribe('/user/topic/private-messages', function (greeting) {\n        });\n    });\n\n    socket.addEventListener(&quot;message&quot;, (event) =&gt; {\n        showGreeting(event.data);\n    });\n\n}\n\nfunction showGreeting(message) {\n    $(&quot;#greetings&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\n}\n\nfunction disconnect() {\n    if (stompClient !== null) {\n        stompClient.disconnect();\n    }\n    setConnected(false);\n    console.log(&quot;Disconnected&quot;);\n}\n\n\n\n$(function () {\n    $(&quot;form&quot;).on('submit', function (e) {\n        e.preventDefault();\n    });\n    $( &quot;#connect&quot; ).click(function() { connect(); });\n    $( &quot;#disconnect&quot; ).click(function() { disconnect(); });\n});\n</code></pre>\n<p><strong>src/main/resources/static/index.html:</strong></p>\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Hello WebSocket&lt;/title&gt;\n    &lt;link href=&quot;https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.0/cerulean/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.4.0/sockjs.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;noscript&gt;&lt;h2 style=&quot;color: #ff0000&quot;&gt;Seems your browser doesn't support Javascript! Websocket relies on Javascript being\n    enabled. Please enable\n    Javascript and reload this page!&lt;/h2&gt;&lt;/noscript&gt;\n&lt;div id=&quot;main-content&quot; class=&quot;container&quot;&gt;\n\n    &lt;br&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-md-6&quot;&gt;\n            &lt;form class=&quot;form-inline&quot;&gt;\n                &lt;div class=&quot;form-group&quot;&gt;\n                    &lt;label for=&quot;connect&quot;&gt;WebSocket connection:&lt;/label&gt;\n                    &lt;button id=&quot;connect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot;&gt;Connect&lt;/button&gt;\n                    &lt;button id=&quot;disconnect&quot; class=&quot;btn btn-default&quot; type=&quot;submit&quot; disabled=&quot;disabled&quot;&gt;Disconnect\n                    &lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-md-6&quot;&gt;\n            &lt;table id=&quot;conversation&quot; class=&quot;table table-striped&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;Greetings&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody id=&quot;greetings&quot;&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Now, run the application and open the <code>index.html</code> file. Press the connect button and send a request to the <code>user-name</code> value shown on the screen from postman. You will see that the message reaches the user.</p>\n<p>Test pictures.</p>\n<p><a href=\"https://i.stack.imgur.com/2d95s.png\" rel=\"nofollow noreferrer\">connect to websocket</a></p>\n<p><a href=\"https://i.stack.imgur.com/oFaxn.png\" rel=\"nofollow noreferrer\">send message to user by id</a></p>\n<p><a href=\"https://i.stack.imgur.com/wfF6Q.jpg\" rel=\"nofollow noreferrer\">show message</a></p>\n"}],"owner":{"account_id":21038159,"reputation":27,"user_id":15461131,"display_name":"Yevgeniy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1701696859,"creation_date":1701464752,"question_id":77588072,"body_markdown":"I hope for your help, I have already looked through everything but have not found an answer. The task is this: I need to send information from my Java application to the client (frontend). The essence of the information is that the user has a password expiration date in the system and I need to send a notification to the user that his password is about to expire. Of course, to do this, I need to make a request to the database for a specific user, calculate how many days he still has left before the password expires. I want to use Websocket for this. I made a config class for training videos and other servers and controllers, but I still didn’t understand how my application should send information to the client. Help! I already thought of using the @Sheduled annotation, but a method marked with this annotation cannot accept method arguments, then I will not be able to execute a timer request for any user.\r\nHere is my code, please tell me!\r\n\r\n\r\n\r\nWebSocketConfig class\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    \r\n        @Override\r\n        public void configureMessageBroker(final MessageBrokerRegistry registry) {\r\n            registry.enableSimpleBroker(&quot;/topic&quot;);\r\n            registry.setApplicationDestinationPrefixes(&quot;/ws&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void registerStompEndpoints(final StompEndpointRegistry registry) {\r\n            registry.addEndpoint(&quot;/our-websocket&quot;)\r\n                    .setHandshakeHandler(new UserHandshakeHandler())\r\n                    .withSockJS();\r\n        }\r\n    }\r\n\r\nUserHandshakeHandler class\r\n\r\n    public class UserHandshakeHandler extends DefaultHandshakeHandler {\r\n        private final Logger LOG = LoggerFactory.getLogger(UserHandshakeHandler.class);\r\n    \r\n        @Override\r\n        protected Principal determineUser(ServerHttpRequest request, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) {\r\n    \r\n            final String randomId = UUID.randomUUID().toString();\r\n            LOG.info(&quot;User with ID &#39;{}&#39; opened the page&quot;, randomId);\r\n    \r\n            return new UserPrincipal(randomId);\r\n        }\r\n    }\r\n\r\n\r\n\r\nWSService class\r\n\r\n    @Service\r\n    public class WSService {\r\n    \r\n        private final SimpMessagingTemplate messagingTemplate;\r\n        private final NotificationService notificationService;\r\n    \r\n        @Autowired\r\n        public WSService(SimpMessagingTemplate messagingTemplate, NotificationService notificationService) {\r\n            this.messagingTemplate = messagingTemplate;\r\n            this.notificationService = notificationService;\r\n        }\r\n    \r\n        public void notifyFrontend(final String message) {\r\n            ResponseMessage response = new ResponseMessage(message);\r\n            notificationService.sendGlobalNotification();\r\n    \r\n            messagingTemplate.convertAndSend(&quot;/topic/messages&quot;, response);\r\n        }\r\n    \r\n        public void notifyUser(final String id, final String message) {\r\n            ResponseMessage response = new ResponseMessage(message);\r\n    \r\n            notificationService.sendPrivateNotification(id);\r\n            messagingTemplate.convertAndSendToUser(id, &quot;/topic/private-messages&quot;, response);\r\n        }\r\n    }\r\n\r\n\r\nWSController class\r\n\r\n    @RestController\r\n    public class WSController {\r\n    \r\n        @Autowired\r\n        private WSService service;\r\n    \r\n        @Autowired\r\n        private UsersRepository usersRepository;\r\n    \r\n        @PostMapping(&quot;/send-message&quot;)\r\n        public void sendMessage(@RequestBody final Message message) {\r\n            service.notifyFrontend(message.getMessageContent());\r\n        }\r\n    \r\n        @PostMapping(&quot;/send-private-message/{id}&quot;)\r\n        public void sendPrivateMessage(@PathVariable final String id,\r\n                                       @RequestBody final Message message) {\r\n                service.notifyUser(id, message.getMessageContent());\r\n        }\r\n    \r\n        @Scheduled(fixedDelay = 10000)\r\n        public void sendPrivateMessage() {\r\n            List&lt;Users&gt; list = this.usersRepository.findAll();\r\n            for (Users users: list){\r\n                service.notifyUser(users.getId().toString(), &quot;testString&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nindex.html code\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Hello WS&lt;/title&gt;\r\n        &lt;link href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;script src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;/webjars/sockjs-client/sockjs.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;/webjars/stomp-websocket/stomp.min.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script src=&quot;/scripts.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;div class=&quot;container&quot; style=&quot;margin-top: 50px&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-md-12&quot;&gt;\r\n                    &lt;form class=&quot;form-inline&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;label for=&quot;message&quot;&gt;Message&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; id=&quot;message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;button id=&quot;send&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send&lt;/button&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot; style=&quot;margin-top: 10px&quot;&gt;\r\n                &lt;div class=&quot;col-md-12&quot;&gt;\r\n                    &lt;form class=&quot;form-inline&quot;&gt;\r\n                        &lt;div class=&quot;form-group&quot;&gt;\r\n                            &lt;label for=&quot;private-message&quot;&gt;Private Message&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; id=&quot;private-message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;button id=&quot;send-private&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send Private Message&lt;/button&gt;\r\n                    &lt;/form&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col-md-12&quot;&gt;\r\n                    &lt;table id=&quot;message-history&quot; class=&quot;table table-striped&quot;&gt;\r\n                        &lt;thead&gt;\r\n                        &lt;tr&gt;\r\n                            &lt;th&gt;Messages\r\n                                &lt;span\r\n                                        id=&quot;notifications&quot;\r\n                                        style=&quot;\r\n                                        color: white;\r\n                                        background-color: red;\r\n                                        padding-left: 15px;\r\n                                        padding-right: 15px;&quot;&gt;\r\n                                &lt;/span&gt;\r\n                            &lt;/th&gt;\r\n                        &lt;/tr&gt;\r\n                        &lt;/thead&gt;\r\n                        &lt;tbody id=&quot;messages&quot;&gt;\r\n                        &lt;/tbody&gt;\r\n                    &lt;/table&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nscript.js code\r\n\r\n    var stompClient = null;\r\n    var notificationCount = 0;\r\n    \r\n    $(document).ready(function() {\r\n        console.log(&quot;Index page is ready&quot;);\r\n        connect();\r\n    \r\n        $(&quot;#send&quot;).click(function() {\r\n            sendMessage();\r\n        });\r\n    \r\n        $(&quot;#send-private&quot;).click(function() {\r\n            sendPrivateMessage();\r\n        });\r\n    \r\n        $(&quot;#notifications&quot;).click(function() {\r\n            resetNotificationCount();\r\n        });\r\n    });\r\n    \r\n    function connect() {\r\n        var socket = new SockJS(&#39;/our-websocket&#39;);\r\n        stompClient = Stomp.over(socket);\r\n        stompClient.connect({}, function (frame) {\r\n            console.log(&#39;Connected: &#39; + frame);\r\n            updateNotificationDisplay();\r\n            stompClient.subscribe(&#39;/topic/messages&#39;, function (message) {\r\n                showMessage(JSON.parse(message.body).content);\r\n            });\r\n    \r\n            stompClient.subscribe(&#39;/user/topic/private-messages&#39;, function (message) {\r\n                showMessage(JSON.parse(message.body).content);\r\n            });\r\n    \r\n            stompClient.subscribe(&#39;/topic/global-notifications&#39;, function (message) {\r\n                notificationCount = notificationCount + 1;\r\n                updateNotificationDisplay();\r\n            });\r\n    \r\n            stompClient.subscribe(&#39;/user/topic/private-notifications&#39;, function (message) {\r\n                notificationCount = notificationCount + 1;\r\n                updateNotificationDisplay();\r\n            });\r\n        });\r\n    }\r\n    \r\n    function showMessage(message) {\r\n        $(&quot;#messages&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\r\n    }\r\n    \r\n    function sendMessage() {\r\n        console.log(&quot;sending message&quot;);\r\n        stompClient.send(&quot;/ws/message&quot;, {}, JSON.stringify({&#39;messageContent&#39;: $(&quot;#message&quot;).val()}));\r\n    }\r\n    \r\n    function sendPrivateMessage() {\r\n        console.log(&quot;sending private message&quot;);\r\n        stompClient.send(&quot;/ws/private-message&quot;, {}, JSON.stringify({&#39;messageContent&#39;: $(&quot;#private-message&quot;).val()}));\r\n    }\r\n    \r\n    function updateNotificationDisplay() {\r\n        if (notificationCount == 0) {\r\n            $(&#39;#notifications&#39;).hide();\r\n        } else {\r\n            $(&#39;#notifications&#39;).show();\r\n            $(&#39;#notifications&#39;).text(notificationCount);\r\n        }\r\n    }\r\n    \r\n    function resetNotificationCount() {\r\n        notificationCount = 0;\r\n        updateNotificationDisplay();\r\n    }\r\n\r\n","title":"Send message from server to client use Websocket. Java","body":"<p>I hope for your help, I have already looked through everything but have not found an answer. The task is this: I need to send information from my Java application to the client (frontend). The essence of the information is that the user has a password expiration date in the system and I need to send a notification to the user that his password is about to expire. Of course, to do this, I need to make a request to the database for a specific user, calculate how many days he still has left before the password expires. I want to use Websocket for this. I made a config class for training videos and other servers and controllers, but I still didn’t understand how my application should send information to the client. Help! I already thought of using the @Sheduled annotation, but a method marked with this annotation cannot accept method arguments, then I will not be able to execute a timer request for any user.\nHere is my code, please tell me!</p>\n<p>WebSocketConfig class</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(final MessageBrokerRegistry registry) {\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n        registry.setApplicationDestinationPrefixes(&quot;/ws&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(final StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/our-websocket&quot;)\n                .setHandshakeHandler(new UserHandshakeHandler())\n                .withSockJS();\n    }\n}\n</code></pre>\n<p>UserHandshakeHandler class</p>\n<pre><code>public class UserHandshakeHandler extends DefaultHandshakeHandler {\n    private final Logger LOG = LoggerFactory.getLogger(UserHandshakeHandler.class);\n\n    @Override\n    protected Principal determineUser(ServerHttpRequest request, WebSocketHandler wsHandler, Map&lt;String, Object&gt; attributes) {\n\n        final String randomId = UUID.randomUUID().toString();\n        LOG.info(&quot;User with ID '{}' opened the page&quot;, randomId);\n\n        return new UserPrincipal(randomId);\n    }\n}\n</code></pre>\n<p>WSService class</p>\n<pre><code>@Service\npublic class WSService {\n\n    private final SimpMessagingTemplate messagingTemplate;\n    private final NotificationService notificationService;\n\n    @Autowired\n    public WSService(SimpMessagingTemplate messagingTemplate, NotificationService notificationService) {\n        this.messagingTemplate = messagingTemplate;\n        this.notificationService = notificationService;\n    }\n\n    public void notifyFrontend(final String message) {\n        ResponseMessage response = new ResponseMessage(message);\n        notificationService.sendGlobalNotification();\n\n        messagingTemplate.convertAndSend(&quot;/topic/messages&quot;, response);\n    }\n\n    public void notifyUser(final String id, final String message) {\n        ResponseMessage response = new ResponseMessage(message);\n\n        notificationService.sendPrivateNotification(id);\n        messagingTemplate.convertAndSendToUser(id, &quot;/topic/private-messages&quot;, response);\n    }\n}\n</code></pre>\n<p>WSController class</p>\n<pre><code>@RestController\npublic class WSController {\n\n    @Autowired\n    private WSService service;\n\n    @Autowired\n    private UsersRepository usersRepository;\n\n    @PostMapping(&quot;/send-message&quot;)\n    public void sendMessage(@RequestBody final Message message) {\n        service.notifyFrontend(message.getMessageContent());\n    }\n\n    @PostMapping(&quot;/send-private-message/{id}&quot;)\n    public void sendPrivateMessage(@PathVariable final String id,\n                                   @RequestBody final Message message) {\n            service.notifyUser(id, message.getMessageContent());\n    }\n\n    @Scheduled(fixedDelay = 10000)\n    public void sendPrivateMessage() {\n        List&lt;Users&gt; list = this.usersRepository.findAll();\n        for (Users users: list){\n            service.notifyUser(users.getId().toString(), &quot;testString&quot;);\n        }\n    }\n}\n</code></pre>\n<p>index.html code</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Hello WS&lt;/title&gt;\n    &lt;link href=&quot;/webjars/bootstrap/css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;\n    &lt;script src=&quot;/webjars/jquery/jquery.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/webjars/sockjs-client/sockjs.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/webjars/stomp-websocket/stomp.min.js&quot;&gt;&lt;/script&gt;\n    &lt;script src=&quot;/scripts.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div class=&quot;container&quot; style=&quot;margin-top: 50px&quot;&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;form class=&quot;form-inline&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;message&quot;&gt;Message&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; id=&quot;message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;button id=&quot;send&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot; style=&quot;margin-top: 10px&quot;&gt;\n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;form class=&quot;form-inline&quot;&gt;\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;label for=&quot;private-message&quot;&gt;Private Message&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; id=&quot;private-message&quot; class=&quot;form-control&quot; placeholder=&quot;Enter your message here...&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;button id=&quot;send-private&quot; class=&quot;btn btn-default&quot; type=&quot;button&quot;&gt;Send Private Message&lt;/button&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;row&quot;&gt;\n            &lt;div class=&quot;col-md-12&quot;&gt;\n                &lt;table id=&quot;message-history&quot; class=&quot;table table-striped&quot;&gt;\n                    &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th&gt;Messages\n                            &lt;span\n                                    id=&quot;notifications&quot;\n                                    style=&quot;\n                                    color: white;\n                                    background-color: red;\n                                    padding-left: 15px;\n                                    padding-right: 15px;&quot;&gt;\n                            &lt;/span&gt;\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                    &lt;/thead&gt;\n                    &lt;tbody id=&quot;messages&quot;&gt;\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>script.js code</p>\n<pre><code>var stompClient = null;\nvar notificationCount = 0;\n\n$(document).ready(function() {\n    console.log(&quot;Index page is ready&quot;);\n    connect();\n\n    $(&quot;#send&quot;).click(function() {\n        sendMessage();\n    });\n\n    $(&quot;#send-private&quot;).click(function() {\n        sendPrivateMessage();\n    });\n\n    $(&quot;#notifications&quot;).click(function() {\n        resetNotificationCount();\n    });\n});\n\nfunction connect() {\n    var socket = new SockJS('/our-websocket');\n    stompClient = Stomp.over(socket);\n    stompClient.connect({}, function (frame) {\n        console.log('Connected: ' + frame);\n        updateNotificationDisplay();\n        stompClient.subscribe('/topic/messages', function (message) {\n            showMessage(JSON.parse(message.body).content);\n        });\n\n        stompClient.subscribe('/user/topic/private-messages', function (message) {\n            showMessage(JSON.parse(message.body).content);\n        });\n\n        stompClient.subscribe('/topic/global-notifications', function (message) {\n            notificationCount = notificationCount + 1;\n            updateNotificationDisplay();\n        });\n\n        stompClient.subscribe('/user/topic/private-notifications', function (message) {\n            notificationCount = notificationCount + 1;\n            updateNotificationDisplay();\n        });\n    });\n}\n\nfunction showMessage(message) {\n    $(&quot;#messages&quot;).append(&quot;&lt;tr&gt;&lt;td&gt;&quot; + message + &quot;&lt;/td&gt;&lt;/tr&gt;&quot;);\n}\n\nfunction sendMessage() {\n    console.log(&quot;sending message&quot;);\n    stompClient.send(&quot;/ws/message&quot;, {}, JSON.stringify({'messageContent': $(&quot;#message&quot;).val()}));\n}\n\nfunction sendPrivateMessage() {\n    console.log(&quot;sending private message&quot;);\n    stompClient.send(&quot;/ws/private-message&quot;, {}, JSON.stringify({'messageContent': $(&quot;#private-message&quot;).val()}));\n}\n\nfunction updateNotificationDisplay() {\n    if (notificationCount == 0) {\n        $('#notifications').hide();\n    } else {\n        $('#notifications').show();\n        $('#notifications').text(notificationCount);\n    }\n}\n\nfunction resetNotificationCount() {\n    notificationCount = 0;\n    updateNotificationDisplay();\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","servlets"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1701696803,"post_id":77599763,"comment_id":136804002,"body_markdown":"A servlet is nothing more then a java class that extends `HttpServlet`.","body":"A servlet is nothing more then a java class that extends <code>HttpServlet</code>."}],"owner":{"account_id":30062813,"reputation":9,"user_id":23038578,"display_name":"Vũ Trần"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1701700603,"answer_count":0,"score":0,"last_activity_date":1701696848,"creation_date":1701696199,"question_id":77599763,"body_markdown":"How can I create and select a servlet in IntelliJ IDEA? I&#39;m creating a Jakarta EE project, clicking on Java, and creating a new file, but I can&#39;t find the option to create a servlet.\r\n\r\nI can create it manually, but that takes quite a while.","title":"How can I create and select a servlet in IntelliJ IDEA?","body":"<p>How can I create and select a servlet in IntelliJ IDEA? I'm creating a Jakarta EE project, clicking on Java, and creating a new file, but I can't find the option to create a servlet.</p>\n<p>I can create it manually, but that takes quite a while.</p>\n"},{"tags":["java","spring","spring-boot","http","spring-security"],"comments":[{"owner":{"account_id":25296938,"reputation":85,"user_id":19121922,"display_name":"Phi Tiet"},"score":0,"creation_date":1701698808,"post_id":77599830,"comment_id":136804436,"body_markdown":"@Gilles this is a great link, I already had the Advice set to what is shown in the post. What was missing was : \n\n```spring.mvc.static-path-pattern: /static.```","body":"@Gilles this is a great link, I already had the Advice set to what is shown in the post. What was missing was :   <code>spring.mvc.static-path-pattern: &#47;static.</code>"}],"owner":{"account_id":25296938,"reputation":85,"user_id":19121922,"display_name":"Phi Tiet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1701706802,"answer_count":0,"score":1,"last_activity_date":1701696820,"creation_date":1701696820,"question_id":77599830,"body_markdown":"In my spring security setup using Java 21 &amp; SB 3.2, I&#39;ve configured spring security to permit all requests matching &quot;/hello/**&quot;\r\n\r\nThis works when i&#39;m accessing an existing endpoint, but for endpoints where I expect a 404 (non-existing ones) I get a 401. When I change\r\n\r\n```anyRequest().authenticated())```\r\n\r\nInto:\r\n\r\n```anyRequest().permitAll())```\r\n\r\nI get the 404 I want, suggesting that the matching is not working, how do I circumvent this?\r\n\r\nSecurityConfig:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        var anonymousRequestMatcher = new OrRequestMatcher(\r\n                requestMatcher(&quot;/hello/**&quot;),\r\n                requestMatcher(&quot;/anonymous/**&quot;)\r\n        );\r\n\r\n        return httpSecurity\r\n                .csrf(AbstractHttpConfigurer::disable)\r\n                .authorizeHttpRequests(authorization -&gt;\r\n                        authorization\r\n                                .requestMatchers(anonymousRequestMatcher).permitAll()\r\n                                .anyRequest().authenticated())\r\n                .exceptionHandling(exceptionHandling -&gt;\r\n                        exceptionHandling\r\n                                .authenticationEntryPoint(new HttpStatusEntryPoint(UNAUTHORIZED))) // 401 for unauthenticated\r\n                .build();\r\n\r\n    }\r\n\r\n    private AntPathRequestMatcher requestMatcher(String pattern) {\r\n        return new AntPathRequestMatcher(pattern);\r\n    }\r\n}\r\n```\r\n\r\nSimple Controller:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/hello&quot;)\r\npublic class HelloController {\r\n\r\n    @GetMapping\r\n    public String hello(){\r\n        return &quot;hello world&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith no authentication/authorization getting the default &quot;/hello&quot; path gives me a 200 with &quot;hello world&quot;. However, &quot;hello/123&quot; results in a 401.\r\n\r\n","title":"Spring security 401 when expecting 404","body":"<p>In my spring security setup using Java 21 &amp; SB 3.2, I've configured spring security to permit all requests matching &quot;/hello/**&quot;</p>\n<p>This works when i'm accessing an existing endpoint, but for endpoints where I expect a 404 (non-existing ones) I get a 401. When I change</p>\n<p><code>anyRequest().authenticated())</code></p>\n<p>Into:</p>\n<p><code>anyRequest().permitAll())</code></p>\n<p>I get the 404 I want, suggesting that the matching is not working, how do I circumvent this?</p>\n<p>SecurityConfig:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n\n        var anonymousRequestMatcher = new OrRequestMatcher(\n                requestMatcher(&quot;/hello/**&quot;),\n                requestMatcher(&quot;/anonymous/**&quot;)\n        );\n\n        return httpSecurity\n                .csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests(authorization -&gt;\n                        authorization\n                                .requestMatchers(anonymousRequestMatcher).permitAll()\n                                .anyRequest().authenticated())\n                .exceptionHandling(exceptionHandling -&gt;\n                        exceptionHandling\n                                .authenticationEntryPoint(new HttpStatusEntryPoint(UNAUTHORIZED))) // 401 for unauthenticated\n                .build();\n\n    }\n\n    private AntPathRequestMatcher requestMatcher(String pattern) {\n        return new AntPathRequestMatcher(pattern);\n    }\n}\n</code></pre>\n<p>Simple Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/hello&quot;)\npublic class HelloController {\n\n    @GetMapping\n    public String hello(){\n        return &quot;hello world&quot;;\n    }\n\n}\n</code></pre>\n<p>With no authentication/authorization getting the default &quot;/hello&quot; path gives me a 200 with &quot;hello world&quot;. However, &quot;hello/123&quot; results in a 401.</p>\n"},{"tags":["java","regex","ascii","lexical-analysis"],"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1296784284,"post_id":4893759,"comment_id":5445699,"body_markdown":"That doesn’t make sense to me.  Is there a backslash there? Are these real control characters, or some ASCII sequence implying the same?  Why go \\c@ .. \\cZ only?  There are others, you know.","body":"That doesn’t make sense to me.  Is there a backslash there? Are these real control characters, or some ASCII sequence implying the same?  Why go \\c@ .. \\cZ only?  There are others, you know."},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":0,"creation_date":1296784294,"post_id":4893759,"comment_id":5445701,"body_markdown":"Why are you putting the caret in a character class anyway?","body":"Why are you putting the caret in a character class anyway?"},{"owner":{"account_id":258908,"reputation":9684,"user_id":541404,"accept_rate":98,"display_name":"Cameron Tinker"},"score":0,"creation_date":1296784693,"post_id":4893759,"comment_id":5445768,"body_markdown":"I&#39;m trying to match the literal text for the control characters, not the control characters themselves.","body":"I&#39;m trying to match the literal text for the control characters, not the control characters themselves."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1296784799,"post_id":4893759,"comment_id":5445782,"body_markdown":"Control-X is defined as the character whose code point is the  result of `^-ing` the code point of `X` with the code point of `@`; that is, bit 0x40.","body":"Control-X is defined as the character whose code point is the  result of <code>^-ing</code> the code point of <code>X</code> with the code point of <code>@</code>; that is, bit 0x40."}],"answers":[{"comments":[{"owner":{"account_id":258908,"reputation":9684,"user_id":541404,"accept_rate":98,"display_name":"Cameron Tinker"},"score":0,"creation_date":1296784477,"post_id":4893779,"comment_id":5445725,"body_markdown":"I&#39;m not quite sure I understand \\pC. I&#39;m writing a lexical analyzer using JLex and I need to recognize valid control character sequences in a string and translate them to their ASCII equivalents. For example, the string &quot;\\^g&quot; would print the bell character or cause the computer speaker to beep. I need a regular expression to match control character sequences like &quot;\\^g&quot;.","body":"I&#39;m not quite sure I understand \\pC. I&#39;m writing a lexical analyzer using JLex and I need to recognize valid control character sequences in a string and translate them to their ASCII equivalents. For example, the string &quot;\\^g&quot; would print the bell character or cause the computer speaker to beep. I need a regular expression to match control character sequences like &quot;\\^g&quot;."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1296784671,"post_id":4893779,"comment_id":5445764,"body_markdown":"@pcman: Do you have a literal BACKSLASH followed by a literal CIRCUMFLEX followed by a character that is one of `[A-Z@?\\[\\]_^]`?","body":"@pcman: Do you have a literal BACKSLASH followed by a literal CIRCUMFLEX followed by a character that is one of <code>[A-Z@?\\[\\]_^]</code>?"},{"owner":{"account_id":258908,"reputation":9684,"user_id":541404,"accept_rate":98,"display_name":"Cameron Tinker"},"score":0,"creation_date":1296785455,"post_id":4893779,"comment_id":5445859,"body_markdown":"Yes, I am trying to match the literal text as it would appear in a string.","body":"Yes, I am trying to match the literal text as it would appear in a string."},{"owner":{"account_id":3565538,"reputation":3136,"user_id":2977175,"accept_rate":92,"display_name":"Tofandel"},"score":0,"creation_date":1652098019,"post_id":4893779,"comment_id":127515958,"body_markdown":"This matches accents as well","body":"This matches accents as well"}],"tags":[],"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"comment_count":4,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1296785344,"creation_date":1296784190,"answer_id":4893779,"question_id":4893759,"body_markdown":"Match an ASCII text string of the form `^X` using the pattern `\\^.`, nothing more.  Match an ASCII text string of the form `\\^X` with the pattern `\\\\\\^.`.  You may wish to constrain that dot to `[?@_\\[\\]^\\\\]`, so `\\\\\\^[A-Z?@_\\[\\]^\\\\]`.  It’s easier to read as `[?\\x40-\\x5F]` for the bracketed character class, hence `\\\\\\^[?\\x40-\\x5F]` for a literal BACKSLASH, followed by a literal CIRCUMFLEX, followed by something that turns into one of the valid control characters.\r\n\r\nNote that that is the result of printing out the pattern, or what you’d read from a file. It’s what you need to pass to the regex compiler.  If you have it as a string literal, you must of course double each of those backslashes. ``\\\\\\\\\\\\^[?\\\\x40-\\\\x5F]&quot;` Yes, it is insane looking, but that is because Java does not support regexes directly as Groovy and Scala — or Perl and Ruby — do.  Regex work is always easier without the extra bbaacckksslllllaasshheesssssess. :)\r\n\r\nIf you had real control characters instead of indirect representations of them, you would use `\\pC` for all literal code points with the property GC=Other, or `\\p{Cc}` for just GC=Control.","title":"What is a regular expression for control characters?","body":"<p>Match an ASCII text string of the form <code>^X</code> using the pattern <code>\\^.</code>, nothing more.  Match an ASCII text string of the form <code>\\^X</code> with the pattern <code>\\\\\\^.</code>.  You may wish to constrain that dot to <code>[?@_\\[\\]^\\\\]</code>, so <code>\\\\\\^[A-Z?@_\\[\\]^\\\\]</code>.  It’s easier to read as <code>[?\\x40-\\x5F]</code> for the bracketed character class, hence <code>\\\\\\^[?\\x40-\\x5F]</code> for a literal BACKSLASH, followed by a literal CIRCUMFLEX, followed by something that turns into one of the valid control characters.</p>\n\n<p>Note that that is the result of printing out the pattern, or what you’d read from a file. It’s what you need to pass to the regex compiler.  If you have it as a string literal, you must of course double each of those backslashes. <code>`\\\\\\\\\\\\^[?\\\\x40-\\\\x5F]\"</code> Yes, it is insane looking, but that is because Java does not support regexes directly as Groovy and Scala — or Perl and Ruby — do.  Regex work is always easier without the extra bbaacckksslllllaasshheesssssess. :)</p>\n\n<p>If you had real control characters instead of indirect representations of them, you would use <code>\\pC</code> for all literal code points with the property GC=Other, or <code>\\p{Cc}</code> for just GC=Control.</p>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":1,"creation_date":1296784507,"post_id":4893791,"comment_id":5445727,"body_markdown":"What about `\\c?` for DELETE (U+7F)?  Did you know that Java thinks `\\c{` is `;` and that `\\c;` is `{`?  They forgot to check that result is `\\p{Cc}`.  Oops!","body":"What about <code>\\c?</code> for DELETE (U+7F)?  Did you know that Java thinks <code>\\c{</code> is <code>;</code> and that <code>\\c;</code> is <code>{</code>?  They forgot to check that result is <code>\\p{Cc}</code>.  Oops!"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1630603868,"post_id":4893791,"comment_id":122009092,"body_markdown":"Stale link. The page still exists, but the info about `\\c` has moved to https://www.regular-expressions.info/nonprint.html","body":"Stale link. The page still exists, but the info about <code>\\c</code> has moved to <a href=\"https://www.regular-expressions.info/nonprint.html\" rel=\"nofollow noreferrer\">regular-expressions.info/nonprint.html</a>"}],"tags":[],"owner":{"account_id":33407,"reputation":876,"user_id":93508,"display_name":"gbvb"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1701696696,"creation_date":1296784390,"answer_id":4893791,"question_id":4893759,"body_markdown":"Check this out: https://www.regular-expressions.info/nonprint.html . You should be able to use \\cA to \\cZ to find the control characters.. ","title":"What is a regular expression for control characters?","body":"<p>Check this out: <a href=\"https://www.regular-expressions.info/nonprint.html\" rel=\"nofollow noreferrer\">https://www.regular-expressions.info/nonprint.html</a> . You should be able to use \\cA to \\cZ to find the control characters..</p>\n"}],"owner":{"account_id":258908,"reputation":9684,"user_id":541404,"accept_rate":98,"display_name":"Cameron Tinker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29825,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":4893779,"answer_count":2,"score":12,"last_activity_date":1701696696,"creation_date":1296783980,"question_id":4893759,"body_markdown":"I&#39;m trying to match a control character in the form \\^c where c is any valid character for control characters. I have this regular expression, but it&#39;s not currently working: `\\\\[^][@-z]`\r\n\r\nI think the problem lies with the fact that the caret character (^) is part of the regular expressions parsing engine.","title":"What is a regular expression for control characters?","body":"<p>I'm trying to match a control character in the form \\^c where c is any valid character for control characters. I have this regular expression, but it's not currently working: <code>\\\\[^][@-z]</code></p>\n\n<p>I think the problem lies with the fact that the caret character (^) is part of the regular expressions parsing engine.</p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":2129383,"reputation":30859,"user_id":1890567,"display_name":"FDinoff"},"score":6,"creation_date":1368223922,"post_id":16491482,"comment_id":23669167,"body_markdown":"Have you tried recursion?","body":"Have you tried recursion?"},{"owner":{"account_id":2522287,"reputation":1571,"user_id":2192409,"accept_rate":100,"display_name":"Tdorno"},"score":0,"creation_date":1368224107,"post_id":16491482,"comment_id":23669230,"body_markdown":"DO you have any CODE we can work with?","body":"DO you have any CODE we can work with?"},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224345,"post_id":16491482,"comment_id":23669305,"body_markdown":"@Tdorno   void printReverse() {\n    Node&lt;E&gt; temp = list;\n    if (temp.getNext() == null) { \n      System.out.println(temp.getInfo());\n    }\n    printReverse(temp.getNext());\n  }\n}","body":"@Tdorno   void printReverse() {     Node&lt;E&gt; temp = list;     if (temp.getNext() == null) {        System.out.println(temp.getInfo());     }     printReverse(temp.getNext());   } }"},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":1,"creation_date":1368224483,"post_id":16491482,"comment_id":23669358,"body_markdown":"@user2272227 but by definition, shouldn&#39;t getNext()==null always be false if it&#39;s a circular linked list?","body":"@user2272227 but by definition, shouldn&#39;t getNext()==null always be false if it&#39;s a circular linked list?"},{"owner":{"account_id":2129383,"reputation":30859,"user_id":1890567,"display_name":"FDinoff"},"score":0,"creation_date":1368224544,"post_id":16491482,"comment_id":23669378,"body_markdown":"@user2272227 How are you choosing the start of the list?","body":"@user2272227 How are you choosing the start of the list?"},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224710,"post_id":16491482,"comment_id":23669434,"body_markdown":"@rob the list is always instanciated   Node&lt;E&gt; list; which is pointing to the first node.","body":"@rob the list is always instanciated   Node&lt;E&gt; list; which is pointing to the first node."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224742,"post_id":16491482,"comment_id":23669441,"body_markdown":"@FDinoff   Node&lt;E&gt; list; the name of the node at the start is called list.","body":"@FDinoff   Node&lt;E&gt; list; the name of the node at the start is called list."},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1368224908,"post_id":16491482,"comment_id":23669487,"body_markdown":"@user2272227 right, but the last node in a circular list points to the first node (otherwise it wouldn&#39;t be circular), so getNext() should always return a non-null value as long as the list contains at least one element.","body":"@user2272227 right, but the last node in a circular list points to the first node (otherwise it wouldn&#39;t be circular), so getNext() should always return a non-null value as long as the list contains at least one element."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224950,"post_id":16491482,"comment_id":23669502,"body_markdown":"@rob exactly, its circular.","body":"@rob exactly, its circular."},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1368225017,"post_id":16491482,"comment_id":23669523,"body_markdown":"And now we&#39;ve come full-circle (pun intended).  temp.getNext() should never return null, so you can&#39;t test for that.","body":"And now we&#39;ve come full-circle (pun intended).  temp.getNext() should never return null, so you can&#39;t test for that."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225053,"post_id":16491482,"comment_id":23669537,"body_markdown":"@rob so how would this be solved?","body":"@rob so how would this be solved?"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368225157,"post_id":16491482,"comment_id":23669562,"body_markdown":"Can the list be modified?","body":"Can the list be modified?"},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1368225201,"post_id":16491482,"comment_id":23669573,"body_markdown":"You can recursion and test for temp.getNext() == start instead (or, rather, temp.getNext() != start), as Harold mentioned in his answer/comment, and as Marvo answered in his solution.","body":"You can recursion and test for temp.getNext() == start instead (or, rather, temp.getNext() != start), as Harold mentioned in his answer/comment, and as Marvo answered in his solution."},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368225355,"post_id":16491482,"comment_id":23669624,"body_markdown":"You don&#39;t absolutely need to use recursion.  You could also put every entry on a stack, and test each node against the first entry in the stack.  Then when you&#39;re done populating the stack, you&#39;d pop off each entry and print it until the stack is empty.  It&#39;d probably use less memory than recursion, and it would use heap rather than the program&#39;s stack, so it might be better.  But for crazy long lists, it&#39;d be a problem.  Reversing the links during print is another way and would use less memory, but that assumes nobody else needs to use the list at the time you&#39;re printing.","body":"You don&#39;t absolutely need to use recursion.  You could also put every entry on a stack, and test each node against the first entry in the stack.  Then when you&#39;re done populating the stack, you&#39;d pop off each entry and print it until the stack is empty.  It&#39;d probably use less memory than recursion, and it would use heap rather than the program&#39;s stack, so it might be better.  But for crazy long lists, it&#39;d be a problem.  Reversing the links during print is another way and would use less memory, but that assumes nobody else needs to use the list at the time you&#39;re printing."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225652,"post_id":16491482,"comment_id":23669691,"body_markdown":"@Marvo marvo, you gave me a lovely solution down, if it was to be done using the stack way? would you have time to right the code for me to test and see how it works? If not, it&#39;s alright. you&#39;ve done a lot!","body":"@Marvo marvo, you gave me a lovely solution down, if it was to be done using the stack way? would you have time to right the code for me to test and see how it works? If not, it&#39;s alright. you&#39;ve done a lot!"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368226299,"post_id":16491482,"comment_id":23669900,"body_markdown":"Stack approach has been added as another answer.","body":"Stack approach has been added as another answer."},{"owner":{"account_id":3979878,"reputation":27592,"user_id":3282056,"accept_rate":80,"display_name":"rcgldr"},"score":0,"creation_date":1701707839,"post_id":16491482,"comment_id":136806374,"body_markdown":"You could reverse the list, then print the list while undoing the reverse, similar to the C++ code in [this answer](https://stackoverflow.com/a/77574724/3282056), but checking getting back to the head node instead of null.","body":"You could reverse the list, then print the list while undoing the reverse, similar to the C++ code in <a href=\"https://stackoverflow.com/a/77574724/3282056\">this answer</a>, but checking getting back to the head node instead of null."}],"answers":[{"comments":[{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224186,"post_id":16491546,"comment_id":23669253,"body_markdown":"that works for circular single linked list?","body":"that works for circular single linked list?"},{"owner":{"display_name":"user1898811"},"score":1,"creation_date":1368224210,"post_id":16491546,"comment_id":23669259,"body_markdown":"Change the base case to be next node != head","body":"Change the base case to be next node != head"},{"owner":{"account_id":2326036,"reputation":563,"user_id":2040537,"display_name":"Harold R. Eason"},"score":0,"creation_date":1368224213,"post_id":16491546,"comment_id":23669262,"body_markdown":"Oh, I missed that it&#39;s circular. Edited according to @RonDahlgren.","body":"Oh, I missed that it&#39;s circular. Edited according to @RonDahlgren."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224448,"post_id":16491546,"comment_id":23669349,"body_markdown":"@HaroldR.Eason bro, my linkedlist has no front/back implemented, that&#39;s the challenge in the question.","body":"@HaroldR.Eason bro, my linkedlist has no front/back implemented, that&#39;s the challenge in the question."},{"owner":{"account_id":2326036,"reputation":563,"user_id":2040537,"display_name":"Harold R. Eason"},"score":2,"creation_date":1368224607,"post_id":16491546,"comment_id":23669407,"body_markdown":"You can make the recursive function be seeded by the start node. I.e, you call `printInReverse(list, list)`, the first parameter is the start node, the second parameter is the current node in the list. Or even simpler, start by making a global variable called `start`. Either of these ways, your recursive function will know what the start node is.","body":"You can make the recursive function be seeded by the start node. I.e, you call <code>printInReverse(list, list)</code>, the first parameter is the start node, the second parameter is the current node in the list. Or even simpler, start by making a global variable called <code>start</code>. Either of these ways, your recursive function will know what the start node is."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368224767,"post_id":16491546,"comment_id":23669450,"body_markdown":"@HaroldR.Eason i just read the textbook question, no parameters for the method.","body":"@HaroldR.Eason i just read the textbook question, no parameters for the method."},{"owner":{"account_id":2326036,"reputation":563,"user_id":2040537,"display_name":"Harold R. Eason"},"score":0,"creation_date":1368224975,"post_id":16491546,"comment_id":23669508,"body_markdown":"Then can you use a global variable instead?","body":"Then can you use a global variable instead?"},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225017,"post_id":16491546,"comment_id":23669524,"body_markdown":"@HaroldR.Eason global variable for the start of the list? already have called list.","body":"@HaroldR.Eason global variable for the start of the list? already have called list."},{"owner":{"account_id":2326036,"reputation":563,"user_id":2040537,"display_name":"Harold R. Eason"},"score":0,"creation_date":1368225148,"post_id":16491546,"comment_id":23669561,"body_markdown":"Yes, a global variable for the start of the list. If the method has no parameters at all, you have to encode the call stack in memory...","body":"Yes, a global variable for the start of the list. If the method has no parameters at all, you have to encode the call stack in memory..."}],"tags":[],"owner":{"account_id":2326036,"reputation":563,"user_id":2040537,"display_name":"Harold R. Eason"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1368224126,"creation_date":1368224126,"answer_id":16491546,"question_id":16491482,"body_markdown":"In the base case (start node is equal to next node), print the current node. Otherwise, recurse on the next node and then print the current node.\r\n\r\nNote this uses linear space because of the stack, but this is optimal since you have no back pointers.","title":"Printing reversely a circular single linked list","body":"<p>In the base case (start node is equal to next node), print the current node. Otherwise, recurse on the next node and then print the current node.</p>\n\n<p>Note this uses linear space because of the stack, but this is optimal since you have no back pointers.</p>\n"},{"comments":[{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":1,"creation_date":1368224868,"post_id":16491660,"comment_id":23669474,"body_markdown":"thnx for the effort but the question wants it solved without parameters in the method;/","body":"thnx for the effort but the question wants it solved without parameters in the method;/"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368224891,"post_id":16491660,"comment_id":23669484,"body_markdown":"Yeah, that&#39;d be useful info for the question. I&#39;ll edit.","body":"Yeah, that&#39;d be useful info for the question. I&#39;ll edit."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225139,"post_id":16491660,"comment_id":23669559,"body_markdown":"final Node head = node;\nwhat do you mean by node here? you mean the start of the list?","body":"final Node head = node; what do you mean by node here? you mean the start of the list?"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368225193,"post_id":16491660,"comment_id":23669572,"body_markdown":"Yes, you&#39;re right.  I&#39;ll fix that.","body":"Yes, you&#39;re right.  I&#39;ll fix that."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225555,"post_id":16491660,"comment_id":23669663,"body_markdown":"printReverseRecurse(node);\n        System.out.println(node.toString()); for these, i replace node with list correct? or head?","body":"printReverseRecurse(node);         System.out.println(node.toString()); for these, i replace node with list correct? or head?"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368225668,"post_id":16491660,"comment_id":23669697,"body_markdown":"Yes, sorry.   I should have compiled this and run it.  =)","body":"Yes, sorry.   I should have compiled this and run it.  =)"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368225768,"post_id":16491660,"comment_id":23669728,"body_markdown":"Note that I also pass `head` to the private method, too.  In the public method, you can print either `list` or `head`; they&#39;re the same thing.","body":"Note that I also pass <code>head</code> to the private method, too.  In the public method, you can print either <code>list</code> or <code>head</code>; they&#39;re the same thing."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225853,"post_id":16491660,"comment_id":23669757,"body_markdown":"you tried the code actually?","body":"you tried the code actually?"},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368225935,"post_id":16491660,"comment_id":23669789,"body_markdown":"oh yeh ok, but what i don;t understand is why 2 methods? each printing? won&#39;t we have 2 prints now for everything?","body":"oh yeh ok, but what i don;t understand is why 2 methods? each printing? won&#39;t we have 2 prints now for everything?"},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368227884,"post_id":16491660,"comment_id":23670323,"body_markdown":"The first method starts things off.  Because of the circular nature of the list, the outer method retains the starting point of the printing.","body":"The first method starts things off.  Because of the circular nature of the list, the outer method retains the starting point of the printing."}],"tags":[],"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368225685,"creation_date":1368224802,"answer_id":16491660,"question_id":16491482,"body_markdown":"How about:\r\n\r\n    class Node {\r\n        int data;\r\n        Node next;\r\n        public Node getNode() ...\r\n        public String toString() ...\r\n    }\r\n    \r\n    public class CircularList {\r\n    \r\n        private Node list;\r\n    \r\n        public void printReverse() {\r\n            final Node head = this.list;\r\n            printReverseRecurse(list, head);\r\n            System.out.println(list.toString());\r\n        }\r\n    \r\n        private void printReverseRecurse(Node node, Node head) {\r\n            if (node != head) {\r\n                printReverseRecurse(node.getNext(), head);\r\n                System.out.print(node.toString());\r\n            }\r\n        }\r\n    }\r\n          \r\nAfter editing, I forgot to pass the `head` reference to the private method.  ","title":"Printing reversely a circular single linked list","body":"<p>How about:</p>\n\n<pre><code>class Node {\n    int data;\n    Node next;\n    public Node getNode() ...\n    public String toString() ...\n}\n\npublic class CircularList {\n\n    private Node list;\n\n    public void printReverse() {\n        final Node head = this.list;\n        printReverseRecurse(list, head);\n        System.out.println(list.toString());\n    }\n\n    private void printReverseRecurse(Node node, Node head) {\n        if (node != head) {\n            printReverseRecurse(node.getNext(), head);\n            System.out.print(node.toString());\n        }\n    }\n}\n</code></pre>\n\n<p>After editing, I forgot to pass the <code>head</code> reference to the private method.  </p>\n"},{"comments":[{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368226316,"post_id":16491877,"comment_id":23669907,"body_markdown":"is there any other alternative to break? we cant use it.","body":"is there any other alternative to break? we cant use it."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368226575,"post_id":16491877,"comment_id":23669968,"body_markdown":"also, it gives errors for the for each method, it says it can only be used for arrays or iterable.","body":"also, it gives errors for the for each method, it says it can only be used for arrays or iterable."},{"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"score":0,"creation_date":1368228027,"post_id":16491877,"comment_id":23670370,"body_markdown":"Sorry about that.  Edited.","body":"Sorry about that.  Edited."},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368229234,"post_id":16491877,"comment_id":23670642,"body_markdown":"is there something to use instead of do?","body":"is there something to use instead of do?"},{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368229278,"post_id":16491877,"comment_id":23670649,"body_markdown":"i cant use it and the first while is strange?","body":"i cant use it and the first while is strange?"},{"owner":{"account_id":2319481,"reputation":2665,"user_id":2076046,"accept_rate":77,"display_name":"Eric"},"score":0,"creation_date":1382418207,"post_id":16491877,"comment_id":28940747,"body_markdown":"We cannot use while first because it is a circular list. We assigned the first node in the list as &#39;node&#39;, so if we execute the while loop, node != list condition is true and the loop immediately breaks. We move the node pointer to the next node in do{}, and then keep checking the condition","body":"We cannot use while first because it is a circular list. We assigned the first node in the list as &#39;node&#39;, so if we execute the while loop, node != list condition is true and the loop immediately breaks. We move the node pointer to the next node in do{}, and then keep checking the condition"}],"tags":[],"owner":{"account_id":135174,"reputation":17875,"user_id":337819,"accept_rate":68,"display_name":"Marvo"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1368228008,"creation_date":1368226152,"answer_id":16491877,"question_id":16491482,"body_markdown":"Here&#39;s a non-recursive approach using a stack on the heap instead of the program stack.  Should use less memory than the recursive approach.\r\n\r\n    class Node { \r\n        private int data;\r\n        private Node next;\r\n        public Node getNode() { ... }\r\n        public String toString() { ... }\r\n    }\r\n    \r\n    public class CircularList {\r\n    \r\n        private Node list;\r\n    \r\n        public reversePrint() {\r\n            Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\r\n    \r\n            // First, put all the entries in the stack\r\n            Node node = list;\r\n            do {\r\n                stack.push(node);\r\n                node = node.getNext();\r\n            } while (node != list);\r\n    \r\n            while (!stack.empty()) {\r\n                System.out.print(stack.pop());\r\n            }\r\n        }\r\n    \r\n    }","title":"Printing reversely a circular single linked list","body":"<p>Here's a non-recursive approach using a stack on the heap instead of the program stack.  Should use less memory than the recursive approach.</p>\n\n<pre><code>class Node { \n    private int data;\n    private Node next;\n    public Node getNode() { ... }\n    public String toString() { ... }\n}\n\npublic class CircularList {\n\n    private Node list;\n\n    public reversePrint() {\n        Stack&lt;Node&gt; stack = new Stack&lt;Node&gt;();\n\n        // First, put all the entries in the stack\n        Node node = list;\n        do {\n            stack.push(node);\n            node = node.getNext();\n        } while (node != list);\n\n        while (!stack.empty()) {\n            System.out.print(stack.pop());\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"score":0,"creation_date":1368260739,"post_id":16492176,"comment_id":23675550,"body_markdown":"this gives me a exception when running.","body":"this gives me a exception when running."},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1368359003,"post_id":16492176,"comment_id":23696428,"body_markdown":"Post the code with the list you used to test it and the full stack trace","body":"Post the code with the list you used to test it and the full stack trace"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1368377048,"post_id":16492176,"comment_id":23701332,"body_markdown":"And by the way: the code in my answer was tested and works correctly, if there&#39;s an exception it&#39;s probably because the list you used was not properly constructed, start by checking that","body":"And by the way: the code in my answer was tested and works correctly, if there&#39;s an exception it&#39;s probably because the list you used was not properly constructed, start by checking that"}],"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368401736,"creation_date":1368228555,"answer_id":16492176,"question_id":16491482,"body_markdown":"Here&#39;s a possible solution using recursion, the printing method doesn&#39;t receive any parameters:\r\n\r\n    public class ReversePrinter {\r\n    \r\n        private Node&lt;?&gt; head;\r\n        private Node&lt;?&gt; current;\r\n        private boolean first = true;\r\n    \r\n        public ReversePrinter(Node&lt;?&gt; head) {\r\n            this.head = head;\r\n            this.current = head;\r\n        }\r\n    \r\n        public void printReverse() {\r\n\r\n            if (current == null) {\r\n                return;\r\n            } else if (current == head) {\r\n        \t\tif (!first) return;\r\n        \t\tfirst = false;\r\n        \t}\r\n    \r\n            Node&lt;?&gt; previous = current;\r\n            current = current.getNext();\r\n            printReverse();\r\n            System.out.println(previous.getInfo());\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nUse it like this:\r\n\r\n    ReversePrinter printer = new ReversePrinter(nodeHeadOfList);\r\n    printer.printReverse();\r\n\r\nFor the example in the question, it will print on the console:\r\n\r\n    3\r\n    2\r\n    1","title":"Printing reversely a circular single linked list","body":"<p>Here's a possible solution using recursion, the printing method doesn't receive any parameters:</p>\n\n<pre><code>public class ReversePrinter {\n\n    private Node&lt;?&gt; head;\n    private Node&lt;?&gt; current;\n    private boolean first = true;\n\n    public ReversePrinter(Node&lt;?&gt; head) {\n        this.head = head;\n        this.current = head;\n    }\n\n    public void printReverse() {\n\n        if (current == null) {\n            return;\n        } else if (current == head) {\n            if (!first) return;\n            first = false;\n        }\n\n        Node&lt;?&gt; previous = current;\n        current = current.getNext();\n        printReverse();\n        System.out.println(previous.getInfo());\n\n    }\n\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>ReversePrinter printer = new ReversePrinter(nodeHeadOfList);\nprinter.printReverse();\n</code></pre>\n\n<p>For the example in the question, it will print on the console:</p>\n\n<pre><code>3\n2\n1\n</code></pre>\n"}],"owner":{"account_id":2625018,"reputation":125,"user_id":2272227,"accept_rate":67,"display_name":"user2272227"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1368232428,"answer_count":4,"score":2,"last_activity_date":1701696562,"creation_date":1368223868,"question_id":16491482,"body_markdown":"I am practicing questions randomly from my textbook and i came over this question and was not able to get it done.\r\n\r\nHow can I print a circular single linked list in reverse order? For example : If the list has elements: 1 2 3 , It should print them 3 2 1\r\n\r\nNote it&#39;s a circular linked list and no parameters should be in the method.\r\n\r\nThank you!\r\n","title":"Printing reversely a circular single linked list","body":"<p>I am practicing questions randomly from my textbook and i came over this question and was not able to get it done.</p>\n\n<p>How can I print a circular single linked list in reverse order? For example : If the list has elements: 1 2 3 , It should print them 3 2 1</p>\n\n<p>Note it's a circular linked list and no parameters should be in the method.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":3,"creation_date":1583087533,"post_id":60478226,"comment_id":106990003,"body_markdown":"Why throw `UnsupportedOperationException` when the task says you should throw `IllegalArgumentException`?","body":"Why throw <code>UnsupportedOperationException</code> when the task says you should throw <code>IllegalArgumentException</code>?"},{"owner":{"account_id":25684,"reputation":3449,"user_id":66207,"accept_rate":100,"display_name":"keuleJ"},"score":0,"creation_date":1583135657,"post_id":60478226,"comment_id":107000610,"body_markdown":"The best exception here would be the ArrayIndexOutOfBoundsException https://docs.oracle.com/javase/9/docs/api/java/lang/ArrayIndexOutOfBoundsException.html","body":"The best exception here would be the ArrayIndexOutOfBoundsException <a href=\"https://docs.oracle.com/javase/9/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/java/lang/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":0,"creation_date":1583145592,"post_id":60478265,"comment_id":107005047,"body_markdown":"@Hanan did this post solve your question? if so, please don’t forget to [accept](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work) it, just click on the checkmark to its left ;) . Also worth reading: [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers).","body":"@Hanan did this post solve your question? if so, please don’t forget to <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept</a> it, just click on the checkmark to its left ;) . Also worth reading: <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>."}],"tags":[],"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583146387,"creation_date":1583086528,"answer_id":60478265,"question_id":60478226,"body_markdown":"You can simplify the first check writing this at the start, before the loop:\r\n\r\n    if (head == null || size &lt; 0) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\nAnd inside the loop you have to check if you fell outside the list:\r\n\r\n    if (n == null) {\r\n        throw new UnsupportedOperationException();\r\n    }\r\n\r\nFinally, after the loop you have to return the actual element you found:\r\n\r\n    return n.getItem();\r\n\r\nAlso notice that `size` and `n` are confusing names for your variables, you&#39;d be better off calling them `index` and `current`. Here&#39;s how the code should look like, taking into account all my recommendations:\r\n\r\n    public Item get(int index) {\r\n    \r\n        if (head == null || index &lt; 0) {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    \r\n        Node current = head;\r\n\r\n        for (int i = 0; i &lt; index; i++) {\r\n            if (current == null) {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n            current = current.next();\r\n        }\r\n    \r\n        return current.getItem();\r\n    \r\n    }","title":"Linked Lists and Throwing an Exception","body":"<p>You can simplify the first check writing this at the start, before the loop:</p>\n\n<pre><code>if (head == null || size &lt; 0) {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n\n<p>And inside the loop you have to check if you fell outside the list:</p>\n\n<pre><code>if (n == null) {\n    throw new UnsupportedOperationException();\n}\n</code></pre>\n\n<p>Finally, after the loop you have to return the actual element you found:</p>\n\n<pre><code>return n.getItem();\n</code></pre>\n\n<p>Also notice that <code>size</code> and <code>n</code> are confusing names for your variables, you'd be better off calling them <code>index</code> and <code>current</code>. Here's how the code should look like, taking into account all my recommendations:</p>\n\n<pre><code>public Item get(int index) {\n\n    if (head == null || index &lt; 0) {\n        throw new UnsupportedOperationException();\n    }\n\n    Node current = head;\n\n    for (int i = 0; i &lt; index; i++) {\n        if (current == null) {\n            throw new UnsupportedOperationException();\n        }\n        current = current.next();\n    }\n\n    return current.getItem();\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1583088321,"post_id":60478396,"comment_id":106990216,"body_markdown":"This can result in a `NullPointerException` when `size` is too big, but it should be a `IllegalArgumentException`.","body":"This can result in a <code>NullPointerException</code> when <code>size</code> is too big, but it should be a <code>IllegalArgumentException</code>."},{"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"score":0,"creation_date":1583088945,"post_id":60478396,"comment_id":106990410,"body_markdown":"Exactly, here we go!","body":"Exactly, here we go!"},{"owner":{"account_id":69149,"reputation":233552,"user_id":201359,"accept_rate":100,"display_name":"&#211;scar L&#243;pez"},"score":1,"creation_date":1583145708,"post_id":60478396,"comment_id":107005104,"body_markdown":"Assuming that the indexes are zero-based, this answer is not handling them correctly. And the method signature requires that an _item_ is returned, not a _node_. To see a correct solution, take a look at my answer.","body":"Assuming that the indexes are zero-based, this answer is not handling them correctly. And the method signature requires that an <i>item</i> is returned, not a <i>node</i>. To see a correct solution, take a look at my answer."}],"tags":[],"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583243220,"creation_date":1583087343,"answer_id":60478396,"question_id":60478226,"body_markdown":"Your code should look something like this:\r\n\r\n    public Item get(int size){\r\n       if(head == null || size &lt; 0){\r\n          throw new UnsupportedOperationException();\r\n       }\r\n       else{\r\n          Node n = head;\r\n          for(int i=0; i &lt;=size;i++){\r\n             if(n == null){\r\n                throw new UnsupportedOperationException();\r\n             }\r\n             if(i != 0){\r\n                n = n.next();\r\n             }\r\n          }\r\n          return n.getItem();\r\n       }\r\n     return null;  \r\n    }","title":"Linked Lists and Throwing an Exception","body":"<p>Your code should look something like this:</p>\n\n<pre><code>public Item get(int size){\n   if(head == null || size &lt; 0){\n      throw new UnsupportedOperationException();\n   }\n   else{\n      Node n = head;\n      for(int i=0; i &lt;=size;i++){\n         if(n == null){\n            throw new UnsupportedOperationException();\n         }\n         if(i != 0){\n            n = n.next();\n         }\n      }\n      return n.getItem();\n   }\n return null;  \n}\n</code></pre>\n"}],"owner":{"account_id":17880542,"reputation":1,"user_id":12989454,"display_name":"Hanan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701696529,"creation_date":1583086239,"question_id":60478226,"body_markdown":"My question is about implementing a method `get(int n)` which should return the element at index n (indexing starts with 0). If the index is out of bounds, the exception `IllegalArgumentException` should be thrown.\r\nThis is the code I wrote, is it correct or should I change something?\r\n\r\n(int size) for an array list\r\n\r\n```java\r\npublic Item get(int size) {\r\n     \tNode&lt;Item&gt; n= head;\r\n        for (int i=0; i&lt;=size;i++)\r\n            n=n.next;\r\n \r\n        if ( size &lt; 0 ) { throw new UnsupportedOperationException();} \t\t\r\n        return null;*\r\n```","title":"Linked Lists and Throwing an Exception","body":"<p>My question is about implementing a method <code>get(int n)</code> which should return the element at index n (indexing starts with 0). If the index is out of bounds, the exception <code>IllegalArgumentException</code> should be thrown.\nThis is the code I wrote, is it correct or should I change something?</p>\n\n<p>(int size) for an array list</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public Item get(int size) {\n        Node&lt;Item&gt; n= head;\n        for (int i=0; i&lt;=size;i++)\n            n=n.next;\n\n        if ( size &lt; 0 ) { throw new UnsupportedOperationException();}       \n        return null;*\n</code></pre>\n"},{"tags":["java","angular","hibernate","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":1835772,"reputation":651,"user_id":1666213,"display_name":"MehmanBashirov"},"score":0,"creation_date":1530264171,"post_id":51098300,"comment_id":89184319,"body_markdown":"I send http post to /payment/all.\nI can ctach limit and offset and get data from database for this items.\nI want to get additional count(all of them row from table).\nAnd I think isn&#39;t good way create another method wich this method will return totalCount of all my data.","body":"I send http post to /payment/all. I can ctach limit and offset and get data from database for this items. I want to get additional count(all of them row from table). And I think isn&#39;t good way create another method wich this method will return totalCount of all my data."},{"owner":{"account_id":1835772,"reputation":651,"user_id":1666213,"display_name":"MehmanBashirov"},"score":0,"creation_date":1530264258,"post_id":51098300,"comment_id":89184377,"body_markdown":"@RequestBody PaginationModel page.  this object can give me offset and limit.","body":"@RequestBody PaginationModel page.  this object can give me offset and limit."},{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":0,"creation_date":1530264880,"post_id":51098300,"comment_id":89184745,"body_markdown":"page and size are substitues for your paginationmodel object. You wouldn&#39;t need it anymore. But for total count, you need to write query of your own and update it the response. No other way. Else you can use Spring data REST. see reference in my answer.","body":"page and size are substitues for your paginationmodel object. You wouldn&#39;t need it anymore. But for total count, you need to write query of your own and update it the response. No other way. Else you can use Spring data REST. see reference in my answer."}],"tags":[],"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530264904,"creation_date":1530263759,"answer_id":51098300,"question_id":51097962,"body_markdown":"You need pagination support then add the parameter `Pageable pageable`\r\n\r\n        @CrossOrigin(maxAge = 3600)\r\n        @RequestMapping(value = &quot;/payment/all&quot;, method = RequestMethod.POST)\r\n        public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(Pageable pageable){\r\n            try {\r\n                System.out.println(pag.getPageno()+ &quot; &quot; + pag.getRecords());\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            //NO pageable object need to be manually constructed\r\n            return notaryPaymentRepository.findAll(pageable).getContent();\r\n        }\r\n\r\n\r\nand URL can now have extra query params like **/payment/all?page=2&amp;size=10**\r\n\r\nIf you use Spring data REST, then you will have HATEOAS support which will give you more information about how many total counts are there and what page you are in etc., But the response would be of HAL format.\r\n**Reference:** https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>You need pagination support then add the parameter <code>Pageable pageable</code></p>\n\n<pre><code>    @CrossOrigin(maxAge = 3600)\n    @RequestMapping(value = \"/payment/all\", method = RequestMethod.POST)\n    public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(Pageable pageable){\n        try {\n            System.out.println(pag.getPageno()+ \" \" + pag.getRecords());\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        //NO pageable object need to be manually constructed\n        return notaryPaymentRepository.findAll(pageable).getContent();\n    }\n</code></pre>\n\n<p>and URL can now have extra query params like <strong>/payment/all?page=2&amp;size=10</strong></p>\n\n<p>If you use Spring data REST, then you will have HATEOAS support which will give you more information about how many total counts are there and what page you are in etc., But the response would be of HAL format.\n<strong>Reference:</strong> <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/rest/docs/current/reference/html/#paging-and-sorting</a></p>\n"},{"comments":[{"owner":{"account_id":1835772,"reputation":651,"user_id":1666213,"display_name":"MehmanBashirov"},"score":0,"creation_date":1530267598,"post_id":51099001,"comment_id":89186305,"body_markdown":"great.I changed my method signature as the below.public Page&lt;NotaryPaymentInformationEntity&gt; getAllProduct(@RequestBody PaginationModel pag) - And I get all of them informations.","body":"great.I changed my method signature as the below.public Page&lt;NotaryPaymentInformationEntity&gt; getAllProduct(@RequestBody PaginationModel pag) - And I get all of them informations."}],"tags":[],"owner":{"account_id":5783705,"reputation":211,"user_id":9306190,"display_name":"Deep Sodhi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530266610,"creation_date":1530265922,"answer_id":51099001,"question_id":51097962,"body_markdown":"You can get the response of your query in Page&lt;T&gt; class obj which extends the Slice&lt;T&gt; class and has all the methods you would need.\r\n\r\n    Pageable pageable = new PageRequest(pageNo, PAGE_SIZE);\r\n\r\nThe pageNo and PAGE_SIZE needs to be sent from the client\r\n\r\n    @Query(value = &quot;SELECT h FROM {NameOfYourModelClass} h&quot;)\r\n    Page&lt;HorseWatch&gt; getPaginatedModel(Pageable pageable);\r\n\r\nCall this method from your service class and retrieve it in a Page object\r\n\r\nYou can get the page content, page number and total number of pages using (using **getContent()**,**getNumber()**,**getTotalPages()** from the object )\r\n\r\n\r\nSave these values in your response class and send this class back to the client \r\n\r\n    public class PageResponse {\r\n        private List&lt;{NameOfModelClass}&gt; content;\r\n        private int currentPage;\r\n        private int totalPages;\r\n    }\r\n\r\n","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>You can get the response of your query in Page class obj which extends the Slice class and has all the methods you would need.</p>\n\n<pre><code>Pageable pageable = new PageRequest(pageNo, PAGE_SIZE);\n</code></pre>\n\n<p>The pageNo and PAGE_SIZE needs to be sent from the client</p>\n\n<pre><code>@Query(value = \"SELECT h FROM {NameOfYourModelClass} h\")\nPage&lt;HorseWatch&gt; getPaginatedModel(Pageable pageable);\n</code></pre>\n\n<p>Call this method from your service class and retrieve it in a Page object</p>\n\n<p>You can get the page content, page number and total number of pages using (using <strong>getContent()</strong>,<strong>getNumber()</strong>,<strong>getTotalPages()</strong> from the object )</p>\n\n<p>Save these values in your response class and send this class back to the client </p>\n\n<pre><code>public class PageResponse {\n    private List&lt;{NameOfModelClass}&gt; content;\n    private int currentPage;\n    private int totalPages;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23257203,"reputation":49,"user_id":17344072,"display_name":"M. Muhammadsodiq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701696072,"creation_date":1701696072,"answer_id":77599754,"question_id":51097962,"body_markdown":"Maybe it is too late to answer but here is how I do.\r\n\r\n***Repository***\r\n\r\n    Page&lt;Student&gt; findAll(Pageable pageable)\r\n\r\n***Service***\r\n\r\n    Pageable pageable = PageRequest.of(filter.getPage(), filter.getSize());\r\n    Page&lt;Student&gt; all = studentRepository.findAll(pageable);\r\n\r\n    int size = all.getSize();\r\n    long totalElements = all.getTotalElements();\r\n    int totalPages = all.getTotalPages();\r\n    List&lt;Student&gt; content = all.getContent();\r\n\r\n***Imports***\r\n\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.PageRequest;\r\n    import org.springframework.data.domain.Pageable;\r\n    \r\nMaybe it not a direct answer but for someone it is useful)","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>Maybe it is too late to answer but here is how I do.</p>\n<p><em><strong>Repository</strong></em></p>\n<pre><code>Page&lt;Student&gt; findAll(Pageable pageable)\n</code></pre>\n<p><em><strong>Service</strong></em></p>\n<pre><code>Pageable pageable = PageRequest.of(filter.getPage(), filter.getSize());\nPage&lt;Student&gt; all = studentRepository.findAll(pageable);\n\nint size = all.getSize();\nlong totalElements = all.getTotalElements();\nint totalPages = all.getTotalPages();\nList&lt;Student&gt; content = all.getContent();\n</code></pre>\n<p><em><strong>Imports</strong></em></p>\n<pre><code>import org.springframework.data.domain.Page;\nimport org.springframework.data.domain.PageRequest;\nimport org.springframework.data.domain.Pageable;\n</code></pre>\n<p>Maybe it not a direct answer but for someone it is useful)</p>\n"}],"owner":{"account_id":1835772,"reputation":651,"user_id":1666213,"display_name":"MehmanBashirov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4406,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51099001,"answer_count":3,"score":3,"last_activity_date":1701696072,"creation_date":1530262670,"question_id":51097962,"body_markdown":"I need your advice for paginations.\r\n\r\nMy table data is very long.Therefor I use pagination and every pag action İ call data from database&lt;br/&gt;\r\nI have a rest method in spring-boot application.&lt;br/&gt;\r\nThis method could get data from database and everthing is ok.&lt;br/&gt;\r\nI need pag count(all count of my data/ perPage count).&lt;br/&gt;\r\nI can find this count from db.&lt;br/&gt;\r\nI must write two seperate method for allCount and the below method?&lt;br/&gt;\r\n \r\nHow can I use ideal way for pagination in Spring boot?\r\n \r\n\r\n      @CrossOrigin(maxAge = 3600)\r\n        @RequestMapping(value = &quot;/payment/all&quot;, method = RequestMethod.POST)\r\n        public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(@RequestBody PaginationModel pag){\r\n            try {\r\n                System.out.println(pag.getPageno()+ &quot; &quot; + pag.getRecords());\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            Pageable pageable = new PageRequest(pag.getPageno(), pag.getRecords());\r\n            System.out.println(&quot;here&quot;+notaryPaymentRepository.findAll(pageable).getContent().size());\r\n            return notaryPaymentRepository.findAll(pageable).getContent();\r\n        }\r\n\r\n\r\n\r\n\r\n    public interface NotaryPaymentRepository  extends JpaRepository&lt;NotaryPaymentInformationEntity,Integer&gt;{\r\n    \r\n    \r\n    }\r\n\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KJ6VQ.png","title":"How can I choose ideal way for pagination in Spring boot?","body":"<p>I need your advice for paginations.</p>\n\n<p>My table data is very long.Therefor I use pagination and every pag action İ call data from database<br/>\nI have a rest method in spring-boot application.<br/>\nThis method could get data from database and everthing is ok.<br/>\nI need pag count(all count of my data/ perPage count).<br/>\nI can find this count from db.<br/>\nI must write two seperate method for allCount and the below method?<br/></p>\n\n<p>How can I use ideal way for pagination in Spring boot?</p>\n\n<pre><code>  @CrossOrigin(maxAge = 3600)\n    @RequestMapping(value = \"/payment/all\", method = RequestMethod.POST)\n    public List&lt;NotaryPaymentInformationEntity&gt; getAllProduct(@RequestBody PaginationModel pag){\n        try {\n            System.out.println(pag.getPageno()+ \" \" + pag.getRecords());\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        Pageable pageable = new PageRequest(pag.getPageno(), pag.getRecords());\n        System.out.println(\"here\"+notaryPaymentRepository.findAll(pageable).getContent().size());\n        return notaryPaymentRepository.findAll(pageable).getContent();\n    }\n\n\n\n\npublic interface NotaryPaymentRepository  extends JpaRepository&lt;NotaryPaymentInformationEntity,Integer&gt;{\n\n\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KJ6VQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KJ6VQ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-lambda","jmeter"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701696068,"creation_date":1701696068,"answer_id":77599751,"question_id":77599532,"body_markdown":"Looking into the [function which loads the properties][1]:\r\n\r\n    public static void loadJMeterProperties(String file) {\r\n        Properties p = new Properties(System.getProperties());\r\n        try (InputStream is = new FileInputStream(new File(file))) {\r\n            p.load(is);\r\n        } catch (IOException e) {\r\n            try (InputStream is = ClassLoader.getSystemResourceAsStream(\r\n                        &quot;org/apache/jmeter/jmeter.properties&quot;)) { // $NON-NLS-1$\r\n                if (is == null) {\r\n                    throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\r\n                }\r\n                p.load(is);\r\n            } catch (IOException ex) {\r\n                throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\r\n            }\r\n        }\r\n        appProperties = p;\r\n    }\r\n\r\nyou&#39;re getting an [IOException][2] so the file is most probably not there. \r\n\r\nYou need to have a **full JMeter installation** in order to be able to run tests your way. I&#39;m not sure whether it&#39;s a good idea to do this in Lambda in general, but if you really want this - you can consider running your test in a different way, for example:\r\n\r\n - [JMeter Maven Plugin][3] \r\n - [JMeter DSL][4]\r\n\r\nboth are capable of downloading/configuring a JMeter instance and executing a test plan.  \r\n\r\n\r\n  [1]: https://github.com/apache/jmeter/blob/rel/v5.6.2/src/core/src/main/java/org/apache/jmeter/util/JMeterUtils.java#L216-L232\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html\r\n  [3]: https://github.com/jmeter-maven-plugin/jmeter-maven-plugin\r\n  [4]: https://www.blazemeter.com/blog/jmeter-dsl","title":"java.lang.RuntimeException: Could not read JMeter properties file","body":"<p>Looking into the <a href=\"https://github.com/apache/jmeter/blob/rel/v5.6.2/src/core/src/main/java/org/apache/jmeter/util/JMeterUtils.java#L216-L232\" rel=\"nofollow noreferrer\">function which loads the properties</a>:</p>\n<pre><code>public static void loadJMeterProperties(String file) {\n    Properties p = new Properties(System.getProperties());\n    try (InputStream is = new FileInputStream(new File(file))) {\n        p.load(is);\n    } catch (IOException e) {\n        try (InputStream is = ClassLoader.getSystemResourceAsStream(\n                    &quot;org/apache/jmeter/jmeter.properties&quot;)) { // $NON-NLS-1$\n            if (is == null) {\n                throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\n            }\n            p.load(is);\n        } catch (IOException ex) {\n            throw new RuntimeException(&quot;Could not read JMeter properties file:&quot; + file);\n        }\n    }\n    appProperties = p;\n}\n</code></pre>\n<p>you're getting an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html\" rel=\"nofollow noreferrer\">IOException</a> so the file is most probably not there.</p>\n<p>You need to have a <strong>full JMeter installation</strong> in order to be able to run tests your way. I'm not sure whether it's a good idea to do this in Lambda in general, but if you really want this - you can consider running your test in a different way, for example:</p>\n<ul>\n<li><a href=\"https://github.com/jmeter-maven-plugin/jmeter-maven-plugin\" rel=\"nofollow noreferrer\">JMeter Maven Plugin</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/jmeter-dsl\" rel=\"nofollow noreferrer\">JMeter DSL</a></li>\n</ul>\n<p>both are capable of downloading/configuring a JMeter instance and executing a test plan.</p>\n"}],"owner":{"account_id":25523969,"reputation":25,"user_id":19313367,"display_name":"Yiğit G&#252;neş"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599751,"answer_count":1,"score":0,"last_activity_date":1701696068,"creation_date":1701693786,"question_id":77599532,"body_markdown":"I am currently trying to develop an AWS lambda function that fetches a Jmeter file from github and executes it. I built a Java jar file and uploaded a S3 bucket. The lambda pulls the code from this bucket. I tried to execute it but I received the error below:\r\n```\r\nJmeter execution function started.\r\njava.lang.RuntimeException: Could not read JMeter properties file:/tmp/var/task/jmeter_properties/bin/jmeter.properties\r\nat org.apache.jmeter.util.JMeterUtils.loadJMeterProperties(JMeterUtils.java:218)\r\nat sta.JmeterUtility.executeTest(JmeterUtility.java:23)\r\nat sta.App.executeProcess(App.java:54)\r\nat sta.App.handleRequest(App.java:42)\r\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source)\r\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoMethodRequestHandler.handleRequest(EventHandlerLoader.java:285)\r\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoHandlerAsStreamHandler.handleRequest(EventHandlerLoader.java:202)\r\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$2.call(EventHandlerLoader.java:905)\r\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:245)\r\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:197)\r\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.main(AWSLambda.java:187)\r\nJMeter execution finished\r\n```\r\nI tried to upload this jmeter.properties file to the S3 bucket too and give necessary access to read it, also tried to put it under the resource but regardless of its location, I received this error.\r\n\r\nMy Java code that executes the JMeter:\r\n\r\n```\r\n\tprivate static final String TMP_FOLDER = &quot;/tmp&quot;;\r\n\tprivate static final String WORKING_FOLDER = &quot;/tmp/var/task&quot;;\r\n\r\n\tvoid executeTest(TriggerData event) throws IOException {\r\n\t\tSystem.out.println(&quot;Jmeter execution function started.&quot;);\r\n\r\n\t\t// Initialize JMeter engine\r\n\t\tStandardJMeterEngine jmeter = new StandardJMeterEngine();\r\n\t\tJMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\r\n\t\tJMeterUtils.setJMeterHome(WORKING_FOLDER + &quot;/jmeter_properties&quot;);\r\n\t\tSaveService.loadProperties();\r\n\r\n\t\t// you can comment this line out to see extra log messages of i.e. DEBUG level\r\n\t\tJMeterUtils.initLogging();\r\n\r\n\t\t// Load existing .jmx Test Plan\r\n\t\tHashTree testPlanTree = SaveService\r\n\t\t\t\t.loadTree(new File(TMP_FOLDER + &quot;/&quot; + event.getJmeterTest() + &quot;.jmx&quot;));\r\n\r\n\t\t// Run Test Plan\r\n\t\tjmeter.configure(testPlanTree);\r\n\t\tjmeter.run();\r\n\t\tjmeter.exit();\r\n\r\n\t\tSystem.out.println(&quot;jmeter completed for Service: &quot; + event.getServiceName() + &quot; - &quot; + event.getEnv()+&quot;_&quot; + event.getRegion() + &quot; and stopped&quot;);\r\n\t}\r\n```\r\nWhen I trace the code it always stucks on:\r\n```\r\nJMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\r\n```\r\n\r\nDo you have any idea about the problem? Thanks in advance.","title":"java.lang.RuntimeException: Could not read JMeter properties file","body":"<p>I am currently trying to develop an AWS lambda function that fetches a Jmeter file from github and executes it. I built a Java jar file and uploaded a S3 bucket. The lambda pulls the code from this bucket. I tried to execute it but I received the error below:</p>\n<pre><code>Jmeter execution function started.\njava.lang.RuntimeException: Could not read JMeter properties file:/tmp/var/task/jmeter_properties/bin/jmeter.properties\nat org.apache.jmeter.util.JMeterUtils.loadJMeterProperties(JMeterUtils.java:218)\nat sta.JmeterUtility.executeTest(JmeterUtility.java:23)\nat sta.App.executeProcess(App.java:54)\nat sta.App.handleRequest(App.java:42)\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(Unknown Source)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoMethodRequestHandler.handleRequest(EventHandlerLoader.java:285)\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$PojoHandlerAsStreamHandler.handleRequest(EventHandlerLoader.java:202)\nat com.amazonaws.services.lambda.runtime.api.client.EventHandlerLoader$2.call(EventHandlerLoader.java:905)\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:245)\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.startRuntime(AWSLambda.java:197)\nat com.amazonaws.services.lambda.runtime.api.client.AWSLambda.main(AWSLambda.java:187)\nJMeter execution finished\n</code></pre>\n<p>I tried to upload this jmeter.properties file to the S3 bucket too and give necessary access to read it, also tried to put it under the resource but regardless of its location, I received this error.</p>\n<p>My Java code that executes the JMeter:</p>\n<pre><code>    private static final String TMP_FOLDER = &quot;/tmp&quot;;\n    private static final String WORKING_FOLDER = &quot;/tmp/var/task&quot;;\n\n    void executeTest(TriggerData event) throws IOException {\n        System.out.println(&quot;Jmeter execution function started.&quot;);\n\n        // Initialize JMeter engine\n        StandardJMeterEngine jmeter = new StandardJMeterEngine();\n        JMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\n        JMeterUtils.setJMeterHome(WORKING_FOLDER + &quot;/jmeter_properties&quot;);\n        SaveService.loadProperties();\n\n        // you can comment this line out to see extra log messages of i.e. DEBUG level\n        JMeterUtils.initLogging();\n\n        // Load existing .jmx Test Plan\n        HashTree testPlanTree = SaveService\n                .loadTree(new File(TMP_FOLDER + &quot;/&quot; + event.getJmeterTest() + &quot;.jmx&quot;));\n\n        // Run Test Plan\n        jmeter.configure(testPlanTree);\n        jmeter.run();\n        jmeter.exit();\n\n        System.out.println(&quot;jmeter completed for Service: &quot; + event.getServiceName() + &quot; - &quot; + event.getEnv()+&quot;_&quot; + event.getRegion() + &quot; and stopped&quot;);\n    }\n</code></pre>\n<p>When I trace the code it always stucks on:</p>\n<pre><code>JMeterUtils.loadJMeterProperties(WORKING_FOLDER + &quot;/jmeter_properties/bin/jmeter.properties&quot;);\n</code></pre>\n<p>Do you have any idea about the problem? Thanks in advance.</p>\n"},{"tags":["java","rdf","rml-rdf"],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701696065,"creation_date":1701275195,"question_id":77572932,"body_markdown":"When using [Carml](https://github.com/carml/carml), I can define a namespace prefix in the [RML](https://rml.io/specs/rml/) file with:\r\n\r\n    carml:declaresNamespace [\r\n          carml:namespacePrefix &quot;tei&quot;;\r\n          carml:namespaceName &quot;http://www.tei-c.org/ns/1.0&quot;;\r\n    ];\r\n\r\nReading the [RmlMapper](https://github.com/RMLio/rmlmapper-java) Github issues it seems that there is no equivalent (yet) in RmlMapper.\r\n\r\nHow to set a namespace prefix programmatically with RmlMapper?\r\n\r\n**Note:**\r\n\r\nIn [XMLRecordFactory](https://github.com/RMLio/rmlmapper-java/blob/master/src/main/java/be/ugent/rml/records/XMLRecordFactory.java), we see:           \r\n\r\n    // Extract and register existing source namespaces into the XPath compiler\r\n    SaxNamespaceResolver.registerNamespaces(compiler, document);\r\n\r\nAnd indeed, if I change my source XML from:\r\n\r\n    &lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\r\n\r\nto\r\n\r\n    &lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xmlns:tei=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\r\n\r\nThe namespace prefix is correctly defined for XPath. But I don&#39;t want to change all XML source files.","title":"How to set a namespace prefix programmatically with RmlMapper?","body":"<p>When using <a href=\"https://github.com/carml/carml\" rel=\"nofollow noreferrer\">Carml</a>, I can define a namespace prefix in the <a href=\"https://rml.io/specs/rml/\" rel=\"nofollow noreferrer\">RML</a> file with:</p>\n<pre><code>carml:declaresNamespace [\n      carml:namespacePrefix &quot;tei&quot;;\n      carml:namespaceName &quot;http://www.tei-c.org/ns/1.0&quot;;\n];\n</code></pre>\n<p>Reading the <a href=\"https://github.com/RMLio/rmlmapper-java\" rel=\"nofollow noreferrer\">RmlMapper</a> Github issues it seems that there is no equivalent (yet) in RmlMapper.</p>\n<p>How to set a namespace prefix programmatically with RmlMapper?</p>\n<p><strong>Note:</strong></p>\n<p>In <a href=\"https://github.com/RMLio/rmlmapper-java/blob/master/src/main/java/be/ugent/rml/records/XMLRecordFactory.java\" rel=\"nofollow noreferrer\">XMLRecordFactory</a>, we see:</p>\n<pre><code>// Extract and register existing source namespaces into the XPath compiler\nSaxNamespaceResolver.registerNamespaces(compiler, document);\n</code></pre>\n<p>And indeed, if I change my source XML from:</p>\n<pre><code>&lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre><code>&lt;TEI xmlns=&quot;http://www.tei-c.org/ns/1.0&quot; xmlns:tei=&quot;http://www.tei-c.org/ns/1.0&quot; xml:id=&quot;article_001&quot;&gt;\n</code></pre>\n<p>The namespace prefix is correctly defined for XPath. But I don't want to change all XML source files.</p>\n"},{"tags":["java","kotlin","android-12","talkback","magnification"],"comments":[{"owner":{"account_id":24305145,"reputation":640,"user_id":18248018,"display_name":"Quack E. Duck"},"score":0,"creation_date":1701800257,"post_id":77599736,"comment_id":136819421,"body_markdown":"Can you add the text excerpt which is having this issue to your question? It&#39;s hard to tell what the problem could be without being able to test it on the same data.","body":"Can you add the text excerpt which is having this issue to your question? It&#39;s hard to tell what the problem could be without being able to test it on the same data."}],"owner":{"account_id":30062747,"reputation":1,"user_id":23038530,"display_name":"K Maheshwara"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701695970,"creation_date":1701695970,"question_id":77599736,"body_markdown":"The talkback reading extra comma and text magnifcation is magnifying extra comma character even if the comma is not declared in text in Android 12\r\nCan I get some suggestions for this query\r\n\r\nTried by debugging and conformed that text does not have any comma, but the accessibility is printing comma","title":"Talkback reading extra comma in Android 12","body":"<p>The talkback reading extra comma and text magnifcation is magnifying extra comma character even if the comma is not declared in text in Android 12\nCan I get some suggestions for this query</p>\n<p>Tried by debugging and conformed that text does not have any comma, but the accessibility is printing comma</p>\n"},{"tags":["java","memory-management","neural-network","deeplearning4j","nd4j"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701474145,"post_id":77587597,"comment_id":136784409,"body_markdown":"What&#39;s the shape of `inputData`? Are you using batches? If so, what&#39;s the batch size? Also, what&#39;s the point of convolutional layers with a 1x1 kernel?","body":"What&#39;s the shape of <code>inputData</code>? Are you using batches? If so, what&#39;s the batch size? Also, what&#39;s the point of convolutional layers with a 1x1 kernel?"},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701478564,"post_id":77587597,"comment_id":136784760,"body_markdown":"@dan1st i tried kernel of 3x3 because i thought that was a standard plus or minus, but it changed the data shape, inputData shape is 1 channel, 42 batchsize, hight 6 width 7","body":"@dan1st i tried kernel of 3x3 because i thought that was a standard plus or minus, but it changed the data shape, inputData shape is 1 channel, 42 batchsize, hight 6 width 7"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701502862,"post_id":77587597,"comment_id":136786079,"body_markdown":"To be honest, I have no idea how your code is supposed to run since the number of output nodes of a layer should match the number of input nodes of the next layer. Anyways, you need to expext each dense layer to store around twice the number of input nodes times the number of output nodes variables","body":"To be honest, I have no idea how your code is supposed to run since the number of output nodes of a layer should match the number of input nodes of the next layer. Anyways, you need to expext each dense layer to store around twice the number of input nodes times the number of output nodes variables"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701503243,"post_id":77587597,"comment_id":136786111,"body_markdown":"oh and also multiplied with the batch size - for convolution layers, you don&#39;t need to store that much information. Oh and forget the &#39;twice&#39;, that&#39;s for training and not for inference.","body":"oh and also multiplied with the batch size - for convolution layers, you don&#39;t need to store that much information. Oh and forget the &#39;twice&#39;, that&#39;s for training and not for inference."},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701522946,"post_id":77587597,"comment_id":136787679,"body_markdown":"@dan1st I didn&#39;t see where my input didn&#39;t match the output, sorry i am obviously new to neural networks, but i&#39;ve tried to change my code a bit, if u can look at it or  if u can tell me where my input didn&#39;t match the output i would be very grateful, thank u in advance","body":"@dan1st I didn&#39;t see where my input didn&#39;t match the output, sorry i am obviously new to neural networks, but i&#39;ve tried to change my code a bit, if u can look at it or  if u can tell me where my input didn&#39;t match the output i would be very grateful, thank u in advance"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701554509,"post_id":77587597,"comment_id":136790952,"body_markdown":"`policy_output` seems to have `numOutputs` but the next(?) layer (`value_dense`) seems to have `numHiddenNodes` inputs. But I could have made a mistake reading it.","body":"<code>policy_output</code> seems to have <code>numOutputs</code> but the next(?) layer (<code>value_dense</code>) seems to have <code>numHiddenNodes</code> inputs. But I could have made a mistake reading it."},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701597301,"post_id":77587597,"comment_id":136793622,"body_markdown":"@dan1st no they are two separate outputs","body":"@dan1st no they are two separate outputs"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701601589,"post_id":77587597,"comment_id":136793926,"body_markdown":"I see. How much memory is needed for training?","body":"I see. How much memory is needed for training?"},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701690974,"post_id":77587597,"comment_id":136802937,"body_markdown":"@dan1st i don&#39;t know really... i&#39;m trying to implement a version of alphazero, and also i have a problem of segmentation falt every 6 hours plus or minus, i am providing also the informations about the segmentation fault now in my question","body":"@dan1st i don&#39;t know really... i&#39;m trying to implement a version of alphazero, and also i have a problem of segmentation falt every 6 hours plus or minus, i am providing also the informations about the segmentation fault now in my question"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701691271,"post_id":77587597,"comment_id":136802989,"body_markdown":"Can you please try to reduce it to a [mcve]? Also, your &quot;time problem&quot; seems kind of expected - if you have expensive computations, it will take some time.","body":"Can you please try to reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Also, your &quot;time problem&quot; seems kind of expected - if you have expensive computations, it will take some time."},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701692933,"post_id":77587597,"comment_id":136803281,"body_markdown":"@dan1st i deleted some less important things, is it better?","body":"@dan1st i deleted some less important things, is it better?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701693089,"post_id":77587597,"comment_id":136803315,"body_markdown":"I meant that you should try to come up with the most simple possible code/model that others can run to reproduce your issue. Also, please only focus on one thing in your question (e.g. the segmentation fault or the high memory use)","body":"I meant that you should try to come up with the most simple possible code/model that others can run to reproduce your issue. Also, please only focus on one thing in your question (e.g. the segmentation fault or the high memory use)"},{"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"score":0,"creation_date":1701695564,"post_id":77587597,"comment_id":136803790,"body_markdown":"@dan1st, i deleted the error, but less than the model i am using and the function that cause the problem i think i can&#39;t provide if u want to reproduce the error, if u meant that it&#39; not enough then i am sorry, but please clarify what u would like me to provide, like: where i call the function or what","body":"@dan1st, i deleted the error, but less than the model i am using and the function that cause the problem i think i can&#39;t provide if u want to reproduce the error, if u meant that it&#39; not enough then i am sorry, but please clarify what u would like me to provide, like: where i call the function or what"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1701699786,"post_id":77587597,"comment_id":136804636,"body_markdown":"If it&#39;s possible for you, it might be helpful to create a smaller model so you still run into the issue (though probably at a smaller scale) (it&#39;s hard to find an issue when you can&#39;t reproduce it)","body":"If it&#39;s possible for you, it might be helpful to create a smaller model so you still run into the issue (though probably at a smaller scale) (it&#39;s hard to find an issue when you can&#39;t reproduce it)"}],"owner":{"account_id":27433070,"reputation":35,"user_id":20929406,"display_name":"Leonardo Rosati"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701695421,"creation_date":1701458349,"question_id":77587597,"body_markdown":"I&#39;m experiencing high memory usage issues when performing inference with a neural network model using Deeplearning4j. Despite reducing the number of hidden nodes, the memory consumption remains unexpectedly high.\r\n\r\nHere are the details of my setup:\r\n\r\n- Deeplearning4j version: deeplearning4j-core:1.0.0-M2\r\n- Backend: ND4J Backend CPU\r\n- Operating System: Mac\r\n- Java version: tried Java 15, Java 21\r\n\r\nThe model configuration is as follows:\r\n\r\n- Number of input nodes: 50\r\n- Number of hidden nodes: 420\r\n- Number of outputs: 7\r\n- Network depth: 10 layers\r\n\r\nThe issue occurs during the `output` method call, where I observe a memory usage of around 16.33 GB, which seems excessive for the model size. Here is the code snippet where the issue is observed:\r\n```java\r\nObject [] rollout (State stato){\r\n        INDArray p;\r\n        int v;\r\n        if (trained){\r\n            INDArray inputData = stato.toINDArray();\r\n            INDArray[] out;\r\n            out = model.output(inputData);\r\n            p = out[0];\r\n            v = out[1].getInt(0);\r\n        } else {\r\n            //si verifica quando i modelli non sono ancora addestrati, scelgo quindi un valore a caso e assegno una probabilit&#224; massima a ogni nodo figlio\r\n            Random r = new Random();\r\n            p = Nd4j.ones(Board.N).mul(Integer.MAX_VALUE);\r\n            v = Math.abs(r.nextInt()) % MAXREWWARD;\r\n        }\r\n        Object[] out = {p,v};\r\n        return out;\r\n    }\r\n```\r\nhere is my neural network configuration, i am trying to reproduce a version of alphazero\r\n```java\r\n DeepLearning (int numInputs, int numOutputs, String name, int M, int  N, int X, int nndepth) throws IOException {\r\n        this.numInputs = numInputs;\r\n        this.numHiddenNodes = M*N*10;\r\n        this.numOutputs = numOutputs;\r\n        DeepLearning.M = M;\r\n        DeepLearning.N = N;\r\n        DeepLearning.X = X;\r\n        this.name = name;\r\n        File file = new File(&quot;./model&quot; +  name + M + &quot;.&quot; + N + &quot;.&quot; + X + &quot;.&quot; + &quot;.zip&quot;);\r\n        if (file.exists()){\r\n            trained = true;\r\n            this.model = ComputationGraph.load(file , true);\r\n        } else {\r\n            ComputationGraphConfiguration.GraphBuilder graphBuilder = new NeuralNetConfiguration.Builder()\r\n                    .seed(System.currentTimeMillis())\r\n                    .weightInit(WeightInit.RELU)\r\n                    .l2(1e-4)\r\n                    .updater(new Adam(learningRate))\r\n                    .graphBuilder();\r\n            graphBuilder.addInputs(&quot;input&quot;)\r\n                    .setInputTypes(InputType.feedForward(numInputs));\r\n            String lastLayer = &quot;input&quot;;\r\n            for (int i = 0; i &lt; nndepth; i++) {\r\n                graphBuilder.addLayer(&quot;torso_&quot; + i,\r\n                        new DenseLayer.Builder()\r\n                                .nIn(i == 0 ? numInputs : numHiddenNodes)\r\n                                .nOut(numHiddenNodes)\r\n                                .activation(Activation.RELU)\r\n                                .build(),\r\n                        lastLayer);\r\n                lastLayer = &quot;torso_&quot; + i;\r\n            }\r\n\r\n            graphBuilder.addLayer(&quot;policy_dense&quot;,\r\n                    new DenseLayer.Builder()\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(numHiddenNodes)\r\n                            .activation(Activation.RELU)\r\n                            .build(),\r\n                    lastLayer);\r\n            graphBuilder.addLayer(&quot;policy_output&quot;,\r\n                    new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(numOutputs)\r\n                            .activation(Activation.SOFTMAX)\r\n                            .build(),\r\n                    &quot;policy_dense&quot;);\r\n\r\n            graphBuilder.addLayer(&quot;value_dense&quot;,\r\n                    new DenseLayer.Builder()\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(numHiddenNodes)\r\n                            .activation(Activation.RELU)\r\n                            .build(),\r\n                    lastLayer);\r\n            graphBuilder.addLayer(&quot;value_output&quot;,\r\n                    new OutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n                            .nIn(numHiddenNodes)\r\n                            .nOut(1)\r\n                            .activation(Activation.IDENTITY)\r\n                            .build(),\r\n                    &quot;value_dense&quot;);\r\n\r\n            graphBuilder.setOutputs(&quot;policy_output&quot;, &quot;value_output&quot;);\r\n\r\n            ComputationGraphConfiguration conf = graphBuilder.build();\r\n            model = new ComputationGraph(conf);\r\n        }\r\n        model.init();\r\n        System.out.println(&quot;Numero parametri: &quot; + model.numParams());\r\n        this.myReplay = new ReplayBuffer();\r\n    }\r\n\r\n    private String addDenseLayer(ComputationGraphConfiguration.GraphBuilder graphBuilder, String inputLayer, String layerName, int nIn, int nOut, Activation activation) {\r\n        graphBuilder.addLayer(layerName, new DenseLayer.Builder()\r\n                .nIn(nIn)\r\n                .nOut(nOut)\r\n                .activation(activation)\r\n                .build(), inputLayer);\r\n        return layerName;\r\n    }\r\n```\r\nI have tried the following troubleshooting steps without success:\r\n\r\nEnsuring the use of workspaces to manage memory efficiently.\r\nUsing in-place operations to reduce memory allocation.\r\nReducing batch size during inference.\r\nChecking for memory leaks and ensuring objects are being garbage collected.\r\nThe profiler indicates that most of the computation time is spent in the output call of the ComputationGraph.\r\n\r\nHere&#39;s the memory profile screenshot: \r\n[![memory usage][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/aoNdO.png\r\n  [2]: https://i.stack.imgur.com/Ajatf.png\r\n  [3]: https://i.stack.imgur.com/L2xSS.png\r\n  [4]: https://i.stack.imgur.com/8l6i7.png","title":"High Memory Usage with Deeplearning4j during Model Inference","body":"<p>I'm experiencing high memory usage issues when performing inference with a neural network model using Deeplearning4j. Despite reducing the number of hidden nodes, the memory consumption remains unexpectedly high.</p>\n<p>Here are the details of my setup:</p>\n<ul>\n<li>Deeplearning4j version: deeplearning4j-core:1.0.0-M2</li>\n<li>Backend: ND4J Backend CPU</li>\n<li>Operating System: Mac</li>\n<li>Java version: tried Java 15, Java 21</li>\n</ul>\n<p>The model configuration is as follows:</p>\n<ul>\n<li>Number of input nodes: 50</li>\n<li>Number of hidden nodes: 420</li>\n<li>Number of outputs: 7</li>\n<li>Network depth: 10 layers</li>\n</ul>\n<p>The issue occurs during the <code>output</code> method call, where I observe a memory usage of around 16.33 GB, which seems excessive for the model size. Here is the code snippet where the issue is observed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object [] rollout (State stato){\n        INDArray p;\n        int v;\n        if (trained){\n            INDArray inputData = stato.toINDArray();\n            INDArray[] out;\n            out = model.output(inputData);\n            p = out[0];\n            v = out[1].getInt(0);\n        } else {\n            //si verifica quando i modelli non sono ancora addestrati, scelgo quindi un valore a caso e assegno una probabilità massima a ogni nodo figlio\n            Random r = new Random();\n            p = Nd4j.ones(Board.N).mul(Integer.MAX_VALUE);\n            v = Math.abs(r.nextInt()) % MAXREWWARD;\n        }\n        Object[] out = {p,v};\n        return out;\n    }\n</code></pre>\n<p>here is my neural network configuration, i am trying to reproduce a version of alphazero</p>\n<pre class=\"lang-java prettyprint-override\"><code> DeepLearning (int numInputs, int numOutputs, String name, int M, int  N, int X, int nndepth) throws IOException {\n        this.numInputs = numInputs;\n        this.numHiddenNodes = M*N*10;\n        this.numOutputs = numOutputs;\n        DeepLearning.M = M;\n        DeepLearning.N = N;\n        DeepLearning.X = X;\n        this.name = name;\n        File file = new File(&quot;./model&quot; +  name + M + &quot;.&quot; + N + &quot;.&quot; + X + &quot;.&quot; + &quot;.zip&quot;);\n        if (file.exists()){\n            trained = true;\n            this.model = ComputationGraph.load(file , true);\n        } else {\n            ComputationGraphConfiguration.GraphBuilder graphBuilder = new NeuralNetConfiguration.Builder()\n                    .seed(System.currentTimeMillis())\n                    .weightInit(WeightInit.RELU)\n                    .l2(1e-4)\n                    .updater(new Adam(learningRate))\n                    .graphBuilder();\n            graphBuilder.addInputs(&quot;input&quot;)\n                    .setInputTypes(InputType.feedForward(numInputs));\n            String lastLayer = &quot;input&quot;;\n            for (int i = 0; i &lt; nndepth; i++) {\n                graphBuilder.addLayer(&quot;torso_&quot; + i,\n                        new DenseLayer.Builder()\n                                .nIn(i == 0 ? numInputs : numHiddenNodes)\n                                .nOut(numHiddenNodes)\n                                .activation(Activation.RELU)\n                                .build(),\n                        lastLayer);\n                lastLayer = &quot;torso_&quot; + i;\n            }\n\n            graphBuilder.addLayer(&quot;policy_dense&quot;,\n                    new DenseLayer.Builder()\n                            .nIn(numHiddenNodes)\n                            .nOut(numHiddenNodes)\n                            .activation(Activation.RELU)\n                            .build(),\n                    lastLayer);\n            graphBuilder.addLayer(&quot;policy_output&quot;,\n                    new OutputLayer.Builder(LossFunctions.LossFunction.NEGATIVELOGLIKELIHOOD)\n                            .nIn(numHiddenNodes)\n                            .nOut(numOutputs)\n                            .activation(Activation.SOFTMAX)\n                            .build(),\n                    &quot;policy_dense&quot;);\n\n            graphBuilder.addLayer(&quot;value_dense&quot;,\n                    new DenseLayer.Builder()\n                            .nIn(numHiddenNodes)\n                            .nOut(numHiddenNodes)\n                            .activation(Activation.RELU)\n                            .build(),\n                    lastLayer);\n            graphBuilder.addLayer(&quot;value_output&quot;,\n                    new OutputLayer.Builder(LossFunctions.LossFunction.MSE)\n                            .nIn(numHiddenNodes)\n                            .nOut(1)\n                            .activation(Activation.IDENTITY)\n                            .build(),\n                    &quot;value_dense&quot;);\n\n            graphBuilder.setOutputs(&quot;policy_output&quot;, &quot;value_output&quot;);\n\n            ComputationGraphConfiguration conf = graphBuilder.build();\n            model = new ComputationGraph(conf);\n        }\n        model.init();\n        System.out.println(&quot;Numero parametri: &quot; + model.numParams());\n        this.myReplay = new ReplayBuffer();\n    }\n\n    private String addDenseLayer(ComputationGraphConfiguration.GraphBuilder graphBuilder, String inputLayer, String layerName, int nIn, int nOut, Activation activation) {\n        graphBuilder.addLayer(layerName, new DenseLayer.Builder()\n                .nIn(nIn)\n                .nOut(nOut)\n                .activation(activation)\n                .build(), inputLayer);\n        return layerName;\n    }\n</code></pre>\n<p>I have tried the following troubleshooting steps without success:</p>\n<p>Ensuring the use of workspaces to manage memory efficiently.\nUsing in-place operations to reduce memory allocation.\nReducing batch size during inference.\nChecking for memory leaks and ensuring objects are being garbage collected.\nThe profiler indicates that most of the computation time is spent in the output call of the ComputationGraph.</p>\n<p>Here's the memory profile screenshot:\n<a href=\"https://i.stack.imgur.com/aoNdO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aoNdO.png\" alt=\"memory usage\" /></a></p>\n"},{"tags":["java","spring","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":1,"creation_date":1701642961,"post_id":77596245,"comment_id":136798150,"body_markdown":"Your code works fine for me. Can you show us a list of request headers you&#39;re setting and can you try setting the log level of `org.springframework.security` to trace and show us the logs when you call the `/user/login` endpoint?","body":"Your code works fine for me. Can you show us a list of request headers you&#39;re setting and can you try setting the log level of <code>org.springframework.security</code> to trace and show us the logs when you call the <code>&#47;user&#47;login</code> endpoint?"}],"answers":[{"tags":[],"owner":{"account_id":11794960,"reputation":44,"user_id":8629878,"display_name":"Tripurari Singh"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701695401,"creation_date":1701693759,"answer_id":77599526,"question_id":77596245,"body_markdown":"Earlier I was also getting 401 for every request. Now it is working as expected, you can see my **SecurityConfig** code.\r\n\r\nYou can also see the spring-security doc as well.\r\n[https://docs.spring.io/spring-security/reference/servlet/authentication/index.html][1]\r\n\r\nThe problem is that with your requestMatcher() function endPoint as parameter. Please make sure the correct endpoint.\r\n\r\nI was also thinking about why my requestMatcher() function not working.\r\n\r\nInside the **application.properties**\r\nI set -&gt;  `server.servlet.context-path=/api`\r\n\r\ninside the **SecurityConfig class** -&gt;\r\n inside the **secuirtyFilterChain()** method -&gt;, I also code to allow the /login api to permit to without authorization but not working got 401\r\n\r\n    .requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n\r\nBut I read the logs carefully and then able to understand my endPoint is protected so that&#39;s why i was getting 401.\r\n\r\nI created another controller and then tested it was working and it was not inside the /api/.\r\n\r\nThen I commented the `server.servlet.context-path=/api` inside the **application.properties** file.\r\n\r\nAdded **@RequestMapping(&quot;/api&quot;)** for the AuthController to allow the path **/api/auth/**** then it works as expected.\r\n\r\n    package com.kanban.backend.controller;\r\n    \r\n    import com.kanban.backend.dto.LoginDto;\r\n    import com.kanban.backend.service.AuthService;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.security.access.prepost.PostAuthorize;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @CrossOrigin\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class AuthController {\r\n    \r\n        private final AuthService authService;\r\n    \r\n        public AuthController(AuthService authService) {\r\n            this.authService = authService;\r\n        }\r\n    \r\n        @PostMapping(&quot;/auth/login&quot;)\r\n        public ResponseEntity&lt;String&gt; login(@RequestBody LoginDto loginDto) {\r\n            System.out.println(&quot;AuthController::login&quot;);\r\n            String response = authService.login(loginDto);\r\n            return ResponseEntity.ok(response);\r\n        }\r\n    }\r\n\r\n\r\n\r\nAfter that if you will get the same problem, feel free ping.\r\n\r\n    package com.kanban.backend.config;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpMethod;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.Customizer;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig {\r\n    \r\n        @Bean\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\r\n            return configuration.getAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            http.csrf(AbstractHttpConfigurer::disable)\r\n                    .authorizeHttpRequests((authorize) -&gt; authorize\r\n                            .requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\r\n                            .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    ).httpBasic(Customizer.withDefaults());\r\n            return http.build();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/authentication/index.html","title":"Why am I getting 401 Unauthorized in my REST api when using permitAll() method in Spring Security?","body":"<p>Earlier I was also getting 401 for every request. Now it is working as expected, you can see my <strong>SecurityConfig</strong> code.</p>\n<p>You can also see the spring-security doc as well.\n<a href=\"https://docs.spring.io/spring-security/reference/servlet/authentication/index.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/reference/servlet/authentication/index.html</a></p>\n<p>The problem is that with your requestMatcher() function endPoint as parameter. Please make sure the correct endpoint.</p>\n<p>I was also thinking about why my requestMatcher() function not working.</p>\n<p>Inside the <strong>application.properties</strong>\nI set -&gt;  <code>server.servlet.context-path=/api</code></p>\n<p>inside the <strong>SecurityConfig class</strong> -&gt;\ninside the <strong>secuirtyFilterChain()</strong> method -&gt;, I also code to allow the /login api to permit to without authorization but not working got 401</p>\n<pre><code>.requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n</code></pre>\n<p>But I read the logs carefully and then able to understand my endPoint is protected so that's why i was getting 401.</p>\n<p>I created another controller and then tested it was working and it was not inside the /api/.</p>\n<p>Then I commented the <code>server.servlet.context-path=/api</code> inside the <strong>application.properties</strong> file.</p>\n<p>Added <strong>@RequestMapping(&quot;/api&quot;)</strong> for the AuthController to allow the path <strong>/api/auth/</strong>** then it works as expected.</p>\n<pre><code>package com.kanban.backend.controller;\n\nimport com.kanban.backend.dto.LoginDto;\nimport com.kanban.backend.service.AuthService;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.security.access.prepost.PostAuthorize;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@CrossOrigin\n@RequestMapping(&quot;/api&quot;)\npublic class AuthController {\n\n    private final AuthService authService;\n\n    public AuthController(AuthService authService) {\n        this.authService = authService;\n    }\n\n    @PostMapping(&quot;/auth/login&quot;)\n    public ResponseEntity&lt;String&gt; login(@RequestBody LoginDto loginDto) {\n        System.out.println(&quot;AuthController::login&quot;);\n        String response = authService.login(loginDto);\n        return ResponseEntity.ok(response);\n    }\n}\n</code></pre>\n<p>After that if you will get the same problem, feel free ping.</p>\n<pre><code>package com.kanban.backend.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configurers.AbstractHttpConfigurer;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration configuration) throws Exception {\n        return configuration.getAuthenticationManager();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        http.csrf(AbstractHttpConfigurer::disable)\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .requestMatchers(HttpMethod.GET, &quot;/api/**&quot;).permitAll()\n                        .requestMatchers(&quot;/api/auth/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                ).httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":15289746,"reputation":15,"user_id":11031613,"display_name":"Lorena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701752790,"answer_count":1,"score":-3,"last_activity_date":1701695401,"creation_date":1701638917,"question_id":77596245,"body_markdown":"Hello StackOverflow community. I am working on a Spring Boot 3 API which uses an http basic username and password login stored in a database. But when I post to the login url I got 401 unauthorized.\r\n\r\nI tried, just for debugging, using permitAll() on absolute all but it still throws 401 Unauthorized.\r\n\r\nCan you help me figure out what&#39;s wrong with my code? Here it is:\r\n\r\n    @Configuration\r\n    public class SecurityConfiguration {\r\n        \r\n        @Bean\r\n        PasswordEncoder passwordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        \r\n        @Bean\r\n        AuthenticationManager authenticationManager() {\r\n            DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n            authenticationProvider.setUserDetailsService(new AppUserDetailsService());\r\n            authenticationProvider.setPasswordEncoder(passwordEncoder());\r\n            return new ProviderManager(authenticationProvider);\r\n        }\r\n    \r\n        @Bean\r\n        SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n            return http.cors(cors -&gt; cors.disable())\r\n                        .csrf(csrf -&gt; csrf.disable())\r\n                        .authorizeHttpRequests(auth -&gt; \r\n                            auth.requestMatchers(&quot;/user/login&quot;).permitAll()\r\n                                .requestMatchers(&quot;/user/create&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                         )\r\n                        .httpBasic(Customizer.withDefaults())\r\n                        .build();\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why am I getting 401 Unauthorized in my REST api when using permitAll() method in Spring Security?","body":"<p>Hello StackOverflow community. I am working on a Spring Boot 3 API which uses an http basic username and password login stored in a database. But when I post to the login url I got 401 unauthorized.</p>\n<p>I tried, just for debugging, using permitAll() on absolute all but it still throws 401 Unauthorized.</p>\n<p>Can you help me figure out what's wrong with my code? Here it is:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    \n    @Bean\n    PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    AuthenticationManager authenticationManager() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(new AppUserDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return new ProviderManager(authenticationProvider);\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.cors(cors -&gt; cors.disable())\n                    .csrf(csrf -&gt; csrf.disable())\n                    .authorizeHttpRequests(auth -&gt; \n                        auth.requestMatchers(&quot;/user/login&quot;).permitAll()\n                            .requestMatchers(&quot;/user/create&quot;).hasAuthority(&quot;ADMIN&quot;)\n                     )\n                    .httpBasic(Customizer.withDefaults())\n                    .build();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1701693759,"post_id":77599457,"comment_id":136803455,"body_markdown":"If you put the files in the correct directories, and compile it the right way, your code compiles correctly.  (I tried.  It does.)","body":"If you put the files in the correct directories, and compile it the right way, your code compiles correctly.  (I tried.  It does.)"},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701694300,"post_id":77599457,"comment_id":136803547,"body_markdown":"i just tried to open the OOP folder directly in vs code and removing the package OOP lines and it works just fine i don&#39;t know why but it works but i would still like to know how to fix the original problem","body":"i just tried to open the OOP folder directly in vs code and removing the package OOP lines and it works just fine i don&#39;t know why but it works but i would still like to know how to fix the original problem"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701694427,"post_id":77599457,"comment_id":136803569,"body_markdown":"BTW: Take care of java naming conventions. Package names shoud be lower case","body":"BTW: Take care of java naming conventions. Package names shoud be lower case"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701694486,"post_id":77599457,"comment_id":136803578,"body_markdown":"You need to read about how packages work; see https://docs.oracle.com/javase/tutorial/java/package/managingfiles.html","body":"You need to read about how packages work; see <a href=\"https://docs.oracle.com/javase/tutorial/java/package/managingfiles.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/package/managingfiles.h&zwnj;&#8203;tml</a>"},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701694799,"post_id":77599457,"comment_id":136803639,"body_markdown":"it might be entirely because of the package OOP line if i remove it the file runs fine but shows red squiggly lines on top of the code but it runs fine","body":"it might be entirely because of the package OOP line if i remove it the file runs fine but shows red squiggly lines on top of the code but it runs fine"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701694871,"post_id":77599457,"comment_id":136803653,"body_markdown":"share the project structure please","body":"share the project structure please"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1701694903,"post_id":77599457,"comment_id":136803662,"body_markdown":"@AranyaDebKesh - Read the tutorial.  Just read it.  It will explain what you did wrong.","body":"@AranyaDebKesh - Read the tutorial.  Just read it.  It will explain what you did wrong."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701695810,"post_id":77599457,"comment_id":136803835,"body_markdown":"And don’t say you’ve tried everything. You haven’t. It’s just meaningless.","body":"And don’t say you’ve tried everything. You haven’t. It’s just meaningless."},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701696636,"post_id":77599457,"comment_id":136803967,"body_markdown":"believe me i read it but it doesn&#39;t answer my question when i use it my program shows those errors and when i remove it the program runs fine but it shows error that expected declaration but the program still runs","body":"believe me i read it but it doesn&#39;t answer my question when i use it my program shows those errors and when i remove it the program runs fine but it shows error that expected declaration but the program still runs"},{"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"score":0,"creation_date":1701696774,"post_id":77599457,"comment_id":136803995,"body_markdown":"the root folder is named java and inside it there is a folder called OOP and there are other files outside of OOP folder and inside OOP folder there are files User.java User.class and Library.java Library.class","body":"the root folder is named java and inside it there is a folder called OOP and there are other files outside of OOP folder and inside OOP folder there are files User.java User.class and Library.java Library.class"}],"owner":{"account_id":30062039,"reputation":1,"user_id":23037947,"display_name":"Aranya Deb Kesh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701693112,"answer_count":0,"score":0,"last_activity_date":1701695058,"creation_date":1701693007,"question_id":77599457,"body_markdown":"I&#39;m currently following a Java programming tutorial on FreeCodeCamp and encountered an issue while coding along. I&#39;m using Visual Studio Code with necessary extentions or at least i hope so. The error occurs when I run the Library class, and I&#39;m unable to resolve it.\r\nall the files are under a folder called OOP and only these files are present with respective class files\r\n\r\n```java \r\npackage OOP;\r\nimport java.time.LocalDate;\r\n\r\npublic class User {\r\n    public String name;\r\n    public LocalDate birthday;\r\n}\r\n```\r\nThis the first file in the OOP folder\r\n\r\n```java\r\npackage OOP;\r\nimport java.time.LocalDate;\r\n// import java.util.*;\r\n// import OOP.Users;\r\n\r\npublic class Library {\r\n    public static void main(String[] args) {\r\n\r\n        User youngerUser = new User();\r\n\r\n        youngerUser.name = &quot;User Junior&quot;;\r\n        youngerUser.birthday = LocalDate.parse(&quot;2007-01-31&quot;);\r\n\r\n        System.out.printf(&quot;%s was born back in %s&quot;, youngerUser.name, youngerUser.birthday.toString());\r\n    }\r\n}\r\n```\r\nThis is the second file\r\n\r\nThe error message I&#39;m receiving is:\r\n\r\n```\r\nLibrary.java:9: error: cannot find symbol\r\nUser youngerUser = new User();\r\n^\r\nsymbol:   class User\r\nlocation: class Library\r\nLibrary.java:9: error: cannot find symbol\r\nUser youngerUser = new User();\r\n                       ^\r\nsymbol:   class User\r\nlocation: class Library\r\n2 errors\r\n```\r\n\r\ni have tried everything but i cannot figure out how to fix it. the problem continues when i use cli for running or use code runner","title":"Java could not find symbol in OOP program","body":"<p>I'm currently following a Java programming tutorial on FreeCodeCamp and encountered an issue while coding along. I'm using Visual Studio Code with necessary extentions or at least i hope so. The error occurs when I run the Library class, and I'm unable to resolve it.\nall the files are under a folder called OOP and only these files are present with respective class files</p>\n<pre class=\"lang-java prettyprint-override\"><code>package OOP;\nimport java.time.LocalDate;\n\npublic class User {\n    public String name;\n    public LocalDate birthday;\n}\n</code></pre>\n<p>This the first file in the OOP folder</p>\n<pre class=\"lang-java prettyprint-override\"><code>package OOP;\nimport java.time.LocalDate;\n// import java.util.*;\n// import OOP.Users;\n\npublic class Library {\n    public static void main(String[] args) {\n\n        User youngerUser = new User();\n\n        youngerUser.name = &quot;User Junior&quot;;\n        youngerUser.birthday = LocalDate.parse(&quot;2007-01-31&quot;);\n\n        System.out.printf(&quot;%s was born back in %s&quot;, youngerUser.name, youngerUser.birthday.toString());\n    }\n}\n</code></pre>\n<p>This is the second file</p>\n<p>The error message I'm receiving is:</p>\n<pre><code>Library.java:9: error: cannot find symbol\nUser youngerUser = new User();\n^\nsymbol:   class User\nlocation: class Library\nLibrary.java:9: error: cannot find symbol\nUser youngerUser = new User();\n                       ^\nsymbol:   class User\nlocation: class Library\n2 errors\n</code></pre>\n<p>i have tried everything but i cannot figure out how to fix it. the problem continues when i use cli for running or use code runner</p>\n"},{"tags":["java","tomcat","authentication","unauthorized"],"comments":[{"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"score":0,"creation_date":1369144832,"post_id":16671858,"comment_id":23987943,"body_markdown":"Everything looks good to me . Can you try with only below role. &lt;user name=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui&quot; /&gt;","body":"Everything looks good to me . Can you try with only below role. &lt;user name=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui&quot; /&gt;"},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1515786271,"post_id":16671858,"comment_id":83448534,"body_markdown":"One ubernoob thing that got me... the sample &lt;user&gt; tags in tomcat-users.xml start in a commented block by default.. make sure to remove them from that. XD","body":"One ubernoob thing that got me... the sample &lt;user&gt; tags in tomcat-users.xml start in a commented block by default.. make sure to remove them from that. XD"}],"answers":[{"comments":[{"owner":{"account_id":6161573,"reputation":1408,"user_id":4803009,"accept_rate":100,"display_name":"Madona wambua"},"score":0,"creation_date":1434308394,"post_id":16672092,"comment_id":49711197,"body_markdown":"Having the same problem. It logged me in once but stopped, Every configuration is fine in my xml. Just confused.","body":"Having the same problem. It logged me in once but stopped, Every configuration is fine in my xml. Just confused."}],"tags":[],"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1369145150,"creation_date":1369145150,"answer_id":16672092,"question_id":16671858,"body_markdown":"Configuration looks fine for me . can you please try with below **tomacat-users.xml**.\r\n\r\n    &lt;tomcat-users&gt;\r\n\t  &lt;user name=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui&quot; /&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\nPlease restart the server after change.","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Configuration looks fine for me . can you please try with below <strong>tomacat-users.xml</strong>.</p>\n\n<pre><code>&lt;tomcat-users&gt;\n  &lt;user name=\"admin\" password=\"admin\" roles=\"admin-gui,manager-gui\" /&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n\n<p>Please restart the server after change.</p>\n"},{"comments":[{"owner":{"account_id":3112142,"reputation":474,"user_id":2633702,"display_name":"srinivas"},"score":4,"creation_date":1466080917,"post_id":23496855,"comment_id":63176271,"body_markdown":"As mentioned in below answer, it is must required to restart the server to reflect the credentials of user changes in tomcat-users.xml file.","body":"As mentioned in below answer, it is must required to restart the server to reflect the credentials of user changes in tomcat-users.xml file."},{"owner":{"account_id":2997273,"reputation":490,"user_id":2543557,"accept_rate":95,"display_name":"Adam"},"score":0,"creation_date":1499805082,"post_id":23496855,"comment_id":77062301,"body_markdown":"Restarting the service picked up the user name/pass changes for me.","body":"Restarting the service picked up the user name/pass changes for me."},{"owner":{"account_id":22929,"reputation":1492,"user_id":57033,"accept_rate":80,"display_name":"hello_earth"},"score":0,"creation_date":1504269560,"post_id":23496855,"comment_id":78961178,"body_markdown":"note also that in case of NetBeans + Tomcat integration the location of the configuration files not the default one : https://stackoverflow.com/questions/27591134/cant-access-manager-app-in-tomcat-8#27594468","body":"note also that in case of NetBeans + Tomcat integration the location of the configuration files not the default one : <a href=\"https://stackoverflow.com/questions/27591134/cant-access-manager-app-in-tomcat-8#27594468\" title=\"cant access manager app in tomcat 8%2327594468\">stackoverflow.com/questions/27591134/&hellip;</a>"},{"owner":{"account_id":4358691,"reputation":2969,"user_id":3556515,"accept_rate":50,"display_name":"XpressGeek"},"score":0,"creation_date":1588499835,"post_id":23496855,"comment_id":108914929,"body_markdown":"This is definitely the answer, change your username and and password. Try with another browser if you can&#39;t open &#39;Manage App&#39; tab","body":"This is definitely the answer, change your username and and password. Try with another browser if you can&#39;t open &#39;Manage App&#39; tab"}],"tags":[],"owner":{"account_id":120273,"reputation":2670,"user_id":312605,"accept_rate":87,"display_name":"aspdeepak"},"comment_count":4,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1399384771,"creation_date":1399384771,"answer_id":23496855,"question_id":16671858,"body_markdown":"From tailing **[tomcat-root]/logs/catalina.out**, I observed that you are using a locked username **&quot;admin&quot;**\r\n\r\n    06-May-2014 16:47:41.828 WARNING [http-nio-192.168.0.51-8080-exec-6] org.apache.catalina.realm.LockOutRealm.authenticate An attempt was made to authenticate the locked user &quot;admin&quot;\r\n\r\n\r\nYou should try with a better(non guessable) username.\r\n\r\n\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;user username=&quot;TomcatAdmin&quot; password=&quot;secpa55wd&quot; roles=&quot;manager-gui&quot;/&gt;\r\n\r\n\r\nThis should definitely work for you.","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>From tailing <strong>[tomcat-root]/logs/catalina.out</strong>, I observed that you are using a locked username <strong>\"admin\"</strong></p>\n\n<pre><code>06-May-2014 16:47:41.828 WARNING [http-nio-192.168.0.51-8080-exec-6] org.apache.catalina.realm.LockOutRealm.authenticate An attempt was made to authenticate the locked user \"admin\"\n</code></pre>\n\n<p>You should try with a better(non guessable) username.</p>\n\n<pre><code>&lt;role rolename=\"manager-gui\"/&gt;\n&lt;user username=\"TomcatAdmin\" password=\"secpa55wd\" roles=\"manager-gui\"/&gt;\n</code></pre>\n\n<p>This should definitely work for you.</p>\n"},{"tags":[],"owner":{"account_id":339751,"reputation":713,"user_id":669408,"display_name":"Marco Schoolenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446519336,"creation_date":1446519336,"answer_id":33490621,"question_id":16671858,"body_markdown":"Solutions above probably solved your problem.The locked user solution tipped me off on my issue.  \r\n\r\nSomething weird I noticed... Don&#39;t know how it happened. \r\n\r\nAfter installing a new tomcat7 I ended up with a &quot;tomcat-users.xml&quot; file owned by user root and group root. \r\n\r\nI found out because catalina.out contains a few lines like  &quot;javax.naming.NamingException: /var/lib/tomcat7/conf/tomcat-users.xml (Permission denied)&quot;\r\n\r\nAfter changing file ownership to user &quot;root&quot; &amp; group &quot;tomcat7&quot; fixed my login issue. \r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Solutions above probably solved your problem.The locked user solution tipped me off on my issue.  </p>\n\n<p>Something weird I noticed... Don't know how it happened. </p>\n\n<p>After installing a new tomcat7 I ended up with a \"tomcat-users.xml\" file owned by user root and group root. </p>\n\n<p>I found out because catalina.out contains a few lines like  \"javax.naming.NamingException: /var/lib/tomcat7/conf/tomcat-users.xml (Permission denied)\"</p>\n\n<p>After changing file ownership to user \"root\" &amp; group \"tomcat7\" fixed my login issue. </p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490642802,"creation_date":1490642802,"answer_id":43054838,"question_id":16671858,"body_markdown":"If you try any of the other Answers and then there is no difference, you may need to *clean your Tomcat* and then try again.  These are my clean commands (not sure how general they are):\r\n\r\n    rm -R $TOMCAT_HOME/work/Catalina/&lt;host&gt;/*\r\n    rm -rf $TOMCAT_HOME/webapps/&lt;app name&gt;\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>If you try any of the other Answers and then there is no difference, you may need to <em>clean your Tomcat</em> and then try again.  These are my clean commands (not sure how general they are):</p>\n\n<pre><code>rm -R $TOMCAT_HOME/work/Catalina/&lt;host&gt;/*\nrm -rf $TOMCAT_HOME/webapps/&lt;app name&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439324,"reputation":32505,"user_id":828193,"accept_rate":85,"display_name":"user000001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513438201,"creation_date":1513438201,"answer_id":47847181,"question_id":16671858,"body_markdown":"In my case the password had special characters, that needed to be XML encoded before being added to the `/opt/tomcat/conf/tomcat-users.xml` file.\r\n\r\nThe tool that I used for the encoding was https://coderstoolbox.net/string/#!encoding=xml&amp;action=encode&amp;charset=us_ascii\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>In my case the password had special characters, that needed to be XML encoded before being added to the <code>/opt/tomcat/conf/tomcat-users.xml</code> file.</p>\n\n<p>The tool that I used for the encoding was <a href=\"https://coderstoolbox.net/string/#!encoding=xml&amp;action=encode&amp;charset=us_ascii\" rel=\"nofollow noreferrer\">https://coderstoolbox.net/string/#!encoding=xml&amp;action=encode&amp;charset=us_ascii</a></p>\n"},{"tags":[],"owner":{"account_id":6965149,"reputation":31,"user_id":5343432,"display_name":"Travis Green"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521041423,"creation_date":1521041423,"answer_id":49281757,"question_id":16671858,"body_markdown":"Also verify that the tomcat-users.xml you are editing actually corresponds with the instance of Tomcat you are running.  If you have multiple installations, but only one running, make sure you are editing the file at the correct location.\r\n\r\nWhen you run startup.bat (or startup.sh), the script will output the CATALINA_* environmental variables.  If the paths do match the current working directory you are running from, it is a good bet that you have been editing the wrong tomcat-users.xml file.","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Also verify that the tomcat-users.xml you are editing actually corresponds with the instance of Tomcat you are running.  If you have multiple installations, but only one running, make sure you are editing the file at the correct location.</p>\n\n<p>When you run startup.bat (or startup.sh), the script will output the CATALINA_* environmental variables.  If the paths do match the current working directory you are running from, it is a good bet that you have been editing the wrong tomcat-users.xml file.</p>\n"},{"tags":[],"owner":{"account_id":7944129,"reputation":248,"user_id":5997148,"display_name":"hardik patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524031453,"creation_date":1524031453,"answer_id":49892274,"question_id":16671858,"body_markdown":"Check syntax and start-ending tag. i did stupid mistake when i started work on java. \r\nThis line was working for me.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;tomcat-users&gt;\r\n     &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n          &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n          &lt;role rolename=&quot;admin-script&quot;/&gt;\r\n          &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Check syntax and start-ending tag. i did stupid mistake when i started work on java. \nThis line was working for me.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;tomcat-users&gt;\n &lt;role rolename=\"manager-gui\"/&gt;\n      &lt;role rolename=\"manager-script\"/&gt;\n      &lt;role rolename=\"manager-jmx\"/&gt;\n      &lt;role rolename=\"manager-status\"/&gt;\n      &lt;role rolename=\"admin-gui\"/&gt;\n      &lt;role rolename=\"admin-script\"/&gt;\n      &lt;role rolename=\"manager-gui\"/&gt;\n&lt;user username=\"admin\" password=\"admin\" roles=\"manager-gui\"/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13814341,"reputation":3543,"user_id":9971280,"display_name":"Niroshan Ratnayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608819170,"creation_date":1606024525,"answer_id":64951094,"question_id":16671858,"body_markdown":"If you are using XAMPP follow the below steps\r\n\r\n1. Go to XAMPP and Click on Config infront of Tomcat\r\n\r\n      &lt;img src=&quot;https://i.stack.imgur.com/7W205.png&quot; width=&quot;450&quot; height=&quot;300&quot;&gt;\r\n\r\n2. Then select tomcat-users.xml in the popup\r\n\r\n3. And when it opens on an editor paste the following inside \r\ntomcat-users tags with your preferred password. Which will be as follows\r\n\r\n```\r\n&lt;tomcat-users&gt;\r\n&lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n&lt;user username=&quot;tomcat&quot; password=&quot;password&quot; roles=&quot;manager-gui&quot;/&gt;\r\n&lt;/tomcat-users&gt;\r\n```\r\n\r\n4. Then restart the tomcat server from XAMPP.\r\n\r\n5. And open the tomcat using the browser and you can give the user name and password as you given in the config file above, In my case, username = tomcat and password = password\r\n\r\n    ","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>If you are using XAMPP follow the below steps</p>\n<ol>\n<li><p>Go to XAMPP and Click on Config infront of Tomcat</p>\n   <img src=\"https://i.stack.imgur.com/7W205.png\" width=\"450\" height=\"300\">\n</li>\n<li><p>Then select tomcat-users.xml in the popup</p>\n</li>\n<li><p>And when it opens on an editor paste the following inside\ntomcat-users tags with your preferred password. Which will be as follows</p>\n</li>\n</ol>\n<pre><code>&lt;tomcat-users&gt;\n&lt;role rolename=&quot;manager-gui&quot;/&gt;\n&lt;user username=&quot;tomcat&quot; password=&quot;password&quot; roles=&quot;manager-gui&quot;/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n<ol start=\"4\">\n<li><p>Then restart the tomcat server from XAMPP.</p>\n</li>\n<li><p>And open the tomcat using the browser and you can give the user name and password as you given in the config file above, In my case, username = tomcat and password = password</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12898517,"reputation":608,"user_id":9328127,"display_name":"pradeep karunathilaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623968362,"creation_date":1623968362,"answer_id":68027169,"question_id":16671858,"body_markdown":"Don&#39;t change anything. just replace below configurations to `/etc/tomcat9/tomcat-users.xml`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\r\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                  xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\r\n                  version=&quot;1.0&quot;&gt;\r\n    \t\t\t  \r\n      &lt;role rolename=&quot;tomcat&quot;/&gt;\r\n      &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n      &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui,tomcat&quot; /\r\n    &lt;/tomcat-users&gt;\r\n\r\nThen restart tomcat server by using `sudo systemctl restart tomcat9`\r\n\r\nuse this url to log manage-app admin http://127.0.0.1:8080/manager/html\r\n","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>Don't change anything. just replace below configurations to <code>/etc/tomcat9/tomcat-users.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n              xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\n              version=&quot;1.0&quot;&gt;\n              \n  &lt;role rolename=&quot;tomcat&quot;/&gt;\n  &lt;role rolename=&quot;admin-gui&quot;/&gt;\n  &lt;role rolename=&quot;manager-gui&quot;/&gt;\n  &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;admin-gui,manager-gui,tomcat&quot; /\n&lt;/tomcat-users&gt;\n</code></pre>\n<p>Then restart tomcat server by using <code>sudo systemctl restart tomcat9</code></p>\n<p>use this url to log manage-app admin <a href=\"http://127.0.0.1:8080/manager/html\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/manager/html</a></p>\n"},{"tags":[],"owner":{"account_id":21316812,"reputation":67,"user_id":15690535,"display_name":"Afreen Shaikh"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1625058884,"creation_date":1625054811,"answer_id":68194442,"question_id":16671858,"body_markdown":"1.Goto C:\\Program Files\\Apache Tomcat 7\\conf\\tomcat-users.xml\r\nopen it with notepad\r\n2.and add following tag inside &lt;tomcat-users&gt; &lt;/tomcat-users&gt; tag\r\n\r\n```lang-xml\r\n  &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n  &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;manager-gui&quot;/&gt;\r\n```\r\n\r\n3.on browser enter :\r\n  http://localhost:9090/manager/html\r\n  enter username:tomcat password:tomcat","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>1.Goto C:\\Program Files\\Apache Tomcat 7\\conf\\tomcat-users.xml\nopen it with notepad\n2.and add following tag inside   tag</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;role rolename=&quot;manager-gui&quot;/&gt;\n  &lt;user username=&quot;tomcat&quot; password=&quot;tomcat&quot; roles=&quot;manager-gui&quot;/&gt;\n</code></pre>\n<p>3.on browser enter :\nhttp://localhost:9090/manager/html\nenter username:tomcat password:tomcat</p>\n"},{"tags":[],"owner":{"account_id":18772543,"reputation":1,"user_id":13689064,"display_name":"SAM MU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634715634,"creation_date":1634715634,"answer_id":69642077,"question_id":16671858,"body_markdown":"**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n     &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\r\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                  xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\r\n                  version=&quot;1.0&quot;&gt;\r\n      &lt;role rolename=&quot;tomcat&quot;/&gt;\r\n      &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n      &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n      &lt;user username=&quot;tomcatuser&quot; password=&quot;tomcatpassword&quot; roles=&quot;admin-gui,manager-gui,tomcat,manager-script,manager-jmx,manager-status&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n    &lt;!-- --&gt;\r\n\r\n**\r\ntomacat 7+ version need to set manager rolse as manager-script,manager-jmx, manager-status  \r\nThen restart tomcat `sudo systemctl restart tomcat8`","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>**</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n &lt;tomcat-users xmlns=&quot;http://tomcat.apache.org/xml&quot;\n              xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n              xsi:schemaLocation=&quot;http://tomcat.apache.org/xml tomcat-users.xsd&quot;\n              version=&quot;1.0&quot;&gt;\n  &lt;role rolename=&quot;tomcat&quot;/&gt;\n  &lt;role rolename=&quot;admin-gui&quot;/&gt;\n  &lt;role rolename=&quot;manager-gui&quot;/&gt;\n  &lt;role rolename=&quot;manager-script&quot;/&gt;\n  &lt;role rolename=&quot;manager-jmx&quot;/&gt;\n  &lt;role rolename=&quot;manager-status&quot;/&gt;\n  &lt;user username=&quot;tomcatuser&quot; password=&quot;tomcatpassword&quot; roles=&quot;admin-gui,manager-gui,tomcat,manager-script,manager-jmx,manager-status&quot;/&gt;\n&lt;/tomcat-users&gt;\n&lt;!-- --&gt;\n</code></pre>\n<p>**\ntomacat 7+ version need to set manager rolse as manager-script,manager-jmx, manager-status<br />\nThen restart tomcat <code>sudo systemctl restart tomcat8</code></p>\n"}],"owner":{"account_id":2465273,"reputation":710,"user_id":2148530,"accept_rate":50,"display_name":"giaffa86"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86479,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":23496855,"answer_count":11,"score":15,"last_activity_date":1701694853,"creation_date":1369144490,"question_id":16671858,"body_markdown":"I have read a lot of topics in stackoverflow for solve my problem, but none was useful.\r\n\r\nWhen I tried to log in Manager App ([http://localhost:8080/manager/html][1]) using a lot of different configurations, but I always obtained **401 Unauthorized** after attempted to log in using the rights credentials.\r\nI restarted the tomcat server a couple of times.\r\n\r\nThis is my last configuration in conf/tomcat-users.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;tomcat-users&gt;\r\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-jmx&quot;/&gt;\r\n    &lt;role rolename=&quot;manager-status&quot;/&gt;\r\n    &lt;role rolename=&quot;admin-gui&quot;/&gt;\r\n    &lt;role rolename=&quot;admin-script&quot;/&gt;\r\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui, manager-script, manager-jmx, manager-status, admin-gui, admin-script&quot;/&gt;\r\n&lt;/tomcat-users&gt;\r\n```\r\n\r\nThis is the part related to tomcat-users in server.xml\r\n\r\n```xml\r\n&lt;GlobalNamingResources&gt;\r\n    &lt;!-- Editable user database that can also be used by\r\n         UserDatabaseRealm to authenticate users\r\n    --&gt;\r\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\r\n              type=&quot;org.apache.catalina.UserDatabase&quot;\r\n              description=&quot;User database that can be updated and saved&quot;\r\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\r\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\r\n&lt;/GlobalNamingResources&gt;\r\n```\r\n\r\nThis is my configuration:\r\nApache Tomcat: Version 7.0.40 64 bit\r\nTested on Chrome 26\r\n\r\nIf there is something else useful that I forgot, let me know.\r\nThanks in advance","title":"I&#39;m not able to log in Tomcat Manager App","body":"<p>I have read a lot of topics in stackoverflow for solve my problem, but none was useful.</p>\n<p>When I tried to log in Manager App ([http://localhost:8080/manager/html][1]) using a lot of different configurations, but I always obtained <strong>401 Unauthorized</strong> after attempted to log in using the rights credentials.\nI restarted the tomcat server a couple of times.</p>\n<p>This is my last configuration in conf/tomcat-users.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;tomcat-users&gt;\n    &lt;role rolename=&quot;manager-gui&quot;/&gt;\n    &lt;role rolename=&quot;manager-script&quot;/&gt;\n    &lt;role rolename=&quot;manager-jmx&quot;/&gt;\n    &lt;role rolename=&quot;manager-status&quot;/&gt;\n    &lt;role rolename=&quot;admin-gui&quot;/&gt;\n    &lt;role rolename=&quot;admin-script&quot;/&gt;\n    &lt;user username=&quot;admin&quot; password=&quot;admin&quot; roles=&quot;manager-gui, manager-script, manager-jmx, manager-status, admin-gui, admin-script&quot;/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n<p>This is the part related to tomcat-users in server.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;GlobalNamingResources&gt;\n    &lt;!-- Editable user database that can also be used by\n         UserDatabaseRealm to authenticate users\n    --&gt;\n    &lt;Resource name=&quot;UserDatabase&quot; auth=&quot;Container&quot;\n              type=&quot;org.apache.catalina.UserDatabase&quot;\n              description=&quot;User database that can be updated and saved&quot;\n              factory=&quot;org.apache.catalina.users.MemoryUserDatabaseFactory&quot;\n              pathname=&quot;conf/tomcat-users.xml&quot; /&gt;\n&lt;/GlobalNamingResources&gt;\n</code></pre>\n<p>This is my configuration:\nApache Tomcat: Version 7.0.40 64 bit\nTested on Chrome 26</p>\n<p>If there is something else useful that I forgot, let me know.\nThanks in advance</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1701607945,"post_id":77594111,"comment_id":136794486,"body_markdown":"What test cases are failing? Please provide the code to initialise your input data such that it reproduces the problem.","body":"What test cases are failing? Please provide the code to initialise your input data such that it reproduces the problem."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1701695849,"post_id":77594111,"comment_id":136803844,"body_markdown":"An obvious error. your program would fail if the `ranked` list is empty","body":"An obvious error. your program would fail if the <code>ranked</code> list is empty"}],"owner":{"account_id":26644189,"reputation":33,"user_id":20259350,"display_name":"Monach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701694801,"creation_date":1701603593,"question_id":77594111,"body_markdown":"When solving implementation in Hackerrank, I meet one challenge : \r\n[Climbing the Leaderboard][1].\r\n\r\nHere is the summary how this work:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAt the first look I see that it contains two Integer List: current leaderboard and new user scores list in order already but current leaderboard contains some repeated element and new user scores list is not. So I choose the solution like this:\r\n\r\n 1. I move the element from current leaderBoard to new Leader Board ( still in order but not contains any repeated element)\r\n 2. I loop through each score in new user scores list and perform the binary searching in the new Leader Board to find the position for new score.\r\n 3. From what I estimate this solution will have the time complexity is O(nlog(n))\r\n\r\nHere is my code:\r\n\r\n        public static List&lt;Integer&gt; climbingLeaderboard(List&lt;Integer&gt; ranked, List&lt;Integer&gt; player) {\r\n        // Write your code here\r\n            List&lt;Integer&gt; newLeadRank =  new ArrayList&lt;&gt;();\r\n            \r\n            List&lt;Integer&gt; newRankedBoard = new ArrayList&lt;&gt;();\r\n            newRankedBoard.add(ranked.get(0));\r\n            \r\n            for(int i = 1 ; i &lt; ranked.size() ; i++){\r\n                if(ranked.get(i-1) != ranked.get(i)){\r\n                    newRankedBoard.add(ranked.get(i));\r\n                }\r\n            }        \r\n            for(Integer point : player){\r\n                int newRanked = findNewRankedPosition(newRankedBoard, point);\r\n                newLeadRank.add(newRanked);\r\n            }\r\n            return newLeadRank;\r\n        }\r\n        \r\n        public static int findNewRankedPosition(List&lt;Integer&gt; newRankedBoard, int playerPoint){\r\n            int last = newRankedBoard.size()-1;\r\n            int first = 0;\r\n            return binarySearch(newRankedBoard, first, last, playerPoint);\r\n        }\r\n        \r\n        public static int binarySearch(List&lt;Integer&gt; newRankedBoard, int first, int last, int key){\r\n            int mid = (first + last) / 2;\r\n            int newRanked = 1;\r\n            while(first &lt;= last){\r\n                if(newRankedBoard.get(mid) &gt; key){\r\n                    \r\n                    if(mid + 1 &lt; newRankedBoard.size() &amp;&amp; newRankedBoard.get(mid+1) &lt; key){\r\n                        \r\n                        newRanked = mid + 2;\r\n                        break;\r\n                    }else if(mid + 1 == newRankedBoard.size()){\r\n                        newRanked = mid + 2;\r\n                        break;\r\n                    }\r\n                    return binarySearch(newRankedBoard, mid + 1, last, key);  \r\n                }else if(newRankedBoard.get(mid) &lt; key){\r\n                    if(mid - 1 &gt; 0 &amp;&amp; newRankedBoard.get(mid-1) &gt; key){\r\n                        newRanked = mid + 1;\r\n                        break;\r\n                    }else if(mid - 1 == 0 &amp;&amp; newRankedBoard.get(0) &lt; key){\r\n                        newRanked = 1;\r\n                        break;\r\n                    }\r\n                    return binarySearch(newRankedBoard, first, mid - 1, key);\r\n                }else if(newRankedBoard.get(mid) == key){\r\n                    newRanked = mid + 1;\r\n                    break; \r\n                }\r\n            }\r\n            return newRanked ;\r\n        }\r\n    }\r\n\r\nI pass all the example test case and 4/12 test case. But fail another 8/12 test case. Can you take a look and tell me where I am wrong and how I can enhance my code?\r\n\r\nHere is one test case I failed:\r\n\r\n200\r\n\r\n998 995 995 991 989 989 984 979 968 964 955 955 947 945 942 934 933 930 928 927 918 916 905 900 898 895 895 895 892 887 882 881 878 876 872 872 858 856 846 844 839 823 808 806 804 800 799 794 793 789 784 772 766 765 764 762 762 759 757 751 747 745 738 725 720 708 706 703 699 697 693 691 690 685 682 677 662 661 656 648 642 641 640 634 632 625 623 618 618 617 601 601 600 591 585 583 578 552 550 550 546 543 539 509 505 503 503 494 486 474 472 472 472 468 467 464 439 438 434 434 427 421 420 405 399 395 392 388 386 384 377 374 368 356 350 344 342 341 337 331 298 296 296 294 290 260 259 248 245 244 244 233 228 215 211 210 206 202 201 189 186 181 178 168 163 162 161 159 151 147 143 142 142 141 139 132 130 128 125 125 120 112 111 95 92 91 88 81 69 66 63 48 44 20 18 17 14 8 1 1\r\n\r\n20\r\n\r\n18 31 38 126 152 170 198 199 202 243 369 376 376 408 560 572 614 665 666 942\r\n\r\n\r\nThe expected Result should be:\r\n\r\n177\r\n176\r\n176\r\n162\r\n153\r\n148\r\n144\r\n144\r\n142\r\n136\r\n119\r\n118\r\n118\r\n110\r\n89\r\n89\r\n83\r\n70\r\n70\r\n12\r\n\r\nMy Result is:\r\n\r\n194\r\n193\r\n193\r\n179\r\n169\r\n164\r\n160\r\n160\r\n158\r\n152\r\n133\r\n132\r\n132\r\n124\r\n98\r\n98\r\n91\r\n77\r\n77\r\n15\r\n  \r\n\r\n\r\n  [1]: https://www.hackerrank.com/challenges/climbing-the-leaderboard/problem\r\n  [2]: https://i.stack.imgur.com/3q45H.png","title":"Climbing the Leaderboard Solution using BinarySearch but it fails 8/12 test cases","body":"<p>When solving implementation in Hackerrank, I meet one challenge :\n<a href=\"https://www.hackerrank.com/challenges/climbing-the-leaderboard/problem\" rel=\"nofollow noreferrer\">Climbing the Leaderboard</a>.</p>\n<p>Here is the summary how this work:</p>\n<p><a href=\"https://i.stack.imgur.com/3q45H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3q45H.png\" alt=\"enter image description here\" /></a></p>\n<p>At the first look I see that it contains two Integer List: current leaderboard and new user scores list in order already but current leaderboard contains some repeated element and new user scores list is not. So I choose the solution like this:</p>\n<ol>\n<li>I move the element from current leaderBoard to new Leader Board ( still in order but not contains any repeated element)</li>\n<li>I loop through each score in new user scores list and perform the binary searching in the new Leader Board to find the position for new score.</li>\n<li>From what I estimate this solution will have the time complexity is O(nlog(n))</li>\n</ol>\n<p>Here is my code:</p>\n<pre><code>    public static List&lt;Integer&gt; climbingLeaderboard(List&lt;Integer&gt; ranked, List&lt;Integer&gt; player) {\n    // Write your code here\n        List&lt;Integer&gt; newLeadRank =  new ArrayList&lt;&gt;();\n        \n        List&lt;Integer&gt; newRankedBoard = new ArrayList&lt;&gt;();\n        newRankedBoard.add(ranked.get(0));\n        \n        for(int i = 1 ; i &lt; ranked.size() ; i++){\n            if(ranked.get(i-1) != ranked.get(i)){\n                newRankedBoard.add(ranked.get(i));\n            }\n        }        \n        for(Integer point : player){\n            int newRanked = findNewRankedPosition(newRankedBoard, point);\n            newLeadRank.add(newRanked);\n        }\n        return newLeadRank;\n    }\n    \n    public static int findNewRankedPosition(List&lt;Integer&gt; newRankedBoard, int playerPoint){\n        int last = newRankedBoard.size()-1;\n        int first = 0;\n        return binarySearch(newRankedBoard, first, last, playerPoint);\n    }\n    \n    public static int binarySearch(List&lt;Integer&gt; newRankedBoard, int first, int last, int key){\n        int mid = (first + last) / 2;\n        int newRanked = 1;\n        while(first &lt;= last){\n            if(newRankedBoard.get(mid) &gt; key){\n                \n                if(mid + 1 &lt; newRankedBoard.size() &amp;&amp; newRankedBoard.get(mid+1) &lt; key){\n                    \n                    newRanked = mid + 2;\n                    break;\n                }else if(mid + 1 == newRankedBoard.size()){\n                    newRanked = mid + 2;\n                    break;\n                }\n                return binarySearch(newRankedBoard, mid + 1, last, key);  \n            }else if(newRankedBoard.get(mid) &lt; key){\n                if(mid - 1 &gt; 0 &amp;&amp; newRankedBoard.get(mid-1) &gt; key){\n                    newRanked = mid + 1;\n                    break;\n                }else if(mid - 1 == 0 &amp;&amp; newRankedBoard.get(0) &lt; key){\n                    newRanked = 1;\n                    break;\n                }\n                return binarySearch(newRankedBoard, first, mid - 1, key);\n            }else if(newRankedBoard.get(mid) == key){\n                newRanked = mid + 1;\n                break; \n            }\n        }\n        return newRanked ;\n    }\n}\n</code></pre>\n<p>I pass all the example test case and 4/12 test case. But fail another 8/12 test case. Can you take a look and tell me where I am wrong and how I can enhance my code?</p>\n<p>Here is one test case I failed:</p>\n<p>200</p>\n<p>998 995 995 991 989 989 984 979 968 964 955 955 947 945 942 934 933 930 928 927 918 916 905 900 898 895 895 895 892 887 882 881 878 876 872 872 858 856 846 844 839 823 808 806 804 800 799 794 793 789 784 772 766 765 764 762 762 759 757 751 747 745 738 725 720 708 706 703 699 697 693 691 690 685 682 677 662 661 656 648 642 641 640 634 632 625 623 618 618 617 601 601 600 591 585 583 578 552 550 550 546 543 539 509 505 503 503 494 486 474 472 472 472 468 467 464 439 438 434 434 427 421 420 405 399 395 392 388 386 384 377 374 368 356 350 344 342 341 337 331 298 296 296 294 290 260 259 248 245 244 244 233 228 215 211 210 206 202 201 189 186 181 178 168 163 162 161 159 151 147 143 142 142 141 139 132 130 128 125 125 120 112 111 95 92 91 88 81 69 66 63 48 44 20 18 17 14 8 1 1</p>\n<p>20</p>\n<p>18 31 38 126 152 170 198 199 202 243 369 376 376 408 560 572 614 665 666 942</p>\n<p>The expected Result should be:</p>\n<p>177\n176\n176\n162\n153\n148\n144\n144\n142\n136\n119\n118\n118\n110\n89\n89\n83\n70\n70\n12</p>\n<p>My Result is:</p>\n<p>194\n193\n193\n179\n169\n164\n160\n160\n158\n152\n133\n132\n132\n124\n98\n98\n91\n77\n77\n15</p>\n"},{"tags":["java","for-loop","compilation","switch-statement","automaton"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701692689,"post_id":77598817,"comment_id":136803236,"body_markdown":"Welcome to Stack Overflow! As it&#39;s currently written, it’s hard to tell exactly what your code is doing. See the \n[How to Ask page](https://stackoverflow.com/help/how-to-ask) for help clarifying this question. See also [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve). You should explain how your code works. It seems an implementation of a state machine. You should explain the design in your question. We don&#39;t know what the states are or why it should enter one. Have you tried to debug the code?","body":"Welcome to Stack Overflow! As it&#39;s currently written, it’s hard to tell exactly what your code is doing. See the  <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask page</a> for help clarifying this question. See also <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a>. You should explain how your code works. It seems an implementation of a state machine. You should explain the design in your question. We don&#39;t know what the states are or why it should enter one. Have you tried to debug the code?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701692692,"post_id":77598817,"comment_id":136803238,"body_markdown":"`for (int i = 0; i &lt; len; i++)` will increment `i` to 5 and then `i &lt; len` is false terminating the loop - `state = 6` )or `7`) will change to `8` after processing the last character, that is, code will only get to `8` after the last character and then the loop is terminated","body":"<code>for (int i = 0; i &lt; len; i++)</code> will increment <code>i</code> to 5 and then <code>i &lt; len</code> is false terminating the loop - <code>state = 6</code> )or <code>7</code>) will change to <code>8</code> after processing the last character, that is, code will only get to <code>8</code> after the last character and then the loop is terminated"}],"owner":{"account_id":30061519,"reputation":1,"user_id":23037540,"display_name":"BADR EL ADRAOUI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701694643,"creation_date":1701686811,"question_id":77598817,"body_markdown":"this is the code :\r\n\r\n```\r\npackage Tp2;\r\n\r\nimport java.util.Date;\r\nimport java.util.Scanner;\r\n\r\npublic class EX2_Date_forme {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        while (true) {\r\n            System.out.println(&quot;give a string or (exit) to leave : &quot;);\r\n            String input = sc.nextLine();\r\n\r\n            if (input.equals(&quot;exit&quot;)) {\r\n                break;\r\n            } else {\r\n                System.out.println();\r\n                Date(input);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void Date(String input) {\r\n        int len = input.length();\r\n        int state = 0;\r\n        int tracker = 0;\r\n        for (int i = 0; i &lt; len; i++) {\r\n            char c = input.charAt(i);\r\n            boolean c_isBetween_zero_in_AndNine = Character.getNumericValue(c) &gt;= 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\r\n            boolean c_isBetween_zero_out_AndNine = Character.getNumericValue(c) &gt; 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\r\n            switch (state) {\r\n\r\n                case 0:\r\n                    if (c == &#39;0&#39;){\r\n                        state = 1;\r\n                        tracker++;\r\n                    }\r\n                    else if (c == &#39;1&#39; || c == &#39;2&#39;){\r\n                        state = 2;\r\n                        tracker++;\r\n                    }\r\n                    else if (c == &#39;3&#39;){\r\n                        state = 3;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 1:\r\n                    if (c_isBetween_zero_out_AndNine) {\r\n                        state = 4;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 2:\r\n                    if (c_isBetween_zero_in_AndNine){\r\n                        state = 4;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 3:\r\n                    if (c == &#39;0&#39;) {\r\n                        state = 4;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 4:\r\n                    if (c == &#39;/&#39;) {\r\n                        state = 5;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 5:\r\n                    if (c == &#39;0&#39;){\r\n                        state = 6;\r\n                        tracker++;\r\n                    }\r\n                    else if (c == &#39;1&#39;){\r\n                        state = 7;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 6:\r\n                    if (c_isBetween_zero_out_AndNine){\r\n                        state = 8;\r\n                        tracker++;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 7:\r\n                    if (c == &#39;0&#39; || c == &#39;1&#39; || c == &#39;2&#39;){\r\n                        tracker++;\r\n                        state = 8;\r\n                    }\r\n                    else System.out.println(&quot;error&quot;);\r\n                    break;\r\n                case 8:\r\n                    if (tracker == len) System.out.println(&quot;in the language&quot;);\r\n                    else\r\n                        System.out.println(&quot;error&quot;);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nWe want to recognize a date in the form:\r\n03/02 for February 3, limited to the current year.\r\n\r\nFor simplicity, we consider that each month is made up\r\nof 30 days.\r\n\r\nWhen, for example, I type &quot;01/01&quot; in debug mode, everything works as expected until the last iteration where i=4, len=5, and state=8. However, the for loop doesn&#39;t continue to enter case 8.\r\n\r\ni expected to see the &quot;in the langage message&quot; but I got no result\r\n\r\nit worked when i added this after the loop and it worked :\r\n\r\n        if (state == 8 &amp;&amp; tracker == len) {\r\n            System.out.println(&quot;in the language&quot;);\r\n        } else {\r\n            System.out.println(&quot;error&quot;);\r\n        }\r\n\r\n\r\nbut i want it to enter the case number 8","title":"recognizing a date in the form: 03/02 for February 3 , For simplicity, we consider that each month is made up of 30 days","body":"<p>this is the code :</p>\n<pre><code>package Tp2;\n\nimport java.util.Date;\nimport java.util.Scanner;\n\npublic class EX2_Date_forme {\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n\n        while (true) {\n            System.out.println(&quot;give a string or (exit) to leave : &quot;);\n            String input = sc.nextLine();\n\n            if (input.equals(&quot;exit&quot;)) {\n                break;\n            } else {\n                System.out.println();\n                Date(input);\n            }\n        }\n    }\n\n    public static void Date(String input) {\n        int len = input.length();\n        int state = 0;\n        int tracker = 0;\n        for (int i = 0; i &lt; len; i++) {\n            char c = input.charAt(i);\n            boolean c_isBetween_zero_in_AndNine = Character.getNumericValue(c) &gt;= 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\n            boolean c_isBetween_zero_out_AndNine = Character.getNumericValue(c) &gt; 0 &amp;&amp; Character.getNumericValue(c) &lt;= 9;\n            switch (state) {\n\n                case 0:\n                    if (c == '0'){\n                        state = 1;\n                        tracker++;\n                    }\n                    else if (c == '1' || c == '2'){\n                        state = 2;\n                        tracker++;\n                    }\n                    else if (c == '3'){\n                        state = 3;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 1:\n                    if (c_isBetween_zero_out_AndNine) {\n                        state = 4;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 2:\n                    if (c_isBetween_zero_in_AndNine){\n                        state = 4;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 3:\n                    if (c == '0') {\n                        state = 4;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 4:\n                    if (c == '/') {\n                        state = 5;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 5:\n                    if (c == '0'){\n                        state = 6;\n                        tracker++;\n                    }\n                    else if (c == '1'){\n                        state = 7;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 6:\n                    if (c_isBetween_zero_out_AndNine){\n                        state = 8;\n                        tracker++;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 7:\n                    if (c == '0' || c == '1' || c == '2'){\n                        tracker++;\n                        state = 8;\n                    }\n                    else System.out.println(&quot;error&quot;);\n                    break;\n                case 8:\n                    if (tracker == len) System.out.println(&quot;in the language&quot;);\n                    else\n                        System.out.println(&quot;error&quot;);\n                    break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>We want to recognize a date in the form:\n03/02 for February 3, limited to the current year.</p>\n<p>For simplicity, we consider that each month is made up\nof 30 days.</p>\n<p>When, for example, I type &quot;01/01&quot; in debug mode, everything works as expected until the last iteration where i=4, len=5, and state=8. However, the for loop doesn't continue to enter case 8.</p>\n<p>i expected to see the &quot;in the langage message&quot; but I got no result</p>\n<p>it worked when i added this after the loop and it worked :</p>\n<pre><code>    if (state == 8 &amp;&amp; tracker == len) {\n        System.out.println(&quot;in the language&quot;);\n    } else {\n        System.out.println(&quot;error&quot;);\n    }\n</code></pre>\n<p>but i want it to enter the case number 8</p>\n"},{"tags":["java","eclipse","tomcat","context.xml"],"comments":[{"owner":{"account_id":7428434,"reputation":1471,"user_id":5650224,"display_name":"m4gic"},"score":1,"creation_date":1535578972,"post_id":52085247,"comment_id":91123256,"body_markdown":"Have you compared your settings with the reference example in the [documentation (tomcat7)](https://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html) or [tomcat8](https://tomcat.apache.org/tomcat-8.0-doc/jndi-datasource-examples-howto.html)? (Please find the proper page to your tomcat version.)","body":"Have you compared your settings with the reference example in the <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">documentation (tomcat7)</a> or <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/jndi-datasource-examples-howto.html\" rel=\"nofollow noreferrer\">tomcat8</a>? (Please find the proper page to your tomcat version.)"},{"owner":{"account_id":7078016,"reputation":1626,"user_id":5417326,"display_name":"Lev Khruschev"},"score":1,"creation_date":1535581153,"post_id":52085247,"comment_id":91123916,"body_markdown":"When I worked with tomcat context files, they were placed in `${TOMCAT_HOME}/conf/Catalina/localhost` and it was working scheme.","body":"When I worked with tomcat context files, they were placed in <code>${TOMCAT_HOME}&#47;conf&#47;Catalina&#47;localhost</code> and it was working scheme."},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1535618280,"post_id":52085247,"comment_id":91135097,"body_markdown":"Please add error message, code, and *all* textual content as text, directly in the question. Not as images.","body":"Please add error message, code, and <i>all</i> textual content as text, directly in the question. Not as images."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1535654576,"post_id":52085247,"comment_id":91157934,"body_markdown":"The resource JNDI name should be `&lt;res-ref-name&gt;jdbc/ParkingBookSystem&lt;/res-ref-name&gt;` I think, same for the context.xml file. Yours is missing `jdbc`","body":"The resource JNDI name should be <code>&lt;res-ref-name&gt;jdbc&#47;ParkingBookSystem&lt;&#47;res-ref-name&gt;</code> I think, same for the context.xml file. Yours is missing <code>jdbc</code>"}],"answers":[{"comments":[{"owner":{"account_id":9692014,"reputation":461,"user_id":7189801,"accept_rate":75,"display_name":"Luke_Nuke"},"score":0,"creation_date":1535616661,"post_id":52088540,"comment_id":91134152,"body_markdown":"I&#39;ve edited the context following to your advice (added in the question) and edited web.xml according to aparche.org/tomcat-9.0\nThe error is gone however now I have a just white screen. :(","body":"I&#39;ve edited the context following to your advice (added in the question) and edited web.xml according to aparche.org/tomcat-9.0 The error is gone however now I have a just white screen. :("},{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1535619390,"post_id":52088540,"comment_id":91135785,"body_markdown":"If your original question has been answered and *that* problem solved (e.g. you now can connect to the database), please consider accepting this answer, and ask a new question because the &quot;white screen&quot; doesn&#39;t have anything to do with JDBC connections. Or let us know why you think the JDBC connection still is a problem (e.g. by adding debug output to your code).","body":"If your original question has been answered and <i>that</i> problem solved (e.g. you now can connect to the database), please consider accepting this answer, and ask a new question because the &quot;white screen&quot; doesn&#39;t have anything to do with JDBC connections. Or let us know why you think the JDBC connection still is a problem (e.g. by adding debug output to your code)."}],"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701694466,"creation_date":1535597131,"answer_id":52088540,"question_id":52085247,"body_markdown":"Seems JNDI name is not on the correct place as it should be _inside_ `Resource` element but it&#39;s instead on `Context` one\r\n\r\n```xml\r\n&lt;Context&gt;\r\n    &lt;Resource \r\n        name=&quot;jdbc/ParkingSystem&quot; \r\n        auth=&quot;Container&quot;\r\n        type=&quot;javax.sql.DataSource&quot;\r\n        maxActive=&quot;20&quot;\r\n        maxIdle=&quot;5&quot;\r\n        maxWait=&quot;10000&quot;\r\n        username=&quot;sql2226123&quot;\r\n        password=&quot;abcdefgh&quot; \r\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\r\n    /&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\n`path` attribute on `Context` element is meant to define context root of your app, in other words, the URL starting path, e.g.: if `path=&quot;/ParkingLot&quot;`, your app will be found under `http://localhost:8080/ParkingLot`.","title":"Tomcat is unable to read my context.xml file","body":"<p>Seems JNDI name is not on the correct place as it should be <em>inside</em> <code>Resource</code> element but it's instead on <code>Context</code> one</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;Context&gt;\n    &lt;Resource \n        name=&quot;jdbc/ParkingSystem&quot; \n        auth=&quot;Container&quot;\n        type=&quot;javax.sql.DataSource&quot;\n        maxActive=&quot;20&quot;\n        maxIdle=&quot;5&quot;\n        maxWait=&quot;10000&quot;\n        username=&quot;sql2226123&quot;\n        password=&quot;abcdefgh&quot; \n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\n    /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p><code>path</code> attribute on <code>Context</code> element is meant to define context root of your app, in other words, the URL starting path, e.g.: if <code>path=&quot;/ParkingLot&quot;</code>, your app will be found under <code>http://localhost:8080/ParkingLot</code>.</p>\n"}],"owner":{"account_id":9692014,"reputation":461,"user_id":7189801,"accept_rate":75,"display_name":"Luke_Nuke"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4958,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52088540,"answer_count":1,"score":0,"last_activity_date":1701694466,"creation_date":1535572826,"question_id":52085247,"body_markdown":"I have the following issue:\r\nI have context.xml file which can not be read by the server either by adding through @Resource() injection or by using class (check below). I&#39;m using eclipse, Tomcat 9.0. I have .war file exported by eclipse and put in the target folder within my project. Here goes the code.\r\n\r\nContext.xml:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE xml&gt;\r\n&lt;Context path=&quot;jdbc/ParkingSystem&quot;&gt;\r\n    &lt;Resource name=&quot;sql2226123&quot; \r\n        auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\r\n        maxActive=&quot;20&quot; maxIdle=&quot;5&quot; maxWait=&quot;10000&quot;\r\n        username=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \r\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;/&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\nhttps://pastebin.com/fSZG2bJR\r\n\r\nand I have following class to set connection with MySQL DB here goes the constructor:\r\nhttps://pastebin.com/XKmBRAZX\r\n\r\nhere is constructor used in servlet:\r\nhttps://pastebin.com/EmSzL5Y1\r\n\r\nhere is my pom.xml:\r\nhttps://pastebin.com/umU6R2KF\r\n\r\nmy context.xml is located:\r\nC:\\Users\\lukas\\eclipse-workspace\\ParkingBookSystem\\src\\main\\resources\\META-INF\\context.xml\r\n\r\nmy .war file (exported by eclipse) is located:\r\nC:\\Users\\userName\\eclipse-workspace\\ProjectName\\ProjectName.war\r\n\r\nand this is my error:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eUryW.png\r\nI&#39;ve lost all ideas :(\r\n\r\nOk so I&#39;ve made updates according to apache.org/tomcat-9.0\r\nNow my web.xml looks like this:\r\n\r\n```xml\r\n&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\r\n                             http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n         version=&quot;2.4&quot;&gt;\r\n    &lt;description&gt;ParkingBookSystem&lt;/description&gt;\r\n    &lt;resource-ref&gt;\r\n        &lt;description&gt;DB Connection&lt;/description&gt;\r\n        &lt;res-ref-name&gt;/ParkingBookSystem&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nand my context.xml looks like this:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE xml&gt;\r\n&lt;Context&gt;\r\n    &lt;Resource \r\n        name=&quot;/ParkingBookSystem&quot; \r\n        auth=&quot;Container&quot;\r\n        type=&quot;javax.sql.DataSource&quot;\r\n        maxTotal=&quot;20&quot;\r\n        maxIdle=&quot;5&quot;\r\n        maxWaitMillis=&quot;10000&quot;\r\n        username=&quot;sql2226123&quot;\r\n        password=&quot;xxxxxxxx&quot;\r\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\r\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\r\n    /&gt;\r\n&lt;/Context&gt;\r\n```\r\n\r\nNow the error is gone but there is only white screen displayed as if there was no connection to the MySQL DB although I&#39;m 100% sure those:\r\n```xml\r\nusername=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \r\nurl=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\r\n```\r\n\r\nare correct I logged in to the DB as admin right now with it (I&#39;ve changed the password in the question on stack).\r\n\r\nOk so since HTTP 500 error is gone and on web-browser now I have just white screen and Tomcat server is throwing following error so I&#39;am adding the most acutal error:\r\n```\r\njava.sql.SQLException: Cannot create JDBC driver of class &#39;&#39; for connect URL &#39;null&#39;\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2224)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2104)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1563)\r\n\tat com.pbs.web.jdbc.ParkingBookSystem.BookDbUtil.doesBookExist(BookDbUtil.java:91)\r\n\tat com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.addBook(BookControllerServlet.java:117)\r\n\tat com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.doGet(BookControllerServlet.java:70)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Unknown Source)\r\nCaused by: java.sql.SQLException: No suitable driver\r\n\tat java.sql.DriverManager.getDriver(Unknown Source)\r\n\tat org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2209)\r\n\t... 29 more\r\n```","title":"Tomcat is unable to read my context.xml file","body":"<p>I have the following issue:\nI have context.xml file which can not be read by the server either by adding through @Resource() injection or by using class (check below). I'm using eclipse, Tomcat 9.0. I have .war file exported by eclipse and put in the target folder within my project. Here goes the code.</p>\n<p>Context.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE xml&gt;\n&lt;Context path=&quot;jdbc/ParkingSystem&quot;&gt;\n    &lt;Resource name=&quot;sql2226123&quot; \n        auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot;\n        maxActive=&quot;20&quot; maxIdle=&quot;5&quot; maxWait=&quot;10000&quot;\n        username=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;/&gt;\n&lt;/Context&gt;\n</code></pre>\n<p><a href=\"https://pastebin.com/fSZG2bJR\" rel=\"nofollow noreferrer\">https://pastebin.com/fSZG2bJR</a></p>\n<p>and I have following class to set connection with MySQL DB here goes the constructor:\n<a href=\"https://pastebin.com/XKmBRAZX\" rel=\"nofollow noreferrer\">https://pastebin.com/XKmBRAZX</a></p>\n<p>here is constructor used in servlet:\n<a href=\"https://pastebin.com/EmSzL5Y1\" rel=\"nofollow noreferrer\">https://pastebin.com/EmSzL5Y1</a></p>\n<p>here is my pom.xml:\n<a href=\"https://pastebin.com/umU6R2KF\" rel=\"nofollow noreferrer\">https://pastebin.com/umU6R2KF</a></p>\n<p>my context.xml is located:\nC:\\Users\\lukas\\eclipse-workspace\\ParkingBookSystem\\src\\main\\resources\\META-INF\\context.xml</p>\n<p>my .war file (exported by eclipse) is located:\nC:\\Users\\userName\\eclipse-workspace\\ProjectName\\ProjectName.war</p>\n<p>and this is my error:\n<a href=\"https://i.stack.imgur.com/eUryW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUryW.png\" alt=\"enter image description here\" /></a></p>\n<p>I've lost all ideas :(</p>\n<p>Ok so I've made updates according to apache.org/tomcat-9.0\nNow my web.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\n                             http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\n         version=&quot;2.4&quot;&gt;\n    &lt;description&gt;ParkingBookSystem&lt;/description&gt;\n    &lt;resource-ref&gt;\n        &lt;description&gt;DB Connection&lt;/description&gt;\n        &lt;res-ref-name&gt;/ParkingBookSystem&lt;/res-ref-name&gt;\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\n    &lt;/resource-ref&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>and my context.xml looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE xml&gt;\n&lt;Context&gt;\n    &lt;Resource \n        name=&quot;/ParkingBookSystem&quot; \n        auth=&quot;Container&quot;\n        type=&quot;javax.sql.DataSource&quot;\n        maxTotal=&quot;20&quot;\n        maxIdle=&quot;5&quot;\n        maxWaitMillis=&quot;10000&quot;\n        username=&quot;sql2226123&quot;\n        password=&quot;xxxxxxxx&quot;\n        driverClassName=&quot;com.mysql.jdbc.Driver&quot;\n        url=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\n    /&gt;\n&lt;/Context&gt;\n</code></pre>\n<p>Now the error is gone but there is only white screen displayed as if there was no connection to the MySQL DB although I'm 100% sure those:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>username=&quot;sql2226123&quot; password=&quot;abcdefgh&quot; \nurl=&quot;jdbc:mysql://sql2.freemysqlhosting.net:3306/sql2226123&quot;\n</code></pre>\n<p>are correct I logged in to the DB as admin right now with it (I've changed the password in the question on stack).</p>\n<p>Ok so since HTTP 500 error is gone and on web-browser now I have just white screen and Tomcat server is throwing following error so I'am adding the most acutal error:</p>\n<pre><code>java.sql.SQLException: Cannot create JDBC driver of class '' for connect URL 'null'\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2224)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createDataSource(BasicDataSource.java:2104)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.getConnection(BasicDataSource.java:1563)\n    at com.pbs.web.jdbc.ParkingBookSystem.BookDbUtil.doesBookExist(BookDbUtil.java:91)\n    at com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.addBook(BookControllerServlet.java:117)\n    at com.pbs.web.jdbc.ParkingBookSystem.BookControllerServlet.doGet(BookControllerServlet.java:70)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:634)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:199)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:490)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:668)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:408)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:770)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1415)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.sql.SQLException: No suitable driver\n    at java.sql.DriverManager.getDriver(Unknown Source)\n    at org.apache.tomcat.dbcp.dbcp2.BasicDataSource.createConnectionFactory(BasicDataSource.java:2209)\n    ... 29 more\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1444735296,"post_id":33101168,"comment_id":54017439,"body_markdown":"Can you show some code with which statements you tried?","body":"Can you show some code with which statements you tried?"},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":0,"creation_date":1444735795,"post_id":33101168,"comment_id":54017763,"body_markdown":"Deleted them mostly, but what I basically need is the equivalent of &quot;select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;&quot;","body":"Deleted them mostly, but what I basically need is the equivalent of &quot;select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;&quot;"}],"answers":[{"comments":[{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":0,"creation_date":1444737659,"post_id":33101956,"comment_id":54018996,"body_markdown":"I got the code for this from http://stackoverflow.com/questions/20663704/hibernate-user-and-friend-relationship-add-other-column with the map (id, date) to represent the start date for this relationship. Problem is, I either get no results from a query, or (using your Query) it&#39;s org.hibernate.QueryException: cannot dereference scalar collection element: friendId","body":"I got the code for this from <a href=\"http://stackoverflow.com/questions/20663704/hibernate-user-and-friend-relationship-add-other-column\" title=\"hibernate user and friend relationship add other column\">stackoverflow.com/questions/20663704/&hellip;</a> with the map (id, date) to represent the start date for this relationship. Problem is, I either get no results from a query, or (using your Query) it&#39;s org.hibernate.QueryException: cannot dereference scalar collection element: friendId"},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":0,"creation_date":1444738167,"post_id":33101956,"comment_id":54019376,"body_markdown":"Edited my original post just now, showing an example query which does not work. The map itself does not contain the userId but rather the friendId, hence why I can&#39;t reference it like this. I&#39;m not sure how to continue from this code","body":"Edited my original post just now, showing an example query which does not work. The map itself does not contain the userId but rather the friendId, hence why I can&#39;t reference it like this. I&#39;m not sure how to continue from this code"},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":0,"creation_date":1444739051,"post_id":33101956,"comment_id":54020011,"body_markdown":"There are only two classes really worth mentioning. The User Entity class has an id (userId), username and the @ElementCollection friendShipMap&lt;Integer, Date&gt;. The other is my interface extending a JpaRepository&lt;User, Long&gt; that provides my custom queries. Both are provided in my orginal post. There is no entity class by itself representing a friendship, because that&#39;s what I use the Collection Table for.","body":"There are only two classes really worth mentioning. The User Entity class has an id (userId), username and the @ElementCollection friendShipMap&lt;Integer, Date&gt;. The other is my interface extending a JpaRepository&lt;User, Long&gt; that provides my custom queries. Both are provided in my orginal post. There is no entity class by itself representing a friendship, because that&#39;s what I use the Collection Table for."},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":1,"creation_date":1444744275,"post_id":33101956,"comment_id":54023815,"body_markdown":"Was hoping for solving this via a query but in the end creating a seperate entity might be the best idea in the long run. Thanks for your time","body":"Was hoping for solving this via a query but in the end creating a seperate entity might be the best idea in the long run. Thanks for your time"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":1,"creation_date":1444744542,"post_id":33101956,"comment_id":54024011,"body_markdown":"I&#39;m not sure if there is a solution without creating a new entity. But anyway, a new class makes your code also more readable and structured. I think you dont make a mistake with this approach.","body":"I&#39;m not sure if there is a solution without creating a new entity. But anyway, a new class makes your code also more readable and structured. I think you dont make a mistake with this approach."}],"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1444740499,"creation_date":1444736991,"answer_id":33101956,"question_id":33101168,"body_markdown":"You can use this `@Query`\r\n\r\n    @Query(&quot;select u.username from Users u inner join u.friendship f where f.friendId = :userId&quot;)\r\n\r\nMake sure that you have an `association` between your entities `Users` and `Friendship`. Should be a `@OneToMany` relation I think.\r\n\r\nAnd it should be in a `List&lt;String&gt;` instead of `Map`.\r\n\r\n**EDIT:1**\r\n\r\nIf I understand it correctly, you will need another class `friendship`.\r\n\r\nMaybe you need an embeddable class (`friendship`) described here. \r\n\r\nhttp://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/\r\n\r\n\r\n  [1]: http://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/ \r\n\r\nOr you can create a new entity.\r\n\r\nhttp://www.concretepage.com/hibernate/elementcollection_hibernate_annotation\r\n\r\nAnd this is also a good example:\r\n\r\nhttps://en.wikibooks.org/wiki/Java_Persistence/ElementCollection\r\n\r\n","title":"JPA Query ElementCollection key","body":"<p>You can use this <code>@Query</code></p>\n\n<pre><code>@Query(\"select u.username from Users u inner join u.friendship f where f.friendId = :userId\")\n</code></pre>\n\n<p>Make sure that you have an <code>association</code> between your entities <code>Users</code> and <code>Friendship</code>. Should be a <code>@OneToMany</code> relation I think.</p>\n\n<p>And it should be in a <code>List&lt;String&gt;</code> instead of <code>Map</code>.</p>\n\n<p><strong>EDIT:1</strong></p>\n\n<p>If I understand it correctly, you will need another class <code>friendship</code>.</p>\n\n<p>Maybe you need an embeddable class (<code>friendship</code>) described here. </p>\n\n<p><a href=\"http://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/\" rel=\"nofollow\">http://www.thejavageek.com/2014/01/31/jpa-elementcollection-annotation/</a></p>\n\n<p>Or you can create a new entity.</p>\n\n<p><a href=\"http://www.concretepage.com/hibernate/elementcollection_hibernate_annotation\" rel=\"nofollow\">http://www.concretepage.com/hibernate/elementcollection_hibernate_annotation</a></p>\n\n<p>And this is also a good example:</p>\n\n<p><a href=\"https://en.wikibooks.org/wiki/Java_Persistence/ElementCollection\" rel=\"nofollow\">https://en.wikibooks.org/wiki/Java_Persistence/ElementCollection</a></p>\n"},{"tags":[],"owner":{"account_id":17614949,"reputation":121,"user_id":12782217,"display_name":"Bexzod Xayrullayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701694162,"creation_date":1701694162,"answer_id":77599572,"question_id":33101168,"body_markdown":"You need use with tansaction. Try it.\r\n\r\n\r\n    @Transactional(readOnly = true)\r\n    @Query(&quot;SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId&quot;)\r\n    List&lt;User&gt; getFriends(@Param(&quot;userId&quot;) int userId);","title":"JPA Query ElementCollection key","body":"<p>You need use with tansaction. Try it.</p>\n<pre><code>@Transactional(readOnly = true)\n@Query(&quot;SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId&quot;)\nList&lt;User&gt; getFriends(@Param(&quot;userId&quot;) int userId);\n</code></pre>\n"}],"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2602,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":33101956,"answer_count":2,"score":2,"last_activity_date":1701694162,"creation_date":1444734728,"question_id":33101168,"body_markdown":"I have an entity class called User with the variable username with an ElementCollection map to represent &quot;friendship&quot; between two users, mapped by the userId, the start date and the id of the friend. The code for that relation is as follows:\r\n\r\n    @ElementCollection(fetch = FetchType.EAGER)\r\n\t@CollectionTable(name = &quot;friendship&quot;, joinColumns = @JoinColumn(name=&quot;userId&quot;))\r\n\t@MapKeyColumn(name = &quot;friendId&quot;)\r\n\t@Column(name = &quot;startDate&quot;)\r\n\tprivate Map&lt;Integer, Date&gt; friendShipMap;\r\n\r\nI want to display the friends on a profile page for each user. I know I can just access the map via Java and get the ids (and find the usernames for the friends like that), but I&#39;d like to use a custom @Query to get all the friends usernames for a given id. Somehow, the map is confusing me and I fail to find a proper statement for this.\r\n\r\nAny help on this is greatly appreciated.\r\n\r\nEdit: To clarify, I would like to use a custom @Query statement for the following SQL statement:\r\n\r\n    select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;\r\n\r\nSo I thought it would be basically like this:\r\n\r\n\t@Query(&quot;SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId&quot;)\r\n\tList&lt;User&gt; getFriends(@Param(&quot;userId&quot;) int userId);\r\n\r\nBut I can&#39;t use m.userId, it says &quot;cannot dereference scalar collection element: userId&quot;. \r\n\r\nThe corresponding table looks like this:\r\n\r\n    userId | startDate |friendId\r\n","title":"JPA Query ElementCollection key","body":"<p>I have an entity class called User with the variable username with an ElementCollection map to represent \"friendship\" between two users, mapped by the userId, the start date and the id of the friend. The code for that relation is as follows:</p>\n\n<pre><code>@ElementCollection(fetch = FetchType.EAGER)\n@CollectionTable(name = \"friendship\", joinColumns = @JoinColumn(name=\"userId\"))\n@MapKeyColumn(name = \"friendId\")\n@Column(name = \"startDate\")\nprivate Map&lt;Integer, Date&gt; friendShipMap;\n</code></pre>\n\n<p>I want to display the friends on a profile page for each user. I know I can just access the map via Java and get the ids (and find the usernames for the friends like that), but I'd like to use a custom @Query to get all the friends usernames for a given id. Somehow, the map is confusing me and I fail to find a proper statement for this.</p>\n\n<p>Any help on this is greatly appreciated.</p>\n\n<p>Edit: To clarify, I would like to use a custom @Query statement for the following SQL statement:</p>\n\n<pre><code>select u.username from users u join friendship m on u.userId = m.friendId where m.userId = 1;\n</code></pre>\n\n<p>So I thought it would be basically like this:</p>\n\n<pre><code>@Query(\"SELECT u.username FROM users u join u.friendShipMap m on u.userId = key(m) where m.userId = :userId\")\nList&lt;User&gt; getFriends(@Param(\"userId\") int userId);\n</code></pre>\n\n<p>But I can't use m.userId, it says \"cannot dereference scalar collection element: userId\". </p>\n\n<p>The corresponding table looks like this:</p>\n\n<pre><code>userId | startDate |friendId\n</code></pre>\n"},{"tags":["java","jpa","intellij-idea"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1701709619,"post_id":77599571,"comment_id":136806719,"body_markdown":"What do you mean by, &quot;can&#39;t do&quot;? https://www.jetbrains.com/help/idea/java-compiler.html","body":"What do you mean by, &quot;can&#39;t do&quot;? <a href=\"https://www.jetbrains.com/help/idea/java-compiler.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/java-compiler.html</a>"},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":0,"creation_date":1701793902,"post_id":77599571,"comment_id":136818288,"body_markdown":"quote: but I still get the error &quot;Symbol not found&quot;. Can you share a screenshot of the problem?","body":"quote: but I still get the error &quot;Symbol not found&quot;. Can you share a screenshot of the problem?"}],"owner":{"account_id":21088679,"reputation":337,"user_id":15501126,"display_name":"Maxim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701694146,"creation_date":1701694146,"question_id":77599571,"body_markdown":"I have a JPA Entity class that I&#39;m trying to modify, but IntelliJ always automatically adds the following lines to the file:\r\n\r\n    @Serial\r\n    private static final long serialVersionUID = 2570912915331392859L;\r\n\r\nThe @Serial annotation isn&#39;t found though and it tells me to change the language version, which I can&#39;t do. So the project doesn&#39;t compile. I tried changing the file in another Editor so the property doesn&#39;t get added automatically, but I still get the error &quot;Symbol not found&quot;.\r\n\r\nI couldn&#39;t find any setting to disable this. Any ideas?","title":"IntelliJ 2023.2.5 - how to disable adding serialVersionUID on save","body":"<p>I have a JPA Entity class that I'm trying to modify, but IntelliJ always automatically adds the following lines to the file:</p>\n<pre><code>@Serial\nprivate static final long serialVersionUID = 2570912915331392859L;\n</code></pre>\n<p>The @Serial annotation isn't found though and it tells me to change the language version, which I can't do. So the project doesn't compile. I tried changing the file in another Editor so the property doesn't get added automatically, but I still get the error &quot;Symbol not found&quot;.</p>\n<p>I couldn't find any setting to disable this. Any ideas?</p>\n"},{"tags":["java","httpclient","apache-httpclient-5.x"],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701693888,"creation_date":1701693888,"answer_id":77599543,"question_id":77227198,"body_markdown":"The `HttpRequestRetryHandler` and `ServiceUnavailableRetryStrategy` got [merged][1] into the [HttpRequestRetryStrategy][2].\r\n\r\nSo your new implementation would be:\r\n\r\n    .setRetryStrategy(new HttpRequestRetryStrategy() {\r\n        @Override\r\n        public boolean retryRequest(HttpRequest request, IOException exception, int execCount, HttpContext context) {\r\n            // code block\r\n        }\r\n\r\n        @Override\r\n        public boolean retryRequest(HttpResponse response, int execCount, HttpContext context) {\r\n            // code block\r\n        }\r\n\r\n        @Override\r\n        public TimeValue getRetryInterval(HttpResponse response, int execCount, HttpContext context) {\r\n            // code block\r\n        }\r\n    });\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/24230642/2049986\r\n  [2]: https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/HttpRequestRetryStrategy.html","title":"How to implement HttpRequestRetryHandler and ServiceUnavailableRetryStrategy in apache httpclient5","body":"<p>The <code>HttpRequestRetryHandler</code> and <code>ServiceUnavailableRetryStrategy</code> got <a href=\"https://stackoverflow.com/a/24230642/2049986\">merged</a> into the <a href=\"https://hc.apache.org/httpcomponents-client-5.1.x/current/httpclient5/apidocs/org/apache/hc/client5/http/HttpRequestRetryStrategy.html\" rel=\"nofollow noreferrer\">HttpRequestRetryStrategy</a>.</p>\n<p>So your new implementation would be:</p>\n<pre><code>.setRetryStrategy(new HttpRequestRetryStrategy() {\n    @Override\n    public boolean retryRequest(HttpRequest request, IOException exception, int execCount, HttpContext context) {\n        // code block\n    }\n\n    @Override\n    public boolean retryRequest(HttpResponse response, int execCount, HttpContext context) {\n        // code block\n    }\n\n    @Override\n    public TimeValue getRetryInterval(HttpResponse response, int execCount, HttpContext context) {\n        // code block\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":7588318,"reputation":179,"user_id":5756695,"display_name":"CodeLearner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701693888,"creation_date":1696400430,"question_id":77227198,"body_markdown":"I am updating the project to use httpclient5, I would like to know what is the relevant class to use for ```HttpRequestRetryHandler``` and ```ServiceUnavailableRetryStrategy```\r\n\r\nThe code snippet we have is as below\r\n\r\n```\r\nimport org.apache.http.client.HttpRequestRetryHandler;\r\nimport org.apache.http.client.ServiceUnavailableRetryStrategy;\r\n```\r\n\r\n\r\n```\r\n.setRetryHandler(new HttpRequestRetryHandler() {\r\n  @Override\r\n  public boolean retryRequest(IOException exp, int count, HttpContext context) {\r\n    // code block\r\n  }\r\n)\r\n.setServiceUnavailableRetryStrategy(new ServiceUnavailableRetryStrategy() {\r\n  @Override\r\n  public boolean retryRequest(HttpResponse res, int count, HttpContext context) {\r\n    // code block\r\n  }\r\n)\r\n```\r\n\r\nCould someone help and explain what is the new class in httpclient5 and how this code block can be rewritten?\r\n\r\n","title":"How to implement HttpRequestRetryHandler and ServiceUnavailableRetryStrategy in apache httpclient5","body":"<p>I am updating the project to use httpclient5, I would like to know what is the relevant class to use for <code>HttpRequestRetryHandler</code> and <code>ServiceUnavailableRetryStrategy</code></p>\n<p>The code snippet we have is as below</p>\n<pre><code>import org.apache.http.client.HttpRequestRetryHandler;\nimport org.apache.http.client.ServiceUnavailableRetryStrategy;\n</code></pre>\n<pre><code>.setRetryHandler(new HttpRequestRetryHandler() {\n  @Override\n  public boolean retryRequest(IOException exp, int count, HttpContext context) {\n    // code block\n  }\n)\n.setServiceUnavailableRetryStrategy(new ServiceUnavailableRetryStrategy() {\n  @Override\n  public boolean retryRequest(HttpResponse res, int count, HttpContext context) {\n    // code block\n  }\n)\n</code></pre>\n<p>Could someone help and explain what is the new class in httpclient5 and how this code block can be rewritten?</p>\n"},{"tags":["java","memory-leaks"],"answers":[{"comments":[{"owner":{"account_id":30061916,"reputation":11,"user_id":23037852,"display_name":"言予鹿"},"score":0,"creation_date":1701699980,"post_id":77599516,"comment_id":136804684,"body_markdown":"Thank you for your answer, but after I modified it according to your suggestion, it still won&#39;t be released automatically.","body":"Thank you for your answer, but after I modified it according to your suggestion, it still won&#39;t be released automatically."}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701693647,"creation_date":1701693647,"answer_id":77599516,"question_id":77599073,"body_markdown":"You are creating an additional `Mat` object that is not automatically released:\r\n\r\n    /*...*/ new Mat(bytes) /*...*/\r\n\r\nYou should separatly include it into the try with resources:\r\n\r\n    // image binary\r\n    byte[] bytes;\r\n    try (PointerScope pointerScope = new PointerScope();\r\n         Mat data = new Mat(bytes);\r\n         Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(data, opencv_imgcodecs.IMREAD_COLOR)) {\r\n    \r\n        // my bussiness logic\r\n    \r\n        pointerScope.deallocate();\r\n        \r\n    }","title":"How deal with org.bytedeco.opencv.opencv_core.Mat memory leak?","body":"<p>You are creating an additional <code>Mat</code> object that is not automatically released:</p>\n<pre><code>/*...*/ new Mat(bytes) /*...*/\n</code></pre>\n<p>You should separatly include it into the try with resources:</p>\n<pre><code>// image binary\nbyte[] bytes;\ntry (PointerScope pointerScope = new PointerScope();\n     Mat data = new Mat(bytes);\n     Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(data, opencv_imgcodecs.IMREAD_COLOR)) {\n\n    // my bussiness logic\n\n    pointerScope.deallocate();\n    \n}\n</code></pre>\n"}],"owner":{"account_id":30061916,"reputation":11,"user_id":23037852,"display_name":"言予鹿"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701693647,"creation_date":1701689461,"question_id":77599073,"body_markdown":"This is how I use org.bytedeco.opencv.opencv_core.Mat,core code:\r\n\r\n```\r\n// image binary\r\nbyte[] bytes;\r\ntry (PointerScope pointerScope = new PointerScope();\r\n     Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(new Mat(bytes), opencv_imgcodecs.IMREAD_COLOR)) {\r\n\r\n    // my bussiness logic\r\n\r\n    pointerScope.deallocate();\r\n    \r\n}\r\n```\r\n\r\nI found that the off-heap memory used by the Mat object will not be recycled, causing a memory leak. After the program runs for a period of time, OOM will occur.\r\n\r\nI tried using the mat.release() method but it didn&#39;t work","title":"How deal with org.bytedeco.opencv.opencv_core.Mat memory leak?","body":"<p>This is how I use org.bytedeco.opencv.opencv_core.Mat,core code:</p>\n<pre><code>// image binary\nbyte[] bytes;\ntry (PointerScope pointerScope = new PointerScope();\n     Mat originImage = org.bytedeco.opencv.global.opencv_imgcodecs.imdecode(new Mat(bytes), opencv_imgcodecs.IMREAD_COLOR)) {\n\n    // my bussiness logic\n\n    pointerScope.deallocate();\n    \n}\n</code></pre>\n<p>I found that the off-heap memory used by the Mat object will not be recycled, causing a memory leak. After the program runs for a period of time, OOM will occur.</p>\n<p>I tried using the mat.release() method but it didn't work</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":72918,"reputation":6140,"user_id":210290,"accept_rate":85,"display_name":"crusam"},"score":5,"creation_date":1351608667,"post_id":13141302,"comment_id":17874371,"body_markdown":"I think all has already been said, but maybe you are interested in the following article about try on ressources: http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html . This might also be helpful to understand the given answers.","body":"I think all has already been said, but maybe you are interested in the following article about try on ressources: <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/exceptions/&hellip;</a> . This might also be helpful to understand the given answers."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":136,"creation_date":1351608565,"post_id":13141382,"comment_id":17874312,"body_markdown":"The reason is simple: `Closeable.close()` throws `IOException`. A lot of `close()` methods that could benefit of try-with-resources throw other checked exceptions (eg `java.sql.Connection.close()` so `AutoCloseable.close()` throws `Exception`. Changing the existing `Closeable` contract would break all existing applications/library relying on the contract that `close()` only throws `IOException` and not all (checked) exceptions.","body":"The reason is simple: <code>Closeable.close()</code> throws <code>IOException</code>. A lot of <code>close()</code> methods that could benefit of try-with-resources throw other checked exceptions (eg <code>java.sql.Connection.close()</code> so <code>AutoCloseable.close()</code> throws <code>Exception</code>. Changing the existing <code>Closeable</code> contract would break all existing applications/library relying on the contract that <code>close()</code> only throws <code>IOException</code> and not all (checked) exceptions."},{"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":4,"creation_date":1351609076,"post_id":13141382,"comment_id":17874632,"body_markdown":"@MarkRotteveel: +1, thanks. I corrected my answer to reflect your suggestions and comments.","body":"@MarkRotteveel: +1, thanks. I corrected my answer to reflect your suggestions and comments."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":19,"creation_date":1390669200,"post_id":13141382,"comment_id":32195519,"body_markdown":"And also: `Closeable.close()` is required to be idempotent. `AutoCloseable.close()` is not, although it is still strongly recommended.","body":"And also: <code>Closeable.close()</code> is required to be idempotent. <code>AutoCloseable.close()</code> is not, although it is still strongly recommended."},{"owner":{"account_id":325916,"reputation":5887,"user_id":697099,"accept_rate":40,"display_name":"gerardw"},"score":2,"creation_date":1416083016,"post_id":13141382,"comment_id":42441906,"body_markdown":"Also, don&#39;t use the default `public void close( ) throws Exception` -- use a more specific exception if you can (e..g IOException)","body":"Also, don&#39;t use the default <code>public void close( ) throws Exception</code> -- use a more specific exception if you can (e..g IOException)"},{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1424432801,"post_id":13141382,"comment_id":45556796,"body_markdown":"Except this breaks backwards compatibility, because things that used to be Closable (like `javax.sql.Connection`) are now *only* AutoClosable, so won&#39;t work with libraries (like commons-io) anymore, because they only support Closable (Because they need to compile with non-Java 7 JDK) .","body":"Except this breaks backwards compatibility, because things that used to be Closable (like <code>javax.sql.Connection</code>) are now <i>only</i> AutoClosable, so won&#39;t work with libraries (like commons-io) anymore, because they only support Closable (Because they need to compile with non-Java 7 JDK) ."},{"owner":{"account_id":472706,"reputation":431,"user_id":881334,"accept_rate":50,"display_name":"Andrew McKinlay"},"score":1,"creation_date":1429488716,"post_id":13141382,"comment_id":47607950,"body_markdown":"&quot;When in doubt, use `AutoCloseable`, users of your class will be grateful.&quot; Wouldn&#39;t users prefer `Closeable`, since that guarantees idempotence and throws the more specific IOException?","body":"&quot;When in doubt, use <code>AutoCloseable</code>, users of your class will be grateful.&quot; Wouldn&#39;t users prefer <code>Closeable</code>, since that guarantees idempotence and throws the more specific IOException?"},{"owner":{"account_id":146428,"reputation":9156,"user_id":356887,"accept_rate":78,"display_name":"xdhmoore"},"score":3,"creation_date":1436999607,"post_id":13141382,"comment_id":50853798,"body_markdown":"`Closeable` does not *guarantee* idempotence.  It *requires* idempotence in a user&#39;s implementation of the `close()` method. And whether `IOException` is more specific/appropriate depends on the use case.","body":"<code>Closeable</code> does not <i>guarantee</i> idempotence.  It <i>requires</i> idempotence in a user&#39;s implementation of the <code>close()</code> method. And whether <code>IOException</code> is more specific/appropriate depends on the use case."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":1,"creation_date":1438092872,"post_id":13141382,"comment_id":51299466,"body_markdown":"&quot;When in doubt, use AutoCloseable, users of your class will be grateful&quot; - this doen&#39;t give any gain since older `Closable` was retrofitted to implement `AutoCloseable` too.","body":"&quot;When in doubt, use AutoCloseable, users of your class will be grateful&quot; - this doen&#39;t give any gain since older <code>Closable</code> was retrofitted to implement <code>AutoCloseable</code> too."},{"owner":{"account_id":600204,"reputation":22212,"user_id":303914,"display_name":"DWilches"},"score":2,"creation_date":1516247446,"post_id":13141382,"comment_id":83612829,"body_markdown":"You can also use Closable in a try-with-resources, as Closable is a subinterface of AutoClosable","body":"You can also use Closable in a try-with-resources, as Closable is a subinterface of AutoClosable"},{"owner":{"account_id":6495574,"reputation":495,"user_id":5028293,"display_name":"Ohad Bitton"},"score":0,"creation_date":1574162887,"post_id":13141382,"comment_id":104125093,"body_markdown":"This is not true for java 8 at least, `closeable` also works with the try-with-resources idiom","body":"This is not true for java 8 at least, <code>closeable</code> also works with the try-with-resources idiom"}],"tags":[],"owner":{"account_id":299251,"reputation":335925,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"comment_count":10,"down_vote_count":1,"up_vote_count":252,"is_accepted":false,"score":251,"last_activity_date":1560761508,"creation_date":1351608077,"answer_id":13141382,"question_id":13141302,"body_markdown":"[`AutoCloseable`](http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html) (introduced in Java 7) makes it possible to use the [***try-with-resources***][1] idiom:\r\n\r\n\tpublic class MyResource implements AutoCloseable {\r\n\t\t\r\n\t\tpublic void close() throws Exception {\r\n\t\t\tSystem.out.println(&quot;Closing!&quot;);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nNow you can say:\r\n\r\n\ttry (MyResource res = new MyResource()) {\r\n\t\t// use resource here\r\n\t}\r\n\r\nand JVM will call `close()` automatically for you.\r\n\r\n[`Closeable`](http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html) is an older interface. &lt;del&gt;For some reason&lt;/del&gt; To preserve backward compatibility, language designers decided to create a separate one.  This allows not only all `Closeable` classes (like streams throwing `IOException`) to be used in try-with-resources, but also allows throwing more general checked exceptions from `close()`.\r\n\r\nWhen in doubt, use `AutoCloseable`, users of your class will be grateful.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"implements Closeable or implements AutoCloseable","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/AutoCloseable.html\" rel=\"noreferrer\"><code>AutoCloseable</code></a> (introduced in Java 7) makes it possible to use the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\"><strong><em>try-with-resources</em></strong></a> idiom:</p>\n\n<pre><code>public class MyResource implements AutoCloseable {\n\n    public void close() throws Exception {\n        System.out.println(\"Closing!\");\n    }\n\n}\n</code></pre>\n\n<p>Now you can say:</p>\n\n<pre><code>try (MyResource res = new MyResource()) {\n    // use resource here\n}\n</code></pre>\n\n<p>and JVM will call <code>close()</code> automatically for you.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html\" rel=\"noreferrer\"><code>Closeable</code></a> is an older interface. <del>For some reason</del> To preserve backward compatibility, language designers decided to create a separate one.  This allows not only all <code>Closeable</code> classes (like streams throwing <code>IOException</code>) to be used in try-with-resources, but also allows throwing more general checked exceptions from <code>close()</code>.</p>\n\n<p>When in doubt, use <code>AutoCloseable</code>, users of your class will be grateful.</p>\n"},{"comments":[{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":3,"creation_date":1422283980,"post_id":13141468,"comment_id":44676264,"body_markdown":"Why only with a `PrintWriter`? Especially `AutoClosable` objects can be used in many more circumstances than just `PrintWriter`s...","body":"Why only with a <code>PrintWriter</code>? Especially <code>AutoClosable</code> objects can be used in many more circumstances than just <code>PrintWriter</code>s..."},{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":3,"creation_date":1422301730,"post_id":13141468,"comment_id":44686411,"body_markdown":"You are absolutely right. The question was about `PrintWriter` so I mentioned it to be more specific.","body":"You are absolutely right. The question was about <code>PrintWriter</code> so I mentioned it to be more specific."},{"owner":{"account_id":1685307,"reputation":1623,"user_id":1548776,"display_name":"ᴠɪɴᴄᴇɴᴛ"},"score":7,"creation_date":1512137375,"post_id":13141468,"comment_id":82147695,"body_markdown":"Why describe the situation for Java 6 in the context of `AutoCloseable`? Better show a `try-with-resources` instead …","body":"Why describe the situation for Java 6 in the context of <code>AutoCloseable</code>? Better show a <code>try-with-resources</code> instead …"}],"tags":[],"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"comment_count":3,"down_vote_count":5,"up_vote_count":53,"is_accepted":true,"score":48,"last_activity_date":1701693620,"creation_date":1351608303,"answer_id":13141468,"question_id":13141302,"body_markdown":"In the code you have posted, you don&#39;t need to implement [`AutoCloseable`][1].\r\n\r\nYou only have to (or should) implement [`Closeable`][2] or [`AutoCloseable`][1] if you are about to implement your own `PrintWriter`, which handles files or any other resources which needs to be closed.\r\n\r\nIn your implementation, it is enough to call `pw.close()`. You should do this in a finally block:\r\n\r\n    PrintWriter pw = null;\r\n    try {\r\n       File file = new File(&quot;C:\\\\test.txt&quot;);\r\n       pw = new PrintWriter(file);\r\n    } catch (IOException e) {\r\n       System.out.println(&quot;bad things happen&quot;);\r\n    } finally {\r\n       if (pw != null) {\r\n          try {\r\n             pw.close();\r\n          } catch (IOException e) {\r\n          }\r\n       }\r\n    }\r\n\r\nThe code above is Java 6 related. In Java 7 this can be done more elegantly (see [this answer][3]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\r\n  [3]: https://stackoverflow.com/a/13141382/714965","title":"implements Closeable or implements AutoCloseable","body":"<p>In the code you have posted, you don't need to implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a>.</p>\n<p>You only have to (or should) implement <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\" rel=\"nofollow noreferrer\"><code>Closeable</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\"><code>AutoCloseable</code></a> if you are about to implement your own <code>PrintWriter</code>, which handles files or any other resources which needs to be closed.</p>\n<p>In your implementation, it is enough to call <code>pw.close()</code>. You should do this in a finally block:</p>\n<pre><code>PrintWriter pw = null;\ntry {\n   File file = new File(&quot;C:\\\\test.txt&quot;);\n   pw = new PrintWriter(file);\n} catch (IOException e) {\n   System.out.println(&quot;bad things happen&quot;);\n} finally {\n   if (pw != null) {\n      try {\n         pw.close();\n      } catch (IOException e) {\n      }\n   }\n}\n</code></pre>\n<p>The code above is Java 6 related. In Java 7 this can be done more elegantly (see <a href=\"https://stackoverflow.com/a/13141382/714965\">this answer</a>).</p>\n"},{"comments":[{"owner":{"account_id":2048853,"reputation":1976,"user_id":1828296,"accept_rate":75,"display_name":"lospejos"},"score":9,"creation_date":1468422834,"post_id":13141492,"comment_id":64123413,"body_markdown":"Just implement **Closable** for streams-related classes, and **AutoClosable** for others which requires autoclose feature.","body":"Just implement <b>Closable</b> for streams-related classes, and <b>AutoClosable</b> for others which requires autoclose feature."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":92,"is_accepted":false,"score":92,"last_activity_date":1617640131,"creation_date":1351608378,"answer_id":13141492,"question_id":13141302,"body_markdown":"[`Closeable` extends `AutoCloseable`][1], and is specifically dedicated to IO streams: it throws `IOException` instead of `Exception`, and is idempotent, whereas `AutoCloseable` doesn&#39;t provide this guarantee.\r\n\r\nThis is all explained in the javadoc of both interfaces.\r\n\r\nImplementing `AutoCloseable` (or `Closeable`) allows a class to be used as a resource of the [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) construct introduced in Java 7, which allows closing such resources automatically at the end of a block, without having to add a `finally` block which closes the resource explicitly.\r\n\r\nYour class doesn&#39;t represent a closeable resource, and there&#39;s absolutely no point in implementing this interface: an `IOTest` can&#39;t be closed. It shouldn&#39;t even be possible to instantiate it, since it doesn&#39;t have any instance method. Remember that implementing an interface means that there is a **is-a** relationship between the class and the interface. You have no such relationship here.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html","title":"implements Closeable or implements AutoCloseable","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Closeable.html\" rel=\"noreferrer\"><code>Closeable</code> extends <code>AutoCloseable</code></a>, and is specifically dedicated to IO streams: it throws <code>IOException</code> instead of <code>Exception</code>, and is idempotent, whereas <code>AutoCloseable</code> doesn't provide this guarantee.</p>\n<p>This is all explained in the javadoc of both interfaces.</p>\n<p>Implementing <code>AutoCloseable</code> (or <code>Closeable</code>) allows a class to be used as a resource of the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> construct introduced in Java 7, which allows closing such resources automatically at the end of a block, without having to add a <code>finally</code> block which closes the resource explicitly.</p>\n<p>Your class doesn't represent a closeable resource, and there's absolutely no point in implementing this interface: an <code>IOTest</code> can't be closed. It shouldn't even be possible to instantiate it, since it doesn't have any instance method. Remember that implementing an interface means that there is a <strong>is-a</strong> relationship between the class and the interface. You have no such relationship here.</p>\n"},{"comments":[{"owner":{"account_id":1573710,"reputation":448,"user_id":3040844,"display_name":"raxetul"},"score":0,"creation_date":1546505429,"post_id":42857248,"comment_id":94874022,"body_markdown":"It is better to write the output also so there will be no need for a trial project for such a short code.","body":"It is better to write the output also so there will be no need for a trial project for such a short code."},{"owner":{"account_id":11583698,"reputation":69,"user_id":8486647,"display_name":"Shailesh Waghmare"},"score":0,"creation_date":1580739425,"post_id":42857248,"comment_id":106185676,"body_markdown":"In the close() method, don&#39;t we need to close the resource explicitly? There is only print statement perhaps.","body":"In the close() method, don&#39;t we need to close the resource explicitly? There is only print statement perhaps."},{"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"score":0,"creation_date":1580745538,"post_id":42857248,"comment_id":106189381,"body_markdown":"@ShaileshWaghmare yes exactly. but for the testing purpose i have mention in the Code snip.","body":"@ShaileshWaghmare yes exactly. but for the testing purpose i have mention in the Code snip."},{"owner":{"account_id":11583698,"reputation":69,"user_id":8486647,"display_name":"Shailesh Waghmare"},"score":0,"creation_date":1580801935,"post_id":42857248,"comment_id":106207379,"body_markdown":"@LovaChittumuri So will it be like `this.close()` or something in code?, because it is called automatically.(just to be sure)","body":"@LovaChittumuri So will it be like <code>this.close()</code> or something in code?, because it is called automatically.(just to be sure)"}],"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1548661223,"creation_date":1489752720,"answer_id":42857248,"question_id":13141302,"body_markdown":"Here is the small example\r\n\r\n    public class TryWithResource {\r\n\r\n        public static void main(String[] args) {\r\n            try (TestMe r = new TestMe()) {\r\n                r.generalTest();\r\n            } catch(Exception e) {\r\n                System.out.println(&quot;From Exception Block&quot;);\r\n            } finally {\r\n                System.out.println(&quot;From Final Block&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    \r\n    public class TestMe implements AutoCloseable {\r\n    \r\n    \t@Override\r\n    \tpublic void close() throws Exception {\r\n    \t\tSystem.out.println(&quot; From Close -  AutoCloseable  &quot;);\r\n    \t}\r\n    \r\n    \tpublic void generalTest() {\r\n    \t\tSystem.out.println(&quot; GeneralTest &quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nHere is the output:\r\n\r\n    GeneralTest \r\n    From Close -  AutoCloseable  \r\n    From Final Block","title":"implements Closeable or implements AutoCloseable","body":"<p>Here is the small example</p>\n\n<pre><code>public class TryWithResource {\n\n    public static void main(String[] args) {\n        try (TestMe r = new TestMe()) {\n            r.generalTest();\n        } catch(Exception e) {\n            System.out.println(\"From Exception Block\");\n        } finally {\n            System.out.println(\"From Final Block\");\n        }\n    }\n}\n\n\n\npublic class TestMe implements AutoCloseable {\n\n    @Override\n    public void close() throws Exception {\n        System.out.println(\" From Close -  AutoCloseable  \");\n    }\n\n    public void generalTest() {\n        System.out.println(\" GeneralTest \");\n    }\n}\n</code></pre>\n\n<p>Here is the output:</p>\n\n<pre><code>GeneralTest \nFrom Close -  AutoCloseable  \nFrom Final Block\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4047119,"reputation":303,"user_id":3328022,"display_name":"inder"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501757456,"creation_date":1494328947,"answer_id":43868471,"question_id":13141302,"body_markdown":"The `try-with-resources` Statement.\r\n    \r\nThe `try-with-resources statement` is a `try` statement that declares one or more resources. A `resource` is an object that must be closed after the program is finished with it. The `try-with-resources statement` ensures that each resource is closed at the end of the statement. Any object that implements `java.lang.AutoCloseable`, which includes all objects which implement `java.io.Closeable`, can be used as a resource.\r\n    \r\nThe following example reads the first line from a file. It uses an instance of `BufferedReader` to read data from the file. `BufferedReader` is a resource that must be closed after the program is finished with it:\r\n\r\n    \r\n    static String readFirstLineFromFile(String path) throws IOException {\r\n        try (BufferedReader br =\r\n                       new BufferedReader(new FileReader(path))) {\r\n            return br.readLine();\r\n        }\r\n    }\r\n\r\nIn this example, the resource declared in the try-with-resources statement is a BufferedReader. The declaration statement appears within parentheses immediately after the try keyword. The class `BufferedReader`, in Java SE 7 and later, implements the interface `java.lang.AutoCloseable`. Because the `BufferedReader` instance is declared in a try-with-resource statement, it will be closed regardless of whether the try statement completes normally or abruptly (as a result of the method `BufferedReader.readLine` throwing an `IOException`).\r\n    \r\nPrior to Java SE 7, you can use a `finally` block to ensure that a resource is closed regardless of whether the try statement completes normally or abruptly. The following example uses a `finally` block instead of a `try-with-resources` statement:\r\n\r\n    \r\n    static String readFirstLineFromFileWithFinallyBlock(String path)\r\n                                                         throws IOException {\r\n        BufferedReader br = new BufferedReader(new FileReader(path));\r\n        try {\r\n            return br.readLine();\r\n        } finally {\r\n            if (br != null) br.close();\r\n        }\r\n\r\n    }\r\n    \r\nPlease [refer to the docs](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html).","title":"implements Closeable or implements AutoCloseable","body":"<p>The <code>try-with-resources</code> Statement.</p>\n\n<p>The <code>try-with-resources statement</code> is a <code>try</code> statement that declares one or more resources. A <code>resource</code> is an object that must be closed after the program is finished with it. The <code>try-with-resources statement</code> ensures that each resource is closed at the end of the statement. Any object that implements <code>java.lang.AutoCloseable</code>, which includes all objects which implement <code>java.io.Closeable</code>, can be used as a resource.</p>\n\n<p>The following example reads the first line from a file. It uses an instance of <code>BufferedReader</code> to read data from the file. <code>BufferedReader</code> is a resource that must be closed after the program is finished with it:</p>\n\n<pre><code>static String readFirstLineFromFile(String path) throws IOException {\n    try (BufferedReader br =\n                   new BufferedReader(new FileReader(path))) {\n        return br.readLine();\n    }\n}\n</code></pre>\n\n<p>In this example, the resource declared in the try-with-resources statement is a BufferedReader. The declaration statement appears within parentheses immediately after the try keyword. The class <code>BufferedReader</code>, in Java SE 7 and later, implements the interface <code>java.lang.AutoCloseable</code>. Because the <code>BufferedReader</code> instance is declared in a try-with-resource statement, it will be closed regardless of whether the try statement completes normally or abruptly (as a result of the method <code>BufferedReader.readLine</code> throwing an <code>IOException</code>).</p>\n\n<p>Prior to Java SE 7, you can use a <code>finally</code> block to ensure that a resource is closed regardless of whether the try statement completes normally or abruptly. The following example uses a <code>finally</code> block instead of a <code>try-with-resources</code> statement:</p>\n\n<pre><code>static String readFirstLineFromFileWithFinallyBlock(String path)\n                                                     throws IOException {\n    BufferedReader br = new BufferedReader(new FileReader(path));\n    try {\n        return br.readLine();\n    } finally {\n        if (br != null) br.close();\n    }\n\n}\n</code></pre>\n\n<p>Please <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">refer to the docs</a>.</p>\n"},{"comments":[{"owner":{"account_id":11695031,"reputation":3614,"user_id":8561957,"display_name":"fountainhead"},"score":1,"creation_date":1567918064,"post_id":51520896,"comment_id":102106642,"body_markdown":"Instead of saying that &quot;This new interface is less strict than `Closeable`&quot;, I&#39;d suggest saying &quot;This new interface can be used in more general contexts, where the exception thrown during closing is not necessarily an IOException&quot;. In the Java universe, being &quot;less strict&quot; has a negative vibe about it.","body":"Instead of saying that &quot;This new interface is less strict than <code>Closeable</code>&quot;, I&#39;d suggest saying &quot;This new interface can be used in more general contexts, where the exception thrown during closing is not necessarily an IOException&quot;. In the Java universe, being &quot;less strict&quot; has a negative vibe about it."}],"tags":[],"owner":{"account_id":9172758,"reputation":995,"user_id":6819602,"accept_rate":55,"display_name":"Arvind Katte"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1564760009,"creation_date":1532527356,"answer_id":51520896,"question_id":13141302,"body_markdown":"Recently I have read a Java SE 8 Programmer Guide ii Book.\r\n\r\nI found something about the difference between `AutoCloseable` vs `Closeable`.\r\n\r\nThe `AutoCloseable` interface was introduced in Java 7. Before that, another interface\r\nexisted called `Closeable`. It was similar to what the language designers wanted, with the\r\nfollowing exceptions:\r\n\r\n - `Closeable` restricts the type of exception thrown to `IOException`.\r\n - `Closeable` requires implementations to be idempotent.\r\n\r\nThe language designers emphasize backward compatibility. Since changing the existing\r\ninterface was undesirable, they made a new one called `AutoCloseable`. This new\r\ninterface is less strict than `Closeable`. Since `Closeable` meets the requirements for\r\n`AutoCloseable`, it started implementing `AutoCloseable` when the latter was introduced.","title":"implements Closeable or implements AutoCloseable","body":"<p>Recently I have read a Java SE 8 Programmer Guide ii Book.</p>\n\n<p>I found something about the difference between <code>AutoCloseable</code> vs <code>Closeable</code>.</p>\n\n<p>The <code>AutoCloseable</code> interface was introduced in Java 7. Before that, another interface\nexisted called <code>Closeable</code>. It was similar to what the language designers wanted, with the\nfollowing exceptions:</p>\n\n<ul>\n<li><code>Closeable</code> restricts the type of exception thrown to <code>IOException</code>.</li>\n<li><code>Closeable</code> requires implementations to be idempotent.</li>\n</ul>\n\n<p>The language designers emphasize backward compatibility. Since changing the existing\ninterface was undesirable, they made a new one called <code>AutoCloseable</code>. This new\ninterface is less strict than <code>Closeable</code>. Since <code>Closeable</code> meets the requirements for\n<code>AutoCloseable</code>, it started implementing <code>AutoCloseable</code> when the latter was introduced.</p>\n"}],"owner":{"account_id":1991900,"reputation":1937,"user_id":1785745,"accept_rate":50,"display_name":"malas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175235,"favorite_count":0,"down_vote_count":2,"up_vote_count":180,"accepted_answer_id":13141468,"answer_count":6,"score":178,"last_activity_date":1701693620,"creation_date":1351607808,"question_id":13141302,"body_markdown":"I&#39;m in the process of learning Java and I cannot find any good explanation on the `implements Closeable` and the `implements AutoCloseable` interfaces.\r\n\r\nWhen I implemented an `interface Closeable`, my Eclipse IDE created a method `public void close() throws IOException`.\r\n\r\nI can close the stream using `pw.close();` without the interface. But, I cannot understand how I can implement the`close()` method using the interface. And, what is the purpose of this interface?\r\n\r\nAlso I would like to know: how can I check if `IOstream` was really closed?\r\n\r\nI was using the basic code below \r\n\r\n    import java.io.*;\r\n    \r\n    public class IOtest implements AutoCloseable {\r\n\r\n\tpublic static void main(String[] args) throws IOException  {\r\n\t\t\r\n\t\tFile file = new File(&quot;C:\\\\test.txt&quot;);\r\n\t\tPrintWriter pw = new PrintWriter(file);\r\n\t\t\r\n\t\tSystem.out.println(&quot;file has been created&quot;);\r\n\t\t\r\n\t\tpw.println(&quot;file has been created&quot;);\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void close() throws IOException {\r\n\t\t\r\n\t\t\r\n\t}","title":"implements Closeable or implements AutoCloseable","body":"<p>I'm in the process of learning Java and I cannot find any good explanation on the <code>implements Closeable</code> and the <code>implements AutoCloseable</code> interfaces.</p>\n\n<p>When I implemented an <code>interface Closeable</code>, my Eclipse IDE created a method <code>public void close() throws IOException</code>.</p>\n\n<p>I can close the stream using <code>pw.close();</code> without the interface. But, I cannot understand how I can implement the<code>close()</code> method using the interface. And, what is the purpose of this interface?</p>\n\n<p>Also I would like to know: how can I check if <code>IOstream</code> was really closed?</p>\n\n<p>I was using the basic code below </p>\n\n<pre><code>import java.io.*;\n\npublic class IOtest implements AutoCloseable {\n\npublic static void main(String[] args) throws IOException  {\n\n    File file = new File(\"C:\\\\test.txt\");\n    PrintWriter pw = new PrintWriter(file);\n\n    System.out.println(\"file has been created\");\n\n    pw.println(\"file has been created\");\n\n}\n\n@Override\npublic void close() throws IOException {\n\n\n}\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":20917186,"reputation":109,"user_id":15366599,"display_name":"Auloma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701693562,"creation_date":1701693562,"question_id":77599507,"body_markdown":"My goal is to read the content of a USB key on an android tablet.\r\nI am currently using a small project before integrating this feature to my initial app.\r\nI am using the libaums library as follow:\r\n\r\n```\r\npackage com.example.myapplication;\r\n\r\nimport android.Manifest;\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.hardware.usb.UsbDevice;\r\nimport android.hardware.usb.UsbManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport android.app.PendingIntent;\r\nimport android.content.Intent;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.IntentFilter;\r\nimport android.hardware.usb.UsbManager;\r\n\r\nimport me.jahnen.libaums.core.UsbMassStorageDevice;\r\nimport me.jahnen.libaums.core.fs.*;\r\nimport me.jahnen.libaums.*;\r\nimport me.jahnen.*;\r\nimport me.jahnen.libaums.core.fs.*;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    private static final String ACTION_USB_PERMISSION = &quot;com.emteria.usbpermissions.USB_PERMISSION&quot;;\r\n\r\n    Button btnLoad;\r\n    TextView tvLoad;\r\n    TextView tvUsb;\r\n    String fileName, filePath, fileContent;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btnLoad = findViewById(R.id.btnLoad);\r\n        tvLoad = findViewById(R.id.tvLoad);\r\n        tvUsb = findViewById(R.id.tvUsb);\r\n        fileName = &quot;myFile.txt&quot;;\r\n        filePath = &quot;myFileDir&quot;;\r\n\r\n        //btnLoad.setEnabled(isExternalStorageAvailableForRW());\r\n        tvUsb.setText(&quot;tv usb&quot;);\r\n        btnLoad.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n            }\r\n        });\r\n\r\n        UsbMassStorageDevice[] devices = UsbMassStorageDevice.getMassStorageDevices(this /* Context or Activity */);\r\n        int deviceNumber = devices.length;\r\n        tvLoad.setText(String.valueOf(deviceNumber));\r\n        UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\r\n\r\n        for(UsbMassStorageDevice device: devices) {\r\n            BroadcastReceiver usbReceiver = new BroadcastReceiver() {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent) {\r\n                    synchronized (this) {\r\n                        if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\r\n                            // La permission a &#233;t&#233; accord&#233;e, ex&#233;cutez votre code ici\r\n                            tvUsb.setText(&quot;Permission granted&quot;);\r\n//                            FileSystem currentFs = device.getPartitions().get(0).getFileSystem();\r\n\r\n                            try {\r\n                                device.init();\r\n                            } catch (IOException e) {\r\n                                Log.e(&quot;USB&quot;, e.getMessage());\r\n                                tvUsb.setText(e.getMessage());\r\n                            }\r\n                        } else {\r\n                            tvUsb.setText(&quot;Permission denied&quot;);\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\r\n            registerReceiver(usbReceiver, filter);\r\n\r\n            PendingIntent permissionIntent = PendingIntent.getBroadcast(\r\n                    this, 0, new Intent(ACTION_USB_PERMISSION), 0);\r\n            usbManager.requestPermission(device.getUsbDevice(), permissionIntent);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy problem is when I am calling device.init(), the USB key is ejected from the tablet without throwing any error.\r\nAfter that, an error is thrown explaining that there is no more USB device and the maximum try number has been reached.\r\n\r\nHas somebody an idea to solve the problem ?\r\n\r\nHere is the manifest:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MyApplication&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.emteria.usbpermissions.USB_PERMISSION&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\r\n\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\nI am running the app on Android 8.\r\nThanks for help !","title":"Android libaums: device.init() eject the device","body":"<p>My goal is to read the content of a USB key on an android tablet.\nI am currently using a small project before integrating this feature to my initial app.\nI am using the libaums library as follow:</p>\n<pre><code>package com.example.myapplication;\n\nimport android.Manifest;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.pm.PackageManager;\nimport android.hardware.usb.UsbDevice;\nimport android.hardware.usb.UsbManager;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.hardware.usb.UsbManager;\n\nimport me.jahnen.libaums.core.UsbMassStorageDevice;\nimport me.jahnen.libaums.core.fs.*;\nimport me.jahnen.libaums.*;\nimport me.jahnen.*;\nimport me.jahnen.libaums.core.fs.*;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String ACTION_USB_PERMISSION = &quot;com.emteria.usbpermissions.USB_PERMISSION&quot;;\n\n    Button btnLoad;\n    TextView tvLoad;\n    TextView tvUsb;\n    String fileName, filePath, fileContent;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btnLoad = findViewById(R.id.btnLoad);\n        tvLoad = findViewById(R.id.tvLoad);\n        tvUsb = findViewById(R.id.tvUsb);\n        fileName = &quot;myFile.txt&quot;;\n        filePath = &quot;myFileDir&quot;;\n\n        //btnLoad.setEnabled(isExternalStorageAvailableForRW());\n        tvUsb.setText(&quot;tv usb&quot;);\n        btnLoad.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n            }\n        });\n\n        UsbMassStorageDevice[] devices = UsbMassStorageDevice.getMassStorageDevices(this /* Context or Activity */);\n        int deviceNumber = devices.length;\n        tvLoad.setText(String.valueOf(deviceNumber));\n        UsbManager usbManager = (UsbManager) getSystemService(Context.USB_SERVICE);\n\n        for(UsbMassStorageDevice device: devices) {\n            BroadcastReceiver usbReceiver = new BroadcastReceiver() {\n                @Override\n                public void onReceive(Context context, Intent intent) {\n                    synchronized (this) {\n                        if (intent.getBooleanExtra(UsbManager.EXTRA_PERMISSION_GRANTED, false)) {\n                            // La permission a été accordée, exécutez votre code ici\n                            tvUsb.setText(&quot;Permission granted&quot;);\n//                            FileSystem currentFs = device.getPartitions().get(0).getFileSystem();\n\n                            try {\n                                device.init();\n                            } catch (IOException e) {\n                                Log.e(&quot;USB&quot;, e.getMessage());\n                                tvUsb.setText(e.getMessage());\n                            }\n                        } else {\n                            tvUsb.setText(&quot;Permission denied&quot;);\n                        }\n                    }\n                }\n            };\n\n            IntentFilter filter = new IntentFilter(ACTION_USB_PERMISSION);\n            registerReceiver(usbReceiver, filter);\n\n            PendingIntent permissionIntent = PendingIntent.getBroadcast(\n                    this, 0, new Intent(ACTION_USB_PERMISSION), 0);\n            usbManager.requestPermission(device.getUsbDevice(), permissionIntent);\n        }\n    }\n}\n</code></pre>\n<p>My problem is when I am calling device.init(), the USB key is ejected from the tablet without throwing any error.\nAfter that, an error is thrown explaining that there is no more USB device and the maximum try number has been reached.</p>\n<p>Has somebody an idea to solve the problem ?</p>\n<p>Here is the manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MyApplication&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.hardware.usb.action.USB_DEVICE_ATTACHED&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.emteria.usbpermissions.USB_PERMISSION&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n    &lt;/application&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.usb.host&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.USB_PERMISSION&quot; /&gt;\n\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I am running the app on Android 8.\nThanks for help !</p>\n"},{"tags":["java","spring-boot","hazelcast","hazelcast-imap"],"answers":[{"comments":[{"owner":{"account_id":24839747,"reputation":3,"user_id":18717917,"display_name":"Usama Zaheer"},"score":0,"creation_date":1701790263,"post_id":77599504,"comment_id":136817525,"body_markdown":"Thanks!\nConfirmed both keys are ending up to be in the same partition.","body":"Thanks! Confirmed both keys are ending up to be in the same partition."}],"tags":[],"owner":{"account_id":14230921,"reputation":836,"user_id":10280183,"display_name":"Mike Yawn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701693554,"creation_date":1701693554,"answer_id":77599504,"question_id":77598925,"body_markdown":"Insertion into a map is always going to be performed by the cluster member (and more specifically, the partition thread) than owns the key being inserted.  In your case, the ‘host’ keys both hashed to values that ended up being owned by the same member.  By having operations performed by the owning thread, rather than letting any member update any key, Hazelcast can ensure thread safe behavior without requiring that you lock the map before updating it.  (The keys may or may not have hashed to the same partition, but it seems that they must have hashed to partitions residing on the same member). ","title":"Hazelcast Cluster: Inconsistent Entry Additions Across Two Instances","body":"<p>Insertion into a map is always going to be performed by the cluster member (and more specifically, the partition thread) than owns the key being inserted.  In your case, the ‘host’ keys both hashed to values that ended up being owned by the same member.  By having operations performed by the owning thread, rather than letting any member update any key, Hazelcast can ensure thread safe behavior without requiring that you lock the map before updating it.  (The keys may or may not have hashed to the same partition, but it seems that they must have hashed to partitions residing on the same member).</p>\n"}],"owner":{"account_id":24839747,"reputation":3,"user_id":18717917,"display_name":"Usama Zaheer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599504,"answer_count":1,"score":0,"last_activity_date":1701693554,"creation_date":1701687912,"question_id":77598925,"body_markdown":"I&#39;m running two instances of an application, and each instance is supposed to add its host information to a Hazelcast map named &quot;hosts&quot; during startup.\r\n\r\n`HazelcastInstance hz = Hazelcast.newHazelcastInstance();\r\nIMap&lt;String, Void&gt; set = hz.getMap(&quot;hosts&quot;);\r\nset.set(host, Void, ttl, TimeUnit.SECONDS);`\r\n\r\nHowever, I&#39;ve noticed an unexpected behavior. Instance 1 is correctly adding its host information to the map, but strangely, it&#39;s also adding the host information of instance 2. On the other hand, instance 2 does not add any host information to the map.\r\n\r\n1- Both instances are using the same code to add entries to the &quot;hosts&quot; map.\r\n2- I have verified that the host information retrieved by each instance is correct.\r\n3- The cluster is correctly formed, as both instances are visible in the Hazelcast Management Center.\r\n4- The Map is also created and has 2 members. member 1 adds 2 entries but member 2 adds 0.\r\n\r\nI&#39;m trying to understand why instance 1 is adding entries for both itself and instance 2, while instance 2 is not adding any entries. The logic to add entries seems correct, and there are no apparent issues with the cluster formation.","title":"Hazelcast Cluster: Inconsistent Entry Additions Across Two Instances","body":"<p>I'm running two instances of an application, and each instance is supposed to add its host information to a Hazelcast map named &quot;hosts&quot; during startup.</p>\n<p><code>HazelcastInstance hz = Hazelcast.newHazelcastInstance(); IMap&lt;String, Void&gt; set = hz.getMap(&quot;hosts&quot;); set.set(host, Void, ttl, TimeUnit.SECONDS);</code></p>\n<p>However, I've noticed an unexpected behavior. Instance 1 is correctly adding its host information to the map, but strangely, it's also adding the host information of instance 2. On the other hand, instance 2 does not add any host information to the map.</p>\n<p>1- Both instances are using the same code to add entries to the &quot;hosts&quot; map.\n2- I have verified that the host information retrieved by each instance is correct.\n3- The cluster is correctly formed, as both instances are visible in the Hazelcast Management Center.\n4- The Map is also created and has 2 members. member 1 adds 2 entries but member 2 adds 0.</p>\n<p>I'm trying to understand why instance 1 is adding entries for both itself and instance 2, while instance 2 is not adding any entries. The logic to add entries seems correct, and there are no apparent issues with the cluster formation.</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":10506359,"reputation":57,"user_id":9135740,"display_name":"Ameen Oumer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701692915,"creation_date":1701692915,"question_id":77599447,"body_markdown":"the full error message goes like \r\n&gt; Cannot add or update a child row: a foreign key constraint fails (`phinder`.`storage`, CONSTRAINT `FK63lhdaxtuokuwqrojm6ue9qsh` FOREIGN KEY (`address_address_id`) REFERENCES `address` (`address_id`))\r\n\r\nMy pharmacy class looks like\r\n```\r\npublic class Pharmacy {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long pharmacyId;\r\n  private String pharmacyName;\r\n  private Double latitude;\r\n  private Double longitude;\r\n  private boolean isOpen;\r\n  private boolean isPrivate;\r\n  @OneToOne(cascade = CascadeType.ALL)\r\n  private Address address;\r\n  @OneToMany(cascade = CascadeType.ALL)\r\n  private Set&lt;User&gt; users;\r\n  @OneToMany(cascade = CascadeType.ALL)\r\n  private Set&lt;Storage&gt; storage;\r\n}\r\n```\r\n\r\nMy Adress class looks like\r\n```\r\n@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long addressId;\r\n    private String phoneNumber;\r\n    private String email;\r\n    private String country;\r\n    private String city;\r\n    private String subCity;\r\n    private String woreda;\r\n    private String houseNumber;\r\n```\r\n\r\nMy Storage Class looks like\r\n```\r\n@Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long storageId;\r\n  private String storageName;\r\n  @OneToOne(cascade = CascadeType.ALL)\r\n  private Address address;\r\n  private Long pharmacyId;\r\n  private Boolean isEnabled;\r\n```\r\n\r\nand the error is caused when i try to run the function below where it creates a new pharmacy object the creates a new storage and then assigns the storage to the pharmacy and then saves the pharmacy and due to cascade should save the rest of the objects\r\n\r\n```\r\npublic Pharmacy addPharmacy(Pharmacy pharmacy) {\r\n        Pharmacy registeredPharmacy = pharmacyRepo.save(pharmacy);\r\n        Storage storage = new Storage(\r\n            registeredPharmacy.getPharmacyName(),\r\n            registeredPharmacy.getPharmacyId(),\r\n            AddressCopier.copyObjectWithoutField(registeredPharmacy.getAddress(), &quot;addressId&quot;),\r\n            true\r\n        );\r\n        Set&lt;Storage&gt; storages = new HashSet&lt;&gt;();\r\n        storages.add(storage);\r\n        registeredPharmacy.setStorage(storages);\r\n        return pharmacyRepo.save(registeredPharmacy);\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\ni have tried the other answers to similar questions like saving the address first before saving the storage and pharmacy but i still get the same error and its not working so it&#39;d be wonderful if someone helps","title":"SQL Error: 1452, SQLState: 23000 - Cannot add or update a child row: a foreign key constraint fails","body":"<p>the full error message goes like</p>\n<blockquote>\n<p>Cannot add or update a child row: a foreign key constraint fails (<code>phinder</code>.<code>storage</code>, CONSTRAINT <code>FK63lhdaxtuokuwqrojm6ue9qsh</code> FOREIGN KEY (<code>address_address_id</code>) REFERENCES <code>address</code> (<code>address_id</code>))</p>\n</blockquote>\n<p>My pharmacy class looks like</p>\n<pre><code>public class Pharmacy {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long pharmacyId;\n  private String pharmacyName;\n  private Double latitude;\n  private Double longitude;\n  private boolean isOpen;\n  private boolean isPrivate;\n  @OneToOne(cascade = CascadeType.ALL)\n  private Address address;\n  @OneToMany(cascade = CascadeType.ALL)\n  private Set&lt;User&gt; users;\n  @OneToMany(cascade = CascadeType.ALL)\n  private Set&lt;Storage&gt; storage;\n}\n</code></pre>\n<p>My Adress class looks like</p>\n<pre><code>@Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long addressId;\n    private String phoneNumber;\n    private String email;\n    private String country;\n    private String city;\n    private String subCity;\n    private String woreda;\n    private String houseNumber;\n</code></pre>\n<p>My Storage Class looks like</p>\n<pre><code>@Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long storageId;\n  private String storageName;\n  @OneToOne(cascade = CascadeType.ALL)\n  private Address address;\n  private Long pharmacyId;\n  private Boolean isEnabled;\n</code></pre>\n<p>and the error is caused when i try to run the function below where it creates a new pharmacy object the creates a new storage and then assigns the storage to the pharmacy and then saves the pharmacy and due to cascade should save the rest of the objects</p>\n<pre><code>public Pharmacy addPharmacy(Pharmacy pharmacy) {\n        Pharmacy registeredPharmacy = pharmacyRepo.save(pharmacy);\n        Storage storage = new Storage(\n            registeredPharmacy.getPharmacyName(),\n            registeredPharmacy.getPharmacyId(),\n            AddressCopier.copyObjectWithoutField(registeredPharmacy.getAddress(), &quot;addressId&quot;),\n            true\n        );\n        Set&lt;Storage&gt; storages = new HashSet&lt;&gt;();\n        storages.add(storage);\n        registeredPharmacy.setStorage(storages);\n        return pharmacyRepo.save(registeredPharmacy);\n    }\n</code></pre>\n<p>i have tried the other answers to similar questions like saving the address first before saving the storage and pharmacy but i still get the same error and its not working so it'd be wonderful if someone helps</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1701753449,"post_id":77599439,"comment_id":136811685,"body_markdown":"The documentation for the Elasticsearch Java client is available at https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html","body":"The documentation for the Elasticsearch Java client is available at <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/client/java-api-client/&hellip;</a>"}],"owner":{"account_id":20216024,"reputation":1,"user_id":22126079,"display_name":"Andreas Pichler"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701692879,"creation_date":1701692818,"question_id":77599439,"body_markdown":"Hello dear community, \r\n\r\nI am currently migrating some ES queries from spring-data-elasticsearch 4.x to 5.x and have therefore switched from rhlc to elc. Now I am faced with the problem that some queries have to be rebuilt, but I don&#39;t know exactly how to rewrite or cast them so that they are compatible with the new client. Perhaps there are people here who have more experience with ES and could help me here. Would be very happy about it. \r\n\r\n1) How can I extend NativeQuerys with BoolQueryBuilders or how could I rewrite such queries so that they are equivalent to the elc? \r\n\r\n2) How can I extend NativeQueryBuilders with matchQuerys?\r\n\r\n3) How do aggregate on the elc?\r\n\r\n\r\n```\r\nimport org.springframework.data.elasticsearch.client.elc.NativeQuery;\r\nimport org.springframework.data.elasticsearch.client.elc.NativeQueryBuilder;\r\n\r\n\r\n//1.\r\nBoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n    boolQueryBuilder.must().addAll(Arrays.asList(\r\n      QueryBuilders.matchQuery(&quot;mappingId&quot;, mappingId),\r\n      QueryBuilders.matchQuery(&quot;artId&quot;, articleId)\r\n    ));\r\n    Query query = new NativeQueryBuilder().withQuery(**boolQueryBuilder**).withPageable(Pageable.unpaged()).build();\r\n\r\n//2.\r\nNativeQuery query = new NativeQueryBuilder()\r\n      .withQuery(**QueryBuilders.matchQuery(&quot;artId&quot;, articleId)**)\r\n      .build();\r\n\r\n//3.\r\nNativeQuery query = \r\nnew NativeQueryBuilder().withQuery(boolQueryBuilderForDealer).withPageable(Pageable.unpaged()).build();\r\n    query.addAggregation(**AggregationBuilders.terms(aggregation).field(aggregation).size(100)**);\r\n\r\n```\r\n\r\nCasting type, migrating from hlrc to elc ","title":"Migrating from spring-data-elasticsearch 4.x to 5.x","body":"<p>Hello dear community,</p>\n<p>I am currently migrating some ES queries from spring-data-elasticsearch 4.x to 5.x and have therefore switched from rhlc to elc. Now I am faced with the problem that some queries have to be rebuilt, but I don't know exactly how to rewrite or cast them so that they are compatible with the new client. Perhaps there are people here who have more experience with ES and could help me here. Would be very happy about it.</p>\n<ol>\n<li><p>How can I extend NativeQuerys with BoolQueryBuilders or how could I rewrite such queries so that they are equivalent to the elc?</p>\n</li>\n<li><p>How can I extend NativeQueryBuilders with matchQuerys?</p>\n</li>\n<li><p>How do aggregate on the elc?</p>\n</li>\n</ol>\n<pre><code>import org.springframework.data.elasticsearch.client.elc.NativeQuery;\nimport org.springframework.data.elasticsearch.client.elc.NativeQueryBuilder;\n\n\n//1.\nBoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\n    boolQueryBuilder.must().addAll(Arrays.asList(\n      QueryBuilders.matchQuery(&quot;mappingId&quot;, mappingId),\n      QueryBuilders.matchQuery(&quot;artId&quot;, articleId)\n    ));\n    Query query = new NativeQueryBuilder().withQuery(**boolQueryBuilder**).withPageable(Pageable.unpaged()).build();\n\n//2.\nNativeQuery query = new NativeQueryBuilder()\n      .withQuery(**QueryBuilders.matchQuery(&quot;artId&quot;, articleId)**)\n      .build();\n\n//3.\nNativeQuery query = \nnew NativeQueryBuilder().withQuery(boolQueryBuilderForDealer).withPageable(Pageable.unpaged()).build();\n    query.addAggregation(**AggregationBuilders.terms(aggregation).field(aggregation).size(100)**);\n\n</code></pre>\n<p>Casting type, migrating from hlrc to elc</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","many-to-many"],"answers":[{"comments":[{"owner":{"account_id":14387521,"reputation":1,"user_id":10393080,"display_name":"Mario Barragan"},"score":0,"creation_date":1701828598,"post_id":77599384,"comment_id":136822939,"body_markdown":"All options are failing for me unfortunately. Seems to be throwing a StackOverflow exception if I try to override the equals() method and when I add EqualsAndHashCode(of = &quot;id&quot;) / Getter / Setter","body":"All options are failing for me unfortunately. Seems to be throwing a StackOverflow exception if I try to override the equals() method and when I add EqualsAndHashCode(of = &quot;id&quot;) / Getter / Setter"},{"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"score":0,"creation_date":1701851347,"post_id":77599384,"comment_id":136824961,"body_markdown":"If you are using IntelliJ Idea, clearing the cache from the link below may help. Then, if you are using Maven, you can run the command below and try again.\n\n\n[Invalidate caches](https://www.jetbrains.com/help/idea/invalidate-caches.html). \n\n`mvn clean install -U`","body":"If you are using IntelliJ Idea, clearing the cache from the link below may help. Then, if you are using Maven, you can run the command below and try again.   <a href=\"https://www.jetbrains.com/help/idea/invalidate-caches.html\" rel=\"nofollow noreferrer\">Invalidate caches</a>.   <code>mvn clean install -U</code>"},{"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"score":0,"creation_date":1701852412,"post_id":77599384,"comment_id":136825112,"body_markdown":"Firstly, can you add `@Getter` and `@Setter` to both Task class and Tag class? please remove `@Data`","body":"Firstly, can you add <code>@Getter</code> and <code>@Setter</code> to both Task class and Tag class? please remove <code>@Data</code>"}],"tags":[],"owner":{"account_id":15039384,"reputation":1,"user_id":10854575,"display_name":"F. Kadıoğlu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701692358,"creation_date":1701692265,"answer_id":77599384,"question_id":77596749,"body_markdown":"Optional Solution 1 : Use @Getter and @Setter instead of @Data in the Task class.\r\n\r\nOptional Solution 2 : `@ToString` and `@EqualsAndHashCode` annotations within `@Data` annotation may cause problems. If you want to use `@Data`, you should override the toString(), equals() and hashCode() methods.\r\n\r\n\r\n\r\nOptional solution 3 : Just add `@EqualsAndHashCode(of = &quot;id&quot;)` to Task class.","title":"How do I remove a tag from a task with a @ManyToMany relationship using Spring Boot JPA?","body":"<p>Optional Solution 1 : Use @Getter and @Setter instead of @Data in the Task class.</p>\n<p>Optional Solution 2 : <code>@ToString</code> and <code>@EqualsAndHashCode</code> annotations within <code>@Data</code> annotation may cause problems. If you want to use <code>@Data</code>, you should override the toString(), equals() and hashCode() methods.</p>\n<p>Optional solution 3 : Just add <code>@EqualsAndHashCode(of = &quot;id&quot;)</code> to Task class.</p>\n"}],"owner":{"account_id":14387521,"reputation":1,"user_id":10393080,"display_name":"Mario Barragan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701692358,"creation_date":1701652061,"question_id":77596749,"body_markdown":"I&#39;m currently working on a task/project/tags web application in Java with extensive use of Spring Boot JPA (I&#39;m relatively new to this framework so bear with me). I&#39;ve declared a @ManyToMany relationship between the Task and Tag entity (defined below).\r\n\r\nTask Entity:\r\n\r\n```\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n@Entity()\r\n@Table(name = &quot;tasks_dim&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Task {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(updatable = false, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    private String status;\r\n\r\n    private String priority;\r\n\r\n    @Column(name = &quot;task_id_number&quot;, unique = true)\r\n    private String taskIdNumber;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(optional = false)\r\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private User user;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\r\n    @JoinTable(name = &quot;task_tags_dim&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;task_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\r\n    private Set&lt;Tag&gt; tags = new LinkedHashSet&lt;&gt;();\r\n\r\n    @Temporal(TemporalType.DATE)\r\n    @Column(name = &quot;due_date&quot;)\r\n    private Date dueDate;\r\n\r\n    public Task(String name, String status, String priority, User user) {\r\n        setName(name);\r\n        setDescription(description);\r\n        setStatus(status);\r\n        setPriority(priority);\r\n        setTaskIdNumber(new TaskIdNumberBuilder().buildTaskIdNumber());\r\n        setUser(user);\r\n        setDueDate(dueDate);\r\n        Timestamp currentTime = new Timestamp(new Date().getTime());\r\n        setCreatedOn(currentTime);\r\n        setLastUpdatedOn(currentTime);\r\n    }\r\n```\r\n\r\nTag Entity:\r\n\r\n```\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\n@Entity()\r\n@Table(name = &quot;tags_dim&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Tag {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(updatable = false, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String name;\r\n\r\n\r\n    @ManyToMany(mappedBy = &quot;tags&quot;, fetch = FetchType.LAZY)\r\n    private Set&lt;Task&gt; tasks = new LinkedHashSet&lt;&gt;();\r\n\r\n    public Tag(String name) {\r\n        setName(name);\r\n    }\r\n```\r\n\r\nHowever, I&#39;m having issues with my TagService class as I&#39;m unable to use getTags() within in my removeTag method. It returns an empty set, so there is nothing to remove even though I am adding a tag within my create() and addTag() method. If I make use of setTags() in create(), I still wouldn&#39;t be able to get any data from getTags() in the other methods.\r\nNote: \r\n\r\n - create() creates a new Tag object, add a link between the\r\n   newly-created tag object and its respective task, and save it into\r\n   the database \r\n- addTag() adds a link between an existing tag and a given\r\n- task removeTag() remove the link between an exising tag and given\r\n- task delete() deletes the tag all together (all links between the tag\r\n   and any task should be deleted)\r\n\r\n```\r\n@Service\r\n@Transactional\r\npublic class TagService {\r\n    @Autowired\r\n    private TagRepository tagRepository;\r\n    @Autowired\r\n    private TaskRepository taskRepository;\r\n\r\n    public Tag create(User user, Tag tag, Long task_id) {\r\n        try {\r\n            Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n            if (optionalTask.isPresent()) {\r\n                Tag tagDetails = new Tag(tag.getName());\r\n                Tag savedTag = tagRepository.save(tagDetails);\r\n                Task currentTask = optionalTask.get();\r\n\r\n                currentTask.getTags().add(savedTag);\r\n                taskRepository.save(currentTask);\r\n                return savedTag;\r\n            }\r\n        } catch(IllegalArgumentException e) {\r\n            throw new IllegalArgumentException(&quot;Tag &#39;&quot; + tag.getName() + &quot;&#39; already exists.&quot;);\r\n        }\r\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\r\n    }\r\n\r\n    public Tag addTag(Tag tag, Long task_id) {\r\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n        if(optionalTask.isPresent()) {\r\n            Task task = optionalTask.get();\r\n            try {\r\n                task.getTags().add(tag);\r\n                taskRepository.save(task);\r\n                return tag;\r\n            } catch(Exception e) {\r\n                throw new IllegalArgumentException(&quot;Tag &#39;&quot; + tag.getName() + &quot;&#39; is a duplicate entry.&quot;);\r\n            }\r\n        }\r\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\r\n    }\r\n\r\n\r\n    public Set&lt;Tag&gt; getByTask(Long task_id) {\r\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n        if(optionalTask.isPresent()) {\r\n            Set&lt;Tag&gt; myTags = optionalTask.get().getTags();\r\n            for(Tag tag: myTags) {\r\n                System.out.println(tag.getName());\r\n            }\r\n            return tagRepository.findByTasks(optionalTask.get());\r\n        }\r\n        throw new IllegalArgumentException(&quot;Task not found for the given task_id: &quot; + task_id);\r\n    }\r\n\r\n    public Set&lt;Tag&gt; removeTag(Tag tag, Long task_id) {\r\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\r\n        try {\r\n            if(optionalTask.isPresent()) {\r\n\r\n                Task currentTask = optionalTask.get();\r\n                System.out.println(currentTask.getTags());\r\n                return currentTask.getTags();\r\n            }\r\n        } catch(IllegalArgumentException e) {\r\n            throw new IllegalArgumentException(&quot;Tag not found for the given task_id: &quot; + task_id);\r\n        }\r\n        throw new NoSuchElementException(&quot;Request to remove tag from given task id &#39;&quot; + task_id + &quot;&#39; could not be processed&quot;);\r\n    }\r\n\r\n    public void delete(Tag tag) {\r\n        tagRepository.deleteById(tag);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried to make use of [Hibernate.initialize](https://stackoverflow.com/questions/17318340/how-hibernate-initialize-works) but no luck. Is &#39;FetchType.LAZY&#39; the ideal type for this use-case?","title":"How do I remove a tag from a task with a @ManyToMany relationship using Spring Boot JPA?","body":"<p>I'm currently working on a task/project/tags web application in Java with extensive use of Spring Boot JPA (I'm relatively new to this framework so bear with me). I've declared a @ManyToMany relationship between the Task and Tag entity (defined below).</p>\n<p>Task Entity:</p>\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@Entity()\n@Table(name = &quot;tasks_dim&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Task {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(updatable = false, nullable = false)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    private String status;\n\n    private String priority;\n\n    @Column(name = &quot;task_id_number&quot;, unique = true)\n    private String taskIdNumber;\n\n    @JsonIgnore\n    @ManyToOne(optional = false)\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    private User user;\n\n    @ManyToMany(fetch = FetchType.LAZY, cascade = {CascadeType.MERGE, CascadeType.PERSIST, CascadeType.DETACH})\n    @JoinTable(name = &quot;task_tags_dim&quot;,\n            joinColumns = @JoinColumn(name = &quot;task_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;tag_id&quot;))\n    private Set&lt;Tag&gt; tags = new LinkedHashSet&lt;&gt;();\n\n    @Temporal(TemporalType.DATE)\n    @Column(name = &quot;due_date&quot;)\n    private Date dueDate;\n\n    public Task(String name, String status, String priority, User user) {\n        setName(name);\n        setDescription(description);\n        setStatus(status);\n        setPriority(priority);\n        setTaskIdNumber(new TaskIdNumberBuilder().buildTaskIdNumber());\n        setUser(user);\n        setDueDate(dueDate);\n        Timestamp currentTime = new Timestamp(new Date().getTime());\n        setCreatedOn(currentTime);\n        setLastUpdatedOn(currentTime);\n    }\n</code></pre>\n<p>Tag Entity:</p>\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n@Entity()\n@Table(name = &quot;tags_dim&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Tag {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(updatable = false, nullable = false)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String name;\n\n\n    @ManyToMany(mappedBy = &quot;tags&quot;, fetch = FetchType.LAZY)\n    private Set&lt;Task&gt; tasks = new LinkedHashSet&lt;&gt;();\n\n    public Tag(String name) {\n        setName(name);\n    }\n</code></pre>\n<p>However, I'm having issues with my TagService class as I'm unable to use getTags() within in my removeTag method. It returns an empty set, so there is nothing to remove even though I am adding a tag within my create() and addTag() method. If I make use of setTags() in create(), I still wouldn't be able to get any data from getTags() in the other methods.\nNote:</p>\n<ul>\n<li>create() creates a new Tag object, add a link between the\nnewly-created tag object and its respective task, and save it into\nthe database</li>\n<li>addTag() adds a link between an existing tag and a given</li>\n<li>task removeTag() remove the link between an exising tag and given</li>\n<li>task delete() deletes the tag all together (all links between the tag\nand any task should be deleted)</li>\n</ul>\n<pre><code>@Service\n@Transactional\npublic class TagService {\n    @Autowired\n    private TagRepository tagRepository;\n    @Autowired\n    private TaskRepository taskRepository;\n\n    public Tag create(User user, Tag tag, Long task_id) {\n        try {\n            Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n            if (optionalTask.isPresent()) {\n                Tag tagDetails = new Tag(tag.getName());\n                Tag savedTag = tagRepository.save(tagDetails);\n                Task currentTask = optionalTask.get();\n\n                currentTask.getTags().add(savedTag);\n                taskRepository.save(currentTask);\n                return savedTag;\n            }\n        } catch(IllegalArgumentException e) {\n            throw new IllegalArgumentException(&quot;Tag '&quot; + tag.getName() + &quot;' already exists.&quot;);\n        }\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\n    }\n\n    public Tag addTag(Tag tag, Long task_id) {\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n        if(optionalTask.isPresent()) {\n            Task task = optionalTask.get();\n            try {\n                task.getTags().add(tag);\n                taskRepository.save(task);\n                return tag;\n            } catch(Exception e) {\n                throw new IllegalArgumentException(&quot;Tag '&quot; + tag.getName() + &quot;' is a duplicate entry.&quot;);\n            }\n        }\n        throw new NoSuchElementException(&quot;Task not found for the given task_id: &quot; + task_id);\n    }\n\n\n    public Set&lt;Tag&gt; getByTask(Long task_id) {\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n        if(optionalTask.isPresent()) {\n            Set&lt;Tag&gt; myTags = optionalTask.get().getTags();\n            for(Tag tag: myTags) {\n                System.out.println(tag.getName());\n            }\n            return tagRepository.findByTasks(optionalTask.get());\n        }\n        throw new IllegalArgumentException(&quot;Task not found for the given task_id: &quot; + task_id);\n    }\n\n    public Set&lt;Tag&gt; removeTag(Tag tag, Long task_id) {\n        Optional&lt;Task&gt; optionalTask = taskRepository.findById(task_id);\n        try {\n            if(optionalTask.isPresent()) {\n\n                Task currentTask = optionalTask.get();\n                System.out.println(currentTask.getTags());\n                return currentTask.getTags();\n            }\n        } catch(IllegalArgumentException e) {\n            throw new IllegalArgumentException(&quot;Tag not found for the given task_id: &quot; + task_id);\n        }\n        throw new NoSuchElementException(&quot;Request to remove tag from given task id '&quot; + task_id + &quot;' could not be processed&quot;);\n    }\n\n    public void delete(Tag tag) {\n        tagRepository.deleteById(tag);\n    }\n}\n</code></pre>\n<p>I've tried to make use of <a href=\"https://stackoverflow.com/questions/17318340/how-hibernate-initialize-works\">Hibernate.initialize</a> but no luck. Is 'FetchType.LAZY' the ideal type for this use-case?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-data-jpa","spring-data"],"owner":{"account_id":29808352,"reputation":1,"user_id":22844375,"display_name":"Furqan Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701691731,"creation_date":1701691731,"question_id":77599325,"body_markdown":"I am using Spring Boot 3.0.1 with Kotlin 1.7.21 and Spring Boot Starter Data JPA, and upon deleting and entity, I am getting \r\n\r\n&gt; org.hibernate.StaleStateException: Batch update returned unexpected\r\n&gt; row count from update [0]; actual row count: 0; expected: 1; statement\r\n&gt; executed: delete from article_tag where article_id=? and tag_id=?\r\n\r\nFollowing is my Article Entity which have a Many To Many relationship with Tag Entity\r\n\r\nWikiArticleDb.kt\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY, cascade= [CascadeType.ALL])\r\n    @JoinTable(name = &quot;article_tag&quot;,\r\n               joinColumns = [JoinColumn(name = &quot;article_id&quot;, referencedColumnName = &quot;id&quot;)],\r\n               inverseJoinColumns = [JoinColumn(name = &quot;tag_id&quot;, referencedColumnName = &quot;id&quot;)])\r\n    val tags: Set&lt;WikiTagDb&gt;? = null,\r\n\r\n\r\nWikiTagDb.kt\r\n\r\n    @Entity\r\n    @Table(name = &quot;wiki_tag&quot;)\r\n    @SequenceGenerator(name = &quot;WikiTagSequence&quot;, sequenceName = &quot;wiki_tag_id_seq&quot;, allocationSize = 1)\r\n    data class WikiTagDb(\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;WikiTagSequence&quot;)\r\n        override val id: Int = 0,\r\n    \r\n        val name: String,\r\n    \r\n        @Embedded\r\n        override val meta: WorkspaceEntityMetaImpl\r\n    ) : WorkspaceBasedEntity&lt;Int&gt;, WorkspaceEntityMeta by meta\r\n\r\nWikiArticleTagMappingDb.kt\r\n\r\n    @Entity\r\n    @Table(name = &quot;article_tag&quot;)\r\n    data class WikiArticleTagMappingDb (\r\n        @EmbeddedId\r\n        val key: ArticleTagKey\r\n    ) {\r\n        constructor(articleId: Int, tagId: Int): this(ArticleTagKey(articleId, tagId))\r\n        @Embeddable\r\n        data class ArticleTagKey (\r\n            @Column(name = &quot;article_id&quot;)\r\n            val articleId: Int,\r\n    \r\n            @Column(name = &quot;tag_id&quot;)\r\n            val tagId: Int\r\n        ): Serializable\r\n    }\r\n\r\nArticleTagMappingRepository.kt\r\n\r\n    @Repository\r\n    interface ArticleTagMappingRepository : JpaRepository&lt;WikiArticleTagMappingDb, WikiArticleTagMappingDb.ArticleTagKey&gt; {\r\n        fun findAllByKeyArticleId(articleId: Int): List&lt;WikiArticleTagMappingDb&gt;\r\n    \r\n        fun findAllByKeyArticleIdIn(articleIds: List&lt;Int&gt;): List&lt;WikiArticleTagMappingDb&gt;\r\n    \r\n        fun deleteAllByKeyArticleId(articleId: Int)\r\n    }\r\n\r\nSo when I am calling fun `deleteAllByKeyArticleId(articleId: Int)` then I am getting the above mentioned exception. Is it due to wrong entity mapping or wrong use of cascading?","title":"Why I am getting org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1;","body":"<p>I am using Spring Boot 3.0.1 with Kotlin 1.7.21 and Spring Boot Starter Data JPA, and upon deleting and entity, I am getting</p>\n<blockquote>\n<p>org.hibernate.StaleStateException: Batch update returned unexpected\nrow count from update [0]; actual row count: 0; expected: 1; statement\nexecuted: delete from article_tag where article_id=? and tag_id=?</p>\n</blockquote>\n<p>Following is my Article Entity which have a Many To Many relationship with Tag Entity</p>\n<p>WikiArticleDb.kt</p>\n<pre><code>@ManyToMany(fetch = FetchType.LAZY, cascade= [CascadeType.ALL])\n@JoinTable(name = &quot;article_tag&quot;,\n           joinColumns = [JoinColumn(name = &quot;article_id&quot;, referencedColumnName = &quot;id&quot;)],\n           inverseJoinColumns = [JoinColumn(name = &quot;tag_id&quot;, referencedColumnName = &quot;id&quot;)])\nval tags: Set&lt;WikiTagDb&gt;? = null,\n</code></pre>\n<p>WikiTagDb.kt</p>\n<pre><code>@Entity\n@Table(name = &quot;wiki_tag&quot;)\n@SequenceGenerator(name = &quot;WikiTagSequence&quot;, sequenceName = &quot;wiki_tag_id_seq&quot;, allocationSize = 1)\ndata class WikiTagDb(\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;WikiTagSequence&quot;)\n    override val id: Int = 0,\n\n    val name: String,\n\n    @Embedded\n    override val meta: WorkspaceEntityMetaImpl\n) : WorkspaceBasedEntity&lt;Int&gt;, WorkspaceEntityMeta by meta\n</code></pre>\n<p>WikiArticleTagMappingDb.kt</p>\n<pre><code>@Entity\n@Table(name = &quot;article_tag&quot;)\ndata class WikiArticleTagMappingDb (\n    @EmbeddedId\n    val key: ArticleTagKey\n) {\n    constructor(articleId: Int, tagId: Int): this(ArticleTagKey(articleId, tagId))\n    @Embeddable\n    data class ArticleTagKey (\n        @Column(name = &quot;article_id&quot;)\n        val articleId: Int,\n\n        @Column(name = &quot;tag_id&quot;)\n        val tagId: Int\n    ): Serializable\n}\n</code></pre>\n<p>ArticleTagMappingRepository.kt</p>\n<pre><code>@Repository\ninterface ArticleTagMappingRepository : JpaRepository&lt;WikiArticleTagMappingDb, WikiArticleTagMappingDb.ArticleTagKey&gt; {\n    fun findAllByKeyArticleId(articleId: Int): List&lt;WikiArticleTagMappingDb&gt;\n\n    fun findAllByKeyArticleIdIn(articleIds: List&lt;Int&gt;): List&lt;WikiArticleTagMappingDb&gt;\n\n    fun deleteAllByKeyArticleId(articleId: Int)\n}\n</code></pre>\n<p>So when I am calling fun <code>deleteAllByKeyArticleId(articleId: Int)</code> then I am getting the above mentioned exception. Is it due to wrong entity mapping or wrong use of cascading?</p>\n"},{"tags":["java","windows","hadoop"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701691569,"creation_date":1701691569,"answer_id":77599311,"question_id":77596640,"body_markdown":"1) Follow official documentation and uses latest, stable Hadoop (3.x)\r\n\r\n2) You need to fix your `hadoop.tmp.dir` config, at least, to be a Windows file path. Or you can run Hadoop in Linux VM or WSL2 or Docker, where you don&#39;t need to workaround (officially, undocumented) Windows modifications, as the Hadoop docs all assume you&#39;re using Linux only\r\n\r\n3) No one really writes much mapreduce code anymore when Spark, Flink, Beam, etc all exist. You don&#39;t need HDFS/YARN to run these (not that you need them for mapreduce either, but it&#39;s the default mode) ","title":"Hadoop Error: Exception message: &#39;/tmp/hadoop-user&#39; is not recognized as an internal or external command, operable program or batch file","body":"<ol>\n<li><p>Follow official documentation and uses latest, stable Hadoop (3.x)</p>\n</li>\n<li><p>You need to fix your <code>hadoop.tmp.dir</code> config, at least, to be a Windows file path. Or you can run Hadoop in Linux VM or WSL2 or Docker, where you don't need to workaround (officially, undocumented) Windows modifications, as the Hadoop docs all assume you're using Linux only</p>\n</li>\n<li><p>No one really writes much mapreduce code anymore when Spark, Flink, Beam, etc all exist. You don't need HDFS/YARN to run these (not that you need them for mapreduce either, but it's the default mode)</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22215122,"reputation":37,"user_id":16453686,"display_name":"Umer Arif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701691569,"creation_date":1701648606,"question_id":77596640,"body_markdown":"I&#39;m new to Hadoop, and I&#39;ve been following a guide I found on LinkedIn titled &quot;[Installation of Hadoop single node cluster and run simple applications like word count in Windows OS.][1]&quot; Everything was working fine until the end. However, when I ran the mapreducer.jar program to count word occurrences, I encountered the following error:\r\n\r\n    Exception message: &#39;/tmp/hadoop-Arif&#39; is not recognized as an internal or external command, operable program, or batch file.\r\n\r\nI have also confirmed that I can see the content of the input file. \r\nThis is the command I am using:\r\n\r\n    hadoop jar &quot;C:\\hadoop-2.8.0\\share\\hadoop\\mapreduce\\hadoop-mapreduce-examples-2.8.0.jar&quot; wordcount /inputdir/input_file.txt /temp/output\r\n\r\nI have also attached a screenshot of the command execution. I would really appreciate it if you could help me.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/installation-hadoop-single-node-cluster-run-simple-applications-k%3FtrackingId=ch0pwBKERUqzzOztP8EVIg%253D%253D/?trackingId=ch0pwBKERUqzzOztP8EVIg%3D%3D\r\n  [2]: https://i.stack.imgur.com/MlOXh.png","title":"Hadoop Error: Exception message: &#39;/tmp/hadoop-user&#39; is not recognized as an internal or external command, operable program or batch file","body":"<p>I'm new to Hadoop, and I've been following a guide I found on LinkedIn titled &quot;<a href=\"https://www.linkedin.com/pulse/installation-hadoop-single-node-cluster-run-simple-applications-k%3FtrackingId=ch0pwBKERUqzzOztP8EVIg%253D%253D/?trackingId=ch0pwBKERUqzzOztP8EVIg%3D%3D\" rel=\"nofollow noreferrer\">Installation of Hadoop single node cluster and run simple applications like word count in Windows OS.</a>&quot; Everything was working fine until the end. However, when I ran the mapreducer.jar program to count word occurrences, I encountered the following error:</p>\n<pre><code>Exception message: '/tmp/hadoop-Arif' is not recognized as an internal or external command, operable program, or batch file.\n</code></pre>\n<p>I have also confirmed that I can see the content of the input file.\nThis is the command I am using:</p>\n<pre><code>hadoop jar &quot;C:\\hadoop-2.8.0\\share\\hadoop\\mapreduce\\hadoop-mapreduce-examples-2.8.0.jar&quot; wordcount /inputdir/input_file.txt /temp/output\n</code></pre>\n<p>I have also attached a screenshot of the command execution. I would really appreciate it if you could help me.\n<a href=\"https://i.stack.imgur.com/MlOXh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MlOXh.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-security","httpclient"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1689158947,"post_id":76660268,"comment_id":135172924,"body_markdown":"It seems to be part of the `PoolingHttpClientConnectionManagerBuilder`, in other words, you need to configure a different connection manager than the one you&#39;re using right now. To be clear: this is a quick guess based on looking at the Javadoc of HttpClient 5.2.","body":"It seems to be part of the <code>PoolingHttpClientConnectionManagerBuilder</code>, in other words, you need to configure a different connection manager than the one you&#39;re using right now. To be clear: this is a quick guess based on looking at the Javadoc of HttpClient 5.2."},{"owner":{"account_id":28993024,"reputation":21,"user_id":22208313,"display_name":"Pankaj Nargesh"},"score":0,"creation_date":1689228315,"post_id":76660268,"comment_id":135184098,"body_markdown":"Thanks @MarkRotteveel, yes it&#39;s part of PoolingHttpClientConnectionManagerBuilder","body":"Thanks @MarkRotteveel, yes it&#39;s part of PoolingHttpClientConnectionManagerBuilder"},{"owner":{"account_id":4670821,"reputation":303,"user_id":3953227,"accept_rate":42,"display_name":"mvm"},"score":0,"creation_date":1693489587,"post_id":76660268,"comment_id":135770227,"body_markdown":"Did you change the implementation to fix this issue?  HttpClientBuilder to PoolingHttpClientConnectionManagerBuilder\ncannot find symbol symbol:   method setMaxConnTotal(int)\nError:   location: class org.apache.hc.client5.http.impl.classic.HttpClientBuilder","body":"Did you change the implementation to fix this issue?  HttpClientBuilder to PoolingHttpClientConnectionManagerBuilder cannot find symbol symbol:   method setMaxConnTotal(int) Error:   location: class org.apache.hc.client5.http.impl.classic.HttpClientBuilder"},{"owner":{"account_id":28993024,"reputation":21,"user_id":22208313,"display_name":"Pankaj Nargesh"},"score":0,"creation_date":1693577067,"post_id":76660268,"comment_id":135783518,"body_markdown":"Yes PoolingHttpClientConnectionManagerBuilder can be used","body":"Yes PoolingHttpClientConnectionManagerBuilder can be used"},{"owner":{"account_id":7494789,"reputation":698,"user_id":5695421,"accept_rate":25,"display_name":"dk7"},"score":1,"creation_date":1701096432,"post_id":76660268,"comment_id":136729195,"body_markdown":"@PankajNargesh do you think it would be more beneficial for others if you would provide the answer below and mark it as accepted?","body":"@PankajNargesh do you think it would be more beneficial for others if you would provide the answer below and mark it as accepted?"}],"answers":[{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701691201,"creation_date":1701691201,"answer_id":77599269,"question_id":76660268,"body_markdown":"As said in the comments, use the PoolingHttpClientConnectionManagerBuilder:\r\n\r\n     var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n         .setMaxConnPerRoute(50)\r\n         .setMaxConnTotal(200)\r\n         .setConnectionConfig(/* add connectionConfig */)\r\n         .build();\r\n\r\n     var client = HttpClients.custom()\r\n         .disableAutomaticRetries()\r\n         .setDefaultRequestConfig(/* add requestConfig */)\r\n         .build();","title":"how to use setMaxConnPerRoute and setMaxConnTotal with httpclient5?","body":"<p>As said in the comments, use the PoolingHttpClientConnectionManagerBuilder:</p>\n<pre><code> var connectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n     .setMaxConnPerRoute(50)\n     .setMaxConnTotal(200)\n     .setConnectionConfig(/* add connectionConfig */)\n     .build();\n\n var client = HttpClients.custom()\n     .disableAutomaticRetries()\n     .setDefaultRequestConfig(/* add requestConfig */)\n     .build();\n</code></pre>\n"}],"owner":{"account_id":28993024,"reputation":21,"user_id":22208313,"display_name":"Pankaj Nargesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701691201,"creation_date":1689066102,"question_id":76660268,"body_markdown":"setMaxConnPerRoute() and setMaxConnTotal() are not available with HttpClientBuilder for httpclient5\r\nmigrating httpclient 4.5 to 5.2 for spring boot 3 compatibility.\r\nBelow is the reference code: \r\n\r\n    BasicHttpClientConnectionManager cm = new BasicHttpClientConnectionManager();\r\n        cm.setConnectionConfig(connConfig);\r\n    \r\n        final CloseableHttpClient client = HttpClientBuilder\r\n                .create().disableAutomaticRetries()\r\n                .setDefaultRequestConfig(RequestConfig.custom()\r\n                    .setConnectionRequestTimeout(Timeout.ofMilliseconds(30000))\r\n                    .build())\r\n                .setConnectionManager(cm)\r\n                .setMaxConnPerRoute(50)\r\n                .setMaxConnTotal(200)\r\n                .build();","title":"how to use setMaxConnPerRoute and setMaxConnTotal with httpclient5?","body":"<p>setMaxConnPerRoute() and setMaxConnTotal() are not available with HttpClientBuilder for httpclient5\nmigrating httpclient 4.5 to 5.2 for spring boot 3 compatibility.\nBelow is the reference code:</p>\n<pre><code>BasicHttpClientConnectionManager cm = new BasicHttpClientConnectionManager();\n    cm.setConnectionConfig(connConfig);\n\n    final CloseableHttpClient client = HttpClientBuilder\n            .create().disableAutomaticRetries()\n            .setDefaultRequestConfig(RequestConfig.custom()\n                .setConnectionRequestTimeout(Timeout.ofMilliseconds(30000))\n                .build())\n            .setConnectionManager(cm)\n            .setMaxConnPerRoute(50)\n            .setMaxConnTotal(200)\n            .build();\n</code></pre>\n"},{"tags":["java","spring","aop","spring-aop","feign"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701682767,"post_id":77598291,"comment_id":136801585,"body_markdown":"I only see an `@Aspect` do you have `@Component` as well or added an `@Bean` method that creates this aspect?","body":"I only see an <code>@Aspect</code> do you have <code>@Component</code> as well or added an <code>@Bean</code> method that creates this aspect?"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1701688069,"post_id":77598291,"comment_id":136802468,"body_markdown":"@M.Deinum you are right. For some reason I was sure that `@Aspect` is enough to have a bean. Adding `@Component` solves the problem. Please add this as the answer and I&#39;ll accept it.","body":"@M.Deinum you are right. For some reason I was sure that <code>@Aspect</code> is enough to have a bean. Adding <code>@Component</code> solves the problem. Please add this as the answer and I&#39;ll accept it."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701690768,"creation_date":1701690768,"answer_id":77599217,"question_id":77598291,"body_markdown":"If there is only an `@Aspect` on your class it won&#39;t be detected and as such nothing will be applied as Spring AOP doesn&#39;t see it. \r\n\r\nYou can add `@Component` to your `@Aspect` annotated class which will make it available to Spring. \r\n\r\n```java\r\n@Component\r\n@Aspect\r\npublic class AfterReturningExample { ... }\r\n```\r\n\r\nAnother option is to write an `includeFilter` in an `@ComponentScan` to include all classes annotated with `@Aspect`. \r\n\r\n```java\r\n@SpringBootApplication\r\n@ComponentScan(includeFilter= { @Filter(type = FilterType.ANNOTATION, value=org.aspectj.lang.annotation.Aspect )}\r\n```\r\n\r\nWith this classes annotated with `@Aspect` (and not with `@Component`) will be included as well. \r\n\r\nEither way will work. ","title":"AOP pointcut is not working with Feign client","body":"<p>If there is only an <code>@Aspect</code> on your class it won't be detected and as such nothing will be applied as Spring AOP doesn't see it.</p>\n<p>You can add <code>@Component</code> to your <code>@Aspect</code> annotated class which will make it available to Spring.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Aspect\npublic class AfterReturningExample { ... }\n</code></pre>\n<p>Another option is to write an <code>includeFilter</code> in an <code>@ComponentScan</code> to include all classes annotated with <code>@Aspect</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ComponentScan(includeFilter= { @Filter(type = FilterType.ANNOTATION, value=org.aspectj.lang.annotation.Aspect )}\n</code></pre>\n<p>With this classes annotated with <code>@Aspect</code> (and not with <code>@Component</code>) will be included as well.</p>\n<p>Either way will work.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599217,"answer_count":1,"score":0,"last_activity_date":1701690768,"creation_date":1701681257,"question_id":77598291,"body_markdown":"In my project I have a Feign client extending API interface generated from OpenAPI spec:\r\n```java\r\n@FeignClient(name = &quot;customerClient&quot;, url = &quot;${spring.microservice.tenant-service-gateway.host}&quot;, configuration = FeignConfiguration.class)\r\npublic interface CustomerClient extends CustomersApi {\r\n\r\n}\r\n```\r\n`FeignConfiguration` introduces retry config for `500` response code:\r\n```java\r\n@Configuration\r\n@EnableAspectJAutoProxy\r\npublic class FeignConfiguration {\r\n\r\n    @Bean\r\n    public Retryer httpResponseCodeRetryer(\r\n            @Value(&quot;${feign.max-attempt-count}&quot;) int retryCount,\r\n            @Value(&quot;${feign.retry-period-seconds}&quot;) int retryPeriod\r\n    ) {\r\n        return new Retryer.Default(TimeUnit.SECONDS.toMillis(retryPeriod), TimeUnit.SECONDS.toMillis(3L), retryCount);\r\n    }\r\n\r\n    @Bean\r\n    public ErrorDecoder httpCodeErrorDecoder() {\r\n        return new HttpCodeErrorDecoder();\r\n    }\r\n\r\n    static class HttpCodeErrorDecoder implements ErrorDecoder {\r\n\r\n        @Override\r\n        public Exception decode(String methodKey, Response response) {\r\n            var exception = feign.FeignException.errorStatus(methodKey, response);\r\n            int status = response.status();\r\n            if (status == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\r\n                return new RetryableException(\r\n                        response.status(),\r\n                        exception.getMessage(),\r\n                        response.request().httpMethod(),\r\n                        exception,\r\n                        null,\r\n                        response.request());\r\n            }\r\n            return exception;\r\n        }\r\n    }\r\n}\r\n```\r\nWhat I want is to add retry functionality for `202` response code either. To achieve this I add this pointcut:\r\n```java\r\n@Aspect\r\npublic class AfterReturningExample {\r\n\r\n    @Around(&quot;execution(* com.project.client.CustomerClient.*(..))&quot;)\r\n    public Object customerClient(ProceedingJoinPoint pjp) throws Throwable {\r\n        var proceed = pjp.proceed();\r\n        //some logic here\r\n        return proceed;\r\n    }\r\n}\r\n```\r\nI&#39;ve tried to solve this by adding pointcut for the methods of `CustomersApi` like this:\r\n```java\r\n@Around(&quot;execution(* com.project.api.CustomersApi+.*(..))&quot;)\r\npublic Object customerApi(ProceedingJoinPoint pjp) throws Throwable {\r\n  var proceed = pjp.proceed();\r\n  //some logic here\r\n  return proceed;\r\n}\r\n```","title":"AOP pointcut is not working with Feign client","body":"<p>In my project I have a Feign client extending API interface generated from OpenAPI spec:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FeignClient(name = &quot;customerClient&quot;, url = &quot;${spring.microservice.tenant-service-gateway.host}&quot;, configuration = FeignConfiguration.class)\npublic interface CustomerClient extends CustomersApi {\n\n}\n</code></pre>\n<p><code>FeignConfiguration</code> introduces retry config for <code>500</code> response code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAspectJAutoProxy\npublic class FeignConfiguration {\n\n    @Bean\n    public Retryer httpResponseCodeRetryer(\n            @Value(&quot;${feign.max-attempt-count}&quot;) int retryCount,\n            @Value(&quot;${feign.retry-period-seconds}&quot;) int retryPeriod\n    ) {\n        return new Retryer.Default(TimeUnit.SECONDS.toMillis(retryPeriod), TimeUnit.SECONDS.toMillis(3L), retryCount);\n    }\n\n    @Bean\n    public ErrorDecoder httpCodeErrorDecoder() {\n        return new HttpCodeErrorDecoder();\n    }\n\n    static class HttpCodeErrorDecoder implements ErrorDecoder {\n\n        @Override\n        public Exception decode(String methodKey, Response response) {\n            var exception = feign.FeignException.errorStatus(methodKey, response);\n            int status = response.status();\n            if (status == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\n                return new RetryableException(\n                        response.status(),\n                        exception.getMessage(),\n                        response.request().httpMethod(),\n                        exception,\n                        null,\n                        response.request());\n            }\n            return exception;\n        }\n    }\n}\n</code></pre>\n<p>What I want is to add retry functionality for <code>202</code> response code either. To achieve this I add this pointcut:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\npublic class AfterReturningExample {\n\n    @Around(&quot;execution(* com.project.client.CustomerClient.*(..))&quot;)\n    public Object customerClient(ProceedingJoinPoint pjp) throws Throwable {\n        var proceed = pjp.proceed();\n        //some logic here\n        return proceed;\n    }\n}\n</code></pre>\n<p>I've tried to solve this by adding pointcut for the methods of <code>CustomersApi</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;execution(* com.project.api.CustomersApi+.*(..))&quot;)\npublic Object customerApi(ProceedingJoinPoint pjp) throws Throwable {\n  var proceed = pjp.proceed();\n  //some logic here\n  return proceed;\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","exception","axios"],"comments":[{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633258061,"post_id":69424023,"comment_id":122706946,"body_markdown":"what have you tried in the frontend?","body":"what have you tried in the frontend?"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633258115,"post_id":69424023,"comment_id":122706955,"body_markdown":"afai can tell from the pic, the information has gone inside the `data` object instead","body":"afai can tell from the pic, the information has gone inside the <code>data</code> object instead"},{"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"score":0,"creation_date":1633258503,"post_id":69424023,"comment_id":122707042,"body_markdown":"```\n    request.get(&#39;http://localhost:8080/throw&#39;)\n      .catch((error) =&gt; console.log(error.data));\n```\n this is literally the whole code on the frontend.\n`error.data` is undefined","body":"```     request.get(&#39;<a href=\"http://localhost:8080/throw&#39;\" rel=\"nofollow noreferrer\">localhost:8080/throw&#39;</a>)       .catch((error) =&gt; console.log(error.data)); ```  this is literally the whole code on the frontend. <code>error.data</code> is undefined"},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1633258571,"post_id":69424023,"comment_id":122707061,"body_markdown":"can you check inside `error.response.data`?","body":"can you check inside <code>error.response.data</code>?"},{"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"score":0,"creation_date":1633258648,"post_id":69424023,"comment_id":122707075,"body_markdown":"in the `error.response.data` there&#39;s only `error`, `path`, `status`, and `timestamp`. Nothing about the message","body":"in the <code>error.response.data</code> there&#39;s only <code>error</code>, <code>path</code>, <code>status</code>, and <code>timestamp</code>. Nothing about the message"}],"answers":[{"tags":[],"owner":{"account_id":22634519,"reputation":1022,"user_id":16811479,"display_name":"Evan Summers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668757453,"creation_date":1668757453,"answer_id":74486379,"question_id":69424023,"body_markdown":"Note that HTTP/2 doesn&#39;t support status text messages, so you&#39;ll always get an empty one on a HTTP/2 connection (often this means you get them in development but they&#39;re empty in production). https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText","title":"Axios statusText is always empty","body":"<p>Note that HTTP/2 doesn't support status text messages, so you'll always get an empty one on a HTTP/2 connection (often this means you get them in development but they're empty in production). <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Response/statusText</a></p>\n"},{"tags":[],"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701690757,"creation_date":1701690757,"answer_id":77599214,"question_id":69424023,"body_markdown":"The reason is Spring Boot set a `server.error.include-message` as `never` by default. Setting it to `always` returns the message in a response.","title":"Axios statusText is always empty","body":"<p>The reason is Spring Boot set a <code>server.error.include-message</code> as <code>never</code> by default. Setting it to <code>always</code> returns the message in a response.</p>\n"}],"owner":{"account_id":16007497,"reputation":159,"user_id":11552654,"display_name":"ProbDed"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":924,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77599214,"answer_count":2,"score":0,"last_activity_date":1701690757,"creation_date":1633257415,"question_id":69424023,"body_markdown":"I&#39;ve been using axios recently but I can&#39;t get the error message thrown by Spring Boot RuntimeException. \r\n\r\nI&#39;ve created a simple `RuntimeException` which throws 404 status:\r\n```java\r\n@ResponseStatus(HttpStatus.BAD_REQUEST)\r\npublic class BadRequestException extends RuntimeException {\r\n    public BadRequestException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```\r\n\r\nI make a GET request to one of my endpoint where all it does is throw the `BadRequestException` with some message:\r\n```java\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;/throw&quot;)\r\n    public ResponseEntity&lt;?&gt; throwError() {\r\n        throw new BadRequestException(&quot;This text should be in statusText&quot;);\r\n    }\r\n}\r\n```\r\n\r\n`console.log()` from the catch clause (`.catch((error) =&gt; console.log(error.response))`) is:\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, the `statusText` is just an empty string, where `&quot;This text should be in statusText&quot;` should be expected.\r\n\r\nUsing `fetch()` works perfectly fine, but switching from `axios` to `fetch` in my situation will be time-wasting.\r\n\r\nAm I missing something? Do I even throw the exceptions with my messages correctly?\r\n\r\nThanks in advance for all answers! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jEDtN.png","title":"Axios statusText is always empty","body":"<p>I've been using axios recently but I can't get the error message thrown by Spring Boot RuntimeException.</p>\n<p>I've created a simple <code>RuntimeException</code> which throws 404 status:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\npublic class BadRequestException extends RuntimeException {\n    public BadRequestException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n<p>I make a GET request to one of my endpoint where all it does is throw the <code>BadRequestException</code> with some message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController {\n\n    @GetMapping(&quot;/throw&quot;)\n    public ResponseEntity&lt;?&gt; throwError() {\n        throw new BadRequestException(&quot;This text should be in statusText&quot;);\n    }\n}\n</code></pre>\n<p><code>console.log()</code> from the catch clause (<code>.catch((error) =&gt; console.log(error.response))</code>) is:\n<a href=\"https://i.stack.imgur.com/jEDtN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jEDtN.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, the <code>statusText</code> is just an empty string, where <code>&quot;This text should be in statusText&quot;</code> should be expected.</p>\n<p>Using <code>fetch()</code> works perfectly fine, but switching from <code>axios</code> to <code>fetch</code> in my situation will be time-wasting.</p>\n<p>Am I missing something? Do I even throw the exceptions with my messages correctly?</p>\n<p>Thanks in advance for all answers!</p>\n"},{"tags":["java","spring","spring-boot","java-8"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701168710,"post_id":77563135,"comment_id":136739209,"body_markdown":"Don&#39;t call block in a reactive stack. You don&#39;t pass the pageable object you pass request parameters like page, size etc.","body":"Don&#39;t call block in a reactive stack. You don&#39;t pass the pageable object you pass request parameters like page, size etc."},{"owner":{"account_id":11287754,"reputation":1,"user_id":8277989,"display_name":"Tarun Singh"},"score":0,"creation_date":1701186936,"post_id":77563135,"comment_id":136742724,"body_markdown":"Thanks Deinum for your reply.Can you give small example of what you said it would be really helpful for me to understand this","body":"Thanks Deinum for your reply.Can you give small example of what you said it would be really helpful for me to understand this"},{"owner":{"account_id":305152,"reputation":789,"user_id":615119,"display_name":"Farhan Nasim"},"score":0,"creation_date":1701352667,"post_id":77563135,"comment_id":136766876,"body_markdown":"For passing request parameters you may construct the URI string with request params (`/demo?start=0&amp;max=10`) or use a `UriBuilder` instead: `webClieng.get().uri(uriBuilder -&gt; uriBuilder.path(&quot;/demo&quot;).queryParam(&quot;start&quot;, 0).queryparam(&quot;max&quot;, 10).build())....`","body":"For passing request parameters you may construct the URI string with request params (<code>&#47;demo?start=0&amp;max=10</code>) or use a <code>UriBuilder</code> instead: <code>webClieng.get().uri(uriBuilder -&gt; uriBuilder.path(&quot;&#47;demo&quot;).queryParam(&quot;start&quot;, 0).queryparam(&quot;max&quot;, 10).build())....</code>"},{"owner":{"account_id":11287754,"reputation":1,"user_id":8277989,"display_name":"Tarun Singh"},"score":0,"creation_date":1701760368,"post_id":77563135,"comment_id":136812358,"body_markdown":"Thanks  Farhan Nasim, it really solved my issue","body":"Thanks  Farhan Nasim, it really solved my issue"}],"owner":{"account_id":11287754,"reputation":1,"user_id":8277989,"display_name":"Tarun Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701690318,"creation_date":1701167582,"question_id":77563135,"body_markdown":"`I need to call an API through webclient.[Spring Boot]\r\n\r\nExample Rest controller API looks like ---\r\n\r\n\r\n\r\n\r\n`\r\n\r\n    @Getmapping(&quot;/demo&quot;)\r\n    \r\n    \r\n    public page&lt;Object&gt; find(Pageable pageable)\r\n    {\r\n         return repository.findall(pageable);\r\n    }\r\n\r\n\r\n\r\n\r\nWeb client call issues I&#39;m Facing. how to pass Pageable object argument in webclient and how to get the page return type object in webclient calling method.\r\n\r\nCode i tried :\r\n\r\n\r\n\r\n`webClient.get()\r\n         .uri(&quot;/demo&quot;)\r\n         .bodytomono(Page.class)\r\n         .block();`\r\n\r\n\r\n\r\nBut the above block throwing exception., My issue is like  how to pass pageable object argument through webclient and how to get the return type of page object in webclient.\r\n\r\nI&#39;m new to webclient can anyone please help on my issue.`","title":"Spring Boot WebClient- How to pass parameter in webclient Get call and how to get Page Object in return type","body":"<p>`I need to call an API through webclient.[Spring Boot]</p>\n<p>Example Rest controller API looks like ---</p>\n<p>`</p>\n<pre><code>@Getmapping(&quot;/demo&quot;)\n\n\npublic page&lt;Object&gt; find(Pageable pageable)\n{\n     return repository.findall(pageable);\n}\n</code></pre>\n<p>Web client call issues I'm Facing. how to pass Pageable object argument in webclient and how to get the page return type object in webclient calling method.</p>\n<p>Code i tried :</p>\n<p><code>webClient.get() .uri(&quot;/demo&quot;) .bodytomono(Page.class) .block();</code></p>\n<p>But the above block throwing exception., My issue is like  how to pass pageable object argument through webclient and how to get the return type of page object in webclient.</p>\n<p>I'm new to webclient can anyone please help on my issue.`</p>\n"},{"tags":["java","entity","implementation"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1417163858,"creation_date":1417163858,"answer_id":27184727,"question_id":27183825,"body_markdown":"This is very much opinion based (hence the close vote), but let&#39;s see if we can get some discussion going. Let&#39;s consider your proposition:\r\n \r\n**I want my entity classes to implement an interface that has nothing to do with persistence**\r\n\r\nPros:\r\n\r\n - Less duplication of class hierarchy. If something changes in the database, you might be able to have the program work as usual, or with only minor changes\r\n - Flatter class hierarchy. You&#39;ll be able to visualize your data without a layer translating it to your `Drawable` objects\r\n\r\nCons:\r\n\r\n - Entities are just data, and should not be responsible for drawing themselves. They should be transformed into domain objects first\r\n - Passing entities into other layers of the system can cause bugs, when they&#39;re treated by code as domain objects","title":"Should the Entity class implements interface?","body":"<p>This is very much opinion based (hence the close vote), but let's see if we can get some discussion going. Let's consider your proposition:</p>\n\n<p><strong>I want my entity classes to implement an interface that has nothing to do with persistence</strong></p>\n\n<p>Pros:</p>\n\n<ul>\n<li>Less duplication of class hierarchy. If something changes in the database, you might be able to have the program work as usual, or with only minor changes</li>\n<li>Flatter class hierarchy. You'll be able to visualize your data without a layer translating it to your <code>Drawable</code> objects</li>\n</ul>\n\n<p>Cons:</p>\n\n<ul>\n<li>Entities are just data, and should not be responsible for drawing themselves. They should be transformed into domain objects first</li>\n<li>Passing entities into other layers of the system can cause bugs, when they're treated by code as domain objects</li>\n</ul>\n"}],"owner":{"account_id":4190509,"reputation":1334,"user_id":3433230,"accept_rate":100,"display_name":"Tkachuk_Evgen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4654,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"closed_date":1417172073,"accepted_answer_id":27184727,"answer_count":1,"score":3,"last_activity_date":1701690291,"creation_date":1417159604,"question_id":27183825,"body_markdown":"I have my Entity classes and I want to represent them with graphic. In my realisation, I have Drawable interface and classes which implement this interface for each Entity. As for me it is obviously that entities should implement Drawable interface, but I hear from experienced developers that this is a bad practice. I little bit confused because JavaDoc says:\r\n\r\n&gt; Entities may extend both entity and non-entity classes, and non-entity classes may extend entity classes.","title":"Should the Entity class implements interface?","body":"<p>I have my Entity classes and I want to represent them with graphic. In my realisation, I have Drawable interface and classes which implement this interface for each Entity. As for me it is obviously that entities should implement Drawable interface, but I hear from experienced developers that this is a bad practice. I little bit confused because JavaDoc says:</p>\n<blockquote>\n<p>Entities may extend both entity and non-entity classes, and non-entity classes may extend entity classes.</p>\n</blockquote>\n"},{"tags":["java","swing","background","awt","gif"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1701693579,"post_id":77588842,"comment_id":136803417,"body_markdown":"You also need to translate the title, make sure the formatting is correct (i.e. your JSON also needs to be in a code block), and you need to explain what your program is supposed to do, and what it does instead (i.e. a [mre]).","body":"You also need to translate the title, make sure the formatting is correct (i.e. your JSON also needs to be in a code block), and you need to explain what your program is supposed to do, and what it does instead (i.e. a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."},{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1701885504,"post_id":77588842,"comment_id":136831331,"body_markdown":"FWIW, [this URL works for me](https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png)","body":"FWIW, <a href=\"https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png\" rel=\"nofollow noreferrer\">this URL works for me</a>"}],"owner":{"account_id":30044025,"reputation":1,"user_id":23024165,"display_name":"Lorenzo Graziano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701486088,"answer_count":0,"score":-1,"last_activity_date":1701689378,"creation_date":1701480876,"question_id":77588842,"body_markdown":"```\r\nprivate static final String API_KEY = &quot;df2eded0fb86f04538d49c28a73d1b00&quot;;\r\nprivate static final String CITY_NAME = &quot;Milan&quot;;\r\n\r\nprivate JPanel contentPane;\r\n\r\npublic WeatherBackgroundApp() throws InterruptedException {\r\n    Thread.sleep(5000);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setBounds(100, 100, 800, 600);\r\n    setLayout(null);\r\n    contentPane = new JPanel() {\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            System.out.println(&quot;Painting component...&quot;);\r\n\r\n            // Aggiungi questa riga per verificare se il metodo viene chiamato\r\n            g.setColor(Color.RED);\r\n            g.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\r\n        }\r\n    };\r\n    setContentPane(contentPane);\r\n\r\n    try {\r\n        JSONObject weatherData = getWeatherData();\r\n        updateBackground(weatherData);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\nprivate void updateBackground(JSONObject weatherData) {\r\n    String weatherCondition = getWeatherCondition(weatherData);\r\n    setContentPaneBackground(weatherCondition);\r\n    revalidate();\r\n    repaint();\r\n}\r\n\r\nprivate String getWeatherCondition(JSONObject weatherData) {\r\n    String weatherCondition = &quot;unknown&quot;;\r\n\r\n    try {\r\n        JSONArray weatherDescriptions= weatherData.getJSONObject(&quot;current&quot;).getJSONArray(&quot;weather_descriptions&quot;);\r\n        if (weatherDescriptions.length() &gt; 0) {\r\n            weatherCondition = weatherDescriptions.getString(0);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    System.out.println(&quot;Weather condition: &quot; + weatherCondition);\r\n    return weatherCondition;\r\n}\r\n\r\nprivate void setContentPaneBackground(String weatherCondition) {\r\n\r\n    String gifPath;\r\n\r\n    // Stampa la condizione meteo in ingresso per il debug\r\n    System.out.println(&quot;Weather condition (lowercase): &quot; + weatherCondition.toLowerCase());\r\n\r\n    if (weatherCondition.toLowerCase().contains(&quot;clear sky&quot;)) {\r\n        gifPath = &quot;sunny.gif&quot;;\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;overcast&quot;)) {\r\n        gifPath = &quot;overcast.gif&quot;;\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;fog&quot;)) {\r\n        System.out.println(&quot;ENTRATO&quot;);\r\n        gifPath = &quot;fog.gif&quot;;\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;rain&quot;) || weatherCondition.toLowerCase().contains(&quot;light rain&quot;) || weatherCondition.toLowerCase().contains(&quot;mist&quot;)) {\r\n        gifPath = &quot;rain.gif&quot;;\r\n        System.out.println(&quot;   ENTRATOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO&quot;);\r\n    } else if (weatherCondition.toLowerCase().contains(&quot;snow&quot;)) {\r\n        gifPath = &quot;snow.gif&quot;;\r\n    } else {\r\n        gifPath = &quot;default.gif&quot;;\r\n    }\r\n\r\n    System.out.println(&quot;Percorso del file GIF: &quot; + gifPath);\r\n\r\n    // Carica l&#39;immagine solo se il percorso &#232; corretto\r\n    try {\r\n        InputStream gifStream = getClass().getResourceAsStream(gifPath);\r\n        if (gifStream != null) {\r\n            Image gifImage = ImageIO.read(gifStream);\r\n            ImageIcon gifIcon = new ImageIcon(gifImage);\r\n\r\n            contentPane = new JPanel() {\r\n                @Override\r\n                protected void paintComponent(Graphics g) {\r\n                    super.paintComponent(g);\r\n                    g.drawImage(gifIcon.getImage(), 0, 0, getWidth(), getHeight(), this);\r\n                }\r\n            };\r\n            setContentPane(contentPane);\r\n            contentPane.revalidate();\r\n            contentPane.repaint();\r\n        } else {\r\n            System.out.println(&quot;File GIF non trovato.&quot;);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        System.out.println(&quot;Errore durante la lettura del file GIF. Percorso: &quot; + gifPath);\r\n    }\r\n}\r\n\r\nprivate JSONObject getWeatherData() throws Exception {\r\n    String apiUrl = &quot;http://api.weatherstack.com/current?access_key=&quot; + API_KEY + &quot;&amp;query=&quot; + CITY_NAME;\r\n    URL url = new URL(apiUrl);\r\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n    connection.setRequestMethod(&quot;GET&quot;);\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n    StringBuilder response = new StringBuilder();\r\n    String line;\r\n\r\n    while ((line = reader.readLine()) != null) {\r\n        response.append(line);\r\n    }\r\n\r\n    reader.close();\r\n    connection.disconnect();\r\n\r\n    String jsonResponse = response.toString();\r\n    System.out.println(&quot;JSON Response: &quot; + jsonResponse);\r\n\r\n    return new JSONObject(jsonResponse);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    System.out.println(System.getProperty(&quot;java.class.path&quot;));\r\n    EventQueue.invokeLater(() -&gt; {\r\n        try {\r\n            WeatherBackgroundApp frame = new WeatherBackgroundApp();\r\n            frame.setVisible(true);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nThe intent of the program was to take data from an API and use it to change the background of the frame based on the data obtained\r\n\r\nI can&#39;t get the resources to be used, I assume that the gifs are in the same directory as the java file, output:\r\n\r\nJSON Response: { &quot;request&quot;: { &quot;type&quot;: &quot;City&quot;, &quot;query&quot;: &quot;Milan, Italy&quot;, &quot;language&quot;: &quot;en&quot;, &quot;unit&quot;: &quot;m&quot; }, &quot;location&quot;: { &quot;name&quot;: &quot;Milan&quot;, &quot;country&quot;: &quot;Italy&quot;, &quot;region&quot;: &quot;Lombardia&quot;, &quot;lat&quot;: &quot;45.467&quot;, &quot;lon&quot;: &quot;9.200&quot;, &quot;timezone_id&quot;: &quot;Europe/Rome&quot;, &quot;localtime&quot;: &quot;2023-12-02 01:13&quot;, &quot;localtime_epoch&quot;: 1701479580, &quot;utc_offset&quot;: &quot;1.0&quot; }, &quot;current&quot;: { &quot;observation_time&quot;: &quot;12:13 AM&quot;, &quot;temperature&quot;: 6, &quot;weather_code&quot;: 248, &quot;weather_icons&quot;: \\[ &quot;https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png&quot; \\], &quot;weather_descriptions&quot;: \\[&quot;Fog&quot;\\], &quot;wind_speed&quot;: 6, &quot;wind_degree&quot;: 240, &quot;wind_dir&quot;: &quot;WSW&quot;, &quot;pressure&quot;: 993, &quot;precip&quot;: 0.1, &quot;humidity&quot;: 100, &quot;cloudcover&quot;: 100, &quot;feelslike&quot;: 6, &quot;uv_index&quot;: 1, &quot;visibility&quot;: 1, &quot;is_day&quot;: &quot;no&quot; } }\r\n\r\nI tried both the relative and the absolute path but it still doesn&#39;t work for me","title":"Problemi con java e gif come sfondo","body":"<pre><code>private static final String API_KEY = &quot;df2eded0fb86f04538d49c28a73d1b00&quot;;\nprivate static final String CITY_NAME = &quot;Milan&quot;;\n\nprivate JPanel contentPane;\n\npublic WeatherBackgroundApp() throws InterruptedException {\n    Thread.sleep(5000);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setBounds(100, 100, 800, 600);\n    setLayout(null);\n    contentPane = new JPanel() {\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            System.out.println(&quot;Painting component...&quot;);\n\n            // Aggiungi questa riga per verificare se il metodo viene chiamato\n            g.setColor(Color.RED);\n            g.drawRect(0, 0, getWidth() - 1, getHeight() - 1);\n        }\n    };\n    setContentPane(contentPane);\n\n    try {\n        JSONObject weatherData = getWeatherData();\n        updateBackground(weatherData);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void updateBackground(JSONObject weatherData) {\n    String weatherCondition = getWeatherCondition(weatherData);\n    setContentPaneBackground(weatherCondition);\n    revalidate();\n    repaint();\n}\n\nprivate String getWeatherCondition(JSONObject weatherData) {\n    String weatherCondition = &quot;unknown&quot;;\n\n    try {\n        JSONArray weatherDescriptions= weatherData.getJSONObject(&quot;current&quot;).getJSONArray(&quot;weather_descriptions&quot;);\n        if (weatherDescriptions.length() &gt; 0) {\n            weatherCondition = weatherDescriptions.getString(0);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    System.out.println(&quot;Weather condition: &quot; + weatherCondition);\n    return weatherCondition;\n}\n\nprivate void setContentPaneBackground(String weatherCondition) {\n\n    String gifPath;\n\n    // Stampa la condizione meteo in ingresso per il debug\n    System.out.println(&quot;Weather condition (lowercase): &quot; + weatherCondition.toLowerCase());\n\n    if (weatherCondition.toLowerCase().contains(&quot;clear sky&quot;)) {\n        gifPath = &quot;sunny.gif&quot;;\n    } else if (weatherCondition.toLowerCase().contains(&quot;overcast&quot;)) {\n        gifPath = &quot;overcast.gif&quot;;\n    } else if (weatherCondition.toLowerCase().contains(&quot;fog&quot;)) {\n        System.out.println(&quot;ENTRATO&quot;);\n        gifPath = &quot;fog.gif&quot;;\n    } else if (weatherCondition.toLowerCase().contains(&quot;rain&quot;) || weatherCondition.toLowerCase().contains(&quot;light rain&quot;) || weatherCondition.toLowerCase().contains(&quot;mist&quot;)) {\n        gifPath = &quot;rain.gif&quot;;\n        System.out.println(&quot;   ENTRATOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOO&quot;);\n    } else if (weatherCondition.toLowerCase().contains(&quot;snow&quot;)) {\n        gifPath = &quot;snow.gif&quot;;\n    } else {\n        gifPath = &quot;default.gif&quot;;\n    }\n\n    System.out.println(&quot;Percorso del file GIF: &quot; + gifPath);\n\n    // Carica l'immagine solo se il percorso è corretto\n    try {\n        InputStream gifStream = getClass().getResourceAsStream(gifPath);\n        if (gifStream != null) {\n            Image gifImage = ImageIO.read(gifStream);\n            ImageIcon gifIcon = new ImageIcon(gifImage);\n\n            contentPane = new JPanel() {\n                @Override\n                protected void paintComponent(Graphics g) {\n                    super.paintComponent(g);\n                    g.drawImage(gifIcon.getImage(), 0, 0, getWidth(), getHeight(), this);\n                }\n            };\n            setContentPane(contentPane);\n            contentPane.revalidate();\n            contentPane.repaint();\n        } else {\n            System.out.println(&quot;File GIF non trovato.&quot;);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(&quot;Errore durante la lettura del file GIF. Percorso: &quot; + gifPath);\n    }\n}\n\nprivate JSONObject getWeatherData() throws Exception {\n    String apiUrl = &quot;http://api.weatherstack.com/current?access_key=&quot; + API_KEY + &quot;&amp;query=&quot; + CITY_NAME;\n    URL url = new URL(apiUrl);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(&quot;GET&quot;);\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n    StringBuilder response = new StringBuilder();\n    String line;\n\n    while ((line = reader.readLine()) != null) {\n        response.append(line);\n    }\n\n    reader.close();\n    connection.disconnect();\n\n    String jsonResponse = response.toString();\n    System.out.println(&quot;JSON Response: &quot; + jsonResponse);\n\n    return new JSONObject(jsonResponse);\n}\n\npublic static void main(String[] args) {\n    System.out.println(System.getProperty(&quot;java.class.path&quot;));\n    EventQueue.invokeLater(() -&gt; {\n        try {\n            WeatherBackgroundApp frame = new WeatherBackgroundApp();\n            frame.setVisible(true);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    });\n}\n</code></pre>\n<p>The intent of the program was to take data from an API and use it to change the background of the frame based on the data obtained</p>\n<p>I can't get the resources to be used, I assume that the gifs are in the same directory as the java file, output:</p>\n<p>JSON Response: { &quot;request&quot;: { &quot;type&quot;: &quot;City&quot;, &quot;query&quot;: &quot;Milan, Italy&quot;, &quot;language&quot;: &quot;en&quot;, &quot;unit&quot;: &quot;m&quot; }, &quot;location&quot;: { &quot;name&quot;: &quot;Milan&quot;, &quot;country&quot;: &quot;Italy&quot;, &quot;region&quot;: &quot;Lombardia&quot;, &quot;lat&quot;: &quot;45.467&quot;, &quot;lon&quot;: &quot;9.200&quot;, &quot;timezone_id&quot;: &quot;Europe/Rome&quot;, &quot;localtime&quot;: &quot;2023-12-02 01:13&quot;, &quot;localtime_epoch&quot;: 1701479580, &quot;utc_offset&quot;: &quot;1.0&quot; }, &quot;current&quot;: { &quot;observation_time&quot;: &quot;12:13 AM&quot;, &quot;temperature&quot;: 6, &quot;weather_code&quot;: 248, &quot;weather_icons&quot;: [ &quot;https://cdn.worldweatheronline.com/images/wsymbols01_png_64/wsymbol_0007_fog.png&quot; ], &quot;weather_descriptions&quot;: [&quot;Fog&quot;], &quot;wind_speed&quot;: 6, &quot;wind_degree&quot;: 240, &quot;wind_dir&quot;: &quot;WSW&quot;, &quot;pressure&quot;: 993, &quot;precip&quot;: 0.1, &quot;humidity&quot;: 100, &quot;cloudcover&quot;: 100, &quot;feelslike&quot;: 6, &quot;uv_index&quot;: 1, &quot;visibility&quot;: 1, &quot;is_day&quot;: &quot;no&quot; } }</p>\n<p>I tried both the relative and the absolute path but it still doesn't work for me</p>\n"},{"tags":["java","android","admob","gdprconsentform"],"answers":[{"tags":[],"owner":{"account_id":29774244,"reputation":7,"user_id":22818685,"display_name":"Oleh"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701689281,"creation_date":1701689281,"answer_id":77599057,"question_id":76401642,"body_markdown":"This answer may no longer be relevant to you, but it may be useful to someone else.\r\n\r\nGoogle has a repository on Github with examples of Mobile Ads SDK integration, and you can simply take the ready-made code from there and modify it to suit your needs.\r\n\r\nGoogle Mobile Ads SDK for Android: https://github.com/googleads/googleads-mobile-android-examples/tree/main","title":"Is this a good UMP implementation?","body":"<p>This answer may no longer be relevant to you, but it may be useful to someone else.</p>\n<p>Google has a repository on Github with examples of Mobile Ads SDK integration, and you can simply take the ready-made code from there and modify it to suit your needs.</p>\n<p>Google Mobile Ads SDK for Android: <a href=\"https://github.com/googleads/googleads-mobile-android-examples/tree/main\" rel=\"nofollow noreferrer\">https://github.com/googleads/googleads-mobile-android-examples/tree/main</a></p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701689281,"creation_date":1685899988,"question_id":76401642,"body_markdown":"I am implementing UMP sdk in my app and it is working apparently, but I want to ensure that this is the correct way of implementing it:\r\n\r\nHere is my code:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n      private ConsentInformation consentInformation;\r\n      private ConsentForm consentForm;\r\n    \r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        consent();\r\n       }\r\n    \r\n        public void consent() {\r\n            ConsentRequestParameters params = new ConsentRequestParameters\r\n                    .Builder()\r\n                    .setTagForUnderAgeOfConsent(false)\r\n                    .build();\r\n    \r\n            consentInformation = UserMessagingPlatform.getConsentInformation(this);\r\n            consentInformation.requestConsentInfoUpdate(this,\r\n                    params,\r\n                    new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\r\n                        @Override\r\n                        public void onConsentInfoUpdateSuccess() {\r\n                            // The consent information state was updated.\r\n                            // You are now ready to check if a form is available.\r\n                            if (consentInformation.isConsentFormAvailable()) {\r\n                                loadForm();\r\n                            }\r\n                        }\r\n                    },\r\n                    new ConsentInformation.OnConsentInfoUpdateFailureListener() {\r\n                        @Override\r\n                        public void onConsentInfoUpdateFailure(FormError formError) {\r\n                            // Handle the error.\r\n                        }\r\n                    });\r\n    \r\n        }\r\n    \r\n        public void loadForm() {\r\n            // Loads a consent form. Must be called on the main thread.\r\n            UserMessagingPlatform.loadConsentForm(\r\n                    this,\r\n                    new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\r\n                        @Override\r\n                        public void onConsentFormLoadSuccess(ConsentForm consentForm) {\r\n                            MainActivity.this.consentForm = consentForm;\r\n                            if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\r\n                                consentForm.show(\r\n                                        MainActivity.this,\r\n                                        new ConsentForm.OnConsentFormDismissedListener() {\r\n                                            @Override\r\n                                            public void onConsentFormDismissed(FormError formError) {\r\n                                                if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\r\n                                              MobileAds.initialize(this, initializationStatus -&gt; {\r\n            });\r\n                                                }\r\n    \r\n                                                // Handle dismissal by reloading form.\r\n                                                loadForm();\r\n                                            }\r\n                                        });\r\n                            }\r\n                        }\r\n                    },\r\n                    new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\r\n                        @Override\r\n                        public void onConsentFormLoadFailure(FormError formError) {\r\n                            loadForm();\r\n                        }\r\n                    }\r\n            );\r\n        }\r\n\r\n\r\nI have three questions:\r\n\r\n1- Is my implementation looking good?\r\n\r\n2- Is it a good way to MobileAds.initialize() when ConsentStatus is ConsentStatus.OBTAINED as I have done?\r\n\r\n3- I don&#39;t have to do anything more, right? I mean when the user accepts or declines the Form, google will automatically personalize ads without my need of managing that, right? I mean, I don&#39;t have to code the personalization part, right?\r\n\r\n","title":"Is this a good UMP implementation?","body":"<p>I am implementing UMP sdk in my app and it is working apparently, but I want to ensure that this is the correct way of implementing it:</p>\n<p>Here is my code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n  private ConsentInformation consentInformation;\n  private ConsentForm consentForm;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    consent();\n   }\n\n    public void consent() {\n        ConsentRequestParameters params = new ConsentRequestParameters\n                .Builder()\n                .setTagForUnderAgeOfConsent(false)\n                .build();\n\n        consentInformation = UserMessagingPlatform.getConsentInformation(this);\n        consentInformation.requestConsentInfoUpdate(this,\n                params,\n                new ConsentInformation.OnConsentInfoUpdateSuccessListener() {\n                    @Override\n                    public void onConsentInfoUpdateSuccess() {\n                        // The consent information state was updated.\n                        // You are now ready to check if a form is available.\n                        if (consentInformation.isConsentFormAvailable()) {\n                            loadForm();\n                        }\n                    }\n                },\n                new ConsentInformation.OnConsentInfoUpdateFailureListener() {\n                    @Override\n                    public void onConsentInfoUpdateFailure(FormError formError) {\n                        // Handle the error.\n                    }\n                });\n\n    }\n\n    public void loadForm() {\n        // Loads a consent form. Must be called on the main thread.\n        UserMessagingPlatform.loadConsentForm(\n                this,\n                new UserMessagingPlatform.OnConsentFormLoadSuccessListener() {\n                    @Override\n                    public void onConsentFormLoadSuccess(ConsentForm consentForm) {\n                        MainActivity.this.consentForm = consentForm;\n                        if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.REQUIRED) {\n                            consentForm.show(\n                                    MainActivity.this,\n                                    new ConsentForm.OnConsentFormDismissedListener() {\n                                        @Override\n                                        public void onConsentFormDismissed(FormError formError) {\n                                            if (consentInformation.getConsentStatus() == ConsentInformation.ConsentStatus.OBTAINED) {\n                                          MobileAds.initialize(this, initializationStatus -&gt; {\n        });\n                                            }\n\n                                            // Handle dismissal by reloading form.\n                                            loadForm();\n                                        }\n                                    });\n                        }\n                    }\n                },\n                new UserMessagingPlatform.OnConsentFormLoadFailureListener() {\n                    @Override\n                    public void onConsentFormLoadFailure(FormError formError) {\n                        loadForm();\n                    }\n                }\n        );\n    }\n</code></pre>\n<p>I have three questions:</p>\n<p>1- Is my implementation looking good?</p>\n<p>2- Is it a good way to MobileAds.initialize() when ConsentStatus is ConsentStatus.OBTAINED as I have done?</p>\n<p>3- I don't have to do anything more, right? I mean when the user accepts or declines the Form, google will automatically personalize ads without my need of managing that, right? I mean, I don't have to code the personalization part, right?</p>\n"},{"tags":["java","jar","java-11"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1701501547,"post_id":77589175,"comment_id":136786003,"body_markdown":"Most, if not all, of the code in `tools.jar` was moved into various `jdk.*` modules with the release of Java 9. Those modules are part of the run-time image (or, at least, they are in OpenJDK-based distributions). For example, the [`jdk.compiler`](https://docs.oracle.com/en/java/javase/21/docs/api/jdk.compiler/module-summary.html) module contains the implementation of the `javac` compiler.","body":"Most, if not all, of the code in <code>tools.jar</code> was moved into various <code>jdk.*</code> modules with the release of Java 9. Those modules are part of the run-time image (or, at least, they are in OpenJDK-based distributions). For example, the <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/jdk.compiler/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.compiler</code></a> module contains the implementation of the <code>javac</code> compiler."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1701503653,"post_id":77589175,"comment_id":136786144,"body_markdown":"For the same reason `rt.jar` and `jce.jar jsse.jar` and other crypto-provider jars and `charsets.jar localedata.jar cldrdata.jar` and nearly all other jars are removed in all Java 9 up.","body":"For the same reason <code>rt.jar</code> and <code>jce.jar jsse.jar</code> and other crypto-provider jars and <code>charsets.jar localedata.jar cldrdata.jar</code> and nearly all other jars are removed in all Java 9 up."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1701688403,"post_id":77589237,"comment_id":136802534,"body_markdown":"Actually, the APIs did not change and even most of the non-API classes are still present. So I would not call this a breaking change, only software insisting on the presence of the specific file `tools.jar` is causing trouble. The [`javax.tools` package is part of the official standard API since Java&#160;6](https://docs.oracle.com/javase/6/docs/api/?javax/tools/package-summary.html#package_description); the vendor specific packages (`com.sun.source. …`) from the same Java version also still exist.","body":"Actually, the APIs did not change and even most of the non-API classes are still present. So I would not call this a breaking change, only software insisting on the presence of the specific file <code>tools.jar</code> is causing trouble. The <a href=\"https://docs.oracle.com/javase/6/docs/api/?javax/tools/package-summary.html#package_description\" rel=\"nofollow noreferrer\"><code>javax.tools</code> package is part of the official standard API since Java 6</a>; the vendor specific packages (<code>com.sun.source. …</code>) from the same Java version also still exist."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701688757,"creation_date":1701494388,"answer_id":77589237,"question_id":77589175,"body_markdown":"&gt; Why tools.jar file is removed in JDK 11 can anyone explain.\r\n\r\nIt was removed in Java 9 ... as part of the overhaul to implement Modules.  In fact, the entire Java SE Java codebase is now delivered (at runtime) via the [Java Platform Module System](https://en.wikipedia.org/wiki/Java_Platform_Module_System); see also https://stackoverflow.com/questions/63696357\r\n\r\n--------------------\r\n\r\n&gt; What are the causes for it. If anyone have any doc can you share of doc removal of &quot;tools.jar&quot; expected issues and resolution.\r\n\r\n1.  Documentation: see [JEP 220: Modular Run-Time Images](https://openjdk.java.net/jeps/220) is the proposal that gave rise to this change. It gives the full rationale ... among other things.\r\n\r\n2.  Issues: the primary issue is the obvious one: code that relies on the presence of &quot;tools.jar&quot; won&#39;t work anymore.  This is a breaking change&lt;sup&gt;†&lt;/sup&gt;.\r\n\r\n3.  Resolution: he way access Java Tools at runtime in Java 9+ is to use the `javax.tools.*`  APIs in the `java.compiler` module.  **This will entail some code rewriting.**  For examples; see\r\n\r\n    - https://stackoverflow.com/questions/60664816\r\n    - some of the answers to https://stackoverflow.com/questions/52638550.\r\n\r\n&lt;sup&gt;† - AFAIK, the &quot;tools.jar&quot; file is not *specified* as being part of the pre-Java 9 Java platform.  It is not mentioned in the JLS or JVM spec, or (AFAIK) in the pre-Java 9 javadocs.  It is &quot;just an implementation detail&quot;.  Depending on implementation details makes your code more susceptible to breakage when those details change.  The fact that there was no straight-forward alternative (then) doesn&#39;t change that.&lt;/sup&gt;\r\n\r\n--------------------\r\n\r\n&gt; Is tools.jar is added in higher versions and what are they.\r\n\r\nNo.  It isn&#39;t.","title":"Why tools.jar file is not present in JDK 11 folder","body":"<blockquote>\n<p>Why tools.jar file is removed in JDK 11 can anyone explain.</p>\n</blockquote>\n<p>It was removed in Java 9 ... as part of the overhaul to implement Modules.  In fact, the entire Java SE Java codebase is now delivered (at runtime) via the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\">Java Platform Module System</a>; see also <a href=\"https://stackoverflow.com/questions/63696357\">Unable to locate tools.jar for Java SE 14</a></p>\n<hr />\n<blockquote>\n<p>What are the causes for it. If anyone have any doc can you share of doc removal of &quot;tools.jar&quot; expected issues and resolution.</p>\n</blockquote>\n<ol>\n<li><p>Documentation: see <a href=\"https://openjdk.java.net/jeps/220\" rel=\"nofollow noreferrer\">JEP 220: Modular Run-Time Images</a> is the proposal that gave rise to this change. It gives the full rationale ... among other things.</p>\n</li>\n<li><p>Issues: the primary issue is the obvious one: code that relies on the presence of &quot;tools.jar&quot; won't work anymore.  This is a breaking change<sup>†</sup>.</p>\n</li>\n<li><p>Resolution: he way access Java Tools at runtime in Java 9+ is to use the <code>javax.tools.*</code>  APIs in the <code>java.compiler</code> module.  <strong>This will entail some code rewriting.</strong>  For examples; see</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/60664816\">Create a java class dynamically and compile and instantiate at run time</a></li>\n<li>some of the answers to <a href=\"https://stackoverflow.com/questions/52638550\">what is tools.jar replacement?</a>.</li>\n</ul>\n</li>\n</ol>\n<p><sup>† - AFAIK, the &quot;tools.jar&quot; file is not <em>specified</em> as being part of the pre-Java 9 Java platform.  It is not mentioned in the JLS or JVM spec, or (AFAIK) in the pre-Java 9 javadocs.  It is &quot;just an implementation detail&quot;.  Depending on implementation details makes your code more susceptible to breakage when those details change.  The fact that there was no straight-forward alternative (then) doesn't change that.</sup></p>\n<hr />\n<blockquote>\n<p>Is tools.jar is added in higher versions and what are they.</p>\n</blockquote>\n<p>No.  It isn't.</p>\n"}],"owner":{"account_id":30044830,"reputation":1,"user_id":23024737,"display_name":"Adrenaline360"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701518914,"answer_count":1,"score":-1,"last_activity_date":1701688757,"creation_date":1701492278,"question_id":77589175,"body_markdown":"Why tools.jar file is removed in JDK 11?\r\n\r\nWhat are the causes for it? If anyone have any doc can you share of doc removal of tools.jar expected issues and resolution.\r\n\r\nIs tools.jar is added in higher versions and what are they?\r\n","title":"Why tools.jar file is not present in JDK 11 folder","body":"<p>Why tools.jar file is removed in JDK 11?</p>\n<p>What are the causes for it? If anyone have any doc can you share of doc removal of tools.jar expected issues and resolution.</p>\n<p>Is tools.jar is added in higher versions and what are they?</p>\n"},{"tags":["java","spring","spring-boot","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701688459,"creation_date":1701688459,"answer_id":77598984,"question_id":77598906,"body_markdown":"In SpringWebflux you should just change the Locale.\r\n\r\n    public static void main(String[] args) {\r\n      Locale.setDefault(Locale.ENGLISH);\r\n      SpringApplication.run(YandexMarketAdapterApplication.class, args);\r\n}\r\n  ","title":"How to change validation message in openapi in java?","body":"<p>In SpringWebflux you should just change the Locale.</p>\n<pre><code>public static void main(String[] args) {\n  Locale.setDefault(Locale.ENGLISH);\n  SpringApplication.run(YandexMarketAdapterApplication.class, args);\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1701688459,"creation_date":1701687672,"question_id":77598906,"body_markdown":"I have spring boot application that constructs dtos based on openapi yaml configuration. I want to change default messages of validation errors. Now they are in russian but I want them to be in english. How can I do that? \r\nExample of message:\r\ncart.items[0].feedId не должно равняться null\r\nI need this to be:\r\ncart.items[0].feedId must not be null\r\nFor all validation errors","title":"How to change validation message in openapi in java?","body":"<p>I have spring boot application that constructs dtos based on openapi yaml configuration. I want to change default messages of validation errors. Now they are in russian but I want them to be in english. How can I do that?\nExample of message:\ncart.items[0].feedId не должно равняться null\nI need this to be:\ncart.items[0].feedId must not be null\nFor all validation errors</p>\n"},{"tags":["java","eclipse","javafx","fxml"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1701664784,"post_id":77596919,"comment_id":136799655,"body_markdown":"What Eclipse version are you using?","body":"What Eclipse version are you using?"},{"owner":{"account_id":29933049,"reputation":1,"user_id":22939448,"display_name":"Madhu Sri"},"score":0,"creation_date":1701668484,"post_id":77596919,"comment_id":136799902,"body_markdown":"eclipseVersion: 2022-09 (4.25.0)","body":"eclipseVersion: 2022-09 (4.25.0)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1701675360,"post_id":77596919,"comment_id":136800502,"body_markdown":"The dialog tells you to _&quot;Select A Root Element&quot;_, but you have not done so. Your Eclipse is one year and four releases behind.","body":"The dialog tells you to <i>&quot;Select A Root Element&quot;</i>, but you have not done so. Your Eclipse is one year and four releases behind."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701687375,"post_id":77596919,"comment_id":136802370,"body_markdown":"A root element should only be required if using the [`fx:root` construct](https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#root_elements), which is not required and usually not used in an fxml document.","body":"A root element should only be required if using the <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#root_elements\" rel=\"nofollow noreferrer\"><code>fx:root</code> construct</a>, which is not required and usually not used in an fxml document."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1701688122,"post_id":77596919,"comment_id":136802476,"body_markdown":"@jewelsea Valid XML requires a root element which is unrelated to `fx:root`. The _Finish_ button is disabled because no root element has been chosen yet.","body":"@jewelsea Valid XML requires a root element which is unrelated to <code>fx:root</code>. The <i>Finish</i> button is disabled because no root element has been chosen yet."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701688288,"post_id":77596919,"comment_id":136802512,"body_markdown":"Well that&#39;s confusing :-)","body":"Well that&#39;s confusing :-)"}],"owner":{"account_id":29933049,"reputation":1,"user_id":22939448,"display_name":"Madhu Sri"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701709564,"answer_count":0,"score":0,"last_activity_date":1701688278,"creation_date":1701656697,"question_id":77596919,"body_markdown":"Unable to set path in package root or choose package location when creating a new XML file. The dialog box for file creation lacks the option to browse and select the desired package, restricting customization of the file path within the project structure. Seeking a resolution to enable seamless XML file creation with the preferred package location.\r\n\r\n[![dialog][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/noYRM.png","title":"Cant create new fxml file","body":"<p>Unable to set path in package root or choose package location when creating a new XML file. The dialog box for file creation lacks the option to browse and select the desired package, restricting customization of the file path within the project structure. Seeking a resolution to enable seamless XML file creation with the preferred package location.</p>\n<p><a href=\"https://i.stack.imgur.com/noYRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/noYRM.png\" alt=\"dialog\" /></a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701679427,"post_id":77598111,"comment_id":136801088,"body_markdown":"The interface requires that the method takes a generic parameter. What about making your interface parameterized instead of the method?","body":"The interface requires that the method takes a generic parameter. What about making your interface parameterized instead of the method?"},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701680307,"post_id":77598111,"comment_id":136801209,"body_markdown":"@matt My interface has other generic method,\n ``` &lt;T extends ScheduleInfoVO&gt; CommonResult&lt;T&gt; getSchedule(String scheduleCode); \n&lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; confirm(T confirmDTO); ``` \nI can&#39;t making a generic interface","body":"@matt My interface has other generic method,  ``` &lt;T extends ScheduleInfoVO&gt; CommonResult&lt;T&gt; getSchedule(String scheduleCode);  &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; confirm(T confirmDTO); ```  I can&#39;t making a generic interface"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701683392,"post_id":77598111,"comment_id":136801696,"body_markdown":"I don&#39;t understand why you need a generic parameter for your method. Why would you have an interface that uses a concrete &quot;getSchedule&quot; class, but a generic or different class for &quot;commit&quot;? If you want the methods to be concrete make the `T` at the class level.","body":"I don&#39;t understand why you need a generic parameter for your method. Why would you have an interface that uses a concrete &quot;getSchedule&quot; class, but a generic or different class for &quot;commit&quot;? If you want the methods to be concrete make the <code>T</code> at the class level."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701684193,"post_id":77598111,"comment_id":136801832,"body_markdown":"@matt hello,matt,schedule have 8 subclass,it has differents params and save these into different tables,and ScheduleControllerInterface  is all 8 class&#39;parent interface,i want to control all subclass allow the rule,and get different class that is Common params class &#39;s sub class into commit method,You can see this scene in my reply to matt&#39;s answer.","body":"@matt hello,matt,schedule have 8 subclass,it has differents params and save these into different tables,and ScheduleControllerInterface  is all 8 class&#39;parent interface,i want to control all subclass allow the rule,and get different class that is Common params class &#39;s sub class into commit method,You can see this scene in my reply to matt&#39;s answer."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701684320,"post_id":77598111,"comment_id":136801849,"body_markdown":"@matt the &quot;getSchedule&quot; method has a param is all subclass will generate in commit,but  it will return different class by call the method.","body":"@matt the &quot;getSchedule&quot; method has a param is all subclass will generate in commit,but  it will return different class by call the method."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701684631,"post_id":77598111,"comment_id":136801895,"body_markdown":"How about `ScheduleControlledInterface&lt;T, V&gt;` Then each method has it&#39;s own parameter that is set when you create the implementation. If the implementation only wokrs for one type of the generic, then you should say that at the interface definition.","body":"How about <code>ScheduleControlledInterface&lt;T, V&gt;</code> Then each method has it&#39;s own parameter that is set when you create the implementation. If the implementation only wokrs for one type of the generic, then you should say that at the interface definition."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701688183,"post_id":77598111,"comment_id":136802490,"body_markdown":"@matt I think you are right,I will try to extra some same type param.And i will found whether I can implement it that I don&#39;t need more Type params for interface","body":"@matt I think you are right,I will try to extra some same type param.And i will found whether I can implement it that I don&#39;t need more Type params for interface"}],"answers":[{"comments":[{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701679958,"post_id":77598152,"comment_id":136801159,"body_markdown":"My interface has other generic method,\n```\n    &lt;T extends ScheduleInfoVO&gt; CommonResult&lt;T&gt; getSchedule(String scheduleCode);\n\n    &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; confirm(T confirmDTO);\n```\ni can&#39;t making generic interface,am I only allowed to give up the generic method,and change  the generic method to polymorphism？","body":"My interface has other generic method, ```     &lt;T extends ScheduleInfoVO&gt; CommonResult&lt;T&gt; getSchedule(String scheduleCode);      &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; confirm(T confirmDTO); ``` i can&#39;t making generic interface,am I only allowed to give up the generic method,and change  the generic method to polymorphism？"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1701680198,"post_id":77598152,"comment_id":136801194,"body_markdown":"@zhili if your interface has other generic methods that would break if you would add a generic parameter, then your interface might be doing too much or has other design flaws. Consider creating a second interface for that use case.","body":"@zhili if your interface has other generic methods that would break if you would add a generic parameter, then your interface might be doing too much or has other design flaws. Consider creating a second interface for that use case."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701680840,"post_id":77598152,"comment_id":136801274,"body_markdown":"@QBrute,hello,the Schedule has commit,delete,delete,confirm  method,it has different params.and The Schedule has subClass like car,hotel,meals... if i create other generic interface Then I can&#39;t identify these methods as Schedule&#39;s methods.Am I only allowed to give up the generic method,and change the generic method to polymorphism？","body":"@QBrute,hello,the Schedule has commit,delete,delete,confirm  method,it has different params.and The Schedule has subClass like car,hotel,meals... if i create other generic interface Then I can&#39;t identify these methods as Schedule&#39;s methods.Am I only allowed to give up the generic method,and change the generic method to polymorphism？"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701681221,"post_id":77598152,"comment_id":136801337,"body_markdown":"@zhili if you require multiple independent concrete types (but still need them to be generic), you could split your interface into separate interfaces and implement each with a different concrete type in your class.","body":"@zhili if you require multiple independent concrete types (but still need them to be generic), you could split your interface into separate interfaces and implement each with a different concrete type in your class."},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701682079,"post_id":77598152,"comment_id":136801482,"body_markdown":"@knittl hello,knittl,I have a lot of method,If i split the interface into separate interfaces,i will implements a lot of interfaces, and i can&#39;t control my colleagues can implements this  interfaces,I think the interface is the rule,and all sub class must in the rule,and the generic type is rule the param must is the given type&#39;s sub type,then i will get the common params","body":"@knittl hello,knittl,I have a lot of method,If i split the interface into separate interfaces,i will implements a lot of interfaces, and i can&#39;t control my colleagues can implements this  interfaces,I think the interface is the rule,and all sub class must in the rule,and the generic type is rule the param must is the given type&#39;s sub type,then i will get the common params"},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701682792,"post_id":77598152,"comment_id":136801588,"body_markdown":"@knittl  I already konw i will have 8 subclass for schedule,and the schedule has common methed,like commit,confirm,getDetail,delete,cancel..,if i split this method to diffrent interface,I can&#39;t konw all the sub type is allow the rule and implementa all the interface.I think I&#39;m off on my understanding of generics, I should be using polymorphism to define these methods and then forcing cast to the type needed by the subclass. I don&#39;t want subclasses to force cast, so I&#39;m defining the interface methods using generics.If I can&#39;t do this,i think i will use polymorphism to figuer out it.","body":"@knittl  I already konw i will have 8 subclass for schedule,and the schedule has common methed,like commit,confirm,getDetail,delete,cancel..,if i split this method to diffrent interface,I can&#39;t konw all the sub type is allow the rule and implementa all the interface.I think I&#39;m off on my understanding of generics, I should be using polymorphism to define these methods and then forcing cast to the type needed by the subclass. I don&#39;t want subclasses to force cast, so I&#39;m defining the interface methods using generics.If I can&#39;t do this,i think i will use polymorphism to figuer out it."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1701684384,"post_id":77598152,"comment_id":136801860,"body_markdown":"@zhili your design seems off. Why do you have an interface with generic methods and each method requires a different type? Why does `carSchedule#commitSchedule` require a concrete type and is not generic itself? I wouldn&#39;t really recommend it, but you could make your interface generic with 8 type parameters (`ScheduleControllerInterface&lt;COMMIT, CONFIRM, DETAIL, DELETE, CANCEL&gt;`) – implementing it allows you to &quot;pin&quot; all types. Why do you have so many subclasses? Why do you have an interface if your implementers don&#39;t really have anything in common?","body":"@zhili your design seems off. Why do you have an interface with generic methods and each method requires a different type? Why does <code>carSchedule#commitSchedule</code> require a concrete type and is not generic itself? I wouldn&#39;t really recommend it, but you could make your interface generic with 8 type parameters (<code>ScheduleControllerInterface&lt;COMMIT, CONFIRM, DETAIL, DELETE, CANCEL&gt;</code>) – implementing it allows you to &quot;pin&quot; all types. Why do you have so many subclasses? Why do you have an interface if your implementers don&#39;t really have anything in common?"},{"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"score":0,"creation_date":1701687555,"post_id":77598152,"comment_id":136802396,"body_markdown":"@knittl the all subClass is schedule,the schedule has some common property,such as scheduleCode,groupCode,orders,cooperater,but like car,it have different property defined about car info,hotel like this.and the all sub class has same methods,so I need different params.I think you gaven the 8 type parameters can resolve my problem.Also,I will paste a image to show the table design in qustion.You can see the image and know why i design like this.","body":"@knittl the all subClass is schedule,the schedule has some common property,such as scheduleCode,groupCode,orders,cooperater,but like car,it have different property defined about car info,hotel like this.and the all sub class has same methods,so I need different params.I think you gaven the 8 type parameters can resolve my problem.Also,I will paste a image to show the table design in qustion.You can see the image and know why i design like this."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":8,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1701679261,"creation_date":1701679261,"answer_id":77598152,"question_id":77598111,"body_markdown":"You cannot &quot;specialize&quot; a generic in Java (like you would in C++). A generic method has to remain generic and you cannot replace generic type parameters with concrete types.\r\n\r\nWhat you could do is not making your method generic, but your interface generic and then implement the interface while providing a concrete type argument to the generic type parameter:\r\n\r\n```\r\npublic interface ScheduleControllerInterface&lt;T extends ScheduleAddUpdateDTO&gt; {\r\n  CommonResult&lt;String&gt; commit(@Valid T commitDTO);\r\n}\r\n\r\npublic class CarScheduleController implements ScheduleControllerInterface&lt;CarScheduleDTO&gt; {\r\n    @Override\r\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\r\n        carSchedule.commitSchedule(commitDTO);\r\n        return CommonResult.success();\r\n    }\r\n}\r\n```\r\n","title":"How to implement a generic method given a type?","body":"<p>You cannot &quot;specialize&quot; a generic in Java (like you would in C++). A generic method has to remain generic and you cannot replace generic type parameters with concrete types.</p>\n<p>What you could do is not making your method generic, but your interface generic and then implement the interface while providing a concrete type argument to the generic type parameter:</p>\n<pre><code>public interface ScheduleControllerInterface&lt;T extends ScheduleAddUpdateDTO&gt; {\n  CommonResult&lt;String&gt; commit(@Valid T commitDTO);\n}\n\npublic class CarScheduleController implements ScheduleControllerInterface&lt;CarScheduleDTO&gt; {\n    @Override\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\n        carSchedule.commitSchedule(commitDTO);\n        return CommonResult.success();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1701681289,"post_id":77598163,"comment_id":136801351,"body_markdown":"This does not answer the question. The question is not about what a generic method is, but how to &quot;specialize&quot; a generic method (i.e. pin its type to a single concrete type)","body":"This does not answer the question. The question is not about what a generic method is, but how to &quot;specialize&quot; a generic method (i.e. pin its type to a single concrete type)"}],"tags":[],"owner":{"account_id":28312532,"reputation":1,"user_id":21649585,"display_name":"Sagar Mondal"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701679362,"creation_date":1701679362,"answer_id":77598163,"question_id":77598111,"body_markdown":"In various programming languages, the implementation of generic methods can differ. However, the concept generally remains the same - to create a method that can operate on different types of data without specifying the actual type until it&#39;s used.\r\n\r\nHere&#39;s a basic example in Java:\r\n\r\n    public class GenericMethodExample {\r\n\r\n    // This is a generic method that works with any type T\r\n    public &lt;T&gt; void printArray(T[] array) {\r\n        for (T element : array) {\r\n            System.out.print(element + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        GenericMethodExample example = new GenericMethodExample();\r\n\r\n        // Example with Integer array\r\n        Integer[] intArray = { 1, 2, 3, 4, 5 };\r\n        example.printArray(intArray);\r\n\r\n        // Example with String array\r\n        String[] stringArray = { &quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot; };\r\n        example.printArray(stringArray);\r\n    } }\r\n\r\nIn this example:\r\n\r\nThe printArray method is generic and uses the placeholder &lt;T&gt;.\r\nIt accepts an array of any type T and prints its elements.\r\nThe main method demonstrates how to use this generic method with both Integer and String arrays.\r\n\r\n    1 2 3 4 5 \r\napple orange banana\r\n","title":"How to implement a generic method given a type?","body":"<p>In various programming languages, the implementation of generic methods can differ. However, the concept generally remains the same - to create a method that can operate on different types of data without specifying the actual type until it's used.</p>\n<p>Here's a basic example in Java:</p>\n<pre><code>public class GenericMethodExample {\n\n// This is a generic method that works with any type T\npublic &lt;T&gt; void printArray(T[] array) {\n    for (T element : array) {\n        System.out.print(element + &quot; &quot;);\n    }\n    System.out.println();\n}\n\npublic static void main(String[] args) {\n    GenericMethodExample example = new GenericMethodExample();\n\n    // Example with Integer array\n    Integer[] intArray = { 1, 2, 3, 4, 5 };\n    example.printArray(intArray);\n\n    // Example with String array\n    String[] stringArray = { &quot;apple&quot;, &quot;orange&quot;, &quot;banana&quot; };\n    example.printArray(stringArray);\n} }\n</code></pre>\n<p>In this example:</p>\n<p>The printArray method is generic and uses the placeholder .\nIt accepts an array of any type T and prints its elements.\nThe main method demonstrates how to use this generic method with both Integer and String arrays.</p>\n<pre><code>1 2 3 4 5 \n</code></pre>\n<p>apple orange banana</p>\n"}],"owner":{"account_id":24413973,"reputation":1,"user_id":18341061,"display_name":"zhili"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701687966,"creation_date":1701678696,"question_id":77598111,"body_markdown":"I have a java interface,like this:\r\n```\r\npublic interface ScheduleControllerInterface {\r\n\r\n    &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; commit(@Valid T commitDTO);\r\n}  \r\n\r\n```\r\nnow,i want to implement this interface,and given a type to generic type,like this:\r\n```\r\npublic class CarScheduleController implements ScheduleControllerInterface {\r\n\r\n    @Override\r\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\r\n        carSchedule.commitSchedule(commitDTO);\r\n        return CommonResult.success();\r\n    }\r\n}\r\n```\r\nbut when i try it,it called i don&#39;t have override the method,My interface have a lot of generic method , i want to implements it,What can i do?\r\n\r\n[the table design][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ne3hv.jpg\r\n","title":"How to implement a generic method given a type?","body":"<p>I have a java interface,like this:</p>\n<pre><code>public interface ScheduleControllerInterface {\n\n    &lt;T extends ScheduleAddUpdateDTO&gt; CommonResult&lt;String&gt; commit(@Valid T commitDTO);\n}  \n\n</code></pre>\n<p>now,i want to implement this interface,and given a type to generic type,like this:</p>\n<pre><code>public class CarScheduleController implements ScheduleControllerInterface {\n\n    @Override\n    public CommonResult&lt;String&gt; commit(CarScheduleDTO commitDTO) {\n        carSchedule.commitSchedule(commitDTO);\n        return CommonResult.success();\n    }\n}\n</code></pre>\n<p>but when i try it,it called i don't have override the method,My interface have a lot of generic method , i want to implements it,What can i do?</p>\n<p><a href=\"https://i.stack.imgur.com/Ne3hv.jpg\" rel=\"nofollow noreferrer\">the table design</a></p>\n"},{"tags":["java","cucumber","rest-assured","testrail"],"owner":{"account_id":15352892,"reputation":21,"user_id":11076058,"display_name":"rooddah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701687842,"creation_date":1701687276,"question_id":77598872,"body_markdown":"I&#39;m using BDD and my scenarios have certain tags including `TestRail(123456)`.\r\n\r\nI have code written that reads the results and given the plan or run id, it updates the results into TestRail run.\r\nBUT since there are many new BDD scenarios and features recently added, I want to avoid creating them in TestRail manually, so I want to import the feature file, as this new (?) functionality appeared recently in TestRail. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nBy doing so, I am unable to find a way to map scenarios from my repo to TestRail. \r\nI was trying to get the id (`scenario.getId()`) but it&#39;s the run id, not the Scenario id so it won&#39;t work. Has anyone tried that? I&#39;m ran out of ideas\r\n\r\nMy current code:\r\n\r\n    Collection&lt;String&gt; tagNames = scenario.getSourceTagNames();\r\n            for (String s : tagNames) {\r\n                if (s.contains(&quot;TestRail&quot;)) {\r\n                    String[] res = s.split(&quot;(\\\\(.*?)&quot;);\r\n                    caseId = res[1].substring(0, res[1].length() - 1); \r\n                    break;\r\n                }\r\n            }\r\n    \r\n    if (!scenario.isFailed()) {\r\n                data.put(&quot;status_id&quot;, SUCCESS_STATE);\r\n                data.put(&quot;comment&quot;, SUCCESS_COMMENT);\r\n    \r\n            } else {\r\n                    data.put(&quot;status_id&quot;, FAIL_STATE);\r\n                    data.put(&quot;comment&quot;, logError(scenario));\r\n             }        \r\n    \r\n     client = testRailApiClient();\r\n                    client.sendPost(&quot;add_result_for_case/&quot; + runId + &quot;/&quot; + caseId, data);\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1TEjS.png","title":"How to get results updated in TestRail from imported features?","body":"<p>I'm using BDD and my scenarios have certain tags including <code>TestRail(123456)</code>.</p>\n<p>I have code written that reads the results and given the plan or run id, it updates the results into TestRail run.\nBUT since there are many new BDD scenarios and features recently added, I want to avoid creating them in TestRail manually, so I want to import the feature file, as this new (?) functionality appeared recently in TestRail.</p>\n<p><a href=\"https://i.stack.imgur.com/1TEjS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1TEjS.png\" alt=\"enter image description here\" /></a></p>\n<p>By doing so, I am unable to find a way to map scenarios from my repo to TestRail.\nI was trying to get the id (<code>scenario.getId()</code>) but it's the run id, not the Scenario id so it won't work. Has anyone tried that? I'm ran out of ideas</p>\n<p>My current code:</p>\n<pre><code>Collection&lt;String&gt; tagNames = scenario.getSourceTagNames();\n        for (String s : tagNames) {\n            if (s.contains(&quot;TestRail&quot;)) {\n                String[] res = s.split(&quot;(\\\\(.*?)&quot;);\n                caseId = res[1].substring(0, res[1].length() - 1); \n                break;\n            }\n        }\n\nif (!scenario.isFailed()) {\n            data.put(&quot;status_id&quot;, SUCCESS_STATE);\n            data.put(&quot;comment&quot;, SUCCESS_COMMENT);\n\n        } else {\n                data.put(&quot;status_id&quot;, FAIL_STATE);\n                data.put(&quot;comment&quot;, logError(scenario));\n         }        \n\n client = testRailApiClient();\n                client.sendPost(&quot;add_result_for_case/&quot; + runId + &quot;/&quot; + caseId, data);\n</code></pre>\n"},{"tags":["java","file","java-8"],"answers":[{"comments":[{"owner":{"account_id":2326440,"reputation":597,"user_id":2040843,"display_name":"Yost777"},"score":0,"creation_date":1549465356,"post_id":38829054,"comment_id":95912791,"body_markdown":"I have the same problem - I believe this is related to CR LF.\nFileUtils.readLines(new File(filename), StandardCharsets.UTF_8) worked fine for me where Files.readAllLines(Paths.get(filename), StandardCharsets.UTF_8) did not.","body":"I have the same problem - I believe this is related to CR LF. FileUtils.readLines(new File(filename), StandardCharsets.UTF_8) worked fine for me where Files.readAllLines(Paths.get(filename), StandardCharsets.UTF_8) did not."},{"owner":{"account_id":2433222,"reputation":101,"user_id":2123700,"display_name":"Cousnouf"},"score":0,"creation_date":1554124650,"post_id":38829054,"comment_id":97625330,"body_markdown":"@Jesper Thanks a lot for the answer!","body":"@Jesper Thanks a lot for the answer!"},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1573661495,"post_id":38829054,"comment_id":103956441,"body_markdown":"It&#39;s odd, I got this message with a file that was UTF-8 encoded according to Notepad++. So I don&#39;t agree with this answer. I suspect @Yost777 may have the answer. I am probably reading a text file created on a Unix platform on a Windows machine and getting this issue. In my case though I have this syntax: `Files.readAllLines(Paths.get(fileName));`","body":"It&#39;s odd, I got this message with a file that was UTF-8 encoded according to Notepad++. So I don&#39;t agree with this answer. I suspect @Yost777 may have the answer. I am probably reading a text file created on a Unix platform on a Windows machine and getting this issue. In my case though I have this syntax: <code>Files.readAllLines(Paths.get(fileName));</code>"},{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":1,"creation_date":1573662160,"post_id":38829054,"comment_id":103956862,"body_markdown":"ISO-8859-1 did fix it for me though. Seems to neutralise that issue.","body":"ISO-8859-1 did fix it for me though. Seems to neutralise that issue."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1470658730,"creation_date":1470658730,"answer_id":38829054,"question_id":38828830,"body_markdown":"The method [`Files.readAllLines()`](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-) assumes that the file you are reading is encoded in UTF-8.\r\n\r\nIf you get this exception, then the file you are reading is most likely encoded using a different character encoding than UTF-8.\r\n\r\nFind out what character encoding is used, and use the other [`readAllLines`](http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-java.nio.charset.Charset-) method, that allows you to specify the character encoding.\r\n\r\nFor example, if the files are encoded in ISO-8859-1:\r\n\r\n    return Files.readAllLines(path, StandardCharsets.ISO_8859_1).stream()... // etc.\r\n\r\nThe method `FileUtiles.readLines()` (where does that come from?) probably assumes something else (it probably assumes the files are in the default character encoding of your system, which is something else than UTF-8).","title":"MalformedInputException with Files.readAllLines()","body":"<p>The method <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-\" rel=\"noreferrer\"><code>Files.readAllLines()</code></a> assumes that the file you are reading is encoded in UTF-8.</p>\n\n<p>If you get this exception, then the file you are reading is most likely encoded using a different character encoding than UTF-8.</p>\n\n<p>Find out what character encoding is used, and use the other <a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllLines-java.nio.file.Path-java.nio.charset.Charset-\" rel=\"noreferrer\"><code>readAllLines</code></a> method, that allows you to specify the character encoding.</p>\n\n<p>For example, if the files are encoded in ISO-8859-1:</p>\n\n<pre><code>return Files.readAllLines(path, StandardCharsets.ISO_8859_1).stream()... // etc.\n</code></pre>\n\n<p>The method <code>FileUtiles.readLines()</code> (where does that come from?) probably assumes something else (it probably assumes the files are in the default character encoding of your system, which is something else than UTF-8).</p>\n"},{"tags":[],"owner":{"account_id":2658346,"reputation":1306,"user_id":2298578,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701687465,"creation_date":1701687465,"answer_id":77598888,"question_id":38828830,"body_markdown":"FileUtils.readLines from Apache Commons IO uses java.io.InputStreamReader.\r\n\r\nInputStreamReader uses a CharsetDecoder to read bytes, but it changes\r\nonMalformedInput and onUnmappableCharacter from the default REPORT (meaning\r\nthrow an exception) to REPLACE (meaning insert some replacement character).\r\n\r\nFiles.readAllLines however leaves the default behavior of the CharsetDecoder and\r\ntherefore throws an exception if a malformed or unmappable byte sequence is\r\nread. There is a hint to this hidden in the documentation of readAllLines:\r\n\r\n     * @throws  IOException\r\n     *          if an I/O error occurs reading from the file or a malformed or\r\n     *          unmappable byte sequence is read\r\n\r\nFiles.readAllLines is part of &quot;NIO&quot;, Java&#39;s new approach at IO. NIO quite\r\nconsistently throws an exception on invalid input, while the &quot;old&quot; classes\r\nreplace invalid input. However you can change NIO&#39;s behavior by using the\r\nmethods that accept a CharsetDecoder and pass a CharsetDecoder that you have configured according to your needs.","title":"MalformedInputException with Files.readAllLines()","body":"<p>FileUtils.readLines from Apache Commons IO uses java.io.InputStreamReader.</p>\n<p>InputStreamReader uses a CharsetDecoder to read bytes, but it changes\nonMalformedInput and onUnmappableCharacter from the default REPORT (meaning\nthrow an exception) to REPLACE (meaning insert some replacement character).</p>\n<p>Files.readAllLines however leaves the default behavior of the CharsetDecoder and\ntherefore throws an exception if a malformed or unmappable byte sequence is\nread. There is a hint to this hidden in the documentation of readAllLines:</p>\n<pre><code> * @throws  IOException\n *          if an I/O error occurs reading from the file or a malformed or\n *          unmappable byte sequence is read\n</code></pre>\n<p>Files.readAllLines is part of &quot;NIO&quot;, Java's new approach at IO. NIO quite\nconsistently throws an exception on invalid input, while the &quot;old&quot; classes\nreplace invalid input. However you can change NIO's behavior by using the\nmethods that accept a CharsetDecoder and pass a CharsetDecoder that you have configured according to your needs.</p>\n"}],"owner":{"account_id":2433222,"reputation":101,"user_id":2123700,"display_name":"Cousnouf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10342,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1701687465,"creation_date":1470658113,"question_id":38828830,"body_markdown":"I was iterating over some files, 5328 to be precise. These files are average XML files with 60-200 lines max. They are first filtered through a simple method *isXmlSourceFile* that parse the path.\r\n\r\n    \r\n\t\tFiles.walk(Paths.get(&quot;/home/me/development/projects/myproject&quot;), FileVisitOption.FOLLOW_LINKS)\r\n\t\t\t\t.filter(V3TestsGenerator::isXmlTestSourceFile)\r\n\t\t\t\t.filter(V3TestsGenerator::fileContainsXmlTag)\r\n\r\nThe big question is for the second filter, especially the method fileContainsXmlTag. For each file I wanted to detect if a pattern was contained at least once among the lines of it:\r\n\r\n    \r\n\tprivate static boolean fileContainsXmlTag(Path path) {\r\n\t\ttry {\r\n\t\t\treturn Files.readAllLines(path).stream().anyMatch(line -&gt; PATTERN.matcher(line).find());\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\nFor some files I get then this exception\r\n\r\n    java.nio.charset.MalformedInputException: Input length = 1\r\n\tat java.nio.charset.CoderResult.throwException(CoderResult.java:281)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n\tat java.io.BufferedReader.fill(BufferedReader.java:161)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:324)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:389)\r\n\tat java.nio.file.Files.readAllLines(Files.java:3205)\r\n\tat java.nio.file.Files.readAllLines(Files.java:3242)\r\n\r\nBut when I use FileUtiles.readLines() instead of Files.readAllLines everything is getting well.\r\n\r\nIt&#39;s a curiosity question so if someone as a clue of what&#39;s going on, it&#39;s with pleasure.\r\n\r\nThanks","title":"MalformedInputException with Files.readAllLines()","body":"<p>I was iterating over some files, 5328 to be precise. These files are average XML files with 60-200 lines max. They are first filtered through a simple method <em>isXmlSourceFile</em> that parse the path.</p>\n\n<pre><code>    Files.walk(Paths.get(\"/home/me/development/projects/myproject\"), FileVisitOption.FOLLOW_LINKS)\n            .filter(V3TestsGenerator::isXmlTestSourceFile)\n            .filter(V3TestsGenerator::fileContainsXmlTag)\n</code></pre>\n\n<p>The big question is for the second filter, especially the method fileContainsXmlTag. For each file I wanted to detect if a pattern was contained at least once among the lines of it:</p>\n\n<pre><code>private static boolean fileContainsXmlTag(Path path) {\n    try {\n        return Files.readAllLines(path).stream().anyMatch(line -&gt; PATTERN.matcher(line).find());\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return false;\n}\n</code></pre>\n\n<p>For some files I get then this exception</p>\n\n<pre><code>java.nio.charset.MalformedInputException: Input length = 1\nat java.nio.charset.CoderResult.throwException(CoderResult.java:281)\nat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\nat java.io.InputStreamReader.read(InputStreamReader.java:184)\nat java.io.BufferedReader.fill(BufferedReader.java:161)\nat java.io.BufferedReader.readLine(BufferedReader.java:324)\nat java.io.BufferedReader.readLine(BufferedReader.java:389)\nat java.nio.file.Files.readAllLines(Files.java:3205)\nat java.nio.file.Files.readAllLines(Files.java:3242)\n</code></pre>\n\n<p>But when I use FileUtiles.readLines() instead of Files.readAllLines everything is getting well.</p>\n\n<p>It's a curiosity question so if someone as a clue of what's going on, it's with pleasure.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","jackson","jackson-dataformat-csv"],"answers":[{"tags":[],"owner":{"account_id":6441151,"reputation":413,"user_id":4991139,"display_name":"Gunnar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701687447,"creation_date":1701687447,"answer_id":77598887,"question_id":77598719,"body_markdown":"Ok, I removed\r\n\r\n    .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n\r\nand\r\n\r\n    mapper.setDateFormat(new SimpleDateFormat(pattern));\r\n\r\nand added\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy&quot;)\r\n\r\nto MyClass#now\r\n\r\nand it works.","title":"jackson csv export setDateFormat ignored?","body":"<p>Ok, I removed</p>\n<pre><code>.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n</code></pre>\n<p>and</p>\n<pre><code>mapper.setDateFormat(new SimpleDateFormat(pattern));\n</code></pre>\n<p>and added</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;dd.MM.yyyy&quot;)\n</code></pre>\n<p>to MyClass#now</p>\n<p>and it works.</p>\n"}],"owner":{"account_id":6441151,"reputation":413,"user_id":4991139,"display_name":"Gunnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77598887,"answer_count":1,"score":1,"last_activity_date":1701687447,"creation_date":1701685786,"question_id":77598719,"body_markdown":"I&#39;m trying to export a custom date format with Jackson 2.15.2 CsvMapper.\r\nBut I get the LocalDate#toString, I assume my test code is complete, what am I missing?\r\n\r\nComplete test class, the log output is\r\n\r\norg.opentest4j.AssertionFailedError: 2023-12-04 does not contain 04.12.2023 ==&gt; Expected:true Actual:false\r\n\r\n    class CsvExportDateFormatTest\r\n    {\r\n        @Test\r\n        void csvExportDateFormatTest() throws IOException\r\n        {\r\n            LocalDate now = LocalDate.now();\r\n    \r\n            String pattern = &quot;dd.MM.yyyy&quot;;\r\n            String formatted = DateTimeFormatter.ofPattern(pattern)\r\n                    .format(now);\r\n    \r\n            CsvMapper mapper = CsvMapper.builder()\r\n                    .addModule(new JavaTimeModule())\r\n                    .configure(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS, false)\r\n                    .configure(CsvGenerator.Feature.STRICT_CHECK_FOR_QUOTING, true)\r\n                    .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n                    .build();\r\n            mapper.setDateFormat(new SimpleDateFormat(pattern));\r\n    \r\n            List&lt;MyClass&gt; l = new ArrayList&lt;&gt;();\r\n            l.add(new MyClass(now));\r\n            CsvSchema schema = mapper.schemaFor(MyClass.class);\r\n            StringWriter sw = new StringWriter();\r\n            mapper.writer(schema)\r\n                    .writeValue(sw, l);\r\n    \r\n            Assertions.assertTrue(sw.toString()\r\n                    .contains(formatted), sw + &quot; does not contain &quot; + formatted);\r\n        }\r\n    \r\n        static class MyClass\r\n        {\r\n            private LocalDate now;\r\n    \r\n            public MyClass(LocalDate now)\r\n            {\r\n                this.now = now;\r\n            }\r\n    \r\n            public LocalDate getNow()\r\n            {\r\n                return now;\r\n            }\r\n    \r\n            public void setNow(LocalDate now)\r\n            {\r\n                this.now = now;\r\n            }\r\n        }\r\n    }\r\n","title":"jackson csv export setDateFormat ignored?","body":"<p>I'm trying to export a custom date format with Jackson 2.15.2 CsvMapper.\nBut I get the LocalDate#toString, I assume my test code is complete, what am I missing?</p>\n<p>Complete test class, the log output is</p>\n<p>org.opentest4j.AssertionFailedError: 2023-12-04 does not contain 04.12.2023 ==&gt; Expected:true Actual:false</p>\n<pre><code>class CsvExportDateFormatTest\n{\n    @Test\n    void csvExportDateFormatTest() throws IOException\n    {\n        LocalDate now = LocalDate.now();\n\n        String pattern = &quot;dd.MM.yyyy&quot;;\n        String formatted = DateTimeFormatter.ofPattern(pattern)\n                .format(now);\n\n        CsvMapper mapper = CsvMapper.builder()\n                .addModule(new JavaTimeModule())\n                .configure(CsvGenerator.Feature.ALWAYS_QUOTE_STRINGS, false)\n                .configure(CsvGenerator.Feature.STRICT_CHECK_FOR_QUOTING, true)\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n                .build();\n        mapper.setDateFormat(new SimpleDateFormat(pattern));\n\n        List&lt;MyClass&gt; l = new ArrayList&lt;&gt;();\n        l.add(new MyClass(now));\n        CsvSchema schema = mapper.schemaFor(MyClass.class);\n        StringWriter sw = new StringWriter();\n        mapper.writer(schema)\n                .writeValue(sw, l);\n\n        Assertions.assertTrue(sw.toString()\n                .contains(formatted), sw + &quot; does not contain &quot; + formatted);\n    }\n\n    static class MyClass\n    {\n        private LocalDate now;\n\n        public MyClass(LocalDate now)\n        {\n            this.now = now;\n        }\n\n        public LocalDate getNow()\n        {\n            return now;\n        }\n\n        public void setNow(LocalDate now)\n        {\n            this.now = now;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","search"],"comments":[{"owner":{"account_id":8333120,"reputation":832,"user_id":12868186,"display_name":"wpnpeiris"},"score":0,"creation_date":1701687313,"post_id":77598857,"comment_id":136802360,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":6541623,"reputation":3,"user_id":5058961,"display_name":"ikninja1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701687104,"creation_date":1701687104,"question_id":77598857,"body_markdown":"I am trying to build a terms query to return documents with the matching terms.\r\n\r\nHowever, according to documentation it seems a field must be specified with the terms query.\r\n\r\nIs there any way to do a terms query on all fields without specifying any?\r\n\r\nI have tried building a multi match query, but that does not allow multiple terms.","title":"Is it possible to perform a Terms Query on multiple fields in ElasticSearch Java API Client 8.11?","body":"<p>I am trying to build a terms query to return documents with the matching terms.</p>\n<p>However, according to documentation it seems a field must be specified with the terms query.</p>\n<p>Is there any way to do a terms query on all fields without specifying any?</p>\n<p>I have tried building a multi match query, but that does not allow multiple terms.</p>\n"},{"tags":["java","command","interpreter"],"answers":[{"comments":[{"owner":{"account_id":10980064,"reputation":13,"user_id":8067472,"display_name":"F&#225;bio Sultan Carrilho"},"score":0,"creation_date":1586107947,"post_id":61036154,"comment_id":107999173,"body_markdown":"Thank you so much for pointing it out! I&#39;ll pay more attention next time.","body":"Thank you so much for pointing it out! I&#39;ll pay more attention next time."}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586043203,"creation_date":1586043203,"answer_id":61036154,"question_id":61036070,"body_markdown":"Your commands are all lower case, but you&#39;re transforming the user input into upper case. Transform into lower case instead.\r\n```\r\ninput = in.nextLine().toLowerCase();\r\n```\r\nYou may also want to add `break` to the HELP command:\r\n\r\n                 case HELP:\r\n                    System.out.println(HELP);\r\n                    break;","title":"Trouble with command intepreter","body":"<p>Your commands are all lower case, but you're transforming the user input into upper case. Transform into lower case instead.</p>\n\n<pre><code>input = in.nextLine().toLowerCase();\n</code></pre>\n\n<p>You may also want to add <code>break</code> to the HELP command:</p>\n\n<pre><code>             case HELP:\n                System.out.println(HELP);\n                break;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10980064,"reputation":13,"user_id":8067472,"display_name":"F&#225;bio Sultan Carrilho"},"score":0,"creation_date":1586107156,"post_id":61036157,"comment_id":107998835,"body_markdown":"Thank you so much for the explanation, I ran it on my machine and it works perfectly.","body":"Thank you so much for the explanation, I ran it on my machine and it works perfectly."}],"tags":[],"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701686961,"creation_date":1586043231,"answer_id":61036157,"question_id":61036070,"body_markdown":" 1. `break` is missing in `case` for `HELP`. Note that you do not need `break` in the last `case` which is `default`.\r\n 2. The value in case should match the value of string constants, therefore, remove `toUpperCase()` from returned string.\r\n 3. Also, use `do...while` to avoid using `comm = getCommand(in);` twice. \r\n\r\nGiven below is the corrected code:\r\n\r\n```\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\t// Constantes que definem os comandos\r\n\tpublic static final String REGISTER = &quot;register&quot;;\r\n\tpublic static final String LISTUSERS = &quot;listusers&quot;;\r\n\tpublic static final String UPLOAD = &quot;upload&quot;;\r\n\tpublic static final String READ = &quot;read&quot;;\r\n\tpublic static final String WRITE = &quot;write&quot;;\r\n\tpublic static final String GRANT = &quot;grant&quot;;\r\n\tpublic static final String REVOKE = &quot;revoke&quot;;\r\n\tpublic static final String USERDOCS = &quot;userdocs&quot;;\r\n\tpublic static final String TOPLEAKED = &quot;topleaked&quot;;\r\n\tpublic static final String TOPGRANTERS = &quot;topgranters&quot;;\r\n\tpublic static final String HELP = &quot;help&quot;;\r\n\tpublic static final String EXIT = &quot;exit&quot;;\r\n\r\n\t// Constantes que definem as mensagens para o utilizador\r\n\tpublic static final String EXIT_COMM = &quot;Bye!&quot;;\r\n\tpublic static final String REGISTER_COMM = &quot; was registered.&quot;;\r\n\tpublic static final String ALREADY_REG_ERROR = &quot; is already assigned to another user.&quot;;\r\n\tpublic static final String NO_LIST_USERS = &quot;There are no registered users.&quot;;\r\n\tpublic static final String DOC_UPLOADED = &quot; was uploaded.&quot;;\r\n\tpublic static final String OFFICIAL_DOC = &quot;Contact upda1ted.&quot;;\r\n\tpublic static final String TOPSECRET_DOC = &quot;Contact book empty.&quot;;\r\n\tpublic static final String CONFIDENTIAL_DOC = &quot;Phone number does not exist.&quot;;\r\n\tpublic static final String CONTACT_SHARE_PHONE = &quot;There are contacts that share phone numbers.&quot;;\r\n\tpublic static final String HELP_COMM = &quot;register - registers a new user /n&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Welcome!&quot;);\r\n\t\t// WeKeepSecrets app = new WeKeepSecretsClass();\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tString comm;\r\n\r\n\t\tdo {\r\n\t\t\tSystem.out.print(&quot;Enter command: &quot;);\r\n\t\t\tcomm = getCommand(in);\r\n\t\t\tswitch (comm) {\r\n\t\t\tcase HELP:\r\n\t\t\t\tSystem.out.println(HELP);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tif (!comm.equals(EXIT)) {\r\n\t\t\t\t\tSystem.out.println(&quot;ERRO&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (!comm.equals(EXIT));\r\n\t\tSystem.out.println(EXIT_COMM);\r\n\t}\r\n\r\n\tprivate static String getCommand(Scanner in) {\r\n\t\tString input;\r\n\t\tinput = in.nextLine();\r\n\t\treturn input;\r\n\t}\r\n}\r\n\r\n```\r\n**A sample run:**\r\n\r\n    Welcome!\r\n    Enter command: help\r\n    help\r\n    Enter command: abc\r\n    ERRO\r\n    Enter command: exit\r\n    Bye!\r\n","title":"Trouble with command intepreter","body":"<ol>\n<li><code>break</code> is missing in <code>case</code> for <code>HELP</code>. Note that you do not need <code>break</code> in the last <code>case</code> which is <code>default</code>.</li>\n<li>The value in case should match the value of string constants, therefore, remove <code>toUpperCase()</code> from returned string.</li>\n<li>Also, use <code>do...while</code> to avoid using <code>comm = getCommand(in);</code> twice.</li>\n</ol>\n<p>Given below is the corrected code:</p>\n<pre><code>\nimport java.util.Scanner;\n\npublic class Main {\n    // Constantes que definem os comandos\n    public static final String REGISTER = &quot;register&quot;;\n    public static final String LISTUSERS = &quot;listusers&quot;;\n    public static final String UPLOAD = &quot;upload&quot;;\n    public static final String READ = &quot;read&quot;;\n    public static final String WRITE = &quot;write&quot;;\n    public static final String GRANT = &quot;grant&quot;;\n    public static final String REVOKE = &quot;revoke&quot;;\n    public static final String USERDOCS = &quot;userdocs&quot;;\n    public static final String TOPLEAKED = &quot;topleaked&quot;;\n    public static final String TOPGRANTERS = &quot;topgranters&quot;;\n    public static final String HELP = &quot;help&quot;;\n    public static final String EXIT = &quot;exit&quot;;\n\n    // Constantes que definem as mensagens para o utilizador\n    public static final String EXIT_COMM = &quot;Bye!&quot;;\n    public static final String REGISTER_COMM = &quot; was registered.&quot;;\n    public static final String ALREADY_REG_ERROR = &quot; is already assigned to another user.&quot;;\n    public static final String NO_LIST_USERS = &quot;There are no registered users.&quot;;\n    public static final String DOC_UPLOADED = &quot; was uploaded.&quot;;\n    public static final String OFFICIAL_DOC = &quot;Contact upda1ted.&quot;;\n    public static final String TOPSECRET_DOC = &quot;Contact book empty.&quot;;\n    public static final String CONFIDENTIAL_DOC = &quot;Phone number does not exist.&quot;;\n    public static final String CONTACT_SHARE_PHONE = &quot;There are contacts that share phone numbers.&quot;;\n    public static final String HELP_COMM = &quot;register - registers a new user /n&quot;;\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Welcome!&quot;);\n        // WeKeepSecrets app = new WeKeepSecretsClass();\n        Scanner in = new Scanner(System.in);\n        String comm;\n\n        do {\n            System.out.print(&quot;Enter command: &quot;);\n            comm = getCommand(in);\n            switch (comm) {\n            case HELP:\n                System.out.println(HELP);\n                break;\n            default:\n                if (!comm.equals(EXIT)) {\n                    System.out.println(&quot;ERRO&quot;);\n                }\n            }\n        } while (!comm.equals(EXIT));\n        System.out.println(EXIT_COMM);\n    }\n\n    private static String getCommand(Scanner in) {\n        String input;\n        input = in.nextLine();\n        return input;\n    }\n}\n\n</code></pre>\n<p><strong>A sample run:</strong></p>\n<pre><code>Welcome!\nEnter command: help\nhelp\nEnter command: abc\nERRO\nEnter command: exit\nBye!\n</code></pre>\n"}],"owner":{"account_id":10980064,"reputation":13,"user_id":8067472,"display_name":"F&#225;bio Sultan Carrilho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61036157,"answer_count":2,"score":1,"last_activity_date":1701686961,"creation_date":1586042531,"question_id":61036070,"body_markdown":"Evening guys, \r\nI&#39;m doing a project for uni and I find myself in kind of a fuss.\r\nI&#39;m having trouble with my command interpreter. \r\nI can get the code to run, but unfortunately it&#39;s not reading my input right.\r\nCould someone point me in the right direction towards approaching the error ?\r\nThe code follows below, ignore the comments and the instances of other supporting classes.\r\nAny help would be appreciated.\r\nThanks in advance !\r\n\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n\r\n\tpublic class Main {\r\n\t\t//Constantes que definem os comandos\r\n\t\t public static final String REGISTER     = &quot;register&quot;;\r\n\t\t public static final String LISTUSERS    = &quot;listusers&quot;;\r\n\t\t public static final String UPLOAD       = &quot;upload&quot;;\r\n\t\t public static final String READ         = &quot;read&quot;;\r\n\t\t public static final String WRITE        = &quot;write&quot;;\r\n\t\t public static final String GRANT        = &quot;grant&quot;;\r\n\t\t public static final String REVOKE       = &quot;revoke&quot;;\r\n\t\t public static final String USERDOCS     = &quot;userdocs&quot;;\r\n\t\t public static final String TOPLEAKED \t = &quot;topleaked&quot;;\r\n\t\t public static final String TOPGRANTERS\t = &quot;topgranters&quot;;\r\n\t\t public static final String HELP \t     = &quot;help&quot;;\r\n\t\t public static final String EXIT         = &quot;exit&quot;;\r\n\t\t \r\n\t\t //Constantes que definem as mensagens para o utilizador\r\n\t\t public static final String EXIT_COMM \t\t\t= &quot;Bye!&quot;;\r\n\t\t public static final String REGISTER_COMM\t\t= &quot; was registered.&quot;;\r\n\t\t public static final String ALREADY_REG_ERROR \t= &quot; is already assigned to another user.&quot;;\r\n\t\t public static final String NO_LIST_USERS\t\t= &quot;There are no registered users.&quot;;\r\n\t\t public static final String DOC_UPLOADED\t \t= &quot; was uploaded.&quot;;\r\n\t\t public static final String OFFICIAL_DOC \t\t= &quot;Contact upda1ted.&quot;;\r\n\t\t public static final String TOPSECRET_DOC \t\t= &quot;Contact book empty.&quot;;\r\n\t\t public static final String CONFIDENTIAL_DOC \t= &quot;Phone number does not exist.&quot;;\r\n\t\t public static final String CONTACT_SHARE_PHONE = &quot;There are contacts that share phone numbers.&quot;;\r\n\t\t public static final String HELP_COMM \t\t\t= &quot;register - registers a new user /n&quot;;\r\n\t\t\r\n\t\t public static void main(String[] args) {   \r\n\t\t\t System.out.println(&quot;Welcome!&quot;);\r\n\t\t\t//WeKeepSecrets app = new WeKeepSecretsClass();\t\t\r\n\t\t\tScanner in \t= new Scanner(System.in);\r\n\t\t\tString comm = getCommand(in);\r\n\t\t\t\r\n\t\t\t\t  \r\n\t\t\t\t while (!comm.equals(EXIT)){\r\n\t\t\t\t\t switch (comm) {\r\n\t\t\t\t\t case HELP:\r\n\t\t\t\t\t \tSystem.out.println(HELP);\r\n\t\t\t\t\t default:\r\n\t\t\t\t\t\t System.out.println(&quot;ERRO&quot;);\r\n\t\t\t\t\t\t break;\r\n\t\t\t\t\t }\r\n\t\t\t\t\t comm = getCommand(in);\r\n\t\t\t\t }\r\n\t\t\t\t System.out.println(EXIT_COMM);\r\n\t\t\t\t in.close();\r\n\t\t }\r\n\t\t \r\n\t\t private static String getCommand(Scanner in) {\r\n\t\t\t\tString input;\r\n\t\t\t\t\r\n\t\t\t\tinput = in.nextLine().toUpperCase();\r\n\t\t\t\treturn input;\r\n\t\t\t}\r\n\t}","title":"Trouble with command intepreter","body":"<p>Evening guys, \nI'm doing a project for uni and I find myself in kind of a fuss.\nI'm having trouble with my command interpreter. \nI can get the code to run, but unfortunately it's not reading my input right.\nCould someone point me in the right direction towards approaching the error ?\nThe code follows below, ignore the comments and the instances of other supporting classes.\nAny help would be appreciated.\nThanks in advance !</p>\n\n<pre><code>import java.util.Scanner;\n\n\npublic class Main {\n    //Constantes que definem os comandos\n     public static final String REGISTER     = \"register\";\n     public static final String LISTUSERS    = \"listusers\";\n     public static final String UPLOAD       = \"upload\";\n     public static final String READ         = \"read\";\n     public static final String WRITE        = \"write\";\n     public static final String GRANT        = \"grant\";\n     public static final String REVOKE       = \"revoke\";\n     public static final String USERDOCS     = \"userdocs\";\n     public static final String TOPLEAKED    = \"topleaked\";\n     public static final String TOPGRANTERS  = \"topgranters\";\n     public static final String HELP         = \"help\";\n     public static final String EXIT         = \"exit\";\n\n     //Constantes que definem as mensagens para o utilizador\n     public static final String EXIT_COMM           = \"Bye!\";\n     public static final String REGISTER_COMM       = \" was registered.\";\n     public static final String ALREADY_REG_ERROR   = \" is already assigned to another user.\";\n     public static final String NO_LIST_USERS       = \"There are no registered users.\";\n     public static final String DOC_UPLOADED        = \" was uploaded.\";\n     public static final String OFFICIAL_DOC        = \"Contact upda1ted.\";\n     public static final String TOPSECRET_DOC       = \"Contact book empty.\";\n     public static final String CONFIDENTIAL_DOC    = \"Phone number does not exist.\";\n     public static final String CONTACT_SHARE_PHONE = \"There are contacts that share phone numbers.\";\n     public static final String HELP_COMM           = \"register - registers a new user /n\";\n\n     public static void main(String[] args) {   \n         System.out.println(\"Welcome!\");\n        //WeKeepSecrets app = new WeKeepSecretsClass();     \n        Scanner in  = new Scanner(System.in);\n        String comm = getCommand(in);\n\n\n             while (!comm.equals(EXIT)){\n                 switch (comm) {\n                 case HELP:\n                    System.out.println(HELP);\n                 default:\n                     System.out.println(\"ERRO\");\n                     break;\n                 }\n                 comm = getCommand(in);\n             }\n             System.out.println(EXIT_COMM);\n             in.close();\n     }\n\n     private static String getCommand(Scanner in) {\n            String input;\n\n            input = in.nextLine().toUpperCase();\n            return input;\n        }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","xpath","xpath-2.0"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1701685684,"post_id":77598690,"comment_id":136802079,"body_markdown":"a bigger HTML contex would help a lot solving your issue. Xpaths can be written according to element neighbours as well. My current guess would be that, every time the ui-id element changes.","body":"a bigger HTML contex would help a lot solving your issue. Xpaths can be written according to element neighbours as well. My current guess would be that, every time the ui-id element changes."},{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":0,"creation_date":1701686620,"post_id":77598690,"comment_id":136802241,"body_markdown":"The exception says: `&quot;method&quot;:&quot;css selector&quot;,` so not XPath?","body":"The exception says: <code>&quot;method&quot;:&quot;css selector&quot;,</code> so not XPath?"},{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1701686998,"post_id":77598690,"comment_id":136802296,"body_markdown":"My mistake, Here I am not capturing the element via xpath, trying to capture the element based on the ID value directly. So I have updated the question accordingly now.","body":"My mistake, Here I am not capturing the element via xpath, trying to capture the element based on the ID value directly. So I have updated the question accordingly now."},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":1,"creation_date":1701688026,"post_id":77598690,"comment_id":136802461,"body_markdown":"&#39;1701680404647&#39; this value in the `ID` attribute seems to be dynamic. Check ff the value changes each time you load the page?","body":"&#39;1701680404647&#39; this value in the <code>ID</code> attribute seems to be dynamic. Check ff the value changes each time you load the page?"},{"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"score":0,"creation_date":1701694695,"post_id":77598690,"comment_id":136803618,"body_markdown":"You are correct Shawn, It is a dynamic attribute. So I have changed this element capture to a xpath selector without relying on dynamic path. After this change I can capture the element.","body":"You are correct Shawn, It is a dynamic attribute. So I have changed this element capture to a xpath selector without relying on dynamic path. After this change I can capture the element."}],"owner":{"account_id":13004762,"reputation":141,"user_id":9399653,"display_name":"Suresh Madhusanka Rodrigo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702149521,"answer_count":0,"score":0,"last_activity_date":1701686927,"creation_date":1701685528,"question_id":77598690,"body_markdown":"I am trying to capture a text field through ID.\r\n\r\nId value of the element in the DOM is &#39;tableau-ui-1701680404647&#39;.\r\n\r\nFor this I have written the code as below.\r\n\r\n    private static final String USER_NAME_TXT = &quot;tableau-ui-1701680404647&quot;;\r\n    \r\n    @FindBy(id = USER_NAME_TXT)\r\n    WebElement userNameTextTableau;\r\n\r\nHowever, when I execute this programme I am getting below exception message. How can I modify the above code to eliminate this exception message?\r\n\r\n&gt; org.openqa.selenium.NoSuchElementException: no such element: Unable to\r\n&gt; locate element: {&quot;method&quot;:&quot;css\r\n&gt; selector&quot;,&quot;selector&quot;:&quot;#tableau\\\\-ui\\\\-1701680404647&quot;}   (Session info:\r\n&gt; MicrosoftEdge=119.0.2151.97)","title":"How to properly write a DOM expression to capture by ID when ID value contains &#39;-&#39;","body":"<p>I am trying to capture a text field through ID.</p>\n<p>Id value of the element in the DOM is 'tableau-ui-1701680404647'.</p>\n<p>For this I have written the code as below.</p>\n<pre><code>private static final String USER_NAME_TXT = &quot;tableau-ui-1701680404647&quot;;\n\n@FindBy(id = USER_NAME_TXT)\nWebElement userNameTextTableau;\n</code></pre>\n<p>However, when I execute this programme I am getting below exception message. How can I modify the above code to eliminate this exception message?</p>\n<blockquote>\n<p>org.openqa.selenium.NoSuchElementException: no such element: Unable to\nlocate element: {&quot;method&quot;:&quot;css\nselector&quot;,&quot;selector&quot;:&quot;#tableau\\-ui\\-1701680404647&quot;}   (Session info:\nMicrosoftEdge=119.0.2151.97)</p>\n</blockquote>\n"},{"tags":["java","json","elasticsearch","kibana"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1553230046,"post_id":55292978,"comment_id":97314710,"body_markdown":"The message doesn&#39;t seem like valid JSON.","body":"The message doesn&#39;t seem like valid JSON."},{"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"score":0,"creation_date":1553230323,"post_id":55292978,"comment_id":97314774,"body_markdown":"It is not a valid JSON. The value of the message seems to be another JSON which is not properly escaped.","body":"It is not a valid JSON. The value of the message seems to be another JSON which is not properly escaped."},{"owner":{"account_id":15291410,"reputation":596,"user_id":11032808,"display_name":"Akash Shah"},"score":1,"creation_date":1553231097,"post_id":55292978,"comment_id":97314968,"body_markdown":"your JSON is invalid here https://codebeautify.org/jsonviewer you can validate","body":"your JSON is invalid here <a href=\"https://codebeautify.org/jsonviewer\" rel=\"nofollow noreferrer\">codebeautify.org/jsonviewer</a> you can validate"},{"owner":{"account_id":5242101,"reputation":874,"user_id":4188827,"display_name":"Santosh"},"score":0,"creation_date":1553231405,"post_id":55292978,"comment_id":97315062,"body_markdown":"Your JSON is not valid, validate it here https://jsonformatter.curiousconcept.com/","body":"Your JSON is not valid, validate it here <a href=\"https://jsonformatter.curiousconcept.com/\" rel=\"nofollow noreferrer\">jsonformatter.curiousconcept.com</a>"}],"answers":[{"tags":[],"owner":{"account_id":15581404,"reputation":67,"user_id":11241057,"display_name":"PumpkinX"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1553232900,"creation_date":1553232900,"answer_id":55293459,"question_id":55292978,"body_markdown":"Just completely remove the double quotes occurring thrice for key: &quot;message&quot;:\r\n&lt;pre&gt;\r\n   &quot;level&quot;: &quot;info&quot;,\r\n   &quot;message&quot;: {&quot;logMessageId&quot;:&quot;&quot;,&quot;logTimestamp&quot;:&quot;2019-03-22T10:52:46.251+07:00&quot;,&quot;transactionID&quot;:&quot;H003190322105245739910520&quot;,&quot;serviceName&quot;:&quot;&quot;,&quot;applicationID&quot;:&quot;&quot;,&quot;logLevel&quot;:&quot;AUDIT&quot;,&quot;logPoint&quot;:&quot;Transaction-Audit&quot;,&quot;logMessage&quot;:&quot;2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER&quot;,&quot;requestPayload&quot;:&quot;&quot;,&quot;responsePayload&quot;:&quot;&quot;,&quot;processTime&quot;:&quot;492&quot;},\r\n   &quot;hostname&quot;: &quot;esbwnpapp3.telkomsel.co.id&quot;, \r\n&lt;/pre&gt;\r\nIt should work then, I am able to parse the file using below code snippet.\r\n\r\n    import java.io.IOException;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n\r\n    public class JSONParserTest {\r\n\r\n\tpublic static void main(String[] args) throws ParseException, IOException {\r\n\t\tString the_json=readFile(&quot;sample.out&quot;, StandardCharsets.UTF_8);\r\n        //System.out.println(the_json);\r\n\t\tJSONParser object = new JSONParser();\r\n\t\tObject obj = object.parse(the_json);\r\n        JSONObject myjson = (JSONObject)obj;\r\n        JSONArray the_json_array = (JSONArray)myjson.get(&quot;profiles&quot;);\r\n        System.out.println(the_json_array);\r\n\t}\r\n\r\n\tstatic String readFile(String path, Charset encoding) \r\n            throws IOException \r\n          {\r\n            byte[] encoded = Files.readAllBytes(Paths.get(path));\r\n            return new String(encoded, encoding);\r\n          }\r\n}\r\n\r\n\r\n\r\n","title":"Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39;","body":"<p>Just completely remove the double quotes occurring thrice for key: \"message\":</p>\n\n<pre>\n   \"level\": \"info\",\n   \"message\": {\"logMessageId\":\"\",\"logTimestamp\":\"2019-03-22T10:52:46.251+07:00\",\"transactionID\":\"H003190322105245739910520\",\"serviceName\":\"\",\"applicationID\":\"\",\"logLevel\":\"AUDIT\",\"logPoint\":\"Transaction-Audit\",\"logMessage\":\"2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER\",\"requestPayload\":\"\",\"responsePayload\":\"\",\"processTime\":\"492\"},\n   \"hostname\": \"esbwnpapp3.telkomsel.co.id\", \n</pre>\n\n<p>It should work then, I am able to parse the file using below code snippet.</p>\n\n<pre><code>import java.io.IOException;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\npublic class JSONParserTest {\n\npublic static void main(String[] args) throws ParseException, IOException {\n    String the_json=readFile(\"sample.out\", StandardCharsets.UTF_8);\n    //System.out.println(the_json);\n    JSONParser object = new JSONParser();\n    Object obj = object.parse(the_json);\n    JSONObject myjson = (JSONObject)obj;\n    JSONArray the_json_array = (JSONArray)myjson.get(\"profiles\");\n    System.out.println(the_json_array);\n}\n\nstatic String readFile(String path, Charset encoding) \n        throws IOException \n      {\n        byte[] encoded = Files.readAllBytes(Paths.get(path));\n        return new String(encoded, encoding);\n      }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701686797,"creation_date":1701686797,"answer_id":77598813,"question_id":55292978,"body_markdown":"In my cases it was &quot; &quot;(double quotes) issue when I replaced it with &#39; &#39;(single quotes) it worked for me.\r\nPlease check sample after **data**.\r\n\r\nThis may work for you.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9aS0h.png","title":"Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39;","body":"<p>In my cases it was &quot; &quot;(double quotes) issue when I replaced it with ' '(single quotes) it worked for me.\nPlease check sample after <strong>data</strong>.</p>\n<p>This may work for you.</p>\n<p><a href=\"https://i.stack.imgur.com/9aS0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9aS0h.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5399653,"reputation":77,"user_id":4299860,"accept_rate":0,"display_name":"Ahmad asy&#39;ary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6975,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701686797,"creation_date":1553229263,"question_id":55292978,"body_markdown":"i badly need help here, i try to parse a json from a file. I got this json content from kibana dev tools, i plan to hit the elastic api, get the json result and get several fields from the json. here&#39;s my code\r\n\r\n    public class JSONParserTest {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException, JSONException {\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\tString the_json=readFile(&quot;/Users/ahmadasyary/Documents/sample.out&quot;, StandardCharsets.UTF_8);\r\n    \t\t//System.out.println(the_json);\r\n    \t\tJSONObject myjson = new JSONObject(the_json);\r\n    \t\tJSONArray the_json_array = myjson.getJSONArray(&quot;profiles&quot;);\r\n    \r\n    \t}\r\n    \t\r\n    \tstatic String readFile(String path, Charset encoding) \r\n    \t\t\t  throws IOException \r\n    \t\t\t{\r\n    \t\t\t  byte[] encoded = Files.readAllBytes(Paths.get(path));\r\n    \t\t\t  return new String(encoded, encoding);\r\n    \t\t\t}\r\n    \r\n    }\r\n\r\nWhen i try to run it, i got error like this\r\n\r\n    Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39; at 3264 [character 25 line 64]\r\n    \tat java.json/org.json.JSONTokener.syntaxError(JSONTokener.java:432)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:223)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\r\n    \tat java.json/org.json.JSONArray.&lt;init&gt;(JSONArray.java:117)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:365)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\r\n    \tat java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\r\n    \tat java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:310)\r\n    \tat TDRParser/ParserTest.JSONParserTest.main(JSONParserTest.java:21)\r\n\r\nHere&#39;s my json content from kibana devs tools\r\n\r\n    {\r\n      &quot;took&quot;: 89,\r\n      &quot;timed_out&quot;: false,\r\n      &quot;_shards&quot;: {\r\n        &quot;total&quot;: 1015,\r\n        &quot;successful&quot;: 1015,\r\n        &quot;skipped&quot;: 970,\r\n        &quot;failed&quot;: 0\r\n      },\r\n      &quot;hits&quot;: {\r\n        &quot;total&quot;: 1,\r\n        &quot;max_score&quot;: null,\r\n        &quot;hits&quot;: [\r\n          {\r\n            &quot;_index&quot;: &quot;project.prod-esb.cbd0dea7-4153-11e8-86d7-001a4a160175.2019.03.22&quot;,\r\n            &quot;_type&quot;: &quot;com.redhat.viaq.common&quot;,\r\n            &quot;_id&quot;: &quot;1KKHo2kB-rz4ABZ2mpyp&quot;,\r\n            &quot;_version&quot;: 1,\r\n            &quot;_score&quot;: null,\r\n            &quot;_source&quot;: {\r\n              &quot;logTimestamp&quot;: &quot;2019-03-22T10:52:46.251+07:00&quot;,\r\n              &quot;transactionID&quot;: &quot;H003190322105245739910520&quot;,\r\n              &quot;logLevel&quot;: &quot;AUDIT&quot;,\r\n              &quot;logPoint&quot;: &quot;Transaction-Audit&quot;,\r\n              &quot;logMessage&quot;: &quot;2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER&quot;,\r\n              &quot;processTime&quot;: &quot;492&quot;,\r\n              &quot;docker&quot;: {\r\n                &quot;container_id&quot;: &quot;2a8e197e4bc9d849291e5457fdc7a238d684f92ccc19cf5f51b88772169acf0d&quot;\r\n              },\r\n              &quot;kubernetes&quot;: {\r\n                &quot;container_name&quot;: &quot;ordersubmission-bs-v2&quot;,\r\n                &quot;namespace_name&quot;: &quot;prod-esb&quot;,\r\n                &quot;pod_name&quot;: &quot;ordersubmission-bs-v2-42-6n2rn&quot;,\r\n                &quot;pod_id&quot;: &quot;5f417ed0-4b0d-11e9-89a5-001a4a160178&quot;,\r\n                &quot;labels&quot;: {\r\n                  &quot;app&quot;: &quot;ordersubmission-bs-v2&quot;,\r\n                  &quot;deployment&quot;: &quot;ordersubmission-bs-v2-42&quot;,\r\n                  &quot;deploymentconfig&quot;: &quot;ordersubmission-bs-v2&quot;\r\n                },\r\n                &quot;host&quot;: &quot;esbwnpapp3.telkomsel.co.id&quot;,\r\n                &quot;master_url&quot;: &quot;https://kubernetes.default.svc.cluster.local&quot;,\r\n                &quot;namespace_id&quot;: &quot;cbd0dea7-4153-11e8-86d7-001a4a160175&quot;\r\n              },\r\n              &quot;systemd&quot;: {\r\n                &quot;t&quot;: {\r\n                  &quot;BOOT_ID&quot;: &quot;ea8d4663351b44f9888b93042f680fcd&quot;,\r\n                  &quot;CAP_EFFECTIVE&quot;: &quot;1fffffffff&quot;,\r\n                  &quot;CMDLINE&quot;: &quot;/usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current --default-runtime=docker-runc --authorization-plugin=rhel-push-plugin --exec-opt native.cgroupdriver=systemd --userland-proxy-path=/usr/libexec/docker/docker-proxy-current --log-driver=journald --storage-driver devicemapper --storage-opt dm.fs=xfs --storage-opt dm.thinpooldev=/dev/mapper/rhel-docker--pool --storage-opt dm.use_deferred_removal=true --storage-opt dm.use_deferred_deletion=true --mtu=1450 --add-registry registry.access.redhat.com --add-registry registry.access.redhat.com&quot;,\r\n                  &quot;COMM&quot;: &quot;dockerd-current&quot;,\r\n                  &quot;EXE&quot;: &quot;/usr/bin/dockerd-current&quot;,\r\n                  &quot;GID&quot;: &quot;0&quot;,\r\n                  &quot;MACHINE_ID&quot;: &quot;35ae721c7f2f4d2e9a0676e0d9e17589&quot;,\r\n                  &quot;PID&quot;: &quot;2722&quot;,\r\n                  &quot;SELINUX_CONTEXT&quot;: &quot;system_u:system_r:container_runtime_t:s0&quot;,\r\n                  &quot;SYSTEMD_CGROUP&quot;: &quot;/system.slice/docker.service&quot;,\r\n                  &quot;SYSTEMD_SLICE&quot;: &quot;system.slice&quot;,\r\n                  &quot;SYSTEMD_UNIT&quot;: &quot;docker.service&quot;,\r\n                  &quot;TRANSPORT&quot;: &quot;journal&quot;,\r\n                  &quot;UID&quot;: &quot;0&quot;\r\n                }\r\n              },\r\n              &quot;level&quot;: &quot;info&quot;,\r\n              &quot;message&quot;: &quot;&quot;&quot;{&quot;logMessageId&quot;:&quot;&quot;,&quot;logTimestamp&quot;:&quot;2019-03-22T10:52:46.251+07:00&quot;,&quot;transactionID&quot;:&quot;H003190322105245739910520&quot;,&quot;serviceName&quot;:&quot;&quot;,&quot;applicationID&quot;:&quot;&quot;,&quot;logLevel&quot;:&quot;AUDIT&quot;,&quot;logPoint&quot;:&quot;Transaction-Audit&quot;,&quot;logMessage&quot;:&quot;2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER&quot;,&quot;requestPayload&quot;:&quot;&quot;,&quot;responsePayload&quot;:&quot;&quot;,&quot;processTime&quot;:&quot;492&quot;}&quot;&quot;&quot;,\r\n              &quot;hostname&quot;: &quot;esbwnpapp3.telkomsel.co.id&quot;,\r\n              &quot;pipeline_metadata&quot;: {\r\n                &quot;collector&quot;: {\r\n                  &quot;ipaddr4&quot;: &quot;10.130.14.2&quot;,\r\n                  &quot;ipaddr6&quot;: &quot;fe80::54d0:26ff:fe59:e4cd&quot;,\r\n                  &quot;inputname&quot;: &quot;fluent-plugin-systemd&quot;,\r\n                  &quot;name&quot;: &quot;fluentd&quot;,\r\n                  &quot;received_at&quot;: &quot;2019-03-22T03:52:46.883461+00:00&quot;,\r\n                  &quot;version&quot;: &quot;0.12.39 1.6.0&quot;\r\n                }\r\n              },\r\n              &quot;@timestamp&quot;: &quot;2019-03-22T03:52:46.252005+00:00&quot;\r\n            },\r\n            &quot;fields&quot;: {\r\n              &quot;logTimestamp&quot;: [\r\n                &quot;2019-03-22T03:52:46.251Z&quot;\r\n              ],\r\n              &quot;@timestamp&quot;: [\r\n                &quot;2019-03-22T03:52:46.252Z&quot;\r\n              ],\r\n              &quot;pipeline_metadata.collector.received_at&quot;: [\r\n                &quot;2019-03-22T03:52:46.883Z&quot;\r\n              ]\r\n            },\r\n            &quot;highlight&quot;: {\r\n              &quot;logLevel.keyword&quot;: [\r\n                &quot;@kibana-highlighted-field@AUDIT@/kibana-highlighted-field@&quot;\r\n              ],\r\n              &quot;transactionID&quot;: [\r\n                &quot;@kibana-highlighted-field@H003190322105245739910520@/kibana-highlighted-field@&quot;\r\n              ],\r\n              &quot;kubernetes.container_name.keyword&quot;: [\r\n                &quot;@kibana-highlighted-field@ordersubmission-bs-v2@/kibana-highlighted-field@&quot;\r\n              ]\r\n            },\r\n            &quot;sort&quot;: [\r\n              1553226766252\r\n            ]\r\n          }\r\n        ]\r\n      },\r\n      &quot;aggregations&quot;: {\r\n        &quot;2&quot;: {\r\n          &quot;buckets&quot;: [\r\n            {\r\n              &quot;key_as_string&quot;: &quot;2019-03-22T10:52:46.000+07:00&quot;,\r\n              &quot;key&quot;: 1553226766000,\r\n              &quot;doc_count&quot;: 1\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nI expect this issue can be solved without any manual changes on the json content, since it generated by kibana","title":"Exception in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;}&#39;","body":"<p>i badly need help here, i try to parse a json from a file. I got this json content from kibana dev tools, i plan to hit the elastic api, get the json result and get several fields from the json. here's my code</p>\n\n<pre><code>public class JSONParserTest {\n\n    public static void main(String[] args) throws IOException, JSONException {\n\n\n\n        String the_json=readFile(\"/Users/ahmadasyary/Documents/sample.out\", StandardCharsets.UTF_8);\n        //System.out.println(the_json);\n        JSONObject myjson = new JSONObject(the_json);\n        JSONArray the_json_array = myjson.getJSONArray(\"profiles\");\n\n    }\n\n    static String readFile(String path, Charset encoding) \n              throws IOException \n            {\n              byte[] encoded = Files.readAllBytes(Paths.get(path));\n              return new String(encoded, encoding);\n            }\n\n}\n</code></pre>\n\n<p>When i try to run it, i got error like this</p>\n\n<pre><code>Exception in thread \"main\" org.json.JSONException: Expected a ',' or '}' at 3264 [character 25 line 64]\n    at java.json/org.json.JSONTokener.syntaxError(JSONTokener.java:432)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:223)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\n    at java.json/org.json.JSONArray.&lt;init&gt;(JSONArray.java:117)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:365)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\n    at java.json/org.json.JSONTokener.nextValue(JSONTokener.java:362)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:208)\n    at java.json/org.json.JSONObject.&lt;init&gt;(JSONObject.java:310)\n    at TDRParser/ParserTest.JSONParserTest.main(JSONParserTest.java:21)\n</code></pre>\n\n<p>Here's my json content from kibana devs tools</p>\n\n<pre><code>{\n  \"took\": 89,\n  \"timed_out\": false,\n  \"_shards\": {\n    \"total\": 1015,\n    \"successful\": 1015,\n    \"skipped\": 970,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": 1,\n    \"max_score\": null,\n    \"hits\": [\n      {\n        \"_index\": \"project.prod-esb.cbd0dea7-4153-11e8-86d7-001a4a160175.2019.03.22\",\n        \"_type\": \"com.redhat.viaq.common\",\n        \"_id\": \"1KKHo2kB-rz4ABZ2mpyp\",\n        \"_version\": 1,\n        \"_score\": null,\n        \"_source\": {\n          \"logTimestamp\": \"2019-03-22T10:52:46.251+07:00\",\n          \"transactionID\": \"H003190322105245739910520\",\n          \"logLevel\": \"AUDIT\",\n          \"logPoint\": \"Transaction-Audit\",\n          \"logMessage\": \"2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER\",\n          \"processTime\": \"492\",\n          \"docker\": {\n            \"container_id\": \"2a8e197e4bc9d849291e5457fdc7a238d684f92ccc19cf5f51b88772169acf0d\"\n          },\n          \"kubernetes\": {\n            \"container_name\": \"ordersubmission-bs-v2\",\n            \"namespace_name\": \"prod-esb\",\n            \"pod_name\": \"ordersubmission-bs-v2-42-6n2rn\",\n            \"pod_id\": \"5f417ed0-4b0d-11e9-89a5-001a4a160178\",\n            \"labels\": {\n              \"app\": \"ordersubmission-bs-v2\",\n              \"deployment\": \"ordersubmission-bs-v2-42\",\n              \"deploymentconfig\": \"ordersubmission-bs-v2\"\n            },\n            \"host\": \"esbwnpapp3.telkomsel.co.id\",\n            \"master_url\": \"https://kubernetes.default.svc.cluster.local\",\n            \"namespace_id\": \"cbd0dea7-4153-11e8-86d7-001a4a160175\"\n          },\n          \"systemd\": {\n            \"t\": {\n              \"BOOT_ID\": \"ea8d4663351b44f9888b93042f680fcd\",\n              \"CAP_EFFECTIVE\": \"1fffffffff\",\n              \"CMDLINE\": \"/usr/bin/dockerd-current --add-runtime docker-runc=/usr/libexec/docker/docker-runc-current --default-runtime=docker-runc --authorization-plugin=rhel-push-plugin --exec-opt native.cgroupdriver=systemd --userland-proxy-path=/usr/libexec/docker/docker-proxy-current --log-driver=journald --storage-driver devicemapper --storage-opt dm.fs=xfs --storage-opt dm.thinpooldev=/dev/mapper/rhel-docker--pool --storage-opt dm.use_deferred_removal=true --storage-opt dm.use_deferred_deletion=true --mtu=1450 --add-registry registry.access.redhat.com --add-registry registry.access.redhat.com\",\n              \"COMM\": \"dockerd-current\",\n              \"EXE\": \"/usr/bin/dockerd-current\",\n              \"GID\": \"0\",\n              \"MACHINE_ID\": \"35ae721c7f2f4d2e9a0676e0d9e17589\",\n              \"PID\": \"2722\",\n              \"SELINUX_CONTEXT\": \"system_u:system_r:container_runtime_t:s0\",\n              \"SYSTEMD_CGROUP\": \"/system.slice/docker.service\",\n              \"SYSTEMD_SLICE\": \"system.slice\",\n              \"SYSTEMD_UNIT\": \"docker.service\",\n              \"TRANSPORT\": \"journal\",\n              \"UID\": \"0\"\n            }\n          },\n          \"level\": \"info\",\n          \"message\": \"\"\"{\"logMessageId\":\"\",\"logTimestamp\":\"2019-03-22T10:52:46.251+07:00\",\"transactionID\":\"H003190322105245739910520\",\"serviceName\":\"\",\"applicationID\":\"\",\"logLevel\":\"AUDIT\",\"logPoint\":\"Transaction-Audit\",\"logMessage\":\"2019-03-22T10:52:45|2019-03-22T10:52:46|492|p0|H003190322105245739910520|p0169a3879784910520001101905fe5Sac000000000|TELKOMSEL||ACT|SELF|AIRTIME|0|||6281360791052|prepaid|Simpati|||prepaid|Simpati|22016||00011019|ML4_BP_22184|PO||Campaign|2019030761549|1|Days|5000.0|OT_002758_00011019_a5ffc884-19b1-11e9-80a8-cfff756b35c7|||Success|00000|Success||||002777:TC_002775_FLEXIBLEOFFER;00005679:TC_00005457_FLEXIBLEOFFER;00005696:TC_00005474_FLEXIBLEOFFER\",\"requestPayload\":\"\",\"responsePayload\":\"\",\"processTime\":\"492\"}\"\"\",\n          \"hostname\": \"esbwnpapp3.telkomsel.co.id\",\n          \"pipeline_metadata\": {\n            \"collector\": {\n              \"ipaddr4\": \"10.130.14.2\",\n              \"ipaddr6\": \"fe80::54d0:26ff:fe59:e4cd\",\n              \"inputname\": \"fluent-plugin-systemd\",\n              \"name\": \"fluentd\",\n              \"received_at\": \"2019-03-22T03:52:46.883461+00:00\",\n              \"version\": \"0.12.39 1.6.0\"\n            }\n          },\n          \"@timestamp\": \"2019-03-22T03:52:46.252005+00:00\"\n        },\n        \"fields\": {\n          \"logTimestamp\": [\n            \"2019-03-22T03:52:46.251Z\"\n          ],\n          \"@timestamp\": [\n            \"2019-03-22T03:52:46.252Z\"\n          ],\n          \"pipeline_metadata.collector.received_at\": [\n            \"2019-03-22T03:52:46.883Z\"\n          ]\n        },\n        \"highlight\": {\n          \"logLevel.keyword\": [\n            \"@kibana-highlighted-field@AUDIT@/kibana-highlighted-field@\"\n          ],\n          \"transactionID\": [\n            \"@kibana-highlighted-field@H003190322105245739910520@/kibana-highlighted-field@\"\n          ],\n          \"kubernetes.container_name.keyword\": [\n            \"@kibana-highlighted-field@ordersubmission-bs-v2@/kibana-highlighted-field@\"\n          ]\n        },\n        \"sort\": [\n          1553226766252\n        ]\n      }\n    ]\n  },\n  \"aggregations\": {\n    \"2\": {\n      \"buckets\": [\n        {\n          \"key_as_string\": \"2019-03-22T10:52:46.000+07:00\",\n          \"key\": 1553226766000,\n          \"doc_count\": 1\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>I expect this issue can be solved without any manual changes on the json content, since it generated by kibana</p>\n"},{"tags":["java","android","json","parsing"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1393486944,"post_id":22062056,"comment_id":33453513,"body_markdown":"this is valid json see jsonlint.com  maybe it is your code?","body":"this is valid json see jsonlint.com  maybe it is your code?"},{"owner":{"account_id":3422858,"reputation":5242,"user_id":2869772,"accept_rate":63,"display_name":"Jitesh Upadhyay"},"score":0,"creation_date":1393487549,"post_id":22062056,"comment_id":33453826,"body_markdown":"This given json lik is correct..your code which you tried and  also please log cat","body":"This given json lik is correct..your code which you tried and  also please log cat"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1393487620,"post_id":22062056,"comment_id":33453860,"body_markdown":"The bug is somewhere in your code; it looks like you are trying to parse a JSON value which is not an object using `JSONObject`. As an alternative, use a better JSON library, such as Jackson.","body":"The bug is somewhere in your code; it looks like you are trying to parse a JSON value which is not an object using <code>JSONObject</code>. As an alternative, use a better JSON library, such as Jackson."},{"owner":{"account_id":2132213,"reputation":11287,"user_id":1892802,"accept_rate":100,"display_name":"ug_"},"score":1,"creation_date":1393488039,"post_id":22062056,"comment_id":33454100,"body_markdown":"Try printing `str.charAt(0)` and see what the first char is. It could be a `[` in that case its a json array. Or you might have a hidden char of some sort.","body":"Try printing <code>str.charAt(0)</code> and see what the first char is. It could be a <code>[</code> in that case its a json array. Or you might have a hidden char of some sort."},{"owner":{"account_id":894800,"reputation":1400,"user_id":932324,"accept_rate":94,"display_name":"OrhanC1"},"score":0,"creation_date":1393492684,"post_id":22062056,"comment_id":33456864,"body_markdown":"@ns47731, he has posted a link to the JSON he&#39;s parsing and there is no [. str.charAt(0) is still a good debug step, though.","body":"@ns47731, he has posted a link to the JSON he&#39;s parsing and there is no [. str.charAt(0) is still a good debug step, though."}],"answers":[{"tags":[],"owner":{"account_id":1695780,"reputation":11955,"user_id":1557187,"display_name":"Assaf Gamliel"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1393493530,"creation_date":1393493530,"answer_id":22064321,"question_id":22062056,"body_markdown":"Your problem is that `String JSON = &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;;` is not `JSON`.&lt;br&gt;\r\nWhat you want to do is open an `HTTP` connection to &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot; and parse the JSON *response*.\r\n\r\n    String JSON = &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;;\r\n    JSONObject jsonObject = new JSONObject(JSON); // &lt;-- Problem here!\r\n\r\nWill not open a connection to the site and retrieve the content.","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>Your problem is that <code>String JSON = \"http://www.json-generator.com/j/cglqaRcMSW?indent=4\";</code> is not <code>JSON</code>.<br>\nWhat you want to do is open an <code>HTTP</code> connection to \"<a href=\"http://www.json-generator.com/j/cglqaRcMSW?indent=4\" rel=\"noreferrer\">http://www.json-generator.com/j/cglqaRcMSW?indent=4</a>\" and parse the JSON <em>response</em>.</p>\n\n<pre><code>String JSON = \"http://www.json-generator.com/j/cglqaRcMSW?indent=4\";\nJSONObject jsonObject = new JSONObject(JSON); // &lt;-- Problem here!\n</code></pre>\n\n<p>Will not open a connection to the site and retrieve the content.</p>\n"},{"comments":[{"owner":{"account_id":1695780,"reputation":11955,"user_id":1557187,"display_name":"Assaf Gamliel"},"score":1,"creation_date":1401189685,"post_id":22198020,"comment_id":36775843,"body_markdown":"I&#39;m pretty sure this is incorrect. Can you explain please how exactly did this fix your problem? It&#39;s still not opening a connection to retrieve the JSON from the server and it&#39;s not a valid JSON, it&#39;s a URL. Moreover, new StringBuilder.append is not valid Java syntax. As you unaccepted my answer I want to know why this is better, thanks.","body":"I&#39;m pretty sure this is incorrect. Can you explain please how exactly did this fix your problem? It&#39;s still not opening a connection to retrieve the JSON from the server and it&#39;s not a valid JSON, it&#39;s a URL. Moreover, new StringBuilder.append is not valid Java syntax. As you unaccepted my answer I want to know why this is better, thanks."},{"owner":{"account_id":170701,"reputation":1123,"user_id":397604,"accept_rate":80,"display_name":"Itaypk"},"score":1,"creation_date":1401189928,"post_id":22198020,"comment_id":36775991,"body_markdown":"The code here is incorrect, why not use Assaf&#39;s answer?","body":"The code here is incorrect, why not use Assaf&#39;s answer?"},{"owner":{"account_id":959176,"reputation":56896,"user_id":983912,"accept_rate":84,"display_name":"L&#233;o Natan"},"score":1,"creation_date":1401354449,"post_id":22198020,"comment_id":36854784,"body_markdown":"How exactly does using a string builder solve the problem? You are still passing a URL and trying to create a JSON object from it, which is incorrect.","body":"How exactly does using a string builder solve the problem? You are still passing a URL and trying to create a JSON object from it, which is incorrect."}],"tags":[],"owner":{"account_id":1588393,"reputation":843,"user_id":1472269,"accept_rate":60,"display_name":"Denny Mathew"},"comment_count":3,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1514258014,"creation_date":1394023031,"answer_id":22198020,"question_id":22062056,"body_markdown":"Actually,,i found a simple answer,, Jst adding the object to String Builder instead of String worked ;)\r\n\r\n    StringBuilder jsonString= new StringBuilder.append(&quot;http://www.json-.com/j/cglqaRcMSW?=4&quot;);    \r\n    JSON json= new JSON(jsonString.toString);","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>Actually,,i found a simple answer,, Jst adding the object to String Builder instead of String worked ;)</p>\n\n<pre><code>StringBuilder jsonString= new StringBuilder.append(\"http://www.json-.com/j/cglqaRcMSW?=4\");    \nJSON json= new JSON(jsonString.toString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1434395,"reputation":6072,"user_id":1356106,"accept_rate":47,"display_name":"Tim Autin"},"score":33,"creation_date":1421964057,"post_id":24688096,"comment_id":44574629,"body_markdown":"Or you may use JSONArray jsonArray = new JSONArray(output);","body":"Or you may use JSONArray jsonArray = new JSONArray(output);"}],"tags":[],"owner":{"account_id":362870,"reputation":5928,"user_id":706295,"accept_rate":66,"display_name":"AKB"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1516835229,"creation_date":1405036341,"answer_id":24688096,"question_id":22062056,"body_markdown":"I had same issue. My Json response from the server was having [, and, ]:\r\n\r\n    [{&quot;DATE_HIRED&quot;:852344800000,&quot;FRNG_SUB_ACCT&quot;:0,&quot;MOVING_EXP&quot;:0,&quot;CURRENCY_CODE&quot;:&quot;CAD  &quot;,&quot;PIN&quot;:&quot;          &quot;,&quot;EST_REMUN&quot;:0,&quot;HM_DIST_CO&quot;:1,&quot;SICK_PAY&quot;:0,&quot;STAND_AMT&quot;:0,&quot;BSI_GROUP&quot;:&quot;           &quot;,&quot;LAST_DED_SEQ&quot;:36}]\r\n\r\nhttp://jsonlint.com/ says valid json. you can copy and verify it.\r\n\r\nI have fixed with below code as temporary solution:\r\n\r\n\tBufferedReader br = new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\r\n\tString result =&quot;&quot;;\r\n\tString output = null;\r\n\twhile ((result = br.readLine()) != null) {\r\n\t\toutput = result.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;);\r\n\t\tJSONObject jsonObject = new JSONObject(output);\t\r\n        JSONArray jsonArray = new JSONArray(output); \r\n        .....\t\r\n\t}\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had same issue. My Json response from the server was having [, and, ]:</p>\n\n<pre><code>[{\"DATE_HIRED\":852344800000,\"FRNG_SUB_ACCT\":0,\"MOVING_EXP\":0,\"CURRENCY_CODE\":\"CAD  \",\"PIN\":\"          \",\"EST_REMUN\":0,\"HM_DIST_CO\":1,\"SICK_PAY\":0,\"STAND_AMT\":0,\"BSI_GROUP\":\"           \",\"LAST_DED_SEQ\":36}]\n</code></pre>\n\n<p><a href=\"http://jsonlint.com/\" rel=\"noreferrer\">http://jsonlint.com/</a> says valid json. you can copy and verify it.</p>\n\n<p>I have fixed with below code as temporary solution:</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new InputStreamReader((response.getEntity().getContent())));\nString result =\"\";\nString output = null;\nwhile ((result = br.readLine()) != null) {\n    output = result.replace(\"[\", \"\").replace(\"]\", \"\");\n    JSONObject jsonObject = new JSONObject(output); \n    JSONArray jsonArray = new JSONArray(output); \n    .....   \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6651349,"reputation":4535,"user_id":7756492,"display_name":"ucMedia"},"score":0,"creation_date":1600604861,"post_id":34767374,"comment_id":113134375,"body_markdown":"Works like charm","body":"Works like charm"}],"tags":[],"owner":{"account_id":7628680,"reputation":41,"user_id":5784421,"display_name":"palossyl"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1452689833,"creation_date":1452689833,"answer_id":34767374,"question_id":22062056,"body_markdown":"I had the same, there was an empty new line character at the beginning.\r\nThat solved it:\r\n\r\n    int i = result.indexOf(&quot;{&quot;);\r\n    result = result.substring(i);\r\n    JSONObject json = new JSONObject(result.trim()); \r\n    System.out.println(json.toString(4));  ","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had the same, there was an empty new line character at the beginning.\nThat solved it:</p>\n\n<pre><code>int i = result.indexOf(\"{\");\nresult = result.substring(i);\nJSONObject json = new JSONObject(result.trim()); \nSystem.out.println(json.toString(4));  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8145727,"reputation":21,"user_id":6134450,"display_name":"AGAPU SHIVA RAMA KRISHNA"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459337781,"creation_date":1459337781,"answer_id":36307654,"question_id":22062056,"body_markdown":"  I had the same issue because of the wrong order of the code statements. Maintain the below order to resolve the issue. All get methods statements first and later httpClient methods.\r\n    \r\n\r\n    \r\n          HttpClient httpClient = new HttpClient();\r\n    get = new GetMethod(instanceUrl+usersEndPointUri);\r\n    get.setRequestHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    get.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    \r\n    httpClient.getParams().setParameter(&quot;http.protocol.single-cookie-header&quot;, true);\r\n    httpClient.getParams().setCookiePolicy(CookiePolicy.BROWSER_COMPATIBILITY);\r\n    httpClient.executeMethod(get);\r\n\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had the same issue because of the wrong order of the code statements. Maintain the below order to resolve the issue. All get methods statements first and later httpClient methods.</p>\n\n<pre><code>      HttpClient httpClient = new HttpClient();\nget = new GetMethod(instanceUrl+usersEndPointUri);\nget.setRequestHeader(\"Content-Type\", \"application/json\");\nget.setRequestHeader(\"Accept\", \"application/json\");\n\nhttpClient.getParams().setParameter(\"http.protocol.single-cookie-header\", true);\nhttpClient.getParams().setCookiePolicy(CookiePolicy.BROWSER_COMPATIBILITY);\nhttpClient.executeMethod(get);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8293068,"reputation":739,"user_id":6234057,"display_name":"Nagaraja JB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526579653,"creation_date":1526579653,"answer_id":50397732,"question_id":22062056,"body_markdown":"I had similar issue due to a small mistake, when i was trying to convert a List to json.\r\nIf a List is converted to json it will return JSONArray not JSONObject.","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had similar issue due to a small mistake, when i was trying to convert a List to json.\nIf a List is converted to json it will return JSONArray not JSONObject.</p>\n"},{"tags":[],"owner":{"account_id":13768268,"reputation":139,"user_id":9936382,"display_name":"Andres Navarro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528897589,"creation_date":1528897589,"answer_id":50838870,"question_id":22062056,"body_markdown":"in my case my arraylist trhows me that error with the JSONObject , but i fin this solution for my array of String objects\r\n\r\n    List&lt;String&gt; listStrings= new ArrayList&lt;String&gt;();\r\n    String json = new Gson().toJson(listStrings);\r\n    return json;\r\n\r\nWorks like charm with angular\r\nGson version 2.8.5","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>in my case my arraylist trhows me that error with the JSONObject , but i fin this solution for my array of String objects</p>\n\n<pre><code>List&lt;String&gt; listStrings= new ArrayList&lt;String&gt;();\nString json = new Gson().toJson(listStrings);\nreturn json;\n</code></pre>\n\n<p>Works like charm with angular\nGson version 2.8.5</p>\n"},{"tags":[],"owner":{"account_id":8379236,"reputation":41,"user_id":6291776,"display_name":"Dinesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548952113,"creation_date":1548952113,"answer_id":54465066,"question_id":22062056,"body_markdown":"In my case the json file encoding was a problem\r\n\r\nI was generating JSON file in vb .net with following:\r\nMy.Computer.FileSystem.WriteAllText(&quot;newComponent.json&quot;, json.Trim, False)\r\n\r\nAnd I tried all suggestions in this post but none helped.\r\n\r\nEventually in Notepad++ noticed that the file created was in UTF-8-BOM\r\n\r\nNot sure how it picked up that encoding but after I switched the encoding to UTF-8, it resolved with no other changes.\r\n\r\nHope this helps someone.","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>In my case the json file encoding was a problem</p>\n\n<p>I was generating JSON file in vb .net with following:\nMy.Computer.FileSystem.WriteAllText(\"newComponent.json\", json.Trim, False)</p>\n\n<p>And I tried all suggestions in this post but none helped.</p>\n\n<p>Eventually in Notepad++ noticed that the file created was in UTF-8-BOM</p>\n\n<p>Not sure how it picked up that encoding but after I switched the encoding to UTF-8, it resolved with no other changes.</p>\n\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":10706423,"reputation":211,"user_id":7880083,"display_name":"sonu1986"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561590474,"creation_date":1561590474,"answer_id":56781985,"question_id":22062056,"body_markdown":"I had the same error and struggled to fix it, then answer above by Nagaraja JB helped me to fix it. In my case:\r\n\r\nWas before:\r\nJSONObject response_json = new JSONObject(response_data);\r\n\r\nChanged it to:\r\nJSONArray response_json = new JSONArray(response_data);\r\n\r\nThis fixed it. ","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>I had the same error and struggled to fix it, then answer above by Nagaraja JB helped me to fix it. In my case:</p>\n\n<p>Was before:\nJSONObject response_json = new JSONObject(response_data);</p>\n\n<p>Changed it to:\nJSONArray response_json = new JSONArray(response_data);</p>\n\n<p>This fixed it. </p>\n"},{"tags":[],"owner":{"account_id":9580362,"reputation":350,"user_id":7115085,"display_name":"Raymond"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1567587633,"creation_date":1567587633,"answer_id":57784975,"question_id":22062056,"body_markdown":"While the json begins with &quot;[&quot; and ends with &quot;]&quot; that means this is the Json Array, use JSONArray instead:\r\n\r\n    JSONArray jsonArray = new JSONArray(JSON);\r\n\r\nAnd then you can map it with the List Test Object if you need:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    List&lt;TestExample&gt; listTest = mapper.readValue(String.valueOf(jsonArray), List.class);\r\n\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>While the json begins with \"[\" and ends with \"]\" that means this is the Json Array, use JSONArray instead:</p>\n\n<pre><code>JSONArray jsonArray = new JSONArray(JSON);\n</code></pre>\n\n<p>And then you can map it with the List Test Object if you need:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nList&lt;TestExample&gt; listTest = mapper.readValue(String.valueOf(jsonArray), List.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14516222,"reputation":11,"user_id":10496775,"display_name":"T J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578667835,"creation_date":1578667835,"answer_id":59684013,"question_id":22062056,"body_markdown":"The file that I was using was saved through Powershell in UTF-8 format. I changed it to ANSI and it fixed the problem. ","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>The file that I was using was saved through Powershell in UTF-8 format. I changed it to ANSI and it fixed the problem. </p>\n"},{"tags":[],"owner":{"account_id":14312980,"reputation":394,"user_id":10338665,"display_name":"Damnik Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621508264,"creation_date":1621508264,"answer_id":67619031,"question_id":22062056,"body_markdown":"Response:\r\n   \r\n\r\n     [\r\n            {\r\n              &quot;idGear&quot;: &quot;1&quot;,\r\n              &quot;name&quot;: &quot;Nosilec za kolesa&quot;,\r\n              &quot;year&quot;: &quot;2005&quot;,\r\n              &quot;price&quot;: &quot;777.0&quot;\r\n            }, {\r\n              &quot;idGear&quot;: &quot;2&quot;,\r\n              &quot;name&quot;: &quot;Stresni nosilci&quot;,\r\n              &quot;year&quot;: &quot;1983&quot;,\r\n              &quot;price&quot;: &quot;40.0&quot;\r\n            }\r\n          ]\r\n\r\nAssuming your response is somewhat similar to this one. You can use JSONArray instead of JSONObject and then depending on your response either you can iterate it or get the element at 0th index.\r\n\r\n    JSONArray json_arr = new JSONArray(response_string);\r\n    JSONObject single_response = json_arr.get(0); //for single element\r\n    for(int i=0;i&lt;json_arr.length();i++){         // OR iterate\r\n        JSONObject tmp = json_arr.get(i);\r\n    } \r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>Response:</p>\n<pre><code> [\n        {\n          &quot;idGear&quot;: &quot;1&quot;,\n          &quot;name&quot;: &quot;Nosilec za kolesa&quot;,\n          &quot;year&quot;: &quot;2005&quot;,\n          &quot;price&quot;: &quot;777.0&quot;\n        }, {\n          &quot;idGear&quot;: &quot;2&quot;,\n          &quot;name&quot;: &quot;Stresni nosilci&quot;,\n          &quot;year&quot;: &quot;1983&quot;,\n          &quot;price&quot;: &quot;40.0&quot;\n        }\n      ]\n</code></pre>\n<p>Assuming your response is somewhat similar to this one. You can use JSONArray instead of JSONObject and then depending on your response either you can iterate it or get the element at 0th index.</p>\n<pre><code>JSONArray json_arr = new JSONArray(response_string);\nJSONObject single_response = json_arr.get(0); //for single element\nfor(int i=0;i&lt;json_arr.length();i++){         // OR iterate\n    JSONObject tmp = json_arr.get(i);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13658586,"reputation":21,"user_id":9854367,"display_name":"Navin Christopher"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622894206,"creation_date":1622894206,"answer_id":67849324,"question_id":22062056,"body_markdown":"This problem does not happen in JSON. You need to open the URL connection using HttpURLConnection.\r\n\r\n```\r\n    HttpURLConnection connection = null;\r\n\ttry{\t\t\t\r\n\t\tURL url = new URL(&quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;);\r\n\t\tconnection =  (HttpURLConnection) url.openConnection();\r\n\t\tconnection.setRequestMethod(&quot;GET&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n\t\tconnection.setRequestProperty(&quot;Accept&quot;,&quot;application/json&quot;);\r\n\t\tconnection.setUseCaches(false);\r\n\t\tconnection.setAllowUserInteraction(false);\r\n\t\tconnection.connect();\r\n\t\tBufferedReader bufferedReader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n\t\tStringBuffer stringBuffer = new StringBuffer();\r\n\t\tString output;\r\n\t\twhile((output = bufferedReader.readLine()) != null ){\r\n\t\t\tstringBuffer.append(output);\r\n\t\t}\r\n\t\tbufferedReader.close();\r\n\t\tSystem.out.println(stringBuffer.toString());\r\n    }\r\n    catch(Exception e){\r\n        System.out.println(e);\r\n    }\r\n    finally{\r\n        if (connection != null) {\r\n        try {\r\n\t        connection.disconnect();\r\n\t    }catch (Exception ex) {\r\n\t        System.out.println(&quot;Error&quot;);\r\n\t    }\r\n     }\r\n```","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>This problem does not happen in JSON. You need to open the URL connection using HttpURLConnection.</p>\n<pre><code>    HttpURLConnection connection = null;\n    try{            \n        URL url = new URL(&quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;);\n        connection =  (HttpURLConnection) url.openConnection();\n        connection.setRequestMethod(&quot;GET&quot;);\n        connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\n        connection.setRequestProperty(&quot;Accept&quot;,&quot;application/json&quot;);\n        connection.setUseCaches(false);\n        connection.setAllowUserInteraction(false);\n        connection.connect();\n        BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        StringBuffer stringBuffer = new StringBuffer();\n        String output;\n        while((output = bufferedReader.readLine()) != null ){\n            stringBuffer.append(output);\n        }\n        bufferedReader.close();\n        System.out.println(stringBuffer.toString());\n    }\n    catch(Exception e){\n        System.out.println(e);\n    }\n    finally{\n        if (connection != null) {\n        try {\n            connection.disconnect();\n        }catch (Exception ex) {\n            System.out.println(&quot;Error&quot;);\n        }\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10109755,"reputation":590,"user_id":7471133,"accept_rate":67,"display_name":"Ajay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701686691,"creation_date":1701686378,"answer_id":77598763,"question_id":22062056,"body_markdown":"In my cases it was &quot; &quot;(double quotes) issue when I replaced it with &#39; &#39;(single quotes) it worked for me.\r\nPlease check sample after **data**.\r\n\r\nThis may work for you.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9aS0h.png","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<p>In my cases it was &quot; &quot;(double quotes) issue when I replaced it with ' '(single quotes) it worked for me.\nPlease check sample after <strong>data</strong>.</p>\n<p>This may work for you.</p>\n<p><a href=\"https://i.stack.imgur.com/9aS0h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9aS0h.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1588393,"reputation":843,"user_id":1472269,"accept_rate":60,"display_name":"Denny Mathew"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225449,"favorite_count":0,"down_vote_count":2,"up_vote_count":27,"accepted_answer_id":22064321,"answer_count":14,"score":25,"last_activity_date":1701686691,"creation_date":1393486740,"question_id":22062056,"body_markdown":"\r\n\tString JSON = &quot;http://www.json-generator.com/j/cglqaRcMSW?indent=4&quot;;\r\n\r\n\tJSONObject jsonObject = new JSONObject(JSON);\r\n\tJSONObject getSth = jsonObject.getJSONObject(&quot;get&quot;);\r\n\tObject level = getSth.get(&quot;2&quot;);\r\n\r\n\tSystem.out.println(level);\r\n\r\nI referred many solutions for parsing [this link][1], still getting the same error in question.\r\nCan any give me a simple solution for parsing it.\r\n\r\n\r\n  [1]: http://www.json-generator.com/j/cglqaRcMSW?indent=4\r\n\r\n","title":"A JSONObject text must begin with &#39;{&#39; at 1 [character 2 line 1] with &#39;{&#39; error","body":"<pre><code>String JSON = \"http://www.json-generator.com/j/cglqaRcMSW?indent=4\";\n\nJSONObject jsonObject = new JSONObject(JSON);\nJSONObject getSth = jsonObject.getJSONObject(\"get\");\nObject level = getSth.get(\"2\");\n\nSystem.out.println(level);\n</code></pre>\n\n<p>I referred many solutions for parsing <a href=\"http://www.json-generator.com/j/cglqaRcMSW?indent=4\" rel=\"noreferrer\">this link</a>, still getting the same error in question.\nCan any give me a simple solution for parsing it.</p>\n"},{"tags":["java","spring-boot","azure-application-insights","javaagents","graalvm-native-image"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1678715575,"post_id":75721649,"comment_id":133582171,"body_markdown":"Maybe https://github.com/oracle/graal/issues/5912 helps to shed a bit of light on the situation. _Disclaimer: I am not a GraalVM user and found this question due to the &#39;javaagents&#39; tag only._","body":"Maybe <a href=\"https://github.com/oracle/graal/issues/5912\" rel=\"nofollow noreferrer\">github.com/oracle/graal/issues/5912</a> helps to shed a bit of light on the situation. <i>Disclaimer: I am not a GraalVM user and found this question due to the &#39;javaagents&#39; tag only.</i>"}],"answers":[{"comments":[{"owner":{"account_id":10825199,"reputation":161,"user_id":7961298,"display_name":"Rolf Nyffenegger"},"score":0,"creation_date":1678713149,"post_id":75722092,"comment_id":133581359,"body_markdown":"Thanks a lot for your answer Stephen. Unfortunately, it is using the same mechanism to &quot;enable it programatically&quot;. I uses ByteBuddy to attach a JAR (even if stated &quot;programmatically&quot;) to the JVM (which is obviously not present)\n\n`ByteBuddyAgent.attach(javaagentFile, getPid());`","body":"Thanks a lot for your answer Stephen. Unfortunately, it is using the same mechanism to &quot;enable it programatically&quot;. I uses ByteBuddy to attach a JAR (even if stated &quot;programmatically&quot;) to the JVM (which is obviously not present)  <code>ByteBuddyAgent.attach(javaagentFile, getPid());</code>"},{"owner":{"account_id":12705746,"reputation":69,"user_id":9231107,"accept_rate":60,"display_name":"Manikanta Reddy Pasala"},"score":0,"creation_date":1689408082,"post_id":75722092,"comment_id":135211746,"body_markdown":"@RolfNyffenegger\n\ndid you solve the issue with graalVM and opentelemetry-javaagent. \n\ni am able to run from locally but i coulnt&#39; able to generate native image. i am getting errors like below \n\n\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.1:process-aot (process-aot) on project MongoDbService: Unable to compile generated source\n[ERROR] cannot find symbol\n[ERROR]:   class OpenTelemetryMeterRegistryAutoConfiguration\nio.opentelemetry.javaagent.instrumentation.spring.actuator.v2_0.OpenTelemetryMeterRegistryAutoConfiguration__BeanDefinitions","body":"@RolfNyffenegger  did you solve the issue with graalVM and opentelemetry-javaagent.   i am able to run from locally but i coulnt&#39; able to generate native image. i am getting errors like below    [ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.1.1:proc&zwnj;&#8203;ess-aot (process-aot) on project MongoDbService: Unable to compile generated source [ERROR] cannot find symbol [ERROR]:   class OpenTelemetryMeterRegistryAutoConfiguration io.opentelemetry.javaagent.instrumentation.spring.actuator.v&zwnj;&#8203;2_0.OpenTelemetryMet&zwnj;&#8203;erRegistryAutoConfig&zwnj;&#8203;uration__BeanDefinit&zwnj;&#8203;ions"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686230601,"creation_date":1678711897,"answer_id":75722092,"question_id":75721649,"body_markdown":"I couldn&#39;t find anything in the GraalVM documentation for native images that talks about attaching runtime agents to native apps.  This suggests that it is not supported.  \r\n\r\nI then searched for &quot;application insights graalvm native image&quot; and found this on the Application Insights issue tracker:\r\n\r\nhttps://github.com/microsoft/ApplicationInsights-Java/issues/1266\r\n\r\n&gt; We are currently using a custom implementation of the OpenTracing SPI to send our tracing data to Application Insights (the implementation is based on the Application Insights SDK 2.6.1) from a Quarkus application. Our plan is to move to OpenTelemetry as soon as it is supported by Quarkus.\r\n\r\n&gt; Since Quarkus also supports native image generation (using GraalVM) **auto-instrumentation using a Java agent won&#39;t be possible** and a &quot;deep integration&quot; with Quarkus will be required. I would like to know if use cases like this one are on the radar and if builds (i.e. Maven artifacts) will be provided, which cater for this use case. I imagine there would be a build which provides an exporter only.\r\n\r\nThe highlighted phrase aligns with what I deduced from the (lack of) documentation.   And it is further confirmed by the response to this GraalVM issue: https://github.com/oracle/graal/issues/5912\r\n\r\nYou said:\r\n\r\n&gt; Use the OpenTelemetry library [...]. For me it still seems to use a kind of a javaagent jar to work properly.\r\n\r\nThe alternative would be to include the OpenTelemetry JAR in your SpringBoot application and [enable it programatically][1] rather than via a javaagent.  It would be converted to native code by the GraalVM native image builder.\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically","title":"How to use Java agent with native compiled spring boot application","body":"<p>I couldn't find anything in the GraalVM documentation for native images that talks about attaching runtime agents to native apps.  This suggests that it is not supported.</p>\n<p>I then searched for &quot;application insights graalvm native image&quot; and found this on the Application Insights issue tracker:</p>\n<p><a href=\"https://github.com/microsoft/ApplicationInsights-Java/issues/1266\" rel=\"nofollow noreferrer\">https://github.com/microsoft/ApplicationInsights-Java/issues/1266</a></p>\n<blockquote>\n<p>We are currently using a custom implementation of the OpenTracing SPI to send our tracing data to Application Insights (the implementation is based on the Application Insights SDK 2.6.1) from a Quarkus application. Our plan is to move to OpenTelemetry as soon as it is supported by Quarkus.</p>\n</blockquote>\n<blockquote>\n<p>Since Quarkus also supports native image generation (using GraalVM) <strong>auto-instrumentation using a Java agent won't be possible</strong> and a &quot;deep integration&quot; with Quarkus will be required. I would like to know if use cases like this one are on the radar and if builds (i.e. Maven artifacts) will be provided, which cater for this use case. I imagine there would be a build which provides an exporter only.</p>\n</blockquote>\n<p>The highlighted phrase aligns with what I deduced from the (lack of) documentation.   And it is further confirmed by the response to this GraalVM issue: <a href=\"https://github.com/oracle/graal/issues/5912\" rel=\"nofollow noreferrer\">https://github.com/oracle/graal/issues/5912</a></p>\n<p>You said:</p>\n<blockquote>\n<p>Use the OpenTelemetry library [...]. For me it still seems to use a kind of a javaagent jar to work properly.</p>\n</blockquote>\n<p>The alternative would be to include the OpenTelemetry JAR in your SpringBoot application and <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\" rel=\"nofollow noreferrer\">enable it programatically</a> rather than via a javaagent.  It would be converted to native code by the GraalVM native image builder.</p>\n"},{"tags":[],"owner":{"account_id":27850139,"reputation":89,"user_id":21264803,"display_name":"jean_m"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1701686604,"creation_date":1701386616,"answer_id":77582213,"question_id":75721649,"body_markdown":"As specified on [this Microsoft documentation page](https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot), the alternative is to use [the Azure distribution of the OpenTelemetry Spring Boot starter](https://aka.ms/AzMonSpringNative) to monitor Spring Boot native image applications on Azure.","title":"How to use Java agent with native compiled spring boot application","body":"<p>As specified on <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot\" rel=\"nofollow noreferrer\">this Microsoft documentation page</a>, the alternative is to use <a href=\"https://aka.ms/AzMonSpringNative\" rel=\"nofollow noreferrer\">the Azure distribution of the OpenTelemetry Spring Boot starter</a> to monitor Spring Boot native image applications on Azure.</p>\n"}],"owner":{"account_id":10825199,"reputation":161,"user_id":7961298,"display_name":"Rolf Nyffenegger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1161,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1701686604,"creation_date":1678709140,"question_id":75721649,"body_markdown":"Together with our SpringBoot (3.0.3) application we are using Application Insights (Azure) for monitoring. \r\n\r\nCurrently we are trying to compile the application natively with the GraalVM. That works quite well and gives us a lot of benefits (startup time and memory consumption). The only thing that does not yet work is Application Insights which is started as a Java agent. I found almost no useful information about the whole topic and asked myself if we are trying to do something that is currently not supported at all.\r\n\r\nHere&#39;s what we&#39;ve tried so far:\r\n\r\n- Use parameters of the `nativeCompile` Gradle task to specify an additional jvmArgs (as mentioned here: https://github.com/oracle/graal/issues/1065). Although the build works fine, it just don&#39;t includes (or starts?) the agent with application startup.\r\n[![gradle task configuration](https://i.stack.imgur.com/L04TU.png)](https://i.stack.imgur.com/L04TU.png)\r\n- Start the Application Insights agent from within the code as described here: https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\r\nUnfortunately that did not work either, because it tries to load a JAR file during startup, which is (I think) not possible for a native compiled application (no JVM).\r\n- Use OpenTelemetry library as described here: https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable?tabs=java\r\nFor me it still seems to use a kind of a javaagent jar to work properly.\r\n\r\nIs there a solution to add javaagents also in native compiled builds, or are there any alternatives to send monitoring data from a SpringBoot application to ApplicationInsights?","title":"How to use Java agent with native compiled spring boot application","body":"<p>Together with our SpringBoot (3.0.3) application we are using Application Insights (Azure) for monitoring.</p>\n<p>Currently we are trying to compile the application natively with the GraalVM. That works quite well and gives us a lot of benefits (startup time and memory consumption). The only thing that does not yet work is Application Insights which is started as a Java agent. I found almost no useful information about the whole topic and asked myself if we are trying to do something that is currently not supported at all.</p>\n<p>Here's what we've tried so far:</p>\n<ul>\n<li>Use parameters of the <code>nativeCompile</code> Gradle task to specify an additional jvmArgs (as mentioned here: <a href=\"https://github.com/oracle/graal/issues/1065\" rel=\"noreferrer\">https://github.com/oracle/graal/issues/1065</a>). Although the build works fine, it just don't includes (or starts?) the agent with application startup.\n<a href=\"https://i.stack.imgur.com/L04TU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/L04TU.png\" alt=\"gradle task configuration\" /></a></li>\n<li>Start the Application Insights agent from within the code as described here: <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/java-spring-boot#enabling-programmatically</a>\nUnfortunately that did not work either, because it tries to load a JAR file during startup, which is (I think) not possible for a native compiled application (no JVM).</li>\n<li>Use OpenTelemetry library as described here: <a href=\"https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable?tabs=java\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/azure/azure-monitor/app/opentelemetry-enable?tabs=java</a>\nFor me it still seems to use a kind of a javaagent jar to work properly.</li>\n</ul>\n<p>Is there a solution to add javaagents also in native compiled builds, or are there any alternatives to send monitoring data from a SpringBoot application to ApplicationInsights?</p>\n"},{"tags":["java","spring-boot","completable-future"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701687455,"post_id":77598791,"comment_id":136802385,"body_markdown":"Please add some code (like your interceptor) to the question.","body":"Please add some code (like your interceptor) to the question."}],"owner":{"account_id":5808495,"reputation":219,"user_id":4580401,"accept_rate":57,"display_name":"JSB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701686596,"creation_date":1701686596,"question_id":77598791,"body_markdown":"I have an interceptor that does a token call before each api-call.\r\nThis way i either check in the cache if the token is still available and valid or need a new one.\r\n\r\nThis works fine in normal calls.\r\nBut i am now using completable futures.\r\nSo 2 calls are now send en therefore 2 token requests are done before these calls.\r\nIs there a nice way to prevent multiple calls from happening.\r\n\r\nCan i pause the interceptor call if another intercepter calls is already going?\r\nIf i can pause it then i can just let it continue after the first call and it will find a new token in the cache.\r\n","title":"Prevent multiple interceptor calls when using completable future","body":"<p>I have an interceptor that does a token call before each api-call.\nThis way i either check in the cache if the token is still available and valid or need a new one.</p>\n<p>This works fine in normal calls.\nBut i am now using completable futures.\nSo 2 calls are now send en therefore 2 token requests are done before these calls.\nIs there a nice way to prevent multiple calls from happening.</p>\n<p>Can i pause the interceptor call if another intercepter calls is already going?\nIf i can pause it then i can just let it continue after the first call and it will find a new token in the cache.</p>\n"},{"tags":["java","spring","spring-boot","graphql"],"comments":[{"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"score":1,"creation_date":1701679899,"post_id":77598140,"comment_id":136801152,"body_markdown":"In my opinion, your current implementation is good and there is no easier way to achieve this.","body":"In my opinion, your current implementation is good and there is no easier way to achieve this."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701679971,"post_id":77598140,"comment_id":136801162,"body_markdown":"If you are already using Spring for GraphQL that also provides a client (see https://docs.spring.io/spring-graphql/reference/client.html).","body":"If you are already using Spring for GraphQL that also provides a client (see <a href=\"https://docs.spring.io/spring-graphql/reference/client.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-graphql/reference/client.html</a>)."}],"answers":[{"comments":[{"owner":{"account_id":6857935,"reputation":1648,"user_id":5272951,"display_name":"Dumbo"},"score":0,"creation_date":1701690684,"post_id":77598753,"comment_id":136802883,"body_markdown":"That&#39;s not what I am searching for. Documentation says: `graphql-spring-boot-starter` : turns your Spring Boot application into a GraphQL Server...","body":"That&#39;s not what I am searching for. Documentation says: <code>graphql-spring-boot-starter</code> : turns your Spring Boot application into a GraphQL Server..."}],"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701686246,"creation_date":1701686246,"answer_id":77598753,"question_id":77598140,"body_markdown":"`graphql-java-kickstart`, this library provides a convenient way to work with GraphQL in Java. You can refer to the official documentation for more details: [graphql-java-kickstart][1].\r\n\r\n  [1]: https://www.graphql-java-kickstart.com/spring-boot/","title":"How can spring-boot application easily get data from external GraphQL service?","body":"<p><code>graphql-java-kickstart</code>, this library provides a convenient way to work with GraphQL in Java. You can refer to the official documentation for more details: <a href=\"https://www.graphql-java-kickstart.com/spring-boot/\" rel=\"nofollow noreferrer\">graphql-java-kickstart</a>.</p>\n"}],"owner":{"account_id":6857935,"reputation":1648,"user_id":5272951,"display_name":"Dumbo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701686246,"creation_date":1701679180,"question_id":77598140,"body_markdown":"&lt;h3&gt;Background&lt;/h3&gt;\r\nMy spring-boot-3 application need to get data from external GraphQL API. There I can/need fetch data by 4 different queries. I want to find some generic GraphQL Client with default GraphQL exceptions handling and default response conversion to objects.  \r\n\r\n---  \r\n\r\n&lt;h3&gt;Question&lt;/h3&gt;\r\nIs there any simple way to call GraphQL API? Any dependency or client for that?\r\n\r\n---\r\n\r\n&lt;h3&gt;Implementation that I have now&lt;/h3&gt;\r\n\r\n**GraphQLQueryLoader.class** \r\n\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\n@Component\r\npublic class GraphQLQueryLoader {\r\n\r\n  private final ResourceLoader resourceLoader;\r\n\r\n  /**\r\n   * Query file should be in\r\n   * &lt;code&gt;/resources/graphql/{fileName}.graphql&lt;/code&gt;\r\n   * */\r\n  public String loadQuery(final String queryName) {\r\n    try {\r\n      final var location = &quot;classpath:graphql/&quot; + queryName + &quot;.graphql&quot;;\r\n      final var path = resourceLoader.getResource(location).getFile().getPath();\r\n      return Files.readString(Paths.get(path));\r\n    } catch (final Exception e) {\r\n      log.error(String.format(&quot;Could not load GraphQL query (%s).&quot;, queryName), e);\r\n      throw new GraphQLQueryException();\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\n**GraphQLClient.class**\r\n\r\n```java\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class GraphQLClient {\r\n\r\n  private static final Duration TIMEOUT = Duration.ofSeconds(30);\r\n\r\n  private final WebClient webClient;\r\n  private final GraphQLQueryLoader graphQLQueryLoader;\r\n\r\n  public GraphQLResponse getByQueryName(final String query) {\r\n    final var query = graphQLQueryLoader.loadQuery(query);\r\n    return webClient.post()\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .body(BodyInserters.fromValue(query))\r\n                    .retrieve()\r\n                    .onStatus(HttpStatusCode::is4xxClientError, handleClientError())\r\n                    .onStatus(HttpStatusCode::is5xxServerError, handleServerError())\r\n                    .bodyToMono(GraphQLResponse.class)\r\n                    .block(TIMEOUT);\r\n  }\r\n\r\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleClientError() {\r\n    return response -&gt; response.bodyToMono(String.class)\r\n                               .flatMap(body -&gt; {\r\n                                 log.warn(&quot;Client error with body: {}&quot;, body);\r\n                                 return Mono.error(new HttpClientErrorException(response.statusCode(), &quot;Client error&quot;));\r\n                               });\r\n  }\r\n\r\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleServerError() {\r\n    return response -&gt; response.bodyToMono(String.class)\r\n                               .flatMap(body -&gt; {\r\n                                 log.warn(&quot;Server error with body: {}&quot;, body);\r\n                                 return Mono.error(new HttpServerErrorException(response.statusCode(), &quot;Server error&quot;));\r\n                               });\r\n  }\r\n\r\n}\r\n```\r\n\r\n**GraphQLResponse.class**\r\n\r\n```java\r\npublic record GraphQLResponse(Object data) {}\r\n```\r\n\r\n**resources/graphql/my-query.graphql**\r\n\r\n```graphql\r\nquery myQuery() {\r\n    myQuery(id: &#39;123&#39;) {\r\n        myCollection {\r\n            items {\r\n                title\r\n                body\r\n                action\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Usage**\r\n```java\r\nfinal var response = client.getByQueryName(&quot;my-query&quot;);\r\n```\r\n\r\n---\r\n\r\n&lt;h4&gt;Is there any other easier way to get data from GraphQL API? Internet suggests only how to create GraphQL service, but nothing about any GraphQL client...&lt;/h4&gt;","title":"How can spring-boot application easily get data from external GraphQL service?","body":"<h3>Background</h3>\nMy spring-boot-3 application need to get data from external GraphQL API. There I can/need fetch data by 4 different queries. I want to find some generic GraphQL Client with default GraphQL exceptions handling and default response conversion to objects.  \n<hr />\n<h3>Question</h3>\nIs there any simple way to call GraphQL API? Any dependency or client for that?\n<hr />\n<h3>Implementation that I have now</h3>\n<p><strong>GraphQLQueryLoader.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\n@Component\npublic class GraphQLQueryLoader {\n\n  private final ResourceLoader resourceLoader;\n\n  /**\n   * Query file should be in\n   * &lt;code&gt;/resources/graphql/{fileName}.graphql&lt;/code&gt;\n   * */\n  public String loadQuery(final String queryName) {\n    try {\n      final var location = &quot;classpath:graphql/&quot; + queryName + &quot;.graphql&quot;;\n      final var path = resourceLoader.getResource(location).getFile().getPath();\n      return Files.readString(Paths.get(path));\n    } catch (final Exception e) {\n      log.error(String.format(&quot;Could not load GraphQL query (%s).&quot;, queryName), e);\n      throw new GraphQLQueryException();\n    }\n  }\n\n}\n</code></pre>\n<p><strong>GraphQLClient.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@RequiredArgsConstructor\npublic class GraphQLClient {\n\n  private static final Duration TIMEOUT = Duration.ofSeconds(30);\n\n  private final WebClient webClient;\n  private final GraphQLQueryLoader graphQLQueryLoader;\n\n  public GraphQLResponse getByQueryName(final String query) {\n    final var query = graphQLQueryLoader.loadQuery(query);\n    return webClient.post()\n                    .contentType(MediaType.APPLICATION_JSON)\n                    .accept(MediaType.APPLICATION_JSON)\n                    .body(BodyInserters.fromValue(query))\n                    .retrieve()\n                    .onStatus(HttpStatusCode::is4xxClientError, handleClientError())\n                    .onStatus(HttpStatusCode::is5xxServerError, handleServerError())\n                    .bodyToMono(GraphQLResponse.class)\n                    .block(TIMEOUT);\n  }\n\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleClientError() {\n    return response -&gt; response.bodyToMono(String.class)\n                               .flatMap(body -&gt; {\n                                 log.warn(&quot;Client error with body: {}&quot;, body);\n                                 return Mono.error(new HttpClientErrorException(response.statusCode(), &quot;Client error&quot;));\n                               });\n  }\n\n  private Function&lt;ClientResponse, Mono&lt;? extends Throwable&gt;&gt; handleServerError() {\n    return response -&gt; response.bodyToMono(String.class)\n                               .flatMap(body -&gt; {\n                                 log.warn(&quot;Server error with body: {}&quot;, body);\n                                 return Mono.error(new HttpServerErrorException(response.statusCode(), &quot;Server error&quot;));\n                               });\n  }\n\n}\n</code></pre>\n<p><strong>GraphQLResponse.class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public record GraphQLResponse(Object data) {}\n</code></pre>\n<p><strong>resources/graphql/my-query.graphql</strong></p>\n<pre><code>query myQuery() {\n    myQuery(id: '123') {\n        myCollection {\n            items {\n                title\n                body\n                action\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>final var response = client.getByQueryName(&quot;my-query&quot;);\n</code></pre>\n<hr />\n<h4>Is there any other easier way to get data from GraphQL API? Internet suggests only how to create GraphQL service, but nothing about any GraphQL client...</h4>\n"},{"tags":["java","android","kotlin","memory-leaks"],"owner":{"account_id":15366220,"reputation":2061,"user_id":11085663,"display_name":"Saeid Lotfi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701685576,"creation_date":1701685576,"question_id":77598695,"body_markdown":"    ├─ android.app.assist.AssistStructure$ViewNodeText instance\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 347.6 kB in 6681 objects\r\n    │ Library leak match: instance field android.app.assist.\r\n    │ AssistStructure$ViewNodeText#mText\r\n    │ ↓ AssistStructure$ViewNodeText.mText\r\n    │ ~~~~~\r\n    ├─ android.text.SpannableStringBuilder instance\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 347.5 kB in 6680 objects\r\n    │ ↓ SpannableStringBuilder.mSpans\r\n    │ ~~~~~~\r\n    ├─ java.lang.Object[] array\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 36 B in 1 objects\r\n    │ ↓ Object[1]\r\n    │ ~~~\r\n    ├─ cim.exapmle.\r\n    │ RegisterActivity$setClickableSpan$clickableSpan$1 instance\r\n    │ Leaking: UNKNOWN\r\n    │ Retaining 16 B in 1 objects\r\n    │ Anonymous subclass of android.text.style.ClickableSpan\r\n    │ this$0 instance of cim.exapmle.RegisterActivity\r\n    │ with mDestroyed = true\r\n    │ ↓ RegisterActivity$setClickableSpan$clickableSpan$1.this$0\r\n    │ ~~~~~~\r\n------------------------------------------------------------------\r\n\r\n    override fun onStart() {\r\n        super.onStart()\r\n        setAgreementStyle(binding.tvAgreements)\r\n    }\r\n    \r\n    private fun setAgreementStyle(textView: TextView) {\r\n        viewModel.agreements?.let { agreements -&gt;\r\n            textView.text = textView.context.getString(\r\n                R.string.login_and_registration_agreements,\r\n                agreements[0].text,\r\n                agreements[1].text,\r\n            )\r\n    \r\n            highlightText(\r\n                textView,\r\n                highlightBoldWord = agreements[0].text,\r\n                highlightBoldWord2 = agreements[1].text,\r\n                highlightColor = ContextCompat.getColor(textView.context, R.color.purple),\r\n                highlightColorWord = agreements[0].text,\r\n                highlightColorWord2 = agreements[1].text,\r\n                highlightSizeWord = null,\r\n                highlightSize = 12\r\n            )\r\n    \r\n            for (i in agreements.indices) {\r\n                val agreement = agreements[i]\r\n                val start = textView.text.indexOf(agreement.text)\r\n                val end = start + agreement.text.length\r\n                setClickableSpan(textView, start, end, agreement)\r\n            }\r\n    \r\n            textView.movementMethod = LinkMovementMethod.getInstance()\r\n        }\r\n    }\r\n    \r\n    private fun setClickableSpan(textView: TextView, start: Int, end: Int, agreement: Agreement) {\r\n        val spannableString = SpannableStringBuilder(textView.text)\r\n        val clickableSpan = object : ClickableSpan() {\r\n            override fun updateDrawState(textPaint: TextPaint) {\r\n                super.updateDrawState(textPaint)\r\n                textPaint.isUnderlineText = false\r\n            }\r\n    \r\n            override fun onClick(view: View) {\r\n                if ((lastBottomSheetClickedTime + 1500) &lt; System.currentTimeMillis()) {\r\n                    lastBottomSheetClickedTime = System.currentTimeMillis()\r\n                }\r\n            }\r\n        }\r\n    \r\n        spannableString.setSpan(clickableSpan, start, end, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\r\n        textView.setText(spannableString, TextView.BufferType.SPANNABLE)\r\n    }","title":"After writing any code in onClick, ClickableSpan, it&#39;s causing a memory leak","body":"<pre><code>├─ android.app.assist.AssistStructure$ViewNodeText instance\n│ Leaking: UNKNOWN\n│ Retaining 347.6 kB in 6681 objects\n│ Library leak match: instance field android.app.assist.\n│ AssistStructure$ViewNodeText#mText\n│ ↓ AssistStructure$ViewNodeText.mText\n│ ~~~~~\n├─ android.text.SpannableStringBuilder instance\n│ Leaking: UNKNOWN\n│ Retaining 347.5 kB in 6680 objects\n│ ↓ SpannableStringBuilder.mSpans\n│ ~~~~~~\n├─ java.lang.Object[] array\n│ Leaking: UNKNOWN\n│ Retaining 36 B in 1 objects\n│ ↓ Object[1]\n│ ~~~\n├─ cim.exapmle.\n│ RegisterActivity$setClickableSpan$clickableSpan$1 instance\n│ Leaking: UNKNOWN\n│ Retaining 16 B in 1 objects\n│ Anonymous subclass of android.text.style.ClickableSpan\n│ this$0 instance of cim.exapmle.RegisterActivity\n│ with mDestroyed = true\n│ ↓ RegisterActivity$setClickableSpan$clickableSpan$1.this$0\n│ ~~~~~~\n</code></pre>\n<hr />\n<pre><code>override fun onStart() {\n    super.onStart()\n    setAgreementStyle(binding.tvAgreements)\n}\n\nprivate fun setAgreementStyle(textView: TextView) {\n    viewModel.agreements?.let { agreements -&gt;\n        textView.text = textView.context.getString(\n            R.string.login_and_registration_agreements,\n            agreements[0].text,\n            agreements[1].text,\n        )\n\n        highlightText(\n            textView,\n            highlightBoldWord = agreements[0].text,\n            highlightBoldWord2 = agreements[1].text,\n            highlightColor = ContextCompat.getColor(textView.context, R.color.purple),\n            highlightColorWord = agreements[0].text,\n            highlightColorWord2 = agreements[1].text,\n            highlightSizeWord = null,\n            highlightSize = 12\n        )\n\n        for (i in agreements.indices) {\n            val agreement = agreements[i]\n            val start = textView.text.indexOf(agreement.text)\n            val end = start + agreement.text.length\n            setClickableSpan(textView, start, end, agreement)\n        }\n\n        textView.movementMethod = LinkMovementMethod.getInstance()\n    }\n}\n\nprivate fun setClickableSpan(textView: TextView, start: Int, end: Int, agreement: Agreement) {\n    val spannableString = SpannableStringBuilder(textView.text)\n    val clickableSpan = object : ClickableSpan() {\n        override fun updateDrawState(textPaint: TextPaint) {\n            super.updateDrawState(textPaint)\n            textPaint.isUnderlineText = false\n        }\n\n        override fun onClick(view: View) {\n            if ((lastBottomSheetClickedTime + 1500) &lt; System.currentTimeMillis()) {\n                lastBottomSheetClickedTime = System.currentTimeMillis()\n            }\n        }\n    }\n\n    spannableString.setSpan(clickableSpan, start, end, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)\n    textView.setText(spannableString, TextView.BufferType.SPANNABLE)\n}\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1701615405,"post_id":77594752,"comment_id":136795217,"body_markdown":"Try `messageTextLower.matches(&quot;(?ms).*\\\\b&quot; + Pattern.quote(k) + &quot;\\\\b.*&quot;);`","body":"Try <code>messageTextLower.matches(&quot;(?ms).*\\\\b&quot; + Pattern.quote(k) + &quot;\\\\b.*&quot;);</code>"},{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1701619076,"post_id":77594752,"comment_id":136795633,"body_markdown":"It&#39;s not really clear if  `k` and `messageTextLower` are both user input","body":"It&#39;s not really clear if  <code>k</code> and <code>messageTextLower</code> are both user input"},{"owner":{"account_id":2179728,"reputation":73067,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1701690984,"post_id":77594752,"comment_id":136802938,"body_markdown":"What is the question? You haven&#39;t specified what is happening and what deviates from your expectations. You should provide a few samples of `messageTextLower` and the expected output in each case.","body":"What is the question? You haven&#39;t specified what is happening and what deviates from your expectations. You should provide a few samples of <code>messageTextLower</code> and the expected output in each case."}],"answers":[{"comments":[{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1701631754,"post_id":77594792,"comment_id":136797074,"body_markdown":"The question does not prohibit the city name from being preceded or followed by a digit or underscore.","body":"The question does not prohibit the city name from being preceded or followed by a digit or underscore."},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1701642322,"post_id":77594792,"comment_id":136798078,"body_markdown":"@CarySwoveland do special characters such as dollar sign, brackets, etc allowed?","body":"@CarySwoveland do special characters such as dollar sign, brackets, etc allowed?"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1701642761,"post_id":77594792,"comment_id":136798133,"body_markdown":"If the second sentence of the question is read literally--how I read it, and how I believe questions should be written--the answer would be &quot;yes&quot;, but you may wish to ask the OP.","body":"If the second sentence of the question is read literally--how I read it, and how I believe questions should be written--the answer would be &quot;yes&quot;, but you may wish to ask the OP."}],"tags":[],"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701685528,"creation_date":1701614973,"answer_id":77594792,"question_id":77594752,"body_markdown":"What about using both negative lookahead and lookbehind?\r\n\r\n    (?&lt;![a-z])new york(?![a-z])\r\n\r\nThe regex above will check that no letters actually sitting before and after the `new york`.\r\n\r\nSee Fiddle: https://regex101.com/r/zw6Q1L/3\r\n\r\n----\r\n\r\nIn a hindsight, constructing regex like this may cause serious issue if you have to [consider application security](https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#77557666). It would be much safer to work with the good old iteration manually.\r\n\r\n    public static List&lt;Integer&gt; findOccurences(String text, String word){\r\n        List&lt;Integer&gt; ls = new LinkedList&lt;Integer&gt;();\r\n        \r\n        if(text == null || word == null\r\n           || text.trim().length() == 0\r\n           || word.trim().length() == 0){\r\n            return ls;\r\n        }\r\n        \r\n        int idx = 0;\r\n        int wordLength = 0;\r\n        while(idx != -1){\r\n            idx = text.indexOf(word, idx + wordLength);\r\n            if(idx != -1){\r\n                wordLength = word.length();\r\n                \r\n                //skips if preceeded by [a-z]\r\n                if((idx - 1) &gt;= 0\r\n                    &amp;&amp; text.charAt(idx - 1) &gt;= &#39;a&#39;\r\n                    &amp;&amp; text.charAt(idx - 1) &lt;= &#39;z&#39;){\r\n                        continue;\r\n                }\r\n                \r\n                //skip if succeeded by [a-z]\r\n                if((idx + wordLength) &lt; text.length()\r\n                    &amp;&amp; text.charAt(idx + wordLength) &gt;= &#39;a&#39;\r\n                    &amp;&amp; text.charAt(idx + wordLength) &lt;= &#39;z&#39;){\r\n                        continue;\r\n                }\r\n                \r\n                ls.add(idx);\r\n            }\r\n        }\r\n        \r\n        return ls;\r\n    }\r\n\r\nSee Fiddle: https://onecompiler.com/java/3zvdxdt47\r\n\r\nThere might be more efficient ways to do this.","title":"Match city name","body":"<p>What about using both negative lookahead and lookbehind?</p>\n<pre><code>(?&lt;![a-z])new york(?![a-z])\n</code></pre>\n<p>The regex above will check that no letters actually sitting before and after the <code>new york</code>.</p>\n<p>See Fiddle: <a href=\"https://regex101.com/r/zw6Q1L/3\" rel=\"nofollow noreferrer\">https://regex101.com/r/zw6Q1L/3</a></p>\n<hr />\n<p>In a hindsight, constructing regex like this may cause serious issue if you have to <a href=\"https://stackoverflow.com/questions/77557606/denial-of-service-regular-expression/77557666#77557666\">consider application security</a>. It would be much safer to work with the good old iteration manually.</p>\n<pre><code>public static List&lt;Integer&gt; findOccurences(String text, String word){\n    List&lt;Integer&gt; ls = new LinkedList&lt;Integer&gt;();\n    \n    if(text == null || word == null\n       || text.trim().length() == 0\n       || word.trim().length() == 0){\n        return ls;\n    }\n    \n    int idx = 0;\n    int wordLength = 0;\n    while(idx != -1){\n        idx = text.indexOf(word, idx + wordLength);\n        if(idx != -1){\n            wordLength = word.length();\n            \n            //skips if preceeded by [a-z]\n            if((idx - 1) &gt;= 0\n                &amp;&amp; text.charAt(idx - 1) &gt;= 'a'\n                &amp;&amp; text.charAt(idx - 1) &lt;= 'z'){\n                    continue;\n            }\n            \n            //skip if succeeded by [a-z]\n            if((idx + wordLength) &lt; text.length()\n                &amp;&amp; text.charAt(idx + wordLength) &gt;= 'a'\n                &amp;&amp; text.charAt(idx + wordLength) &lt;= 'z'){\n                    continue;\n            }\n            \n            ls.add(idx);\n        }\n    }\n    \n    return ls;\n}\n</code></pre>\n<p>See Fiddle: <a href=\"https://onecompiler.com/java/3zvdxdt47\" rel=\"nofollow noreferrer\">https://onecompiler.com/java/3zvdxdt47</a></p>\n<p>There might be more efficient ways to do this.</p>\n"}],"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701685528,"creation_date":1701614363,"question_id":77594752,"body_markdown":"I&#39;d like to check if a string contains city names.\r\n\r\nThe city name must not be proceeded or succeeded by any letters.\r\n\r\nThis works if it&#39;s in the middle of the string but it doesn&#39;t if it&#39;s at the beginning or the end (and also not if it has multiple lines).\r\n\r\n```\r\nString k = &quot;new york&quot;;\r\nmessageTextLower.matches(&quot;.*[^a-z]&quot; + Pattern.quote(k) + &quot;[^a-z].*&quot;)\r\n```\r\n\r\n","title":"Match city name","body":"<p>I'd like to check if a string contains city names.</p>\n<p>The city name must not be proceeded or succeeded by any letters.</p>\n<p>This works if it's in the middle of the string but it doesn't if it's at the beginning or the end (and also not if it has multiple lines).</p>\n<pre><code>String k = &quot;new york&quot;;\nmessageTextLower.matches(&quot;.*[^a-z]&quot; + Pattern.quote(k) + &quot;[^a-z].*&quot;)\n</code></pre>\n"},{"tags":["java","networking","localhost","client-server","hostname"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1701683784,"post_id":77598493,"comment_id":136801769,"body_markdown":"Which os do you use? Any entries in the hosts file?","body":"Which os do you use? Any entries in the hosts file?"},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1701683874,"post_id":77598493,"comment_id":136801786,"body_markdown":"Windows 11. Do not know about the hosts file. Any details?","body":"Windows 11. Do not know about the hosts file. Any details?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1701683954,"post_id":77598493,"comment_id":136801799,"body_markdown":"https://beebom.com/how-find-edit-hosts-file-windows-11/","body":"<a href=\"https://beebom.com/how-find-edit-hosts-file-windows-11/\" rel=\"nofollow noreferrer\">beebom.com/how-find-edit-hosts-file-windows-11</a>"},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":1,"creation_date":1701684113,"post_id":77598493,"comment_id":136801817,"body_markdown":"Yes, I found lm.licenses.adobe.com there. I think it is related to a crack or something. I think I understood somehow. Thank you","body":"Yes, I found lm.licenses.adobe.com there. I think it is related to a crack or something. I think I understood somehow. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1701685445,"creation_date":1701685445,"answer_id":77598676,"question_id":77598493,"body_markdown":"Check your computer&#39;s hosts file to see if there is an entry associating the IP address **127.0.0.1** with the hostname **&quot;lm.licenses.adobe.com&quot;**. The hosts file is typically located at `C:\\Windows\\System32\\drivers\\etc\\hosts` on **Windows** or `/etc/hosts` on **Unix-based systems**.\r\n\r\nOpen the hosts file and ensure that there are no unexpected entries associating **127.0.0.1** with **&quot;lm.licenses.adobe.com&quot;**.","title":"What is the returned hostname when client is localhost?","body":"<p>Check your computer's hosts file to see if there is an entry associating the IP address <strong>127.0.0.1</strong> with the hostname <strong>&quot;lm.licenses.adobe.com&quot;</strong>. The hosts file is typically located at <code>C:\\Windows\\System32\\drivers\\etc\\hosts</code> on <strong>Windows</strong> or <code>/etc/hosts</code> on <strong>Unix-based systems</strong>.</p>\n<p>Open the hosts file and ensure that there are no unexpected entries associating <strong>127.0.0.1</strong> with <strong>&quot;lm.licenses.adobe.com&quot;</strong>.</p>\n"}],"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77598676,"answer_count":1,"score":0,"last_activity_date":1701685445,"creation_date":1701683569,"question_id":77598493,"body_markdown":"I am applying a simple client server tutorial in Java as follows:\r\n\r\n    public class Client{\r\n        public static void main(String[] args) throws IOException{\r\n            Socket s = new Socket(&quot;localhost&quot;, 8080);\r\n            s.close();\r\n        }\r\n    }\r\n    public class Server{\r\n        public static void main(String[] args) throws IOException, ClassNotFoundException{\r\n            ServerSocket ss = new ServerSocket(8080);\r\n            Socket s = ss.accept();\r\n            InetAddress inetAddress = s.getInetAddress();\r\n            System.out.println(&quot;Client&#39;s host name is &quot; + inetAddress.getHostName());\r\n            System.out.println(&quot;Client&#39;s IP Address is &quot; + inetAddress.getHostAddress());\r\n            ss.close();     s.close();\r\n        }\r\n    }\r\n\r\nAs shown, there is a couple of lines to get the hostname and address of connected client in the server code.\r\nWhen running on my computer (localhost) the IP is correct as 127.0.0.1 but the hostname is confusing for me:\r\n\r\n    Client&#39;s host name is lm.licenses.adobe.com\r\n    Client&#39;s IP Address is 127.0.0.1\r\n\r\nWhy the hostname of my computer (localhost) is read as Adobe?\r\n","title":"What is the returned hostname when client is localhost?","body":"<p>I am applying a simple client server tutorial in Java as follows:</p>\n<pre><code>public class Client{\n    public static void main(String[] args) throws IOException{\n        Socket s = new Socket(&quot;localhost&quot;, 8080);\n        s.close();\n    }\n}\npublic class Server{\n    public static void main(String[] args) throws IOException, ClassNotFoundException{\n        ServerSocket ss = new ServerSocket(8080);\n        Socket s = ss.accept();\n        InetAddress inetAddress = s.getInetAddress();\n        System.out.println(&quot;Client's host name is &quot; + inetAddress.getHostName());\n        System.out.println(&quot;Client's IP Address is &quot; + inetAddress.getHostAddress());\n        ss.close();     s.close();\n    }\n}\n</code></pre>\n<p>As shown, there is a couple of lines to get the hostname and address of connected client in the server code.\nWhen running on my computer (localhost) the IP is correct as 127.0.0.1 but the hostname is confusing for me:</p>\n<pre><code>Client's host name is lm.licenses.adobe.com\nClient's IP Address is 127.0.0.1\n</code></pre>\n<p>Why the hostname of my computer (localhost) is read as Adobe?</p>\n"},{"tags":["java","arrays","unique"],"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":5,"creation_date":1359758155,"post_id":14656208,"comment_id":20481402,"body_markdown":"Is it always sorted?  Yes, there&#39;s an easy way, but what have you tried?","body":"Is it always sorted?  Yes, there&#39;s an easy way, but what have you tried?"},{"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"score":0,"creation_date":1359758191,"post_id":14656208,"comment_id":20481410,"body_markdown":"No it is not sorted in all cases.","body":"No it is not sorted in all cases."},{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":4,"creation_date":1359758204,"post_id":14656208,"comment_id":20481416,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Set.html</a>"},{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1359758241,"post_id":14656208,"comment_id":20481432,"body_markdown":"@MHZ: Does the order of the resulting array matter?  E.g. should the ordering from the first array be preserved?","body":"@MHZ: Does the order of the resulting array matter?  E.g. should the ordering from the first array be preserved?"},{"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"score":0,"creation_date":1359758278,"post_id":14656208,"comment_id":20481443,"body_markdown":"No the order of the resulting array, does not matter, as long as all element are unique.","body":"No the order of the resulting array, does not matter, as long as all element are unique."}],"answers":[{"comments":[{"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"score":0,"creation_date":1359758394,"post_id":14656222,"comment_id":20481488,"body_markdown":"I am working with strings and I was getting, HashSet&lt;String&gt; cannot be resolved to a type.","body":"I am working with strings and I was getting, HashSet&lt;String&gt; cannot be resolved to a type."},{"owner":{"account_id":2209133,"reputation":3193,"user_id":1951544,"accept_rate":60,"display_name":"zibi"},"score":1,"creation_date":1359758533,"post_id":14656222,"comment_id":20481531,"body_markdown":"it means that you need to import the HashSet, simply **add import java.util.HashSet;** you should consider using and IDE like Eclipse","body":"it means that you need to import the HashSet, simply <b>add import java.util.HashSet;</b> you should consider using and IDE like Eclipse"}],"tags":[],"owner":{"account_id":2209133,"reputation":3193,"user_id":1951544,"accept_rate":60,"display_name":"zibi"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1471551961,"creation_date":1359758175,"answer_id":14656222,"question_id":14656208,"body_markdown":"In Java 8, use ` IntStream` to get unique elements of an array\r\n\r\n    int[] noDuplicates = IntStream.of(array).distinct().toArray();\r\n\r\n------\r\n\r\nThe simplest way would be to create set from the array.\r\n\r\n    Integer[] array = ...\r\n    Set&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;(Arrays.asList(array ));\r\nand then you can retrieve the array using:\r\n\r\n    set.toArray()\r\n\r\nuse **LinkedHashSet** if you want to maintain the order or **TreeSet** if you want to have it sorted.","title":"Array of unique elements?","body":"<p>In Java 8, use <code>IntStream</code> to get unique elements of an array</p>\n\n<pre><code>int[] noDuplicates = IntStream.of(array).distinct().toArray();\n</code></pre>\n\n<hr>\n\n<p>The simplest way would be to create set from the array.</p>\n\n<pre><code>Integer[] array = ...\nSet&lt;Integer&gt; set = new LinkedHashSet&lt;Integer&gt;(Arrays.asList(array ));\n</code></pre>\n\n<p>and then you can retrieve the array using:</p>\n\n<pre><code>set.toArray()\n</code></pre>\n\n<p>use <strong>LinkedHashSet</strong> if you want to maintain the order or <strong>TreeSet</strong> if you want to have it sorted.</p>\n"},{"comments":[{"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"score":0,"creation_date":1359758748,"post_id":14656245,"comment_id":20481605,"body_markdown":"Option 1&#39;s time complexity might not be faster. If you&#39;re using a balanced binary search tree for the map, you will get lg(N) operations. If you use a hash table, you are acting under the uniform hashing assumption.","body":"Option 1&#39;s time complexity might not be faster. If you&#39;re using a balanced binary search tree for the map, you will get lg(N) operations. If you use a hash table, you are acting under the uniform hashing assumption."},{"owner":{"account_id":281678,"reputation":5500,"user_id":578116,"accept_rate":68,"display_name":"smk"},"score":1,"creation_date":1359758821,"post_id":14656245,"comment_id":20481630,"body_markdown":"I was assuming a hash table. And all standard languages have v. good hashing functions which more or less ensure O(1) insert and retrieve","body":"I was assuming a hash table. And all standard languages have v. good hashing functions which more or less ensure O(1) insert and retrieve"},{"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"score":0,"creation_date":1359759361,"post_id":14656245,"comment_id":20481837,"body_markdown":"OK. I suppose that since it&#39;s numbers it&#39;s fine. It&#39;s not hard to make a hash for an int :). The size for the hash table will be important, though, as you will have to cycle through all of the values stored in it, which is O(M), where M is the size of the hash table. Good, fast answer, anyway, so +1.","body":"OK. I suppose that since it&#39;s numbers it&#39;s fine. It&#39;s not hard to make a hash for an int :). The size for the hash table will be important, though, as you will have to cycle through all of the values stored in it, which is O(M), where M is the size of the hash table. Good, fast answer, anyway, so +1."}],"tags":[],"owner":{"account_id":281678,"reputation":5500,"user_id":578116,"accept_rate":68,"display_name":"smk"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1432178397,"creation_date":1359758277,"answer_id":14656245,"question_id":14656208,"body_markdown":"Two options\r\n\r\n\r\n 1. Keep a map of count and element and finally only use those elements with count 1. (Need extra storage but is faster)\r\n\r\n 2. Sort the array and as you move through the array only use non-repeated ones. \r\n\r\nDoesn&#39;t need extra space but will be O(n lg(n))","title":"Array of unique elements?","body":"<p>Two options</p>\n\n<ol>\n<li><p>Keep a map of count and element and finally only use those elements with count 1. (Need extra storage but is faster)</p></li>\n<li><p>Sort the array and as you move through the array only use non-repeated ones. </p></li>\n</ol>\n\n<p>Doesn't need extra space but will be O(n lg(n))</p>\n"},{"comments":[{"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"score":0,"creation_date":1359758566,"post_id":14656298,"comment_id":20481546,"body_markdown":"Thanks for the reply. I am using arrays not array lists.","body":"Thanks for the reply. I am using arrays not array lists."},{"owner":{"account_id":1167301,"reputation":1833,"user_id":1145281,"display_name":"Alepac"},"score":0,"creation_date":1359758803,"post_id":14656298,"comment_id":20481625,"body_markdown":"@MHZ this works even with arrays so arr is an array of objects, I edit my post","body":"@MHZ this works even with arrays so arr is an array of objects, I edit my post"},{"owner":{"account_id":1649573,"reputation":1949,"user_id":1520422,"accept_rate":36,"display_name":"Frederic Leitenberger"},"score":0,"creation_date":1474998586,"post_id":14656298,"comment_id":66760019,"body_markdown":"This is a very expensive way to do it, as `list.contains()` is linearly increasing effort as the list grows. With very large lists this can be a difference like a few seconds compared to thousands of years processing time... Better use a HashSet for contains lookup and the List for result buildup, if you want to keep this approach.","body":"This is a very expensive way to do it, as <code>list.contains()</code> is linearly increasing effort as the list grows. With very large lists this can be a difference like a few seconds compared to thousands of years processing time... Better use a HashSet for contains lookup and the List for result buildup, if you want to keep this approach."}],"tags":[],"owner":{"account_id":1167301,"reputation":1833,"user_id":1145281,"display_name":"Alepac"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359758876,"creation_date":1359758506,"answer_id":14656298,"question_id":14656208,"body_markdown":"Supposing an array of Objects:\r\n\r\n    Object[] arr;\r\n\r\n    {...omissis...}\r\n\r\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n    for(Object val: arr) {\r\n      if(!list.contains(val)) {\r\n        list.add(val);\r\n      }\r\n    }\r\n    list.toArray(new Object[0]);\r\n\r\nReplace `Object` with your Array Class if needed.","title":"Array of unique elements?","body":"<p>Supposing an array of Objects:</p>\n\n<pre><code>Object[] arr;\n\n{...omissis...}\n\nList&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\nfor(Object val: arr) {\n  if(!list.contains(val)) {\n    list.add(val);\n  }\n}\nlist.toArray(new Object[0]);\n</code></pre>\n\n<p>Replace <code>Object</code> with your Array Class if needed.</p>\n"},{"tags":[],"owner":{"account_id":1061549,"reputation":5123,"user_id":1063041,"accept_rate":100,"display_name":"eboix"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359758627,"creation_date":1359758627,"answer_id":14656322,"question_id":14656208,"body_markdown":"Here are 2 ideas:\r\n\r\n1. Add all items to a Set, or create one with the constructor that has an array as a parameter (`HashSet` or `TreeSet`, depending on what time complexity you want). Then, for each element in the set, remove it, adding it to the next open position of a new array that is the size of the set.\r\n\r\n2. Sort the array. Add the object at index 0 to an `ArrayList`. Start at index 1 and go to index `length - 1`. If the current element is *not* equal to the element at the previous index, add it to the `ArrayList`. Change the `ArrayList` into an array, if necessary.\r\n","title":"Array of unique elements?","body":"<p>Here are 2 ideas:</p>\n\n<ol>\n<li><p>Add all items to a Set, or create one with the constructor that has an array as a parameter (<code>HashSet</code> or <code>TreeSet</code>, depending on what time complexity you want). Then, for each element in the set, remove it, adding it to the next open position of a new array that is the size of the set.</p></li>\n<li><p>Sort the array. Add the object at index 0 to an <code>ArrayList</code>. Start at index 1 and go to index <code>length - 1</code>. If the current element is <em>not</em> equal to the element at the previous index, add it to the <code>ArrayList</code>. Change the <code>ArrayList</code> into an array, if necessary.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1649573,"reputation":1949,"user_id":1520422,"accept_rate":36,"display_name":"Frederic Leitenberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474999932,"creation_date":1474999932,"answer_id":39731600,"question_id":14656208,"body_markdown":"(Repost of: https://stackoverflow.com/a/39731584/1520422)\r\n\r\nUsing the Stream API of Java 8 this is a solution with a generic Array type:\r\n\r\n\tpublic static &lt;T&gt; T[] makeUnique(T... values)\r\n\t{\r\n\t\treturn Arrays.stream(values).distinct().toArray(new IntFunction&lt;T[]&gt;()\r\n\t\t{\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic T[] apply(int length)\r\n\t\t\t{\r\n\t\t\t\treturn (T[]) Array.newInstance(values.getClass().getComponentType(), length);\r\n\t\t\t}\r\n\r\n\t\t});\r\n\t}\r\n\r\nIt works for any Object type array, but not for primitive arrays.\r\n\r\nFor primitive arrays it looks like this:\r\n\r\n\r\n\tpublic static int[] makeUnique(int... values)\r\n\t{\r\n\t\treturn Arrays.stream(values).distinct().toArray();\r\n\t}\r\n\r\nAnd finally here is a little unit test:\r\n\r\n\t@Test\r\n\tpublic void testMakeUnique()\r\n\t{\r\n\t\tassertArrayEquals(new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, makeUnique(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;));\r\n\t\tassertArrayEquals(new Object[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, makeUnique(new Object[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot; }));\r\n\t\tassertArrayEquals(new Integer[] { 1, 2, 3, 4, 5 }, makeUnique(new Integer[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\r\n\t\tassertArrayEquals(new int[] { 1, 2, 3, 4, 5 }, makeUnique(new int[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\r\n\t}\r\n","title":"Array of unique elements?","body":"<p>(Repost of: <a href=\"https://stackoverflow.com/a/39731584/1520422\">https://stackoverflow.com/a/39731584/1520422</a>)</p>\n\n<p>Using the Stream API of Java 8 this is a solution with a generic Array type:</p>\n\n<pre><code>public static &lt;T&gt; T[] makeUnique(T... values)\n{\n    return Arrays.stream(values).distinct().toArray(new IntFunction&lt;T[]&gt;()\n    {\n\n        @Override\n        public T[] apply(int length)\n        {\n            return (T[]) Array.newInstance(values.getClass().getComponentType(), length);\n        }\n\n    });\n}\n</code></pre>\n\n<p>It works for any Object type array, but not for primitive arrays.</p>\n\n<p>For primitive arrays it looks like this:</p>\n\n<pre><code>public static int[] makeUnique(int... values)\n{\n    return Arrays.stream(values).distinct().toArray();\n}\n</code></pre>\n\n<p>And finally here is a little unit test:</p>\n\n<pre><code>@Test\npublic void testMakeUnique()\n{\n    assertArrayEquals(new String[] { \"a\", \"b\", \"c\" }, makeUnique(\"a\", \"b\", \"c\", \"b\", \"a\"));\n    assertArrayEquals(new Object[] { \"a\", \"b\", \"c\" }, makeUnique(new Object[] { \"a\", \"b\", \"c\", \"b\", \"a\" }));\n    assertArrayEquals(new Integer[] { 1, 2, 3, 4, 5 }, makeUnique(new Integer[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\n    assertArrayEquals(new int[] { 1, 2, 3, 4, 5 }, makeUnique(new int[] { 1, 2, 2, 3, 3, 3, 1, 4, 5, 5, 5, 1 }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15990949,"reputation":51,"user_id":11540169,"display_name":"Itz Pkyadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617366822,"creation_date":1617366822,"answer_id":66919410,"question_id":14656208,"body_markdown":"&gt; If you want to merge two list without duplicates then try this one, it works for me.\r\n\r\n        List&lt;Name&gt; list1 = Arrays.asList(new Name(&quot;abc&quot;, 1), new Name(&quot;def&quot;, 2), new Name(&quot;ghi&quot;, 3));\r\n        List&lt;Name&gt; list2 = Arrays.asList(new Name(&quot;def&quot;, 4), new Name(&quot;jkl&quot;, 5), new Name(&quot;mno&quot;, 6));\r\n       \r\n        List&lt;Name&gt; newNameList= new ArrayList&lt;&gt;(Stream.of(list1, list2).flatMap(List::stream)\r\n                .collect(Collectors.toMap(Name::getName, d -&gt; d, (Name x, Name y) -&gt; x == null ? y : x)).values());\r\n        newNameList.forEach(System.out::println);\r\n\r\n\r\n    class Name {\r\n    String name;\r\n    int id;\r\n\r\n    public Name(String name, int id) {\r\n        this.name = name;\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Name{&quot; + &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; + &quot;, id=&quot; + id + &#39;}&#39;;\r\n    }\r\n    }","title":"Array of unique elements?","body":"<blockquote>\n<p>If you want to merge two list without duplicates then try this one, it works for me.</p>\n</blockquote>\n<pre><code>    List&lt;Name&gt; list1 = Arrays.asList(new Name(&quot;abc&quot;, 1), new Name(&quot;def&quot;, 2), new Name(&quot;ghi&quot;, 3));\n    List&lt;Name&gt; list2 = Arrays.asList(new Name(&quot;def&quot;, 4), new Name(&quot;jkl&quot;, 5), new Name(&quot;mno&quot;, 6));\n   \n    List&lt;Name&gt; newNameList= new ArrayList&lt;&gt;(Stream.of(list1, list2).flatMap(List::stream)\n            .collect(Collectors.toMap(Name::getName, d -&gt; d, (Name x, Name y) -&gt; x == null ? y : x)).values());\n    newNameList.forEach(System.out::println);\n\n\nclass Name {\nString name;\nint id;\n\npublic Name(String name, int id) {\n    this.name = name;\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\n@Override\npublic String toString() {\n    return &quot;Name{&quot; + &quot;name='&quot; + name + '\\'' + &quot;, id=&quot; + id + '}';\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30061496,"reputation":1,"user_id":23037521,"display_name":"vishnu chowdary"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701685177,"creation_date":1701685177,"answer_id":77598639,"question_id":14656208,"body_markdown":"\r\n        boolean isunique=false;\r\n           int i, j;\r\n           for(i=0;i&lt;n;i++)\r\n           {\r\n                for(j=0;j&lt;i;j++) \r\n                     if(a[i]==a[j]) \r\n                          break;\r\n                if(i==j) \r\n                  System.out.print(a[i]+&quot; &quot;);","title":"Array of unique elements?","body":"<pre><code>    boolean isunique=false;\n       int i, j;\n       for(i=0;i&lt;n;i++)\n       {\n            for(j=0;j&lt;i;j++) \n                 if(a[i]==a[j]) \n                      break;\n            if(i==j) \n              System.out.print(a[i]+&quot; &quot;);\n</code></pre>\n"}],"owner":{"account_id":1384145,"reputation":12239,"user_id":1316524,"accept_rate":73,"display_name":"AnchovyLegend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60190,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":14656222,"answer_count":7,"score":17,"last_activity_date":1701685177,"creation_date":1359758099,"question_id":14656208,"body_markdown":"Given an array like the one below, I was wondering if there is an easy way to turn this array into an array with unique values only? \r\n\r\nThis is given:\r\n\r\n       numbers={5,5,4,3,1,4,5,4,5} \r\n\r\nTurn it into a result array like this, preserving the original order:\r\n\r\n       {5,1,2,3,4} \r\n","title":"Array of unique elements?","body":"<p>Given an array like the one below, I was wondering if there is an easy way to turn this array into an array with unique values only? </p>\n\n<p>This is given:</p>\n\n<pre><code>   numbers={5,5,4,3,1,4,5,4,5} \n</code></pre>\n\n<p>Turn it into a result array like this, preserving the original order:</p>\n\n<pre><code>   {5,1,2,3,4} \n</code></pre>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1701709571,"post_id":77598036,"comment_id":136806709,"body_markdown":"Would be great if you could share some simple project to reproduce on our side. Thanks","body":"Would be great if you could share some simple project to reproduce on our side. Thanks"}],"owner":{"account_id":21596115,"reputation":30,"user_id":15925058,"display_name":"coosta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701709547,"answer_count":0,"score":-3,"last_activity_date":1701685058,"creation_date":1701677813,"question_id":77598036,"body_markdown":"I&#39;m using spring-kafka to communicate with Kafka. Here&#39;s the version of the dependencies that I&#39;m using.[![enter image description here](https://i.stack.imgur.com/rxdYI.png)](https://i.stack.imgur.com/rxdYI.png)\r\n\r\nI&#39;m using the ReplyingKafkaTemplate.sendAndReceive() function to send a message to my topic. The problem is that I get a &quot;No assigned partitions&quot; error from the KafkaMessageListenerContainer object when calling getAssignedPartitions(). And I&#39;m positive the topic its listening for is active.\r\n\r\nI tried to recreate my Kafka topic and it didn&#39;t help. Curiously, I&#39;m also able to call a different topic from within the same service","title":"Error returning assigned partitions in Spring Kafka","body":"<p>I'm using spring-kafka to communicate with Kafka. Here's the version of the dependencies that I'm using.<a href=\"https://i.stack.imgur.com/rxdYI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rxdYI.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using the ReplyingKafkaTemplate.sendAndReceive() function to send a message to my topic. The problem is that I get a &quot;No assigned partitions&quot; error from the KafkaMessageListenerContainer object when calling getAssignedPartitions(). And I'm positive the topic its listening for is active.</p>\n<p>I tried to recreate my Kafka topic and it didn't help. Curiously, I'm also able to call a different topic from within the same service</p>\n"},{"tags":["java","jpa","many-to-many","eclipselink","cascade"],"comments":[{"owner":{"account_id":212661,"reputation":3449,"user_id":465620,"accept_rate":50,"display_name":"Jerry Tian"},"score":0,"creation_date":1332389431,"post_id":9750795,"comment_id":12505011,"body_markdown":"I am assuming you are familiar with Hibernate at some point, and you can refer Hibernate and Hibernate annotation documents for your question. They have chapters very detailed on relationship definition and cascade operations.","body":"I am assuming you are familiar with Hibernate at some point, and you can refer Hibernate and Hibernate annotation documents for your question. They have chapters very detailed on relationship definition and cascade operations."}],"answers":[{"comments":[{"owner":{"account_id":322960,"reputation":7711,"user_id":642680,"accept_rate":74,"display_name":"D-Dᴙum"},"score":1,"creation_date":1531866179,"post_id":9822806,"comment_id":89754025,"body_markdown":"@James It&#39;s not clear to me where in the JPA spec. (unless you are referring to a Hibernate spec) it states (explicitly or to the effect) &#39;rows in the join table will be inserted as part of the owning entity&#39;. The JPA spec. 11.1.30 for example states &#39;The cascade element specifies the set of cascadable operations that are propagated to the associated entity.&#39; It doesn&#39;t mention of join records in the absence of a cascade element and what happens to them. Have you another reference?","body":"@James It&#39;s not clear to me where in the JPA spec. (unless you are referring to a Hibernate spec) it states (explicitly or to the effect) &#39;rows in the join table will be inserted as part of the owning entity&#39;. The JPA spec. 11.1.30 for example states &#39;The cascade element specifies the set of cascadable operations that are propagated to the associated entity.&#39; It doesn&#39;t mention of join records in the absence of a cascade element and what happens to them. Have you another reference?"}],"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1701684792,"creation_date":1332421238,"answer_id":9822806,"question_id":9750795,"body_markdown":"The rows in the join table will be inserted/deleted as part of the owning Entity (if bi-directional the side without the mappedBy).  So if you persist or remove or update the `Prequalification` the join table rows will also be inserted or deleted.\r\n\r\nThe target `Company` objects will not be cascaded to.  So on remove() they will not be deleted, if the list is updated they will not be deleted unless orphanRemovla is set.  Persist should also not be cascaded, but what happens when you have references to &quot;detached&quot; objects is somewhat of a grey area.  Technically an error should be thrown, because the object is new and the relationship was not cascade persist.  It may also try to insert and get a constraint error.  It should not cascade the persist, although your object model is technically in an invalid state, so what occurs may depend on the provider.\r\n","title":"JPA: implicit cascades for relationships mapped as @ManyToMany @JoinTable?","body":"<p>The rows in the join table will be inserted/deleted as part of the owning Entity (if bi-directional the side without the mappedBy).  So if you persist or remove or update the <code>Prequalification</code> the join table rows will also be inserted or deleted.</p>\n<p>The target <code>Company</code> objects will not be cascaded to.  So on remove() they will not be deleted, if the list is updated they will not be deleted unless orphanRemovla is set.  Persist should also not be cascaded, but what happens when you have references to &quot;detached&quot; objects is somewhat of a grey area.  Technically an error should be thrown, because the object is new and the relationship was not cascade persist.  It may also try to insert and get a constraint error.  It should not cascade the persist, although your object model is technically in an invalid state, so what occurs may depend on the provider.</p>\n"},{"tags":[],"owner":{"account_id":21639506,"reputation":1,"user_id":15961966,"display_name":"Joao Monteiro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676901962,"creation_date":1676901909,"answer_id":75510246,"question_id":9750795,"body_markdown":"Wanted to add a comment, but don&#39;t have enough rep for it.\r\n\r\nI had the same question as @D-Dᴙum: &quot;*Where in the docs can we find a reference to this behaviour?*&quot;\r\n\r\nI found it in the [Hibernate docs (many-to-many)][1].&lt;br/&gt;\r\nIf you scroll just a bit just below the code example there, you will find:\r\n\r\n&gt; When an entity is removed from the @ManyToMany collection, Hibernate simply deletes the joining record in the link table. Unfortunately, this operation requires removing all entries associated with a given parent and recreating the ones that are listed in the current running persistent context.\r\n\r\nWhere the &quot;link table&quot; refers to the &quot;join table&quot;.\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-many-to-many","title":"JPA: implicit cascades for relationships mapped as @ManyToMany @JoinTable?","body":"<p>Wanted to add a comment, but don't have enough rep for it.</p>\n<p>I had the same question as @D-Dᴙum: &quot;<em>Where in the docs can we find a reference to this behaviour?</em>&quot;</p>\n<p>I found it in the <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-many-to-many\" rel=\"nofollow noreferrer\">Hibernate docs (many-to-many)</a>.<br/>\nIf you scroll just a bit just below the code example there, you will find:</p>\n<blockquote>\n<p>When an entity is removed from the @ManyToMany collection, Hibernate simply deletes the joining record in the link table. Unfortunately, this operation requires removing all entries associated with a given parent and recreating the ones that are listed in the current running persistent context.</p>\n</blockquote>\n<p>Where the &quot;link table&quot; refers to the &quot;join table&quot;.</p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":170189,"reputation":13749,"user_id":396732,"accept_rate":73,"display_name":"Kawu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7369,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":9822806,"answer_count":2,"score":8,"last_activity_date":1701684792,"creation_date":1331994821,"question_id":9750795,"body_markdown":"I have the following mapping:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Prequalifications&quot;)\r\n    public class Prequalification implements Serializable\r\n    {\r\n        ...\r\n        \r\n        @ManyToMany\r\n        @JoinTable(name = &quot;Partnerships&quot;, joinColumns = @JoinColumn(name = &quot;prequalification_id&quot;, referencedColumnName = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;company_id&quot;, referencedColumnName = &quot;id&quot;))\r\n        private Set&lt;Company&gt; companies;\r\n\r\n        ...\r\n    }\r\n\r\nIn a `@ManyToMany` + `@JoinTable` mapped relationship, isn&#39;t it kind of implicit that the association (link) entities (here `Partnerships`) are automatically persisted, removed, etc. even though \r\n\r\n&gt; by default, relationships have an empty cascade set\r\n\r\n? The above quote was taken from &quot;Pro JPA 2, by Mike Keith&quot;.\r\n\r\nExecuting\r\n\r\n    em.merge(prequalification);\r\n\r\non the above entity **does** persist the associated partnerships without any cascade types specified.\r\n\r\nAm I correct that this implicit cascade **has** to be performed? This isn&#39;t mentioned anywhere I looked...\r\n\r\n\r\n\r\n","title":"JPA: implicit cascades for relationships mapped as @ManyToMany @JoinTable?","body":"<p>I have the following mapping:</p>\n\n<pre><code>@Entity\n@Table(name = \"Prequalifications\")\npublic class Prequalification implements Serializable\n{\n    ...\n\n    @ManyToMany\n    @JoinTable(name = \"Partnerships\", joinColumns = @JoinColumn(name = \"prequalification_id\", referencedColumnName = \"id\"), inverseJoinColumns = @JoinColumn(name = \"company_id\", referencedColumnName = \"id\"))\n    private Set&lt;Company&gt; companies;\n\n    ...\n}\n</code></pre>\n\n<p>In a <code>@ManyToMany</code> + <code>@JoinTable</code> mapped relationship, isn't it kind of implicit that the association (link) entities (here <code>Partnerships</code>) are automatically persisted, removed, etc. even though </p>\n\n<blockquote>\n  <p>by default, relationships have an empty cascade set</p>\n</blockquote>\n\n<p>? The above quote was taken from \"Pro JPA 2, by Mike Keith\".</p>\n\n<p>Executing</p>\n\n<pre><code>em.merge(prequalification);\n</code></pre>\n\n<p>on the above entity <strong>does</strong> persist the associated partnerships without any cascade types specified.</p>\n\n<p>Am I correct that this implicit cascade <strong>has</strong> to be performed? This isn't mentioned anywhere I looked...</p>\n"},{"tags":["java","javabeans"],"comments":[{"owner":{"account_id":879397,"reputation":3649,"user_id":207647,"accept_rate":91,"display_name":"Sidharth"},"score":64,"creation_date":1258108640,"post_id":1727603,"comment_id":1607761,"body_markdown":"actually i dont know about bean itself then how can i confuse with EJB ..is there anything special with it ..","body":"actually i dont know about bean itself then how can i confuse with EJB ..is there anything special with it .."}],"answers":[{"tags":[],"owner":{"account_id":19115,"reputation":29081,"user_id":44523,"accept_rate":95,"display_name":"Esko"},"comment_count":0,"down_vote_count":0,"up_vote_count":66,"is_accepted":false,"score":66,"last_activity_date":1374572007,"creation_date":1258096477,"answer_id":1727650,"question_id":1727603,"body_markdown":"Beans themselves\r\n----------------\r\n\r\n[JavaBeans][1] are everywhere, they&#39;re a convention and just about every single slightly larger library out there uses those conventions to automate things. Just a few reasons why JavaBeans should be used:\r\n\r\n - They serialize nicely.\r\n - Can be instantiated using reflection.\r\n - Can otherwise be controlled using reflection very easily.\r\n - Good for encapsulating actual data from business code.\r\n - Common conventions mean anyone can use your beans AND YOU CAN USE EVERYONE ELSE&#39;S BEANS without any kind of documentation/manual easily and in consistent manner.\r\n - Very close to [POJO][2]s which actually means even more interoperability between distinct parts of the system.\r\n\r\nAlso there&#39;s of course [Enterprise JavaBeans][3] which are a whole another matter and shouldn&#39;t be mixed with plain JavaBeans. I just wanted to mention EJB:s because the names are similar and it&#39;s easy to get those two confused.\r\n\r\nBeans in web applications\r\n-------------------------\r\nIf you consider &quot;normal&quot; JavaBeans in web app context, they make more sense than wearing shoes in your legs. Since the Servlet specification requires for sessions to be serializable, it means you should store your data in session as something that&#39;s serializable - why not make it a bean then! Just throw your SomeBusinessDataBean into the session and you&#39;re good to go, laughably easy, specification-compliant and convenient.\r\n\r\nAlso transferring that data around the application is easy too since JavaBeans help you to decouple parts of your application completely. Think JavaBeans as a letter and various subsystems of the application as departments within a very large corporation: Dept.A mails a bunch of data to Dept.B, Dept.B doesn&#39;t know -*or even care*- where the data came from just as it should be and can just open the letter, read stuff from it and do its thing based on that data.\r\n\r\nBeans in standalone applications\r\n--------------------------------\r\n\r\nActually what&#39;s above applies to standalone apps too, the only difference is that you can mess up with the UI a bit more since standalone applications have stateful UI:s while web applications have statelss UI:s which in some cases only simulate stateful UI:s. Because of this difference, it&#39;s easier to make a mess with standalone application but that&#39;s worth a whole another topic and isn&#39;t directly related to JavaBeans at all.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/JavaBean\r\n  [2]: http://en.wikipedia.org/wiki/Plain_Old_Java_Object\r\n  [3]: http://en.wikipedia.org/wiki/Enterprise_JavaBean","title":"Places where JavaBeans are used?","body":"<h2>Beans themselves</h2>\n\n<p><a href=\"http://en.wikipedia.org/wiki/JavaBean\" rel=\"noreferrer\">JavaBeans</a> are everywhere, they're a convention and just about every single slightly larger library out there uses those conventions to automate things. Just a few reasons why JavaBeans should be used:</p>\n\n<ul>\n<li>They serialize nicely.</li>\n<li>Can be instantiated using reflection.</li>\n<li>Can otherwise be controlled using reflection very easily.</li>\n<li>Good for encapsulating actual data from business code.</li>\n<li>Common conventions mean anyone can use your beans AND YOU CAN USE EVERYONE ELSE'S BEANS without any kind of documentation/manual easily and in consistent manner.</li>\n<li>Very close to <a href=\"http://en.wikipedia.org/wiki/Plain_Old_Java_Object\" rel=\"noreferrer\">POJO</a>s which actually means even more interoperability between distinct parts of the system.</li>\n</ul>\n\n<p>Also there's of course <a href=\"http://en.wikipedia.org/wiki/Enterprise_JavaBean\" rel=\"noreferrer\">Enterprise JavaBeans</a> which are a whole another matter and shouldn't be mixed with plain JavaBeans. I just wanted to mention EJB:s because the names are similar and it's easy to get those two confused.</p>\n\n<h2>Beans in web applications</h2>\n\n<p>If you consider \"normal\" JavaBeans in web app context, they make more sense than wearing shoes in your legs. Since the Servlet specification requires for sessions to be serializable, it means you should store your data in session as something that's serializable - why not make it a bean then! Just throw your SomeBusinessDataBean into the session and you're good to go, laughably easy, specification-compliant and convenient.</p>\n\n<p>Also transferring that data around the application is easy too since JavaBeans help you to decouple parts of your application completely. Think JavaBeans as a letter and various subsystems of the application as departments within a very large corporation: Dept.A mails a bunch of data to Dept.B, Dept.B doesn't know -<em>or even care</em>- where the data came from just as it should be and can just open the letter, read stuff from it and do its thing based on that data.</p>\n\n<h2>Beans in standalone applications</h2>\n\n<p>Actually what's above applies to standalone apps too, the only difference is that you can mess up with the UI a bit more since standalone applications have stateful UI:s while web applications have statelss UI:s which in some cases only simulate stateful UI:s. Because of this difference, it's easier to make a mess with standalone application but that's worth a whole another topic and isn't directly related to JavaBeans at all.</p>\n"},{"comments":[{"owner":{"account_id":1827965,"reputation":5603,"user_id":1660192,"accept_rate":80,"display_name":"Aman Gupta"},"score":13,"creation_date":1373810823,"post_id":1729230,"comment_id":25685835,"body_markdown":"Nice explanation, and typically thanks for this **Implementing Serializable is not per se mandatory, but very useful if you&#39;d like to be able to persist or transfer Javabeans outside Java&#39;s memory, e.g. in harddisk or over network.**","body":"Nice explanation, and typically thanks for this <b>Implementing Serializable is not per se mandatory, but very useful if you&#39;d like to be able to persist or transfer Javabeans outside Java&#39;s memory, e.g. in harddisk or over network.</b>"},{"owner":{"account_id":1235278,"reputation":2660,"user_id":1198979,"accept_rate":82,"display_name":"SSP"},"score":0,"creation_date":1398408504,"post_id":1729230,"comment_id":35643081,"body_markdown":"but in java doc its mention that we should Implement Serialization so can you please make it clear ?","body":"but in java doc its mention that we should Implement Serialization so can you please make it clear ?"},{"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":11,"creation_date":1398409670,"post_id":1729230,"comment_id":35643735,"body_markdown":"@SSP: 1) there&#39;s no javadoc. 2) &quot;should&quot; != &quot;must&quot;.","body":"@SSP: 1) there&#39;s no javadoc. 2) &quot;should&quot; != &quot;must&quot;."},{"owner":{"account_id":9842376,"reputation":537,"user_id":7465516,"display_name":"julaine"},"score":0,"creation_date":1701704362,"post_id":1729230,"comment_id":136805649,"body_markdown":"As of 2023, it is very strongly discouraged to rely on Serializable. There are many write-ups on it, here is one from Lombok: https://github.com/projectlombok/lombok/wiki/WHY-NOT:-serialVersionUID#actually-dont-use-javas-serialization-mechanism","body":"As of 2023, it is very strongly discouraged to rely on Serializable. There are many write-ups on it, here is one from Lombok: <a href=\"https://github.com/projectlombok/lombok/wiki/WHY-NOT:-serialVersionUID#actually-dont-use-javas-serialization-mechanism\" rel=\"nofollow noreferrer\">github.com/projectlombok/lombok/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":52822,"reputation":1089025,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":1,"up_vote_count":201,"is_accepted":true,"score":200,"last_activity_date":1701684529,"creation_date":1258119369,"answer_id":1729230,"question_id":1727603,"body_markdown":"They often just represent real world data. Here&#39;s a simple example of a Javabean:\r\n\r\n    public class User implements java.io.Serializable {\r\n    \r\n        // Properties.\r\n        private Long id;\r\n        private String name;\r\n        private Date birthdate;\r\n    \r\n        // Getters.\r\n        public Long getId() { return id; }\r\n        public String getName() { return name; }\r\n        public Date getBirthdate() { return birthdate; }\r\n    \r\n        // Setters.\r\n        public void setId(Long id) { this.id = id; }\r\n        public void setName(String name) { this.name = name; }\r\n        public void setBirthdate(Date birthdate) { this.birthdate = birthdate; }\r\n    \r\n        // Important java.lang.Object overrides.\r\n        public boolean equals(Object other) {\r\n            return (other instanceof User user) &amp;&amp; (id != null) ? id.equals(user.id) : (other == this);\r\n        }\r\n        public int hashCode() {\r\n            return (id != null) ? (getClass().hashCode() + id.hashCode()) : super.hashCode();\r\n        }\r\n        public String toString() {\r\n            return String.format(&quot;User[id=%d,name=%s,birthdate=%d]&quot;, id, name, birthdate);\r\n        }\r\n    }\r\n\r\nImplementing `Serializable` is not per se mandatory, but very useful if you&#39;d like to be able to persist or transfer Javabeans outside Java&#39;s memory, e.g. in harddisk or over network. One well known example is shared HTTP session storage for a cluster of servers (&quot;cloud&quot;). Otherwise you&#39;ll face [`NotSerializableException`][1] on these cases.\r\n\r\nIn for example a DAO class you can use it to **store** the data retrieved from the `user` table of the database:\r\n\r\n    List&lt;User&gt; users = new ArrayList&lt;User&gt;();\r\n    while (resultSet.next()) {\r\n        User user = new User();\r\n        user.setId(resultSet.getLong(&quot;id&quot;));\r\n        user.setName(resultSet.getString(&quot;name&quot;));\r\n        user.setBirthdate(resultSet.getDate(&quot;birthdate&quot;));\r\n        users.add(user);\r\n    }\r\n    return users;\r\n\r\nIn for example a Servlet class you can use it to **transfer** data from the database to the UI:\r\n\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) {\r\n        List&lt;User&gt; users = userDAO.list();\r\n        request.setAttribute(&quot;users&quot;, users);\r\n        request.getRequestDispatcher(&quot;/WEB-INF/users.jsp&quot;).forward(request, response);\r\n    }\r\n\r\nIn for example a JSP page you can **access** it by [EL][2], which follows the Javabean conventions, to display the data:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;table&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;ID&lt;/th&gt;\r\n            &lt;th&gt;Name&lt;/th&gt;\r\n            &lt;th&gt;Birthdate&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;c:forEach items=&quot;${users}&quot; var=&quot;user&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;${user.id}&lt;/td&gt;\r\n                &lt;td&gt;&lt;c:out value=&quot;${user.name}&quot; /&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;fmt:formatDate value=&quot;${user.birthdate}&quot; pattern=&quot;yyyy-MM-dd&quot; /&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/c:forEach&gt;\r\n    &lt;/table&gt;\r\n\r\nDoes it make sense? You see, it&#39;s kind of a **convention** which you can use everywhere to *store*, *transfer* and *access* data.\r\n\r\n### See also:\r\n\r\n- [JavaBeans specification][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2294551/java-io-writeabortedexception-writing-aborted-java-io-notserializableexception\r\n  [2]: https://stackoverflow.com/tags/el/info\r\n  [3]: https://www.oracle.com/java/technologies/javase/javabeans-spec.html","title":"Places where JavaBeans are used?","body":"<p>They often just represent real world data. Here's a simple example of a Javabean:</p>\n<pre><code>public class User implements java.io.Serializable {\n\n    // Properties.\n    private Long id;\n    private String name;\n    private Date birthdate;\n\n    // Getters.\n    public Long getId() { return id; }\n    public String getName() { return name; }\n    public Date getBirthdate() { return birthdate; }\n\n    // Setters.\n    public void setId(Long id) { this.id = id; }\n    public void setName(String name) { this.name = name; }\n    public void setBirthdate(Date birthdate) { this.birthdate = birthdate; }\n\n    // Important java.lang.Object overrides.\n    public boolean equals(Object other) {\n        return (other instanceof User user) &amp;&amp; (id != null) ? id.equals(user.id) : (other == this);\n    }\n    public int hashCode() {\n        return (id != null) ? (getClass().hashCode() + id.hashCode()) : super.hashCode();\n    }\n    public String toString() {\n        return String.format(&quot;User[id=%d,name=%s,birthdate=%d]&quot;, id, name, birthdate);\n    }\n}\n</code></pre>\n<p>Implementing <code>Serializable</code> is not per se mandatory, but very useful if you'd like to be able to persist or transfer Javabeans outside Java's memory, e.g. in harddisk or over network. One well known example is shared HTTP session storage for a cluster of servers (&quot;cloud&quot;). Otherwise you'll face <a href=\"https://stackoverflow.com/questions/2294551/java-io-writeabortedexception-writing-aborted-java-io-notserializableexception\"><code>NotSerializableException</code></a> on these cases.</p>\n<p>In for example a DAO class you can use it to <strong>store</strong> the data retrieved from the <code>user</code> table of the database:</p>\n<pre><code>List&lt;User&gt; users = new ArrayList&lt;User&gt;();\nwhile (resultSet.next()) {\n    User user = new User();\n    user.setId(resultSet.getLong(&quot;id&quot;));\n    user.setName(resultSet.getString(&quot;name&quot;));\n    user.setBirthdate(resultSet.getDate(&quot;birthdate&quot;));\n    users.add(user);\n}\nreturn users;\n</code></pre>\n<p>In for example a Servlet class you can use it to <strong>transfer</strong> data from the database to the UI:</p>\n<pre><code>@Override\nprotected void doGet(HttpServletRequest request, HttpServletResponse response) {\n    List&lt;User&gt; users = userDAO.list();\n    request.setAttribute(&quot;users&quot;, users);\n    request.getRequestDispatcher(&quot;/WEB-INF/users.jsp&quot;).forward(request, response);\n}\n</code></pre>\n<p>In for example a JSP page you can <strong>access</strong> it by <a href=\"https://stackoverflow.com/tags/el/info\">EL</a>, which follows the Javabean conventions, to display the data:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;table&gt;\n    &lt;tr&gt;\n        &lt;th&gt;ID&lt;/th&gt;\n        &lt;th&gt;Name&lt;/th&gt;\n        &lt;th&gt;Birthdate&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;c:forEach items=&quot;${users}&quot; var=&quot;user&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${user.id}&lt;/td&gt;\n            &lt;td&gt;&lt;c:out value=&quot;${user.name}&quot; /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;fmt:formatDate value=&quot;${user.birthdate}&quot; pattern=&quot;yyyy-MM-dd&quot; /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n</code></pre>\n<p>Does it make sense? You see, it's kind of a <strong>convention</strong> which you can use everywhere to <em>store</em>, <em>transfer</em> and <em>access</em> data.</p>\n<h3>See also:</h3>\n<ul>\n<li><a href=\"https://www.oracle.com/java/technologies/javase/javabeans-spec.html\" rel=\"nofollow noreferrer\">JavaBeans specification</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1258120258,"creation_date":1258120258,"answer_id":1729303,"question_id":1727603,"body_markdown":"A bean is nothing much, really. For a class to be a &quot;bean&quot;, all it requires is:\r\n\r\n- to have a public, no argument constructor\r\n- to be serializable (to implement the Serializable interface, either directly or through one of its super classes).\r\n\r\nTo that, you can add getters and setters for properties of the class that conform to a specific naming convention if you want the fields to be discoverable in certain circumstances (e.g. making that class some object you can drag and drop from a visual editor in your IDE, for example).\r\n\r\nYou can find more directly from Sun [here][1].\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/javabeans/whatis/index.html","title":"Places where JavaBeans are used?","body":"<p>A bean is nothing much, really. For a class to be a \"bean\", all it requires is:</p>\n\n<ul>\n<li>to have a public, no argument constructor</li>\n<li>to be serializable (to implement the Serializable interface, either directly or through one of its super classes).</li>\n</ul>\n\n<p>To that, you can add getters and setters for properties of the class that conform to a specific naming convention if you want the fields to be discoverable in certain circumstances (e.g. making that class some object you can drag and drop from a visual editor in your IDE, for example).</p>\n\n<p>You can find more directly from Sun <a href=\"http://java.sun.com/docs/books/tutorial/javabeans/whatis/index.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":2212813,"reputation":1915,"user_id":1954219,"display_name":"Vibha Sanskrityayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1368604121,"creation_date":1359958889,"answer_id":14681389,"question_id":1727603,"body_markdown":"A Java Bean is a software component that has been designed to be reusable in a variety of different environments. There is no restriction on the capability of a Bean. It may perform a simple function, such as checking the spelling of a document, or a complex function, such as forecasting the performance of a stock portfolio. A Bean may be visible to an end user. One example of this is a button on a graphical user interface. A Bean may also be invisible to a user. Software to decode a stream of multimedia information in real time is an example of this type of building block. Finally, a Bean may be designed to work autonomously on a user&#39;s workstation or to work in cooperation with a set of other distributed components. Software to generate a pie chart from a set of data points is an example of a Bean that can execute locally. However, a Bean that provides real-time price information from a stock or commodities exchange would need to work in cooperation with other distributed software to obtain its data.\r\n\r\nWe will see shortly what specific changes a software developer must make to a class so that it is usable as a Java Bean. However, one of the goals of the Java designers was to make it easy to use this technology. Therefore, the code changes are minimal.\r\n\r\n**Advantages of Java Beans**\r\n\r\nA software component architecture provides standard mechanisms to deal with software building blocks. The following list enumerates some of the specific benefits that Java technology provides for a component developer:\r\n\r\n * A Bean obtains all the benefits of Java&#39;s &quot;write-once, run-anywhere&quot; paradigm. \r\n * The properties, events, and methods of a Bean that are exposed to an application\r\n   builder tool can be controlled.\r\n * A Bean may be designed to operate correctly in different locales, which makes it\r\n    useful in global markets.\r\n * Auxiliary software can be provided to help a person configure a Bean. This software is\r\n    only needed when the design-time parameters for that component are being set. It\r\n    does not need to be included in the run-time environment.\r\n * The configuration settings of a Bean can be saved in persistent storage and restored\r\n    at a later time.\r\n *  A Bean may register to receive events from other objects and can generate events that\r\n    are sent to other objects.\r\n\r\n**Here&#39;s a simple example of a Javabean:**\r\n\r\n    public class MyBean implements java.io.Serializable\r\n    {\r\n       \r\n           protected  int theValue;\r\n     \r\n           public MyBean()\r\n           {\r\n           }\r\n     \r\n           public void setMyValue(int newValue)\r\n           {\r\n               theValue = newValue;\r\n           }\r\n     \r\n          public int getMyValue()\r\n          {\r\n               return theValue;\r\n          }\r\n    \r\n    }\r\n\r\nThis is a real Bean named MyBean that has state (the variable theValue) that will automatically be saved and restored by the JavaBeans persistence mechanism, and it has a property named MyValue that is usable by a visual programming environment. This Bean doesn&#39;t have any visual representation, but that isn&#39;t a requirement for a JavaBean component. \r\n\r\n","title":"Places where JavaBeans are used?","body":"<p>A Java Bean is a software component that has been designed to be reusable in a variety of different environments. There is no restriction on the capability of a Bean. It may perform a simple function, such as checking the spelling of a document, or a complex function, such as forecasting the performance of a stock portfolio. A Bean may be visible to an end user. One example of this is a button on a graphical user interface. A Bean may also be invisible to a user. Software to decode a stream of multimedia information in real time is an example of this type of building block. Finally, a Bean may be designed to work autonomously on a user's workstation or to work in cooperation with a set of other distributed components. Software to generate a pie chart from a set of data points is an example of a Bean that can execute locally. However, a Bean that provides real-time price information from a stock or commodities exchange would need to work in cooperation with other distributed software to obtain its data.</p>\n\n<p>We will see shortly what specific changes a software developer must make to a class so that it is usable as a Java Bean. However, one of the goals of the Java designers was to make it easy to use this technology. Therefore, the code changes are minimal.</p>\n\n<p><strong>Advantages of Java Beans</strong></p>\n\n<p>A software component architecture provides standard mechanisms to deal with software building blocks. The following list enumerates some of the specific benefits that Java technology provides for a component developer:</p>\n\n<ul>\n<li>A Bean obtains all the benefits of Java's \"write-once, run-anywhere\" paradigm. </li>\n<li>The properties, events, and methods of a Bean that are exposed to an application\nbuilder tool can be controlled.</li>\n<li>A Bean may be designed to operate correctly in different locales, which makes it\nuseful in global markets.</li>\n<li>Auxiliary software can be provided to help a person configure a Bean. This software is\nonly needed when the design-time parameters for that component are being set. It\ndoes not need to be included in the run-time environment.</li>\n<li>The configuration settings of a Bean can be saved in persistent storage and restored\nat a later time.</li>\n<li>A Bean may register to receive events from other objects and can generate events that\nare sent to other objects.</li>\n</ul>\n\n<p><strong>Here's a simple example of a Javabean:</strong></p>\n\n<pre><code>public class MyBean implements java.io.Serializable\n{\n\n       protected  int theValue;\n\n       public MyBean()\n       {\n       }\n\n       public void setMyValue(int newValue)\n       {\n           theValue = newValue;\n       }\n\n      public int getMyValue()\n      {\n           return theValue;\n      }\n\n}\n</code></pre>\n\n<p>This is a real Bean named MyBean that has state (the variable theValue) that will automatically be saved and restored by the JavaBeans persistence mechanism, and it has a property named MyValue that is usable by a visual programming environment. This Bean doesn't have any visual representation, but that isn't a requirement for a JavaBean component. </p>\n"}],"owner":{"account_id":879397,"reputation":3649,"user_id":207647,"accept_rate":91,"display_name":"Sidharth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83630,"favorite_count":0,"down_vote_count":1,"up_vote_count":204,"accepted_answer_id":1729230,"answer_count":4,"score":203,"last_activity_date":1701684529,"creation_date":1258095613,"question_id":1727603,"body_markdown":"What is a JavaBean and why do I need it? Since I can create all apps with the class and interface structure? Why do I need beans? And can you give me some examples where beans are essential instead of classes and interfaces?\r\n\r\nPlease explain the essentiality of a bean in the below context:\r\n\r\n - Wep apps\r\n - Standalone apps","title":"Places where JavaBeans are used?","body":"<p>What is a JavaBean and why do I need it? Since I can create all apps with the class and interface structure? Why do I need beans? And can you give me some examples where beans are essential instead of classes and interfaces?</p>\n\n<p>Please explain the essentiality of a bean in the below context:</p>\n\n<ul>\n<li>Wep apps</li>\n<li>Standalone apps</li>\n</ul>\n"},{"tags":["java","android","flutter","kotlin","android-studio"],"answers":[{"comments":[{"owner":{"account_id":24310984,"reputation":11,"user_id":18252997,"display_name":"Khang Pham"},"score":0,"creation_date":1701671895,"post_id":77597327,"comment_id":136800198,"body_markdown":"Yes, tried this. But it is not my expect, i want when at different locale it will different name too.","body":"Yes, tried this. But it is not my expect, i want when at different locale it will different name too."},{"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"score":0,"creation_date":1701684346,"post_id":77597327,"comment_id":136801856,"body_markdown":"@KhangPham I have edited my answer. Please check it out.","body":"@KhangPham I have edited my answer. Please check it out."}],"tags":[],"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701684287,"creation_date":1701666818,"answer_id":77597327,"question_id":77597255,"body_markdown":"Provide app name in your *productFlavors or buildTypes* section of **build.gradle(app-level)** like below\r\n\r\n\r\n    // productFlavors or buildTypes section \r\n    {\r\n       ....\r\n       applicationIdSuffix &#39;.testapp&#39;\r\n       resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;\r\n       ....\r\n    }\r\n\r\nAlso make sure you reference the value **app_name** to **android:label** in   your **AndroidManifest.xml** file as below:\r\n\r\n     &lt;application\r\n        android:label=&quot;@string/app_name&quot;\r\n        ...\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\r\n    ...\r\n    ...\r\n    &lt;/application&gt;\r\n\r\n**EDIT:**\r\n\r\nYou can also reference you app name like below if you have multiple flavor setup. \r\n\r\n        productFlavors {\r\n        appFree {\r\n            applicationId &quot;com.example.testapp.free&quot;\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Free\\&quot;&quot;\r\n\r\n            // app_name should reference to android:label property in AndroidManifest file\r\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_free&quot;\r\n            return true\r\n        }\r\n        appPremium {\r\n            applicationId &quot;com.example.testapp.premium&quot;\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Paid\\&quot;&quot;\r\n            resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_premium&quot;\r\n            return true\r\n        }\r\n    }\r\n\r\nNote: you will need to setup separate string.xml file for each locale like below:\r\n\r\n**strings.xml**\r\n\r\n    &lt;resources&gt;\r\n    &lt;string name=&quot;app_name_free&quot;&gt;TestApp free&lt;/string&gt;\r\n    &lt;string name=&quot;app_name_premium&quot;&gt;TestApp premium&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n    \r\n**vn\\strings.xml**\r\n\r\n    &lt;resources&gt;\r\n    &lt;string name=&quot;app_name_free&quot;&gt;TestApp miễn ph&#237;&lt;/string&gt;\r\n    &lt;string name=&quot;app_name_premium&quot;&gt;TestApp trả ph&#237;&lt;/string&gt;\r\n    &lt;/resources&gt;\r\n\r\n","title":"How to change the application launcher name with different build flavors and different locale of user in Android Studio?","body":"<p>Provide app name in your <em>productFlavors or buildTypes</em> section of <strong>build.gradle(app-level)</strong> like below</p>\n<pre><code>// productFlavors or buildTypes section \n{\n   ....\n   applicationIdSuffix '.testapp'\n   resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;\n   ....\n}\n</code></pre>\n<p>Also make sure you reference the value <strong>app_name</strong> to <strong>android:label</strong> in   your <strong>AndroidManifest.xml</strong> file as below:</p>\n<pre><code> &lt;application\n    android:label=&quot;@string/app_name&quot;\n    ...\n    android:icon=&quot;@mipmap/ic_launcher&quot;&gt;\n...\n...\n&lt;/application&gt;\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>You can also reference you app name like below if you have multiple flavor setup.</p>\n<pre><code>    productFlavors {\n    appFree {\n        applicationId &quot;com.example.testapp.free&quot;\n        versionCode 1\n        versionName &quot;1.0&quot;\n        buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Free\\&quot;&quot;\n\n        // app_name should reference to android:label property in AndroidManifest file\n        resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_free&quot;\n        return true\n    }\n    appPremium {\n        applicationId &quot;com.example.testapp.premium&quot;\n        versionCode 1\n        versionName &quot;1.0&quot;\n        buildConfigField &quot;String&quot;, &quot;type&quot;, &quot;\\&quot;Paid\\&quot;&quot;\n        resValue &quot;string&quot;, &quot;app_name&quot;, &quot;@string/app_name_premium&quot;\n        return true\n    }\n}\n</code></pre>\n<p>Note: you will need to setup separate string.xml file for each locale like below:</p>\n<p><strong>strings.xml</strong></p>\n<pre><code>&lt;resources&gt;\n&lt;string name=&quot;app_name_free&quot;&gt;TestApp free&lt;/string&gt;\n&lt;string name=&quot;app_name_premium&quot;&gt;TestApp premium&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n<p><strong>vn\\strings.xml</strong></p>\n<pre><code>&lt;resources&gt;\n&lt;string name=&quot;app_name_free&quot;&gt;TestApp miễn phí&lt;/string&gt;\n&lt;string name=&quot;app_name_premium&quot;&gt;TestApp trả phí&lt;/string&gt;\n&lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":24310984,"reputation":11,"user_id":18252997,"display_name":"Khang Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701684287,"creation_date":1701664793,"question_id":77597255,"body_markdown":"I want to change the application launcher name by build flavors and the locale of user.\r\nAssume, i build four application with different build flavors and locale and the match name :\r\n\r\n      + First : Build flavor is free and locale is en =&gt; App Free English\r\n      + Second: Build flavor is premium and locale is vn =&gt; App Premium Vietnam\r\n      + Third: Build flavor is beta and locale is ko =&gt; App Beta Korean\r\n      + Four: Build flavor is premium and locale is ko =&gt; App Premium Korean\r\nSo, how can i do like this ?\r\n\r\nI try resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;, but the name just change by build flavor.","title":"How to change the application launcher name with different build flavors and different locale of user in Android Studio?","body":"<p>I want to change the application launcher name by build flavors and the locale of user.\nAssume, i build four application with different build flavors and locale and the match name :</p>\n<pre><code>  + First : Build flavor is free and locale is en =&gt; App Free English\n  + Second: Build flavor is premium and locale is vn =&gt; App Premium Vietnam\n  + Third: Build flavor is beta and locale is ko =&gt; App Beta Korean\n  + Four: Build flavor is premium and locale is ko =&gt; App Premium Korean\n</code></pre>\n<p>So, how can i do like this ?</p>\n<p>I try resValue &quot;string&quot;, &quot;app_name&quot;, &quot;App Name&quot;, but the name just change by build flavor.</p>\n"},{"tags":["java","intellij-idea","gwt","gwt-rpc","gwt-super-dev-mode"],"comments":[{"owner":{"account_id":102157,"reputation":1558,"user_id":1824841,"display_name":"Ignacio Baca"},"score":1,"creation_date":1701672284,"post_id":77593898,"comment_id":136800232,"body_markdown":"What GWT version are you using? and how are you managing the project (maven, gradle, etc)?","body":"What GWT version are you using? and how are you managing the project (maven, gradle, etc)?"},{"owner":{"account_id":13273741,"reputation":1,"user_id":9583808,"display_name":"Raghuram Bhogireddy"},"score":0,"creation_date":1701683786,"post_id":77593898,"comment_id":136801770,"body_markdown":"Hi @IgnacioBaca, I was using maven as my build management tool, Java JDK 1.8 and GWT version 2.9.0","body":"Hi @IgnacioBaca, I was using maven as my build management tool, Java JDK 1.8 and GWT version 2.9.0"},{"owner":{"account_id":1181589,"reputation":3787,"user_id":1156412,"display_name":"El Hoss"},"score":0,"creation_date":1701693717,"post_id":77593898,"comment_id":136803445,"body_markdown":"Is your code separated in client-, server- &amp; share with own maven modules or all in one? Which GWT-MAVEN-PLUGIN are you using?","body":"Is your code separated in client-, server- &amp; share with own maven modules or all in one? Which GWT-MAVEN-PLUGIN are you using?"},{"owner":{"account_id":13273741,"reputation":1,"user_id":9583808,"display_name":"Raghuram Bhogireddy"},"score":0,"creation_date":1701764481,"post_id":77593898,"comment_id":136812948,"body_markdown":"Yes, my codebae use client and server package structure and a common shared package used by both client and server side code. Also they both share the same maven modules.  I was using `org.codehaus.mojo: gwt-maven-plugin`","body":"Yes, my codebae use client and server package structure and a common shared package used by both client and server side code. Also they both share the same maven modules.  I was using <code>org.codehaus.mojo: gwt-maven-plugin</code>"}],"owner":{"account_id":13273741,"reputation":1,"user_id":9583808,"display_name":"Raghuram Bhogireddy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701683710,"creation_date":1701599961,"question_id":77593898,"body_markdown":"I was using GWT enterprise application which we package it to war and deploy in Tomcat server in our production. I heard of GWT super dev mode, where we can actually run the application in our local IDE to improve the development activities. I have gone through numerous references but I cannot set it up. Seems there are not much articles to support for configuring super dev mode with recent versions of Intellij IDEA. \r\n\r\nFew references I have checked: \r\n\r\n- [How to get GWT Super Dev Mode to work with IntelliJ](https://stackoverflow.com/questions/23841301/how-to-get-gwt-super-dev-mode-to-work-with-intellij), \r\n\r\n- [GWT Super Dev Mode](https://stackoverflow.com/questions/21387335/gwt-super-dev-mode?rq=3)\r\n\r\n- [how to debug gwt with super dev](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360001803699-how-to-debug-gwt-with-super-dev)\r\n\r\nproject configuration details,\r\n\r\nBuild management - maven 3.8.4\r\njava JDK - 1.8\r\nGWT version - 2.9.0\r\n\r\nKindly let me know for any working references/leads.","title":"How to configure GWT super dev mode for Intellij Idea recent versions 2023","body":"<p>I was using GWT enterprise application which we package it to war and deploy in Tomcat server in our production. I heard of GWT super dev mode, where we can actually run the application in our local IDE to improve the development activities. I have gone through numerous references but I cannot set it up. Seems there are not much articles to support for configuring super dev mode with recent versions of Intellij IDEA.</p>\n<p>Few references I have checked:</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/23841301/how-to-get-gwt-super-dev-mode-to-work-with-intellij\">How to get GWT Super Dev Mode to work with IntelliJ</a>,</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/21387335/gwt-super-dev-mode?rq=3\">GWT Super Dev Mode</a></p>\n</li>\n<li><p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360001803699-how-to-debug-gwt-with-super-dev\" rel=\"nofollow noreferrer\">how to debug gwt with super dev</a></p>\n</li>\n</ul>\n<p>project configuration details,</p>\n<p>Build management - maven 3.8.4\njava JDK - 1.8\nGWT version - 2.9.0</p>\n<p>Kindly let me know for any working references/leads.</p>\n"},{"tags":["java","jboss","vaadin","wildfly"],"comments":[{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1459019541,"post_id":36230099,"comment_id":60109471,"body_markdown":"When you deploy your application on WildFly, what&#39;s your JNDI tree like? Also, could you please provide the entire stack trace?","body":"When you deploy your application on WildFly, what&#39;s your JNDI tree like? Also, could you please provide the entire stack trace?"}],"answers":[{"tags":[],"owner":{"account_id":5724862,"reputation":61,"user_id":4522150,"display_name":"Madhu Pisipati"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528422270,"creation_date":1466678000,"answer_id":37989128,"question_id":36230099,"body_markdown":"Since you are deploying this on wildfly you need to change the property in the &gt; persistence.xml \r\n\r\nprovider FROM\r\n\r\n    &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n\r\nTO\r\n\r\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n\r\nRemove both the hibernate.transaction.jta.platform properties\r\n\r\n    &lt;name=&quot;hibernate.transaction.jta.platform&quot; &gt;\r\n\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.SunOneJtaPlatform&quot; /&gt;\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.WeblogicJtaPlatform&quot; /&gt;\r\n\r\nand add the below instead\r\n\r\n    &lt;property name=&quot;hibernate.transaction.jta.platform&quot; value=&quot;org.hibernate.service.jta.platform.internal.JBossAppServerJtaPlatform&quot;/&gt; \r\n\r\nthat should resolve the transaction manager issue.\r\n","title":"Unable to lookup JNDI name [javax.transaction.TransactionManager]","body":"<p>Since you are deploying this on wildfly you need to change the property in the > persistence.xml </p>\n\n<p>provider FROM</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n</code></pre>\n\n<p>TO</p>\n\n<pre><code>&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n</code></pre>\n\n<p>Remove both the hibernate.transaction.jta.platform properties</p>\n\n<pre><code>&lt;name=\"hibernate.transaction.jta.platform\" &gt;\n\n&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.SunOneJtaPlatform\" /&gt;\n&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.WeblogicJtaPlatform\" /&gt;\n</code></pre>\n\n<p>and add the below instead</p>\n\n<pre><code>&lt;property name=\"hibernate.transaction.jta.platform\" value=\"org.hibernate.service.jta.platform.internal.JBossAppServerJtaPlatform\"/&gt; \n</code></pre>\n\n<p>that should resolve the transaction manager issue.</p>\n"},{"comments":[{"owner":{"account_id":13097682,"reputation":827,"user_id":9463119,"display_name":"Daniel"},"score":0,"creation_date":1701770881,"post_id":77598484,"comment_id":136814019,"body_markdown":"this looks like a question and not an answer","body":"this looks like a question and not an answer"}],"tags":[],"owner":{"account_id":30061281,"reputation":1,"user_id":23037347,"display_name":"user23037347"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701683446,"creation_date":1701683446,"answer_id":77598484,"question_id":36230099,"body_markdown":"When I try to create a partner, set it as valid and complete the process, I get the following error. Is this a known issue?\r\n\r\nThanks in advance!\r\n\r\n        org.hibernate.engine.jndi.JndiException: unable to find transaction manager\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:45) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.retrieveTransactionManager(AbstractJtaPlatform.java:87) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.getTransactionManager(AbstractJtaPlatform.java:98) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.TransactionManagerBasedSynchronizationStrategy.canRegisterSynchronization(TransactionManagerBasedSynchronizationStrategy.java:39) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.canRegisterSynchronization(AbstractJtaPlatform.java:131) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.pulse(JtaTransactionCoordinatorImpl.java:157) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.&lt;init&gt;(JtaTransactionCoordinatorImpl.java:93) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorBuilderImpl.buildTransactionCoordinator(JtaTransactionCoordinatorBuilderImpl.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.AbstractSharedSessionContract.&lt;init&gt;(AbstractSharedSessionContract.java:232) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl.&lt;init&gt;(AbstractSessionImpl.java:29) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionImpl.&lt;init&gt;(SessionImpl.java:230) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession(SessionFactoryImpl.java:1334) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.buildEntityManager(SessionFactoryImpl.java:651) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:637) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy92.createEntityManager(Unknown Source) ~[?:?]\r\n    \tat org.springframework.orm.jpa.EntityManagerFactoryUtils.doGetTransactionalEntityManager(EntityManagerFactoryUtils.java:267) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:270) ~[spring-orm-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy542.createQuery(Unknown Source) ~[?:?]\r\n    \tat de.innovas.jbit.persistence.querybuilding.next.UniversalCriteriaHistQueryBuilder.makeUnmappedHistQuery(UniversalCriteriaHistQueryBuilder.java:2280) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.technical.LowLevelSimpleDAO.read(LowLevelSimpleDAO.java:59) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.readWithTickInfo(AbstractSimpleMediator.java:141) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.read(AbstractSimpleMediator.java:72) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.persistence.layer.business.SimpleDAO.read(SimpleDAO.java:38) ~[jbit-persistence-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.readLtxCommitablesFor(LtxCommittableHandlerImpl.java:244) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.commit(LtxCommittableHandlerImpl.java:43) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\r\n    \tat de.innovas.iaf.jbit_persistence_adapter.ltx.JBIT7LtxListener.commit(JBIT7LtxListener.java:60) ~[jbit_persistence-adapter-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxListenerImpl.commit(LtxListenerImpl.java:113) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.ltx.LtxParticipantsServant.notifyCommit(LtxParticipantsServant.java:75) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.ltx.LtxKernel.completeCommit(LtxKernel.java:95) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxManagerImpl.performRegularCommit(LtxManagerImpl.java:403) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxManagerImpl.coordinateCommitProcessing(LtxManagerImpl.java:393) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.services.LtxManagerImpl.commit(LtxManagerImpl.java:341) ~[infra_server-23.6.14.jar:?]\r\n    \tat de.innovas.iaf.infra_server.gen.services.proxy.LtxManager_Proxy.commit(LtxManager_Proxy.java:250) ~[infra_server-public-23.6.14.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy99.commit(Unknown Source) ~[?:?]\r\n    \tat de.innovas.iaf.partners_outbounds_to_infra.impl.PartnersInfraOutboundImpl.commit(PartnersInfraOutboundImpl.java:145) ~[partners_outbounds_to_infra-23.2-SNAPSHOT.jar:?]\r\n    \tat de.innovas.iaf.partners_server.gen.services.proxy.PartnersInfraOutbound_Proxy.commit(PartnersInfraOutbound_Proxy.java:228) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy204.commit(Unknown Source) ~[?:?]\r\n    \tat de.innovas.iaf.partners_server.services.PartnersProcessServiceImpl.finishProcess(PartnersProcessServiceImpl.java:170) ~[partners_server-23.2-SNAPSHOT.jar:?]\r\n    \tat de.innovas.iaf.partners_server.gen.services.proxy.PartnersProcessService_Proxy.finishProcess(PartnersProcessService_Proxy.java:55) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\r\n    \tat com.sun.proxy.$Proxy247.finishProcess(Unknown Source) ~[?:?]\r\n    \tat de.innovas.iaf.partners_server.gen.services.rmi.PartnersProcessService_RMI_Service$Adapter.finishProcess(PartnersProcessService_RMI_Service.java:90) ~[partners_server-rmi-23.2-SNAPSHOT.jar:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n    \tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359) ~[?:?]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\r\n    \tat sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n    \tat sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677) ~[?:?]\r\n    \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n    \tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676) ~[?:?]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n    \tat java.lang.Thread.run(Thread.java:829) ~[?:?]\r\n    Caused by: org.hibernate.engine.jndi.JndiException: Error parsing JNDI name [java:jboss/TransactionManager]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:136) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \t... 100 more\r\n    Caused by: javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial\r\n    \tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:702) ~[?:?]\r\n    \tat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[?:?]\r\n    \tat javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:342) ~[?:?]\r\n    \tat javax.naming.InitialContext.getNameParser(InitialContext.java:497) ~[?:?]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:130) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \tat org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\r\n    \t... 100 more","title":"Unable to lookup JNDI name [javax.transaction.TransactionManager]","body":"<p>When I try to create a partner, set it as valid and complete the process, I get the following error. Is this a known issue?</p>\n<p>Thanks in advance!</p>\n<pre><code>    org.hibernate.engine.jndi.JndiException: unable to find transaction manager\n    at org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:45) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.retrieveTransactionManager(AbstractJtaPlatform.java:87) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.getTransactionManager(AbstractJtaPlatform.java:98) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.TransactionManagerBasedSynchronizationStrategy.canRegisterSynchronization(TransactionManagerBasedSynchronizationStrategy.java:39) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.AbstractJtaPlatform.canRegisterSynchronization(AbstractJtaPlatform.java:131) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.pulse(JtaTransactionCoordinatorImpl.java:157) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorImpl.&lt;init&gt;(JtaTransactionCoordinatorImpl.java:93) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.resource.transaction.backend.jta.internal.JtaTransactionCoordinatorBuilderImpl.buildTransactionCoordinator(JtaTransactionCoordinatorBuilderImpl.java:35) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.&lt;init&gt;(AbstractSharedSessionContract.java:232) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.AbstractSessionImpl.&lt;init&gt;(AbstractSessionImpl.java:29) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionImpl.&lt;init&gt;(SessionImpl.java:230) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl$SessionBuilderImpl.openSession(SessionFactoryImpl.java:1334) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.buildEntityManager(SessionFactoryImpl.java:651) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:637) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:519) ~[spring-orm-5.3.30.jar:5.3.30]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734) ~[spring-orm-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy92.createEntityManager(Unknown Source) ~[?:?]\n    at org.springframework.orm.jpa.EntityManagerFactoryUtils.doGetTransactionalEntityManager(EntityManagerFactoryUtils.java:267) ~[spring-orm-5.3.30.jar:5.3.30]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:270) ~[spring-orm-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy542.createQuery(Unknown Source) ~[?:?]\n    at de.innovas.jbit.persistence.querybuilding.next.UniversalCriteriaHistQueryBuilder.makeUnmappedHistQuery(UniversalCriteriaHistQueryBuilder.java:2280) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.technical.LowLevelSimpleDAO.read(LowLevelSimpleDAO.java:59) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.readWithTickInfo(AbstractSimpleMediator.java:141) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.mediator.AbstractSimpleMediator.read(AbstractSimpleMediator.java:72) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.persistence.layer.business.SimpleDAO.read(SimpleDAO.java:38) ~[jbit-persistence-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.readLtxCommitablesFor(LtxCommittableHandlerImpl.java:244) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\n    at de.innovas.jbit.infrastructure.services.LtxCommittableHandlerImpl.commit(LtxCommittableHandlerImpl.java:43) ~[jbit-infrastructure-ltx-4.1.0.jar:4.1.0]\n    at de.innovas.iaf.jbit_persistence_adapter.ltx.JBIT7LtxListener.commit(JBIT7LtxListener.java:60) ~[jbit_persistence-adapter-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxListenerImpl.commit(LtxListenerImpl.java:113) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.ltx.LtxParticipantsServant.notifyCommit(LtxParticipantsServant.java:75) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.ltx.LtxKernel.completeCommit(LtxKernel.java:95) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxManagerImpl.performRegularCommit(LtxManagerImpl.java:403) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxManagerImpl.coordinateCommitProcessing(LtxManagerImpl.java:393) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.services.LtxManagerImpl.commit(LtxManagerImpl.java:341) ~[infra_server-23.6.14.jar:?]\n    at de.innovas.iaf.infra_server.gen.services.proxy.LtxManager_Proxy.commit(LtxManager_Proxy.java:250) ~[infra_server-public-23.6.14.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy99.commit(Unknown Source) ~[?:?]\n    at de.innovas.iaf.partners_outbounds_to_infra.impl.PartnersInfraOutboundImpl.commit(PartnersInfraOutboundImpl.java:145) ~[partners_outbounds_to_infra-23.2-SNAPSHOT.jar:?]\n    at de.innovas.iaf.partners_server.gen.services.proxy.PartnersInfraOutbound_Proxy.commit(PartnersInfraOutbound_Proxy.java:228) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy204.commit(Unknown Source) ~[?:?]\n    at de.innovas.iaf.partners_server.services.PartnersProcessServiceImpl.finishProcess(PartnersProcessServiceImpl.java:170) ~[partners_server-23.2-SNAPSHOT.jar:?]\n    at de.innovas.iaf.partners_server.gen.services.proxy.PartnersProcessService_Proxy.finishProcess(PartnersProcessService_Proxy.java:55) ~[partners_server-public-23.2-SNAPSHOT.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.30.jar:5.3.30]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241) ~[spring-aop-5.3.30.jar:5.3.30]\n    at com.sun.proxy.$Proxy247.finishProcess(Unknown Source) ~[?:?]\n    at de.innovas.iaf.partners_server.gen.services.rmi.PartnersProcessService_RMI_Service$Adapter.finishProcess(PartnersProcessService_RMI_Service.java:90) ~[partners_server-rmi-23.2-SNAPSHOT.jar:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:359) ~[?:?]\n    at sun.rmi.transport.Transport$1.run(Transport.java:200) ~[?:?]\n    at sun.rmi.transport.Transport$1.run(Transport.java:197) ~[?:?]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:562) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:796) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:677) ~[?:?]\n    at java.security.AccessController.doPrivileged(Native Method) ~[?:?]\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:676) ~[?:?]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\n    at java.lang.Thread.run(Thread.java:829) ~[?:?]\nCaused by: org.hibernate.engine.jndi.JndiException: Error parsing JNDI name [java:jboss/TransactionManager]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:136) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    ... 100 more\nCaused by: javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or in an application resource file: java.naming.factory.initial\n    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:702) ~[?:?]\n    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:305) ~[?:?]\n    at javax.naming.InitialContext.getURLOrDefaultInitCtx(InitialContext.java:342) ~[?:?]\n    at javax.naming.InitialContext.getNameParser(InitialContext.java:497) ~[?:?]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.parseName(JndiServiceImpl.java:130) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.jndi.internal.JndiServiceImpl.locate(JndiServiceImpl.java:97) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    at org.hibernate.engine.transaction.jta.platform.internal.JBossAppServerJtaPlatform.locateTransactionManager(JBossAppServerJtaPlatform.java:38) ~[hibernate-core-5.6.14.Final.jar:5.6.14.Final]\n    ... 100 more\n</code></pre>\n"}],"owner":{"account_id":3106740,"reputation":73,"user_id":2629369,"display_name":"Radoslav.B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8634,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1701683446,"creation_date":1458951298,"question_id":36230099,"body_markdown":"In my JavaEE application I have got two JAR&#39;s (Entities, Interfaces), one EJB (Service) and one WAR (Vaadin) projects. The application server is WildFly (JBoss). After deploying project there is an following error. In GlassFish there is everything fine.\r\n\r\n&gt; javax.servlet.ServletException: com.vaadin.server.ServiceException: javax.ejb.EJBException: org.hibernate.engine.jndi.JndiException: Unable to lookup JNDI name [javax.transaction.TransactionManager]\r\n&gt;\r\n&gt; null: javax.naming.NameNotFoundException: project1-ear-1.0.0.0/project1-Services-ejb1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService -- service jboss.naming.context.java.&quot;project1-ear-1.0.0.0&quot;.&quot;project1-Services-ejb1.0.0.0&quot;.&quot;PersonServiceImpl!com.domain.project1.interfaces.PersonService\r\n\r\nMy lookup:\r\n\r\n&gt; java:global/project1-ear-1.0.0.0/project1-Services-ejb-1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService\r\n\r\nWhat&#39;s wrong? Thanks for help!","title":"Unable to lookup JNDI name [javax.transaction.TransactionManager]","body":"<p>In my JavaEE application I have got two JAR's (Entities, Interfaces), one EJB (Service) and one WAR (Vaadin) projects. The application server is WildFly (JBoss). After deploying project there is an following error. In GlassFish there is everything fine.</p>\n\n<blockquote>\n  <p>javax.servlet.ServletException: com.vaadin.server.ServiceException: javax.ejb.EJBException: org.hibernate.engine.jndi.JndiException: Unable to lookup JNDI name [javax.transaction.TransactionManager]</p>\n  \n  <p>null: javax.naming.NameNotFoundException: project1-ear-1.0.0.0/project1-Services-ejb1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService -- service jboss.naming.context.java.\"project1-ear-1.0.0.0\".\"project1-Services-ejb1.0.0.0\".\"PersonServiceImpl!com.domain.project1.interfaces.PersonService</p>\n</blockquote>\n\n<p>My lookup:</p>\n\n<blockquote>\n  <p>java:global/project1-ear-1.0.0.0/project1-Services-ejb-1.0.0.0/PersonServiceImpl!com.domain.project1.interfaces.PersonService</p>\n</blockquote>\n\n<p>What's wrong? Thanks for help!</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1617142555,"post_id":66879026,"comment_id":118220454,"body_markdown":"The 1st approach doesn&#39;t work for me since I need to return that Mono&lt;Void&gt; in the webfilter so it can be subscribed to. I think it breaks the request flow if I don&#39;t by just returning a `.then()`.","body":"The 1st approach doesn&#39;t work for me since I need to return that Mono&lt;Void&gt; in the webfilter so it can be subscribed to. I think it breaks the request flow if I don&#39;t by just returning a <code>.then()</code>."},{"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"score":0,"creation_date":1617142611,"post_id":66879026,"comment_id":118220468,"body_markdown":"The 2nd/3rd approach might work. I was returning a DUMMY_MYTHING to ensure I never have an empty Mono&lt;MyThing&gt;, but I think wrapping it in an optional and checking `.isPresent()` is a cleaner approach. Don&#39;t think I need the `.then()` at the end since both `doSomething()` and `doSomethingElse()` returns the appropriate type. I will try this and accept this solution later","body":"The 2nd/3rd approach might work. I was returning a DUMMY_MYTHING to ensure I never have an empty Mono&lt;MyThing&gt;, but I think wrapping it in an optional and checking <code>.isPresent()</code> is a cleaner approach. Don&#39;t think I need the <code>.then()</code> at the end since both <code>doSomething()</code> and <code>doSomethingElse()</code> returns the appropriate type. I will try this and accept this solution later"},{"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"score":0,"creation_date":1617142687,"post_id":66879026,"comment_id":118220491,"body_markdown":"@kane It shouldn&#39;t break the flow - `then()` doesn&#39;t complete right away, it just replays the complete / error signals from the publisher, ignoring any value that may be emitted. It seems like that&#39;s what the current behaviour is doing anyway?","body":"@kane It shouldn&#39;t break the flow - <code>then()</code> doesn&#39;t complete right away, it just replays the complete / error signals from the publisher, ignoring any value that may be emitted. It seems like that&#39;s what the current behaviour is doing anyway?"}],"tags":[],"owner":{"account_id":264830,"reputation":70811,"user_id":551406,"accept_rate":95,"display_name":"Michael Berry"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1617141773,"creation_date":1617141773,"answer_id":66879026,"question_id":66878485,"body_markdown":"There&#39;s a few ways you could do this. Since you&#39;re using `Mono&lt;Void&gt;` as the return type, you could do something like:\r\n\r\n    getMyThing()\r\n            .delayUntil(thing -&gt; doSomething())\r\n            .switchIfEmpty(doSomethingElse().cast(String.class))\r\n            .then()\r\n\r\n...but that&#39;s not the neatest or clearest IMHO. It&#39;s a bit more verbose, but I&#39;d be tempted to map to an optional as so:\r\n\r\n    getMyThing().map(Optional::of).defaultIfEmpty(Optional.empty())\r\n            .flatMap(thing -&gt; thing.isPresent() ? doSomething() : doSomethingElse())\r\n            .then()\r\n\r\nIf you need to do this often, you might consider a transformation utility method:\r\n\r\n    public static &lt;T&gt; Mono&lt;Optional&lt;T&gt;&gt; optional(Mono&lt;T&gt; mono) {\r\n        return mono.map(Optional::of).defaultIfEmpty(Optional.empty());\r\n    }\r\n\r\n...which would then enable you to just do `getMyThing().transform(Utils::optional)` rather than do the explicit mapping / default each time.\r\n","title":"How to call switchIfEmpty when the flatMap returns an empty Mono?","body":"<p>There's a few ways you could do this. Since you're using <code>Mono&lt;Void&gt;</code> as the return type, you could do something like:</p>\n<pre><code>getMyThing()\n        .delayUntil(thing -&gt; doSomething())\n        .switchIfEmpty(doSomethingElse().cast(String.class))\n        .then()\n</code></pre>\n<p>...but that's not the neatest or clearest IMHO. It's a bit more verbose, but I'd be tempted to map to an optional as so:</p>\n<pre><code>getMyThing().map(Optional::of).defaultIfEmpty(Optional.empty())\n        .flatMap(thing -&gt; thing.isPresent() ? doSomething() : doSomethingElse())\n        .then()\n</code></pre>\n<p>If you need to do this often, you might consider a transformation utility method:</p>\n<pre><code>public static &lt;T&gt; Mono&lt;Optional&lt;T&gt;&gt; optional(Mono&lt;T&gt; mono) {\n    return mono.map(Optional::of).defaultIfEmpty(Optional.empty());\n}\n</code></pre>\n<p>...which would then enable you to just do <code>getMyThing().transform(Utils::optional)</code> rather than do the explicit mapping / default each time.</p>\n"},{"tags":[],"owner":{"account_id":11725318,"reputation":131,"user_id":8582831,"display_name":"Kar Fung"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701683346,"creation_date":1701683346,"answer_id":77598476,"question_id":66878485,"body_markdown":"Instead of calling `.flatMap()` first, you can try calling `.switchIfEmpty()` and make it always return `Mono.empty()`.\r\n\r\nWhen myThing is empty, it will trigger the `doSomethingElse()` which then return `Mono.empty()` and `doSomething()` will not be called.\r\n\r\nSample: \r\n\r\n      Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n          Mono&lt;MyThing&gt; myThing = getMyThing();\r\n          return myThing\r\n            .switchIfEmpty(Mono.defer(() -&gt; {\r\n              Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\r\n              return somethingElseMono.then(Mono.empty());\r\n            })\r\n            .flatMap(thing -&gt; {\r\n              Mono&lt;Void&gt; somethingMono = doSomething();\r\n              return somethingMono;\r\n            });\r\n        }","title":"How to call switchIfEmpty when the flatMap returns an empty Mono?","body":"<p>Instead of calling <code>.flatMap()</code> first, you can try calling <code>.switchIfEmpty()</code> and make it always return <code>Mono.empty()</code>.</p>\n<p>When myThing is empty, it will trigger the <code>doSomethingElse()</code> which then return <code>Mono.empty()</code> and <code>doSomething()</code> will not be called.</p>\n<p>Sample:</p>\n<pre><code>  Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n      Mono&lt;MyThing&gt; myThing = getMyThing();\n      return myThing\n        .switchIfEmpty(Mono.defer(() -&gt; {\n          Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\n          return somethingElseMono.then(Mono.empty());\n        })\n        .flatMap(thing -&gt; {\n          Mono&lt;Void&gt; somethingMono = doSomething();\n          return somethingMono;\n        });\n    }\n</code></pre>\n"}],"owner":{"account_id":990443,"reputation":5575,"user_id":1007922,"accept_rate":52,"display_name":"kane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4954,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66879026,"answer_count":2,"score":2,"last_activity_date":1701683346,"creation_date":1617138342,"question_id":66878485,"body_markdown":"My title sounds confusing so let me explain with some imperative pseudo code for what I&#39;m trying to do \r\n\r\n    Mono&lt;Void&gt; func() {\r\n      Mono&lt;MyThing&gt; myThing = getMyThing();\r\n      if myThing is not empty:\r\n        return doSomething();\r\n      else:\r\n        return doSomethingElse();\r\n    }\r\n\r\nHere&#39;s where I&#39;m stuck when I try to do this reactively:\r\n\r\n    Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n      Mono&lt;MyThing&gt; myThing = getMyThing();\r\n      return myThing\r\n        .flatMap(thing -&gt; {\r\n          Mono&lt;Void&gt; somethingMono = doSomething();\r\n          return somethingMono;\r\n        })\r\n        .switchIfEmpty(Mono.defer(() -&gt; {\r\n          Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\r\n          return somethingElseMono;\r\n        });\r\n    }\r\n\r\nThis works fine when `myThing` is empty. It skips the `.flatMap()` and executes the `.switchIfEmpty()` statement.\r\n\r\nHowever, when `myThing` is not empty, it executes `.flatMap()` which is what I want. But the flatMap returns a `Mono&lt;Void&gt;` which triggers the subsequent `.switchIfEmpty()` method.\r\n\r\nI tried swapping the position of the `.flatMap()` and `.switchIfEmpty()` but that doesn&#39;t work either because the `.switchIfEmpty()` returns a `Mono&lt;Void&gt;` whereas the `.flatMap()` expects a `Mono&lt;MyThing&gt;`.\r\n\r\nThis seems like a common pattern so wondering what&#39;s the right way to do this.","title":"How to call switchIfEmpty when the flatMap returns an empty Mono?","body":"<p>My title sounds confusing so let me explain with some imperative pseudo code for what I'm trying to do</p>\n<pre><code>Mono&lt;Void&gt; func() {\n  Mono&lt;MyThing&gt; myThing = getMyThing();\n  if myThing is not empty:\n    return doSomething();\n  else:\n    return doSomethingElse();\n}\n</code></pre>\n<p>Here's where I'm stuck when I try to do this reactively:</p>\n<pre><code>Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n  Mono&lt;MyThing&gt; myThing = getMyThing();\n  return myThing\n    .flatMap(thing -&gt; {\n      Mono&lt;Void&gt; somethingMono = doSomething();\n      return somethingMono;\n    })\n    .switchIfEmpty(Mono.defer(() -&gt; {\n      Mono&lt;Void&gt; somethingElseMono = doSomethingElse();\n      return somethingElseMono;\n    });\n}\n</code></pre>\n<p>This works fine when <code>myThing</code> is empty. It skips the <code>.flatMap()</code> and executes the <code>.switchIfEmpty()</code> statement.</p>\n<p>However, when <code>myThing</code> is not empty, it executes <code>.flatMap()</code> which is what I want. But the flatMap returns a <code>Mono&lt;Void&gt;</code> which triggers the subsequent <code>.switchIfEmpty()</code> method.</p>\n<p>I tried swapping the position of the <code>.flatMap()</code> and <code>.switchIfEmpty()</code> but that doesn't work either because the <code>.switchIfEmpty()</code> returns a <code>Mono&lt;Void&gt;</code> whereas the <code>.flatMap()</code> expects a <code>Mono&lt;MyThing&gt;</code>.</p>\n<p>This seems like a common pattern so wondering what's the right way to do this.</p>\n"},{"tags":["java","javafx","jpackage"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1701569204,"post_id":77591164,"comment_id":136792006,"body_markdown":"`--rsource-dir` is not for the kind of resources you&#39;re talking about; ignore that option for now, as it&#39;s for more advanced use cases. Just package the compiled code and resources in a JAR file, then point `jpackage` at said JAR file via `--module-path` (also include the JavaFX on the path, either the JMOD files or the JAR files if you got them from Maven Central). You can use `--module` to tell `jpackage` the main module/main class name.","body":"<code>--rsource-dir</code> is not for the kind of resources you&#39;re talking about; ignore that option for now, as it&#39;s for more advanced use cases. Just package the compiled code and resources in a JAR file, then point <code>jpackage</code> at said JAR file via <code>--module-path</code> (also include the JavaFX on the path, either the JMOD files or the JAR files if you got them from Maven Central). You can use <code>--module</code> to tell <code>jpackage</code> the main module/main class name."},{"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"score":0,"creation_date":1701577496,"post_id":77591164,"comment_id":136792401,"body_markdown":"could it be related to [this bug](https://youtrack.jetbrains.com/issue/IDEA-197469) ?","body":"could it be related to <a href=\"https://youtrack.jetbrains.com/issue/IDEA-197469\" rel=\"nofollow noreferrer\">this bug</a> ?"}],"answers":[{"comments":[{"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"score":0,"creation_date":1701541176,"post_id":77591323,"comment_id":136789613,"body_markdown":"Thanks, I have used Launch4J before, but I don&#39;t understand how to include the resources in the tools that are presented in this article","body":"Thanks, I have used Launch4J before, but I don&#39;t understand how to include the resources in the tools that are presented in this article"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1701552468,"post_id":77591323,"comment_id":136790776,"body_markdown":"Please do not use launch4j. It is buggy and it does not work half as good as jpackage.","body":"Please do not use launch4j. It is buggy and it does not work half as good as jpackage."}],"tags":[],"owner":{"account_id":24596695,"reputation":121,"user_id":18499990,"display_name":"SpaciousCoder78"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701536313,"creation_date":1701536313,"answer_id":77591323,"question_id":77591164,"body_markdown":"Look into [Launch4j][1].\r\n\r\nPackage your app as a `.jar` file and then use Launch4j to convert it into an `.exe` file.\r\n\r\n\r\n  [1]: http://launch4j.sourceforge.net/","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Look into <a href=\"http://launch4j.sourceforge.net/\" rel=\"nofollow noreferrer\">Launch4j</a>.</p>\n<p>Package your app as a <code>.jar</code> file and then use Launch4j to convert it into an <code>.exe</code> file.</p>\n"},{"comments":[{"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"score":0,"creation_date":1701556667,"post_id":77592249,"comment_id":136791155,"body_markdown":"Thanks David,\nI had seen a lot of articles (including Baeldung), and courses on modules, but rereading the documentation I don&#39;t understand when or how to add the resources folder.\nAccording to the documentation --resource-dir path is used to override jpackage resources, so resources is already included.\nI understand that the resources folder must be in my module, therefore at the level of this command and/or the module-info file, rather than with JPackage?\ndir /s /b *.java &gt; sources.txt &amp; javac --module-path %PATH_TO_FX_JMODS% -d mods/helloworldfx @sources.txt -&gt; Am I on the wrong track?","body":"Thanks David, I had seen a lot of articles (including Baeldung), and courses on modules, but rereading the documentation I don&#39;t understand when or how to add the resources folder. According to the documentation --resource-dir path is used to override jpackage resources, so resources is already included. I understand that the resources folder must be in my module, therefore at the level of this command and/or the module-info file, rather than with JPackage? dir /s /b *.java &gt; sources.txt &amp; javac --module-path %PATH_TO_FX_JMODS% -d mods/helloworldfx @sources.txt -&gt; Am I on the wrong track?"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1701593450,"post_id":77592249,"comment_id":136793325,"body_markdown":"Please take a look at @Slaw &#39;s answer. He described it very well.","body":"Please take a look at @Slaw &#39;s answer. He described it very well."}],"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701552427,"creation_date":1701552427,"answer_id":77592249,"question_id":77591164,"body_markdown":"Take a look at &quot;jpackage&quot;. It is the official tool for packaging Java applications.\r\n\r\nIt will fit all your needs, it is easy to use, it is complete documented and it comes preinstalled with the JDK.\r\n\r\nhttps://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\r\n\r\nhttps://www.baeldung.com/java14-jpackage","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Take a look at &quot;jpackage&quot;. It is the official tool for packaging Java applications.</p>\n<p>It will fit all your needs, it is easy to use, it is complete documented and it comes preinstalled with the JDK.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/14/docs/specs/man/jpackage.html</a></p>\n<p><a href=\"https://www.baeldung.com/java14-jpackage\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java14-jpackage</a></p>\n"},{"tags":[],"owner":{"account_id":11686705,"reputation":904,"user_id":8556269,"display_name":"SDIDSA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701577029,"creation_date":1701577029,"answer_id":77593013,"question_id":77591164,"body_markdown":"If you want to do it manually you can make a folder that contains the following elements \r\n\r\n - bin : the compiled code of your app\r\n - lib : dependencies (preferably as jar files)\r\n - res : resources\r\n - rt : java runtime (the version must be compatible with your compiled code)\r\n\r\nThe structure of the files is up to you and it might look something like this\r\n\r\n````\r\n└───build_folder\r\n    ├───bin\r\n    ├───lib\r\n    ├───res\r\n    └───rt\r\n````\r\n\r\nAfter that you can check if the setup is working by launching the compiled code using the copied jre, you can open a cmd inside the build folder and type this command\r\n\r\n``` &quot;rt/bin/java&quot; -cp &quot;bin;res;lib/*&quot; MainClass ```\r\n\r\nIf it works you can make a simple bat file with only the command above in it, Running the bat file will launch the code in bin/ using the jre in rt/ while taking res and lib into the classpath\r\n\r\nYou can already zip the deploy folder and deploy it into another computer, and it should still work simply by extracting the folder and running the bat.\r\n\r\nIf you want a more native integration with Windows you can convert the bat into an Exe (there are tools for that online and I can&#39;t recommend any).\r\n\r\nYou can also package the deploy folder into a native installer, see [InnoSetup](https://jrsoftware.org/isinfo.php) or [NSIS](https://nsis.sourceforge.io/Main_Page), a native installer would offer options like shortcuts and file type associations.\r\n\r\nAlso starting from java 11 you can make use of [jlink](https://docs.oracle.com/en/java/javase/11/tools/jlink.html) and [jdeps](https://docs.oracle.com/en/java/javase/11/tools/jdeps.html), which are command line tools that allow you to analyse the dependencies of your project and generate a minimal java runtime getting rid of unneeded modules.\r\n\r\n## Note :\r\nevery step starting from the creation of the bat file is specific to windows, targeting other operating systems would require a little effort, while the [jpackage](https://docs.oracle.com/en/java/javase/15/docs/specs/man/jpackage.html) tool already does this \r\n\r\n&gt; The jpackage tool will take as input a Java application and a Java run-time image, and produce a Java application image that includes all the necessary dependencies. It will be able to produce a native package in a platform-specific format, such as an exe on Windows or a dmg on macOS.\r\n","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>If you want to do it manually you can make a folder that contains the following elements</p>\n<ul>\n<li>bin : the compiled code of your app</li>\n<li>lib : dependencies (preferably as jar files)</li>\n<li>res : resources</li>\n<li>rt : java runtime (the version must be compatible with your compiled code)</li>\n</ul>\n<p>The structure of the files is up to you and it might look something like this</p>\n<pre><code>└───build_folder\n    ├───bin\n    ├───lib\n    ├───res\n    └───rt\n</code></pre>\n<p>After that you can check if the setup is working by launching the compiled code using the copied jre, you can open a cmd inside the build folder and type this command</p>\n<p><code>&quot;rt/bin/java&quot; -cp &quot;bin;res;lib/*&quot; MainClass</code></p>\n<p>If it works you can make a simple bat file with only the command above in it, Running the bat file will launch the code in bin/ using the jre in rt/ while taking res and lib into the classpath</p>\n<p>You can already zip the deploy folder and deploy it into another computer, and it should still work simply by extracting the folder and running the bat.</p>\n<p>If you want a more native integration with Windows you can convert the bat into an Exe (there are tools for that online and I can't recommend any).</p>\n<p>You can also package the deploy folder into a native installer, see <a href=\"https://jrsoftware.org/isinfo.php\" rel=\"nofollow noreferrer\">InnoSetup</a> or <a href=\"https://nsis.sourceforge.io/Main_Page\" rel=\"nofollow noreferrer\">NSIS</a>, a native installer would offer options like shortcuts and file type associations.</p>\n<p>Also starting from java 11 you can make use of <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jlink.html\" rel=\"nofollow noreferrer\">jlink</a> and <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jdeps.html\" rel=\"nofollow noreferrer\">jdeps</a>, which are command line tools that allow you to analyse the dependencies of your project and generate a minimal java runtime getting rid of unneeded modules.</p>\n<h2>Note :</h2>\n<p>every step starting from the creation of the bat file is specific to windows, targeting other operating systems would require a little effort, while the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/specs/man/jpackage.html\" rel=\"nofollow noreferrer\">jpackage</a> tool already does this</p>\n<blockquote>\n<p>The jpackage tool will take as input a Java application and a Java run-time image, and produce a Java application image that includes all the necessary dependencies. It will be able to produce a native package in a platform-specific format, such as an exe on Windows or a dmg on macOS.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"score":0,"creation_date":1701619805,"post_id":77593183,"comment_id":136795734,"body_markdown":"thanks Slaw, you create the .jar of the compiled files, and you add the .jar of the resources. Do you know if there is another way to do this without using .jar?\n\nThe Maven pom.xml used is the one generated by default for a JavaFX project with IntelliJ Idea; and to do the equivalent of these commands, it looks like IntelliJ Idea configuration.","body":"thanks Slaw, you create the .jar of the compiled files, and you add the .jar of the resources. Do you know if there is another way to do this without using .jar?  The Maven pom.xml used is the one generated by default for a JavaFX project with IntelliJ Idea; and to do the equivalent of these commands, it looks like IntelliJ Idea configuration."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701669040,"post_id":77593183,"comment_id":136799935,"body_markdown":"If you&#39;re using Maven, then you can modify the POM file and add a goal to execute jpackage. There are at least two plugins out there, [com.github.akman:jpackage-maven-plugin](https://github.com/Akman/jpackage-maven-plugin) and [org.panteleyev:jpackage-maven-plugin](https://github.com/petr-panteleyev/jpackage-maven-plugin), that can help with this. Or you could probably use the [exec-maven-plugin](https://www.mojohaus.org/exec-maven-plugin/).","body":"If you&#39;re using Maven, then you can modify the POM file and add a goal to execute jpackage. There are at least two plugins out there, <a href=\"https://github.com/Akman/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">com.github.akman:jpackage-maven-plugin</a> and <a href=\"https://github.com/petr-panteleyev/jpackage-maven-plugin\" rel=\"nofollow noreferrer\">org.panteleyev:jpackage-maven-plugin</a>, that can help with this. Or you could probably use the <a href=\"https://www.mojohaus.org/exec-maven-plugin/\" rel=\"nofollow noreferrer\">exec-maven-plugin</a>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1701677649,"post_id":77593183,"comment_id":136800841,"body_markdown":"Note you don&#39;t have to compile your code or create the JAR &quot;manually&quot;. You can just have Maven do it for you: `mvn compile jar:jar`. The built JAR file (which will be in the `target` directory by default) will include both the compiled code and the resources.","body":"Note you don&#39;t have to compile your code or create the JAR &quot;manually&quot;. You can just have Maven do it for you: <code>mvn compile jar:jar</code>. The built JAR file (which will be in the <code>target</code> directory by default) will include both the compiled code and the resources."},{"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"score":0,"creation_date":1701693362,"post_id":77593183,"comment_id":136803380,"body_markdown":"Ok [like that](https://stackoverflow.com/a/77596207/23027727), and I&#39;ve made an exec Maven goal for jpackage command. Thanks Slaw","body":"Ok <a href=\"https://stackoverflow.com/a/77596207/23027727\">like that</a>, and I&#39;ve made an exec Maven goal for jpackage command. Thanks Slaw"}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701583197,"creation_date":1701582870,"answer_id":77593183,"question_id":77591164,"body_markdown":"The `--resource-dir` option is not for the kind of resources you&#39;re talking about. You can ignore this option for now; it&#39;s for more advanced use cases. The files under `src/main/resources` are meant to be embedded on the class-path/module-path. Typically, this means they should be packaged in a JAR file along with the class files of the project. This setup will continue to &quot;just work&quot; after adding your module to a custom run-time image.\r\n\r\nAssuming you want to use `jpackage` manually, then based on your directory structure, the following sequence of (minimal) commands should work for you on Windows using PowerShell (Core 7.4.0):\r\n\r\n```sh\r\n$sources = Get-ChildItem src/main/java -r -i *.java | Resolve-Path -Relative\r\njavac -sourcepath src/main/java -p &quot;$env:path_to_fx_jmods&quot; -d out/classes $sources\r\njar -cf out/app.jar -C out/classes .\r\njar -uf out/app.jar -C src/main/resources .\r\njpackage -t app-image -p &quot;$env:path_to_fx_jmods;out/app.jar&quot; -m &lt;module&gt; -d out/app-image\r\n```\r\n\r\n&lt;sup&gt;**Note:** All commands should be executed from the parent directory of `src`.&lt;/sup&gt;\r\n\r\nWhere `&lt;module&gt;` is replaced by the main module name and main class name. For example, if your main module&#39;s name is `app` and your main class&#39;s name is `helloworld.HelloWorldFX`, then you would replace `&lt;module&gt;` with `app/helloworld.HelloWorldFX`. If you set the main class attribute of the JAR file, then you can omit the class name (and the forward slash) and just specify the module name.\r\n\r\nThis also assumes you have an environment variable `PATH_TO_FX_JOMDS` and that it points to where the JavaFX JMOD files are located. I made this assumption because [one of your comments][1] suggests this environment variable exists. If this assumption is incorrect, then replace `$env:path_to_fx_jmods` with the correct value. Note it&#39;s paramount the appropriate native code of JavaFX is included in the application image. That means using the JAR files from Maven Central, as they embed the native code, or the JMOD files (the cleaner option when viable).\r\n\r\nAll that said, I recommend you use a build tool such as Maven or Gradle. It will make this all easier in the long run. See [Getting Started with JavaFX][2] for details on setting up a JavaFX project with Maven or Gradle. Note that build tools are something you use in addition to an IDE (and the IDE should delegate most, if not all, build tasks to the build tool).&#160;Both Maven and Gradle have plugins that can work with `jpackage`.\r\n\r\n\r\n\r\n   [1]: https://stackoverflow.com/questions/77591164/package-a-javafx-application-as-a-native-executable-with-resources#comment136791155_77592249\r\n  [2]: https://openjfx.io/openjfx-docs/\r\n","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>The <code>--resource-dir</code> option is not for the kind of resources you're talking about. You can ignore this option for now; it's for more advanced use cases. The files under <code>src/main/resources</code> are meant to be embedded on the class-path/module-path. Typically, this means they should be packaged in a JAR file along with the class files of the project. This setup will continue to &quot;just work&quot; after adding your module to a custom run-time image.</p>\n<p>Assuming you want to use <code>jpackage</code> manually, then based on your directory structure, the following sequence of (minimal) commands should work for you on Windows using PowerShell (Core 7.4.0):</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$sources = Get-ChildItem src/main/java -r -i *.java | Resolve-Path -Relative\njavac -sourcepath src/main/java -p &quot;$env:path_to_fx_jmods&quot; -d out/classes $sources\njar -cf out/app.jar -C out/classes .\njar -uf out/app.jar -C src/main/resources .\njpackage -t app-image -p &quot;$env:path_to_fx_jmods;out/app.jar&quot; -m &lt;module&gt; -d out/app-image\n</code></pre>\n<p><sup><strong>Note:</strong> All commands should be executed from the parent directory of <code>src</code>.</sup></p>\n<p>Where <code>&lt;module&gt;</code> is replaced by the main module name and main class name. For example, if your main module's name is <code>app</code> and your main class's name is <code>helloworld.HelloWorldFX</code>, then you would replace <code>&lt;module&gt;</code> with <code>app/helloworld.HelloWorldFX</code>. If you set the main class attribute of the JAR file, then you can omit the class name (and the forward slash) and just specify the module name.</p>\n<p>This also assumes you have an environment variable <code>PATH_TO_FX_JOMDS</code> and that it points to where the JavaFX JMOD files are located. I made this assumption because <a href=\"https://stackoverflow.com/questions/77591164/package-a-javafx-application-as-a-native-executable-with-resources#comment136791155_77592249\">one of your comments</a> suggests this environment variable exists. If this assumption is incorrect, then replace <code>$env:path_to_fx_jmods</code> with the correct value. Note it's paramount the appropriate native code of JavaFX is included in the application image. That means using the JAR files from Maven Central, as they embed the native code, or the JMOD files (the cleaner option when viable).</p>\n<p>All that said, I recommend you use a build tool such as Maven or Gradle. It will make this all easier in the long run. See <a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">Getting Started with JavaFX</a> for details on setting up a JavaFX project with Maven or Gradle. Note that build tools are something you use in addition to an IDE (and the IDE should delegate most, if not all, build tasks to the build tool). Both Maven and Gradle have plugins that can work with <code>jpackage</code>.</p>\n"},{"tags":[],"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701682686,"creation_date":1701638147,"answer_id":77596207,"question_id":77591164,"body_markdown":"Based on the article, @slaw&#39;s answer, respecting the tree structure chosen in my question, and for a Microsoft Installer (msi) file:\r\n\r\n1.Maven lifecycle &gt; package\r\n\r\n2.jpackage to msi :\r\n\r\n    jpackage \r\n     --dest output \r\n     --name ShiftingCircle \r\n     --type msi \r\n     --module-path &quot;%PATH_TO_FX_JMODS%;target/&lt;NAME&gt;.jar&quot; \r\n     --add-modules helloworldfx \r\n     --module helloworldfx/helloworld.HelloWorldFX \r\n     --win-shortcut --win-menu \r\n     --java-options -Xmx2048m","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Based on the article, @slaw's answer, respecting the tree structure chosen in my question, and for a Microsoft Installer (msi) file:</p>\n<p>1.Maven lifecycle &gt; package</p>\n<p>2.jpackage to msi :</p>\n<pre><code>jpackage \n --dest output \n --name ShiftingCircle \n --type msi \n --module-path &quot;%PATH_TO_FX_JMODS%;target/&lt;NAME&gt;.jar&quot; \n --add-modules helloworldfx \n --module helloworldfx/helloworld.HelloWorldFX \n --win-shortcut --win-menu \n --java-options -Xmx2048m\n</code></pre>\n"}],"owner":{"account_id":30048682,"reputation":13,"user_id":23027727,"display_name":"2023"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77593183,"answer_count":5,"score":0,"last_activity_date":1701682686,"creation_date":1701533931,"question_id":77591164,"body_markdown":"Based on [**this article**](https://inside.java/2023/11/14/package-javafx-native-exec/), and with a default JavaFX tree from IntelliJ Idea (see below), how do I add all resources to commands so that they can be used natively (with getClass().getResource(&quot;/style/style.css&quot;) or some other way)?\r\n\r\n&lt;pre&gt;\r\nsrc\r\n|_ main\r\n   |_ java\r\n      |_ helloworld\r\n         |_ HelloWordlFX\r\n      |_ module-info.java\r\n   &lt;b&gt;|_ resources\r\n      |_ fonts\r\n         |_ openssans\r\n            |_ opensansregular.ttf\r\n      |_ pictures\r\n         |_ icon.ico\r\n      |_ style\r\n         |_ styles.css\r\n      |_ fxml\r\n         |_ sample.fxml&lt;/b&gt;\r\n...\r\n&lt;/pre&gt;\r\nSincerely,\r\n\r\nI&#39;m wondering if I should transform the resource folder into a jar, and load it as a module, if there is a specific command to include it in my module, or if the solution lies in using JPackage.\r\nI tried `--resource-dir src/main/resources` with jpackage but to no avail.","title":"Package a JavaFX Application as a Native Executable WITH resources","body":"<p>Based on <a href=\"https://inside.java/2023/11/14/package-javafx-native-exec/\" rel=\"nofollow noreferrer\"><strong>this article</strong></a>, and with a default JavaFX tree from IntelliJ Idea (see below), how do I add all resources to commands so that they can be used natively (with getClass().getResource(&quot;/style/style.css&quot;) or some other way)?</p>\n<pre>\nsrc\n|_ main\n   |_ java\n      |_ helloworld\n         |_ HelloWordlFX\n      |_ module-info.java\n   <b>|_ resources\n      |_ fonts\n         |_ openssans\n            |_ opensansregular.ttf\n      |_ pictures\n         |_ icon.ico\n      |_ style\n         |_ styles.css\n      |_ fxml\n         |_ sample.fxml</b>\n...\n</pre>\n<p>Sincerely,</p>\n<p>I'm wondering if I should transform the resource folder into a jar, and load it as a module, if there is a specific command to include it in my module, or if the solution lies in using JPackage.\nI tried <code>--resource-dir src/main/resources</code> with jpackage but to no avail.</p>\n"},{"tags":["java","micronaut","micronaut-client","micronaut-openapi"],"owner":{"account_id":2810815,"reputation":175,"user_id":2417100,"display_name":"wolle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701682391,"creation_date":1701682391,"question_id":77598397,"body_markdown":"hopefully somebody has some more clue than me.\r\nI have an application with multiple modules built like in this documentation https://guides.micronaut.io/latest/micronaut-openapi-generator-client-maven-java.html\r\n\r\nI can see the configuration of the base path of the generated declarative client `openapi-micronaut-client-base-path=https://api.open-meteo.com/` but my server being called needs some basic authentication to be able to work with. I have different clients and they all need some different configurations. \r\n\r\nI need a hint how to configure a specific client (in best case only by changing the configuration file)\r\n","title":"Configure authentications of multiple micronaut declarative clients generated by openapi generator","body":"<p>hopefully somebody has some more clue than me.\nI have an application with multiple modules built like in this documentation <a href=\"https://guides.micronaut.io/latest/micronaut-openapi-generator-client-maven-java.html\" rel=\"nofollow noreferrer\">https://guides.micronaut.io/latest/micronaut-openapi-generator-client-maven-java.html</a></p>\n<p>I can see the configuration of the base path of the generated declarative client <code>openapi-micronaut-client-base-path=https://api.open-meteo.com/</code> but my server being called needs some basic authentication to be able to work with. I have different clients and they all need some different configurations.</p>\n<p>I need a hint how to configure a specific client (in best case only by changing the configuration file)</p>\n"},{"tags":["java","selenium-webdriver","firefox"],"answers":[{"comments":[{"owner":{"account_id":30052522,"reputation":1,"user_id":23030627,"display_name":"Sujan Prathi"},"score":0,"creation_date":1701698012,"post_id":77598376,"comment_id":136804261,"body_markdown":"Thanks for suggesting. I replaced the backslash with double backslash and also added firefoxprofile+options and it worked. Got a new problem though. Thank you though!","body":"Thanks for suggesting. I replaced the backslash with double backslash and also added firefoxprofile+options and it worked. Got a new problem though. Thank you though!"},{"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1701698586,"post_id":77598376,"comment_id":136804387,"body_markdown":"Glad it worked.[What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"Glad it worked.<a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}],"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701682241,"creation_date":1701682241,"answer_id":77598376,"question_id":77593216,"body_markdown":"In Java, single backslashes (`\\`) are escape characters, so you need to use either double backslashes or a forward slash in the path.\r\n\r\nChange your code as below:\r\n````\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\\\geckodriver.exe&quot;);\r\nWebDriver driver = new FirefoxDriver();\r\n````","title":"Selenium Firefox-Unable to locate an Web Element. Works on chrome and edge","body":"<p>In Java, single backslashes (<code>\\</code>) are escape characters, so you need to use either double backslashes or a forward slash in the path.</p>\n<p>Change your code as below:</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\\\geckodriver.exe&quot;);\nWebDriver driver = new FirefoxDriver();\n</code></pre>\n"}],"owner":{"account_id":30052522,"reputation":1,"user_id":23030627,"display_name":"Sujan Prathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701682241,"creation_date":1701583973,"question_id":77593216,"body_markdown":"I have a piece of code that works on Chrome and Edge but failing in Firefox browser. The page gets loaded but unable to identify a web element. Is there any step I should follow(like profile settings) while initializing the geckodriver? Need help in identifying the problem:\r\n\r\nCode-\r\n```\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\geckodriver.exe&quot;);\r\nprivate static WebDriver driver = new FirefoxDriver();\r\n```\r\n\r\nI tried locating the web element on firefox and its found on DOM. I have used `implicitwait()`. The page gets loaded and element visible. But somehow Firefox driver is not able to identify the element.","title":"Selenium Firefox-Unable to locate an Web Element. Works on chrome and edge","body":"<p>I have a piece of code that works on Chrome and Edge but failing in Firefox browser. The page gets loaded but unable to identify a web element. Is there any step I should follow(like profile settings) while initializing the geckodriver? Need help in identifying the problem:</p>\n<p>Code-</p>\n<pre><code>System.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;&lt;path&gt;\\geckodriver.exe&quot;);\nprivate static WebDriver driver = new FirefoxDriver();\n</code></pre>\n<p>I tried locating the web element on firefox and its found on DOM. I have used <code>implicitwait()</code>. The page gets loaded and element visible. But somehow Firefox driver is not able to identify the element.</p>\n"},{"tags":["javascript","java","http","cookies","cors"],"comments":[{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":2,"creation_date":1700485636,"post_id":77515837,"comment_id":136656634,"body_markdown":"Was that first request, the POST, also made with `withCredentials` set to true?","body":"Was that first request, the POST, also made with <code>withCredentials</code> set to true?"},{"owner":{"account_id":13020960,"reputation":5899,"user_id":9410412,"display_name":"ibrahim tanyalcin"},"score":1,"creation_date":1700486110,"post_id":77515837,"comment_id":136656722,"body_markdown":"if your server is sitting behind a reverse proxy like nginx, based on the inital server response (in your case 400), some headers might be stripped off. Nginx has some additinal config keyword &#39;always&#39; like in here: https://gist.github.com/Stanback/7145487","body":"if your server is sitting behind a reverse proxy like nginx, based on the inital server response (in your case 400), some headers might be stripped off. Nginx has some additinal config keyword &#39;always&#39; like in here: <a href=\"https://gist.github.com/Stanback/7145487\" rel=\"nofollow noreferrer\">gist.github.com/Stanback/7145487</a>"},{"owner":{"account_id":19789550,"reputation":33,"user_id":14492836,"display_name":"Alexander M."},"score":0,"creation_date":1700489529,"post_id":77515837,"comment_id":136657353,"body_markdown":"@CBroe no, the first request is sent without &quot;withCredentials=true&quot;, is this required ?","body":"@CBroe no, the first request is sent without &quot;withCredentials=true&quot;, is this required ?"},{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":2,"creation_date":1700490774,"post_id":77515837,"comment_id":136657598,"body_markdown":"Yes. https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials: _&quot;In addition, this flag is also used to indicate when cookies are **to be ignored in the response**. The default is false. XMLHttpRequest responses from a different domain cannot set cookie values for their own domain unless withCredentials is set to true before making the request.&quot;_","body":"Yes. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/withCredentials\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/&hellip;</a>: <i>&quot;In addition, this flag is also used to indicate when cookies are <b>to be ignored in the response</b>. The default is false. XMLHttpRequest responses from a different domain cannot set cookie values for their own domain unless withCredentials is set to true before making the request.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":19789550,"reputation":33,"user_id":14492836,"display_name":"Alexander M."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701682196,"creation_date":1701682196,"answer_id":77598371,"question_id":77515837,"body_markdown":"Credits to @CBroe\r\n\r\nThe correct solution was, to use ```withCredentials=true``` with the initial request, that will lead to the response setting the Cookie!","title":"Browser doesn&#39;t send Cookie when set trough cors-request","body":"<p>Credits to @CBroe</p>\n<p>The correct solution was, to use <code>withCredentials=true</code> with the initial request, that will lead to the response setting the Cookie!</p>\n"}],"owner":{"account_id":19789550,"reputation":33,"user_id":14492836,"display_name":"Alexander M."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77598371,"answer_count":1,"score":-1,"last_activity_date":1701682196,"creation_date":1700482451,"question_id":77515837,"body_markdown":"i struggle with a Cookie that is set trough a CORS request.\r\nSubsequentially the browser won&#39;t send the cookie.\r\n\r\nI tried:\r\n- adjusting cors-headers\r\n- sending allowCredentials client-side\r\n- SameSite=None flag\r\n\r\n\r\nThe Application (Browser) runs on the main domain (dev.mydomain.com/myApp)\r\n\r\nand sent&#39;s a request (via a integrated WebComponent) to another domain (second.mydomain.com), that set&#39;s the cookie.\r\n\r\n`POST https://second.mydomain.com/verifyToken =&gt; 200`\r\n\r\nIt responds:\r\n\r\n```\r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: https://dev.mydomain.com\r\nAccess-Control-Expose-Headers: Authorization\r\nAccess-Control-Allow-Credentials: true\r\nAuthorization: Bearer eyJra...\r\nSet-Cookie: refreshToken=eyJra...; Path=/refresh; Secure; HttpOnly; SameSite=None\r\n```\r\n\r\nThe Request that should contain the cookie looks like this:\r\n\r\n```\r\nGET https://second.mydomain.com/refresh =&gt; 400\r\n\r\nGET /refresh HTTP/1.1\r\n\r\nAccept: application/json, text/plain, */*\r\nAccept-Encoding: gzip, deflate, br\r\nAccept-Language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\r\nConnection: keep-alive\r\nDNT: 1\r\nHost: second.mydomain.com\r\nOrigin: https://dev.mydomain.com\r\nReferer: https://dev.mydomain.com/\r\n```\r\n\r\nThe Response-Headers:\r\n\r\n```\r\nHTTP/1.1 400\r\nDate: Mon, 20 Nov 2023 12:05:41 GMT\r\nContent-Length: 0\r\nConnection: keep-alive\r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nAccess-Control-Allow-Origin: https://dev.mydomain.com\r\nAccess-Control-Expose-Headers: Authorization\r\nAccess-Control-Allow-Credentials: true\r\nX-Content-Type-Options: nosniff\r\n```\r\n\r\n\r\nCan anyone give me a hint, why the cookie is not attached?\r\n\r\nI also tried setting the Domain= Attribute in the cookie. But the default behaviour should pick the request-url as domain (in this case: second.mydomain.com)\r\n\r\nThe request is sent via axios rest-client\r\n\r\n```\r\n axios.get(refreshPath, {withCredentials: true});\r\n\r\n``` \r\nI would really appreciate any hints.\r\n\r\n\r\nBest Regards\r\nAlex\r\n","title":"Browser doesn&#39;t send Cookie when set trough cors-request","body":"<p>i struggle with a Cookie that is set trough a CORS request.\nSubsequentially the browser won't send the cookie.</p>\n<p>I tried:</p>\n<ul>\n<li>adjusting cors-headers</li>\n<li>sending allowCredentials client-side</li>\n<li>SameSite=None flag</li>\n</ul>\n<p>The Application (Browser) runs on the main domain (dev.mydomain.com/myApp)</p>\n<p>and sent's a request (via a integrated WebComponent) to another domain (second.mydomain.com), that set's the cookie.</p>\n<p><code>POST https://second.mydomain.com/verifyToken =&gt; 200</code></p>\n<p>It responds:</p>\n<pre><code>Vary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: https://dev.mydomain.com\nAccess-Control-Expose-Headers: Authorization\nAccess-Control-Allow-Credentials: true\nAuthorization: Bearer eyJra...\nSet-Cookie: refreshToken=eyJra...; Path=/refresh; Secure; HttpOnly; SameSite=None\n</code></pre>\n<p>The Request that should contain the cookie looks like this:</p>\n<pre><code>GET https://second.mydomain.com/refresh =&gt; 400\n\nGET /refresh HTTP/1.1\n\nAccept: application/json, text/plain, */*\nAccept-Encoding: gzip, deflate, br\nAccept-Language: de-DE,de;q=0.9,en-US;q=0.8,en;q=0.7\nConnection: keep-alive\nDNT: 1\nHost: second.mydomain.com\nOrigin: https://dev.mydomain.com\nReferer: https://dev.mydomain.com/\n</code></pre>\n<p>The Response-Headers:</p>\n<pre><code>HTTP/1.1 400\nDate: Mon, 20 Nov 2023 12:05:41 GMT\nContent-Length: 0\nConnection: keep-alive\nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nAccess-Control-Allow-Origin: https://dev.mydomain.com\nAccess-Control-Expose-Headers: Authorization\nAccess-Control-Allow-Credentials: true\nX-Content-Type-Options: nosniff\n</code></pre>\n<p>Can anyone give me a hint, why the cookie is not attached?</p>\n<p>I also tried setting the Domain= Attribute in the cookie. But the default behaviour should pick the request-url as domain (in this case: second.mydomain.com)</p>\n<p>The request is sent via axios rest-client</p>\n<pre><code> axios.get(refreshPath, {withCredentials: true});\n\n</code></pre>\n<p>I would really appreciate any hints.</p>\n<p>Best Regards\nAlex</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1669416496,"post_id":74578326,"comment_id":131643442,"body_markdown":"What request did you send?","body":"What request did you send?"},{"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"score":0,"creation_date":1669416648,"post_id":74578326,"comment_id":131643460,"body_markdown":"added the request above. `localhost 8080`","body":"added the request above. <code>localhost 8080</code>"}],"answers":[{"comments":[{"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"score":0,"creation_date":1669416456,"post_id":74578406,"comment_id":131643430,"body_markdown":"added the pom file.","body":"added the pom file."},{"owner":{"account_id":3682586,"reputation":61,"user_id":3067189,"display_name":"Rusif Budagov"},"score":0,"creation_date":1669417512,"post_id":74578406,"comment_id":131643582,"body_markdown":"So before spring boot 3 version that case works by default. in Spring boot version 3.0.0 you need to add following small updates:\nOption 1:\njust replace from GetMapping to GetMapping(&quot;/&quot;)\nOption 2:\nAdd @RequestMapping(&quot;/&quot;) above to class after @RestController\nGood luck!","body":"So before spring boot 3 version that case works by default. in Spring boot version 3.0.0 you need to add following small updates: Option 1: just replace from GetMapping to GetMapping(&quot;/&quot;) Option 2: Add @RequestMapping(&quot;/&quot;) above to class after @RestController Good luck!"}],"tags":[],"owner":{"account_id":3682586,"reputation":61,"user_id":3067189,"display_name":"Rusif Budagov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669416230,"creation_date":1669416230,"answer_id":74578406,"question_id":74578326,"body_markdown":"Please share your pom.xml and application.properties too. because this codes look correctly. Perhaps there can be problem in those files.\r\n","title":"Java SpringBoot Always Returning 404 Status","body":"<p>Please share your pom.xml and application.properties too. because this codes look correctly. Perhaps there can be problem in those files.</p>\n"},{"tags":[],"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669417202,"creation_date":1669417202,"answer_id":74578480,"question_id":74578326,"body_markdown":"Figured out the issue. I guess you have to map it.\r\n\r\n \r\n\r\n     @GetMapping(&quot;/&quot;)\r\n      public String hello() {\r\n        return &quot;Hello World&quot;;\r\n      }","title":"Java SpringBoot Always Returning 404 Status","body":"<p>Figured out the issue. I guess you have to map it.</p>\n<pre><code> @GetMapping(&quot;/&quot;)\n  public String hello() {\n    return &quot;Hello World&quot;;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":270681,"reputation":539,"user_id":560773,"display_name":"KLMN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701682058,"creation_date":1701682058,"answer_id":77598358,"question_id":74578326,"body_markdown":"In my case, add ComponentScan in SpringBootApplication resolved 404 error:\r\n\r\n    @ComponentScan(value = {&quot;work.example.controller&quot;})","title":"Java SpringBoot Always Returning 404 Status","body":"<p>In my case, add ComponentScan in SpringBootApplication resolved 404 error:</p>\n<pre><code>@ComponentScan(value = {&quot;work.example.controller&quot;})\n</code></pre>\n"}],"owner":{"account_id":12733618,"reputation":634,"user_id":9249298,"display_name":"Nick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701682058,"creation_date":1669415414,"question_id":74578326,"body_markdown":"I am completely new to SpringBoot and i have following along with a Course on YT.\r\n\r\n**Request:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**DemoApplication.java**\r\n\r\n    package com.sbt.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @SpringBootApplication\r\n    @RestController\r\n    public class DemoApplication {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(DemoApplication.class, args);\r\n      }\r\n    \r\n      @GetMapping\r\n      public String hello() {\r\n        return &quot;Hello World&quot;;\r\n      }\r\n    }\r\n\r\n\r\nIn the course he is able to get a response of &quot;Hello World&quot; but i keep getting \r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Fri Nov 25 16:24:31 CST 2022\r\n    There was an unexpected error (type=Not Found, status=404).\r\n\r\n\r\nI&#39;ve added the `@RestController` annotation like other similar questions with answers to recommend, but i keep getting the error.\r\n\r\nI also restarted the server and retried and keeping getting the error.\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;project\r\n      xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n      xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n    &gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.sbt&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/csgPS.png","title":"Java SpringBoot Always Returning 404 Status","body":"<p>I am completely new to SpringBoot and i have following along with a Course on YT.</p>\n<p><strong>Request:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/csgPS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/csgPS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>DemoApplication.java</strong></p>\n<pre><code>package com.sbt.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class DemoApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n  }\n\n  @GetMapping\n  public String hello() {\n    return &quot;Hello World&quot;;\n  }\n}\n</code></pre>\n<p>In the course he is able to get a response of &quot;Hello World&quot; but i keep getting</p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nFri Nov 25 16:24:31 CST 2022\nThere was an unexpected error (type=Not Found, status=404).\n</code></pre>\n<p>I've added the <code>@RestController</code> annotation like other similar questions with answers to recommend, but i keep getting the error.</p>\n<p>I also restarted the server and retried and keeping getting the error.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;project\n  xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.sbt&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","multithreading","thread-safety","mdc"],"owner":{"account_id":18599666,"reputation":97,"user_id":13554790,"display_name":"Ares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701681975,"creation_date":1701681127,"question_id":77598277,"body_markdown":"\r\ni want to know the behaviour of the MDC when a thread is paused for example when a lock is put on a code , and the thread us reused at that time , he modifies the MDC and then when the pause finished and the first thread continues his task , the value of the keys could be modified and we could have inconsistencies in data?\r\nhere is my code : \r\n\r\n    public class AppLogger {\r\n\r\n\r\n\tprivate final Logger delegate;\r\n\r\n\tprivate static final Object mdcLock = new Object();\r\n\r\n\tpublic AppLogger(Logger delegate) {\r\n\t\t//for testing purposes\r\n\t\tthis.delegate = delegate;\r\n\t}\r\n\r\n\tprivate AppLogger(Class&lt;?&gt; aClass) {\r\n\t\tdelegate = LoggerFactory.getLogger(aClass);\r\n\t}\r\n\r\n\tpublic static AppLogger getLogger(Class&lt;?&gt; aClass) {\r\n\t\treturn new AppLogger(aClass);\r\n\t}\r\n\r\n\t/**\r\n\t * Log la {@code trace} applicative donn&#233;e, sans lever d&#39;alerte de supervision.\r\n\t */\r\n\tpublic void log(Level level, String code, String type, String message, Object... params) {\r\n\r\n\t\tupdateMetricsFromMDC(code, type);\r\n\t\tLevel niveau = Level.valueOf(level.name());\r\n\r\n\t\tswitch (niveau) {\r\n\t\t\tcase DEBUG -&gt; this.delegate.debug(message, params);\r\n\t\t\tcase INFO -&gt; this.delegate.info(message, params);\r\n\t\t\tcase WARNING -&gt; this.delegate.warn(message, params);\r\n\t\t\tcase ERROR -&gt; this.delegate.error(message, params);\r\n\t\t\tdefault -&gt; this.delegate.error(message, params);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void addMetricsToMDC(UUID uuid, String version) {\r\n\t\tremoveMetricsFromMDC();\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.put(&quot;UUID&quot;, uuid.toString());\r\n\t\t\tMDC.put(&quot;Version&quot;, version);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void updateMetricsFromMDC(String code, String type) {\r\n\t\tremoveCommonMetricsFromMDC();\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.put(&quot;Code&quot;, code);\r\n\t\t\tMDC.put(&quot;Type&quot;, type);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void removeMetricsFromMDC() {\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.remove(&quot;UUID&quot;);\r\n\t\t\tMDC.remove(&quot;Code&quot;);\r\n\t\t\tMDC.remove(&quot;Type&quot;);\r\n\t\t\tMDC.remove(&quot;Version&quot;);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static void removeCommonMetricsFromMDC() {\r\n\t\tsynchronized(mdcLock) {\r\n\t\t\tMDC.remove(&quot;Code&quot;);\r\n\t\t\tMDC.remove(&quot;Type&quot;);\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n","title":"MDC management when thread is paused","body":"<p>i want to know the behaviour of the MDC when a thread is paused for example when a lock is put on a code , and the thread us reused at that time , he modifies the MDC and then when the pause finished and the first thread continues his task , the value of the keys could be modified and we could have inconsistencies in data?\nhere is my code :</p>\n<pre><code>public class AppLogger {\n\n\nprivate final Logger delegate;\n\nprivate static final Object mdcLock = new Object();\n\npublic AppLogger(Logger delegate) {\n    //for testing purposes\n    this.delegate = delegate;\n}\n\nprivate AppLogger(Class&lt;?&gt; aClass) {\n    delegate = LoggerFactory.getLogger(aClass);\n}\n\npublic static AppLogger getLogger(Class&lt;?&gt; aClass) {\n    return new AppLogger(aClass);\n}\n\n/**\n * Log la {@code trace} applicative donnée, sans lever d'alerte de supervision.\n */\npublic void log(Level level, String code, String type, String message, Object... params) {\n\n    updateMetricsFromMDC(code, type);\n    Level niveau = Level.valueOf(level.name());\n\n    switch (niveau) {\n        case DEBUG -&gt; this.delegate.debug(message, params);\n        case INFO -&gt; this.delegate.info(message, params);\n        case WARNING -&gt; this.delegate.warn(message, params);\n        case ERROR -&gt; this.delegate.error(message, params);\n        default -&gt; this.delegate.error(message, params);\n    }\n}\n\npublic void addMetricsToMDC(UUID uuid, String version) {\n    removeMetricsFromMDC();\n    synchronized(mdcLock) {\n        MDC.put(&quot;UUID&quot;, uuid.toString());\n        MDC.put(&quot;Version&quot;, version);\n    }\n}\n\npublic void updateMetricsFromMDC(String code, String type) {\n    removeCommonMetricsFromMDC();\n    synchronized(mdcLock) {\n        MDC.put(&quot;Code&quot;, code);\n        MDC.put(&quot;Type&quot;, type);\n    }\n}\n\nprivate static void removeMetricsFromMDC() {\n    synchronized(mdcLock) {\n        MDC.remove(&quot;UUID&quot;);\n        MDC.remove(&quot;Code&quot;);\n        MDC.remove(&quot;Type&quot;);\n        MDC.remove(&quot;Version&quot;);\n    }\n}\n\nprivate static void removeCommonMetricsFromMDC() {\n    synchronized(mdcLock) {\n        MDC.remove(&quot;Code&quot;);\n        MDC.remove(&quot;Type&quot;);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1973399,"reputation":4576,"user_id":1771766,"display_name":"G Quintana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649176444,"creation_date":1649176444,"answer_id":71755375,"question_id":71735077,"body_markdown":"Kafka documentation explains it:\r\n\r\n&gt; The DefaultPartitioner now uses a sticky partitioning strategy. This\r\n&gt; means that records for specific topic with null keys and no assigned\r\n&gt; partition will be sent to the same partition until the batch is ready\r\n&gt; to be sent. When a new batch is created, a new partition is chosen.\r\n&gt; This decreases latency to produce, but it may result in uneven\r\n&gt; distribution of records across partitions in edge cases. Generally\r\n&gt; users will not be impacted, but this difference may be noticeable in\r\n&gt; tests and other situations producing records for a very short amount\r\n&gt; of time.\r\n\r\nSwitching to the RoundRobinPartitionner (instead of DefaultPartitionner) is probably what you are looking for. See https://kafka.apache.org/documentation/#producerconfigs_partitioner.class I ignore how constant your message rate, but under normal circumstances (Production) the Default partitionner is pretty fair.\r\n\r\nAlso ensure that `linger.ms` is `0` and reduce `batch.size` as much as you can.\r\n\r\nImplementing a custom Partitionner is rather easy. But knowing which partition is the smaller is harder as it will change very often. You may end up spending more time refreshing partition sizes, and finding the smallest one that sending the message.\r\n\r\n","title":"Uneven partitioner in kafka / no key","body":"<p>Kafka documentation explains it:</p>\n<blockquote>\n<p>The DefaultPartitioner now uses a sticky partitioning strategy. This\nmeans that records for specific topic with null keys and no assigned\npartition will be sent to the same partition until the batch is ready\nto be sent. When a new batch is created, a new partition is chosen.\nThis decreases latency to produce, but it may result in uneven\ndistribution of records across partitions in edge cases. Generally\nusers will not be impacted, but this difference may be noticeable in\ntests and other situations producing records for a very short amount\nof time.</p>\n</blockquote>\n<p>Switching to the RoundRobinPartitionner (instead of DefaultPartitionner) is probably what you are looking for. See <a href=\"https://kafka.apache.org/documentation/#producerconfigs_partitioner.class\" rel=\"nofollow noreferrer\">https://kafka.apache.org/documentation/#producerconfigs_partitioner.class</a> I ignore how constant your message rate, but under normal circumstances (Production) the Default partitionner is pretty fair.</p>\n<p>Also ensure that <code>linger.ms</code> is <code>0</code> and reduce <code>batch.size</code> as much as you can.</p>\n<p>Implementing a custom Partitionner is rather easy. But knowing which partition is the smaller is harder as it will change very often. You may end up spending more time refreshing partition sizes, and finding the smallest one that sending the message.</p>\n"}],"owner":{"account_id":20358395,"reputation":11,"user_id":14933383,"display_name":"user14933383"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701681897,"creation_date":1649065374,"question_id":71735077,"body_markdown":"I have a topic with 3 partitions with only 1 consumer, and I am using the default partitioner which in this case is &quot;Sticky&quot;. everything else by default.\r\n\r\nThe data sent from the producer does not have a key and I don&#39;t want it to have one, I simply want each data to go to a random partition and for these to be evenly distributed.\r\n\r\nHowever I have a result similar to this, where one partition is way above the others\r\n![Muestra](https://i.stack.imgur.com/E8pCK.png)\r\n\r\nAs a result of this I have 2 questions.\r\n\r\n- Why did this happen?\r\n- How can I make the partitions to be equal again?\r\n\r\nI have tried to create a custom partitioner that looks at the size of each partition and assigns the data where it has less data. is this possible?","title":"Uneven partitioner in kafka / no key","body":"<p>I have a topic with 3 partitions with only 1 consumer, and I am using the default partitioner which in this case is &quot;Sticky&quot;. everything else by default.</p>\n<p>The data sent from the producer does not have a key and I don't want it to have one, I simply want each data to go to a random partition and for these to be evenly distributed.</p>\n<p>However I have a result similar to this, where one partition is way above the others\n<img src=\"https://i.stack.imgur.com/E8pCK.png\" alt=\"Muestra\" /></p>\n<p>As a result of this I have 2 questions.</p>\n<ul>\n<li>Why did this happen?</li>\n<li>How can I make the partitions to be equal again?</li>\n</ul>\n<p>I have tried to create a custom partitioner that looks at the size of each partition and assigns the data where it has less data. is this possible?</p>\n"},{"tags":["java","schema","xsd","jaxb"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1260521170,"post_id":1881712,"comment_id":1787125,"body_markdown":"Your `.xjb` approach is the correct one, and should work. Does XJC just ignore it, or does it generate the wrong thing?","body":"Your <code>.xjb</code> approach is the correct one, and should work. Does XJC just ignore it, or does it generate the wrong thing?"},{"owner":{"account_id":5425,"reputation":2145,"user_id":8720,"accept_rate":100,"display_name":"Zach"},"score":0,"creation_date":1260539098,"post_id":1881712,"comment_id":1788703,"body_markdown":"Using the above .xjb approach, I get the following error in my jaxb compile:\n\n    [jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.","body":"Using the above .xjb approach, I get the following error in my jaxb compile:      [jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings."}],"answers":[{"comments":[{"owner":{"account_id":5425,"reputation":2145,"user_id":8720,"accept_rate":100,"display_name":"Zach"},"score":1,"creation_date":1260479894,"post_id":1884013,"comment_id":1784270,"body_markdown":"Hey, this looks pretty close to what I want to do! The only thing is, I&#39;m using schema to generate Java types (as part of my build process). I don&#39;t mind writing the adapter, but I would like to avoid having to have pre-implemented the class that generates the schema (&lt;code&gt;MyHashMapType&lt;/code&gt; and &lt;code&gt;MyHashMapEntryType&lt;/code&gt; in the linked example) as this is going backwards for me. Is this possible?","body":"Hey, this looks pretty close to what I want to do! The only thing is, I&#39;m using schema to generate Java types (as part of my build process). I don&#39;t mind writing the adapter, but I would like to avoid having to have pre-implemented the class that generates the schema (&lt;code&gt;MyHashMapType&lt;/code&gt; and &lt;code&gt;MyHashMapEntryType&lt;/code&gt; in the linked example) as this is going backwards for me. Is this possible?"},{"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"score":0,"creation_date":1260483277,"post_id":1884013,"comment_id":1784710,"body_markdown":"I don&#39;t think this strictly necessary, most likely it&#39;s just extended example. I know that we have done it in the past with just schema, binding customization file and adapter.","body":"I don&#39;t think this strictly necessary, most likely it&#39;s just extended example. I know that we have done it in the past with just schema, binding customization file and adapter."},{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1260521222,"post_id":1884013,"comment_id":1787127,"body_markdown":"An `XmlAdapter` is what XJC should be generating using @Zach&#39;s `.xjb` configuration.","body":"An <code>XmlAdapter</code> is what XJC should be generating using @Zach&#39;s <code>.xjb</code> configuration."},{"owner":{"account_id":92781,"reputation":7444,"user_id":254109,"accept_rate":64,"display_name":"xmedeko"},"score":0,"creation_date":1326120469,"post_id":1884013,"comment_id":10963623,"body_markdown":"Try `&lt;xjc:javaType /&gt;`, see [http://jaxb.java.net/2.1.2/docs/vendorCustomizations.html#javaType]","body":"Try <code>&lt;xjc:javaType &#47;&gt;</code>, see [<a href=\"http://jaxb.java.net/2.1.2/docs/vendorCustomizations.html#javaType]\" rel=\"nofollow noreferrer\">jaxb.java.net/2.1.2/docs/vendorCustomizations.html#javaType&zwnj;&#8203;]</a>"}],"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1260479062,"creation_date":1260479062,"answer_id":1884013,"question_id":1881712,"body_markdown":"Have you looked at example here (Customized mapping of HashMap):\r\nhttp://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html\r\n\r\nNeed to create custom XmlAdapter I&#39;m afraid.\r\n","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>Have you looked at example here (Customized mapping of HashMap):\n<a href=\"http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/javax/xml/bind/annotation/adapters/XmlAdapter.html</a></p>\n\n<p>Need to create custom XmlAdapter I'm afraid.</p>\n"},{"comments":[{"owner":{"account_id":5425,"reputation":2145,"user_id":8720,"accept_rate":100,"display_name":"Zach"},"score":0,"creation_date":1260566163,"post_id":1889584,"comment_id":1791915,"body_markdown":"I was hoping this wouldn&#39;t be the answer, but I&#39;m glad to know I&#39;m not missing anything.","body":"I was hoping this wouldn&#39;t be the answer, but I&#39;m glad to know I&#39;m not missing anything."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701681686,"post_id":1889584,"comment_id":136801415,"body_markdown":"Just to point out this new PR which will solve the initial demand : https://github.com/eclipse-ee4j/jaxb-ri/pull/1781","body":"Just to point out this new PR which will solve the initial demand : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaxb-ri/pull/1781</a>"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1401824918,"creation_date":1260552414,"answer_id":1889584,"question_id":1881712,"body_markdown":"Your XJC file is using the &quot;standard&quot; `javaType` directive, which I believe is limited to converting String values to and from a representative java type. As such, it&#39;s only suitable for converting simple element and attribute content.\r\n\r\nThe XJC tool provides an enhanced version of `javaType`, which in theory should be able to handle more complex structures.  Unfortunately, this has yet to be implemented:\r\n\r\n[https://java.net/jira/browse/JAXB-209][1] (unresolved)\r\n\r\n&gt; For instance, being able to map a\r\n&gt; schema type to a HashMap might  be a\r\n&gt; likely requirement for those using\r\n&gt; model driven design/implementation. \r\n&gt; AFAICS, this is not possible today. \r\n&gt; Therefore, one must manually edit the \r\n&gt; generated code.\r\n\r\nLooks like you&#39;re out of luck.\r\n\r\n\r\n  [1]: https://java.net/jira/browse/JAXB-209","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>Your XJC file is using the \"standard\" <code>javaType</code> directive, which I believe is limited to converting String values to and from a representative java type. As such, it's only suitable for converting simple element and attribute content.</p>\n\n<p>The XJC tool provides an enhanced version of <code>javaType</code>, which in theory should be able to handle more complex structures.  Unfortunately, this has yet to be implemented:</p>\n\n<p><a href=\"https://java.net/jira/browse/JAXB-209\" rel=\"nofollow noreferrer\">https://java.net/jira/browse/JAXB-209</a> (unresolved)</p>\n\n<blockquote>\n  <p>For instance, being able to map a\n  schema type to a HashMap might  be a\n  likely requirement for those using\n  model driven design/implementation. \n  AFAICS, this is not possible today. \n  Therefore, one must manually edit the \n  generated code.</p>\n</blockquote>\n\n<p>Looks like you're out of luck.</p>\n"},{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701681631,"creation_date":1701681631,"answer_id":77598326,"question_id":1881712,"body_markdown":"Very old question but new answer possible when this [PR](https://github.com/eclipse-ee4j/jaxb-ri/pull/1781) will be merged.\r\n\r\nWith this new PR, `xjc:javaType` will now handle generic types.\r\n\r\nIt has been tested with jaxb-tools&#39; maven-plugin with the following example syntax :\r\n```xml\r\n&lt;jaxb:bindings node=&quot;.//xsd:attribute[@name=&#39;subRatings&#39;]&quot;&gt;\r\n  &lt;jaxb:property&gt;\r\n    &lt;jaxb:baseType&gt;\r\n      &lt;xjc:javaType name=&quot;java.util.List&amp;lt;java.lang.String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\r\n    &lt;/jaxb:baseType&gt;\r\n  &lt;/jaxb:property&gt;\r\n&lt;/jaxb:bindings&gt;\r\n```\r\n\r\nThe generated java class property looks like below with no more `import java.util.List&lt;String&gt;;` erroneous import\r\n\r\n```java\r\n@XmlAttribute(name = &quot;subRatings&quot;)\r\n@XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\r\nprotected List&lt;String&gt; subRatings;\r\n```\r\n\r\nIt fixes the [#209](https://github.com/eclipse-ee4j/jaxb-ri/issues/209) and [#737](https://github.com/eclipse-ee4j/jaxb-ri/issues/737) issues in jaxb-ri repository","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>Very old question but new answer possible when this <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\" rel=\"nofollow noreferrer\">PR</a> will be merged.</p>\n<p>With this new PR, <code>xjc:javaType</code> will now handle generic types.</p>\n<p>It has been tested with jaxb-tools' maven-plugin with the following example syntax :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;jaxb:bindings node=&quot;.//xsd:attribute[@name='subRatings']&quot;&gt;\n  &lt;jaxb:property&gt;\n    &lt;jaxb:baseType&gt;\n      &lt;xjc:javaType name=&quot;java.util.List&amp;lt;java.lang.String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\n    &lt;/jaxb:baseType&gt;\n  &lt;/jaxb:property&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n<p>The generated java class property looks like below with no more <code>import java.util.List&lt;String&gt;;</code> erroneous import</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAttribute(name = &quot;subRatings&quot;)\n@XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\nprotected List&lt;String&gt; subRatings;\n</code></pre>\n<p>It fixes the <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/209\" rel=\"nofollow noreferrer\">#209</a> and <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/737\" rel=\"nofollow noreferrer\">#737</a> issues in jaxb-ri repository</p>\n"}],"owner":{"account_id":5425,"reputation":2145,"user_id":8720,"accept_rate":100,"display_name":"Zach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17208,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1889584,"answer_count":3,"score":17,"last_activity_date":1701681631,"creation_date":1260458626,"question_id":1881712,"body_markdown":"I have an existing XML schema that contains a type that I would like to map to a Java Map of some sort using JAXB. My build process takes the schema and creates the beans. I would like to customize this process by having one of the complexTypes in my schema map to a java.util.Map. I&#39;ve read somewhere that JAXB &quot;can&#39;t do interfaces.&quot; I&#39;m not sure if that applies in this case, but if so I&#39;d be fine with it mapping to a HashMap. Also, it doesn&#39;t necessarily have to be the complexType that maps to a Map, it could be an element if that&#39;s what&#39;s required.\r\n\r\nI control my JAXB generation using a .xjb file, so I&#39;m looking for some &lt;code&gt;&amp;lt;jaxb:bindings&amp;gt;&lt;/code&gt; to put in there. I&#39;ve tried the following, but it does not work:\r\n\r\n\t&lt;jaxb:bindings schemaLocation=&quot;myschema.xsd&quot; node=&quot;/xs:schema&quot;&gt;\r\n\t\t&lt;jaxb:globalBindings&gt;\r\n\t\t\t&lt;jaxb:serializable uid=&quot;1&quot;/&gt;\r\n\t\t&lt;/jaxb:globalBindings&gt;\r\n\t\t&lt;jaxb:schemaBindings&gt;\r\n\t\t\t&lt;jaxb:package name=&quot;com.myschema.client.types&quot;/&gt;\r\n\t\t&lt;/jaxb:schemaBindings&gt;\r\n\t\t&lt;jaxb:bindings node=&quot;//xs:complexType[@name=&#39;MapType&#39;]&quot;&gt;\r\n    \t\t\t&lt;jaxb:javaType name=&quot;java.util.HashMap&quot;\r\n\t\t\t\tparseMethod=&quot;com.myschema.common.MapConverter.parseObjectToMap&quot;\r\n\t\t\t\tprintMethod=&quot;com.myschema.common.MapConverter.printMapToObject&quot; /&gt;\r\n\t\t&lt;/jaxb:bindings&gt;\r\n\t&lt;/jaxb:bindings&gt;\r\n\r\n**Edit:** I&#39;ve added more detail on the above binding that I&#39;ve already tried. It generates the following error during schema compile:\r\n\r\n\t[jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\r\n\r\n---\r\n\r\n&lt;code&gt;&amp;lt;jaxb:javaType&amp;gt;&lt;/code&gt; will not work because it can only be used for [mapping between XML Schema primitives and Java types][1]. Since I want to map between a complex type and a Java type, I cannot use this.\r\n\r\n\r\n  [1]: http://fusesource.com/docs/framework/2.2/jaxws/JAXWSCustomTypeMappingJavaType.html","title":"Is it possible to use JAXB to map from schema to a java.util.Map?","body":"<p>I have an existing XML schema that contains a type that I would like to map to a Java Map of some sort using JAXB. My build process takes the schema and creates the beans. I would like to customize this process by having one of the complexTypes in my schema map to a java.util.Map. I've read somewhere that JAXB \"can't do interfaces.\" I'm not sure if that applies in this case, but if so I'd be fine with it mapping to a HashMap. Also, it doesn't necessarily have to be the complexType that maps to a Map, it could be an element if that's what's required.</p>\n\n<p>I control my JAXB generation using a .xjb file, so I'm looking for some <code>&lt;jaxb:bindings&gt;</code> to put in there. I've tried the following, but it does not work:</p>\n\n<pre><code>&lt;jaxb:bindings schemaLocation=\"myschema.xsd\" node=\"/xs:schema\"&gt;\n    &lt;jaxb:globalBindings&gt;\n        &lt;jaxb:serializable uid=\"1\"/&gt;\n    &lt;/jaxb:globalBindings&gt;\n    &lt;jaxb:schemaBindings&gt;\n        &lt;jaxb:package name=\"com.myschema.client.types\"/&gt;\n    &lt;/jaxb:schemaBindings&gt;\n    &lt;jaxb:bindings node=\"//xs:complexType[@name='MapType']\"&gt;\n            &lt;jaxb:javaType name=\"java.util.HashMap\"\n            parseMethod=\"com.myschema.common.MapConverter.parseObjectToMap\"\n            printMethod=\"com.myschema.common.MapConverter.printMapToObject\" /&gt;\n    &lt;/jaxb:bindings&gt;\n&lt;/jaxb:bindings&gt;\n</code></pre>\n\n<p><strong>Edit:</strong> I've added more detail on the above binding that I've already tried. It generates the following error during schema compile:</p>\n\n<pre><code>[jaxb] [ERROR] compiler was unable to honor this javaType customization. It is attached to a wrong place, or its inconsistent with other bindings.\n</code></pre>\n\n<hr>\n\n<p><code>&lt;jaxb:javaType&gt;</code> will not work because it can only be used for <a href=\"http://fusesource.com/docs/framework/2.2/jaxws/JAXWSCustomTypeMappingJavaType.html\" rel=\"noreferrer\">mapping between XML Schema primitives and Java types</a>. Since I want to map between a complex type and a Java type, I cannot use this.</p>\n"},{"tags":["java","android","android-studio","command-line-interface","android-virtual-device"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701682094,"post_id":77598269,"comment_id":136801486,"body_markdown":"*Now its throwing this exception:* I only see a warning","body":"<i>Now its throwing this exception:</i> I only see a warning"},{"owner":{"account_id":9592985,"reputation":1,"user_id":20053731,"display_name":"Wasif"},"score":0,"creation_date":1701685494,"post_id":77598269,"comment_id":136802044,"body_markdown":"org.xml.sax.SAXParseException; lineNumber: 141; columnNumber: 253; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{layoutlib}&#39; is expected","body":"org.xml.sax.SAXParseException; lineNumber: 141; columnNumber: 253; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{layoutlib}&#39; is expected"}],"owner":{"account_id":9592985,"reputation":1,"user_id":20053731,"display_name":"Wasif"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701681243,"creation_date":1701680969,"question_id":77598269,"body_markdown":"I am trying to create avd with avdmanager commands. First it was throwing an xml exception because I had JAVA 17. I downgraded JAVA to JAVA 8. Then ran the command:\r\n\r\n    avdmanager create avd --force --name testAVD --abi google_apis/x86_64 --package &#39;system-images;android-23;google_apis;x86_64&#39;\r\n\r\nNow its throwing this exception:\r\n\r\n    Warning: cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;extension-level&#39;. One of &#39;{layoutlib}&#39; is expected.\r\n\r\nContext: I am creating avd from command line as we have CLI setup on Github and I want to create AVD on github runner to run appium tests, i need emulators running\r\n\r\nDowngraded JAVA version to 8. Downgraded Gradle to 4.0.2. Unable to Downgrade Gradle Plugin Version","title":"Creating avd from command line","body":"<p>I am trying to create avd with avdmanager commands. First it was throwing an xml exception because I had JAVA 17. I downgraded JAVA to JAVA 8. Then ran the command:</p>\n<pre><code>avdmanager create avd --force --name testAVD --abi google_apis/x86_64 --package 'system-images;android-23;google_apis;x86_64'\n</code></pre>\n<p>Now its throwing this exception:</p>\n<pre><code>Warning: cvc-complex-type.2.4.a: Invalid content was found starting with element 'extension-level'. One of '{layoutlib}' is expected.\n</code></pre>\n<p>Context: I am creating avd from command line as we have CLI setup on Github and I want to create AVD on github runner to run appium tests, i need emulators running</p>\n<p>Downgraded JAVA version to 8. Downgraded Gradle to 4.0.2. Unable to Downgrade Gradle Plugin Version</p>\n"},{"tags":["java","xsd","xml-parsing","jaxb","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1684542609,"post_id":76293003,"comment_id":134537269,"body_markdown":"_&quot;jaxb adds this import to the class: `import java.util.List&lt;String&gt;;`&quot;_ - Generating invalid Java code would indicate a bug, no?  You might want to check the bug database to see if this issue is listed?","body":"<i>&quot;jaxb adds this import to the class: <code>import java.util.List&lt;String&gt;;</code>&quot;</i> - Generating invalid Java code would indicate a bug, no?  You might want to check the bug database to see if this issue is listed?"},{"owner":{"account_id":3921864,"reputation":758,"user_id":3243751,"display_name":"FLUXparticle"},"score":0,"creation_date":1684636309,"post_id":76293003,"comment_id":134545364,"body_markdown":"What is the delimiter of the list supposed to be?","body":"What is the delimiter of the list supposed to be?"},{"owner":{"account_id":3753577,"reputation":161,"user_id":3120518,"accept_rate":83,"display_name":"CjRobin"},"score":0,"creation_date":1684763909,"post_id":76293003,"comment_id":134560228,"body_markdown":"@FLUXparticle comma (&quot;,&quot;) delimited.","body":"@FLUXparticle comma (&quot;,&quot;) delimited."},{"owner":{"account_id":3921864,"reputation":758,"user_id":3243751,"display_name":"FLUXparticle"},"score":0,"creation_date":1684774389,"post_id":76293003,"comment_id":134562688,"body_markdown":"Then I would say it is not possible to describe such a format in XML schema. At least not in a way that the list is handled automatically. In XML Schema a list is always divided by spaces.","body":"Then I would say it is not possible to describe such a format in XML schema. At least not in a way that the list is handled automatically. In XML Schema a list is always divided by spaces."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701644240,"post_id":76293003,"comment_id":136798258,"body_markdown":"Hello there : this is due to this issue in jaxb-ri : https://github.com/eclipse-ee4j/jaxb-ri/issues/737. Good news is I found a way to fix it. Will provide PR for this and update my below answer with this reference.","body":"Hello there : this is due to this issue in jaxb-ri : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/737\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaxb-ri/issues/737</a>. Good news is I found a way to fix it. Will provide PR for this and update my below answer with this reference."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":0,"creation_date":1701681254,"post_id":76293003,"comment_id":136801345,"body_markdown":"PR provided : https://github.com/eclipse-ee4j/jaxb-ri/pull/1781","body":"PR provided : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaxb-ri/pull/1781</a>"}],"answers":[{"tags":[],"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701681226,"creation_date":1699887195,"answer_id":77474776,"question_id":76293003,"body_markdown":"**New solution**\r\n\r\n*See initial answer first before new solution is released*\r\n\r\nNew solution waiting in PR provided in JAXB-RI : https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\r\n\r\nIt&#39;ll fix the generic not handled in parsing the expected `xjc:javaType name` tag : expecting `java.util.List&amp;lt;java.lang.String&amp;gt;` will now generate the good imports tags and good java type for the property.\r\n\r\n\r\n**Initial answer**\r\n\r\nDon&#39;t know if you found any solution to your problem but maybe this could work :\r\n\r\n* Create a new Java Class that extends the `LinkedList&lt;String&gt;` class to mask generics from\r\n\r\n```java\r\npublic class ListString extends LinkedList&lt;String&gt; {\r\n\r\n}\r\n```\r\n\r\n* Create the Adapter (inspired by the class you used)\r\n\r\n```java\r\npublic class CommaDelimitedStringAdapter extends\r\n    XmlAdapter&lt;String, ListString&gt; {\r\n\r\n\t@Override\r\n\tpublic String marshal(ListString value) throws Exception {\r\n\t\tif (value == null) {\r\n\t\t\treturn null;\r\n\t\t} else {\r\n\t\t\treturn StringUtils.join(value.iterator(), &quot;, &quot;);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ListString unmarshal(String text) throws Exception {\r\n\r\n\t\tif (text == null) {\r\n\t\t\treturn null;\r\n\t\t} else\r\n\r\n\t\t{\r\n\t\t\tfinal ListString value = new ListString();\r\n\t\t\tfinal String[] items = StringUtils.split(text, &#39;,&#39;);\r\n\t\t\tfor (String item : items) {\r\n\t\t\t\tfinal String trimmedItem = item.trim();\r\n\t\t\t\tif (!StringUtils.isEmpty(trimmedItem)) {\r\n\t\t\t\t\tvalue.add(trimmedItem);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n* Adapt your binding file to use this `xjc:javaType name=&quot;fully.qualified.package.ListString&quot;` using your new adapter you created\r\n\r\nThis will generate the following attribute :\r\n\r\n```java\r\n    @XmlAttribute(name = &quot;subRatings&quot;)\r\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\r\n    protected ListString subRatings;\r\n```\r\n\r\nUnmarshalling is OK [see here][1], and you&#39;re still able to navigate through the List items without any cast.\r\n\r\nThe only cons I found is that you have to choose the implementation of `List` you&#39;re using (I choose `LinkedList` since this is the one used in `unmarshalling` method of the adapter but it will work with any other type).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PRY9d.png","title":"How to add custom String to List&lt;String&gt; jaxb xml adapter to an xsd generated class attribute","body":"<p><strong>New solution</strong></p>\n<p><em>See initial answer first before new solution is released</em></p>\n<p>New solution waiting in PR provided in JAXB-RI : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/pull/1781\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/pull/1781</a></p>\n<p>It'll fix the generic not handled in parsing the expected <code>xjc:javaType name</code> tag : expecting <code>java.util.List&amp;lt;java.lang.String&amp;gt;</code> will now generate the good imports tags and good java type for the property.</p>\n<p><strong>Initial answer</strong></p>\n<p>Don't know if you found any solution to your problem but maybe this could work :</p>\n<ul>\n<li>Create a new Java Class that extends the <code>LinkedList&lt;String&gt;</code> class to mask generics from</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListString extends LinkedList&lt;String&gt; {\n\n}\n</code></pre>\n<ul>\n<li>Create the Adapter (inspired by the class you used)</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class CommaDelimitedStringAdapter extends\n    XmlAdapter&lt;String, ListString&gt; {\n\n    @Override\n    public String marshal(ListString value) throws Exception {\n        if (value == null) {\n            return null;\n        } else {\n            return StringUtils.join(value.iterator(), &quot;, &quot;);\n        }\n    }\n\n    @Override\n    public ListString unmarshal(String text) throws Exception {\n\n        if (text == null) {\n            return null;\n        } else\n\n        {\n            final ListString value = new ListString();\n            final String[] items = StringUtils.split(text, ',');\n            for (String item : items) {\n                final String trimmedItem = item.trim();\n                if (!StringUtils.isEmpty(trimmedItem)) {\n                    value.add(trimmedItem);\n                }\n            }\n            return value;\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Adapt your binding file to use this <code>xjc:javaType name=&quot;fully.qualified.package.ListString&quot;</code> using your new adapter you created</li>\n</ul>\n<p>This will generate the following attribute :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @XmlAttribute(name = &quot;subRatings&quot;)\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\n    protected ListString subRatings;\n</code></pre>\n<p>Unmarshalling is OK <a href=\"https://i.stack.imgur.com/PRY9d.png\" rel=\"nofollow noreferrer\">see here</a>, and you're still able to navigate through the List items without any cast.</p>\n<p>The only cons I found is that you have to choose the implementation of <code>List</code> you're using (I choose <code>LinkedList</code> since this is the one used in <code>unmarshalling</code> method of the adapter but it will work with any other type).</p>\n"}],"owner":{"account_id":3753577,"reputation":161,"user_id":3120518,"accept_rate":83,"display_name":"CjRobin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1701681226,"creation_date":1684539874,"question_id":76293003,"body_markdown":"We have been using jaxb for a long time to unmarshal XML into POJOs that we can use within our system. However, only recently I found an issue with how jaxb is parsing the xml provided data and I would like to override that behavior by implementing a custom XmlAdapter and forcing jaxb to use it.\r\n\r\n\r\nLet&#39;s say we have a complex field definition like the below in our xsd:\r\n```\r\n&lt;xs:complexType name=&quot;ratingType&quot;&gt;\r\n    &lt;xs:simpleContent&gt;\r\n      &lt;xs:extension base=&quot;xs:string&quot;&gt;\r\n        &lt;xs:attribute name=&quot;scheme&quot; use=&quot;required&quot; type=&quot;xs:NMTOKEN&quot;/&gt;\r\n        &lt;xs:attribute name=&quot;subRatings&quot; use=&quot;optional&quot;&gt;\r\n          &lt;xs:simpleType&gt;\r\n            &lt;xs:list itemType=&#39;xs:string&#39;/&gt;\r\n          &lt;/xs:simpleType&gt;\r\n        &lt;/xs:attribute&gt;\r\n      &lt;/xs:extension&gt;\r\n    &lt;/xs:simpleContent&gt;\r\n  &lt;/xs:complexType&gt;\r\n```\r\n\r\nWithout making any changes, jaxb creates the following java class attribute:\r\n```\r\n@XmlAttribute(name = &quot;subRatings&quot;)\r\nprotected List&lt;String&gt;subRatings;\r\n```\r\n\r\nThis has been generally ok, however, due to new client requirements the data we get on this field will change.\r\n\r\nCurrent use case:\r\n`&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Violence&quot;&gt;MA15+&lt;/rating&gt;`\r\nThis turns into subRatings=[&quot;Violence&quot;], which is great.\r\n\r\nNew use case:\r\n`&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Coarse Language&quot;&gt;MA15+&lt;/rating&gt;`\r\nThis, however, turns into subRatings=[&quot;Coarse&quot;, &quot;Language&quot;], which is not right and causes issues downstream as that is not a recognized subRating. I expect it to be subRatings=[&quot;Coarse Language&quot;] instead. \r\n\r\nI have tried a few things, but so far the one that gets me closest to what I want is using jaxb bindings like the below:\r\n```\r\n&lt;jxb:bindings schemaLocation=&quot;media.xsd&quot; node=&quot;//xs:complexType[@name=&#39;ratingType&#39;]&quot;&gt;\r\n        &lt;jxb:bindings node=&quot;.//xs:attribute[@name=&#39;subRatings&#39;]&quot;&gt;\r\n            &lt;jxb:property&gt;\r\n                &lt;jxb:baseType&gt;\r\n                    &lt;xjc:javaType name=&quot;java.util.List&amp;lt;String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb2_commons.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\r\n                &lt;/jxb:baseType&gt;\r\n            &lt;/jxb:property&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n```\r\n\r\nThe generated class has the following attribute definition:\r\n```\r\n@XmlAttribute(name = &quot;subRatings&quot;)\r\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\r\n    protected List&lt;String&gt;subRatings;\r\n```\r\nAll good so far. However, for some reason, jaxb adds this import to the class: `import java.util.List&lt;String&gt;;` which causes it to not compile. \r\n\r\nOther thing that I tried was removing the specific type in the javaType name definition, like `java.util.List` but that causes jaxb to create the field with a raw type like `protected List subRatings;` and that&#39;s not only ugly but it causes issues downstream as now anyone using this class needs to cast the subrating object making the code smelly. Any ideas how to overcome this? Keep in mind that I cannot modify the generated classes as they are built at compile time.\r\n","title":"How to add custom String to List&lt;String&gt; jaxb xml adapter to an xsd generated class attribute","body":"<p>We have been using jaxb for a long time to unmarshal XML into POJOs that we can use within our system. However, only recently I found an issue with how jaxb is parsing the xml provided data and I would like to override that behavior by implementing a custom XmlAdapter and forcing jaxb to use it.</p>\n<p>Let's say we have a complex field definition like the below in our xsd:</p>\n<pre><code>&lt;xs:complexType name=&quot;ratingType&quot;&gt;\n    &lt;xs:simpleContent&gt;\n      &lt;xs:extension base=&quot;xs:string&quot;&gt;\n        &lt;xs:attribute name=&quot;scheme&quot; use=&quot;required&quot; type=&quot;xs:NMTOKEN&quot;/&gt;\n        &lt;xs:attribute name=&quot;subRatings&quot; use=&quot;optional&quot;&gt;\n          &lt;xs:simpleType&gt;\n            &lt;xs:list itemType='xs:string'/&gt;\n          &lt;/xs:simpleType&gt;\n        &lt;/xs:attribute&gt;\n      &lt;/xs:extension&gt;\n    &lt;/xs:simpleContent&gt;\n  &lt;/xs:complexType&gt;\n</code></pre>\n<p>Without making any changes, jaxb creates the following java class attribute:</p>\n<pre><code>@XmlAttribute(name = &quot;subRatings&quot;)\nprotected List&lt;String&gt;subRatings;\n</code></pre>\n<p>This has been generally ok, however, due to new client requirements the data we get on this field will change.</p>\n<p>Current use case:\n<code>&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Violence&quot;&gt;MA15+&lt;/rating&gt;</code>\nThis turns into subRatings=[&quot;Violence&quot;], which is great.</p>\n<p>New use case:\n<code>&lt;rating scheme=&quot;urn:ncs&quot; subRatings=&quot;Coarse Language&quot;&gt;MA15+&lt;/rating&gt;</code>\nThis, however, turns into subRatings=[&quot;Coarse&quot;, &quot;Language&quot;], which is not right and causes issues downstream as that is not a recognized subRating. I expect it to be subRatings=[&quot;Coarse Language&quot;] instead.</p>\n<p>I have tried a few things, but so far the one that gets me closest to what I want is using jaxb bindings like the below:</p>\n<pre><code>&lt;jxb:bindings schemaLocation=&quot;media.xsd&quot; node=&quot;//xs:complexType[@name='ratingType']&quot;&gt;\n        &lt;jxb:bindings node=&quot;.//xs:attribute[@name='subRatings']&quot;&gt;\n            &lt;jxb:property&gt;\n                &lt;jxb:baseType&gt;\n                    &lt;xjc:javaType name=&quot;java.util.List&amp;lt;String&amp;gt;&quot; adapter=&quot;org.jvnet.jaxb2_commons.xml.bind.annotation.adapters.CommaDelimitedStringAdapter&quot;/&gt;\n                &lt;/jxb:baseType&gt;\n            &lt;/jxb:property&gt;\n        &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n</code></pre>\n<p>The generated class has the following attribute definition:</p>\n<pre><code>@XmlAttribute(name = &quot;subRatings&quot;)\n    @XmlJavaTypeAdapter(CommaDelimitedStringAdapter.class)\n    protected List&lt;String&gt;subRatings;\n</code></pre>\n<p>All good so far. However, for some reason, jaxb adds this import to the class: <code>import java.util.List&lt;String&gt;;</code> which causes it to not compile.</p>\n<p>Other thing that I tried was removing the specific type in the javaType name definition, like <code>java.util.List</code> but that causes jaxb to create the field with a raw type like <code>protected List subRatings;</code> and that's not only ugly but it causes issues downstream as now anyone using this class needs to cast the subrating object making the code smelly. Any ideas how to overcome this? Keep in mind that I cannot modify the generated classes as they are built at compile time.</p>\n"},{"tags":["java","windows","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":7096020,"reputation":884,"user_id":5429584,"display_name":"Mike Petrichenko"},"score":0,"creation_date":1701682336,"post_id":77598257,"comment_id":136801525,"body_markdown":"I do not think so. Java is not very popular on Windows Desktop.","body":"I do not think so. Java is not very popular on Windows Desktop."},{"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"score":0,"creation_date":1701692433,"post_id":77598257,"comment_id":136803185,"body_markdown":"Since BLE on Windows is only exposed through their system platform API, you will need to use some Java &lt;-&gt; Native code bridge. See https://stackoverflow.com/questions/606820/is-there-a-java-library-to-access-the-native-windows-api.","body":"Since BLE on Windows is only exposed through their system platform API, you will need to use some Java &lt;-&gt; Native code bridge. See <a href=\"https://stackoverflow.com/questions/606820/is-there-a-java-library-to-access-the-native-windows-api\" title=\"is there a java library to access the native windows api\">stackoverflow.com/questions/606820/&hellip;</a>."}],"owner":{"account_id":10283369,"reputation":1,"user_id":7587591,"display_name":"Vlad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701684227,"answer_count":0,"score":-1,"last_activity_date":1701680833,"creation_date":1701680833,"question_id":77598257,"body_markdown":"Normally Windows desktop applications (JavaSE based, not JavaScript) should be developed to be working with regular BLE v4-5 dongles, without other bridges.\r\nTried MCU boards with COM-port bridge, but it is custom BLE-receiver.\r\n\r\nIs any JavaSE library available now in 2023 for BLE under Windows ?\r\n","title":"Any Java SE BLE library for Windows 10+ available in 2023?","body":"<p>Normally Windows desktop applications (JavaSE based, not JavaScript) should be developed to be working with regular BLE v4-5 dongles, without other bridges.\nTried MCU boards with COM-port bridge, but it is custom BLE-receiver.</p>\n<p>Is any JavaSE library available now in 2023 for BLE under Windows ?</p>\n"},{"tags":["java","constructor","boolean"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1701676923,"post_id":77597911,"comment_id":136800742,"body_markdown":"Hello and welcome. Please explain what you expect to happen (and why) and what happens instead.","body":"Hello and welcome. Please explain what you expect to happen (and why) and what happens instead."},{"owner":{"account_id":30060360,"reputation":1,"user_id":23036601,"display_name":"Kucher Stanislav"},"score":0,"creation_date":1701678292,"post_id":77597911,"comment_id":136800925,"body_markdown":"I need my method destroyEngine() return false if distance &gt;= 200000. and boolean isReadyToDrive will false after =&gt; 200000 distance","body":"I need my method destroyEngine() return false if distance &gt;= 200000. and boolean isReadyToDrive will false after =&gt; 200000 distance"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701680764,"creation_date":1701680764,"answer_id":77598248,"question_id":77597911,"body_markdown":"In your second constructor (the one you&#39;re actually using in your `main` method)\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\r\n        // previous statements omitted\r\n        this.isReadyToDrive = destroyEngine();\r\n        this.distance = distance;\r\n    }\r\n\r\nThe `destroyEngine` methods uses the instance variable `distance` to decide whether to return `true` or `false`. But, as currently written, the `distance` instance variable still has its default value of 0.\r\n\r\nYou have to give it a value *before* calling `destroyEngine`.\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\r\n        // previous statements omitted\r\n        this.distance = distance;\r\n        this.isReadyToDrive = destroyEngine();\r\n    }","title":"My method in Java return always true or false without what inside my if else","body":"<p>In your second constructor (the one you're actually using in your <code>main</code> method)</p>\n<pre><code>public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\n    // previous statements omitted\n    this.isReadyToDrive = destroyEngine();\n    this.distance = distance;\n}\n</code></pre>\n<p>The <code>destroyEngine</code> methods uses the instance variable <code>distance</code> to decide whether to return <code>true</code> or <code>false</code>. But, as currently written, the <code>distance</code> instance variable still has its default value of 0.</p>\n<p>You have to give it a value <em>before</em> calling <code>destroyEngine</code>.</p>\n<pre><code>public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType, boolean isReadyToDrive, int distance) {\n    // previous statements omitted\n    this.distance = distance;\n    this.isReadyToDrive = destroyEngine();\n}\n</code></pre>\n"}],"owner":{"account_id":30060360,"reputation":1,"user_id":23036601,"display_name":"Kucher Stanislav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701693101,"answer_count":1,"score":0,"last_activity_date":1701680764,"creation_date":1701676508,"question_id":77597911,"body_markdown":"Im just start learning Java and I cant figure out what I do wrong in my method destroyEngine(). If you can help me I will very appreciate you. Thank you for your attention to my code. I tried replaced isReadyToDrive. Created new variable brokenEngine. But looks like I don&#39;t call my int distance correct.\r\nMy main.\r\n\r\n```java\r\npublic class CarManager {\r\n    public static void main(String[] args) {\r\n        Motorcycle suzuki = new Motorcycle(&quot;Suzuki GSX-R1000&quot;, 2021,16000, 600,\r\n                &quot; black&quot;, &quot;diesel&quot;, false, 0);\r\n        Motorcycle yamaha = new Motorcycle(&quot;Yamaha FZ1&quot;, 2007, 9000, 700, &quot;orangE &quot;,\r\n                &quot;gas&quot;, false, 301000);\r\n        System.out.println(suzuki);\r\n        System.out.println(yamaha);\r\n    }\r\n}\r\n```\r\n```java\r\npublic class Motorcycle {\r\n    String name;\r\n    int yearOfProduction;\r\n    int price;\r\n    int weight;\r\n    Color color;\r\n    String engineType;\r\n    boolean isReadyToDrive;\r\n    int distance;\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, Color color, String engineType,\r\n            boolean isReadyToDrive) {\r\n        this.name = name;\r\n        this.yearOfProduction = yearOfProduction;\r\n        this.price = price;\r\n        this.weight = weight;\r\n        this.color = color;\r\n        this.engineType = engineType;\r\n        this.isReadyToDrive = isReadyToDrive;\r\n    }\r\n\r\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType,\r\n            boolean isReadyToDrive, int distance) {\r\n        this.name = name;\r\n        this.yearOfProduction = yearOfProduction;\r\n        this.price = price;\r\n        this.weight = weight;\r\n        String colorTemp = color.toUpperCase();\r\n        this.color = Color.valueOf(colorTemp.replace(&quot; &quot;, &quot;&quot;));\r\n        this.engineType = engineType;\r\n        this.isReadyToDrive = destroyEngine();\r\n        this.distance = distance;\r\n    }\r\n\r\n    public boolean repair() {\r\n        isReadyToDrive = true;\r\n        return isReadyToDrive;\r\n    }\r\n\r\n    public boolean brokenEngine;\r\n\r\n    public boolean destroyEngine() {\r\n        if (distance &gt;= 200000) {\r\n            brokenEngine = false;\r\n        } else {\r\n            brokenEngine = true;\r\n        }\r\n        return brokenEngine;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Motorcycle [name=&quot; + this.name + &quot;, &quot; + &quot;yearOfProduction=&quot; + yearOfProduction + &quot;, &quot; + &quot;price=&quot;\r\n                + this.price + &quot;, &quot; +\r\n                &quot; weight=&quot; + this.weight + &quot;, &quot; + &quot;color=&quot; + this.color + &quot;, &quot; + &quot; engineType=&quot; + this.engineType + &quot;, &quot;\r\n                + &quot;isReadyToDrive=&quot; + this.isReadyToDrive\r\n                + &quot;, &quot; + &quot;distance=&quot; + distance + &quot;]&quot;;\r\n    }\r\n}\r\n```","title":"My method in Java return always true or false without what inside my if else","body":"<p>Im just start learning Java and I cant figure out what I do wrong in my method destroyEngine(). If you can help me I will very appreciate you. Thank you for your attention to my code. I tried replaced isReadyToDrive. Created new variable brokenEngine. But looks like I don't call my int distance correct.\nMy main.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CarManager {\n    public static void main(String[] args) {\n        Motorcycle suzuki = new Motorcycle(&quot;Suzuki GSX-R1000&quot;, 2021,16000, 600,\n                &quot; black&quot;, &quot;diesel&quot;, false, 0);\n        Motorcycle yamaha = new Motorcycle(&quot;Yamaha FZ1&quot;, 2007, 9000, 700, &quot;orangE &quot;,\n                &quot;gas&quot;, false, 301000);\n        System.out.println(suzuki);\n        System.out.println(yamaha);\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Motorcycle {\n    String name;\n    int yearOfProduction;\n    int price;\n    int weight;\n    Color color;\n    String engineType;\n    boolean isReadyToDrive;\n    int distance;\n\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, Color color, String engineType,\n            boolean isReadyToDrive) {\n        this.name = name;\n        this.yearOfProduction = yearOfProduction;\n        this.price = price;\n        this.weight = weight;\n        this.color = color;\n        this.engineType = engineType;\n        this.isReadyToDrive = isReadyToDrive;\n    }\n\n    public Motorcycle(String name, int yearOfProduction, int price, int weight, String color, String engineType,\n            boolean isReadyToDrive, int distance) {\n        this.name = name;\n        this.yearOfProduction = yearOfProduction;\n        this.price = price;\n        this.weight = weight;\n        String colorTemp = color.toUpperCase();\n        this.color = Color.valueOf(colorTemp.replace(&quot; &quot;, &quot;&quot;));\n        this.engineType = engineType;\n        this.isReadyToDrive = destroyEngine();\n        this.distance = distance;\n    }\n\n    public boolean repair() {\n        isReadyToDrive = true;\n        return isReadyToDrive;\n    }\n\n    public boolean brokenEngine;\n\n    public boolean destroyEngine() {\n        if (distance &gt;= 200000) {\n            brokenEngine = false;\n        } else {\n            brokenEngine = true;\n        }\n        return brokenEngine;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Motorcycle [name=&quot; + this.name + &quot;, &quot; + &quot;yearOfProduction=&quot; + yearOfProduction + &quot;, &quot; + &quot;price=&quot;\n                + this.price + &quot;, &quot; +\n                &quot; weight=&quot; + this.weight + &quot;, &quot; + &quot;color=&quot; + this.color + &quot;, &quot; + &quot; engineType=&quot; + this.engineType + &quot;, &quot;\n                + &quot;isReadyToDrive=&quot; + this.isReadyToDrive\n                + &quot;, &quot; + &quot;distance=&quot; + distance + &quot;]&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","pom.xml","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":1,"creation_date":1701634393,"post_id":77595932,"comment_id":136797347,"body_markdown":"What version of Java are you using? OpenRewrite requires at least Java 8, and the message seems to indicate you&#39;re using a lower version, based on: https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html","body":"What version of Java are you using? OpenRewrite requires at least Java 8, and the message seems to indicate you&#39;re using a lower version, based on: <a href=\"https://docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se16/html/jvms-4.html</a>"},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1701641658,"post_id":77595932,"comment_id":136797990,"body_markdown":"I have tried compiling with java 8, same results","body":"I have tried compiling with java 8, same results"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1701673392,"post_id":77595932,"comment_id":136800323,"body_markdown":"The unsupported version is for JDK 8 which means you are not using JDK 8  try to do this: `mvn --version`...","body":"The unsupported version is for JDK 8 which means you are not using JDK 8  try to do this: <code>mvn --version</code>..."},{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1701677514,"post_id":77595932,"comment_id":136800820,"body_markdown":"Impossible, doesn&#39;t works from intellij too.","body":"Impossible, doesn&#39;t works from intellij too."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701688163,"post_id":77595932,"comment_id":136802484,"body_markdown":"You can execute the cli parts from Intellij as well. ..also you should be able to do that on plain command line...","body":"You can execute the cli parts from Intellij as well. ..also you should be able to do that on plain command line..."}],"answers":[{"tags":[],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701679527,"creation_date":1701679208,"answer_id":77598142,"question_id":77595932,"body_markdown":"I have found it.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nClicking with right and selecting &quot;Modify Run Configuration&quot;...\r\n\r\n[![enter image description here][2]][2]\r\n\r\nChange the setting from here to Java 8 solves the problem.\r\n\r\n  [1]: https://i.stack.imgur.com/i7NXi.png\r\n  [2]: https://i.stack.imgur.com/gQjPG.png","title":"org/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version 52.0","body":"<p>I have found it.</p>\n<p><a href=\"https://i.stack.imgur.com/i7NXi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i7NXi.png\" alt=\"enter image description here\" /></a></p>\n<p>Clicking with right and selecting &quot;Modify Run Configuration&quot;...</p>\n<p><a href=\"https://i.stack.imgur.com/gQjPG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQjPG.png\" alt=\"enter image description here\" /></a></p>\n<p>Change the setting from here to Java 8 solves the problem.</p>\n"}],"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77598142,"answer_count":1,"score":0,"last_activity_date":1701679527,"creation_date":1701632904,"question_id":77595932,"body_markdown":"I am using OpenRewrite on my project, in IntelliJ. \r\n\r\nThis is the maven configuration for the plugin\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.8.1&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;activeRecipes&gt;\r\n\t\t\t\t&lt;recipe&gt;org.openrewrite.java.migrate.UpgradeToJava11&lt;/recipe&gt;\r\n\t\t\t&lt;/activeRecipes&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;rewrite-migrate-java&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.1.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nWhen I run the `rewrite:run` task, both by console and IntelliJ, it gives me this error\r\n\r\n&gt; Execution default-cli of goal\r\n&gt; org.openrewrite.maven:rewrite-maven-plugin:5.8.1:run failed: Unable to\r\n&gt; load  the mojo &#39;run&#39; in the plugin\r\n&gt; &#39;org.openrewrite.maven:rewrite-maven-plugin:5.8.1&#39; due to an API\r\n&gt; incompatibility:\r\n&gt; org.codehaus.plexus.component.repository.exception.ComponentLookupException:\r\n&gt; org/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version\r\n&gt; 52.0\r\n\r\nI&#39;ve tried to change Java version, but with no results. I cannot find the problem.","title":"org/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version 52.0","body":"<p>I am using OpenRewrite on my project, in IntelliJ.</p>\n<p>This is the maven configuration for the plugin</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;activeRecipes&gt;\n            &lt;recipe&gt;org.openrewrite.java.migrate.UpgradeToJava11&lt;/recipe&gt;\n        &lt;/activeRecipes&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n            &lt;artifactId&gt;rewrite-migrate-java&lt;/artifactId&gt;\n            &lt;version&gt;2.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>When I run the <code>rewrite:run</code> task, both by console and IntelliJ, it gives me this error</p>\n<blockquote>\n<p>Execution default-cli of goal\norg.openrewrite.maven:rewrite-maven-plugin:5.8.1:run failed: Unable to\nload  the mojo 'run' in the plugin\n'org.openrewrite.maven:rewrite-maven-plugin:5.8.1' due to an API\nincompatibility:\norg.codehaus.plexus.component.repository.exception.ComponentLookupException:\norg/openrewrite/maven/RewriteRunMojo : Unsupported major.minor version\n52.0</p>\n</blockquote>\n<p>I've tried to change Java version, but with no results. I cannot find the problem.</p>\n"},{"tags":["java","android","bottomnavigationview","android-bottomsheetdialog"],"answers":[{"comments":[{"owner":{"account_id":25960690,"reputation":11,"user_id":19697969,"display_name":"JohnBeacker"},"score":0,"creation_date":1701679623,"post_id":77598158,"comment_id":136801121,"body_markdown":"thanks for the help, but it didn&#39;t help me.  If it’s not difficult, you can post an example.","body":"thanks for the help, but it didn&#39;t help me.  If it’s not difficult, you can post an example."}],"tags":[],"owner":{"account_id":26180226,"reputation":1,"user_id":19863732,"display_name":"Ramil Rahimov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701679332,"creation_date":1701679332,"answer_id":77598158,"question_id":77591381,"body_markdown":"Adding a bottom margin to the main bottom sheet layout might help, try it","title":"How to display the BottomSheetDialogFragment above the BottomNavigationView","body":"<p>Adding a bottom margin to the main bottom sheet layout might help, try it</p>\n"}],"owner":{"account_id":25960690,"reputation":11,"user_id":19697969,"display_name":"JohnBeacker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1701679332,"creation_date":1701537067,"question_id":77591381,"body_markdown":"How to display the BottomSheetDialogFragment above the BottomNavigationView.\r\nTo be able to interact with the displayed BottomSheetDialogFragment as with a normal BottomSheetDialogFragment. Also, it should always be above the BottomNavigationView.\r\n\r\nI&#39;ve tried every way I can think of to realize this idea, but I can&#39;t(","title":"How to display the BottomSheetDialogFragment above the BottomNavigationView","body":"<p>How to display the BottomSheetDialogFragment above the BottomNavigationView.\nTo be able to interact with the displayed BottomSheetDialogFragment as with a normal BottomSheetDialogFragment. Also, it should always be above the BottomNavigationView.</p>\n<p>I've tried every way I can think of to realize this idea, but I can't(</p>\n"},{"tags":["java","haproxy","undertow"],"owner":{"account_id":1186947,"reputation":907,"user_id":1160721,"accept_rate":78,"display_name":"Jonhtra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701678731,"creation_date":1701678731,"question_id":77598114,"body_markdown":"I have undertow server (2.3.2) which runs on ubuntu server behind haproxy 2.6.15. This is reproducible with all default settings on haproxy so I didn&#39;t change any timeouts or settings. \r\n * When I call some endpoint on rest server, if I do it directly over rest server \r\n    http://localhost:12345/api/getSomeData, there is only debug message in log ~1 minute after request was made (Timing out idle connection) \r\n \r\n\r\n        2023-12-04 09:10:54,688 INFO  [XNIO-1 task-2] testutils.RestApi - com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user\r\n         2023-12-04 09:12:01,524 DEBUG [XNIO-1 I/O-3] protocol.ParseTimeoutUpdater - io.undertow.request\r\n       (ParseTimeoutUpdater.java:151) - Timing out idle connection from\r\n       /[0:0:0:0:0:0:0:1]:55438\r\n\r\n * When I call same endpoint over haproxy which is redirecting it to undertow http server (http://localhost/api/getSomeData) I get debug in log with exception stack trace. This is probably not concerning, but I can&#39;t find anywhere what is the cause (timeout setting on haproxy) causing it. This is printed in log exactly 15 seconds after http call\r\n\r\n&gt;      2023-12-04 09:01:45,046 INFO  [XNIO-1 task-2] testutils.RestApi -\r\n&gt;      com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user \r\n&gt;      2023-12-04 09:02:00,770 DEBUG [XNIO-1 I/O-6] http.HttpReadListener -\r\n&gt;      io.undertow.request.io (HttpReadListener.java:160) - Error reading\r\n&gt;      request  java.net.SocketException: Connection reset \tat\r\n&gt;      sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\r\n&gt;      ~[?:?] \tat\r\n&gt;      sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434) ~[?:?]\r\n&gt;      \tat org.xnio.nio.NioSocketConduit.read(NioSocketConduit.java:289)\r\n&gt;      ~[xnio-nio-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\r\n&gt;      ~[xnio-api-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:158)\r\n&gt;      [undertow-core-2.3.2.Final.jar:2.3.2.Final] \tat\r\n&gt;      io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\r\n&gt;      [undertow-core-2.3.2.Final.jar:2.3.2.Final] \tat\r\n&gt;      io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\r\n&gt;      [undertow-core-2.3.2.Final.jar:2.3.2.Final] \tat\r\n&gt;      org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n&gt;      [xnio-api-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n&gt;      [xnio-api-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n&gt;      [xnio-nio-3.8.8.Final.jar:3.8.8.Final] \tat\r\n&gt;      org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n&gt;      [xnio-nio-3.8.8.Final.jar:3.8.8.Final]\r\n\r\n","title":"Connection reset in log when using undertow behind haproxy","body":"<p>I have undertow server (2.3.2) which runs on ubuntu server behind haproxy 2.6.15. This is reproducible with all default settings on haproxy so I didn't change any timeouts or settings.</p>\n<ul>\n<li><p>When I call some endpoint on rest server, if I do it directly over rest server\nhttp://localhost:12345/api/getSomeData, there is only debug message in log ~1 minute after request was made (Timing out idle connection)</p>\n<pre><code> 2023-12-04 09:10:54,688 INFO  [XNIO-1 task-2] testutils.RestApi - com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user\n  2023-12-04 09:12:01,524 DEBUG [XNIO-1 I/O-3] protocol.ParseTimeoutUpdater - io.undertow.request\n(ParseTimeoutUpdater.java:151) - Timing out idle connection from\n/[0:0:0:0:0:0:0:1]:55438\n</code></pre>\n</li>\n<li><p>When I call same endpoint over haproxy which is redirecting it to undertow http server (http://localhost/api/getSomeData) I get debug in log with exception stack trace. This is probably not concerning, but I can't find anywhere what is the cause (timeout setting on haproxy) causing it. This is printed in log exactly 15 seconds after http call</p>\n</li>\n</ul>\n<blockquote>\n<pre><code> 2023-12-04 09:01:45,046 INFO  [XNIO-1 task-2] testutils.RestApi -\n com.test.utils.testutils.RestApi (RestApi.java:64) - Getting user \n 2023-12-04 09:02:00,770 DEBUG [XNIO-1 I/O-6] http.HttpReadListener -\n io.undertow.request.io (HttpReadListener.java:160) - Error reading\n request  java.net.SocketException: Connection reset  at\n sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\n ~[?:?]   at\n sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434) ~[?:?]\n  at org.xnio.nio.NioSocketConduit.read(NioSocketConduit.java:289)\n ~[xnio-nio-3.8.8.Final.jar:3.8.8.Final]  at\n org.xnio.conduits.ConduitStreamSourceChannel.read(ConduitStreamSourceChannel.java:127)\n ~[xnio-api-3.8.8.Final.jar:3.8.8.Final]  at\n io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:158)\n [undertow-core-2.3.2.Final.jar:2.3.2.Final]  at\n io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\n [undertow-core-2.3.2.Final.jar:2.3.2.Final]  at\n io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\n [undertow-core-2.3.2.Final.jar:2.3.2.Final]  at\n org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n [xnio-api-3.8.8.Final.jar:3.8.8.Final]   at\n org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n [xnio-api-3.8.8.Final.jar:3.8.8.Final]   at\n org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n [xnio-nio-3.8.8.Final.jar:3.8.8.Final]   at\n org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n [xnio-nio-3.8.8.Final.jar:3.8.8.Final]\n</code></pre>\n</blockquote>\n"},{"tags":["java","oracle","utf-8","substring"],"comments":[{"owner":{"account_id":2080670,"reputation":3333,"user_id":1852723,"accept_rate":75,"display_name":"Drunix"},"score":0,"creation_date":1437060707,"post_id":31455706,"comment_id":50883891,"body_markdown":"Perhaps using character length semantics for defining column length could be an option.","body":"Perhaps using character length semantics for defining column length could be an option."}],"answers":[{"comments":[{"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"score":0,"creation_date":1437054689,"post_id":31455858,"comment_id":50879281,"body_markdown":"If you have a 2 byte character starting right before the truncation, wont this truncate in the middle of a 2 byte character then store the data incorrectly?  Or what happens in that case?","body":"If you have a 2 byte character starting right before the truncation, wont this truncate in the middle of a 2 byte character then store the data incorrectly?  Or what happens in that case?"}],"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437054629,"creation_date":1437053943,"answer_id":31455858,"question_id":31455706,"body_markdown":"I think that the best bet in this case would be substringing at the database level, with the Oracle SUBSTR function directly on the SQL QUERY .\r\n\r\nFor example :\r\n\r\n    INSERT INTO ttable (colname) VALUES (SUBSTR( ?, 1, 10 ))\r\n\r\n\r\nWhere the exclamation point stand for the SQL parameter sent through JDBC .","title":"How to do substring for UTF8 string in java?","body":"<p>I think that the best bet in this case would be substringing at the database level, with the Oracle SUBSTR function directly on the SQL QUERY .</p>\n\n<p>For example :</p>\n\n<pre><code>INSERT INTO ttable (colname) VALUES (SUBSTR( ?, 1, 10 ))\n</code></pre>\n\n<p>Where the exclamation point stand for the SQL parameter sent through JDBC .</p>\n"},{"comments":[{"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"score":0,"creation_date":1437054169,"post_id":31455860,"comment_id":50878813,"body_markdown":"Yes, but what if the underlying database character set will change to something else ?","body":"Yes, but what if the underlying database character set will change to something else ?"},{"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"score":0,"creation_date":1437054181,"post_id":31455860,"comment_id":50878823,"body_markdown":"The number of bytes may change depending on the encoding used.  So this isn&#39;t universal","body":"The number of bytes may change depending on the encoding used.  So this isn&#39;t universal"},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":1,"creation_date":1437054227,"post_id":31455860,"comment_id":50878860,"body_markdown":"This is the number of bytes used in java. If a character is present in UTF8 it is represented as 1 byte, if it a character of UTF16 not present in UTF8 it is represented by 2 bytes.","body":"This is the number of bytes used in java. If a character is present in UTF8 it is represented as 1 byte, if it a character of UTF16 not present in UTF8 it is represented by 2 bytes."},{"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"score":1,"creation_date":1437054322,"post_id":31455860,"comment_id":50878939,"body_markdown":"I see what you&#39;re saying that its consistent in Java, but i mean, it wont necessarily always match the database bytes.  it would depend on the encoding in the database as well.  In this specific case it match though.","body":"I see what you&#39;re saying that its consistent in Java, but i mean, it wont necessarily always match the database bytes.  it would depend on the encoding in the database as well.  In this specific case it match though."},{"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"score":0,"creation_date":1437054944,"post_id":31455860,"comment_id":50879469,"body_markdown":"I am sorry i ran this code and i am getting 9 in both case.","body":"I am sorry i ran this code and i am getting 9 in both case."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":1,"creation_date":1437055449,"post_id":31455860,"comment_id":50879928,"body_markdown":"@Singh Perhaps your default charset is not UTF-8? If yes you have to replace with System.out.println(&quot;R&#252;ckruf i&quot;.getBytes(&quot;UTF-8&quot;).length); I added the solution for non UTF-8 charsets","body":"@Singh Perhaps your default charset is not UTF-8? If yes you have to replace with System.out.println(&quot;R&#252;ckruf i&quot;.getBytes(&quot;UTF-8&quot;).length); I added the solution for non UTF-8 charsets"}],"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437055364,"creation_date":1437053950,"answer_id":31455860,"question_id":31455706,"body_markdown":"You can calculate the correct length of a `String` in java converting the string to a byte array.\r\n\r\nAs an example see the code below:\r\n\r\n    System.out.println(&quot;R&#252;ckruf i&quot;.length()); // prints 9 \r\n    System.out.println(&quot;R&#252;ckruf i&quot;.getBytes().length); // prints 10 \r\n\r\nIf the current charset is not UTF-8 replace the code with:\r\n\r\n    System.out.println(&quot;R&#252;ckruf i&quot;.length()); // prints 9 \r\n    System.out.println(&quot;R&#252;ckruf i&quot;.getBytes(&quot;UTF-8&quot;).length); // prints 10 \r\n\r\nIf needed you can replace the UTF-8 with the charset you like to test for the length of string in that charset.\r\n","title":"How to do substring for UTF8 string in java?","body":"<p>You can calculate the correct length of a <code>String</code> in java converting the string to a byte array.</p>\n\n<p>As an example see the code below:</p>\n\n<pre><code>System.out.println(\"Rückruf i\".length()); // prints 9 \nSystem.out.println(\"Rückruf i\".getBytes().length); // prints 10 \n</code></pre>\n\n<p>If the current charset is not UTF-8 replace the code with:</p>\n\n<pre><code>System.out.println(\"Rückruf i\".length()); // prints 9 \nSystem.out.println(\"Rückruf i\".getBytes(\"UTF-8\").length); // prints 10 \n</code></pre>\n\n<p>If needed you can replace the UTF-8 with the charset you like to test for the length of string in that charset.</p>\n"},{"tags":[],"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437055835,"creation_date":1437054133,"answer_id":31455939,"question_id":31455706,"body_markdown":"You need to have the encoding in the database match the encoding for java strings.  Alternatively, you can convert the string using something like [this][1] and get the length that matches the encoding in the database.  This will give you an accurate byte count.  Otherwise, you&#39;re still just hoping that the encodings match.\r\n\r\n        String string = &quot;R&#252;ckruf ins Ausland&quot;;\r\n        \r\n        int curByteCount = 0;\r\n        String nextChar;\r\n        for(int index = 0; curByteCount +  \r\n             (nextChar = string.substr(index,index + 1)).getBytes(&quot;UTF-8&quot;).length &lt; trimmedBytes.length;  index++){\r\n            curByteCount += nextChar.getBytes(&quot;UTF-8&quot;).length;\r\n\r\n        }\r\n        byte[] subStringBytes = new byte[10];\r\n        System.arraycopy(string.getBytes(&quot;UTF-8&quot;), 0, subStringBytes, 0, curByteCount);\r\n        String trimed = new String(subStringBytes, &quot;UTF-8&quot;);\r\n\r\nThis should do it.  It also, shoudln&#39;t truncate a multi-byte character in the process.  The assumption here is that the database is UTF-8 Encoding.  Another assumption is that the string actually needs to be trimmed.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/text/string.html","title":"How to do substring for UTF8 string in java?","body":"<p>You need to have the encoding in the database match the encoding for java strings.  Alternatively, you can convert the string using something like <a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/string.html\" rel=\"nofollow\">this</a> and get the length that matches the encoding in the database.  This will give you an accurate byte count.  Otherwise, you're still just hoping that the encodings match.</p>\n\n<pre><code>    String string = \"Rückruf ins Ausland\";\n\n    int curByteCount = 0;\n    String nextChar;\n    for(int index = 0; curByteCount +  \n         (nextChar = string.substr(index,index + 1)).getBytes(\"UTF-8\").length &lt; trimmedBytes.length;  index++){\n        curByteCount += nextChar.getBytes(\"UTF-8\").length;\n\n    }\n    byte[] subStringBytes = new byte[10];\n    System.arraycopy(string.getBytes(\"UTF-8\"), 0, subStringBytes, 0, curByteCount);\n    String trimed = new String(subStringBytes, \"UTF-8\");\n</code></pre>\n\n<p>This should do it.  It also, shoudln't truncate a multi-byte character in the process.  The assumption here is that the database is UTF-8 Encoding.  Another assumption is that the string actually needs to be trimmed.</p>\n"},{"tags":[],"owner":{"account_id":299053,"reputation":3959,"user_id":605422,"display_name":"Giovanni"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1437054415,"creation_date":1437054415,"answer_id":31456079,"question_id":31455706,"body_markdown":"If you want to trim the data in Java you must write a function that trims the string using the db charset used, something like this test case:\r\n\r\n\tpackage test;\r\n\t\r\n\timport java.io.UnsupportedEncodingException;\r\n\t\r\n\tpublic class TrimField {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n            //UTF-8 is the db charset\r\n\t\t\tSystem.out.println(trim(&quot;R&#252;ckruf ins Ausland&quot;,10,&quot;UTF-8&quot;));\r\n\t\t\tSystem.out.println(trim(&quot;R&#252;&#252;ckruf ins Ausland&quot;,10,&quot;UTF-8&quot;));\r\n\t\t}\r\n\t\r\n\t\tpublic static String trim(String value, int numBytes, String charset) {\r\n\t\t\tdo {\r\n\t\t\t\tbyte[] valueInBytes = null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvalueInBytes = value.getBytes(charset);\r\n\t\t\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\t\t\tthrow new RuntimeException(e.getMessage(), e);\r\n\t\t\t\t}\r\n\t\t\t\tif (valueInBytes.length &gt; numBytes) {\r\n\t\t\t\t\tvalue = value.substring(0, value.length() - 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t} while (value.length() &gt; 0);\r\n\t\t\treturn &quot;&quot;;\r\n\t\r\n\t\t}\r\n\t\r\n\t}\r\n","title":"How to do substring for UTF8 string in java?","body":"<p>If you want to trim the data in Java you must write a function that trims the string using the db charset used, something like this test case:</p>\n\n<pre><code>package test;\n\nimport java.io.UnsupportedEncodingException;\n\npublic class TrimField {\n\n    public static void main(String[] args) {\n        //UTF-8 is the db charset\n        System.out.println(trim(\"Rückruf ins Ausland\",10,\"UTF-8\"));\n        System.out.println(trim(\"Rüückruf ins Ausland\",10,\"UTF-8\"));\n    }\n\n    public static String trim(String value, int numBytes, String charset) {\n        do {\n            byte[] valueInBytes = null;\n            try {\n                valueInBytes = value.getBytes(charset);\n            } catch (UnsupportedEncodingException e) {\n                throw new RuntimeException(e.getMessage(), e);\n            }\n            if (valueInBytes.length &gt; numBytes) {\n                value = value.substring(0, value.length() - 1);\n            } else {\n                return value;\n            }\n        } while (value.length() &gt; 0);\n        return \"\";\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1437054671,"post_id":31456147,"comment_id":50879265,"body_markdown":"Shouldn&#39;t `length=9;` be `length--;` and without the break? What if you have two `&quot;&#252;&#252;&quot;` in the String?","body":"Shouldn&#39;t <code>length=9;</code> be <code>length--;</code> and without the break? What if you have two <code>&quot;&#252;&#252;&quot;</code> in the String?"},{"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"score":0,"creation_date":1437054752,"post_id":31456147,"comment_id":50879330,"body_markdown":"Yeah right.. My bad.. Let me edit it and i have breaked the loop as well.","body":"Yeah right.. My bad.. Let me edit it and i have breaked the loop as well."},{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1437054811,"post_id":31456147,"comment_id":50879377,"body_markdown":"This solution works only for strings of 10 characters with at most one &quot;two bytes&quot; char. Any other strings returns always  9 or 10 or throw an indexOutOfBoundsException","body":"This solution works only for strings of 10 characters with at most one &quot;two bytes&quot; char. Any other strings returns always  9 or 10 or throw an indexOutOfBoundsException"},{"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"score":0,"creation_date":1437055042,"post_id":31456147,"comment_id":50879565,"body_markdown":"Yeah i changed the solution as per the above comment. Can you check it now? Now it&#39;s working dynamically for any solution.","body":"Yeah i changed the solution as per the above comment. Can you check it now? Now it&#39;s working dynamically for any solution."}],"tags":[],"owner":{"account_id":6450631,"reputation":625,"user_id":4997647,"accept_rate":33,"display_name":"Kulbhushan Singh"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1437054766,"creation_date":1437054587,"answer_id":31456147,"question_id":31455706,"body_markdown":"Hey all the ASCII characters are less than 128. You can use the below code.\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString s= &quot;R&#252;ckruf ins Ausland&quot;;\r\n    \t\tint length =10;\r\n    \t\tfor(int i=0;i&lt;s.length();i++){\r\n    \t\t\tif(!(((int)s.charAt(i))&lt;128)){\r\n    \t\t\t\tlength--;    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(s.substring(0,length));\r\n    \t}\r\n    }\r\n\r\nYou can copy paste and check if it fulfills yuor need or it breaks anywhere.","title":"How to do substring for UTF8 string in java?","body":"<p>Hey all the ASCII characters are less than 128. You can use the below code.</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        String s= \"Rückruf ins Ausland\";\n        int length =10;\n        for(int i=0;i&lt;s.length();i++){\n            if(!(((int)s.charAt(i))&lt;128)){\n                length--;                   \n            }\n        }\n        System.out.println(s.substring(0,length));\n    }\n}\n</code></pre>\n\n<p>You can copy paste and check if it fulfills yuor need or it breaks anywhere.</p>\n"},{"comments":[{"owner":{"account_id":1022685,"reputation":1563,"user_id":1032640,"accept_rate":71,"display_name":"Wael"},"score":0,"creation_date":1437055732,"post_id":31456334,"comment_id":50880171,"body_markdown":"This worked and the nice thing about it is that it doesn&#39;t have any loop. it is straight-forward","body":"This worked and the nice thing about it is that it doesn&#39;t have any loop. it is straight-forward"},{"owner":{"account_id":3255523,"reputation":4267,"user_id":2744726,"accept_rate":79,"display_name":"Carlos Bribiescas"},"score":5,"creation_date":1437056105,"post_id":31456334,"comment_id":50880476,"body_markdown":"I&#39;m pretty sure it will truncate multi-byte characters if they are at the boundary of the trim.  I based my solution on this, with the exception that I loop though and check that a new character won&#39;t cross the boundary.","body":"I&#39;m pretty sure it will truncate multi-byte characters if they are at the boundary of the trim.  I based my solution on this, with the exception that I loop though and check that a new character won&#39;t cross the boundary."},{"owner":{"account_id":1022685,"reputation":1563,"user_id":1032640,"accept_rate":71,"display_name":"Wael"},"score":2,"creation_date":1437056170,"post_id":31456334,"comment_id":50880531,"body_markdown":"yes you are right, I tried an example like 123456789&#252; and the trimmed string was 123456789? with a ? at the end","body":"yes you are right, I tried an example like 123456789&#252; and the trimmed string was 123456789? with a ? at the end"},{"owner":{"account_id":6466583,"reputation":37,"user_id":5008283,"display_name":"DomK"},"score":1,"creation_date":1437056449,"post_id":31456334,"comment_id":50880740,"body_markdown":"@CarlosBribiescas You are right, didn&#39;t think about that!","body":"@CarlosBribiescas You are right, didn&#39;t think about that!"},{"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"score":0,"creation_date":1666527667,"post_id":31456334,"comment_id":130953753,"body_markdown":"I based my solution on this, and for preventing truncation of the last character, it checks to see if the last character of result is the same as in the input string, and if it&#39;s not the same removes it. https://stackoverflow.com/a/74171076/5128831","body":"I based my solution on this, and for preventing truncation of the last character, it checks to see if the last character of result is the same as in the input string, and if it&#39;s not the same removes it. <a href=\"https://stackoverflow.com/a/74171076/5128831\">stackoverflow.com/a/74171076/5128831</a>"}],"tags":[],"owner":{"account_id":6466583,"reputation":37,"user_id":5008283,"display_name":"DomK"},"comment_count":5,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1437055026,"creation_date":1437055026,"answer_id":31456334,"question_id":31455706,"body_markdown":"If it has to be Java you could parse the string to bytes and trim the length of the array.\r\n\r\n            String s = &quot;R&#252;ckruf ins Ausland&quot;;\r\n            byte[] bytes = s.getBytes(&quot;UTF-8&quot;);\r\n            byte[] bytes2 = new byte[10];\r\n            System.arraycopy(bytes, 0, bytes2, 0, 10);\r\n            String trim = new String(bytes2, &quot;UTF-8&quot;);","title":"How to do substring for UTF8 string in java?","body":"<p>If it has to be Java you could parse the string to bytes and trim the length of the array.</p>\n\n<pre><code>        String s = \"Rückruf ins Ausland\";\n        byte[] bytes = s.getBytes(\"UTF-8\");\n        byte[] bytes2 = new byte[10];\n        System.arraycopy(bytes, 0, bytes2, 0, 10);\n        String trim = new String(bytes2, \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437055743,"creation_date":1437055743,"answer_id":31456628,"question_id":31455706,"body_markdown":"The following horribly circumstantially walks through the entire string by full Unicode code point, so also char pairs (surrogate code points).\r\n\r\n    public String trim(String s, int length) {\r\n        byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\r\n        if (bytes.length &lt;= length) {\r\n            return s;\r\n        }\r\n        int totalByteCount = 0;\r\n        for (int i = 0; i &lt; s.length(); ) {\r\n            int cp = s.codePointAt(i);\r\n            int n = Character.charCount(cp);\r\n            int byteCount = s.substring(i, i + n)\r\n                    .getBytes(StandardCharsets.UTF_8).length;\r\n            if (totalByteCount + byteCount) &gt; length) {\r\n                break;\r\n            }\r\n            totalByteCount += byteCount;\r\n            i += n;\r\n        }\r\n        return new String(bytes, 0, totalByteCount);\r\n    }\r\n\r\nIt can still be optimized a bit.","title":"How to do substring for UTF8 string in java?","body":"<p>The following horribly circumstantially walks through the entire string by full Unicode code point, so also char pairs (surrogate code points).</p>\n\n<pre><code>public String trim(String s, int length) {\n    byte[] bytes = s.getBytes(StandardCharsets.UTF_8);\n    if (bytes.length &lt;= length) {\n        return s;\n    }\n    int totalByteCount = 0;\n    for (int i = 0; i &lt; s.length(); ) {\n        int cp = s.codePointAt(i);\n        int n = Character.charCount(cp);\n        int byteCount = s.substring(i, i + n)\n                .getBytes(StandardCharsets.UTF_8).length;\n        if (totalByteCount + byteCount) &gt; length) {\n            break;\n        }\n        totalByteCount += byteCount;\n        i += n;\n    }\n    return new String(bytes, 0, totalByteCount);\n}\n</code></pre>\n\n<p>It can still be optimized a bit.</p>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666527473,"creation_date":1666527473,"answer_id":74171076,"question_id":31455706,"body_markdown":"Here is the best solution, it takes only 1 milliseconds to execute because it doesn&#39;t have any loops.\r\n\r\n        /**\r\n         * This function trims the text by requested max byte size\r\n         *\r\n         * @param text   text string\r\n         * @param length maximum byte size\r\n         * @return trimmed text\r\n         */\r\n        public static String trim(String text, int length) {\r\n            byte[] inputBytes = text.getBytes(StandardCharsets.UTF_8);\r\n            byte[] outputBytes = new byte[length];\r\n    \r\n            System.arraycopy(inputBytes, 0, outputBytes, 0, length);\r\n            String result = new String(outputBytes, StandardCharsets.UTF_8);\r\n    \r\n            // check if last character is truncated\r\n            int lastIndex = result.length() - 1;\r\n    \r\n            if (lastIndex &gt; 0 &amp;&amp; result.charAt(lastIndex) != text.charAt(lastIndex)) {\r\n                // last character is truncated so remove the last character\r\n                return result.substring(0, lastIndex);\r\n            }\r\n    \r\n            return result;\r\n        }","title":"How to do substring for UTF8 string in java?","body":"<p>Here is the best solution, it takes only 1 milliseconds to execute because it doesn't have any loops.</p>\n<pre><code>    /**\n     * This function trims the text by requested max byte size\n     *\n     * @param text   text string\n     * @param length maximum byte size\n     * @return trimmed text\n     */\n    public static String trim(String text, int length) {\n        byte[] inputBytes = text.getBytes(StandardCharsets.UTF_8);\n        byte[] outputBytes = new byte[length];\n\n        System.arraycopy(inputBytes, 0, outputBytes, 0, length);\n        String result = new String(outputBytes, StandardCharsets.UTF_8);\n\n        // check if last character is truncated\n        int lastIndex = result.length() - 1;\n\n        if (lastIndex &gt; 0 &amp;&amp; result.charAt(lastIndex) != text.charAt(lastIndex)) {\n            // last character is truncated so remove the last character\n            return result.substring(0, lastIndex);\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182945,"reputation":1298,"user_id":1932017,"display_name":"YujiSoftware"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701678618,"creation_date":1701604166,"answer_id":77594139,"question_id":31455706,"body_markdown":"# Easy and fast solution\r\n\r\nFor UTF-8, the length is determined by the first byte.\r\n[UTF-8 - Wikipedia](https://en.wikipedia.org/wiki/UTF-8#Encoding)\r\n\r\n```java\r\nprivate static String substring(String text, int bytes) {\r\n    byte[] utf8 = text.getBytes(StandardCharsets.UTF_8);\r\n\r\n    int length = 0;\r\n    for (int i = 0; i &lt; utf8.length; ) {\r\n        if ((utf8[i] &amp; 0b1111_1000) == 0b1111_0000) {\r\n            i += 4;\r\n        } else if ((utf8[i] &amp; 0b1111_0000) == 0b1110_0000) {\r\n            i += 3;\r\n        } else if ((utf8[i] &amp; 0b1110_0000) == 0b1100_0000) {\r\n            i += 2;\r\n        } else {\r\n            i += 1;\r\n        }\r\n\r\n        if (bytes &lt; i) {\r\n            break;\r\n        }\r\n        length = i;\r\n    }\r\n\r\n    return new String(Arrays.copyOfRange(utf8, 0, length), StandardCharsets.UTF_8);\r\n}\r\n```\r\n\r\n# For example\r\n\r\nExample of cutting within 10 bytes.\r\n\r\n```\r\nInput : &quot;R&#252;ckruf ins Ausland&quot;\r\nOutput: &quot;R&#252;ckruf i&quot;  (10 bytes)\r\n\r\nInput : &quot;R&#252;ckruf&quot;\r\nOutput: &quot;R&#252;ckruf&quot; (8 bytes)\r\n\r\nInput : &quot;123456789&#252;&quot;\r\nOutput: &quot;123456789&quot; (9 bytes)\r\n\r\nInput : &quot;R&#252;&#252;&#252;&#252;&#252;&#252;&quot;\r\nOutput: &quot;R&#252;&#252;&#252;&#252;&quot;  (9 bytes)\r\n\r\nInput : &quot;✅✅✅✅✅&quot;\r\nOutput: &quot;✅✅✅&quot;  (9 bytes)\r\n\r\nInput : &quot;&#127881;&#127881;&#127881;&#127881;&#127881;&quot;\r\nOutput: &quot;&#127881;&#127881;&quot;  (8 bytes)\r\n```\r\n\r\nNote: `&#252;` is 2 bytes, `✅` is 3 bytes, `&#127881;` is 4 bytes","title":"How to do substring for UTF8 string in java?","body":"<h1>Easy and fast solution</h1>\n<p>For UTF-8, the length is determined by the first byte.\n<a href=\"https://en.wikipedia.org/wiki/UTF-8#Encoding\" rel=\"nofollow noreferrer\">UTF-8 - Wikipedia</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String substring(String text, int bytes) {\n    byte[] utf8 = text.getBytes(StandardCharsets.UTF_8);\n\n    int length = 0;\n    for (int i = 0; i &lt; utf8.length; ) {\n        if ((utf8[i] &amp; 0b1111_1000) == 0b1111_0000) {\n            i += 4;\n        } else if ((utf8[i] &amp; 0b1111_0000) == 0b1110_0000) {\n            i += 3;\n        } else if ((utf8[i] &amp; 0b1110_0000) == 0b1100_0000) {\n            i += 2;\n        } else {\n            i += 1;\n        }\n\n        if (bytes &lt; i) {\n            break;\n        }\n        length = i;\n    }\n\n    return new String(Arrays.copyOfRange(utf8, 0, length), StandardCharsets.UTF_8);\n}\n</code></pre>\n<h1>For example</h1>\n<p>Example of cutting within 10 bytes.</p>\n<pre><code>Input : &quot;Rückruf ins Ausland&quot;\nOutput: &quot;Rückruf i&quot;  (10 bytes)\n\nInput : &quot;Rückruf&quot;\nOutput: &quot;Rückruf&quot; (8 bytes)\n\nInput : &quot;123456789ü&quot;\nOutput: &quot;123456789&quot; (9 bytes)\n\nInput : &quot;Rüüüüüü&quot;\nOutput: &quot;Rüüüü&quot;  (9 bytes)\n\nInput : &quot;✅✅✅✅✅&quot;\nOutput: &quot;✅✅✅&quot;  (9 bytes)\n\nInput : &quot;🎉🎉🎉🎉🎉&quot;\nOutput: &quot;🎉🎉&quot;  (8 bytes)\n</code></pre>\n<p>Note: <code>ü</code> is 2 bytes, <code>✅</code> is 3 bytes, <code>🎉</code> is 4 bytes</p>\n"}],"owner":{"account_id":1022685,"reputation":1563,"user_id":1032640,"accept_rate":71,"display_name":"Wael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9058,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":31456079,"answer_count":9,"score":7,"last_activity_date":1701678665,"creation_date":1437053551,"question_id":31455706,"body_markdown":"Suppose I have the following string: **R&#252;ckruf ins Ausland** I need to insert it into the database which has a max size of 10. \r\nI did a normal substring in `java` and it extracted this string **R&#252;ckruf in** which is 10 characters. When it tries to insert this column I get the following oracle error: \r\n&gt; java.sql.SQLException: ORA-12899: value too large for column\r\n&gt; &quot;WAEL&quot;.&quot;TESTTBL&quot;.&quot;DESC&quot; (actual: 11, maximum: 10)\r\nThe reason for this is that the database has a AL32UTF8 character set thus the &#252; will take 2 chars. \r\n\r\nI need to write a function in java that does this substring but taking into consideration that the &#252; takes 2 bytes so the returned substring in this case should be **R&#252;ckruf i** (9 chars). Any suggestions?","title":"How to do substring for UTF8 string in java?","body":"<p>Suppose I have the following string: <strong>Rückruf ins Ausland</strong> I need to insert it into the database which has a max size of 10.\nI did a normal substring in <code>java</code> and it extracted this string <strong>Rückruf in</strong> which is 10 characters. When it tries to insert this column I get the following oracle error:</p>\n<blockquote>\n<p>java.sql.SQLException: ORA-12899: value too large for column\n&quot;WAEL&quot;.&quot;TESTTBL&quot;.&quot;DESC&quot; (actual: 11, maximum: 10)\nThe reason for this is that the database has a AL32UTF8 character set thus the ü will take 2 chars.</p>\n</blockquote>\n<p>I need to write a function in java that does this substring but taking into consideration that the ü takes 2 bytes so the returned substring in this case should be <strong>Rückruf i</strong> (9 chars). Any suggestions?</p>\n"},{"tags":["java","postgresql","oracle","eclipselink"],"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701678644,"creation_date":1701678644,"question_id":77598110,"body_markdown":"I am working on the cloud migration for my application. As part of this the on premise DB oracle has been migrated to postgresql in AWS. After migration my java code is breaking in the following CursoredStream which was working before. I am using eclipselink version 2.5.2 and the java version is 17.\r\n           \r\n ```\r\n            Query activity_query = em.createNativeQuery(query.toString(), ActivityLog.class);\r\n\t\t\tclaim_query.setHint(&quot;eclipselink.read-only&quot;, true);\t\t\t\r\n\t\t\tclaim_query.setHint(&quot;eclipselink.cursor&quot;, true);\r\n\t\t\tCursoredStream scrollableCursor = (CursoredStream) activity_query.getSingleResult();\r\n```\r\nThe query is executing fine in pgadmin and there are a total of 130 columns being returned. I have validated all the table column names with the column names declared in the ActivityLog entity class with @Column annotation and also verified the return datatype for all the columns. Everything is looking good. The ActivityLog entity class is declared in the persistence.xml file as well. Tried upgrading the eclipse link version in pom.xml. But nothing seems to be working. After printing the stacktrace I am getting the below exception in the logs\r\n ```\r\n            at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:547)\r\n        at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:400)\r\n        at com.theapplication.detail.dao.AgedoutOfBalanceClaimsDAO.getReportOOBDataexcel(ActivityDAO.java:153)\r\n        at com.theapplication.detail.service.AgedoutOfBalanceClaimsReportService.buildFile(ActivityService.java:152)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: Exception [EclipseLink-6007] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.QueryException\r\nException Description: Missing descriptor for [class com.theapplication.detail.entity.ActivityLog].\r\n```\r\nI tried out different solution available online and its still showing as Missing descriptor for [class com.theapplication.detail.entity.ActivityLog]. I am not able to post all the entity class code due to my organization policy. Stuck with this issue for more than 3 days now. Any help will be greatly appreciated. Thanks in advance.","title":"How to resolve Missing descriptor for entity class in java","body":"<p>I am working on the cloud migration for my application. As part of this the on premise DB oracle has been migrated to postgresql in AWS. After migration my java code is breaking in the following CursoredStream which was working before. I am using eclipselink version 2.5.2 and the java version is 17.</p>\n<pre><code>           Query activity_query = em.createNativeQuery(query.toString(), ActivityLog.class);\n           claim_query.setHint(&quot;eclipselink.read-only&quot;, true);         \n           claim_query.setHint(&quot;eclipselink.cursor&quot;, true);\n           CursoredStream scrollableCursor = (CursoredStream) activity_query.getSingleResult();\n</code></pre>\n<p>The query is executing fine in pgadmin and there are a total of 130 columns being returned. I have validated all the table column names with the column names declared in the ActivityLog entity class with @Column annotation and also verified the return datatype for all the columns. Everything is looking good. The ActivityLog entity class is declared in the persistence.xml file as well. Tried upgrading the eclipse link version in pom.xml. But nothing seems to be working. After printing the stacktrace I am getting the below exception in the logs</p>\n<pre><code>           at org.eclipse.persistence.internal.jpa.QueryImpl.getSingleResult(QueryImpl.java:547)\n       at org.eclipse.persistence.internal.jpa.EJBQueryImpl.getSingleResult(EJBQueryImpl.java:400)\n       at com.theapplication.detail.dao.AgedoutOfBalanceClaimsDAO.getReportOOBDataexcel(ActivityDAO.java:153)\n       at com.theapplication.detail.service.AgedoutOfBalanceClaimsReportService.buildFile(ActivityService.java:152)\n       at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: Exception [EclipseLink-6007] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.QueryException\nException Description: Missing descriptor for [class com.theapplication.detail.entity.ActivityLog].\n</code></pre>\n<p>I tried out different solution available online and its still showing as Missing descriptor for [class com.theapplication.detail.entity.ActivityLog]. I am not able to post all the entity class code due to my organization policy. Stuck with this issue for more than 3 days now. Any help will be greatly appreciated. Thanks in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9898,"page":19,"page_size":100}
