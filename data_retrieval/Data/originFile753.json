{"items":[{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1408068675,"post_id":25311535,"comment_id":39469336,"body_markdown":"What do you want the resulting stream to look like? Do you want each `Supplier` to be called repeatedly, or just once, or a certain number of times, or what? Perhaps you could clarify by providing an example.","body":"What do you want the resulting stream to look like? Do you want each <code>Supplier</code> to be called repeatedly, or just once, or a certain number of times, or what? Perhaps you could clarify by providing an example."},{"owner":{"account_id":10242,"reputation":12230,"user_id":19246,"accept_rate":82,"display_name":"Martin C."},"score":0,"creation_date":1408118223,"post_id":25311535,"comment_id":39487257,"body_markdown":"Just to be sure to understand correctly: you want to generate a stream from whichever Supplier has an item available? The order is more or less defines by which supplier already has a new item available?","body":"Just to be sure to understand correctly: you want to generate a stream from whichever Supplier has an item available? The order is more or less defines by which supplier already has a new item available?"},{"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"score":0,"creation_date":1672958317,"post_id":25311535,"comment_id":132396750,"body_markdown":"Well in my case which I would think is pretty typical I have two methods I&#39;m calking, one that gets one string and a second that gets a different string.","body":"Well in my case which I would think is pretty typical I have two methods I&#39;m calking, one that gets one string and a second that gets a different string."}],"answers":[{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1408034832,"post_id":25312020,"comment_id":39456293,"body_markdown":"I thought perhaps mananoreboton wanted to stream multiple Streams or Suppliers sequentially.  That can be accomplished with [Stream.concat](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-).","body":"I thought perhaps mananoreboton wanted to stream multiple Streams or Suppliers sequentially.  That can be accomplished with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\" rel=\"nofollow noreferrer\">Stream.concat</a>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1408034874,"post_id":25312020,"comment_id":39456309,"body_markdown":"@VGR: that doesn’t work as streams generated from a `Supplier` are *infinite* so you can’t process one stream after the other. I’ll extend my answer as this seems to pop up over and over.","body":"@VGR: that doesn’t work as streams generated from a <code>Supplier</code> are <i>infinite</i> so you can’t process one stream after the other. I’ll extend my answer as this seems to pop up over and over."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1408035851,"post_id":25312020,"comment_id":39456768,"body_markdown":"Very good point.  I don&#39;t know why that wasn&#39;t immediately obvious to me…","body":"Very good point.  I don&#39;t know why that wasn&#39;t immediately obvious to me…"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1408068624,"post_id":25312020,"comment_id":39469326,"body_markdown":"A `Supplier` provides a single value each time you call it. It&#39;s `generate` that makes it infinite, by calling the `Supplier` repeatedly. The OP might want to use **n** `Supplier` instances to produce a finite stream of **n** values. I&#39;ll ask.","body":"A <code>Supplier</code> provides a single value each time you call it. It&#39;s <code>generate</code> that makes it infinite, by calling the <code>Supplier</code> repeatedly. The OP might want to use <b>n</b> <code>Supplier</code> instances to produce a finite stream of <b>n</b> values. I&#39;ll ask."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1408093846,"post_id":25312020,"comment_id":39475889,"body_markdown":"@Stuart Marks: you’re right, the question is a bit underspecified. However, to me a `Supplier` is an infinite source conceptually as it doesn’t mandate how often `get` will be called and there is no such thing like a `hasNext` method (unlike `Iterator`). But I added the once-per-`Supplier` alternatives.","body":"@Stuart Marks: you’re right, the question is a bit underspecified. However, to me a <code>Supplier</code> is an infinite source conceptually as it doesn’t mandate how often <code>get</code> will be called and there is no such thing like a <code>hasNext</code> method (unlike <code>Iterator</code>). But I added the once-per-<code>Supplier</code> alternatives."},{"owner":{"account_id":4886816,"reputation":63,"user_id":3939035,"display_name":"mananoreboton"},"score":0,"creation_date":1408117927,"post_id":25312020,"comment_id":39487066,"body_markdown":"Because &quot;statistical rigor&quot; I think samples should alternate.","body":"Because &quot;statistical rigor&quot; I think samples should alternate."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":6,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1408093609,"creation_date":1408030475,"answer_id":25312020,"question_id":25311535,"body_markdown":"You didn’t specify how you want to combine the supplied values.\r\n\r\nIf you want to have the values alternating, a solution would be:\r\n\r\n    Stream.generate(supplier1).flatMap(x-&gt;Stream.of(x, supplier2.get()))\r\n\r\n---\r\nIf you want to have some kind of pair, you can use\r\n\r\n    Stream.generate(()-&gt;new Pair&lt;&gt;(supplier1.get(), supplier2.get()))\r\n\r\nthough it is up to you to write the `Pair` class as the jdk does not offer such a class. (You could abuse `AbstractMap.SimpleEntry` but that’s rather nasty).\r\n\r\n---\r\nIf you have a finite `Stream` you can use [`Stream.concat`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-) to create a stream which will process all items of the first stream before the items of the second, however, streams created using a `Supplier` are infinite by default so you have to use [`limit`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-) on the first stream before you can concat it to another stream, so it’s not a general solution.\r\n\r\n---\r\nIf you want to query each `Supplier` exactly once, you can use\r\n\r\n    Stream.of(supplier1, supplier2).map(Supplier::get)\r\nthough, of course, if you don’t need lazy evaluation of the `Supplier`s, a\r\n\r\n    Stream.of(supplier1.get(), supplier2.get())\r\n would do as well.","title":"Generate one Stream from multiple Suppliers","body":"<p>You didn’t specify how you want to combine the supplied values.</p>\n\n<p>If you want to have the values alternating, a solution would be:</p>\n\n<pre><code>Stream.generate(supplier1).flatMap(x-&gt;Stream.of(x, supplier2.get()))\n</code></pre>\n\n<hr>\n\n<p>If you want to have some kind of pair, you can use</p>\n\n<pre><code>Stream.generate(()-&gt;new Pair&lt;&gt;(supplier1.get(), supplier2.get()))\n</code></pre>\n\n<p>though it is up to you to write the <code>Pair</code> class as the jdk does not offer such a class. (You could abuse <code>AbstractMap.SimpleEntry</code> but that’s rather nasty).</p>\n\n<hr>\n\n<p>If you have a finite <code>Stream</code> you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#concat-java.util.stream.Stream-java.util.stream.Stream-\" rel=\"nofollow\"><code>Stream.concat</code></a> to create a stream which will process all items of the first stream before the items of the second, however, streams created using a <code>Supplier</code> are infinite by default so you have to use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#limit-long-\" rel=\"nofollow\"><code>limit</code></a> on the first stream before you can concat it to another stream, so it’s not a general solution.</p>\n\n<hr>\n\n<p>If you want to query each <code>Supplier</code> exactly once, you can use</p>\n\n<pre><code>Stream.of(supplier1, supplier2).map(Supplier::get)\n</code></pre>\n\n<p>though, of course, if you don’t need lazy evaluation of the <code>Supplier</code>s, a</p>\n\n<pre><code>Stream.of(supplier1.get(), supplier2.get())\n</code></pre>\n\n<p>would do as well.</p>\n"},{"tags":[],"owner":{"account_id":4886816,"reputation":63,"user_id":3939035,"display_name":"mananoreboton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408478297,"creation_date":1408478297,"answer_id":25391986,"question_id":25311535,"body_markdown":"For the sake of completeness, another option, which hides the complexity of the implementation, is to use \r\n\r\n    StreamSupport.stream(Spliterator&lt;T&gt; spliterator, boolean parallel)\r\n\r\nto generate the stream and delegate a [Spliterator][1] to traversing elements of different sources.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\r\n\r\nThere are certain considerations to keep in mind for implementing `forEachRemaining(Consumer&lt;? super T&gt; action)`","title":"Generate one Stream from multiple Suppliers","body":"<p>For the sake of completeness, another option, which hides the complexity of the implementation, is to use </p>\n\n<pre><code>StreamSupport.stream(Spliterator&lt;T&gt; spliterator, boolean parallel)\n</code></pre>\n\n<p>to generate the stream and delegate a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Spliterator.html\" rel=\"nofollow\">Spliterator</a> to traversing elements of different sources.</p>\n\n<p>There are certain considerations to keep in mind for implementing <code>forEachRemaining(Consumer&lt;? super T&gt; action)</code></p>\n"},{"comments":[{"owner":{"account_id":4886816,"reputation":63,"user_id":3939035,"display_name":"mananoreboton"},"score":0,"creation_date":1700483306,"post_id":75025345,"comment_id":136656199,"body_markdown":"With this we would be losing lazyness. In case that doesn&#39;t matter I think it would work with varargs:\n\n`public static Supplier&lt;String&gt; getString(Supplier&lt;String&gt; suppliers){\n   //iterate suppliers\n}`","body":"With this we would be losing lazyness. In case that doesn&#39;t matter I think it would work with varargs:  <code>public static Supplier&lt;String&gt; getString(Supplier&lt;String&gt; suppliers){    &#47;&#47;iterate suppliers }</code>"}],"tags":[],"owner":{"account_id":308177,"reputation":1911,"user_id":619895,"accept_rate":85,"display_name":"ggb667"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672960228,"creation_date":1672960228,"answer_id":75025345,"question_id":25311535,"body_markdown":"What&#39;s wrong with:\r\n\r\n    public static Supplier&lt;String&gt; getString(Supplier&lt;String&gt; one, Supplier&lt;String&gt; two){\r\n       return ()-&gt; one.get() + two.get();\r\n    }\r\n","title":"Generate one Stream from multiple Suppliers","body":"<p>What's wrong with:</p>\n<pre><code>public static Supplier&lt;String&gt; getString(Supplier&lt;String&gt; one, Supplier&lt;String&gt; two){\n   return ()-&gt; one.get() + two.get();\n}\n</code></pre>\n"}],"owner":{"account_id":4886816,"reputation":63,"user_id":3939035,"display_name":"mananoreboton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3415,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25312020,"answer_count":3,"score":6,"last_activity_date":1672960228,"creation_date":1408029065,"question_id":25311535,"body_markdown":"I&#39;m trying to use Java 8 Lambda/Stream API for modeling a simple producer/consumer system, just like:\r\n\r\n        Stream&lt;Sample&gt; samplesFlow = Stream.generate(new SampleSupplier());\r\n        samplesFlow.forEach(new SampleConsumer());\r\n\r\nI realized that &quot;scale&quot; to several consumers was pretty simple:\r\n\r\n        samplesFlow\r\n            .peek(new SampleConsumer1())\r\n            .peek(new SampleConsumer2())\r\n            .forEach(new SampleConsumer3());\r\n\r\nBut what about adding new producers to the system? Is there some idiomatic or &quot;elegant&quot; way to **generate a Stream from several infinite Suppliers??** Like:\r\n\r\n    Stream.generate(new SampleSupplier1(),new SampleSupplier2());  // made it up\r\n\r\nEach supplier simulate a network listener getting data from a remote source.\r\n\r\nThanks in advance!\r\n","title":"Generate one Stream from multiple Suppliers","body":"<p>I'm trying to use Java 8 Lambda/Stream API for modeling a simple producer/consumer system, just like:</p>\n\n<pre><code>    Stream&lt;Sample&gt; samplesFlow = Stream.generate(new SampleSupplier());\n    samplesFlow.forEach(new SampleConsumer());\n</code></pre>\n\n<p>I realized that \"scale\" to several consumers was pretty simple:</p>\n\n<pre><code>    samplesFlow\n        .peek(new SampleConsumer1())\n        .peek(new SampleConsumer2())\n        .forEach(new SampleConsumer3());\n</code></pre>\n\n<p>But what about adding new producers to the system? Is there some idiomatic or \"elegant\" way to <strong>generate a Stream from several infinite Suppliers??</strong> Like:</p>\n\n<pre><code>Stream.generate(new SampleSupplier1(),new SampleSupplier2());  // made it up\n</code></pre>\n\n<p>Each supplier simulate a network listener getting data from a remote source.</p>\n\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactor-kafka"],"owner":{"account_id":8510024,"reputation":86,"user_id":6380348,"display_name":"Harish Vashist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672958165,"creation_date":1672946372,"question_id":75023373,"body_markdown":"I have a code which consume messages from Kafka with high concurrency level but I have to send those messages consumed as ServerSentEvent over SSE channel. But this code return type is void while it accepts a function which can return a publisher as:\r\n\r\n```\r\nvoid react(Function&lt;Consumer record&lt;k,v&gt; ,Publisher&lt;?&gt;&gt; Function)\r\n```\r\n\r\n**Usage:**\r\n\r\n```\r\nreactorProcessor.react(kafkaConsumerRecord -&gt; { return Flux.just(new ServerSentEventBuilder().data(kafkaConsumerRecord).build();});\r\n```\r\n\r\nHere reactorProcessor.react() return type is void. \r\n\r\nHow can I use the flux publisher present inside the lambda to be returned over SSE channel?\r\n\r\nPlease suggest how this result can be diverted to sse channel?\r\n\r\nI tried this:\r\n\r\n```\r\nFlux&lt;ServerSentEvent&gt; getStream(){\r\n\r\nFlux&lt;ServerSentEvent&gt; toreturn = Flux.empty();\r\n\r\nreactorProcessor.react(record -&gt; {\r\nFlux&lt;ServerSentEvent&gt; event = Flux.just(new ServerSentEventBuilder ().data(record).build()):\r\n\r\ntoreturn.mergeWith(event);\r\n \r\nreturn event;});\r\n\r\nreturn toreturn;\r\n}\r\n```\r\n\r\nBut once I open the SSE connection it does not return any record to the channel. Please suggest what I am doing wrong here.","title":"How to send publisher present in lambda to ServerSentEvent channel","body":"<p>I have a code which consume messages from Kafka with high concurrency level but I have to send those messages consumed as ServerSentEvent over SSE channel. But this code return type is void while it accepts a function which can return a publisher as:</p>\n<pre><code>void react(Function&lt;Consumer record&lt;k,v&gt; ,Publisher&lt;?&gt;&gt; Function)\n</code></pre>\n<p><strong>Usage:</strong></p>\n<pre><code>reactorProcessor.react(kafkaConsumerRecord -&gt; { return Flux.just(new ServerSentEventBuilder().data(kafkaConsumerRecord).build();});\n</code></pre>\n<p>Here reactorProcessor.react() return type is void.</p>\n<p>How can I use the flux publisher present inside the lambda to be returned over SSE channel?</p>\n<p>Please suggest how this result can be diverted to sse channel?</p>\n<p>I tried this:</p>\n<pre><code>Flux&lt;ServerSentEvent&gt; getStream(){\n\nFlux&lt;ServerSentEvent&gt; toreturn = Flux.empty();\n\nreactorProcessor.react(record -&gt; {\nFlux&lt;ServerSentEvent&gt; event = Flux.just(new ServerSentEventBuilder ().data(record).build()):\n\ntoreturn.mergeWith(event);\n \nreturn event;});\n\nreturn toreturn;\n}\n</code></pre>\n<p>But once I open the SSE connection it does not return any record to the channel. Please suggest what I am doing wrong here.</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1672948656,"post_id":75023364,"comment_id":132394094,"body_markdown":"1) &quot;I am getting an error&quot; Please edit your question to show the exact error you get. 2) &quot;I can see the DataSnapShot in logs&quot; Please edit your question to show exactly what you see in the logs. 3) Please edit your question to show how you actually read the data, and include the JSON from that location in your database (in text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your [Firebase Database console](https://console.firebase.google.com/project/_/database/data).","body":"1) &quot;I am getting an error&quot; Please edit your question to show the exact error you get. 2) &quot;I can see the DataSnapShot in logs&quot; Please edit your question to show exactly what you see in the logs. 3) Please edit your question to show how you actually read the data, and include the JSON from that location in your database (in text, no screenshots please). You can get this by clicking the &quot;Export JSON&quot; link in the overflow menu (⠇) on your <a href=\"https://console.firebase.google.com/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Database console</a>."},{"owner":{"account_id":27299508,"reputation":11,"user_id":20816575,"display_name":"Yash"},"score":0,"creation_date":1672952039,"post_id":75023364,"comment_id":132395111,"body_markdown":"Sorry I am new to this, I just updated the questions","body":"Sorry I am new to this, I just updated the questions"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1672957899,"post_id":75023364,"comment_id":132396663,"body_markdown":"Thanks for that. This covers the #2 and the second half of #3. Please edit your question to also include: 1) the exact error message and stack trace you get, 2) the code that reads the data, including the call to `addChildEventListener` and how the `DatabaseReference` you call that on is initialized.","body":"Thanks for that. This covers the #2 and the second half of #3. Please edit your question to also include: 1) the exact error message and stack trace you get, 2) the code that reads the data, including the call to <code>addChildEventListener</code> and how the <code>DatabaseReference</code> you call that on is initialized."}],"answers":[{"comments":[{"owner":{"account_id":27299508,"reputation":11,"user_id":20816575,"display_name":"Yash"},"score":0,"creation_date":1673079280,"post_id":75024323,"comment_id":132420913,"body_markdown":"Do you have it in java?","body":"Do you have it in java?"},{"owner":{"account_id":24282421,"reputation":1,"user_id":18228703,"display_name":"ugur &#231;etinel"},"score":0,"creation_date":1673084534,"post_id":75024323,"comment_id":132421553,"body_markdown":"of course, but the syntax may be different, for example, I don&#39;t know if run block exists in java, I just wrote kotlin. It has an equivalent. detail in this link: https://firebase.google.com/docs/firestore/quickstart?hl=en&amp;authuser=0#java_4","body":"of course, but the syntax may be different, for example, I don&#39;t know if run block exists in java, I just wrote kotlin. It has an equivalent. detail in this link: <a href=\"https://firebase.google.com/docs/firestore/quickstart?hl=en&amp;authuser=0#java_4\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/&hellip;</a>"}],"tags":[],"owner":{"account_id":24282421,"reputation":1,"user_id":18228703,"display_name":"ugur &#231;etinel"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672952663,"creation_date":1672952524,"answer_id":75024323,"question_id":75023364,"body_markdown":"This is my approach to pull data from firebase database. I think you are having a problem with data extraction. And this kotlin \r\n\r\n     fun getDataFromFirestore() {\r\n        val userID = sharedPreferences.getString(&quot;Firma_Firebase_ID&quot;, &quot;&quot;)\r\n        if (userID != &quot;&quot;) {\r\n            val DB = Firebase.firestore\r\n            DB.collection(&quot;Database&quot;).document(userID.toString()).addSnapshotListener{ snapshot, error -&gt;\r\n            val document = snapshot?.data\r\n            runBlocking {\r\n                launch {\r\n                    if (snapshot != null &amp;&amp; document != null) {\r\n                        val name = document.get(&quot;name&quot;) as? String\r\n                        if (name != null) {\r\n                            Name = name\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //Notify\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Extracting data from Firebase data snapshot","body":"<p>This is my approach to pull data from firebase database. I think you are having a problem with data extraction. And this kotlin</p>\n<pre><code> fun getDataFromFirestore() {\n    val userID = sharedPreferences.getString(&quot;Firma_Firebase_ID&quot;, &quot;&quot;)\n    if (userID != &quot;&quot;) {\n        val DB = Firebase.firestore\n        DB.collection(&quot;Database&quot;).document(userID.toString()).addSnapshotListener{ snapshot, error -&gt;\n        val document = snapshot?.data\n        runBlocking {\n            launch {\n                if (snapshot != null &amp;&amp; document != null) {\n                    val name = document.get(&quot;name&quot;) as? String\n                    if (name != null) {\n                        Name = name\n                    }\n                }\n            }\n        }\n        //Notify\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27299508,"reputation":11,"user_id":20816575,"display_name":"Yash"},"score":0,"creation_date":1673077490,"post_id":75025054,"comment_id":132420725,"body_markdown":"But how do I store the latitude and longitude in a variable? I am trying:  Float lat = dataSnapshot.child(&quot;latitude&quot;).getValue(Float.class);              But it return me a null value","body":"But how do I store the latitude and longitude in a variable? I am trying:  Float lat = dataSnapshot.child(&quot;latitude&quot;).getValue(Float.class);              But it return me a null value"},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1673104662,"post_id":75025054,"comment_id":132425149,"body_markdown":"Did the explanation I gave in my answer make sense? Did you change your code based on that? If so, add an update to tyour question to show that updated code. That&#39;s also a good moment to ask the additional information I asked for in my comments yesterday.","body":"Did the explanation I gave in my answer make sense? Did you change your code based on that? If so, add an update to tyour question to show that updated code. That&#39;s also a good moment to ask the additional information I asked for in my comments yesterday."}],"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672957905,"creation_date":1672957905,"answer_id":75025054,"question_id":75023364,"body_markdown":"It looks like you&#39;re attaching a `ChildEventListener` to the `location/HarryMaguire` path in your database. When you do that, `onChildAdded` gets trigger with each child property of `location/HarryMaguire`, which is why you see logs for `latitude` and `longitude`.\r\n\r\n*Will update more, once the question provides the necessary information.*","title":"Extracting data from Firebase data snapshot","body":"<p>It looks like you're attaching a <code>ChildEventListener</code> to the <code>location/HarryMaguire</code> path in your database. When you do that, <code>onChildAdded</code> gets trigger with each child property of <code>location/HarryMaguire</code>, which is why you see logs for <code>latitude</code> and <code>longitude</code>.</p>\n<p><em>Will update more, once the question provides the necessary information.</em></p>\n"}],"owner":{"account_id":27299508,"reputation":11,"user_id":20816575,"display_name":"Yash"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672957905,"creation_date":1672946287,"question_id":75023364,"body_markdown":"I am trying to get data from a DataSnapshot from firebase. I can see the DataSnapShot in logs but I am getting an error when assigning it to a variable. See below for more details\r\n\r\nIn logcat:\r\n\r\n&gt; D/loggxxxxxxxxxxxxxxxxx: DataSnapshot { key = latitude, value = -20.0688881 }\\\r\n&gt; D/loggxxxxxxxxxxxxxxxxx: DataSnapshot { key = longitude, value = 57.5226424 }\r\n\r\n```\r\npublic void onChildAdded(DataSnapshot dataSnapshot, String s) {\r\n    if (dataSnapshot.exists()){\r\n        Log.d(&quot;loggxxxxxxxxxxxxxxxxx&quot;,dataSnapshot.toString());\r\n        Toast.makeText(MapsActivity.this, dataSnapshot.toString(), Toast.LENGTH_SHORT).show();             \r\n    }\r\n    else{\r\n        Toast.makeText(MapsActivity.this, &quot;Nodata&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n```\r\n\r\nMy Firebase Realtime database looks like this:\r\n  ```\r\n  &quot;location&quot;: {\r\n    &quot;HarryMaguire&quot;: {\r\n      &quot;latitude&quot;: &quot;-20.0688881&quot;,\r\n      &quot;longitude&quot;: &quot;57.5226424&quot;\r\n    },\r\n    &quot;RoseGilbert&quot;: {\r\n      &quot;latitude&quot;: &quot;20.3484&quot;,\r\n      &quot;longitude&quot;: &quot;57.5522&quot;\r\n    },\r\n  ```\r\n","title":"Extracting data from Firebase data snapshot","body":"<p>I am trying to get data from a DataSnapshot from firebase. I can see the DataSnapShot in logs but I am getting an error when assigning it to a variable. See below for more details</p>\n<p>In logcat:</p>\n<blockquote>\n<p>D/loggxxxxxxxxxxxxxxxxx: DataSnapshot { key = latitude, value = -20.0688881 }<br />\nD/loggxxxxxxxxxxxxxxxxx: DataSnapshot { key = longitude, value = 57.5226424 }</p>\n</blockquote>\n<pre><code>public void onChildAdded(DataSnapshot dataSnapshot, String s) {\n    if (dataSnapshot.exists()){\n        Log.d(&quot;loggxxxxxxxxxxxxxxxxx&quot;,dataSnapshot.toString());\n        Toast.makeText(MapsActivity.this, dataSnapshot.toString(), Toast.LENGTH_SHORT).show();             \n    }\n    else{\n        Toast.makeText(MapsActivity.this, &quot;Nodata&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>My Firebase Realtime database looks like this:</p>\n<pre><code>&quot;location&quot;: {\n  &quot;HarryMaguire&quot;: {\n    &quot;latitude&quot;: &quot;-20.0688881&quot;,\n    &quot;longitude&quot;: &quot;57.5226424&quot;\n  },\n  &quot;RoseGilbert&quot;: {\n    &quot;latitude&quot;: &quot;20.3484&quot;,\n    &quot;longitude&quot;: &quot;57.5522&quot;\n  },\n</code></pre>\n"},{"tags":["java","path"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672958501,"post_id":75024980,"comment_id":132396803,"body_markdown":"The path that you used is telling the runtime that it&#39;s off the root of the file system. You&#39;d be better off using a dedicated directory under your home directory to read and write the maps files","body":"The path that you used is telling the runtime that it&#39;s off the root of the file system. You&#39;d be better off using a dedicated directory under your home directory to read and write the maps files"},{"owner":{"account_id":27385327,"reputation":11,"user_id":20889270,"display_name":"jrsmith_of_math"},"score":0,"creation_date":1672958581,"post_id":75024980,"comment_id":132396820,"body_markdown":"I am using Windows.","body":"I am using Windows."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672958625,"post_id":75024980,"comment_id":132396824,"body_markdown":"See edit - no differece","body":"See edit - no differece"},{"owner":{"account_id":27385327,"reputation":11,"user_id":20889270,"display_name":"jrsmith_of_math"},"score":0,"creation_date":1672958743,"post_id":75024980,"comment_id":132396843,"body_markdown":"Well, I did not understand exactly. Can you check my work? https://ibb.co/3csRRbv","body":"Well, I did not understand exactly. Can you check my work? <a href=\"https://ibb.co/3csRRbv\" rel=\"nofollow noreferrer\">ibb.co/3csRRbv</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672959803,"post_id":75024980,"comment_id":132397032,"body_markdown":"Proper Java applications are packaged and deployed as jar files. There is no knowing where that jar file will end up. You cannot use relative paths as as the current directory is arbitrary. Use a dedicated writable directory for your maps files. That should be off the user home directory","body":"Proper Java applications are packaged and deployed as jar files. There is no knowing where that jar file will end up. You cannot use relative paths as as the current directory is arbitrary. Use a dedicated writable directory for your maps files. That should be off the user home directory"}],"owner":{"account_id":27385327,"reputation":11,"user_id":20889270,"display_name":"jrsmith_of_math"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672957563,"creation_date":1672957328,"question_id":75024980,"body_markdown":"I have txt files for 2-D game development, so that I can pull the information and write the maps. \r\nThe txt files are located under **maps** source folder.\r\n\r\nHowever, when I write this code, it gives me error as\r\n**java.io.FileNotFoundException:\\maps\\studentcenter.txt (System cant find the path)**// \r\nI translated it, my IDE isnt English.\r\n\r\nHere is the code I tried;\r\n\r\n\r\n```\r\n\t\tFileWriter map = new FileWriter(&quot;/maps/studentcenter.txt&quot;);\r\n\t\tBufferedWriter writer =  new BufferedWriter(map) ;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 14; i++) {\r\n\t\t\tfor (int j = 0; j &lt; 24; j++ ) {\r\n\t\t\t\tif (j != 23) writer.write(0 + &quot; &quot;);\r\n\t\t\t\telse writer.write(0);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.getProperty(&quot;line.seperator&quot;);\r\n\t\t}\r\n\t\t\r\n\t\twriter.close();\r\n\r\n\r\n```\r\n\r\n\r\nEventually what I want is that, the txt file in the Eclipse is changed as desired: **14 rows and 24 columns of 0**","title":"How can I access the Eclipse path of the file so that I can write over the txt file?","body":"<p>I have txt files for 2-D game development, so that I can pull the information and write the maps.\nThe txt files are located under <strong>maps</strong> source folder.</p>\n<p>However, when I write this code, it gives me error as\n<strong>java.io.FileNotFoundException:\\maps\\studentcenter.txt (System cant find the path)</strong>//\nI translated it, my IDE isnt English.</p>\n<p>Here is the code I tried;</p>\n<pre><code>        FileWriter map = new FileWriter(&quot;/maps/studentcenter.txt&quot;);\n        BufferedWriter writer =  new BufferedWriter(map) ;\n        \n        for (int i = 0; i &lt; 14; i++) {\n            for (int j = 0; j &lt; 24; j++ ) {\n                if (j != 23) writer.write(0 + &quot; &quot;);\n                else writer.write(0);\n                \n                \n            }\n            System.getProperty(&quot;line.seperator&quot;);\n        }\n        \n        writer.close();\n\n\n</code></pre>\n<p>Eventually what I want is that, the txt file in the Eclipse is changed as desired: <strong>14 rows and 24 columns of 0</strong></p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1409986956,"post_id":25697609,"comment_id":40166716,"body_markdown":"Hash codes are not unique - it doesn&#39;t matter that the hash code for `null` is `0` or any other value. There is not one value per hash code in a hash map.","body":"Hash codes are not unique - it doesn&#39;t matter that the hash code for <code>null</code> is <code>0</code> or any other value. There is not one value per hash code in a hash map."},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1409987049,"post_id":25697609,"comment_id":40166734,"body_markdown":"@Jesper Will it check for `equals()` if `hashCode()` returns same value? If yes then how it will work in this case?","body":"@Jesper Will it check for <code>equals()</code> if <code>hashCode()</code> returns same value? If yes then how it will work in this case?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1409987140,"post_id":25697609,"comment_id":40166753,"body_markdown":"Yes, but `null` is ofcourse handled in a special way, to avoid a `NullPointerException` from happening. If you really want to know all the implementation details, lookup the source code of `HashMap` which you can find in `src.zip` in your JDK installation directory.","body":"Yes, but <code>null</code> is ofcourse handled in a special way, to avoid a <code>NullPointerException</code> from happening. If you really want to know all the implementation details, lookup the source code of <code>HashMap</code> which you can find in <code>src.zip</code> in your JDK installation directory."},{"owner":{"account_id":4970766,"reputation":5288,"user_id":3998607,"display_name":"JosEduSol"},"score":0,"creation_date":1409987177,"post_id":25697609,"comment_id":40166767,"body_markdown":"When fetching a key, all nodes with the same hashCode will be compared using equals to the given key until one matchs. For null, there is a conditional in the implementation: if (key == null)","body":"When fetching a key, all nodes with the same hashCode will be compared using equals to the given key until one matchs. For null, there is a conditional in the implementation: if (key == null)"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1409987283,"post_id":25697609,"comment_id":40166795,"body_markdown":"so the answer is `HashMap` handles `null` in special way.","body":"so the answer is <code>HashMap</code> handles <code>null</code> in special way."}],"answers":[{"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1409986157,"post_id":25697644,"comment_id":40166561,"body_markdown":"yes that&#39;s correct but how it works in that case. Please explain a bit more. If both have same hash code in that case the value should be overridden by last one. Isn&#39;t it?","body":"yes that&#39;s correct but how it works in that case. Please explain a bit more. If both have same hash code in that case the value should be overridden by last one. Isn&#39;t it?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1410021458,"post_id":25697644,"comment_id":40174912,"body_markdown":"_No._  Just because keys end up in the same bucket, or have the same hash code, does _not_ mean they override each other.  Only if they&#39;re equal according to `Object.equals` to keys override each other.","body":"<i>No.</i>  Just because keys end up in the same bucket, or have the same hash code, does <i>not</i> mean they override each other.  Only if they&#39;re equal according to <code>Object.equals</code> to keys override each other."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1672956288,"creation_date":1409986114,"answer_id":25697644,"question_id":25697609,"body_markdown":"&gt;If yes then both should go in same bucket at index 0 ...\r\n\r\nCorrect.\r\n\r\n&gt; and there should be one value in the `HashMap` \r\n\r\nIncorrect.  There will be a separate entry for the two keys.  This is guaranteed by the `Map` and `HashMap` specification; i.e. the javadocs *say* that there will be a separate entry for each distinct key.  The implementation is *required* to meet the specification ... and it does.\r\n\r\nPrior to Java 8, the way that `HashMap` handles collisions is to *chain together* all of the entries that hash to the same bucket.  The `HashMap.get(key)` logic will iterate the chain for the relevant bucket, looking for an entry that matches the key.  (In your example code, there would be separate entries in the chain for the `null` and the `Integer(0)` keys.)\r\n\r\nIn Java 8, it works the same to start with, but there is an optimization for the case where the keys all implement `Comparable` and the chains get too long.  In this case, the long chains are converted into binary trees ... so that an `O(N)` chain scan turns into an `O(logN)` tree search.\r\n\r\n","title":"HashMap having null as key","body":"<blockquote>\n<p>If yes then both should go in same bucket at index 0 ...</p>\n</blockquote>\n<p>Correct.</p>\n<blockquote>\n<p>and there should be one value in the <code>HashMap</code></p>\n</blockquote>\n<p>Incorrect.  There will be a separate entry for the two keys.  This is guaranteed by the <code>Map</code> and <code>HashMap</code> specification; i.e. the javadocs <em>say</em> that there will be a separate entry for each distinct key.  The implementation is <em>required</em> to meet the specification ... and it does.</p>\n<p>Prior to Java 8, the way that <code>HashMap</code> handles collisions is to <em>chain together</em> all of the entries that hash to the same bucket.  The <code>HashMap.get(key)</code> logic will iterate the chain for the relevant bucket, looking for an entry that matches the key.  (In your example code, there would be separate entries in the chain for the <code>null</code> and the <code>Integer(0)</code> keys.)</p>\n<p>In Java 8, it works the same to start with, but there is an optimization for the case where the keys all implement <code>Comparable</code> and the chains get too long.  In this case, the long chains are converted into binary trees ... so that an <code>O(N)</code> chain scan turns into an <code>O(logN)</code> tree search.</p>\n"},{"comments":[{"owner":{"account_id":3388025,"reputation":61,"user_id":2843578,"display_name":"Luckyman Nevermore"},"score":0,"creation_date":1612195181,"post_id":25697740,"comment_id":116684250,"body_markdown":"static final int hash(Object key) {\n        int h;\n        return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);\n    } I didnt seen any putForNullKey method in it .. it will just put zero for all null keys .. after decompiling code of hashmap","body":"static final int hash(Object key) {         int h;         return (key == null) ? 0 : (h = key.hashCode()) ^ (h &gt;&gt;&gt; 16);     } I didnt seen any putForNullKey method in it .. it will just put zero for all null keys .. after decompiling code of hashmap"}],"tags":[],"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409986782,"creation_date":1409986782,"answer_id":25697740,"question_id":25697609,"body_markdown":"Both cases belongs to `hashCode()==0` but `equals` differs hence two entries and both `get` return associated values.\r\n\r\n**Case with null:**\r\n\r\n    public V put(null,&quot;abc&quot;) {    \r\n             if (key == null)\r\n                        return putForNullKey(value);\r\n    }\r\n    private V putForNullKey(V value) {\r\n            ..\r\n            addEntry(0, null, value, 0); ==&gt; 0th index with 0 hashCode\r\n            return null;\r\n        }\r\n\r\n**Case with 0:**\r\n\r\n    public V put(K key, V value) {       \r\n            int hash = hash(key.hashCode()); ==&gt; 0\r\n            int i = indexFor(hash, table.length); ==&gt; 0\r\n            for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\r\n                Object k;\r\n                if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) { ==&gt; false\r\n                    ..\r\n                }\r\n            }\r\n    \r\n            modCount++;\r\n            addEntry(hash, key, value, i); ==&gt; addition to link list\r\n            return null;\r\n        }\r\n\r\n","title":"HashMap having null as key","body":"<p>Both cases belongs to <code>hashCode()==0</code> but <code>equals</code> differs hence two entries and both <code>get</code> return associated values.</p>\n\n<p><strong>Case with null:</strong></p>\n\n<pre><code>public V put(null,\"abc\") {    \n         if (key == null)\n                    return putForNullKey(value);\n}\nprivate V putForNullKey(V value) {\n        ..\n        addEntry(0, null, value, 0); ==&gt; 0th index with 0 hashCode\n        return null;\n    }\n</code></pre>\n\n<p><strong>Case with 0:</strong></p>\n\n<pre><code>public V put(K key, V value) {       \n        int hash = hash(key.hashCode()); ==&gt; 0\n        int i = indexFor(hash, table.length); ==&gt; 0\n        for (Entry&lt;K,V&gt; e = table[i]; e != null; e = e.next) {\n            Object k;\n            if (e.hash == hash &amp;&amp; ((k = e.key) == key || key.equals(k))) { ==&gt; false\n                ..\n            }\n        }\n\n        modCount++;\n        addEntry(hash, key, value, i); ==&gt; addition to link list\n        return null;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1409986814,"post_id":25697741,"comment_id":40166687,"body_markdown":"wrong, hash code for integer is always its value. Try `System.out.println(new Integer(0).hashCode()); // print 0`","body":"wrong, hash code for integer is always its value. Try <code>System.out.println(new Integer(0).hashCode()); &#47;&#47; print 0</code>"},{"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"score":0,"creation_date":1409986891,"post_id":25697741,"comment_id":40166703,"body_markdown":"`hashCode` and `hash` are different, `k.hashCode()` is equal to `0` if k in `Integer i = 0`","body":"<code>hashCode</code> and <code>hash</code> are different, <code>k.hashCode()</code> is equal to <code>0</code> if k in <code>Integer i = 0</code>"},{"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"score":0,"creation_date":1409986930,"post_id":25697741,"comment_id":40166713,"body_markdown":"but `HashMap` internally use `hashCode()` it&#39;s it?","body":"but <code>HashMap</code> internally use <code>hashCode()</code> it&#39;s it?"}],"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409986790,"creation_date":1409986790,"answer_id":25697741,"question_id":25697609,"body_markdown":"You may have some mistakes with hash.\r\n\r\n  1, when the key is 0, the hash code is may not 0. Because the hash code\r\n    is:\r\n\r\n    final int hash(Object k) {\r\n        int h = hashSeed;\r\n        if (0 != h &amp;&amp; k instanceof String) {\r\n            return sun.misc.Hashing.stringHash32((String) k);\r\n        }\r\n        h ^= k.hashCode();\r\n        h ^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12);\r\n        return h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);\r\n    }\r\n\r\n2, when your key is null, the JDK call a special method to do,\r\n\r\n     if (key == null)\r\n        return putForNullKey(value);\r\n\r\nYes, when key is null, the hash is 0.\r\nIf you want know more, please see the JDK source code.","title":"HashMap having null as key","body":"<p>You may have some mistakes with hash.</p>\n\n<p>1, when the key is 0, the hash code is may not 0. Because the hash code\n    is:</p>\n\n<pre><code>final int hash(Object k) {\n    int h = hashSeed;\n    if (0 != h &amp;&amp; k instanceof String) {\n        return sun.misc.Hashing.stringHash32((String) k);\n    }\n    h ^= k.hashCode();\n    h ^= (h &gt;&gt;&gt; 20) ^ (h &gt;&gt;&gt; 12);\n    return h ^ (h &gt;&gt;&gt; 7) ^ (h &gt;&gt;&gt; 4);\n}\n</code></pre>\n\n<p>2, when your key is null, the JDK call a special method to do,</p>\n\n<pre><code> if (key == null)\n    return putForNullKey(value);\n</code></pre>\n\n<p>Yes, when key is null, the hash is 0.\nIf you want know more, please see the JDK source code.</p>\n"},{"tags":[],"owner":{"account_id":3262180,"reputation":1602,"user_id":2747533,"display_name":"MirMasej"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409987989,"creation_date":1409987989,"answer_id":25697887,"question_id":25697609,"body_markdown":"This is possible because single `Entry` in the `HashMap` is not just key-value pair but also has a `next` field, so it&#39;s sort of simple linked list and adding of new entry looks as follows:\r\n\r\n    void createEntry(int hash, K key, V value, int bucketIndex) {\r\n        Entry&lt;K,V&gt; e = table[bucketIndex];\r\n        table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e);\r\n        size++;\r\n    }\r\n\r\n`e` local variable (the one that was already present) ends up as the `next` value in the `Entry` for given `hash` and `bucketIndex`.\r\n","title":"HashMap having null as key","body":"<p>This is possible because single <code>Entry</code> in the <code>HashMap</code> is not just key-value pair but also has a <code>next</code> field, so it's sort of simple linked list and adding of new entry looks as follows:</p>\n\n<pre><code>void createEntry(int hash, K key, V value, int bucketIndex) {\n    Entry&lt;K,V&gt; e = table[bucketIndex];\n    table[bucketIndex] = new Entry&lt;&gt;(hash, key, value, e);\n    size++;\n}\n</code></pre>\n\n<p><code>e</code> local variable (the one that was already present) ends up as the <code>next</code> value in the <code>Entry</code> for given <code>hash</code> and <code>bucketIndex</code>.</p>\n"}],"owner":{"account_id":3887004,"reputation":46525,"user_id":3218114,"accept_rate":84,"display_name":"Braj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3192,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":25697644,"answer_count":4,"score":4,"last_activity_date":1672956288,"creation_date":1409985798,"question_id":25697609,"body_markdown":"How `HashMap` internally differentiate between `null` and `0` as key. \r\n\r\nAs per this [post](https://stackoverflow.com/questions/17268212/hashcode-for-null-key-in-hashmap) the hash code for `null` key is `0`, Is it correct?\r\nIf yes then both should go in same bucket at index `0` and there should be one value in the `HashMap` but this is not how `HashMap` works. \r\n\r\nCan somebody explain me? what is the hash code for `null` key in `HashMap`?\r\n\r\nSample code:\r\n\r\n    HashMap&lt;Integer,String&gt; map=new HashMap&lt;Integer,String&gt;();\r\n    map.put(null, &quot;abc&quot;);\r\n    map.put(0, &quot;xyz&quot;); // will it override the value for null as key?\r\n    \r\n    System.out.println(map.get(null));  // abc\r\n    System.out.println(map.get(0));     // xyz\r\n\r\n","title":"HashMap having null as key","body":"<p>How <code>HashMap</code> internally differentiate between <code>null</code> and <code>0</code> as key. </p>\n\n<p>As per this <a href=\"https://stackoverflow.com/questions/17268212/hashcode-for-null-key-in-hashmap\">post</a> the hash code for <code>null</code> key is <code>0</code>, Is it correct?\nIf yes then both should go in same bucket at index <code>0</code> and there should be one value in the <code>HashMap</code> but this is not how <code>HashMap</code> works. </p>\n\n<p>Can somebody explain me? what is the hash code for <code>null</code> key in <code>HashMap</code>?</p>\n\n<p>Sample code:</p>\n\n<pre><code>HashMap&lt;Integer,String&gt; map=new HashMap&lt;Integer,String&gt;();\nmap.put(null, \"abc\");\nmap.put(0, \"xyz\"); // will it override the value for null as key?\n\nSystem.out.println(map.get(null));  // abc\nSystem.out.println(map.get(0));     // xyz\n</code></pre>\n"},{"tags":["java","jna","impersonation","waffle","createprocessasuser"],"answers":[{"tags":[],"owner":{"account_id":13027886,"reputation":341,"user_id":9415272,"display_name":"Matthias Bl&#228;sing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672956230,"creation_date":1672955765,"answer_id":75024770,"question_id":74989532,"body_markdown":"To use `CreateProcessWithTokenW` from java with JNA you need to bind the function. JNA is just a layer, that makes it possible to call directly native library functions. For this to work JNA uses java descriptions of the native interface, which are then used to do the actual call.\r\n\r\nThe jna-platform contrib project (released together with the main project) contains a big number of already bound win32 functions and indeed in `Advapi32.java` there are already bindings for `CreateProcessAsUser` and `CreateProcessWithLogonW`. Based on that I would try this (UNTESTED!):\r\n\r\n```java\r\npublic interface Advapi32Ext extends StdCallLibrary {\r\n    Advapi32Ext INSTANCE = Native.load(&quot;Advapi32&quot;, Advapi32Ext.class, W32APIOptions.DEFAULT_OPTIONS);\r\n\r\n    boolean CreateProcessWithToken(\r\n        HANDLE hToken,\r\n        int dwLogonFlags,\r\n        String lpApplicationName,\r\n        String lpCommandLine,\r\n        int dwCreationFlags,\r\n        Pointer lpEnvironment,\r\n        String lpCurrentDirectory,\r\n        STARTUPINFO lpStartupInfo,\r\n        PROCESS_INFORMATION lpProcessInfo\r\n    );\r\n}\r\n```\r\n\r\nThis assumes that you run with the system property `w32.ascii` set to `false` or unset, which is the recommend setup. In that case the `W32APIFunctionMapper.UNICODE` is used, which appends the &quot;W&quot; suffix automatically. The then also selected `W32APITypeMapper.UNICODE` ensures, that java `String` objects are mapped to `wchars` or in case of a function call to `LP*WSTR`.","title":"How to use CreateProcessWithTokenW in Java using JNA","body":"<p>To use <code>CreateProcessWithTokenW</code> from java with JNA you need to bind the function. JNA is just a layer, that makes it possible to call directly native library functions. For this to work JNA uses java descriptions of the native interface, which are then used to do the actual call.</p>\n<p>The jna-platform contrib project (released together with the main project) contains a big number of already bound win32 functions and indeed in <code>Advapi32.java</code> there are already bindings for <code>CreateProcessAsUser</code> and <code>CreateProcessWithLogonW</code>. Based on that I would try this (UNTESTED!):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Advapi32Ext extends StdCallLibrary {\n    Advapi32Ext INSTANCE = Native.load(&quot;Advapi32&quot;, Advapi32Ext.class, W32APIOptions.DEFAULT_OPTIONS);\n\n    boolean CreateProcessWithToken(\n        HANDLE hToken,\n        int dwLogonFlags,\n        String lpApplicationName,\n        String lpCommandLine,\n        int dwCreationFlags,\n        Pointer lpEnvironment,\n        String lpCurrentDirectory,\n        STARTUPINFO lpStartupInfo,\n        PROCESS_INFORMATION lpProcessInfo\n    );\n}\n</code></pre>\n<p>This assumes that you run with the system property <code>w32.ascii</code> set to <code>false</code> or unset, which is the recommend setup. In that case the <code>W32APIFunctionMapper.UNICODE</code> is used, which appends the &quot;W&quot; suffix automatically. The then also selected <code>W32APITypeMapper.UNICODE</code> ensures, that java <code>String</code> objects are mapped to <code>wchars</code> or in case of a function call to <code>LP*WSTR</code>.</p>\n"}],"owner":{"account_id":7131339,"reputation":81,"user_id":5452438,"display_name":"Chandru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672956230,"creation_date":1672725551,"question_id":74989532,"body_markdown":"We are using createProcessAsUser function to create a child process running in the context of logged in/Impersonated user using waffle and JNA libraries. \r\n\r\nBut we need to load the user profile after the impersonation, but the **LoadUserProfile** function is not available in a JNA library. \r\n\r\nAs we found that CreateProcessWithTokenW is capable of loading the user profile. But this function also not available in the JNA/Waffle library.\r\n\r\nCould anyone help us how to load the user profile or how to use the CreateProcessWithTokenW in Java application. ","title":"How to use CreateProcessWithTokenW in Java using JNA","body":"<p>We are using createProcessAsUser function to create a child process running in the context of logged in/Impersonated user using waffle and JNA libraries.</p>\n<p>But we need to load the user profile after the impersonation, but the <strong>LoadUserProfile</strong> function is not available in a JNA library.</p>\n<p>As we found that CreateProcessWithTokenW is capable of loading the user profile. But this function also not available in the JNA/Waffle library.</p>\n<p>Could anyone help us how to load the user profile or how to use the CreateProcessWithTokenW in Java application.</p>\n"},{"tags":["java","serial-port","jprogressbar","progressmonitor"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1672956060,"post_id":75024788,"comment_id":132396160,"body_markdown":"Swing is singe thread, this means any long running/blocking operations should be executed in a separate thread - I’d consider a SwingWorker","body":"Swing is singe thread, this means any long running/blocking operations should be executed in a separate thread - I’d consider a SwingWorker"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1672956246,"post_id":75024788,"comment_id":132396206,"body_markdown":"JOptionPane is also modal - so it’ll be block the code execution until it’s closed","body":"JOptionPane is also modal - so it’ll be block the code execution until it’s closed"}],"owner":{"account_id":23761543,"reputation":59,"user_id":17776870,"display_name":"Danilo Djurovic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1672955886,"creation_date":1672955886,"question_id":75024788,"body_markdown":"I&#39;m trying to show a JProgressBar in a Swing application used for communicating with a device using a SerialPort connection.\r\n\r\nSometimes the data that the device sends is large so it can take some time(5-10 seconds) to receive the data. Because of that, I want to show the user a progress bar so he knows that something is happening.\r\n\r\nI tried doing this with JProgressBar and also with ProgressMonitor, but I just managed to show the progress window, but it just stayed at 0%.\r\n\r\nHere is a method that I use to read the serialPort.\r\n\r\n    public static void readingDataSB9(SerialPort comPort) {\r\n\r\n        comPort.addDataListener(new SerialPortDataListener() {\r\n            @Override\r\n            public int getListeningEvents() {\r\n                return SerialPort.LISTENING_EVENT_DATA_AVAILABLE;\r\n            }\r\n\r\n            @Override\r\n            public void serialEvent(SerialPortEvent serialPortEvent) {\r\n                try {\r\n\r\n                    if (serialPortEvent.getEventType() != SerialPort.LISTENING_EVENT_DATA_AVAILABLE) {\r\n                        return;\r\n                    }\r\n\r\n                    //here I save the count data in the string array\r\n                    List&lt;String&gt; countData = new ArrayList&lt;&gt;();\r\n                    //here I save the text that is OCRed from the images\r\n                    List&lt;String&gt; ocrText = new ArrayList&lt;&gt;();\r\n                    //here I save the images from the machine\r\n                    List&lt;ImageIcon&gt; serialImage = new ArrayList&lt;&gt;();\r\n\r\n                    //trying to decode non UTF-8 strings from an array of Strings, only for TEST purposes\r\n                    CharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder();\r\n                    decoder.onMalformedInput(CodingErrorAction.IGNORE);\r\n\r\n                    //Strings that represent the start of the serial number and new lines on each serial number\r\n                    String startSn = &quot;110000010011010001101100100011011000100011010000111000010001010&quot;;\r\n                    String newLine = &quot;01100000110110010001101100010001101000011100001000101&quot;;\r\n\r\n                    int x = 0;\r\n                    String s1 = &quot;&quot;;\r\n\r\n                    //getting InputStream from serial port and then converting it to BufferedStream, so it can be reset\r\n                    //and read two times\r\n                    InputStream in = comPort.getInputStream();\r\n                    InputStream bufferdInputStream = new BufferedInputStream(in);\r\n                    bufferdInputStream.mark(1000000000);\r\n                    \r\n                    //I try to show progress of receiving data from InputStream\r\n                    showProgress(bufferdInputStream, MainWindow.frame);\r\n\r\n                    //first reading the input stream with scanner to get count data as Strings\r\n                    Scanner sc = new Scanner(bufferdInputStream);\r\n\r\n                    while (sc.hasNextLine()) {\r\n\r\n                        countData.add(sc.next());\r\n                        //this is the last string in the InputStream, so I use it to break from the while loop\r\n                        if (countData.contains(&quot;\\u001Bm\\u001B3&quot;)) {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    System.out.println(countData);\r\n\r\n                    //here I reset the InputStream, so it can be read again to receive the bytes needed to get the image\r\n                    //of serial number\r\n                    bufferdInputStream.reset();\r\n\r\n                    while (((x = bufferdInputStream.read()) != 109)) {\r\n                        //bytes are converted to binaryStrings, so I can get the binary image with Java Graphics library\r\n                        s1 += String.format(&quot;%8s&quot;, Integer.toBinaryString(x &amp; 0xFF)).replace(&#39; &#39;, &#39;0&#39;);\r\n                    }\r\n\r\n                    //bytes are stored in the String array, they are split by String for the start of serial number\r\n                    String[] binarySerialNumberArr = s1.split(startSn);\r\n\r\n                    //here I immediately write the binaryString to the gui of MainWindow, so it can be saved to the database\r\n                    MainWindow.jt_serialBinary.setText(String.join(&quot;, &quot;, binarySerialNumberArr));\r\n\r\n\r\n                    //here we take each element of String array and convert it from BinaryString to image\r\n                    for (int i = 1; i &lt; binarySerialNumberArr.length; i++) {\r\n\r\n                        //first we create a empty image\r\n                        BufferedImage img = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\r\n                        Graphics2D g2d = img.createGraphics();\r\n                        Font font = new Font(&quot;Arial&quot;, Font.PLAIN, 2);\r\n                        g2d.setFont(font);\r\n                        int height = g2d.getFontMetrics().getHeight();\r\n                        g2d.dispose();\r\n\r\n                        //here we start to create the actual image of the serial number\r\n                        img = new BufferedImage(384, 40, BufferedImage.TYPE_INT_RGB);\r\n                        g2d = img.createGraphics();\r\n\r\n                        g2d.setFont(font);\r\n                        g2d.setColor(Color.WHITE);\r\n                        int fontSize = 1;\r\n\r\n                        for (String s : binarySerialNumberArr[i].split(newLine)) {\r\n                            //we draw each string and use the newLine String to split the array element\r\n                            //each 0 is represented as white, and 1 as black\r\n                            g2d.drawString(s, 0, height);\r\n                            height += fontSize;\r\n                        }\r\n                        //creating the image file\r\n                        File file = new File(&quot;images\\\\Text&quot; + i + &quot;.png&quot;);\r\n                        //saving the image to file\r\n                        ImageIO.write(img, &quot;png&quot;, file);\r\n                        g2d.dispose();\r\n\r\n                        //here we use the Tesseracts OCR library to get OCR text from image file\r\n                        String ocrString = SerialOcr(file);\r\n                        //here we fix some mistakes that OCR library does when doing OCR on images and add the data to\r\n                        //OCR string array\r\n                        ocrText.add(trainOcr(ocrString));\r\n                        //we convert to image to ImageIcon and add it to ImageIcon array\r\n                        serialImage.add(makeIcon(img));\r\n\r\n                        System.out.println(ocrString);\r\n                    }\r\n\r\n                    //here we add ocrText to gui MainWindow\r\n                    for (int i = 0; i &lt; ocrText.size(); i++) {\r\n                        MainWindow.model_ocrText.add(i, ocrText.get(i));\r\n                    }\r\n                    //here we add images to gui MainWindow\r\n                    for (int i = 0; i &lt; serialImage.size(); i++) {\r\n                        MainWindow.model_serialImage.add(i, serialImage.get(i));\r\n                    }\r\n\r\n                    //here I try to ignore non UTF-8 string so I can get the OCR values from the machine also\r\n                    //this is a TEST\r\n                    ArrayList&lt;String&gt; validData = new ArrayList&lt;&gt;();\r\n\r\n                    for (int i = 0; i &lt; countData.size(); i++) {\r\n                        decoder.decode(java.nio.ByteBuffer.wrap(countData.get(i).getBytes()));\r\n                        validData.add(countData.get(i));\r\n                    }\r\n\r\n                    System.out.println(validData);\r\n\r\n\r\n                    //checking to see what currency is the data from the machine, and building the gui table accordingly\r\n                    for (int i = 0; i &lt; countData.size(); i++) {\r\n                        switch (countData.get(i)) {\r\n                            case &quot;RSD&quot; -&gt; insertRSD(countData, MainWindow.jt_denom);\r\n                            case &quot;USD&quot; -&gt; insertUSD(countData, MainWindow.jt_denom);\r\n                            case &quot;EUR&quot; -&gt; insertEUR(countData, MainWindow.jt_denom);\r\n                            default -&gt;\r\n                                //in case none of the above currencies is chosen, we show the error message on JOptionPane\r\n                                    JOptionPane.showMessageDialog(null, &quot;Odabrana valuta nije podržana&quot;, &quot;Greška!&quot;, JOptionPane.ERROR_MESSAGE);\r\n                        }\r\n                    }\r\n\r\n                    //after getting all the data to the gui table in MainWindow, we calculate the total count data\r\n                    ButtonListeners.tableTotalAmountRows(MainWindow.jt_denom);\r\n                    ButtonListeners.tableTotalAmountColumns(MainWindow.jt_denom);\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\nHere is the showProgress method.\r\n\r\n    public static void showProgress(InputStream bufferedInputStream, JFrame frame) throws IOException {\r\n        JOptionPane pane = new JOptionPane();\r\n        pane.setMessage(&quot;Receiving data...&quot;);\r\n        JProgressBar jProgressBar = new JProgressBar(1, bufferedInputStream.available());\r\n        jProgressBar.setValue(bufferedInputStream.read());\r\n        pane.add(jProgressBar,1);\r\n        JDialog dialog = pane.createDialog(frame, &quot;Information message&quot;);\r\n        dialog.setVisible(true);\r\n        dialog.dispose();\r\n    }\r\n\r\nIf someone has a better idea of how to show the progress, or just to keep the message on the screen while the data is being received, please feel free to suggest it.\r\n\r\nThanks in advance","title":"How to show JProgressBar for InputStream while reading data from a SerialPort?","body":"<p>I'm trying to show a JProgressBar in a Swing application used for communicating with a device using a SerialPort connection.</p>\n<p>Sometimes the data that the device sends is large so it can take some time(5-10 seconds) to receive the data. Because of that, I want to show the user a progress bar so he knows that something is happening.</p>\n<p>I tried doing this with JProgressBar and also with ProgressMonitor, but I just managed to show the progress window, but it just stayed at 0%.</p>\n<p>Here is a method that I use to read the serialPort.</p>\n<pre><code>public static void readingDataSB9(SerialPort comPort) {\n\n    comPort.addDataListener(new SerialPortDataListener() {\n        @Override\n        public int getListeningEvents() {\n            return SerialPort.LISTENING_EVENT_DATA_AVAILABLE;\n        }\n\n        @Override\n        public void serialEvent(SerialPortEvent serialPortEvent) {\n            try {\n\n                if (serialPortEvent.getEventType() != SerialPort.LISTENING_EVENT_DATA_AVAILABLE) {\n                    return;\n                }\n\n                //here I save the count data in the string array\n                List&lt;String&gt; countData = new ArrayList&lt;&gt;();\n                //here I save the text that is OCRed from the images\n                List&lt;String&gt; ocrText = new ArrayList&lt;&gt;();\n                //here I save the images from the machine\n                List&lt;ImageIcon&gt; serialImage = new ArrayList&lt;&gt;();\n\n                //trying to decode non UTF-8 strings from an array of Strings, only for TEST purposes\n                CharsetDecoder decoder = StandardCharsets.UTF_8.newDecoder();\n                decoder.onMalformedInput(CodingErrorAction.IGNORE);\n\n                //Strings that represent the start of the serial number and new lines on each serial number\n                String startSn = &quot;110000010011010001101100100011011000100011010000111000010001010&quot;;\n                String newLine = &quot;01100000110110010001101100010001101000011100001000101&quot;;\n\n                int x = 0;\n                String s1 = &quot;&quot;;\n\n                //getting InputStream from serial port and then converting it to BufferedStream, so it can be reset\n                //and read two times\n                InputStream in = comPort.getInputStream();\n                InputStream bufferdInputStream = new BufferedInputStream(in);\n                bufferdInputStream.mark(1000000000);\n                \n                //I try to show progress of receiving data from InputStream\n                showProgress(bufferdInputStream, MainWindow.frame);\n\n                //first reading the input stream with scanner to get count data as Strings\n                Scanner sc = new Scanner(bufferdInputStream);\n\n                while (sc.hasNextLine()) {\n\n                    countData.add(sc.next());\n                    //this is the last string in the InputStream, so I use it to break from the while loop\n                    if (countData.contains(&quot;\\u001Bm\\u001B3&quot;)) {\n                        break;\n                    }\n                }\n\n                System.out.println(countData);\n\n                //here I reset the InputStream, so it can be read again to receive the bytes needed to get the image\n                //of serial number\n                bufferdInputStream.reset();\n\n                while (((x = bufferdInputStream.read()) != 109)) {\n                    //bytes are converted to binaryStrings, so I can get the binary image with Java Graphics library\n                    s1 += String.format(&quot;%8s&quot;, Integer.toBinaryString(x &amp; 0xFF)).replace(' ', '0');\n                }\n\n                //bytes are stored in the String array, they are split by String for the start of serial number\n                String[] binarySerialNumberArr = s1.split(startSn);\n\n                //here I immediately write the binaryString to the gui of MainWindow, so it can be saved to the database\n                MainWindow.jt_serialBinary.setText(String.join(&quot;, &quot;, binarySerialNumberArr));\n\n\n                //here we take each element of String array and convert it from BinaryString to image\n                for (int i = 1; i &lt; binarySerialNumberArr.length; i++) {\n\n                    //first we create a empty image\n                    BufferedImage img = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\n                    Graphics2D g2d = img.createGraphics();\n                    Font font = new Font(&quot;Arial&quot;, Font.PLAIN, 2);\n                    g2d.setFont(font);\n                    int height = g2d.getFontMetrics().getHeight();\n                    g2d.dispose();\n\n                    //here we start to create the actual image of the serial number\n                    img = new BufferedImage(384, 40, BufferedImage.TYPE_INT_RGB);\n                    g2d = img.createGraphics();\n\n                    g2d.setFont(font);\n                    g2d.setColor(Color.WHITE);\n                    int fontSize = 1;\n\n                    for (String s : binarySerialNumberArr[i].split(newLine)) {\n                        //we draw each string and use the newLine String to split the array element\n                        //each 0 is represented as white, and 1 as black\n                        g2d.drawString(s, 0, height);\n                        height += fontSize;\n                    }\n                    //creating the image file\n                    File file = new File(&quot;images\\\\Text&quot; + i + &quot;.png&quot;);\n                    //saving the image to file\n                    ImageIO.write(img, &quot;png&quot;, file);\n                    g2d.dispose();\n\n                    //here we use the Tesseracts OCR library to get OCR text from image file\n                    String ocrString = SerialOcr(file);\n                    //here we fix some mistakes that OCR library does when doing OCR on images and add the data to\n                    //OCR string array\n                    ocrText.add(trainOcr(ocrString));\n                    //we convert to image to ImageIcon and add it to ImageIcon array\n                    serialImage.add(makeIcon(img));\n\n                    System.out.println(ocrString);\n                }\n\n                //here we add ocrText to gui MainWindow\n                for (int i = 0; i &lt; ocrText.size(); i++) {\n                    MainWindow.model_ocrText.add(i, ocrText.get(i));\n                }\n                //here we add images to gui MainWindow\n                for (int i = 0; i &lt; serialImage.size(); i++) {\n                    MainWindow.model_serialImage.add(i, serialImage.get(i));\n                }\n\n                //here I try to ignore non UTF-8 string so I can get the OCR values from the machine also\n                //this is a TEST\n                ArrayList&lt;String&gt; validData = new ArrayList&lt;&gt;();\n\n                for (int i = 0; i &lt; countData.size(); i++) {\n                    decoder.decode(java.nio.ByteBuffer.wrap(countData.get(i).getBytes()));\n                    validData.add(countData.get(i));\n                }\n\n                System.out.println(validData);\n\n\n                //checking to see what currency is the data from the machine, and building the gui table accordingly\n                for (int i = 0; i &lt; countData.size(); i++) {\n                    switch (countData.get(i)) {\n                        case &quot;RSD&quot; -&gt; insertRSD(countData, MainWindow.jt_denom);\n                        case &quot;USD&quot; -&gt; insertUSD(countData, MainWindow.jt_denom);\n                        case &quot;EUR&quot; -&gt; insertEUR(countData, MainWindow.jt_denom);\n                        default -&gt;\n                            //in case none of the above currencies is chosen, we show the error message on JOptionPane\n                                JOptionPane.showMessageDialog(null, &quot;Odabrana valuta nije podržana&quot;, &quot;Greška!&quot;, JOptionPane.ERROR_MESSAGE);\n                    }\n                }\n\n                //after getting all the data to the gui table in MainWindow, we calculate the total count data\n                ButtonListeners.tableTotalAmountRows(MainWindow.jt_denom);\n                ButtonListeners.tableTotalAmountColumns(MainWindow.jt_denom);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    });\n\n}\n</code></pre>\n<p>Here is the showProgress method.</p>\n<pre><code>public static void showProgress(InputStream bufferedInputStream, JFrame frame) throws IOException {\n    JOptionPane pane = new JOptionPane();\n    pane.setMessage(&quot;Receiving data...&quot;);\n    JProgressBar jProgressBar = new JProgressBar(1, bufferedInputStream.available());\n    jProgressBar.setValue(bufferedInputStream.read());\n    pane.add(jProgressBar,1);\n    JDialog dialog = pane.createDialog(frame, &quot;Information message&quot;);\n    dialog.setVisible(true);\n    dialog.dispose();\n}\n</code></pre>\n<p>If someone has a better idea of how to show the progress, or just to keep the message on the screen while the data is being received, please feel free to suggest it.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","spring-data-elasticsearch","graalvm"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672665856,"post_id":74982907,"comment_id":132322527,"body_markdown":"Please use some formatting in your code (use blocks for each part not one block for everything). Please post your `pom.xml`. The error indicates that a resource file is being loaded you would need to specify a resource hint for that to be included.","body":"Please use some formatting in your code (use blocks for each part not one block for everything). Please post your <code>pom.xml</code>. The error indicates that a resource file is being loaded you would need to specify a resource hint for that to be included."},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1672700952,"post_id":74982907,"comment_id":132331187,"body_markdown":"Sure, updated, it is a very basic Elastic web application template found anywhere on the web","body":"Sure, updated, it is a very basic Elastic web application template found anywhere on the web"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1672730988,"post_id":74982907,"comment_id":132335264,"body_markdown":"According to the code this shouldn&#39;t be blocking the app (see [here](https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/main/java/org/springframework/data/elasticsearch/support/VersionInfo.java#L49). What you can try is to add a `RuntimeHintsRegistrar` and register an additional resource hint for the `versions.properties` needed by the `VersionInfo`. Ideally this should be provided by Spring Data Elasticsearch, I would also suggest to register an issue in the Spring Data Elasticsearch project.","body":"According to the code this shouldn&#39;t be blocking the app (see <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/blob/main/src/main/java/org/springframework/data/elasticsearch/support/VersionInfo.java#L49\" rel=\"nofollow noreferrer\">here</a>. What you can try is to add a <code>RuntimeHintsRegistrar</code> and register an additional resource hint for the <code>versions.properties</code> needed by the <code>VersionInfo</code>. Ideally this should be provided by Spring Data Elasticsearch, I would also suggest to register an issue in the Spring Data Elasticsearch project."}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672955714,"creation_date":1672955714,"answer_id":75024757,"question_id":74982907,"body_markdown":"In the non-native variant we&#39;ll get an `IOException` when the resource is missing and ignore that. But the native application throws an `IllegalStateException`.\r\n\r\nThanks for creating [this issue](https://github.com/spring-projects/spring-data-elasticsearch/issues/2419). I am currently working on it. It&#39;s not only the `version.properties` but some other options that need to be set in the `RuntimeHintsRegistrar`. Should be done in the next days.","title":"SpringBoot 3 +reactiveElasticSearch: AOT/native/GraalVM :not found at org.springframework.data.elasticsearch.support.VersionInfo.loadVersionProperties","body":"<p>In the non-native variant we'll get an <code>IOException</code> when the resource is missing and ignore that. But the native application throws an <code>IllegalStateException</code>.</p>\n<p>Thanks for creating <a href=\"https://github.com/spring-projects/spring-data-elasticsearch/issues/2419\" rel=\"nofollow noreferrer\">this issue</a>. I am currently working on it. It's not only the <code>version.properties</code> but some other options that need to be set in the <code>RuntimeHintsRegistrar</code>. Should be done in the next days.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672955714,"creation_date":1672665495,"question_id":74982907,"body_markdown":"Small question regarding the new Spring Boot 3 with AOT/native/GraalVM please\r\n\r\nLately, many talks regarding the new Spring Boot 3 are about the AOT/native/GraalVM.\r\n\r\nI went to try migrating a project which was building without GraalVM, to this new paradigm so many are talking about.\r\n\r\nHere is the straightforward code of the project:\r\n\r\n```\r\n\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport reactor.core.publisher.Mono;\r\n\r\n@RestController\r\npublic class ElasticController {\r\n\r\n    private final ElasticRepository elasticRepository;\r\n\r\n    @Autowired\r\n    public ElasticController(ElasticRepository elasticRepository) {\r\n        this.elasticRepository = elasticRepository;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/save&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Mono&lt;String&gt; save(@RequestBody ElasticPojo elasticPojo) {\r\n        return elasticRepository.save(elasticPojo).map(__ -&gt; &quot;with graalVM, is is not working&quot;);\r\n    }\r\n\r\n}\r\n```\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface ElasticRepository extends ReactiveCrudRepository&lt;ElasticPojo, String&gt; {\r\n\r\n}\r\n```\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\r\nimport org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchConfiguration;\r\n\r\nimport java.time.Duration;\r\n\r\n@Configuration\r\npublic class ElasticConfiguration extends ReactiveElasticsearchConfiguration {\r\n\r\n    @Override\r\n    public ClientConfiguration clientConfiguration() {\r\n        return ClientConfiguration.builder().connectedTo(&quot;localhost:9200&quot;).withConnectTimeout(Duration.ofMinutes(2L)).withSocketTimeout(Duration.ofMinutes(2L)).build();\r\n    }\r\n\r\n}\r\n```\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.elasticsearch.annotations.Document;\r\n\r\n@Document(indexName = &quot;question&quot;)\r\npublic class ElasticPojo {\r\n\r\n    @Id\r\n    private String id;\r\n\r\n    private String link;\r\n\r\n    public ElasticPojo(String id, String link) {\r\n        this.id = id;\r\n        this.link = link;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(String id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getLink() {\r\n        return link;\r\n    }\r\n\r\n    public void setLink(String link) {\r\n        this.link = link;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;ElasticPojo{&quot; +\r\n                &quot;id=&#39;&quot; + id + &#39;\\&#39;&#39; +\r\n                &quot;, link=&#39;&quot; + link + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe GraalVM version is: ```graalvm-ce-java17-22.3.0```\r\n\r\nWhile running ```mvnw.cmd -Pnative native:compile``` the project builds fine, running the native image always yields this error:\r\n\r\n```\r\ntarget\\demo.exe\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.1)\r\n\r\n2023-01-02T20:42:09.935+08:00  INFO 2860 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 17.0.5 with PID 2860 (C:\\Users\\...\\demo\\target\\demo.exe started by xxxin ...\\demo)\r\n2023-01-02T20:42:09.935+08:00  INFO 2860 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-02T20:42:09.991+08:00  WARN 2860 --- [           main] .r.c.ReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;elasticController&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;elasticRepository&#39;: Cannot resolve reference to bean &#39;reactiveElasticsearchTemplate&#39; while setting bean property &#39;reactiveElasticsearchOperations&#39;\r\n2023-01-02T20:42:10.005+08:00 ERROR 2860 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;elasticController&#39;: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name &#39;elasticRepository&#39;: Cannot resolve reference to bean &#39;reactiveElasticsearchTemplate&#39; while setting bean property &#39;reactiveElasticsearchOperations&#39;\r\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.resolveArgument(BeanInstanceSupplier.java:351) ~[na:na]\r\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.resolveArguments(BeanInstanceSupplier.java:271) ~[na:na]\r\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:206) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1225) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1210) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1157) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[demo.exe:6.0.3]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[demo.exe:6.0.3]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[demo.exe:6.0.3]\r\n        at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[demo.exe:3.0.1]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[demo.exe:3.0.1]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[demo.exe:3.0.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[demo.exe:3.0.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[demo.exe:3.0.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[demo.exe:3.0.1]\r\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[demo.exe:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;elasticRepository&#39;: Cannot resolve reference to bean &#39;reactiveElasticsearchTemplate&#39; while setting bean property &#39;reactiveElasticsearchOperations&#39;\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[na:na]\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1663) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1412) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.resolveArgument(BeanInstanceSupplier.java:334) ~[na:na]\r\n        ... 21 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;reactiveElasticsearchOperations&#39;: Instantiation of supplied bean failed\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1236) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1210) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1157) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[na:na]\r\n        ... 34 common frames omitted\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n        at org.springframework.data.elasticsearch.core.AbstractReactiveElasticsearchTemplate.&lt;init&gt;(AbstractReactiveElasticsearchTemplate.java:93) ~[demo.exe:5.0.0]\r\n        at org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchTemplate.&lt;init&gt;(ReactiveElasticsearchTemplate.java:84) ~[na:na]\r\n        at org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchConfiguration.reactiveElasticsearchOperations(ReactiveElasticsearchConfiguration.java:84) ~[demo.exe:5.0.0]\r\n        at com.example.demo.ElasticConfiguration$$SpringCGLIB$$0.CGLIB$reactiveElasticsearchOperations$3(&lt;generated&gt;) ~[demo.exe:na]\r\n        at com.example.demo.ElasticConfiguration$$SpringCGLIB$$1.invoke(&lt;generated&gt;) ~[demo.exe:na]\r\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[demo.exe:6.0.3]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[na:na]\r\n        at com.example.demo.ElasticConfiguration$$SpringCGLIB$$0.reactiveElasticsearchOperations(&lt;generated&gt;) ~[demo.exe:na]\r\n        at org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchConfiguration__BeanDefinitions.lambda$getReactiveElasticsearchOperationsInstanceSupplier$2(ReactiveElasticsearchConfiguration__BeanDefinitions.java:61) ~[na:na]\r\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[demo.exe:6.0.3]\r\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:208) ~[na:na]\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59) ~[demo.exe:6.0.3]\r\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47) ~[demo.exe:6.0.3]\r\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:220) ~[na:na]\r\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:208) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1225) ~[demo.exe:6.0.3]\r\n        ... 43 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Resource not found\r\n        at org.springframework.data.elasticsearch.support.VersionInfo.loadVersionProperties(VersionInfo.java:108) ~[na:na]\r\n        at org.springframework.data.elasticsearch.support.VersionInfo.&lt;clinit&gt;(VersionInfo.java:51) ~[na:na]\r\n        ... 60 common frames omitted\r\n```\r\n\r\nTo avoid confusion, I am building and running fine the same code with openJDK, and any other JDK. Actually, even with GraalVM, but not using the native, it compiles and runs fine.\r\n\r\nOnly when compiling native, and running native, the issue occurs, 100% of the time.\r\n\r\nMay I ask what am I doing wrong please?\r\n\r\nThank you","title":"SpringBoot 3 +reactiveElasticSearch: AOT/native/GraalVM :not found at org.springframework.data.elasticsearch.support.VersionInfo.loadVersionProperties","body":"<p>Small question regarding the new Spring Boot 3 with AOT/native/GraalVM please</p>\n<p>Lately, many talks regarding the new Spring Boot 3 are about the AOT/native/GraalVM.</p>\n<p>I went to try migrating a project which was building without GraalVM, to this new paradigm so many are talking about.</p>\n<p>Here is the straightforward code of the project:</p>\n<pre><code>\npackage com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport reactor.core.publisher.Mono;\n\n@RestController\npublic class ElasticController {\n\n    private final ElasticRepository elasticRepository;\n\n    @Autowired\n    public ElasticController(ElasticRepository elasticRepository) {\n        this.elasticRepository = elasticRepository;\n    }\n\n    @PostMapping(path = &quot;/save&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Mono&lt;String&gt; save(@RequestBody ElasticPojo elasticPojo) {\n        return elasticRepository.save(elasticPojo).map(__ -&gt; &quot;with graalVM, is is not working&quot;);\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.repository.reactive.ReactiveCrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ElasticRepository extends ReactiveCrudRepository&lt;ElasticPojo, String&gt; {\n\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\nimport org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchConfiguration;\n\nimport java.time.Duration;\n\n@Configuration\npublic class ElasticConfiguration extends ReactiveElasticsearchConfiguration {\n\n    @Override\n    public ClientConfiguration clientConfiguration() {\n        return ClientConfiguration.builder().connectedTo(&quot;localhost:9200&quot;).withConnectTimeout(Duration.ofMinutes(2L)).withSocketTimeout(Duration.ofMinutes(2L)).build();\n    }\n\n}\n</code></pre>\n<pre><code>package com.example.demo;\n\nimport org.springframework.data.annotation.Id;\nimport org.springframework.data.elasticsearch.annotations.Document;\n\n@Document(indexName = &quot;question&quot;)\npublic class ElasticPojo {\n\n    @Id\n    private String id;\n\n    private String link;\n\n    public ElasticPojo(String id, String link) {\n        this.id = id;\n        this.link = link;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getLink() {\n        return link;\n    }\n\n    public void setLink(String link) {\n        this.link = link;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;ElasticPojo{&quot; +\n                &quot;id='&quot; + id + '\\'' +\n                &quot;, link='&quot; + link + '\\'' +\n                '}';\n    }\n\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>The GraalVM version is: <code>graalvm-ce-java17-22.3.0</code></p>\n<p>While running <code>mvnw.cmd -Pnative native:compile</code> the project builds fine, running the native image always yields this error:</p>\n<pre><code>target\\demo.exe\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.1)\n\n2023-01-02T20:42:09.935+08:00  INFO 2860 --- [           main] com.example.demo.DemoApplication         : Starting AOT-processed DemoApplication using Java 17.0.5 with PID 2860 (C:\\Users\\...\\demo\\target\\demo.exe started by xxxin ...\\demo)\n2023-01-02T20:42:09.935+08:00  INFO 2860 --- [           main] com.example.demo.DemoApplication         : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-02T20:42:09.991+08:00  WARN 2860 --- [           main] .r.c.ReactiveWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'elasticController': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'elasticRepository': Cannot resolve reference to bean 'reactiveElasticsearchTemplate' while setting bean property 'reactiveElasticsearchOperations'\n2023-01-02T20:42:10.005+08:00 ERROR 2860 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'elasticController': Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'elasticRepository': Cannot resolve reference to bean 'reactiveElasticsearchTemplate' while setting bean property 'reactiveElasticsearchOperations'\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.resolveArgument(BeanInstanceSupplier.java:351) ~[na:na]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.resolveArguments(BeanInstanceSupplier.java:271) ~[na:na]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:206) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1225) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1210) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1157) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:961) ~[demo.exe:6.0.3]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[demo.exe:6.0.3]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[demo.exe:6.0.3]\n        at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:66) ~[demo.exe:3.0.1]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[demo.exe:3.0.1]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[demo.exe:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[demo.exe:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[demo.exe:3.0.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[demo.exe:3.0.1]\n        at com.example.demo.DemoApplication.main(DemoApplication.java:10) ~[demo.exe:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'elasticRepository': Cannot resolve reference to bean 'reactiveElasticsearchTemplate' while setting bean property 'reactiveElasticsearchOperations'\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377) ~[na:na]\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1663) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1412) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1405) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1325) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.resolveArgument(BeanInstanceSupplier.java:334) ~[na:na]\n        ... 21 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'reactiveElasticsearchOperations': Instantiation of supplied bean failed\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1236) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1210) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1157) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:561) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365) ~[na:na]\n        ... 34 common frames omitted\nCaused by: java.lang.ExceptionInInitializerError: null\n        at org.springframework.data.elasticsearch.core.AbstractReactiveElasticsearchTemplate.&lt;init&gt;(AbstractReactiveElasticsearchTemplate.java:93) ~[demo.exe:5.0.0]\n        at org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchTemplate.&lt;init&gt;(ReactiveElasticsearchTemplate.java:84) ~[na:na]\n        at org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchConfiguration.reactiveElasticsearchOperations(ReactiveElasticsearchConfiguration.java:84) ~[demo.exe:5.0.0]\n        at com.example.demo.ElasticConfiguration$$SpringCGLIB$$0.CGLIB$reactiveElasticsearchOperations$3(&lt;generated&gt;) ~[demo.exe:na]\n        at com.example.demo.ElasticConfiguration$$SpringCGLIB$$1.invoke(&lt;generated&gt;) ~[demo.exe:na]\n        at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[demo.exe:6.0.3]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[na:na]\n        at com.example.demo.ElasticConfiguration$$SpringCGLIB$$0.reactiveElasticsearchOperations(&lt;generated&gt;) ~[demo.exe:na]\n        at org.springframework.data.elasticsearch.client.elc.ReactiveElasticsearchConfiguration__BeanDefinitions.lambda$getReactiveElasticsearchOperationsInstanceSupplier$2(ReactiveElasticsearchConfiguration__BeanDefinitions.java:61) ~[na:na]\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:68) ~[demo.exe:6.0.3]\n        at org.springframework.util.function.ThrowingBiFunction.apply(ThrowingBiFunction.java:54) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.lambda$get$2(BeanInstanceSupplier.java:208) ~[na:na]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:59) ~[demo.exe:6.0.3]\n        at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:47) ~[demo.exe:6.0.3]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.invokeBeanSupplier(BeanInstanceSupplier.java:220) ~[na:na]\n        at org.springframework.beans.factory.aot.BeanInstanceSupplier.get(BeanInstanceSupplier.java:208) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainInstanceFromSupplier(AbstractAutowireCapableBeanFactory.java:1225) ~[demo.exe:6.0.3]\n        ... 43 common frames omitted\nCaused by: java.lang.IllegalStateException: Resource not found\n        at org.springframework.data.elasticsearch.support.VersionInfo.loadVersionProperties(VersionInfo.java:108) ~[na:na]\n        at org.springframework.data.elasticsearch.support.VersionInfo.&lt;clinit&gt;(VersionInfo.java:51) ~[na:na]\n        ... 60 common frames omitted\n</code></pre>\n<p>To avoid confusion, I am building and running fine the same code with openJDK, and any other JDK. Actually, even with GraalVM, but not using the native, it compiles and runs fine.</p>\n<p>Only when compiling native, and running native, the issue occurs, 100% of the time.</p>\n<p>May I ask what am I doing wrong please?</p>\n<p>Thank you</p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1672951754,"post_id":75024163,"comment_id":132395029,"body_markdown":"I think you&#39;re over thinking the problem - why do you need compound buttons?  You could use an [`OverlayLayout`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/OverlayLayout.html) to achieve the same thing, but again, I&#39;d question the need to have buttons on top of buttons - it doesn&#39;t make for a very intuitive UX","body":"I think you&#39;re over thinking the problem - why do you need compound buttons?  You could use an <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/OverlayLayout.html\" rel=\"nofollow noreferrer\"><code>OverlayLayout</code></a> to achieve the same thing, but again, I&#39;d question the need to have buttons on top of buttons - it doesn&#39;t make for a very intuitive UX"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672954222,"post_id":75024163,"comment_id":132395691,"body_markdown":"Dupe of [this](https://stackoverflow.com/questions/75016161/how-to-put-a-jbutton-on-a-jbutton-disabled-with-icon-in-java-swing)","body":"Dupe of <a href=\"https://stackoverflow.com/questions/75016161/how-to-put-a-jbutton-on-a-jbutton-disabled-with-icon-in-java-swing\">this</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1672954664,"post_id":75024163,"comment_id":132395801,"body_markdown":"*it work with button enabled, but diswork with button disabled* - a clear question is important for a clear answer. &quot;doesn&#39;t work&quot; doesn&#39;t state the problem. Your topic heading is &quot;put a JButton on a JButton&quot; so I assumed the second button didn&#39;t show up. When I ran your code the Icon didn&#39;t even paint. Removing all the logic related to the second button and the Icon still didn&#39;t paint. So that is the real problem.","body":"<i>it work with button enabled, but diswork with button disabled</i> - a clear question is important for a clear answer. &quot;doesn&#39;t work&quot; doesn&#39;t state the problem. Your topic heading is &quot;put a JButton on a JButton&quot; so I assumed the second button didn&#39;t show up. When I ran your code the Icon didn&#39;t even paint. Removing all the logic related to the second button and the Icon still didn&#39;t paint. So that is the real problem."},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1672954944,"post_id":75024163,"comment_id":132395865,"body_markdown":"@camickr ok it&#39;s clear, yeah it was confused sorry really.","body":"@camickr ok it&#39;s clear, yeah it was confused sorry really."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1672960774,"post_id":75024163,"comment_id":132397234,"body_markdown":"__do not__ delete and repost a question - instead edit the previous https://stackoverflow.com/questions/75016161/how-to-put-a-jbutton-on-a-jbutton-disabled-with-icon-in-java-swing to make it answerable","body":"<b>do not</b> delete and repost a question - instead edit the previous <a href=\"https://stackoverflow.com/questions/75016161/how-to-put-a-jbutton-on-a-jbutton-disabled-with-icon-in-java-swing\" title=\"how to put a jbutton on a jbutton disabled with icon in java swing\">stackoverflow.com/questions/75016161/&hellip;</a> to make it answerable"},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1672966323,"post_id":75024163,"comment_id":132398122,"body_markdown":"@kleopatra I tried for 30 minutes, but they said it was not possible to publish because there was too much code while I justified this code there","body":"@kleopatra I tried for 30 minutes, but they said it was not possible to publish because there was too much code while I justified this code there"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1672969484,"post_id":75024163,"comment_id":132398550,"body_markdown":"@kleopatra, In this case, I believe the OP did the correct response by reposting and deleting a question that had already been closed. People in this forum are very quick to close a question. But few will reread/reopen a question after the question has been improved. I tend to evaluate each situation. If the question was not closed, then I would have updated the original question because it will still give people an opportunity to answer. The OP made an honest effort to improve the question and hopefully will see that a proper question will yield good results in the future.","body":"@kleopatra, In this case, I believe the OP did the correct response by reposting and deleting a question that had already been closed. People in this forum are very quick to close a question. But few will reread/reopen a question after the question has been improved. I tend to evaluate each situation. If the question was not closed, then I would have updated the original question because it will still give people an opportunity to answer. The OP made an honest effort to improve the question and hopefully will see that a proper question will yield good results in the future."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673004086,"post_id":75024163,"comment_id":132405226,"body_markdown":"@camickr _People in this forum are very quick to close a question_ as they should: https://meta.stackexchange.com/questions/98022/how-soon-should-i-vote-to-close (aside: this site is not a forum as you know :) and _the OP did the correct response by reposting_ actually .. no: https://meta.stackoverflow.com/questions/417476/question-close-reasons-definitions-and-guidance lists the OP&#39;s options, a repost is not amongst them.","body":"@camickr <i>People in this forum are very quick to close a question</i> as they should: <a href=\"https://meta.stackexchange.com/questions/98022/how-soon-should-i-vote-to-close\" title=\"how soon should i vote to close\">meta.stackexchange.com/questions/98022/&hellip;</a> (aside: this site is not a forum as you know :) and <i>the OP did the correct response by reposting</i> actually .. no: <a href=\"https://meta.stackoverflow.com/questions/417476/question-close-reasons-definitions-and-guidance\" title=\"question close reasons definitions and guidance\">meta.stackoverflow.com/questions/417476/&hellip;</a> lists the OP&#39;s options, a repost is not amongst them."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1673004706,"post_id":75024163,"comment_id":132405393,"body_markdown":"wondering why the edit effort of the previous question failed, though - if you can post it here, editing the previous with the exact same content should have worked. As to the problem: still don&#39;t see what you _really_ want to achieve and why you considered _adding_ secondButton (that is, make it a child of) to firstButton - there&#39;s is not a single tutorial out in the wild (crossing fingers and hoping ;) that does so for whatever reason. Puzzled that the answer by @camickr solves your issue - making it smell like a xy-problem.","body":"wondering why the edit effort of the previous question failed, though - if you can post it here, editing the previous with the exact same content should have worked. As to the problem: still don&#39;t see what you <i>really</i> want to achieve and why you considered <i>adding</i> secondButton (that is, make it a child of) to firstButton - there&#39;s is not a single tutorial out in the wild (crossing fingers and hoping ;) that does so for whatever reason. Puzzled that the answer by @camickr solves your issue - making it smell like a xy-problem."}],"answers":[{"comments":[{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1672954792,"post_id":75024584,"comment_id":132395831,"body_markdown":"thanks  it works  but i dont know why we should use firstButton.setIcon(icon);  but np it work thanks bro @camickr","body":"thanks  it works  but i dont know why we should use firstButton.setIcon(icon);  but np it work thanks bro @camickr"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1672969845,"post_id":75024584,"comment_id":132398610,"body_markdown":"Well, I guess the assumption is why would you ever create a JButton that is always disabled? Normally you would be able to toggle the state of the button enabled/disabled, so you should also have an Icon for the normal state so the button functions correctly. However, the real question is why would you ever use a disabled button for something like this? As many people have commented adding a button to a button is a poor UI.","body":"Well, I guess the assumption is why would you ever create a JButton that is always disabled? Normally you would be able to toggle the state of the button enabled/disabled, so you should also have an Icon for the normal state so the button functions correctly. However, the real question is why would you ever use a disabled button for something like this? As many people have commented adding a button to a button is a poor UI."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672954497,"creation_date":1672954497,"answer_id":75024584,"question_id":75024163,"body_markdown":"This seems to be a quirk of the button. In order to display a disabled icon you also need to provide the button with a regular icon.\r\n\r\nIn your example you only care about the disabled state so you can share the Icon:\r\n\r\n        ImageIcon icon = new ImageIcon(getClass().getResource(&quot;meeple.jpg&quot;));\r\n        firstButton.setIcon(icon); \r\n        firstButton.setDisabledIcon(icon); \r\n","title":"Put a Jbutton On a Jbutton on java Swing","body":"<p>This seems to be a quirk of the button. In order to display a disabled icon you also need to provide the button with a regular icon.</p>\n<p>In your example you only care about the disabled state so you can share the Icon:</p>\n<pre><code>    ImageIcon icon = new ImageIcon(getClass().getResource(&quot;meeple.jpg&quot;));\n    firstButton.setIcon(icon); \n    firstButton.setDisabledIcon(icon); \n</code></pre>\n"}],"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75024584,"answer_count":1,"score":-1,"last_activity_date":1672954497,"creation_date":1672951469,"question_id":75024163,"body_markdown":"```import java.awt.Color;\r\nimport java.awt.EventQueue;\r\nimport java.awt.GridLayout;\r\n\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\n\r\n\r\npublic class ButtonOnButton extends JFrame {\r\n\r\n\tprivate JPanel contentPane;\r\n\tprivate JButton firstButton; // first Button\r\n\tprivate JButton secondButton; // second Button\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tButtonOnButton frame = new ButtonOnButton();\r\n\t\t\t\t\tframe.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the frame.\r\n\t */\r\n\tpublic ButtonOnButton() {\r\n\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tsetBounds(100, 100, 450, 300);\r\n\t\tcontentPane = new JPanel();\r\n\t\t GridLayout gl = new GridLayout(1,0); // the button is in entire screen now and i want to put the &quot;secondButton&quot; on this red button.\r\n\t\tcontentPane.setLayout(gl);\r\n\t\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\t\tfirstButton = new JButton(&quot;&quot;); // \r\n\t\tsecondButton = new JButton(&quot;&quot;);\r\n\t\tfirstButton.setDisabledIcon(new ImageIcon(getClass().getResource(&quot;meeple.jpg&quot;))); // disabled icon\r\n\t\tfirstButton.setEnabled(false);\r\n\t\tsecondButton.setBackground(Color.blue);\r\n\t\t\r\n\t\tcontentPane.add(firstButton);\r\n\t\tfirstButton.add(secondButton);\r\n\t\tsetContentPane(contentPane);\r\n// it work with button enabled, but diswork with button disabled and setDisabledIcon \r\n//sorry for my english bad i hope sincerly you understand( here decipher ).\r\n\t}\r\n\r\n}\r\n```\r\n\r\n[![https://i.stack.imgur.com/f02B9.png][1]][1]\r\n\r\nI want to put a Jbutton on a Jbutton \r\ni.e The JButton is setEnabledFalse and have a DisabledIcon and has another button on top (in the link it is blue)\r\n\r\n    // I want to put a Jbutton on a Jbutton \r\n    //  i.e The JButton is setEnabledFalse and have a DisabledIcon and has another button on top (in //the link it is blue)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f02B9.png","title":"Put a Jbutton On a Jbutton on java Swing","body":"<pre><code>import java.awt.EventQueue;\nimport java.awt.GridLayout;\n\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.border.EmptyBorder;\n\n\n\npublic class ButtonOnButton extends JFrame {\n\n    private JPanel contentPane;\n    private JButton firstButton; // first Button\n    private JButton secondButton; // second Button\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    ButtonOnButton frame = new ButtonOnButton();\n                    frame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the frame.\n     */\n    public ButtonOnButton() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setBounds(100, 100, 450, 300);\n        contentPane = new JPanel();\n         GridLayout gl = new GridLayout(1,0); // the button is in entire screen now and i want to put the &quot;secondButton&quot; on this red button.\n        contentPane.setLayout(gl);\n        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\n        firstButton = new JButton(&quot;&quot;); // \n        secondButton = new JButton(&quot;&quot;);\n        firstButton.setDisabledIcon(new ImageIcon(getClass().getResource(&quot;meeple.jpg&quot;))); // disabled icon\n        firstButton.setEnabled(false);\n        secondButton.setBackground(Color.blue);\n        \n        contentPane.add(firstButton);\n        firstButton.add(secondButton);\n        setContentPane(contentPane);\n// it work with button enabled, but diswork with button disabled and setDisabledIcon \n//sorry for my english bad i hope sincerly you understand( here decipher ).\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/f02B9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f02B9.png\" alt=\"https://i.stack.imgur.com/f02B9.png\" /></a></p>\n<p>I want to put a Jbutton on a Jbutton\ni.e The JButton is setEnabledFalse and have a DisabledIcon and has another button on top (in the link it is blue)</p>\n<pre><code>// I want to put a Jbutton on a Jbutton \n//  i.e The JButton is setEnabledFalse and have a DisabledIcon and has another button on top (in //the link it is blue)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1672905489,"post_id":75015299,"comment_id":132379349,"body_markdown":"you are rewriting the whole temp string when a 0 occurs in `temp=&quot;&quot;;`","body":"you are rewriting the whole temp string when a 0 occurs in <code>temp=&quot;&quot;;</code>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672906613,"post_id":75015299,"comment_id":132379614,"body_markdown":"You might want to learn to step through your code with a debugger. That would reveal what&#39;s happening quite easily even if you can&#39;t see it directly in the code :) - And debugging is an essential skill for any developer.","body":"You might want to learn to step through your code with a debugger. That would reveal what&#39;s happening quite easily even if you can&#39;t see it directly in the code :) - And debugging is an essential skill for any developer."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672905546,"creation_date":1672905546,"answer_id":75015357,"question_id":75015299,"body_markdown":"Your logic isn&#39;t correct. You have to add the 0 to the temp not just print it to STDOUT:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        String s1 = &quot;Hall123oo&quot;;\r\n        String temp = &quot;&quot;;\r\n        s1 = s1 + &quot; &quot;;\r\n        for (int i = 0; i &lt; s1.length(); i++) {\r\n            if (s1.charAt(i) &gt;= &#39;0&#39; &amp;&amp; s1.charAt(i) &lt;= &#39;9&#39;) {\r\n\r\n                temp += &quot;0&quot;;\r\n            }else {\r\n                temp += s1.charAt(i);\r\n            }\r\n\r\n        }\r\n        System.out.print(temp);\r\n    }\r\n\r\nOUTPUT:\r\n\r\n    Hall000oo ","title":"Replace all numbers to &quot;Zero&quot; (0) JAVA","body":"<p>Your logic isn't correct. You have to add the 0 to the temp not just print it to STDOUT:</p>\n<pre><code>public static void main(String[] args) {\n\n    String s1 = &quot;Hall123oo&quot;;\n    String temp = &quot;&quot;;\n    s1 = s1 + &quot; &quot;;\n    for (int i = 0; i &lt; s1.length(); i++) {\n        if (s1.charAt(i) &gt;= '0' &amp;&amp; s1.charAt(i) &lt;= '9') {\n\n            temp += &quot;0&quot;;\n        }else {\n            temp += s1.charAt(i);\n        }\n\n    }\n    System.out.print(temp);\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>Hall000oo \n</code></pre>\n"},{"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672906672,"post_id":75015382,"comment_id":132379635,"body_markdown":"Note sure but there seems to be a constraint: &quot;Use only charAt&quot; :) - If that weren&#39;t there this would be my first though as well.","body":"Note sure but there seems to be a constraint: &quot;Use only charAt&quot; :) - If that weren&#39;t there this would be my first though as well."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672911758,"post_id":75015382,"comment_id":132381166,"body_markdown":"Probably the best but @Jens is the closest to a simple correction. I would create the `StringBuilder` with the original string and then mutate it though.","body":"Probably the best but @Jens is the closest to a simple correction. I would create the <code>StringBuilder</code> with the original string and then mutate it though."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672906962,"creation_date":1672905738,"answer_id":75015382,"question_id":75015299,"body_markdown":"This can be done with simple `replace by regexp` method of `String`:\r\n\r\n```java\r\npublic static String maskNumbers(String str) {\r\n    return str.replaceAll(&quot;\\\\d&quot;, &quot;0&quot;);\r\n}\r\n```\r\n\r\nAnd more native solution (but `replaceAll` does +/- the same):\r\n\r\n```java\r\npublic static String maskNumbers(String str) {\r\n    StringBuilder buf = new StringBuilder(str.length());\r\n\r\n    for (int i = 0; i &lt; str.length(); i++) {\r\n        char ch = str.charAt(i);\r\n        buf.append(Character.isDigit(ch) ? &#39;0&#39; : ch);\r\n    }\r\n\r\n    return buf.toString();\r\n}\r\n```","title":"Replace all numbers to &quot;Zero&quot; (0) JAVA","body":"<p>This can be done with simple <code>replace by regexp</code> method of <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String maskNumbers(String str) {\n    return str.replaceAll(&quot;\\\\d&quot;, &quot;0&quot;);\n}\n</code></pre>\n<p>And more native solution (but <code>replaceAll</code> does +/- the same):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String maskNumbers(String str) {\n    StringBuilder buf = new StringBuilder(str.length());\n\n    for (int i = 0; i &lt; str.length(); i++) {\n        char ch = str.charAt(i);\n        buf.append(Character.isDigit(ch) ? '0' : ch);\n    }\n\n    return buf.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672906500,"post_id":75015409,"comment_id":132379574,"body_markdown":"I think the OP has the &quot;is the char a digit&quot; part already solved. The problem is in another part of the code - so your post doesn&#39;t really answer anything.","body":"I think the OP has the &quot;is the char a digit&quot; part already solved. The problem is in another part of the code - so your post doesn&#39;t really answer anything."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1672907003,"post_id":75015409,"comment_id":132379719,"body_markdown":"Working with exceptions here is very bad","body":"Working with exceptions here is very bad"},{"owner":{"account_id":4231428,"reputation":1077,"user_id":3463646,"accept_rate":80,"display_name":"sopehl"},"score":0,"creation_date":1672907059,"post_id":75015409,"comment_id":132379740,"body_markdown":"Yes I know @Jens just I wanted to show you with another perspective. There are many way to detect the chars are Number or not. It was another approach. But it is not a large scale application then it can be useable.","body":"Yes I know @Jens just I wanted to show you with another perspective. There are many way to detect the chars are Number or not. It was another approach. But it is not a large scale application then it can be useable."},{"owner":{"account_id":4231428,"reputation":1077,"user_id":3463646,"accept_rate":80,"display_name":"sopehl"},"score":0,"creation_date":1672907603,"post_id":75015409,"comment_id":132379891,"body_markdown":"@Thomas if you want full code, I edited.","body":"@Thomas if you want full code, I edited."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1672909070,"post_id":75015409,"comment_id":132380328,"body_markdown":"In general exceptions should not be used for control flow, especially not in cases where a simple char range comparison is all that&#39;s needed.","body":"In general exceptions should not be used for control flow, especially not in cases where a simple char range comparison is all that&#39;s needed."}],"tags":[],"owner":{"account_id":4231428,"reputation":1077,"user_id":3463646,"accept_rate":80,"display_name":"sopehl"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672954384,"creation_date":1672905858,"answer_id":75015409,"question_id":75015299,"body_markdown":"You can try to change every char to Integer object during the loop by the following code. If you don&#39;t get `NumberFormatException`, then change since this char is `Number`.\r\n\r\n    //  for loop start\r\n\t\t\r\n\tString currentElement = &quot;H&quot;;\r\n\tInteger intValue = Integer.valueOf(currentElement);\r\n\t// change the string char with &#39;0&#39;\r\n\t\t\r\n\t// catch block\r\n\t// do nothing\r\n\t\t\r\n\t//for loop end\r\n\t\r\nFULL CODE(without if blocks and different perspective):\r\n\r\n    \tString s1 = &quot;Hell1234oo&quot;;\r\n\t\tStringBuilder result = new StringBuilder();\r\n\t\tfor (int i = 0; i &lt; s1.length(); i++) {\r\n\t\t\ttry {\r\n\t\t\t\tInteger.valueOf(String.valueOf(s1.charAt(i)));\r\n\t\t\t\tresult.append(&quot;0&quot;);\r\n\t\t\t} catch (NumberFormatException e) {\r\n\t\t\t\tresult.append(s1.charAt(i));\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(result);","title":"Replace all numbers to &quot;Zero&quot; (0) JAVA","body":"<p>You can try to change every char to Integer object during the loop by the following code. If you don't get <code>NumberFormatException</code>, then change since this char is <code>Number</code>.</p>\n<pre><code>//  for loop start\n    \nString currentElement = &quot;H&quot;;\nInteger intValue = Integer.valueOf(currentElement);\n// change the string char with '0'\n    \n// catch block\n// do nothing\n    \n//for loop end\n</code></pre>\n<p>FULL CODE(without if blocks and different perspective):</p>\n<pre><code>    String s1 = &quot;Hell1234oo&quot;;\n    StringBuilder result = new StringBuilder();\n    for (int i = 0; i &lt; s1.length(); i++) {\n        try {\n            Integer.valueOf(String.valueOf(s1.charAt(i)));\n            result.append(&quot;0&quot;);\n        } catch (NumberFormatException e) {\n            result.append(s1.charAt(i));\n        }\n    }\n    System.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":26455297,"reputation":15,"user_id":20446303,"display_name":"Juniour Developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":3,"score":-3,"last_activity_date":1672954384,"creation_date":1672905198,"question_id":75015299,"body_markdown":" ```       Scanner sc = new Scanner(System.in);\r\n        String s1 = sc.next();\r\n        String temp = &quot;&quot;;\r\n        s1 = s1 + &quot; &quot;;\r\n        for (int i = 0; i &lt; s1.length(); i++) {\r\n          if (s1.charAt(i) &gt;= &#39;0&#39; &amp;&amp; s1.charAt(i) &lt;= &#39;9&#39;) {\r\n    \r\n            System.out.print(&#39;0&#39;);\r\n    temp=&quot;&quot;;\r\n          }else {\r\n            temp = temp + s1.charAt(i);\r\n          }\r\n    \r\n        }\r\n      }\r\n    }\r\n\r\n ```\r\nI need to replace all numbers to zero in String. For example, Hell1234oo and the output Hell0000oo. The logic is almost right however i always get only 0000 without text. How can i fix it? Use only charAt","title":"Replace all numbers to &quot;Zero&quot; (0) JAVA","body":"<pre><code>       String s1 = sc.next();\n       String temp = &quot;&quot;;\n       s1 = s1 + &quot; &quot;;\n       for (int i = 0; i &lt; s1.length(); i++) {\n         if (s1.charAt(i) &gt;= '0' &amp;&amp; s1.charAt(i) &lt;= '9') {\n   \n           System.out.print('0');\n   temp=&quot;&quot;;\n         }else {\n           temp = temp + s1.charAt(i);\n         }\n   \n       }\n     }\n   }\n\n</code></pre>\n<p>I need to replace all numbers to zero in String. For example, Hell1234oo and the output Hell0000oo. The logic is almost right however i always get only 0000 without text. How can i fix it? Use only charAt</p>\n"},{"tags":["java","spring","spring-boot","rest","postman"],"comments":[{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672954465,"post_id":75024459,"comment_id":132395751,"body_markdown":"See\nhttps://devqa.io/how-to-convert-java-map-to-json/\nhttps://stackoverflow.com/questions/55072467/sending-map-in-postman-post-request","body":"See <a href=\"https://devqa.io/how-to-convert-java-map-to-json/\" rel=\"nofollow noreferrer\">devqa.io/how-to-convert-java-map-to-json</a> <a href=\"https://stackoverflow.com/questions/55072467/sending-map-in-postman-post-request\" title=\"sending map in postman post request\">stackoverflow.com/questions/55072467/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15579758,"reputation":187,"user_id":11239910,"display_name":"Žeka Koževin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672954226,"creation_date":1672954226,"answer_id":75024548,"question_id":75024459,"body_markdown":"Map is a simple JSON object with keys and values\r\n\r\n```JSON\r\n{\r\n    &quot;guestId&quot; : &quot;0ee9f345-4c2d-45a5-ad30-08fbcf10bb20&quot;,\r\n    &quot;officeId&quot; : &quot;917dasd8fc0-643e-11ed-81ce-0242ac120002&quot;,\r\n    &quot;officeType&quot; : &quot;1&quot;,\r\n    &quot;advertId&quot; : &quot;157fasd43a4-1de6-4fe9-8c7a-ac2164cec6bc&quot;,\r\n    &quot;guestCount&quot; : &quot;4&quot;,\r\n    &quot;testMap&quot; : {&quot;keyoo&quot; : &quot;1&quot;, &quot;keyaa&quot; : &quot;AG&quot;}\r\n}\r\n```","title":"How to send Map&lt;&gt; object in postman request to Spring boot app?","body":"<p>Map is a simple JSON object with keys and values</p>\n<pre><code>{\n    &quot;guestId&quot; : &quot;0ee9f345-4c2d-45a5-ad30-08fbcf10bb20&quot;,\n    &quot;officeId&quot; : &quot;917dasd8fc0-643e-11ed-81ce-0242ac120002&quot;,\n    &quot;officeType&quot; : &quot;1&quot;,\n    &quot;advertId&quot; : &quot;157fasd43a4-1de6-4fe9-8c7a-ac2164cec6bc&quot;,\n    &quot;guestCount&quot; : &quot;4&quot;,\n    &quot;testMap&quot; : {&quot;keyoo&quot; : &quot;1&quot;, &quot;keyaa&quot; : &quot;AG&quot;}\n}\n</code></pre>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75024548,"answer_count":1,"score":0,"last_activity_date":1672954256,"creation_date":1672953555,"question_id":75024459,"body_markdown":"I have a controller:\r\n\r\n    @PostMapping\r\n        public ResponseEntity&lt;BookingDto&gt; saveBooking(@RequestBody BookingDto dto) {\r\n            ...\r\n        }\r\n\r\nAnd my structure is like:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class BookingDto {\r\n        private String id;\r\n        private String guestId;\r\n        private String officeId;\r\n        private OfficeType officeType;\r\n        private String advertId;\r\n        private String guestCount;\r\n        private String[] guestInvites;\r\n    \r\n        private Map&lt;String, String&gt; testMap;\r\n\r\nAnd I am sending request from postman like :\r\n\r\n    {\r\n        &quot;guestId&quot; : &quot;0ee9f345-4c2d-45a5-ad30-08fbcf10bb20&quot;,\r\n        &quot;officeId&quot; : &quot;917dasd8fc0-643e-11ed-81ce-0242ac120002&quot;,\r\n        &quot;officeType&quot; : &quot;1&quot;,\r\n        &quot;advertId&quot; : &quot;157fasd43a4-1de6-4fe9-8c7a-ac2164cec6bc&quot;,\r\n        &quot;guestCount&quot; : &quot;4&quot;,\r\n        &quot;testMap&quot; : [&quot;keyoo : 1&quot;, &quot;keyaa : AG&quot;]\r\n    }\r\n\r\nas you see in pic:\r\n[![enter image description here][1]][1]\r\nBut It cannot deserialize `Map&lt;String,String&gt; object`. How can I send and use a `Map&lt;String, String&gt; object` ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PkFkj.png","title":"How to send Map&lt;&gt; object in postman request to Spring boot app?","body":"<p>I have a controller:</p>\n<pre><code>@PostMapping\n    public ResponseEntity&lt;BookingDto&gt; saveBooking(@RequestBody BookingDto dto) {\n        ...\n    }\n</code></pre>\n<p>And my structure is like:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class BookingDto {\n    private String id;\n    private String guestId;\n    private String officeId;\n    private OfficeType officeType;\n    private String advertId;\n    private String guestCount;\n    private String[] guestInvites;\n\n    private Map&lt;String, String&gt; testMap;\n</code></pre>\n<p>And I am sending request from postman like :</p>\n<pre><code>{\n    &quot;guestId&quot; : &quot;0ee9f345-4c2d-45a5-ad30-08fbcf10bb20&quot;,\n    &quot;officeId&quot; : &quot;917dasd8fc0-643e-11ed-81ce-0242ac120002&quot;,\n    &quot;officeType&quot; : &quot;1&quot;,\n    &quot;advertId&quot; : &quot;157fasd43a4-1de6-4fe9-8c7a-ac2164cec6bc&quot;,\n    &quot;guestCount&quot; : &quot;4&quot;,\n    &quot;testMap&quot; : [&quot;keyoo : 1&quot;, &quot;keyaa : AG&quot;]\n}\n</code></pre>\n<p>as you see in pic:\n<a href=\"https://i.stack.imgur.com/PkFkj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkFkj.png\" alt=\"enter image description here\" /></a>\nBut It cannot deserialize <code>Map&lt;String,String&gt; object</code>. How can I send and use a <code>Map&lt;String, String&gt; object</code> ?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672966055,"post_id":75022607,"comment_id":132398080,"body_markdown":"you need to implement `equals` and `hashCode` for `Address` class, otherwise HBN thinks entity is dirty after `persist`","body":"you need to implement <code>equals</code> and <code>hashCode</code> for <code>Address</code> class, otherwise HBN thinks entity is dirty after <code>persist</code>"},{"owner":{"account_id":9872334,"reputation":90,"user_id":12392556,"display_name":"Piterowsky"},"score":0,"creation_date":1673007473,"post_id":75022607,"comment_id":132406127,"body_markdown":"yes, that was so obvious, thank you :)\n\nCan you provide an answer so I can close this question?","body":"yes, that was so obvious, thank you :)  Can you provide an answer so I can close this question?"}],"owner":{"account_id":9872334,"reputation":90,"user_id":12392556,"display_name":"Piterowsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672953757,"creation_date":1672941919,"question_id":75022607,"body_markdown":"When I&#39;m trying to save a simple entity in hibernate with field marked with @Convert annotation insert is always followed by update with the same parameters as in insert.\r\n\r\nEntity to save\r\n```java\r\n@Entity\r\npublic class Building {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private Long id;\r\n\r\n    @Convert(converter = AddressConverter.class)\r\n    private Address address;\r\n    ...\r\n```\r\n\r\nObject that is converted to String\r\n```java\r\npublic class Address {\r\n\r\n    private String street;\r\n\r\n    private String city;\r\n    ...\r\n```\r\n\r\nConverter\r\n\r\n```java\r\n@Converter\r\nclass AddressConverter implements AttributeConverter&lt;Address, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Address attribute) {\r\n        return attribute.getStreet() + &quot; &quot; + attribute.getCity();\r\n    }\r\n\r\n    @Override\r\n    public Address convertToEntityAttribute(String dbData) {\r\n        String[] data = dbData.split(&quot; &quot;);\r\n        Address address = new Address();\r\n        address.setStreet(data[0]);\r\n        address.setCity(data[1]);\r\n        return address;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nIt should work like that, and if it should, why? I don&#39;t see at first glance any reason to make this additional query.\r\n\r\nLogs looks like this:\r\n```java\r\n18:52:14.959 [main] DEBUG org.hibernate.SQL - insert into building (address, id) values (?, ?) \r\n18:52:14.960 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [VARCHAR] - [test-street test-city] \r\n18:52:14.961 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [2] as [BIGINT] - [1] \r\n18:52:14.962 [main] DEBUG org.hibernate.SQL - update building set address=? where id=? \r\n18:52:14.964 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [VARCHAR] - [test-street test-city] \r\n18:52:14.964 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [2] as [BIGINT] - [1] \r\n```\r\n\r\nI&#39;ve made proof, so you can check it here: https://gitlab.com/Piterowsky/demo-insert-update-convert-annotation/-/tree/master/src/main/java/com/example/demo","title":"Is hibernate executing additional update while persisting using @Convert annotation?","body":"<p>When I'm trying to save a simple entity in hibernate with field marked with @Convert annotation insert is always followed by update with the same parameters as in insert.</p>\n<p>Entity to save</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Building {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Convert(converter = AddressConverter.class)\n    private Address address;\n    ...\n</code></pre>\n<p>Object that is converted to String</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Address {\n\n    private String street;\n\n    private String city;\n    ...\n</code></pre>\n<p>Converter</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter\nclass AddressConverter implements AttributeConverter&lt;Address, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(Address attribute) {\n        return attribute.getStreet() + &quot; &quot; + attribute.getCity();\n    }\n\n    @Override\n    public Address convertToEntityAttribute(String dbData) {\n        String[] data = dbData.split(&quot; &quot;);\n        Address address = new Address();\n        address.setStreet(data[0]);\n        address.setCity(data[1]);\n        return address;\n    }\n}\n\n\n</code></pre>\n<p>It should work like that, and if it should, why? I don't see at first glance any reason to make this additional query.</p>\n<p>Logs looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>18:52:14.959 [main] DEBUG org.hibernate.SQL - insert into building (address, id) values (?, ?) \n18:52:14.960 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [VARCHAR] - [test-street test-city] \n18:52:14.961 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [2] as [BIGINT] - [1] \n18:52:14.962 [main] DEBUG org.hibernate.SQL - update building set address=? where id=? \n18:52:14.964 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [1] as [VARCHAR] - [test-street test-city] \n18:52:14.964 [main] TRACE org.hibernate.orm.jdbc.bind - binding parameter [2] as [BIGINT] - [1] \n</code></pre>\n<p>I've made proof, so you can check it here: <a href=\"https://gitlab.com/Piterowsky/demo-insert-update-convert-annotation/-/tree/master/src/main/java/com/example/demo\" rel=\"nofollow noreferrer\">https://gitlab.com/Piterowsky/demo-insert-update-convert-annotation/-/tree/master/src/main/java/com/example/demo</a></p>\n"},{"tags":["java","spring","reactive-programming","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672953282,"creation_date":1672952939,"answer_id":75024374,"question_id":74734189,"body_markdown":"    @RequestBody Mono&lt;MyRequest&gt; myRequestMono\r\n\r\nActually in your case there is no need to use `Mono` as `@RequestBody` in controller, you can replace it with your object explicitly, there will be no blocking. And for further processing just wrap it with `Mono.just()` \r\n\r\nSo you can use your literal object in operators in your chain without worrying about blocking\r\n\r\n\r\nAccording to WebFlux [documentation][1]:\r\n\r\n*The request body can be one of the following way and it will be decoded automatically in both the annotation and the functional programming models:*\r\n\r\n    Account account\r\n\r\n — *the account is deserialized without blocking before the controller is invoked.*\r\n\r\n    Mono&lt;Account&gt; account\r\n\r\n — *the controller can use the Mono to declare logic to be executed after the account is deserialized.*\r\n\r\n    Flux&lt;Account&gt; accounts\r\n\r\n — *input streaming scenario.*\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.0.0.M5/spring-framework-reference/html/web-reactive.html#web-reactive-http-body","title":"Spring Webflux Controller : Get original request object in reactive chain","body":"<pre><code>@RequestBody Mono&lt;MyRequest&gt; myRequestMono\n</code></pre>\n<p>Actually in your case there is no need to use <code>Mono</code> as <code>@RequestBody</code> in controller, you can replace it with your object explicitly, there will be no blocking. And for further processing just wrap it with <code>Mono.just()</code></p>\n<p>So you can use your literal object in operators in your chain without worrying about blocking</p>\n<p>According to WebFlux <a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.M5/spring-framework-reference/html/web-reactive.html#web-reactive-http-body\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<p><em>The request body can be one of the following way and it will be decoded automatically in both the annotation and the functional programming models:</em></p>\n<pre><code>Account account\n</code></pre>\n<p> — <em>the account is deserialized without blocking before the controller is invoked.</em></p>\n<pre><code>Mono&lt;Account&gt; account\n</code></pre>\n<p> — <em>the controller can use the Mono to declare logic to be executed after the account is deserialized.</em></p>\n<pre><code>Flux&lt;Account&gt; accounts\n</code></pre>\n<p> — <em>input streaming scenario.</em></p>\n"}],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672953282,"creation_date":1670520760,"question_id":74734189,"body_markdown":"I have a spring webflux project. I have a controller method like this \r\n\r\n    @PostMapping(&quot;url&quot;)\r\n    public Mono&lt;MyResponse&gt; getMyResponse(@RequestBody Mono&lt;MyRequest&gt; myRequestMono) {\r\n\r\n        return urlService.getUrl(myRequestMono)\r\n                .doOnNext(url -&gt; {\r\n                    System.out.println(&quot;Generated URL: Successfully &quot;);\r\n                })\r\n                .map(dto -&gt; MyResponse.builder().url(dto).build())\r\n                .doOnError(e -&gt; System.out.println(&quot;Error &quot; + e));\r\n    }\r\n    \r\nMy service class looks like this \r\n\r\n    public Mono&lt;String&gt; getUrl(Mono&lt;MyRequest&gt; myRequestMono) {\r\n        return myRequestMono.map(myRequest -&gt; {\r\n            callSomething();\r\n            return &quot;something&quot;;\r\n        });\r\n    }\r\n    \r\nWhat I want to do is, when I log the line &quot;Generated URL: Successfully&quot;, I would like to log a field in MyRequest object coming in through the request. \r\nHow can I access that in `.doOnNext` \r\n\r\nI saw that I can set this value in a context and access it using `transformDeferredContextual`. \r\n\r\nI tried it by implementing `WebFilter` and adding it there, but cannot really access it in the controller\r\n\r\n    urlService.getUrl(myRequestMono)\r\n                .transformDeferredContextual((stringMono, contextView) -&gt;\r\n                        stringMono\r\n                        .doOnNext(url -&gt; {\r\n                            contextView.get(&quot;key&quot;) // cannot get the object from this.\r\n                            System.out.println(&quot;Generated URL: Successfully &quot;);\r\n                        })\r\n                        .map(dto -&gt; MyResponse.builder().url(dto).build())\r\n                        .doOnError(e -&gt; System.out.println(&quot;Error occurred &quot; + e)));\r\n\r\n\r\nis this the right approach? If not how do I tackle this issue. I need to access the original request that I received in the Http request in my `.doOnNext` method. I can set this in my response object in service class and access it, but that is a bit hacky.","title":"Spring Webflux Controller : Get original request object in reactive chain","body":"<p>I have a spring webflux project. I have a controller method like this</p>\n<pre><code>@PostMapping(&quot;url&quot;)\npublic Mono&lt;MyResponse&gt; getMyResponse(@RequestBody Mono&lt;MyRequest&gt; myRequestMono) {\n\n    return urlService.getUrl(myRequestMono)\n            .doOnNext(url -&gt; {\n                System.out.println(&quot;Generated URL: Successfully &quot;);\n            })\n            .map(dto -&gt; MyResponse.builder().url(dto).build())\n            .doOnError(e -&gt; System.out.println(&quot;Error &quot; + e));\n}\n</code></pre>\n<p>My service class looks like this</p>\n<pre><code>public Mono&lt;String&gt; getUrl(Mono&lt;MyRequest&gt; myRequestMono) {\n    return myRequestMono.map(myRequest -&gt; {\n        callSomething();\n        return &quot;something&quot;;\n    });\n}\n</code></pre>\n<p>What I want to do is, when I log the line &quot;Generated URL: Successfully&quot;, I would like to log a field in MyRequest object coming in through the request.\nHow can I access that in <code>.doOnNext</code></p>\n<p>I saw that I can set this value in a context and access it using <code>transformDeferredContextual</code>.</p>\n<p>I tried it by implementing <code>WebFilter</code> and adding it there, but cannot really access it in the controller</p>\n<pre><code>urlService.getUrl(myRequestMono)\n            .transformDeferredContextual((stringMono, contextView) -&gt;\n                    stringMono\n                    .doOnNext(url -&gt; {\n                        contextView.get(&quot;key&quot;) // cannot get the object from this.\n                        System.out.println(&quot;Generated URL: Successfully &quot;);\n                    })\n                    .map(dto -&gt; MyResponse.builder().url(dto).build())\n                    .doOnError(e -&gt; System.out.println(&quot;Error occurred &quot; + e)));\n</code></pre>\n<p>is this the right approach? If not how do I tackle this issue. I need to access the original request that I received in the Http request in my <code>.doOnNext</code> method. I can set this in my response object in service class and access it, but that is a bit hacky.</p>\n"},{"tags":["java","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1672849348,"post_id":74923244,"comment_id":132366722,"body_markdown":"This question has since been discussed in Slack at https://rewriteoss.slack.com/archives/C01A843MWG5/p1672315494361949\nAnyone welcome to post an answer with the details here.","body":"This question has since been discussed in Slack at <a href=\"https://rewriteoss.slack.com/archives/C01A843MWG5/p1672315494361949\" rel=\"nofollow noreferrer\">rewriteoss.slack.com/archives/C01A843MWG5/p1672315494361949</a> Anyone welcome to post an answer with the details here."}],"answers":[{"tags":[],"owner":{"account_id":13925157,"reputation":49,"user_id":10054680,"display_name":"pdesprez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672952934,"creation_date":1672952934,"answer_id":75024370,"question_id":74923244,"body_markdown":"&gt; Got it with calling this method upon @Foo&#39;s &quot;value&quot; attribute \r\n\r\n    List&lt;Expression&gt; extractBarAnnotation(@Nullable List&lt;Expression&gt; initializer) {\r\n\tfinal List&lt;Expression&gt; barsArray = new ArrayList&lt;&gt;();\r\n\r\n\tfor (Expression expression : initializer) {\r\n\t\tJ.Annotation innerAnnotation = (J.Annotation) expression;\r\n\t\tList&lt;Expression&gt; newArgs = ListUtils.map(innerAnnotation.getArguments(), it -&gt; {\r\n\t\t\tif (it instanceof J.Assignment) {\r\n\t\t\t\tJ.Assignment as = (J.Assignment) it;\r\n\t\t\t\tJ.Identifier var = (J.Identifier) as.getVariable();\r\n\t\t\t\tif (&quot;value&quot;.equals(var.getSimpleName())) {\r\n\t\t\t\t\tJ.Literal value = (J.Literal) as.getAssignment();\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t});\r\n\t\tbarsArray.addAll(newArgs);\r\n\t}\r\n\treturn barsArray;\r\n}\r\n\r\n","title":"how to replace an annotation with his Attribute with openrewrite?","body":"<blockquote>\n<p>Got it with calling this method upon @Foo's &quot;value&quot; attribute</p>\n</blockquote>\n<pre><code>List&lt;Expression&gt; extractBarAnnotation(@Nullable List&lt;Expression&gt; initializer) {\nfinal List&lt;Expression&gt; barsArray = new ArrayList&lt;&gt;();\n\nfor (Expression expression : initializer) {\n    J.Annotation innerAnnotation = (J.Annotation) expression;\n    List&lt;Expression&gt; newArgs = ListUtils.map(innerAnnotation.getArguments(), it -&gt; {\n        if (it instanceof J.Assignment) {\n            J.Assignment as = (J.Assignment) it;\n            J.Identifier var = (J.Identifier) as.getVariable();\n            if (&quot;value&quot;.equals(var.getSimpleName())) {\n                J.Literal value = (J.Literal) as.getAssignment();\n                return value;\n            }\n        }\n        return null;\n    });\n    barsArray.addAll(newArgs);\n}\nreturn barsArray;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":13925157,"reputation":49,"user_id":10054680,"display_name":"pdesprez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672952934,"creation_date":1672081207,"question_id":74923244,"body_markdown":"To migrate a java API I need to replace an annotation with the value of an attribute and I&#39;m looking for how to do it:\r\n\r\nBefore:\r\n```\r\n\t@Foo(values = {@Bar(value=&quot;one&quot;), @Bar(Value=&quot;two&quot;)})\r\n\tprivate void stuff() {\r\n\t}\r\n```\r\n\r\nAfter :\r\n```\r\n\t@Foo(values = { &quot;one&quot; ,  &quot;two&quot; })\r\n\tprivate void stuff() {\r\n\t}\r\n```\r\n\r\n\r\nI tried using the visitAnnotation() method but this should return an annotation and not a literal.\r\nIf anyone has any idea or advice how to do this.","title":"how to replace an annotation with his Attribute with openrewrite?","body":"<p>To migrate a java API I need to replace an annotation with the value of an attribute and I'm looking for how to do it:</p>\n<p>Before:</p>\n<pre><code>    @Foo(values = {@Bar(value=&quot;one&quot;), @Bar(Value=&quot;two&quot;)})\n    private void stuff() {\n    }\n</code></pre>\n<p>After :</p>\n<pre><code>    @Foo(values = { &quot;one&quot; ,  &quot;two&quot; })\n    private void stuff() {\n    }\n</code></pre>\n<p>I tried using the visitAnnotation() method but this should return an annotation and not a literal.\nIf anyone has any idea or advice how to do this.</p>\n"},{"tags":["java","spark-java"],"owner":{"account_id":16671105,"reputation":118,"user_id":12048520,"display_name":"RobbieS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672952711,"creation_date":1672952711,"question_id":75024343,"body_markdown":"I have the following Before filter:\r\n\r\n```\r\nbefore((req, res) -&gt; log.info(req.requestMethod() + &quot; &quot; + req.contextPath()));\r\n```\r\n\r\nThe documentation on http://sparkjava.com/documentation#filters it states:\r\n\r\n&gt; Before-filters are evaluated before each request, and can read the request and read/modify the response.\r\n\r\nand at http://sparkjava.com/documentation#request it says about request.contextPath():\r\n\r\n&gt; request.contextPath();            // the context path, e.g. &quot;/hello&quot;\r\n\r\n\r\nSo when I make a GET request to `/version` I would expect to see &quot;GET /version&quot;, but instead I see &quot;GET null&quot;.","title":"Why is request.contextPath null in Before filter?","body":"<p>I have the following Before filter:</p>\n<pre><code>before((req, res) -&gt; log.info(req.requestMethod() + &quot; &quot; + req.contextPath()));\n</code></pre>\n<p>The documentation on <a href=\"http://sparkjava.com/documentation#filters\" rel=\"nofollow noreferrer\">http://sparkjava.com/documentation#filters</a> it states:</p>\n<blockquote>\n<p>Before-filters are evaluated before each request, and can read the request and read/modify the response.</p>\n</blockquote>\n<p>and at <a href=\"http://sparkjava.com/documentation#request\" rel=\"nofollow noreferrer\">http://sparkjava.com/documentation#request</a> it says about request.contextPath():</p>\n<blockquote>\n<p>request.contextPath();            // the context path, e.g. &quot;/hello&quot;</p>\n</blockquote>\n<p>So when I make a GET request to <code>/version</code> I would expect to see &quot;GET /version&quot;, but instead I see &quot;GET null&quot;.</p>\n"},{"tags":["java","android","performance","exoplayer","exoplayer2.x"],"owner":{"account_id":16753606,"reputation":21,"user_id":12110133,"display_name":"Atti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672952601,"creation_date":1672952601,"question_id":75024330,"body_markdown":"I&#39;m working on an app that plays video files that are stored on the device rather than streamed. I want the user to be able to analyze it, which involves features like playback speed, accurate scrubbing, frame export, all that jazz. The functionality works great except when I try to move the scrubber it takes a second or two to display the video frame. It feels really bad manually scrubbing slowly only to not see the frame you&#39;re currently on. The videos I expect to be used in the app aren&#39;t going to be ten minute videos or anything like that; more like a minute or two at most.\r\n\r\nI&#39;ve tried setting the seek parameter to closest sync when scrubbing but that has too much imprecision. I&#39;ve also tried changing the buffer durations like so:\r\n\r\n`DefaultLoadControl.Builder builder = new DefaultLoadControl.Builder();\r\n        builder.setBufferDurationsMs(1500, DefaultLoadControl.DEFAULT_MAX_BUFFER_MS, 1500, 1500);\r\n        TrackSelector trackSelector = new DefaultTrackSelector(this);`\r\n\r\nBut this had no visible change. Then I tried increasing the individual allocation size to 4mb, but that didn&#39;t work either. All the suggestions I&#39;ve seen online relate the streaming, but my files are local. \r\n\r\nIf anyone could point me in the right direction I would greatly appreciate it.","title":"Exoplayer scrubbing has huge delay on local video files","body":"<p>I'm working on an app that plays video files that are stored on the device rather than streamed. I want the user to be able to analyze it, which involves features like playback speed, accurate scrubbing, frame export, all that jazz. The functionality works great except when I try to move the scrubber it takes a second or two to display the video frame. It feels really bad manually scrubbing slowly only to not see the frame you're currently on. The videos I expect to be used in the app aren't going to be ten minute videos or anything like that; more like a minute or two at most.</p>\n<p>I've tried setting the seek parameter to closest sync when scrubbing but that has too much imprecision. I've also tried changing the buffer durations like so:</p>\n<p><code>DefaultLoadControl.Builder builder = new DefaultLoadControl.Builder(); builder.setBufferDurationsMs(1500, DefaultLoadControl.DEFAULT_MAX_BUFFER_MS, 1500, 1500); TrackSelector trackSelector = new DefaultTrackSelector(this);</code></p>\n<p>But this had no visible change. Then I tried increasing the individual allocation size to 4mb, but that didn't work either. All the suggestions I've seen online relate the streaming, but my files are local.</p>\n<p>If anyone could point me in the right direction I would greatly appreciate it.</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":1610757,"reputation":1067,"user_id":1856573,"accept_rate":90,"display_name":"lapadets"},"score":0,"creation_date":1671744389,"post_id":74893396,"comment_id":132169342,"body_markdown":"Have you tried to use a custom Executor and pass it to the HttpClient instead of a ForkJoinPool. This allows you to have more control over the thread pool used by the HttpClient and can potentially avoid the RejectedExecutionException :shrug:","body":"Have you tried to use a custom Executor and pass it to the HttpClient instead of a ForkJoinPool. This allows you to have more control over the thread pool used by the HttpClient and can potentially avoid the RejectedExecutionException :shrug:"},{"owner":{"account_id":55234,"reputation":15884,"user_id":165345,"accept_rate":54,"display_name":"Ethan Leroy"},"score":0,"creation_date":1671820710,"post_id":74893396,"comment_id":132184449,"body_markdown":"Oh yes, I forgot to mention that I already tried that. The thing is, that this executor is not used for the `CompletableFuture` which calls directly `ForkJoinPool.managedBlock(q);`.","body":"Oh yes, I forgot to mention that I already tried that. The thing is, that this executor is not used for the <code>CompletableFuture</code> which calls directly <code>ForkJoinPool.managedBlock(q);</code>."}],"answers":[{"tags":[],"owner":{"account_id":55234,"reputation":15884,"user_id":165345,"accept_rate":54,"display_name":"Ethan Leroy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672952004,"creation_date":1672952004,"answer_id":75024244,"question_id":74893396,"body_markdown":"It turned out that in our case we used a `ForkJoinPool` around all this and **we had to configure its *saturate predicate***:\r\n\r\nThis all happened in our JUnit5 tests where we use a custom [ParallelExecutionConfiguration](https://junit.org/junit5/docs/5.9.0/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/ParallelExecutionConfiguration.html). This executes our tests in parallel by the use of `ForkJoinPool`.\r\n\r\nLuckily the mentioned interface provides a new method \r\n[getSaturatePredicate()](https://junit.org/junit5/docs/5.9.0/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/ParallelExecutionConfiguration.html#getSaturatePredicate()) starting with JUnit 5.9.0. So all we had to do is to upgrade JUnit5 and implement this method:\r\n\r\n    @Override\r\n    public Predicate&lt;? super ForkJoinPool&gt; getSaturatePredicate() {\r\n        return forkJoinPool -&gt; true;\r\n    }","title":"How to avoid RejectedExecutionException with java.net HttpClient after upgrade to Java 17?","body":"<p>It turned out that in our case we used a <code>ForkJoinPool</code> around all this and <strong>we had to configure its <em>saturate predicate</em></strong>:</p>\n<p>This all happened in our JUnit5 tests where we use a custom <a href=\"https://junit.org/junit5/docs/5.9.0/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/ParallelExecutionConfiguration.html\" rel=\"nofollow noreferrer\">ParallelExecutionConfiguration</a>. This executes our tests in parallel by the use of <code>ForkJoinPool</code>.</p>\n<p>Luckily the mentioned interface provides a new method\n<a href=\"https://junit.org/junit5/docs/5.9.0/api/org.junit.platform.engine/org/junit/platform/engine/support/hierarchical/ParallelExecutionConfiguration.html#getSaturatePredicate()\" rel=\"nofollow noreferrer\">getSaturatePredicate()</a> starting with JUnit 5.9.0. So all we had to do is to upgrade JUnit5 and implement this method:</p>\n<pre><code>@Override\npublic Predicate&lt;? super ForkJoinPool&gt; getSaturatePredicate() {\n    return forkJoinPool -&gt; true;\n}\n</code></pre>\n"}],"owner":{"account_id":55234,"reputation":15884,"user_id":165345,"accept_rate":54,"display_name":"Ethan Leroy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75024244,"answer_count":1,"score":4,"last_activity_date":1672952004,"creation_date":1671739806,"question_id":74893396,"body_markdown":"I am upgrading a project from Java 11 to Java 17. This project uses `java.net.http.HttpClient` in several places which after the upgrade run into the following exception:\r\n\r\n```\r\n    ...\r\nCaused by: java.util.concurrent.RejectedExecutionException: Thread limit exceeded replacing blocked worker\r\n\tat java.base/java.util.concurrent.ForkJoinPool.tryCompensate(ForkJoinPool.java:1819)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.compensatedBlock(ForkJoinPool.java:3446)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3432)\r\n\tat java.base/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1898)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2072)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:553)\r\n\tat java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\r\n    ...\r\n```\r\n\r\nFrom what I understand the problem is that HttpClient uses `CompletableFuture` which calls `ForkJoinPool.managedBlock(q);` in line 1898. This uses the [static common pool of ForkJoinPool](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()) (correct me if I&#39;m wrong) and I don&#39;t have any chance to tell my application to create a separate pool for these calls (or do I?). Furthermore in Java 17 the [behavior changed](https://stackoverflow.com/questions/69768534/why-does-java-17-throw-a-rejectedexecutionexception-when-adding-tasks-to-a-forkj) how java deals with the situation when all threads of the pool are in use - which now leads to this exception.\r\n\r\nIs there a way around this problem? I already played around with the system parameters `java.util.concurrent.ForkJoinPool.common.parallelism` and `...common.maximumSpares` but without the desired result.\r\n\r\nWhat can I do to avoid this exception? Thanks for all your help!","title":"How to avoid RejectedExecutionException with java.net HttpClient after upgrade to Java 17?","body":"<p>I am upgrading a project from Java 11 to Java 17. This project uses <code>java.net.http.HttpClient</code> in several places which after the upgrade run into the following exception:</p>\n<pre><code>    ...\nCaused by: java.util.concurrent.RejectedExecutionException: Thread limit exceeded replacing blocked worker\n    at java.base/java.util.concurrent.ForkJoinPool.tryCompensate(ForkJoinPool.java:1819)\n    at java.base/java.util.concurrent.ForkJoinPool.compensatedBlock(ForkJoinPool.java:3446)\n    at java.base/java.util.concurrent.ForkJoinPool.managedBlock(ForkJoinPool.java:3432)\n    at java.base/java.util.concurrent.CompletableFuture.waitingGet(CompletableFuture.java:1898)\n    at java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2072)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:553)\n    at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:123)\n    ...\n</code></pre>\n<p>From what I understand the problem is that HttpClient uses <code>CompletableFuture</code> which calls <code>ForkJoinPool.managedBlock(q);</code> in line 1898. This uses the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ForkJoinPool.html#commonPool()\" rel=\"nofollow noreferrer\">static common pool of ForkJoinPool</a> (correct me if I'm wrong) and I don't have any chance to tell my application to create a separate pool for these calls (or do I?). Furthermore in Java 17 the <a href=\"https://stackoverflow.com/questions/69768534/why-does-java-17-throw-a-rejectedexecutionexception-when-adding-tasks-to-a-forkj\">behavior changed</a> how java deals with the situation when all threads of the pool are in use - which now leads to this exception.</p>\n<p>Is there a way around this problem? I already played around with the system parameters <code>java.util.concurrent.ForkJoinPool.common.parallelism</code> and <code>...common.maximumSpares</code> but without the desired result.</p>\n<p>What can I do to avoid this exception? Thanks for all your help!</p>\n"},{"tags":["java","concurrency","reentrantreadwritelock"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1672438511,"post_id":74966119,"comment_id":132291603,"body_markdown":"What&#39;s your best guess?","body":"What&#39;s your best guess?"}],"answers":[{"comments":[{"owner":{"account_id":411446,"reputation":1700,"user_id":783893,"accept_rate":30,"display_name":"Vineel"},"score":0,"creation_date":1672440330,"post_id":74966214,"comment_id":132291952,"body_markdown":"In other words, the behavior I see is because I am using the same main thread ? If we use different threads, when one of them is writing, other threads can&#39;t access the read lock ?","body":"In other words, the behavior I see is because I am using the same main thread ? If we use different threads, when one of them is writing, other threads can&#39;t access the read lock ?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":1,"creation_date":1672440418,"post_id":74966214,"comment_id":132291965,"body_markdown":"That&#39;s correct.  And the rationale for that is - the data protected by the lock are being written, so may be inconsistent.","body":"That&#39;s correct.  And the rationale for that is - the data protected by the lock are being written, so may be inconsistent."}],"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1672438774,"creation_date":1672438774,"answer_id":74966214,"question_id":74966119,"body_markdown":"&gt; While a write lock is being held, Read lock can be acquired.\r\n\r\nLocking is to protect against access by concurrent threads.\r\n\r\nA read-write lock allows multiple concurrent readers OR a single writer thread.\r\n\r\nIf a thread owns the write lock, it already has exclusive access, so there&#39;s no harm in granting it read access.  It will not conflict with itself.\r\n\r\nIf a thread owns the read lock, there is no guarantee it has exclusive access, so granting the write lock is disallowed.  There is no benefit in special-casing the &#39;single thread wanting both locks&#39; situation.\r\n\r\nIn other systems, the lock modes are referred to as &#39;exclusive&#39; (= write) and &#39;shared&#39; (= read) modes. Considering those terms might help clarify the situation.\r\n\r\nThere is further rationale in [the documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html) for the reentrant read-write lock:\r\n\r\n&gt; Additionally, a writer can acquire the read lock, but not vice-versa.\r\n&gt; Among other applications, reentrancy can be useful when write locks\r\n&gt; are held during calls or callbacks to methods that perform reads under\r\n&gt; read locks. If a reader tries to acquire the write lock it will never\r\n&gt; succeed.","title":"ReadWrite locks in Java","body":"<blockquote>\n<p>While a write lock is being held, Read lock can be acquired.</p>\n</blockquote>\n<p>Locking is to protect against access by concurrent threads.</p>\n<p>A read-write lock allows multiple concurrent readers OR a single writer thread.</p>\n<p>If a thread owns the write lock, it already has exclusive access, so there's no harm in granting it read access.  It will not conflict with itself.</p>\n<p>If a thread owns the read lock, there is no guarantee it has exclusive access, so granting the write lock is disallowed.  There is no benefit in special-casing the 'single thread wanting both locks' situation.</p>\n<p>In other systems, the lock modes are referred to as 'exclusive' (= write) and 'shared' (= read) modes. Considering those terms might help clarify the situation.</p>\n<p>There is further rationale in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\">the documentation</a> for the reentrant read-write lock:</p>\n<blockquote>\n<p>Additionally, a writer can acquire the read lock, but not vice-versa.\nAmong other applications, reentrancy can be useful when write locks\nare held during calls or callbacks to methods that perform reads under\nread locks. If a reader tries to acquire the write lock it will never\nsucceed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672469760,"creation_date":1672439637,"answer_id":74966299,"question_id":74966119,"body_markdown":"Allowing a read lock to be upgraded to a write lock would be a source of deadlocks:\r\n\r\n- Thread A takes a read lock (now no one can take a write lock)\r\n- Thread B takes a read lock\r\n- Thread A decides to upgrade to a write lock -- blocks\r\n- Thread B decides to upgrade to a write lock -- deadlock\r\n\r\nThe correct way to do this (when you are doing an operation which may need a write lock, but usually doesn&#39;t) is to retry it:\r\n\r\n- Thread A takes a read lock\r\n- Thread B takes a read lock\r\n- Thread A decides it needs a write lock\r\n- Thread A drops the read lock\r\n- Thread A tries to take the write lock -- blocks because B currently holds the read lock\r\n- Thread B decides it needs a write lock\r\n- Thread B drops the read lock\r\n- Thread A gets the write lock\r\n- Thread B tries to take the write lock and blocks\r\n- Thread A finishes its work and releases the lock\r\n- Thread B takes the write lock","title":"ReadWrite locks in Java","body":"<p>Allowing a read lock to be upgraded to a write lock would be a source of deadlocks:</p>\n<ul>\n<li>Thread A takes a read lock (now no one can take a write lock)</li>\n<li>Thread B takes a read lock</li>\n<li>Thread A decides to upgrade to a write lock -- blocks</li>\n<li>Thread B decides to upgrade to a write lock -- deadlock</li>\n</ul>\n<p>The correct way to do this (when you are doing an operation which may need a write lock, but usually doesn't) is to retry it:</p>\n<ul>\n<li>Thread A takes a read lock</li>\n<li>Thread B takes a read lock</li>\n<li>Thread A decides it needs a write lock</li>\n<li>Thread A drops the read lock</li>\n<li>Thread A tries to take the write lock -- blocks because B currently holds the read lock</li>\n<li>Thread B decides it needs a write lock</li>\n<li>Thread B drops the read lock</li>\n<li>Thread A gets the write lock</li>\n<li>Thread B tries to take the write lock and blocks</li>\n<li>Thread A finishes its work and releases the lock</li>\n<li>Thread B takes the write lock</li>\n</ul>\n"}],"owner":{"account_id":411446,"reputation":1700,"user_id":783893,"accept_rate":30,"display_name":"Vineel"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1672487700,"accepted_answer_id":74966214,"answer_count":2,"score":0,"last_activity_date":1672951938,"creation_date":1672437718,"question_id":74966119,"body_markdown":"While a write lock is being held, Read lock can be acquired. But not vice versa. What is the rationale for this design choice. \r\n\r\n      public static void main(String[] args)\r\n        {\r\n            System.out.println(&quot;read to write test&quot;);\r\n            ReadWriteLock lock = new ReentrantReadWriteLock();\r\n            \r\n            lock.writeLock().lock();\r\n            lock.readLock().lock();\r\n            \r\n            System.out.println(&quot;Read locks can be acquired after  Write locks are acquired as well.&quot;);\r\n        }\r\n\r\n**Output of above code:** \r\n\r\n```\r\nread to write test\r\nRead locks can be acquired after  Write locks are acquired as well.\r\n```\r\n\r\nVice versa doesn&#39;t work. \r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n    \r\n    \r\n            ReadWriteLock lock = new ReentrantReadWriteLock();\r\n    \r\n    \r\n            lock.readLock().lock();\r\n            \r\n            System.out.println(&quot;Read lock is  acquired&quot;);\r\n            System.out.print(&quot;Trying to get write lock. &quot;);\r\n    \r\n            boolean  writeLockAcquired =  lock.writeLock().tryLock(120, TimeUnit.SECONDS);\r\n            if (! writeLockAcquired){\r\n                System.out.println(&quot;Even after 120 seconds, we  couldn&#39;t get write lock&quot;);\r\n            }\r\n            else{\r\n                System.out.println(&quot;We could get write lock.&quot;);\r\n            }\r\n            \r\n        }\r\n\r\nHere is the output:\r\n\r\n```\r\nRead lock is  acquired\r\nTrying to get write lock. Even after 120 seconds, we  couldn&#39;t get write lock\r\n```\r\nCan some one point to snippets in Java open source projects to look at practical usage of Read Write locks. I understand that there are a lot of Java open source projects like ElasticSearch / Hadoop / Spark etc. \r\n","title":"ReadWrite locks in Java","body":"<p>While a write lock is being held, Read lock can be acquired. But not vice versa. What is the rationale for this design choice.</p>\n<pre><code>  public static void main(String[] args)\n    {\n        System.out.println(&quot;read to write test&quot;);\n        ReadWriteLock lock = new ReentrantReadWriteLock();\n        \n        lock.writeLock().lock();\n        lock.readLock().lock();\n        \n        System.out.println(&quot;Read locks can be acquired after  Write locks are acquired as well.&quot;);\n    }\n</code></pre>\n<p><strong>Output of above code:</strong></p>\n<pre><code>read to write test\nRead locks can be acquired after  Write locks are acquired as well.\n</code></pre>\n<p>Vice versa doesn't work.</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n\n\n        ReadWriteLock lock = new ReentrantReadWriteLock();\n\n\n        lock.readLock().lock();\n        \n        System.out.println(&quot;Read lock is  acquired&quot;);\n        System.out.print(&quot;Trying to get write lock. &quot;);\n\n        boolean  writeLockAcquired =  lock.writeLock().tryLock(120, TimeUnit.SECONDS);\n        if (! writeLockAcquired){\n            System.out.println(&quot;Even after 120 seconds, we  couldn't get write lock&quot;);\n        }\n        else{\n            System.out.println(&quot;We could get write lock.&quot;);\n        }\n        \n    }\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>Read lock is  acquired\nTrying to get write lock. Even after 120 seconds, we  couldn't get write lock\n</code></pre>\n<p>Can some one point to snippets in Java open source projects to look at practical usage of Read Write locks. I understand that there are a lot of Java open source projects like ElasticSearch / Hadoop / Spark etc.</p>\n"},{"tags":["java","spring-boot","featuretoggle","maven-unleash-plugin"],"answers":[{"tags":[],"owner":{"account_id":86075,"reputation":966,"user_id":239613,"display_name":"Gast&#243;n Fournier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672782748,"creation_date":1672782748,"answer_id":74998999,"question_id":73050649,"body_markdown":"Despite this being a 5 months old question I hope this helps.\r\n\r\nThe exception: `Could not resolve placeholder &#39;unleash.appName&#39; in value &quot;${unleash.appName}&quot;` means that you don&#39;t have a properties file defined with `unleash.appName` property.\r\n\r\nIn a SpringBoot application you can create a `src/main/resources/application.properties` file with:\r\n\r\n```lang-ini\r\nunleash.appName=test\r\nunleash.instanceId=testInstance\r\nunleash.apiUrl=http://localhost:4242/api/\r\nunleash.clientSecret=secret\r\n```\r\n\r\nFor the sake of testing, you can get an API key and other configuration values from the [demo instance](https://www.getunleash.io/interactive-demo): https://app.unleash-hosted.com/demo/admin/api\r\n\r\nOne final note, the dependency you&#39;re using is a very old one, I recommend you switch to the [latest open-source version of the SDK](https://github.com/Unleash/unleash-client-java): \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.getunleash&lt;/groupId&gt;\r\n    &lt;artifactId&gt;unleash-client-java&lt;/artifactId&gt;\r\n    &lt;version&gt;7.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Unleash - BeanCreationException: Error creating bean with name &#39;unleashConfig&#39;","body":"<p>Despite this being a 5 months old question I hope this helps.</p>\n<p>The exception: <code>Could not resolve placeholder 'unleash.appName' in value &quot;${unleash.appName}&quot;</code> means that you don't have a properties file defined with <code>unleash.appName</code> property.</p>\n<p>In a SpringBoot application you can create a <code>src/main/resources/application.properties</code> file with:</p>\n<pre class=\"lang-ini prettyprint-override\"><code>unleash.appName=test\nunleash.instanceId=testInstance\nunleash.apiUrl=http://localhost:4242/api/\nunleash.clientSecret=secret\n</code></pre>\n<p>For the sake of testing, you can get an API key and other configuration values from the <a href=\"https://www.getunleash.io/interactive-demo\" rel=\"nofollow noreferrer\">demo instance</a>: <a href=\"https://app.unleash-hosted.com/demo/admin/api\" rel=\"nofollow noreferrer\">https://app.unleash-hosted.com/demo/admin/api</a></p>\n<p>One final note, the dependency you're using is a very old one, I recommend you switch to the <a href=\"https://github.com/Unleash/unleash-client-java\" rel=\"nofollow noreferrer\">latest open-source version of the SDK</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.getunleash&lt;/groupId&gt;\n    &lt;artifactId&gt;unleash-client-java&lt;/artifactId&gt;\n    &lt;version&gt;7.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16113403,"reputation":1,"user_id":11631116,"display_name":"lena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672950940,"creation_date":1658315654,"question_id":73050649,"body_markdown":"I&#39;m new to feature toggles and using them in a java project. So I&#39;m trying to integrate unleash into my Demo Vaadin Flow Project which is giving me this BeanCreationException/IllegalArgumentException:\r\n\r\n```org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;unleashConfig&#39; defined in class path resource [com/example/application/unleash/UnleashConfiguration.class]: Unexpected exception during bean creation; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder &#39;unleash.appName&#39; in value &quot;${unleash.appName}&quot;\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\r\n\tat com.example.application.Application.main(Application.java:25) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\r\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder &#39;unleash.appName&#39; in value &quot;${unleash.appName}&quot;\r\n\tat org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.21.jar:5.3.21]\r\n\tat org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.21.jar:5.3.21]\r\n\tat org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.21.jar:5.3.21]\r\n\tat org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.21.jar:5.3.21]\r\n\tat org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[spring-context-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\r\n\t... 17 common frames omitted\r\n```\r\n\r\n\r\nI have looked at the Unleash Java Client (https://github.com/Unleash/unleash-client-java) and simply added this config to my UnleashConfiguration.java\r\n```package com.example.application.unleash;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport no.finn.unleash.DefaultUnleash;\r\nimport no.finn.unleash.Unleash;\r\nimport no.finn.unleash.UnleashContextProvider;\r\nimport no.finn.unleash.util.UnleashConfig;\r\n\r\n@Configuration\r\npublic class UnleashConfiguration {\r\n\r\n    @Bean\r\n    public UnleashConfig unleashConfig(\r\n            @Value(&quot;${unleash.appName}&quot;) String appName,\r\n            @Value(&quot;${unleash.instanceId}&quot;) String instanceId,\r\n            @Value(&quot;${unleash.apiUrl}&quot;) String apiUrl,\r\n            @Value(&quot;${unleash.clientSecret}&quot;) String clientSecret,\r\n            UnleashContextProvider unleashContextProvider) {\r\n        return UnleashConfig.builder()\r\n                .appName(&quot;appName&quot;)\r\n                .instanceId(&quot;instanceX&quot;)\r\n                .unleashAPI(&quot;http://localhost:4242/api/&quot;)\r\n                .customHttpHeader(&quot;Authorization&quot;, clientSecret)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Unleash unleash(UnleashConfig unleashConfig) {\r\n        return new DefaultUnleash(unleashConfig);\r\n    }\r\n}\r\n```\r\n\r\nAnd my pom.xml\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;!-- Project from https://start.vaadin.com/ --&gt;\r\n    &lt;groupId&gt;com.example.application&lt;/groupId&gt;\r\n    &lt;artifactId&gt;flowcrmtutorial&lt;/artifactId&gt;\r\n    &lt;name&gt;Flow CRM Tutorial&lt;/name&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;vaadin.version&gt;23.1.2&lt;/vaadin.version&gt;\r\n        &lt;selenium.version&gt;4.1.2&lt;/selenium.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n\r\n        &lt;!-- Main Maven repository --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\r\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;false&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n        &lt;/pluginRepository&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\r\n            &lt;url&gt;\r\n                https://maven.vaadin.com/vaadin-prereleases/\r\n            &lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\r\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;exampledata&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Include JUnit 4 support for TestBench and others --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;no.finn.unleash&lt;/groupId&gt;\r\n            &lt;artifactId&gt;unleash-client-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\r\n                     the default Spring Boot&#39;s 30sec timeout.  --&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5386&lt;/jvmArguments&gt;\r\n                    &lt;wait&gt;500&lt;/wait&gt;\r\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!--\r\n                Take care of synchronizing java dependencies and imports in\r\n                package.json and main.js files.\r\n                It also creates webpack.config.js if not exists yet.\r\n            --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\r\n            &lt;id&gt;production&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;compile&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;productionMode&gt;true&lt;/productionMode&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n        &lt;profile&gt;\r\n            &lt;id&gt;it&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;start&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\r\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;stop&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                                    &lt;goal&gt;verify&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nVery grateful for any tips :) ","title":"Unleash - BeanCreationException: Error creating bean with name &#39;unleashConfig&#39;","body":"<p>I'm new to feature toggles and using them in a java project. So I'm trying to integrate unleash into my Demo Vaadin Flow Project which is giving me this BeanCreationException/IllegalArgumentException:</p>\n<pre><code>    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.1.jar:2.7.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.1.jar:2.7.1]\n    at com.example.application.Application.main(Application.java:25) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.1.jar:2.7.1]\nCaused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'unleash.appName' in value &quot;${unleash.appName}&quot;\n    at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-5.3.21.jar:5.3.21]\n    at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:191) ~[spring-context-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:936) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1332) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]\n    ... 17 common frames omitted\n</code></pre>\n<p>I have looked at the Unleash Java Client (<a href=\"https://github.com/Unleash/unleash-client-java\" rel=\"nofollow noreferrer\">https://github.com/Unleash/unleash-client-java</a>) and simply added this config to my UnleashConfiguration.java</p>\n<pre><code>import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport no.finn.unleash.DefaultUnleash;\nimport no.finn.unleash.Unleash;\nimport no.finn.unleash.UnleashContextProvider;\nimport no.finn.unleash.util.UnleashConfig;\n\n@Configuration\npublic class UnleashConfiguration {\n\n    @Bean\n    public UnleashConfig unleashConfig(\n            @Value(&quot;${unleash.appName}&quot;) String appName,\n            @Value(&quot;${unleash.instanceId}&quot;) String instanceId,\n            @Value(&quot;${unleash.apiUrl}&quot;) String apiUrl,\n            @Value(&quot;${unleash.clientSecret}&quot;) String clientSecret,\n            UnleashContextProvider unleashContextProvider) {\n        return UnleashConfig.builder()\n                .appName(&quot;appName&quot;)\n                .instanceId(&quot;instanceX&quot;)\n                .unleashAPI(&quot;http://localhost:4242/api/&quot;)\n                .customHttpHeader(&quot;Authorization&quot;, clientSecret)\n                .build();\n    }\n\n    @Bean\n    public Unleash unleash(UnleashConfig unleashConfig) {\n        return new DefaultUnleash(unleashConfig);\n    }\n}\n</code></pre>\n<p>And my pom.xml</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;!-- Project from https://start.vaadin.com/ --&gt;\n    &lt;groupId&gt;com.example.application&lt;/groupId&gt;\n    &lt;artifactId&gt;flowcrmtutorial&lt;/artifactId&gt;\n    &lt;name&gt;Flow CRM Tutorial&lt;/name&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;vaadin.version&gt;23.1.2&lt;/vaadin.version&gt;\n        &lt;selenium.version&gt;4.1.2&lt;/selenium.version&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n\n        &lt;!-- Main Maven repository --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;!-- Repository used by many Vaadin add-ons --&gt;\n        &lt;repository&gt;\n            &lt;id&gt;Vaadin Directory&lt;/id&gt;\n            &lt;url&gt;https://maven.vaadin.com/vaadin-addons&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;pluginRepositories&gt;\n        &lt;!-- The order of definitions matters. Explicitly defining central here to make sure it has the highest priority. --&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;central&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;vaadin-prereleases&lt;/id&gt;\n            &lt;url&gt;\n                https://maven.vaadin.com/vaadin-prereleases/\n            &lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-bom&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;!-- Replace artifactId with vaadin-core to use only free components --&gt;\n            &lt;artifactId&gt;vaadin&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;exampledata&lt;/artifactId&gt;\n            &lt;version&gt;5.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n            &lt;artifactId&gt;vaadin-testbench&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Include JUnit 4 support for TestBench and others --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n                    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.1.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;no.finn.unleash&lt;/groupId&gt;\n            &lt;artifactId&gt;unleash-client-java&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;defaultGoal&gt;spring-boot:run&lt;/defaultGoal&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;!-- Clean build and startup time for Vaadin apps sometimes may exceed\n                     the default Spring Boot's 30sec timeout.  --&gt;\n                &lt;configuration&gt;\n                    &lt;jvmArguments&gt;-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=5386&lt;/jvmArguments&gt;\n                    &lt;wait&gt;500&lt;/wait&gt;\n                    &lt;maxAttempts&gt;240&lt;/maxAttempts&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!--\n                Take care of synchronizing java dependencies and imports in\n                package.json and main.js files.\n                It also creates webpack.config.js if not exists yet.\n            --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-frontend&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;!-- Production mode is activated using -Pproduction --&gt;\n            &lt;id&gt;production&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;com.vaadin&lt;/groupId&gt;\n                        &lt;artifactId&gt;vaadin-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${vaadin.version}&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build-frontend&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;compile&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;productionMode&gt;true&lt;/productionMode&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;it&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;start-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;start&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;stop-spring-boot&lt;/id&gt;\n                                &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;stop&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n\n                    &lt;!-- Runs the integration tests (*IT) after the server is started --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                                    &lt;goal&gt;verify&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n                            &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Very grateful for any tips :)</p>\n"},{"tags":["java","kerberos","weblogic12c","windows-server-2012","spnego"],"comments":[{"owner":{"account_id":1931337,"reputation":2684,"user_id":1740662,"display_name":"Bernhard Thalmayr"},"score":0,"creation_date":1462185635,"post_id":36970517,"comment_id":61515918,"body_markdown":"I did not check with WebLogic in particular... however do you get this error although you installed the unlimited strength jurisdiction policy files?","body":"I did not check with WebLogic in particular... however do you get this error although you installed the unlimited strength jurisdiction policy files?"},{"owner":{"account_id":8359657,"reputation":137,"user_id":6278525,"display_name":"Vaibhav Bansal"},"score":0,"creation_date":1462229115,"post_id":36970517,"comment_id":61539690,"body_markdown":"Yes I have installed the policy files both for Java 7 and Java 8. These errors occurs despite JCE installed. Without JCE the error message is different, something like &quot;AES 256 is not installed/supported&quot;.","body":"Yes I have installed the policy files both for Java 7 and Java 8. These errors occurs despite JCE installed. Without JCE the error message is different, something like &quot;AES 256 is not installed/supported&quot;."},{"owner":{"account_id":3868246,"reputation":195,"user_id":3204235,"display_name":"misha2400"},"score":0,"creation_date":1465486022,"post_id":36970517,"comment_id":62931612,"body_markdown":"Did you check your keytab file with &quot;klist -e -k&quot;? Does it have aes256 key? It should have type 18.","body":"Did you check your keytab file with &quot;klist -e -k&quot;? Does it have aes256 key? It should have type 18."}],"owner":{"account_id":8359657,"reputation":137,"user_id":6278525,"display_name":"Vaibhav Bansal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672950832,"creation_date":1462128170,"question_id":36970517,"body_markdown":"This is a related problem described here in the link https://stackoverflow.com/questions/26928190/has-anyone-configured-kerberos-sso-on-web-logic-12-1-2-with-jdk-1-7-on-win-2012/36970210#36970210.\r\n\r\nIs this problem resolved? I am facing the exact same problem on the Weblogic server version 12.1.3.0 running on Windows Server 2012 R2 on jdk 7u79.\r\nWhen I remove aes256-cts-hmac-sha1-96 from the krb5.ini file and generate a keytab file using ktab or ktpass utility, I get the error message in weblogic server saying : \r\n\r\n    com.bea.security.utils.kerberos.KerberosException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - AES256 CTS mode with HMAC SHA1-96) Caused By: KrbException: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - AES256 CTS mode with HMAC SHA1-96\r\n\tat sun.security.krb5.KrbApReq.authenticate(KrbApReq.java:278)\r\n  \r\n\r\nNow, when I add aes256-cts-hmac-sha1-96 back to krb5.ini file and generate a keytab file, I get the error message in weblogic server saying \r\n\r\n    com.bea.security.utils.kerberos.KerberosException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed) Caused By: java.security.GeneralSecurityException: Checksum failed\r\n\tat sun.security.krb5.internal.crypto.dk.AesDkCrypto.decryptCTS(AesDkCrypto.java:451)\r\n\r\n\r\nI also tried to upgrade the jdk version to jdk 8u73 in the weblogic server 12.1.3.0 but the error scenario is exactly the same.\r\n\r\n\r\nAlso, when I try to use Weblogic server 12.2.1 on Windows Server 2012 R2 on jdk 8u73, I always get the error message:\r\n\r\n    GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos credentails)\r\n\tat sun.security.jgss.krb5.Krb5AcceptCredential.getInstance(Krb5AcceptCredential.java:87)\r\n\tat sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:127)\r\n\tat sun.security.jgss.GSSManagerImpl.getCredentialElement(GSSManagerImpl.java:193)\r\n\tat sun.security.jgss.GSSCredentialImpl.add(GSSCredentialImpl.java:427)\r\n\r\nThe above error is also mentioned here https://community.cloudera.com/t5/Storage-Random-Access-HDFS/SPNEGO-authentication-failure-with-openjdk-gt-7u80-HADOOP-10786/td-p/34829. So it can possibly be a problem with all jdk7u80+. \r\n\r\nI have spent more than a week now struggling with this problem and still haven&#39;t managed to find a fix.","title":"Has anyone configured Kerberos SSO on Web Logic 12.1.2 with JDK 1.7 on Win 2012 R2 successfully or on Web Logic 12.2.1 with JDK 1.8 on Win 2012 R2","body":"<p>This is a related problem described here in the link <a href=\"https://stackoverflow.com/questions/26928190/has-anyone-configured-kerberos-sso-on-web-logic-12-1-2-with-jdk-1-7-on-win-2012/36970210#36970210\">Has anyone configured Kerberos SSO on Web Logic 12.1.2 with JDK 1.7 on Win 2012 successfully?</a>.</p>\n\n<p>Is this problem resolved? I am facing the exact same problem on the Weblogic server version 12.1.3.0 running on Windows Server 2012 R2 on jdk 7u79.\nWhen I remove aes256-cts-hmac-sha1-96 from the krb5.ini file and generate a keytab file using ktab or ktpass utility, I get the error message in weblogic server saying : </p>\n\n<pre><code>com.bea.security.utils.kerberos.KerberosException: Failure unspecified at GSS-API level (Mechanism level: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - AES256 CTS mode with HMAC SHA1-96) Caused By: KrbException: Invalid argument (400) - Cannot find key of appropriate type to decrypt AP REP - AES256 CTS mode with HMAC SHA1-96\nat sun.security.krb5.KrbApReq.authenticate(KrbApReq.java:278)\n</code></pre>\n\n<p>Now, when I add aes256-cts-hmac-sha1-96 back to krb5.ini file and generate a keytab file, I get the error message in weblogic server saying </p>\n\n<pre><code>com.bea.security.utils.kerberos.KerberosException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed) Caused By: java.security.GeneralSecurityException: Checksum failed\nat sun.security.krb5.internal.crypto.dk.AesDkCrypto.decryptCTS(AesDkCrypto.java:451)\n</code></pre>\n\n<p>I also tried to upgrade the jdk version to jdk 8u73 in the weblogic server 12.1.3.0 but the error scenario is exactly the same.</p>\n\n<p>Also, when I try to use Weblogic server 12.2.1 on Windows Server 2012 R2 on jdk 8u73, I always get the error message:</p>\n\n<pre><code>GSSException: No valid credentials provided (Mechanism level: Failed to find any Kerberos credentails)\nat sun.security.jgss.krb5.Krb5AcceptCredential.getInstance(Krb5AcceptCredential.java:87)\nat sun.security.jgss.krb5.Krb5MechFactory.getCredentialElement(Krb5MechFactory.java:127)\nat sun.security.jgss.GSSManagerImpl.getCredentialElement(GSSManagerImpl.java:193)\nat sun.security.jgss.GSSCredentialImpl.add(GSSCredentialImpl.java:427)\n</code></pre>\n\n<p>The above error is also mentioned here <a href=\"https://community.cloudera.com/t5/Storage-Random-Access-HDFS/SPNEGO-authentication-failure-with-openjdk-gt-7u80-HADOOP-10786/td-p/34829\" rel=\"nofollow noreferrer\">https://community.cloudera.com/t5/Storage-Random-Access-HDFS/SPNEGO-authentication-failure-with-openjdk-gt-7u80-HADOOP-10786/td-p/34829</a>. So it can possibly be a problem with all jdk7u80+. </p>\n\n<p>I have spent more than a week now struggling with this problem and still haven't managed to find a fix.</p>\n"},{"tags":["java","android","android-studio","firebase-realtime-database"],"answers":[{"comments":[{"owner":{"account_id":15970329,"reputation":13,"user_id":11524673,"display_name":"PeLeis"},"score":0,"creation_date":1672951186,"post_id":75024049,"comment_id":132394868,"body_markdown":"Thank you so much for your quick answer!\n\nWith that way, regarding the CheckBox, I can get the specific checked text value once the button is clicked?\n\nAnd with that radiogroup, I would not use switch anymore?\n\nI will try your code now...","body":"Thank you so much for your quick answer!  With that way, regarding the CheckBox, I can get the specific checked text value once the button is clicked?  And with that radiogroup, I would not use switch anymore?  I will try your code now..."},{"owner":{"account_id":15970329,"reputation":13,"user_id":11524673,"display_name":"PeLeis"},"score":0,"creation_date":1672952547,"post_id":75024049,"comment_id":132395255,"body_markdown":"UPDATE:\n\nYour radiogroup works perfectly! Thank you so much! Now I&#39;m working with the checkbox, I&#39;m having a bit confused if is there a different code I need to add inside else and if except with my code.","body":"UPDATE:  Your radiogroup works perfectly! Thank you so much! Now I&#39;m working with the checkbox, I&#39;m having a bit confused if is there a different code I need to add inside else and if except with my code."},{"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"score":0,"creation_date":1672952825,"post_id":75024049,"comment_id":132395334,"body_markdown":"as you like if you want leave it empty or you can make anything inside it, please accept my answer if it worked well.","body":"as you like if you want leave it empty or you can make anything inside it, please accept my answer if it worked well."},{"owner":{"account_id":15970329,"reputation":13,"user_id":11524673,"display_name":"PeLeis"},"score":0,"creation_date":1672953103,"post_id":75024049,"comment_id":132395417,"body_markdown":"I&#39;m having a bit confused on what code should I add with your CheckBox code in order for me to get the checked (multiple) value from radiogroup. I added checkbox inside radiogroup. Thank you so much!","body":"I&#39;m having a bit confused on what code should I add with your CheckBox code in order for me to get the checked (multiple) value from radiogroup. I added checkbox inside radiogroup. Thank you so much!"},{"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"score":0,"creation_date":1672954505,"post_id":75024049,"comment_id":132395759,"body_markdown":"what the purpose of adding checkBox inside radioGroup, I really don&#39;t know if I understand you well but if you want to use switch for radioGroup and then put it inside checkBox to tack the values from radioGroup you can do it, if I misunderstand you please share your xml and your updating code to understand you.","body":"what the purpose of adding checkBox inside radioGroup, I really don&#39;t know if I understand you well but if you want to use switch for radioGroup and then put it inside checkBox to tack the values from radioGroup you can do it, if I misunderstand you please share your xml and your updating code to understand you."},{"owner":{"account_id":15970329,"reputation":13,"user_id":11524673,"display_name":"PeLeis"},"score":0,"creation_date":1672987172,"post_id":75024049,"comment_id":132401004,"body_markdown":"I removed the radio group from checkboxes. Your radiobuttons code works great! Now my problem is only the checkbox; let say number 3 has a 6 checkboxes and the user checked 3 checkboxes. How do I read only the checked checkbox value and save the specific text to firebase. Cause what I&#39;m using with my code is if(cb1.isChecked || cb2.isChecked || cb3.checked){} And what if the user choose 4 or 5 or 1 checkboxes, so I may have to use that if, else, and so on, lengthy process again. Thanks again much!","body":"I removed the radio group from checkboxes. Your radiobuttons code works great! Now my problem is only the checkbox; let say number 3 has a 6 checkboxes and the user checked 3 checkboxes. How do I read only the checked checkbox value and save the specific text to firebase. Cause what I&#39;m using with my code is if(cb1.isChecked || cb2.isChecked || cb3.checked){} And what if the user choose 4 or 5 or 1 checkboxes, so I may have to use that if, else, and so on, lengthy process again. Thanks again much!"},{"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"score":0,"creation_date":1673014707,"post_id":75024049,"comment_id":132408323,"body_markdown":"Your welcome, yeah really its lengthy process, for that you can see the answer here same as your problem : https://stackoverflow.com/questions/24117079/get-text-of-selected-checkboxes-android , I think this solution will help you.","body":"Your welcome, yeah really its lengthy process, for that you can see the answer here same as your problem : <a href=\"https://stackoverflow.com/questions/24117079/get-text-of-selected-checkboxes-android\" title=\"get text of selected checkboxes android\">stackoverflow.com/questions/24117079/&hellip;</a> , I think this solution will help you."}],"tags":[],"owner":{"account_id":25421873,"reputation":43,"user_id":19227725,"display_name":"Ismail Hamzeh"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672950789,"creation_date":1672950789,"answer_id":75024049,"question_id":75023815,"body_markdown":"checkbox :\r\nYou can call isChecked() on a checkbox to get its status.\r\n\r\n    if(checkbox.isChecked){\r\n    //checkbox checked\r\n    } else {\r\n\r\n    }\r\n\r\nradiogroup:\r\n\r\n    // get selected radio button from radioGroup\r\n    int selectedId = radioGroup.getCheckedRadioButtonId();\r\n\r\n    // find the radiobutton by returned id\r\n    radioButton = (RadioButton) findViewById(selectedId);\r\n    \r\n    // and you can get value from radioButton using radioButton.getText\r\n    Toast.makeText(MyAndroidAppActivity.this,\r\n           radioButton.getText(), Toast.LENGTH_SHORT).show();","title":"Get value or checked value in Checkbox &amp; RadioButton - Fastest way?","body":"<p>checkbox :\nYou can call isChecked() on a checkbox to get its status.</p>\n<pre><code>if(checkbox.isChecked){\n//checkbox checked\n} else {\n\n}\n</code></pre>\n<p>radiogroup:</p>\n<pre><code>// get selected radio button from radioGroup\nint selectedId = radioGroup.getCheckedRadioButtonId();\n\n// find the radiobutton by returned id\nradioButton = (RadioButton) findViewById(selectedId);\n\n// and you can get value from radioButton using radioButton.getText\nToast.makeText(MyAndroidAppActivity.this,\n       radioButton.getText(), Toast.LENGTH_SHORT).show();\n</code></pre>\n"}],"owner":{"account_id":15970329,"reputation":13,"user_id":11524673,"display_name":"PeLeis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75024049,"answer_count":1,"score":0,"last_activity_date":1672950789,"creation_date":1672949295,"question_id":75023815,"body_markdown":"I&#39;m currently working a Survey App where user choose or fill up some form with CheckBoxes and RadioButton and it will save in Firebase Real-Time database eventually once the &#39;Finish&#39; button is clicked. Now I have this lines of code where I need to duplicate this type of codes in order for me to recognize which RadioGroup and RadioButton I need to read and save. It&#39;s like a loop and lengthy process for me.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/qiLrD.png)](https://i.stack.imgur.com/qiLrD.png)\r\n\r\nOn these line (in switch), I&#39;m going to duplicate this until **RadioGroup thirteenG**, and I know it&#39;s kinda frustrating for me.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/Y126Q.png)](https://i.stack.imgur.com/Y126Q.png)\r\n\r\nThis will be  the result once the button is clicked.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/CapXm.png)](https://i.stack.imgur.com/CapXm.png)\r\n\r\nNow my problem is not an actual problem, I just wanna know and need a help on how do I make it shortcut or make it easy so that I wouldn&#39;t duplicate it anymore, you know what I mean, so that I will also save time and a line of code.\r\n\r\nIn short, the **fastest way to read a CheckBox and RadioButton value within the RadioGroup.**\r\n\r\nThank you so much, any help will be much appreciated. Thanks again and have a good day!\r\n\r\nI have only tried case instead of else.","title":"Get value or checked value in Checkbox &amp; RadioButton - Fastest way?","body":"<p>I'm currently working a Survey App where user choose or fill up some form with CheckBoxes and RadioButton and it will save in Firebase Real-Time database eventually once the 'Finish' button is clicked. Now I have this lines of code where I need to duplicate this type of codes in order for me to recognize which RadioGroup and RadioButton I need to read and save. It's like a loop and lengthy process for me.</p>\n<p><a href=\"https://i.stack.imgur.com/qiLrD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qiLrD.png\" alt=\"enter image description here\" /></a></p>\n<p>On these line (in switch), I'm going to duplicate this until <strong>RadioGroup thirteenG</strong>, and I know it's kinda frustrating for me.</p>\n<p><a href=\"https://i.stack.imgur.com/Y126Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y126Q.png\" alt=\"enter image description here\" /></a></p>\n<p>This will be  the result once the button is clicked.</p>\n<p><a href=\"https://i.stack.imgur.com/CapXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CapXm.png\" alt=\"enter image description here\" /></a></p>\n<p>Now my problem is not an actual problem, I just wanna know and need a help on how do I make it shortcut or make it easy so that I wouldn't duplicate it anymore, you know what I mean, so that I will also save time and a line of code.</p>\n<p>In short, the <strong>fastest way to read a CheckBox and RadioButton value within the RadioGroup.</strong></p>\n<p>Thank you so much, any help will be much appreciated. Thanks again and have a good day!</p>\n<p>I have only tried case instead of else.</p>\n"},{"tags":["java","android","json","xml","android-recyclerview"],"comments":[{"owner":{"account_id":2036312,"reputation":482,"user_id":1818596,"accept_rate":40,"display_name":"Neone"},"score":0,"creation_date":1672923120,"post_id":75017838,"comment_id":132384890,"body_markdown":"have you considered GridView? I see you only tried RecyclerView and ListView.","body":"have you considered GridView? I see you only tried RecyclerView and ListView."},{"owner":{"account_id":27441118,"reputation":1,"user_id":20936024,"display_name":"ELAHI"},"score":0,"creation_date":1672948152,"post_id":75017838,"comment_id":132393935,"body_markdown":"@Neone GridView also not working for me.","body":"@Neone GridView also not working for me."}],"answers":[{"tags":[],"owner":{"account_id":27441118,"reputation":1,"user_id":20936024,"display_name":"ELAHI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672950779,"creation_date":1672949820,"answer_id":75023896,"question_id":75017838,"body_markdown":"\r\nI found!! &lt;https://github.com/google/flexbox-layout&gt; this library made my day\r\n\r\nUse **Flexbox Layout Manager** instead of Linear Layout Manager\r\n\r\n    implementation &#39;com.google.android.flexbox:flexbox:3.0.0&#39;\r\nThen:\r\n\r\n    RecyclerView recyclerView = (RecyclerView) context.findViewById(R.id.recyclerview);\r\n    FlexboxLayoutManager layoutManager = new FlexboxLayoutManager(context);\r\n    layoutManager.setFlexDirection(FlexDirection.COLUMN);\r\n    layoutManager.setJustifyContent(JustifyContent.FLEX_END);\r\n    recyclerView.setLayoutManager(layoutManager);","title":"How I make a page view like a book with JSON data","body":"<p>I found!! <a href=\"https://github.com/google/flexbox-layout\" rel=\"nofollow noreferrer\">https://github.com/google/flexbox-layout</a> this library made my day</p>\n<p>Use <strong>Flexbox Layout Manager</strong> instead of Linear Layout Manager</p>\n<pre><code>implementation 'com.google.android.flexbox:flexbox:3.0.0'\n</code></pre>\n<p>Then:</p>\n<pre><code>RecyclerView recyclerView = (RecyclerView) context.findViewById(R.id.recyclerview);\nFlexboxLayoutManager layoutManager = new FlexboxLayoutManager(context);\nlayoutManager.setFlexDirection(FlexDirection.COLUMN);\nlayoutManager.setJustifyContent(JustifyContent.FLEX_END);\nrecyclerView.setLayoutManager(layoutManager);\n</code></pre>\n"}],"owner":{"account_id":27441118,"reputation":1,"user_id":20936024,"display_name":"ELAHI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75023896,"answer_count":1,"score":0,"last_activity_date":1672950779,"creation_date":1672918704,"question_id":75017838,"body_markdown":"[please see this image to get my point](https://i.stack.imgur.com/F06pO.png)\r\n\r\nI want to get text from **JSON** and add these texts like series circuit in my layout, but I can&#39;t understand how I make this possible.\r\n\r\n\r\nYou see the book lines. One line then second line then third, long lines are wrapped. I want exactly the same thing in my app.\r\n\r\nHope you understand what I wrote.","title":"How I make a page view like a book with JSON data","body":"<p><a href=\"https://i.stack.imgur.com/F06pO.png\" rel=\"nofollow noreferrer\">please see this image to get my point</a></p>\n<p>I want to get text from <strong>JSON</strong> and add these texts like series circuit in my layout, but I can't understand how I make this possible.</p>\n<p>You see the book lines. One line then second line then third, long lines are wrapped. I want exactly the same thing in my app.</p>\n<p>Hope you understand what I wrote.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4774522,"reputation":642,"user_id":3858121,"display_name":"Japu_D_Cret"},"score":1,"creation_date":1490473587,"post_id":43021493,"comment_id":73130607,"body_markdown":"You basically have to add the bean to the context you get when creating a new Spring context, check this out: http://stackoverflow.com/a/15329777/3858121","body":"You basically have to add the bean to the context you get when creating a new Spring context, check this out: <a href=\"http://stackoverflow.com/a/15329777/3858121\">stackoverflow.com/a/15329777/3858121</a>"},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1672950951,"post_id":43021493,"comment_id":132394791,"body_markdown":"Does this answer your question? [Add Bean Programmatically to Spring Web App Context](https://stackoverflow.com/questions/4540713/add-bean-programmatically-to-spring-web-app-context)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4540713/add-bean-programmatically-to-spring-web-app-context\">Add Bean Programmatically to Spring Web App Context</a>"}],"answers":[{"comments":[{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1672951005,"post_id":49777913,"comment_id":132394807,"body_markdown":"Please don&#39;t repeat yourself. Mark the question as duplicate instead.","body":"Please don&#39;t repeat yourself. Mark the question as duplicate instead."}],"tags":[],"owner":{"account_id":7130835,"reputation":590,"user_id":5452132,"display_name":"yugandhar"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1523457343,"creation_date":1523457343,"answer_id":49777913,"question_id":43021493,"body_markdown":"Originally answered [here][1] by myself, repeating it here as well.\r\n\r\n&gt; Actually `AnnotationConfigApplicationContext` derived from `AbstractApplicationContext`, which has empty `postProcessBeanFactory` method left for override\r\n\r\n    /**\r\n\t * Modify the application context&#39;s internal bean factory after its standard\r\n\t * initialization. All bean definitions will have been loaded, but no beans\r\n\t * will have been instantiated yet. This allows for registering special\r\n\t * BeanPostProcessors etc in certain ApplicationContext implementations.\r\n\t * @param beanFactory the bean factory used by the application context\r\n\t */\r\n\tprotected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\r\n\t}\r\n\r\nTo leverage this, Create `AnnotationConfigApplicationContextProvider` class which may look like following(given for `Vertx` instance example, you can use `MyClass` instead)...\r\n\r\n    public class CustomAnnotationApplicationContextProvider {\r\n    private final Vertx vertx;\r\n\r\n    public CustomAnnotationApplicationContextProvider(Vertx vertx) {\r\n        this.vertx = vertx;\r\n    }\r\n\r\n    /**\r\n     * Register all beans to spring bean factory\r\n     *\r\n     * @param beanFactory, spring bean factory to register your instances\r\n     */\r\n    private void configureBeans(ConfigurableListableBeanFactory beanFactory) {\r\n        beanFactory.registerSingleton(&quot;vertx&quot;, vertx);\r\n    }\r\n\r\n    /**\r\n     * Proxy method to create {@link AnnotationConfigApplicationContext} instance with no params\r\n     *\r\n     * @return {@link AnnotationConfigApplicationContext} instance\r\n     */\r\n    public AnnotationConfigApplicationContext get() {\r\n        return new AnnotationConfigApplicationContext() {\r\n\r\n            @Override\r\n            protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\r\n                super.postProcessBeanFactory(beanFactory);\r\n                configureBeans(beanFactory);\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Proxy method to call {@link AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(DefaultListableBeanFactory)} with our logic\r\n     *\r\n     * @param beanFactory bean factory for spring\r\n     * @return\r\n     * @see AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(DefaultListableBeanFactory)\r\n     */\r\n    public AnnotationConfigApplicationContext get(DefaultListableBeanFactory beanFactory) {\r\n        return new AnnotationConfigApplicationContext(beanFactory) {\r\n\r\n            @Override\r\n            protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\r\n                super.postProcessBeanFactory(beanFactory);\r\n                configureBeans(beanFactory);\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Proxy method to call {@link AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(Class[])} with our logic\r\n     *\r\n     * @param annotatedClasses, set of annotated classes for spring\r\n     * @return\r\n     * @see AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(Class[])\r\n     */\r\n    public AnnotationConfigApplicationContext get(Class&lt;?&gt;... annotatedClasses) {\r\n        return new AnnotationConfigApplicationContext(annotatedClasses) {\r\n\r\n            @Override\r\n            protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\r\n                super.postProcessBeanFactory(beanFactory);\r\n                configureBeans(beanFactory);\r\n            }\r\n        };\r\n    }\r\n\r\n    /**\r\n     * proxy method to call {@link AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(String...)} with our logic\r\n     *\r\n     * @param basePackages set of base packages for spring\r\n     * @return\r\n     * @see AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(String...)\r\n     */\r\n    public AnnotationConfigApplicationContext get(String... basePackages) {\r\n        return new AnnotationConfigApplicationContext(basePackages) {\r\n\r\n            @Override\r\n            protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\r\n                super.postProcessBeanFactory(beanFactory);\r\n                configureBeans(beanFactory);\r\n            }\r\n        };\r\n    }\r\n    }\r\n\r\nWhile creating `ApplicationContext` you can create it using\r\n\r\n    Vertx vertx = ...; // either create or for vertx, it&#39;ll be passed to main verticle\r\n    ApplicationContext context = new CustomAnnotationApplicationContextProvider(vertx).get(ApplicationSpringConfig.class);\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49777194/5452132","title":"How to add bean programmatically to Spring context?","body":"<p>Originally answered <a href=\"https://stackoverflow.com/a/49777194/5452132\">here</a> by myself, repeating it here as well.</p>\n\n<blockquote>\n  <p>Actually <code>AnnotationConfigApplicationContext</code> derived from <code>AbstractApplicationContext</code>, which has empty <code>postProcessBeanFactory</code> method left for override</p>\n</blockquote>\n\n<pre><code>/**\n * Modify the application context's internal bean factory after its standard\n * initialization. All bean definitions will have been loaded, but no beans\n * will have been instantiated yet. This allows for registering special\n * BeanPostProcessors etc in certain ApplicationContext implementations.\n * @param beanFactory the bean factory used by the application context\n */\nprotected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\n}\n</code></pre>\n\n<p>To leverage this, Create <code>AnnotationConfigApplicationContextProvider</code> class which may look like following(given for <code>Vertx</code> instance example, you can use <code>MyClass</code> instead)...</p>\n\n<pre><code>public class CustomAnnotationApplicationContextProvider {\nprivate final Vertx vertx;\n\npublic CustomAnnotationApplicationContextProvider(Vertx vertx) {\n    this.vertx = vertx;\n}\n\n/**\n * Register all beans to spring bean factory\n *\n * @param beanFactory, spring bean factory to register your instances\n */\nprivate void configureBeans(ConfigurableListableBeanFactory beanFactory) {\n    beanFactory.registerSingleton(\"vertx\", vertx);\n}\n\n/**\n * Proxy method to create {@link AnnotationConfigApplicationContext} instance with no params\n *\n * @return {@link AnnotationConfigApplicationContext} instance\n */\npublic AnnotationConfigApplicationContext get() {\n    return new AnnotationConfigApplicationContext() {\n\n        @Override\n        protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\n            super.postProcessBeanFactory(beanFactory);\n            configureBeans(beanFactory);\n        }\n    };\n}\n\n/**\n * Proxy method to call {@link AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(DefaultListableBeanFactory)} with our logic\n *\n * @param beanFactory bean factory for spring\n * @return\n * @see AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(DefaultListableBeanFactory)\n */\npublic AnnotationConfigApplicationContext get(DefaultListableBeanFactory beanFactory) {\n    return new AnnotationConfigApplicationContext(beanFactory) {\n\n        @Override\n        protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\n            super.postProcessBeanFactory(beanFactory);\n            configureBeans(beanFactory);\n        }\n    };\n}\n\n/**\n * Proxy method to call {@link AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(Class[])} with our logic\n *\n * @param annotatedClasses, set of annotated classes for spring\n * @return\n * @see AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(Class[])\n */\npublic AnnotationConfigApplicationContext get(Class&lt;?&gt;... annotatedClasses) {\n    return new AnnotationConfigApplicationContext(annotatedClasses) {\n\n        @Override\n        protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\n            super.postProcessBeanFactory(beanFactory);\n            configureBeans(beanFactory);\n        }\n    };\n}\n\n/**\n * proxy method to call {@link AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(String...)} with our logic\n *\n * @param basePackages set of base packages for spring\n * @return\n * @see AnnotationConfigApplicationContext#AnnotationConfigApplicationContext(String...)\n */\npublic AnnotationConfigApplicationContext get(String... basePackages) {\n    return new AnnotationConfigApplicationContext(basePackages) {\n\n        @Override\n        protected void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) {\n            super.postProcessBeanFactory(beanFactory);\n            configureBeans(beanFactory);\n        }\n    };\n}\n}\n</code></pre>\n\n<p>While creating <code>ApplicationContext</code> you can create it using</p>\n\n<pre><code>Vertx vertx = ...; // either create or for vertx, it'll be passed to main verticle\nApplicationContext context = new CustomAnnotationApplicationContextProvider(vertx).get(ApplicationSpringConfig.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3066113,"reputation":791,"user_id":2597758,"accept_rate":71,"display_name":"WebViewer"},"score":2,"creation_date":1667138811,"post_id":49930149,"comment_id":131095036,"body_markdown":"I am using Spring 5.3 (Spring Boot v2.7.1) and `registerBean()` is unknown to `ApplicationContext`. What am I doing wrong?","body":"I am using Spring 5.3 (Spring Boot v2.7.1) and <code>registerBean()</code> is unknown to <code>ApplicationContext</code>. What am I doing wrong?"}],"tags":[],"owner":{"account_id":5123878,"reputation":4700,"user_id":4106653,"accept_rate":100,"display_name":"Neo"},"comment_count":1,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1672950771,"creation_date":1524171552,"answer_id":49930149,"question_id":43021493,"body_markdown":"From `Spring 5.0` onwards, you can register your beans dynamically directly using the `GenericApplicationContext`.\r\n\r\n    GenericApplicationContext ac = ....;\r\n    // example\r\n    ac.registerBean(&quot;myspecialBean&quot;, Integer.class, () -&gt; new Integer(100));\r\n    // using BeanDefinitionCustomizer\r\n    ac.registerBean(&quot;myLazySpecialBean&quot;, Integer.class, () -&gt; new Integer(100), (bd) -&gt; bd.setLazyInit(true));\r\n\r\nSee the [javadoc](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean-java.lang.Class-org.springframework.beans.factory.config.BeanDefinitionCustomizer...-) here for different APIs for `registerBean`","title":"How to add bean programmatically to Spring context?","body":"<p>From <code>Spring 5.0</code> onwards, you can register your beans dynamically directly using the <code>GenericApplicationContext</code>.</p>\n<pre><code>GenericApplicationContext ac = ....;\n// example\nac.registerBean(&quot;myspecialBean&quot;, Integer.class, () -&gt; new Integer(100));\n// using BeanDefinitionCustomizer\nac.registerBean(&quot;myLazySpecialBean&quot;, Integer.class, () -&gt; new Integer(100), (bd) -&gt; bd.setLazyInit(true));\n</code></pre>\n<p>See the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean-java.lang.Class-org.springframework.beans.factory.config.BeanDefinitionCustomizer...-\" rel=\"nofollow noreferrer\">javadoc</a> here for different APIs for <code>registerBean</code></p>\n"},{"tags":[],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657293926,"creation_date":1657293926,"answer_id":72913665,"question_id":43021493,"body_markdown":"I&#39;m using this in my current application, because I already have an object that I want to register. \r\nI can have `applicationContext` injected as a bean.\r\n\r\n    private void registerAsBean(\r\n      ApplicationContext injectedApplicationContext, \r\n      MyClass objectToRegisterAsBean, \r\n      String beanName) {\r\n\r\n        AutowireCapableBeanFactory beanFactory = \r\n          injectedApplicationContext.getAutowireCapableBeanFactory();\r\n        beanFactory.initializeBean(objectToRegisterAsBean, beanName);\r\n    }","title":"How to add bean programmatically to Spring context?","body":"<p>I'm using this in my current application, because I already have an object that I want to register.\nI can have <code>applicationContext</code> injected as a bean.</p>\n<pre><code>private void registerAsBean(\n  ApplicationContext injectedApplicationContext, \n  MyClass objectToRegisterAsBean, \n  String beanName) {\n\n    AutowireCapableBeanFactory beanFactory = \n      injectedApplicationContext.getAutowireCapableBeanFactory();\n    beanFactory.initializeBean(objectToRegisterAsBean, beanName);\n}\n</code></pre>\n"}],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19655,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1672950771,"creation_date":1490473119,"question_id":43021493,"body_markdown":"I would like to create custom child context from some configuration and additionally add some beans to it programmatically.\r\n\r\nI read answer https://stackoverflow.com/a/4540762/258483 about `BeanDefinitionRegistryPostProcessor` but don&#39;t understand how to use it. If I write implementation of `BeanDefinitionRegistryPostProcessor` then what to do with it next? Add to context? But this is the question: how to add bean to context! If I would be able to add `BeanDefinitionRegistryPostProcessor` to context, then why I would ask how to add beans?\r\n\r\nThe problem is that I have context and want to add bean to it. \r\n\r\nI know I can instantiate beans and autowire them with\r\n\r\n    Context#getAutowireCapableBeanFactory().createBean(klass);\r\n\r\nbut this apparently just wires class, but not adds it to context?","title":"How to add bean programmatically to Spring context?","body":"<p>I would like to create custom child context from some configuration and additionally add some beans to it programmatically.</p>\n\n<p>I read answer <a href=\"https://stackoverflow.com/a/4540762/258483\">https://stackoverflow.com/a/4540762/258483</a> about <code>BeanDefinitionRegistryPostProcessor</code> but don't understand how to use it. If I write implementation of <code>BeanDefinitionRegistryPostProcessor</code> then what to do with it next? Add to context? But this is the question: how to add bean to context! If I would be able to add <code>BeanDefinitionRegistryPostProcessor</code> to context, then why I would ask how to add beans?</p>\n\n<p>The problem is that I have context and want to add bean to it. </p>\n\n<p>I know I can instantiate beans and autowire them with</p>\n\n<pre><code>Context#getAutowireCapableBeanFactory().createBean(klass);\n</code></pre>\n\n<p>but this apparently just wires class, but not adds it to context?</p>\n"},{"tags":["java","curl","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672950729,"creation_date":1672950729,"answer_id":75024041,"question_id":74809792,"body_markdown":"I think that means you should send `DataBuffer` within request body and specify the Content Type header `application/octet-stream`\r\n\r\nEssentialy `--data-binary` means that you send some binary data within request.\r\n\r\nSo first you need to convert your object to json-string and after convert this string to DataBuffer\r\n\r\nThen specify the header in webclient request spec and insert DataBuffer as publisher into the body using `BodyInserters`\r\n\r\nExample:\r\n\r\n        String json = &quot;your json&quot;;\r\n        CharSequenceEncoder encoder = CharSequenceEncoder.textPlainOnly();\r\n        DataBufferFactory dataBufferFactory = new DefaultDataBufferFactory();\r\n        DataBuffer dataBuffer = encoder\r\n                .encodeValue(json, dataBufferFactory, null, null, null);\r\n\r\n        final var response = webClient.post()\r\n                .uri(&quot;http://some-host:8080/api/theapi&quot;)\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .body(BodyInserters\r\n                        .fromDataBuffers(Mono.defer(() -&gt;\r\n                                Mono.just(dataBuffer))\r\n                        )\r\n                )\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .block();\r\n\r\nHowever, I&#39;m not sure if it works in your case, but just give it a try","title":"Java Spring Webflux WebClient from curl with --data-binary @mydata","body":"<p>I think that means you should send <code>DataBuffer</code> within request body and specify the Content Type header <code>application/octet-stream</code></p>\n<p>Essentialy <code>--data-binary</code> means that you send some binary data within request.</p>\n<p>So first you need to convert your object to json-string and after convert this string to DataBuffer</p>\n<p>Then specify the header in webclient request spec and insert DataBuffer as publisher into the body using <code>BodyInserters</code></p>\n<p>Example:</p>\n<pre><code>    String json = &quot;your json&quot;;\n    CharSequenceEncoder encoder = CharSequenceEncoder.textPlainOnly();\n    DataBufferFactory dataBufferFactory = new DefaultDataBufferFactory();\n    DataBuffer dataBuffer = encoder\n            .encodeValue(json, dataBufferFactory, null, null, null);\n\n    final var response = webClient.post()\n            .uri(&quot;http://some-host:8080/api/theapi&quot;)\n            .contentType(MediaType.APPLICATION_OCTET_STREAM)\n            .body(BodyInserters\n                    .fromDataBuffers(Mono.defer(() -&gt;\n                            Mono.just(dataBuffer))\n                    )\n            )\n            .retrieve()\n            .bodyToMono(String.class)\n            .block();\n</code></pre>\n<p>However, I'm not sure if it works in your case, but just give it a try</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672950729,"creation_date":1671098606,"question_id":74809792,"body_markdown":"Small question regarding converting a curl command to Java Spring Webflux WebClient request please.\r\n\r\nI have a very basic and simple curl command:\r\n\r\n```curl http://some-host:8080/api/theapi --data-binary @mydata```\r\n\r\nWhere ```mydata``` is a file containing a very basic JSON:\r\n\r\n```\r\n{\r\n    &quot;somekey&quot;: &quot;someValue&quot;,\r\n    &quot;anotherkey&quot;: &quot;events&quot;\r\n}\r\n```\r\n\r\nThis is working perfectly fine, I am able to get the payload response with this curl command.\r\nI just want to convert this curl command to Java Spring Webflux WebClient.\r\n\r\nHence, this is what I tried:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        final var webClient     = WebClient.create().mutate().clientConnector(new ReactorClientHttpConnector(HttpClient.create())).build();\r\n        final var jsonPayload          = Map.of(&quot;somekey&quot;, &quot;someValue&quot;, &quot;anotherkey&quot;, &quot;events&quot;);\r\n        final var response = webClient.post().uri(&quot;http://some-host:8080/api/theapi&quot;).body(BodyInserters.fromValue(jsonPayload)).retrieve().bodyToMono(String.class).block();\r\n        System.out.println(response);\r\n    }\r\n```\r\n\r\nHowever, I am getting 500, as if the json payload is not understood by the server.\r\n\r\nMay I ask what is the proper way to pass the equivalent of ```--data-binary @mydata``` to Webclient please?\r\n\r\nThank you","title":"Java Spring Webflux WebClient from curl with --data-binary @mydata","body":"<p>Small question regarding converting a curl command to Java Spring Webflux WebClient request please.</p>\n<p>I have a very basic and simple curl command:</p>\n<p><code>curl http://some-host:8080/api/theapi --data-binary @mydata</code></p>\n<p>Where <code>mydata</code> is a file containing a very basic JSON:</p>\n<pre><code>{\n    &quot;somekey&quot;: &quot;someValue&quot;,\n    &quot;anotherkey&quot;: &quot;events&quot;\n}\n</code></pre>\n<p>This is working perfectly fine, I am able to get the payload response with this curl command.\nI just want to convert this curl command to Java Spring Webflux WebClient.</p>\n<p>Hence, this is what I tried:</p>\n<pre><code>public static void main(String[] args) {\n        final var webClient     = WebClient.create().mutate().clientConnector(new ReactorClientHttpConnector(HttpClient.create())).build();\n        final var jsonPayload          = Map.of(&quot;somekey&quot;, &quot;someValue&quot;, &quot;anotherkey&quot;, &quot;events&quot;);\n        final var response = webClient.post().uri(&quot;http://some-host:8080/api/theapi&quot;).body(BodyInserters.fromValue(jsonPayload)).retrieve().bodyToMono(String.class).block();\n        System.out.println(response);\n    }\n</code></pre>\n<p>However, I am getting 500, as if the json payload is not understood by the server.</p>\n<p>May I ask what is the proper way to pass the equivalent of <code>--data-binary @mydata</code> to Webclient please?</p>\n<p>Thank you</p>\n"},{"tags":["java","datetime","lua"],"comments":[{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1672928206,"post_id":75019687,"comment_id":132386827,"body_markdown":"Is one seconds and the other milliseconds?","body":"Is one seconds and the other milliseconds?"},{"owner":{"account_id":484418,"reputation":19553,"user_id":900078,"accept_rate":73,"display_name":"pynexj"},"score":1,"creation_date":1672932360,"post_id":75019687,"comment_id":132388507,"body_markdown":"&quot;... i’m trying to get some values from lua and javascript, i’m using os.time for lua and Date.now for java, ...&quot; -- javascript is not java. do you want javascript or java?","body":"&quot;... i’m trying to get some values from lua and javascript, i’m using os.time for lua and Date.now for java, ...&quot; -- javascript is not java. do you want javascript or java?"},{"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"score":0,"creation_date":1672999141,"post_id":75019687,"comment_id":132403739,"body_markdown":"If it was Javascript, it&#39;d explain the `Date.now()`. As far as I can see, Java&#39;s `Date` doesn&#39;t have a `now` method.","body":"If it was Javascript, it&#39;d explain the <code>Date.now()</code>. As far as I can see, Java&#39;s <code>Date</code> doesn&#39;t have a <code>now</code> method."}],"answers":[{"comments":[{"owner":{"account_id":27442785,"reputation":1,"user_id":20937219,"display_name":"bazante"},"score":0,"creation_date":1672955140,"post_id":75019917,"comment_id":132395916,"body_markdown":"Ok, now i has a new doubt is possible update a info showed in a website? like i&#39;m sending that info of milisecs to a webpage, but it dosnt updated. any way to make a loop in javascript?","body":"Ok, now i has a new doubt is possible update a info showed in a website? like i&#39;m sending that info of milisecs to a webpage, but it dosnt updated. any way to make a loop in javascript?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673184265,"post_id":75019917,"comment_id":132436544,"body_markdown":"@bazante It’s not my home field, but I think you will want to look into Ajax and JSON. Holloway, please forget about the `Date` class. It’s old and poorly designed. The way to get the whole second in Java is `Instant.now().getEpochSecond()`.","body":"@bazante It’s not my home field, but I think you will want to look into Ajax and JSON. Holloway, please forget about the <code>Date</code> class. It’s old and poorly designed. The way to get the whole second in Java is <code>Instant.now().getEpochSecond()</code>."}],"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672928679,"creation_date":1672928679,"answer_id":75019917,"question_id":75019687,"body_markdown":"I&#39;m not sure what function you&#39;re referring to by `Date.now` but in Java `new Date().time` will give you the current time in ms (since Jan 1 1970) and lua will give you the same number to the nearest second. To convert from Java, divide by 1000. You can&#39;t convert precisely the other way but multiplying by 1000 will get you to the nearest second.","title":"Lua os.time function","body":"<p>I'm not sure what function you're referring to by <code>Date.now</code> but in Java <code>new Date().time</code> will give you the current time in ms (since Jan 1 1970) and lua will give you the same number to the nearest second. To convert from Java, divide by 1000. You can't convert precisely the other way but multiplying by 1000 will get you to the nearest second.</p>\n"}],"owner":{"account_id":27442785,"reputation":1,"user_id":20937219,"display_name":"bazante"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672950525,"creation_date":1672927596,"question_id":75019687,"body_markdown":"so i’m trying to get some values from lua and javascript, i’m using os.time for lua and Date.now for java, but when creating these values they are a little bit different, like java has 3 more digits than lua format. So after reading found a info how java calculete that value since 1970 and lua i cant figure, so in lua i know i can write in os.time a table for him calculate like i can stipulate from where since he can calculate, but my doubt is how i can parse that table?!  \r\nLike:\r\n```lua\r\nLocal table = Year, month , day, hour, minute, seconds\r\nos.time(table)\r\n```\r\nSo my doubt is, how i can do to get the same values in lua and java?\r\n\r\nI want just a simple function to get same value in lua and java.\r\nTks for your help!","title":"Lua os.time function","body":"<p>so i’m trying to get some values from lua and javascript, i’m using os.time for lua and Date.now for java, but when creating these values they are a little bit different, like java has 3 more digits than lua format. So after reading found a info how java calculete that value since 1970 and lua i cant figure, so in lua i know i can write in os.time a table for him calculate like i can stipulate from where since he can calculate, but my doubt is how i can parse that table?!<br />\nLike:</p>\n<pre class=\"lang-lua prettyprint-override\"><code>Local table = Year, month , day, hour, minute, seconds\nos.time(table)\n</code></pre>\n<p>So my doubt is, how i can do to get the same values in lua and java?</p>\n<p>I want just a simple function to get same value in lua and java.\nTks for your help!</p>\n"},{"tags":["java","mysql","windows-server-2012"],"comments":[{"owner":{"account_id":4359423,"reputation":1860,"user_id":3557027,"display_name":"Rabbit Guy"},"score":3,"creation_date":1464709726,"post_id":37550117,"comment_id":62589007,"body_markdown":"Whats the error, or should we guess?","body":"Whats the error, or should we guess?"},{"owner":{"account_id":8474991,"reputation":77,"user_id":6356521,"accept_rate":78,"display_name":"SaraDob"},"score":0,"creation_date":1464710056,"post_id":37550117,"comment_id":62589226,"body_markdown":"Anywhere , where the application containg a datetime field , we get &quot;Incorrect datetime value&quot;, if there in null","body":"Anywhere , where the application containg a datetime field , we get &quot;Incorrect datetime value&quot;, if there in null"},{"owner":{"account_id":8474991,"reputation":77,"user_id":6356521,"accept_rate":78,"display_name":"SaraDob"},"score":0,"creation_date":1464710237,"post_id":37550117,"comment_id":62589347,"body_markdown":"after the migration this weekend we are no longer able to send null values to date fields.","body":"after the migration this weekend we are no longer able to send null values to date fields."},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1464713201,"post_id":37550117,"comment_id":62591245,"body_markdown":"Can you migrate back to the AIX box? Did you do a dry run on Windows prior to the real migration?","body":"Can you migrate back to the AIX box? Did you do a dry run on Windows prior to the real migration?"},{"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"score":0,"creation_date":1464713350,"post_id":37550117,"comment_id":62591330,"body_markdown":"Have `NOT NULL` constraints been added in the new server where previously they were not applied on the old one?","body":"Have <code>NOT NULL</code> constraints been added in the new server where previously they were not applied on the old one?"},{"owner":{"account_id":8474991,"reputation":77,"user_id":6356521,"accept_rate":78,"display_name":"SaraDob"},"score":0,"creation_date":1464713704,"post_id":37550117,"comment_id":62591554,"body_markdown":"We have empty string &#39;&#39; being sent from the java application.The mySQl on AIX took the default value set up for the field, in the table.But now on windows, When the empty string is being sent, MySQL throws an error saying &quot; Incorrect datetime value: &#39;&#39;  &quot;.So we don&#39;t want to write code to modify for each datetime field in java.Is there any way we can do it at database level to accept or convert the empty strings to valid date.Also switching back to AIX box is the last option.","body":"We have empty string &#39;&#39; being sent from the java application.The mySQl on AIX took the default value set up for the field, in the table.But now on windows, When the empty string is being sent, MySQL throws an error saying &quot; Incorrect datetime value: &#39;&#39;  &quot;.So we don&#39;t want to write code to modify for each datetime field in java.Is there any way we can do it at database level to accept or convert the empty strings to valid date.Also switching back to AIX box is the last option."}],"answers":[{"comments":[{"owner":{"account_id":8474991,"reputation":77,"user_id":6356521,"accept_rate":78,"display_name":"SaraDob"},"score":0,"creation_date":1464967072,"post_id":37554096,"comment_id":62718592,"body_markdown":"Thank you. But the team decided to revert back to AIX box, untill completely tested.Will keep this link in mind for future use.Thank you againfor the research","body":"Thank you. But the team decided to revert back to AIX box, untill completely tested.Will keep this link in mind for future use.Thank you againfor the research"}],"tags":[],"owner":{"account_id":8548600,"reputation":16,"user_id":6406332,"display_name":"user6368519"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1464722857,"creation_date":1464722857,"answer_id":37554096,"question_id":37550117,"body_markdown":"Depending on the previous MySQL version (on AIX), below is a link to configuring MySQL &quot;SQL-mode&quot; to &quot;emulate&quot; some specific behaviors in MySQL. (The documentation link is for MySQL 5.5, but the date-related options could be the same for MySQL 5.1.) Might even suggesting looking at the configuration file on the previous version of MySQL to see if a &quot;SQL-mode&quot; might had been configured. SQL-mode can also set MYSQL to emulate previous versions of MySQL.\r\n\r\nRef: http://dev.mysql.com/doc/refman/5.5/en/sql-mode.html\r\n\r\nReading from the comments, using a NULL (or empty) string in the place of a date/timestamp field should be corrected in the Java code, but perhaps configuring the &quot;SQL-mode&quot; could mitigate your problem in the short run.","title":"MySQL changed to Windows 2012 and application throws error in datetime field","body":"<p>Depending on the previous MySQL version (on AIX), below is a link to configuring MySQL \"SQL-mode\" to \"emulate\" some specific behaviors in MySQL. (The documentation link is for MySQL 5.5, but the date-related options could be the same for MySQL 5.1.) Might even suggesting looking at the configuration file on the previous version of MySQL to see if a \"SQL-mode\" might had been configured. SQL-mode can also set MYSQL to emulate previous versions of MySQL.</p>\n\n<p>Ref: <a href=\"http://dev.mysql.com/doc/refman/5.5/en/sql-mode.html\" rel=\"nofollow\">http://dev.mysql.com/doc/refman/5.5/en/sql-mode.html</a></p>\n\n<p>Reading from the comments, using a NULL (or empty) string in the place of a date/timestamp field should be corrected in the Java code, but perhaps configuring the \"SQL-mode\" could mitigate your problem in the short run.</p>\n"}],"owner":{"account_id":8474991,"reputation":77,"user_id":6356521,"accept_rate":78,"display_name":"SaraDob"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":37554096,"answer_count":1,"score":-1,"last_activity_date":1672950515,"creation_date":1464709289,"question_id":37550117,"body_markdown":"Our company switched from old AIX box environment to Windows Environment this weekend. The MySQL database was moved from AIX to Windows 2012 servers.\r\n\r\nThe application are throwing up errors on date fields for any insert statement. MySQL version on Windows is 5.1.56.\r\n\r\nIs there any database level datetime setting that has to be  changed in Windows environment? Any drivers to be installed? The application is on Java and may need lot of time changing the code.\r\n","title":"MySQL changed to Windows 2012 and application throws error in datetime field","body":"<p>Our company switched from old AIX box environment to Windows Environment this weekend. The MySQL database was moved from AIX to Windows 2012 servers.</p>\n<p>The application are throwing up errors on date fields for any insert statement. MySQL version on Windows is 5.1.56.</p>\n<p>Is there any database level datetime setting that has to be  changed in Windows environment? Any drivers to be installed? The application is on Java and may need lot of time changing the code.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1672945694,"post_id":75023276,"comment_id":132393242,"body_markdown":"Please do not post pictures of code, instead edit your question with the _text_ of the code in a code formatted block.","body":"Please do not post pictures of code, instead edit your question with the <i>text</i> of the code in a code formatted block."},{"owner":{"account_id":19478822,"reputation":23,"user_id":20939529,"display_name":"Jacob"},"score":0,"creation_date":1672945784,"post_id":75023276,"comment_id":132393267,"body_markdown":"I apologize, this is my first time on the website. Thank you for letting me know.","body":"I apologize, this is my first time on the website. Thank you for letting me know."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1672945848,"post_id":75023276,"comment_id":132393282,"body_markdown":"@Jacob: then please [edit] your question to fix the issue. Also, if you get an exception, it&#39;s a good idea to post the complete stack trace of the exception (again, as text). And realistically you probably find everything you need in [this question](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it).","body":"@Jacob: then please <a href=\"https://stackoverflow.com/posts/75023276/edit\">edit</a> your question to fix the issue. Also, if you get an exception, it&#39;s a good idea to post the complete stack trace of the exception (again, as text). And realistically you probably find everything you need in <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">this question</a>."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1672945878,"post_id":75023276,"comment_id":132393290,"body_markdown":"Sounds like you could use [Boyer-Moore](https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string-search_algorithm) to efficiently solve this.","body":"Sounds like you could use <a href=\"https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string-search_algorithm\" rel=\"nofollow noreferrer\">Boyer-Moore</a> to efficiently solve this."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1672945966,"post_id":75023276,"comment_id":132393314,"body_markdown":"@Neil Seems like overkill since he only needs to check first 2 and last 2 of the array?  He doesn&#39;t even need a loop","body":"@Neil Seems like overkill since he only needs to check first 2 and last 2 of the array?  He doesn&#39;t even need a loop"},{"owner":{"account_id":19478822,"reputation":23,"user_id":20939529,"display_name":"Jacob"},"score":0,"creation_date":1672946344,"post_id":75023276,"comment_id":132393409,"body_markdown":"@Nexevis I have changed the photo to text. I’m on my phone at the moment, sorry for the slight delay.","body":"@Nexevis I have changed the photo to text. I’m on my phone at the moment, sorry for the slight delay."},{"owner":{"account_id":2882210,"reputation":1777,"user_id":2472827,"display_name":"Neil"},"score":0,"creation_date":1672946382,"post_id":75023276,"comment_id":132393416,"body_markdown":"Oh, yes, I guess another thing is to read the directions carefully. :] Much better with your edit -- thanks. What happens if the number of items is small? (0, 1, 2, 3?)","body":"Oh, yes, I guess another thing is to read the directions carefully. :] Much better with your edit -- thanks. What happens if the number of items is small? (0, 1, 2, 3?)"},{"owner":{"account_id":19478822,"reputation":23,"user_id":20939529,"display_name":"Jacob"},"score":0,"creation_date":1672946499,"post_id":75023276,"comment_id":132393447,"body_markdown":"@Neil In regards to the Boyer-Moore, I’m sure we will learn about this in class, but because it’s the second day of learning arrays, he has stated not to use any “more advanced” tools in our code.","body":"@Neil In regards to the Boyer-Moore, I’m sure we will learn about this in class, but because it’s the second day of learning arrays, he has stated not to use any “more advanced” tools in our code."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1672946590,"post_id":75023276,"comment_id":132393473,"body_markdown":"just to answer why the out of bounds  you start i = 0 and then you do on the if i - 1 on the first iteration of the loop which would give you a -1 index which is out of bounds","body":"just to answer why the out of bounds  you start i = 0 and then you do on the if i - 1 on the first iteration of the loop which would give you a -1 index which is out of bounds"},{"owner":{"account_id":19478822,"reputation":23,"user_id":20939529,"display_name":"Jacob"},"score":0,"creation_date":1672946816,"post_id":75023276,"comment_id":132393521,"body_markdown":"@Anon Yes, but if I were to do i and i+1 instead of i-1 and i, it would do the same thing, just becoming one more than the bounds of the array.","body":"@Anon Yes, but if I were to do i and i+1 instead of i-1 and i, it would do the same thing, just becoming one more than the bounds of the array."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1672947016,"post_id":75023276,"comment_id":132393572,"body_markdown":"@Jacob This is why the answer by Mureinik has conditions that check that length of the array is at least 2, because his `nums[1]` would fail with the same error if the length is 1, so he has a check that short circuits the operation before the comparison. You need to define conditions for edge cases, and allow your code to operate within those conditions","body":"@Jacob This is why the answer by Mureinik has conditions that check that length of the array is at least 2, because his <code>nums[1]</code> would fail with the same error if the length is 1, so he has a check that short circuits the operation before the comparison. You need to define conditions for edge cases, and allow your code to operate within those conditions"}],"answers":[{"comments":[{"owner":{"account_id":19478822,"reputation":23,"user_id":20939529,"display_name":"Jacob"},"score":0,"creation_date":1672946600,"post_id":75023375,"comment_id":132393474,"body_markdown":"Thanks, I thought I may have been doing a slight overkill with the loop. It was a bit unsure about what they had meant there.","body":"Thanks, I thought I may have been doing a slight overkill with the loop. It was a bit unsure about what they had meant there."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1672946691,"post_id":75023375,"comment_id":132393490,"body_markdown":"@Jacob I recommend still attempting to understand what was failing with your code, as it will be a common problem in the future with loops.  Think about how your code starts at position 0, and you immediately try access position `0 - 1` with `nums[i-1]` which would be position `-1`, which obviously will error since that is not possible.","body":"@Jacob I recommend still attempting to understand what was failing with your code, as it will be a common problem in the future with loops.  Think about how your code starts at position 0, and you immediately try access position <code>0 - 1</code> with <code>nums[i-1]</code> which would be position <code>-1</code>, which obviously will error since that is not possible."},{"owner":{"account_id":19478822,"reputation":23,"user_id":20939529,"display_name":"Jacob"},"score":0,"creation_date":1672946973,"post_id":75023375,"comment_id":132393560,"body_markdown":"@Nexevis Will do, I was thinking about a way to access the two positions in the way, which I haven’t quite figured out how to do. It seems if I did it the other way (nums[i] &amp;&amp; nums[i+1]), it would do the same thing, but over the boundaries instead.","body":"@Nexevis Will do, I was thinking about a way to access the two positions in the way, which I haven’t quite figured out how to do. It seems if I did it the other way (nums[i] &amp;&amp; nums[i+1]), it would do the same thing, but over the boundaries instead."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672946743,"creation_date":1672946423,"answer_id":75023375,"question_id":75023276,"body_markdown":"The problem statement is &quot;Return true if the given array contains an unlucky a in the first 2 or last 2 positions in the array.&quot;, so you don&#39;t even need a loop - you just need to examine the first two and last two elements of the array:\r\n\r\n```java\r\npublic boolean unlucky1(int[] nums) {\r\n    return nums != null &amp;&amp;\r\n           nums.length &gt;= 2 &amp;&amp;\r\n           (nums[0] == 1 &amp;&amp; nums[1] == 3 ||\r\n            nums[nums.length - 2] == 1 &amp;&amp; nums[nums.length -1] == 3);\r\n}\r\n```","title":"Array-1 CodingBat unlucky1 (java) Challenge","body":"<p>The problem statement is &quot;Return true if the given array contains an unlucky a in the first 2 or last 2 positions in the array.&quot;, so you don't even need a loop - you just need to examine the first two and last two elements of the array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean unlucky1(int[] nums) {\n    return nums != null &amp;&amp;\n           nums.length &gt;= 2 &amp;&amp;\n           (nums[0] == 1 &amp;&amp; nums[1] == 3 ||\n            nums[nums.length - 2] == 1 &amp;&amp; nums[nums.length -1] == 3);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1672951513,"post_id":75023711,"comment_id":132394954,"body_markdown":"This answer is hard to understand, and just wrong is some parts, there is no reason to declare the method `static`, the OP does not specify how he is calling the method.  Also what happens to your method when the array is length of 1?  You would get the same index error.","body":"This answer is hard to understand, and just wrong is some parts, there is no reason to declare the method <code>static</code>, the OP does not specify how he is calling the method.  Also what happens to your method when the array is length of 1?  You would get the same index error."}],"tags":[],"owner":{"account_id":26416899,"reputation":15,"user_id":20065173,"display_name":"Noname"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672950320,"creation_date":1672948581,"answer_id":75023711,"question_id":75023276,"body_markdown":"The following code is the correct method.\r\n\r\n    0.public static boolean unlucky1(int[] nums){  //Firstly,declare the method \r\n                                                   &quot;static&quot;\r\n        1.  int length = nums.length;//Get the array length.\r\n     \r\n        2.if((nums[0] == 1 &amp;&amp; nums[1] == 3) &amp;&amp; ( nums[length - 2] == 1 &amp;&amp; \r\n                                                 nums[length] -1  == 3)){\r\n    \t3.     \treturn true; \t\t\r\n                    } \r\n    \t4.\treturn false; \t\t\r\n                    }\r\n\r\n\r\nIn row 2,your code was:         &quot;if(nums[i-1] == 1 &amp;&amp; nums[i] == 3)&quot;;\r\n\r\nIt showed arrayoutofbound because the starting array index  is 0 and you decalred in the if statement \r\n\r\n    &quot; if(nums[0-1]...)which says if nums[-1] which is out of bounds.&quot;\r\n\r\nAlso to check the last 2 numbers of the array you do the following:\r\n \r\n          ( nums[length - 1] == 1 &amp;&amp; nums[length] == 3)) where : \r\n\r\n                   &quot; nums[length - 2] == 1&quot; \r\n          checks 1 value before the last array value \r\n                             \r\n                         and \r\n                   &quot; nums[length] - 1 == 3 &quot;\r\n                 checks the last array value\r\n\r\n\r\n","title":"Array-1 CodingBat unlucky1 (java) Challenge","body":"<p>The following code is the correct method.</p>\n<pre><code>0.public static boolean unlucky1(int[] nums){  //Firstly,declare the method \n                                               &quot;static&quot;\n    1.  int length = nums.length;//Get the array length.\n \n    2.if((nums[0] == 1 &amp;&amp; nums[1] == 3) &amp;&amp; ( nums[length - 2] == 1 &amp;&amp; \n                                             nums[length] -1  == 3)){\n    3.      return true;        \n                } \n    4.  return false;       \n                }\n</code></pre>\n<p>In row 2,your code was:         &quot;if(nums[i-1] == 1 &amp;&amp; nums[i] == 3)&quot;;</p>\n<p>It showed arrayoutofbound because the starting array index  is 0 and you decalred in the if statement</p>\n<pre><code>&quot; if(nums[0-1]...)which says if nums[-1] which is out of bounds.&quot;\n</code></pre>\n<p>Also to check the last 2 numbers of the array you do the following:</p>\n<pre><code>      ( nums[length - 1] == 1 &amp;&amp; nums[length] == 3)) where : \n\n               &quot; nums[length - 2] == 1&quot; \n      checks 1 value before the last array value \n                         \n                     and \n               &quot; nums[length] - 1 == 3 &quot;\n             checks the last array value\n</code></pre>\n"}],"owner":{"account_id":19478822,"reputation":23,"user_id":20939529,"display_name":"Jacob"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75023375,"answer_count":2,"score":2,"last_activity_date":1672950320,"creation_date":1672945588,"question_id":75023276,"body_markdown":"I’m a senior in high school taking a computer science class. For homework, we have to create solutions to certain CodingBat (practice coding website) problems. I am experiencing problems with this question, some of which include OutOfBounds for the array. Based on my code, I can’t quite figure out why this is happening. The following attached code (below) is what I have created as a solution to the CodingBat problem for unlucky1 in Array-1 (java), which describes the challenge as: “We&#39;ll say that a 1 immediately followed by a 3 in an array is an &quot;unlucky&quot; 1. Return true if the given array contains an unlucky a in the first 2 or last 2 positions in the array.\r\n```java\r\npublic boolean unlucky1(int[] nums) {\r\n  int i = 0;\r\n  for(i = 0; i &lt; nums.length; i++)\r\n    if(nums[i-1] == 1 &amp;&amp; nums[i] == 3)\r\n    {\r\n      return true;\r\n    }\r\n    return false;\r\n}\r\n```","title":"Array-1 CodingBat unlucky1 (java) Challenge","body":"<p>I’m a senior in high school taking a computer science class. For homework, we have to create solutions to certain CodingBat (practice coding website) problems. I am experiencing problems with this question, some of which include OutOfBounds for the array. Based on my code, I can’t quite figure out why this is happening. The following attached code (below) is what I have created as a solution to the CodingBat problem for unlucky1 in Array-1 (java), which describes the challenge as: “We'll say that a 1 immediately followed by a 3 in an array is an &quot;unlucky&quot; 1. Return true if the given array contains an unlucky a in the first 2 or last 2 positions in the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean unlucky1(int[] nums) {\n  int i = 0;\n  for(i = 0; i &lt; nums.length; i++)\n    if(nums[i-1] == 1 &amp;&amp; nums[i] == 3)\n    {\n      return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":17078329,"reputation":3,"user_id":20418191,"display_name":"skylight"},"score":0,"creation_date":1672951256,"post_id":75023978,"comment_id":132394883,"body_markdown":"Thanks that was the issue. Sadly Im no closer to solving my bigger issue but this solved my little one and that&#39;s awesome, so thank you","body":"Thanks that was the issue. Sadly Im no closer to solving my bigger issue but this solved my little one and that&#39;s awesome, so thank you"}],"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672950300,"creation_date":1672950300,"answer_id":75023978,"question_id":75023770,"body_markdown":"In application.properties file in resource folder did you set database configuration such asusername, password and url? It should be set like this.\r\n  \r\n    spring.datasource.url=jdbc:mysql://localhost:3306/restapi\r\n    spring.datasource.username=root\r\n    spring.datasource.password=\r\n\r\n\r\nAnd it&#39;s better to use @GetMapping annotation instead of @RequestMapping.","title":"If I add spring-boot-starter-data-jpa to a simple spring application I get 404s but none if it&#39;s not there","body":"<p>In application.properties file in resource folder did you set database configuration such asusername, password and url? It should be set like this.</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/restapi\nspring.datasource.username=root\nspring.datasource.password=\n</code></pre>\n<p>And it's better to use @GetMapping annotation instead of @RequestMapping.</p>\n"}],"owner":{"account_id":17078329,"reputation":3,"user_id":20418191,"display_name":"skylight"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75023978,"answer_count":1,"score":0,"last_activity_date":1672950300,"creation_date":1672948998,"question_id":75023770,"body_markdown":"I am trying to debug why a my application won&#39;t show, and in doing so I have this small application running hello world. This does work, it shows the text on the screen, great. But then if I add spring-boot-starter-data-jpa to the pom file, I get a 404 error instead. I need to use spring-boot-starter-data-jpa and have no idea why it doesn&#39;t work as expected.\r\n\r\npom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n\t\t\thttp://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;artifactId&gt;spring-boot-hello&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;Spring Boot Hello World Example&lt;/name&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.5&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n&lt;!--        &lt;dependency&gt;--&gt;\r\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\r\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\r\n&lt;!--            &lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n&lt;!--        &lt;/dependency&gt;--&gt;\r\n\r\n\r\n&lt;!--this is the issued one--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;testapp&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\ncontroller\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class HelloController {\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    String hello() {\r\n        return &quot;Hello World, Spring Boot!&quot;;\r\n    }\r\n\r\n}\r\n```\r\nmain class\r\n```\r\npackage org.example;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class MyWebApplication extends SpringBootServletInitializer {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(MyWebApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder){\r\n        return builder.sources(MyWebApplication.class);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI have gone through every other answer I could find and made sure I was using restcontroller instead of controller, I believe my main class is in the correct spot, I am at a loss as to why one dependency, especially one that isn&#39;t being used yet, causes a 404.  ","title":"If I add spring-boot-starter-data-jpa to a simple spring application I get 404s but none if it&#39;s not there","body":"<p>I am trying to debug why a my application won't show, and in doing so I have this small application running hello world. This does work, it shows the text on the screen, great. But then if I add spring-boot-starter-data-jpa to the pom file, I get a 404 error instead. I need to use spring-boot-starter-data-jpa and have no idea why it doesn't work as expected.</p>\n<p>pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n            http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;spring-boot-hello&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;Spring Boot Hello World Example&lt;/name&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.5&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;scope&gt;provided&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n\n&lt;!--this is the issued one--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;testapp&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>controller</p>\n<pre><code>package org.example;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n    @RequestMapping(&quot;/&quot;)\n    String hello() {\n        return &quot;Hello World, Spring Boot!&quot;;\n    }\n\n}\n</code></pre>\n<p>main class</p>\n<pre><code>package org.example;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class MyWebApplication extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyWebApplication.class, args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder){\n        return builder.sources(MyWebApplication.class);\n    }\n\n}\n</code></pre>\n<p>I have gone through every other answer I could find and made sure I was using restcontroller instead of controller, I believe my main class is in the correct spot, I am at a loss as to why one dependency, especially one that isn't being used yet, causes a 404.</p>\n"},{"tags":["java","rabbitmq"],"answers":[{"tags":[],"owner":{"account_id":1818306,"reputation":364,"user_id":1652940,"display_name":"DaveC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1413134176,"creation_date":1413134176,"answer_id":26327814,"question_id":26318089,"body_markdown":"You should take a look at the Channel.basicConsume and the DefaultConsumer abstract class: https://www.rabbitmq.com/api-guide.html#consuming\r\n\r\nJava concurrency will require a thread for the callback to handle each message, but you can use a thread pool to reuse threads.\r\n\r\n    static final ExecutorService threadPool;\r\n    \r\n    static {\r\n        threadPool = Executors.newCachedThreadPool();\r\n    }\r\n\r\nNow you need to create a consumer that will handle each delivery by creating a Runnable instance that will be passed to the thread pool to execute.\r\n\r\n    channel.basicConsume(queueName, false, new DefaultConsumer(channel) {\r\n        @Override\r\n        public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\r\n            final byte msgBody = body; // a &#39;final&#39; copy of the body that you can pass to the runnable\r\n            final long msgTag = envelope.getDeliveryTag();\r\n            Runnable runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    // handle the message here\r\n                    doStuff(msgBody);\r\n                    channel.basicAck(msgTag, false);\r\n                }\r\n            };\r\n            threadPool.submit(runnable);\r\n        }\r\n    });\r\n\r\nThis shows how you can handle concurrent deliveries on a single connection and channel without a while loop in a single thread that would be blocked on each delivery.  For your sanity, you probably will want to factor your `Runnable` implementation into its own class that could accept the `channel`, `msgBody`, `msgTag` and any other data as parameters that will be accessible when the `run()` method is called.  ","title":"java how to handle callbacks of rabbitmq messages","body":"<p>You should take a look at the Channel.basicConsume and the DefaultConsumer abstract class: <a href=\"https://www.rabbitmq.com/api-guide.html#consuming\" rel=\"nofollow\">https://www.rabbitmq.com/api-guide.html#consuming</a></p>\n\n<p>Java concurrency will require a thread for the callback to handle each message, but you can use a thread pool to reuse threads.</p>\n\n<pre><code>static final ExecutorService threadPool;\n\nstatic {\n    threadPool = Executors.newCachedThreadPool();\n}\n</code></pre>\n\n<p>Now you need to create a consumer that will handle each delivery by creating a Runnable instance that will be passed to the thread pool to execute.</p>\n\n<pre><code>channel.basicConsume(queueName, false, new DefaultConsumer(channel) {\n    @Override\n    public void handleDelivery(String consumerTag, Envelope envelope, AMQP.BasicProperties properties, byte[] body) throws IOException {\n        final byte msgBody = body; // a 'final' copy of the body that you can pass to the runnable\n        final long msgTag = envelope.getDeliveryTag();\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                // handle the message here\n                doStuff(msgBody);\n                channel.basicAck(msgTag, false);\n            }\n        };\n        threadPool.submit(runnable);\n    }\n});\n</code></pre>\n\n<p>This shows how you can handle concurrent deliveries on a single connection and channel without a while loop in a single thread that would be blocked on each delivery.  For your sanity, you probably will want to factor your <code>Runnable</code> implementation into its own class that could accept the <code>channel</code>, <code>msgBody</code>, <code>msgTag</code> and any other data as parameters that will be accessible when the <code>run()</code> method is called.  </p>\n"}],"owner":{"account_id":3181228,"reputation":45,"user_id":2687865,"accept_rate":50,"display_name":"crawlero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3529,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26327814,"answer_count":1,"score":1,"last_activity_date":1672949959,"creation_date":1413053636,"question_id":26318089,"body_markdown":"I want to create a server to handle socket connections from users, and inside my server I want to have a connection to a RabbitMQ, one per connection, but in the examples provided in their webpage I see only &quot;while&quot; loops to wait for the message, in this case I will need to create a thread per connection only to process the message from RabbitMQ.\r\n\r\nIs there a way to do this in Java using Spring or any framework that I just create the call back for the RabbitMQ instead of using while loops?\r\n\r\nI was using node.js and there it is pretty straightforward to do this, \r\nand I want to know some proposals for Java","title":"java how to handle callbacks of rabbitmq messages","body":"<p>I want to create a server to handle socket connections from users, and inside my server I want to have a connection to a RabbitMQ, one per connection, but in the examples provided in their webpage I see only &quot;while&quot; loops to wait for the message, in this case I will need to create a thread per connection only to process the message from RabbitMQ.</p>\n<p>Is there a way to do this in Java using Spring or any framework that I just create the call back for the RabbitMQ instead of using while loops?</p>\n<p>I was using node.js and there it is pretty straightforward to do this,\nand I want to know some proposals for Java</p>\n"},{"tags":["java","anonymous-class"],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1305202911,"post_id":5977786,"comment_id":6898690,"body_markdown":"Java 7 **won&#39;t** have closures. And even when they are introduced in Java 8, they *probably* won&#39;t be able to write to local variables (i.e. the &quot;local-variables-that-are-accessed-must-be-final&quot; rule will probably still hold).","body":"Java 7 <b>won&#39;t</b> have closures. And even when they are introduced in Java 8, they <i>probably</i> won&#39;t be able to write to local variables (i.e. the &quot;local-variables-that-are-accessed-must-be-final&quot; rule will probably still hold)."},{"owner":{"account_id":1975576,"reputation":20799,"user_id":1773434,"accept_rate":100,"display_name":"Govind Parmar"},"score":0,"creation_date":1548888405,"post_id":5977786,"comment_id":95710045,"body_markdown":"Bit late to comment, but this does seem to work in Java 8","body":"Bit late to comment, but this does seem to work in Java 8"}],"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1305202866,"creation_date":1305202383,"answer_id":5977786,"question_id":5977735,"body_markdown":"If the containing class is MyClass --&gt;\r\n\r\n    MyClass.this.variable = value;\r\n\r\nDo not remember if this would work with a private variable (I think it would work).\r\n\r\nOnly works for attributes of the class (class variable). Does not work for method local variables. In JSE 7 probably there will be closures to do that kind of thing.","title":"Setting outer variable from anonymous inner class","body":"<p>If the containing class is MyClass --></p>\n\n<pre><code>MyClass.this.variable = value;\n</code></pre>\n\n<p>Do not remember if this would work with a private variable (I think it would work).</p>\n\n<p>Only works for attributes of the class (class variable). Does not work for method local variables. In JSE 7 probably there will be closures to do that kind of thing.</p>\n"},{"comments":[{"owner":{"account_id":11385,"reputation":24062,"user_id":21925,"accept_rate":62,"display_name":"Robin"},"score":5,"creation_date":1305211951,"post_id":5977866,"comment_id":6901870,"body_markdown":"Although this will work, it is a bit of an ugly hack.  I think you should use a named inner class instead of an anonymous one if you want to return values like that.  It is &#39;cleaner&#39; IMHO.","body":"Although this will work, it is a bit of an ugly hack.  I think you should use a named inner class instead of an anonymous one if you want to return values like that.  It is &#39;cleaner&#39; IMHO."},{"owner":{"account_id":67792,"reputation":5168,"user_id":198153,"accept_rate":96,"display_name":"chzbrgla"},"score":67,"creation_date":1350381655,"post_id":5977866,"comment_id":17492274,"body_markdown":"This is so dirty, I want to take a shower now, just because I read it :)","body":"This is so dirty, I want to take a shower now, just because I read it :)"},{"owner":{"account_id":277812,"reputation":808,"user_id":572016,"display_name":"Piwaf"},"score":9,"creation_date":1457648336,"post_id":5977866,"comment_id":59515501,"body_markdown":"I just puked on my keyboard, and then out of laziness for not wanting to create a holder class,  I did just this.","body":"I just puked on my keyboard, and then out of laziness for not wanting to create a holder class,  I did just this."},{"owner":{"account_id":203980,"reputation":683,"user_id":451937,"accept_rate":44,"display_name":"M Faisal Hameed"},"score":3,"creation_date":1486205417,"post_id":5977866,"comment_id":71252452,"body_markdown":"@chzbrgla After taking a shower, following solution worked for me.  `public static final AtomicLong RESULT = new AtomicLong(0);  RESULT.set(st.getLong(4););`","body":"@chzbrgla After taking a shower, following solution worked for me.  <code>public static final AtomicLong RESULT = new AtomicLong(0);  RESULT.set(st.getLong(4););</code>"},{"owner":{"account_id":5133846,"reputation":192,"user_id":4113202,"accept_rate":80,"display_name":"caligula"},"score":0,"creation_date":1494533332,"post_id":5977866,"comment_id":74882583,"body_markdown":"Ok, even IntelliJ suggests this, but it doesn&#39;t look like it&#39;s the standard solution...","body":"Ok, even IntelliJ suggests this, but it doesn&#39;t look like it&#39;s the standard solution..."},{"owner":{"account_id":2024403,"reputation":695,"user_id":1809845,"display_name":"Mi-La"},"score":0,"creation_date":1507898638,"post_id":5977866,"comment_id":80406470,"body_markdown":"Great answer, even though it&#39;s nasty, it explains the reason. Thanks. For example in a unit test, this solution is absolutely ok for me.","body":"Great answer, even though it&#39;s nasty, it explains the reason. Thanks. For example in a unit test, this solution is absolutely ok for me."}],"tags":[],"owner":{"account_id":2794,"reputation":88146,"user_id":3937,"accept_rate":76,"display_name":"Lou Franco"},"comment_count":6,"down_vote_count":3,"up_vote_count":70,"is_accepted":true,"score":67,"last_activity_date":1672949743,"creation_date":1305202793,"answer_id":5977866,"question_id":5977735,"body_markdown":"Java doesn&#39;t know that doWork is going to be synchronous and that the stack frame that result is in will still be there.  You need to alter something that isn&#39;t in the stack.\r\n\r\nI think this would work\r\n\r\n     final Long[] result = new Long[1];\r\n\r\nand then\r\n\r\n     result[0] = st.getLong(4);\r\n\r\nin `execute()`.  At the end, you need to `return result[0];`\r\n\r\nYou might want to make a class because you don&#39;t like how it looks to use an array here, but this is the basic idea.","title":"Setting outer variable from anonymous inner class","body":"<p>Java doesn't know that doWork is going to be synchronous and that the stack frame that result is in will still be there.  You need to alter something that isn't in the stack.</p>\n<p>I think this would work</p>\n<pre><code> final Long[] result = new Long[1];\n</code></pre>\n<p>and then</p>\n<pre><code> result[0] = st.getLong(4);\n</code></pre>\n<p>in <code>execute()</code>.  At the end, you need to <code>return result[0];</code></p>\n<p>You might want to make a class because you don't like how it looks to use an array here, but this is the basic idea.</p>\n"},{"tags":[],"owner":{"account_id":90306,"reputation":2377,"user_id":248656,"accept_rate":44,"display_name":"Oded Peer"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1305202848,"creation_date":1305202848,"answer_id":5977877,"question_id":5977735,"body_markdown":"Long is immutable. If you use a mutable class, holding a long value, you can change the value. For example:\r\n\r\n    public class Main {\r\n\r\n\tpublic static void main( String[] args ) throws Exception {\r\n\t\tMain a = new Main();\r\n\t\tSystem.out.println( a.getNumber() );\r\n\t}\r\n\r\n\tpublic void doWork( Work work ) {\r\n\t\twork.doWork();\r\n\t}\r\n\r\n\t\r\n\tpublic Long getNumber() {\r\n\t\tfinal LongHolder result = new LongHolder();\r\n\t\tdoWork( new Work() {\r\n\t\t\tpublic void doWork() {\r\n\t\t\t\tresult.value = 1L;\r\n\t\t\t}\r\n\t\t} );\r\n\t\treturn result.value;\r\n\t}\r\n\r\n\tprivate static class LongHolder { \r\n\t\tpublic Long value; \r\n\t}\r\n\r\n\tprivate static abstract class Work {\r\n\t\tpublic abstract void doWork();\r\n\t}\r\n\r\n    }","title":"Setting outer variable from anonymous inner class","body":"<p>Long is immutable. If you use a mutable class, holding a long value, you can change the value. For example:</p>\n\n<pre><code>public class Main {\n\npublic static void main( String[] args ) throws Exception {\n    Main a = new Main();\n    System.out.println( a.getNumber() );\n}\n\npublic void doWork( Work work ) {\n    work.doWork();\n}\n\n\npublic Long getNumber() {\n    final LongHolder result = new LongHolder();\n    doWork( new Work() {\n        public void doWork() {\n            result.value = 1L;\n        }\n    } );\n    return result.value;\n}\n\nprivate static class LongHolder { \n    public Long value; \n}\n\nprivate static abstract class Work {\n    public abstract void doWork();\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305202867,"creation_date":1305202867,"answer_id":5977880,"question_id":5977735,"body_markdown":"Anonymous classes/methods are not closures - this is exactly the difference. \r\n\r\nThe problem is that `doWork()` could create a new thread to call `execute()` and `getNumber()` could return before the result is set - and even more problematically: where should `execute()` write the result when the stack frame that contains the variable is gone? Languages with closures have to introduce a mechanism to keep such variables alive outside their original scope (or ensure that the closure is not executed in a separate thread).\r\n\r\nA workaround:\r\n\r\n    Long[] result = new Long[1];\r\n    ...\r\n    result[0] = st.getLong(4) ;\r\n    ...\r\n    return result[0];","title":"Setting outer variable from anonymous inner class","body":"<p>Anonymous classes/methods are not closures - this is exactly the difference. </p>\n\n<p>The problem is that <code>doWork()</code> could create a new thread to call <code>execute()</code> and <code>getNumber()</code> could return before the result is set - and even more problematically: where should <code>execute()</code> write the result when the stack frame that contains the variable is gone? Languages with closures have to introduce a mechanism to keep such variables alive outside their original scope (or ensure that the closure is not executed in a separate thread).</p>\n\n<p>A workaround:</p>\n\n<pre><code>Long[] result = new Long[1];\n...\nresult[0] = st.getLong(4) ;\n...\nreturn result[0];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":205707,"reputation":1,"user_id":454597,"accept_rate":91,"display_name":"TC1"},"score":0,"creation_date":1305545159,"post_id":5978898,"comment_id":6953938,"body_markdown":"`Work` is an interface in org.hibernate.jdbc, the signature for `execute` is `public void execute(java.sql.Connection)`. Would it really eat that return type up &amp; work?","body":"<code>Work</code> is an interface in org.hibernate.jdbc, the signature for <code>execute</code> is <code>public void execute(java.sql.Connection)</code>. Would it really eat that return type up &amp; work?"},{"owner":{"account_id":5133846,"reputation":192,"user_id":4113202,"accept_rate":80,"display_name":"caligula"},"score":0,"creation_date":1494534384,"post_id":5978898,"comment_id":74883210,"body_markdown":"I&#39;m sorry, but I don&#39;t really get the second (updated) part of your answer. I&#39;m having the problem with the inner anonymous class of a listener (and can&#39;t make it return something since it&#39;s an override). Do you essentially use [this](http://stackoverflow.com/a/21489759/4113202)? Or is there another concept I need to get my head around? Or should I just ask a completely new question?","body":"I&#39;m sorry, but I don&#39;t really get the second (updated) part of your answer. I&#39;m having the problem with the inner anonymous class of a listener (and can&#39;t make it return something since it&#39;s an override). Do you essentially use <a href=\"http://stackoverflow.com/a/21489759/4113202\">this</a>? Or is there another concept I need to get my head around? Or should I just ask a completely new question?"}],"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1305549037,"creation_date":1305207665,"answer_id":5978898,"question_id":5977735,"body_markdown":"The standard solution to this is to return a value. See, for instance, ye olde `java.security.AccessController.doPrivileged`.\r\n\r\nSo the code would look something like this:\r\n\r\n    public Long getNumber(\r\n        final String type, final String refNumber, final Long year\r\n    ) throws ServiceException {\r\n        try {\r\n            Session session = PersistenceHelper.getSession();\r\n            return session.doWork(new Work&lt;Long&gt;() {\r\n                public Long execute(Connection conn) throws SQLException {\r\n                    CallableStatement st = conn.prepareCall(&quot;{ CALL PACKAGE.procedure(?, ?, ?, ?) }&quot;);\r\n                    try {\r\n                        st.setString(1, type);\r\n                        st.setString(2, refNumber);\r\n                        st.setLong(3, year);\r\n                        st.registerOutParameter(4, OracleTypes.NUMBER);\r\n                        st.execute();\r\n                        return st.getLong(4);\r\n                    } finally {\r\n                        st.close();\r\n                    }\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            throw ServiceException(e);\r\n        }\r\n    }\r\n\r\n(Also fixed the potential resource leak, and returning `null` for any error.)\r\n\r\nUpdate: So apparently `Work` is from a third-party library and can&#39;t be altered. So I suggest not using it, at least isolate your application from so that you are not using it directly. Something like:\r\n\r\n    public interface WithConnection&lt;T&gt; {\r\n        T execute(Connection connnection) throws SQLException;\r\n    }\r\n    public class SessionWrapper {\r\n        private final Session session;\r\n        public SessionWrapper(Session session) {\r\n            session = nonnull(session);\r\n        }\r\n        public &lt;T&gt; T withConnection(final WithConnection&lt;T&gt; task) throws Service Exception {\r\n            nonnull(task);\r\n            return new Work() {\r\n                T result;\r\n                {\r\n                    session.doWork(this);\r\n                }\r\n                public void execute(Connection connection) throws SQLException {\r\n                    result = task.execute(connection);\r\n                }\r\n            }.result;\r\n        }\r\n    }\r\n\r\n","title":"Setting outer variable from anonymous inner class","body":"<p>The standard solution to this is to return a value. See, for instance, ye olde <code>java.security.AccessController.doPrivileged</code>.</p>\n\n<p>So the code would look something like this:</p>\n\n<pre><code>public Long getNumber(\n    final String type, final String refNumber, final Long year\n) throws ServiceException {\n    try {\n        Session session = PersistenceHelper.getSession();\n        return session.doWork(new Work&lt;Long&gt;() {\n            public Long execute(Connection conn) throws SQLException {\n                CallableStatement st = conn.prepareCall(\"{ CALL PACKAGE.procedure(?, ?, ?, ?) }\");\n                try {\n                    st.setString(1, type);\n                    st.setString(2, refNumber);\n                    st.setLong(3, year);\n                    st.registerOutParameter(4, OracleTypes.NUMBER);\n                    st.execute();\n                    return st.getLong(4);\n                } finally {\n                    st.close();\n                }\n            }\n        });\n    } catch (Exception e) {\n        throw ServiceException(e);\n    }\n}\n</code></pre>\n\n<p>(Also fixed the potential resource leak, and returning <code>null</code> for any error.)</p>\n\n<p>Update: So apparently <code>Work</code> is from a third-party library and can't be altered. So I suggest not using it, at least isolate your application from so that you are not using it directly. Something like:</p>\n\n<pre><code>public interface WithConnection&lt;T&gt; {\n    T execute(Connection connnection) throws SQLException;\n}\npublic class SessionWrapper {\n    private final Session session;\n    public SessionWrapper(Session session) {\n        session = nonnull(session);\n    }\n    public &lt;T&gt; T withConnection(final WithConnection&lt;T&gt; task) throws Service Exception {\n        nonnull(task);\n        return new Work() {\n            T result;\n            {\n                session.doWork(this);\n            }\n            public void execute(Connection connection) throws SQLException {\n                result = task.execute(connection);\n            }\n        }.result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1241306,"reputation":12193,"user_id":1203844,"display_name":"Aritra Chakraborty"},"score":0,"creation_date":1436458249,"post_id":21489759,"comment_id":50632284,"body_markdown":"any references? I need to find some documents regarding this approach? is there?","body":"any references? I need to find some documents regarding this approach? is there?"},{"owner":{"display_name":"user2080225"},"score":3,"creation_date":1436814734,"post_id":21489759,"comment_id":50759636,"body_markdown":"@Aritra, it would be hard to find references for something like this, but I&#39;ve been doing java for 14yrs and really when you need to get a return value from a method (aside from it&#39;s actual return value) you have to pass an object, and let that object have properties that you can inspect upon the return. My little snippet of code is just a generic way of doing it, and is a little cleaner than using an array for this purpose, or a dedicated class just for getting &quot;an out parameter&quot;.","body":"@Aritra, it would be hard to find references for something like this, but I&#39;ve been doing java for 14yrs and really when you need to get a return value from a method (aside from it&#39;s actual return value) you have to pass an object, and let that object have properties that you can inspect upon the return. My little snippet of code is just a generic way of doing it, and is a little cleaner than using an array for this purpose, or a dedicated class just for getting &quot;an out parameter&quot;."},{"owner":{"account_id":4858789,"reputation":749,"user_id":5744883,"accept_rate":86,"display_name":"Parnab Sanyal"},"score":0,"creation_date":1492519802,"post_id":21489759,"comment_id":74000134,"body_markdown":"that helped...+1","body":"that helped...+1"}],"tags":[],"owner":{"display_name":"user2080225"},"comment_count":3,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1421614330,"creation_date":1391201239,"answer_id":21489759,"question_id":5977735,"body_markdown":"This situation arises a lot in Java, and the cleanest way to handle it is with a simple value container class.  It&#39;s the same type thing as the array approach, but it&#39;s cleaner IMO.\r\n\r\n    public class ValContainer&lt;T&gt; {\r\n    \tprivate T val;\r\n    \r\n    \tpublic ValContainer() {\r\n    \t}\r\n    \r\n    \tpublic ValContainer(T v) {\r\n    \t\tthis.val = v;\r\n    \t}\r\n    \r\n    \tpublic T getVal() {\r\n    \t\treturn val;\r\n    \t}\r\n    \r\n    \tpublic void setVal(T val) {\r\n    \t\tthis.val = val;\r\n    \t}\r\n    }","title":"Setting outer variable from anonymous inner class","body":"<p>This situation arises a lot in Java, and the cleanest way to handle it is with a simple value container class.  It's the same type thing as the array approach, but it's cleaner IMO.</p>\n\n<pre><code>public class ValContainer&lt;T&gt; {\n    private T val;\n\n    public ValContainer() {\n    }\n\n    public ValContainer(T v) {\n        this.val = v;\n    }\n\n    public T getVal() {\n        return val;\n    }\n\n    public void setVal(T val) {\n        this.val = val;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1168921,"reputation":13,"user_id":1146553,"display_name":"stickyShift"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1482189939,"creation_date":1482189939,"answer_id":41232616,"question_id":5977735,"body_markdown":"As of Hibernate 4, the method [`Session#doReturningWork(ReturningWork&lt;T&gt; work)`](https://docs.jboss.org/hibernate/orm/4.0/javadocs/org/hibernate/Session.html#doReturningWork(org.hibernate.jdbc.ReturningWork)) will return the return val from the inner method:\r\n\r\n    public Long getNumber(final String type, final String refNumber, final Long year) throws ServiceException {\r\n        try {\r\n            Session session = PersistenceHelper.getSession();\r\n            return session.doReturningWork(conn -&gt; {\r\n\t\t\t\tCallableStatement st = conn.prepareCall(&quot;{ CALL PACKAGE.procedure(?, ?, ?, ?) }&quot;);\r\n\t\t\t\tst.setString(1, type);\r\n\t\t\t\tst.setString(2, refNumber);\r\n\t\t\t\tst.setLong(3, year);\r\n\t\t\t\tst.registerOutParameter(4, OracleTypes.NUMBER);\r\n\t\t\t\tst.execute();\r\n\t\t\t\treturn st.getLong(4);\r\n\t\t\t});\r\n        } catch (Exception e) {\r\n            log.error(e);\r\n        }\r\n        return null;\r\n    }\r\n(Cleaned up using a Java 8 lambda)","title":"Setting outer variable from anonymous inner class","body":"<p>As of Hibernate 4, the method <a href=\"https://docs.jboss.org/hibernate/orm/4.0/javadocs/org/hibernate/Session.html#doReturningWork(org.hibernate.jdbc.ReturningWork)\" rel=\"nofollow noreferrer\"><code>Session#doReturningWork(ReturningWork&lt;T&gt; work)</code></a> will return the return val from the inner method:</p>\n\n<pre><code>public Long getNumber(final String type, final String refNumber, final Long year) throws ServiceException {\n    try {\n        Session session = PersistenceHelper.getSession();\n        return session.doReturningWork(conn -&gt; {\n            CallableStatement st = conn.prepareCall(\"{ CALL PACKAGE.procedure(?, ?, ?, ?) }\");\n            st.setString(1, type);\n            st.setString(2, refNumber);\n            st.setLong(3, year);\n            st.registerOutParameter(4, OracleTypes.NUMBER);\n            st.execute();\n            return st.getLong(4);\n        });\n    } catch (Exception e) {\n        log.error(e);\n    }\n    return null;\n}\n</code></pre>\n\n<p>(Cleaned up using a Java 8 lambda)</p>\n"},{"tags":[],"owner":{"account_id":1130933,"reputation":322,"user_id":1117003,"accept_rate":80,"display_name":"Emmanuel"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1599917623,"creation_date":1519913359,"answer_id":49051478,"question_id":5977735,"body_markdown":"You need a &#39;container&#39; to hold your value. You, however, do not have to create a container class. You may use classes in the `java.util.concurrent.atomic` package. They provide an immutable wrapper for a value along with a `set` and a `get` method. You have `AtomicInteger`, `AtomicBoolean`, `AtomicReference&lt;V&gt; (for your objects)` e.t.c\r\n\r\nIn the outer method:\r\n\r\n    final AtomicLong resultHolder = new AtomicLong();\r\nIn the anonymous inner class method\r\n\r\n    long result = getMyLongValue();\r\n    resultHolder.set(result);\r\nLater in your outer method\r\n\r\n    return resultHolder.get();\r\n\r\nHere&#39;s an example.\r\n\r\n    public Long getNumber() {\r\n       final AtomicLong resultHolder = new AtomicLong();\r\n       Session session = new Session();\r\n       session.doWork(new Work() {\r\n           public void execute() {\r\n               //Inside anonymous inner class\r\n               long result = getMyLongValue();\r\n               resultHolder.set(result);\r\n           }\r\n       });\r\n       return resultHolder.get(); //Returns the value of result\r\n    }","title":"Setting outer variable from anonymous inner class","body":"<p>You need a 'container' to hold your value. You, however, do not have to create a container class. You may use classes in the <code>java.util.concurrent.atomic</code> package. They provide an immutable wrapper for a value along with a <code>set</code> and a <code>get</code> method. You have <code>AtomicInteger</code>, <code>AtomicBoolean</code>, <code>AtomicReference&lt;V&gt; (for your objects)</code> e.t.c</p>\n<p>In the outer method:</p>\n<pre><code>final AtomicLong resultHolder = new AtomicLong();\n</code></pre>\n<p>In the anonymous inner class method</p>\n<pre><code>long result = getMyLongValue();\nresultHolder.set(result);\n</code></pre>\n<p>Later in your outer method</p>\n<pre><code>return resultHolder.get();\n</code></pre>\n<p>Here's an example.</p>\n<pre><code>public Long getNumber() {\n   final AtomicLong resultHolder = new AtomicLong();\n   Session session = new Session();\n   session.doWork(new Work() {\n       public void execute() {\n           //Inside anonymous inner class\n           long result = getMyLongValue();\n           resultHolder.set(result);\n       }\n   });\n   return resultHolder.get(); //Returns the value of result\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6537595,"reputation":1,"user_id":5056521,"display_name":"Arka Bhattacharya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599820401,"creation_date":1599820401,"answer_id":63845358,"question_id":5977735,"body_markdown":"Using [AtomicLong](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicLong.html) helped me in a very similar situation and the code looked clean.\r\n\r\n    // Create a new final AtomicLong variable with the initial value 0.\r\n    final AtomicLong YOUR_VARIABLE = new AtomicLong(0);\r\n    ...\r\n    // set long value to the variable within inner class\r\n    YOUR_VARIABLE.set(LONG_VALUE);\r\n    ...\r\n    // get the value even outside the inner class\r\n    YOUR_VARIABLE.get();","title":"Setting outer variable from anonymous inner class","body":"<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/atomic/AtomicLong.html\" rel=\"nofollow noreferrer\">AtomicLong</a> helped me in a very similar situation and the code looked clean.</p>\n<pre><code>// Create a new final AtomicLong variable with the initial value 0.\nfinal AtomicLong YOUR_VARIABLE = new AtomicLong(0);\n...\n// set long value to the variable within inner class\nYOUR_VARIABLE.set(LONG_VALUE);\n...\n// get the value even outside the inner class\nYOUR_VARIABLE.get();\n</code></pre>\n"}],"owner":{"account_id":205707,"reputation":1,"user_id":454597,"accept_rate":91,"display_name":"TC1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51612,"favorite_count":0,"down_vote_count":0,"up_vote_count":57,"accepted_answer_id":5977866,"answer_count":9,"score":57,"last_activity_date":1672949743,"creation_date":1305202132,"question_id":5977735,"body_markdown":"Is there any way to access caller-scoped variables from an anonymous inner class in Java?\r\n\r\nHere&#39;s the sample code to understand what I need:\r\n\r\n    public Long getNumber(final String type, final String refNumber, final Long year) throws ServiceException {\r\n        Long result = null;\r\n        try {\r\n            Session session = PersistenceHelper.getSession();\r\n            session.doWork(new Work() {\r\n                    public void execute(Connection conn) throws SQLException {\r\n                        CallableStatement st = conn.prepareCall(&quot;{ CALL PACKAGE.procedure(?, ?, ?, ?) }&quot;);\r\n                        st.setString(1, type);\r\n                        st.setString(2, refNumber);\r\n                        st.setLong(3, year);\r\n                        st.registerOutParameter(4, OracleTypes.NUMBER);\r\n                        st.execute();\r\n                        result = st.getLong(4) ;\r\n                    }\r\n                });\r\n        } catch (Exception e) {\r\n            log.error(e);\r\n        }\r\n        return result;\r\n    }\r\n\r\nThe code is in a DAO service class. Obviously it doesn&#39;t compile, because it asks that `result` be final, if it is -- it doesn&#39;t compile because I try to modify a final var. I&#39;m bound to JDK5. Other than dropping the `doWork()` altogether, is there a way to set the result value from within `doWork()`?","title":"Setting outer variable from anonymous inner class","body":"<p>Is there any way to access caller-scoped variables from an anonymous inner class in Java?</p>\n\n<p>Here's the sample code to understand what I need:</p>\n\n<pre><code>public Long getNumber(final String type, final String refNumber, final Long year) throws ServiceException {\n    Long result = null;\n    try {\n        Session session = PersistenceHelper.getSession();\n        session.doWork(new Work() {\n                public void execute(Connection conn) throws SQLException {\n                    CallableStatement st = conn.prepareCall(\"{ CALL PACKAGE.procedure(?, ?, ?, ?) }\");\n                    st.setString(1, type);\n                    st.setString(2, refNumber);\n                    st.setLong(3, year);\n                    st.registerOutParameter(4, OracleTypes.NUMBER);\n                    st.execute();\n                    result = st.getLong(4) ;\n                }\n            });\n    } catch (Exception e) {\n        log.error(e);\n    }\n    return result;\n}\n</code></pre>\n\n<p>The code is in a DAO service class. Obviously it doesn't compile, because it asks that <code>result</code> be final, if it is -- it doesn't compile because I try to modify a final var. I'm bound to JDK5. Other than dropping the <code>doWork()</code> altogether, is there a way to set the result value from within <code>doWork()</code>?</p>\n"},{"tags":["java","null","httpresponse","java-11"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1597331076,"post_id":63397838,"comment_id":112103607,"body_markdown":"The interface `java.net.http.HttpResponse` is public. Otherwise you wouldn&#39;t be able to use `HttpResponse` in your code. Either create your own class that implements that interface or find some library that already did that.","body":"The interface <code>java.net.http.HttpResponse</code> is public. Otherwise you wouldn&#39;t be able to use <code>HttpResponse</code> in your code. Either create your own class that implements that interface or find some library that already did that."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1597334214,"post_id":63397838,"comment_id":112105235,"body_markdown":"as an alternate, are you sure you don&#39;t want to change the return type to `Optional&lt;HttpResponse&lt;String&gt;&gt;`?","body":"as an alternate, are you sure you don&#39;t want to change the return type to <code>Optional&lt;HttpResponse&lt;String&gt;&gt;</code>?"},{"owner":{"account_id":257944,"reputation":955,"user_id":1060926,"accept_rate":40,"display_name":"navinpai"},"score":0,"creation_date":1597385397,"post_id":63397838,"comment_id":112120600,"body_markdown":"I would still have to check the Optional in every place where the method is used. I want to avoid that,","body":"I would still have to check the Optional in every place where the method is used. I want to avoid that,"}],"answers":[{"tags":[],"owner":{"account_id":24688064,"reputation":1,"user_id":18580989,"display_name":"Philip H"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672949570,"creation_date":1672949570,"answer_id":75023864,"question_id":63397838,"body_markdown":"To help others. As mentioned by @fish, We can create a class that implements HttpResponse in which we can customize a response.\r\n\r\nExample:\r\n    \r\n\r\n    public HttpResponse&lt;String&gt; makeRequest(HttpRequest request)  {\r\n        HttpResponse&lt;String&gt; response;\r\n        try {\r\n            response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        } catch (IOException e) {\r\n            response = new HttpErrorResponse(e.getMessage());\r\n        }\r\n        return response;\r\n    }\r\n\r\n\r\n\r\n    \r\n    import javax.net.ssl.SSLSession;\r\n    import java.net.URI;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpHeaders;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import java.util.Optional;\r\n\r\n    public class HttpErrorResponse implements HttpResponse {\r\n\r\n        private int code = 500;\r\n        private String message;\r\n\r\n        public HttpErrorResponse() {\r\n            this.message = &quot;Opps! Error undefine&quot;;\r\n        }\r\n\r\n        public HttpErrorResponse(String message) {\r\n            this.message = message;\r\n        }\r\n\r\n        public HttpErrorResponse(int code, String message) {\r\n            this.code = code;\r\n            this.message = message;\r\n        }\r\n\r\n        @Override\r\n        public int statusCode() {\r\n            return this.code;\r\n        }\r\n\r\n        @Override\r\n        public HttpRequest request() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;HttpResponse&gt; previousResponse() {\r\n            return Optional.empty();\r\n        }\r\n\r\n        @Override\r\n        public HttpHeaders headers() {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public Object body() {\r\n            return getJsonBody();\r\n        }\r\n\r\n        @Override\r\n        public Optional&lt;SSLSession&gt; sslSession() {\r\n            return Optional.empty();\r\n        }\r\n\r\n        private String getJsonBody(){\r\n            return &quot;{\\n&quot; +\r\n                    &quot;\\&quot;status\\&quot;: \\&quot;ERROR_RESPONSE\\&quot;,\\n&quot; +\r\n                    &quot;\\&quot;message\\&quot;: \\&quot;&quot;+this.message+&quot;\\&quot;\\n&quot; +\r\n                    &quot;}&quot;;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Create a dummy java.net.http.HttpResponse without making an HTTP request","body":"<p>To help others. As mentioned by @fish, We can create a class that implements HttpResponse in which we can customize a response.</p>\n<p>Example:</p>\n<pre><code>public HttpResponse&lt;String&gt; makeRequest(HttpRequest request)  {\n    HttpResponse&lt;String&gt; response;\n    try {\n        response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    } catch (IOException e) {\n        response = new HttpErrorResponse(e.getMessage());\n    }\n    return response;\n}\n\n\n\n\nimport javax.net.ssl.SSLSession;\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpHeaders;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.Optional;\n\npublic class HttpErrorResponse implements HttpResponse {\n\n    private int code = 500;\n    private String message;\n\n    public HttpErrorResponse() {\n        this.message = &quot;Opps! Error undefine&quot;;\n    }\n\n    public HttpErrorResponse(String message) {\n        this.message = message;\n    }\n\n    public HttpErrorResponse(int code, String message) {\n        this.code = code;\n        this.message = message;\n    }\n\n    @Override\n    public int statusCode() {\n        return this.code;\n    }\n\n    @Override\n    public HttpRequest request() {\n        return null;\n    }\n\n    @Override\n    public Optional&lt;HttpResponse&gt; previousResponse() {\n        return Optional.empty();\n    }\n\n    @Override\n    public HttpHeaders headers() {\n        return null;\n    }\n\n    @Override\n    public Object body() {\n        return getJsonBody();\n    }\n\n    @Override\n    public Optional&lt;SSLSession&gt; sslSession() {\n        return Optional.empty();\n    }\n\n    private String getJsonBody(){\n        return &quot;{\\n&quot; +\n                &quot;\\&quot;status\\&quot;: \\&quot;ERROR_RESPONSE\\&quot;,\\n&quot; +\n                &quot;\\&quot;message\\&quot;: \\&quot;&quot;+this.message+&quot;\\&quot;\\n&quot; +\n                &quot;}&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":257944,"reputation":955,"user_id":1060926,"accept_rate":40,"display_name":"navinpai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2021,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672949570,"creation_date":1597330729,"question_id":63397838,"body_markdown":"I have a method that returns an `java.net.http.HttpResponse` object or null. This means every place I call this method I need to do a nullcheck before checking what the response is.\r\n\r\ni.e today I have:\r\n    \r\n    public HttpResponse&lt;String&gt; makeRequest(HttpRequest request) {\r\n        if (condition) {\r\n            return client.send(request, HttpResponse.BodyHandlers.ofString());\r\n        }\r\n        return null; // Want to change this to a mock instance\r\n    }\r\n\r\n\r\nTo prevent needless null checking in every place where I call this method, I wanted to create a mock `java.net.http.HttpResponse` instance so I can pass that instead of null. Ideally, maybe a request with `statuscode=500` and some Json entity as the body. How can I create a  `HttpResponse` instance without making an actual HTTP request?\r\n\r\nI can&#39;t create a `HttpResponse` instance or `HttpResponseImpl` directly because both are package-protected classes. So unsure how to proceed. This method is used across different places, so fixing this removes the need to null-check in every place.\r\n\r\nHelp much appreciated","title":"Create a dummy java.net.http.HttpResponse without making an HTTP request","body":"<p>I have a method that returns an <code>java.net.http.HttpResponse</code> object or null. This means every place I call this method I need to do a nullcheck before checking what the response is.</p>\n<p>i.e today I have:</p>\n<pre><code>public HttpResponse&lt;String&gt; makeRequest(HttpRequest request) {\n    if (condition) {\n        return client.send(request, HttpResponse.BodyHandlers.ofString());\n    }\n    return null; // Want to change this to a mock instance\n}\n</code></pre>\n<p>To prevent needless null checking in every place where I call this method, I wanted to create a mock <code>java.net.http.HttpResponse</code> instance so I can pass that instead of null. Ideally, maybe a request with <code>statuscode=500</code> and some Json entity as the body. How can I create a  <code>HttpResponse</code> instance without making an actual HTTP request?</p>\n<p>I can't create a <code>HttpResponse</code> instance or <code>HttpResponseImpl</code> directly because both are package-protected classes. So unsure how to proceed. This method is used across different places, so fixing this removes the need to null-check in every place.</p>\n<p>Help much appreciated</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1672948138,"post_id":75023597,"comment_id":132393930,"body_markdown":"Please see the [How to Ask](https://stackoverflow.com/help/how-to-ask) page. Please include the exact, entire error message.","body":"Please see the <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a> page. Please include the exact, entire error message."},{"owner":{"account_id":15691429,"reputation":1,"user_id":11322390,"display_name":"IA Nadir"},"score":0,"creation_date":1672948797,"post_id":75023597,"comment_id":132394133,"body_markdown":"i updated my question.Can you check now","body":"i updated my question.Can you check now"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1672950076,"post_id":75023597,"comment_id":132394533,"body_markdown":"My first guess would be the 4.5 yr old version of `maven-jar-plugin`, have you tried a recent one?","body":"My first guess would be the 4.5 yr old version of <code>maven-jar-plugin</code>, have you tried a recent one?"},{"owner":{"account_id":15691429,"reputation":1,"user_id":11322390,"display_name":"IA Nadir"},"score":0,"creation_date":1672950699,"post_id":75023597,"comment_id":132394720,"body_markdown":"no i did not tried it.can share the reference","body":"no i did not tried it.can share the reference"}],"owner":{"account_id":15691429,"reputation":1,"user_id":11322390,"display_name":"IA Nadir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672948775,"creation_date":1672947849,"question_id":75023597,"body_markdown":"    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;in.movie.review&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MovieReview&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;MovieReview Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;properties&gt;\r\n    \t  &lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t  &lt;maven-jar-plugin.version&gt;3.1.0&lt;/maven-jar-plugin.version&gt;\r\n    \t  \r\n      &lt;/properties&gt;\r\n\r\n\r\nI am working on maven project.But i am getting an error my first line of pom.xml.I have JDK 11 working on eclipse(Only can use eclipse).Please help me with a solution.\r\n\r\n\r\nERROR\r\n\r\nCannot access defaults field of Properties\tpom.xml\t/MovieReview\tline 1\tMaven Configuration Problem\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eRdem.png","title":"I am getting an error message using maven in eclipse in pom.xml file .Cannot access defaults field of properties","body":"<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;in.movie.review&lt;/groupId&gt;\n  &lt;artifactId&gt;MovieReview&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;MovieReview Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;properties&gt;\n      &lt;java.version&gt;11&lt;/java.version&gt;\n      &lt;maven-jar-plugin.version&gt;3.1.0&lt;/maven-jar-plugin.version&gt;\n      \n  &lt;/properties&gt;\n</code></pre>\n<p>I am working on maven project.But i am getting an error my first line of pom.xml.I have JDK 11 working on eclipse(Only can use eclipse).Please help me with a solution.</p>\n<p>ERROR</p>\n<p>Cannot access defaults field of Properties  pom.xml /MovieReview    line 1  Maven Configuration Problem</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":4784320,"reputation":441,"user_id":4868379,"accept_rate":81,"display_name":"davids182009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672948754,"creation_date":1672941292,"question_id":75022494,"body_markdown":"I&#39;m trying to create a page object from a repository query, when return the data to a List works fine, but if i try to return the data to a Page object the query fails, getting this error \r\n\r\n    [nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]\r\n    2023-01-05 12:34:09.327  WARN 20644 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42601\r\n    2023-01-05 12:34:09.331 ERROR 20644 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: syntax error at or near &quot;WHERE&quot;\r\n\r\nWhat am i doing wrong?\r\n\r\nLIST WAY (WORKS FINE)\r\n\r\nQuery\r\n\r\n    @Query(value =&quot;SELECT field1 as idSolicitud, field2 as numeroRadicado, &quot;\r\n\t\t\t+ &quot;field3 as tipoTramite, field4 as nombreTramite &quot;\r\n\t\t\t+ &quot;FROM myTable WHERE field5 = :paramet&quot;, nativeQuery = true)\r\n\tList&lt;SolicitudesInterfaceDTO&gt; buscarSolicitudes(@Param(&quot;paramet&quot;) Long paramet);\r\n\r\nDTO (Interface)\r\n\r\n    public interface SolicitudesInterfaceDTO {\r\n\t\r\n\t    Long getidSolicitud();\r\n\t\tString getnumeroRadicado();\r\n\t\tString gettipoTramite();\r\n    \tString getnombreTramite();\r\n\t    String getestado();\r\n    }\r\n\r\n\r\n\r\nExecute query\r\n\r\n    List&lt;SolicitudesInterfaceDTO&gt; solicitudesUsuario = solicitudesRepository.buscarSolicitudes(idUsuario);\r\n\r\nPAGE WAY (Doesn&#39;t work)\r\n\r\nQuery\r\n\r\n\t@Query(value =&quot;SELECT field1 as idSolicitud, field2 as numeroRadicado, &quot;\r\n\t\t\t+ &quot;field3 as tipoTramite, field4 as nombreTramite &quot;\r\n\t\t\t+ &quot;FROM myTable WHERE field5 = :paramet&quot;, nativeQuery = true)\r\n\tPage&lt;SolicitudesInterfaceDTO&gt; buscarSolicitudesPaginado(@Param(&quot;paramet&quot;) Long paramet, Pageable pageable);\r\n\r\nExecute query\r\n\r\n    Page&lt;SolicitudesInterfaceDTO&gt; paginaSolicitudesUsuario = solicitudesRepository.buscarSolicitudesPaginado(idUsuario, pageable);\r\n\r\n","title":"Create Page object - Spring boot","body":"<p>I'm trying to create a page object from a repository query, when return the data to a List works fine, but if i try to return the data to a Page object the query fails, getting this error</p>\n<pre><code>[nio-8080-exec-1] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [BIGINT] - [17]\n2023-01-05 12:34:09.327  WARN 20644 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42601\n2023-01-05 12:34:09.331 ERROR 20644 --- [nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: syntax error at or near &quot;WHERE&quot;\n</code></pre>\n<p>What am i doing wrong?</p>\n<p>LIST WAY (WORKS FINE)</p>\n<p>Query</p>\n<pre><code>@Query(value =&quot;SELECT field1 as idSolicitud, field2 as numeroRadicado, &quot;\n        + &quot;field3 as tipoTramite, field4 as nombreTramite &quot;\n        + &quot;FROM myTable WHERE field5 = :paramet&quot;, nativeQuery = true)\nList&lt;SolicitudesInterfaceDTO&gt; buscarSolicitudes(@Param(&quot;paramet&quot;) Long paramet);\n</code></pre>\n<p>DTO (Interface)</p>\n<pre><code>public interface SolicitudesInterfaceDTO {\n\n    Long getidSolicitud();\n    String getnumeroRadicado();\n    String gettipoTramite();\n    String getnombreTramite();\n    String getestado();\n}\n</code></pre>\n<p>Execute query</p>\n<pre><code>List&lt;SolicitudesInterfaceDTO&gt; solicitudesUsuario = solicitudesRepository.buscarSolicitudes(idUsuario);\n</code></pre>\n<p>PAGE WAY (Doesn't work)</p>\n<p>Query</p>\n<pre><code>@Query(value =&quot;SELECT field1 as idSolicitud, field2 as numeroRadicado, &quot;\n        + &quot;field3 as tipoTramite, field4 as nombreTramite &quot;\n        + &quot;FROM myTable WHERE field5 = :paramet&quot;, nativeQuery = true)\nPage&lt;SolicitudesInterfaceDTO&gt; buscarSolicitudesPaginado(@Param(&quot;paramet&quot;) Long paramet, Pageable pageable);\n</code></pre>\n<p>Execute query</p>\n<pre><code>Page&lt;SolicitudesInterfaceDTO&gt; paginaSolicitudesUsuario = solicitudesRepository.buscarSolicitudesPaginado(idUsuario, pageable);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672948871,"post_id":75023701,"comment_id":132394154,"body_markdown":"You shouldn&#39;t be concerning yourself with the projects directory tree at all. The only thing that&#39;s important is the tree of the deployed application. What is your goal actually?","body":"You shouldn&#39;t be concerning yourself with the projects directory tree at all. The only thing that&#39;s important is the tree of the deployed application. What is your goal actually?"},{"owner":{"account_id":27415027,"reputation":49,"user_id":20914383,"display_name":"EXEC1"},"score":0,"creation_date":1672949035,"post_id":75023701,"comment_id":132394199,"body_markdown":"Hi @g00se because the data folder doesn&#39;t exist  if I don&#39;t  run the project, so I want to put relative path as constant, and create a function to get absolute path by using relative path, so anyone else can use it when running the project","body":"Hi @g00se because the data folder doesn&#39;t exist  if I don&#39;t  run the project, so I want to put relative path as constant, and create a function to get absolute path by using relative path, so anyone else can use it when running the project"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672949454,"post_id":75023701,"comment_id":132394321,"body_markdown":"I&#39;m afraid that&#39;s not how deployed applications work. They are normally deployed as jar files and you have no means of knowing where that will end up. You should be using a directory off the user&#39;s home directory as your data repository if you need to write to it. If you don&#39;t they should be resources in a folder inside your jar","body":"I&#39;m afraid that&#39;s not how deployed applications work. They are normally deployed as jar files and you have no means of knowing where that will end up. You should be using a directory off the user&#39;s home directory as your data repository if you need to write to it. If you don&#39;t they should be resources in a folder inside your jar"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1672949848,"post_id":75023701,"comment_id":132394465,"body_markdown":"Why can&#39;t you do `..` to get the parent directory and then convert to an absolute path?","body":"Why can&#39;t you do <code>..</code> to get the parent directory and then convert to an absolute path?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672950405,"post_id":75023701,"comment_id":132394632,"body_markdown":"No that won&#39;t cut it. All that will do is tell you what the directory above the current directory is. That&#39;s not necessarily the same thing that is desired. It might not even be writable","body":"No that won&#39;t cut it. All that will do is tell you what the directory above the current directory is. That&#39;s not necessarily the same thing that is desired. It might not even be writable"}],"owner":{"account_id":27415027,"reputation":49,"user_id":20914383,"display_name":"EXEC1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672948515,"creation_date":1672948515,"question_id":75023701,"body_markdown":"This is my project structure. I want to get the data folder&#39;s absolute path(/Users/user/IdeaProjects/project/data/post/sourceData) by using relative path, but the test I&#39;m running is inside service folder, so the  absolutePath is always shows &quot;/Users/user/IdeaProjects/project/service/data/post/sourceData&quot;.\r\n\r\n```\r\nproject\r\n  -data\r\n   -post\r\n    -sourceData\r\n  -service\r\n   -test\r\n```\r\n\r\n```\r\nString relativePath = &quot;data/post/sourceData&quot;;\r\nPath absolutePath = Paths.get(relativePath).toAbsolutePath();\r\nSystem.out.println(absolutePath); \r\n```\r\n\r\nI tried to set the working directory manually, but after I run the code it still print the error result, how can I fix this?\r\n\r\n```\r\nString newWorkingDirectory = &quot;/Users/user/IdeaProjects/project/&quot;;\r\nSystem.setProperty(&quot;user.dir&quot;, newWorkingDirectory);\r\nString relativePath = &quot;data/post/sourceData&quot;;\r\nPath absolutePath = Paths.get(relativePath).toAbsolutePath();\r\nSystem.out.println(absolutePath);  // Outputs \r\n```","title":"how to change the work directory in java?","body":"<p>This is my project structure. I want to get the data folder's absolute path(/Users/user/IdeaProjects/project/data/post/sourceData) by using relative path, but the test I'm running is inside service folder, so the  absolutePath is always shows &quot;/Users/user/IdeaProjects/project/service/data/post/sourceData&quot;.</p>\n<pre><code>project\n  -data\n   -post\n    -sourceData\n  -service\n   -test\n</code></pre>\n<pre><code>String relativePath = &quot;data/post/sourceData&quot;;\nPath absolutePath = Paths.get(relativePath).toAbsolutePath();\nSystem.out.println(absolutePath); \n</code></pre>\n<p>I tried to set the working directory manually, but after I run the code it still print the error result, how can I fix this?</p>\n<pre><code>String newWorkingDirectory = &quot;/Users/user/IdeaProjects/project/&quot;;\nSystem.setProperty(&quot;user.dir&quot;, newWorkingDirectory);\nString relativePath = &quot;data/post/sourceData&quot;;\nPath absolutePath = Paths.get(relativePath).toAbsolutePath();\nSystem.out.println(absolutePath);  // Outputs \n</code></pre>\n"},{"tags":["java","iframe","selenium"],"comments":[{"owner":{"account_id":22370,"reputation":158143,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"score":1,"creation_date":1503505283,"post_id":24247490,"comment_id":78647729,"body_markdown":"Possible duplicate of [How to switch between frames in Selenium WebDriver using Java](https://stackoverflow.com/questions/10879206/how-to-switch-between-frames-in-selenium-webdriver-using-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/10879206/how-to-switch-between-frames-in-selenium-webdriver-using-java\">How to switch between frames in Selenium WebDriver using Java</a>"}],"answers":[{"comments":[{"owner":{"account_id":4619955,"reputation":1165,"user_id":3745317,"accept_rate":45,"display_name":"PraveenKS"},"score":0,"creation_date":1402934184,"post_id":24247565,"comment_id":37453005,"body_markdown":"As suggested, added below...but I am stuck with same issue yet\n\n\n\n`public static void called_funciton(String string1, String string2, String string3, String string4) {\t\tdriver.switchTo().frame(driver.findElement(By.name(&quot;iFrameTitle&quot;)));\n\t\t\n\t\tdriver.findElement(By.name(&quot;Element1 Name&quot;)).sendKeys(string1);\n\t\tdriver.findElement(By.id(&quot;Element2 ID&quot;)).sendKeys(string2);\n\t\tdriver.findElement(By.id(&quot;Element3 ID&quot;)).sendKeys(string3);\n\t\tdriver.findElement(By.id(&quot;Element4 ID&quot;)).sendKeys(string4);\n\t\tdriver.findElement(By.name(&quot;submitButton&quot;)).click();\n\t}`","body":"As suggested, added below...but I am stuck with same issue yet    <code>public static void called_funciton(String string1, String string2, String string3, String string4) {\t\tdriver.switchTo().frame(driver.findElement(By.name(&quot;iFram&zwnj;&#8203;eTitle&quot;))); \t\t \t\tdriver.findElement(By.name(&quot;Element1 Name&quot;)).sendKeys(string1); \t\tdriver.findElement(By.id(&quot;Element2 ID&quot;)).sendKeys(string2); \t\tdriver.findElement(By.id(&quot;Element3 ID&quot;)).sendKeys(string3); \t\tdriver.findElement(By.id(&quot;Element4 ID&quot;)).sendKeys(string4); \t\tdriver.findElement(By.name(&quot;submitButton&quot;)).click(); \t}</code>"},{"owner":{"account_id":4502658,"reputation":1240,"user_id":3660850,"display_name":"SDET"},"score":0,"creation_date":1402934895,"post_id":24247565,"comment_id":37453418,"body_markdown":"Try putting the new switchTo line as the very first line in the code block.  I.e. before `WebDriverWait wait_iframe` before you do anything else.","body":"Try putting the new switchTo line as the very first line in the code block.  I.e. before <code>WebDriverWait wait_iframe</code> before you do anything else."},{"owner":{"account_id":4619955,"reputation":1165,"user_id":3745317,"accept_rate":45,"display_name":"PraveenKS"},"score":0,"creation_date":1402935635,"post_id":24247565,"comment_id":37453756,"body_markdown":"Thank you, this time I am able to move a step further, however stuck with an exception:\n\n\n\n`Exception in thread &quot;main&quot; java.lang.NullPointerException\n\tat roll_forward_test.account_creation.thistle_home(xyz_creation.java:680)\n\tat roll_forward_test.account_creation.main(xyz_creation.java:463)`\n\n\n\nthe line **(xyz_creation.java:680)** refers to `driver.findElement(By.name(&quot;Element1 Name&quot;)).sendKeys(string1);` on the called function\n\n\nand \n\n\n\nthe line **(xyz_creation.java:463)** refers to the calling function.\n\n`calling_function(S1, S2, S3, S4);`\n\nplease advice!","body":"Thank you, this time I am able to move a step further, however stuck with an exception:    <code>Exception in thread &quot;main&quot; java.lang.NullPointerException \tat roll_forward_test.account_creation.thistle_home(xyz_creation&zwnj;&#8203;.java:680) \tat roll_forward_test.account_creation.main(xyz_creation.java:46&zwnj;&#8203;3)</code>    the line <b>(xyz_creation.java:680)</b> refers to <code>driver.findElement(By.name(&quot;Element1 Name&quot;)).sendKeys(string1);</code> on the called function   and     the line <b>(xyz_creation.java:463)</b> refers to the calling function.  <code>calling_function(S1, S2, S3, S4);</code>  please advice!"},{"owner":{"account_id":4502658,"reputation":1240,"user_id":3660850,"display_name":"SDET"},"score":0,"creation_date":1402935968,"post_id":24247565,"comment_id":37453910,"body_markdown":"If your original question about accessing elements in iframes has been answered, then please mark this answer as accepted and we can look at the subsequent issues.","body":"If your original question about accessing elements in iframes has been answered, then please mark this answer as accepted and we can look at the subsequent issues."},{"owner":{"account_id":1931780,"reputation":4058,"user_id":1741027,"accept_rate":81,"display_name":"saeta"},"score":0,"creation_date":1600555657,"post_id":24247565,"comment_id":113126044,"body_markdown":"I spent hours trying to find a solution, you put me on the right path. Thank you!","body":"I spent hours trying to find a solution, you put me on the right path. Thank you!"}],"tags":[],"owner":{"account_id":4502658,"reputation":1240,"user_id":3660850,"display_name":"SDET"},"comment_count":5,"down_vote_count":0,"up_vote_count":95,"is_accepted":true,"score":95,"last_activity_date":1402933669,"creation_date":1402933669,"answer_id":24247565,"question_id":24247490,"body_markdown":"Before you try searching for the elements within the iframe you will have to switch Selenium focus to the iframe.\r\n\r\nTry this before searching for the elements within the iframe:\r\n\r\n    driver.switchTo().frame(driver.findElement(By.name(&quot;iFrameTitle&quot;)));","title":"Find elements inside forms and iframe using Java and Selenium WebDriver","body":"<p>Before you try searching for the elements within the iframe you will have to switch Selenium focus to the iframe.</p>\n\n<p>Try this before searching for the elements within the iframe:</p>\n\n<pre><code>driver.switchTo().frame(driver.findElement(By.name(\"iFrameTitle\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1203915,"reputation":10209,"user_id":1174024,"accept_rate":85,"display_name":"Nicholas DiPiazza"},"score":7,"creation_date":1506058750,"post_id":24254740,"comment_id":79674770,"body_markdown":"+1 for the `switchTo().defaultContent()` i&#39;m guessing that&#39;s how you unselect the frame after your work is done.","body":"+1 for the <code>switchTo().defaultContent()</code> i&#39;m guessing that&#39;s how you unselect the frame after your work is done."}],"tags":[],"owner":{"account_id":4622065,"reputation":691,"user_id":3746842,"display_name":"YouNIC Technolabs"},"comment_count":1,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1446029047,"creation_date":1402971039,"answer_id":24254740,"question_id":24247490,"body_markdown":"When using an iframe, you will first have to switch to the iframe, before selecting the elements of that iframe\r\n\r\nYou can do it using:\r\n\r\n    driver.switchTo().frame(driver.findElement(By.id(&quot;frameId&quot;)));\r\n    //do your stuff\r\n    driver.switchTo().defaultContent();\r\n\r\nIn case if your frameId is dynamic, and you only have one iframe, you can use something like:\r\n\r\n    driver.switchTo().frame(driver.findElement(By.tagName(&quot;iframe&quot;)));\r\n\r\n\r\n","title":"Find elements inside forms and iframe using Java and Selenium WebDriver","body":"<p>When using an iframe, you will first have to switch to the iframe, before selecting the elements of that iframe</p>\n\n<p>You can do it using:</p>\n\n<pre><code>driver.switchTo().frame(driver.findElement(By.id(\"frameId\")));\n//do your stuff\ndriver.switchTo().defaultContent();\n</code></pre>\n\n<p>In case if your frameId is dynamic, and you only have one iframe, you can use something like:</p>\n\n<pre><code>driver.switchTo().frame(driver.findElement(By.tagName(\"iframe\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9212975,"reputation":5137,"user_id":6845383,"display_name":"Moshe Slavin"},"score":1,"creation_date":1546426532,"post_id":54004944,"comment_id":94846779,"body_markdown":"this is a **Java** question!","body":"this is a <b>Java</b> question!"}],"tags":[],"owner":{"account_id":14609033,"reputation":236,"user_id":10551009,"display_name":"Quentin Martinez"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1571893211,"creation_date":1546426002,"answer_id":54004944,"question_id":24247490,"body_markdown":"On *Selenium &gt;= 3.41 (C#)* the rigth syntax is:\r\n\r\n    webDriver = webDriver.SwitchTo().Frame(webDriver.FindElement(By.Name(&quot;icontent&quot;)));","title":"Find elements inside forms and iframe using Java and Selenium WebDriver","body":"<p>On <em>Selenium >= 3.41 (C#)</em> the rigth syntax is:</p>\n\n<pre><code>webDriver = webDriver.SwitchTo().Frame(webDriver.FindElement(By.Name(\"icontent\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7865466,"reputation":575,"user_id":9142561,"accept_rate":60,"display_name":"nick318"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602882173,"creation_date":1602882173,"answer_id":64396355,"question_id":24247490,"body_markdown":"By using https://github.com/nick318/FindElementInFrames\r\nYou can find webElement across all frames:\r\n\r\n    SearchByFramesFactory searchFactory = new SearchByFramesFactory(driver);\r\n    SearchByFrames searchInFrame = searchFactory.search(() -&gt; driver.findElement(By.tagName(&quot;body&quot;)));\r\n    Optional&lt;WebElement&gt; elem = searchInFrame.getElem();","title":"Find elements inside forms and iframe using Java and Selenium WebDriver","body":"<p>By using <a href=\"https://github.com/nick318/FindElementInFrames\" rel=\"nofollow noreferrer\">https://github.com/nick318/FindElementInFrames</a>\nYou can find webElement across all frames:</p>\n<pre><code>SearchByFramesFactory searchFactory = new SearchByFramesFactory(driver);\nSearchByFrames searchInFrame = searchFactory.search(() -&gt; driver.findElement(By.tagName(&quot;body&quot;)));\nOptional&lt;WebElement&gt; elem = searchInFrame.getElem();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":1,"creation_date":1673030753,"post_id":75023646,"comment_id":132413609,"body_markdown":"This may work when using python,  but since OP asked expressly about Java it is not really an answer to their question...","body":"This may work when using python,  but since OP asked expressly about Java it is not really an answer to their question..."}],"tags":[],"owner":{"account_id":23757960,"reputation":59,"user_id":17773810,"display_name":"saitamatechno"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1672948503,"creation_date":1672948203,"answer_id":75023646,"question_id":24247490,"body_markdown":"For python users:\r\n\r\n    driver.switch_to.frame(driver.find_element(By.XPATH, &quot;/html/body/div[3]/div[2]/div/div[1]/div[6]/div[2]/div/iframe&quot;))\r\n\r\nAnd also switch back:\r\n\r\n    driver.switch_to.default_content()\r\n\r\n\r\n","title":"Find elements inside forms and iframe using Java and Selenium WebDriver","body":"<p>For python users:</p>\n<pre><code>driver.switch_to.frame(driver.find_element(By.XPATH, &quot;/html/body/div[3]/div[2]/div/div[1]/div[6]/div[2]/div/iframe&quot;))\n</code></pre>\n<p>And also switch back:</p>\n<pre><code>driver.switch_to.default_content()\n</code></pre>\n"}],"owner":{"account_id":4619955,"reputation":1165,"user_id":3745317,"accept_rate":45,"display_name":"PraveenKS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138345,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":24247565,"answer_count":5,"score":60,"last_activity_date":1672948503,"creation_date":1402933449,"question_id":24247490,"body_markdown":"I&#39;m trying to access elements that are present under `&lt;form&gt; &lt;iFrame&gt; &lt;form&gt; elements &lt;/form&gt; &lt;/iFrame&gt; &lt;/form&gt;`.\r\n\r\nCould you help me on accessing these *&#39;elements&#39;*, which I&#39;m working with Selenium Webdriver and JAVA?\r\n\r\n**Issue Encountered:** Able to reach the destination page (where the above elements are present), but those elements are not recognized with my code.\r\n\r\n\r\n**Overview of XML structure:**\r\n\r\n    &lt;body&gt;\r\n    \t&lt;form action=&quot;https://abcd/efgh/&quot; name=&quot;outerForm&quot; method=&quot;post&quot; target=&quot;iFrameTitle&quot;&gt;\r\n    \t\t&lt;iframe width=&quot;700&quot; height=&quot;600&quot; src=&quot;&quot; title=&quot;Frame for Java Test&quot; name=&quot;iFrameTitle&quot; scrolling=&quot;auto&quot; frameborder=&quot;0&quot;&gt;\r\n    \t\t\t&lt;form id=&quot;innerFormID&quot; name=&quot;innerForm&quot; action=&quot;/xxx/xxxx/yyyy/zzzz/&quot; method=&quot;post&quot; autocomplete=&quot;off&quot;&gt;\r\n    \t\t\t\t&lt;fieldset id=&quot;ncDetailsInner&quot;&gt;\r\n    \t\t\t\t\t&lt;div id=&quot;element1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;label for=&quot;label1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;abbr title=&quot;Required field&quot;&gt;*&lt;/abbr&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t&lt;input name=&quot;label2&quot; type=&quot;text&quot; maxlength=&quot;30&quot; id=&quot;cardHolder&quot; value=&quot;&quot; &gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\r\n    \t\t\t\t\t&lt;div id=&quot;element2&quot;&gt;\r\n    \t\t\t\t\t\t&lt;label for=&quot;label3&quot;&gt;Label3 &lt;abbr title=&quot;Required field&quot;&gt;*&lt;/abbr&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t&lt;div id=&quot;element3&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;label for=&quot;label4&quot;&gt;Label4&lt;abbr title=&quot;Required field&quot;&gt;*&lt;/abbr&gt;&lt;/label&gt;\r\n    \t\t\t\t\t\t\t&lt;input id=&quot;label5&quot; name=&quot;labelname5&quot; type=&quot;text&quot; maxlength=&quot;19&quot; value=&quot;&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\r\n    \t\t\t\t\t\t&lt;div id=&quot;element4&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;label for=&quot;label6&quot;&gt;Label6&lt;/label&gt;\r\n    \t\t\t\t\t\t\t&lt;input id=&quot;label7&quot; name=&quot;labelname7&quot; type=&quot;text&quot; size=&quot;2&quot; maxlength=&quot;2&quot; value=&quot;&quot; class=&quot;text disabled&quot; disabled=&quot;&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t\t&lt;/div&gt;\r\n    \t\t\t\t&lt;/fieldset&gt;\r\n    \t\t\t&lt;/form&gt;\t\r\n    \t\t\r\n    \t\t&lt;/iframe&gt;\r\n    \t&lt;/form&gt;\r\n    &lt;/body&gt;\r\n\r\n\r\n**Code Extract:**\r\n\r\n    WebDriverWait wait_iframe = new WebDriverWait(driver, 20000);\r\n    \r\n    wait_iframe.until(ExpectedConditions.visibilityOfElementLocated((By.id(&quot;element2&quot;))));\r\n    \r\n    calling_function(sh1.getCell(col + 10, row).getContents(), \r\n    \t\t\t\tsh1.getCell(col + 11, row).getContents(),\r\n    \t\t\t\tsh1.getCell(col + 12, row).getContents(), \r\n    \t\t\t\tsh1.getCell(col + 14, row).getContents());\t\t\t\t\t\t\r\n \t\t\t\t\r\n    public static void called_funciton(String string1, String string2,\r\n    \t\tString string3, String string4) {\r\n    \t\tdriver.findElement(By.name(&quot;Element1 Name&quot;)).sendKeys(string1);\r\n    \t\tdriver.findElement(By.id(&quot;Element2 ID&quot;)).sendKeys(string2);\r\n    \t\tdriver.findElement(By.id(&quot;Element3 ID&quot;)).sendKeys(string3);\r\n    \t\tdriver.findElement(By.id(&quot;Element4 ID&quot;)).sendKeys(string4);\r\n    \t\tdriver.findElement(By.name(&quot;submitButton&quot;)).click();\r\n    \t}\r\n\r\nDo let me know if require any further details!","title":"Find elements inside forms and iframe using Java and Selenium WebDriver","body":"<p>I'm trying to access elements that are present under <code>&lt;form&gt; &lt;iFrame&gt; &lt;form&gt; elements &lt;/form&gt; &lt;/iFrame&gt; &lt;/form&gt;</code>.</p>\n\n<p>Could you help me on accessing these <em>'elements'</em>, which I'm working with Selenium Webdriver and JAVA?</p>\n\n<p><strong>Issue Encountered:</strong> Able to reach the destination page (where the above elements are present), but those elements are not recognized with my code.</p>\n\n<p><strong>Overview of XML structure:</strong></p>\n\n<pre><code>&lt;body&gt;\n    &lt;form action=\"https://abcd/efgh/\" name=\"outerForm\" method=\"post\" target=\"iFrameTitle\"&gt;\n        &lt;iframe width=\"700\" height=\"600\" src=\"\" title=\"Frame for Java Test\" name=\"iFrameTitle\" scrolling=\"auto\" frameborder=\"0\"&gt;\n            &lt;form id=\"innerFormID\" name=\"innerForm\" action=\"/xxx/xxxx/yyyy/zzzz/\" method=\"post\" autocomplete=\"off\"&gt;\n                &lt;fieldset id=\"ncDetailsInner\"&gt;\n                    &lt;div id=\"element1\"&gt;\n                        &lt;label for=\"label1\"&gt;\n                        &lt;abbr title=\"Required field\"&gt;*&lt;/abbr&gt;&lt;/label&gt;\n                        &lt;input name=\"label2\" type=\"text\" maxlength=\"30\" id=\"cardHolder\" value=\"\" &gt;\n                    &lt;/div&gt;\n\n                    &lt;div id=\"element2\"&gt;\n                        &lt;label for=\"label3\"&gt;Label3 &lt;abbr title=\"Required field\"&gt;*&lt;/abbr&gt;&lt;/label&gt;\n                        &lt;div id=\"element3\"&gt;\n                            &lt;label for=\"label4\"&gt;Label4&lt;abbr title=\"Required field\"&gt;*&lt;/abbr&gt;&lt;/label&gt;\n                            &lt;input id=\"label5\" name=\"labelname5\" type=\"text\" maxlength=\"19\" value=\"\"&gt;\n                        &lt;/div&gt;\n\n                        &lt;div id=\"element4\"&gt;\n                            &lt;label for=\"label6\"&gt;Label6&lt;/label&gt;\n                            &lt;input id=\"label7\" name=\"labelname7\" type=\"text\" size=\"2\" maxlength=\"2\" value=\"\" class=\"text disabled\" disabled=\"\"&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/fieldset&gt;\n            &lt;/form&gt; \n\n        &lt;/iframe&gt;\n    &lt;/form&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><strong>Code Extract:</strong></p>\n\n<pre><code>WebDriverWait wait_iframe = new WebDriverWait(driver, 20000);\n\nwait_iframe.until(ExpectedConditions.visibilityOfElementLocated((By.id(\"element2\"))));\n\ncalling_function(sh1.getCell(col + 10, row).getContents(), \n                sh1.getCell(col + 11, row).getContents(),\n                sh1.getCell(col + 12, row).getContents(), \n                sh1.getCell(col + 14, row).getContents());                      \n\npublic static void called_funciton(String string1, String string2,\n        String string3, String string4) {\n        driver.findElement(By.name(\"Element1 Name\")).sendKeys(string1);\n        driver.findElement(By.id(\"Element2 ID\")).sendKeys(string2);\n        driver.findElement(By.id(\"Element3 ID\")).sendKeys(string3);\n        driver.findElement(By.id(\"Element4 ID\")).sendKeys(string4);\n        driver.findElement(By.name(\"submitButton\")).click();\n    }\n</code></pre>\n\n<p>Do let me know if require any further details!</p>\n"},{"tags":["java","mongodb","spring-boot","mockito","spring-mongodb"],"answers":[{"tags":[],"owner":{"account_id":27445872,"reputation":1,"user_id":20939661,"display_name":"Villera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672948074,"creation_date":1672948074,"answer_id":75023625,"question_id":72979821,"body_markdown":"    public class MongoDBTest {\r\n                \r\n             @Test\r\n             public void testListCollectionNames() {\r\n                    // Set up the mock MongoDatabase\r\n                    MongoDatabase mockDatabase = Mockito.mock(MongoDatabase.class);\r\n                    // Set up the mock MongoIterable&lt;String&gt;\r\n                    MongoIterable&lt;String&gt; mockIterable = Mockito.mock(MongoIterable.class);\r\n            \r\n            \r\n         Mockito.when(mockDatabase.listCollectionNames()).thenReturn(mockIterable);\r\n                 \r\n            final var collectionNames = new ArrayList&lt;&gt;();\r\n            collectionNames.add(&quot;testCollection&quot;)\r\n            doReturn(collectionNames).when(mockIterable).into(new ArrayList&lt;&gt;());\r\n                    \r\n                \r\n                    // Get the list of collection names\r\n                    List&lt;String&gt; collectionNames = mockDatabase.listCollectionNames().into(new ArrayList&lt;&gt;());\r\n                \r\n                    // Assert that the test collection is in the list\r\n                    assertEquals(true, collectionNames.contains(&quot;testCollection&quot;));\r\n                  }\r\n                }\r\n\r\n\r\n\r\n\r\n","title":"How do you test listCollections in Mongo","body":"<pre><code>public class MongoDBTest {\n            \n         @Test\n         public void testListCollectionNames() {\n                // Set up the mock MongoDatabase\n                MongoDatabase mockDatabase = Mockito.mock(MongoDatabase.class);\n                // Set up the mock MongoIterable&lt;String&gt;\n                MongoIterable&lt;String&gt; mockIterable = Mockito.mock(MongoIterable.class);\n        \n        \n     Mockito.when(mockDatabase.listCollectionNames()).thenReturn(mockIterable);\n             \n        final var collectionNames = new ArrayList&lt;&gt;();\n        collectionNames.add(&quot;testCollection&quot;)\n        doReturn(collectionNames).when(mockIterable).into(new ArrayList&lt;&gt;());\n                \n            \n                // Get the list of collection names\n                List&lt;String&gt; collectionNames = mockDatabase.listCollectionNames().into(new ArrayList&lt;&gt;());\n            \n                // Assert that the test collection is in the list\n                assertEquals(true, collectionNames.contains(&quot;testCollection&quot;));\n              }\n            }\n</code></pre>\n"}],"owner":{"account_id":4273979,"reputation":78,"user_id":3495144,"accept_rate":100,"display_name":"Anirudh Ramesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672948074,"creation_date":1657798292,"question_id":72979821,"body_markdown":"I have a spring-boot project, with `spring-data-mongo` dependency. Everything is working great. I have a service which basically does a listCollections on one of the DB and clears the content of all the collections in that DB.\r\n\r\nCode:\r\n\r\n```java\r\n  public void clearContentsOfAllCollections() {\r\n    MongoDatabase db = this.mongoTemplate.getMongoDbFactory().getDb(&quot;any-db-name&quot;);\r\n    LOGGER.info(&quot;=================================================================&quot;);\r\n    LOGGER.info(&quot;Clearing collections in DB - {}&quot;, db.getName());\r\n    MongoIterable&lt;String&gt; collectionNames = db.listCollectionNames();\r\n    for (final String collectionName : collectionNames) {\r\n      LOGGER.info(&quot;Clearing collection - {}&quot;, collectionName);\r\n      db.getCollection(collectionName).deleteMany(new Document());\r\n    }\r\n    LOGGER.info(&quot;Successfully cleared DB - {}&quot;, db.getName());\r\n    LOGGER.info(&quot;=================================================================&quot;);\r\n  }\r\n\r\n``` \r\n\r\nWhen I try to write unit test, this is what I have\r\n\r\n```java\r\n  @Test\r\n  public void dropDBTest() {\r\n    SimpleMongoClientDbFactory simpleMongoClientDbFactory = Mockito.mock(SimpleMongoClientDbFactory.class);\r\n    MongoDatabase mongoDatabase = Mockito.mock(MongoDatabase.class);\r\n    Mockito.when(mongoTemplate.getMongoDbFactory()).thenReturn(simpleMongoClientDbFactory);\r\n    Mockito.when(simpleMongoClientDbFactory.getDb(&quot;db-name&quot;))\r\n      .thenReturn(mongoDatabase);\r\n\r\n  // How do I convert this array list into a Mongo iterable \r\n     List&lt;String&gt; collectionList = Arrays.asList(&quot;collection-1&quot;, &quot;collection-2&quot;);\r\n  }\r\n```\r\n\r\nThe problem is - I do not know how I can return the content of collectionList, when I have to mock `database.listCollectionNames()`  (from `package com.mongodb.client`).\r\n\r\nMorever, the iterable.iterator() is of type `MongoCursor`. How do I test this? Am I missing something?","title":"How do you test listCollections in Mongo","body":"<p>I have a spring-boot project, with <code>spring-data-mongo</code> dependency. Everything is working great. I have a service which basically does a listCollections on one of the DB and clears the content of all the collections in that DB.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void clearContentsOfAllCollections() {\n    MongoDatabase db = this.mongoTemplate.getMongoDbFactory().getDb(&quot;any-db-name&quot;);\n    LOGGER.info(&quot;=================================================================&quot;);\n    LOGGER.info(&quot;Clearing collections in DB - {}&quot;, db.getName());\n    MongoIterable&lt;String&gt; collectionNames = db.listCollectionNames();\n    for (final String collectionName : collectionNames) {\n      LOGGER.info(&quot;Clearing collection - {}&quot;, collectionName);\n      db.getCollection(collectionName).deleteMany(new Document());\n    }\n    LOGGER.info(&quot;Successfully cleared DB - {}&quot;, db.getName());\n    LOGGER.info(&quot;=================================================================&quot;);\n  }\n\n</code></pre>\n<p>When I try to write unit test, this is what I have</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Test\n  public void dropDBTest() {\n    SimpleMongoClientDbFactory simpleMongoClientDbFactory = Mockito.mock(SimpleMongoClientDbFactory.class);\n    MongoDatabase mongoDatabase = Mockito.mock(MongoDatabase.class);\n    Mockito.when(mongoTemplate.getMongoDbFactory()).thenReturn(simpleMongoClientDbFactory);\n    Mockito.when(simpleMongoClientDbFactory.getDb(&quot;db-name&quot;))\n      .thenReturn(mongoDatabase);\n\n  // How do I convert this array list into a Mongo iterable \n     List&lt;String&gt; collectionList = Arrays.asList(&quot;collection-1&quot;, &quot;collection-2&quot;);\n  }\n</code></pre>\n<p>The problem is - I do not know how I can return the content of collectionList, when I have to mock <code>database.listCollectionNames()</code>  (from <code>package com.mongodb.client</code>).</p>\n<p>Morever, the iterable.iterator() is of type <code>MongoCursor</code>. How do I test this? Am I missing something?</p>\n"},{"tags":["java","testng-dataprovider","testng-annotation-test","utility-method","excel-reader"],"answers":[{"comments":[{"owner":{"account_id":27362158,"reputation":1,"user_id":20937203,"display_name":"Indu Devendran"},"score":0,"creation_date":1672987055,"post_id":75023599,"comment_id":132400988,"body_markdown":"can you explain more clearly I don&#39;t understand how to read row data from excel","body":"can you explain more clearly I don&#39;t understand how to read row data from excel"},{"owner":{"account_id":8979189,"reputation":55,"user_id":6694947,"display_name":"mazi"},"score":0,"creation_date":1673035151,"post_id":75023599,"comment_id":132414777,"body_markdown":"I just used your code example to read the data rows. And if you want to only read a single data row, then use your sample but in the for loop, don&#39;t go until the end (sheet.getLastRowNum();) but only until your deired row is reached.\nfor (int i = 0; i &lt; DESIRED_ROW; i++)","body":"I just used your code example to read the data rows. And if you want to only read a single data row, then use your sample but in the for loop, don&#39;t go until the end (sheet.getLastRowNum();) but only until your deired row is reached. for (int i = 0; i &lt; DESIRED_ROW; i++)"}],"tags":[],"owner":{"account_id":8979189,"reputation":55,"user_id":6694947,"display_name":"mazi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672947864,"creation_date":1672947864,"answer_id":75023599,"question_id":75019618,"body_markdown":"Just return the 3rd row after reading the data\r\n````\r\nfor (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\r\n                for (int k = 0; k &lt; sheet.getRow(0).getLastCellNum(); k++) {\r\n                    data[i][k] = fmt.formatCellValue(sheet.getRow(i + 1).getCell(k));\r\n                }\r\n            }\r\nif (i&gt;2) \r\n  for k...\r\n  return data[2,k]\r\n````\r\nor break your loop after the 3rd row has been read if you don&#39;t need to fetch all rows.\r\n\r\n","title":"How to fetch single row from excel sheet and pass into testng data provider using java","body":"<p>Just return the 3rd row after reading the data</p>\n<pre><code>for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\n                for (int k = 0; k &lt; sheet.getRow(0).getLastCellNum(); k++) {\n                    data[i][k] = fmt.formatCellValue(sheet.getRow(i + 1).getCell(k));\n                }\n            }\nif (i&gt;2) \n  for k...\n  return data[2,k]\n</code></pre>\n<p>or break your loop after the 3rd row has been read if you don't need to fetch all rows.</p>\n"}],"owner":{"account_id":27362158,"reputation":1,"user_id":20937203,"display_name":"Indu Devendran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672947864,"creation_date":1672927343,"question_id":75019618,"body_markdown":"I have a scenario to fetch entire 3rd row data from excel sheet and pass to data provider. I can fetch all the row available in excel sheet (Please find the code below). But, I want to fetch nth row of data and pass to data provider annotation. Thanks in advance\r\n\r\nUtility class:\r\n\r\n```\r\npublic static Object[][] getTestData(String sheetName) {\r\n\t\tObject[][] data = null;\r\n\t\tDataFormatter fmt = new DataFormatter();\r\n\t\ttry (Workbook workbook = new XSSFWorkbook(\r\n\t\t\t\tnew FileInputStream(&quot;path&quot;))) {\r\n\t\t\tSheet sheet = workbook.getSheet(sheetName);\r\n\t\t\tdata = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\r\n\t\t\tfor (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\r\n\t\t\t\tfor (int k = 0; k &lt; sheet.getRow(0).getLastCellNum(); k++) {\r\n\t\t\t\t\tdata[i][k] = fmt.formatCellValue(sheet.getRow(i + 1).getCell(k));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n```\r\n\r\n\r\n\r\n\r\nI am preparing utlity class for fetching single row of data and passing into data provider annotation in testng","title":"How to fetch single row from excel sheet and pass into testng data provider using java","body":"<p>I have a scenario to fetch entire 3rd row data from excel sheet and pass to data provider. I can fetch all the row available in excel sheet (Please find the code below). But, I want to fetch nth row of data and pass to data provider annotation. Thanks in advance</p>\n<p>Utility class:</p>\n<pre><code>public static Object[][] getTestData(String sheetName) {\n        Object[][] data = null;\n        DataFormatter fmt = new DataFormatter();\n        try (Workbook workbook = new XSSFWorkbook(\n                new FileInputStream(&quot;path&quot;))) {\n            Sheet sheet = workbook.getSheet(sheetName);\n            data = new Object[sheet.getLastRowNum()][sheet.getRow(0).getLastCellNum()];\n            for (int i = 0; i &lt; sheet.getLastRowNum(); i++) {\n                for (int k = 0; k &lt; sheet.getRow(0).getLastCellNum(); k++) {\n                    data[i][k] = fmt.formatCellValue(sheet.getRow(i + 1).getCell(k));\n                }\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return data;\n    }\n</code></pre>\n<p>I am preparing utlity class for fetching single row of data and passing into data provider annotation in testng</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":22071645,"reputation":73,"user_id":16332555,"display_name":"MASAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661456616,"creation_date":1661456616,"answer_id":73492966,"question_id":73461304,"body_markdown":"    WebSettings.setDomStorageEnabled(true);\r\nThis did the trick ","title":"&#39;Unsupported browser&#39; when accessing router page","body":"<pre><code>WebSettings.setDomStorageEnabled(true);\n</code></pre>\n<p>This did the trick</p>\n"}],"owner":{"account_id":22071645,"reputation":73,"user_id":16332555,"display_name":"MASAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73492966,"answer_count":1,"score":0,"last_activity_date":1672947821,"creation_date":1661268150,"question_id":73461304,"body_markdown":"Today, I wanted to make an app that accesses the router&#39;s web page to make managing it easier. However, my router said that [the web browser that I&#39;m using is unsupported][1].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SMNgg.jpg\r\n\r\nHere&#39;s the activity:\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.util.Log;\r\nimport android.webkit.WebResourceRequest;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\nimport android.widget.TextView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private WebView webView;\r\n    private TextView textView;\r\n\r\n\r\n\r\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = findViewById(R.id.webView);\r\n        webView.loadUrl(&quot;192.168.1.1&quot;);\r\n        webView.setWebViewClient(new WebViewClient() {\r\n\r\n            //API Level under 24\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView webView, String url){\r\n                return false;\r\n            }\r\n\r\n            //API Level over 24\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView webView, WebResourceRequest request) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n        urlBar();\r\n        debugFinish();\r\n    }\r\n\r\n\r\n    public void debugFinish() {\r\n        Log.d(&quot;MyApplication&quot;, &quot;Finishing in 5 seconds.&quot;);\r\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 4 seconds.&quot;),1000);\r\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 3 seconds.&quot;),2000);\r\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 2 seconds.&quot;),3000);\r\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 1 second.&quot;),4000);\r\n        new Handler().postDelayed(() -&gt; {\r\n            Log.d(&quot;MyApplication&quot;, &quot;Finished.&quot;);\r\n            finish();\r\n        },5000);\r\n    }\r\n\r\n    public void urlBar() {\r\n        new Handler().postDelayed(() -&gt; {\r\n            String webUrl = webView.getUrl();\r\n            textView = findViewById(R.id.text);\r\n            textView.setText(webUrl);\r\n            urlBar();\r\n        },100);\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd here are the logs for the latest session:\r\n\r\n```\r\n08/23 18:19:57: Launching &#39;app&#39; on samsung SM-A528B.\r\nInstall successfully finished in 325 ms.\r\n$ adb shell am start -n &quot;com.censored.censored/com.censored.censored.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -D\r\nWaiting for application to come online: com.censored.censored\r\nConnected to process 24423 on device &#39;samsung-sm_a528b-serialshoudbehere&#39;.\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nV/studio.deploy: Startup agent attached to VM\r\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-1f2f27f8.jar\r\nW/outerpageacces: DexFile /data/data/com.censored.censored/code_cache/.studio/instruments-1f2f27f8.jar is in boot class path but is not in a known location\r\nV/studio.deploy: Applying transforms with cached classes\r\nW/outerpageacces: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/outerpageacces: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/ActivityThread: handleBindApplication()++ app=com.censored.censored\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10759; state: ENABLED\r\nW/ActivityThread: Application com.censored.censored is waiting for the debugger on port 8100...\r\nI/System.out: Sending WAIT chunk\r\nConnecting to com.censored.censored\r\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\r\nV/studio.deploy: Startup agent attached to VM\r\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-1f2f27f8.jar\r\nW/outerpageacces: DexFile /data/data/com.censored.censored/code_cache/.studio/instruments-1f2f27f8.jar is in boot class path but is not in a known location\r\nV/studio.deploy: Applying transforms with cached classes\r\nW/outerpageacces: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\r\nW/outerpageacces: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\r\nD/ActivityThread: handleBindApplication()++ app=com.censored.censored\r\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10759; state: ENABLED\r\nW/ActivityThread: Application com.censored.censored is waiting for the debugger on port 8100...\r\nI/System.out: Sending WAIT chunk\r\nI/System.out: Debugger has connected\r\nI/System.out: waiting for debugger to settle...\r\nConnected to the target VM, address: &#39;localhost:59305&#39;, transport: &#39;socket&#39;\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: waiting for debugger to settle...\r\nI/System.out: debugger has settled (1429)\r\nW/ActivityThread: Slow operation: 2612ms so far, now at handleBindApplication: Before HardwareRenderer\r\nW/ActivityThread: Slow operation: 2621ms so far, now at handleBindApplication: After HardwareRenderer\r\nW/ziparchive: Unable to open &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/classes3.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~as9uWR63HKmuwYZvqPYU3Q==/com.censored.censored-0ouQJlouEDKWFYvo3am4mg==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~as9uWR63HKmuwYZvqPYU3Q==/com.censored.censored-0ouQJlouEDKWFYvo3am4mg==/base.dm&#39;: No such file or directory\r\nV/GraphicsEnvironment: ANGLE Developer option for &#39;com.censored.censored&#39; set to: &#39;default&#39;\r\nV/GraphicsEnvironment: Updatable production driver is not supported on the device.\r\nD/LoadedApk: LoadedApk::makeApplication() appContext.mOpPackageName=com.censored.censored appContext.mBasePackageName=com.censored.censored\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\nD/ActivityThread: handleBindApplication() --\r\nD/OpenGLRenderer: RenderThread::requireGlContext()\r\nI/AdrenoGLES-0: QUALCOMM build                   : cac6e6f805, I5187d04b75\r\n    Build Date                       : 11/22/21\r\n    OpenGL ES Shader Compiler Version: EV031.35.01.10\r\n    Local Branch                     : \r\n    Remote Branch                    : \r\n    Remote Branch                    : \r\n    Reconstruct Branch               : \r\nI/AdrenoGLES-0: Build Config                     : S P 10.0.7 AArch64\r\nI/AdrenoGLES-0: Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\r\nI/AdrenoGLES-0: PFP: 0x016dc094, ME: 0x00000000\r\nD/OpenGLRenderer: RenderThread::setGrContext()\r\nI/DecorView: [INFO] isPopOver=false, config=true\r\nI/DecorView: updateCaptionType &gt;&gt; DecorView@ad5ddd0[], isFloating=false, isApplication=true, hasWindowControllerCallback=true, hasWindowDecorCaption=false\r\nD/DecorView: setCaptionType = 0, this = DecorView@ad5ddd0[]\r\nI/DecorView: getCurrentDensityDpi: from real metrics. densityDpi=450 msg=resources_loaded\r\nW/outerpageacces: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\r\nW/outerpageacces: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\r\nW/ziparchive: Unable to open &#39;/data/app/~~YgYDZv4GpC9wYpwxXiO9DA==/com.google.android.trichromelibrary.dev_524300233-fAGblpk31Yjy1vkpqWEHyA==/base.dm&#39;: No such file or directory\r\nW/ziparchive: Unable to open &#39;/data/app/~~YgYDZv4GpC9wYpwxXiO9DA==/com.google.android.trichromelibrary.dev_524300233-fAGblpk31Yjy1vkpqWEHyA==/base.dm&#39;: No such file or directory\r\nW/outerpageacces: Entry not found\r\nI/WebViewFactory: Loading com.google.android.webview.dev version 106.0.5243.2 (code 524300233)\r\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (unsupported, reflection, allowed)\r\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;traceBegin(JLjava/lang/String;)V (unsupported, reflection, allowed)\r\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;traceEnd(J)V (unsupported, reflection, allowed)\r\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (unsupported, reflection, allowed)\r\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (unsupported, reflection, allowed)\r\nI/cr_WVCFactoryProvider: Loaded version=106.0.5243.2 minSdkVersion=29 isBundle=true multiprocess=true packageId=2\r\nI/cr_LibraryLoader: Successfully loaded native library\r\nI/cr_CachingUmaRecorder: Flushed 9 samples from 9 histograms.\r\nE/SchedPolicy: Failed to find cgroup for tid 24423\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_32.bin&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_64.bin&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/icudtl.dat&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/chrome_100_percent.pak&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/resources.pak&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak&#39;: No such file or directory\r\nW/chromium: [WARNING:dns_config_service_android.cc(115)] Failed to read DnsConfig.\r\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10759; state: ENABLED\r\nW/outerpageacces: Accessing hidden method Landroid/media/AudioManager;-&gt;getOutputLatency(I)I (unsupported, reflection, allowed)\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_32.bin&#39;: No such file or directory\r\nE/outerpageacces: Failed to open file &#39;/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_64.bin&#39;: No such file or directory\r\nW/cr_media: BLUETOOTH_CONNECT permission is missing.\r\nW/cr_media: registerBluetoothIntentsIfNeeded: Requires BLUETOOTH permission\r\nD/MyApplication: Finishing in 5 seconds.\r\nD/NativeCustomFrequencyManager: [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\r\nI/DecorView: notifyKeepScreenOnChanged: keepScreenOn=true\r\nI/ViewRootImpl@437d938[MainActivity]: setView = com.android.internal.policy.DecorView@ad5ddd0 TM=true\r\nI/ViewRootImpl@437d938[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=6 res=0x7 s={true -5476376616297765184} ch=true fn=-1\r\nI/ViewRootImpl@437d938[MainActivity]: [DP] dp(1) 1 android.view.ViewRootImpl.reportNextDraw:11420 android.view.ViewRootImpl.performTraversals:4193 android.view.ViewRootImpl.doTraversal:2919 \r\nD/ViewRootImpl@437d938[MainActivity]: Creating frameDrawingCallback nextDrawUseBlastSync=false reportNextDraw=true hasBlurUpdates=false\r\nD/ViewRootImpl@437d938[MainActivity]: Creating frameCompleteCallback\r\nD/OpenGLRenderer: eglCreateWindowSurface\r\nD/ViewRootImpl@437d938[MainActivity]: Received frameDrawingCallback frameNum=1. Creating transactionCompleteCallback=false\r\nI/BufferQueueProducer: [ViewRootImpl@437d938[MainActivity]#0(BLAST Consumer)0](id:5f6700000000,api:1,p:24423,c:24423) queueBuffer: queued for the first time.\r\nD/OpenGLRenderer: GPIS:: SetUp Pid : 24423    Tid : 24468\r\nD/ViewRootImpl@437d938[MainActivity]: Received frameCompleteCallback  lastAcquiredFrameNum=1 lastAttemptedDrawFrameNum=1\r\nI/ViewRootImpl@437d938[MainActivity]: [DP] pdf(0) 1 android.view.ViewRootImpl.lambda$addFrameCompleteCallbackIfNeeded$3$ViewRootImpl:4995 android.view.ViewRootImpl$$ExternalSyntheticLambda16.run:6 android.os.Handler.handleCallback:938 \r\nI/ViewRootImpl@437d938[MainActivity]: [DP] rdf()\r\nD/ViewRootImpl@437d938[MainActivity]: reportDrawFinished (fn: -1) \r\nD/InsetsSourceConsumer: ensureControlAlpha: for ITYPE_NAVIGATION_BAR on com.censored.censored/com.censored.censored.MainActivity\r\nD/InsetsSourceConsumer: ensureControlAlpha: for ITYPE_STATUS_BAR on com.censored.censored/com.censored.censored.MainActivity\r\nI/ViewRootImpl@437d938[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 1\r\nD/InputMethodManager: startInputInner - Id : 0\r\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\r\nD/InputMethodManager: startInputInner - Id : 0\r\nD/MyApplication: Finishing in 4 seconds.\r\nD/MyApplication: Finishing in 3 seconds.\r\nD/MyApplication: Finishing in 2 seconds.\r\nD/MyApplication: Finishing in 1 second.\r\nI/outerpageacces: Compiler allocated 4564KB to compile void android.view.ViewRootImpl.performTraversals()\r\nD/MyApplication: Finished.\r\nI/ViewRootImpl@437d938[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\r\nD/InputTransport: Input channel destroyed: &#39;ClientS&#39;, fd=214\r\nI/ViewRootImpl@437d938[MainActivity]: handleAppVisibility mAppVisible=true visible=false\r\nD/OpenGLRenderer: setSurface called with nullptr\r\nD/OpenGLRenderer: setSurface() destroyed EGLSurface\r\nD/OpenGLRenderer: destroyEglSurface\r\nI/ViewRootImpl@437d938[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)8 dur=8 res=0x5 s={false 0} ch=true fn=55\r\nI/ViewRootImpl@437d938[MainActivity]: stopped(true) old=false\r\nD/OpenGLRenderer: setSurface called with nullptr\r\nI/ViewRootImpl@437d938[MainActivity]: dispatchDetachedFromWindow\r\nD/InputTransport: Input channel destroyed: &#39;3e2bfbb&#39;, fd=175\r\nD/OpenGLRenderer: setSurface called with nullptr\r\nW/System: A resource failed to call close. \r\n```\r\n\r\nIn case you are wondering: yes. The page opens just fine in the Chrome app on my phone.","title":"&#39;Unsupported browser&#39; when accessing router page","body":"<p>Today, I wanted to make an app that accesses the router's web page to make managing it easier. However, my router said that <a href=\"https://i.stack.imgur.com/SMNgg.jpg\" rel=\"nofollow noreferrer\">the web browser that I'm using is unsupported</a>.</p>\n<p>Here's the activity:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.util.Log;\nimport android.webkit.WebResourceRequest;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.widget.TextView;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView webView;\n    private TextView textView;\n\n\n\n    @SuppressLint(&quot;SetJavaScriptEnabled&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webView);\n        webView.loadUrl(&quot;192.168.1.1&quot;);\n        webView.setWebViewClient(new WebViewClient() {\n\n            //API Level under 24\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView webView, String url){\n                return false;\n            }\n\n            //API Level over 24\n            @Override\n            public boolean shouldOverrideUrlLoading(WebView webView, WebResourceRequest request) {\n                return false;\n            }\n        });\n\n\n        urlBar();\n        debugFinish();\n    }\n\n\n    public void debugFinish() {\n        Log.d(&quot;MyApplication&quot;, &quot;Finishing in 5 seconds.&quot;);\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 4 seconds.&quot;),1000);\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 3 seconds.&quot;),2000);\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 2 seconds.&quot;),3000);\n        new Handler().postDelayed(() -&gt; Log.d(&quot;MyApplication&quot;, &quot;Finishing in 1 second.&quot;),4000);\n        new Handler().postDelayed(() -&gt; {\n            Log.d(&quot;MyApplication&quot;, &quot;Finished.&quot;);\n            finish();\n        },5000);\n    }\n\n    public void urlBar() {\n        new Handler().postDelayed(() -&gt; {\n            String webUrl = webView.getUrl();\n            textView = findViewById(R.id.text);\n            textView.setText(webUrl);\n            urlBar();\n        },100);\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n<p>And here are the logs for the latest session:</p>\n<pre><code>08/23 18:19:57: Launching 'app' on samsung SM-A528B.\nInstall successfully finished in 325 ms.\n$ adb shell am start -n &quot;com.censored.censored/com.censored.censored.MainActivity&quot; -a android.intent.action.MAIN -c android.intent.category.LAUNCHER -D\nWaiting for application to come online: com.censored.censored\nConnected to process 24423 on device 'samsung-sm_a528b-serialshoudbehere'.\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nV/studio.deploy: Startup agent attached to VM\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-1f2f27f8.jar\nW/outerpageacces: DexFile /data/data/com.censored.censored/code_cache/.studio/instruments-1f2f27f8.jar is in boot class path but is not in a known location\nV/studio.deploy: Applying transforms with cached classes\nW/outerpageacces: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/outerpageacces: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/ActivityThread: handleBindApplication()++ app=com.censored.censored\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10759; state: ENABLED\nW/ActivityThread: Application com.censored.censored is waiting for the debugger on port 8100...\nI/System.out: Sending WAIT chunk\nConnecting to com.censored.censored\nCapturing and displaying logcat messages from application. This behavior can be disabled in the &quot;Logcat output&quot; section of the &quot;Debugger&quot; settings page.\nV/studio.deploy: Startup agent attached to VM\nV/studio.deploy: No existing instrumentation found. Loading instrumentation from instruments-1f2f27f8.jar\nW/outerpageacces: DexFile /data/data/com.censored.censored/code_cache/.studio/instruments-1f2f27f8.jar is in boot class path but is not in a known location\nV/studio.deploy: Applying transforms with cached classes\nW/outerpageacces: Redefining intrinsic method java.lang.Thread java.lang.Thread.currentThread(). This may cause the unexpected use of the original definition of java.lang.Thread java.lang.Thread.currentThread()in methods that have already been compiled.\nW/outerpageacces: Redefining intrinsic method boolean java.lang.Thread.interrupted(). This may cause the unexpected use of the original definition of boolean java.lang.Thread.interrupted()in methods that have already been compiled.\nD/ActivityThread: handleBindApplication()++ app=com.censored.censored\nD/CompatibilityChangeReporter: Compat change id reported: 171979766; UID 10759; state: ENABLED\nW/ActivityThread: Application com.censored.censored is waiting for the debugger on port 8100...\nI/System.out: Sending WAIT chunk\nI/System.out: Debugger has connected\nI/System.out: waiting for debugger to settle...\nConnected to the target VM, address: 'localhost:59305', transport: 'socket'\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: waiting for debugger to settle...\nI/System.out: debugger has settled (1429)\nW/ActivityThread: Slow operation: 2612ms so far, now at handleBindApplication: Before HardwareRenderer\nW/ActivityThread: Slow operation: 2621ms so far, now at handleBindApplication: After HardwareRenderer\nW/ziparchive: Unable to open '/data/data/com.censored.censored/code_cache/.overlay/base.apk/classes3.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~as9uWR63HKmuwYZvqPYU3Q==/com.censored.censored-0ouQJlouEDKWFYvo3am4mg==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~as9uWR63HKmuwYZvqPYU3Q==/com.censored.censored-0ouQJlouEDKWFYvo3am4mg==/base.dm': No such file or directory\nV/GraphicsEnvironment: ANGLE Developer option for 'com.censored.censored' set to: 'default'\nV/GraphicsEnvironment: Updatable production driver is not supported on the device.\nD/LoadedApk: LoadedApk::makeApplication() appContext.mOpPackageName=com.censored.censored appContext.mBasePackageName=com.censored.censored\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/NetworkSecurityConfig: No Network Security Config specified, using platform default\nD/ActivityThread: handleBindApplication() --\nD/OpenGLRenderer: RenderThread::requireGlContext()\nI/AdrenoGLES-0: QUALCOMM build                   : cac6e6f805, I5187d04b75\n    Build Date                       : 11/22/21\n    OpenGL ES Shader Compiler Version: EV031.35.01.10\n    Local Branch                     : \n    Remote Branch                    : \n    Remote Branch                    : \n    Reconstruct Branch               : \nI/AdrenoGLES-0: Build Config                     : S P 10.0.7 AArch64\nI/AdrenoGLES-0: Driver Path                      : /vendor/lib64/egl/libGLESv2_adreno.so\nI/AdrenoGLES-0: PFP: 0x016dc094, ME: 0x00000000\nD/OpenGLRenderer: RenderThread::setGrContext()\nI/DecorView: [INFO] isPopOver=false, config=true\nI/DecorView: updateCaptionType &gt;&gt; DecorView@ad5ddd0[], isFloating=false, isApplication=true, hasWindowControllerCallback=true, hasWindowDecorCaption=false\nD/DecorView: setCaptionType = 0, this = DecorView@ad5ddd0[]\nI/DecorView: getCurrentDensityDpi: from real metrics. densityDpi=450 msg=resources_loaded\nW/outerpageacces: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (unsupported, reflection, allowed)\nW/outerpageacces: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (unsupported, reflection, allowed)\nW/ziparchive: Unable to open '/data/app/~~YgYDZv4GpC9wYpwxXiO9DA==/com.google.android.trichromelibrary.dev_524300233-fAGblpk31Yjy1vkpqWEHyA==/base.dm': No such file or directory\nW/ziparchive: Unable to open '/data/app/~~YgYDZv4GpC9wYpwxXiO9DA==/com.google.android.trichromelibrary.dev_524300233-fAGblpk31Yjy1vkpqWEHyA==/base.dm': No such file or directory\nW/outerpageacces: Entry not found\nI/WebViewFactory: Loading com.google.android.webview.dev version 106.0.5243.2 (code 524300233)\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;isTagEnabled(J)Z (unsupported, reflection, allowed)\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;traceBegin(JLjava/lang/String;)V (unsupported, reflection, allowed)\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;traceEnd(J)V (unsupported, reflection, allowed)\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceBegin(JLjava/lang/String;I)V (unsupported, reflection, allowed)\nW/outerpageacces: Accessing hidden method Landroid/os/Trace;-&gt;asyncTraceEnd(JLjava/lang/String;I)V (unsupported, reflection, allowed)\nI/cr_WVCFactoryProvider: Loaded version=106.0.5243.2 minSdkVersion=29 isBundle=true multiprocess=true packageId=2\nI/cr_LibraryLoader: Successfully loaded native library\nI/cr_CachingUmaRecorder: Flushed 9 samples from 9 histograms.\nE/SchedPolicy: Failed to find cgroup for tid 24423\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_32.bin': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_64.bin': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/icudtl.dat': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/chrome_100_percent.pak': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/resources.pak': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/stored-locales/en-US.pak': No such file or directory\nW/chromium: [WARNING:dns_config_service_android.cc(115)] Failed to read DnsConfig.\nD/CompatibilityChangeReporter: Compat change id reported: 171228096; UID 10759; state: ENABLED\nW/outerpageacces: Accessing hidden method Landroid/media/AudioManager;-&gt;getOutputLatency(I)I (unsupported, reflection, allowed)\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_32.bin': No such file or directory\nE/outerpageacces: Failed to open file '/data/data/com.censored.censored/code_cache/.overlay/base.apk/assets/snapshot_blob_64.bin': No such file or directory\nW/cr_media: BLUETOOTH_CONNECT permission is missing.\nW/cr_media: registerBluetoothIntentsIfNeeded: Requires BLUETOOTH permission\nD/MyApplication: Finishing in 5 seconds.\nD/NativeCustomFrequencyManager: [NativeCFMS] BpCustomFrequencyManager::BpCustomFrequencyManager()\nI/DecorView: notifyKeepScreenOnChanged: keepScreenOn=true\nI/ViewRootImpl@437d938[MainActivity]: setView = com.android.internal.policy.DecorView@ad5ddd0 TM=true\nI/ViewRootImpl@437d938[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)0 dur=6 res=0x7 s={true -5476376616297765184} ch=true fn=-1\nI/ViewRootImpl@437d938[MainActivity]: [DP] dp(1) 1 android.view.ViewRootImpl.reportNextDraw:11420 android.view.ViewRootImpl.performTraversals:4193 android.view.ViewRootImpl.doTraversal:2919 \nD/ViewRootImpl@437d938[MainActivity]: Creating frameDrawingCallback nextDrawUseBlastSync=false reportNextDraw=true hasBlurUpdates=false\nD/ViewRootImpl@437d938[MainActivity]: Creating frameCompleteCallback\nD/OpenGLRenderer: eglCreateWindowSurface\nD/ViewRootImpl@437d938[MainActivity]: Received frameDrawingCallback frameNum=1. Creating transactionCompleteCallback=false\nI/BufferQueueProducer: [ViewRootImpl@437d938[MainActivity]#0(BLAST Consumer)0](id:5f6700000000,api:1,p:24423,c:24423) queueBuffer: queued for the first time.\nD/OpenGLRenderer: GPIS:: SetUp Pid : 24423    Tid : 24468\nD/ViewRootImpl@437d938[MainActivity]: Received frameCompleteCallback  lastAcquiredFrameNum=1 lastAttemptedDrawFrameNum=1\nI/ViewRootImpl@437d938[MainActivity]: [DP] pdf(0) 1 android.view.ViewRootImpl.lambda$addFrameCompleteCallbackIfNeeded$3$ViewRootImpl:4995 android.view.ViewRootImpl$$ExternalSyntheticLambda16.run:6 android.os.Handler.handleCallback:938 \nI/ViewRootImpl@437d938[MainActivity]: [DP] rdf()\nD/ViewRootImpl@437d938[MainActivity]: reportDrawFinished (fn: -1) \nD/InsetsSourceConsumer: ensureControlAlpha: for ITYPE_NAVIGATION_BAR on com.censored.censored/com.censored.censored.MainActivity\nD/InsetsSourceConsumer: ensureControlAlpha: for ITYPE_STATUS_BAR on com.censored.censored/com.censored.censored.MainActivity\nI/ViewRootImpl@437d938[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 1 1\nD/InputMethodManager: startInputInner - Id : 0\nI/InputMethodManager: startInputInner - mService.startInputOrWindowGainedFocus\nD/InputMethodManager: startInputInner - Id : 0\nD/MyApplication: Finishing in 4 seconds.\nD/MyApplication: Finishing in 3 seconds.\nD/MyApplication: Finishing in 2 seconds.\nD/MyApplication: Finishing in 1 second.\nI/outerpageacces: Compiler allocated 4564KB to compile void android.view.ViewRootImpl.performTraversals()\nD/MyApplication: Finished.\nI/ViewRootImpl@437d938[MainActivity]: MSG_WINDOW_FOCUS_CHANGED 0 1\nD/InputTransport: Input channel destroyed: 'ClientS', fd=214\nI/ViewRootImpl@437d938[MainActivity]: handleAppVisibility mAppVisible=true visible=false\nD/OpenGLRenderer: setSurface called with nullptr\nD/OpenGLRenderer: setSurface() destroyed EGLSurface\nD/OpenGLRenderer: destroyEglSurface\nI/ViewRootImpl@437d938[MainActivity]: Relayout returned: old=(0,0,1080,2400) new=(0,0,1080,2400) req=(1080,2400)8 dur=8 res=0x5 s={false 0} ch=true fn=55\nI/ViewRootImpl@437d938[MainActivity]: stopped(true) old=false\nD/OpenGLRenderer: setSurface called with nullptr\nI/ViewRootImpl@437d938[MainActivity]: dispatchDetachedFromWindow\nD/InputTransport: Input channel destroyed: '3e2bfbb', fd=175\nD/OpenGLRenderer: setSurface called with nullptr\nW/System: A resource failed to call close. \n</code></pre>\n<p>In case you are wondering: yes. The page opens just fine in the Chrome app on my phone.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":4,"creation_date":1672929228,"post_id":75019989,"comment_id":132387242,"body_markdown":"To check, write tests. A test may be trying to fill the queue such that it will resize, empty the queue, verify that everything pushed in it can be extracted from, etc.","body":"To check, write tests. A test may be trying to fill the queue such that it will resize, empty the queue, verify that everything pushed in it can be extracted from, etc."},{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1672929261,"post_id":75019989,"comment_id":132387253,"body_markdown":"Write a unit test for it. Enque a single element, assert that it contains what is expected. Enqueue a few elements, assert. Dequeue from empty, assert that exception is thrown. Enqueue a few, then dequeue, assert that elements are correct and in expected order. Finally, write a test that checks for resizing. That should cover it, no?","body":"Write a unit test for it. Enque a single element, assert that it contains what is expected. Enqueue a few elements, assert. Dequeue from empty, assert that exception is thrown. Enqueue a few, then dequeue, assert that elements are correct and in expected order. Finally, write a test that checks for resizing. That should cover it, no?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1672929341,"post_id":75019989,"comment_id":132387284,"body_markdown":"I recommend a tutorial on unit testing, e.g. [this one over at `vogella.com`](https://www.google.com/search?q=java+unit+testing+tutorial&amp;oq=java+unit+testing+tutorial&amp;aqs=chrome..69i57j0i22i30l8.3782j0j7&amp;sourceid=chrome&amp;ie=UTF-8). --- A remark I would just use an `Object[]` instead of a `T[]`. This is how [`ArrayList` (`github.com`)](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L136) does things. Mixing arrays and generics is always a pain since arrays are covariant and retained, while generics are invariant and erased","body":"I recommend a tutorial on unit testing, e.g. <a href=\"https://www.google.com/search?q=java+unit+testing+tutorial&amp;oq=java+unit+testing+tutorial&amp;aqs=chrome..69i57j0i22i30l8.3782j0j7&amp;sourceid=chrome&amp;ie=UTF-8\" rel=\"nofollow noreferrer\">this one over at <code>vogella.com</code></a>. --- A remark I would just use an <code>Object[]</code> instead of a <code>T[]</code>. This is how <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L136\" rel=\"nofollow noreferrer\"><code>ArrayList</code> (<code>github.com</code>)</a> does things. Mixing arrays and generics is always a pain since arrays are covariant and retained, while generics are invariant and erased"},{"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"score":2,"creation_date":1672930729,"post_id":75019989,"comment_id":132387803,"body_markdown":"One more hint: `System.arrayCopy` is your friend... https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)","body":"One more hint: <code>System.arrayCopy</code> is your friend... <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#arraycopy(java.lang.Object,int,java.lang.Object,int,int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672931238,"post_id":75019989,"comment_id":132388027,"body_markdown":"*&quot;both growing and shrinking&quot;*: you didn&#39;t do the shrinking part.","body":"<i>&quot;both growing and shrinking&quot;</i>: you didn&#39;t do the shrinking part."},{"owner":{"account_id":20887307,"reputation":21,"user_id":15343591,"display_name":"senasimsek"},"score":0,"creation_date":1672932973,"post_id":75019989,"comment_id":132388751,"body_markdown":"I tried to do shrinking in dequeue func. with array[--N]=null; @trincot","body":"I tried to do shrinking in dequeue func. with array[--N]=null; @trincot"},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1672933245,"post_id":75019989,"comment_id":132388874,"body_markdown":"But is that what is intended? I thought shrinking would mean the allocated array would shrink to half its size. Or did I misunderstand?","body":"But is that what is intended? I thought shrinking would mean the allocated array would shrink to half its size. Or did I misunderstand?"},{"owner":{"account_id":15508020,"reputation":185,"user_id":11187611,"display_name":"Zartof"},"score":0,"creation_date":1672933260,"post_id":75019989,"comment_id":132388877,"body_markdown":"Hi senasimsek, your code produce a null pointer exception as long the array variable is never instantiated, at least not in the code you posted. Gonna make some fixes here and there","body":"Hi senasimsek, your code produce a null pointer exception as long the array variable is never instantiated, at least not in the code you posted. Gonna make some fixes here and there"}],"answers":[{"tags":[],"owner":{"account_id":15508020,"reputation":185,"user_id":11187611,"display_name":"Zartof"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672947742,"creation_date":1672936484,"answer_id":75021616,"question_id":75019989,"body_markdown":"here is the code with my revisions. I preserved your general approach I just made some fixes.\r\n\r\nOf course other optimizations are possible but I&#39;ll leave them to you ;)\r\n\r\n    import java.lang.reflect.Array;\r\n\r\n    public class Queue&lt;T&gt; {\r\n        //never expose directly as public internal variables of your classes. So they should be private\r\n        private final Class&lt;T&gt; clazz;\r\n        private T[] array;\r\n        private int n;\r\n\r\n        //these 2 variables define the expansion and reducing policy so that may be changed dynamically\r\n        private final float policyToExpand = 3.0f/4.0f;\r\n        private final float policyToReduce = 1.0f/4.0f;\r\n\r\n    //you didn&#39;t implement the constructor of your class that was required. This should do the work.\r\n    //Just mind that the 4 it&#39;s the initial capacity of the array.\r\n    public Queue(Class&lt;T&gt; clazz) {\r\n        this.clazz = clazz;\r\n        this.array = (T[]) Array.newInstance(clazz, 4);\r\n        this.n = 0;\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        return n == 0;\r\n    }\r\n\r\n    public int size() {\r\n        return n;\r\n    }\r\n\r\n    //cleaned a bit enqueue and dequeue method and extrapolating the logic for resize.\r\n    public void enqueue(T item) {\r\n        array[n] = item;\r\n        n++;\r\n        if(expansionIsNeeded()) performResizeExpanding();\r\n    }\r\n\r\n    public T dequeue() {\r\n        T value = array[0];\r\n        slideBackArray();\r\n        n--;\r\n        if(reduceIsNeeded()) performResizeReducing();\r\n        return value;\r\n    }\r\n\r\n\r\n    //logic for sliding back items when dequeueing\r\n    private void slideBackArray() {\r\n        for (int i = 1; i &lt; n; i++) {\r\n            array[i - 1] = array[i];\r\n        }\r\n        array[n] = null;\r\n    }\r\n\r\n\r\n    //these 2 methods take care of triggering resize\r\n    private boolean expansionIsNeeded() {\r\n        float currentFilling = (float) n / array.length;\r\n        return currentFilling &gt;= policyToExpand;\r\n    }\r\n    private boolean reduceIsNeeded() {\r\n        float currentFilling = (float) n / array.length;\r\n        return currentFilling &lt;= policyToReduce;\r\n    }\r\n\r\n    //these 2 instead perform the actual resize\r\n    private void performResizeExpanding() {\r\n        T[] tempArray = (T[]) Array.newInstance(clazz, this.array.length*2);\r\n        System.arraycopy(this.array, 0, tempArray, 0, n);\r\n        this.array = tempArray;\r\n    }\r\n\r\n    private void performResizeReducing() {\r\n        T[] tempArray = (T[]) Array.newInstance(clazz, this.array.length/2);\r\n        System.arraycopy(this.array, 0, tempArray, 0, n);\r\n        this.array = tempArray;\r\n    }\r\n    }","title":"Queue with using array in Java","body":"<p>here is the code with my revisions. I preserved your general approach I just made some fixes.</p>\n<p>Of course other optimizations are possible but I'll leave them to you ;)</p>\n<pre><code>import java.lang.reflect.Array;\n\npublic class Queue&lt;T&gt; {\n    //never expose directly as public internal variables of your classes. So they should be private\n    private final Class&lt;T&gt; clazz;\n    private T[] array;\n    private int n;\n\n    //these 2 variables define the expansion and reducing policy so that may be changed dynamically\n    private final float policyToExpand = 3.0f/4.0f;\n    private final float policyToReduce = 1.0f/4.0f;\n\n//you didn't implement the constructor of your class that was required. This should do the work.\n//Just mind that the 4 it's the initial capacity of the array.\npublic Queue(Class&lt;T&gt; clazz) {\n    this.clazz = clazz;\n    this.array = (T[]) Array.newInstance(clazz, 4);\n    this.n = 0;\n}\n\npublic boolean isEmpty() {\n    return n == 0;\n}\n\npublic int size() {\n    return n;\n}\n\n//cleaned a bit enqueue and dequeue method and extrapolating the logic for resize.\npublic void enqueue(T item) {\n    array[n] = item;\n    n++;\n    if(expansionIsNeeded()) performResizeExpanding();\n}\n\npublic T dequeue() {\n    T value = array[0];\n    slideBackArray();\n    n--;\n    if(reduceIsNeeded()) performResizeReducing();\n    return value;\n}\n\n\n//logic for sliding back items when dequeueing\nprivate void slideBackArray() {\n    for (int i = 1; i &lt; n; i++) {\n        array[i - 1] = array[i];\n    }\n    array[n] = null;\n}\n\n\n//these 2 methods take care of triggering resize\nprivate boolean expansionIsNeeded() {\n    float currentFilling = (float) n / array.length;\n    return currentFilling &gt;= policyToExpand;\n}\nprivate boolean reduceIsNeeded() {\n    float currentFilling = (float) n / array.length;\n    return currentFilling &lt;= policyToReduce;\n}\n\n//these 2 instead perform the actual resize\nprivate void performResizeExpanding() {\n    T[] tempArray = (T[]) Array.newInstance(clazz, this.array.length*2);\n    System.arraycopy(this.array, 0, tempArray, 0, n);\n    this.array = tempArray;\n}\n\nprivate void performResizeReducing() {\n    T[] tempArray = (T[]) Array.newInstance(clazz, this.array.length/2);\n    System.arraycopy(this.array, 0, tempArray, 0, n);\n    this.array = tempArray;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672937431,"creation_date":1672937431,"answer_id":75021810,"question_id":75019989,"body_markdown":"Some issues:\r\n\r\n* The first `enqueue` call will already produce an Null Pointer Exception. A minimal test would have revealed this. Your `array` is not initialised and so access to `array.length` or `array[0]` or similar will trigger a NPE. You need to initialise the array upon construction.\r\n\r\n* `array.length * 2` will not change the array size when it is 0, it is probably best to initialise your array with a size of at least 1, and never allow it to be come less.\r\n\r\n* Code that shrinks the array is lacking.\r\n\r\n* `dequeue` should not have to move every element every time you call it. Typically, an array-based queue keeps track of the *start* of the data and the *end*, so that the used part of the array does not necessarily have to start at index 0. Instead of an `N` member, define `start` and `end` members.\r\n\r\nHere is a possible adjustment of your class:\r\n\r\n```\r\npublic class Queue&lt;T&gt; {\r\n    private T[] array;\r\n    private int start, end; // Instead of N, so to gain efficiency in dequeue\r\n    \r\n    Queue() {\r\n        array = (T[]) new Object[1]; // Initialise!\r\n    }\r\n     \r\n    public boolean isEmpty() {\r\n        return start == end;\r\n    }\r\n    \r\n    public int size() {\r\n        return (end + array.length - start) % array.length;\r\n    }\r\n     \r\n    public void resize(int max) {\r\n        T[] temp = (T[]) new Object[max];\r\n        if (end &gt; start) {\r\n            end -= start;\r\n            System.arraycopy(array, start, temp, 0, end);\r\n            start = 0;\r\n            end %= max;\r\n        } else {\r\n            System.arraycopy(array, 0, temp, 0, end);\r\n            int size = array.length - start;\r\n            System.arraycopy(array, start, temp, max - size, size);\r\n            start = max - size;\r\n        }\r\n        array = temp;\r\n    }\r\n    \r\n    public void enqueue(T item) {\r\n        array[end] = item;\r\n        end = (end + 1) % array.length;\r\n        if (start == end) {\r\n            resize(array.length * 2);\r\n        }\r\n    }\r\n\r\n    public T dequeue() {\r\n        if (array.length &gt; 1 &amp;&amp; size() &lt;= array.length / 2) {\r\n            resize(array.length / 2); // Shrink\r\n        }\r\n        T value = array[start];\r\n        array[start] = null;\r\n        start = (start + 1) % array.length;\r\n        return value;\r\n    }\r\n}\r\n```","title":"Queue with using array in Java","body":"<p>Some issues:</p>\n<ul>\n<li><p>The first <code>enqueue</code> call will already produce an Null Pointer Exception. A minimal test would have revealed this. Your <code>array</code> is not initialised and so access to <code>array.length</code> or <code>array[0]</code> or similar will trigger a NPE. You need to initialise the array upon construction.</p>\n</li>\n<li><p><code>array.length * 2</code> will not change the array size when it is 0, it is probably best to initialise your array with a size of at least 1, and never allow it to be come less.</p>\n</li>\n<li><p>Code that shrinks the array is lacking.</p>\n</li>\n<li><p><code>dequeue</code> should not have to move every element every time you call it. Typically, an array-based queue keeps track of the <em>start</em> of the data and the <em>end</em>, so that the used part of the array does not necessarily have to start at index 0. Instead of an <code>N</code> member, define <code>start</code> and <code>end</code> members.</p>\n</li>\n</ul>\n<p>Here is a possible adjustment of your class:</p>\n<pre><code>public class Queue&lt;T&gt; {\n    private T[] array;\n    private int start, end; // Instead of N, so to gain efficiency in dequeue\n    \n    Queue() {\n        array = (T[]) new Object[1]; // Initialise!\n    }\n     \n    public boolean isEmpty() {\n        return start == end;\n    }\n    \n    public int size() {\n        return (end + array.length - start) % array.length;\n    }\n     \n    public void resize(int max) {\n        T[] temp = (T[]) new Object[max];\n        if (end &gt; start) {\n            end -= start;\n            System.arraycopy(array, start, temp, 0, end);\n            start = 0;\n            end %= max;\n        } else {\n            System.arraycopy(array, 0, temp, 0, end);\n            int size = array.length - start;\n            System.arraycopy(array, start, temp, max - size, size);\n            start = max - size;\n        }\n        array = temp;\n    }\n    \n    public void enqueue(T item) {\n        array[end] = item;\n        end = (end + 1) % array.length;\n        if (start == end) {\n            resize(array.length * 2);\n        }\n    }\n\n    public T dequeue() {\n        if (array.length &gt; 1 &amp;&amp; size() &lt;= array.length / 2) {\n            resize(array.length / 2); // Shrink\n        }\n        T value = array[start];\n        array[start] = null;\n        start = (start + 1) % array.length;\n        return value;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20887307,"reputation":21,"user_id":15343591,"display_name":"senasimsek"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75021616,"answer_count":2,"score":0,"last_activity_date":1672947742,"creation_date":1672929002,"question_id":75019989,"body_markdown":"In our midterm exam teacher asked us to do this question below:\r\nWrite a generic Queue class which uses an array(not a link list) as a memory storage. It should support generic type parameter and array resizing (both growing and shrinking), but it doesn&#39;t have to support iterators.Hints:Queue is a FIFO data structure ; the API for a queue contains **enqueue, dequeue,size and isEmpty** methods in addition to the constructor; you don&#39;t have to implement toString.\r\n\r\n\r\nI tried to write this code and here&#39;s what I wrote. But I don&#39;t know how should I check this code. Is it correct or how can I check it?\r\n\r\n     public class Queue&lt;T&gt; {\r\n     public T[] array;\r\n     public int N;\r\n\r\n     public boolean isEmpty() {\r\n      return N == 0;\r\n    }\r\n\r\n     public int size() {\r\n      return N;\r\n    }\r\n\r\n    public void resize(int max) {\r\n      T[] temp = (T[]) new Object[max];\r\n      for (int i = 0; i &lt; N; i++) {\r\n         temp[i] = array[i];\r\n       }\r\n       array = temp;\r\n     }\r\n\r\n    public void enqueue(T item) {\r\n      if (isEmpty()) {\r\n      array[0] = item;\r\n       N++;\r\n     } else if (N == array.length) {\r\n       resize(array.length * 2);\r\n       array[N] = item;\r\n       N++;\r\n    } else {\r\n      array[N] = item;\r\n      N++;\r\n     }\r\n    }\r\n\r\n     public T dequeue() {\r\n      T value = array[0];\r\n      for (int i = 1; i &lt; N; i++) {\r\n          array[i - 1] = array[i];\r\n      }\r\n         array[--N] = null;\r\n         return value;\r\n     }\r\n    }\r\n\r\n","title":"Queue with using array in Java","body":"<p>In our midterm exam teacher asked us to do this question below:\nWrite a generic Queue class which uses an array(not a link list) as a memory storage. It should support generic type parameter and array resizing (both growing and shrinking), but it doesn't have to support iterators.Hints:Queue is a FIFO data structure ; the API for a queue contains <strong>enqueue, dequeue,size and isEmpty</strong> methods in addition to the constructor; you don't have to implement toString.</p>\n<p>I tried to write this code and here's what I wrote. But I don't know how should I check this code. Is it correct or how can I check it?</p>\n<pre><code> public class Queue&lt;T&gt; {\n public T[] array;\n public int N;\n\n public boolean isEmpty() {\n  return N == 0;\n}\n\n public int size() {\n  return N;\n}\n\npublic void resize(int max) {\n  T[] temp = (T[]) new Object[max];\n  for (int i = 0; i &lt; N; i++) {\n     temp[i] = array[i];\n   }\n   array = temp;\n }\n\npublic void enqueue(T item) {\n  if (isEmpty()) {\n  array[0] = item;\n   N++;\n } else if (N == array.length) {\n   resize(array.length * 2);\n   array[N] = item;\n   N++;\n} else {\n  array[N] = item;\n  N++;\n }\n}\n\n public T dequeue() {\n  T value = array[0];\n  for (int i = 1; i &lt; N; i++) {\n      array[i - 1] = array[i];\n  }\n     array[--N] = null;\n     return value;\n }\n}\n</code></pre>\n"},{"tags":["java","spring","conditional-statements","locking","hazelcast"],"comments":[{"owner":{"account_id":17127425,"reputation":256,"user_id":12394291,"display_name":"mdumandag"},"score":0,"creation_date":1672853771,"post_id":75008467,"comment_id":132368294,"body_markdown":"Which Hazelcast version are you using?","body":"Which Hazelcast version are you using?"},{"owner":{"account_id":25384004,"reputation":11,"user_id":19196025,"display_name":"IdanOst"},"score":0,"creation_date":1672907175,"post_id":75008467,"comment_id":132379773,"body_markdown":"I&#39;m using &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"I&#39;m using &lt;dependency&gt; \t\t\t&lt;groupId&gt;com.hazelcast&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;hazelcast&lt;/artifactId&gt; \t\t\t&lt;version&gt;5.2.1&lt;/version&gt; \t\t&lt;/dependency&gt;"},{"owner":{"account_id":17127425,"reputation":256,"user_id":12394291,"display_name":"mdumandag"},"score":0,"creation_date":1672910029,"post_id":75008467,"comment_id":132380613,"body_markdown":"In the 4.x and 5.x series there is no Condition implementation. It was available in 3.x series, but it was deprecated when Hazelcast introduced the CP Subsystem. Note that, the implementation in 3.x had some problems so I wouldn&#39;t advise using it. It is better to stick to the latest version even if it has no Condition. See this analysis for the problems of the concurrency primitives in 3.x series https://jepsen.io/analyses/hazelcast-3-8-3\nSee this blog post for the CP subsystem https://hazelcast.com/blog/hazelcast-imdg-3-12-introduces-cp-subsystem/","body":"In the 4.x and 5.x series there is no Condition implementation. It was available in 3.x series, but it was deprecated when Hazelcast introduced the CP Subsystem. Note that, the implementation in 3.x had some problems so I wouldn&#39;t advise using it. It is better to stick to the latest version even if it has no Condition. See this analysis for the problems of the concurrency primitives in 3.x series <a href=\"https://jepsen.io/analyses/hazelcast-3-8-3\" rel=\"nofollow noreferrer\">jepsen.io/analyses/hazelcast-3-8-3</a> See this blog post for the CP subsystem <a href=\"https://hazelcast.com/blog/hazelcast-imdg-3-12-introduces-cp-subsystem/\" rel=\"nofollow noreferrer\">hazelcast.com/blog/hazelcast-imdg-3-12-introduces-cp-subsyst&zwnj;&#8203;em</a>"}],"answers":[{"comments":[{"owner":{"account_id":25384004,"reputation":11,"user_id":19196025,"display_name":"IdanOst"},"score":0,"creation_date":1672907742,"post_id":75010622,"comment_id":132379934,"body_markdown":"Yes, you are right but I&#39;m not able to find the Hazelcast interface you mentioned","body":"Yes, you are right but I&#39;m not able to find the Hazelcast interface you mentioned"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1672946147,"post_id":75010622,"comment_id":132393356,"body_markdown":"OK so I guess you are trying to use a 4.x Hazelcast IMDG version. If you go here https://docs.hazelcast.com/hazelcast/5.2/migrate/upgrading-from-imdg-3 you can read somewhere the following: &quot;In IMDG 4.0 and afterwards, these deprecated implementations and additionally ILock and ICondition interfaces are completely removed.&quot;","body":"OK so I guess you are trying to use a 4.x Hazelcast IMDG version. If you go here <a href=\"https://docs.hazelcast.com/hazelcast/5.2/migrate/upgrading-from-imdg-3\" rel=\"nofollow noreferrer\">docs.hazelcast.com/hazelcast/5.2/migrate/upgrading-from-imdg&zwnj;&#8203;-3</a> you can read somewhere the following: &quot;In IMDG 4.0 and afterwards, these deprecated implementations and additionally ILock and ICondition interfaces are completely removed.&quot;"},{"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"score":0,"creation_date":1672947157,"post_id":75010622,"comment_id":132393610,"body_markdown":"Please have a look at my updated answer about how to get hold by a `Condition`. Please note that that is not an ICondition which is gone.","body":"Please have a look at my updated answer about how to get hold by a <code>Condition</code>. Please note that that is not an ICondition which is gone."}],"tags":[],"owner":{"account_id":1310169,"reputation":3813,"user_id":1258319,"accept_rate":81,"display_name":"Julian"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672947535,"creation_date":1672862071,"answer_id":75010622,"question_id":75008467,"body_markdown":"I find the Java API documentation very clear about how to use ` java.util.concurrent.locks.Condition` interface. It also provides a very good example of how to block writing items into a buffer when the buffer is full or block taking items from it while the buffer is empty.\r\n\r\nPlease have a look at this:\r\nhttps://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/locks/Condition.html\r\n\r\nIn Hazelcast the only difference is that you have a distributed condition `com.hazelcast.core.ICondition` implementing the ` java.util.concurrent.locks.Condition`.\r\n\r\nHope this helps\r\n\r\n**UPDATE:**\r\n\r\nFrom Hazelcast IMDG 4.0 or later you can instantiate a `java.util.concurrent.locks.Condition` on a distributed lock using code similar with below:\r\n\r\n    public void howToGetCondition() {\r\n        var hazelcastInstance = Hazelcast.newHazelcastInstance();\r\n        var cpSubsystem = hazelcastInstance.getCPSubsystem();\r\n        \r\n        var bufferLock = cpSubsystem.getLock(&quot;buffer-lock&quot;);\r\n        var condition = bufferLock.newCondition();\r\n        // Do stuff with your condition\r\n    }\r\n\r\nOf course it can no longer be an `com.hazelcast.core.ICondition` which was removed in 4.0\r\n\r\nHope this helped too","title":"How to initialize java Condition in Hazelcast","body":"<p>I find the Java API documentation very clear about how to use <code> java.util.concurrent.locks.Condition</code> interface. It also provides a very good example of how to block writing items into a buffer when the buffer is full or block taking items from it while the buffer is empty.</p>\n<p>Please have a look at this:\n<a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/locks/Condition.html</a></p>\n<p>In Hazelcast the only difference is that you have a distributed condition <code>com.hazelcast.core.ICondition</code> implementing the <code> java.util.concurrent.locks.Condition</code>.</p>\n<p>Hope this helps</p>\n<p><strong>UPDATE:</strong></p>\n<p>From Hazelcast IMDG 4.0 or later you can instantiate a <code>java.util.concurrent.locks.Condition</code> on a distributed lock using code similar with below:</p>\n<pre><code>public void howToGetCondition() {\n    var hazelcastInstance = Hazelcast.newHazelcastInstance();\n    var cpSubsystem = hazelcastInstance.getCPSubsystem();\n    \n    var bufferLock = cpSubsystem.getLock(&quot;buffer-lock&quot;);\n    var condition = bufferLock.newCondition();\n    // Do stuff with your condition\n}\n</code></pre>\n<p>Of course it can no longer be an <code>com.hazelcast.core.ICondition</code> which was removed in 4.0</p>\n<p>Hope this helped too</p>\n"}],"owner":{"account_id":25384004,"reputation":11,"user_id":19196025,"display_name":"IdanOst"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672947535,"creation_date":1672849990,"question_id":75008467,"body_markdown":"I&#39;m new to Hazelcast and I&#39;m trying to create java Condition in Hazelcast but I have no idea how to do so.\r\nIs it possible? if so, anyone know how to do that?\r\n\r\n```\r\n@Getter\r\n@Service\r\npublic class HazelcastService {\r\n\r\n    private FencedLock lock;\r\n    private PNCounter counter;\r\n    private Condition notEmpty;\r\n    private IList&lt;PushStatementObjectRequestDTO&gt; listData;\r\n\r\n    @Autowired\r\n    HazelcastInstance hazelcastInstance;\r\n\r\n    @PostConstruct\r\n    public void init(){\r\n        lock = hazelcastInstance.getCPSubsystem().getLock(LIST_LOCK);\r\n        counter = hazelcastInstance.getPNCounter(COUNTER);\r\n        notEmpty = lock.newCondition();\r\n        listData = hazelcastInstance.getList(LIST_DATA);\r\n    }\r\n}\r\n```\r\n\r\nI found ICondition interface, but im not sure how to use it","title":"How to initialize java Condition in Hazelcast","body":"<p>I'm new to Hazelcast and I'm trying to create java Condition in Hazelcast but I have no idea how to do so.\nIs it possible? if so, anyone know how to do that?</p>\n<pre><code>@Getter\n@Service\npublic class HazelcastService {\n\n    private FencedLock lock;\n    private PNCounter counter;\n    private Condition notEmpty;\n    private IList&lt;PushStatementObjectRequestDTO&gt; listData;\n\n    @Autowired\n    HazelcastInstance hazelcastInstance;\n\n    @PostConstruct\n    public void init(){\n        lock = hazelcastInstance.getCPSubsystem().getLock(LIST_LOCK);\n        counter = hazelcastInstance.getPNCounter(COUNTER);\n        notEmpty = lock.newCondition();\n        listData = hazelcastInstance.getList(LIST_DATA);\n    }\n}\n</code></pre>\n<p>I found ICondition interface, but im not sure how to use it</p>\n"},{"tags":["java","api","bots","telegram"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672956066,"post_id":75022267,"comment_id":132396164,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":23835264,"reputation":3,"user_id":17841070,"display_name":"Fabio "},"score":0,"creation_date":1673049203,"post_id":75023541,"comment_id":132417985,"body_markdown":"Yes, it worked. I had to use setPhoto(FileInput) and file_id has to be the String parameter of FileInput constructor. Thanks you very much.","body":"Yes, it worked. I had to use setPhoto(FileInput) and file_id has to be the String parameter of FileInput constructor. Thanks you very much."}],"tags":[],"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672947456,"creation_date":1672947456,"answer_id":75023541,"question_id":75022267,"body_markdown":"The documentation is not really documenting anything, but it looks like the [`FileInput` constructor](https://javadoc.io/doc/org.telegram/telegrambots-meta/5.0.0/org/telegram/telegrambots/meta/api/objects/InputFile.html) can take `String` called attach(ement).\r\n ","title":"Java Telegram Bot: how to send photos having their file_id?","body":"<p>The documentation is not really documenting anything, but it looks like the <a href=\"https://javadoc.io/doc/org.telegram/telegrambots-meta/5.0.0/org/telegram/telegrambots/meta/api/objects/InputFile.html\" rel=\"nofollow noreferrer\"><code>FileInput</code> constructor</a> can take <code>String</code> called attach(ement).</p>\n"}],"owner":{"account_id":23835264,"reputation":3,"user_id":17841070,"display_name":"Fabio "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75023541,"answer_count":1,"score":-1,"last_activity_date":1672947456,"creation_date":1672939931,"question_id":75022267,"body_markdown":"A few years ago I created a bot with *telegrambots* version 3.6.1.\r\nUnfortunately there was a problem: every time that a user with user_ID\\&gt;2147483647 joined the group, the bot crashed, as described [here](https://stackoverflow.com/questions/70593707/java-telegram-bot-numeric-value-out-of-range-of-int).\r\n\r\nI&#39;ve just found out how to update the version of *telegrambots*, but now I&#39;ve another problem.\r\n\r\nI need to use the setPhoto(String file_id) method as described [here](https://core.telegram.org/bots/api#sendphoto) in Telegram ot JAVA API page (Pass a file_id as String to send a photo that exists on the Telegram servers).\r\n\r\nIt looks like that method doesn&#39;t accept String parameter anymore since *telegrambots* version [5.0.0](https://javadoc.io/doc/org.telegram/telegrambots-meta/5.0.0/org/telegram/telegrambots/meta/api/methods/send/SendPhoto.html).\r\n\r\nInfact it worked until *telegrambots* version [4.9.2](https://javadoc.io/doc/org.telegram/telegrambots-meta/4.9.2/org/telegram/telegrambots/meta/api/methods/send/SendPhoto.html).\r\n\r\nSo my bot pins a message in the group with a list of many places, each one can have up till 2 photos.\r\nEach of these photos has its file_id saved in a field of a MySql database.\r\n\r\nSo basically when we use the command to see a pic associated to a place, my code uses setPhoto(file_id) getting the file_id string from the database.\r\n\r\nNow it looks like setPhoto(String) doesn&#39;t work anymore, so how can I solve this problem? I still need to use all the photo we saved in those years. How can i convert these file_id into InputFile argument?\r\n\r\n\r\nI&#39;ve tried to use version 4.9.2 of *telegrambots* and setPhoto(String) works, but I don&#39;t know if in that version, my original problem (numeric value out of range) was already solved and anyway I would like to use the latest version (6.4.0).\r\n\r\nI&#39;ve no idea how to convert String (fileID from database) to InputFile.\r\n\r\nThanks you very much.\r\n","title":"Java Telegram Bot: how to send photos having their file_id?","body":"<p>A few years ago I created a bot with <em>telegrambots</em> version 3.6.1.\nUnfortunately there was a problem: every time that a user with user_ID&gt;2147483647 joined the group, the bot crashed, as described <a href=\"https://stackoverflow.com/questions/70593707/java-telegram-bot-numeric-value-out-of-range-of-int\">here</a>.</p>\n<p>I've just found out how to update the version of <em>telegrambots</em>, but now I've another problem.</p>\n<p>I need to use the setPhoto(String file_id) method as described <a href=\"https://core.telegram.org/bots/api#sendphoto\" rel=\"nofollow noreferrer\">here</a> in Telegram ot JAVA API page (Pass a file_id as String to send a photo that exists on the Telegram servers).</p>\n<p>It looks like that method doesn't accept String parameter anymore since <em>telegrambots</em> version <a href=\"https://javadoc.io/doc/org.telegram/telegrambots-meta/5.0.0/org/telegram/telegrambots/meta/api/methods/send/SendPhoto.html\" rel=\"nofollow noreferrer\">5.0.0</a>.</p>\n<p>Infact it worked until <em>telegrambots</em> version <a href=\"https://javadoc.io/doc/org.telegram/telegrambots-meta/4.9.2/org/telegram/telegrambots/meta/api/methods/send/SendPhoto.html\" rel=\"nofollow noreferrer\">4.9.2</a>.</p>\n<p>So my bot pins a message in the group with a list of many places, each one can have up till 2 photos.\nEach of these photos has its file_id saved in a field of a MySql database.</p>\n<p>So basically when we use the command to see a pic associated to a place, my code uses setPhoto(file_id) getting the file_id string from the database.</p>\n<p>Now it looks like setPhoto(String) doesn't work anymore, so how can I solve this problem? I still need to use all the photo we saved in those years. How can i convert these file_id into InputFile argument?</p>\n<p>I've tried to use version 4.9.2 of <em>telegrambots</em> and setPhoto(String) works, but I don't know if in that version, my original problem (numeric value out of range) was already solved and anyway I would like to use the latest version (6.4.0).</p>\n<p>I've no idea how to convert String (fileID from database) to InputFile.</p>\n<p>Thanks you very much.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1672946709,"post_id":75022717,"comment_id":132393493,"body_markdown":"Are you sure this code works correctly?  The correct answer is 20, but I wonder whether this program gives the answer as 6.  I guess I should run it and find out.","body":"Are you sure this code works correctly?  The correct answer is 20, but I wonder whether this program gives the answer as 6.  I guess I should run it and find out."}],"answers":[{"tags":[],"owner":{"account_id":6403618,"reputation":76,"user_id":4965547,"display_name":"Alexis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672944095,"creation_date":1672944095,"answer_id":75023003,"question_id":75022717,"body_markdown":"Not sure, but maybe this can help you:\r\n\r\n    countPaths(0, 0, 3, 3) // (0, 0)\r\n        = countPaths(0 + 1, 0, 3, 3) // (1, 0)\r\n            = countPaths(1 + 1, 0, 3, 3) // (2, 0)\r\n            + countPaths(1, 0 + 1, 3, 3) // (1, 1)\r\n                [...]\r\n        + countPaths(0, 0 + 1, 3, 3) // (0, 1)\r\n            = countPaths(0 + 1, 1, 3, 3) // (1, 1)\r\n            + countPaths(0, 1 + 1, 3, 3) // (0, 2)\r\n                [...]\r\n\r\nIt aims to show you how the function is nested executed and which values are calculated and returned.","title":"Program to calculate total paths in a maze from (0,0) to (n,m)","body":"<p>Not sure, but maybe this can help you:</p>\n<pre><code>countPaths(0, 0, 3, 3) // (0, 0)\n    = countPaths(0 + 1, 0, 3, 3) // (1, 0)\n        = countPaths(1 + 1, 0, 3, 3) // (2, 0)\n        + countPaths(1, 0 + 1, 3, 3) // (1, 1)\n            [...]\n    + countPaths(0, 0 + 1, 3, 3) // (0, 1)\n        = countPaths(0 + 1, 1, 3, 3) // (1, 1)\n        + countPaths(0, 1 + 1, 3, 3) // (0, 2)\n            [...]\n</code></pre>\n<p>It aims to show you how the function is nested executed and which values are calculated and returned.</p>\n"},{"tags":[],"owner":{"account_id":15080815,"reputation":442,"user_id":10914089,"display_name":"JackColo_Ben4"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672946997,"creation_date":1672946997,"answer_id":75023476,"question_id":75022717,"body_markdown":"Your &quot;countPaths&quot; function is called two times recursively at each step.\r\nIn this case you have 2 BASE conditions, with the role of stopping the recursive function from executing endlessly (that are your two IF statements).  \r\nAt each execution, 2 new nested call (D AND R) (path) are created incrementing i or j ... unless one of the condition is reached.\r\nThe total path is then calculated using the sum of the returning value.  \r\nLike this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WbPR1.png","title":"Program to calculate total paths in a maze from (0,0) to (n,m)","body":"<p>Your &quot;countPaths&quot; function is called two times recursively at each step.\nIn this case you have 2 BASE conditions, with the role of stopping the recursive function from executing endlessly (that are your two IF statements).<br />\nAt each execution, 2 new nested call (D AND R) (path) are created incrementing i or j ... unless one of the condition is reached.\nThe total path is then calculated using the sum of the returning value.<br />\nLike this:\n<a href=\"https://i.stack.imgur.com/WbPR1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WbPR1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20151863,"reputation":103,"user_id":14779007,"display_name":"Strange Alchemist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672946997,"creation_date":1672942472,"question_id":75022717,"body_markdown":"I am a newbie to the concept of recursion. Following is the code that calculates the total number of paths that can be taken for going from (0,0) to (n,m). The rule for reaching the final position is that we can move only right or downwards. I am unable to understand how recursion is working here. \r\n\r\n\r\nI tried to understand it by using print statements but couldn&#39;t understand what is happening after 3rd call to ``rightPath```.\r\n```\r\npublic class Main{\r\n  public static int countPaths(int i, int j, int n, int m){\r\n      if(i==n || j==m){\r\n          return 0;\r\n      }\r\n      if(i==n-1 &amp;&amp; j==m-1){\r\n          return 1;\r\n      }\r\n      int downPath = countPaths(i+1, j, n, m);\r\n      int rightPath = countPaths(i, j+1, n, m);\r\n      return downPath + rightPath;\r\n  }\r\n  public static void main(String[] args){\r\n      int n = 3, m = 3;\r\n      int totalPaths = countPaths(0, 0, n, m);\r\n      System.out.println(totalPaths);\r\n  }\r\n}\r\n```\r\nPlease anybody explain me how the recursion is working here.","title":"Program to calculate total paths in a maze from (0,0) to (n,m)","body":"<p>I am a newbie to the concept of recursion. Following is the code that calculates the total number of paths that can be taken for going from (0,0) to (n,m). The rule for reaching the final position is that we can move only right or downwards. I am unable to understand how recursion is working here.</p>\n<p>I tried to understand it by using print statements but couldn't understand what is happening after 3rd call to ``rightPath```.</p>\n<pre><code>public class Main{\n  public static int countPaths(int i, int j, int n, int m){\n      if(i==n || j==m){\n          return 0;\n      }\n      if(i==n-1 &amp;&amp; j==m-1){\n          return 1;\n      }\n      int downPath = countPaths(i+1, j, n, m);\n      int rightPath = countPaths(i, j+1, n, m);\n      return downPath + rightPath;\n  }\n  public static void main(String[] args){\n      int n = 3, m = 3;\n      int totalPaths = countPaths(0, 0, n, m);\n      System.out.println(totalPaths);\n  }\n}\n</code></pre>\n<p>Please anybody explain me how the recursion is working here.</p>\n"},{"tags":["java","spring","spring-data-jpa","jwt","spring-security-rest"],"owner":{"account_id":17644829,"reputation":671,"user_id":12806467,"display_name":"MrSolarius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672946623,"creation_date":1672946623,"question_id":75023416,"body_markdown":"I want to make a rest API where some endpoints are protected by an authentication base on users roles. I also would like to use JWT token and to check roles of user. Furthermore, I have seen countless confusing things in internet that are either depreciating or not working in my case.\r\n\r\nMy goal with this question is to get a better understanding of how spring work to generate JWT, how to generate one if user is login and how to make endpoint inaccessible if you don&#39;t have right. And most importantly, how to do that with last and best security standards and best code quality for the last version of spring (3.0.1). \r\n\r\nI have tried to use spring security module with `SecurityConfig` class that has `@EnableWebSecurity` and I have tried to define a simple filter chain, but It seems to return me 401 error even if I&#39;m on authorized endpoint.\r\n\r\nHere is my conf :\r\n```java\r\n@EnableWebSecurity\r\n@Configuration\r\npublic class SecurityConfig {\r\n    @Autowired\r\n    DataSource dataSource;\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    public AuthenticationManager authenticationManager(AuthenticationManagerBuilder auth)\r\n            throws Exception {\r\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder);\r\n        return auth.build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().disable();\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/auth/login&quot;).permitAll();\r\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/auth/register&quot;).permitAll();\r\n        http.authorizeHttpRequests().anyRequest().authenticated();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nAs you can see I provide a bean that provide UserDetailsService that I think can be used to check if user as a correct password. So here is my Service implementation :\r\n```java\r\n\r\n@Service\r\npublic class MyUserDetailsService implements UserDetailsService {\r\n    private final UserAuthService userAuthService;\r\n    public GroMedUserDetailsService(UserAuthService userAuthService){\r\n        this.userAuthService = userAuthService;\r\n    }\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Optional&lt;User&gt; user = this.userAuthService.findUserByUsername(username);\r\n        if(user.isEmpty()){\r\n            throw  new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        authorities.add(new SimpleGrantedAuthority(user.get().getGroMedRole().toString()));\r\n        return new org.springframework.security.core.userdetails.User(user.get().getUsername(),user.get().getPassword(),authorities);\r\n    }\r\n}\r\n```\r\n\r\nSo I know I don&#39;t have all of component needed for authentification. But I&#39;m here to learn how to correctly create it and use it. So if you know some good tutorial or you have a complete awnser for me I will be please to read it.\r\n","title":"How to make a proper jwt authentification for rest api using spring boot security?","body":"<p>I want to make a rest API where some endpoints are protected by an authentication base on users roles. I also would like to use JWT token and to check roles of user. Furthermore, I have seen countless confusing things in internet that are either depreciating or not working in my case.</p>\n<p>My goal with this question is to get a better understanding of how spring work to generate JWT, how to generate one if user is login and how to make endpoint inaccessible if you don't have right. And most importantly, how to do that with last and best security standards and best code quality for the last version of spring (3.0.1).</p>\n<p>I have tried to use spring security module with <code>SecurityConfig</code> class that has <code>@EnableWebSecurity</code> and I have tried to define a simple filter chain, but It seems to return me 401 error even if I'm on authorized endpoint.</p>\n<p>Here is my conf :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@Configuration\npublic class SecurityConfig {\n    @Autowired\n    DataSource dataSource;\n\n    @Autowired\n    UserDetailsService userDetailsService;\n\n    @Autowired\n    PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public AuthenticationManager authenticationManager(AuthenticationManagerBuilder auth)\n            throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(passwordEncoder);\n        return auth.build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable();\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/auth/login&quot;).permitAll();\n        http.authorizeHttpRequests().requestMatchers(&quot;/api/auth/register&quot;).permitAll();\n        http.authorizeHttpRequests().anyRequest().authenticated();\n        return http.build();\n    }\n}\n</code></pre>\n<p>As you can see I provide a bean that provide UserDetailsService that I think can be used to check if user as a correct password. So here is my Service implementation :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\npublic class MyUserDetailsService implements UserDetailsService {\n    private final UserAuthService userAuthService;\n    public GroMedUserDetailsService(UserAuthService userAuthService){\n        this.userAuthService = userAuthService;\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Optional&lt;User&gt; user = this.userAuthService.findUserByUsername(username);\n        if(user.isEmpty()){\n            throw  new UsernameNotFoundException(&quot;User not found&quot;);\n        }\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        authorities.add(new SimpleGrantedAuthority(user.get().getGroMedRole().toString()));\n        return new org.springframework.security.core.userdetails.User(user.get().getUsername(),user.get().getPassword(),authorities);\n    }\n}\n</code></pre>\n<p>So I know I don't have all of component needed for authentification. But I'm here to learn how to correctly create it and use it. So if you know some good tutorial or you have a complete awnser for me I will be please to read it.</p>\n"},{"tags":["java","spring-boot","kotlin","amazon-sqs","sqslistener"],"answers":[{"comments":[{"owner":{"account_id":1210677,"reputation":418,"user_id":1179274,"accept_rate":48,"display_name":"Kyore"},"score":0,"creation_date":1647867460,"post_id":71554975,"comment_id":126471562,"body_markdown":"It did&#39;t work. Looks like those annotations works only with Beans, which is not this case.","body":"It did&#39;t work. Looks like those annotations works only with Beans, which is not this case."},{"owner":{"account_id":7013343,"reputation":453,"user_id":5375462,"accept_rate":57,"display_name":"DragneelFPS"},"score":0,"creation_date":1648143793,"post_id":71554975,"comment_id":126556168,"body_markdown":"You can try adding the `@ConditionalOnExpression(&quot;\\${toggle.orders.enabled:false}&quot;)` onto the `@Component/Service` class which contains the `hanldeOrders` method.","body":"You can try adding the <code>@ConditionalOnExpression(&quot;\\${toggle.orders.enabled:false}&quot;)</code> onto the <code>@Component&#47;Service</code> class which contains the <code>hanldeOrders</code> method."}],"tags":[],"owner":{"account_id":7013343,"reputation":453,"user_id":5375462,"accept_rate":57,"display_name":"DragneelFPS"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647853049,"creation_date":1647853049,"answer_id":71554975,"question_id":71551988,"body_markdown":"You can toggle creation of SqsListener using `@ConditionalOnExpression`\r\n\r\nLike:\r\n```\r\n@SqsListener(\r\n    value = [&quot;\\${messaging.queue.orders}&quot;],\r\n    deletionPolicy = SqsMessageDeletionPolicy.NEVER\r\n)\r\n@ConditionalOnExpression(&quot;\\${toggle.orders.enabled:false}&quot;)\r\nfun handleOrders(message: String) {\r\n    // process order\r\n}\r\n```\r\nAnd adding following to `application.yaml`\r\n```\r\ntoggle:\r\n  orders:\r\n    enabled: true\r\n```\r\nif you change the property, you will have to restart the server unless you are using spring cloud for configuration\r\n\r\nYou can also use `@ConditionalOnProperty(prefix = &quot;toggle&quot;, name = &quot;orders.enabled&quot;)`","title":"Pause spring SqsListener to pull messages from queue","body":"<p>You can toggle creation of SqsListener using <code>@ConditionalOnExpression</code></p>\n<p>Like:</p>\n<pre><code>@SqsListener(\n    value = [&quot;\\${messaging.queue.orders}&quot;],\n    deletionPolicy = SqsMessageDeletionPolicy.NEVER\n)\n@ConditionalOnExpression(&quot;\\${toggle.orders.enabled:false}&quot;)\nfun handleOrders(message: String) {\n    // process order\n}\n</code></pre>\n<p>And adding following to <code>application.yaml</code></p>\n<pre><code>toggle:\n  orders:\n    enabled: true\n</code></pre>\n<p>if you change the property, you will have to restart the server unless you are using spring cloud for configuration</p>\n<p>You can also use <code>@ConditionalOnProperty(prefix = &quot;toggle&quot;, name = &quot;orders.enabled&quot;)</code></p>\n"},{"tags":[],"owner":{"account_id":1164178,"reputation":1598,"user_id":1143126,"accept_rate":80,"display_name":"RobertG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672946029,"creation_date":1672946029,"answer_id":75023332,"question_id":71551988,"body_markdown":"I&#39;m having a similar issue.\r\n\r\nGoogling it, I found [this](https://github.com/spring-attic/spring-cloud-aws/issues/523#issuecomment-637597632) issue on the archived predecessor of [spring-cloud-aws-sqs](https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-sqs/src/main/java/io/awspring/cloud/sqs/annotation/SqsListener.java#L28). \r\n  \r\nIt describes **this workaround**: \r\n\r\n 1. Get the beans of the listener container that wraps the SQS listener (from the SpringBoot application context)\r\n 1. Call the `stop()` method on them \r\n\r\nNowadays in [spring-cloud-aws](https://github.com/awspring/spring-cloud-aws),  [@SqsListener](https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-sqs/src/main/java/io/awspring/cloud/sqs/annotation/SqsListener.java#L28) is still there. \r\n\r\nThe listener container class you may want to autowire is `io.awspring.cloud.sqs.listener.SqsMessageListenerContainer` (to call its inherited `io.awspring.cloud.sqs.listener.AbstractMessageListenerContainer#stop`).\r\n\r\n","title":"Pause spring SqsListener to pull messages from queue","body":"<p>I'm having a similar issue.</p>\n<p>Googling it, I found <a href=\"https://github.com/spring-attic/spring-cloud-aws/issues/523#issuecomment-637597632\" rel=\"nofollow noreferrer\">this</a> issue on the archived predecessor of <a href=\"https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-sqs/src/main/java/io/awspring/cloud/sqs/annotation/SqsListener.java#L28\" rel=\"nofollow noreferrer\">spring-cloud-aws-sqs</a>.</p>\n<p>It describes <strong>this workaround</strong>:</p>\n<ol>\n<li>Get the beans of the listener container that wraps the SQS listener (from the SpringBoot application context)</li>\n<li>Call the <code>stop()</code> method on them</li>\n</ol>\n<p>Nowadays in <a href=\"https://github.com/awspring/spring-cloud-aws\" rel=\"nofollow noreferrer\">spring-cloud-aws</a>,  <a href=\"https://github.com/awspring/spring-cloud-aws/blob/main/spring-cloud-aws-sqs/src/main/java/io/awspring/cloud/sqs/annotation/SqsListener.java#L28\" rel=\"nofollow noreferrer\">@SqsListener</a> is still there.</p>\n<p>The listener container class you may want to autowire is <code>io.awspring.cloud.sqs.listener.SqsMessageListenerContainer</code> (to call its inherited <code>io.awspring.cloud.sqs.listener.AbstractMessageListenerContainer#stop</code>).</p>\n"}],"owner":{"account_id":1210677,"reputation":418,"user_id":1179274,"accept_rate":48,"display_name":"Kyore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1624,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1672946029,"creation_date":1647826682,"question_id":71551988,"body_markdown":"Currently I have a SQS queue that move the messages to a DLQ after 5 retries, I&#39;m using spring `SqsListener` to read the queue:\r\n\r\n```kotlin\r\n@SqsListener(\r\n    value = [&quot;\\${messaging.queue.orders}&quot;],\r\n    deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS\r\n)\r\nfun handleOrders(message: String) {\r\n    // process order\r\n}\r\n```\r\n\r\nNow I&#39;m trying to use a feature toggle to pause the listener, but I could not find a way to do that, I tried to use the `Acknowledgment` manually, but the message is move to the DLQ if I don&#39;t send the success ack event:\r\n\r\n```kotlin\r\n@SqsListener(\r\n    value = [&quot;\\${messaging.queue.orders}&quot;],\r\n    deletionPolicy = SqsMessageDeletionPolicy.NEVER\r\n)\r\nfun handleOrders(message: String, ack: Acknowledgment) {\r\n    if(toggle.orders.enabled) {\r\n        // process order\r\n        ack.acknowledge()\r\n    }\r\n    // else don not process or ack the message\r\n}\r\n```\r\n\r\nAs I said, the problem with the solution above is that if I don&#39;t execute the `ack.acknowledge()` the message is moved to the DLQ after the fifth time, so I would need to pause/stop the `SqsListener` to pull messages from the Queue if the toggle is disabled, and start/resume if it&#39;s enabled again.","title":"Pause spring SqsListener to pull messages from queue","body":"<p>Currently I have a SQS queue that move the messages to a DLQ after 5 retries, I'm using spring <code>SqsListener</code> to read the queue:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SqsListener(\n    value = [&quot;\\${messaging.queue.orders}&quot;],\n    deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS\n)\nfun handleOrders(message: String) {\n    // process order\n}\n</code></pre>\n<p>Now I'm trying to use a feature toggle to pause the listener, but I could not find a way to do that, I tried to use the <code>Acknowledgment</code> manually, but the message is move to the DLQ if I don't send the success ack event:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@SqsListener(\n    value = [&quot;\\${messaging.queue.orders}&quot;],\n    deletionPolicy = SqsMessageDeletionPolicy.NEVER\n)\nfun handleOrders(message: String, ack: Acknowledgment) {\n    if(toggle.orders.enabled) {\n        // process order\n        ack.acknowledge()\n    }\n    // else don not process or ack the message\n}\n</code></pre>\n<p>As I said, the problem with the solution above is that if I don't execute the <code>ack.acknowledge()</code> the message is moved to the DLQ after the fifth time, so I would need to pause/stop the <code>SqsListener</code> to pull messages from the Queue if the toggle is disabled, and start/resume if it's enabled again.</p>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"score":0,"creation_date":1672939673,"post_id":75022151,"comment_id":132391330,"body_markdown":"@JustinBertram I am receiving this while building the app","body":"@JustinBertram I am receiving this while building the app"},{"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"score":0,"creation_date":1672939841,"post_id":75022151,"comment_id":132391382,"body_markdown":"I am using gradle. Just added the gradle module file","body":"I am using gradle. Just added the gradle module file"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1672941660,"post_id":75022151,"comment_id":132392008,"body_markdown":"I&#39;m not real familiar with Gradle, but the fact that you&#39;re getting a `ClassNotFoundException` while building indicates a problem with your Gradle configuration. Your Gradle config looks strange to me since you&#39;ve listed dependencies for both `org.springframework.boot:spring-boot-starter-websocket` **and** `org.springframework.boot:spring-boot-starter-websocket:2.7.0`. Then you&#39;re also declaring dependencies for `org.springframework:spring-websocket` and `org.springframework:spring-messaging` which are already included in `org.springframework.boot:spring-boot-starter-websocket`.","body":"I&#39;m not real familiar with Gradle, but the fact that you&#39;re getting a <code>ClassNotFoundException</code> while building indicates a problem with your Gradle configuration. Your Gradle config looks strange to me since you&#39;ve listed dependencies for both <code>org.springframework.boot:spring-boot-starter-websocket</code> <b>and</b> <code>org.springframework.boot:spring-boot-starter-websocket:2.7.0</code>&zwnj;&#8203;. Then you&#39;re also declaring dependencies for <code>org.springframework:spring-websocket</code> and <code>org.springframework:spring-messaging</code> which are already included in <code>org.springframework.boot:spring-boot-starter-websocket</code>."},{"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"score":0,"creation_date":1672941945,"post_id":75022151,"comment_id":132392094,"body_markdown":"I have removed all of them and keep `implementation(&quot;org.springframework.boot:spring-boot-starter-websocket:2.7.0&quot;)` but no luck","body":"I have removed all of them and keep <code>implementation(&quot;org.springframework.boot:spring-boot-starter&zwnj;&#8203;-websocket:2.7.0&quot;)</code> but no luck"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1672942180,"post_id":75022151,"comment_id":132392186,"body_markdown":"Are you still declaring a dependency on `org.springframework.boot:spring-boot-starter-web`? If so you should probably remove that as well because it is also included in `org.springframework.boot:spring-boot-starter-websocket`.","body":"Are you still declaring a dependency on <code>org.springframework.boot:spring-boot-starter-web</code>? If so you should probably remove that as well because it is also included in <code>org.springframework.boot:spring-boot-starter-websocket</code>."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1672942235,"post_id":75022151,"comment_id":132392201,"body_markdown":"You should also align your versions. You&#39;re using many dependencies from `2.7.5` but then using `2.7.0` for `spring-boot-starter-websocket`.","body":"You should also align your versions. You&#39;re using many dependencies from <code>2.7.5</code> but then using <code>2.7.0</code> for <code>spring-boot-starter-websocket</code>."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1672942285,"post_id":75022151,"comment_id":132392218,"body_markdown":"You should also keep your question updated with everything you&#39;ve tried so that other users don&#39;t have to read through all the comments to understand the current situation.","body":"You should also keep your question updated with everything you&#39;ve tried so that other users don&#39;t have to read through all the comments to understand the current situation."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1672942513,"post_id":75022151,"comment_id":132392286,"body_markdown":"You should also eliminate all dependencies which aren&#39;t strictly required.","body":"You should also eliminate all dependencies which aren&#39;t strictly required."},{"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"score":0,"creation_date":1672942663,"post_id":75022151,"comment_id":132392330,"body_markdown":"yes, I have removed all unnecessary dependencies and updated the edit section","body":"yes, I have removed all unnecessary dependencies and updated the edit section"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1672943409,"post_id":75022151,"comment_id":132392565,"body_markdown":"You **haven&#39;t** removed all unnecessary dependencies because you are **still** declaring a dependency on `org.springframework.boot:spring-boot-starter-web` even though it is already included in `org.springframework.boot:spring-boot-starter-websocket`. Also, your versions still aren&#39;t aligned as previously noted.","body":"You <b>haven&#39;t</b> removed all unnecessary dependencies because you are <b>still</b> declaring a dependency on <code>org.springframework.boot:spring-boot-starter-web</code> even though it is already included in <code>org.springframework.boot:spring-boot-starter-websocket</code>. Also, your versions still aren&#39;t aligned as previously noted."}],"answers":[{"tags":[],"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672945470,"creation_date":1672945470,"answer_id":75023262,"question_id":75022151,"body_markdown":"It worked for me after using the following dependencies:\r\n\r\n    implementation(&quot;org.springframework:spring-messaging:5.2.22.RELEASE&quot;)\r\n    implementation(&quot;org.springframework:spring-websocket:5.2.22.RELEASE&quot;)\r\n\r\nThe library `org.springframework.boot:spring-boot-starter-websocket` was creating a circular dependency that caused an error. The issue is listed [here][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/issues/27746","title":"Spring Boot configuration annotation not working properly","body":"<p>It worked for me after using the following dependencies:</p>\n<pre><code>implementation(&quot;org.springframework:spring-messaging:5.2.22.RELEASE&quot;)\nimplementation(&quot;org.springframework:spring-websocket:5.2.22.RELEASE&quot;)\n</code></pre>\n<p>The library <code>org.springframework.boot:spring-boot-starter-websocket</code> was creating a circular dependency that caused an error. The issue is listed <a href=\"https://github.com/spring-projects/spring-framework/issues/27746\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":220846,"reputation":10684,"user_id":834239,"accept_rate":64,"display_name":"Amit Pal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672945470,"creation_date":1672939275,"question_id":75022151,"body_markdown":"I am setting up a STOMP WebSocket in Spring Boot 2.7 using Java 17 &amp; Gradle, but I&#39;m receiving the following error when building the app:\r\n```\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.beans.factory.annotation.RequiredAnnotationBeanPostProcessor\r\n   at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n   at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n   at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n   ... 16 common frames omitted\r\n```\r\nHere is the code for WebSocket config file:\r\n```java\r\n@EnableWebSocketMessageBroker\r\n@Configuration\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n  @Override\r\n  public void configureMessageBroker(MessageBrokerRegistry config) {\r\n    config.enableSimpleBroker(&quot;/user&quot;);\r\n    config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    config.setUserDestinationPrefix(&quot;/user&quot;);\r\n  }\r\n\r\n  @Override\r\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n    registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    registry.addEndpoint(&quot;/ws&quot;);\r\n  }\r\n\r\n  @Override\r\n  public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\r\n    DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\r\n    resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\r\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    converter.setObjectMapper(new ObjectMapper());\r\n    converter.setContentTypeResolver(resolver);\r\n    messageConverters.add(converter);\r\n    return false;\r\n  }\r\n}\r\n```\r\nHere is my main class file:\r\n```java\r\n@SpringBootApplication\r\npublic class ClientPortalApplication {\r\n\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(ClientPortalApplication.class, args);\r\n  }\r\n\r\n}\r\n```\r\nI was able to run the WebSocket using the same configuration before, but I am not able to understand why the project is giving me this error. Any help would be appreciated. \r\n\r\nHere is my gradle file:\r\n```\r\nplugins {\r\n    java\r\n    application\r\n    `maven-publish`\r\n    id(&quot;org.springframework.boot&quot;)\r\n}\r\n\r\ndependencies {\r\n    implementation(project(&quot;:commons&quot;))\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web:2.7.5&quot;)\r\n    implementation(&quot;dev.morphia.morphia:core:1.6.1&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-mongodb-reactive:2.7.5&quot;)\r\n    implementation(&quot;org.mongodb:mongodb-driver-sync:4.6.1&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client:2.7.5&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf:2.7.5&quot;)\r\n    implementation(&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.0.4.RELEASE&quot;)\r\n    implementation(&quot;commons-beanutils:commons-beanutils:1.9.4&quot;)\r\n    implementation(&quot;com.stripe:stripe-java:21.5.0&quot;)\r\n    implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security:2.7.5&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:2.7.5&quot;)\r\n    implementation(&quot;com.mashape.unirest:unirest-java:1.4.9&quot;)\r\n    compileOnly(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-websocket:2.7.0&quot;)\r\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\r\n}\r\n\r\ngroup = &quot;com.project&quot;\r\nversion = &quot;0.0.1-SNAPSHOT&quot;\r\ndescription = &quot;service&quot;\r\njava.sourceCompatibility = JavaVersion.VERSION_17\r\n\r\npublishing {\r\n    publications.create&lt;MavenPublication&gt;(&quot;maven&quot;) {\r\n        from(components[&quot;java&quot;])\r\n    }\r\n}\r\n\r\ntasks.withType&lt;JavaCompile&gt;() {\r\n    options.encoding = &quot;UTF-8&quot;\r\n}\r\n\r\napplication {\r\n    mainClass.set(&quot;com.project.clientportal.ClientPortalApplication&quot;)\r\n}\r\n```","title":"Spring Boot configuration annotation not working properly","body":"<p>I am setting up a STOMP WebSocket in Spring Boot 2.7 using Java 17 &amp; Gradle, but I'm receiving the following error when building the app:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: org.springframework.beans.factory.annotation.RequiredAnnotationBeanPostProcessor\n   at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n   at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n   at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n   ... 16 common frames omitted\n</code></pre>\n<p>Here is the code for WebSocket config file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSocketMessageBroker\n@Configuration\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n  @Override\n  public void configureMessageBroker(MessageBrokerRegistry config) {\n    config.enableSimpleBroker(&quot;/user&quot;);\n    config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    config.setUserDestinationPrefix(&quot;/user&quot;);\n  }\n\n  @Override\n  public void registerStompEndpoints(StompEndpointRegistry registry) {\n    registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n    registry.addEndpoint(&quot;/ws&quot;);\n  }\n\n  @Override\n  public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\n    DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\n    resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\n    MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n    converter.setObjectMapper(new ObjectMapper());\n    converter.setContentTypeResolver(resolver);\n    messageConverters.add(converter);\n    return false;\n  }\n}\n</code></pre>\n<p>Here is my main class file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class ClientPortalApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(ClientPortalApplication.class, args);\n  }\n\n}\n</code></pre>\n<p>I was able to run the WebSocket using the same configuration before, but I am not able to understand why the project is giving me this error. Any help would be appreciated.</p>\n<p>Here is my gradle file:</p>\n<pre><code>plugins {\n    java\n    application\n    `maven-publish`\n    id(&quot;org.springframework.boot&quot;)\n}\n\ndependencies {\n    implementation(project(&quot;:commons&quot;))\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web:2.7.5&quot;)\n    implementation(&quot;dev.morphia.morphia:core:1.6.1&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-mongodb-reactive:2.7.5&quot;)\n    implementation(&quot;org.mongodb:mongodb-driver-sync:4.6.1&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-oauth2-client:2.7.5&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-thymeleaf:2.7.5&quot;)\n    implementation(&quot;org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.0.4.RELEASE&quot;)\n    implementation(&quot;commons-beanutils:commons-beanutils:1.9.4&quot;)\n    implementation(&quot;com.stripe:stripe-java:21.5.0&quot;)\n    implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-security:2.7.5&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator:2.7.5&quot;)\n    implementation(&quot;com.mashape.unirest:unirest-java:1.4.9&quot;)\n    compileOnly(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    annotationProcessor(&quot;org.projectlombok:lombok:1.18.24&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-websocket:2.7.0&quot;)\n    testImplementation(&quot;junit:junit:4.13.2&quot;)\n}\n\ngroup = &quot;com.project&quot;\nversion = &quot;0.0.1-SNAPSHOT&quot;\ndescription = &quot;service&quot;\njava.sourceCompatibility = JavaVersion.VERSION_17\n\npublishing {\n    publications.create&lt;MavenPublication&gt;(&quot;maven&quot;) {\n        from(components[&quot;java&quot;])\n    }\n}\n\ntasks.withType&lt;JavaCompile&gt;() {\n    options.encoding = &quot;UTF-8&quot;\n}\n\napplication {\n    mainClass.set(&quot;com.project.clientportal.ClientPortalApplication&quot;)\n}\n</code></pre>\n"},{"tags":["java","hibernate","hsqldb","p6spy"],"comments":[{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1505604656,"post_id":46251315,"comment_id":79482233,"body_markdown":"Not what you are asking, but you get get HSQLDB to log all the executed SQL http://hsqldb.org/doc/2.0/guide/management-chapt.html#mtc_internal_monitoring","body":"Not what you are asking, but you get get HSQLDB to log all the executed SQL <a href=\"http://hsqldb.org/doc/2.0/guide/management-chapt.html#mtc_internal_monitoring\" rel=\"nofollow noreferrer\">hsqldb.org/doc/2.0/guide/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":234292,"reputation":126,"user_id":500349,"display_name":"monojetski"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1515992423,"creation_date":1515992423,"answer_id":48257162,"question_id":46251315,"body_markdown":"I had the same problem. For me it was because hibernate added the updates into a batch and by default batch calls are not logged in p6spy. Update the p6spy properties, so batch is logged.\r\n\r\n\r\nspy.properties\r\n\r\n    #list of categories to exclude: error, info, batch, debug, statement,\r\n    #commit, rollback and result are valid values\r\n    #excludecategories=\r\n    excludecategories=info,debug,result\r\n\r\n\r\n\r\n","title":"P6Spy does not log hibernate update with HSQLDB","body":"<p>I had the same problem. For me it was because hibernate added the updates into a batch and by default batch calls are not logged in p6spy. Update the p6spy properties, so batch is logged.</p>\n\n<p>spy.properties</p>\n\n<pre><code>#list of categories to exclude: error, info, batch, debug, statement,\n#commit, rollback and result are valid values\n#excludecategories=\nexcludecategories=info,debug,result\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672989602,"post_id":75023236,"comment_id":132401464,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75023236/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":16648537,"reputation":19,"user_id":12032184,"display_name":"Sagir"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672945326,"creation_date":1672945326,"answer_id":75023236,"question_id":46251315,"body_markdown":"In Spring data JPA comment this line\r\n\r\n    #spring.jpa.properties.hibernate.jdbc.batch_size=10\r\n\r\n","title":"P6Spy does not log hibernate update with HSQLDB","body":"<p>In Spring data JPA comment this line</p>\n<pre><code>#spring.jpa.properties.hibernate.jdbc.batch_size=10\n</code></pre>\n"}],"owner":{"account_id":4719664,"reputation":3937,"user_id":3817953,"accept_rate":80,"display_name":"yunandtidus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":48257162,"answer_count":2,"score":3,"last_activity_date":1672945326,"creation_date":1505546430,"question_id":46251315,"body_markdown":"I&#39;m trying to set up a simple project using HSQLDB to explain Hibernate basics.\r\nFor a better understanding of Hibernate internal&#39;s I would like to install P6Spy to show corresponding SQL statements.\r\n\r\nI can&#39;t get SQL Update statements in my console.\r\n\r\n    Hibernate: insert into User (id, name) values (null, ?)\r\n    1505546078019|0|statement|connection 0|insert into User (id, name) values (null, ?)|insert into User (id, name) values (null, &#39;A&#39;)\r\n    Hibernate: update User set name=? where id=?\r\n    1505546078027|0|commit|connection 0||\r\n\r\n&gt; P6Spy and Hibernate show me the insert statement, but only Hibernate displays the update statement\r\n\r\nHere is my source code :\r\n\r\n**hibernate.cfg.xml**\r\n\r\n\t&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n\t&lt;!DOCTYPE hibernate-configuration PUBLIC\r\n\t        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n\t        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\t&lt;hibernate-configuration&gt;\r\n\t    &lt;session-factory&gt;\r\n\t        &lt;property name=&quot;connection.driver_class&quot;&gt;com.p6spy.engine.spy.P6SpyDriver&lt;/property&gt;\r\n\t        &lt;property name=&quot;connection.url&quot;&gt;jdbc:p6spy:hsqldb:mem:so&lt;/property&gt;\r\n\t        &lt;property name=&quot;connection.username&quot;&gt;sa&lt;/property&gt;\r\n\t        &lt;property name=&quot;connection.password&quot;&gt;&lt;/property&gt;\r\n\t        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.HSQLDialect&lt;/property&gt;\r\n\t        \r\n\t        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\t                \r\n\t        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n\t        \r\n\t        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\t        \r\n\t        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n\t    &lt;/session-factory&gt;\r\n\t&lt;/hibernate-configuration&gt;\r\n\r\n**com/so/User.java**\r\n\r\n\tpackage com.so;\r\n\t\r\n\timport javax.persistence.Column;\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.GenerationType;\r\n\timport javax.persistence.Id;\r\n\t\r\n\t@Entity\r\n\tpublic class User {\r\n\t\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\t    private Long id;\r\n\t    @Column\r\n\t    private String name;\r\n\t\r\n\t    public User() {\r\n\t    }\r\n\t\r\n\t    public Long getId() {\r\n\t        return id;\r\n\t    }\r\n\t\r\n\t    protected void setId(Long id) {\r\n\t        this.id = id;\r\n\t    }\r\n\t\r\n\t    public String getName() {\r\n\t        return name;\r\n\t    }\r\n\t\r\n\t    public void setName(String name) {\r\n\t        this.name = name;\r\n\t    }\r\n\t\r\n\t    /*\r\n\t     * (non-Javadoc)\r\n\t     * \r\n\t     * @see java.lang.Object#toString()\r\n\t     */\r\n\t    @Override\r\n\t    public String toString() {\r\n\t        return &quot;User [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n\t    }\r\n\t\r\n\t}\r\n\r\n**com/so/Main**\r\n\r\n   \tpackage com.so;\r\n\t\r\n\timport org.hibernate.SessionFactory;\r\n\timport org.hibernate.cfg.AnnotationConfiguration;\r\n\t\r\n\tpublic class Main {\r\n\t    private static final SessionFactory sessionFactory = buildSessionFactory();\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t        sessionFactory.getCurrentSession().beginTransaction();\r\n\t        User e = new User();\r\n\t        e.setName(&quot;A&quot;);\r\n\t        sessionFactory.getCurrentSession().save(e);\r\n\t        e.setName(&quot;B&quot;);\r\n\t        sessionFactory.getCurrentSession().getTransaction().commit();\r\n\t    }\r\n\t\r\n\t    private static SessionFactory buildSessionFactory() {\r\n\t        try {\r\n\t            return new AnnotationConfiguration()\r\n\t            \t\t.addAnnotatedClass(User.class)\r\n\t            \t\t.configure().buildSessionFactory();\r\n\t        } catch (Throwable ex) {\r\n\t            System.err.println(&quot;Initial SessionFactory creation failed.&quot; + ex);\r\n\t            throw new ExceptionInInitializerError(ex);\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n**pom.xml**\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t&lt;groupId&gt;com.so&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;test-hibernate&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.2.GA&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-annotations --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.3.1.GA&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;!-- Hibernate uses slf4j for logging, for our purposes here use the simple \r\n\t\t\t\tbackend --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;javassist&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.9.0.GA&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;p6spy&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;p6spy&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/project&gt;\r\n\r\n**spy.properties**\r\n\r\n    appender=com.p6spy.engine.spy.appender.StdoutLogger","title":"P6Spy does not log hibernate update with HSQLDB","body":"<p>I'm trying to set up a simple project using HSQLDB to explain Hibernate basics.\nFor a better understanding of Hibernate internal's I would like to install P6Spy to show corresponding SQL statements.</p>\n\n<p>I can't get SQL Update statements in my console.</p>\n\n<pre><code>Hibernate: insert into User (id, name) values (null, ?)\n1505546078019|0|statement|connection 0|insert into User (id, name) values (null, ?)|insert into User (id, name) values (null, 'A')\nHibernate: update User set name=? where id=?\n1505546078027|0|commit|connection 0||\n</code></pre>\n\n<blockquote>\n  <p>P6Spy and Hibernate show me the insert statement, but only Hibernate displays the update statement</p>\n</blockquote>\n\n<p>Here is my source code :</p>\n\n<p><strong>hibernate.cfg.xml</strong></p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n        \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n        \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.p6spy.engine.spy.P6SpyDriver&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:p6spy:hsqldb:mem:so&lt;/property&gt;\n        &lt;property name=\"connection.username\"&gt;sa&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;&lt;/property&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.HSQLDialect&lt;/property&gt;\n\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n        &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p><strong>com/so/User.java</strong></p>\n\n<pre><code>package com.so;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    @Column\n    private String name;\n\n    public User() {\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    protected void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    /*\n     * (non-Javadoc)\n     * \n     * @see java.lang.Object#toString()\n     */\n    @Override\n    public String toString() {\n        return \"User [id=\" + id + \", name=\" + name + \"]\";\n    }\n\n}\n</code></pre>\n\n<p><strong>com/so/Main</strong></p>\n\n<pre><code>package com.so;\n\nimport org.hibernate.SessionFactory;\nimport org.hibernate.cfg.AnnotationConfiguration;\n\npublic class Main {\n    private static final SessionFactory sessionFactory = buildSessionFactory();\n\n    public static void main(String[] args) {\n        sessionFactory.getCurrentSession().beginTransaction();\n        User e = new User();\n        e.setName(\"A\");\n        sessionFactory.getCurrentSession().save(e);\n        e.setName(\"B\");\n        sessionFactory.getCurrentSession().getTransaction().commit();\n    }\n\n    private static SessionFactory buildSessionFactory() {\n        try {\n            return new AnnotationConfiguration()\n                    .addAnnotatedClass(User.class)\n                    .configure().buildSessionFactory();\n        } catch (Throwable ex) {\n            System.err.println(\"Initial SessionFactory creation failed.\" + ex);\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.so&lt;/groupId&gt;\n    &lt;artifactId&gt;test-hibernate&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-annotations --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate uses slf4j for logging, for our purposes here use the simple \n            backend --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.25&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;2.3.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javassist&lt;/groupId&gt;\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0.GA&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;p6spy&lt;/groupId&gt;\n            &lt;artifactId&gt;p6spy&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong>spy.properties</strong></p>\n\n<pre><code>appender=com.p6spy.engine.spy.appender.StdoutLogger\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1672774057,"post_id":74997654,"comment_id":132348656,"body_markdown":"`should not create a target folder` what is the problem with that? That&#39;s the default of Maven? Is there a problem? Apart from that you can delete that after you build via `mvn clean`??","body":"<code>should not create a target folder</code> what is the problem with that? That&#39;s the default of Maven? Is there a problem? Apart from that you can delete that after you build via <code>mvn clean</code>??"},{"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"score":0,"creation_date":1672775088,"post_id":74997654,"comment_id":132348964,"body_markdown":"none in particular, but some teams have requested for a single target folder as it makes it less confusing, so was hoping to avoid creating multiple targets.","body":"none in particular, but some teams have requested for a single target folder as it makes it less confusing, so was hoping to avoid creating multiple targets."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673122061,"post_id":74997654,"comment_id":132428782,"body_markdown":"Teach your team how Maven works. It&#39;s easier to use the convention instead configuring things (conventions over configuration)...","body":"Teach your team how Maven works. It&#39;s easier to use the convention instead configuring things (conventions over configuration)..."}],"answers":[{"tags":[],"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672945195,"creation_date":1672802156,"answer_id":75000626,"question_id":74997654,"body_markdown":"The `target` directory is Maven&#39;s working directory (even with a plugin, there is probably not a good way to delete it while the build is running).\r\n\r\nInstead, you should run `mvn clean` once the first build is finished, and build artifacts have been moved to another location.\r\n\r\n```shell\r\n@echo off\r\n\r\nREM -------------------------------------------------------------------------------\r\nREM -- Build the project\r\ncall mvn clean package\r\nset &quot;RETURN_VAL=%ERRORLEVEL%&quot;\r\nif [1]==[%RETURN_VAL%] goto error\r\nif [0]==[%RETURN_VAL%] goto success\r\n\r\nREM -------------------------------------------------------------------------------\r\nREM -- Take any action required for a failed build\r\n:error\r\ngoto end\r\n\r\nREM -------------------------------------------------------------------------------\r\n:success\r\nREM -- Copy build artifacts to project root (or another location of your choice)\r\ncp &quot;./target/Project.jar&quot; &quot;./Project.jar&quot;\r\n\r\nREM -- Remove the target directory\r\ncall mvn clean\r\ngoto end\r\n\r\nREM -------------------------------------------------------------------------------\r\n:end\r\npause\r\n```","title":"Maven : Remove target folder after build","body":"<p>The <code>target</code> directory is Maven's working directory (even with a plugin, there is probably not a good way to delete it while the build is running).</p>\n<p>Instead, you should run <code>mvn clean</code> once the first build is finished, and build artifacts have been moved to another location.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>@echo off\n\nREM -------------------------------------------------------------------------------\nREM -- Build the project\ncall mvn clean package\nset &quot;RETURN_VAL=%ERRORLEVEL%&quot;\nif [1]==[%RETURN_VAL%] goto error\nif [0]==[%RETURN_VAL%] goto success\n\nREM -------------------------------------------------------------------------------\nREM -- Take any action required for a failed build\n:error\ngoto end\n\nREM -------------------------------------------------------------------------------\n:success\nREM -- Copy build artifacts to project root (or another location of your choice)\ncp &quot;./target/Project.jar&quot; &quot;./Project.jar&quot;\n\nREM -- Remove the target directory\ncall mvn clean\ngoto end\n\nREM -------------------------------------------------------------------------------\n:end\npause\n</code></pre>\n"}],"owner":{"account_id":15069196,"reputation":704,"user_id":10875311,"display_name":"Akash Jain"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75000626,"answer_count":1,"score":0,"last_activity_date":1672945195,"creation_date":1672772657,"question_id":74997654,"body_markdown":"I have a Spring project with a Parent and 2 sub-modules\r\n```\r\n   Parent\r\n    -- mod1\r\n    -- mod2\r\n```\r\nI want to build from the parent but the mod1 should not create a target folder( or should get deleted immediately after the build succeeds). How can I achieve this? \r\n\r\nMy goal is to make it&#39;s brother(mod2) to absorb the jar into it&#39;s lib and not &quot;expose&quot; the target folder of mod1 outside.\r\n\r\nI have gone through multiple SO posts and articles on net but could not find something to help me effectively.\r\n\r\nmod1 pom is\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;library-complete&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;multi-module-library-complete&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n&gt; Note: removing the build tag did not achieve my goal either.\r\n\r\nAny help is appreciated.","title":"Maven : Remove target folder after build","body":"<p>I have a Spring project with a Parent and 2 sub-modules</p>\n<pre><code>   Parent\n    -- mod1\n    -- mod2\n</code></pre>\n<p>I want to build from the parent but the mod1 should not create a target folder( or should get deleted immediately after the build succeeds). How can I achieve this?</p>\n<p>My goal is to make it's brother(mod2) to absorb the jar into it's lib and not &quot;expose&quot; the target folder of mod1 outside.</p>\n<p>I have gone through multiple SO posts and articles on net but could not find something to help me effectively.</p>\n<p>mod1 pom is</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;library-complete&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;multi-module-library-complete&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<blockquote>\n<p>Note: removing the build tag did not achieve my goal either.</p>\n</blockquote>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1673036443,"post_id":75022790,"comment_id":132415108,"body_markdown":"Yes, please do tell us why your want to do this?","body":"Yes, please do tell us why your want to do this?"},{"owner":{"account_id":4995490,"reputation":659,"user_id":4546980,"display_name":"Jahir"},"score":0,"creation_date":1673136352,"post_id":75022790,"comment_id":132431031,"body_markdown":"My use case is pretty specific. I have an API call that requires my account to be whitelisted. I have added a new change that doesn’t depend on the result of the API call but the call is still made. So this was to just implement my change without needing to go through the approval step.","body":"My use case is pretty specific. I have an API call that requires my account to be whitelisted. I have added a new change that doesn’t depend on the result of the API call but the call is still made. So this was to just implement my change without needing to go through the approval step."}],"answers":[{"comments":[{"owner":{"account_id":4995490,"reputation":659,"user_id":4546980,"display_name":"Jahir"},"score":1,"creation_date":1673136402,"post_id":75023043,"comment_id":132431041,"body_markdown":"Thanks! This worked. Although I could swear that I already tried this before but wasn’t successful.","body":"Thanks! This worked. Although I could swear that I already tried this before but wasn’t successful."}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672944314,"creation_date":1672944314,"answer_id":75023043,"question_id":75022790,"body_markdown":"I&#39;m not sure why you want to do this, but there are many implementations using the builder pattern you can use for example:\r\n\r\n    S3Response response = CreateBucketResponse.builder(). /*...*/ .build();\r\n    S3Response response = CopyObjectResponse.builder(). /*...*/ .build();\r\n    S3Response response = AbortMultipartUploadResponse.builder(). /*...*/ .build();\r\n    ...\r\n    ...\r\n    \r\nYou can find the full list of implementations in the documentation [Package software.amazon.awssdk.services.s3.model][1] \r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/package-summary.html","title":"Creating a mock S3Response object","body":"<p>I'm not sure why you want to do this, but there are many implementations using the builder pattern you can use for example:</p>\n<pre><code>S3Response response = CreateBucketResponse.builder(). /*...*/ .build();\nS3Response response = CopyObjectResponse.builder(). /*...*/ .build();\nS3Response response = AbortMultipartUploadResponse.builder(). /*...*/ .build();\n...\n...\n</code></pre>\n<p>You can find the full list of implementations in the documentation <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/package-summary.html\" rel=\"nofollow noreferrer\">Package software.amazon.awssdk.services.s3.model</a></p>\n"}],"owner":{"account_id":4995490,"reputation":659,"user_id":4546980,"display_name":"Jahir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672944494,"creation_date":1672942977,"question_id":75022790,"body_markdown":"I have a piece of code that calls S3 API and it returns an object of [S3Response][1Ω type. But I want to create this `S3Response` object manually without calling the S3 API. How can I do that?\r\n\r\nAs far as I tested, the `S3Response` class does not expose any methods that you can use to instantiate an object and populate the values. But at the end of the day, this is just another Java object so I&#39;m guessing there is some way of creating an `S3Response` object from scratch without dealing with the S3 API.\r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/model/S3Response.html","title":"Creating a mock S3Response object","body":"<p>I have a piece of code that calls S3 API and it returns an object of [S3Response][1Ω type. But I want to create this <code>S3Response</code> object manually without calling the S3 API. How can I do that?</p>\n<p>As far as I tested, the <code>S3Response</code> class does not expose any methods that you can use to instantiate an object and populate the values. But at the end of the day, this is just another Java object so I'm guessing there is some way of creating an <code>S3Response</code> object from scratch without dealing with the S3 API.</p>\n"},{"tags":["java","spring-boot","r2dbc"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1607131145,"post_id":65152711,"comment_id":115184796,"body_markdown":"impossible to answer when you have provided a single row of code without any context. Post more of the code and how you are calling the function.","body":"impossible to answer when you have provided a single row of code without any context. Post more of the code and how you are calling the function."},{"owner":{"account_id":9460072,"reputation":295,"user_id":7034062,"accept_rate":0,"display_name":"shaiksphere"},"score":0,"creation_date":1607180215,"post_id":65152711,"comment_id":115193559,"body_markdown":"I updated question with some additional code that establishes context. Pl help in resolving the blocker.","body":"I updated question with some additional code that establishes context. Pl help in resolving the blocker."},{"owner":{"account_id":2316968,"reputation":2119,"user_id":2033800,"accept_rate":38,"display_name":"nicholasnet"},"score":0,"creation_date":1611029339,"post_id":65152711,"comment_id":116312397,"body_markdown":"Most of the code that you have their is not necessary since you are using r2dbc repository. Please have look at https://docs.spring.io/spring-data/r2dbc/docs/1.1.4.RELEASE/reference/html/#reference. That should help.","body":"Most of the code that you have their is not necessary since you are using r2dbc repository. Please have look at <a href=\"https://docs.spring.io/spring-data/r2dbc/docs/1.1.4.RELEASE/reference/html/#reference\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/r2dbc/docs/1.1.4.RELEASE/referenc&zwnj;&#8203;e/&hellip;</a>. That should help."}],"answers":[{"comments":[{"owner":{"account_id":9460072,"reputation":295,"user_id":7034062,"accept_rate":0,"display_name":"shaiksphere"},"score":0,"creation_date":1607354021,"post_id":65173484,"comment_id":115238800,"body_markdown":"Thank you so much for the answer. Removal of &quot;return null&quot; and changing to the following did not eliminate error:\n\npublic Mono&lt;Map&lt;String, Object&gt;&gt; getUser(String userId) {\n   return dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first();\n}\n\n\n\nHowever, replacing first() with all() and replacing Mono with Flux in return type did not produce error.\n\nQuestion of why first() method causes exception is still open and un-answered.","body":"Thank you so much for the answer. Removal of &quot;return null&quot; and changing to the following did not eliminate error:  public Mono&lt;Map&lt;String, Object&gt;&gt; getUser(String userId) {    return dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch()&zwnj;&#8203;.first(); }    However, replacing first() with all() and replacing Mono with Flux in return type did not produce error.  Question of why first() method causes exception is still open and un-answered."}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1607793529,"creation_date":1607291578,"answer_id":65173484,"question_id":65152711,"body_markdown":"Short answer\r\n------------\r\n\r\nYour problem is probably here:\r\n\r\n```\r\ndbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().subscribe(System.out::println);\r\nreturn null;\r\n```\r\n\r\nYou probably need to change this to:\r\n\r\n```\r\nreturn dbClient.execute(GET_USER_SQL)\r\n               .bind(&quot;userId&quot;,userId)\r\n               .fetch()\r\n               .first();\r\n```\r\n\r\nLong answer\r\n------------\r\n\r\nDoing reactive programming is a lot different than regular Java programming, and if you try to do regular Java you will have a hard time.\r\n\r\nFirst of all, `null` values are not allowed in reactive programming, so never return `null`.\r\n\r\nReactive programming works with _producers_ and _consumers_. Your application is a _producer_ and the calling client (web app, mobile app, postman, curl etc) is the _consumer_. It usually is the one that initiated the call that is the _consumer_. The consumer starts by _subscribing_ to the producer, so the client subscribes to the server.\r\n\r\nWhen this happens, the server will start from the end of your code, and traverse up until it finds what is producing the values (your database). And during this it will assemble a sort of _callback chain_. This part is called the _Assembly phase_. When this phase is done, your application will pump out ONE (if its a `Mono`) or Many (if its a `Flux`) values.\r\n\r\nSo _nothing will happen until someone subscribes_.\r\n\r\n```\r\n// Only a declaration, nothing happens\r\nMono.just(&quot;Foobar&quot;);\r\n```\r\n\r\nWhile:\r\n\r\n```\r\n// Someone subscribes, chain is built and value is produced\r\nMono.just(&quot;Foobar&quot;).subscribe(s -&gt; System.out.println(s));\r\n```\r\n\r\nThis also works with functions:\r\n\r\n```\r\npublic Mono&lt;String&gt; getFoobar() {\r\n    return Mono.just(&quot;Foobar&quot;);\r\n}\r\n\r\ngetFoobar().subscribe(s -&gt; System.out.println(s));\r\n```\r\n\r\nBut what if you don&#39;t want to return anything:\r\n\r\n```\r\npublic Mono&lt;Void&gt; getFoobar() {\r\n    return Mono.just(&quot;Foobar&quot;).then(); \r\n    // then will throw away whatever is returned from the previous and instead return a Mono&lt;Void&gt; that will signal to the next part in the chain that it is done.\r\n}\r\n\r\ngetFoobar().subscribe();\r\n```\r\n\r\nOr you can return a `Mono.empty()` which will translate into a `Mono&lt;Void&gt;`\r\n\r\n```\r\npublic Mono&lt;Void&gt; getFoobar() {\r\n    return Mono.just(&quot;Foobar&quot;).flatMap(s -&gt; {\r\n        // Return an empty, which will translate to a Mono&lt;Void&gt;\r\n        return Mono.empty();\r\n    });\r\n}\r\n\r\ngetFoobar().subscribe();\r\n```\r\n\r\nSo if we look at your two scenarios:\r\n\r\n```\r\ndbClient.execute(GET_USER_SQL)\r\n        .bind(&quot;userId&quot;,userId)\r\n        .fetch()\r\n        .first()\r\n        .subscribe(System.out::println);\r\n```\r\n\r\nHere _YOU_ are subscribing, so it works, but then the calling client wants to subscribe and it breaks.\r\n\r\n```\r\ndbClient.execute(GET_USER_SQL)\r\n        .bind(&quot;userId&quot;,userId)\r\n        .fetch()\r\n        .first()\r\n        .all(System.out::println);\r\n```\r\n\r\nThis works, but depending on if you return or not, the value will get sent to the calling client. the `all` needs to be removed so you can return the value produced from `first` all the way out to the client.\r\n\r\nI have tried to explain this the best I can, all this can be read about in the excellent [Reactor Documentation][1]\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/","title":"r2dbc connection closed exception","body":"<h2>Short answer</h2>\n<p>Your problem is probably here:</p>\n<pre><code>dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().subscribe(System.out::println);\nreturn null;\n</code></pre>\n<p>You probably need to change this to:</p>\n<pre><code>return dbClient.execute(GET_USER_SQL)\n               .bind(&quot;userId&quot;,userId)\n               .fetch()\n               .first();\n</code></pre>\n<h2>Long answer</h2>\n<p>Doing reactive programming is a lot different than regular Java programming, and if you try to do regular Java you will have a hard time.</p>\n<p>First of all, <code>null</code> values are not allowed in reactive programming, so never return <code>null</code>.</p>\n<p>Reactive programming works with <em>producers</em> and <em>consumers</em>. Your application is a <em>producer</em> and the calling client (web app, mobile app, postman, curl etc) is the <em>consumer</em>. It usually is the one that initiated the call that is the <em>consumer</em>. The consumer starts by <em>subscribing</em> to the producer, so the client subscribes to the server.</p>\n<p>When this happens, the server will start from the end of your code, and traverse up until it finds what is producing the values (your database). And during this it will assemble a sort of <em>callback chain</em>. This part is called the <em>Assembly phase</em>. When this phase is done, your application will pump out ONE (if its a <code>Mono</code>) or Many (if its a <code>Flux</code>) values.</p>\n<p>So <em>nothing will happen until someone subscribes</em>.</p>\n<pre><code>// Only a declaration, nothing happens\nMono.just(&quot;Foobar&quot;);\n</code></pre>\n<p>While:</p>\n<pre><code>// Someone subscribes, chain is built and value is produced\nMono.just(&quot;Foobar&quot;).subscribe(s -&gt; System.out.println(s));\n</code></pre>\n<p>This also works with functions:</p>\n<pre><code>public Mono&lt;String&gt; getFoobar() {\n    return Mono.just(&quot;Foobar&quot;);\n}\n\ngetFoobar().subscribe(s -&gt; System.out.println(s));\n</code></pre>\n<p>But what if you don't want to return anything:</p>\n<pre><code>public Mono&lt;Void&gt; getFoobar() {\n    return Mono.just(&quot;Foobar&quot;).then(); \n    // then will throw away whatever is returned from the previous and instead return a Mono&lt;Void&gt; that will signal to the next part in the chain that it is done.\n}\n\ngetFoobar().subscribe();\n</code></pre>\n<p>Or you can return a <code>Mono.empty()</code> which will translate into a <code>Mono&lt;Void&gt;</code></p>\n<pre><code>public Mono&lt;Void&gt; getFoobar() {\n    return Mono.just(&quot;Foobar&quot;).flatMap(s -&gt; {\n        // Return an empty, which will translate to a Mono&lt;Void&gt;\n        return Mono.empty();\n    });\n}\n\ngetFoobar().subscribe();\n</code></pre>\n<p>So if we look at your two scenarios:</p>\n<pre><code>dbClient.execute(GET_USER_SQL)\n        .bind(&quot;userId&quot;,userId)\n        .fetch()\n        .first()\n        .subscribe(System.out::println);\n</code></pre>\n<p>Here <em>YOU</em> are subscribing, so it works, but then the calling client wants to subscribe and it breaks.</p>\n<pre><code>dbClient.execute(GET_USER_SQL)\n        .bind(&quot;userId&quot;,userId)\n        .fetch()\n        .first()\n        .all(System.out::println);\n</code></pre>\n<p>This works, but depending on if you return or not, the value will get sent to the calling client. the <code>all</code> needs to be removed so you can return the value produced from <code>first</code> all the way out to the client.</p>\n<p>I have tried to explain this the best I can, all this can be read about in the excellent <a href=\"https://projectreactor.io/docs/core/release/reference/\" rel=\"nofollow noreferrer\">Reactor Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667676870,"creation_date":1667676870,"answer_id":74330915,"question_id":65152711,"body_markdown":"```sh \r\nFailed to obtain R2DBC Connection; nested exception is dev.miku.r2dbc.mysql.client.MySqlConnectionClosedException: Cannot exchange messages because the connection is closed\r\n```\r\nI faced this problem. after adding the ```r2dbc-pool``` library, the problem got away. \r\n```  \r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\r\n   &lt;artifactId&gt;r2dbc-pool&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n``` ","title":"r2dbc connection closed exception","body":"<pre class=\"lang-bash prettyprint-override\"><code>Failed to obtain R2DBC Connection; nested exception is dev.miku.r2dbc.mysql.client.MySqlConnectionClosedException: Cannot exchange messages because the connection is closed\n</code></pre>\n<p>I faced this problem. after adding the <code>r2dbc-pool</code> library, the problem got away.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;io.r2dbc&lt;/groupId&gt;\n   &lt;artifactId&gt;r2dbc-pool&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672944201,"creation_date":1672944201,"answer_id":75023023,"question_id":65152711,"body_markdown":"The answer is very simple. \r\n\r\nyou should have created the database manually before running the project.\r\n------------------------------------------------------------------------\r\nbecause spring tries to make the connection with the name of the database that you mentioned. create the database and run the project. the error will be gone for most cases.","title":"r2dbc connection closed exception","body":"<p>The answer is very simple.</p>\n<h2>you should have created the database manually before running the project.</h2>\n<p>because spring tries to make the connection with the name of the database that you mentioned. create the database and run the project. the error will be gone for most cases.</p>\n"}],"owner":{"account_id":9460072,"reputation":295,"user_id":7034062,"accept_rate":0,"display_name":"shaiksphere"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6985,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1672944201,"creation_date":1607129678,"question_id":65152711,"body_markdown":"Please help me understand and resolve why I am getting and error when I try to fetch first of many records that can be fetched by a SELECT SQL statement using r2dbc on mssqlserver db.\r\n\r\n**My gradle dependencies:**\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    \timplementation &#39;org.springframework.security:spring-security-oauth2-client&#39;\r\n    \timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n    \timplementation &#39;org.springframework.data:spring-data-r2dbc&#39;\r\n    \timplementation &#39;io.r2dbc:r2dbc-mssql&#39;\r\n    \ttestImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n    \t\texclude group: &#39;org.junit.vintage&#39;, module: &#39;junit-vintage-engine&#39;\r\n    \t}\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    }\r\n\r\n\r\n**My code(sensitive content masked with xxxx):** [please understand that this is not production ready code and part of a POC in very rudimentary stage. so, most code is not confirming to production ready standard. so, please bear with that aspect.]\r\n\r\n    @Configuration\r\n    @EnableR2dbcRepositories(basePackages=&quot;com.xxxx.admin.db.repo&quot;)\r\n    public class DatabaseConfiguration extends AbstractR2dbcConfiguration\r\n    {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate Environment env;\r\n    \r\n    \t@Bean\r\n    \t@Override\r\n    \tpublic ConnectionFactory connectionFactory() {\r\n    \t\treturn new MssqlConnectionFactory(MssqlConnectionConfiguration.builder().host(&quot;xxxxxx&quot;)\r\n    \t\t\t\t.database(&quot;xxxx&quot;).username(env.getProperty(&quot;xxxxx&quot;)).password(env.getProperty(&quot;xxxxxx&quot;)).build());\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/admin&quot;)\r\n    public class AdminController  {\r\n    \t@GetMapping(&quot;/junk&quot;)\r\n    \tpublic Mono&lt;Map&lt;String, Object&gt;&gt; getUser() {\r\n    \t\treturn tmoUserRepo.getUser(&quot;XXXXXXXXXXX&quot;);\t\t\r\n    \t}\r\n    }\r\n\r\n\r\n    @Repository\r\n    public class TmoUserRepo {\r\n    \t\r\n    private static final String GET_USER_SQL = &quot;SELECT xxxxxxx WHERE ID=:userId ORDER BY XXX DESC, YYY ASC, ZZZ ASC;&quot; ; \r\n    \r\n    \t@Autowired\r\n    \tprivate DatabaseClient dbClient;\r\n    \tpublic Mono&lt;Map&lt;String, Object&gt;&gt; getUser(String userId) {\r\n    \t\tdbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().subscribe(System.out::println);\r\n    \t\treturn null;\r\n    \t}\r\n    }\r\n\r\n\r\n**Scenario-1.** This gives error (dbClient is an instance of DatabaseClient):\r\n\r\n    dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().subscribe(System.out::println);\r\n\r\n**Scenario-2.** This goes through successfully:\r\n\r\n    dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().all(System.out::println);\r\n\r\n\r\n=========================\r\n\r\n**Scenario-1 what happens:** the following is printed TWICE in the log:\r\n\r\n    2020-12-04 18:37:38.569 DEBUG 18636 --- [actor-tcp-nio-1] o.s.d.r2dbc.core.DefaultDatabaseClient   : Executing SQL statement [SELECT usr.name_first AS namefirst,    \r\n    \tusr.name_last AS namelast,\r\n    &lt;&lt;.... rest of SQL...&gt;&gt;\r\n\r\n**The error message:**\r\n\r\n    2020-12-04 18:37:40.278 ERROR 18636 --- [actor-tcp-nio-1] reactor.core.publisher.Operators         : Operator called default onErrorDropped\r\n    \r\n    io.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.lambda$static$1(ReactorNettyClient.java:93) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.drainError(ReactorNettyClient.java:629) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.handleClose(ReactorNettyClient.java:614) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.access$600(ReactorNettyClient.java:85) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient$2.onComplete(ReactorNettyClient.java:289) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2016) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:441) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:238) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:362) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.r2dbc.mssql.client.ssl.TdsSslHandler.channelRead(TdsSslHandler.java:380) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    \r\n    2020-12-04 18:37:40.280 ERROR 18636 --- [actor-tcp-nio-1] r.n.channel.ChannelOperationsHandler     : [id: 0x2fb997cb, L:/10.100.26.236:55810 ! R:tmidevsql12/10.211.0.250:1433] Error was received while reading the incoming data. The connection will be closed.\r\n    \r\n    reactor.core.Exceptions$BubblingException: io.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\r\n    \tat reactor.core.Exceptions.bubble(Exceptions.java:173) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.Operators.onErrorDropped(Operators.java:635) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat io.r2dbc.mssql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onError(FluxDiscardOnCancel.java:95) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:151) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxHandle$HandleConditionalSubscriber.onError(FluxHandle.java:406) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.EmitterProcessor.checkTerminated(EmitterProcessor.java:489) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:356) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.EmitterProcessor.onError(EmitterProcessor.java:286) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxHandle$HandleSubscriber.onError(FluxHandle.java:196) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:247) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.EmitterProcessor.checkTerminated(EmitterProcessor.java:489) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:356) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.EmitterProcessor.onError(EmitterProcessor.java:286) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.drainError(ReactorNettyClient.java:629) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.handleClose(ReactorNettyClient.java:614) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.access$600(ReactorNettyClient.java:85) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient$2.onComplete(ReactorNettyClient.java:289) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2016) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\r\n    \tat reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:441) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:238) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:362) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.r2dbc.mssql.client.ssl.TdsSslHandler.channelRead(TdsSslHandler.java:380) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n    Caused by: io.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\r\n    \tat io.r2dbc.mssql.client.ReactorNettyClient.lambda$static$1(ReactorNettyClient.java:93) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\r\n    \t... 32 common frames omitted\r\n    \r\n    2020-12-04 18:37:40.280  WARN 18636 --- [actor-tcp-nio-1] reactor.netty.channel.FluxReceive        : [id: 0x2fb997cb, L:/10.100.26.236:55810 ! R:tmidevsql12/10.211.0.250:1433] An exception has been observed post termination, use DEBUG level to see the full stack: reactor.core.Exceptions$BubblingException: io.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\r\n\r\n","title":"r2dbc connection closed exception","body":"<p>Please help me understand and resolve why I am getting and error when I try to fetch first of many records that can be fetched by a SELECT SQL statement using r2dbc on mssqlserver db.</p>\n<p><strong>My gradle dependencies:</strong></p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.security:spring-security-oauth2-client'\n    implementation 'io.springfox:springfox-boot-starter:3.0.0'\n    implementation 'org.springframework.data:spring-data-r2dbc'\n    implementation 'io.r2dbc:r2dbc-mssql'\n    testImplementation('org.springframework.boot:spring-boot-starter-test') {\n        exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'\n    }\n    annotationProcessor 'org.projectlombok:lombok'\n}\n</code></pre>\n<p><strong>My code(sensitive content masked with xxxx):</strong> [please understand that this is not production ready code and part of a POC in very rudimentary stage. so, most code is not confirming to production ready standard. so, please bear with that aspect.]</p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories(basePackages=&quot;com.xxxx.admin.db.repo&quot;)\npublic class DatabaseConfiguration extends AbstractR2dbcConfiguration\n{\n    \n    @Autowired\n    private Environment env;\n\n    @Bean\n    @Override\n    public ConnectionFactory connectionFactory() {\n        return new MssqlConnectionFactory(MssqlConnectionConfiguration.builder().host(&quot;xxxxxx&quot;)\n                .database(&quot;xxxx&quot;).username(env.getProperty(&quot;xxxxx&quot;)).password(env.getProperty(&quot;xxxxxx&quot;)).build());\n    }\n\n}\n\n\n@RestController\n@RequestMapping(&quot;/api/v1/admin&quot;)\npublic class AdminController  {\n    @GetMapping(&quot;/junk&quot;)\n    public Mono&lt;Map&lt;String, Object&gt;&gt; getUser() {\n        return tmoUserRepo.getUser(&quot;XXXXXXXXXXX&quot;);      \n    }\n}\n\n\n@Repository\npublic class TmoUserRepo {\n    \nprivate static final String GET_USER_SQL = &quot;SELECT xxxxxxx WHERE ID=:userId ORDER BY XXX DESC, YYY ASC, ZZZ ASC;&quot; ; \n\n    @Autowired\n    private DatabaseClient dbClient;\n    public Mono&lt;Map&lt;String, Object&gt;&gt; getUser(String userId) {\n        dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().subscribe(System.out::println);\n        return null;\n    }\n}\n</code></pre>\n<p><strong>Scenario-1.</strong> This gives error (dbClient is an instance of DatabaseClient):</p>\n<pre><code>dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().subscribe(System.out::println);\n</code></pre>\n<p><strong>Scenario-2.</strong> This goes through successfully:</p>\n<pre><code>dbClient.execute(GET_USER_SQL).bind(&quot;userId&quot;,userId).fetch().first().all(System.out::println);\n</code></pre>\n<p>=========================</p>\n<p><strong>Scenario-1 what happens:</strong> the following is printed TWICE in the log:</p>\n<pre><code>2020-12-04 18:37:38.569 DEBUG 18636 --- [actor-tcp-nio-1] o.s.d.r2dbc.core.DefaultDatabaseClient   : Executing SQL statement [SELECT usr.name_first AS namefirst,    \n    usr.name_last AS namelast,\n&lt;&lt;.... rest of SQL...&gt;&gt;\n</code></pre>\n<p><strong>The error message:</strong></p>\n<pre><code>2020-12-04 18:37:40.278 ERROR 18636 --- [actor-tcp-nio-1] reactor.core.publisher.Operators         : Operator called default onErrorDropped\n\nio.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\n    at io.r2dbc.mssql.client.ReactorNettyClient.lambda$static$1(ReactorNettyClient.java:93) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient.drainError(ReactorNettyClient.java:629) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient.handleClose(ReactorNettyClient.java:614) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient.access$600(ReactorNettyClient.java:85) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient$2.onComplete(ReactorNettyClient.java:289) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2016) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:441) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:238) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:362) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.r2dbc.mssql.client.ssl.TdsSslHandler.channelRead(TdsSslHandler.java:380) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n2020-12-04 18:37:40.280 ERROR 18636 --- [actor-tcp-nio-1] r.n.channel.ChannelOperationsHandler     : [id: 0x2fb997cb, L:/10.100.26.236:55810 ! R:tmidevsql12/10.211.0.250:1433] Error was received while reading the incoming data. The connection will be closed.\n\nreactor.core.Exceptions$BubblingException: io.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\n    at reactor.core.Exceptions.bubble(Exceptions.java:173) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.Operators.onErrorDropped(Operators.java:635) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at io.r2dbc.mssql.util.FluxDiscardOnCancel$FluxDiscardOnCancelSubscriber.onError(FluxDiscardOnCancel.java:95) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxFilter$FilterSubscriber.onError(FluxFilter.java:151) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxHandle$HandleConditionalSubscriber.onError(FluxHandle.java:406) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.EmitterProcessor.checkTerminated(EmitterProcessor.java:489) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:356) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.EmitterProcessor.onError(EmitterProcessor.java:286) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxHandle$HandleSubscriber.onError(FluxHandle.java:196) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.MonoFlatMapMany$FlatMapManyInner.onError(MonoFlatMapMany.java:247) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:214) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.EmitterProcessor.checkTerminated(EmitterProcessor.java:489) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.EmitterProcessor.drain(EmitterProcessor.java:356) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.EmitterProcessor.onError(EmitterProcessor.java:286) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient.drainError(ReactorNettyClient.java:629) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient.handleClose(ReactorNettyClient.java:614) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient.access$600(ReactorNettyClient.java:85) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.r2dbc.mssql.client.ReactorNettyClient$2.onComplete(ReactorNettyClient.java:289) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onComplete(Operators.java:2016) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:252) ~[reactor-core-3.3.11.RELEASE.jar:3.3.11.RELEASE]\n    at reactor.netty.channel.FluxReceive.terminateReceiver(FluxReceive.java:441) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.FluxReceive.drainReceiver(FluxReceive.java:238) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:362) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:96) ~[reactor-netty-0.9.13.RELEASE.jar:0.9.13.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:93) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.r2dbc.mssql.client.ssl.TdsSslHandler.channelRead(TdsSslHandler.java:380) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) ~[netty-transport-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.53.Final.jar:4.1.53.Final]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: io.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\n    at io.r2dbc.mssql.client.ReactorNettyClient.lambda$static$1(ReactorNettyClient.java:93) ~[r2dbc-mssql-0.8.5.RELEASE.jar:0.8.5.RELEASE]\n    ... 32 common frames omitted\n\n2020-12-04 18:37:40.280  WARN 18636 --- [actor-tcp-nio-1] reactor.netty.channel.FluxReceive        : [id: 0x2fb997cb, L:/10.100.26.236:55810 ! R:tmidevsql12/10.211.0.250:1433] An exception has been observed post termination, use DEBUG level to see the full stack: reactor.core.Exceptions$BubblingException: io.r2dbc.mssql.client.ReactorNettyClient$MssqlConnectionClosedException: Connection closed\n</code></pre>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1672836913,"post_id":75005460,"comment_id":132361882,"body_markdown":"try this dialect.\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect","body":"try this dialect. spring.jpa.properties.hibernate.dialect=org.hibernate.dialec&zwnj;&#8203;t.H2Dialect"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1672838069,"post_id":75005460,"comment_id":132362340,"body_markdown":"H2 accepts this table definition in MySQL compatibility mode, it means you changed some configuration that isn&#39;t actually used by unit tests.","body":"H2 accepts this table definition in MySQL compatibility mode, it means you changed some configuration that isn&#39;t actually used by unit tests."},{"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"score":0,"creation_date":1672853490,"post_id":75005460,"comment_id":132368208,"body_markdown":"@RaushanKumar I tried but got same error. Added repository to try to clone it.","body":"@RaushanKumar I tried but got same error. Added repository to try to clone it."},{"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"score":0,"creation_date":1672853557,"post_id":75005460,"comment_id":132368230,"body_markdown":"@EvgenijRyazanov I&#39;m pretty sure that there are not other configurations. But, please, can you put an eye? I added the repository. Thank you.","body":"@EvgenijRyazanov I&#39;m pretty sure that there are not other configurations. But, please, can you put an eye? I added the repository. Thank you."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672866895,"post_id":75005460,"comment_id":132372491,"body_markdown":"why do you use the database specific `columnDefinition` parameter at all instead of relying on database independent parameters like `length` or `precision` ? Or use Flyway to specifiy the DDL for different engines... From my experience letting JPA create the DB structures always worked very unreliable, latest when it comes to changes in the structure in production.","body":"why do you use the database specific <code>columnDefinition</code> parameter at all instead of relying on database independent parameters like <code>length</code> or <code>precision</code> ? Or use Flyway to specifiy the DDL for different engines... From my experience letting JPA create the DB structures always worked very unreliable, latest when it comes to changes in the structure in production."},{"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"score":0,"creation_date":1672869246,"post_id":75005460,"comment_id":132373084,"body_markdown":"@cyberbrain with your indication I solved but... I want to understand why h2 doesn&#39;t use instructions. Btw, thank you","body":"@cyberbrain with your indication I solved but... I want to understand why h2 doesn&#39;t use instructions. Btw, thank you"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1672871204,"post_id":75005460,"comment_id":132373549,"body_markdown":"could be the `UNSIGNED` keyword that is not supported by H2 natively (see [INT datatype](http://h2database.com/html/datatypes.html#integer_type) and also not mentioned in the docs of the [compatibility mode](http://h2database.com/html/features.html#compatibility). You could check the compatibilty mode setting [allNumericTypesHavePrecision](http://h2database.com/javadoc/org/h2/engine/Mode.html#allNumericTypesHavePrecision)","body":"could be the <code>UNSIGNED</code> keyword that is not supported by H2 natively (see <a href=\"http://h2database.com/html/datatypes.html#integer_type\" rel=\"nofollow noreferrer\">INT datatype</a> and also not mentioned in the docs of the <a href=\"http://h2database.com/html/features.html#compatibility\" rel=\"nofollow noreferrer\">compatibility mode</a>. You could check the compatibilty mode setting <a href=\"http://h2database.com/javadoc/org/h2/engine/Mode.html#allNumericTypesHavePrecision\" rel=\"nofollow noreferrer\">allNumericTypesHavePrecision</a>"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1672887911,"post_id":75005460,"comment_id":132376330,"body_markdown":"H2 accepts and ignores `UNSIGNED` in MySQL compatibility mode. Unit tests in Spring can use an automatic configuration (in that case it needs to be disabled), can use an own properties file in `src/test/resources` (and it can have a custom name like `application-test.properties` or other) and so on. But I&#39;m not familiar with this stack of technologies and cannot say what exactly should be changed here. I can only say that MySQL compatibility mode isn&#39;t enabled and it means that specified JDBC URL isn&#39;t actually used.","body":"H2 accepts and ignores <code>UNSIGNED</code> in MySQL compatibility mode. Unit tests in Spring can use an automatic configuration (in that case it needs to be disabled), can use an own properties file in <code>src&#47;test&#47;resources</code> (and it can have a custom name like <code>application-test.properties</code> or other) and so on. But I&#39;m not familiar with this stack of technologies and cannot say what exactly should be changed here. I can only say that MySQL compatibility mode isn&#39;t enabled and it means that specified JDBC URL isn&#39;t actually used."}],"answers":[{"tags":[],"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672944130,"creation_date":1672944130,"answer_id":75023008,"question_id":75005460,"body_markdown":"At the end, I solved adding\r\n\r\n`@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)`\r\n\r\nto every repository file (see also https://stackoverflow.com/questions/42364935/how-to-add-the-mode-mysql-to-embedded-h2-db-in-spring-boot-1-4-1-for-datajpates)\r\n\r\nThank to all and every one, also EvgeniJ that pointed me on right direction.","title":"H2 database used as volatile for Spring test: cannot create table","body":"<p>At the end, I solved adding</p>\n<p><code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code></p>\n<p>to every repository file (see also <a href=\"https://stackoverflow.com/questions/42364935/how-to-add-the-mode-mysql-to-embedded-h2-db-in-spring-boot-1-4-1-for-datajpates\">How to add the mode=mysql to embedded H2 DB in Spring Boot 1.4.1 for @DataJpaTest?</a>)</p>\n<p>Thank to all and every one, also EvgeniJ that pointed me on right direction.</p>\n"}],"owner":{"account_id":1405071,"reputation":5124,"user_id":1333012,"accept_rate":56,"display_name":"sineverba"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":773,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672944130,"creation_date":1672835371,"question_id":75005460,"body_markdown":"I&#39;m using Spring 2.7.7.\r\n\r\nI have several entities, e.g.\r\n\r\n```java\r\n@Table(name = &quot;users&quot;)\r\npublic class UsersEntity {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;, columnDefinition = &quot;INT(11) UNSIGNED&quot;)\r\n\tprivate Long id;\r\n\r\n\t@Column(name = &quot;username&quot;, columnDefinition = &quot;VARCHAR(256)&quot;)\r\n\tprivate String username;\r\n\r\n\t@Column(name = &quot;password&quot;, columnDefinition = &quot;VARCHAR(256)&quot;)\r\n\tprivate String password;\r\n\r\n\t@ManyToMany(fetch = FetchType.LAZY)\r\n\t@JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;users_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;))\r\n\t@Builder.Default\r\n\tprivate Set&lt;RolesEntity&gt; rolesEntity = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\nThis is the `application.properties` used in tests:\r\n\r\n```bash\r\nspring.profiles.active=test\r\nspring.datasource.driver-class-name=org.h2.Driver\r\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\r\nspring.datasource.username=sa\r\nspring.datasource.password=sa\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\r\n```\r\n\r\nUntil Spring 2.6.14 it worked, now I got errors in creation table as following:\r\n\r\n```bash\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table users (id INT(11) UNSIGNED not null auto_increment, password VARCHAR(256), username VARCHAR(256), primary key (id)) engine=InnoDB&quot; via JDBC Statement\r\n```\r\n\r\nand, after some line:\r\n\r\n```bash\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;create table users (id INT[*](11) UNSIGNED not null auto_increment, password VARCHAR(256), username VARCHAR(256), primary key (id)) engine=InnoDB&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\r\ncreate table users (id INT(11) UNSIGNED not null auto_increment, password VARCHAR(256), username VARCHAR(256), primary key (id)) engine=InnoDB [42001-214]\r\n```\r\n\r\nI know the error is new version of H2 that doesn&#39;t accept anymore MySql commands, like `INT(11) UNSIGNED`. If I remove it from table definition, tests work.\r\n\r\nSo, I tried setting in `application.properties` as following:\r\n\r\n\r\n```bash\r\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MYSQL\r\n# also change capital of MySql\r\n# spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\n```\r\n\r\nwithout luck.\r\n\r\nNow, how can I solve, without editing totally the table definition?\r\n\r\n## Repository\r\n\r\nThe repository is here, https://github.com/sineverba/online-banking-backend/tree/develop develop branch.\r\n\r\nIf you clone it and change pom.xml as\r\n\r\n```xml\r\n&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.7&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n```\r\n\r\ninstead of 2.6.14 you can replicate the error.\r\n\r\nOne of affected test is `[src/test/java/com/bitbank/repositories/BankAccountTransactionsRepositoryTest.java][1]` but generally are all repositories.\r\n\r\n\r\n## Changing `application.properties` under `src/test/resources\r\n\r\nFollowing comment of https://stackoverflow.com/users/11731987/evgenij-ryazanov \r\n\r\nI want to be sure that my application properties, under test, is used.\r\n\r\nSo, I tried:\r\n\r\n1) Edit the BankAccountTransactionsRepository linked above adding `@TestPropertySource(&quot;classpath:application.properties&quot;)`\r\n\r\n2) Adding the @TestPropertySource(&quot;classpath:application-notexists.properties&quot;) and really test crashed (`Failed to load application` and `class path resource [application-notexists.properties] cannot be opened because it does not exist`)\r\n\r\n3) Renamed the `application.properties` in `src/test/resources` as `application-notexists.properties` and Spring started (but Unit test have errors of Mysql)\r\n\r\n\r\n  [1]: https://github.com/sineverba/online-banking-backend/blob/develop/src/test/java/com/bitbank/repositories/BankAccountTransactionsRepositoryTest.java","title":"H2 database used as volatile for Spring test: cannot create table","body":"<p>I'm using Spring 2.7.7.</p>\n<p>I have several entities, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(name = &quot;users&quot;)\npublic class UsersEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;INT(11) UNSIGNED&quot;)\n    private Long id;\n\n    @Column(name = &quot;username&quot;, columnDefinition = &quot;VARCHAR(256)&quot;)\n    private String username;\n\n    @Column(name = &quot;password&quot;, columnDefinition = &quot;VARCHAR(256)&quot;)\n    private String password;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;users_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;))\n    @Builder.Default\n    private Set&lt;RolesEntity&gt; rolesEntity = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>This is the <code>application.properties</code> used in tests:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spring.profiles.active=test\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\nspring.datasource.username=sa\nspring.datasource.password=sa\nspring.jpa.hibernate.ddl-auto=create-drop\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\n</code></pre>\n<p>Until Spring 2.6.14 it worked, now I got errors in creation table as following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table users (id INT(11) UNSIGNED not null auto_increment, password VARCHAR(256), username VARCHAR(256), primary key (id)) engine=InnoDB&quot; via JDBC Statement\n</code></pre>\n<p>and, after some line:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;create table users (id INT[*](11) UNSIGNED not null auto_increment, password VARCHAR(256), username VARCHAR(256), primary key (id)) engine=InnoDB&quot;; expected &quot;ARRAY, INVISIBLE, VISIBLE, NOT NULL, NULL, AS, DEFAULT, GENERATED, ON UPDATE, NOT NULL, NULL, AUTO_INCREMENT, DEFAULT ON NULL, NULL_TO_DEFAULT, SEQUENCE, SELECTIVITY, COMMENT, CONSTRAINT, COMMENT, PRIMARY KEY, UNIQUE, NOT NULL, NULL, CHECK, REFERENCES, AUTO_INCREMENT, ,, )&quot;; SQL statement:\ncreate table users (id INT(11) UNSIGNED not null auto_increment, password VARCHAR(256), username VARCHAR(256), primary key (id)) engine=InnoDB [42001-214]\n</code></pre>\n<p>I know the error is new version of H2 that doesn't accept anymore MySql commands, like <code>INT(11) UNSIGNED</code>. If I remove it from table definition, tests work.</p>\n<p>So, I tried setting in <code>application.properties</code> as following:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MYSQL\n# also change capital of MySql\n# spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=MySQL\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<p>without luck.</p>\n<p>Now, how can I solve, without editing totally the table definition?</p>\n<h2>Repository</h2>\n<p>The repository is here, <a href=\"https://github.com/sineverba/online-banking-backend/tree/develop\" rel=\"nofollow noreferrer\">https://github.com/sineverba/online-banking-backend/tree/develop</a> develop branch.</p>\n<p>If you clone it and change pom.xml as</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.7&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n</code></pre>\n<p>instead of 2.6.14 you can replicate the error.</p>\n<p>One of affected test is <code>[src/test/java/com/bitbank/repositories/BankAccountTransactionsRepositoryTest.java][1]</code> but generally are all repositories.</p>\n<h2>Changing <code>application.properties</code> under `src/test/resources</h2>\n<p>Following comment of <a href=\"https://stackoverflow.com/users/11731987/evgenij-ryazanov\">https://stackoverflow.com/users/11731987/evgenij-ryazanov</a></p>\n<p>I want to be sure that my application properties, under test, is used.</p>\n<p>So, I tried:</p>\n<ol>\n<li><p>Edit the BankAccountTransactionsRepository linked above adding <code>@TestPropertySource(&quot;classpath:application.properties&quot;)</code></p>\n</li>\n<li><p>Adding the @TestPropertySource(&quot;classpath:application-notexists.properties&quot;) and really test crashed (<code>Failed to load application</code> and <code>class path resource [application-notexists.properties] cannot be opened because it does not exist</code>)</p>\n</li>\n<li><p>Renamed the <code>application.properties</code> in <code>src/test/resources</code> as <code>application-notexists.properties</code> and Spring started (but Unit test have errors of Mysql)</p>\n</li>\n</ol>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":20662432,"reputation":1076,"user_id":15170120,"display_name":"TarHalda"},"score":3,"creation_date":1672931953,"post_id":75018184,"comment_id":132388333,"body_markdown":"Please add your code as a text edit to the question. We try to avoid image links because they can disappear and are harder to read properly.","body":"Please add your code as a text edit to the question. We try to avoid image links because they can disappear and are harder to read properly."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672944122,"creation_date":1672944122,"answer_id":75023006,"question_id":75018184,"body_markdown":"If you only want to use the Colors in the method in your enum, then just have an if statement that skips over unless they are in the 4 colors\r\n\r\n```java\r\nif (List.of(Color.getColorfulColors()).contains(yourObject.getColor()))\r\n{\r\n\r\n    System.out.println(yourObject);\r\n\r\n}\r\n```\r\n\r\nPut the array in a list, call the contains method on the color of your object, and if it passes, print it out using the toString you already gave.","title":"How to Return TreeMap specific objects with Enum","body":"<p>If you only want to use the Colors in the method in your enum, then just have an if statement that skips over unless they are in the 4 colors</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (List.of(Color.getColorfulColors()).contains(yourObject.getColor()))\n{\n\n    System.out.println(yourObject);\n\n}\n</code></pre>\n<p>Put the array in a list, call the contains method on the color of your object, and if it passes, print it out using the toString you already gave.</p>\n"}],"owner":{"account_id":26456597,"reputation":21,"user_id":20099106,"display_name":"Kiril Karpuhin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75023006,"answer_count":1,"score":0,"last_activity_date":1672944122,"creation_date":1672920691,"question_id":75018184,"body_markdown":"I have TreeMap with my own class as a key and Integer as a value. I have Enum class with colours. Black, White, Green, Red, Yellow, Blue. I made my method in Enum with all colours except Black and White. In main I created 6 objects TreeMap and I need to print with &quot;for&quot; method objects from TreeMap only with colours, that I put in Enum method, so all objects with Red, Yellow, Green, Blue. How can I do it? Thank you. Here is my code.\r\n\r\n[[enter image description here](https://i.stack.imgur.com/KKuOm.jpg)](https://i.stack.imgur.com/3vefh.png)\r\n\r\nNeed the output:\r\n\r\nPlains{color=RED, model=&#39;Boing&#39;, year=2020}\r\n\r\nPlains{color=GREEN, model=&#39;Boing&#39;, year=2020}\r\n\r\nPlains{color=BLUE, model=&#39;Boing&#39;, year=2020}\r\n\r\nPlains{color=YELLOW, model=&#39;Boing&#39;, year=2020}","title":"How to Return TreeMap specific objects with Enum","body":"<p>I have TreeMap with my own class as a key and Integer as a value. I have Enum class with colours. Black, White, Green, Red, Yellow, Blue. I made my method in Enum with all colours except Black and White. In main I created 6 objects TreeMap and I need to print with &quot;for&quot; method objects from TreeMap only with colours, that I put in Enum method, so all objects with Red, Yellow, Green, Blue. How can I do it? Thank you. Here is my code.</p>\n<p>[<a href=\"https://i.stack.imgur.com/KKuOm.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/3vefh.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/3vefh.png</a>)</p>\n<p>Need the output:</p>\n<p>Plains{color=RED, model='Boing', year=2020}</p>\n<p>Plains{color=GREEN, model='Boing', year=2020}</p>\n<p>Plains{color=BLUE, model='Boing', year=2020}</p>\n<p>Plains{color=YELLOW, model='Boing', year=2020}</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"score":0,"creation_date":1672937767,"post_id":75021562,"comment_id":132390649,"body_markdown":"You can search by the exact array value match  as follow: https://mongoplayground.net/p/MHAixL5kjUv","body":"You can search by the exact array value match  as follow: <a href=\"https://mongoplayground.net/p/MHAixL5kjUv\" rel=\"nofollow noreferrer\">mongoplayground.net/p/MHAixL5kjUv</a>"},{"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"score":0,"creation_date":1672939110,"post_id":75021562,"comment_id":132391129,"body_markdown":"Thanks @R2D2, do you know how to convert this code to Java? I am not able to do it in Mongo Compass as it requires Atlas.","body":"Thanks @R2D2, do you know how to convert this code to Java? I am not able to do it in Mongo Compass as it requires Atlas."},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1672939260,"post_id":75021562,"comment_id":132391189,"body_markdown":"I&#39;m not sure how the comment about Compass is relevant, but just to clarify - Compass doesn&#39;t require Atlas. I connect to a local instance with Compass everyday","body":"I&#39;m not sure how the comment about Compass is relevant, but just to clarify - Compass doesn&#39;t require Atlas. I connect to a local instance with Compass everyday"},{"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"score":0,"creation_date":1672941821,"post_id":75021562,"comment_id":132392056,"body_markdown":"`Filters.text` is for text search not equality match, try using `eq(&quot;vendor&quot;,&quot;Vendor&quot;)`","body":"<code>Filters.text</code> is for text search not equality match, try using <code>eq(&quot;vendor&quot;,&quot;Vendor&quot;)</code>"},{"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"score":0,"creation_date":1673265909,"post_id":75021562,"comment_id":132452196,"body_markdown":"@Joe somehow this does not work. collection.find(Filters.eq(&quot;vendor&quot;,&quot;Vendor&quot;)) returns null.","body":"@Joe somehow this does not work. collection.find(Filters.eq(&quot;vendor&quot;,&quot;Vendor&quot;)) returns null."}],"answers":[{"comments":[{"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"score":0,"creation_date":1673266097,"post_id":75022964,"comment_id":132452255,"body_markdown":"I am trying to use the current API with Filters.eq() as @Joe suggested, but somehow it does not work.","body":"I am trying to use the current API with Filters.eq() as @Joe suggested, but somehow it does not work."}],"tags":[],"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672943881,"creation_date":1672943881,"answer_id":75022964,"question_id":75021562,"body_markdown":"In Java you can do something like:\r\n\r\n    private static void findExample(DBCollection collection) {\r\n        BasicDBObject Query = new BasicDBObject();\r\n        Query.put(&quot;vendor&quot;,&quot;Vendor&quot;);\r\n        DBCursor cursor = collection.find(Query);\r\n        while (cursor.hasNext()) {\r\n            System.out.println(cursor.next());\r\n        }\r\n    }\r\n\r\n\r\n\r\nexample from mongoDB java docs [here][1]\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/find/","title":"Exact text match on MongoDB document array in Java","body":"<p>In Java you can do something like:</p>\n<pre><code>private static void findExample(DBCollection collection) {\n    BasicDBObject Query = new BasicDBObject();\n    Query.put(&quot;vendor&quot;,&quot;Vendor&quot;);\n    DBCursor cursor = collection.find(Query);\n    while (cursor.hasNext()) {\n        System.out.println(cursor.next());\n    }\n}\n</code></pre>\n<p>example from mongoDB java docs <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/find/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672943881,"creation_date":1672936234,"question_id":75021562,"body_markdown":"I am trying to retrieve a single document (first) from a collection using an exact match on the MongoDB collection in Java.\r\n\r\nThe collection is as follows:\r\n\r\n    { &quot;_id&quot;: 1, &quot;color&quot;: &quot;red&quot;, &quot;qty&quot;: 5, &quot;vendor&quot;: [&quot;Vendor A&quot;] }\r\n    { &quot;_id&quot;: 2, &quot;color&quot;: &quot;purple&quot;, &quot;qty&quot;: 10, &quot;vendor&quot;: [&quot;Vendor C&quot;, &quot;Vendor D&quot;] }\r\n    { &quot;_id&quot;: 3, &quot;color&quot;: &quot;blue&quot;, &quot;qty&quot;: 8, &quot;vendor&quot;: [&quot;Vendor B&quot;, &quot;Vendor A&quot;] }\r\n    { &quot;_id&quot;: 4, &quot;color&quot;: &quot;white&quot;, &quot;qty&quot;: 6, &quot;vendor&quot;: [&quot;Vendor&quot;] }\r\n\r\nI want to query and return the document by searching for &quot;Vendor&quot; (string: keySearch) in the vendor tags:\r\n\r\n    { &quot;_id&quot;: 4, &quot;color&quot;: &quot;white&quot;, &quot;qty&quot;: 6, &quot;vendor&quot;: [&quot;Vendor&quot;] }\r\n\r\nBut, the following code I wrote returns the first document instead:\r\n\r\n    Bson filter = Filters.text(&quot;\\&quot;&quot; + keySearch + &quot;\\&quot;&quot;);\r\n    Document doc = collection.find(filter).first();\r\n\r\nI also tried the following, but this returns nothing:\r\n\r\n    Bson elemInArrayMatch = elemMatch(&quot;vendor&quot;, eq(keySearch));\r\n    Document doc = collection.find(elemInArrayMatch).first();\r\n\r\nI want to perform an exact match on the vendor tag, i.e., when the keySearch is &quot;Vendor&quot; it should return (in this case) only one document, ID: 4. Can anyone help me please?","title":"Exact text match on MongoDB document array in Java","body":"<p>I am trying to retrieve a single document (first) from a collection using an exact match on the MongoDB collection in Java.</p>\n<p>The collection is as follows:</p>\n<pre><code>{ &quot;_id&quot;: 1, &quot;color&quot;: &quot;red&quot;, &quot;qty&quot;: 5, &quot;vendor&quot;: [&quot;Vendor A&quot;] }\n{ &quot;_id&quot;: 2, &quot;color&quot;: &quot;purple&quot;, &quot;qty&quot;: 10, &quot;vendor&quot;: [&quot;Vendor C&quot;, &quot;Vendor D&quot;] }\n{ &quot;_id&quot;: 3, &quot;color&quot;: &quot;blue&quot;, &quot;qty&quot;: 8, &quot;vendor&quot;: [&quot;Vendor B&quot;, &quot;Vendor A&quot;] }\n{ &quot;_id&quot;: 4, &quot;color&quot;: &quot;white&quot;, &quot;qty&quot;: 6, &quot;vendor&quot;: [&quot;Vendor&quot;] }\n</code></pre>\n<p>I want to query and return the document by searching for &quot;Vendor&quot; (string: keySearch) in the vendor tags:</p>\n<pre><code>{ &quot;_id&quot;: 4, &quot;color&quot;: &quot;white&quot;, &quot;qty&quot;: 6, &quot;vendor&quot;: [&quot;Vendor&quot;] }\n</code></pre>\n<p>But, the following code I wrote returns the first document instead:</p>\n<pre><code>Bson filter = Filters.text(&quot;\\&quot;&quot; + keySearch + &quot;\\&quot;&quot;);\nDocument doc = collection.find(filter).first();\n</code></pre>\n<p>I also tried the following, but this returns nothing:</p>\n<pre><code>Bson elemInArrayMatch = elemMatch(&quot;vendor&quot;, eq(keySearch));\nDocument doc = collection.find(elemInArrayMatch).first();\n</code></pre>\n<p>I want to perform an exact match on the vendor tag, i.e., when the keySearch is &quot;Vendor&quot; it should return (in this case) only one document, ID: 4. Can anyone help me please?</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1643875010,"post_id":70965480,"comment_id":125456465,"body_markdown":"*Does it mean from 3.0/2022.0 onward, there is no Sleuth anymore? We need to use Micrometer instead?*. Correct and if you read you see that all instrumentation from sleuth will be moved to the micrometer tracing project. Also you might want to reconsider the upgrade, as these are &quot;just&quot; milestone versions and aren&#39;t yet production ready.","body":"<i>Does it mean from 3.0/2022.0 onward, there is no Sleuth anymore? We need to use Micrometer instead?</i>. Correct and if you read you see that all instrumentation from sleuth will be moved to the micrometer tracing project. Also you might want to reconsider the upgrade, as these are &quot;just&quot; milestone versions and aren&#39;t yet production ready."}],"answers":[{"comments":[{"owner":{"account_id":10463908,"reputation":1211,"user_id":7785738,"display_name":"Artem Ptushkin"},"score":2,"creation_date":1666198589,"post_id":71064630,"comment_id":130880944,"body_markdown":"that&#39;s not true, please provide a migration example, I&#39;m migrating right now and can&#39;t find many, TraceableExecutorService etc.","body":"that&#39;s not true, please provide a migration example, I&#39;m migrating right now and can&#39;t find many, TraceableExecutorService etc."},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1666204009,"post_id":71064630,"comment_id":130882768,"body_markdown":"If you&#39;re explicitly using TracableExecutorService that means that you&#39;re using custom logic. How are you using it at the moment?","body":"If you&#39;re explicitly using TracableExecutorService that means that you&#39;re using custom logic. How are you using it at the moment?"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":1,"creation_date":1671711969,"post_id":71064630,"comment_id":132159536,"body_markdown":"Hello Marcin, just wanted to say this post has now 1K+ view. I think people are getting a bit confused. Maybe can Spring team help dissipate any doubt by preparing some kind of migration guide for this? I can post the link as bold in my answer","body":"Hello Marcin, just wanted to say this post has now 1K+ view. I think people are getting a bit confused. Maybe can Spring team help dissipate any doubt by preparing some kind of migration guide for this? I can post the link as bold in my answer"},{"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"score":0,"creation_date":1672657230,"post_id":71064630,"comment_id":132320370,"body_markdown":"I&#39;ve added a link to the migration guide https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide","body":"I&#39;ve added a link to the migration guide <a href=\"https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide\" rel=\"nofollow noreferrer\">github.com/micrometer-metrics/tracing/wiki/&hellip;</a>"}],"tags":[],"owner":{"account_id":1976110,"reputation":10792,"user_id":1773866,"display_name":"Marcin Grzejszczak"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672657216,"creation_date":1644493847,"answer_id":71064630,"question_id":70965480,"body_markdown":"&gt; I am having a hard time understanding. Does it mean from 3.0/2022.0 onward, there is no Sleuth anymore? We need to use Micrometer instead?\r\n\r\nYes\r\n\r\n&gt; How to keep existing features offered by Sleuth please?\r\n\r\nWe will be providing support for those via Micrometer &amp; Micrometer Tracing.\r\n\r\n&gt; does it means we can just remove the Sleuth dependency from the pom file, and instead add/replace with the micrometer one, and things will be the same, still be working? \r\n\r\nIf you don&#39;t have any custom Sleuth configuration then there should be nothing that you should do for observability to work. If you had custom Sleuth configuration you will need to port it to Micrometer Tracing which essentially is a copy of Sleuth so that should be mostly a package change. If you were doing Brave customizations then most likely you&#39;ll have nothing to change.\r\n\r\nUPDATE:\r\n\r\nHere you can find a link to the Sleuth to Micrometer Tracing migration guide https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide","title":"SpringBoot 3.0.0-M1 + SpringCloud 2022.0.0-M1 [ERROR] &#39;dependency.version&#39; for org.springframework.cloud:spring-cloud-starter-sleuth:jar is missing","body":"<blockquote>\n<p>I am having a hard time understanding. Does it mean from 3.0/2022.0 onward, there is no Sleuth anymore? We need to use Micrometer instead?</p>\n</blockquote>\n<p>Yes</p>\n<blockquote>\n<p>How to keep existing features offered by Sleuth please?</p>\n</blockquote>\n<p>We will be providing support for those via Micrometer &amp; Micrometer Tracing.</p>\n<blockquote>\n<p>does it means we can just remove the Sleuth dependency from the pom file, and instead add/replace with the micrometer one, and things will be the same, still be working?</p>\n</blockquote>\n<p>If you don't have any custom Sleuth configuration then there should be nothing that you should do for observability to work. If you had custom Sleuth configuration you will need to port it to Micrometer Tracing which essentially is a copy of Sleuth so that should be mostly a package change. If you were doing Brave customizations then most likely you'll have nothing to change.</p>\n<p>UPDATE:</p>\n<p>Here you can find a link to the Sleuth to Micrometer Tracing migration guide <a href=\"https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide\" rel=\"nofollow noreferrer\">https://github.com/micrometer-metrics/tracing/wiki/Spring-Cloud-Sleuth-3.1-Migration-Guide</a></p>\n"},{"tags":[],"owner":{"account_id":25691764,"reputation":9,"user_id":19453071,"display_name":"Piotr"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656599399,"creation_date":1656599399,"answer_id":72817593,"question_id":70965480,"body_markdown":"Spring Boot 3.0.0-M3 docs still mention Sleuth: &quot;Prometheus Exemplars are also supported. To enable this feature, a SpanContextSupplier bean should present. If you use Spring Cloud Sleuth, this will be auto-configured for you (...)&quot; (https://docs.spring.io/spring-boot/docs/3.0.0-M3/reference/html/actuator.html#actuator.metrics.export.prometheus) but start.spring.io reports that Sleuth &quot;requires Spring Boot &gt;= 2.3.0.M1 and &lt; 3.0.0-M1.&quot; \r\n\r\nIt seems, Spring Boot docs need fix here.\r\n\r\nRegards,\r\nPiotr","title":"SpringBoot 3.0.0-M1 + SpringCloud 2022.0.0-M1 [ERROR] &#39;dependency.version&#39; for org.springframework.cloud:spring-cloud-starter-sleuth:jar is missing","body":"<p>Spring Boot 3.0.0-M3 docs still mention Sleuth: &quot;Prometheus Exemplars are also supported. To enable this feature, a SpanContextSupplier bean should present. If you use Spring Cloud Sleuth, this will be auto-configured for you (...)&quot; (<a href=\"https://docs.spring.io/spring-boot/docs/3.0.0-M3/reference/html/actuator.html#actuator.metrics.export.prometheus\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/3.0.0-M3/reference/html/actuator.html#actuator.metrics.export.prometheus</a>) but start.spring.io reports that Sleuth &quot;requires Spring Boot &gt;= 2.3.0.M1 and &lt; 3.0.0-M1.&quot;</p>\n<p>It seems, Spring Boot docs need fix here.</p>\n<p>Regards,\nPiotr</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4379,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71064630,"answer_count":2,"score":5,"last_activity_date":1672943635,"creation_date":1643857799,"question_id":70965480,"body_markdown":"With the exciting releases of both SpringBoot 3.0.0-M1 and SpringCloud 2022.0.0-M1, I went ahead to bump the versions up.\r\n\r\nhttps://spring.io/blog/2022/01/20/spring-boot-3-0-0-m1-is-now-available\r\n\r\nhttps://spring.io/blog/2022/01/27/spring-cloud-2022-0-0-m1-codename-kilburn-has-been-released\r\n\r\nWhile things worked perfectly fine on my SpringBoot 2.6.3 + Jubilee, the exact same code, with just the version change on the pom file to the new pair SpringBoot 3.0.0-M1 + SpringCloud 2022.0.0-M1, the following error is observed.\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home/bin/java -Dmaven.multiModuleProjectDirectory=abc -Dmaven.home=maven3 [...] -Didea.version=2021.3.1 clean install\r\n[INFO] Scanning for projects...\r\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\r\n[ERROR] &#39;dependencies.dependency.version&#39; for org.springframework.cloud:spring-cloud-starter-sleuth:jar is missing. @ line xx, column 21\r\n[ERROR] &#39;dependencies.dependency.version&#39; for org.springframework.cloud:spring-cloud-sleuth-zipkin:jar is missing. @ line xx, column 21\r\n @ \r\n```\r\n\r\nPer Spring Cloud official documentation:\r\n\r\n```\r\nSpring Cloud Sleuth\r\n\r\nSpring Cloud Sleuth’s last minor version is 3.1. You can check the 3.1.x branch for the latest commits.\r\n\r\nThe core of this project got moved to Micrometer Tracing project and the instrumentations will be moved to Micrometer and all respective projects (no longer all instrumentations will be done in a single repository.\r\n```\r\n\r\nI am having a hard time understanding. Does it mean from 3.0/2022.0 onward, there is no Sleuth anymore? We need to use Micrometer instead?\r\n\r\nHow to keep existing features offered by Sleuth please?\r\n\r\nThank you","title":"SpringBoot 3.0.0-M1 + SpringCloud 2022.0.0-M1 [ERROR] &#39;dependency.version&#39; for org.springframework.cloud:spring-cloud-starter-sleuth:jar is missing","body":"<p>With the exciting releases of both SpringBoot 3.0.0-M1 and SpringCloud 2022.0.0-M1, I went ahead to bump the versions up.</p>\n<p><a href=\"https://spring.io/blog/2022/01/20/spring-boot-3-0-0-m1-is-now-available\" rel=\"noreferrer\">https://spring.io/blog/2022/01/20/spring-boot-3-0-0-m1-is-now-available</a></p>\n<p><a href=\"https://spring.io/blog/2022/01/27/spring-cloud-2022-0-0-m1-codename-kilburn-has-been-released\" rel=\"noreferrer\">https://spring.io/blog/2022/01/27/spring-cloud-2022-0-0-m1-codename-kilburn-has-been-released</a></p>\n<p>While things worked perfectly fine on my SpringBoot 2.6.3 + Jubilee, the exact same code, with just the version change on the pom file to the new pair SpringBoot 3.0.0-M1 + SpringCloud 2022.0.0-M1, the following error is observed.</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home/bin/java -Dmaven.multiModuleProjectDirectory=abc -Dmaven.home=maven3 [...] -Didea.version=2021.3.1 clean install\n[INFO] Scanning for projects...\n[ERROR] [ERROR] Some problems were encountered while processing the POMs:\n[ERROR] 'dependencies.dependency.version' for org.springframework.cloud:spring-cloud-starter-sleuth:jar is missing. @ line xx, column 21\n[ERROR] 'dependencies.dependency.version' for org.springframework.cloud:spring-cloud-sleuth-zipkin:jar is missing. @ line xx, column 21\n @ \n</code></pre>\n<p>Per Spring Cloud official documentation:</p>\n<pre><code>Spring Cloud Sleuth\n\nSpring Cloud Sleuth’s last minor version is 3.1. You can check the 3.1.x branch for the latest commits.\n\nThe core of this project got moved to Micrometer Tracing project and the instrumentations will be moved to Micrometer and all respective projects (no longer all instrumentations will be done in a single repository.\n</code></pre>\n<p>I am having a hard time understanding. Does it mean from 3.0/2022.0 onward, there is no Sleuth anymore? We need to use Micrometer instead?</p>\n<p>How to keep existing features offered by Sleuth please?</p>\n<p>Thank you</p>\n"},{"tags":["java","tensorflow","tensorflow-serving"],"owner":{"account_id":27445147,"reputation":71,"user_id":20939080,"display_name":"Mr.Yin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672943634,"creation_date":1672942011,"question_id":75022623,"body_markdown":"When I use tensorflow&#39;s grpc client to request tf serving in Java, many `TensorProto` are built. In a batch request, a large number of `TensorProto` are duplicated. I found that the comments of `setTensorContent` say &quot;avoiding serialization of many repeated small items&quot;, and I want to use `TensorContent` data to build repeated TensorProto.\r\nIs there any way to generate `TensorContent` from `TensorProto` or an array of raw data?\r\n\r\nI searched for information about the `AsProtoTensorContent` function and found that only tensorflow&#39;s C++ implementation can call it. Hope to have a solution in Java.\r\n\r\nI only found a way to convert `float` to `byte[]` and then use `ByteString.copyFrom` to get `TensorContent`. Did not find any relevant documentation for this code.\r\n\r\n    public static byte[] float2byte(float f) {\r\n\r\n        int fbit = Float.floatToIntBits(f);\r\n\r\n        byte[] b = new byte[4];\r\n        for (int i = 0; i &lt; 4; i++) {\r\n            b[i] = (byte) (fbit &gt;&gt; (24 - i * 8));\r\n        }\r\n\r\n        int len = b.length;\r\n        byte[] dest = new byte[len];\r\n        System.arraycopy(b, 0, dest, 0, len);\r\n        byte temp;\r\n        for (int i = 0; i &lt; len / 2; ++i) {\r\n            temp = dest[i];\r\n            dest[i] = dest[len - i - 1];\r\n            dest[len - i - 1] = temp;\r\n        }\r\n        return dest;\r\n    }","title":"In Java, is there any way to convert TensorProto to TensorContent?","body":"<p>When I use tensorflow's grpc client to request tf serving in Java, many <code>TensorProto</code> are built. In a batch request, a large number of <code>TensorProto</code> are duplicated. I found that the comments of <code>setTensorContent</code> say &quot;avoiding serialization of many repeated small items&quot;, and I want to use <code>TensorContent</code> data to build repeated TensorProto.\nIs there any way to generate <code>TensorContent</code> from <code>TensorProto</code> or an array of raw data?</p>\n<p>I searched for information about the <code>AsProtoTensorContent</code> function and found that only tensorflow's C++ implementation can call it. Hope to have a solution in Java.</p>\n<p>I only found a way to convert <code>float</code> to <code>byte[]</code> and then use <code>ByteString.copyFrom</code> to get <code>TensorContent</code>. Did not find any relevant documentation for this code.</p>\n<pre><code>public static byte[] float2byte(float f) {\n\n    int fbit = Float.floatToIntBits(f);\n\n    byte[] b = new byte[4];\n    for (int i = 0; i &lt; 4; i++) {\n        b[i] = (byte) (fbit &gt;&gt; (24 - i * 8));\n    }\n\n    int len = b.length;\n    byte[] dest = new byte[len];\n    System.arraycopy(b, 0, dest, 0, len);\n    byte temp;\n    for (int i = 0; i &lt; len / 2; ++i) {\n        temp = dest[i];\n        dest[i] = dest[len - i - 1];\n        dest[len - i - 1] = temp;\n    }\n    return dest;\n}\n</code></pre>\n"},{"tags":["java","minecraft-fabric"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1672942562,"post_id":75022644,"comment_id":132392306,"body_markdown":"In nms&#39; `EntityPlayer` there should be some field for player&#39;s username/display name, which would be referenced when the server builds the [PlayerInfoUpdate packet](https://wiki.vg/Protocol#Player_Info_Update). If there&#39;s nothing there to intercept that packet when the client receives it, then that would be a good point to hook into. Otherwise, you can intercept where the player information is stored.","body":"In nms&#39; <code>EntityPlayer</code> there should be some field for player&#39;s username/display name, which would be referenced when the server builds the <a href=\"https://wiki.vg/Protocol#Player_Info_Update\" rel=\"nofollow noreferrer\">PlayerInfoUpdate packet</a>. If there&#39;s nothing there to intercept that packet when the client receives it, then that would be a good point to hook into. Otherwise, you can intercept where the player information is stored."},{"owner":{"account_id":27411106,"reputation":3,"user_id":20911015,"display_name":"Drekamor"},"score":0,"creation_date":1672943081,"post_id":75022644,"comment_id":132392454,"body_markdown":"1) Isn&#39;t there a method/class that actually renders name? When you disable HUD display name also disappears, but I&#39;ve found no reference in net.minecraft.client.gui.hud.InGameHud\n2)Thanks for help, will try to use this method","body":"1) Isn&#39;t there a method/class that actually renders name? When you disable HUD display name also disappears, but I&#39;ve found no reference in net.minecraft.client.gui.hud.InGameHud 2)Thanks for help, will try to use this method"}],"owner":{"account_id":27411106,"reputation":3,"user_id":20911015,"display_name":"Drekamor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672942704,"creation_date":1672942116,"question_id":75022644,"body_markdown":"I&#39;m making a client-side mod and need to change the display name (name that hovers over the player&#39;s head) For reference: I need to change the names of other players (that do not use the mod), NOT my name that other players see.\r\n\r\n\r\n\r\nI&#39;ve already looked through all related classes on the net. Minecraft. client. But haven&#39;t found anything that renders the display name.\r\n\r\nIf anyone has any idea about that class, tell me, please. I&#39;ve spent three days looking for it with no results.","title":"How to change player&#39;s displayname?","body":"<p>I'm making a client-side mod and need to change the display name (name that hovers over the player's head) For reference: I need to change the names of other players (that do not use the mod), NOT my name that other players see.</p>\n<p>I've already looked through all related classes on the net. Minecraft. client. But haven't found anything that renders the display name.</p>\n<p>If anyone has any idea about that class, tell me, please. I've spent three days looking for it with no results.</p>\n"},{"tags":["java","mysql","exception"],"comments":[{"owner":{"account_id":20836256,"reputation":99,"user_id":15304078,"display_name":"creativeAxe"},"score":0,"creation_date":1672942253,"post_id":75022656,"comment_id":132392208,"body_markdown":"I&#39;m aware that address is misspelled, but that is the correct column name.","body":"I&#39;m aware that address is misspelled, but that is the correct column name."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":3,"creation_date":1672942301,"post_id":75022656,"comment_id":132392222,"body_markdown":"dob should be surrounded by single quotes.","body":"dob should be surrounded by single quotes."}],"owner":{"account_id":20836256,"reputation":99,"user_id":15304078,"display_name":"creativeAxe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672942322,"answer_count":0,"score":0,"last_activity_date":1672942684,"creation_date":1672942172,"question_id":75022656,"body_markdown":"I&#39;ve been staring at the issue for the past 2 hours with no avial. There apparently is an error with my sql query but I can&#39;t seem to find the issue. \r\n\r\nThanks in advance. \r\n\r\nMySQL version:\r\n  8.0.31\r\n\r\nJava:\r\n  openjdk version &quot;17.0.5&quot; 2022-10-18\r\n\r\nThe sql query i&#39;m running:\r\n\r\n    INSERT INTO users (name, age, comment, dob, email, addres) VALUES (&#39;Jane&#39;, &#39;48&#39;, &#39;coOUtqEHqY&#39;,  2015-05-145 07:47:09, &#39;5Xi1Jdd5LrgMkU8xMv5@outlook.com&#39;, &#39;Suite 638 58920 Loree Path, Port Georgettechester, IL 06836&#39;);\r\n\r\n\r\nError: \r\n\r\n    java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;07:47:09, &#39;5Xi1Jdd5LrgMkU8xMv5@outlook.com&#39;, &#39;Suite 638 58920 Loree Path, Port G&#39; at line 1\r\n            at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\r\n            at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n            at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\r\n            at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\r\n            at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\r\n            at com.dbautomation.database.DBConnection.insertSQL(DBConnection.java:56)\r\n            at com.dbautomation.database.DBActions.insertCols(DBActions.java:53)\r\n            at com.dbautomation.App.main(App.java:61)\r\n\r\n\r\nSQL query for the table:\r\n\r\n   \r\n\r\n     create table users ( \r\n    user_id int not null auto_increment, \r\n    name varchar(100) not null, age int, \r\n    comment varchar(255), dob DATE, \r\n    email varchar(255), \r\n    addres varchar(255), \r\n    primary key (user_id));\r\n\r\nTable Description:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZggRY.png\r\n\r\nI&#39;ve tried putting the date col value surrounded in single quotes but I get the error of:\r\n\r\n    MysqlDataTruncation: Data truncation: Incorrect date value: &#39; 2008-06-160 11:09:11&#39; for column &#39;dob&#39; at row 1\r\n\r\nI&#39;m aware that address is misspelled, but that is the correct column name. \r\n","title":"java.sql.SQLSyntaxErrorException Unidentified Syntax Error","body":"<p>I've been staring at the issue for the past 2 hours with no avial. There apparently is an error with my sql query but I can't seem to find the issue.</p>\n<p>Thanks in advance.</p>\n<p>MySQL version:\n8.0.31</p>\n<p>Java:\nopenjdk version &quot;17.0.5&quot; 2022-10-18</p>\n<p>The sql query i'm running:</p>\n<pre><code>INSERT INTO users (name, age, comment, dob, email, addres) VALUES ('Jane', '48', 'coOUtqEHqY',  2015-05-145 07:47:09, '5Xi1Jdd5LrgMkU8xMv5@outlook.com', 'Suite 638 58920 Loree Path, Port Georgettechester, IL 06836');\n</code></pre>\n<p>Error:</p>\n<pre><code>java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '07:47:09, '5Xi1Jdd5LrgMkU8xMv5@outlook.com', 'Suite 638 58920 Loree Path, Port G' at line 1\n        at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1334)\n        at com.mysql.cj.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2084)\n        at com.mysql.cj.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1245)\n        at com.dbautomation.database.DBConnection.insertSQL(DBConnection.java:56)\n        at com.dbautomation.database.DBActions.insertCols(DBActions.java:53)\n        at com.dbautomation.App.main(App.java:61)\n</code></pre>\n<p>SQL query for the table:</p>\n<pre><code> create table users ( \nuser_id int not null auto_increment, \nname varchar(100) not null, age int, \ncomment varchar(255), dob DATE, \nemail varchar(255), \naddres varchar(255), \nprimary key (user_id));\n</code></pre>\n<p>Table Description:</p>\n<p><a href=\"https://i.stack.imgur.com/ZggRY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZggRY.png\" alt=\"enter image description here\" /></a></p>\n<p>I've tried putting the date col value surrounded in single quotes but I get the error of:</p>\n<pre><code>MysqlDataTruncation: Data truncation: Incorrect date value: ' 2008-06-160 11:09:11' for column 'dob' at row 1\n</code></pre>\n<p>I'm aware that address is misspelled, but that is the correct column name.</p>\n"},{"tags":["java","android","eclipse","button","menu"],"comments":[{"owner":{"account_id":1458593,"reputation":6868,"user_id":1373545,"accept_rate":100,"display_name":"joao2fast4u"},"score":0,"creation_date":1411825496,"post_id":26075247,"comment_id":40855236,"body_markdown":"You have all the info you need in https://developer.android.com/training/basics/actionbar/adding-buttons.html","body":"You have all the info you need in <a href=\"https://developer.android.com/training/basics/actionbar/adding-buttons.html\" rel=\"nofollow noreferrer\">developer.android.com/training/basics/actionbar/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4688944,"reputation":133,"user_id":3795609,"accept_rate":67,"display_name":"oo33"},"score":0,"creation_date":1412027504,"post_id":26075487,"comment_id":40918095,"body_markdown":"When i modified &#39;public class ScanInputActivity extends Activity implements OnClickListener {&#39; to &#39;public class ScanInputActivity extends ActionBarActivity implements OnClickListener {&#39; I got a ton of errors? Any idea why? Thanks!","body":"When i modified &#39;public class ScanInputActivity extends Activity implements OnClickListener {&#39; to &#39;public class ScanInputActivity extends ActionBarActivity implements OnClickListener {&#39; I got a ton of errors? Any idea why? Thanks!"}],"tags":[],"owner":{"account_id":4774628,"reputation":5978,"user_id":3858196,"accept_rate":100,"display_name":"Kushal Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1411827189,"creation_date":1411826858,"answer_id":26075487,"question_id":26075247,"body_markdown":"You need to extends `ActionBarActivity` insted of Activity.\r\n\r\nThen make a function for onCreateOptionsMenu \r\n\r\n\t@Override\r\n\tpublic boolean onCreateOptionsMenu(Menu menu) {\r\n\t\t// Inflate the menu; this adds items to the action bar if it is present.\r\n\t\tgetMenuInflater().inflate(R.menu.main, menu);\r\n\t\treturn true;\r\n\t}\r\n\r\nThen make onOptionsItemSelected\r\n\r\n\t@Override\r\n\tpublic boolean onOptionsItemSelected(MenuItem item) {\r\n\t\t// Handle action bar item clicks here. The action bar will\r\n\t\t// automatically handle clicks on the Home/Up button, so long\r\n\t\t// as you specify a parent activity in AndroidManifest.xml.\r\n\t\tint id = item.getItemId();\r\n\t\tif (id == R.id.action_settings) {\r\n\r\n            // Do something when Settings button is clicked.\r\n\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn super.onOptionsItemSelected(item);\r\n\t}\r\n\r\nand in you Resourses folder there must be a menu folder with main.xml something like\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:context=&quot;com.example.test.MainActivity&quot; &gt;\r\n    \r\n        &lt;item\r\n            android:id=&quot;@+id/action_settings&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/action_settings&quot;\r\n            app:showAsAction=&quot;never&quot;/&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nYou can play with the above code to experiment with it and modify the same to get your desired results. I hope the information was helpful. Read more about it [here.][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/actionbar/adding-buttons.html","title":"how to change buttons to menu in android eclipse","body":"<p>You need to extends <code>ActionBarActivity</code> insted of Activity.</p>\n\n<p>Then make a function for onCreateOptionsMenu </p>\n\n<pre><code>@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    getMenuInflater().inflate(R.menu.main, menu);\n    return true;\n}\n</code></pre>\n\n<p>Then make onOptionsItemSelected</p>\n\n<pre><code>@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    // Handle action bar item clicks here. The action bar will\n    // automatically handle clicks on the Home/Up button, so long\n    // as you specify a parent activity in AndroidManifest.xml.\n    int id = item.getItemId();\n    if (id == R.id.action_settings) {\n\n        // Do something when Settings button is clicked.\n\n        return true;\n    }\n    return super.onOptionsItemSelected(item);\n}\n</code></pre>\n\n<p>and in you Resourses folder there must be a menu folder with main.xml something like</p>\n\n<pre><code>&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\"com.example.test.MainActivity\" &gt;\n\n    &lt;item\n        android:id=\"@+id/action_settings\"\n        android:orderInCategory=\"100\"\n        android:title=\"@string/action_settings\"\n        app:showAsAction=\"never\"/&gt;\n\n&lt;/menu&gt;\n</code></pre>\n\n<p>You can play with the above code to experiment with it and modify the same to get your desired results. I hope the information was helpful. Read more about it <a href=\"https://developer.android.com/training/basics/actionbar/adding-buttons.html\" rel=\"nofollow\">here.</a></p>\n"}],"owner":{"account_id":4688944,"reputation":133,"user_id":3795609,"accept_rate":67,"display_name":"oo33"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26075487,"answer_count":1,"score":1,"last_activity_date":1672942432,"creation_date":1411825210,"question_id":26075247,"body_markdown":"I have searched high and low to find a simple way to turn buttons into a menu (any menu style) I currently have buttons in my app and I would like to turn them into a menu (i.e. the 3 dots in the right corner) for a more simple UI\r\n\r\nI would like the following to appear in a menu:\r\nbCheckOnline\r\nbSettings\r\nbLogout1\r\n\r\nIf this is alot more complicated than i thought please contact me and I will pay someone to modify my code. (however, any help is appreciated!)\r\n\r\n\r\nI have included my res/layout/activity_main.xml below:\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;             \r\n        android:orientation=&quot;vertical&quot;\r\n        android:scrollbars=&quot;vertical&quot; &gt;\r\n    \r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:gravity=&quot;center_vertical&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:background=&quot;@color/black&quot;   \r\n        android:paddingBottom=&quot;@dimen/sixteen&quot;\r\n        android:paddingTop=&quot;@dimen/sixteen&quot;\r\n        android:weightSum=&quot;10&quot; &gt;\r\n    \r\n    \t    &lt;TextView\r\n    \t        android:id=&quot;@+id/tvSyncDate_temp&quot;\r\n    \t        android:layout_width=&quot;wrap_content&quot;\r\n    \t        android:layout_height=&quot;wrap_content&quot;\r\n    \t        android:text=&quot;TextView&quot;\r\n    \t        android:visibility=&quot;gone&quot;  /&gt;\r\n            \r\n            &lt;TextView\r\n                android:id=&quot;@+id/tvVersion&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;9.06&quot;\r\n                android:gravity=&quot;center_vertical&quot;\r\n                android:paddingLeft=&quot;13dp&quot;\r\n                android:singleLine=&quot;true&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:text=&quot;TAP+REPORT&quot;\r\n                android:textSize=&quot;@dimen/twentysize&quot;\r\n                android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/bSettings&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;0.55&quot;\r\n                android:background=&quot;@drawable/btn2&quot;\r\n                android:text=&quot;Sync&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;@dimen/twentysize&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;ScrollView\r\n            android:id=&quot;@+id/svMain&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;10&quot;\r\n            android:fillViewport=&quot;true&quot; &gt;    \r\n    \r\n    \t&lt;RelativeLayout\r\n    \t    android:layout_width=&quot;wrap_content&quot;\r\n    \t    android:layout_height=&quot;wrap_content&quot; &gt;           \r\n            \r\n    \t\t&lt;LinearLayout\r\n    \t\t    android:layout_width=&quot;match_parent&quot;\r\n    \t\t    android:layout_height=&quot;match_parent&quot;\r\n    \t\t    android:orientation=&quot;vertical&quot;\r\n    \t\t    android:scrollbars=&quot;vertical&quot; &gt;\r\n    \t\t\r\n    \t\t        &lt;LinearLayout\r\n    \t\t            android:layout_width=&quot;match_parent&quot;\r\n    \t\t            android:background=&quot;@color/white&quot;   \r\n    \t\t            android:layout_height=&quot;wrap_content&quot; &gt;\r\n    \t\t        \r\n    \t\t        &lt;TextView\r\n    \t\t            android:id=&quot;@+id/tvVersion&quot;\r\n    \t\t            android:layout_width=&quot;wrap_content&quot;\r\n    \t\t            android:layout_height=&quot;wrap_content&quot;\r\n    \t\t            android:paddingBottom=&quot;5dp&quot;\r\n    \t\t            android:paddingLeft=&quot;@dimen/thirteen&quot;\r\n    \t\t            android:paddingRight=&quot;@dimen/thirteen&quot;\r\n    \t\t            android:paddingTop=&quot;5dp&quot;\r\n    \t\t            android:text=&quot;Tap tag now with top-back of phone and hold to report. Upon completion tap sync.&quot;\r\n    \t\t            android:textColor=&quot;@color/darkgrey&quot;\r\n    \t\t            android:textSize=&quot;@dimen/seventeen&quot; /&gt;\r\n    \t\t            \r\n    \t\t        &lt;/LinearLayout&gt;\r\n    \r\n    \t\t        &lt;LinearLayout\r\n    \t\t            android:layout_width=&quot;match_parent&quot;\r\n    \t\t            android:layout_height=&quot;wrap_content&quot;\r\n    \t\t            android:orientation=&quot;vertical&quot;\r\n    \t\t            android:paddingTop=&quot;10dp&quot; &gt;\r\n    \r\n    \t\t        &lt;/LinearLayout&gt;\r\n    \r\n    \t\t\t     &lt;LinearLayout\r\n    \t\t\t         android:layout_width=&quot;match_parent&quot;\r\n    \t\t\t         android:layout_height=&quot;wrap_content&quot;\r\n    \t\t\t         android:layout_gravity=&quot;top&quot;\r\n    \t\t\t         android:layout_weight=&quot;4.76&quot;\r\n    \t\t\t         android:gravity=&quot;top|center_vertical|center_horizontal&quot;\r\n    \t\t\t         android:orientation=&quot;vertical&quot; &gt;\r\n    \r\n    \t\t\t         &lt;ImageView\r\n    \t\t\t             android:id=&quot;@+id/myanimation&quot;\r\n    \t\t\t             android:layout_width=&quot;match_parent&quot;\r\n    \t\t\t             android:layout_height=&quot;338dp&quot;\r\n    \t\t\t             android:padding=&quot;15dp&quot;\r\n    \t\t\t             android:scaleType=&quot;fitCenter&quot;\r\n    \t\t\t             android:src=&quot;@anim/anim_android&quot; /&gt;\r\n    \r\n    \t\t\t     &lt;/LinearLayout&gt;\r\n    \r\n    \t\t\t\t&lt;LinearLayout\r\n    \t\t\t\t    android:layout_width=&quot;match_parent&quot;\r\n    \t\t\t\t    android:layout_height=&quot;wrap_content&quot;\r\n    \t\t\t\t    android:layout_gravity=&quot;bottom&quot;\r\n    \t\t\t\t    android:gravity=&quot;bottom&quot;\r\n    \t\t\t\t    android:orientation=&quot;horizontal&quot;\r\n    \t\t\t\t    android:paddingBottom=&quot;@dimen/twentysize&quot;\r\n    \t\t\t\t    android:paddingLeft=&quot;@dimen/twentysize&quot;\r\n    \t\t\t\t    android:paddingRight=&quot;@dimen/twentysize&quot; &gt;\r\n    \t\t\t\r\n    \t\t\t\t        &lt;Button\r\n    \t\t\t\t            android:id=&quot;@+id/bCheckOnline&quot;\r\n    \t\t\t\t            android:layout_width=&quot;wrap_content&quot;\r\n    \t\t\t\t            android:layout_height=&quot;wrap_content&quot;\r\n    \t\t\t\t            android:layout_weight=&quot;8.55&quot;\r\n    \t\t\t\t            android:background=&quot;@drawable/btn3&quot;\r\n    \t\t\t\t            android:text=&quot;View Online&quot;\r\n    \t\t\t\t            android:textColor=&quot;@color/darkgrey&quot;\r\n    \t\t\t\t            android:textSize=&quot;@dimen/seventeen&quot; /&gt;\r\n    \t\t\t\t        \r\n    \t\t\t\t        &lt;Button\r\n    \t\t\t\t            android:id=&quot;@+id/bLogout1&quot;\r\n    \t\t\t\t            android:layout_width=&quot;wrap_content&quot;\r\n    \t\t\t\t            android:layout_height=&quot;wrap_content&quot;\r\n    \t\t\t\t            android:layout_weight=&quot;4&quot;\r\n    \t\t\t\t            android:background=&quot;@null&quot;\r\n    \t\t\t\t            android:gravity=&quot;right|center_horizontal&quot;\r\n    \t\t\t\t            android:paddingRight=&quot;5dp&quot;\r\n    \t\t\t\t            android:text=&quot;Logout&quot;\r\n    \t\t\t\t            android:textColor=&quot;@color/holobluelight&quot;\r\n    \t\t\t\t            android:textSize=&quot;@dimen/seventeen&quot; /&gt;\r\n    \r\n    \t\t\t    &lt;/LinearLayout&gt;\t\t\t\t    \r\n    \r\n      \t\t&lt;/LinearLayout&gt;\r\n      \t&lt;/RelativeLayout&gt;   \t\r\n        &lt;/ScrollView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nI have included the java file:\r\n\r\n    package com.test.test.activity;\r\n    \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.preference.PreferenceManager;\r\n    import android.view.View;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n    //import android.provider.Contacts.Intents;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.Random;\r\n    import android.view.Menu;\r\n    import android.view.MenuItem;\r\n    import android.support.v4.app.NavUtils;\r\n    import android.net.Uri;\r\n  \r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.HttpClient;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import android.nfc.NdefMessage;\r\n    import android.nfc.NfcAdapter;\r\n    import android.os.Parcelable;\r\n    import android.util.Log;\r\n    \r\n    //import org.ndeftools.Message;\r\n    //import org.ndeftools.Record;\r\n    //import org.ndeftools.wellknown.SmartPosterRecord;\r\n    //import org.ndeftools.wellknown.TextRecord;\r\n    //import org.ndeftools.wellknown.UriRecord;\r\n     \r\n    import android.app.PendingIntent;\r\n    \r\n    import android.content.IntentFilter;\r\n    import android.content.IntentFilter.MalformedMimeTypeException;\r\n    \r\n    import android.nfc.Tag;\r\n    import android.nfc.tech.Ndef;\r\n    import android.graphics.drawable.AnimationDrawable;\r\n    import android.widget.ImageView;\r\n    \r\n    public class ScanInputActivity extends Activity implements OnClickListener {\r\n    \tSharedPreferences app_preferences;\r\n    \tTextView tvSyncDate_temp;\r\n    \tVehicle vehicle;\r\n    \t\r\n    \tprivate NfcAdapter mNfcAdapter;\r\n        public static final String MIME_TEXT_PLAIN = &quot;text/plain&quot;;\r\n        public static final String TAG = &quot;NfcDemo&quot;;\r\n        \r\n    \t @Override\r\n    \t public void onCreate(Bundle savedInstanceState) {\r\n    \t  super.onCreate(savedInstanceState);\r\n    \t  setContentView(R.layout.activity_main);\r\n      \r\n    \t    ImageView myAnimation = (ImageView)findViewById(R.id.myanimation);\r\n    \t    final AnimationDrawable myAnimationDrawable\r\n    \t    = (AnimationDrawable)myAnimation.getDrawable();\r\n    \t\r\n    \t    myAnimation.post(\r\n    \t    new Runnable(){\r\n        \t\r\n    \t    \t\r\n    \t      @Override\r\n    \t      public void run() {\r\n    \t       myAnimationDrawable.start();\r\n    \t      }\r\n    \r\n    \t    });\r\n    \r\n    \t  Button bSettings= (Button) findViewById(R.id.bSettings);\r\n    \t  bSettings.setOnClickListener(this);\r\n    \t  Button bCheckOnline= (Button) findViewById(R.id.bCheckOnline);\r\n    \t  bCheckOnline.setOnClickListener(this);\r\n    \t  Button bLogout1 = (Button) findViewById(R.id.bLogout1);\r\n    \t  bLogout1.setOnClickListener(this);\r\n    \t  ","title":"how to change buttons to menu in android eclipse","body":"<p>I have searched high and low to find a simple way to turn buttons into a menu (any menu style) I currently have buttons in my app and I would like to turn them into a menu (i.e. the 3 dots in the right corner) for a more simple UI</p>\n<p>I would like the following to appear in a menu:\nbCheckOnline\nbSettings\nbLogout1</p>\n<p>If this is alot more complicated than i thought please contact me and I will pay someone to modify my code. (however, any help is appreciated!)</p>\n<p>I have included my res/layout/activity_main.xml below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;             \n    android:orientation=&quot;vertical&quot;\n    android:scrollbars=&quot;vertical&quot; &gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:gravity=&quot;center_vertical&quot;\n    android:orientation=&quot;horizontal&quot;\n    android:background=&quot;@color/black&quot;   \n    android:paddingBottom=&quot;@dimen/sixteen&quot;\n    android:paddingTop=&quot;@dimen/sixteen&quot;\n    android:weightSum=&quot;10&quot; &gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/tvSyncDate_temp&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;TextView&quot;\n            android:visibility=&quot;gone&quot;  /&gt;\n        \n        &lt;TextView\n            android:id=&quot;@+id/tvVersion&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;9.06&quot;\n            android:gravity=&quot;center_vertical&quot;\n            android:paddingLeft=&quot;13dp&quot;\n            android:singleLine=&quot;true&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:text=&quot;TAP+REPORT&quot;\n            android:textSize=&quot;@dimen/twentysize&quot;\n            android:textStyle=&quot;bold&quot; /&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/bSettings&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;0.55&quot;\n            android:background=&quot;@drawable/btn2&quot;\n            android:text=&quot;Sync&quot;\n            android:textColor=&quot;@color/white&quot;\n            android:textSize=&quot;@dimen/twentysize&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;ScrollView\n        android:id=&quot;@+id/svMain&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;10&quot;\n        android:fillViewport=&quot;true&quot; &gt;    \n\n    &lt;RelativeLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; &gt;           \n        \n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:orientation=&quot;vertical&quot;\n            android:scrollbars=&quot;vertical&quot; &gt;\n        \n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:background=&quot;@color/white&quot;   \n                    android:layout_height=&quot;wrap_content&quot; &gt;\n                \n                &lt;TextView\n                    android:id=&quot;@+id/tvVersion&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:paddingBottom=&quot;5dp&quot;\n                    android:paddingLeft=&quot;@dimen/thirteen&quot;\n                    android:paddingRight=&quot;@dimen/thirteen&quot;\n                    android:paddingTop=&quot;5dp&quot;\n                    android:text=&quot;Tap tag now with top-back of phone and hold to report. Upon completion tap sync.&quot;\n                    android:textColor=&quot;@color/darkgrey&quot;\n                    android:textSize=&quot;@dimen/seventeen&quot; /&gt;\n                    \n                &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:orientation=&quot;vertical&quot;\n                    android:paddingTop=&quot;10dp&quot; &gt;\n\n                &lt;/LinearLayout&gt;\n\n                 &lt;LinearLayout\n                     android:layout_width=&quot;match_parent&quot;\n                     android:layout_height=&quot;wrap_content&quot;\n                     android:layout_gravity=&quot;top&quot;\n                     android:layout_weight=&quot;4.76&quot;\n                     android:gravity=&quot;top|center_vertical|center_horizontal&quot;\n                     android:orientation=&quot;vertical&quot; &gt;\n\n                     &lt;ImageView\n                         android:id=&quot;@+id/myanimation&quot;\n                         android:layout_width=&quot;match_parent&quot;\n                         android:layout_height=&quot;338dp&quot;\n                         android:padding=&quot;15dp&quot;\n                         android:scaleType=&quot;fitCenter&quot;\n                         android:src=&quot;@anim/anim_android&quot; /&gt;\n\n                 &lt;/LinearLayout&gt;\n\n                &lt;LinearLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_gravity=&quot;bottom&quot;\n                    android:gravity=&quot;bottom&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:paddingBottom=&quot;@dimen/twentysize&quot;\n                    android:paddingLeft=&quot;@dimen/twentysize&quot;\n                    android:paddingRight=&quot;@dimen/twentysize&quot; &gt;\n            \n                        &lt;Button\n                            android:id=&quot;@+id/bCheckOnline&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_weight=&quot;8.55&quot;\n                            android:background=&quot;@drawable/btn3&quot;\n                            android:text=&quot;View Online&quot;\n                            android:textColor=&quot;@color/darkgrey&quot;\n                            android:textSize=&quot;@dimen/seventeen&quot; /&gt;\n                        \n                        &lt;Button\n                            android:id=&quot;@+id/bLogout1&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_weight=&quot;4&quot;\n                            android:background=&quot;@null&quot;\n                            android:gravity=&quot;right|center_horizontal&quot;\n                            android:paddingRight=&quot;5dp&quot;\n                            android:text=&quot;Logout&quot;\n                            android:textColor=&quot;@color/holobluelight&quot;\n                            android:textSize=&quot;@dimen/seventeen&quot; /&gt;\n\n                &lt;/LinearLayout&gt;                 \n\n        &lt;/LinearLayout&gt;\n    &lt;/RelativeLayout&gt;       \n    &lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I have included the java file:</p>\n<pre><code>package com.test.test.activity;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.preference.PreferenceManager;\nimport android.view.View;\nimport android.view.View.OnClickListener;\nimport android.widget.Button;\nimport android.widget.Toast;\n//import android.provider.Contacts.Intents;\nimport android.widget.TextView;\n\nimport java.util.Random;\nimport android.view.Menu;\nimport android.view.MenuItem;\nimport android.support.v4.app.NavUtils;\nimport android.net.Uri;\n\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.apache.http.client.methods.HttpPost;\n\nimport java.io.IOException;\n\nimport android.nfc.NdefMessage;\nimport android.nfc.NfcAdapter;\nimport android.os.Parcelable;\nimport android.util.Log;\n\n//import org.ndeftools.Message;\n//import org.ndeftools.Record;\n//import org.ndeftools.wellknown.SmartPosterRecord;\n//import org.ndeftools.wellknown.TextRecord;\n//import org.ndeftools.wellknown.UriRecord;\n \nimport android.app.PendingIntent;\n\nimport android.content.IntentFilter;\nimport android.content.IntentFilter.MalformedMimeTypeException;\n\nimport android.nfc.Tag;\nimport android.nfc.tech.Ndef;\nimport android.graphics.drawable.AnimationDrawable;\nimport android.widget.ImageView;\n\npublic class ScanInputActivity extends Activity implements OnClickListener {\n    SharedPreferences app_preferences;\n    TextView tvSyncDate_temp;\n    Vehicle vehicle;\n    \n    private NfcAdapter mNfcAdapter;\n    public static final String MIME_TEXT_PLAIN = &quot;text/plain&quot;;\n    public static final String TAG = &quot;NfcDemo&quot;;\n    \n     @Override\n     public void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n      setContentView(R.layout.activity_main);\n  \n        ImageView myAnimation = (ImageView)findViewById(R.id.myanimation);\n        final AnimationDrawable myAnimationDrawable\n        = (AnimationDrawable)myAnimation.getDrawable();\n    \n        myAnimation.post(\n        new Runnable(){\n        \n            \n          @Override\n          public void run() {\n           myAnimationDrawable.start();\n          }\n\n        });\n\n      Button bSettings= (Button) findViewById(R.id.bSettings);\n      bSettings.setOnClickListener(this);\n      Button bCheckOnline= (Button) findViewById(R.id.bCheckOnline);\n      bCheckOnline.setOnClickListener(this);\n      Button bLogout1 = (Button) findViewById(R.id.bLogout1);\n      bLogout1.setOnClickListener(this);\n      \n</code></pre>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1672932031,"post_id":75020096,"comment_id":132388368,"body_markdown":"Did you mean to access `usersId`? `groupRequest.getId()` would come from the request body. What does the request body look like?","body":"Did you mean to access <code>usersId</code>? <code>groupRequest.getId()</code> would come from the request body. What does the request body look like?"}],"answers":[{"tags":[],"owner":{"account_id":11456710,"reputation":734,"user_id":8397480,"display_name":"xardbaiz"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1672942388,"creation_date":1672941030,"answer_id":75022452,"question_id":75020096,"body_markdown":"You need to persist the object from request. And since you have Many-2-Many relation, you can insert related object from both sides. In your case: just add existing user to the newly created group\r\n\r\nThe method will look something like that:\r\n\r\n```java\r\n@PostMapping(&quot;/user/{usersId}/groups&quot;)\r\npublic ResponseEntity&lt;Groups&gt; createGroup(@PathVariable(value = &quot;usersId&quot;) Long usersId, @RequestBody Groups groupRequest) {\r\n     Groups createdGroup = userRepository.findById(usersId)\r\n     .map(user -&gt; {\r\n          groupRequest.setId(null); // ID for new entry will be generated by entity framework, prevent override from outside\r\n          groupRequest.getUsers().add(user); // add relation\r\n          return groupsRepository.save(groupRequest);\r\n    }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found user with id = &quot; + usersId));\r\n\r\n    return new ResponseEntity&lt;&gt;(createdGroup, HttpStatus.CREATED);\r\n}\r\n```\r\n","title":"post mapping rest api spring boot cannot get id","body":"<p>You need to persist the object from request. And since you have Many-2-Many relation, you can insert related object from both sides. In your case: just add existing user to the newly created group</p>\n<p>The method will look something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/user/{usersId}/groups&quot;)\npublic ResponseEntity&lt;Groups&gt; createGroup(@PathVariable(value = &quot;usersId&quot;) Long usersId, @RequestBody Groups groupRequest) {\n     Groups createdGroup = userRepository.findById(usersId)\n     .map(user -&gt; {\n          groupRequest.setId(null); // ID for new entry will be generated by entity framework, prevent override from outside\n          groupRequest.getUsers().add(user); // add relation\n          return groupsRepository.save(groupRequest);\n    }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found user with id = &quot; + usersId));\n\n    return new ResponseEntity&lt;&gt;(createdGroup, HttpStatus.CREATED);\n}\n</code></pre>\n"}],"owner":{"account_id":23420828,"reputation":389,"user_id":17481061,"display_name":"Ilze"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1672942388,"creation_date":1672929535,"question_id":75020096,"body_markdown":"Im learning, and so far i created many to many bidirectional database - user can create many groups and group can have many users -  and i cannot find a way for my GroupsController Post mapping to work, from my understanding, it requires to get firstly Users id, in order to set the right relationship in Join table for Group, because the relationship should be set only when user create/join group, not when user create sign up procedure. Postman throws 500 and intelliJ: \r\n\r\n```\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.ilze.highlight.entity.Groups.getId()&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.ilze.highlight.entity.Groups.getId()&quot; is null\r\n\r\n```\r\nI use lombok - @Data, @Getter, therefore getId() should be available for use from Group class. My GroupsController with POST mapping when user decides to create a new group:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;api/groups&quot;) // pre-path\r\npublic class GroupsController{\r\n\r\n\r\n  @Autowired\r\n  private GroupsService groupsService;\r\n\r\n  @Autowired\r\n  private UserService userService;\r\n\r\n  @Autowired\r\n  private final GroupsRepository groupsRepository;\r\n\r\n  @Autowired\r\n  private UserRepository userRepository;\r\n\r\n  public GroupsController(GroupsRepository groupsRepository) {\r\n    this.groupsRepository = groupsRepository;\r\n  }\r\n\r\n  @GetMapping(&quot;/all-groups&quot;)\r\n  public List&lt;Groups&gt; getGroups(){\r\n    return (List&lt;Groups&gt;) groupsRepository.findAll();\r\n  }\r\n\r\n  @PostMapping(&quot;/user/{usersId}/create-group&quot;)\r\n  public ResponseEntity&lt;Groups&gt; createGroup(@PathVariable(value = &quot;usersId&quot;) Long usersId, @RequestBody Groups groupRequest){\r\n    Groups group = userRepository.findById(usersId).map(users -&gt; {\r\n      long groupsId = groupRequest.getId();\r\n\r\n      // add and create new group\r\n      users.addGroup(groupRequest);\r\n      return groupsRepository.save(groupRequest);\r\n    }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found user with id = &quot; + usersId));\r\n\r\n    return new ResponseEntity&lt;&gt;(group, HttpStatus.CREATED);\r\n  }\r\n}\r\n```\r\n\r\nGroup database class: \r\n\r\n```\r\n@Data\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Table(name = &quot;group_collection&quot;)\r\npublic class Groups {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;)\r\n  private Long id;\r\n\r\n  @Column(name =&quot;group_name&quot;, unique = true, nullable = false, length = 20)\r\n  private String groupName;\r\n\r\n  @Column(name = &quot;size&quot;, nullable = false)\r\n  private int size;\r\n\r\n  @Column(name = &quot;strict&quot;, nullable = false)\r\n  private boolean strict;\r\n\r\n  @Column(name = &quot;open&quot;, nullable = false)\r\n  private boolean open;\r\n\r\n  @Column(name =&quot;description&quot;, length = 300)\r\n  private String description;\r\n\r\n  @Column(name = &quot;create_time&quot;, nullable = false)\r\n  private LocalDateTime createTime;\r\n\r\n\r\n  @ManyToMany(fetch = FetchType.LAZY,\r\n  cascade = {\r\n    CascadeType.PERSIST,\r\n    CascadeType.MERGE,\r\n    CascadeType.DETACH,\r\n    CascadeType.REFRESH\r\n  },\r\n  mappedBy = &quot;groups&quot;)\r\n  @JsonIgnore\r\n  private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n\r\n\r\n  public Set&lt;User&gt; getUsers() {\r\n    return users;\r\n  }\r\n\r\n  public void setUsers(Set&lt;User&gt; users) {\r\n    this.users = users;\r\n  }\r\n\r\n}\r\n```\r\n\r\nAnd Users class for database:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;)\r\n  private Long id;\r\n\r\n  @Column(name = &quot;username&quot;, unique = true, nullable = false, length = 100)\r\n  private String username;\r\n\r\n  @Column(name = &quot;password&quot;, nullable = false)\r\n  private String password;\r\n\r\n  @Column(name = &quot;email&quot;, nullable = false)\r\n  private String email;\r\n\r\n  @Column(name = &quot;create_time&quot;, nullable = false)\r\n  private LocalDateTime createTime;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;role&quot;, nullable = false)\r\n  private Role role;\r\n\r\n  @Transient\r\n  private String accessToken;\r\n\r\n  @Transient\r\n  private String refreshToken;\r\n\r\n\r\n  @ManyToMany(fetch = FetchType.LAZY,\r\n    cascade = {\r\n      CascadeType.PERSIST,\r\n      CascadeType.MERGE,\r\n      CascadeType.DETACH,\r\n      CascadeType.REFRESH\r\n    })\r\n  @JoinTable(name = &quot;groups_x_user&quot;,\r\n    joinColumns = { @JoinColumn(name = &quot;users_id&quot;) },\r\n    inverseJoinColumns = {@JoinColumn(name = &quot;groups_id&quot;)})\r\n  private Set&lt;Groups&gt; groups = new HashSet&lt;&gt;();\r\n\r\n\r\n  public void addGroup(Groups group) {\r\n    this.groups.add(group);\r\n    group.getUsers().add(this);\r\n  }\r\n\r\n  public void removeGroup(long id){\r\n    Groups group = this.groups.stream().filter(g -&gt;\r\n      g.getId() == id).findFirst().orElse(null);\r\n    if(group != null){\r\n      this.groups.remove(group);\r\n      group.getUsers().remove(this);\r\n    }\r\n  }\r\n```\r\n\r\nFor reference my GroupsService implementation:\r\n\r\n```\r\n@Service\r\npublic class GroupsServiceImpl implements GroupsService{\r\n\r\n  private final GroupsRepository groupsRepository;\r\n\r\n  public GroupsServiceImpl(GroupsRepository groupsRepository) {\r\n    this.groupsRepository = groupsRepository;\r\n  }\r\n\r\n  @Override\r\n  public Groups saveGroup(Groups group) {\r\n    group.setCreateTime(LocalDateTime.now());\r\n    return groupsRepository.save(group);\r\n  }\r\n\r\n  @Override\r\n  public Optional&lt;Groups&gt; findByGroupName(String groupName) {\r\n    return groupsRepository.findByGroupName(groupName);\r\n  }\r\n\r\n}\r\n```\r\n","title":"post mapping rest api spring boot cannot get id","body":"<p>Im learning, and so far i created many to many bidirectional database - user can create many groups and group can have many users -  and i cannot find a way for my GroupsController Post mapping to work, from my understanding, it requires to get firstly Users id, in order to set the right relationship in Join table for Group, because the relationship should be set only when user create/join group, not when user create sign up procedure. Postman throws 500 and intelliJ:</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.ilze.highlight.entity.Groups.getId()&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;java.lang.Long.longValue()&quot; because the return value of &quot;com.ilze.highlight.entity.Groups.getId()&quot; is null\n\n</code></pre>\n<p>I use lombok - @Data, @Getter, therefore getId() should be available for use from Group class. My GroupsController with POST mapping when user decides to create a new group:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/groups&quot;) // pre-path\npublic class GroupsController{\n\n\n  @Autowired\n  private GroupsService groupsService;\n\n  @Autowired\n  private UserService userService;\n\n  @Autowired\n  private final GroupsRepository groupsRepository;\n\n  @Autowired\n  private UserRepository userRepository;\n\n  public GroupsController(GroupsRepository groupsRepository) {\n    this.groupsRepository = groupsRepository;\n  }\n\n  @GetMapping(&quot;/all-groups&quot;)\n  public List&lt;Groups&gt; getGroups(){\n    return (List&lt;Groups&gt;) groupsRepository.findAll();\n  }\n\n  @PostMapping(&quot;/user/{usersId}/create-group&quot;)\n  public ResponseEntity&lt;Groups&gt; createGroup(@PathVariable(value = &quot;usersId&quot;) Long usersId, @RequestBody Groups groupRequest){\n    Groups group = userRepository.findById(usersId).map(users -&gt; {\n      long groupsId = groupRequest.getId();\n\n      // add and create new group\n      users.addGroup(groupRequest);\n      return groupsRepository.save(groupRequest);\n    }).orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Not found user with id = &quot; + usersId));\n\n    return new ResponseEntity&lt;&gt;(group, HttpStatus.CREATED);\n  }\n}\n</code></pre>\n<p>Group database class:</p>\n<pre><code>@Data\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Table(name = &quot;group_collection&quot;)\npublic class Groups {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private Long id;\n\n  @Column(name =&quot;group_name&quot;, unique = true, nullable = false, length = 20)\n  private String groupName;\n\n  @Column(name = &quot;size&quot;, nullable = false)\n  private int size;\n\n  @Column(name = &quot;strict&quot;, nullable = false)\n  private boolean strict;\n\n  @Column(name = &quot;open&quot;, nullable = false)\n  private boolean open;\n\n  @Column(name =&quot;description&quot;, length = 300)\n  private String description;\n\n  @Column(name = &quot;create_time&quot;, nullable = false)\n  private LocalDateTime createTime;\n\n\n  @ManyToMany(fetch = FetchType.LAZY,\n  cascade = {\n    CascadeType.PERSIST,\n    CascadeType.MERGE,\n    CascadeType.DETACH,\n    CascadeType.REFRESH\n  },\n  mappedBy = &quot;groups&quot;)\n  @JsonIgnore\n  private Set&lt;User&gt; users = new HashSet&lt;&gt;();\n\n\n  public Set&lt;User&gt; getUsers() {\n    return users;\n  }\n\n  public void setUsers(Set&lt;User&gt; users) {\n    this.users = users;\n  }\n\n}\n</code></pre>\n<p>And Users class for database:</p>\n<pre><code>@Data\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;users&quot;)\npublic class User {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private Long id;\n\n  @Column(name = &quot;username&quot;, unique = true, nullable = false, length = 100)\n  private String username;\n\n  @Column(name = &quot;password&quot;, nullable = false)\n  private String password;\n\n  @Column(name = &quot;email&quot;, nullable = false)\n  private String email;\n\n  @Column(name = &quot;create_time&quot;, nullable = false)\n  private LocalDateTime createTime;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;role&quot;, nullable = false)\n  private Role role;\n\n  @Transient\n  private String accessToken;\n\n  @Transient\n  private String refreshToken;\n\n\n  @ManyToMany(fetch = FetchType.LAZY,\n    cascade = {\n      CascadeType.PERSIST,\n      CascadeType.MERGE,\n      CascadeType.DETACH,\n      CascadeType.REFRESH\n    })\n  @JoinTable(name = &quot;groups_x_user&quot;,\n    joinColumns = { @JoinColumn(name = &quot;users_id&quot;) },\n    inverseJoinColumns = {@JoinColumn(name = &quot;groups_id&quot;)})\n  private Set&lt;Groups&gt; groups = new HashSet&lt;&gt;();\n\n\n  public void addGroup(Groups group) {\n    this.groups.add(group);\n    group.getUsers().add(this);\n  }\n\n  public void removeGroup(long id){\n    Groups group = this.groups.stream().filter(g -&gt;\n      g.getId() == id).findFirst().orElse(null);\n    if(group != null){\n      this.groups.remove(group);\n      group.getUsers().remove(this);\n    }\n  }\n</code></pre>\n<p>For reference my GroupsService implementation:</p>\n<pre><code>@Service\npublic class GroupsServiceImpl implements GroupsService{\n\n  private final GroupsRepository groupsRepository;\n\n  public GroupsServiceImpl(GroupsRepository groupsRepository) {\n    this.groupsRepository = groupsRepository;\n  }\n\n  @Override\n  public Groups saveGroup(Groups group) {\n    group.setCreateTime(LocalDateTime.now());\n    return groupsRepository.save(group);\n  }\n\n  @Override\n  public Optional&lt;Groups&gt; findByGroupName(String groupName) {\n    return groupsRepository.findByGroupName(groupName);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":0,"creation_date":1508494527,"post_id":46846503,"comment_id":80641325,"body_markdown":"JUnit5 in general nowadays has one answer for everything, it looks like - [extension API](http://junit.org/junit5/docs/current/user-guide/#extensions). I haven&#39;t played with it myself, but most things I think can be expressed with it. That said, JUnit4 way should still be perfectly viable for what you want.","body":"JUnit5 in general nowadays has one answer for everything, it looks like - <a href=\"http://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"nofollow noreferrer\">extension API</a>. I haven&#39;t played with it myself, but most things I think can be expressed with it. That said, JUnit4 way should still be perfectly viable for what you want."},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1508496905,"post_id":46846503,"comment_id":80642533,"body_markdown":"@M.Prokhorov thanks for the hint, will have a look at the extension model.","body":"@M.Prokhorov thanks for the hint, will have a look at the extension model."}],"answers":[{"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":3,"creation_date":1508758051,"post_id":46851140,"comment_id":80723376,"body_markdown":"It&#39;s JUnit5, so it is Java8, and so it has repeatable annotations, and there&#39;s really no need to expose `@SystemProperties` annotation to user - just mark `@SystemProperty` as repeatable and call `getAnnotationS` instead of `getAnnotation`.","body":"It&#39;s JUnit5, so it is Java8, and so it has repeatable annotations, and there&#39;s really no need to expose <code>@SystemProperties</code> annotation to user - just mark <code>@SystemProperty</code> as repeatable and call <code>getAnnotationS</code> instead of <code>getAnnotation</code>."},{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":1,"creation_date":1525210473,"post_id":46851140,"comment_id":87266437,"body_markdown":"will not work for by hitting the System.getenv() from the code,,","body":"will not work for by hitting the System.getenv() from the code,,"},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":1,"creation_date":1597870061,"post_id":46851140,"comment_id":112277609,"body_markdown":"@ses system properties != environment variables. If you have to deal with the latter, check out this answer: https://stackoverflow.com/a/63494695/3429133","body":"@ses system properties != environment variables. If you have to deal with the latter, check out this answer: <a href=\"https://stackoverflow.com/a/63494695/3429133\">stackoverflow.com/a/63494695/3429133</a>"}],"tags":[],"owner":{"account_id":6585650,"reputation":1749,"user_id":5088458,"accept_rate":100,"display_name":"schrieveslaach"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1508509196,"creation_date":1508509196,"answer_id":46851140,"question_id":46846503,"body_markdown":"You can use the [extension API](http://junit.org/junit5/docs/current/user-guide/#extensions). You could create an annotation which defines your extension to a test method. \r\n\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    @ExtendWith(SystemPropertyExtension.class)\r\n    public @interface SystemProperty {\r\n    \r\n        String key();\r\n    \r\n        String value();\r\n    }\r\n\r\nThen, you can create the extension class:\r\n\r\n    import org.junit.jupiter.api.extension.AfterEachCallback;\r\n    import org.junit.jupiter.api.extension.BeforeEachCallback;\r\n    import org.junit.jupiter.api.extension.ExtensionContext;\r\n    \r\n    public class SystemPropertyExtension implements AfterEachCallback, BeforeEachCallback {\r\n    \r\n        @Override\r\n        public void afterEach(ExtensionContext extensionContext) throws Exception {\r\n            SystemProperty annotation = extensionContext.getTestMethod().get().getAnnotation(SystemProperty.class);\r\n            System.clearProperty(annotation.key());\r\n        }\r\n    \r\n        @Override\r\n        public void beforeEach(ExtensionContext extensionContext) throws Exception {\r\n            SystemProperty annotation = extensionContext.getTestMethod().get().getAnnotation(SystemProperty.class);\r\n            System.setProperty(annotation.key(), annotation.value());\r\n        }\r\n    }\r\n\r\nFinally, you can annotate your test with properties:\r\n\r\n    @Test\r\n    @SystemProperty(key = &quot;key&quot;, value = &quot;value&quot;)\r\n    void testPropertey() {\r\n        System.out.println(System.getProperty(&quot;key&quot;));\r\n    }\r\n\r\nThis solution supports only one system property for each test. If you want to support multiple test, you could use a nested annotation and the extension could handle this as well:\r\n\r\n    @Test\r\n    @SystemProperties({\r\n        @SystemProperty(key = &quot;key1&quot;, value = &quot;value&quot;),\r\n        @SystemProperty(key = &quot;key2&quot;, value = &quot;value&quot;)\r\n    })\r\n    void testPropertey() {\r\n        System.out.println(System.getProperty(&quot;key1&quot;));\r\n        System.out.println(System.getProperty(&quot;key2&quot;));\r\n    }","title":"Properly set (system) properties in JUnit 5","body":"<p>You can use the <a href=\"http://junit.org/junit5/docs/current/user-guide/#extensions\" rel=\"noreferrer\">extension API</a>. You could create an annotation which defines your extension to a test method. </p>\n\n<pre><code>import org.junit.jupiter.api.extension.ExtendWith;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\n@ExtendWith(SystemPropertyExtension.class)\npublic @interface SystemProperty {\n\n    String key();\n\n    String value();\n}\n</code></pre>\n\n<p>Then, you can create the extension class:</p>\n\n<pre><code>import org.junit.jupiter.api.extension.AfterEachCallback;\nimport org.junit.jupiter.api.extension.BeforeEachCallback;\nimport org.junit.jupiter.api.extension.ExtensionContext;\n\npublic class SystemPropertyExtension implements AfterEachCallback, BeforeEachCallback {\n\n    @Override\n    public void afterEach(ExtensionContext extensionContext) throws Exception {\n        SystemProperty annotation = extensionContext.getTestMethod().get().getAnnotation(SystemProperty.class);\n        System.clearProperty(annotation.key());\n    }\n\n    @Override\n    public void beforeEach(ExtensionContext extensionContext) throws Exception {\n        SystemProperty annotation = extensionContext.getTestMethod().get().getAnnotation(SystemProperty.class);\n        System.setProperty(annotation.key(), annotation.value());\n    }\n}\n</code></pre>\n\n<p>Finally, you can annotate your test with properties:</p>\n\n<pre><code>@Test\n@SystemProperty(key = \"key\", value = \"value\")\nvoid testPropertey() {\n    System.out.println(System.getProperty(\"key\"));\n}\n</code></pre>\n\n<p>This solution supports only one system property for each test. If you want to support multiple test, you could use a nested annotation and the extension could handle this as well:</p>\n\n<pre><code>@Test\n@SystemProperties({\n    @SystemProperty(key = \"key1\", value = \"value\"),\n    @SystemProperty(key = \"key2\", value = \"value\")\n})\nvoid testPropertey() {\n    System.out.println(System.getProperty(\"key1\"));\n    System.out.println(System.getProperty(\"key2\"));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7402277,"reputation":340,"user_id":5632321,"display_name":"Anatoly Yakimchuk"},"score":1,"creation_date":1667409922,"post_id":59635733,"comment_id":131162429,"body_markdown":"It does not work with Java 17 due to restrictions with the system module.","body":"It does not work with Java 17 due to restrictions with the system module."},{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1668456802,"post_id":59635733,"comment_id":131404874,"body_markdown":"@AnatolyYakimchuk could it be you are confusing system properties and environment variables? The former shouldn&#39;t yield any warnings/errors, for the latter there is [this section](https://junit-pioneer.org/docs/environment-variables/#warnings-for-reflective-access) in the Pioneer docs.","body":"@AnatolyYakimchuk could it be you are confusing system properties and environment variables? The former shouldn&#39;t yield any warnings/errors, for the latter there is <a href=\"https://junit-pioneer.org/docs/environment-variables/#warnings-for-reflective-access\" rel=\"nofollow noreferrer\">this section</a> in the Pioneer docs."},{"owner":{"account_id":7402277,"reputation":340,"user_id":5632321,"display_name":"Anatoly Yakimchuk"},"score":0,"creation_date":1668465181,"post_id":59635733,"comment_id":131407276,"body_markdown":"I ended up using System Stubs library https://github.com/webcompere/system-stubs it does correctly set env variables even with the new (17+) version of Java.","body":"I ended up using System Stubs library <a href=\"https://github.com/webcompere/system-stubs\" rel=\"nofollow noreferrer\">github.com/webcompere/system-stubs</a> it does correctly set env variables even with the new (17+) version of Java."}],"tags":[],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":3,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1602103748,"creation_date":1578429526,"answer_id":59635733,"question_id":46846503,"body_markdown":"There is [JUnit Pioneer](https://junit-pioneer.org/), a &quot;JUnit 5 extension pack&quot;. It comes with `@ClearSystemProperty` and `@SetSystemProperty`. From the [docs](https://junit-pioneer.org/docs/system-properties):\r\n\r\n&gt;The `@ClearSystemProperty` and `@SetSystemProperty` annotations can be used to clear, respectively, set the values of system properties for a test execution. Both annotations work on the test method and class level, are repeatable as well as combinable. After the annotated method has been executed, the properties mentioned in the annotation will be restored to their original value or will be cleared if they didn&#39;t have one before.\r\nOther system properties that are changed during the test, are *not* restored.\r\n\r\nExample:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\t@Test\r\n\t@ClearSystemProperty(key = &quot;some key&quot;)\r\n\t@SetSystemProperty(key = &quot;another key&quot;, value = &quot;new value&quot;)\r\n\tvoid test() {\r\n\t\tassertNull(System.getProperty(&quot;some key&quot;));\r\n\t\tassertEquals(&quot;new value&quot;, System.getProperty(&quot;another key&quot;));\r\n\t}","title":"Properly set (system) properties in JUnit 5","body":"<p>There is <a href=\"https://junit-pioneer.org/\" rel=\"noreferrer\">JUnit Pioneer</a>, a &quot;JUnit 5 extension pack&quot;. It comes with <code>@ClearSystemProperty</code> and <code>@SetSystemProperty</code>. From the <a href=\"https://junit-pioneer.org/docs/system-properties\" rel=\"noreferrer\">docs</a>:</p>\n<blockquote>\n<p>The <code>@ClearSystemProperty</code> and <code>@SetSystemProperty</code> annotations can be used to clear, respectively, set the values of system properties for a test execution. Both annotations work on the test method and class level, are repeatable as well as combinable. After the annotated method has been executed, the properties mentioned in the annotation will be restored to their original value or will be cleared if they didn't have one before.\nOther system properties that are changed during the test, are <em>not</em> restored.</p>\n</blockquote>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@ClearSystemProperty(key = &quot;some key&quot;)\n@SetSystemProperty(key = &quot;another key&quot;, value = &quot;new value&quot;)\nvoid test() {\n    assertNull(System.getProperty(&quot;some key&quot;));\n    assertEquals(&quot;new value&quot;, System.getProperty(&quot;another key&quot;));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"score":0,"creation_date":1607117106,"post_id":64965509,"comment_id":115181285,"body_markdown":"One can use Pioneer&#39;s `@ClearSystemProperty` and then `System#setProperty(...)` for non-constant expressions, so values don&#39;t need to be known at compile time (see [docs](https://junit-pioneer.org/docs/system-properties/)).","body":"One can use Pioneer&#39;s <code>@ClearSystemProperty</code> and then <code>System#setProperty(...)</code> for non-constant expressions, so values don&#39;t need to be known at compile time (see <a href=\"https://junit-pioneer.org/docs/system-properties/\" rel=\"nofollow noreferrer\">docs</a>)."},{"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"score":0,"creation_date":1607364024,"post_id":64965509,"comment_id":115243731,"body_markdown":"True. As `System.setProperty` is a pretty easy thing to use, it&#39;s not a big deal per-se. However, what&#39;s nice about the above is that the set of System properties can be defined in the `SystemProperties` object at construction, or in the `Before` method, and is not yet applied to the properties until the test runs.\n\nEven better is the `EnvironmentVariables` alternative from SystemStubs, which does the same for the harder-to-reach environment variables.","body":"True. As <code>System.setProperty</code> is a pretty easy thing to use, it&#39;s not a big deal per-se. However, what&#39;s nice about the above is that the set of System properties can be defined in the <code>SystemProperties</code> object at construction, or in the <code>Before</code> method, and is not yet applied to the properties until the test runs.  Even better is the <code>EnvironmentVariables</code> alternative from SystemStubs, which does the same for the harder-to-reach environment variables."}],"tags":[],"owner":{"account_id":1434179,"reputation":5113,"user_id":1355930,"display_name":"Ashley Frieze"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606122880,"creation_date":1606122880,"answer_id":64965509,"question_id":46846503,"body_markdown":"The JUnit Pioneer way requires the system properties to be known at compile time. Where they are generated at runtime, say via `Testcontainers` or `Wiremock` creating things on random ports, it may be better to use something which can be driven from dynamic values.\r\n\r\nThe problem can be solved with System Stubs https://github.com/webcompere/system-stubs which provides JUnit 5 and is a fork of the code from System Lambda, itself built by the author of System Rules.\r\n\r\n```java\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass SomeTest {\r\n    // can be initialised here with some up front properties\r\n    // or leave like this for auto initialization\r\n    @SystemStub\r\n    private SystemProperties someProperties;\r\n\r\n    @BeforeEach\r\n    void beforeEach() {\r\n        someProperties.set(&quot;prop1&quot;, &quot;value1&quot;)\r\n            .set(&quot;prop2&quot;, &quot;value2&quot;);\r\n    }\r\n\r\n    @Test\r\n    void someTest() {\r\n        // properties are set here\r\n        // and can also call System.setProperty\r\n\r\n\r\n        // properties reset to state before the test case ran\r\n        // as the test case is tidied up\r\n    }\r\n}\r\n\r\n```","title":"Properly set (system) properties in JUnit 5","body":"<p>The JUnit Pioneer way requires the system properties to be known at compile time. Where they are generated at runtime, say via <code>Testcontainers</code> or <code>Wiremock</code> creating things on random ports, it may be better to use something which can be driven from dynamic values.</p>\n<p>The problem can be solved with System Stubs <a href=\"https://github.com/webcompere/system-stubs\" rel=\"nofollow noreferrer\">https://github.com/webcompere/system-stubs</a> which provides JUnit 5 and is a fork of the code from System Lambda, itself built by the author of System Rules.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SystemStubsExtension.class)\nclass SomeTest {\n    // can be initialised here with some up front properties\n    // or leave like this for auto initialization\n    @SystemStub\n    private SystemProperties someProperties;\n\n    @BeforeEach\n    void beforeEach() {\n        someProperties.set(&quot;prop1&quot;, &quot;value1&quot;)\n            .set(&quot;prop2&quot;, &quot;value2&quot;);\n    }\n\n    @Test\n    void someTest() {\n        // properties are set here\n        // and can also call System.setProperty\n\n\n        // properties reset to state before the test case ran\n        // as the test case is tidied up\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4185213,"reputation":7640,"user_id":3429133,"accept_rate":73,"display_name":"beatngu13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29446,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":59635733,"answer_count":3,"score":22,"last_activity_date":1672942312,"creation_date":1508492908,"question_id":46846503,"body_markdown":"We are using an approach similar to [System Rules](http://stefanbirkner.github.io/system-rules/) to handle (system) properties in our JUnit 4 tests. The main reason for this is to clean up the environment after each test, so that other tests do not inadvertently depend on possible side effects.\r\n\r\nSince JUnit 5 is released, I wonder if there is a &quot;JUnit 5 way&quot; of doing this?","title":"Properly set (system) properties in JUnit 5","body":"<p>We are using an approach similar to <a href=\"http://stefanbirkner.github.io/system-rules/\" rel=\"noreferrer\">System Rules</a> to handle (system) properties in our JUnit 4 tests. The main reason for this is to clean up the environment after each test, so that other tests do not inadvertently depend on possible side effects.</p>\n\n<p>Since JUnit 5 is released, I wonder if there is a \"JUnit 5 way\" of doing this?</p>\n"},{"tags":["javascript","java","spring-boot","amazon-s3","multipart"],"owner":{"account_id":18068531,"reputation":1,"user_id":14071469,"display_name":"Anant Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672942207,"creation_date":1672942007,"question_id":75022621,"body_markdown":"Basically my application has three components:- frontend (website using html and js), backend and a aws S3 bucket.\r\nWhat i am planning to achieve is that the client sends a file upload in chunks using javascript \r\nin binary form, i will receive them in backend and upload those chunks to aws S3 using multipart  upload, the reason i want to do this is because i shouldn&#39;t store full client upload in the backend and then transfer it to S3 ( because that would not scale well? )\r\n\r\n\r\nI have already figured out how to send client upload in chunks by reading the file object in Int8Array objects and sending them one by one to the backend where they will be uploaded to S3 using multipart\r\n\r\nMy question is whether this is the right approach or is there any better way to achieve this.\r\n\r\nbelow is the toy code that is somewhat working for what i am planning to do.\r\n\r\n\r\n```\r\n&lt;script&gt;\r\nvar buffer;\r\n\r\nvar int8Array;\r\nvar byteArr1;\r\nvar byteArr2;\r\n\r\nvar transferFlag;\r\n\r\ndocument.getElementById(&#39;submitButton&#39;).addEventListener(&quot;click&quot;, function(){\r\n\r\n    int8Array = new Int8Array(buffer);\r\n\r\n    let totalBufferLen = int8Array.length;\r\n    console.log(&quot;total file length is -&quot;)\r\n    console.log(totalBufferLen)\r\n\r\n    let partOneLen = totalBufferLen/2;\r\n    let partTwoLen;\r\n\r\n    //just diving total length in two\r\n    if(Number.isInteger(partOneLen)){\r\n            partTwoLen = totalBufferLen - partOneLen;\r\n    }else{\r\n            partOneLen = partOneLen + 0.5;\r\n            partTwoLen = totalBufferLen - partOneLen;\r\n    }\r\n\r\n     byteArr1 = int8Array.slice(0, partOneLen);\r\n     byteArr2 = int8Array.slice(partOneLen, totalBufferLen);\r\n \r\n\r\n    //send first part\r\n\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(&quot;POST&quot;, &quot;/testingByteData&quot;, true);\r\n    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n    xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;octet-stream&quot;);\r\n\r\n    xhr.onload = function(){\r\n        if(xhr.responseText === &quot;dataReceived&quot;){\r\n\r\n            console.log(&quot;part 1 successfully sent, sending part 2&quot;);\r\n             var xhr2 = new XMLHttpRequest();\r\n\r\n             xhr2.open(&quot;POST&quot;, &quot;/testingByteData&quot;, true);\r\n             xhr2.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\r\n             xhr2.setRequestHeader(&quot;Content-Type&quot;, &quot;octet-stream&quot;);\r\n            \r\n             xhr2.onload = function() {\r\n                if(xhr2.responseText === &quot;dataReceived&quot;){\r\n                    console.log(&quot;part 2 successfully sent&quot;)\r\n                }\r\n             }\r\n\r\n             xhr2.send(byteArr2);\r\n        }  \r\n    }\r\n    xhr.send(byteArr1);\r\n    console.log(&quot;byte1arr len ---&quot;)\r\n    console.log(byteArr1.length)\r\n\r\n})\r\n\r\ndocument.querySelector(&#39;input&#39;).addEventListener(&#39;change&#39;, async (event) =&gt; {\r\n  buffer = await event.target.files[0].arrayBuffer()\r\n\r\n}, false)\r\n```\r\n\r\nHere is the spring boot controller that is receiving the data\r\n\r\n```\r\n@PostMapping(&quot;/testingByteData&quot;)\r\n\tpublic synchronized String  bytePrint(InputStream is) throws IOException, InterruptedException {\r\n\r\n\tFile file = new File(&quot;file&quot;);\r\n\tOutputStream os = new FileOutputStream(file, true);\r\n        \r\n         //appending bytes to the file\r\n        System.out.println(is.transferTo(os) + &quot; bytes appended to the file&quot;);\r\n\r\n\tis.close();\r\n\tos.close();\r\n\r\n\t fileAppendFlag = false;\r\n\t return &quot;dataReceived&quot;;\r\n\t}\r\n    }\r\n }\r\n```\r\n \r\n\r\n\r\n","title":"How to upload a file from client side in chunks using Javascript?","body":"<p>Basically my application has three components:- frontend (website using html and js), backend and a aws S3 bucket.\nWhat i am planning to achieve is that the client sends a file upload in chunks using javascript\nin binary form, i will receive them in backend and upload those chunks to aws S3 using multipart  upload, the reason i want to do this is because i shouldn't store full client upload in the backend and then transfer it to S3 ( because that would not scale well? )</p>\n<p>I have already figured out how to send client upload in chunks by reading the file object in Int8Array objects and sending them one by one to the backend where they will be uploaded to S3 using multipart</p>\n<p>My question is whether this is the right approach or is there any better way to achieve this.</p>\n<p>below is the toy code that is somewhat working for what i am planning to do.</p>\n<pre><code>&lt;script&gt;\nvar buffer;\n\nvar int8Array;\nvar byteArr1;\nvar byteArr2;\n\nvar transferFlag;\n\ndocument.getElementById('submitButton').addEventListener(&quot;click&quot;, function(){\n\n    int8Array = new Int8Array(buffer);\n\n    let totalBufferLen = int8Array.length;\n    console.log(&quot;total file length is -&quot;)\n    console.log(totalBufferLen)\n\n    let partOneLen = totalBufferLen/2;\n    let partTwoLen;\n\n    //just diving total length in two\n    if(Number.isInteger(partOneLen)){\n            partTwoLen = totalBufferLen - partOneLen;\n    }else{\n            partOneLen = partOneLen + 0.5;\n            partTwoLen = totalBufferLen - partOneLen;\n    }\n\n     byteArr1 = int8Array.slice(0, partOneLen);\n     byteArr2 = int8Array.slice(partOneLen, totalBufferLen);\n \n\n    //send first part\n\n    var xhr = new XMLHttpRequest();\n    xhr.open(&quot;POST&quot;, &quot;/testingByteData&quot;, true);\n    xhr.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n    xhr.setRequestHeader(&quot;Content-Type&quot;, &quot;octet-stream&quot;);\n\n    xhr.onload = function(){\n        if(xhr.responseText === &quot;dataReceived&quot;){\n\n            console.log(&quot;part 1 successfully sent, sending part 2&quot;);\n             var xhr2 = new XMLHttpRequest();\n\n             xhr2.open(&quot;POST&quot;, &quot;/testingByteData&quot;, true);\n             xhr2.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n             xhr2.setRequestHeader(&quot;Content-Type&quot;, &quot;octet-stream&quot;);\n            \n             xhr2.onload = function() {\n                if(xhr2.responseText === &quot;dataReceived&quot;){\n                    console.log(&quot;part 2 successfully sent&quot;)\n                }\n             }\n\n             xhr2.send(byteArr2);\n        }  \n    }\n    xhr.send(byteArr1);\n    console.log(&quot;byte1arr len ---&quot;)\n    console.log(byteArr1.length)\n\n})\n\ndocument.querySelector('input').addEventListener('change', async (event) =&gt; {\n  buffer = await event.target.files[0].arrayBuffer()\n\n}, false)\n</code></pre>\n<p>Here is the spring boot controller that is receiving the data</p>\n<pre><code>@PostMapping(&quot;/testingByteData&quot;)\n    public synchronized String  bytePrint(InputStream is) throws IOException, InterruptedException {\n\n    File file = new File(&quot;file&quot;);\n    OutputStream os = new FileOutputStream(file, true);\n        \n         //appending bytes to the file\n        System.out.println(is.transferTo(os) + &quot; bytes appended to the file&quot;);\n\n    is.close();\n    os.close();\n\n     fileAppendFlag = false;\n     return &quot;dataReceived&quot;;\n    }\n    }\n }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1672941220,"post_id":75022406,"comment_id":132391848,"body_markdown":"You really need to provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"You really need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672942088,"creation_date":1672942088,"answer_id":75022638,"question_id":75022406,"body_markdown":"Here&#39;s a GUI I just did for someone else.  I added the yellow background.\r\n\r\n[![Example][1]][1]\r\n\r\nI don&#39;t see white in between the Swing components.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class MainRegistrationPage {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew MainRegistrationPage();\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate JTextField firstname;\r\n    \tprivate JTextField lastname;\r\n    \tprivate JTextField email;\r\n    \tprivate JPasswordField password;\r\n    \r\n    \tprivate JFrame frame;\r\n    \r\n    \tpublic MainRegistrationPage() {\r\n    \t\t// create user interface\r\n    \t\tframe = new JFrame(&quot;Registration Page&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createRegistrationPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createRegistrationPanel() {\r\n    \t\tJPanel mainPanel = new JPanel(new GridBagLayout());\r\n    \t\tmainPanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tmainPanel.setBackground(Color.YELLOW);\r\n    \t\tFont font = new Font(&quot;Georgia&quot;, Font.PLAIN, 14);\r\n    \r\n    \t\tGridBagConstraints gbc = new GridBagConstraints();\r\n    \t\tgbc.anchor = GridBagConstraints.LINE_START;\r\n    \t\tgbc.fill = GridBagConstraints.HORIZONTAL;\r\n    \t\tgbc.gridwidth = 1;\r\n    \t\tgbc.insets = new Insets(5, 5, 5, 5);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy = 0;\r\n    \t\tJLabel label = new JLabel(&quot;First Name:&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tmainPanel.add(label, gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tfirstname = new JTextField(30);\r\n    \t\tfirstname.setFont(font);\r\n    \t\tmainPanel.add(firstname, gbc);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tlabel = new JLabel(&quot;Last Name:&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tmainPanel.add(label, gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tlastname = new JTextField(30);\r\n    \t\tlastname.setFont(font);\r\n    \t\tmainPanel.add(lastname, gbc);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tlabel = new JLabel(&quot;Email:&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tmainPanel.add(label, gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\temail = new JTextField(30);\r\n    \t\temail.setFont(font);\r\n    \t\tmainPanel.add(email, gbc);\r\n    \r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tlabel = new JLabel(&quot;Password:&quot;);\r\n    \t\tlabel.setFont(font);\r\n    \t\tmainPanel.add(label, gbc);\r\n    \r\n    \t\tgbc.gridx++;\r\n    \t\tpassword = new JPasswordField(30);\r\n    \t\tpassword.setFont(font);\r\n    \t\tmainPanel.add(password, gbc);\r\n    \r\n    \t\tgbc.gridwidth = 2;\r\n    \t\tgbc.gridx = 0;\r\n    \t\tgbc.gridy++;\r\n    \t\tJButton submit = new JButton(&quot;Submit&quot;);\r\n    \t\tsubmit.addActionListener(new ActionListener() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void actionPerformed(ActionEvent e) {\r\n    \r\n    \t\t\t}\r\n    \t\t});\r\n    \t\tmainPanel.add(submit, gbc);\r\n    \r\n    \t\treturn mainPanel;\r\n    \t}\r\n    \r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/Wl3MG.png\r\n","title":"Java Swing - GridBagConstraints insets color","body":"<p>Here's a GUI I just did for someone else.  I added the yellow background.</p>\n<p><a href=\"https://i.stack.imgur.com/Wl3MG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wl3MG.png\" alt=\"Example\" /></a></p>\n<p>I don't see white in between the Swing components.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\n\npublic class MainRegistrationPage {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new MainRegistrationPage();\n            }\n        });\n    }\n\n    private JTextField firstname;\n    private JTextField lastname;\n    private JTextField email;\n    private JPasswordField password;\n\n    private JFrame frame;\n\n    public MainRegistrationPage() {\n        // create user interface\n        frame = new JFrame(&quot;Registration Page&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createRegistrationPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createRegistrationPanel() {\n        JPanel mainPanel = new JPanel(new GridBagLayout());\n        mainPanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        mainPanel.setBackground(Color.YELLOW);\n        Font font = new Font(&quot;Georgia&quot;, Font.PLAIN, 14);\n\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        gbc.gridwidth = 1;\n        gbc.insets = new Insets(5, 5, 5, 5);\n\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        JLabel label = new JLabel(&quot;First Name:&quot;);\n        label.setFont(font);\n        mainPanel.add(label, gbc);\n\n        gbc.gridx++;\n        firstname = new JTextField(30);\n        firstname.setFont(font);\n        mainPanel.add(firstname, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        label = new JLabel(&quot;Last Name:&quot;);\n        label.setFont(font);\n        mainPanel.add(label, gbc);\n\n        gbc.gridx++;\n        lastname = new JTextField(30);\n        lastname.setFont(font);\n        mainPanel.add(lastname, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        label = new JLabel(&quot;Email:&quot;);\n        label.setFont(font);\n        mainPanel.add(label, gbc);\n\n        gbc.gridx++;\n        email = new JTextField(30);\n        email.setFont(font);\n        mainPanel.add(email, gbc);\n\n        gbc.gridx = 0;\n        gbc.gridy++;\n        label = new JLabel(&quot;Password:&quot;);\n        label.setFont(font);\n        mainPanel.add(label, gbc);\n\n        gbc.gridx++;\n        password = new JPasswordField(30);\n        password.setFont(font);\n        mainPanel.add(password, gbc);\n\n        gbc.gridwidth = 2;\n        gbc.gridx = 0;\n        gbc.gridy++;\n        JButton submit = new JButton(&quot;Submit&quot;);\n        submit.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n\n            }\n        });\n        mainPanel.add(submit, gbc);\n\n        return mainPanel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16245480,"reputation":694,"user_id":11730727,"display_name":"Arfmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672942088,"creation_date":1672940716,"question_id":75022406,"body_markdown":"I&#39;m having some troubles working with GridBagConstraints, specifically with the insets property.\r\n\r\nI have two components, and I want some custom margin between theme. Now, what I did was using constraints.insets in this way:\r\n\r\n    polinomioConstraints.insets = new Insets(5, 0, 15 ,0);\r\n\r\n    checkboxesPanel.add(infoAggiunte, polinomioConstraints);\r\n    checkBoxesPanel.add(anotherString, constraintWithoutInsets);\r\n\r\nThe problem is that for some reason a white block appears in the insets area, so between the two components, and I found no way to change that white color to the actual panel&#39;s background","title":"Java Swing - GridBagConstraints insets color","body":"<p>I'm having some troubles working with GridBagConstraints, specifically with the insets property.</p>\n<p>I have two components, and I want some custom margin between theme. Now, what I did was using constraints.insets in this way:</p>\n<pre><code>polinomioConstraints.insets = new Insets(5, 0, 15 ,0);\n\ncheckboxesPanel.add(infoAggiunte, polinomioConstraints);\ncheckBoxesPanel.add(anotherString, constraintWithoutInsets);\n</code></pre>\n<p>The problem is that for some reason a white block appears in the insets area, so between the two components, and I found no way to change that white color to the actual panel's background</p>\n"},{"tags":["java","jwt","jjwt"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1672804873,"post_id":74999019,"comment_id":132354230,"body_markdown":"You should use nimbus-jose-jwt since that is what spring supports. Some example code if you want at https://github.com/karlnicholas/reactive-form-jwt-security-demo","body":"You should use nimbus-jose-jwt since that is what spring supports. Some example code if you want at <a href=\"https://github.com/karlnicholas/reactive-form-jwt-security-demo\" rel=\"nofollow noreferrer\">github.com/karlnicholas/reactive-form-jwt-security-demo</a>"}],"answers":[{"tags":[],"owner":{"account_id":10143207,"reputation":13,"user_id":7492238,"display_name":"H Ferguson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672941702,"creation_date":1672941702,"answer_id":75022564,"question_id":74999019,"body_markdown":"I think I discovered the problem.  I looked at the code sample that K. Nicholas provided. The Nimbus-Jose library is one that I had previously tried.  However the problem with the jwt.io site was more low-tech than that.  WHen entering your client secret, make sure you erase the text that says &quot;your 256 bit secret&quot;. \r\n[![signature section of jwt.io site][1]][1]\r\n\r\nI thought it was an underlay but no it&#39;s actual text content. If you paste your secret in that box, it just prepends it to the text &quot;your 256 bit secret&quot;.\r\n\r\nIn this case the solution was very low tech.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oz72u.png","title":"Cannot get JWT token generation to work on jwt.io debugger","body":"<p>I think I discovered the problem.  I looked at the code sample that K. Nicholas provided. The Nimbus-Jose library is one that I had previously tried.  However the problem with the jwt.io site was more low-tech than that.  WHen entering your client secret, make sure you erase the text that says &quot;your 256 bit secret&quot;.\n<a href=\"https://i.stack.imgur.com/oz72u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oz72u.png\" alt=\"signature section of jwt.io site\" /></a></p>\n<p>I thought it was an underlay but no it's actual text content. If you paste your secret in that box, it just prepends it to the text &quot;your 256 bit secret&quot;.</p>\n<p>In this case the solution was very low tech.</p>\n"}],"owner":{"account_id":10143207,"reputation":13,"user_id":7492238,"display_name":"H Ferguson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75022564,"answer_count":1,"score":0,"last_activity_date":1672941702,"creation_date":1672782888,"question_id":74999019,"body_markdown":"I am having some trouble using the JWT debugger at https://jwt.io/ I am using the JWT library from https://github.com/jwtk/jjwt  The use case is to send requests to an API that requires that I pass an API key in the token payload and sign it using the client secret that they give me.  So far, using the client secret they sent me (one secret appeared to be base64, but the second one they sent was definitely not base 64).  So far generating the token using the above library fails on the REST API, and it also fails at jwt.io. If I can get that working, I can probably get it to work on the REST API as well.\r\n\r\nHere is a block of code I use to generate my code.  I used a very simple secret string for this example but it is 32 bytes long (the client secret they gave me was 43 bytes long):\r\n\r\n    public class TestHarness {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tString apiKey = &quot;39999999-ba25-476a-957e-806f9f726e39&quot;;\r\n\t\t\r\n\t\tString secret = &quot;123456789-123456789_123456789_12&quot;;\r\n\t\t//long timeNow = JWTutil.getUnixTime();\r\n\t\t// Using same time so that each time we run we should get the exact same \r\n\t\t// token\r\n\t\tlong timeNow =  1672761664338l;\r\n\t\tSystem.out.println(String.format(&quot;Now in UNIX is %d&quot;, timeNow));\r\n\t\t\r\n\t\tString token = JWTutil.getToken(apiKey, secret, 300, timeNow);\r\n\t\tSystem.out.println(token);\r\n\t\tString[] parts = token.split(token, &#39;.&#39;);\r\n\t\tSystem.out.println(String.format(&quot;Token has %d parts&quot;, parts.length));\r\n\t\tfor (int i=0;i&lt;parts.length;i++) {\r\n\t\t\tSystem.out.println(String.format(&quot;Part %d : %s&quot;, i, parts[i]));\r\n\t\t}\r\n\t\tif (parts.length &gt; 2) {\r\n\t\t\tSystem.out.println(parts[2]);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nAnd here is my JWT utils class with the methods used above to generate the token\r\n```package com.cassiacm.client;\r\n\r\nimport io.jsonwebtoken.Jwts;\r\nimport io.jsonwebtoken.SignatureAlgorithm;\r\nimport io.jsonwebtoken.security.Keys;\r\nimport java.security.Key;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.util.*;\r\nimport javax.crypto.SecretKey;\r\n\r\npublic class JWTutil {\r\n\tprivate static SignatureAlgorithm sigHS256 = SignatureAlgorithm.HS256;\r\n\t\r\n\tpublic static String getToken(String appID, String secret, int duration ) {\r\n\t\tlong currTime = getUnixTime();\r\n\t\t\t\r\n\t\treturn getToken(appID, secret, duration, currTime);\r\n\t}\r\n\t\r\n\tpublic static String getToken(String appID, String secret, int duration, long currTime) {\r\n\t\tString token = Jwts.builder().setHeader(getHeader()).addClaims(getClaims(appID, currTime, duration)).signWith(getSigningKey(secret), sigHS256).compact();\r\n\t\treturn token;\r\n\t}\r\n\t\r\n\tprivate static Map&lt;String,Object&gt; getHeader() {\r\n\t\tMap&lt;String, Object&gt; map = new HashMap&lt;String,Object&gt;();\r\n\t\tmap.put(&quot;alg&quot;, &quot;HS256&quot;);\r\n\t\tmap.put(&quot;typ&quot;, &quot;JWT&quot;);\r\n\t\treturn map;\r\n\t\t\t\r\n\t}\r\n\t\r\n\tprivate static Map&lt;String,Object&gt; getClaims(String appId, long now, int duration) {\r\n\t\tMap&lt;String,Object&gt; claims = new HashMap&lt;String,Object&gt;();\r\n\t\t\r\n\t\tclaims.put(&quot;sub&quot;, appId);\r\n\t\tclaims.put(&quot;iat&quot;, Long.valueOf(now));\r\n\t\tclaims.put(&quot;exp&quot;, Long.valueOf(now + (long)duration));\r\n\t\treturn claims;\r\n\t}\r\n\tprivate static Key getSigningKey(String secret) {\r\n\t\t\r\n\t\tbyte[] theBytes = secret.getBytes(StandardCharsets.UTF_8);\r\n\t\t//byte[] encodedBytes = Base64.getEncoder().encode(secret.getBytes(StandardCharsets.UTF_8));\r\n\t\t//Key key = new SecretKeySpec(encodedBytes, sigHS256.getJcaName());\r\n\t\tSecretKey key = Keys.hmacShaKeyFor(theBytes);\r\n\t\treturn key;\r\n\t}\r\n\tpublic static long getUnixTime() {\r\n\t\t\r\n\t\tDate current = new Date();\r\n\t\treturn current.getTime();\r\n\t}\r\n\t\r\n}\r\n```\r\nI did look at the source on JJWT (I couldn&#39;t find the link to proper JavaDocs but the source comments on each function served the same purpose), the signWith() function takes 1 or 2 arguments - either a Key (1 argument) which will &quot;guess&quot; the appropriate algorithm to use, or 2 args - A key and the signing algorithm (presumably for when you want to explicitly set the signature).  In an older post, it quoted signWith() taking 1 arg as the Signing algorithm and the second as a base64 string but I seem to recall that is deprecated - it&#39;s a key or nothing.\r\n\r\nOn jwt.io, I provide the client secret I used to create the secret with. I suspect that I may be misunderstanding what I&#39;m supposed to provide.  When answering, assume that I&#39;m given a human readable string which may or may not already be Base64 encoded.  When I toggle the Base64 Encoded Secret checkbox on jwt.io, the signature changes - both ways to something other than what was in original token, even with the text staying the same for the key.","title":"Cannot get JWT token generation to work on jwt.io debugger","body":"<p>I am having some trouble using the JWT debugger at <a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a> I am using the JWT library from <a href=\"https://github.com/jwtk/jjwt\" rel=\"nofollow noreferrer\">https://github.com/jwtk/jjwt</a>  The use case is to send requests to an API that requires that I pass an API key in the token payload and sign it using the client secret that they give me.  So far, using the client secret they sent me (one secret appeared to be base64, but the second one they sent was definitely not base 64).  So far generating the token using the above library fails on the REST API, and it also fails at jwt.io. If I can get that working, I can probably get it to work on the REST API as well.</p>\n<p>Here is a block of code I use to generate my code.  I used a very simple secret string for this example but it is 32 bytes long (the client secret they gave me was 43 bytes long):</p>\n<pre><code>public class TestHarness {\n\npublic static void main(String[] args) {\n    \n    \n    String apiKey = &quot;39999999-ba25-476a-957e-806f9f726e39&quot;;\n    \n    String secret = &quot;123456789-123456789_123456789_12&quot;;\n    //long timeNow = JWTutil.getUnixTime();\n    // Using same time so that each time we run we should get the exact same \n    // token\n    long timeNow =  1672761664338l;\n    System.out.println(String.format(&quot;Now in UNIX is %d&quot;, timeNow));\n    \n    String token = JWTutil.getToken(apiKey, secret, 300, timeNow);\n    System.out.println(token);\n    String[] parts = token.split(token, '.');\n    System.out.println(String.format(&quot;Token has %d parts&quot;, parts.length));\n    for (int i=0;i&lt;parts.length;i++) {\n        System.out.println(String.format(&quot;Part %d : %s&quot;, i, parts[i]));\n    }\n    if (parts.length &gt; 2) {\n        System.out.println(parts[2]);\n    }\n    \n}\n</code></pre>\n<p>And here is my JWT utils class with the methods used above to generate the token</p>\n<pre><code>\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.security.Keys;\nimport java.security.Key;\nimport java.nio.charset.StandardCharsets;\nimport java.util.*;\nimport javax.crypto.SecretKey;\n\npublic class JWTutil {\n    private static SignatureAlgorithm sigHS256 = SignatureAlgorithm.HS256;\n    \n    public static String getToken(String appID, String secret, int duration ) {\n        long currTime = getUnixTime();\n            \n        return getToken(appID, secret, duration, currTime);\n    }\n    \n    public static String getToken(String appID, String secret, int duration, long currTime) {\n        String token = Jwts.builder().setHeader(getHeader()).addClaims(getClaims(appID, currTime, duration)).signWith(getSigningKey(secret), sigHS256).compact();\n        return token;\n    }\n    \n    private static Map&lt;String,Object&gt; getHeader() {\n        Map&lt;String, Object&gt; map = new HashMap&lt;String,Object&gt;();\n        map.put(&quot;alg&quot;, &quot;HS256&quot;);\n        map.put(&quot;typ&quot;, &quot;JWT&quot;);\n        return map;\n            \n    }\n    \n    private static Map&lt;String,Object&gt; getClaims(String appId, long now, int duration) {\n        Map&lt;String,Object&gt; claims = new HashMap&lt;String,Object&gt;();\n        \n        claims.put(&quot;sub&quot;, appId);\n        claims.put(&quot;iat&quot;, Long.valueOf(now));\n        claims.put(&quot;exp&quot;, Long.valueOf(now + (long)duration));\n        return claims;\n    }\n    private static Key getSigningKey(String secret) {\n        \n        byte[] theBytes = secret.getBytes(StandardCharsets.UTF_8);\n        //byte[] encodedBytes = Base64.getEncoder().encode(secret.getBytes(StandardCharsets.UTF_8));\n        //Key key = new SecretKeySpec(encodedBytes, sigHS256.getJcaName());\n        SecretKey key = Keys.hmacShaKeyFor(theBytes);\n        return key;\n    }\n    public static long getUnixTime() {\n        \n        Date current = new Date();\n        return current.getTime();\n    }\n    \n}\n</code></pre>\n<p>I did look at the source on JJWT (I couldn't find the link to proper JavaDocs but the source comments on each function served the same purpose), the signWith() function takes 1 or 2 arguments - either a Key (1 argument) which will &quot;guess&quot; the appropriate algorithm to use, or 2 args - A key and the signing algorithm (presumably for when you want to explicitly set the signature).  In an older post, it quoted signWith() taking 1 arg as the Signing algorithm and the second as a base64 string but I seem to recall that is deprecated - it's a key or nothing.</p>\n<p>On jwt.io, I provide the client secret I used to create the secret with. I suspect that I may be misunderstanding what I'm supposed to provide.  When answering, assume that I'm given a human readable string which may or may not already be Base64 encoded.  When I toggle the Base64 Encoded Secret checkbox on jwt.io, the signature changes - both ways to something other than what was in original token, even with the text staying the same for the key.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6844768,"reputation":106,"user_id":5263915,"display_name":"Egor"},"score":0,"creation_date":1672941242,"post_id":75022434,"comment_id":132391857,"body_markdown":"Array list is bigger than other arrays.\nPlease have a look on counter in fors","body":"Array list is bigger than other arrays. Please have a look on counter in fors"}],"answers":[{"comments":[{"owner":{"account_id":2549152,"reputation":2083,"user_id":2213309,"accept_rate":67,"display_name":"flappix"},"score":0,"creation_date":1672941626,"post_id":75022530,"comment_id":132391988,"body_markdown":"Its not even necessary to use 4 distinct loops iterating over ```list``` you can place all if-conditions in one loop","body":"Its not even necessary to use 4 distinct loops iterating over <code>list</code> you can place all if-conditions in one loop"}],"tags":[],"owner":{"account_id":27445247,"reputation":16,"user_id":20939158,"display_name":"M&#225;t&#233;"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672941524,"creation_date":1672941524,"answer_id":75022530,"question_id":75022434,"body_markdown":"there are a few issues with the code you provided.\r\n\r\nFirst, in the for loops that initialize the negativeList, evenList, and oddList arrays, you are overwriting the values at each iteration. This means that the final arrays will only contain the last value that was assigned to them. To fix this, you can use a counter variable to keep track of the next index to be filled in each array, like this:\r\n\r\n    int negCounter = 0;\r\n    int evenCounter = 0;\r\n    int oddCounter = 0;\r\n\r\n    for(int i = 0; i &lt; list.length; i++)\r\n    {\r\n        if(list[i] &lt; 0)\r\n        {\r\n            negativeList[negCounter] = list[i];\r\n            negCounter++;\r\n        }\r\n    }\r\n\r\n    for(int i = 0; i &lt; list.length; i++)\r\n    {\r\n        if(list[i] % 2 == 0 &amp;&amp; list[i] &gt; 0)\r\n        {\r\n            evenList[evenCounter] = list[i];\r\n            evenCounter++;\r\n        }\r\n    }\r\n\r\n    for(int i = 0; i &lt; list.length; i++)\r\n    {\r\n        if(list[i] % 2 == 1 &amp;&amp; list[i] &gt; 0)\r\n        {\r\n            oddList[oddCounter] = list[i];\r\n            oddCounter++;\r\n        }\r\n    }\r\n\r\nSecond, you are not checking if the input values are integers. If the user enters a non-integer value, the program will throw an exception. You can add a check to make sure that the input is an integer like this:\r\n\r\n    if(scan.hasNextInt())\r\n    {\r\n        list[i] = scan.nextInt();\r\n        // ... rest of the code\r\n    }\r\n    else\r\n    {\r\n        System.out.println(&quot;Please enter an integer.&quot;);\r\n        // If the input is not an integer, discard it and move to the next \r\n    input\r\n        scan.next();\r\n    }\r\n\r\n","title":"Array program not running correctly. How do I fix it?","body":"<p>there are a few issues with the code you provided.</p>\n<p>First, in the for loops that initialize the negativeList, evenList, and oddList arrays, you are overwriting the values at each iteration. This means that the final arrays will only contain the last value that was assigned to them. To fix this, you can use a counter variable to keep track of the next index to be filled in each array, like this:</p>\n<pre><code>int negCounter = 0;\nint evenCounter = 0;\nint oddCounter = 0;\n\nfor(int i = 0; i &lt; list.length; i++)\n{\n    if(list[i] &lt; 0)\n    {\n        negativeList[negCounter] = list[i];\n        negCounter++;\n    }\n}\n\nfor(int i = 0; i &lt; list.length; i++)\n{\n    if(list[i] % 2 == 0 &amp;&amp; list[i] &gt; 0)\n    {\n        evenList[evenCounter] = list[i];\n        evenCounter++;\n    }\n}\n\nfor(int i = 0; i &lt; list.length; i++)\n{\n    if(list[i] % 2 == 1 &amp;&amp; list[i] &gt; 0)\n    {\n        oddList[oddCounter] = list[i];\n        oddCounter++;\n    }\n}\n</code></pre>\n<p>Second, you are not checking if the input values are integers. If the user enters a non-integer value, the program will throw an exception. You can add a check to make sure that the input is an integer like this:</p>\n<pre><code>if(scan.hasNextInt())\n{\n    list[i] = scan.nextInt();\n    // ... rest of the code\n}\nelse\n{\n    System.out.println(&quot;Please enter an integer.&quot;);\n    // If the input is not an integer, discard it and move to the next \ninput\n    scan.next();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672941537,"creation_date":1672941537,"answer_id":75022534,"question_id":75022434,"body_markdown":"you can very much simplify your code with using `ArrayList` instead of array. For example:\r\n```java\r\npublic static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        int length = 10;\r\n        System.out.println(&quot;Please enter 10 integers:&quot;);\r\n\r\n        List&lt;Integer&gt; oddList = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; negativeList = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; length; i++) {\r\n            int n = scan.nextInt();\r\n            if (n &lt; 0) {\r\n                negativeList.add(n);\r\n            } else if (n % 2 == 0) {\r\n                evenList.add(n);\r\n            } else {\r\n                oddList.add(n);\r\n            }\r\n        }\r\n\r\n        for (int i : negativeList) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n\r\n        System.out.println();\r\n\r\n        for (int i : evenList) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n\r\n        System.out.println();\r\n\r\n        for (int i : oddList) {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n    }\r\n```","title":"Array program not running correctly. How do I fix it?","body":"<p>you can very much simplify your code with using <code>ArrayList</code> instead of array. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        int length = 10;\n        System.out.println(&quot;Please enter 10 integers:&quot;);\n\n        List&lt;Integer&gt; oddList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; evenList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; negativeList = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; length; i++) {\n            int n = scan.nextInt();\n            if (n &lt; 0) {\n                negativeList.add(n);\n            } else if (n % 2 == 0) {\n                evenList.add(n);\n            } else {\n                oddList.add(n);\n            }\n        }\n\n        for (int i : negativeList) {\n            System.out.print(i + &quot; &quot;);\n        }\n\n        System.out.println();\n\n        for (int i : evenList) {\n            System.out.print(i + &quot; &quot;);\n        }\n\n        System.out.println();\n\n        for (int i : oddList) {\n            System.out.print(i + &quot; &quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":27445086,"reputation":1,"user_id":20939027,"display_name":"nathalier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75022530,"answer_count":2,"score":-1,"last_activity_date":1672941537,"creation_date":1672940894,"question_id":75022434,"body_markdown":"Trying to write a program that asks the a user for 10 integers as input. The program \r\nplaces the even integers into an array called evenList, the odd integers into \r\nan array called oddList, and the negative numbers into an array called \r\nnegativeList. The program displays the contents of the three arrays after \r\nall of the integers have been entered.\r\n\r\n**This is my code:**\r\n\r\n    import java.util.Scanner;\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scan = new Scanner(System.in);\r\n\t\tint countNeg = 0;\r\n\t    int countOdd = 0;\r\n\t    int countEven = 0;\r\n\t    int[] list = new int[10];\r\n\t    System.out.println(&quot;Please enter 10 integers:&quot;);\r\n\t    for(int i = 0; i &lt; list.length; i++)\r\n\t    {\r\n\t        list[i] = scan.nextInt();\r\n\t        if(list[i] &lt; 0)\r\n\t        {\r\n\t            countNeg++;\r\n\t        }\r\n\t        if(list[i] % 2 == 0 &amp;&amp; list[i] &gt; 0)\r\n\t        {\r\n\t            countEven++;\r\n\t        }\r\n\t        if(list[i] % 2 == 1 &amp;&amp; list[i] &gt; 0)\r\n\t        {\r\n\t            countOdd++;\r\n\t        }\r\n\t    }\r\n\t    int[] oddList = new int[countOdd];\r\n\t    int[] evenList = new int[countEven];\r\n\t    int[] negativeList = new int[countNeg];\r\n\t    for(int i = 0; i &lt; list.length; i++)\r\n\t    {\r\n\t        if(list[i] &lt; 0)\r\n\t        {\r\n\t            for(int j = 0; j &lt; countNeg; j++)\r\n\t            {          \r\n\t                negativeList[j] = list[i];\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t    for(int i = 0; i &lt; list.length; i++)\r\n\t    {\r\n\t        if(list[i] % 2 == 0 &amp;&amp; list[i] &gt; 0)\r\n\t        {\r\n\t            for(int j = 0; j &lt; countEven; j++)\r\n\t            {          \r\n\t                evenList[j] = list[i];\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t    for(int i = 0; i &lt; list.length; i++)\r\n\t    {\r\n\t        if(list[i] % 2 == 1 &amp;&amp; list[i] &gt; 0)\r\n\t        {\r\n\t            for(int j = 0; j &lt; countOdd; j++)\r\n\t            {          \r\n\t                oddList[j] = list[i];\r\n\t            }\r\n\t        }\r\n\t    }\r\n\r\n\t    \r\n\t    for (int i : negativeList) \r\n        {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n        \r\n          System.out.println();\r\n        \r\n        for (int i : evenList) \r\n        {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n        \r\n        System.out.println();\r\n        \r\n        for (int i : oddList) \r\n        {\r\n            System.out.print(i + &quot; &quot;);\r\n        }\r\n\t}\r\n    }\r\n\r\nThe program prints the Arrays with the correct amount of values but the wrong numbers. It prints only the last negative, even, or odd number to be input. **ex** input is 1, 2, 3, 4, 5, 6, -1, -2, -3, -4. For negativeList it prints -4 -4 -4 -4. Im guessing something is wrong in the loops after the arrays are created. Please help!!","title":"Array program not running correctly. How do I fix it?","body":"<p>Trying to write a program that asks the a user for 10 integers as input. The program\nplaces the even integers into an array called evenList, the odd integers into\nan array called oddList, and the negative numbers into an array called\nnegativeList. The program displays the contents of the three arrays after\nall of the integers have been entered.</p>\n<p><strong>This is my code:</strong></p>\n<pre><code>import java.util.Scanner;\npublic class Main\n{\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n    int countNeg = 0;\n    int countOdd = 0;\n    int countEven = 0;\n    int[] list = new int[10];\n    System.out.println(&quot;Please enter 10 integers:&quot;);\n    for(int i = 0; i &lt; list.length; i++)\n    {\n        list[i] = scan.nextInt();\n        if(list[i] &lt; 0)\n        {\n            countNeg++;\n        }\n        if(list[i] % 2 == 0 &amp;&amp; list[i] &gt; 0)\n        {\n            countEven++;\n        }\n        if(list[i] % 2 == 1 &amp;&amp; list[i] &gt; 0)\n        {\n            countOdd++;\n        }\n    }\n    int[] oddList = new int[countOdd];\n    int[] evenList = new int[countEven];\n    int[] negativeList = new int[countNeg];\n    for(int i = 0; i &lt; list.length; i++)\n    {\n        if(list[i] &lt; 0)\n        {\n            for(int j = 0; j &lt; countNeg; j++)\n            {          \n                negativeList[j] = list[i];\n            }\n        }\n    }\n    for(int i = 0; i &lt; list.length; i++)\n    {\n        if(list[i] % 2 == 0 &amp;&amp; list[i] &gt; 0)\n        {\n            for(int j = 0; j &lt; countEven; j++)\n            {          \n                evenList[j] = list[i];\n            }\n        }\n    }\n    for(int i = 0; i &lt; list.length; i++)\n    {\n        if(list[i] % 2 == 1 &amp;&amp; list[i] &gt; 0)\n        {\n            for(int j = 0; j &lt; countOdd; j++)\n            {          \n                oddList[j] = list[i];\n            }\n        }\n    }\n\n    \n    for (int i : negativeList) \n    {\n        System.out.print(i + &quot; &quot;);\n    }\n    \n      System.out.println();\n    \n    for (int i : evenList) \n    {\n        System.out.print(i + &quot; &quot;);\n    }\n    \n    System.out.println();\n    \n    for (int i : oddList) \n    {\n        System.out.print(i + &quot; &quot;);\n    }\n}\n}\n</code></pre>\n<p>The program prints the Arrays with the correct amount of values but the wrong numbers. It prints only the last negative, even, or odd number to be input. <strong>ex</strong> input is 1, 2, 3, 4, 5, 6, -1, -2, -3, -4. For negativeList it prints -4 -4 -4 -4. Im guessing something is wrong in the loops after the arrays are created. Please help!!</p>\n"},{"tags":["java","maven","maven-remote-resources"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1672996346,"post_id":75022524,"comment_id":132402996,"body_markdown":"Why do you need resources from another module? Furthermore have you put the resources for tests or for production code?","body":"Why do you need resources from another module? Furthermore have you put the resources for tests or for production code?"},{"owner":{"account_id":12179322,"reputation":245,"user_id":8891321,"display_name":"Czachodym"},"score":0,"creation_date":1673617508,"post_id":75022524,"comment_id":132545441,"body_markdown":"I have about 90 modules which need to share a specific files. Instead of create 90 files we can create one file and share it, to make it easier to maintain. However, there are modules that contain their own version of the file and in their case, file gets overridden. Those modules are separated simple apps, and those files are bash scripts that are packed into assembly .zip using maven-assembly-plugin and contain scripts that run those modules.","body":"I have about 90 modules which need to share a specific files. Instead of create 90 files we can create one file and share it, to make it easier to maintain. However, there are modules that contain their own version of the file and in their case, file gets overridden. Those modules are separated simple apps, and those files are bash scripts that are packed into assembly .zip using maven-assembly-plugin and contain scripts that run those modules."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673628584,"post_id":75022524,"comment_id":132549395,"body_markdown":"Are those files test resources or production resources?","body":"Are those files test resources or production resources?"},{"owner":{"account_id":12179322,"reputation":245,"user_id":8891321,"display_name":"Czachodym"},"score":0,"creation_date":1673641248,"post_id":75022524,"comment_id":132552829,"body_markdown":"Production resources","body":"Production resources"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673689715,"post_id":75022524,"comment_id":132557531,"body_markdown":"Than you have them on classpath why do you need to copy them?","body":"Than you have them on classpath why do you need to copy them?"}],"owner":{"account_id":12179322,"reputation":245,"user_id":8891321,"display_name":"Czachodym"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672941491,"creation_date":1672941491,"question_id":75022524,"body_markdown":"in my application i have many modules with resources.\r\n```\r\nproject\r\n|\r\n└───moduleA\r\n|   |\r\n│   └───resources\r\n│       │\r\n│       └───fileA\r\n|\r\n└───moduleB\r\n|   |\r\n│   └───resources\r\n│   \r\n└───moduleC\r\n|   |\r\n|   └───resources\r\n|       │\r\n|       |───fileA\r\n|       └───fileB\r\n|\r\n...\r\n```\r\nIn `moduleA` and `moduleB` i use `maven-remote-resources` plugin to include resources (fileA and fileB) from `moduleC`. If the file with a given name exists in a moduleA or B, it should not be overwritten with the one from `moduleC`. Files get overwritten by default. How to configure the plugin to avoid that?","title":"How to stop maven-remote-resources-plugin from overwritting resources","body":"<p>in my application i have many modules with resources.</p>\n<pre><code>project\n|\n└───moduleA\n|   |\n│   └───resources\n│       │\n│       └───fileA\n|\n└───moduleB\n|   |\n│   └───resources\n│   \n└───moduleC\n|   |\n|   └───resources\n|       │\n|       |───fileA\n|       └───fileB\n|\n...\n</code></pre>\n<p>In <code>moduleA</code> and <code>moduleB</code> i use <code>maven-remote-resources</code> plugin to include resources (fileA and fileB) from <code>moduleC</code>. If the file with a given name exists in a moduleA or B, it should not be overwritten with the one from <code>moduleC</code>. Files get overwritten by default. How to configure the plugin to avoid that?</p>\n"},{"tags":["java","hibernate","entity-relationship"],"comments":[{"owner":{"account_id":1600162,"reputation":1885,"user_id":1481345,"display_name":"Ale Zalazar"},"score":0,"creation_date":1672959140,"post_id":75022466,"comment_id":132396900,"body_markdown":"So you have to think about your relational model: if you wouldn&#39;t want to use an intermediate table it&#39;s ok but that would mean that words cannot be shared, so you will have duplicates (why? because if you don&#39;t have an intermediate  table, you&#39;ll need a user_id column in your words table, making each row associated to a specific user)","body":"So you have to think about your relational model: if you wouldn&#39;t want to use an intermediate table it&#39;s ok but that would mean that words cannot be shared, so you will have duplicates (why? because if you don&#39;t have an intermediate  table, you&#39;ll need a user_id column in your words table, making each row associated to a specific user)"}],"owner":{"account_id":27444946,"reputation":1,"user_id":20938912,"display_name":"Yauheni Kuchko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672941073,"creation_date":1672941073,"question_id":75022466,"body_markdown":"My question is as follows: I am making a simple telegram bot where users can save and learn words in different languages (dictionary).I can&#39;t decide what kind of relationship between entities in a spring. I have two entities Word and User.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;words&quot;)\r\n@Data\r\npublic class Word {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String english;\r\n    private String russian;\r\n    @ManyToMany(mappedBy = &quot;words&quot;)\r\n    private Set&lt;User&gt; users;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Data\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    private long id;\r\n    private String firstName;\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;words_users&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;word_id&quot;))\r\n    private Set&lt;Word&gt; words;\r\n```\r\nThe idea is to have a large dictionary in the database, and each user could add words to his dictionary, and the bot checks to see if he has the word in his dictionary, and if so, he gives a link to the word to the user, which is stored in the user&#39;s list, and if not, the word is added to the bot&#39;s dictionary and then to the user.\r\n\r\n\r\nI used the &quot;many to many&quot; relationship, but I don&#39;t think that&#39;s the best option.I think that the intermediate table is completely out of place here, and the Word entity does not need to know which users are referring to which words. One to many(unidirectional) would be much better, but I can&#39;t find a suitable implementation. Does anyone have any ideas?","title":"How to create relationships between entities","body":"<p>My question is as follows: I am making a simple telegram bot where users can save and learn words in different languages (dictionary).I can't decide what kind of relationship between entities in a spring. I have two entities Word and User.</p>\n<pre><code>@Entity\n@Table(name = &quot;words&quot;)\n@Data\npublic class Word {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String english;\n    private String russian;\n    @ManyToMany(mappedBy = &quot;words&quot;)\n    private Set&lt;User&gt; users;\n}\n</code></pre>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    private long id;\n    private String firstName;\n    @ManyToMany\n    @JoinTable(\n            name = &quot;words_users&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;word_id&quot;))\n    private Set&lt;Word&gt; words;\n</code></pre>\n<p>The idea is to have a large dictionary in the database, and each user could add words to his dictionary, and the bot checks to see if he has the word in his dictionary, and if so, he gives a link to the word to the user, which is stored in the user's list, and if not, the word is added to the bot's dictionary and then to the user.</p>\n<p>I used the &quot;many to many&quot; relationship, but I don't think that's the best option.I think that the intermediate table is completely out of place here, and the Word entity does not need to know which users are referring to which words. One to many(unidirectional) would be much better, but I can't find a suitable implementation. Does anyone have any ideas?</p>\n"},{"tags":["java","spring","spring-boot","yaml","snakeyaml"],"comments":[{"owner":{"account_id":6486003,"reputation":21,"user_id":5021578,"display_name":"nAtxO Pi"},"score":0,"creation_date":1672922780,"post_id":74997243,"comment_id":132384777,"body_markdown":"Maybe it would be enough if I know how to force double quotes on string params instead of singke quotes...","body":"Maybe it would be enough if I know how to force double quotes on string params instead of singke quotes..."}],"answers":[{"tags":[],"owner":{"account_id":6486003,"reputation":21,"user_id":5021578,"display_name":"nAtxO Pi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672940922,"creation_date":1672940922,"answer_id":75022438,"question_id":74997243,"body_markdown":"Finally I think this code do the trick I was looking for:\r\n\r\n```\r\n  public static Yaml getYamlMapper() {\r\n    final LoaderOptions loaderOptions = new LoaderOptions();\r\n    loaderOptions.setAllowDuplicateKeys(false);\r\n    loaderOptions.setMaxAliasesForCollections(Integer.MAX_VALUE);\r\n    loaderOptions.setAllowRecursiveKeys(true);\r\n\r\n    final DumperOptions dumperOptions = new DumperOptions();\r\n    dumperOptions.setIndent(2);\r\n    dumperOptions.setPrettyFlow(true);\r\n    dumperOptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\r\n    dumperOptions.setSplitLines(false);\r\n\r\n    return new Yaml(new Constructor(), new ComplexDataExpressionRepresenter(), dumperOptions, loaderOptions, new Resolver());\r\n  }\r\n\r\n  /**\r\n   * Special representer able to deal with expressions.\r\n   */\r\n  static class ComplexDataExpressionRepresenter extends Representer {\r\n\r\n    public ComplexDataExpressionRepresenter() {\r\n      this.representers.put(String.class, new RepresentQuotedString());\r\n    }\r\n\r\n    private class RepresentQuotedString implements Represent {\r\n\r\n      public Node representData(final Object data) {\r\n        final String valueToString = data.toString();\r\n        if (valueToString.contains(&quot;#{&quot;)) {\r\n          // This do the trick to expressions and maybe also to another properties but is ok.\r\n          return ComplexDataExpressionRepresenter.this.representScalar(Tag.STR, valueToString, ScalarStyle.DOUBLE_QUOTED);\r\n        }\r\n        return ComplexDataExpressionRepresenter.this.representScalar(Tag.STR, valueToString, ScalarStyle.PLAIN);\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\nBest regards!","title":"Dynamic ScalarStyle to certain nodes with snakeyaml","body":"<p>Finally I think this code do the trick I was looking for:</p>\n<pre><code>  public static Yaml getYamlMapper() {\n    final LoaderOptions loaderOptions = new LoaderOptions();\n    loaderOptions.setAllowDuplicateKeys(false);\n    loaderOptions.setMaxAliasesForCollections(Integer.MAX_VALUE);\n    loaderOptions.setAllowRecursiveKeys(true);\n\n    final DumperOptions dumperOptions = new DumperOptions();\n    dumperOptions.setIndent(2);\n    dumperOptions.setPrettyFlow(true);\n    dumperOptions.setDefaultFlowStyle(DumperOptions.FlowStyle.BLOCK);\n    dumperOptions.setSplitLines(false);\n\n    return new Yaml(new Constructor(), new ComplexDataExpressionRepresenter(), dumperOptions, loaderOptions, new Resolver());\n  }\n\n  /**\n   * Special representer able to deal with expressions.\n   */\n  static class ComplexDataExpressionRepresenter extends Representer {\n\n    public ComplexDataExpressionRepresenter() {\n      this.representers.put(String.class, new RepresentQuotedString());\n    }\n\n    private class RepresentQuotedString implements Represent {\n\n      public Node representData(final Object data) {\n        final String valueToString = data.toString();\n        if (valueToString.contains(&quot;#{&quot;)) {\n          // This do the trick to expressions and maybe also to another properties but is ok.\n          return ComplexDataExpressionRepresenter.this.representScalar(Tag.STR, valueToString, ScalarStyle.DOUBLE_QUOTED);\n        }\n        return ComplexDataExpressionRepresenter.this.representScalar(Tag.STR, valueToString, ScalarStyle.PLAIN);\n      }\n    }\n  }\n</code></pre>\n<p>Best regards!</p>\n"}],"owner":{"account_id":6486003,"reputation":21,"user_id":5021578,"display_name":"nAtxO Pi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75022438,"answer_count":1,"score":0,"last_activity_date":1672940922,"creation_date":1672770137,"question_id":74997243,"body_markdown":"I need to parse a complex payload into a yaml with double quoted or plain scalar style depending on the node of the payload\r\n\r\n\r\n\r\nThe result I would like to get is something like that:\r\n\r\n\\`\r\n\r\n```\r\n\r\nconfig:\r\n  zzh: true\r\n  zzh-special-config:\r\n    expressions:\r\n    - expression: &quot;(#{deliveryCity} IN [&#39;MADRID&#39;, &#39;BARNA&#39;] &amp;&amp; (#{channel} IN [&#39;1&#39;] || (#{domain} IN [&#39;core&#39;] &amp;&amp; (#{environment} IN [&#39;des,test&#39;] || #{layer} IN [&#39;composite&#39;]))))&quot;\r\n      value: false\r\n      description: &quot;my-description&quot;\r\n```\r\n\r\n\\`\r\n\r\nIf I use the following configuration:\r\n\r\n\\`\r\n\r\n```\r\n\r\npublic static Yaml getYamlMapper() {\r\nfinal LoaderOptions loaderOptions = new LoaderOptions();\r\nloaderOptions.setAllowDuplicateKeys(false);\r\nloaderOptions.setMaxAliasesForCollections(Integer.MAX_VALUE);\r\nloaderOptions.setAllowRecursiveKeys(true);\r\n\r\nfinal DumperOptions dumperOptions = new DumperOptions();\r\ndumperOptions.setIndent(2);\r\ndumperOptions.setPrettyFlow(true);\r\ndumperOptions.setDefaultFlowStyle(FlowStyle.BLOCK);\r\ndumperOptions.setSplitLines(false);\r\ndumperOptions.setDefaultScalarStyle(ScalarStyle.PLAIN);\r\nreturn new Yaml(new Constructor(), new Representer(), dumperOptions, loaderOptions, new Resolver());\r\n}\r\n```\r\n\r\n\\`\r\n\r\nThe expression is not correclty parsed:\r\n\\`\r\n\r\n```\r\n\r\nconfig:\r\n  zzh: true\r\n  zzh-special-config:\r\n    expressions:\r\n    - expression: &#39;(#{deliveryCity} IN [&#39;&#39;MADRID&#39;&#39;, &#39;&#39;BARNA&#39;&#39;] &amp;&amp; (#{channel} IN [&#39;&#39;1&#39;&#39;] || (#{domain} IN [&#39;&#39;core&#39;&#39;] &amp;&amp; (#{environment} IN [&#39;&#39;des,test&#39;&#39;] || #{layer} IN [&#39;&#39;composite&#39;&#39;]))))&#39;\r\n      value: false\r\n      description: my-description\r\n```\r\n\r\n\\`\r\n\r\nHowever if I change the Yaml configuration in this way:\r\n\r\n\\`\r\n\r\n```\r\n\r\ndumperOptions.setDefaultScalarStyle(ScalarStyle.DOUBLE_QUOTED);\r\n```\r\n\r\n\\`\r\n\r\nThe boolean and integer values breaks down (e.g.: `!!bool &quot;true&quot;`).... And it put double quotes also in the keys :/\r\n\r\n\\`\r\n\r\n```\r\n\r\n&quot;config&quot;:\r\n  &quot;zzh&quot;: !!bool &quot;true&quot;\r\n  &quot;zzh-special-config&quot;:\r\n    &quot;expressions&quot;:\r\n    - &quot;expression&quot;: &quot;(#{deliveryCity} IN [&#39;MADRID&#39;, &#39;BARNA&#39;] &amp;&amp; (#{channel} IN [&#39;1&#39;] || (#{domain} IN [&#39;core&#39;] &amp;&amp; (#{environment} IN [&#39;des,test&#39;] || #{layer} IN [&#39;composite&#39;]))))&quot;\r\n      &quot;value&quot;: !!bool &quot;false&quot;\r\n      &quot;description&quot;: &quot;my-description&quot;\r\n```\r\n\r\n\\`\r\n\r\nAs you can see when I fix something other thing is broken... Therefore the ideal situation would be to do only in all `expression` nodes (e.g: config.zzh-amiga-config.expressions\\[\\].expression)\r\n\r\nI thnk I could use the `ScalarNode` object but I don&#39;t see how to achieve my purpose especially considering that the list of expressions could appear under any node so some kind of wildcard would have to be used...\r\n\r\nCould anybody help me please?\r\n\r\nThanks in advance!","title":"Dynamic ScalarStyle to certain nodes with snakeyaml","body":"<p>I need to parse a complex payload into a yaml with double quoted or plain scalar style depending on the node of the payload</p>\n<p>The result I would like to get is something like that:</p>\n<p>`</p>\n<pre><code>\nconfig:\n  zzh: true\n  zzh-special-config:\n    expressions:\n    - expression: &quot;(#{deliveryCity} IN ['MADRID', 'BARNA'] &amp;&amp; (#{channel} IN ['1'] || (#{domain} IN ['core'] &amp;&amp; (#{environment} IN ['des,test'] || #{layer} IN ['composite']))))&quot;\n      value: false\n      description: &quot;my-description&quot;\n</code></pre>\n<p>`</p>\n<p>If I use the following configuration:</p>\n<p>`</p>\n<pre><code>\npublic static Yaml getYamlMapper() {\nfinal LoaderOptions loaderOptions = new LoaderOptions();\nloaderOptions.setAllowDuplicateKeys(false);\nloaderOptions.setMaxAliasesForCollections(Integer.MAX_VALUE);\nloaderOptions.setAllowRecursiveKeys(true);\n\nfinal DumperOptions dumperOptions = new DumperOptions();\ndumperOptions.setIndent(2);\ndumperOptions.setPrettyFlow(true);\ndumperOptions.setDefaultFlowStyle(FlowStyle.BLOCK);\ndumperOptions.setSplitLines(false);\ndumperOptions.setDefaultScalarStyle(ScalarStyle.PLAIN);\nreturn new Yaml(new Constructor(), new Representer(), dumperOptions, loaderOptions, new Resolver());\n}\n</code></pre>\n<p>`</p>\n<p>The expression is not correclty parsed:\n`</p>\n<pre><code>\nconfig:\n  zzh: true\n  zzh-special-config:\n    expressions:\n    - expression: '(#{deliveryCity} IN [''MADRID'', ''BARNA''] &amp;&amp; (#{channel} IN [''1''] || (#{domain} IN [''core''] &amp;&amp; (#{environment} IN [''des,test''] || #{layer} IN [''composite'']))))'\n      value: false\n      description: my-description\n</code></pre>\n<p>`</p>\n<p>However if I change the Yaml configuration in this way:</p>\n<p>`</p>\n<pre><code>\ndumperOptions.setDefaultScalarStyle(ScalarStyle.DOUBLE_QUOTED);\n</code></pre>\n<p>`</p>\n<p>The boolean and integer values breaks down (e.g.: <code>!!bool &quot;true&quot;</code>).... And it put double quotes also in the keys :/</p>\n<p>`</p>\n<pre><code>\n&quot;config&quot;:\n  &quot;zzh&quot;: !!bool &quot;true&quot;\n  &quot;zzh-special-config&quot;:\n    &quot;expressions&quot;:\n    - &quot;expression&quot;: &quot;(#{deliveryCity} IN ['MADRID', 'BARNA'] &amp;&amp; (#{channel} IN ['1'] || (#{domain} IN ['core'] &amp;&amp; (#{environment} IN ['des,test'] || #{layer} IN ['composite']))))&quot;\n      &quot;value&quot;: !!bool &quot;false&quot;\n      &quot;description&quot;: &quot;my-description&quot;\n</code></pre>\n<p>`</p>\n<p>As you can see when I fix something other thing is broken... Therefore the ideal situation would be to do only in all <code>expression</code> nodes (e.g: config.zzh-amiga-config.expressions[].expression)</p>\n<p>I thnk I could use the <code>ScalarNode</code> object but I don't see how to achieve my purpose especially considering that the list of expressions could appear under any node so some kind of wildcard would have to be used...</p>\n<p>Could anybody help me please?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1589144994,"post_id":61718704,"comment_id":109170663,"body_markdown":"You are aware you&#39;re creating three random numbers, a different one for each check?","body":"You are aware you&#39;re creating three random numbers, a different one for each check?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1589145469,"post_id":61718704,"comment_id":109170816,"body_markdown":"The given sample input and output is just a (valid) example. When you enter the values `0 5 0` your algorithm should say `38` as the seed to use. So you can verify that your algorithm works fine, but it should obviously work for every input. Btw.: The input for `M` is most likely be supposed to be a `double` since the `nextGaussian()` method is returning a `double` value as well.","body":"The given sample input and output is just a (valid) example. When you enter the values <code>0 5 0</code> your algorithm should say <code>38</code> as the seed to use. So you can verify that your algorithm works fine, but it should obviously work for every input. Btw.: The input for <code>M</code> is most likely be supposed to be a <code>double</code> since the <code>nextGaussian()</code> method is returning a <code>double</code> value as well."}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589189076,"creation_date":1589189076,"answer_id":61726335,"question_id":61718704,"body_markdown":"I&#39;m not sure I understand correctly what you&#39;re trying to do, but you generate three different random numbers each iteration, so you check the upper and lower limits against different numbers and then output yet another one.\r\n\r\nThis seems to make more sense to me:\r\n\r\n    for (int i = 0; i &lt; n; i++) {\r\n        double randomNumber = random.nextGaussian();\r\n        // check the generated number against the limits\r\n        if (randomNumber &lt;= m &amp; randomNumber &gt;= k) {\r\n            // output it if within limits\r\n            System.out.println(randomNumber);\r\n        }\r\n    }\r\n\r\nNote: a &quot;seed&quot; is something different, it&#39;s a starting point for the random number generation, not the generated number itself.","title":"Gaussian random generation with the condition","body":"<p>I'm not sure I understand correctly what you're trying to do, but you generate three different random numbers each iteration, so you check the upper and lower limits against different numbers and then output yet another one.</p>\n\n<p>This seems to make more sense to me:</p>\n\n<pre><code>for (int i = 0; i &lt; n; i++) {\n    double randomNumber = random.nextGaussian();\n    // check the generated number against the limits\n    if (randomNumber &lt;= m &amp; randomNumber &gt;= k) {\n        // output it if within limits\n        System.out.println(randomNumber);\n    }\n}\n</code></pre>\n\n<p>Note: a \"seed\" is something different, it's a starting point for the random number generation, not the generated number itself.</p>\n"},{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589215875,"creation_date":1589215875,"answer_id":61734977,"question_id":61718704,"body_markdown":"The task is asking for a specific &quot;seed&quot; for the given integer inputs. For any pseudo random generator, the &quot;seed&quot; is an internal starting point of the random generator. The random numbers to generate are starting from a value from that &quot;seed&quot;. As an example, when you write the following code:\r\n\r\n    Random r = new Random(42);\r\n    for (int i=0; i&lt;5; i++) {\r\n        System.out.println(r.nextInt());\r\n    }\r\n\r\nYou will always get the following output:\r\n\r\n    -1170105035\r\n    234785527\r\n    -1360544799\r\n    205897768\r\n    1325939940\r\n\r\n*(Warning: Even though the output will always be the same for the same seed, the actual numbers depends on the implementation of the `java.util.Random` class, which might change in future versions. As of writing this answer, the random numbers were generated as these values above with openjdk version &quot;1.8.0_252&quot;.)*\r\n\r\nYour task is asking for a &quot;seed&quot; which have some defined qualities:\r\n\r\n&gt; [...] find the first seed that is greater or equal to `K` [...]\r\n\r\nSo the argument going into the constructor `new Random(...);` must be greater or equal the value of `K`. So for the input `0 5 0` you might get a different output than for the input `1000 5 0`, since the latter only tries &quot;seed&quot; values greater or equal `1000`. As an example, other &quot;seeds&quot; like 425 shouldn&#39;t be tested for the remainder conditions even though they would fit.\r\n\r\n&gt; [...] where each of `N` Gaussian numbers [...]\r\n\r\nSimple, you generate `N` gaussian numbers and check all of them for the following condition:\r\n\r\n&gt; [...] where each of `N` Gaussian numbers **is less than or equal to `M`**.\r\n\r\nThe `M` is an upper bound for your generated random numbers. The `nextGaussian()` method returns a random number with an average value of `0` (if you continue generating gaussian random numbers), but the return value can be greater or smaller than 0. But in your case all the numbers have to be less or equal `M`.\r\n\r\nYour task is now to find the first &quot;seed&quot; which met all these requirements, starting from the &quot;seed&quot; value `K`. Generate `N` numbers and check if they are all at or below `M`. If they aren&#39;t, check the next seed.\r\n\r\nAs an example for the seeds 36, 37 and 38 you will get the following random numbers:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Checking seed: 36\r\n    1.2723728744482508  &lt;-- fail, not &lt;= K=0\r\n    -0.870801422312458\r\n    -0.8217339464297395\r\n    0.5262022756278059  &lt;-- fail, not &lt;= K=0\r\n    0.7755591855768942  &lt;-- fail, not &lt;= K=0\r\n    \r\n    Checking seed: 37\r\n    1.7687943677666822   &lt;-- fail, not &lt;= K=0\r\n    0.10628211826095219  &lt;-- fail, not &lt;= K=0\r\n    1.7204367528361415   &lt;-- fail, not &lt;= K=0\r\n    -0.037534100873246996\r\n    -0.7556292895100587\r\n    \r\n    Checking seed: 38\r\n    -0.5856548327125106\r\n    -0.5353713241423471\r\n    -0.6629651900370352\r\n    -0.06602762115722295\r\n    -0.5573859875224596\r\n\r\nAs you see, the seed `38` is the first which met the conditions, for **this specific input**. If you change the input condition you might get a different seed value. In fact, when you increase the limit `N` for the count of random numbers to generate from `5` to `10` you will not met the conditions anymore:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Checking with random number generator seed: 36\r\n    1.2723728744482508    &lt;-- fail, not &lt;= K=0\r\n    -0.870801422312458\r\n    -0.8217339464297395\r\n    0.5262022756278059    &lt;-- fail, not &lt;= K=0\r\n    0.7755591855768942    &lt;-- fail, not &lt;= K=0\r\n    0.1050333460099397    &lt;-- fail, not &lt;= K=0\r\n    -1.2195748465234115\r\n    -0.5682199782926214\r\n    -0.6364150668125728\r\n    1.0752773722411306    &lt;-- fail, not &lt;= K=0\r\n    \r\n    Checking with random number generator seed: 37\r\n    1.7687943677666822     &lt;-- fail, not &lt;= K=0\r\n    0.10628211826095219    &lt;-- fail, not &lt;= K=0\r\n    1.7204367528361415     &lt;-- fail, not &lt;= K=0\r\n    -0.037534100873246996\r\n    -0.7556292895100587\r\n    -0.9951161662703086\r\n    1.052027068066767      &lt;-- fail, not &lt;= K=0\r\n    -0.6497562324361997\r\n    -0.47969604178646064\r\n    1.3195412359422278     &lt;-- fail, not &lt;= K=0\r\n    \r\n    Checking with random number generator seed: 38\r\n    -0.5856548327125106\r\n    -0.5353713241423471\r\n    -0.6629651900370352\r\n    -0.06602762115722295\r\n    -0.5573859875224596\r\n    0.5414339383037863     &lt;-- fail, not &lt;= K=0\r\n    -1.9350302385094755\r\n    1.7250885444038893     &lt;-- fail, not &lt;= K=0\r\n    -1.2161902995946092\r\n    -0.16606956096867706\r\n\r\nNotice, how the first five numbers in each run are the same even after rerun your code (because of the same seed for the random number generator). But also notice that you generated two numbers for the seed `38` which are now greater than `K=0`. So the output `38` is correct for the input `0 5 0`, but it is not correct for the input `0 10 0`.","title":"Gaussian random generation with the condition","body":"<p>The task is asking for a specific \"seed\" for the given integer inputs. For any pseudo random generator, the \"seed\" is an internal starting point of the random generator. The random numbers to generate are starting from a value from that \"seed\". As an example, when you write the following code:</p>\n\n<pre><code>Random r = new Random(42);\nfor (int i=0; i&lt;5; i++) {\n    System.out.println(r.nextInt());\n}\n</code></pre>\n\n<p>You will always get the following output:</p>\n\n<pre><code>-1170105035\n234785527\n-1360544799\n205897768\n1325939940\n</code></pre>\n\n<p><em>(Warning: Even though the output will always be the same for the same seed, the actual numbers depends on the implementation of the <code>java.util.Random</code> class, which might change in future versions. As of writing this answer, the random numbers were generated as these values above with openjdk version \"1.8.0_252\".)</em></p>\n\n<p>Your task is asking for a \"seed\" which have some defined qualities:</p>\n\n<blockquote>\n  <p>[...] find the first seed that is greater or equal to <code>K</code> [...]</p>\n</blockquote>\n\n<p>So the argument going into the constructor <code>new Random(...);</code> must be greater or equal the value of <code>K</code>. So for the input <code>0 5 0</code> you might get a different output than for the input <code>1000 5 0</code>, since the latter only tries \"seed\" values greater or equal <code>1000</code>. As an example, other \"seeds\" like 425 shouldn't be tested for the remainder conditions even though they would fit.</p>\n\n<blockquote>\n  <p>[...] where each of <code>N</code> Gaussian numbers [...]</p>\n</blockquote>\n\n<p>Simple, you generate <code>N</code> gaussian numbers and check all of them for the following condition:</p>\n\n<blockquote>\n  <p>[...] where each of <code>N</code> Gaussian numbers <strong>is less than or equal to <code>M</code></strong>.</p>\n</blockquote>\n\n<p>The <code>M</code> is an upper bound for your generated random numbers. The <code>nextGaussian()</code> method returns a random number with an average value of <code>0</code> (if you continue generating gaussian random numbers), but the return value can be greater or smaller than 0. But in your case all the numbers have to be less or equal <code>M</code>.</p>\n\n<p>Your task is now to find the first \"seed\" which met all these requirements, starting from the \"seed\" value <code>K</code>. Generate <code>N</code> numbers and check if they are all at or below <code>M</code>. If they aren't, check the next seed.</p>\n\n<p>As an example for the seeds 36, 37 and 38 you will get the following random numbers:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Checking seed: 36\n1.2723728744482508  &lt;-- fail, not &lt;= K=0\n-0.870801422312458\n-0.8217339464297395\n0.5262022756278059  &lt;-- fail, not &lt;= K=0\n0.7755591855768942  &lt;-- fail, not &lt;= K=0\n\nChecking seed: 37\n1.7687943677666822   &lt;-- fail, not &lt;= K=0\n0.10628211826095219  &lt;-- fail, not &lt;= K=0\n1.7204367528361415   &lt;-- fail, not &lt;= K=0\n-0.037534100873246996\n-0.7556292895100587\n\nChecking seed: 38\n-0.5856548327125106\n-0.5353713241423471\n-0.6629651900370352\n-0.06602762115722295\n-0.5573859875224596\n</code></pre>\n\n<p>As you see, the seed <code>38</code> is the first which met the conditions, for <strong>this specific input</strong>. If you change the input condition you might get a different seed value. In fact, when you increase the limit <code>N</code> for the count of random numbers to generate from <code>5</code> to <code>10</code> you will not met the conditions anymore:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Checking with random number generator seed: 36\n1.2723728744482508    &lt;-- fail, not &lt;= K=0\n-0.870801422312458\n-0.8217339464297395\n0.5262022756278059    &lt;-- fail, not &lt;= K=0\n0.7755591855768942    &lt;-- fail, not &lt;= K=0\n0.1050333460099397    &lt;-- fail, not &lt;= K=0\n-1.2195748465234115\n-0.5682199782926214\n-0.6364150668125728\n1.0752773722411306    &lt;-- fail, not &lt;= K=0\n\nChecking with random number generator seed: 37\n1.7687943677666822     &lt;-- fail, not &lt;= K=0\n0.10628211826095219    &lt;-- fail, not &lt;= K=0\n1.7204367528361415     &lt;-- fail, not &lt;= K=0\n-0.037534100873246996\n-0.7556292895100587\n-0.9951161662703086\n1.052027068066767      &lt;-- fail, not &lt;= K=0\n-0.6497562324361997\n-0.47969604178646064\n1.3195412359422278     &lt;-- fail, not &lt;= K=0\n\nChecking with random number generator seed: 38\n-0.5856548327125106\n-0.5353713241423471\n-0.6629651900370352\n-0.06602762115722295\n-0.5573859875224596\n0.5414339383037863     &lt;-- fail, not &lt;= K=0\n-1.9350302385094755\n1.7250885444038893     &lt;-- fail, not &lt;= K=0\n-1.2161902995946092\n-0.16606956096867706\n</code></pre>\n\n<p>Notice, how the first five numbers in each run are the same even after rerun your code (because of the same seed for the random number generator). But also notice that you generated two numbers for the seed <code>38</code> which are now greater than <code>K=0</code>. So the output <code>38</code> is correct for the input <code>0 5 0</code>, but it is not correct for the input <code>0 10 0</code>.</p>\n"},{"comments":[{"owner":{"account_id":304877,"reputation":2815,"user_id":614659,"accept_rate":36,"display_name":"Logemann"},"score":1,"creation_date":1598367187,"post_id":63580881,"comment_id":112432417,"body_markdown":"It wouldnt hurt give some details about your suggestion.","body":"It wouldnt hurt give some details about your suggestion."}],"tags":[],"owner":{"account_id":15778449,"reputation":61,"user_id":11385590,"display_name":"Rachid Saidane"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598365104,"creation_date":1598365104,"answer_id":63580881,"question_id":61718704,"body_markdown":"```\r\n import java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in).useLocale(Locale.US);\r\n        int k = scanner.nextInt();\r\n        int n = scanner.nextInt();\r\n        double m = scanner.nextDouble();\r\n\r\n        for (int i = k; ; i++) {\r\n            Random random = new Random(i);\r\n            int j = 0;\r\n            for (; j &lt; n; j++) {\r\n\r\n                if (random.nextGaussian() &gt; m) {\r\n                    break;\r\n\r\n                }\r\n\r\n            }\r\n\r\n            if (j == n) {\r\n                System.out.println(i);\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```","title":"Gaussian random generation with the condition","body":"<pre><code> import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in).useLocale(Locale.US);\n        int k = scanner.nextInt();\n        int n = scanner.nextInt();\n        double m = scanner.nextDouble();\n\n        for (int i = k; ; i++) {\n            Random random = new Random(i);\n            int j = 0;\n            for (; j &lt; n; j++) {\n\n                if (random.nextGaussian() &gt; m) {\n                    break;\n\n                }\n\n            }\n\n            if (j == n) {\n                System.out.println(i);\n                break;\n            }\n\n        }\n\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20179395,"reputation":21,"user_id":14800277,"display_name":"itzj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609833560,"creation_date":1609833560,"answer_id":65575021,"question_id":61718704,"body_markdown":"I think the description of the problem is pretty clear.\r\n1. You have to check all N iterations of Gaussian generated numbers to be less than or equal to M. \r\n2. If that is true, then escape loop and print the seed. \r\n3. If any of the generated numbers is greater than M, then you have to test out the next seed and go to the loop all over again.\r\n\r\nSo I literally followed the instructions and this is what I&#39;ve got. \r\n```java\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        int k = sc.nextInt();\r\n        int n = sc.nextInt();\r\n        double m = sc.nextDouble();\r\n\r\n        // your initial seed starts with k\r\n        Random random = new Random(k);\r\n\r\n        // variable to check if all N iterations are valid (&lt;=M)\r\n        int check = 0;\r\n\r\n        // you need an outer loop because like in #3, \r\n        // if there is an invalid number you have to iterate N times again\r\n        while (true) {\r\n\r\n            // this is the N iterations you need\r\n            for (int i = 0; i &lt; n; i++) {\r\n\r\n                // at each iteration, you generate a Gaussian number\r\n                double randomNumber = random.nextGaussian();\r\n\r\n                // again #3: if the generated number is greater than M, move on the the next seed\r\n                if (randomNumber &gt; m) {\r\n                    random.setSeed(++k);    //moving on to the next seed\r\n                    check = 0;  // don&#39;t forget to initialize the check variable too\r\n                    break;\r\n                }\r\n                check++;\r\n            }\r\n            // if all N iterations have passed, that&#39;s your answer\r\n            if (check == n) {\r\n                break;\r\n            }\r\n\r\n        }\r\n        System.out.println(k);\r\n    }\r\n}\r\n```","title":"Gaussian random generation with the condition","body":"<p>I think the description of the problem is pretty clear.</p>\n<ol>\n<li>You have to check all N iterations of Gaussian generated numbers to be less than or equal to M.</li>\n<li>If that is true, then escape loop and print the seed.</li>\n<li>If any of the generated numbers is greater than M, then you have to test out the next seed and go to the loop all over again.</li>\n</ol>\n<p>So I literally followed the instructions and this is what I've got.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int k = sc.nextInt();\n        int n = sc.nextInt();\n        double m = sc.nextDouble();\n\n        // your initial seed starts with k\n        Random random = new Random(k);\n\n        // variable to check if all N iterations are valid (&lt;=M)\n        int check = 0;\n\n        // you need an outer loop because like in #3, \n        // if there is an invalid number you have to iterate N times again\n        while (true) {\n\n            // this is the N iterations you need\n            for (int i = 0; i &lt; n; i++) {\n\n                // at each iteration, you generate a Gaussian number\n                double randomNumber = random.nextGaussian();\n\n                // again #3: if the generated number is greater than M, move on the the next seed\n                if (randomNumber &gt; m) {\n                    random.setSeed(++k);    //moving on to the next seed\n                    check = 0;  // don't forget to initialize the check variable too\n                    break;\n                }\n                check++;\n            }\n            // if all N iterations have passed, that's your answer\n            if (check == n) {\n                break;\n            }\n\n        }\n        System.out.println(k);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27445055,"reputation":1,"user_id":20939002,"display_name":"Wael Rezk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672940617,"creation_date":1672940617,"answer_id":75022388,"question_id":61718704,"body_markdown":"    import java.util.*;\r\n    import java.util.stream.*;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            // write your code here\r\n            final long k = scanner.nextLong();\r\n            final long n = scanner.nextLong();\r\n            final double m = scanner.nextDouble();\r\n            long seed = k;\r\n            Random rand = new Random(seed);\r\n            while (Stream.generate(rand::nextGaussian).limit(n).anyMatch(i -&gt; i &gt; m)) {\r\n               rand.setSeed(++seed);\r\n            }\r\n            System.out.println(seed);\r\n        }\r\n    }","title":"Gaussian random generation with the condition","body":"<pre><code>import java.util.*;\nimport java.util.stream.*;\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        // write your code here\n        final long k = scanner.nextLong();\n        final long n = scanner.nextLong();\n        final double m = scanner.nextDouble();\n        long seed = k;\n        Random rand = new Random(seed);\n        while (Stream.generate(rand::nextGaussian).limit(n).anyMatch(i -&gt; i &gt; m)) {\n           rand.setSeed(++seed);\n        }\n        System.out.println(seed);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":17162142,"reputation":15,"user_id":13067099,"display_name":"Poul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61734977,"answer_count":5,"score":1,"last_activity_date":1672940617,"creation_date":1589144585,"question_id":61718704,"body_markdown":"I do not understand the task.\r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class GaussianRandomNumbers {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int k = scanner.nextInt();// for the first seed that is greater or equal to K\r\n            int n = scanner.nextInt();// number of iterations Gaussian\r\n            int m = scanner.nextInt();// Gaussian generated numbers to be less than M\r\n            Random random = new Random();\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if (random.nextGaussian() &lt;= m &amp; random.nextGaussian() &gt;= k) {\r\n                    System.out.println(random.nextGaussian());\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nFor the given numbers K, N, and M find the first seed that is greater or equal to K where each of N Gaussian numbers is less than or equal to M.\r\nYou have to check all N iterations of Gaussian generated numbers to be less than or equal to M. If that is true, then escape loop and print the seed. If any of the generated numbers is greater than M, then you have to test out the next seed and go to the loop all over again.\r\n\r\nSample Input 1:\r\n0 5 0\r\nSample Output 1:\r\n38\r\n\r\nWhy is it 38 if the first seed that is greater or equal to K=0 ?  \r\n","title":"Gaussian random generation with the condition","body":"<p>I do not understand the task.</p>\n\n<pre><code>import java.util.*;\n\npublic class GaussianRandomNumbers {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int k = scanner.nextInt();// for the first seed that is greater or equal to K\n        int n = scanner.nextInt();// number of iterations Gaussian\n        int m = scanner.nextInt();// Gaussian generated numbers to be less than M\n        Random random = new Random();\n        for (int i = 0; i &lt; n; i++) {\n            if (random.nextGaussian() &lt;= m &amp; random.nextGaussian() &gt;= k) {\n                System.out.println(random.nextGaussian());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>For the given numbers K, N, and M find the first seed that is greater or equal to K where each of N Gaussian numbers is less than or equal to M.\nYou have to check all N iterations of Gaussian generated numbers to be less than or equal to M. If that is true, then escape loop and print the seed. If any of the generated numbers is greater than M, then you have to test out the next seed and go to the loop all over again.</p>\n\n<p>Sample Input 1:\n0 5 0\nSample Output 1:\n38</p>\n\n<p>Why is it 38 if the first seed that is greater or equal to K=0 ?  </p>\n"},{"tags":["java","generics","casting"],"comments":[{"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"score":0,"creation_date":1243243098,"post_id":905964,"comment_id":713743,"body_markdown":"you should have given code examples from the start, I&#39;ll update my answer in a second...","body":"you should have given code examples from the start, I&#39;ll update my answer in a second..."}],"answers":[{"comments":[{"owner":{"account_id":21195,"reputation":26135,"user_id":2119053,"accept_rate":81,"display_name":"jrharshath"},"score":0,"creation_date":1243242508,"post_id":905974,"comment_id":713706,"body_markdown":"You missed my point. Consider: [code] LinkedList&lt;E&gt; ll = someList; List&lt;Object&gt; l =ll [/code]. Is this okay? I mean this.","body":"You missed my point. Consider: [code] LinkedList&lt;E&gt; ll = someList; List&lt;Object&gt; l =ll [/code]. Is this okay? I mean this."},{"owner":{"account_id":21195,"reputation":26135,"user_id":2119053,"accept_rate":81,"display_name":"jrharshath"},"score":0,"creation_date":1243243058,"post_id":905974,"comment_id":713740,"body_markdown":"Did what you said, but problem persists. Edited the question to add code example and the error encountered.","body":"Did what you said, but problem persists. Edited the question to add code example and the error encountered."},{"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"score":1,"creation_date":1243246041,"post_id":905974,"comment_id":713899,"body_markdown":"Is it possible for your getList() method to return List&lt;?&gt;?","body":"Is it possible for your getList() method to return List&lt;?&gt;?"},{"owner":{"account_id":21195,"reputation":26135,"user_id":2119053,"accept_rate":81,"display_name":"jrharshath"},"score":0,"creation_date":1243311114,"post_id":905974,"comment_id":716772,"body_markdown":"@Andrew No. Thats the main problem.","body":"@Andrew No. Thats the main problem."}],"tags":[],"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"comment_count":4,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1243244575,"creation_date":1243242223,"answer_id":905974,"question_id":905964,"body_markdown":"You do not need to cast. `LinkedList` implements `List` so you have no casting to do here.\r\n\r\nEven when you want to down-cast to a `List` of `Object`s you can do it with generics like in the following code:\r\n\r\n    LinkedList&lt;E&gt; ll = someList;\r\n    List&lt;? extends Object&gt; l = ll; // perfectly fine, no casting needed\r\n\r\nNow, after your edit I understand what you are trying to do, and it is something that is not possible, without creating a new `List` like so:\r\n\r\n    LinkedList&lt;E&gt; ll = someList;\r\n    List&lt;Object&gt; l = new LinkedList&lt;Object&gt;();\r\n    for (E e : ll) {\r\n        l.add((Object) e); // need to cast each object specifically\r\n    }\r\n\r\nand I&#39;ll explain why this is not possible otherwise. Consider this:\r\n\r\n    LinkedList&lt;String&gt; ll = new LinkedList&lt;String&gt;();\r\n    List&lt;Object&gt; l = ll; // ERROR, but suppose this was possible\r\n    l.add((Object) new Integer(5)); // now what? How is an int a String???\r\n\r\nFor more info, see the [Sun Java generics tutorial][1]. Hope this clarifies.\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5/pdf/generics-tutorial.pdf","title":"How to cast generic List types in java?","body":"<p>You do not need to cast. <code>LinkedList</code> implements <code>List</code> so you have no casting to do here.</p>\n\n<p>Even when you want to down-cast to a <code>List</code> of <code>Object</code>s you can do it with generics like in the following code:</p>\n\n<pre><code>LinkedList&lt;E&gt; ll = someList;\nList&lt;? extends Object&gt; l = ll; // perfectly fine, no casting needed\n</code></pre>\n\n<p>Now, after your edit I understand what you are trying to do, and it is something that is not possible, without creating a new <code>List</code> like so:</p>\n\n<pre><code>LinkedList&lt;E&gt; ll = someList;\nList&lt;Object&gt; l = new LinkedList&lt;Object&gt;();\nfor (E e : ll) {\n    l.add((Object) e); // need to cast each object specifically\n}\n</code></pre>\n\n<p>and I'll explain why this is not possible otherwise. Consider this:</p>\n\n<pre><code>LinkedList&lt;String&gt; ll = new LinkedList&lt;String&gt;();\nList&lt;Object&gt; l = ll; // ERROR, but suppose this was possible\nl.add((Object) new Integer(5)); // now what? How is an int a String???\n</code></pre>\n\n<p>For more info, see the <a href=\"http://java.sun.com/j2se/1.5/pdf/generics-tutorial.pdf\" rel=\"noreferrer\">Sun Java generics tutorial</a>. Hope this clarifies.</p>\n"},{"comments":[{"owner":{"account_id":21195,"reputation":26135,"user_id":2119053,"accept_rate":81,"display_name":"jrharshath"},"score":0,"creation_date":1243242699,"post_id":905983,"comment_id":713717,"body_markdown":"I want to convert from LinkedList&lt;String&gt; to List&lt;Object&gt;. That (i used to think) should be automatic, coz LinkedList IS_A List, and String IS_A Object. But I found out today that it is not. :(","body":"I want to convert from LinkedList&lt;String&gt; to List&lt;Object&gt;. That (i used to think) should be automatic, coz LinkedList IS_A List, and String IS_A Object. But I found out today that it is not. :("}],"tags":[],"owner":{"account_id":17450,"reputation":12197,"user_id":39062,"accept_rate":100,"display_name":"Markus Lausberg"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1243242462,"creation_date":1243242462,"answer_id":905983,"question_id":905964,"body_markdown":"LinkedList implements List, so you can implement\r\n\r\n    List&lt; String &gt; list1 = new LinkedList&lt; String &gt;(); \r\n\r\nOr do you want to cast from LinkedList&lt; String &gt; to List&lt; int &gt;? in this case you have to pick every single element and convert it to an integer.","title":"How to cast generic List types in java?","body":"<p>LinkedList implements List, so you can implement</p>\n\n<pre><code>List&lt; String &gt; list1 = new LinkedList&lt; String &gt;(); \n</code></pre>\n\n<p>Or do you want to cast from LinkedList&lt; String > to List&lt; int >? in this case you have to pick every single element and convert it to an integer.</p>\n"},{"comments":[{"owner":{"account_id":12462,"reputation":162446,"user_id":24545,"accept_rate":99,"display_name":"Yuval Adam"},"score":3,"creation_date":1243242591,"post_id":905987,"comment_id":713710,"body_markdown":"an explicit cast is never necessary.","body":"an explicit cast is never necessary."}],"tags":[],"owner":{"account_id":38896,"reputation":1799,"user_id":111943,"display_name":"Nick"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1243242483,"creation_date":1243242483,"answer_id":905987,"question_id":905964,"body_markdown":"List is an interface, LinkedList is a concrete implementation of that interface.\r\nMuch of the time an implicit cast will work, assign a LinkedList to a List, or pass it to a function expecting a List and it should just `work&#39;.\r\n\r\nAn explicit cast can also be done if necessary.\r\n\r\n    //This is valid\r\n    List&lt;Customer&gt; myList = new LinkedList&lt;Customer&gt;();\r\n\r\n    //Also Valid\r\n    List&lt;Customer&gt; myList = (List&lt;Customer&gt;) new LinkedList&lt;Customer&gt;();","title":"How to cast generic List types in java?","body":"<p>List is an interface, LinkedList is a concrete implementation of that interface.\nMuch of the time an implicit cast will work, assign a LinkedList to a List, or pass it to a function expecting a List and it should just `work'.</p>\n\n<p>An explicit cast can also be done if necessary.</p>\n\n<pre><code>//This is valid\nList&lt;Customer&gt; myList = new LinkedList&lt;Customer&gt;();\n\n//Also Valid\nList&lt;Customer&gt; myList = (List&lt;Customer&gt;) new LinkedList&lt;Customer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27776,"reputation":14436,"user_id":73652,"accept_rate":88,"display_name":"Kris"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243251420,"creation_date":1243251420,"answer_id":906408,"question_id":905964,"body_markdown":"    &gt;    public List&lt;Object&gt; getList()\r\n\r\nWhy are you returning List&amp;lt;Object&amp;gt;? You might as well return List (without generics) since that is equivalent but would make the following code work: \r\n\r\n    LinkedList&lt;Customer&gt; theList = new LinkedList&lt;Customer&gt;();\r\n\r\n    public List getList() {\r\n        return theList;\r\n    }\r\n\r\nCasting between Lists with different generic types is tricky and seems unnecessary here.\r\n\r\nOf course you should be returning type List&amp;lt;Customer&amp;gt; ...","title":"How to cast generic List types in java?","body":"<pre><code>&gt;    public List&lt;Object&gt; getList()\n</code></pre>\n\n<p>Why are you returning List&lt;Object&gt;? You might as well return List (without generics) since that is equivalent but would make the following code work: </p>\n\n<pre><code>LinkedList&lt;Customer&gt; theList = new LinkedList&lt;Customer&gt;();\n\npublic List getList() {\n    return theList;\n}\n</code></pre>\n\n<p>Casting between Lists with different generic types is tricky and seems unnecessary here.</p>\n\n<p>Of course you should be returning type List&lt;Customer&gt; ...</p>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1243273373,"creation_date":1243273373,"answer_id":907517,"question_id":905964,"body_markdown":"You should return a `List&lt;?&gt;` from your method. Intuitively, `getList()` returns a list so that the caller can retrieve the items inside. `List&lt;?&gt;` (which is equivalent to `List&lt;? extends Object&gt;`) allows that functionality. However, you won&#39;t be able to put anything into it via the returned list, because that would not be type safe; but I don&#39;t think that is what you need anyway.\r\n\r\n    public List&lt;?&gt; getList()\r\n    {\r\n        return theList;\r\n    }\r\n\r\n","title":"How to cast generic List types in java?","body":"<p>You should return a <code>List&lt;?&gt;</code> from your method. Intuitively, <code>getList()</code> returns a list so that the caller can retrieve the items inside. <code>List&lt;?&gt;</code> (which is equivalent to <code>List&lt;? extends Object&gt;</code>) allows that functionality. However, you won't be able to put anything into it via the returned list, because that would not be type safe; but I don't think that is what you need anyway.</p>\n\n<pre><code>public List&lt;?&gt; getList()\n{\n    return theList;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":69301,"reputation":10391,"user_id":201722,"accept_rate":95,"display_name":"luis.espinal"},"score":1,"creation_date":1600178605,"post_id":6172503,"comment_id":113001890,"body_markdown":"I am absolutely ok with this. I do it regularly. I usually do this &quot;internally&quot; in libraries (never exposed in the wild for arbitrary casts). Then I structure my code to make a wrong cast impossible.\n\nSo when I know that I can safely cast List&lt;E&gt; to List&lt;B&gt; because the structure of my code obligates E to be a subclass of B (and I don&#39;t need to reverse the cast), then I&#39;m good to go.\n\nSometimes a &quot;hack&quot; is the right and clean thing to do.","body":"I am absolutely ok with this. I do it regularly. I usually do this &quot;internally&quot; in libraries (never exposed in the wild for arbitrary casts). Then I structure my code to make a wrong cast impossible.  So when I know that I can safely cast List&lt;E&gt; to List&lt;B&gt; because the structure of my code obligates E to be a subclass of B (and I don&#39;t need to reverse the cast), then I&#39;m good to go.  Sometimes a &quot;hack&quot; is the right and clean thing to do."}],"tags":[],"owner":{"account_id":50730,"reputation":3426,"user_id":151365,"accept_rate":78,"display_name":"logan"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1383070953,"creation_date":1306732491,"answer_id":6172503,"question_id":905964,"body_markdown":"Here&#39;s my horrible solution for doing casting. I know, I know, I shouldn&#39;t be releasing something like this into the wild, but it has come in handy for casting any object to any type:\r\n\r\n    public class UnsafeCastUtil {\r\n    \r\n        private UnsafeCastUtil(){ /* not instatiable */}\r\n    \r\n        /**\r\n        * Warning! Using this method is a sin against the gods of programming!\r\n        */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public static &lt;T&gt; T cast(Object o){\r\n    \t    return (T)o;\r\n        }\r\n    \r\n    }\r\n\r\nUsage:\r\n\r\n    Cat c = new Cat();\r\n    Dog d = UnsafeCastUtil.cast(c);\r\n\r\nNow I&#39;m going to pray to the gods of programming for my sins...","title":"How to cast generic List types in java?","body":"<p>Here's my horrible solution for doing casting. I know, I know, I shouldn't be releasing something like this into the wild, but it has come in handy for casting any object to any type:</p>\n\n<pre><code>public class UnsafeCastUtil {\n\n    private UnsafeCastUtil(){ /* not instatiable */}\n\n    /**\n    * Warning! Using this method is a sin against the gods of programming!\n    */\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; T cast(Object o){\n        return (T)o;\n    }\n\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>Cat c = new Cat();\nDog d = UnsafeCastUtil.cast(c);\n</code></pre>\n\n<p>Now I'm going to pray to the gods of programming for my sins...</p>\n"},{"tags":[],"owner":{"account_id":178454,"reputation":5330,"user_id":410439,"accept_rate":81,"display_name":"Ravi Parekh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1326927034,"creation_date":1312021833,"answer_id":6882565,"question_id":905964,"body_markdown":"just put\r\n\r\n    public static List&lt;Object&gt; getList() {\r\n        List l = test;\r\n        return l;\r\n    }","title":"How to cast generic List types in java?","body":"<p>just put</p>\n\n<pre><code>public static List&lt;Object&gt; getList() {\n    List l = test;\n    return l;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":2,"creation_date":1431107253,"post_id":15691905,"comment_id":48369721,"body_markdown":"and `clazz` is for what ? is not used","body":"and <code>clazz</code> is for what ? is not used"},{"owner":{"account_id":246615,"reputation":7540,"user_id":520857,"accept_rate":40,"display_name":"Populus"},"score":2,"creation_date":1581721043,"post_id":15691905,"comment_id":106543994,"body_markdown":"`clazz` is purely used to determine what `T` is, so `collection` can be casted to a collection of `T`","body":"<code>clazz</code> is purely used to determine what <code>T</code> is, so <code>collection</code> can be casted to a collection of <code>T</code>"}],"tags":[],"owner":{"account_id":334736,"reputation":531,"user_id":2091489,"display_name":"julman99"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1364503875,"creation_date":1364503875,"answer_id":15691905,"question_id":905964,"body_markdown":"I did this function for that, ugly but it works\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; cast(Collection&lt;? super T&gt; collection, Class&lt;T&gt; clazz){\r\n        return (Collection&lt;T&gt;)collection;\r\n    }","title":"How to cast generic List types in java?","body":"<p>I did this function for that, ugly but it works</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; cast(Collection&lt;? super T&gt; collection, Class&lt;T&gt; clazz){\n    return (Collection&lt;T&gt;)collection;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4746014,"reputation":1,"user_id":3837361,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405349096,"creation_date":1405349096,"answer_id":24739217,"question_id":905964,"body_markdown":"If your list is of a generic type for eg\r\n\r\n`ArrayList&lt;String&gt; strList = new ArrayList&lt;String&gt;();\r\nstrList.add(&quot;String1&quot;);\r\nObject o = strList;`\r\n\r\nthen Following method should work\r\n\r\n    public &lt;T&gt; List&lt;T&gt; getListObjectInBodyOfType(Class&lt;T&gt; classz, Object body) {\r\n\t\tif(body instanceof List&lt;?&gt;){\r\n\t\t\tList&lt;?&gt; tempList = (List&lt;?&gt;)body;\r\n\t\t\tif(tempList.size() &gt; 0 &amp;&amp; tempList.get(0).getClass().equals(classz)){\r\n\t\t\t\treturn (List&lt;T&gt;) body;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new ArrayList&lt;T&gt;();\r\n\t}\r\nHow to use it?\r\n\r\n    List&lt;String&gt; strList1 = getListObjectInBodyOfType(String.class, o);\r\n\r\nas I mentioned before it works if the Object contains generic list, this won&#39;t work if you pass a non-generic list with mixed type of elements\r\n","title":"How to cast generic List types in java?","body":"<p>If your list is of a generic type for eg</p>\n\n<p><code>ArrayList&lt;String&gt; strList = new ArrayList&lt;String&gt;();\nstrList.add(\"String1\");\nObject o = strList;</code></p>\n\n<p>then Following method should work</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; getListObjectInBodyOfType(Class&lt;T&gt; classz, Object body) {\n    if(body instanceof List&lt;?&gt;){\n        List&lt;?&gt; tempList = (List&lt;?&gt;)body;\n        if(tempList.size() &gt; 0 &amp;&amp; tempList.get(0).getClass().equals(classz)){\n            return (List&lt;T&gt;) body;\n        }\n    }\n    return new ArrayList&lt;T&gt;();\n}\n</code></pre>\n\n<p>How to use it?</p>\n\n<pre><code>List&lt;String&gt; strList1 = getListObjectInBodyOfType(String.class, o);\n</code></pre>\n\n<p>as I mentioned before it works if the Object contains generic list, this won't work if you pass a non-generic list with mixed type of elements</p>\n"},{"tags":[],"owner":{"account_id":9306157,"reputation":586,"user_id":6909832,"display_name":"Matheus Santz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672940606,"creation_date":1672940606,"answer_id":75022385,"question_id":905964,"body_markdown":"Based on **julman99** [answer][1]:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic &lt;T&gt; List&lt;T&gt; cast(List&lt;? super T&gt; list){\r\n\t\treturn (List&lt;T&gt;) list;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15691905/6909832","title":"How to cast generic List types in java?","body":"<p>Based on <strong>julman99</strong> <a href=\"https://stackoverflow.com/a/15691905/6909832\">answer</a>:</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;T&gt; List&lt;T&gt; cast(List&lt;? super T&gt; list){\n    return (List&lt;T&gt;) list;\n}\n</code></pre>\n"}],"owner":{"account_id":21195,"reputation":26135,"user_id":2119053,"accept_rate":81,"display_name":"jrharshath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102203,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":905974,"answer_count":10,"score":18,"last_activity_date":1672940606,"creation_date":1243242048,"question_id":905964,"body_markdown":"Well, I have a class Customer (no base class).\r\n\r\nI need to cast from LinkedList&lt;Customer&gt; to List&lt;Object&gt;. Is there any clean way to do this?\r\n\r\nJust so you know, I need to cast it to List&lt;Object&gt;. No other type will do. (I&#39;m developing a test fixture using Slim and FitNesse).\r\n\r\n\r\n----------\r\n\r\nEDIT: Okay, I think I need to give code examples here.\r\n\r\n    import java.util.*;\r\n    public class CustomerCollection\r\n    {\r\n    \tprotected LinkedList&lt;Customer&gt; theList;\r\n    \t\r\n    \tpublic CustomerCollection()\r\n    \t{\r\n    \t\ttheList = new LinkedList&lt;Customer&gt;();\r\n    \t}\r\n    \t\r\n    \tpublic void addCustomer(Customer c){ theList.add(c); }\r\n    \tpublic List&lt;Object&gt; getList()\r\n    \t{\r\n    \t\treturn (List&lt;? extends Object&gt;) theList;\r\n    \t}\r\n    }\r\n\r\nSo in accordance with Yuval A&#39;s remarks, I&#39;ve finally written the code this way. But I get this error:\r\n\r\n    CustomerCollection.java:31: incompatible types\r\n    found   : java.util.List&lt;capture#824 of ? extends java.lang.Object&gt;\r\n    required: java.util.List&lt;java.lang.Object&gt;\r\n    \t\treturn (List&lt;? extends Object&gt;)theList;\r\n    \t\t       ^\r\n    1 error\r\n\r\nSo, what&#39;s the correct way to do this cast?","title":"How to cast generic List types in java?","body":"<p>Well, I have a class Customer (no base class).</p>\n\n<p>I need to cast from LinkedList to List. Is there any clean way to do this?</p>\n\n<p>Just so you know, I need to cast it to List. No other type will do. (I'm developing a test fixture using Slim and FitNesse).</p>\n\n<hr>\n\n<p>EDIT: Okay, I think I need to give code examples here.</p>\n\n<pre><code>import java.util.*;\npublic class CustomerCollection\n{\n    protected LinkedList&lt;Customer&gt; theList;\n\n    public CustomerCollection()\n    {\n        theList = new LinkedList&lt;Customer&gt;();\n    }\n\n    public void addCustomer(Customer c){ theList.add(c); }\n    public List&lt;Object&gt; getList()\n    {\n        return (List&lt;? extends Object&gt;) theList;\n    }\n}\n</code></pre>\n\n<p>So in accordance with Yuval A's remarks, I've finally written the code this way. But I get this error:</p>\n\n<pre><code>CustomerCollection.java:31: incompatible types\nfound   : java.util.List&lt;capture#824 of ? extends java.lang.Object&gt;\nrequired: java.util.List&lt;java.lang.Object&gt;\n        return (List&lt;? extends Object&gt;)theList;\n               ^\n1 error\n</code></pre>\n\n<p>So, what's the correct way to do this cast?</p>\n"},{"tags":["java","openssl","ssl-certificate","pki"],"comments":[{"owner":{"account_id":97926,"reputation":823,"user_id":265374,"accept_rate":75,"display_name":"reddot"},"score":0,"creation_date":1481029736,"post_id":10308903,"comment_id":69200804,"body_markdown":"Check my [answer](http://security.stackexchange.com/a/144514/132597) on security stackexchange.","body":"Check my <a href=\"http://security.stackexchange.com/a/144514/132597\">answer</a> on security stackexchange."}],"answers":[{"tags":[],"owner":{"display_name":"user1352498"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335324372,"creation_date":1335324372,"answer_id":10308937,"question_id":10308903,"body_markdown":"Have you tried the BouncyCastle lib?\r\n\r\n[http://www.bouncycastle.org/wiki/display/JA1/Frequently+Asked+Questions][1]\r\n\r\n&quot;\r\nThere are specific example programs for dealing with Attribute Certificates, PKCS12, SMIME and OpenPGP. They can be found in the packages:\r\n\r\norg.bouncycastle.jce.examples\r\norg.bouncycastle.mail.smime.examples\r\norg.bouncycastle.openpgp.examples\r\nAnother useful source of examples is the test packages:\r\n\r\norg.bouncycastle.crypto.test\r\norg.bouncycastle.jce.provider.test\r\norg.bouncycastle.cms.test\r\norg.bouncycastle.mail.smime.test\r\norg.bouncycastle.openpgp.test\r\norg.bouncycastle.cert.test\r\norg.bouncycastle.pkcs.test\r\norg.bouncycastle.tsp.test\r\n&quot;\r\n\r\n\r\n  [1]: http://www.bouncycastle.org/wiki/display/JA1/Frequently+Asked+Questions","title":"Find if a certificate is self signed or CA signed","body":"<p>Have you tried the BouncyCastle lib?</p>\n\n<p><a href=\"http://www.bouncycastle.org/wiki/display/JA1/Frequently+Asked+Questions\" rel=\"nofollow\">http://www.bouncycastle.org/wiki/display/JA1/Frequently+Asked+Questions</a></p>\n\n<p>\"\nThere are specific example programs for dealing with Attribute Certificates, PKCS12, SMIME and OpenPGP. They can be found in the packages:</p>\n\n<p>org.bouncycastle.jce.examples\norg.bouncycastle.mail.smime.examples\norg.bouncycastle.openpgp.examples\nAnother useful source of examples is the test packages:</p>\n\n<p>org.bouncycastle.crypto.test\norg.bouncycastle.jce.provider.test\norg.bouncycastle.cms.test\norg.bouncycastle.mail.smime.test\norg.bouncycastle.openpgp.test\norg.bouncycastle.cert.test\norg.bouncycastle.pkcs.test\norg.bouncycastle.tsp.test\n\"</p>\n"},{"comments":[{"owner":{"account_id":167877,"reputation":1574,"user_id":392967,"display_name":"glyphobet"},"score":1,"creation_date":1357658597,"post_id":10309119,"comment_id":19719842,"body_markdown":"You can improve this by just doing `openssl x509 -in $f -issuer -subject`, and removing the `head` and second `openssl` commands.","body":"You can improve this by just doing <code>openssl x509 -in $f -issuer -subject</code>, and removing the <code>head</code> and second <code>openssl</code> commands."},{"owner":{"account_id":2083970,"reputation":725,"user_id":1855326,"accept_rate":71,"display_name":"muchwow"},"score":0,"creation_date":1384309713,"post_id":10309119,"comment_id":29682336,"body_markdown":"You said &quot;if they are different, then it was signed by a CA&quot;. I think it&#39;s important to notice that it doesn&#39;t actually. Usually, a certificate is signed by more than one certificate in chain. \nEx:Your main certificate is signed by the second one than is itself signed by another certificate and so on. \nIt is important to check all certificates in the chain to ensure the first certificate validation. Else it is a great Technic. thanks!","body":"You said &quot;if they are different, then it was signed by a CA&quot;. I think it&#39;s important to notice that it doesn&#39;t actually. Usually, a certificate is signed by more than one certificate in chain.  Ex:Your main certificate is signed by the second one than is itself signed by another certificate and so on.  It is important to check all certificates in the chain to ensure the first certificate validation. Else it is a great Technic. thanks!"},{"owner":{"account_id":158544,"reputation":102715,"user_id":377270,"display_name":"sarnold"},"score":0,"creation_date":1384366981,"post_id":10309119,"comment_id":29711330,"body_markdown":"@jumojer, that&#39;s a good point -- this is by no means a _verifier_, this is only a way to tell self-signed apart from CA-signed.","body":"@jumojer, that&#39;s a good point -- this is by no means a <i>verifier</i>, this is only a way to tell self-signed apart from CA-signed."},{"owner":{"account_id":1142054,"reputation":1684,"user_id":1125660,"display_name":"rsaxvc"},"score":1,"creation_date":1463543258,"post_id":10309119,"comment_id":62104228,"body_markdown":"&quot;-noout&quot; would be a little cleaner than &quot;| head -1&quot;","body":"&quot;-noout&quot; would be a little cleaner than &quot;| head -1&quot;"},{"owner":{"account_id":4384962,"reputation":1828,"user_id":3575426,"accept_rate":94,"display_name":"Youda008"},"score":1,"creation_date":1571401650,"post_id":10309119,"comment_id":103239391,"body_markdown":"What if someone created a certificate with the &quot;issuer&quot; field set to some known CA and then signed it by his own private key? This doesn&#39;t seem like a correct bullet-proof way to recognize self-signed certs. You should check whether the signature comes from the same key that is in the certificate itself.","body":"What if someone created a certificate with the &quot;issuer&quot; field set to some known CA and then signed it by his own private key? This doesn&#39;t seem like a correct bullet-proof way to recognize self-signed certs. You should check whether the signature comes from the same key that is in the certificate itself."},{"owner":{"account_id":158544,"reputation":102715,"user_id":377270,"display_name":"sarnold"},"score":0,"creation_date":1571426932,"post_id":10309119,"comment_id":103251263,"body_markdown":"@Youda008, thanks for the comment; [mattjm&#39;s answer](https://stackoverflow.com/a/57927684/377270) appears to be a better solution.","body":"@Youda008, thanks for the comment; <a href=\"https://stackoverflow.com/a/57927684/377270\">mattjm&#39;s answer</a> appears to be a better solution."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1571429472,"post_id":10309119,"comment_id":103252183,"body_markdown":"@jumojer: yes there are usually multiple CA certs forming a chain (and you check all of them to validate) -- some of them are _intermediate_ or _subordinate_ CAs and the last/top one is a _root_ CA but they are all CAs, and your end-entity aka leaf cert is issued&amp;signed by an intermediate CA and is thus CA-issued/signed.","body":"@jumojer: yes there are usually multiple CA certs forming a chain (and you check all of them to validate) -- some of them are <i>intermediate</i> or <i>subordinate</i> CAs and the last/top one is a <i>root</i> CA but they are all CAs, and your end-entity aka leaf cert is issued&amp;signed by an intermediate CA and is thus CA-issued/signed."},{"owner":{"account_id":2332993,"reputation":2045,"user_id":2045924,"accept_rate":83,"display_name":"sastorsl"},"score":1,"creation_date":1591257326,"post_id":10309119,"comment_id":109988029,"body_markdown":"&quot;why would one want to know about self-signed certificates&quot;. In a big shop you will want to scan known devices to keep up to date of the amount, type of, health and expiry of certificates. If you have a policy to not have self signed certificates in the shop, but you know, it happens, you might want to flag these specifically.","body":"&quot;why would one want to know about self-signed certificates&quot;. In a big shop you will want to scan known devices to keep up to date of the amount, type of, health and expiry of certificates. If you have a policy to not have self signed certificates in the shop, but you know, it happens, you might want to flag these specifically."}],"tags":[],"owner":{"account_id":158544,"reputation":102715,"user_id":377270,"display_name":"sarnold"},"comment_count":8,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1571427413,"creation_date":1335325849,"answer_id":10309119,"question_id":10308903,"body_markdown":"Edit: there are two better answers on this question today:\r\n\r\n- https://stackoverflow.com/a/57927684/377270\r\n- https://stackoverflow.com/a/14515875/377270\r\n\r\nHowever, I think there&#39;s something more important to address -- *why* would one want to know about self-signed certificates. What&#39;s the goal? What problem is being solved? Probably trying to split certificates into two piles, self-signed and not-self-signed, is the wrong approach for most situations. The better approach is almost certainly going to be verifying that any given certificate has a valid signature chain from a trusted certificate authority, and that any connections associated with a given certificate matches the certificate.\r\n\r\nHere&#39;s the rest of my original answer. It&#39;s probably not what you want.\r\n\r\n---\r\n\r\nIt&#39;s a bit hacky, but the `openssl x509` command can report both the issuer and the subject. If the subject and issuer are the same, it is self-signed; if they are different, then it was signed by a CA. (Strictly speaking, a great many self-signed certificates are _also_ signed by a CA -- themselves.)\r\n\r\nWhile testing this theory, I ran a handful of tests; it runs something like:\r\n\r\n    cd /etc/ssl/certs\r\n    for f in *.0 ; do openssl x509 -in $f -issuer | head -1 &gt; /tmp/$f.issuer ; openssl x509 -in $f -subject | head -1 &gt; /tmp/$f.subject ; done\r\n     cd /tmp\r\n     sed -i -e s/issuer=// *.issuer\r\n     sed -i -e s/subject=// *.subject\r\n     cd /etc/ssl/certs/\r\n     for f in *.0 ; do diff -u /tmp/$f.issuer /tmp/$f.subject ; done\r\n\r\nHope this helps.\r\n","title":"Find if a certificate is self signed or CA signed","body":"<p>Edit: there are two better answers on this question today:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/57927684/377270\">https://stackoverflow.com/a/57927684/377270</a></li>\n<li><a href=\"https://stackoverflow.com/a/14515875/377270\">https://stackoverflow.com/a/14515875/377270</a></li>\n</ul>\n\n<p>However, I think there's something more important to address -- <em>why</em> would one want to know about self-signed certificates. What's the goal? What problem is being solved? Probably trying to split certificates into two piles, self-signed and not-self-signed, is the wrong approach for most situations. The better approach is almost certainly going to be verifying that any given certificate has a valid signature chain from a trusted certificate authority, and that any connections associated with a given certificate matches the certificate.</p>\n\n<p>Here's the rest of my original answer. It's probably not what you want.</p>\n\n<hr>\n\n<p>It's a bit hacky, but the <code>openssl x509</code> command can report both the issuer and the subject. If the subject and issuer are the same, it is self-signed; if they are different, then it was signed by a CA. (Strictly speaking, a great many self-signed certificates are <em>also</em> signed by a CA -- themselves.)</p>\n\n<p>While testing this theory, I ran a handful of tests; it runs something like:</p>\n\n<pre><code>cd /etc/ssl/certs\nfor f in *.0 ; do openssl x509 -in $f -issuer | head -1 &gt; /tmp/$f.issuer ; openssl x509 -in $f -subject | head -1 &gt; /tmp/$f.subject ; done\n cd /tmp\n sed -i -e s/issuer=// *.issuer\n sed -i -e s/subject=// *.subject\n cd /etc/ssl/certs/\n for f in *.0 ; do diff -u /tmp/$f.issuer /tmp/$f.subject ; done\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":4592980,"reputation":1694,"user_id":3725805,"accept_rate":40,"display_name":"Galdor"},"score":1,"creation_date":1611677575,"post_id":14515875,"comment_id":116525200,"body_markdown":"but openssl verify -CAfile other_ca.pem self_signed_cert.pem also returns OK, see https://stackoverflow.com/questions/65904954/verify-x509-certificate-with-openssl-to-be-valid-and-signed-by-trusted-cas","body":"but openssl verify -CAfile other_ca.pem self_signed_cert.pem also returns OK, see <a href=\"https://stackoverflow.com/questions/65904954/verify-x509-certificate-with-openssl-to-be-valid-and-signed-by-trusted-cas\" title=\"verify x509 certificate with openssl to be valid and signed by trusted cas\">stackoverflow.com/questions/65904954/&hellip;</a>"}],"tags":[],"owner":{"account_id":1795638,"reputation":261,"user_id":1635082,"display_name":"NitinB"},"comment_count":1,"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1425494748,"creation_date":1359091567,"answer_id":14515875,"question_id":10308903,"body_markdown":"Following email thread precisely tells the right way to verify if the base64 encoded certificate (i.e. PEM) is self signed or not: http://marc.info/?l=openssl-users&amp;m=116177485311662&amp;w=4\r\n\r\nFollowing is the code snippet:\r\n\r\n    openssl verify -CAfile self_signed_cert.pem self_signed_cert.pem\r\n    \r\nshould return:\r\n    \r\n    self_signed_cert.pem: OK\r\n\r\nOR compare the issuer and subject. If they are same, it is self signed\r\n\r\n    openssl x509 -in cert.pem -inform PEM -noout -subject -issuer\r\n","title":"Find if a certificate is self signed or CA signed","body":"<p>Following email thread precisely tells the right way to verify if the base64 encoded certificate (i.e. PEM) is self signed or not: <a href=\"http://marc.info/?l=openssl-users&amp;m=116177485311662&amp;w=4\">http://marc.info/?l=openssl-users&amp;m=116177485311662&amp;w=4</a></p>\n\n<p>Following is the code snippet:</p>\n\n<pre><code>openssl verify -CAfile self_signed_cert.pem self_signed_cert.pem\n</code></pre>\n\n<p>should return:</p>\n\n<pre><code>self_signed_cert.pem: OK\n</code></pre>\n\n<p>OR compare the issuer and subject. If they are same, it is self signed</p>\n\n<pre><code>openssl x509 -in cert.pem -inform PEM -noout -subject -issuer\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1571430013,"post_id":31128411,"comment_id":103252359,"body_markdown":"This is wrong. Java has handled PKCS12 keystores (at least including privatekey) since at least j6 in 2006, although _commandline keytool_ does so _by default_ only since 8u60 which was in 2015 slightly after this answer. `openssl` can convert pkcs12 only to separate PEM objects for CERTIFICATE(s) and PRIVATE KEY, but Java can&#39;t use either of those as a keystore -- although it can import ONLY the former _into_ a keystore and use that.","body":"This is wrong. Java has handled PKCS12 keystores (at least including privatekey) since at least j6 in 2006, although <i>commandline keytool</i> does so <i>by default</i> only since 8u60 which was in 2015 slightly after this answer. <code>openssl</code> can convert pkcs12 only to separate PEM objects for CERTIFICATE(s) and PRIVATE KEY, but Java can&#39;t use either of those as a keystore -- although it can import ONLY the former <i>into</i> a keystore and use that."}],"tags":[],"owner":{"account_id":6391687,"reputation":391,"user_id":4957586,"accept_rate":36,"display_name":"frogcdcn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435629903,"creation_date":1435629903,"answer_id":31128411,"question_id":10308903,"body_markdown":"Java is **unable** to analyze `PKCS12` so that you have to convert it to `keystore` using openssl.  \r\n\r\nHere the keystore has both private key and X509 certificate(or you can choose only to store certificate). Then get the issuer from `keystore` using standard JAVA API and manually verify issuer.","title":"Find if a certificate is self signed or CA signed","body":"<p>Java is <strong>unable</strong> to analyze <code>PKCS12</code> so that you have to convert it to <code>keystore</code> using openssl.  </p>\n\n<p>Here the keystore has both private key and X509 certificate(or you can choose only to store certificate). Then get the issuer from <code>keystore</code> using standard JAVA API and manually verify issuer.</p>\n"},{"tags":[],"owner":{"account_id":16691952,"reputation":71,"user_id":12064321,"display_name":"mattjm"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1568396712,"creation_date":1568394066,"answer_id":57927684,"question_id":10308903,"body_markdown":"The accepted answer here isn&#39;t strictly correct.  Old question, but this is the first result in google for &quot;how to tell if a certificate is self signed&quot; so it needs to be cleared up.  \r\n\r\nA cert is almost always self-signed if the issuer and subject match, but it&#39;s not guaranteed.  A certificate can be &quot;self-issued&quot; where it has the same issuer/subject but is signed by a private key that isn&#39;t paired with the public key in the cert.  \r\n\r\nThe first part of the answer above from NitinB is the right way to check for a self-signed cert:\r\n\r\n```openssl verify -CAfile self_signed_cert.pem self_signed_cert.pem```\r\n\r\n\r\n&quot;All self-signed certs are self-issued, but not all self-issued certs are self-signed.&quot;  \r\n\r\nCitation: https://www.rfc-editor.org/rfc/rfc5280\r\n\r\n&quot;Self-issued certificates are CA certificates in which the issuer and subject are the same entity.  Self-issued certificates are generated to support changes in policy or operations.  Self- signed certificates are self-issued certificates where the digital signature may be verified by the public key bound into the certificate.&quot;\r\n\r\n","title":"Find if a certificate is self signed or CA signed","body":"<p>The accepted answer here isn't strictly correct.  Old question, but this is the first result in google for &quot;how to tell if a certificate is self signed&quot; so it needs to be cleared up.</p>\n<p>A cert is almost always self-signed if the issuer and subject match, but it's not guaranteed.  A certificate can be &quot;self-issued&quot; where it has the same issuer/subject but is signed by a private key that isn't paired with the public key in the cert.</p>\n<p>The first part of the answer above from NitinB is the right way to check for a self-signed cert:</p>\n<p><code>openssl verify -CAfile self_signed_cert.pem self_signed_cert.pem</code></p>\n<p>&quot;All self-signed certs are self-issued, but not all self-issued certs are self-signed.&quot;</p>\n<p>Citation: <a href=\"https://www.rfc-editor.org/rfc/rfc5280\" rel=\"nofollow noreferrer\">https://www.rfc-editor.org/rfc/rfc5280</a></p>\n<p>&quot;Self-issued certificates are CA certificates in which the issuer and subject are the same entity.  Self-issued certificates are generated to support changes in policy or operations.  Self- signed certificates are self-issued certificates where the digital signature may be verified by the public key bound into the certificate.&quot;</p>\n"},{"tags":[],"owner":{"account_id":16022714,"reputation":11,"user_id":11563799,"display_name":"Prateek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672940359,"creation_date":1672940359,"answer_id":75022337,"question_id":10308903,"body_markdown":"Details could be found in https://www.openssl.org/docs/man3.0/man3/X509_verify.html \r\n\r\nX509_self_signed() checks whether certificate cert is self-signed. For success **the issuer and subject names must match, the components of the authority key identifier (if present) must match the subject key identifier etc.** The signature itself is actually verified only if verify_signature is 1, as for explicitly trusted certificates this verification is not worth the effort.","title":"Find if a certificate is self signed or CA signed","body":"<p>Details could be found in <a href=\"https://www.openssl.org/docs/man3.0/man3/X509_verify.html\" rel=\"nofollow noreferrer\">https://www.openssl.org/docs/man3.0/man3/X509_verify.html</a></p>\n<p>X509_self_signed() checks whether certificate cert is self-signed. For success <strong>the issuer and subject names must match, the components of the authority key identifier (if present) must match the subject key identifier etc.</strong> The signature itself is actually verified only if verify_signature is 1, as for explicitly trusted certificates this verification is not worth the effort.</p>\n"}],"owner":{"account_id":35282,"reputation":2831,"user_id":99901,"accept_rate":53,"display_name":"Nishan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63934,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":10309119,"answer_count":6,"score":25,"last_activity_date":1672940359,"creation_date":1335324035,"question_id":10308903,"body_markdown":"I have a web app, which allows user to upload pkcs12.  I store the pkcs12 as binary in database.  Is there any way for me to know if the certificate in the pkcs12 is self signed or CA signed?\r\n\r\nI am running a Java web app on tomcat and have openssl at my disposal.","title":"Find if a certificate is self signed or CA signed","body":"<p>I have a web app, which allows user to upload pkcs12.  I store the pkcs12 as binary in database.  Is there any way for me to know if the certificate in the pkcs12 is self signed or CA signed?</p>\n\n<p>I am running a Java web app on tomcat and have openssl at my disposal.</p>\n"},{"tags":["java","collections","hashmap","comparison"],"answers":[{"comments":[{"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"score":7,"creation_date":1389091456,"post_id":20969245,"comment_id":31502099,"body_markdown":"Yes but the OP also wants that they have the same mapping. And note that you need to override hashCode as well.","body":"Yes but the OP also wants that they have the same mapping. And note that you need to override hashCode as well."},{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":0,"creation_date":1483691669,"post_id":20969245,"comment_id":70208766,"body_markdown":"Don&#39;t you forget to override `hashCode()` if you override `.equals()` as the guy said","body":"Don&#39;t you forget to override <code>hashCode()</code> if you override <code>.equals()</code> as the guy said"}],"tags":[],"owner":{"account_id":1903805,"reputation":41397,"user_id":1719067,"accept_rate":73,"display_name":"Narendra Pathai"},"comment_count":2,"down_vote_count":4,"up_vote_count":38,"is_accepted":true,"score":34,"last_activity_date":1389091054,"creation_date":1389090488,"answer_id":20969245,"question_id":20969211,"body_markdown":"Make an `equals` check on the `keySet()` of both `HashMap`s.\r\n\r\n\r\n***NOTE:***\r\n\r\nIf your `Map` contains `String` keys then it is no problem, but if your Map contains `objA` type keys then you need to make sure that your class `objA` implements `equals()`.\r\n\r\n ","title":"Comparing two hashmaps for equal values and same key sets?","body":"<p>Make an <code>equals</code> check on the <code>keySet()</code> of both <code>HashMap</code>s.</p>\n\n<p><em><strong>NOTE:</em></strong></p>\n\n<p>If your <code>Map</code> contains <code>String</code> keys then it is no problem, but if your Map contains <code>objA</code> type keys then you need to make sure that your class <code>objA</code> implements <code>equals()</code>.</p>\n"},{"comments":[{"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"score":0,"creation_date":1428061811,"post_id":20969333,"comment_id":47032648,"body_markdown":"Is this for Java or Android? On Android, the description for `equals` is [different](http://stackoverflow.com/a/29431623/145173).","body":"Is this for Java or Android? On Android, the description for <code>equals</code> is <a href=\"http://stackoverflow.com/a/29431623/145173\">different</a>."},{"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"score":0,"creation_date":1428100335,"post_id":20969333,"comment_id":47049617,"body_markdown":"@EdwardBrey The description you state does the same thing. And I don&#39;t know where you got this definition because it&#39;s the same on the Android doc: http://developer.android.com/reference/java/util/Map.html#equals(java.lang.Object)","body":"@EdwardBrey The description you state does the same thing. And I don&#39;t know where you got this definition because it&#39;s the same on the Android doc: <a href=\"http://developer.android.com/reference/java/util/Map.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">developer.android.com/reference/java/util/&hellip;</a>"},{"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"score":0,"creation_date":1428101672,"post_id":20969333,"comment_id":47049984,"body_markdown":"The documentation for the interface method [Map.equals](http://developer.android.com/reference/java/util/Map.html#equals(java.lang.Object)) is as you quoted. However, `HashMap` implements the `equals` method of that interface via [AbstractMap.equals](http://developer.android.com/reference/java/util/AbstractMap.html#equals(java.lang.Object)), which has the weaker guarantee that I quoted. The `AbstractMap` code matches its documentation. It seems to me that `HashMap` violates the contract of the interface.","body":"The documentation for the interface method <a href=\"http://developer.android.com/reference/java/util/Map.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">Map.equals</a> is as you quoted. However, <code>HashMap</code> implements the <code>equals</code> method of that interface via <a href=\"http://developer.android.com/reference/java/util/AbstractMap.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">AbstractMap.equals</a>, which has the weaker guarantee that I quoted. The <code>AbstractMap</code> code matches its documentation. It seems to me that <code>HashMap</code> violates the contract of the interface."},{"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"score":2,"creation_date":1428484257,"post_id":20969333,"comment_id":47176880,"body_markdown":"@EdwardBrey Then tell me the difference between what you quoted? Because I don&#39;t see any. It does the same thing... _&quot;This implementation first checks the structure of object. If it is not a map or of a **different size**, this returns false. Otherwise it iterates its **own entry set**, looking up each **entry&#39;s key** in **object**. If any **value** does not equal **the other map&#39;s value** for the **same** key, this returns false. Otherwise it returns true.&quot;_","body":"@EdwardBrey Then tell me the difference between what you quoted? Because I don&#39;t see any. It does the same thing... <i>&quot;This implementation first checks the structure of object. If it is not a map or of a <b>different size</b>, this returns false. Otherwise it iterates its <b>own entry set</b>, looking up each <b>entry&#39;s key</b> in <b>object</b>. If any <b>value</b> does not equal <b>the other map&#39;s value</b> for the <b>same</b> key, this returns false. Otherwise it returns true.&quot;</i>"},{"owner":{"account_id":48818,"reputation":40628,"user_id":145173,"accept_rate":79,"display_name":"Edward Brey"},"score":0,"creation_date":1428494086,"post_id":20969333,"comment_id":47183348,"body_markdown":"I was concerned that it doesn&#39;t say that it iterates over the other entry set and does a lookup the other way. However, since, as you highlighted, it checks for identical size and since keys must be unique in each map, it doesn&#39;t need to. A comparison starting from just one side is sufficient.","body":"I was concerned that it doesn&#39;t say that it iterates over the other entry set and does a lookup the other way. However, since, as you highlighted, it checks for identical size and since keys must be unique in each map, it doesn&#39;t need to. A comparison starting from just one side is sufficient."}],"tags":[],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"comment_count":5,"down_vote_count":1,"up_vote_count":77,"is_accepted":false,"score":76,"last_activity_date":1389091105,"creation_date":1389090766,"answer_id":20969333,"question_id":20969211,"body_markdown":"Simply use :\r\n\r\n`mapA.equals(mapB);`\r\n\r\n&gt; Compares the specified object with this map for equality. Returns true\r\n&gt; if the given object is also a map and the two maps represent the **same**\r\n&gt; mappings","title":"Comparing two hashmaps for equal values and same key sets?","body":"<p>Simply use :</p>\n\n<p><code>mapA.equals(mapB);</code></p>\n\n<blockquote>\n  <p>Compares the specified object with this map for equality. Returns true\n  if the given object is also a map and the two maps represent the <strong>same</strong>\n  mappings</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2079816,"reputation":592,"user_id":1852070,"display_name":"Steve Swinsburg"},"score":0,"creation_date":1516671714,"post_id":26830741,"comment_id":83773669,"body_markdown":"This doesn&#39;t work if you have null values in your map. Given the following two maps, it will fail the comparison:\n\n    final Map&lt;String, Double&gt; map1 = new HashMap&lt;&gt;();\n\t\tmap1.put(&quot;key1&quot;, new Double(0.0));\n\t\tmap1.put(&quot;key2&quot;, new Double(75.0));\n\t\tmap1.put(&quot;key3&quot;, null);\n\t\tfinal Map&lt;String, Double&gt; map2 = new HashMap&lt;&gt;();\n\t\tmap2.put(&quot;key1&quot;, Double.valueOf(&quot;0.0&quot;));\n\t\tmap2.put(&quot;key2&quot;, 75.0);\n\t\tmap2.put(&quot;key3&quot;, null);","body":"This doesn&#39;t work if you have null values in your map. Given the following two maps, it will fail the comparison:      final Map&lt;String, Double&gt; map1 = new HashMap&lt;&gt;(); \t\tmap1.put(&quot;key1&quot;, new Double(0.0)); \t\tmap1.put(&quot;key2&quot;, new Double(75.0)); \t\tmap1.put(&quot;key3&quot;, null); \t\tfinal Map&lt;String, Double&gt; map2 = new HashMap&lt;&gt;(); \t\tmap2.put(&quot;key1&quot;, Double.valueOf(&quot;0.0&quot;)); \t\tmap2.put(&quot;key2&quot;, 75.0); \t\tmap2.put(&quot;key3&quot;, null);"}],"tags":[],"owner":{"account_id":5171569,"reputation":337,"user_id":4139888,"display_name":"Antonio Ortells"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1473780929,"creation_date":1415552645,"answer_id":26830741,"question_id":20969211,"body_markdown":"Compare every key in mapB against the counterpart in mapA. Then check if there is any key in mapA not existing in mapB\r\n\r\n    public boolean mapsAreEqual(Map&lt;String, String&gt; mapA, Map&lt;String, String&gt; mapB) {\r\n    \r\n        try{\r\n            for (String k : mapB.keySet())\r\n            {\r\n                if (!mapA.get(k).equals(mapB.get(k))) {\r\n                    return false;\r\n                }\r\n            } \r\n            for (String y : mapA.keySet())\r\n            {\r\n                if (!mapB.containsKey(y)) {\r\n                    return false;\r\n                }\r\n            } \r\n        } catch (NullPointerException np) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n","title":"Comparing two hashmaps for equal values and same key sets?","body":"<p>Compare every key in mapB against the counterpart in mapA. Then check if there is any key in mapA not existing in mapB</p>\n\n<pre><code>public boolean mapsAreEqual(Map&lt;String, String&gt; mapA, Map&lt;String, String&gt; mapB) {\n\n    try{\n        for (String k : mapB.keySet())\n        {\n            if (!mapA.get(k).equals(mapB.get(k))) {\n                return false;\n            }\n        } \n        for (String y : mapA.keySet())\n        {\n            if (!mapB.containsKey(y)) {\n                return false;\n            }\n        } \n    } catch (NullPointerException np) {\n        return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868634,"reputation":129,"user_id":5279988,"display_name":"SanA"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1457936994,"creation_date":1457936994,"answer_id":35980881,"question_id":20969211,"body_markdown":"\tpublic boolean compareMap(Map&lt;String, String&gt; map1, Map&lt;String, String&gt; map2) {\r\n\r\n\t\tif (map1 == null || map2 == null)\r\n\t\t\treturn false;\r\n\r\n\t\tfor (String ch1 : map1.keySet()) {\r\n\t\t\tif (!map1.get(ch1).equalsIgnoreCase(map2.get(ch1)))\r\n\t\t\t\treturn false;\r\n\r\n\t\t}\r\n\t\tfor (String ch2 : map2.keySet()) {\r\n\t\t\tif (!map2.get(ch2).equalsIgnoreCase(map1.get(ch2)))\r\n\t\t\t\treturn false;\r\n\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n","title":"Comparing two hashmaps for equal values and same key sets?","body":"<pre><code>public boolean compareMap(Map&lt;String, String&gt; map1, Map&lt;String, String&gt; map2) {\n\n    if (map1 == null || map2 == null)\n        return false;\n\n    for (String ch1 : map1.keySet()) {\n        if (!map1.get(ch1).equalsIgnoreCase(map2.get(ch1)))\n            return false;\n\n    }\n    for (String ch2 : map2.keySet()) {\n        if (!map2.get(ch2).equalsIgnoreCase(map1.get(ch2)))\n            return false;\n\n    }\n\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12846080,"reputation":51,"user_id":9292423,"display_name":"Haroon Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517372526,"creation_date":1517372526,"answer_id":48534438,"question_id":20969211,"body_markdown":"    /* JAVA 8 using streams*/\r\n       public static void main(String args[])\r\n        {\r\n            Map&lt;Integer, Boolean&gt; map = new HashMap&lt;Integer, Boolean&gt;();\r\n            map.put(100, true);\r\n            map.put(1011, false);\r\n            map.put(1022, false);\r\n    \r\n            Map&lt;Integer, Boolean&gt; map1 = new HashMap&lt;Integer, Boolean&gt;();\r\n            map1.put(100, false);\r\n            map1.put(101, false);\r\n            map1.put(102, false);\r\n    \r\n            boolean b = map.entrySet().stream().filter(value -&gt; map1.entrySet().stream().anyMatch(value1 -&gt; (value1.getKey() == value.getKey() &amp;&amp; value1.getValue() == value.getValue()))).findAny().isPresent();\r\n            System.out.println(b);\r\n        }","title":"Comparing two hashmaps for equal values and same key sets?","body":"<pre><code>/* JAVA 8 using streams*/\n   public static void main(String args[])\n    {\n        Map&lt;Integer, Boolean&gt; map = new HashMap&lt;Integer, Boolean&gt;();\n        map.put(100, true);\n        map.put(1011, false);\n        map.put(1022, false);\n\n        Map&lt;Integer, Boolean&gt; map1 = new HashMap&lt;Integer, Boolean&gt;();\n        map1.put(100, false);\n        map1.put(101, false);\n        map1.put(102, false);\n\n        boolean b = map.entrySet().stream().filter(value -&gt; map1.entrySet().stream().anyMatch(value1 -&gt; (value1.getKey() == value.getKey() &amp;&amp; value1.getValue() == value.getValue()))).findAny().isPresent();\n        System.out.println(b);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14845218,"reputation":11,"user_id":10720710,"display_name":"Swati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543553974,"creation_date":1543553974,"answer_id":53551498,"question_id":20969211,"body_markdown":"if you have two maps lets say map1 and map2 then using java8 Streams,we can compare maps using code below.But it is recommended to use equals rather then != or == \r\n     \r\n    boolean b = map1.entrySet().stream().filter(value -&gt; \r\n                map2.entrySet().stream().anyMatch(value1 -&gt; \r\n                (value1.getKey().equals(value.getKey()) &amp;&amp; \r\n      value1.getValue().equals(value.getValue())))).findAny().isPresent();   \r\n                                \r\n\r\n    System.out.println(&quot;comparison  &quot;+b);\r\n\r\n  \r\n","title":"Comparing two hashmaps for equal values and same key sets?","body":"<p>if you have two maps lets say map1 and map2 then using java8 Streams,we can compare maps using code below.But it is recommended to use equals rather then != or == </p>\n\n<pre><code>boolean b = map1.entrySet().stream().filter(value -&gt; \n            map2.entrySet().stream().anyMatch(value1 -&gt; \n            (value1.getKey().equals(value.getKey()) &amp;&amp; \n  value1.getValue().equals(value.getValue())))).findAny().isPresent();   \n\n\nSystem.out.println(\"comparison  \"+b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11826686,"reputation":175,"user_id":11249006,"display_name":"Jonas Freire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672940344,"creation_date":1672940344,"answer_id":75022334,"question_id":20969211,"body_markdown":"A simple and good algorithm for such a comparison could be:\r\n\r\n        Map&lt;Integer, Boolean&gt; map1 = new HashMap&lt;Integer, Boolean&gt;();\r\n        map1.put(100, false);\r\n        map1.put(101, false);\r\n        map1.put(102, false);\r\n\r\n        Map&lt;Integer, Boolean&gt; map2 = new HashMap&lt;Integer, Boolean&gt;();\r\n        map2.put(100, false);\r\n        map2.put(1011, false);\r\n        map2.put(1022, false);\r\n\r\n        if (!map1.keySet().equals(map2.keySet())) {\r\n            result = false;\r\n        } else {\r\n            result = map1.keySet()\r\n                    .stream()\r\n                    .allMatch(key -&gt; map1.get(key).equals(map2.get(key)));\r\n        }\r\n\r\nSimply you&#39;ll have to compare the set of keys, if they are equal, then compare the values for each key on both maps.","title":"Comparing two hashmaps for equal values and same key sets?","body":"<p>A simple and good algorithm for such a comparison could be:</p>\n<pre><code>    Map&lt;Integer, Boolean&gt; map1 = new HashMap&lt;Integer, Boolean&gt;();\n    map1.put(100, false);\n    map1.put(101, false);\n    map1.put(102, false);\n\n    Map&lt;Integer, Boolean&gt; map2 = new HashMap&lt;Integer, Boolean&gt;();\n    map2.put(100, false);\n    map2.put(1011, false);\n    map2.put(1022, false);\n\n    if (!map1.keySet().equals(map2.keySet())) {\n        result = false;\n    } else {\n        result = map1.keySet()\n                .stream()\n                .allMatch(key -&gt; map1.get(key).equals(map2.get(key)));\n    }\n</code></pre>\n<p>Simply you'll have to compare the set of keys, if they are equal, then compare the values for each key on both maps.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177379,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":20969245,"answer_count":7,"score":47,"last_activity_date":1672940344,"creation_date":1389090378,"question_id":20969211,"body_markdown":"How can I best compare two `HashMap`s, if I want to find out if none of them contains different keys than the other, and if the values of that keys match each other.\r\n\r\n    Map&lt;objA, objB&gt; mapA = new HashMap&lt;objA, objB&gt;();\r\n    mapA.put(&quot;A&quot;, &quot;1&quot;);\r\n    mapA.put(&quot;B&quot;, &quot;2&quot;);\r\n    \r\n    Map&lt;objA, objB&gt; mapB = new HashMap&lt;objA, objB&gt;();\r\n    mapB.put(&quot;D&quot;, &quot;4&quot;);\r\n    mapB.put(&quot;A&quot;, &quot;1&quot;);\r\n\r\nWhen comparing A with B, it should fail due to different keys B and D.\r\n\r\nHow could I best compare non-sorted hashmaps?","title":"Comparing two hashmaps for equal values and same key sets?","body":"<p>How can I best compare two <code>HashMap</code>s, if I want to find out if none of them contains different keys than the other, and if the values of that keys match each other.</p>\n\n<pre><code>Map&lt;objA, objB&gt; mapA = new HashMap&lt;objA, objB&gt;();\nmapA.put(\"A\", \"1\");\nmapA.put(\"B\", \"2\");\n\nMap&lt;objA, objB&gt; mapB = new HashMap&lt;objA, objB&gt;();\nmapB.put(\"D\", \"4\");\nmapB.put(\"A\", \"1\");\n</code></pre>\n\n<p>When comparing A with B, it should fail due to different keys B and D.</p>\n\n<p>How could I best compare non-sorted hashmaps?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1672795932,"post_id":74999967,"comment_id":132353084,"body_markdown":"`SecurityWebFilterChain` is used for reactive applications. Let your `@Configuration` class extend `WebSecurityConfigurerAdapter` and override the `void configure(HttpSecurity)` method.","body":"<code>SecurityWebFilterChain</code> is used for reactive applications. Let your <code>@Configuration</code> class extend <code>WebSecurityConfigurerAdapter</code> and override the <code>void configure(HttpSecurity)</code> method."},{"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"score":0,"creation_date":1672853315,"post_id":74999967,"comment_id":132368151,"body_markdown":"The WebSecurityConfigurerAdapter methods are deprecated https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","body":"The WebSecurityConfigurerAdapter methods are deprecated <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring.io/blog/2022/02/21/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1672871513,"creation_date":1672840195,"answer_id":75006428,"question_id":74999967,"body_markdown":"You should allow `index.html` in the `HttpSecurity` request matchers as going to `/` is doing an auto-redirect to `index.html` and there is no permit rule defined for `index.html` giving an auth prompt. Below setting should work:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n    \thttp\r\n            .authorizeHttpRequests()\r\n                .requestMatchers( &quot;/resources/**&quot;, &quot;/&quot;, &quot;/index.html&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .httpBasic();\r\n\t\r\n        return http.build();\r\n    }","title":"Request Matcher not working to permit allowed path","body":"<p>You should allow <code>index.html</code> in the <code>HttpSecurity</code> request matchers as going to <code>/</code> is doing an auto-redirect to <code>index.html</code> and there is no permit rule defined for <code>index.html</code> giving an auth prompt. Below setting should work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n    http\n        .authorizeHttpRequests()\n            .requestMatchers( &quot;/resources/**&quot;, &quot;/&quot;, &quot;/index.html&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n        .httpBasic();\n\n    return http.build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10247655,"reputation":89,"user_id":7562955,"display_name":"zzpzaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672940296,"creation_date":1672939594,"answer_id":75022203,"question_id":74999967,"body_markdown":"As you suspected, issues can come out from the Spring Boot newest\r\nversion you use, which as it is in the pom is 3.0.1. As you can see\r\n[here][1],versions 3.0 and afterward, are based on the Spring framework 6.0. The Spring framework 6.0 also uses the [Spring Security 6.0][2],,\r\nwhere, antMatchers() (as well as other Matcher methods) are deprecated\r\nfor Spring security configurations. [See [here][3] and [here\\]][4].\r\n\r\nMoreover, I suggest leaving out any URL path you wish to be accessible, such as &quot;/** &quot; or &quot;/resources/** &quot; and protect just the other path(s) of your api, which in your case should be the one defined in your controller &quot;/api/v1/students/** &quot;. You can do that in a similar way as the snippet below:\r\n\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        \r\n        // http\r\n        //     .securityMatchers( (matchers) -&gt; matchers\r\n        //     .requestMatchers(&quot;/resources/**&quot;, &quot;/&quot;))\r\n        //     .authorizeHttpRequests((authorize) -&gt; authorize\r\n        //     .anyRequest().permitAll());\r\n\r\n            \r\n        http \r\n            .securityMatchers( (matchers) -&gt; matchers\r\n            .requestMatchers(&quot;/api/v1/students/**&quot;))\r\n            .authorizeHttpRequests((authorize) -&gt; authorize\r\n            .anyRequest().authenticated())\r\n            .httpBasic();\r\n        \r\n        return http.build();\r\n    }\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\r\n  [2]: https://github.com/spring-projects/spring-security/releases/tag/6.0.0\r\n  [3]: https://docs.spring.io/spring-security/reference/whats-new.html\r\n  [4]: https://github.com/spring-projects/spring-security/issues/11939","title":"Request Matcher not working to permit allowed path","body":"<p>As you suspected, issues can come out from the Spring Boot newest\nversion you use, which as it is in the pom is 3.0.1. As you can see\n<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Release-Notes\" rel=\"nofollow noreferrer\">here</a>,versions 3.0 and afterward, are based on the Spring framework 6.0. The Spring framework 6.0 also uses the <a href=\"https://github.com/spring-projects/spring-security/releases/tag/6.0.0\" rel=\"nofollow noreferrer\">Spring Security 6.0</a>,,\nwhere, antMatchers() (as well as other Matcher methods) are deprecated\nfor Spring security configurations. [See <a href=\"https://docs.spring.io/spring-security/reference/whats-new.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/spring-projects/spring-security/issues/11939\" rel=\"nofollow noreferrer\">here]</a>.</p>\n<p>Moreover, I suggest leaving out any URL path you wish to be accessible, such as &quot;/** &quot; or &quot;/resources/** &quot; and protect just the other path(s) of your api, which in your case should be the one defined in your controller &quot;/api/v1/students/** &quot;. You can do that in a similar way as the snippet below:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    \n    // http\n    //     .securityMatchers( (matchers) -&gt; matchers\n    //     .requestMatchers(&quot;/resources/**&quot;, &quot;/&quot;))\n    //     .authorizeHttpRequests((authorize) -&gt; authorize\n    //     .anyRequest().permitAll());\n\n        \n    http \n        .securityMatchers( (matchers) -&gt; matchers\n        .requestMatchers(&quot;/api/v1/students/**&quot;))\n        .authorizeHttpRequests((authorize) -&gt; authorize\n        .anyRequest().authenticated())\n        .httpBasic();\n    \n    return http.build();\n}\n</code></pre>\n"}],"owner":{"account_id":5084578,"reputation":399,"user_id":4079729,"display_name":"Altaf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75006428,"answer_count":2,"score":0,"last_activity_date":1672940296,"creation_date":1672793072,"question_id":74999967,"body_markdown":"I am following an older tutorial to implement Spring Security. Unfortunately, `antMatchers` is not recogzied as a method in my configuration class, so after doing some research, I believe `requestMatchers` method is its equivalent. However, the path (`/`) remains blocked without authentication. I would like to permit this.\r\n\r\nHere is my controller:\r\n\r\n```java\r\npackage com.quadri.springsecurity.controllers;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.quadri.springsecurity.models.Student;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api/v1/students&quot;)\r\npublic class StudentController {\r\n\r\n    private static final List&lt;Student&gt; STUDENTS = Arrays.asList(\r\n        new Student(1, &quot;James Bond&quot;),\r\n        new Student(2, &quot;Maria Jones&quot;),\r\n        new Student(3, &quot;Anna Smith&quot;)\r\n    );\r\n\r\n    @GetMapping(path = &quot;{studentId}&quot;)\r\n    public Student getStudent(@PathVariable(&quot;studentId&quot;) Integer studentId) {\r\n        return STUDENTS.stream()\r\n        .filter(student -&gt; studentId.equals(student.getStudentId()))\r\n        .findFirst()\r\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;Student &quot; + studentId + &quot; does not exist!&quot;));\r\n    }\r\n}\r\n```\r\n\r\nHere is my config file:\r\n\r\n```java\r\npackage com.quadri.springsecurity.security;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests()\r\n                .requestMatchers( &quot;resources/**&quot;, &quot;/&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n            .httpBasic();\r\n        \r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nIn my resources/static folder I have created a simple html page (`index.html`) displaying hello world. In the tutorial the `RequestMapping` wasn&#39;t changed, however they used `.antMatcher` in the config file which is not a recognized method in Spring Security at least the version I am using. Here is my POM for reference:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.quadri&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-security&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-security&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhat is the proper way to make sure the home or &quot;/&quot; URL is permitted?","title":"Request Matcher not working to permit allowed path","body":"<p>I am following an older tutorial to implement Spring Security. Unfortunately, <code>antMatchers</code> is not recogzied as a method in my configuration class, so after doing some research, I believe <code>requestMatchers</code> method is its equivalent. However, the path (<code>/</code>) remains blocked without authentication. I would like to permit this.</p>\n<p>Here is my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.quadri.springsecurity.controllers;\n\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.quadri.springsecurity.models.Student;\n\n@RestController\n@RequestMapping(&quot;api/v1/students&quot;)\npublic class StudentController {\n\n    private static final List&lt;Student&gt; STUDENTS = Arrays.asList(\n        new Student(1, &quot;James Bond&quot;),\n        new Student(2, &quot;Maria Jones&quot;),\n        new Student(3, &quot;Anna Smith&quot;)\n    );\n\n    @GetMapping(path = &quot;{studentId}&quot;)\n    public Student getStudent(@PathVariable(&quot;studentId&quot;) Integer studentId) {\n        return STUDENTS.stream()\n        .filter(student -&gt; studentId.equals(student.getStudentId()))\n        .findFirst()\n        .orElseThrow(() -&gt; new IllegalStateException(&quot;Student &quot; + studentId + &quot; does not exist!&quot;));\n    }\n}\n</code></pre>\n<p>Here is my config file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.quadri.springsecurity.security;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests()\n                .requestMatchers( &quot;resources/**&quot;, &quot;/&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .httpBasic();\n        \n        return http.build();\n    }\n}\n</code></pre>\n<p>In my resources/static folder I have created a simple html page (<code>index.html</code>) displaying hello world. In the tutorial the <code>RequestMapping</code> wasn't changed, however they used <code>.antMatcher</code> in the config file which is not a recognized method in Spring Security at least the version I am using. Here is my POM for reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.quadri&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-security&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>What is the proper way to make sure the home or &quot;/&quot; URL is permitted?</p>\n"},{"tags":["java","immutability","immutables-library"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1672940613,"post_id":75022279,"comment_id":132391643,"body_markdown":"They explicitly stated in their own documentation that &quot;When building using builders, the contents of collection attributes can be left unspecified&quot;. You need to ask _them_ why, not _us_.","body":"They explicitly stated in their own documentation that &quot;When building using builders, the contents of collection attributes can be left unspecified&quot;. You need to ask <i>them</i> why, not <i>us</i>."},{"owner":{"account_id":395504,"reputation":4064,"user_id":758494,"accept_rate":56,"display_name":"Isaac Kleinman"},"score":1,"creation_date":1672941628,"post_id":75022279,"comment_id":132391991,"body_markdown":"done: https://github.com/immutables/immutables/issues/1429","body":"done: <a href=\"https://github.com/immutables/immutables/issues/1429\" rel=\"nofollow noreferrer\">github.com/immutables/immutables/issues/1429</a>"}],"owner":{"account_id":395504,"reputation":4064,"user_id":758494,"accept_rate":56,"display_name":"Isaac Kleinman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672939995,"creation_date":1672939995,"question_id":75022279,"body_markdown":"I recently started using the [Immutables](https://immutables.github.io/) library, and I&#39;m puzzled by the following behavior: \r\n\r\nGiven the following abstract value type\r\n```\r\n@Value.Immutable\r\npublic abstract class Foo {\r\n    public abstract String bar();\r\n\r\n    public abstract List&lt;String&gt; baz();\r\n}\r\n```\r\n\r\nattempting to build an object like so\r\n```\r\nImmutableFoo.builder()\r\n    .baz(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\r\n    .build()\r\n```\r\nfails because \r\n&gt;some of required attributes are not set [bar]\r\n\r\nyet\r\n```\r\nImmutableFoo.builder()\r\n    .bar(&quot;1, 2, 3&quot;)\r\n    .build()\r\n```\r\nis fine, and there is no objection that `baz` has not been set.\r\n\r\nWhy do collection attributes receive different treatment?","title":"Immutables Library Does Not Require Collection Attributes To Be Set","body":"<p>I recently started using the <a href=\"https://immutables.github.io/\" rel=\"nofollow noreferrer\">Immutables</a> library, and I'm puzzled by the following behavior:</p>\n<p>Given the following abstract value type</p>\n<pre><code>@Value.Immutable\npublic abstract class Foo {\n    public abstract String bar();\n\n    public abstract List&lt;String&gt; baz();\n}\n</code></pre>\n<p>attempting to build an object like so</p>\n<pre><code>ImmutableFoo.builder()\n    .baz(List.of(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;))\n    .build()\n</code></pre>\n<p>fails because</p>\n<blockquote>\n<p>some of required attributes are not set [bar]</p>\n</blockquote>\n<p>yet</p>\n<pre><code>ImmutableFoo.builder()\n    .bar(&quot;1, 2, 3&quot;)\n    .build()\n</code></pre>\n<p>is fine, and there is no objection that <code>baz</code> has not been set.</p>\n<p>Why do collection attributes receive different treatment?</p>\n"},{"tags":["java","awt","delay","keypress","awtrobot"],"answers":[{"comments":[{"owner":{"account_id":1345710,"reputation":13,"user_id":1286521,"display_name":"Rylogy"},"score":0,"creation_date":1342655027,"post_id":11551631,"comment_id":15277617,"body_markdown":"I didn&#39;t even know I needed to release the key. Nice example by the way. Thank you so much!","body":"I didn&#39;t even know I needed to release the key. Nice example by the way. Thank you so much!"},{"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"score":0,"creation_date":1342655326,"post_id":11551631,"comment_id":15277677,"body_markdown":"I enjoyed coming up with a short example! :) No problem!","body":"I enjoyed coming up with a short example! :) No problem!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1342658349,"post_id":11551631,"comment_id":15278272,"body_markdown":"@Rylogy: if this answer helped you, consider up-voting it too as well as accepting it (as you&#39;ve already done).","body":"@Rylogy: if this answer helped you, consider up-voting it too as well as accepting it (as you&#39;ve already done)."},{"owner":{"account_id":1345710,"reputation":13,"user_id":1286521,"display_name":"Rylogy"},"score":0,"creation_date":1342659122,"post_id":11551631,"comment_id":15278419,"body_markdown":"I tried up-voting it as soon as I finished reading the answer, however, I&#39;m unable to because I need 15 reputation in order to up-vote his answer. Once I get some rep I&#39;ll come back and up-vote.","body":"I tried up-voting it as soon as I finished reading the answer, however, I&#39;m unable to because I need 15 reputation in order to up-vote his answer. Once I get some rep I&#39;ll come back and up-vote."}],"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1342654790,"creation_date":1342652666,"answer_id":11551631,"question_id":11551568,"body_markdown":"These are some possible problems you might have (I also added a &quot;full&quot; example below to do it):\r\n\r\n1. You are **only pressing keys**, you need to release the key too:\r\n\r\n        robot.keyPress(c);\r\n        robot.keyRelease(c);\r\n\r\n2. You could be running the robot in the EDT. *Use another thread to handle the key-presses...*\r\n\r\n3. Use the &quot;built-in&quot; [**auto delay**][1] feature that the `Robot` class already provides:\r\n\r\n        Robot robot = new Robot();\r\n        robot.setAutoDelay(50); // ms\r\n        ...\r\n\r\n-----\r\n\r\nExample:\r\n----\r\n\r\nThis is an example how you could implement this, every time you press `0`, it will print `&quot;hello&quot;` delaying each typed character using the auto-delay:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        \r\n        final BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;Integer&gt;(20);\r\n        \r\n        JTextArea area = new JTextArea(10, 40) {{\r\n            addKeyListener(new KeyAdapter() {\r\n                @Override public void keyPressed(KeyEvent e) {\r\n                    if (e.getKeyCode() == KeyEvent.VK_0) {\r\n                        queue.offer(KeyEvent.VK_H);\r\n                        queue.offer(KeyEvent.VK_E);\r\n                        queue.offer(KeyEvent.VK_L);\r\n                        queue.offer(KeyEvent.VK_L);\r\n                        queue.offer(KeyEvent.VK_O);\r\n                    }\r\n                }\r\n            });\r\n        }};\r\n        \r\n        JFrame frame = new JFrame(&quot;Test&quot;);\r\n        frame.add(area);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        \r\n        Robot robot = new Robot();\r\n        robot.setAutoDelay(50);\r\n        \r\n        while (true) {\r\n            final int c = queue.take();\r\n            robot.keyPress(c);\r\n            robot.keyRelease(c);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/awt/Robot.html#setAutoDelay%28int%29","title":"Delaying keyPress","body":"<p>These are some possible problems you might have (I also added a \"full\" example below to do it):</p>\n\n<ol>\n<li><p>You are <strong>only pressing keys</strong>, you need to release the key too:</p>\n\n<pre><code>robot.keyPress(c);\nrobot.keyRelease(c);\n</code></pre></li>\n<li><p>You could be running the robot in the EDT. <em>Use another thread to handle the key-presses...</em></p></li>\n<li><p>Use the \"built-in\" <a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Robot.html#setAutoDelay%28int%29\" rel=\"nofollow\"><strong>auto delay</strong></a> feature that the <code>Robot</code> class already provides:</p>\n\n<pre><code>Robot robot = new Robot();\nrobot.setAutoDelay(50); // ms\n...\n</code></pre></li>\n</ol>\n\n<hr>\n\n<h2>Example:</h2>\n\n<p>This is an example how you could implement this, every time you press <code>0</code>, it will print <code>\"hello\"</code> delaying each typed character using the auto-delay:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n\n    final BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;Integer&gt;(20);\n\n    JTextArea area = new JTextArea(10, 40) {{\n        addKeyListener(new KeyAdapter() {\n            @Override public void keyPressed(KeyEvent e) {\n                if (e.getKeyCode() == KeyEvent.VK_0) {\n                    queue.offer(KeyEvent.VK_H);\n                    queue.offer(KeyEvent.VK_E);\n                    queue.offer(KeyEvent.VK_L);\n                    queue.offer(KeyEvent.VK_L);\n                    queue.offer(KeyEvent.VK_O);\n                }\n            }\n        });\n    }};\n\n    JFrame frame = new JFrame(\"Test\");\n    frame.add(area);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.pack();\n    frame.setVisible(true);\n\n    Robot robot = new Robot();\n    robot.setAutoDelay(50);\n\n    while (true) {\n        final int c = queue.take();\n        robot.keyPress(c);\n        robot.keyRelease(c);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1345710,"reputation":13,"user_id":1286521,"display_name":"Rylogy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":11551631,"answer_count":1,"score":1,"last_activity_date":1672939878,"creation_date":1342652213,"question_id":11551568,"body_markdown":"I&#39;ve been searching around ways of being able to have a small delay between keypresses. I&#39;ve been making this program that reads global hotkeys using the JIntellitype library, and then fires whichever sequence of keypresses you assigned, such as pressing numpad1 will do a sequence of A B C. My issue is, that if I use Thread.sleep it just delays for X amount of time and then keypresses all the assigned keys without any delay in between any of the keypresses. Does anyone have a suggestion on how to fix this problem ?\r\n\r\nThis is what I&#39;m using to send keypresses with the Robot class\r\n\r\n    public void onHotKey(int identifier) {\r\n        try {\r\n            Robot bot = new Robot();\r\n            if (output.elementAt(identifier - 1).length() == 1) {\r\n                ch = output.elementAt(identifier - 1).charAt(0);\r\n                bot.keyPress(ch);\r\n            } else {\r\n                int cmdSize = output.elementAt(identifier - 1).length();\r\n                for (int c = 0; c &lt; cmdSize; c++) {\r\n                    bot.keyPress((int) output.elementAt(identifier - 1).charAt(c));\r\n                    try {\r\n                        Thread.sleep(50);\r\n                    } catch (InterruptedException ex) {\r\n                        Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            }\r\n        } catch (AWTException ex) {\r\n            Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }","title":"Delaying keyPress","body":"<p>I've been searching around ways of being able to have a small delay between keypresses. I've been making this program that reads global hotkeys using the JIntellitype library, and then fires whichever sequence of keypresses you assigned, such as pressing numpad1 will do a sequence of A B C. My issue is, that if I use Thread.sleep it just delays for X amount of time and then keypresses all the assigned keys without any delay in between any of the keypresses. Does anyone have a suggestion on how to fix this problem ?</p>\n<p>This is what I'm using to send keypresses with the Robot class</p>\n<pre><code>public void onHotKey(int identifier) {\n    try {\n        Robot bot = new Robot();\n        if (output.elementAt(identifier - 1).length() == 1) {\n            ch = output.elementAt(identifier - 1).charAt(0);\n            bot.keyPress(ch);\n        } else {\n            int cmdSize = output.elementAt(identifier - 1).length();\n            for (int c = 0; c &lt; cmdSize; c++) {\n                bot.keyPress((int) output.elementAt(identifier - 1).charAt(c));\n                try {\n                    Thread.sleep(50);\n                } catch (InterruptedException ex) {\n                    Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        }\n    } catch (AWTException ex) {\n        Logger.getLogger(NewJFrame.class.getName()).log(Level.SEVERE, null, ex);\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","netbeans","jradiobutton"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1400551413,"creation_date":1400551413,"answer_id":23749895,"question_id":23749880,"body_markdown":"No, you can&#39;t add an ActionListener, or even a ChangeListener, to a ButtonGroup, but it&#39;s trivially easy to add ActionListeners to JRadioButtons, and if you create them in a for loop, as is often done, then there&#39;s no need for duplicate code.\r\n\r\nA general unrelated and unrequested suggestion: you may wish to avoid using code-generation software while you are still learning the GUI libray. The code generation library can shield you from having to understand what the library is doing under the covers, thus slowing the rate of your understanding of the library.","title":"Generate actionPerformed event for a buttom group","body":"<p>No, you can't add an ActionListener, or even a ChangeListener, to a ButtonGroup, but it's trivially easy to add ActionListeners to JRadioButtons, and if you create them in a for loop, as is often done, then there's no need for duplicate code.</p>\n\n<p>A general unrelated and unrequested suggestion: you may wish to avoid using code-generation software while you are still learning the GUI libray. The code generation library can shield you from having to understand what the library is doing under the covers, thus slowing the rate of your understanding of the library.</p>\n"},{"tags":[],"owner":{"account_id":3183512,"reputation":2784,"user_id":3444376,"display_name":"Edwin Torres"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1400551546,"creation_date":1400551546,"answer_id":23749910,"question_id":23749880,"body_markdown":"Take a look at the Oracle tutorial on radio buttons. It&#39;s pretty straightforward and clean: http://docs.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton","title":"Generate actionPerformed event for a buttom group","body":"<p>Take a look at the Oracle tutorial on radio buttons. It's pretty straightforward and clean: <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/components/button.html#radiobutton</a></p>\n"}],"owner":{"account_id":4062480,"reputation":343,"user_id":3338629,"accept_rate":92,"display_name":"MauricioTL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23749895,"answer_count":2,"score":1,"last_activity_date":1672939660,"creation_date":1400551239,"question_id":23749880,"body_markdown":"Is it possible to Generate `actionPerformed` event for a `ButtonGroup` of radio buttons in Java 7?. I can not find this option in NetBeans. I&#39;m working with GUI Builder. Or any other form to develop this task?\r\n\r\nRight now I&#39;m repeating code in all radio buttons, but I&#39;m planning to add several of them and this approach would use to much code.","title":"Generate actionPerformed event for a buttom group","body":"<p>Is it possible to Generate <code>actionPerformed</code> event for a <code>ButtonGroup</code> of radio buttons in Java 7?. I can not find this option in NetBeans. I'm working with GUI Builder. Or any other form to develop this task?</p>\n<p>Right now I'm repeating code in all radio buttons, but I'm planning to add several of them and this approach would use to much code.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1672842433,"post_id":75006599,"comment_id":132364023,"body_markdown":"https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java , REF @Bastian Voigt his answer.","body":"<a href=\"https://stackoverflow.com/questions/11383898/how-to-create-a-x509-certificate-using-java\" title=\"how to create a x509 certificate using java\">stackoverflow.com/questions/11383898/&hellip;</a> , REF @Bastian Voigt his answer."},{"owner":{"account_id":2702365,"reputation":43,"user_id":2332829,"display_name":"cevin"},"score":0,"creation_date":1672843380,"post_id":75006599,"comment_id":132364376,"body_markdown":"@life888888 Sorry, I just started learning java. i see the code seems to just generate a certificate, and then? will this just generated certificate be automatically called by sslsocket during the handshake? Like go, I can intuitively understand that this is bound to the tls listener and can clearly see that the method will be called only during the handshake, java is generated elsewhere and then automatically called during the handshake?","body":"@life888888 Sorry, I just started learning java. i see the code seems to just generate a certificate, and then? will this just generated certificate be automatically called by sslsocket during the handshake? Like go, I can intuitively understand that this is bound to the tls listener and can clearly see that the method will be called only during the handshake, java is generated elsewhere and then automatically called during the handshake?"}],"owner":{"account_id":2702365,"reputation":43,"user_id":2332829,"display_name":"cevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672939317,"creation_date":1672841048,"question_id":75006599,"body_markdown":"like Go:\r\n\r\n```golang\r\nfunc main() {\r\nln, _ := net.Listen(&quot;tcp&quot;,&quot;:443&quot;)\r\nln = tls.NewListener(ln, &amp;tls.Config{\r\n    GetCertificate: func (info *clientHelloInfo) (Certificate, error) {\r\n        // from db or dynamic generate a certificate use &quot;info.ServerName&quot;\r\n        cert := generateX509Certificate(info.ServerName)\r\n        return cert, nil\r\n    }\r\n})\r\n}\r\n```\r\n\r\nIn Go I can implement that the first time a domain is accessed (or even a concurrent request) only one goroutine is responsible for generating the certificate, and then when that is done, all connections are immediately successful.\r\n\r\nNo idea. Since Spring is called through Netty, but don&#39;t know how to modify the Netty behavior of Spring.","title":"How to implement dynamic certificate generation in Java, similar to Golang&#39;s tls.Config.GetCertificate","body":"<p>like Go:</p>\n<pre class=\"lang-golang prettyprint-override\"><code>func main() {\nln, _ := net.Listen(&quot;tcp&quot;,&quot;:443&quot;)\nln = tls.NewListener(ln, &amp;tls.Config{\n    GetCertificate: func (info *clientHelloInfo) (Certificate, error) {\n        // from db or dynamic generate a certificate use &quot;info.ServerName&quot;\n        cert := generateX509Certificate(info.ServerName)\n        return cert, nil\n    }\n})\n}\n</code></pre>\n<p>In Go I can implement that the first time a domain is accessed (or even a concurrent request) only one goroutine is responsible for generating the certificate, and then when that is done, all connections are immediately successful.</p>\n<p>No idea. Since Spring is called through Netty, but don't know how to modify the Netty behavior of Spring.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":15579758,"reputation":187,"user_id":11239910,"display_name":"Žeka Koževin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672938073,"creation_date":1672938073,"answer_id":75021931,"question_id":75021640,"body_markdown":"1. Usually it is better to use 1 such a model per endpoint so they are independent. If you share models between endpoints [this][1] should be useful\r\n\r\n2. [This][2] may help\r\n\r\n\r\n  [1]: https://www.baeldung.com/jackson-json-view-annotation\r\n  [2]: https://stackoverflow.com/questions/20578846/ignore-missing-properties-during-jackson-json-deserialization-in-java","title":"Make one property in request body not required","body":"<ol>\n<li><p>Usually it is better to use 1 such a model per endpoint so they are independent. If you share models between endpoints <a href=\"https://www.baeldung.com/jackson-json-view-annotation\" rel=\"nofollow noreferrer\">this</a> should be useful</p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/questions/20578846/ignore-missing-properties-during-jackson-json-deserialization-in-java\">This</a> may help</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":16973751,"reputation":21,"user_id":12277666,"display_name":"Muhamad Kheder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672938129,"creation_date":1672938129,"answer_id":75021942,"question_id":75021640,"body_markdown":"You can use the `@JsonIgnoreProperties` annotation\r\n\r\nExample:\r\n\r\n    @JsonIgnoreProperties(value = {&quot;email&quot;})\r\n    public interface TestRequestView {\r\n      String getCountryCode();\r\n      String getRegionCode();\r\n    \r\n      @JsonProperty(required = false)\r\n      String getEmail();\r\n    }\r\n\r\n","title":"Make one property in request body not required","body":"<p>You can use the <code>@JsonIgnoreProperties</code> annotation</p>\n<p>Example:</p>\n<pre><code>@JsonIgnoreProperties(value = {&quot;email&quot;})\npublic interface TestRequestView {\n  String getCountryCode();\n  String getRegionCode();\n\n  @JsonProperty(required = false)\n  String getEmail();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15579758,"reputation":187,"user_id":11239910,"display_name":"Žeka Koževin"},"score":0,"creation_date":1672938211,"post_id":75021945,"comment_id":132390805,"body_markdown":"If i&#39;m not mistaken Jackson fails by default on undefined properties","body":"If i&#39;m not mistaken Jackson fails by default on undefined properties"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1672938418,"post_id":75021945,"comment_id":132390881,"body_markdown":"@ŽekaKoževin you are right. I updated the answer to use annotation @JsonInclude(Include.NON_NULL)","body":"@ŽekaKoževin you are right. I updated the answer to use annotation @JsonInclude(Include.NON_NULL)"},{"owner":{"account_id":1661788,"reputation":1025,"user_id":1529940,"accept_rate":100,"display_name":"bpawlowski"},"score":0,"creation_date":1672939620,"post_id":75021945,"comment_id":132391310,"body_markdown":"it&#39;s not the case @MichaelGantman - it will fail during deserialization, not serialization.","body":"it&#39;s not the case @MichaelGantman - it will fail during deserialization, not serialization."},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1672945927,"post_id":75021945,"comment_id":132393307,"body_markdown":"@bpawlowski no, it works both ways","body":"@bpawlowski no, it works both ways"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672938376,"creation_date":1672938145,"answer_id":75021945,"question_id":75021640,"body_markdown":"Add annotation `@JsonInclude(Include.NON_NULL)` at class level for your `TestRequestView`. When passing your param you can pass it without that value and in your controller it will be received with that param as null. You just need to make sure that your controller can handle such case","title":"Make one property in request body not required","body":"<p>Add annotation <code>@JsonInclude(Include.NON_NULL)</code> at class level for your <code>TestRequestView</code>. When passing your param you can pass it without that value and in your controller it will be received with that param as null. You just need to make sure that your controller can handle such case</p>\n"}],"owner":{"account_id":144187,"reputation":7338,"user_id":353046,"accept_rate":47,"display_name":"Mankind1023"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672939264,"creation_date":1672936592,"question_id":75021640,"body_markdown":"I have the following interface:\r\n\r\n    public interface TestRequestView {\r\n      String getCountryCode();\r\n      String getRegionCode();\r\n    }\r\n\r\nIt&#39;s used in several end points like so:\r\n\r\n    @PostMapping(&quot;/my/path/{id}&quot;)\r\n    public String test(@RequestBody TestRequestView request, @PathVariable String id) {\r\n     ...\r\n    } \r\n\r\nI would like to add a property to the TestRequestView that is only used in one new endpoint without breaking the rest, how can I mark that one property as ignorable? Something like:\r\n\r\n    public interface TestRequestView {\r\n      String getCountryCode();\r\n      String getRegionCode();\r\n      String getEmail(); // make this not required\r\n    }","title":"Make one property in request body not required","body":"<p>I have the following interface:</p>\n<pre><code>public interface TestRequestView {\n  String getCountryCode();\n  String getRegionCode();\n}\n</code></pre>\n<p>It's used in several end points like so:</p>\n<pre><code>@PostMapping(&quot;/my/path/{id}&quot;)\npublic String test(@RequestBody TestRequestView request, @PathVariable String id) {\n ...\n} \n</code></pre>\n<p>I would like to add a property to the TestRequestView that is only used in one new endpoint without breaking the rest, how can I mark that one property as ignorable? Something like:</p>\n<pre><code>public interface TestRequestView {\n  String getCountryCode();\n  String getRegionCode();\n  String getEmail(); // make this not required\n}\n</code></pre>\n"},{"tags":["java","for-loop","concatenation","pipe"],"comments":[{"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"score":0,"creation_date":1379922553,"post_id":18954070,"comment_id":27991960,"body_markdown":"transactionID.replaceFirst(&quot;[|]&quot;, &quot;&quot;);","body":"transactionID.replaceFirst(&quot;[|]&quot;, &quot;&quot;);"},{"owner":{"account_id":411534,"reputation":2703,"user_id":784043,"accept_rate":50,"display_name":"RokL"},"score":0,"creation_date":1379927558,"post_id":18954070,"comment_id":27994211,"body_markdown":"newuser, that is slow as hell.\nFastest solution is:\ntransactionID = transactionID.substring(1);","body":"newuser, that is slow as hell. Fastest solution is: transactionID = transactionID.substring(1);"}],"answers":[{"comments":[{"owner":{"account_id":2720760,"reputation":2190,"user_id":2347107,"accept_rate":79,"display_name":"agad"},"score":0,"creation_date":1379922586,"post_id":18954154,"comment_id":27991971,"body_markdown":"Or substring the result from index 1 ;-)","body":"Or substring the result from index 1 ;-)"},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1379922814,"post_id":18954154,"comment_id":27992063,"body_markdown":"@Mustafa Genc :) thanks, it helped me, will mark your answer as accepted in few mins of time","body":"@Mustafa Genc :) thanks, it helped me, will mark your answer as accepted in few mins of time"},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1379922947,"post_id":18954154,"comment_id":27992123,"body_markdown":"what is the difference between using `for each loop` and `Apache Commons Lang`, Please share if you don&#39;t mind","body":"what is the difference between using <code>for each loop</code> and <code>Apache Commons Lang</code>, Please share if you don&#39;t mind"},{"owner":{"account_id":1692259,"reputation":2579,"user_id":1554387,"accept_rate":57,"display_name":"Mustafa Gen&#231;"},"score":1,"creation_date":1379923720,"post_id":18954154,"comment_id":27992463,"body_markdown":"Actually commons lang almost does the same thing. It&#39;s null-safe. It removes probability of making errors for these simple jobs. If you wonder about the performance, just measure it.","body":"Actually commons lang almost does the same thing. It&#39;s null-safe. It removes probability of making errors for these simple jobs. If you wonder about the performance, just measure it."},{"owner":{"account_id":1044190,"reputation":2567,"user_id":1049527,"accept_rate":96,"display_name":"ZaoTaoBao"},"score":0,"creation_date":1379923786,"post_id":18954154,"comment_id":27992484,"body_markdown":"don&#39;t reinvent the wheel! do it?","body":"don&#39;t reinvent the wheel! do it?"}],"tags":[],"owner":{"account_id":1692259,"reputation":2579,"user_id":1554387,"accept_rate":57,"display_name":"Mustafa Gen&#231;"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1379922483,"creation_date":1379922483,"answer_id":18954154,"question_id":18954070,"body_markdown":"One of the best practice is using Apache Commons Lang:\r\n\r\n    String transactionID = StringUtils.join(transactionReferenceInfoList , &quot;|&quot;);\r\n\r\nOr you may just put an if clause inside loop.","title":"adding pipe to values in java","body":"<p>One of the best practice is using Apache Commons Lang:</p>\n\n<pre><code>String transactionID = StringUtils.join(transactionReferenceInfoList , \"|\");\n</code></pre>\n\n<p>Or you may just put an if clause inside loop.</p>\n"},{"tags":[],"owner":{"account_id":1834782,"reputation":1763,"user_id":1665377,"display_name":"maximede"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379922538,"creation_date":1379922538,"answer_id":18954169,"question_id":18954070,"body_markdown":"I would use StringUtils.join from Apache Commons\r\n\r\n    StringUtils.join(transactionReferenceInfoList,&#39;|&#39;);","title":"adding pipe to values in java","body":"<p>I would use StringUtils.join from Apache Commons</p>\n\n<pre><code>StringUtils.join(transactionReferenceInfoList,'|');\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"score":0,"creation_date":1379922832,"post_id":18954219,"comment_id":27992073,"body_markdown":"The condition will check every time. its needed or not","body":"The condition will check every time. its needed or not"},{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1379922878,"post_id":18954219,"comment_id":27992098,"body_markdown":"@R.S this is also one of the good one but I would prefer using `StringUtils.join from Apache Commons`. +1","body":"@R.S this is also one of the good one but I would prefer using <code>StringUtils.join from Apache Commons</code>. +1"},{"owner":{"account_id":1940458,"reputation":3068,"user_id":1746750,"display_name":"Rohan"},"score":0,"creation_date":1379923063,"post_id":18954219,"comment_id":27992182,"body_markdown":"@newuser Yes,this condition well get checked in each iteration.","body":"@newuser Yes,this condition well get checked in each iteration."},{"owner":{"account_id":2200636,"reputation":8366,"user_id":1945127,"accept_rate":57,"display_name":"newuser"},"score":0,"creation_date":1379923187,"post_id":18954219,"comment_id":27992243,"body_markdown":"If the list size is 1000 then this condition will check 1000 times. It need from the beginning only. Why at all those time","body":"If the list size is 1000 then this condition will check 1000 times. It need from the beginning only. Why at all those time"}],"tags":[],"owner":{"account_id":1940458,"reputation":3068,"user_id":1746750,"display_name":"Rohan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379922725,"creation_date":1379922725,"answer_id":18954219,"question_id":18954070,"body_markdown":"For first Iteration check if `transactionID` is null.\r\n\r\n    List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(&quot;0&quot;);\r\n    \r\n            for (String transactionRefNumber : transactionReferenceInfoList) {\r\n                if(transactionID==null)\r\n                      transactionID=transactionRefNumber;\r\n                transactionID = transactionID + &quot;|&quot;+transactionRefNumber;\r\n            }","title":"adding pipe to values in java","body":"<p>For first Iteration check if <code>transactionID</code> is null.</p>\n\n<pre><code>List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(\"0\");\n\n        for (String transactionRefNumber : transactionReferenceInfoList) {\n            if(transactionID==null)\n                  transactionID=transactionRefNumber;\n            transactionID = transactionID + \"|\"+transactionRefNumber;\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1379923111,"post_id":18954296,"comment_id":27992209,"body_markdown":"TaoBao, :) Thanks for your time... +1 for spending your time for me","body":"TaoBao, :) Thanks for your time... +1 for spending your time for me"}],"tags":[],"owner":{"account_id":1044190,"reputation":2567,"user_id":1049527,"accept_rate":96,"display_name":"ZaoTaoBao"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379922982,"creation_date":1379922982,"answer_id":18954296,"question_id":18954070,"body_markdown":"maybe is strange answer but for making different change loop:\r\n\r\n    List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(&quot;0&quot;);\r\n    \r\n            for (String transactionRefNumber : transactionReferenceInfoList) {\r\n                \r\n               transactionID+= transactionRefNumber+&quot;|&quot;;\r\n               \r\n            }\r\n\r\nand if you want delete the last &quot;|&quot;\r\n\r\nif i don&#39;t understand your answer, i hope apologize me.\r\n","title":"adding pipe to values in java","body":"<p>maybe is strange answer but for making different change loop:</p>\n\n<pre><code>List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(\"0\");\n\n        for (String transactionRefNumber : transactionReferenceInfoList) {\n\n           transactionID+= transactionRefNumber+\"|\";\n\n        }\n</code></pre>\n\n<p>and if you want delete the last \"|\"</p>\n\n<p>if i don't understand your answer, i hope apologize me.</p>\n"},{"comments":[{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1379923150,"post_id":18954304,"comment_id":27992234,"body_markdown":"@Suresh Thanks for your time... +1 for spending your time for me","body":"@Suresh Thanks for your time... +1 for spending your time for me"}],"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379923026,"creation_date":1379923026,"answer_id":18954304,"question_id":18954070,"body_markdown":"If you are sure that each time that `|` is there,\r\n\r\nWithout any `Utils`  `String` class alone do that job with help of  `subString` method\r\n\r\n\r\n    resultString = resultString.substring(1,resultString.length()); \r\n\r\nFor ex:\r\n\r\n    String resultString  = &quot;test&quot;;\r\n    resultString = resultString.substring(1,resultString.length());\r\n    System.out.println(resultString);  //gives &quot;est&quot;\r\n","title":"adding pipe to values in java","body":"<p>If you are sure that each time that <code>|</code> is there,</p>\n\n<p>Without any <code>Utils</code>  <code>String</code> class alone do that job with help of  <code>subString</code> method</p>\n\n<pre><code>resultString = resultString.substring(1,resultString.length()); \n</code></pre>\n\n<p>For ex:</p>\n\n<pre><code>String resultString  = \"test\";\nresultString = resultString.substring(1,resultString.length());\nSystem.out.println(resultString);  //gives \"est\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"score":0,"creation_date":1379923132,"post_id":18954307,"comment_id":27992224,"body_markdown":"Thanks for your time... +1 for spending your time for me","body":"Thanks for your time... +1 for spending your time for me"}],"tags":[],"owner":{"account_id":1467301,"reputation":2809,"user_id":1379803,"accept_rate":40,"display_name":"Ashish Jagtap"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672939167,"creation_date":1379923030,"answer_id":18954307,"question_id":18954070,"body_markdown":"    List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(&quot;0&quot;);\r\n    int i = 0;\r\n    for (String transactionRefNumber : transactionReferenceInfoList) {\r\n        if(i==0) {\r\n            transactionID = transactionID + transactionRefNumber;\r\n    \t} else {\r\n            transactionID = transactionID + &quot;|&quot;+transactionRefNumber;\r\n        }\r\n    \ti++;\r\n    }\r\n\r\nhope this will solve your problem...","title":"adding pipe to values in java","body":"<pre><code>List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(&quot;0&quot;);\nint i = 0;\nfor (String transactionRefNumber : transactionReferenceInfoList) {\n    if(i==0) {\n        transactionID = transactionID + transactionRefNumber;\n    } else {\n        transactionID = transactionID + &quot;|&quot;+transactionRefNumber;\n    }\n    i++;\n}\n</code></pre>\n<p>hope this will solve your problem...</p>\n"},{"comments":[{"owner":{"account_id":5883884,"reputation":931,"user_id":4632482,"display_name":"Peter Bruins"},"score":0,"creation_date":1672922319,"post_id":75017087,"comment_id":132384591,"body_markdown":"A good answer needs some explanation. Not only some code.","body":"A good answer needs some explanation. Not only some code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672922359,"post_id":75017087,"comment_id":132384609,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75017087/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11876764,"reputation":1,"user_id":8691599,"display_name":"Sandeep Kumar"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672914846,"creation_date":1672914846,"answer_id":75017087,"question_id":18954070,"body_markdown":"List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(&quot;0&quot;);\r\n\r\n        for (String transactionRefNumber : transactionReferenceInfoList) {\r\n            transactionID = transactionID + &quot;|&quot;+transactionRefNumber; //|XXX|XXX\r\n        }\r\n    var trasactionID_new =transactionID.substring(1);//XXX|XXX","title":"adding pipe to values in java","body":"<p>List transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(&quot;0&quot;);</p>\n<pre><code>    for (String transactionRefNumber : transactionReferenceInfoList) {\n        transactionID = transactionID + &quot;|&quot;+transactionRefNumber; //|XXX|XXX\n    }\nvar trasactionID_new =transactionID.substring(1);//XXX|XXX\n</code></pre>\n"}],"owner":{"account_id":1625887,"reputation":7853,"user_id":1501457,"accept_rate":87,"display_name":"Java Questions"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1985,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18954154,"answer_count":7,"score":1,"last_activity_date":1672939167,"creation_date":1379922191,"question_id":18954070,"body_markdown":"I have some values which I have to bring them as pipe`|` separated and I have done like this : \r\n\r\n    List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(&quot;0&quot;);\r\n    \t\t\r\n    \t\tfor (String transactionRefNumber : transactionReferenceInfoList) {\r\n    \t\t\ttransactionID = transactionID + &quot;|&quot;+transactionRefNumber;\r\n    \t\t}\r\n\r\nthis gives me what I want like the below : \r\n\r\n    |6503939|2298597|4786967|2855035|8999941|7331957|1829429|7148599\r\n\r\nbut it is having the `|` at the beginning of the value I want. how to I avoid this and is there any other best way to do this ?\r\n\r\nPlease suggest me if there is.\r\n\r\nthanks for your valuable time.","title":"adding pipe to values in java","body":"<p>I have some values which I have to bring them as pipe<code>|</code> separated and I have done like this : </p>\n\n<pre><code>List&lt;String&gt; transactionReferenceInfoList = paymentInfoDao.getTransactionRefNumberToVerify(\"0\");\n\n        for (String transactionRefNumber : transactionReferenceInfoList) {\n            transactionID = transactionID + \"|\"+transactionRefNumber;\n        }\n</code></pre>\n\n<p>this gives me what I want like the below : </p>\n\n<pre><code>|6503939|2298597|4786967|2855035|8999941|7331957|1829429|7148599\n</code></pre>\n\n<p>but it is having the <code>|</code> at the beginning of the value I want. how to I avoid this and is there any other best way to do this ?</p>\n\n<p>Please suggest me if there is.</p>\n\n<p>thanks for your valuable time.</p>\n"},{"tags":["javascript","java","string","split","ascii"],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1460625877,"creation_date":1460625877,"answer_id":36618853,"question_id":36618804,"body_markdown":"Either:\r\n\r\n* Use the `\\uXXXX` form to specify the symbol in the string literal:\r\n\r\n        str.split(&quot;\\u0007&quot;)\r\n\r\n* Convert a `char 7` to a String:\r\n\r\n        str.split(Character.toString((char) 7));\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;](http://ideone.com/Cor1xB)\r\n","title":"Split strings in JavaScript with special delimiter","body":"<p>Either:</p>\n\n<ul>\n<li><p>Use the <code>\\uXXXX</code> form to specify the symbol in the string literal:</p>\n\n<pre><code>str.split(\"\\u0007\")\n</code></pre></li>\n<li><p>Convert a <code>char 7</code> to a String:</p>\n\n<pre><code>str.split(Character.toString((char) 7));\n</code></pre></li>\n</ul>\n\n<p><a href=\"http://ideone.com/Cor1xB\" rel=\"nofollow\"><kbd>Ideone demo</kbd></a></p>\n"}],"owner":{"account_id":2185658,"reputation":377,"user_id":1934132,"accept_rate":59,"display_name":"shamika Dharmasiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2617,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36618853,"answer_count":1,"score":1,"last_activity_date":1672939155,"creation_date":1460625782,"question_id":36618804,"body_markdown":"I create a String in server side (with java) including special characters like (char)007 and I want to split the String with this delimiter in client side with JavaScript.&lt;br&gt;\r\nThe reason to use this character is, it can not be input from keyboard.&lt;br&gt;\r\nIs it possible to split a String in JavaScript with character like (char)007?\r\nHow to specify the character in this case ?","title":"Split strings in JavaScript with special delimiter","body":"<p>I create a String in server side (with java) including special characters like (char)007 and I want to split the String with this delimiter in client side with JavaScript.<br>\nThe reason to use this character is, it can not be input from keyboard.<br>\nIs it possible to split a String in JavaScript with character like (char)007?\nHow to specify the character in this case ?</p>\n"},{"tags":["java","jsf","jersey","hk2"],"comments":[{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1658288952,"post_id":73045251,"comment_id":129011816,"body_markdown":"I think a much easier approach might be to use Apache TomEE Plus 8.0.12, which is based on Tomcat 9 and has JSF already configured.","body":"I think a much easier approach might be to use Apache TomEE Plus 8.0.12, which is based on Tomcat 9 and has JSF already configured."},{"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"score":0,"creation_date":1658297069,"post_id":73045251,"comment_id":129013226,"body_markdown":"@JonathanS.Fisher sorry.. that is not an option for me. I need to make it work with Tomcat 9.","body":"@JonathanS.Fisher sorry.. that is not an option for me. I need to make it work with Tomcat 9."},{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":0,"creation_date":1658303029,"post_id":73045251,"comment_id":129015029,"body_markdown":"Maybe it would help if you have bean-discovery-mode=&quot;annotated&quot; in your beans.xml?","body":"Maybe it would help if you have bean-discovery-mode=&quot;annotated&quot; in your beans.xml?"},{"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"score":0,"creation_date":1658548740,"post_id":73045251,"comment_id":129084730,"body_markdown":"@jan.supol that did not work unfortunately. Have updated the question with the result of the suggested fix.","body":"@jan.supol that did not work unfortunately. Have updated the question with the result of the suggested fix."},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1658778087,"post_id":73045251,"comment_id":129131720,"body_markdown":"@Vicky, TomEE 8.0.12 **IS** Tomcat 9. It&#39;s an enhanced version of it","body":"@Vicky, TomEE 8.0.12 <b>IS</b> Tomcat 9. It&#39;s an enhanced version of it"},{"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"score":0,"creation_date":1659999458,"post_id":73045251,"comment_id":129424748,"body_markdown":"@JonathanS.Fisher sorry.. what I meant was TomEE is not an option. I need to make it work with Tomcat.","body":"@JonathanS.Fisher sorry.. what I meant was TomEE is not an option. I need to make it work with Tomcat."}],"owner":{"account_id":476363,"reputation":16869,"user_id":887235,"accept_rate":80,"display_name":"Vicky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672939011,"creation_date":1658282850,"question_id":73045251,"body_markdown":"I am trying to upgrade my JSF 1.1 project to JSF 2.3.9 and have implemented CDI on tomcat 9 following instructions from [Balus C Install CDI in Tomcat][1]\r\n\r\nSo I have valid dependencies, context.xml, beans.xml and listener added in web.xml as per instructions above.\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;org.apache.webbeans.servlet.WebBeansConfigurationListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\n    &lt;listener&gt;\r\n        &lt;listener-class&gt;com.sun.faces.config.ConfigureListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n\r\nMy gradle dependencies are:\r\n\r\n     api &#39;org.glassfish:javax.faces:2.3.9&#39;\r\n     implementation &#39;javax.enterprise:cdi-api:2.0&#39;\r\n     implementation &#39;org.apache.openwebbeans:openwebbeans-jsf:2.0.20&#39;\r\n     implementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n\r\nI also have pre-existing Jersey rest endpoints in my Project. The dependencies for that are:\r\n\r\n    implementation &quot;org.glassfish.jersey.core:jersey-server:${jerseyVersion}&quot;\r\n    implementation &quot;org.glassfish.jersey.core:jersey-common:${jerseyVersion}&quot;\r\n    implementation &quot;org.glassfish.jersey.inject:jersey-hk2:${jerseyVersion}&quot;\r\n    api &quot;org.glassfish.jersey.containers:jersey-container-servlet:${jerseyVersion}&quot;\r\n    api &quot;org.glassfish.jersey.media:jersey-media-multipart:${jerseyVersion}&quot;\r\n    api &quot;org.glassfish.hk2:hk2-api:2.6.1&quot;\r\n\r\nwhere my jerseyVersion is 2.36.\r\n\r\nThe project compiles correctly. But on starting tomcat, I get the following error:\r\n\r\n    July 20, 2022 9:28:01 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Exception sending context initialized event to listener instance of class [org.apache.webbeans.servlet.WebBeansConfigurationListener]\r\n\r\n    org.apache.webbeans.exception.WebBeansDeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Api type [org.glassfish.hk2.api.ServiceLocator] is not found with the qualifiers \r\n    Qualifiers: [@javax.enterprise.inject.Default()]\r\n    for injection into Constructor Injection Point, constructor name :  org.glassfish.hk2.utilities.GreedyResolver, Bean Owner : [GreedyResolver, WebBeansType:MANAGED, Name:null, API Types:[org.glassfish.hk2.api.JustInTimeInjectionResolver,java.lang.Object,org.glassfish.hk2.utilities.GreedyResolver], Qualifiers:[javax.enterprise.inject.Default,javax.enterprise.inject.Any]]\r\n\tat org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:344)\r\n\tat org.apache.webbeans.lifecycle.AbstractLifeCycle.bootstrapApplication(AbstractLifeCycle.java:137)\r\n\tat org.apache.webbeans.lifecycle.AbstractLifeCycle.startApplication(AbstractLifeCycle.java:103)\r\n\tat org.apache.webbeans.web.lifecycle.WebContainerLifecycle.startApplication(WebContainerLifecycle.java:99)\r\n\r\nAm not a CDI JSF expert, but I assume this is CDI trying to scan all the managed beans on load and failing. Everytime I start tomcat, the error changes to the same error getting thrown for some other class from Jersey/HK2 dependencies.\r\n\r\nWhy is this happening? What is the solution for this? Can someone please guide me to a possible way to handle/resolve/correct this.\r\n\r\nI also get below error later in the stack trace:\r\n\r\n    java.lang.RuntimeException: java.lang.IllegalStateException: It&#39;s not allowed to call getReference(Bean, Type, CreationalContext) before AfterDeploymentValidation\r\n\tat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:315)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n\r\nBut I think that&#39;s just my second listener (com.sun.faces.config.ConfigureListener) failing because the CDI did not complete successfully. And I assume this error will go away once I make CDI to behave correctly. Though please let me know if that is not the case. And would appreciate some guidance for this error as well.\r\n\r\nThanks!\r\n\r\n**Update**\r\n\r\nAfter updating bean-discovery-mode to annotated, I am still getting the same error:\r\n\r\n    July 23, 2022 11:52:05 AM \r\n\r\n    org.apache.webbeans.servlet.WebBeansConfigurationListener doStart\r\n    SEVERE: An error occurred while starting application context path : [/MyApp]\r\n    \r\n    July 23, 2022 11:52:05 AM org.apache.catalina.core.StandardContext listenerStart\r\n    SEVERE: Exception sending context initialized event to listener instance of class [org.apache.webbeans.servlet.WebBeansConfigurationListener]\r\n    \r\n    org.apache.webbeans.exception.WebBeansDeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Api type [org.glassfish.hk2.api.ServiceLocator] is not found with the qualifiers \r\n    Qualifiers: [@javax.enterprise.inject.Default()]\r\n    for injection into Constructor Injection Point, constructor name :  org.jvnet.hk2.internal.DynamicConfigurationServiceImpl, Bean Owner : [DynamicConfigurationServiceImpl, WebBeansType:MANAGED, Name:null, API Types:[org.glassfish.hk2.api.DynamicConfigurationService,java.lang.Object,org.jvnet.hk2.internal.DynamicConfigurationServiceImpl], Qualifiers:[javax.enterprise.inject.Default,javax.enterprise.inject.Any]]\r\n    \tat org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:344)\r\n    \tat org.apache.webbeans.lifecycle.AbstractLifeCycle.bootstrapApplication(AbstractLifeCycle.java:137)\r\n    \tat org.apache.webbeans.lifecycle.AbstractLifeCycle.startApplication(AbstractLifeCycle.java:103)\r\n    \tat org.apache.webbeans.web.lifecycle.WebContainerLifecycle.startApplication(WebContainerLifecycle.java:99)\r\n    \tat org.apache.webbeans.servlet.WebBeansConfigurationListener.doStart(WebBeansConfigurationListener.java:197)\r\n    \tat org.apache.webbeans.servlet.WebBeansConfigurationListener.contextInitialized(WebBeansConfigurationListener.java:86)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n    \tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n    \tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\r\n\r\n  [1]: https://balusc.omnifaces.org/2013/10/how-to-install-cdi-in-tomcat.html#:~:text=If%20you%20intend%20to%20use,the%20ZIP%20and%20unzip%20it.\r\n","title":"OpenWebBeans CDI scanning Jersey and HK2 dependencies and throwing error","body":"<p>I am trying to upgrade my JSF 1.1 project to JSF 2.3.9 and have implemented CDI on tomcat 9 following instructions from <a href=\"https://balusc.omnifaces.org/2013/10/how-to-install-cdi-in-tomcat.html#:%7E:text=If%20you%20intend%20to%20use,the%20ZIP%20and%20unzip%20it.\" rel=\"nofollow noreferrer\">Balus C Install CDI in Tomcat</a></p>\n<p>So I have valid dependencies, context.xml, beans.xml and listener added in web.xml as per instructions above.</p>\n<pre><code>&lt;listener&gt;\n    &lt;listener-class&gt;org.apache.webbeans.servlet.WebBeansConfigurationListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;listener&gt;\n    &lt;listener-class&gt;com.sun.faces.config.ConfigureListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n</code></pre>\n<p>My gradle dependencies are:</p>\n<pre><code> api 'org.glassfish:javax.faces:2.3.9'\n implementation 'javax.enterprise:cdi-api:2.0'\n implementation 'org.apache.openwebbeans:openwebbeans-jsf:2.0.20'\n implementation 'javax.validation:validation-api:2.0.1.Final'\n</code></pre>\n<p>I also have pre-existing Jersey rest endpoints in my Project. The dependencies for that are:</p>\n<pre><code>implementation &quot;org.glassfish.jersey.core:jersey-server:${jerseyVersion}&quot;\nimplementation &quot;org.glassfish.jersey.core:jersey-common:${jerseyVersion}&quot;\nimplementation &quot;org.glassfish.jersey.inject:jersey-hk2:${jerseyVersion}&quot;\napi &quot;org.glassfish.jersey.containers:jersey-container-servlet:${jerseyVersion}&quot;\napi &quot;org.glassfish.jersey.media:jersey-media-multipart:${jerseyVersion}&quot;\napi &quot;org.glassfish.hk2:hk2-api:2.6.1&quot;\n</code></pre>\n<p>where my jerseyVersion is 2.36.</p>\n<p>The project compiles correctly. But on starting tomcat, I get the following error:</p>\n<pre><code>July 20, 2022 9:28:01 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class [org.apache.webbeans.servlet.WebBeansConfigurationListener]\n\norg.apache.webbeans.exception.WebBeansDeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Api type [org.glassfish.hk2.api.ServiceLocator] is not found with the qualifiers \nQualifiers: [@javax.enterprise.inject.Default()]\nfor injection into Constructor Injection Point, constructor name :  org.glassfish.hk2.utilities.GreedyResolver, Bean Owner : [GreedyResolver, WebBeansType:MANAGED, Name:null, API Types:[org.glassfish.hk2.api.JustInTimeInjectionResolver,java.lang.Object,org.glassfish.hk2.utilities.GreedyResolver], Qualifiers:[javax.enterprise.inject.Default,javax.enterprise.inject.Any]]\nat org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:344)\nat org.apache.webbeans.lifecycle.AbstractLifeCycle.bootstrapApplication(AbstractLifeCycle.java:137)\nat org.apache.webbeans.lifecycle.AbstractLifeCycle.startApplication(AbstractLifeCycle.java:103)\nat org.apache.webbeans.web.lifecycle.WebContainerLifecycle.startApplication(WebContainerLifecycle.java:99)\n</code></pre>\n<p>Am not a CDI JSF expert, but I assume this is CDI trying to scan all the managed beans on load and failing. Everytime I start tomcat, the error changes to the same error getting thrown for some other class from Jersey/HK2 dependencies.</p>\n<p>Why is this happening? What is the solution for this? Can someone please guide me to a possible way to handle/resolve/correct this.</p>\n<p>I also get below error later in the stack trace:</p>\n<pre><code>java.lang.RuntimeException: java.lang.IllegalStateException: It's not allowed to call getReference(Bean, Type, CreationalContext) before AfterDeploymentValidation\nat com.sun.faces.config.ConfigureListener.contextInitialized(ConfigureListener.java:315)\nat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n</code></pre>\n<p>But I think that's just my second listener (com.sun.faces.config.ConfigureListener) failing because the CDI did not complete successfully. And I assume this error will go away once I make CDI to behave correctly. Though please let me know if that is not the case. And would appreciate some guidance for this error as well.</p>\n<p>Thanks!</p>\n<p><strong>Update</strong></p>\n<p>After updating bean-discovery-mode to annotated, I am still getting the same error:</p>\n<pre><code>July 23, 2022 11:52:05 AM \n\norg.apache.webbeans.servlet.WebBeansConfigurationListener doStart\nSEVERE: An error occurred while starting application context path : [/MyApp]\n\nJuly 23, 2022 11:52:05 AM org.apache.catalina.core.StandardContext listenerStart\nSEVERE: Exception sending context initialized event to listener instance of class [org.apache.webbeans.servlet.WebBeansConfigurationListener]\n\norg.apache.webbeans.exception.WebBeansDeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Api type [org.glassfish.hk2.api.ServiceLocator] is not found with the qualifiers \nQualifiers: [@javax.enterprise.inject.Default()]\nfor injection into Constructor Injection Point, constructor name :  org.jvnet.hk2.internal.DynamicConfigurationServiceImpl, Bean Owner : [DynamicConfigurationServiceImpl, WebBeansType:MANAGED, Name:null, API Types:[org.glassfish.hk2.api.DynamicConfigurationService,java.lang.Object,org.jvnet.hk2.internal.DynamicConfigurationServiceImpl], Qualifiers:[javax.enterprise.inject.Default,javax.enterprise.inject.Any]]\n    at org.apache.webbeans.config.BeansDeployer.deploy(BeansDeployer.java:344)\n    at org.apache.webbeans.lifecycle.AbstractLifeCycle.bootstrapApplication(AbstractLifeCycle.java:137)\n    at org.apache.webbeans.lifecycle.AbstractLifeCycle.startApplication(AbstractLifeCycle.java:103)\n    at org.apache.webbeans.web.lifecycle.WebContainerLifecycle.startApplication(WebContainerLifecycle.java:99)\n    at org.apache.webbeans.servlet.WebBeansConfigurationListener.doStart(WebBeansConfigurationListener.java:197)\n    at org.apache.webbeans.servlet.WebBeansConfigurationListener.contextInitialized(WebBeansConfigurationListener.java:86)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4768)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:726)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:698)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n    at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1783)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n    at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:814)\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":15365778,"reputation":62,"user_id":11085357,"display_name":"Coding"},"score":0,"creation_date":1672920099,"post_id":75018042,"comment_id":132383884,"body_markdown":"I have tried spring.jpa.open-in-view=true but no help","body":"I have tried spring.jpa.open-in-view=true but no help"},{"owner":{"account_id":15365778,"reputation":62,"user_id":11085357,"display_name":"Coding"},"score":0,"creation_date":1672920267,"post_id":75018042,"comment_id":132383945,"body_markdown":"@ManyToOne(fetch = FetchType.EAGER)\nprivate Region parent;\nwill fix the problem, but some other scenarios I just want to get the region itself not its parent, this will still query the parent and waste performance","body":"@ManyToOne(fetch = FetchType.EAGER) private Region parent; will fix the problem, but some other scenarios I just want to get the region itself not its parent, this will still query the parent and waste performance"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672920773,"post_id":75018042,"comment_id":132384099,"body_markdown":"what is a package name of `@Transactional` annotation over `getRegions` method?","body":"what is a package name of <code>@Transactional</code> annotation over <code>getRegions</code> method?"},{"owner":{"account_id":15365778,"reputation":62,"user_id":11085357,"display_name":"Coding"},"score":0,"creation_date":1672928530,"post_id":75018042,"comment_id":132386961,"body_markdown":"org.springframework.transaction.annotation @Andrey B. Panfilov","body":"org.springframework.transaction.annotation @Andrey B. Panfilov"},{"owner":{"account_id":13979585,"reputation":211,"user_id":10096086,"display_name":"Abraham Ciokler"},"score":0,"creation_date":1673380107,"post_id":75018042,"comment_id":132484524,"body_markdown":"You accepted an answer that fetches eagerly and in your question you specifically asked for a solution that doesn&#39;t. If you want to fetch eagerly then you need to update your post to say you actually want to fetch eagerly. This is very confusing.","body":"You accepted an answer that fetches eagerly and in your question you specifically asked for a solution that doesn&#39;t. If you want to fetch eagerly then you need to update your post to say you actually want to fetch eagerly. This is very confusing."}],"answers":[{"comments":[{"owner":{"account_id":15365778,"reputation":62,"user_id":11085357,"display_name":"Coding"},"score":0,"creation_date":1672979107,"post_id":75021547,"comment_id":132399807,"body_markdown":"The Jackson annotations article is awesome","body":"The Jackson annotations article is awesome"}],"tags":[],"owner":{"account_id":13979585,"reputation":211,"user_id":10096086,"display_name":"Abraham Ciokler"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672936156,"creation_date":1672936156,"answer_id":75021547,"question_id":75018042,"body_markdown":"I think the issue in your code is that you are trying to return a separate object `RegionVO` with all the fields already fetched and flattened at the controller level, but still want the benefits of lazy fetching (deferring fetching to the serialization phase).\r\n\r\nYou need to rethink of what is the information you really need to return first and control the serialization of it. You can use Jackson annotations for this: https://www.baeldung.com/jackson-annotations\r\n\r\n* If you need the `Region` information and its direct parent (no grand parents), try using `@JsonSerialize` to control how the parents get fetched/serialized. This would be useful to avoid fetching circular references or too many levels of parents.\r\n* If you don&#39;t need the parent at all use `@JsonView` to remove the property from getting serialized.\r\n\r\nOne you figure this out then return `List&lt;Region&gt;` instead of `List&lt;RegionVO&gt;` and keep the lazy initialization.","title":"Spring Data JPA return VO list threw LazyInitializationException","body":"<p>I think the issue in your code is that you are trying to return a separate object <code>RegionVO</code> with all the fields already fetched and flattened at the controller level, but still want the benefits of lazy fetching (deferring fetching to the serialization phase).</p>\n<p>You need to rethink of what is the information you really need to return first and control the serialization of it. You can use Jackson annotations for this: <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-annotations</a></p>\n<ul>\n<li>If you need the <code>Region</code> information and its direct parent (no grand parents), try using <code>@JsonSerialize</code> to control how the parents get fetched/serialized. This would be useful to avoid fetching circular references or too many levels of parents.</li>\n<li>If you don't need the parent at all use <code>@JsonView</code> to remove the property from getting serialized.</li>\n</ul>\n<p>One you figure this out then return <code>List&lt;Region&gt;</code> instead of <code>List&lt;RegionVO&gt;</code> and keep the lazy initialization.</p>\n"},{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672938993,"creation_date":1672937195,"answer_id":75021759,"question_id":75018042,"body_markdown":"I suggest you override the `findAll` method in `RegionRepository` and annotate it with [`@EntityGraph`][1] to configure the fetch plan of the resulting query, as shown below:\r\n```java\r\npublic interface RegionRepository extends JpaRepository&lt;Region, String&gt;, JpaSpecificationExecutor&lt;Region&gt; {\r\n   @Override\r\n   @EntityGraph(attributePaths = {&quot;children&quot;, &quot;parent&quot;})\r\n   Page&lt;Region&gt; findAll(Specification&lt;Region&gt; spec, Pageable pageable);\r\n}\r\n```\r\nBy providing `attributePaths`, fields that should be fetched eagerly are defined.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph","title":"Spring Data JPA return VO list threw LazyInitializationException","body":"<p>I suggest you override the <code>findAll</code> method in <code>RegionRepository</code> and annotate it with <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph\" rel=\"nofollow noreferrer\"><code>@EntityGraph</code></a> to configure the fetch plan of the resulting query, as shown below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface RegionRepository extends JpaRepository&lt;Region, String&gt;, JpaSpecificationExecutor&lt;Region&gt; {\n   @Override\n   @EntityGraph(attributePaths = {&quot;children&quot;, &quot;parent&quot;})\n   Page&lt;Region&gt; findAll(Specification&lt;Region&gt; spec, Pageable pageable);\n}\n</code></pre>\n<p>By providing <code>attributePaths</code>, fields that should be fetched eagerly are defined.</p>\n"}],"owner":{"account_id":15365778,"reputation":62,"user_id":11085357,"display_name":"Coding"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75021759,"answer_count":2,"score":-1,"last_activity_date":1672938993,"creation_date":1672919923,"question_id":75018042,"body_markdown":"I have a Region Entity like this\r\n```\r\n@Entity\r\nclass Region {\r\n   private Long id;\r\n   private String name;\r\n   private String type;\r\n   private String state;\r\n   @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;Region&gt; children;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;, foreignKey =   @ForeignKey(ConstraintMode.NO_CONSTRAINT))\r\n    private Region parent;\r\n\r\n   // some other fields are ignore\r\n}\r\n```\r\nand the repository like this, because I need to provide some field to search (maybe null) for the frontend, so I extends  the JpaSpecificationExecutor\r\n\r\n```\r\npublic interface RegionRepository extends JpaRepository&lt;Region, String&gt;, JpaSpecificationExecutor&lt;Region&gt; {}\r\n```\r\n\r\nCause the region has lots records, so I need it pageable and sortable. \r\nI define a RegionVO like this\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class RegionVO {\r\n   private Long id;\r\n   private String name;\r\n   private Long parentId;\r\n   private Long parentName;\r\n   private String type;\r\n   private String state;\r\n   \r\n   public RegionVO(Region region) {\r\n        id = region.getId();\r\n        name = region.getName();\r\n        parentId = region.getParent().getId(); // this line will throw LazyInitializationException\r\n        parentName = region.getParent().getName(); // this line will throw LazyInitializationException\r\n    }\r\n}\r\n```\r\nI want the return result look like RegionVO List and with the page,sort info. In the service class I wrote the search method like below (Some classes eg Sorter,PageResult are defined by myself and have no effect on this problem)\r\n\r\n```\r\nprivate Specification&lt;Region&gt; createSpecification(String name, String type, String parentName, String  state) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n            List&lt;Predicate&gt; ps = new ArrayList&lt;&gt;();\r\n            if (StringUtils.hasText(name)) {\r\n                ps.add(criteriaBuilder.like(root.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;));\r\n            }\r\n            if (type != null) {\r\n                ps.add(criteriaBuilder.equal(root.get(&quot;type&quot;), type));\r\n            }\r\n\r\n            if (StringUtils.hasText(parentName)) {\r\n                ps.add(criteriaBuilder.like(root.join(&quot;parent&quot;).get(&quot;name&quot;), &quot;%&quot; + parentName + &quot;%&quot;));\r\n            }\r\n\r\n            if (state != null) {\r\n                ps.add(criteriaBuilder.equal(root.get(&quot;state&quot;), state));\r\n            }\r\n            int size = ps.size();\r\n            return query.where(ps.toArray(new Predicate[size])).getRestriction();\r\n        };\r\n    }\r\n\r\n@Transactional(rollbackFor = Exception.class)\r\n    public ResponseEntity&lt;RestResult&gt; getRegions(RegionQueryRequest request, int pageNum, int pageSize) {\r\n        pageSize = Math.min(pageSize, PAGE_MAX_SIZE);\r\n        pageNum = pageNum - 1;\r\n        Pageable pageable = PageRequest.of(pageNum, pageSize);\r\n        Specification&lt;Region&gt; regionSpecification = createSpecification(null, null, null, null);\r\n        List&lt;Sorter&gt; sorters = new ArrayList&lt;&gt;();\r\n        if (request != null) {\r\n            sorters = request.getSort();\r\n            Sort sort = Sort.unsorted();\r\n            for (Sorter s : sorters) {\r\n                sort = sort.and(Sort.by(s.getDirection(), s.getField()));\r\n            }\r\n            pageable = PageRequest.of(pageNum, pageSize, sort);\r\n            regionSpecification = createSpecification(request.getName(), request.getType(), request.getParentName(), request.getState());\r\n        }\r\n        Page&lt;Region&gt; regions = regionRepository.findAll(regionSpecification, pageable);\r\n        regions.getContent().get(0).getParent().getName(); // this line will throw LazyInitializationException\r\n        List&lt;RegionVO&gt; voList = regions.getContent().stream().map(RegionVO::new).toList(); // this line will throw LazyInitializationException\r\n        PageResult data = new PageResult(voList, regions, sorters);\r\n        return ResponseEntity.ok(RestResult.success(&quot;success&quot;, data));\r\n    }\r\n```\r\n\r\nI have comment the code which will throw LazyInitializationException\r\n\r\nHow can I fix this issue? In the Region Entity, I use the LAZY fectch, I don&#39;t want it to be EAGER because the performance problem.\r\n\r\n\r\n\r\n\r\n\r\n\r\nbecause the RegionVO is not a Entity, so I can&#39;t define a repository like RegionVORepository.","title":"Spring Data JPA return VO list threw LazyInitializationException","body":"<p>I have a Region Entity like this</p>\n<pre><code>@Entity\nclass Region {\n   private Long id;\n   private String name;\n   private String type;\n   private String state;\n   @JsonIgnore\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY)\n    private List&lt;Region&gt; children;\n\n    @JsonIgnore\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, referencedColumnName = &quot;id&quot;, foreignKey =   @ForeignKey(ConstraintMode.NO_CONSTRAINT))\n    private Region parent;\n\n   // some other fields are ignore\n}\n</code></pre>\n<p>and the repository like this, because I need to provide some field to search (maybe null) for the frontend, so I extends  the JpaSpecificationExecutor</p>\n<pre><code>public interface RegionRepository extends JpaRepository&lt;Region, String&gt;, JpaSpecificationExecutor&lt;Region&gt; {}\n</code></pre>\n<p>Cause the region has lots records, so I need it pageable and sortable.\nI define a RegionVO like this</p>\n<pre><code>@Getter\n@Setter\n@ToString\n@AllArgsConstructor\n@NoArgsConstructor\npublic class RegionVO {\n   private Long id;\n   private String name;\n   private Long parentId;\n   private Long parentName;\n   private String type;\n   private String state;\n   \n   public RegionVO(Region region) {\n        id = region.getId();\n        name = region.getName();\n        parentId = region.getParent().getId(); // this line will throw LazyInitializationException\n        parentName = region.getParent().getName(); // this line will throw LazyInitializationException\n    }\n}\n</code></pre>\n<p>I want the return result look like RegionVO List and with the page,sort info. In the service class I wrote the search method like below (Some classes eg Sorter,PageResult are defined by myself and have no effect on this problem)</p>\n<pre><code>private Specification&lt;Region&gt; createSpecification(String name, String type, String parentName, String  state) {\n        return (root, query, criteriaBuilder) -&gt; {\n            List&lt;Predicate&gt; ps = new ArrayList&lt;&gt;();\n            if (StringUtils.hasText(name)) {\n                ps.add(criteriaBuilder.like(root.get(&quot;name&quot;), &quot;%&quot; + name + &quot;%&quot;));\n            }\n            if (type != null) {\n                ps.add(criteriaBuilder.equal(root.get(&quot;type&quot;), type));\n            }\n\n            if (StringUtils.hasText(parentName)) {\n                ps.add(criteriaBuilder.like(root.join(&quot;parent&quot;).get(&quot;name&quot;), &quot;%&quot; + parentName + &quot;%&quot;));\n            }\n\n            if (state != null) {\n                ps.add(criteriaBuilder.equal(root.get(&quot;state&quot;), state));\n            }\n            int size = ps.size();\n            return query.where(ps.toArray(new Predicate[size])).getRestriction();\n        };\n    }\n\n@Transactional(rollbackFor = Exception.class)\n    public ResponseEntity&lt;RestResult&gt; getRegions(RegionQueryRequest request, int pageNum, int pageSize) {\n        pageSize = Math.min(pageSize, PAGE_MAX_SIZE);\n        pageNum = pageNum - 1;\n        Pageable pageable = PageRequest.of(pageNum, pageSize);\n        Specification&lt;Region&gt; regionSpecification = createSpecification(null, null, null, null);\n        List&lt;Sorter&gt; sorters = new ArrayList&lt;&gt;();\n        if (request != null) {\n            sorters = request.getSort();\n            Sort sort = Sort.unsorted();\n            for (Sorter s : sorters) {\n                sort = sort.and(Sort.by(s.getDirection(), s.getField()));\n            }\n            pageable = PageRequest.of(pageNum, pageSize, sort);\n            regionSpecification = createSpecification(request.getName(), request.getType(), request.getParentName(), request.getState());\n        }\n        Page&lt;Region&gt; regions = regionRepository.findAll(regionSpecification, pageable);\n        regions.getContent().get(0).getParent().getName(); // this line will throw LazyInitializationException\n        List&lt;RegionVO&gt; voList = regions.getContent().stream().map(RegionVO::new).toList(); // this line will throw LazyInitializationException\n        PageResult data = new PageResult(voList, regions, sorters);\n        return ResponseEntity.ok(RestResult.success(&quot;success&quot;, data));\n    }\n</code></pre>\n<p>I have comment the code which will throw LazyInitializationException</p>\n<p>How can I fix this issue? In the Region Entity, I use the LAZY fectch, I don't want it to be EAGER because the performance problem.</p>\n<p>because the RegionVO is not a Entity, so I can't define a repository like RegionVORepository.</p>\n"},{"tags":["java","eclipse","junit","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1672937888,"post_id":75021780,"comment_id":132390695,"body_markdown":"Can you include the actual step definitions?","body":"Can you include the actual step definitions?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1672939368,"post_id":75021780,"comment_id":132391224,"body_markdown":"Don&#39;t see anything obviously wrong. You should remove the pending exceptions.","body":"Don&#39;t see anything obviously wrong. You should remove the pending exceptions."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1672939406,"post_id":75021780,"comment_id":132391236,"body_markdown":"Also, you can try this project with a single passing and two undefined steps https://github.com/cucumber/cucumber-java-skeleton","body":"Also, you can try this project with a single passing and two undefined steps <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a>"}],"owner":{"account_id":13386609,"reputation":3,"user_id":9660287,"display_name":"Noctis Ren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672938728,"creation_date":1672937305,"question_id":75021780,"body_markdown":"Been trying to learn/perform some automated testing using Selenium + JUnit + Cucumber and I&#39;ve spent hours browsing through the internet trying to resolve this with no success. I&#39;ve written my feature, steps and runner code and the &#39;glue&#39; is mapped to the correct package too. However, I run into the topic error when I try to run my Runner.java file. \r\n\r\n[Project Structure][1]\r\n\r\n\r\nFeature file:\r\n\r\n    Feature: Admin login\r\n    \r\n    Scenario: Logging into Fleet Portal\r\n    \tGiven user navigates to Fleet Portal\r\n    \tWhen enter credentials\r\n    \tThen user had logged\r\nRunner file:\r\n\r\n    package Runner;\r\n    \r\n    import org.junit.runner.RunWith;\r\n    import io.cucumber.junit.*;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n    \t\tfeatures = &quot;Features&quot;\r\n    \t\t,glue=&quot;Steps&quot;\r\n    \t\t)\r\n    \r\n    public class TestRunner {}\r\n\r\nStep file:\r\n\r\n    package Steps;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.java.en.When;\r\n    \r\n    class App {\r\n        private static final WebDriver driver = new ChromeDriver();\r\n    \r\n    \tpublic void myMethod(String flag) {\r\n          System.out.println(flag);\r\n        }\r\n    \t@Given(&quot;user navigates to Fleet Portal&quot;)\r\n    \tpublic void user_navigates_to_fleet_portal() {    \t\t\r\n    \t\tthrow new io.cucumber.java.PendingException();\r\n    \t}\r\n    \t\r\n    \t@When(&quot;enter credentials&quot;)\r\n        public void enter_credentials() throws InterruptedException {        \t        \r\n           \r\n    \t\tthrow new io.cucumber.java.PendingException();\r\n    \t}\r\n        @Then(&quot;user had logged in successfully&quot;)\r\n\t    public void user_had_logged_in_successfully() {\r\n\t\t    myMethod(&quot;yes&quot;);\r\n\t\t    throw new io.cucumber.java.PendingException();\r\n    \t    }\r\n    }\r\n\r\n\r\nI&#39;ve tried to take JUnit out of the picture by simply running the feature file as a cucumber test but it still results in the same error, which is weird because the cucumber plugin confirms that the steps are mapped to the features -&gt; [feature mapping][2]\r\n\r\n\r\n[POM file][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bg6NE.png\r\n  [2]: https://i.stack.imgur.com/03ZDb.png\r\n  [3]: https://i.stack.imgur.com/WI79C.png\r\n\r\nAny and all help is appreciated.\r\n","title":"io.cucumber.junit.UndefinedStepException: The step &#39;&#39;.... are undefined","body":"<p>Been trying to learn/perform some automated testing using Selenium + JUnit + Cucumber and I've spent hours browsing through the internet trying to resolve this with no success. I've written my feature, steps and runner code and the 'glue' is mapped to the correct package too. However, I run into the topic error when I try to run my Runner.java file.</p>\n<p><a href=\"https://i.stack.imgur.com/Bg6NE.png\" rel=\"nofollow noreferrer\">Project Structure</a></p>\n<p>Feature file:</p>\n<pre><code>Feature: Admin login\n\nScenario: Logging into Fleet Portal\n    Given user navigates to Fleet Portal\n    When enter credentials\n    Then user had logged\n</code></pre>\n<p>Runner file:</p>\n<pre><code>package Runner;\n\nimport org.junit.runner.RunWith;\nimport io.cucumber.junit.*;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;Features&quot;\n        ,glue=&quot;Steps&quot;\n        )\n\npublic class TestRunner {}\n</code></pre>\n<p>Step file:</p>\n<pre><code>package Steps;\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\n\nclass App {\n    private static final WebDriver driver = new ChromeDriver();\n\n    public void myMethod(String flag) {\n      System.out.println(flag);\n    }\n    @Given(&quot;user navigates to Fleet Portal&quot;)\n    public void user_navigates_to_fleet_portal() {          \n        throw new io.cucumber.java.PendingException();\n    }\n    \n    @When(&quot;enter credentials&quot;)\n    public void enter_credentials() throws InterruptedException {                   \n       \n        throw new io.cucumber.java.PendingException();\n    }\n    @Then(&quot;user had logged in successfully&quot;)\n    public void user_had_logged_in_successfully() {\n        myMethod(&quot;yes&quot;);\n        throw new io.cucumber.java.PendingException();\n        }\n}\n</code></pre>\n<p>I've tried to take JUnit out of the picture by simply running the feature file as a cucumber test but it still results in the same error, which is weird because the cucumber plugin confirms that the steps are mapped to the features -&gt; <a href=\"https://i.stack.imgur.com/03ZDb.png\" rel=\"nofollow noreferrer\">feature mapping</a></p>\n<p><a href=\"https://i.stack.imgur.com/WI79C.png\" rel=\"nofollow noreferrer\">POM file</a></p>\n<p>Any and all help is appreciated.</p>\n"},{"tags":["java","hibernate","maven","jpa","environment-variables"],"comments":[{"owner":{"account_id":4906361,"reputation":3077,"user_id":3952994,"accept_rate":76,"display_name":"Holm"},"score":1,"creation_date":1550760317,"post_id":54809617,"comment_id":96396096,"body_markdown":"would like to use this question to ask that will use `:-` work for your case? or `:` and `:-` are the same? can `${env.DB_SCHEMA:-my_default_scheme}` work?","body":"would like to use this question to ask that will use <code>:-</code> work for your case? or <code>:</code> and <code>:-</code> are the same? can <code>${env.DB_SCHEMA:-my_default_scheme}</code> work?"},{"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"score":0,"creation_date":1551084713,"post_id":54809617,"comment_id":96495512,"body_markdown":"I have never seen `:-` being used before. What is that syntax, can you elaborate?","body":"I have never seen <code>:-</code> being used before. What is that syntax, can you elaborate?"},{"owner":{"account_id":4906361,"reputation":3077,"user_id":3952994,"accept_rate":76,"display_name":"Holm"},"score":0,"creation_date":1551100010,"post_id":54809617,"comment_id":96504091,"body_markdown":"in your example, its ${env.DB_SCHEMA:-my_default_scheme}\nref: https://unix.stackexchange.com/questions/122845/using-a-b-for-variable-assignment-in-scripts/122878","body":"in your example, its ${env.DB_SCHEMA:-my_default_scheme} ref: <a href=\"https://unix.stackexchange.com/questions/122845/using-a-b-for-variable-assignment-in-scripts/122878\" title=\"using a b for variable assignment in scripts\">unix.stackexchange.com/questions/122845/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672938576,"creation_date":1672938576,"answer_id":75022024,"question_id":54809617,"body_markdown":"In case you are using Payara application container (version &gt;= `4.1.2.172`), you can user a syntax like this:\r\n\r\n```sh\r\n${ENV=PG_DATASOURCE_NAME}\r\n```\r\n\r\nMy `persistence.xml` file for example:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;${ENV=PG_DATASOURCE_NAME}&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;jta-data-source&gt;${ENV=PG_DATASOURCE_NAME}&lt;/jta-data-source&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.sharedCache.mode&quot; value=&quot;NONE&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nMore on this topic at [the docs][1].\r\n\r\n\r\n  [1]: https://docs.payara.fish/enterprise/docs/5.26.0/documentation/payara-server/server-configuration/var-substitution/usage-of-variables.html","title":"default for persistence.xml variable set by environment variable","body":"<p>In case you are using Payara application container (version &gt;= <code>4.1.2.172</code>), you can user a syntax like this:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>${ENV=PG_DATASOURCE_NAME}\n</code></pre>\n<p>My <code>persistence.xml</code> file for example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n\n    &lt;persistence-unit name=&quot;${ENV=PG_DATASOURCE_NAME}&quot; transaction-type=&quot;JTA&quot;&gt;\n        &lt;jta-data-source&gt;${ENV=PG_DATASOURCE_NAME}&lt;/jta-data-source&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.sharedCache.mode&quot; value=&quot;NONE&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>More on this topic at <a href=\"https://docs.payara.fish/enterprise/docs/5.26.0/documentation/payara-server/server-configuration/var-substitution/usage-of-variables.html\" rel=\"nofollow noreferrer\">the docs</a>.</p>\n"}],"owner":{"account_id":4540696,"reputation":7790,"user_id":3688648,"accept_rate":54,"display_name":"Felk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1672938576,"creation_date":1550759927,"question_id":54809617,"body_markdown":"tl;dr: I want to fill a variable in the `persistence.xml` with an environment variable, or have it be a previously defined default if no such environment variable exists.\r\n\r\n---\r\n\r\nI want to set the default scheme of Hibernate in my persistence.xml dynamically on start-up in Docker.\r\nTherefore i added a variable into the following property, which can be set by using an environment variable:\r\n\r\n    &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;${env.DB_SCHEME}&quot;/&gt;\r\n\r\nThis works perfectly fine for the docker environment, but for the non-docker environment i need some kind of default value that gets injected.\r\n\r\nSadly i cant use something like this, because it is not supported:\r\n\r\n    &lt;property name=&quot;hibernate.default_schema&quot; value=&quot;${env.DB_SCHEMA:my_default_scheme}&quot;/&gt;\r\n\r\nI also tried adding a property `env.DB_SCHEME` to the Maven properties of the project,\r\nbut that way it always uses the value from Maven and i can&#39;t override it with environment variables anymore.\r\n\r\nAnother thing i read about was to use the filtering option from the resource plugin in Maven. That way i could replace the variable with a pre-defined value.\r\nBut that way i have to select a profile while building and it&#39;s not possible to change at runtime.\r\n\r\nFurther i tried doing it programatically. Therefore i took the entityManager of my persistence-unit and checked, whether the environment-variable was set or not.\r\nIf it was set (only while using the docker environment) it should have placed the `${env.DB_SCHEME}` in the value of the property.\r\nOtherwise it could have placed `${DB_SCHEME}` in it, so that the property from Maven could later overwrite it.\r\nBut somehow, the properties aren&#39;t set. Maybe the code is executed too late, because the property hibernate.hbm2ddl.auto&quot; is set to validate.","title":"default for persistence.xml variable set by environment variable","body":"<p>tl;dr: I want to fill a variable in the <code>persistence.xml</code> with an environment variable, or have it be a previously defined default if no such environment variable exists.</p>\n\n<hr>\n\n<p>I want to set the default scheme of Hibernate in my persistence.xml dynamically on start-up in Docker.\nTherefore i added a variable into the following property, which can be set by using an environment variable:</p>\n\n<pre><code>&lt;property name=\"hibernate.default_schema\" value=\"${env.DB_SCHEME}\"/&gt;\n</code></pre>\n\n<p>This works perfectly fine for the docker environment, but for the non-docker environment i need some kind of default value that gets injected.</p>\n\n<p>Sadly i cant use something like this, because it is not supported:</p>\n\n<pre><code>&lt;property name=\"hibernate.default_schema\" value=\"${env.DB_SCHEMA:my_default_scheme}\"/&gt;\n</code></pre>\n\n<p>I also tried adding a property <code>env.DB_SCHEME</code> to the Maven properties of the project,\nbut that way it always uses the value from Maven and i can't override it with environment variables anymore.</p>\n\n<p>Another thing i read about was to use the filtering option from the resource plugin in Maven. That way i could replace the variable with a pre-defined value.\nBut that way i have to select a profile while building and it's not possible to change at runtime.</p>\n\n<p>Further i tried doing it programatically. Therefore i took the entityManager of my persistence-unit and checked, whether the environment-variable was set or not.\nIf it was set (only while using the docker environment) it should have placed the <code>${env.DB_SCHEME}</code> in the value of the property.\nOtherwise it could have placed <code>${DB_SCHEME}</code> in it, so that the property from Maven could later overwrite it.\nBut somehow, the properties aren't set. Maybe the code is executed too late, because the property hibernate.hbm2ddl.auto\" is set to validate.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1672933903,"post_id":75021032,"comment_id":132389121,"body_markdown":"&quot;If the parameter is larger than the array&#39;s length, an error will occur&quot; - not in the code you posted. Which line is throwing the error? The only array indexing you&#39;ve got is within the body of the `if` statement that validates that `switchState` is valid for the array...","body":"&quot;If the parameter is larger than the array&#39;s length, an error will occur&quot; - not in the code you posted. Which line is throwing the error? The only array indexing you&#39;ve got is within the body of the <code>if</code> statement that validates that <code>switchState</code> is valid for the array..."},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":0,"creation_date":1672934150,"post_id":75021032,"comment_id":132389226,"body_markdown":"Use modulo. `5 % 4` is `1`, `6 % 4` is `2`, etc","body":"Use modulo. <code>5 % 4</code> is <code>1</code>, <code>6 % 4</code> is <code>2</code>, etc"},{"owner":{"account_id":26762937,"reputation":21,"user_id":20360580,"display_name":"Roy"},"score":0,"creation_date":1672934175,"post_id":75021032,"comment_id":132389242,"body_markdown":"The issue is with the last condition, how to deal with the array if the input was larger than the array length, I couldn&#39;t form a condition that doesn&#39;t cause an error","body":"The issue is with the last condition, how to deal with the array if the input was larger than the array length, I couldn&#39;t form a condition that doesn&#39;t cause an error"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1672934421,"post_id":75021032,"comment_id":132389325,"body_markdown":"Your code is wrong so there is no need to &quot;fix&quot; a different issue when the code still remains wrong. Your parameter has a different meaning than the assignment&#39;s parameter description and your code assumes that the lamp has no start, that&#39;s why you assume an input of 5 is always &quot;LowLight&quot;, which is wrong, it obviously depends on the previous state.","body":"Your code is wrong so there is no need to &quot;fix&quot; a different issue when the code still remains wrong. Your parameter has a different meaning than the assignment&#39;s parameter description and your code assumes that the lamp has no start, that&#39;s why you assume an input of 5 is always &quot;LowLight&quot;, which is wrong, it obviously depends on the previous state."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673018397,"post_id":75021032,"comment_id":132409543,"body_markdown":"A good software developer will understand the requirements. Sometimes, requirements are open to interpretation. Sometimes, the misunderstanding can be with the developer, sometimes with the client. The software developer needs to ask questions to clarify the requirements. My interpretation is that the code should allow multiple turnings of the switch. For example, turn the switch 2x, come back, turn the switch 2x. To do that, `class ThreeWayLamp` needs an instance variable to retain the state between successive calls to &#39;switch (int)&#39;","body":"A good software developer will understand the requirements. Sometimes, requirements are open to interpretation. Sometimes, the misunderstanding can be with the developer, sometimes with the client. The software developer needs to ask questions to clarify the requirements. My interpretation is that the code should allow multiple turnings of the switch. For example, turn the switch 2x, come back, turn the switch 2x. To do that, <code>class ThreeWayLamp</code> needs an instance variable to retain the state between successive calls to &#39;switch (int)&#39;"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1673018449,"post_id":75021032,"comment_id":132409565,"body_markdown":"Also, printing an error message is not the same as throwing an exception.","body":"Also, printing an error message is not the same as throwing an exception."}],"answers":[{"tags":[],"owner":{"account_id":16934234,"reputation":16,"user_id":12247666,"display_name":"Nickitiki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672934360,"creation_date":1672934360,"answer_id":75021197,"question_id":75021032,"body_markdown":"You can solve this problem by using a modulo operator:\r\n\r\n``` java\r\nSystem.out.println(States[switchState % States.length]);\r\n```","title":"How to deal with IndexOutOfBounds error in arrays in such a case?","body":"<p>You can solve this problem by using a modulo operator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(States[switchState % States.length]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11896372,"reputation":182,"user_id":8705653,"display_name":"Fakipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672934596,"creation_date":1672934596,"answer_id":75021243,"question_id":75021032,"body_markdown":"Instead of using the less than condition, you can try using mod to repeat the indexes of your String array.\r\n\r\nTry below code:\r\n```\r\npublic class ThreeWayLamp {\r\n\r\npublic String[] States = {&quot;Off&quot;,&quot;LowLifght&quot;, &quot;MediumLifght&quot;, &quot;HighLight&quot;}; // an array of the 4 states\r\n    \r\n    \r\n    public void Switch(int switchState){\r\n\r\n        \r\n    if ((switchState &gt; 0){\r\n        System.out.println(States[switchState % States.length]); // states.length = 4 in your case\r\n    } else {\r\n        System.out.println(&quot;Wrong input, try again with diffrent number&quot;);\r\n    }\r\n    \r\n           \r\n    }\r\n```","title":"How to deal with IndexOutOfBounds error in arrays in such a case?","body":"<p>Instead of using the less than condition, you can try using mod to repeat the indexes of your String array.</p>\n<p>Try below code:</p>\n<pre><code>public class ThreeWayLamp {\n\npublic String[] States = {&quot;Off&quot;,&quot;LowLifght&quot;, &quot;MediumLifght&quot;, &quot;HighLight&quot;}; // an array of the 4 states\n    \n    \n    public void Switch(int switchState){\n\n        \n    if ((switchState &gt; 0){\n        System.out.println(States[switchState % States.length]); // states.length = 4 in your case\n    } else {\n        System.out.println(&quot;Wrong input, try again with diffrent number&quot;);\n    }\n    \n           \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672934813,"creation_date":1672934813,"answer_id":75021298,"question_id":75021032,"body_markdown":"Using modulo you can ensure the index will always be within the size of the array \r\n```\r\n4 % 4 = 0\r\n5 % 4 = 1\r\n6 % 4 = 2\r\n7 % 4 = 3\r\n8 % 4 = 0\r\n9 % 4 = 1\r\n...\r\n```\r\n\r\n\r\n    public void Switch(int switchState){\r\n        if ((switchState &lt; States.length) &amp;&amp; (switchState &gt;= 0)){\r\n            System.out.println(States[switchState]);\r\n        } else if (switchState &lt; 0 ){\r\n            System.out.println(&quot;Wrong input, try again with diffrent number&quot;);\r\n        } else {\r\n            Switch(switchState % 4);\r\n            // or\r\n            // System.out.println(States[switchState % 4]);\r\n        }\r\n    }\r\n\r\n\r\nAlso, variable and method names should start with a lower case ","title":"How to deal with IndexOutOfBounds error in arrays in such a case?","body":"<p>Using modulo you can ensure the index will always be within the size of the array</p>\n<pre><code>4 % 4 = 0\n5 % 4 = 1\n6 % 4 = 2\n7 % 4 = 3\n8 % 4 = 0\n9 % 4 = 1\n...\n</code></pre>\n<pre><code>public void Switch(int switchState){\n    if ((switchState &lt; States.length) &amp;&amp; (switchState &gt;= 0)){\n        System.out.println(States[switchState]);\n    } else if (switchState &lt; 0 ){\n        System.out.println(&quot;Wrong input, try again with diffrent number&quot;);\n    } else {\n        Switch(switchState % 4);\n        // or\n        // System.out.println(States[switchState % 4]);\n    }\n}\n</code></pre>\n<p>Also, variable and method names should start with a lower case</p>\n"}],"owner":{"account_id":26762937,"reputation":21,"user_id":20360580,"display_name":"Roy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1672939108,"answer_count":3,"score":2,"last_activity_date":1672938547,"creation_date":1672933640,"question_id":75021032,"body_markdown":"I need to create a method for my OOP lab, the details are as the following:\r\n\r\n\r\nA ThreeWayLamp class models the behavior of a lamp that uses a \r\nthree-way bulb. These bulbs have four possible states: off, low light, medium \r\nlight, and high light. Each time the switch is activated, the bulb goes to the next \r\nstate (from high, the next state is off, from off to low etc). The ThreeWayLamp \r\nclass has a single method called switch() which takes a single int parameter \r\nindicating how many times the switch is activated. (you need to throw an \r\nexception if its negative). The Switch() method should simply print out to \r\nSystem.out a message indicating the state of the bulb after it has changed.\r\n\r\n```java\r\npublic class ThreeWayLamp {\r\n\r\npublic String[] States = {&quot;Off&quot;,&quot;LowLifght&quot;, &quot;MediumLifght&quot;, &quot;HighLight&quot;}; // an array of the 4 states\r\n    \r\n    \r\n    public void Switch(int switchState){\r\n    \r\n      //used an if condition to determine what to print based on the parameter switchState\r\n\r\n        if ((switchState &lt;= States.length) &amp;&amp; (switchState &gt;= 0)){\r\n            System.out.println(States[switchState]);\r\n            \r\n        }else if (switchState &lt; 0 ){\r\n            System.out.println(&quot;Wrong input, try again with diffrent number&quot;);\r\n           \r\n        }else if (switchState &gt;= States.length){\r\n            \r\n        } //This condition is the issue, how to form a condition that will solve this problem\r\n    }\r\n```\r\n\r\nIf the parameter is larger than the array&#39;s length, an error will occur, so the issue is how to form a condition that will make the array loop again around itself when it reaches its last index.\r\nFor example, if the input was 5, then the method should print LowLight.\r\nIs there a possible condition or function that could solve this issue, or should I change the entire structure of the code?","title":"How to deal with IndexOutOfBounds error in arrays in such a case?","body":"<p>I need to create a method for my OOP lab, the details are as the following:</p>\n<p>A ThreeWayLamp class models the behavior of a lamp that uses a\nthree-way bulb. These bulbs have four possible states: off, low light, medium\nlight, and high light. Each time the switch is activated, the bulb goes to the next\nstate (from high, the next state is off, from off to low etc). The ThreeWayLamp\nclass has a single method called switch() which takes a single int parameter\nindicating how many times the switch is activated. (you need to throw an\nexception if its negative). The Switch() method should simply print out to\nSystem.out a message indicating the state of the bulb after it has changed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreeWayLamp {\n\npublic String[] States = {&quot;Off&quot;,&quot;LowLifght&quot;, &quot;MediumLifght&quot;, &quot;HighLight&quot;}; // an array of the 4 states\n    \n    \n    public void Switch(int switchState){\n    \n      //used an if condition to determine what to print based on the parameter switchState\n\n        if ((switchState &lt;= States.length) &amp;&amp; (switchState &gt;= 0)){\n            System.out.println(States[switchState]);\n            \n        }else if (switchState &lt; 0 ){\n            System.out.println(&quot;Wrong input, try again with diffrent number&quot;);\n           \n        }else if (switchState &gt;= States.length){\n            \n        } //This condition is the issue, how to form a condition that will solve this problem\n    }\n</code></pre>\n<p>If the parameter is larger than the array's length, an error will occur, so the issue is how to form a condition that will make the array loop again around itself when it reaches its last index.\nFor example, if the input was 5, then the method should print LowLight.\nIs there a possible condition or function that could solve this issue, or should I change the entire structure of the code?</p>\n"},{"tags":["java","dll","jna"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1670855624,"post_id":74772434,"comment_id":131963334,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":17428960,"reputation":13,"user_id":12633325,"display_name":"Naveen Rathnam"},"score":0,"creation_date":1671072675,"post_id":74772434,"comment_id":132020879,"body_markdown":"@DanielWiddis Posted the code","body":"@DanielWiddis Posted the code"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671084643,"post_id":74772434,"comment_id":132022548,"body_markdown":"@NaveenRathnam Thanks for the code.  I don&#39;t see any time delay between your dispose and your checking whether it was disposed.  The linked answer that I wrote says, &quot;Note that in all these options you may want a small time delay of a few milliseconds after disposing&quot;","body":"@NaveenRathnam Thanks for the code.  I don&#39;t see any time delay between your dispose and your checking whether it was disposed.  The linked answer that I wrote says, &quot;Note that in all these options you may want a small time delay of a few milliseconds after disposing&quot;"},{"owner":{"account_id":17428960,"reputation":13,"user_id":12633325,"display_name":"Naveen Rathnam"},"score":0,"creation_date":1671127494,"post_id":74772434,"comment_id":132036920,"body_markdown":"@DanielWiddis tried with time delay of 3000 milliseconds and Files.delete(). still not working. getting below exception :\nException in thread &quot;main&quot; java.nio.file.AccessDeniedException: .\\ExternalDownloader_64.dll\n        at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83)\n        at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97)\n        at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102)\n        at sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)","body":"@DanielWiddis tried with time delay of 3000 milliseconds and Files.delete(). still not working. getting below exception : Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: .\\ExternalDownloader_64.dll         at sun.nio.fs.WindowsException.translateToIOException(WindowsEx&zwnj;&#8203;ception.java:83)         at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsExce&zwnj;&#8203;ption.java:97)         at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsExce&zwnj;&#8203;ption.java:102)         at sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileS&zwnj;&#8203;ystemProvider.java:2&zwnj;&#8203;69)"}],"answers":[{"comments":[{"owner":{"account_id":17428960,"reputation":13,"user_id":12633325,"display_name":"Naveen Rathnam"},"score":0,"creation_date":1671273795,"post_id":74829691,"comment_id":132067103,"body_markdown":"Tried your suggestion. still unable to unload / delete the dll. I am using latest jna version 5.12.1. DllUtil.dispose() - not possible. if possible try executing the code. Thanks","body":"Tried your suggestion. still unable to unload / delete the dll. I am using latest jna version 5.12.1. DllUtil.dispose() - not possible. if possible try executing the code. Thanks"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671303939,"post_id":74829691,"comment_id":132072354,"body_markdown":"@NaveenRathnam Reproduced the error with your code; got it to delete by inserting `System.gc()` call before the time delay.  Looking in more detail into why that is the case and will update my answer (and the linked one as well) later.","body":"@NaveenRathnam Reproduced the error with your code; got it to delete by inserting <code>System.gc()</code> call before the time delay.  Looking in more detail into why that is the case and will update my answer (and the linked one as well) later."}],"tags":[],"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672938398,"creation_date":1671224261,"answer_id":74829691,"question_id":74772434,"body_markdown":"I was able to reproduce the problem with your code, but only on Windows.  When reproducible, I was able to successfully delete the file by adding a garbage collection suggestion before the time delay:\r\n```java\r\nif (DLLUtil != null) {\r\n    DLLUtil = null;\r\n    NativeLibrary lib = NativeLibrary.getInstance(dllPath);\r\n    lib.close();\r\n    System.gc();\r\n    System.gc();\r\n    Thread.sleep(3000);\r\n}\r\n```\r\n\r\nWhen JNA loads a Windows DLL via `Native.loadLibrary()`, it internally executes the WinAPI [LoadLibraryExW][1] function.\r\n \r\nInternally the Java instance is stored in a map to be re-used when possible -- however for this to happen, it requires two things to look up the same Java object:\r\n - the DLL Path must be an absolute path\r\n - the options must match. In this case, you would need to pass the classloader as an argument as [Matthias Bl&#228;sing][5] indicated in [his answer][2]:\r\n```java\r\n// if loaded like this:\r\nDLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\r\n// fetch from cache like this:\r\nNativeLibrary lib = NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader());\r\nlib.dispose();\r\n```\r\nThis should allow you to delete the file.\r\n\r\nHowever, in your case, with the relative path, the library is getting unloaded but the old java object isn&#39;t getting closed until GC occurs.\r\n\r\nThe `dispose()` (or `close()` as of 5.12) call in JNA eventually calls the `Native.close()` method which uses the Windows API [FreeLibrary][3] function. This unloads the DLL from the Process memory, so the advice on the linked question on how to dispose is still accurate in the case that you want to re-load the library. If you&#39;re not reloading the library, using `dispose()` (5.11-) or `close()` (5.12+) is optional.\r\n\r\nIf you must use a relative path, consider this approach using a `PhantomReference` inspired by [this answer][4] to track the deletion:\r\n```java\r\nif (DLLUtil != null) {\r\n    // Unload the DLL from process memory\r\n    // Optional here, as it will be called by a cleaner on GC below\r\n    NativeLibrary lib = NativeLibrary.getInstance(dllPath);\r\n    lib.close();\r\n    System.out.println(&quot;Closed.&quot;);\r\n\r\n    // Remove any internal JVM references to the file\r\n    final ReferenceQueue rq = new ReferenceQueue();\r\n    final PhantomReference phantom = new PhantomReference(DLLUtil, rq);\r\n    DLLUtil = null;\r\n\r\n    // Poll until GC removes the reference\r\n    int count = 0;\r\n    while (rq.poll() == null) {\r\n        System.out.println(&quot;Waiting...&quot;);\r\n        Thread.sleep(1000);\r\n        if (++count &gt; 4) {\r\n            // After 5 seconds prompt for GC!\r\n            System.out.println(&quot;Suggesting GC...&quot;);\r\n            System.gc();\r\n        }\r\n    }\r\n    System.out.println(&quot;Collected.&quot;);\r\n}\r\n```\r\nThe DLL was successfully deleted following this sequence.  It did take a second GC call to take effect:\r\n\r\n    Closed.\r\n    Waiting...\r\n    Waiting...\r\n    Waiting...\r\n    Waiting...\r\n    Waiting...\r\n    Suggesting GC...\r\n    Waiting...\r\n    Suggesting GC...\r\n    Collected.\r\n    Deleted!\r\n\r\n  [1]: https://learn.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw\r\n  [2]: https://stackoverflow.com/a/74843072/1161484\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary\r\n  [4]: https://stackoverflow.com/a/3461123/1161484\r\n  [5]: https://stackoverflow.com/users/9415272/matthias-bl%c3%a4sing","title":"Cannot delete library loaded with JNA after disposing","body":"<p>I was able to reproduce the problem with your code, but only on Windows.  When reproducible, I was able to successfully delete the file by adding a garbage collection suggestion before the time delay:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (DLLUtil != null) {\n    DLLUtil = null;\n    NativeLibrary lib = NativeLibrary.getInstance(dllPath);\n    lib.close();\n    System.gc();\n    System.gc();\n    Thread.sleep(3000);\n}\n</code></pre>\n<p>When JNA loads a Windows DLL via <code>Native.loadLibrary()</code>, it internally executes the WinAPI <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw\" rel=\"nofollow noreferrer\">LoadLibraryExW</a> function.</p>\n<p>Internally the Java instance is stored in a map to be re-used when possible -- however for this to happen, it requires two things to look up the same Java object:</p>\n<ul>\n<li>the DLL Path must be an absolute path</li>\n<li>the options must match. In this case, you would need to pass the classloader as an argument as <a href=\"https://stackoverflow.com/users/9415272/matthias-bl%c3%a4sing\">Matthias Bläsing</a> indicated in <a href=\"https://stackoverflow.com/a/74843072/1161484\">his answer</a>:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>// if loaded like this:\nDLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\n// fetch from cache like this:\nNativeLibrary lib = NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader());\nlib.dispose();\n</code></pre>\n<p>This should allow you to delete the file.</p>\n<p>However, in your case, with the relative path, the library is getting unloaded but the old java object isn't getting closed until GC occurs.</p>\n<p>The <code>dispose()</code> (or <code>close()</code> as of 5.12) call in JNA eventually calls the <code>Native.close()</code> method which uses the Windows API <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary\" rel=\"nofollow noreferrer\">FreeLibrary</a> function. This unloads the DLL from the Process memory, so the advice on the linked question on how to dispose is still accurate in the case that you want to re-load the library. If you're not reloading the library, using <code>dispose()</code> (5.11-) or <code>close()</code> (5.12+) is optional.</p>\n<p>If you must use a relative path, consider this approach using a <code>PhantomReference</code> inspired by <a href=\"https://stackoverflow.com/a/3461123/1161484\">this answer</a> to track the deletion:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (DLLUtil != null) {\n    // Unload the DLL from process memory\n    // Optional here, as it will be called by a cleaner on GC below\n    NativeLibrary lib = NativeLibrary.getInstance(dllPath);\n    lib.close();\n    System.out.println(&quot;Closed.&quot;);\n\n    // Remove any internal JVM references to the file\n    final ReferenceQueue rq = new ReferenceQueue();\n    final PhantomReference phantom = new PhantomReference(DLLUtil, rq);\n    DLLUtil = null;\n\n    // Poll until GC removes the reference\n    int count = 0;\n    while (rq.poll() == null) {\n        System.out.println(&quot;Waiting...&quot;);\n        Thread.sleep(1000);\n        if (++count &gt; 4) {\n            // After 5 seconds prompt for GC!\n            System.out.println(&quot;Suggesting GC...&quot;);\n            System.gc();\n        }\n    }\n    System.out.println(&quot;Collected.&quot;);\n}\n</code></pre>\n<p>The DLL was successfully deleted following this sequence.  It did take a second GC call to take effect:</p>\n<pre><code>Closed.\nWaiting...\nWaiting...\nWaiting...\nWaiting...\nWaiting...\nSuggesting GC...\nWaiting...\nSuggesting GC...\nCollected.\nDeleted!\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671383448,"post_id":74843072,"comment_id":132083233,"body_markdown":"My test case still fails to delete the file even with the `getClassLoader()` call.","body":"My test case still fails to delete the file even with the <code>getClassLoader()</code> call."},{"owner":{"account_id":13027886,"reputation":341,"user_id":9415272,"display_name":"Matthias Bl&#228;sing"},"score":0,"creation_date":1671383700,"post_id":74843072,"comment_id":132083273,"body_markdown":"Check with a debugger whether you get the same instance of NativeLibrary, that back(ed) the ExtDLLTool (I used the testlibrary from JNA). You can also place breakpoints on the locations where Native#open is invoked, you should only see a single call.","body":"Check with a debugger whether you get the same instance of NativeLibrary, that back(ed) the ExtDLLTool (I used the testlibrary from JNA). You can also place breakpoints on the locations where Native#open is invoked, you should only see a single call."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671384045,"post_id":74843072,"comment_id":132083330,"body_markdown":"Quick test using the toStrings(): `NativeLibrary.getInstance(dllPath)` and `NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader())` both return the same Java object `Native Library &lt;..\\..\\..\\temp\\test.dll@1667235840&gt;`.  And the `ExtDLLTool` string is `Proxy interface to Native Library &lt;..\\..\\..\\temp\\test.dll@1667235840&gt;`","body":"Quick test using the toStrings(): <code>NativeLibrary.getInstance(dllPath)</code> and <code>NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader())</code> both return the same Java object <code>Native Library &lt;..\\..\\..\\temp\\test.dll@1667235840&gt;</code>.  And the <code>ExtDLLTool</code> string is <code>Proxy interface to Native Library &lt;..\\..\\..\\temp\\test.dll@1667235840&gt;</code>"},{"owner":{"account_id":13027886,"reputation":341,"user_id":9415272,"display_name":"Matthias Bl&#228;sing"},"score":0,"creation_date":1671384341,"post_id":74843072,"comment_id":132083371,"body_markdown":"The does not help as the same handle is returned. You must use a debugger or `System#identityHashCode`. I can reproduce the problem with this code:\n\n`NativeLibrary lib = NativeLibrary.getInstance(dllPath);\nlib.close();\nFiles.delete(Paths.get(dllPath));\n`\n\nAnd can fix it by moving to:\n\n`NativeLibrary lib = NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader());\nlib.close();\nFiles.delete(Paths.get(dllPath));`","body":"The does not help as the same handle is returned. You must use a debugger or <code>System#identityHashCode</code>. I can reproduce the problem with this code:  <code>NativeLibrary lib = NativeLibrary.getInstance(dllPath); lib.close(); Files.delete(Paths.get(dllPath)); </code>  And can fix it by moving to:  <code>NativeLibrary lib = NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader()); lib.close(); Files.delete(Paths.get(dllPath));</code>"},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671384668,"post_id":74843072,"comment_id":132083422,"body_markdown":"That code is [precisely what I&#39;m using](https://i.stack.imgur.com/ZkYgK.png) that does not change the failure to delete.  Working on setting up debug.","body":"That code is <a href=\"https://i.stack.imgur.com/ZkYgK.png\" rel=\"nofollow noreferrer\">precisely what I&#39;m using</a> that does not change the failure to delete.  Working on setting up debug."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671385558,"post_id":74843072,"comment_id":132083534,"body_markdown":"Debugging indicates even adding the class loader argument as suggested gives me a different internal NativeLibrary object than the one inside `ExtDLLTool`.","body":"Debugging indicates even adding the class loader argument as suggested gives me a different internal NativeLibrary object than the one inside <code>ExtDLLTool</code>."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1671386263,"post_id":74843072,"comment_id":132083634,"body_markdown":"Even repeatedly calling `NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader());` returns a different object each time (verified with both debugger and `identityHashCode`).  The Keys and Values in the options hash map are identical but the HashMaps themselves are different objects.","body":"Even repeatedly calling <code>NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader());</code> returns a different object each time (verified with both debugger and <code>identityHashCode</code>).  The Keys and Values in the options hash map are identical but the HashMaps themselves are different objects."},{"owner":{"account_id":13027886,"reputation":341,"user_id":9415272,"display_name":"Matthias Bl&#228;sing"},"score":0,"creation_date":1671395520,"post_id":74843072,"comment_id":132085203,"body_markdown":"I think I see the difference. You are using a relative path. Indeed, then you&#39;ll never hit the &quot;cache&quot; path. Please try to provide an absolute path as library name.","body":"I think I see the difference. You are using a relative path. Indeed, then you&#39;ll never hit the &quot;cache&quot; path. Please try to provide an absolute path as library name."}],"tags":[],"owner":{"account_id":13027886,"reputation":341,"user_id":9415272,"display_name":"Matthias Bl&#228;sing"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671399173,"creation_date":1671382863,"answer_id":74843072,"question_id":74772434,"body_markdown":"In the end the problem is, that `Native#open` is called twice and `Native#close` only once. The assumption behind the presented code is, that:\r\n\r\n```java\r\n    NativeLibrary lib = NativeLibrary.getInstance(dllPath);\r\n```\r\n\r\nyields the same `NativeLibrary` instance, that is used by:\r\n\r\n```java\r\n    DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\r\n```\r\n\r\nThis assumption does not hold. Indeed `NativeLibrary#load` does use caching and if invoked with the same parameters it will yield only  a single instance. \r\n\r\nThe codepath behind `Native.loadLibrary` passes two options to `Native#loadLibrary`: `calling-convention` and `classloader`. The `calling-convention` is equal to the default calling convention, so can be ignored. It is/would be automatically added in `NativeLibrary#getInstance`. The `classloader` though is not set to a default value and there is the difference. The options are part of the caching key and thus a second instance of the `NativeLibrary` is created and not the first returned.\r\n\r\nTo make it work, the call to `NativeLibrary#getInstance` must pass the correct classloader. If you modify the sample like this:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.NativeLibrary;\r\n\r\nclass Filter {\r\n\r\n    private static ExtDLLTool DLLUtil;\r\n    final private static String dllPath = &quot;./ExternalDownloader_64.dll&quot;;\r\n\r\n    static {\r\n        DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception{\r\n\r\n        if (DLLUtil != null) {\r\n            DLLUtil = null;\r\n            NativeLibrary lib = NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader());\r\n            lib.dispose();\r\n            Thread.sleep(3000);\r\n        }\r\n\r\n        File dllFile = new File(dllPath);\r\n        if(dllFile.exists()){\r\n            Files.delete(Paths.get(dllPath));\r\n            // boolean isDeleted = dllFile.delete();\r\n            if(dllFile.exists()){\r\n                System.out.println(&quot;Unable to delete dll file, since it hold by jvm&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private interface ExtDLLTool extends Library {\r\n        String validateNomination(String dloadProps);\r\n    }\r\n}\r\n```\r\n\r\nit works as expected.\r\n\r\nAfter discussion there is another requirement: The cache path is only hit in a limited number of cases:\r\n\r\n- the library name is the filename of the library (without a prefix)\r\n- the library name is the absolute path to the library\r\n- the library name is the &quot;base&quot; name without any prefixes or suffixes the default library search mechanism adds (on windows &quot;.dll&quot; should be stripped, on linux &quot;lib&quot; prefix and &quot;.so&quot; suffix should be stripped) (UNTESTED!)\r\n\r\nThe TL;DR version: find the absolute path name and use that for interface loading and NativeLibrary loading.","title":"Cannot delete library loaded with JNA after disposing","body":"<p>In the end the problem is, that <code>Native#open</code> is called twice and <code>Native#close</code> only once. The assumption behind the presented code is, that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    NativeLibrary lib = NativeLibrary.getInstance(dllPath);\n</code></pre>\n<p>yields the same <code>NativeLibrary</code> instance, that is used by:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\n</code></pre>\n<p>This assumption does not hold. Indeed <code>NativeLibrary#load</code> does use caching and if invoked with the same parameters it will yield only  a single instance.</p>\n<p>The codepath behind <code>Native.loadLibrary</code> passes two options to <code>Native#loadLibrary</code>: <code>calling-convention</code> and <code>classloader</code>. The <code>calling-convention</code> is equal to the default calling convention, so can be ignored. It is/would be automatically added in <code>NativeLibrary#getInstance</code>. The <code>classloader</code> though is not set to a default value and there is the difference. The options are part of the caching key and thus a second instance of the <code>NativeLibrary</code> is created and not the first returned.</p>\n<p>To make it work, the call to <code>NativeLibrary#getInstance</code> must pass the correct classloader. If you modify the sample like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.NativeLibrary;\n\nclass Filter {\n\n    private static ExtDLLTool DLLUtil;\n    final private static String dllPath = &quot;./ExternalDownloader_64.dll&quot;;\n\n    static {\n        DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\n    }\n\n    public static void main(String[] args) throws Exception{\n\n        if (DLLUtil != null) {\n            DLLUtil = null;\n            NativeLibrary lib = NativeLibrary.getInstance(dllPath, ExtDLLTool.class.getClassLoader());\n            lib.dispose();\n            Thread.sleep(3000);\n        }\n\n        File dllFile = new File(dllPath);\n        if(dllFile.exists()){\n            Files.delete(Paths.get(dllPath));\n            // boolean isDeleted = dllFile.delete();\n            if(dllFile.exists()){\n                System.out.println(&quot;Unable to delete dll file, since it hold by jvm&quot;);\n            }\n        }\n    }\n\n    private interface ExtDLLTool extends Library {\n        String validateNomination(String dloadProps);\n    }\n}\n</code></pre>\n<p>it works as expected.</p>\n<p>After discussion there is another requirement: The cache path is only hit in a limited number of cases:</p>\n<ul>\n<li>the library name is the filename of the library (without a prefix)</li>\n<li>the library name is the absolute path to the library</li>\n<li>the library name is the &quot;base&quot; name without any prefixes or suffixes the default library search mechanism adds (on windows &quot;.dll&quot; should be stripped, on linux &quot;lib&quot; prefix and &quot;.so&quot; suffix should be stripped) (UNTESTED!)</li>\n</ul>\n<p>The TL;DR version: find the absolute path name and use that for interface loading and NativeLibrary loading.</p>\n"}],"owner":{"account_id":17428960,"reputation":13,"user_id":12633325,"display_name":"Naveen Rathnam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74829691,"answer_count":2,"score":0,"last_activity_date":1672938398,"creation_date":1670854529,"question_id":74772434,"body_markdown":"I am trying to delete a DLL which has been loaded into JNA and later disposed. I have tried all the solutions described in the answer to this question, but they are not working: https://stackoverflow.com/questions/41056322/how-to-dispose-library-loaded-with-jna/41090490#41090490\r\n\r\nHere is code I&#39;ve tried without a time delay:\r\n```java\r\nimport java.io.File;\r\n\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.NativeLibrary;\r\n\r\nclass Filter {\r\n\r\n    private static ExtDLLTool DLLUtil;\r\n    final private static String dllPath = &quot;./ExternalDownloader_64.dll&quot;; \r\n\r\n    static {\r\n        DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        if (DLLUtil != null) {\r\n            DLLUtil = null;\r\n            NativeLibrary lib = NativeLibrary.getInstance(dllPath);\r\n            lib.dispose();\r\n        }\r\n\r\n        File dllFile = new File(dllPath);\r\n        if(dllFile.exists()){\r\n            boolean isDeleted = dllFile.delete();\r\n            if(!isDeleted){\r\n                System.out.println(&quot;Unable to delete dll file, since it hold by jvm&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private interface ExtDLLTool extends Library {\r\n        String validateNomination(String dloadProps);\r\n    }\r\n}\r\n```\r\n\r\nI added a time delay to give the native code time to release the handle:\r\n```java\r\nimport java.io.File;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\nimport com.sun.jna.Library;\r\nimport com.sun.jna.Native;\r\nimport com.sun.jna.NativeLibrary;\r\n\r\nclass Filter {\r\n\r\n    private static ExtDLLTool DLLUtil;\r\n    final private static String dllPath = &quot;./ExternalDownloader_64.dll&quot;;\r\n\r\n    static {\r\n        DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception{\r\n\r\n        if (DLLUtil != null) {\r\n            DLLUtil = null;\r\n            NativeLibrary lib = NativeLibrary.getInstance(dllPath);\r\n            lib.dispose();\r\n            Thread.sleep(3000);\r\n        }\r\n\r\n        File dllFile = new File(dllPath);\r\n        if(dllFile.exists()){\r\n            Files.delete(Paths.get(dllPath));\r\n            // boolean isDeleted = dllFile.delete();\r\n            if(dllFile.exists()){\r\n                System.out.println(&quot;Unable to delete dll file, since it hold by jvm&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    private interface ExtDLLTool extends Library {\r\n        String validateNomination(String dloadProps);\r\n    }\r\n}\r\n```\r\nThis code results in an exception implying the JVM has not released the file.\r\n&gt; Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: .\\ExternalDownloader_64.dll at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83) at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97) at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102) at sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)\r\n","title":"Cannot delete library loaded with JNA after disposing","body":"<p>I am trying to delete a DLL which has been loaded into JNA and later disposed. I have tried all the solutions described in the answer to this question, but they are not working: <a href=\"https://stackoverflow.com/questions/41056322/how-to-dispose-library-loaded-with-jna/41090490#41090490\">How to dispose library loaded with JNA</a></p>\n<p>Here is code I've tried without a time delay:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.NativeLibrary;\n\nclass Filter {\n\n    private static ExtDLLTool DLLUtil;\n    final private static String dllPath = &quot;./ExternalDownloader_64.dll&quot;; \n\n    static {\n        DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\n    }\n\n    public static void main(String[] args) {\n\n        if (DLLUtil != null) {\n            DLLUtil = null;\n            NativeLibrary lib = NativeLibrary.getInstance(dllPath);\n            lib.dispose();\n        }\n\n        File dllFile = new File(dllPath);\n        if(dllFile.exists()){\n            boolean isDeleted = dllFile.delete();\n            if(!isDeleted){\n                System.out.println(&quot;Unable to delete dll file, since it hold by jvm&quot;);\n            }\n        }\n\n    }\n\n    private interface ExtDLLTool extends Library {\n        String validateNomination(String dloadProps);\n    }\n}\n</code></pre>\n<p>I added a time delay to give the native code time to release the handle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.NativeLibrary;\n\nclass Filter {\n\n    private static ExtDLLTool DLLUtil;\n    final private static String dllPath = &quot;./ExternalDownloader_64.dll&quot;;\n\n    static {\n        DLLUtil = (ExtDLLTool) Native.loadLibrary(dllPath, ExtDLLTool.class);\n    }\n\n    public static void main(String[] args) throws Exception{\n\n        if (DLLUtil != null) {\n            DLLUtil = null;\n            NativeLibrary lib = NativeLibrary.getInstance(dllPath);\n            lib.dispose();\n            Thread.sleep(3000);\n        }\n\n        File dllFile = new File(dllPath);\n        if(dllFile.exists()){\n            Files.delete(Paths.get(dllPath));\n            // boolean isDeleted = dllFile.delete();\n            if(dllFile.exists()){\n                System.out.println(&quot;Unable to delete dll file, since it hold by jvm&quot;);\n            }\n        }\n    }\n\n    private interface ExtDLLTool extends Library {\n        String validateNomination(String dloadProps);\n    }\n}\n</code></pre>\n<p>This code results in an exception implying the JVM has not released the file.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.nio.file.AccessDeniedException: .\\ExternalDownloader_64.dll at sun.nio.fs.WindowsException.translateToIOException(WindowsException.java:83) at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:97) at sun.nio.fs.WindowsException.rethrowAsIOException(WindowsException.java:102) at sun.nio.fs.WindowsFileSystemProvider.implDelete(WindowsFileSystemProvider.java:269)</p>\n</blockquote>\n"},{"tags":["java","delay"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1672915218,"post_id":75016807,"comment_id":132382290,"body_markdown":"The schedule method doesn&#39;t know that the 2nd action should happen 60000 after the first action, and the 3rd should happen 60000 after that. It just knows that you want each action deferred 60000 from when it&#39;s called, and all `printFirst`s are called at the same time. You could add an integer parameter to `printFirst` and call printFirst(1), then 2, then 3. Change the delay to `60000 * myIntParam`.","body":"The schedule method doesn&#39;t know that the 2nd action should happen 60000 after the first action, and the 3rd should happen 60000 after that. It just knows that you want each action deferred 60000 from when it&#39;s called, and all <code>printFirst</code>s are called at the same time. You could add an integer parameter to <code>printFirst</code> and call printFirst(1), then 2, then 3. Change the delay to <code>60000 * myIntParam</code>."},{"owner":{"account_id":14736775,"reputation":53,"user_id":10642567,"display_name":"Sangmin Kim"},"score":1,"creation_date":1672917143,"post_id":75016807,"comment_id":132382939,"body_markdown":"I was trying to do this to create a delay between each email that is being sent @Michael","body":"I was trying to do this to create a delay between each email that is being sent @Michael"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1672933700,"post_id":75016807,"comment_id":132389051,"body_markdown":"@SangminKim sorry, I somehow was confused by the separate code-blocks. Thanks for guiding me, edited to have them in one.","body":"@SangminKim sorry, I somehow was confused by the separate code-blocks. Thanks for guiding me, edited to have them in one."}],"answers":[{"tags":[],"owner":{"account_id":26855967,"reputation":2351,"user_id":20440272,"display_name":"Sohaib Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672917814,"creation_date":1672917814,"answer_id":75017682,"question_id":75016807,"body_markdown":"While calling function, you can set the number of seconds as a parameter\r\n\r\n    System.out.println(ts() + &quot; Zero&quot;);\r\n    printFirst(60000);\r\n    printFirst(12000);\r\n    printFirst(18000);\r\n    System.out.println(ts() + &quot; Second&quot;);\r\n    System.out.println(ts() + &quot; Third&quot;);\r\n    System.out.println(ts() + &quot; Fourth&quot;);\r\n\r\nIn your function,\r\n\r\n    static void printFirst(long time) {\r\n      new java.util.Timer().schedule(\r\n        new java.util.TimerTask() {\r\n          public void run() {\r\n            System.out.println(ts() + &quot; First&quot;);\r\n          }\r\n        },time\r\n      );\r\n    }","title":"How to delay asynchronously when a method is called consecutively?","body":"<p>While calling function, you can set the number of seconds as a parameter</p>\n<pre><code>System.out.println(ts() + &quot; Zero&quot;);\nprintFirst(60000);\nprintFirst(12000);\nprintFirst(18000);\nSystem.out.println(ts() + &quot; Second&quot;);\nSystem.out.println(ts() + &quot; Third&quot;);\nSystem.out.println(ts() + &quot; Fourth&quot;);\n</code></pre>\n<p>In your function,</p>\n<pre><code>static void printFirst(long time) {\n  new java.util.Timer().schedule(\n    new java.util.TimerTask() {\n      public void run() {\n        System.out.println(ts() + &quot; First&quot;);\n      }\n    },time\n  );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6914700,"reputation":4797,"user_id":5309419,"display_name":"DmitryArc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672924383,"creation_date":1672924383,"answer_id":75018963,"question_id":75016807,"body_markdown":"As an option you can set up your timer for periodic execution and limit the number of runs\r\n``` java\r\nstatic void printFirst(long delay, int numberOfIterations) {\r\n\tnew java.util.Timer().schedule(\r\n\t\tnew java.util.TimerTask() {\r\n\t\t\tprivate int counter = 0;\r\n\t\t\tpublic void run() {\r\n\t\t\t\tSystem.out.println(ts() + &quot; First&quot;);\r\n\r\n\t\t\t\tif(++counter == numberOfIterations) {\r\n\t\t\t\t\tthis.cancel();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, delay, delay\r\n\t);\r\n}\r\n```\r\nAnd then just run it with one command `printFirst(60000, 3);`","title":"How to delay asynchronously when a method is called consecutively?","body":"<p>As an option you can set up your timer for periodic execution and limit the number of runs</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void printFirst(long delay, int numberOfIterations) {\n    new java.util.Timer().schedule(\n        new java.util.TimerTask() {\n            private int counter = 0;\n            public void run() {\n                System.out.println(ts() + &quot; First&quot;);\n\n                if(++counter == numberOfIterations) {\n                    this.cancel();\n                }\n            }\n        }, delay, delay\n    );\n}\n</code></pre>\n<p>And then just run it with one command <code>printFirst(60000, 3);</code></p>\n"},{"comments":[{"owner":{"account_id":14736775,"reputation":53,"user_id":10642567,"display_name":"Sangmin Kim"},"score":2,"creation_date":1672938336,"post_id":75021492,"comment_id":132390851,"body_markdown":"This is great! I just do think that it lacks the es.shutdown() after the print line to free up resources","body":"This is great! I just do think that it lacks the es.shutdown() after the print line to free up resources"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1672948818,"post_id":75021492,"comment_id":132394141,"body_markdown":"`TimeUnit.MILLISECONDS.sleep(60000);` Uhh, why not `TimeUnit.MINUTES.sleep(1)` ?","body":"<code>TimeUnit.MILLISECONDS.sleep(60000);</code> Uhh, why not <code>TimeUnit.MINUTES.sleep(1)</code> ?"}],"tags":[],"owner":{"account_id":16777244,"reputation":56,"user_id":20938349,"display_name":"Raigormator"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672935795,"creation_date":1672935795,"answer_id":75021492,"question_id":75016807,"body_markdown":"We can achieve the expected results using ExecutorService class with the newSingleThreadExecutor() method. See the code below.\r\n\r\n    static ExecutorService es = Executors.newSingleThreadExecutor();\r\n\r\n    static void printFirst() {\r\n        es.submit(() -&gt; {\r\n            try {\r\n                TimeUnit.MILLISECONDS.sleep(60000);\r\n                System.out.println(ts() + &quot; First&quot;);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n\r\nThe main method is still the same.\r\n\r\n    System.out.println(ts() + &quot; Zero&quot;);\r\n    printFirst();\r\n    printFirst();\r\n    printFirst();\r\n    System.out.println(ts() + &quot; Second&quot;);\r\n    System.out.println(ts() + &quot; Third&quot;);\r\n    System.out.println(ts() + &quot; Fourth&quot;);\r\n\r\nWhen run, the results are:\r\n\r\n    2023-01-06 00:05:45.72 Zero\r\n    2023-01-06 00:05:45.763 Second\r\n    2023-01-06 00:05:45.763 Third\r\n    2023-01-06 00:05:45.763 Fourth\r\n    2023-01-06 00:06:45.776 First\r\n    2023-01-06 00:07:45.782 First\r\n    2023-01-06 00:08:45.784 First","title":"How to delay asynchronously when a method is called consecutively?","body":"<p>We can achieve the expected results using ExecutorService class with the newSingleThreadExecutor() method. See the code below.</p>\n<pre><code>static ExecutorService es = Executors.newSingleThreadExecutor();\n\nstatic void printFirst() {\n    es.submit(() -&gt; {\n        try {\n            TimeUnit.MILLISECONDS.sleep(60000);\n            System.out.println(ts() + &quot; First&quot;);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    });\n}\n</code></pre>\n<p>The main method is still the same.</p>\n<pre><code>System.out.println(ts() + &quot; Zero&quot;);\nprintFirst();\nprintFirst();\nprintFirst();\nSystem.out.println(ts() + &quot; Second&quot;);\nSystem.out.println(ts() + &quot; Third&quot;);\nSystem.out.println(ts() + &quot; Fourth&quot;);\n</code></pre>\n<p>When run, the results are:</p>\n<pre><code>2023-01-06 00:05:45.72 Zero\n2023-01-06 00:05:45.763 Second\n2023-01-06 00:05:45.763 Third\n2023-01-06 00:05:45.763 Fourth\n2023-01-06 00:06:45.776 First\n2023-01-06 00:07:45.782 First\n2023-01-06 00:08:45.784 First\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672937581,"creation_date":1672936501,"answer_id":75021618,"question_id":75016807,"body_markdown":"### Issue\r\nThe delay in your [`Timer.schedule(TimerTask task, long initialDelay)`](https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule(java.util.TimerTask,%20long)) is just for the **initial** delay, time between scheduled and start of task. See parameter in docs:\r\n&gt; `delay` - delay in milliseconds before task is to be executed.\r\n\r\n### Solution\r\nFor your intent - as **interval** - you need the overloaded sister-method [`schedule(TimerTask task, long delay, long period)`](https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule(java.util.TimerTask,%20long,%20long)) passing the 1 minute interval as third argument to parameter named `period`:\r\n\r\n&gt; Schedules the specified task for repeated fixed-delay execution, beginning after the specified delay. Subsequent executions take place at **approximately regular intervals separated by the specified `period`**.\r\n\r\n```\r\nimport java.util.Timer;\r\nimport java.util.TimerTask;\r\n\r\n// define the task, here in a method on demand\r\npublic static TimerTask createPrintTask(String text) {\r\n   return new TimerTask() {\r\n      public void run() {\r\n        System.out.println(ts() + text);  // not sure how ts() is defined\r\n      }\r\n    };\r\n}\r\n\r\n// define print-method using Timer with interval and zero delay\r\nstatic void printScheduledWithInterval(String text, int intervalMillis) {\r\n  var initialDelayMillis = 0; // start immediately (first after 0 seconds)\r\n  new Timer().schedule(createPrintTask(text), initialDelayMillis, intervalMillis);\r\n}\r\n\r\n// MAIN\r\nSystem.out.println(ts() + &quot; Zero&quot;);\r\n\r\n// use to start the task asynchronously (it will continue to print every interval until canceled)\r\nprintScheduledWithInterval(&quot; First&quot;, 60_000);  // 1 minute interval\r\n\r\nSystem.out.println(ts() + &quot; Second&quot;);\r\nSystem.out.println(ts() + &quot; Third&quot;);\r\nSystem.out.println(ts() + &quot; Fourth&quot;);\r\n```\r\nNote: In you code there was `printFirst` called 3 times. Presumably to have 3 different tasks started or to have 3 lines printed. \r\n\r\n### When does the scheduling of task end?\r\nThe `printScheduledWithInterval` here, rather means schedule a print-job to be executed repeatedly on a fixed-interval.\r\n\r\nSince there are no requirements about number of printed lines or max-execution count, the timer will continuously start new tasks.","title":"How to delay asynchronously when a method is called consecutively?","body":"<h3>Issue</h3>\n<p>The delay in your <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule(java.util.TimerTask,%20long)\" rel=\"nofollow noreferrer\"><code>Timer.schedule(TimerTask task, long initialDelay)</code></a> is just for the <strong>initial</strong> delay, time between scheduled and start of task. See parameter in docs:</p>\n<blockquote>\n<p><code>delay</code> - delay in milliseconds before task is to be executed.</p>\n</blockquote>\n<h3>Solution</h3>\n<p>For your intent - as <strong>interval</strong> - you need the overloaded sister-method <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule(java.util.TimerTask,%20long,%20long)\" rel=\"nofollow noreferrer\"><code>schedule(TimerTask task, long delay, long period)</code></a> passing the 1 minute interval as third argument to parameter named <code>period</code>:</p>\n<blockquote>\n<p>Schedules the specified task for repeated fixed-delay execution, beginning after the specified delay. Subsequent executions take place at <strong>approximately regular intervals separated by the specified <code>period</code></strong>.</p>\n</blockquote>\n<pre><code>import java.util.Timer;\nimport java.util.TimerTask;\n\n// define the task, here in a method on demand\npublic static TimerTask createPrintTask(String text) {\n   return new TimerTask() {\n      public void run() {\n        System.out.println(ts() + text);  // not sure how ts() is defined\n      }\n    };\n}\n\n// define print-method using Timer with interval and zero delay\nstatic void printScheduledWithInterval(String text, int intervalMillis) {\n  var initialDelayMillis = 0; // start immediately (first after 0 seconds)\n  new Timer().schedule(createPrintTask(text), initialDelayMillis, intervalMillis);\n}\n\n// MAIN\nSystem.out.println(ts() + &quot; Zero&quot;);\n\n// use to start the task asynchronously (it will continue to print every interval until canceled)\nprintScheduledWithInterval(&quot; First&quot;, 60_000);  // 1 minute interval\n\nSystem.out.println(ts() + &quot; Second&quot;);\nSystem.out.println(ts() + &quot; Third&quot;);\nSystem.out.println(ts() + &quot; Fourth&quot;);\n</code></pre>\n<p>Note: In you code there was <code>printFirst</code> called 3 times. Presumably to have 3 different tasks started or to have 3 lines printed.</p>\n<h3>When does the scheduling of task end?</h3>\n<p>The <code>printScheduledWithInterval</code> here, rather means schedule a print-job to be executed repeatedly on a fixed-interval.</p>\n<p>Since there are no requirements about number of printed lines or max-execution count, the timer will continuously start new tasks.</p>\n"}],"owner":{"account_id":14736775,"reputation":53,"user_id":10642567,"display_name":"Sangmin Kim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75021492,"answer_count":4,"score":5,"last_activity_date":1672937581,"creation_date":1672913398,"question_id":75016807,"body_markdown":"I want to have a delay of 1 minute before the `printFirst()` method is called without affecting the main thread.\r\n\r\n### Code\r\nI tried\r\n```java\r\n// define delaying print-method using Timer\r\nstatic void printFirst() {\r\n  new java.util.Timer().schedule(\r\n    new java.util.TimerTask() {\r\n      public void run() {\r\n        System.out.println(ts() + &quot; First&quot;);\r\n      }\r\n    },60000\r\n  );\r\n}\r\n\r\n// main to run\r\nSystem.out.println(ts() + &quot; Zero&quot;);\r\nprintFirst();\r\nprintFirst();\r\nprintFirst();\r\nSystem.out.println(ts() + &quot; Second&quot;);\r\nSystem.out.println(ts() + &quot; Third&quot;);\r\nSystem.out.println(ts() + &quot; Fourth&quot;);\r\n```\r\n### Actual Output\r\nbut the output was\r\n```\r\nTimestamp: 2023-01-05 17:40:43.664 Zero\r\nTimestamp: 2023-01-05 17:40:43.666 Second\r\nTimestamp: 2023-01-05 17:40:43.667 Third\r\nTimestamp: 2023-01-05 17:40:43.667 Fourth\r\nTimestamp: 2023-01-05 17:41:13.681 First\r\nTimestamp: 2023-01-05 17:41:13.681 First\r\nTimestamp: 2023-01-05 17:41:13.681 First\r\n```\r\n### Expected\r\nI was expecting an interval of 1 min between the 3 lines ending with &quot;First&quot;.\r\n```\r\nTimestamp: 2023-01-05 17:40:43.664 Zero\r\nTimestamp: 2023-01-05 17:40:43.666 Second\r\nTimestamp: 2023-01-05 17:40:43.667 Third\r\nTimestamp: 2023-01-05 17:40:43.667 Fourth\r\nTimestamp: 2023-01-05 17:41:43.667 First\r\nTimestamp: 2023-01-05 17:42:43.667 First\r\nTimestamp: 2023-01-05 17:43:43.667 First\r\n```","title":"How to delay asynchronously when a method is called consecutively?","body":"<p>I want to have a delay of 1 minute before the <code>printFirst()</code> method is called without affecting the main thread.</p>\n<h3>Code</h3>\n<p>I tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>// define delaying print-method using Timer\nstatic void printFirst() {\n  new java.util.Timer().schedule(\n    new java.util.TimerTask() {\n      public void run() {\n        System.out.println(ts() + &quot; First&quot;);\n      }\n    },60000\n  );\n}\n\n// main to run\nSystem.out.println(ts() + &quot; Zero&quot;);\nprintFirst();\nprintFirst();\nprintFirst();\nSystem.out.println(ts() + &quot; Second&quot;);\nSystem.out.println(ts() + &quot; Third&quot;);\nSystem.out.println(ts() + &quot; Fourth&quot;);\n</code></pre>\n<h3>Actual Output</h3>\n<p>but the output was</p>\n<pre><code>Timestamp: 2023-01-05 17:40:43.664 Zero\nTimestamp: 2023-01-05 17:40:43.666 Second\nTimestamp: 2023-01-05 17:40:43.667 Third\nTimestamp: 2023-01-05 17:40:43.667 Fourth\nTimestamp: 2023-01-05 17:41:13.681 First\nTimestamp: 2023-01-05 17:41:13.681 First\nTimestamp: 2023-01-05 17:41:13.681 First\n</code></pre>\n<h3>Expected</h3>\n<p>I was expecting an interval of 1 min between the 3 lines ending with &quot;First&quot;.</p>\n<pre><code>Timestamp: 2023-01-05 17:40:43.664 Zero\nTimestamp: 2023-01-05 17:40:43.666 Second\nTimestamp: 2023-01-05 17:40:43.667 Third\nTimestamp: 2023-01-05 17:40:43.667 Fourth\nTimestamp: 2023-01-05 17:41:43.667 First\nTimestamp: 2023-01-05 17:42:43.667 First\nTimestamp: 2023-01-05 17:43:43.667 First\n</code></pre>\n"},{"tags":["java","list","jdbc"],"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":2,"creation_date":1350903254,"post_id":13009911,"comment_id":17653803,"body_markdown":"Yes its possible. But what have your tried?","body":"Yes its possible. But what have your tried?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1350903323,"post_id":13009911,"comment_id":17653833,"body_markdown":"1) [What have you tried?](http://www.whathaveyoutried.com/) 2) *&quot;add to my dto.&quot;*  What is a &#39;DTO&#39;?","body":"1) <a href=\"http://www.whathaveyoutried.com/\" rel=\"nofollow noreferrer\">What have you tried?</a> 2) <i>&quot;add to my dto.&quot;</i>  What is a &#39;DTO&#39;?"},{"owner":{"account_id":456582,"reputation":10927,"user_id":855421,"accept_rate":78,"display_name":"Lews Therin"},"score":1,"creation_date":1350903391,"post_id":13009911,"comment_id":17653868,"body_markdown":"@AndrewThompson Data transfer object.. but I&#39;m guessing you knew that? :P","body":"@AndrewThompson Data transfer object.. but I&#39;m guessing you knew that? :P"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1350903488,"post_id":13009911,"comment_id":17653909,"body_markdown":"@LewsTherin  No I honestly didn&#39;t, and was too plum lazy to search on it. :P  Thanks for the info.  :)","body":"@LewsTherin  No I honestly didn&#39;t, and was too plum lazy to search on it. :P  Thanks for the info.  :)"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350905700,"creation_date":1350903315,"answer_id":13009950,"question_id":13009911,"body_markdown":"It is. What have you tried ? \r\n\r\nTo access the database, you need to [use JDBC][1] and execute a query, giving you a `ResultSet`.\r\n\r\nI would create an class called `FullName` with 2 String fields `name` and `surname`. Just populate these in a loop using \r\n\r\n    rs.getString(&quot;NAME&quot;);  // column name\r\n    rs.getString(&quot;SURNAME&quot;);\r\n\r\ne.g.\r\n\r\n    List&lt;FullName&gt; fullnames = new ArrayList&lt;FullName&gt;();\r\n    while (rs.next()) {\r\n        fullnames.add(new FullName(rs));\r\n    }\r\n\r\nNote that I&#39;m populating the object via the `ResultSet` object directly. You may choose instead to implement a constructor taking the 2 name fields.\r\n\r\nNote also that I&#39;m creating a `Fullname` object. So the firstname/surname are kept separate and you have the freedom to add initials etc. later. You may prefer to rename this `Person` and that will give you the freedom to add additional attributes going forwards.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/jdbc/basics/index.html","title":"Resultset to list","body":"<p>It is. What have you tried ? </p>\n\n<p>To access the database, you need to <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/index.html\" rel=\"nofollow\">use JDBC</a> and execute a query, giving you a <code>ResultSet</code>.</p>\n\n<p>I would create an class called <code>FullName</code> with 2 String fields <code>name</code> and <code>surname</code>. Just populate these in a loop using </p>\n\n<pre><code>rs.getString(\"NAME\");  // column name\nrs.getString(\"SURNAME\");\n</code></pre>\n\n<p>e.g.</p>\n\n<pre><code>List&lt;FullName&gt; fullnames = new ArrayList&lt;FullName&gt;();\nwhile (rs.next()) {\n    fullnames.add(new FullName(rs));\n}\n</code></pre>\n\n<p>Note that I'm populating the object via the <code>ResultSet</code> object directly. You may choose instead to implement a constructor taking the 2 name fields.</p>\n\n<p>Note also that I'm creating a <code>Fullname</code> object. So the firstname/surname are kept separate and you have the freedom to add initials etc. later. You may prefer to rename this <code>Person</code> and that will give you the freedom to add additional attributes going forwards.</p>\n"},{"comments":[{"owner":{"account_id":1956305,"reputation":101,"user_id":1759247,"accept_rate":17,"display_name":"user1759247"},"score":0,"creation_date":1350905036,"post_id":13010010,"comment_id":17654565,"body_markdown":"What i must do is read 2 columns from a table called CUSTOMER.\nthe column names are NAME and SURNAME.\ni must then store this information in my DTO.\n\nThen from my main class i must write the names and surnames to a file in this format:  \n\nRohit Jain | Brain Agnew | Andrew Thompson\n\nAnd im still new to java so have no idea how to do this, at the moment it writes to file but like this:  \n\nRohit, Brain, Andrew | Jain, Agnew, Thompson\n\nHow do i resolve this?","body":"What i must do is read 2 columns from a table called CUSTOMER. the column names are NAME and SURNAME. i must then store this information in my DTO.  Then from my main class i must write the names and surnames to a file in this format:    Rohit Jain | Brain Agnew | Andrew Thompson  And im still new to java so have no idea how to do this, at the moment it writes to file but like this:    Rohit, Brain, Andrew | Jain, Agnew, Thompson  How do i resolve this?"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1350905137,"post_id":13010010,"comment_id":17654618,"body_markdown":"@user1759247 As I said. Create another DTO - `FullName`, which contains two fields - `name` and `surname`. Now, for every ResultSet, you need to create an instance of your `FullName` DTO, and add it to the `List`. And your List will be declared as : - `List&lt;FullName&gt;`","body":"@user1759247 As I said. Create another DTO - <code>FullName</code>, which contains two fields - <code>name</code> and <code>surname</code>. Now, for every ResultSet, you need to create an instance of your <code>FullName</code> DTO, and add it to the <code>List</code>. And your List will be declared as : - <code>List&lt;FullName&gt;</code>"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1350905287,"post_id":13010010,"comment_id":17654675,"body_markdown":"@user1759247 And then when you fetch data from your `List`, use it like: - `list.get(0).getName() + &quot; &quot; + list.get(0).getSurname()`","body":"@user1759247 And then when you fetch data from your <code>List</code>, use it like: - <code>list.get(0).getName() + &quot; &quot; + list.get(0).getSurname()</code>"},{"owner":{"account_id":1956305,"reputation":101,"user_id":1759247,"accept_rate":17,"display_name":"user1759247"},"score":0,"creation_date":1350909678,"post_id":13010010,"comment_id":17656735,"body_markdown":"got it working, but it now displays as Rohit Jain, Andrew Thompson etc, how can i replace , with |?\n\nThank you / Kind Regards","body":"got it working, but it now displays as Rohit Jain, Andrew Thompson etc, how can i replace , with |?  Thank you / Kind Regards"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1350909691,"post_id":13010010,"comment_id":17656741,"body_markdown":"@user1759247. Also, you can remove your duplicate comment from above. You might have mistakenly duplicated them.","body":"@user1759247. Also, you can remove your duplicate comment from above. You might have mistakenly duplicated them."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1350909728,"post_id":13010010,"comment_id":17656755,"body_markdown":"@user1759247. How are you displaying it?","body":"@user1759247. How are you displaying it?"}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":6,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1350903854,"creation_date":1350903533,"answer_id":13010010,"question_id":13009911,"body_markdown":"**Steps you can follow**: -\r\n\r\n - First you need to have a `List&lt;String&gt;` that will store all your names. Declare it like this: -\r\n\r\n        List&lt;String&gt; nameList = new ArrayList&lt;String&gt;();\r\n\r\n - Now, you have all the records fetched and stored in `ResultSet`. So I assume that you can iterate over `ResultSet` and get each `values` from it. You need to use `ResultSet#getString` to fetch the `name`.\r\n\r\n - Now, each time you fetch one record, get the `name` field and add it to your list.\r\n\r\n        while(resultSet.next()) {\r\n            nameList.add(resultSet.getString(&quot;name&quot;));\r\n        }\r\n\r\n - Now, since you haven&#39;t given enough information about your `DTO`, so that part you need to find out, how to add this `ArrayList` to your `DTO`. \r\n\r\n - The above `list` only contains `name` and not `surname` as you wanted only `name`. But if you want both, you need to create a custom DTO `(FullName)`, that\r\n   contains `name` and `surname` as fields. And instantiate it from\r\n   every `ResultSet` and add it to the `List&lt;FullName&gt;`","title":"Resultset to list","body":"<p><strong>Steps you can follow</strong>: -</p>\n\n<ul>\n<li><p>First you need to have a <code>List&lt;String&gt;</code> that will store all your names. Declare it like this: -</p>\n\n<pre><code>List&lt;String&gt; nameList = new ArrayList&lt;String&gt;();\n</code></pre></li>\n<li><p>Now, you have all the records fetched and stored in <code>ResultSet</code>. So I assume that you can iterate over <code>ResultSet</code> and get each <code>values</code> from it. You need to use <code>ResultSet#getString</code> to fetch the <code>name</code>.</p></li>\n<li><p>Now, each time you fetch one record, get the <code>name</code> field and add it to your list.</p>\n\n<pre><code>while(resultSet.next()) {\n    nameList.add(resultSet.getString(\"name\"));\n}\n</code></pre></li>\n<li><p>Now, since you haven't given enough information about your <code>DTO</code>, so that part you need to find out, how to add this <code>ArrayList</code> to your <code>DTO</code>. </p></li>\n<li><p>The above <code>list</code> only contains <code>name</code> and not <code>surname</code> as you wanted only <code>name</code>. But if you want both, you need to create a custom DTO <code>(FullName)</code>, that\ncontains <code>name</code> and <code>surname</code> as fields. And instantiate it from\nevery <code>ResultSet</code> and add it to the <code>List&lt;FullName&gt;</code></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1485174468,"creation_date":1411478096,"answer_id":25996108,"question_id":13009911,"body_markdown":"JDBC unfortunately doesn&#39;t offer any ways to conveniently do this in a one-liner. But there are other APIs, such as [jOOQ][1] (disclaimer: I work for the company behind jOOQ):\r\n\r\n    List&lt;DTO&gt; list =\r\n    DSL.using(connection)\r\n       .fetch(&quot;SELECT first_name, last_name FROM table&quot;)\r\n       .into(DTO.class);\r\n\r\nOr [Spring JDBC][2]\r\n\r\n    List&lt;DTO&gt; list =\r\n    new JdbcTemplate(new SingleConnectionDataSource(connection, true))\r\n       .query(&quot;SELECT first_name, last_name FROM table&quot;, (rs, rowNum) -&gt;\r\n           new DTO(rs.getString(1), rs.getString(2));\r\n\r\nOr [Apache DbUtils][3]:\r\n\r\n    List&lt;DTO&gt; list =\r\n    new QueryRunner()\r\n       .query(connection, \r\n              &quot;SELECT first_name, last_name FROM table&quot;, \r\n              new ArrayListHandler())\r\n       .stream()\r\n       .map(array -&gt; new DTO((String) array[0], (String) array[1]))\r\n       .collect(Collectors.toList());\r\n\r\n\r\nI&#39;ve used Java 8 for the Spring JDBC / Apache DbUtils examples, but it can be done with older versions of Java as well.\r\n\r\n\r\n  [1]: http://www.jooq.org\r\n  [2]: http://projects.spring.io/spring-data/\r\n  [3]: http://commons.apache.org/proper/commons-dbutils/","title":"Resultset to list","body":"<p>JDBC unfortunately doesn't offer any ways to conveniently do this in a one-liner. But there are other APIs, such as <a href=\"http://www.jooq.org\" rel=\"nofollow noreferrer\">jOOQ</a> (disclaimer: I work for the company behind jOOQ):</p>\n\n<pre><code>List&lt;DTO&gt; list =\nDSL.using(connection)\n   .fetch(\"SELECT first_name, last_name FROM table\")\n   .into(DTO.class);\n</code></pre>\n\n<p>Or <a href=\"http://projects.spring.io/spring-data/\" rel=\"nofollow noreferrer\">Spring JDBC</a></p>\n\n<pre><code>List&lt;DTO&gt; list =\nnew JdbcTemplate(new SingleConnectionDataSource(connection, true))\n   .query(\"SELECT first_name, last_name FROM table\", (rs, rowNum) -&gt;\n       new DTO(rs.getString(1), rs.getString(2));\n</code></pre>\n\n<p>Or <a href=\"http://commons.apache.org/proper/commons-dbutils/\" rel=\"nofollow noreferrer\">Apache DbUtils</a>:</p>\n\n<pre><code>List&lt;DTO&gt; list =\nnew QueryRunner()\n   .query(connection, \n          \"SELECT first_name, last_name FROM table\", \n          new ArrayListHandler())\n   .stream()\n   .map(array -&gt; new DTO((String) array[0], (String) array[1]))\n   .collect(Collectors.toList());\n</code></pre>\n\n<p>I've used Java 8 for the Spring JDBC / Apache DbUtils examples, but it can be done with older versions of Java as well.</p>\n"},{"tags":[],"owner":{"account_id":6765293,"reputation":929,"user_id":5210482,"display_name":"vlatko606"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660315521,"creation_date":1660315521,"answer_id":73335894,"question_id":13009911,"body_markdown":"What worked for me is:\r\n\r\n    ResultSetMetaData rsmd = rs.getMetaData();\r\n             int columnCount = rsmd.getColumnCount();\r\n\r\n             ArrayList&lt;String&gt; resultList= new ArrayList&lt;&gt;(columnCount);\r\n             while (rs.next()) {\r\n                 int i = 1;\r\n                 while(i &lt;= columnCount) {\r\n                     resultList.add(rs.getString(i++));\r\n                 }\r\n             }\r\n             return resultList;","title":"Resultset to list","body":"<p>What worked for me is:</p>\n<pre><code>ResultSetMetaData rsmd = rs.getMetaData();\n         int columnCount = rsmd.getColumnCount();\n\n         ArrayList&lt;String&gt; resultList= new ArrayList&lt;&gt;(columnCount);\n         while (rs.next()) {\n             int i = 1;\n             while(i &lt;= columnCount) {\n                 resultList.add(rs.getString(i++));\n             }\n         }\n         return resultList;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672988515,"post_id":75021843,"comment_id":132401270,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75021843/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23995856,"reputation":1,"user_id":17981371,"display_name":"Ashwin Waikar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672937581,"creation_date":1672937581,"answer_id":75021843,"question_id":13009911,"body_markdown":"This worked for me-&gt;\r\n\r\n    private List&lt;Object[]&gt; convertResultsetToObject(ResultSet rs) throws SQLException {\r\n\t\tList&lt;Object[]&gt; results = new ArrayList&lt;Object[]&gt;();\r\n\t\tint count = 0;\r\n\t\tif(rs != null) {\r\n\t\t\tResultSetMetaData rsm = rs.getMetaData();\r\n\t\t\tcount = rsm.getColumnCount();\r\n\t\t}\r\n\t\twhile(rs != null &amp;&amp; rs.next()) {\r\n\t\t\tObject [] obj = new Object[count];\r\n\t\t\tint temp = 1;\r\n\t\t\twhile(temp &lt;= count) {\r\n\t\t\t\tobj[temp - 1] = rs.getObject(temp);\r\n\t\t\t\ttemp++;\r\n\t\t\t}\r\n\t\t\tresults.add(obj);\r\n\t\t}\r\n\t\treturn results;\r\n\t}","title":"Resultset to list","body":"<p>This worked for me-&gt;</p>\n<pre><code>private List&lt;Object[]&gt; convertResultsetToObject(ResultSet rs) throws SQLException {\n    List&lt;Object[]&gt; results = new ArrayList&lt;Object[]&gt;();\n    int count = 0;\n    if(rs != null) {\n        ResultSetMetaData rsm = rs.getMetaData();\n        count = rsm.getColumnCount();\n    }\n    while(rs != null &amp;&amp; rs.next()) {\n        Object [] obj = new Object[count];\n        int temp = 1;\n        while(temp &lt;= count) {\n            obj[temp - 1] = rs.getObject(temp);\n            temp++;\n        }\n        results.add(obj);\n    }\n    return results;\n}\n</code></pre>\n"}],"owner":{"account_id":1956305,"reputation":101,"user_id":1759247,"accept_rate":17,"display_name":"user1759247"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45415,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":13010010,"answer_count":5,"score":3,"last_activity_date":1672937581,"creation_date":1350903173,"question_id":13009911,"body_markdown":"I want to create a list with my database field values.\r\nThere are 2 columns, name and surname.\r\nI want to create a list that stores all names in name column in a field and then add to my DTO.\r\n\r\nIs this possible?","title":"Resultset to list","body":"<p>I want to create a list with my database field values.\nThere are 2 columns, name and surname.\nI want to create a list that stores all names in name column in a field and then add to my DTO.</p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","rabbitmq","spring-cloud-stream","spring-cloud-stream-binder"],"comments":[{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1664896197,"post_id":73947338,"comment_id":130572206,"body_markdown":"Setting `maxAttempts` to 1 will disable retries in the binder; so something is wrong with your config.","body":"Setting <code>maxAttempts</code> to 1 will disable retries in the binder; so something is wrong with your config."},{"owner":{"account_id":11047599,"reputation":140,"user_id":8113107,"display_name":"RaRa"},"score":0,"creation_date":1664913405,"post_id":73947338,"comment_id":130577505,"body_markdown":"@GaryRussell I came across a mention of the heartbeat property, could this be causing the messages to be redelivered?\nI observe that the redelivery happens if I pause the consumer through the debugger for close to 60 seconds. \nAlso, the number of redeliveries could be more than 3, basically, it depends on the time I pause on each message in the consumer, and also the deliveryAttempt is always 1.","body":"@GaryRussell I came across a mention of the heartbeat property, could this be causing the messages to be redelivered? I observe that the redelivery happens if I pause the consumer through the debugger for close to 60 seconds.  Also, the number of redeliveries could be more than 3, basically, it depends on the time I pause on each message in the consumer, and also the deliveryAttempt is always 1."}],"answers":[{"tags":[],"owner":{"account_id":20740735,"reputation":85,"user_id":15230464,"display_name":"Wally Liu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672937529,"creation_date":1672937529,"answer_id":75021834,"question_id":73947338,"body_markdown":"I used to run into this issue when the message processing in the consumer failed (exception thrown). In this case, if you have DLQ configured, make sure to add the following configuration as well so the failed message will be routed to the DLQ not the original listening queue.\r\n&quot;\r\n      rabbit:\r\n        autoBindDlq: true\r\n&quot;\r\n\r\nOtherwise if you don&#39;t set up the DLQ, configure &quot;autoBindDlq&quot; to &quot;false&quot;.\r\n","title":"Message getting redelivered to RabbitMQ consumer setup using spring cloud stream","body":"<p>I used to run into this issue when the message processing in the consumer failed (exception thrown). In this case, if you have DLQ configured, make sure to add the following configuration as well so the failed message will be routed to the DLQ not the original listening queue.\n&quot;\nrabbit:\nautoBindDlq: true\n&quot;</p>\n<p>Otherwise if you don't set up the DLQ, configure &quot;autoBindDlq&quot; to &quot;false&quot;.</p>\n"}],"owner":{"account_id":11047599,"reputation":140,"user_id":8113107,"display_name":"RaRa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672937529,"creation_date":1664883587,"question_id":73947338,"body_markdown":"We have a SpringBoot service implementation in which we are using delayed messaging with the below setup:\r\n\r\n 1. Initial queue (Queue 1) that gets the message has a TTL set, the queue also has a dead letter exchange mentioned with a specific dead letter routing key.\r\n2. Another queue (Queue 2) is bound to the DLX of the previous queue with the routing key which is set as the dead letter routing key\r\n3. A consumer listens to the messages on Queue 2.\r\n\r\nThe delayed messaging seems to work as expected but I am seeing an issue with messages getting redelivered in certain scenarios.\r\n\r\nIf I have a debug point in my consumer and keep the message just after reading it for some time then once the current message has been processed consumer gets another message which has the below properties:\r\n - Redelivered property as true.\r\n - Property deliveryAttempt as 1\r\n - Only the first message has an ```x-death``` header and redelivered messages do not seem to have it.\r\n\r\nThe attempt to deliver the message is done &lt;strike&gt;3 times&lt;/strike&gt; as many times as I pause the consumer using the debug point each time after reading each redelivered message.\r\n\r\nMy understanding was that the acknowledgment mode by default is AUTO so once the consumer has read the message then it would not be redelivered?\r\n\r\nI have tried using ```maxAttempts=1``` property but does not seem to help. \r\n\r\nI am using the spring cloud stream to create the consumers and the queues. \r\n","title":"Message getting redelivered to RabbitMQ consumer setup using spring cloud stream","body":"<p>We have a SpringBoot service implementation in which we are using delayed messaging with the below setup:</p>\n<ol>\n<li>Initial queue (Queue 1) that gets the message has a TTL set, the queue also has a dead letter exchange mentioned with a specific dead letter routing key.</li>\n<li>Another queue (Queue 2) is bound to the DLX of the previous queue with the routing key which is set as the dead letter routing key</li>\n<li>A consumer listens to the messages on Queue 2.</li>\n</ol>\n<p>The delayed messaging seems to work as expected but I am seeing an issue with messages getting redelivered in certain scenarios.</p>\n<p>If I have a debug point in my consumer and keep the message just after reading it for some time then once the current message has been processed consumer gets another message which has the below properties:</p>\n<ul>\n<li>Redelivered property as true.</li>\n<li>Property deliveryAttempt as 1</li>\n<li>Only the first message has an <code>x-death</code> header and redelivered messages do not seem to have it.</li>\n</ul>\n<p>The attempt to deliver the message is done <strike>3 times</strike> as many times as I pause the consumer using the debug point each time after reading each redelivered message.</p>\n<p>My understanding was that the acknowledgment mode by default is AUTO so once the consumer has read the message then it would not be redelivered?</p>\n<p>I have tried using <code>maxAttempts=1</code> property but does not seem to help.</p>\n<p>I am using the spring cloud stream to create the consumers and the queues.</p>\n"},{"tags":["java","android","kotlin","android-recyclerview","android-arrayadapter"],"comments":[{"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"score":0,"creation_date":1672905404,"post_id":75015036,"comment_id":132379334,"body_markdown":"Hi, What is the purpose of the chatViewModel.postReChatResponse.observe ?","body":"Hi, What is the purpose of the chatViewModel.postReChatResponse.observe ?"},{"owner":{"account_id":26287608,"reputation":1,"user_id":19955048,"display_name":"박성범"},"score":0,"creation_date":1672908075,"post_id":75015036,"comment_id":132380017,"body_markdown":"with Retrofit I post the user&#39;s chat to the server and then I add the user&#39;s chat to the recyclerview\nI fix the name of the postReChatResponse to postChatResponse sorry for confusing","body":"with Retrofit I post the user&#39;s chat to the server and then I add the user&#39;s chat to the recyclerview I fix the name of the postReChatResponse to postChatResponse sorry for confusing"},{"owner":{"account_id":3131499,"reputation":1797,"user_id":2649154,"accept_rate":93,"display_name":"gioravered"},"score":0,"creation_date":1672908312,"post_id":75015036,"comment_id":132380097,"body_markdown":"It is not clear why you are calling the &quot;observe&quot; method on every click of the &quot;send button&quot;. Usually observe should be called once. Can you share you ViewModel code?","body":"It is not clear why you are calling the &quot;observe&quot; method on every click of the &quot;send button&quot;. Usually observe should be called once. Can you share you ViewModel code?"},{"owner":{"account_id":26287608,"reputation":1,"user_id":19955048,"display_name":"박성범"},"score":0,"creation_date":1672908502,"post_id":75015036,"comment_id":132380165,"body_markdown":"I&#39;m practice the viewmodel now, so I&#39;m not good at this sorry..\n\n`private val _postChatResponse: MutableLiveData&lt;Response&lt;String&gt;&gt; = \nMutableLiveData()\n\nval postChatResponse: LiveData&lt;Response&lt;String&gt;&gt;\n        get() = _postChatResponse\n\n fun postChat(hashMap: HashMap&lt;String, Any&gt;) {\n    viewModelScope.launch {\n            try {\n                val response = chatRepository.postChat(hashMap)\n                _postChatResponse.value = response\n            } catch (e: Exception) {\n                Log.d(&quot;postChatError&quot;, e.toString())\n            }\n        }\n    }`","body":"I&#39;m practice the viewmodel now, so I&#39;m not good at this sorry..  <code>private val _postChatResponse: MutableLiveData&lt;Response&lt;String&gt;&gt; =  MutableLiveData()  val postChatResponse: LiveData&lt;Response&lt;String&gt;&gt;         get() = _postChatResponse   fun postChat(hashMap: HashMap&lt;String, Any&gt;) {     viewModelScope.launch {             try {                 val response = chatRepository.postChat(hashMap)                 _postChatResponse.value = response             } catch (e: Exception) {                 Log.d(&quot;postChatError&quot;, e.toString())             }         }     }</code>"},{"owner":{"account_id":26287608,"reputation":1,"user_id":19955048,"display_name":"박성범"},"score":0,"creation_date":1672909204,"post_id":75015036,"comment_id":132380367,"body_markdown":"oh I can solve this problem thankyou I delete the postChat() function on the btn Click Thankyou So much","body":"oh I can solve this problem thankyou I delete the postChat() function on the btn Click Thankyou So much"}],"answers":[{"tags":[],"owner":{"account_id":11672847,"reputation":204,"user_id":8547372,"display_name":"Dharmeet Soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672937439,"creation_date":1672937439,"answer_id":75021813,"question_id":75015036,"body_markdown":"Do one thing just use single comment list and add value to the list and then use notifyDataSetChanged for adapter. this will works. Here you are adding values to the list again and again so that is why it is repeating data. ","title":"If I Add the item on the recyclerview the item add duplicate","body":"<p>Do one thing just use single comment list and add value to the list and then use notifyDataSetChanged for adapter. this will works. Here you are adding values to the list again and again so that is why it is repeating data.</p>\n"}],"owner":{"account_id":26287608,"reputation":1,"user_id":19955048,"display_name":"박성범"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672937439,"creation_date":1672903406,"question_id":75015036,"body_markdown":"First time, If I add the item(click the send button) on the recyclerview, it does successfully,\r\n\r\n but\r\nif I add the item second time, I expect see the item 1,2 but 1,2,1,2 add to the recyclerview\r\n\r\n\r\nI&#39;m using the multiViewType RecyclerView and the viewmodel\r\n\r\nand I also use the databinding on the adapter code\r\n\r\n\r\nThank you for your help\r\n\r\n\r\nbelow it&#39;s my code\r\n\r\n```\r\nprivate val commentList = mutableListOf&lt;Comment&gt;()\r\nprivate var chatAdpater = ChatAdapter()\r\n....\r\n\r\nbinding.sendBtn.setOnClickListener {\r\n                postChat()\r\n            }\r\n\r\n.....\r\n\r\nprivate fun postChat(){\r\n    chatViewModel.postReChatResponse.observe(viewLifecycleOwner) {\r\n\r\n        val newCommentList = mutableListOf&lt;Comment&gt;()\r\n        commentList.add(\r\n              Comment(\r\n                nickname,\r\n                description,\r\n                writeTime,\r\n                boardId.toInt(),\r\n                categoryId.toInt(),\r\n                id,\r\n                images,\r\n                2,\r\n                commentsid.toInt(),\r\n                0,\r\n                null\r\n               )\r\n              )\r\n\r\n         newCommentList.addAll(commentList)\r\n         chatAdpater.setData(newCommentList,commentList.size-1)\r\n   }\r\n}\r\n\r\n\r\n---------adapter-------\r\n\r\n.....\r\n\r\nvar commentList:MutableList&lt;Comment&gt;? = mutableListOf()\r\n\r\n.....\r\n\r\n@SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    fun setData(commentList: MutableList&lt;Comment&gt;,position: Int){\r\n        this.commentList = commentList\r\n        notifyItemInserted(position)\r\n    }\r\n\r\nclass ViewHolder(val binding: ChatItemListBinding) :\r\n        RecyclerView.ViewHolder(binding.root) {\r\n        fun onBind(data: Comment) {\r\n            binding.comment = data\r\n        }\r\n    }\r\n\r\n    class ReViewHolder(val bindingTwo: ReChatItemListBinding) :\r\n        RecyclerView.ViewHolder(bindingTwo.root) {\r\n        fun onBind(data: Comment) {\r\n            bindingTwo.reComment = data\r\n        }\r\n    }\r\n\r\n    override fun getItemViewType(position: Int): Int {\r\n        return when (commentList!![position].isrecomment) {\r\n            1 -&gt; 1\r\n            else -&gt; 2\r\n        }\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\r\n        val binding =\r\n            ChatItemListBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n        val bindingRe =\r\n            ReChatItemListBinding.inflate(LayoutInflater.from(parent.context), parent, false)\r\n        return when (viewType) {\r\n            1 -&gt; ReViewHolder(bindingRe)\r\n            else -&gt; ViewHolder(binding)\r\n        }\r\n    }\r\n\r\n    override fun getItemCount(): Int{\r\n        return commentList?.size ?: 0\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\r\n        when (commentList?.get(position)?.isrecomment) {\r\n            1 -&gt; (holder as ReViewHolder).apply {\r\n                holder.onBind(commentList!![position])\r\n                 }\r\n            2 -&gt; (holder as ViewHolder).apply {\r\n                holder.onBind(commentList!![position])\r\n                holder.binding.chatText.setOnClickListener {\r\n       \r\n                 }\r\n              }\r\n           }\r\n```","title":"If I Add the item on the recyclerview the item add duplicate","body":"<p>First time, If I add the item(click the send button) on the recyclerview, it does successfully,</p>\n<p>but\nif I add the item second time, I expect see the item 1,2 but 1,2,1,2 add to the recyclerview</p>\n<p>I'm using the multiViewType RecyclerView and the viewmodel</p>\n<p>and I also use the databinding on the adapter code</p>\n<p>Thank you for your help</p>\n<p>below it's my code</p>\n<pre><code>private val commentList = mutableListOf&lt;Comment&gt;()\nprivate var chatAdpater = ChatAdapter()\n....\n\nbinding.sendBtn.setOnClickListener {\n                postChat()\n            }\n\n.....\n\nprivate fun postChat(){\n    chatViewModel.postReChatResponse.observe(viewLifecycleOwner) {\n\n        val newCommentList = mutableListOf&lt;Comment&gt;()\n        commentList.add(\n              Comment(\n                nickname,\n                description,\n                writeTime,\n                boardId.toInt(),\n                categoryId.toInt(),\n                id,\n                images,\n                2,\n                commentsid.toInt(),\n                0,\n                null\n               )\n              )\n\n         newCommentList.addAll(commentList)\n         chatAdpater.setData(newCommentList,commentList.size-1)\n   }\n}\n\n\n---------adapter-------\n\n.....\n\nvar commentList:MutableList&lt;Comment&gt;? = mutableListOf()\n\n.....\n\n@SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    fun setData(commentList: MutableList&lt;Comment&gt;,position: Int){\n        this.commentList = commentList\n        notifyItemInserted(position)\n    }\n\nclass ViewHolder(val binding: ChatItemListBinding) :\n        RecyclerView.ViewHolder(binding.root) {\n        fun onBind(data: Comment) {\n            binding.comment = data\n        }\n    }\n\n    class ReViewHolder(val bindingTwo: ReChatItemListBinding) :\n        RecyclerView.ViewHolder(bindingTwo.root) {\n        fun onBind(data: Comment) {\n            bindingTwo.reComment = data\n        }\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return when (commentList!![position].isrecomment) {\n            1 -&gt; 1\n            else -&gt; 2\n        }\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n        val binding =\n            ChatItemListBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n        val bindingRe =\n            ReChatItemListBinding.inflate(LayoutInflater.from(parent.context), parent, false)\n        return when (viewType) {\n            1 -&gt; ReViewHolder(bindingRe)\n            else -&gt; ViewHolder(binding)\n        }\n    }\n\n    override fun getItemCount(): Int{\n        return commentList?.size ?: 0\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n        when (commentList?.get(position)?.isrecomment) {\n            1 -&gt; (holder as ReViewHolder).apply {\n                holder.onBind(commentList!![position])\n                 }\n            2 -&gt; (holder as ViewHolder).apply {\n                holder.onBind(commentList!![position])\n                holder.binding.chatText.setOnClickListener {\n       \n                 }\n              }\n           }\n</code></pre>\n"},{"tags":["java","apache-commons","slf4j","apache-commons-logging"],"comments":[{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":0,"creation_date":1296972108,"post_id":4911826,"comment_id":5470382,"body_markdown":"is common logging an abstraction? I thought is is logging implementation.(Spring uses it).You do not have to implement the static binder, jcl over slf4j is your static binder implementation. If you do not provide any logging implementation, then I believe it will default to Java Util Logging.( if you do not package the jcl-over-slf4j logger).","body":"is common logging an abstraction? I thought is is logging implementation.(Spring uses it).You do not have to implement the static binder, jcl over slf4j is your static binder implementation. If you do not provide any logging implementation, then I believe it will default to Java Util Logging.( if you do not package the jcl-over-slf4j logger)."},{"owner":{"account_id":270555,"reputation":4777,"user_id":560585,"accept_rate":60,"display_name":"Joe Hanink"},"score":0,"creation_date":1296972530,"post_id":4911826,"comment_id":5470411,"body_markdown":"the docs say &quot;As of SLF4J version 1.6.0, if no binding is found on the class path, then slf4j-api will default to a no-operation implementation discarding all log requests&quot; -- http://www.slf4j.org/manual.html","body":"the docs say &quot;As of SLF4J version 1.6.0, if no binding is found on the class path, then slf4j-api will default to a no-operation implementation discarding all log requests&quot; -- <a href=\"http://www.slf4j.org/manual.html\" rel=\"nofollow noreferrer\">slf4j.org/manual.html</a>"},{"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"score":0,"creation_date":1296974047,"post_id":4911826,"comment_id":5470543,"body_markdown":"But jul will definitely be in class path. Its packaged with jdk.","body":"But jul will definitely be in class path. Its packaged with jdk."}],"answers":[{"comments":[{"owner":{"account_id":270555,"reputation":4777,"user_id":560585,"accept_rate":60,"display_name":"Joe Hanink"},"score":1,"creation_date":1296975292,"post_id":4911908,"comment_id":5470630,"body_markdown":"the jdk binding jar comes with slf4j. you want to make sure the jar is deployed to your webapp WEB-INF/lib dir or just in your classpath otherwise. See (http://www.slf4j.org/faq.html#where_is_binding) and this (http://www.slf4j.org/faq.html) for more information","body":"the jdk binding jar comes with slf4j. you want to make sure the jar is deployed to your webapp WEB-INF/lib dir or just in your classpath otherwise. See (<a href=\"http://www.slf4j.org/faq.html#where_is_binding\" rel=\"nofollow noreferrer\">slf4j.org/faq.html#where_is_binding</a>) and this (<a href=\"http://www.slf4j.org/faq.html\" rel=\"nofollow noreferrer\">slf4j.org/faq.html</a>) for more information"},{"owner":{"account_id":270555,"reputation":4777,"user_id":560585,"accept_rate":60,"display_name":"Joe Hanink"},"score":0,"creation_date":1296975615,"post_id":4911908,"comment_id":5470657,"body_markdown":"the jar you want to add to your classpath is slf4j-jdk14.jar. Note that the jdk logger is already available, this jar is the link between the slf4j interfaces and the chosen logger implementation. the jdk logging binding jar comes with the slf4j distribution. this should do it for you.","body":"the jar you want to add to your classpath is slf4j-jdk14.jar. Note that the jdk logger is already available, this jar is the link between the slf4j interfaces and the chosen logger implementation. the jdk logging binding jar comes with the slf4j distribution. this should do it for you."},{"owner":{"account_id":270555,"reputation":4777,"user_id":560585,"accept_rate":60,"display_name":"Joe Hanink"},"score":0,"creation_date":1297018334,"post_id":4911908,"comment_id":5475372,"body_markdown":"the answer is in the comments, which basically points to your documentation. I edited the &quot;answer&quot; to include the comments.","body":"the answer is in the comments, which basically points to your documentation. I edited the &quot;answer&quot; to include the comments."}],"tags":[],"owner":{"account_id":270555,"reputation":4777,"user_id":560585,"accept_rate":60,"display_name":"Joe Hanink"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672936858,"creation_date":1296972428,"answer_id":4911908,"question_id":4911826,"body_markdown":"If you want to keep it simple, use the built-in (as of jdk 1.4) logger\r\n\r\nhttps://docs.oracle.com/en/java/javase/19/docs/api/java.logging/java/util/logging/Logger.html\r\n\r\nthe jdk binding jar comes with slf4j. you want to make sure the jar is deployed to your webapp WEB-INF/lib dir or just in your classpath otherwise. See (slf4j.org/faq.html#where_is_binding) and this (slf4j.org/faq.html) for more information.\r\n\r\n\r\nthe jar you want to add to your classpath is slf4j-jdk14.jar. Note that the jdk logger is already available, this jar is the link between the slf4j interfaces and the chosen logger implementation. the jdk logging binding jar comes with the slf4j distribution. this should do it for you.","title":"SLF4J, Common Logging, console output","body":"<p>If you want to keep it simple, use the built-in (as of jdk 1.4) logger</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.logging/java/util/logging/Logger.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.logging/java/util/logging/Logger.html</a></p>\n<p>the jdk binding jar comes with slf4j. you want to make sure the jar is deployed to your webapp WEB-INF/lib dir or just in your classpath otherwise. See (slf4j.org/faq.html#where_is_binding) and this (slf4j.org/faq.html) for more information.</p>\n<p>the jar you want to add to your classpath is slf4j-jdk14.jar. Note that the jdk logger is already available, this jar is the link between the slf4j interfaces and the chosen logger implementation. the jdk logging binding jar comes with the slf4j distribution. this should do it for you.</p>\n"},{"tags":[],"owner":{"account_id":34142,"reputation":6666,"user_id":96224,"display_name":"Uriah Carpenter"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1302755267,"creation_date":1296976702,"answer_id":4912145,"question_id":4911826,"body_markdown":"We use SLF4J. It&#39;s very useful but several of the jars have confusing names and it&#39;s not real clear starting out to know which ones are incompatible.\r\n\r\nSLF4J is the API you use for logging in your code (e.g. `log.info(&quot;blah&quot;)`. However, SLF4J has no configuration aspect to it. At runtime you add _exactly one_ jar to the classpath that binds the API to the &#39;real&#39; logging subsystem. If you want to use Log4J, add `slf4j-log4j.jar` or the StaticBinder jar for [Simple or JDK](http://www.slf4j.org/manual.html), or [Logback](http://logback.qos.ch/). You configure any of these logging implementations as you normally would without SLF4J.\r\n\r\nThere are several [SLF4J modules](http://www.slf4j.org/legacy.html) available to redirect **existing** logging statements written using the APIs of Log4J, Apache Commons Logging, and java.util.logging to SLF4J. This allows you to setup a single logging configuration for all these disperate implementations. (This is *very* useful to avoid configuring both, say, Log4J and JUL if you have libraries that bind directly to any legacy logging framework.)\r\n\r\nThe [SLF4J legacy page](http://www.slf4j.org/legacy.html) explains these concepts in depth. Heck, there is even [a module](http://projects.lidalia.org.uk/sysout-over-slf4j/) to redirect Sysout.out/err to SFL4J.\r\n\r\nTo more directly answer your question: sure you *can* write your own logging implementation to go under SLF4J; but the only reason to do so is because you are already locked into some homegrown craptastic logging framework.","title":"SLF4J, Common Logging, console output","body":"<p>We use SLF4J. It's very useful but several of the jars have confusing names and it's not real clear starting out to know which ones are incompatible.</p>\n\n<p>SLF4J is the API you use for logging in your code (e.g. <code>log.info(\"blah\")</code>. However, SLF4J has no configuration aspect to it. At runtime you add <em>exactly one</em> jar to the classpath that binds the API to the 'real' logging subsystem. If you want to use Log4J, add <code>slf4j-log4j.jar</code> or the StaticBinder jar for <a href=\"http://www.slf4j.org/manual.html\" rel=\"noreferrer\">Simple or JDK</a>, or <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">Logback</a>. You configure any of these logging implementations as you normally would without SLF4J.</p>\n\n<p>There are several <a href=\"http://www.slf4j.org/legacy.html\" rel=\"noreferrer\">SLF4J modules</a> available to redirect <strong>existing</strong> logging statements written using the APIs of Log4J, Apache Commons Logging, and java.util.logging to SLF4J. This allows you to setup a single logging configuration for all these disperate implementations. (This is <em>very</em> useful to avoid configuring both, say, Log4J and JUL if you have libraries that bind directly to any legacy logging framework.)</p>\n\n<p>The <a href=\"http://www.slf4j.org/legacy.html\" rel=\"noreferrer\">SLF4J legacy page</a> explains these concepts in depth. Heck, there is even <a href=\"http://projects.lidalia.org.uk/sysout-over-slf4j/\" rel=\"noreferrer\">a module</a> to redirect Sysout.out/err to SFL4J.</p>\n\n<p>To more directly answer your question: sure you <em>can</em> write your own logging implementation to go under SLF4J; but the only reason to do so is because you are already locked into some homegrown craptastic logging framework.</p>\n"},{"tags":[],"owner":{"account_id":35628,"reputation":26827,"user_id":100970,"display_name":"Ceki"},"comment_count":0,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1337963306,"creation_date":1296988989,"answer_id":4912789,"question_id":4911826,"body_markdown":"Your question leds me to believe that you have not read the [the SLF4J user manual][1]. It&#39;s a very short document. If after reading the document you still have the same question, then the document fails its purpose and needs to be clarified. \r\n\r\nAnyways, you don&#39;t need to implement your own Logger class. Just use `slf4j-simple` which ships with SLF4J.\r\n\r\n  [1]:  http://slf4j.org/manual.html ","title":"SLF4J, Common Logging, console output","body":"<p>Your question leds me to believe that you have not read the <a href=\"http://slf4j.org/manual.html\" rel=\"nofollow\">the SLF4J user manual</a>. It's a very short document. If after reading the document you still have the same question, then the document fails its purpose and needs to be clarified. </p>\n\n<p>Anyways, you don't need to implement your own Logger class. Just use <code>slf4j-simple</code> which ships with SLF4J.</p>\n"}],"owner":{"account_id":11091,"reputation":99074,"user_id":21239,"accept_rate":81,"display_name":"Mauricio Scheffer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7444,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4911908,"answer_count":3,"score":2,"last_activity_date":1672936858,"creation_date":1296970951,"question_id":4911826,"body_markdown":"I have this 3rd party library that has:\r\n\r\n * slf4j-api-1.5.5.jar\r\n * slf4j-jdk14-1.5.5.jar\r\n * jcl-over-slf4j-1.5.5.jar\r\n\r\nI want to write some tests against this library and see its log output, and I don&#39;t want to add any more logging libraries (no log4j or anything else). \r\n\r\nI understand that SLF4J and Common Logging are both logging abstractions so I probably need to write my own simple concrete logger (or maybe not, since jcl-over-slf4j includes org.apache.commons.logging.impl.SimpleLog?). If so, what interfaces should I implement, and more importantly, how do I set up SL4J/Common Logging to use my logger in my test? I read in the [SLF4J docs that I have to modify the StaticLoggerBinder class][1]... does that really mean that I actually have to download SLF4J sources, modify the class and recompile it?\r\n\r\n\r\n  [1]: http://www.slf4j.org/faq.html#slf4j_compatible","title":"SLF4J, Common Logging, console output","body":"<p>I have this 3rd party library that has:</p>\n\n<ul>\n<li>slf4j-api-1.5.5.jar</li>\n<li>slf4j-jdk14-1.5.5.jar</li>\n<li>jcl-over-slf4j-1.5.5.jar</li>\n</ul>\n\n<p>I want to write some tests against this library and see its log output, and I don't want to add any more logging libraries (no log4j or anything else). </p>\n\n<p>I understand that SLF4J and Common Logging are both logging abstractions so I probably need to write my own simple concrete logger (or maybe not, since jcl-over-slf4j includes org.apache.commons.logging.impl.SimpleLog?). If so, what interfaces should I implement, and more importantly, how do I set up SL4J/Common Logging to use my logger in my test? I read in the <a href=\"http://www.slf4j.org/faq.html#slf4j_compatible\" rel=\"nofollow\">SLF4J docs that I have to modify the StaticLoggerBinder class</a>... does that really mean that I actually have to download SLF4J sources, modify the class and recompile it?</p>\n"},{"tags":["java","environment-variables","containers","visual-studio-code"],"owner":{"account_id":6408837,"reputation":73,"user_id":4969202,"display_name":"Gunasekaran SP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672936681,"creation_date":1592906572,"question_id":62532173,"body_markdown":"How to set java.home path in VS Code Remote Container and I want to know how the path should be mentioned. I have the jdk in my local machine.\r\n\r\nI tried pointing to local absolute path like **C:\\jdk1.xxx** obviously it failed since local files can&#39;t be accessed inside a container.\r\n\r\nI would like to know how the path should be specified for java home.","title":"How to set java.home path in VS Code Remote Container","body":"<p>How to set java.home path in VS Code Remote Container and I want to know how the path should be mentioned. I have the jdk in my local machine.</p>\n<p>I tried pointing to local absolute path like <strong>C:\\jdk1.xxx</strong> obviously it failed since local files can't be accessed inside a container.</p>\n<p>I would like to know how the path should be specified for java home.</p>\n"},{"tags":["java","command-line-interface"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1672937378,"post_id":75021622,"comment_id":132390498,"body_markdown":"The option `-Dinputfile=input.txt`, when placed before the class name, is a _System Property_ and you should get it using `String inputfile = System.getProperty(&quot;inputfile&quot;);`.","body":"The option <code>-Dinputfile=input.txt</code>, when placed before the class name, is a <i>System Property</i> and you should get it using <code>String inputfile = System.getProperty(&quot;inputfile&quot;);</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672992452,"post_id":75021622,"comment_id":132402034,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27444437,"reputation":1,"user_id":20938491,"display_name":"Valdemar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672936512,"creation_date":1672936512,"question_id":75021622,"body_markdown":"How to make sure that the name of the input file (input .txt)is not written in the program\r\nbut it could be changed using these type arguments (-Dinputfile)\r\n\r\nI tried to figure it out myself, but nothing worked, I hope for your help...","title":"How to do so if parameters are passed, then use them, if not, then standard input.txt, output.txt in java","body":"<p>How to make sure that the name of the input file (input .txt)is not written in the program\nbut it could be changed using these type arguments (-Dinputfile)</p>\n<p>I tried to figure it out myself, but nothing worked, I hope for your help...</p>\n"},{"tags":["java","jira-rest-api","jira-rest-java-api"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1614859762,"post_id":66474704,"comment_id":117517012,"body_markdown":"is this jira server or jira cloud?","body":"is this jira server or jira cloud?"},{"owner":{"account_id":13618913,"reputation":572,"user_id":11014103,"display_name":"Koushik J"},"score":0,"creation_date":1614859939,"post_id":66474704,"comment_id":117517073,"body_markdown":"@luk2302 it is jira server","body":"@luk2302 it is jira server"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1614860143,"post_id":66474704,"comment_id":117517177,"body_markdown":"In that case you will probably need to go with OAuth: https://developer.atlassian.com/server/jira/platform/oauth/","body":"In that case you will probably need to go with OAuth: <a href=\"https://developer.atlassian.com/server/jira/platform/oauth/\" rel=\"nofollow noreferrer\">developer.atlassian.com/server/jira/platform/oauth</a>"}],"answers":[{"tags":[],"owner":{"account_id":12705185,"reputation":101,"user_id":9230701,"display_name":"Irgoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622732821,"creation_date":1622732821,"answer_id":67823987,"question_id":66474704,"body_markdown":"You have to :\r\n- Generate a token : \r\nhttps://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/&lt;br&gt;\r\n- Once you have your token, replace &quot;*username*&quot; by your email address and &quot;*password*&quot; by the token.","title":"Authenticate Jira Api in Java with personal API token","body":"<p>You have to :</p>\n<ul>\n<li>Generate a token :\n<a href=\"https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/\" rel=\"nofollow noreferrer\">https://support.atlassian.com/atlassian-account/docs/manage-api-tokens-for-your-atlassian-account/</a><br></li>\n<li>Once you have your token, replace &quot;<em>username</em>&quot; by your email address and &quot;<em>password</em>&quot; by the token.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20282,"reputation":5556,"user_id":48310,"accept_rate":95,"display_name":"Chris Kimpton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672936439,"creation_date":1672936439,"answer_id":75021607,"question_id":66474704,"body_markdown":"I tried the suggested answer but that failed for me.  I did get it to work using the suggestion on this page via an Authentication Handler that passes in the Bearer/Access Token:\r\nhttps://community.atlassian.com/t5/Jira-questions/How-do-I-use-a-personal-access-token-PAT-in-jira-rest-java/qaq-p/1859167","title":"Authenticate Jira Api in Java with personal API token","body":"<p>I tried the suggested answer but that failed for me.  I did get it to work using the suggestion on this page via an Authentication Handler that passes in the Bearer/Access Token:\n<a href=\"https://community.atlassian.com/t5/Jira-questions/How-do-I-use-a-personal-access-token-PAT-in-jira-rest-java/qaq-p/1859167\" rel=\"nofollow noreferrer\">https://community.atlassian.com/t5/Jira-questions/How-do-I-use-a-personal-access-token-PAT-in-jira-rest-java/qaq-p/1859167</a></p>\n"}],"owner":{"account_id":13618913,"reputation":572,"user_id":11014103,"display_name":"Koushik J"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1672936439,"creation_date":1614859661,"question_id":66474704,"body_markdown":"I am trying to retrieve issues from jira. I am able to get response using username and password. But As passwords keeps changing, i want to authenticate using api token. But i am not able to do it.\r\nHere is my Code:\r\n\r\n    public class JiraMetrics {\r\n\r\n    private static final String JIRA_URL = &quot;https://jira.company.com&quot;;\r\n    private static final String JIRA_USERNAME = &quot;username&quot;;\r\n    private static final String JIRA_password = &quot;password&quot;;\r\n\r\n         public static  void main(String[] args) throws URISyntaxException {\r\n\r\n\r\n  \r\n\r\n        JiraRestClientFactory factory = new AsynchronousJiraRestClientFactory();\r\n\r\n        URI uri = new URI(JIRA_URL);\r\n        JiraRestClient client = factory.createWithBasicHttpAuthentication(uri,JIRA_USERNAME,JIRA_Password);\r\n\r\n\r\n\r\n        //Calling issues\r\n        Promise&lt;SearchResult&gt; searchJqlPromise = client.getSearchClient().searchJql(&quot;query&quot;);\r\n\r\n        for (Issue issue : searchJqlPromise.claim().getIssues()) {\r\n            System.out.println(issue.getKey());\r\n          \r\n        }\r\n\r\n       }\r\n\r\nInstead of password, could we just call using api token?","title":"Authenticate Jira Api in Java with personal API token","body":"<p>I am trying to retrieve issues from jira. I am able to get response using username and password. But As passwords keeps changing, i want to authenticate using api token. But i am not able to do it.\nHere is my Code:</p>\n<pre><code>public class JiraMetrics {\n\nprivate static final String JIRA_URL = &quot;https://jira.company.com&quot;;\nprivate static final String JIRA_USERNAME = &quot;username&quot;;\nprivate static final String JIRA_password = &quot;password&quot;;\n\n     public static  void main(String[] args) throws URISyntaxException {\n\n\n\n\n    JiraRestClientFactory factory = new AsynchronousJiraRestClientFactory();\n\n    URI uri = new URI(JIRA_URL);\n    JiraRestClient client = factory.createWithBasicHttpAuthentication(uri,JIRA_USERNAME,JIRA_Password);\n\n\n\n    //Calling issues\n    Promise&lt;SearchResult&gt; searchJqlPromise = client.getSearchClient().searchJql(&quot;query&quot;);\n\n    for (Issue issue : searchJqlPromise.claim().getIssues()) {\n        System.out.println(issue.getKey());\n      \n    }\n\n   }\n</code></pre>\n<p>Instead of password, could we just call using api token?</p>\n"},{"tags":["javascript","java","encryption"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1672147948,"post_id":74929291,"comment_id":132229309,"body_markdown":"`PBEWithMD5AndDES` in the Java code uses an 8 bytes salt by definition. Without salt the Java code throws an *InvalidAlgorithmParameterException: Salt must be 8 bytes long*.  So the question is, what key derivation are you using on the encryption side. Post the encryption code (especially regarding the key derivation). By the way, `des-ede` denotes Triple DES (2TDEA).","body":"<code>PBEWithMD5AndDES</code> in the Java code uses an 8 bytes salt by definition. Without salt the Java code throws an <i>InvalidAlgorithmParameterException: Salt must be 8 bytes long</i>.  So the question is, what key derivation are you using on the encryption side. Post the encryption code (especially regarding the key derivation). By the way, <code>des-ede</code> denotes Triple DES (2TDEA)."},{"owner":{"display_name":"user20871694"},"score":0,"creation_date":1672224221,"post_id":74929291,"comment_id":132244965,"body_markdown":"@Topaco My encryption code don&#39;t need salt, i already post it (first code).\nI use wrong encryption with des-ede ?","body":"@Topaco My encryption code don&#39;t need salt, i already post it (first code). I use wrong encryption with des-ede ?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1672225601,"post_id":74929291,"comment_id":132245306,"body_markdown":"In the first code, the salt is called `data` (for whatever reason), i.e. the first code uses a salt as well.","body":"In the first code, the salt is called <code>data</code> (for whatever reason), i.e. the first code uses a salt as well."},{"owner":{"display_name":"user20871694"},"score":0,"creation_date":1672825500,"post_id":74929291,"comment_id":132358371,"body_markdown":"I don&#39;t salt the password and all tutorial salt password too, and my salt is random and i don&#39;t need it for decode with my java code @Topaco","body":"I don&#39;t salt the password and all tutorial salt password too, and my salt is random and i don&#39;t need it for decode with my java code @Topaco"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1672830084,"post_id":74929291,"comment_id":132359814,"body_markdown":"*...I don&#39;t salt the password...* and *...my salt is random...* contradict each other. It is not clear from your question what the problem is. Post the code you use for the **en**cryption. If it is the encryption counterpart of the Java code that applies PBEWithMD5AndDES, it is mandatory that you use a salt. If you use a random salt (which is the correct approach!), the salt has to be sent together with the ciphertext to the decrypting side (usually concatenated). Note that the salt is not secret (but must be randomly generated for each encryption).","body":"<i>...I don&#39;t salt the password...</i> and <i>...my salt is random...</i> contradict each other. It is not clear from your question what the problem is. Post the code you use for the <b>en</b>cryption. If it is the encryption counterpart of the Java code that applies PBEWithMD5AndDES, it is mandatory that you use a salt. If you use a random salt (which is the correct approach!), the salt has to be sent together with the ciphertext to the decrypting side (usually concatenated). Note that the salt is not secret (but must be randomly generated for each encryption)."},{"owner":{"display_name":"user20871694"},"score":0,"creation_date":1672862512,"post_id":74929291,"comment_id":132371130,"body_markdown":"I updated my code, i don&#39;t save the salt and i can decode the file with a random salt, and when i try to decode the same file with js that doesn&#39;t work @Topaco","body":"I updated my code, i don&#39;t save the salt and i can decode the file with a random salt, and when i try to decode the same file with js that doesn&#39;t work @Topaco"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1672871518,"post_id":74929291,"comment_id":132373635,"body_markdown":"Since `Random()` is called with the same seed, the same salt is generated each time, i.e. the Java code uses a *static* salt (which is insecure btw). You will probably not find a NodeJS implementation that is analogous to `Random()`, so you will need to determine the salt at runtime of the Java code (logging or debugging). This salt is then to be used in the NodeJS code.","body":"Since <code>Random()</code> is called with the same seed, the same salt is generated each time, i.e. the Java code uses a <i>static</i> salt (which is insecure btw). You will probably not find a NodeJS implementation that is analogous to <code>Random()</code>, so you will need to determine the salt at runtime of the Java code (logging or debugging). This salt is then to be used in the NodeJS code."},{"owner":{"display_name":"user20871694"},"score":0,"creation_date":1672921516,"post_id":74929291,"comment_id":132384328,"body_markdown":"Oh i understand ! I updated the code without Random, I will try to integrate with nodejs @Topaco","body":"Oh i understand ! I updated the code without Random, I will try to integrate with nodejs @Topaco"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1672927481,"post_id":74929291,"comment_id":132386554,"body_markdown":"Your last change resulted in missing the `saveLastLogin()` method and the use of the `Random()` class, both of which are relevant to the answer. I have therefore rolled back your change and appended the code you posted regarding the salt to the end of the original question.","body":"Your last change resulted in missing the <code>saveLastLogin()</code> method and the use of the <code>Random()</code> class, both of which are relevant to the answer. I have therefore rolled back your change and appended the code you posted regarding the salt to the end of the original question."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672936395,"creation_date":1672920080,"answer_id":75018075,"question_id":74929291,"body_markdown":"There are three issues in the code:\r\n\r\n- The Java code uses [`writeUTF()`][1]. This is based on [modified UTF-8][2], with two additional bytes prepended to contain the data size. A NodeJS library for modified UTF-8 is [*mutf-8*][3]. \r\n- Instead of `des-ede` ([3DES/2TDEA][5] in ECB mode), `des-cbc` (DES in CBC mode) must be applied. If DES is not available in the used NodeJS version, it can be mimicked with 3DES/2TDEA in CBC mode, `des-ede-cbc`, where the 8 bytes key has to be concatenated with itself to a 16 bytes key, reducing 3DES to DES. This workaround has the disadvantage of a performance loss.\r\n- The Java code applies a static 8 byte salt because `Random()` is instantiated with a static seed. This salt can be determined at runtime to (hex encoded): `0x0C9D4AE41E8315FC`.\r\n\r\n[*pbewithmd5anddes-js*][4] is a port of `PBEWithMD5AndDES` to NodeJS, from which the `KDF()`, `getKeyIV()` and `decrypt()` methods can be used, but must be adapted taking into account the above points. In addition, the functionality of `readUTF()` (the counterpart of `writeUTF()`) must be implemented. One possible solution is:\r\n\r\n```js\r\nvar crypto = require(&#39;crypto&#39;);\r\nconst { MUtf8Decoder } = require(&quot;mutf-8&quot;);\r\n\r\nvar pbewithmd5anddes = {\r\n\r\n  KDF: function(password,salt,iterations) {\r\n    var pwd = Buffer.from(password,&#39;utf-8&#39;);\r\n    var key = Buffer.concat([pwd, salt]);\r\n    var i;\r\n    for (i = 0; i &lt; iterations; i+=1) {\r\n      key = crypto.createHash(&#39;md5&#39;).update(key).digest();\r\n    }\r\n    return key;\r\n  },\r\n\r\n  getKeyIV: function(password,salt,iterations) {\r\n    var key = this.KDF(password,salt,iterations);\r\n    var keybuf = Buffer.from(key,&#39;binary&#39;).subarray(0,8);\r\n    var ivbuf = Buffer.from(key,&#39;binary&#39;).subarray(8,16);\r\n    return [ keybuf, ivbuf ];\r\n  },\r\n\r\n  decrypt: function(payload,password,salt,iterations) {\r\n    var encryptedBuffer = Buffer.from(payload,&#39;base64&#39;);\r\n    var kiv = this.getKeyIV(password,salt,iterations);\r\n    //var decipher = crypto.createDecipheriv(&#39;des-cbc&#39;, kiv[0], kiv[1]);                              // Fix 1: If supported, apply DES-CBC with key K\r\n    var decipher = crypto.createDecipheriv(&#39;des-ede-cbc&#39;, Buffer.concat([kiv[0], kiv[0]]), kiv[1]);   // otherwise DES-EDE-CBC with key K|K  \r\n    var decryptedBuf = Buffer.concat([decipher.update(encryptedBuffer), decipher.final()])\r\n    var decrypted = this.readUTF(decryptedBuf)                                                        // Fix 2: apply writeUTF counterpart\r\n    return decrypted;\r\n  },\r\n\r\n  readUTF: function(decryptedBuf) {\r\n    var decoder = new MUtf8Decoder()\r\n    var decryptedData = []\r\n    var i = 0;\r\n    while (i &lt; decryptedBuf.length){\r\n      var lengthObj = decryptedBuf.readInt16BE(i);\r\n      var bytesObj = decryptedBuf.subarray(i+2, i+2+lengthObj);\r\n      var strObj = decoder.decode(bytesObj)\r\n      decryptedData.push(strObj)\r\n      i += 2 + lengthObj;\r\n    }\r\n    return decryptedData;\r\n  }\r\n};\r\n```\r\n\r\n---------------\r\n\r\nTest:\r\n\r\nOn the Java side, the following is executed: \r\n\r\n```java\r\nsaveLastLogin(file, &quot;This is the first plaintext with special characters like &#167;, $ and €.&quot;, &quot;This is the second plaintext with special characters like &#167;, $ and €.&quot;);\r\n```\r\n\r\nThe raw ciphertext written to `file` is Base64 encoded:\r\n\r\n```none\r\nOw8bdeNM0QpNFQaoDe7dhG3k9nWz/UZ6v3+wQVgrD5QvWR/4+sA+YvqtnQBsy35nQkwhwGRBv1h1eOa587NaFtnJUWVHsRsncLWZ05+dD2rYVpcZRA8s6P2iANK6yLr+GO/+UpZpSe0fA4fFqEK1nm3U7NXdyddfuOlZ3h/RiyxK5819LieUne4F8/TpMzT0RIWkxqagbVw=\r\n```\r\n\r\nThis can be decrypted on the NodeJS side with:\r\n\r\n```js\r\nvar payload = &#39;Ow8bdeNM0QpNFQaoDe7dhG3k9nWz/UZ6v3+wQVgrD5QvWR/4+sA+YvqtnQBsy35nQkwhwGRBv1h1eOa587NaFtnJUWVHsRsncLWZ05+dD2rYVpcZRA8s6P2iANK6yLr+GO/+UpZpSe0fA4fFqEK1nm3U7NXdyddfuOlZ3h/RiyxK5819LieUne4F8/TpMzT0RIWkxqagbVw=&#39;;\r\nvar password = &#39;mysecretpassword&#39;;\r\nvar salt = Buffer.from(&#39;0C9D4AE41E8315FC&#39;, &#39;hex&#39;);\r\nvar iterations = 5;\r\nvar decrypted = pbewithmd5anddes.decrypt(payload,password,salt,iterations);\r\nconsole.log(decrypted);\r\n```\r\n\r\nwith the output:\r\n\r\n```none\r\n[\r\n  &#39;This is the first plaintext with special characters like &#167;, $ and €.&#39;,\r\n  &#39;This is the second plaintext with special characters like &#167;, $ and €.&#39;\r\n]\r\n```\r\n\r\n---------------\r\n\r\nNote that the code contains serious vulnerabilities:\r\n- `PBEWithMD5AndDES` uses a key derivation based on the broken MD5 digest (PBKDF1), and as encryption algorithm the deprecated DES (officially withdrawn almost 20 years ago).\r\n- Use of a static salt. \r\n- An iteration count of 5 is generally much too small.\r\n- `Random()` (unlike `SecureRandom()`) is not cryptographically strong. Also note that it is not a good idea to use a PRNG like `Random()` for deterministic key derivation, as the implementation may change, leading to different results even with the same seed.  \r\n\r\n[1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html#writeUTF(java.lang.String)\r\n[2]: https://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\r\n[3]: https://github.com/sciencesakura/mutf-8\r\n[4]: https://gist.github.com/qzaidi/5401800#file-pbewithmd5anddes-js\r\n[5]: https://en.wikipedia.org/wiki/Triple_DES#Keying_options","title":"Convert Java&#39;s PBEWithMD5AndDES without salt to JavaScript with crypto","body":"<p>There are three issues in the code:</p>\n<ul>\n<li>The Java code uses <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html#writeUTF(java.lang.String)\" rel=\"nofollow noreferrer\"><code>writeUTF()</code></a>. This is based on <a href=\"https://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\" rel=\"nofollow noreferrer\">modified UTF-8</a>, with two additional bytes prepended to contain the data size. A NodeJS library for modified UTF-8 is <a href=\"https://github.com/sciencesakura/mutf-8\" rel=\"nofollow noreferrer\"><em>mutf-8</em></a>.</li>\n<li>Instead of <code>des-ede</code> (<a href=\"https://en.wikipedia.org/wiki/Triple_DES#Keying_options\" rel=\"nofollow noreferrer\">3DES/2TDEA</a> in ECB mode), <code>des-cbc</code> (DES in CBC mode) must be applied. If DES is not available in the used NodeJS version, it can be mimicked with 3DES/2TDEA in CBC mode, <code>des-ede-cbc</code>, where the 8 bytes key has to be concatenated with itself to a 16 bytes key, reducing 3DES to DES. This workaround has the disadvantage of a performance loss.</li>\n<li>The Java code applies a static 8 byte salt because <code>Random()</code> is instantiated with a static seed. This salt can be determined at runtime to (hex encoded): <code>0x0C9D4AE41E8315FC</code>.</li>\n</ul>\n<p><a href=\"https://gist.github.com/qzaidi/5401800#file-pbewithmd5anddes-js\" rel=\"nofollow noreferrer\"><em>pbewithmd5anddes-js</em></a> is a port of <code>PBEWithMD5AndDES</code> to NodeJS, from which the <code>KDF()</code>, <code>getKeyIV()</code> and <code>decrypt()</code> methods can be used, but must be adapted taking into account the above points. In addition, the functionality of <code>readUTF()</code> (the counterpart of <code>writeUTF()</code>) must be implemented. One possible solution is:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var crypto = require('crypto');\nconst { MUtf8Decoder } = require(&quot;mutf-8&quot;);\n\nvar pbewithmd5anddes = {\n\n  KDF: function(password,salt,iterations) {\n    var pwd = Buffer.from(password,'utf-8');\n    var key = Buffer.concat([pwd, salt]);\n    var i;\n    for (i = 0; i &lt; iterations; i+=1) {\n      key = crypto.createHash('md5').update(key).digest();\n    }\n    return key;\n  },\n\n  getKeyIV: function(password,salt,iterations) {\n    var key = this.KDF(password,salt,iterations);\n    var keybuf = Buffer.from(key,'binary').subarray(0,8);\n    var ivbuf = Buffer.from(key,'binary').subarray(8,16);\n    return [ keybuf, ivbuf ];\n  },\n\n  decrypt: function(payload,password,salt,iterations) {\n    var encryptedBuffer = Buffer.from(payload,'base64');\n    var kiv = this.getKeyIV(password,salt,iterations);\n    //var decipher = crypto.createDecipheriv('des-cbc', kiv[0], kiv[1]);                              // Fix 1: If supported, apply DES-CBC with key K\n    var decipher = crypto.createDecipheriv('des-ede-cbc', Buffer.concat([kiv[0], kiv[0]]), kiv[1]);   // otherwise DES-EDE-CBC with key K|K  \n    var decryptedBuf = Buffer.concat([decipher.update(encryptedBuffer), decipher.final()])\n    var decrypted = this.readUTF(decryptedBuf)                                                        // Fix 2: apply writeUTF counterpart\n    return decrypted;\n  },\n\n  readUTF: function(decryptedBuf) {\n    var decoder = new MUtf8Decoder()\n    var decryptedData = []\n    var i = 0;\n    while (i &lt; decryptedBuf.length){\n      var lengthObj = decryptedBuf.readInt16BE(i);\n      var bytesObj = decryptedBuf.subarray(i+2, i+2+lengthObj);\n      var strObj = decoder.decode(bytesObj)\n      decryptedData.push(strObj)\n      i += 2 + lengthObj;\n    }\n    return decryptedData;\n  }\n};\n</code></pre>\n<hr />\n<p>Test:</p>\n<p>On the Java side, the following is executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>saveLastLogin(file, &quot;This is the first plaintext with special characters like §, $ and €.&quot;, &quot;This is the second plaintext with special characters like §, $ and €.&quot;);\n</code></pre>\n<p>The raw ciphertext written to <code>file</code> is Base64 encoded:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Ow8bdeNM0QpNFQaoDe7dhG3k9nWz/UZ6v3+wQVgrD5QvWR/4+sA+YvqtnQBsy35nQkwhwGRBv1h1eOa587NaFtnJUWVHsRsncLWZ05+dD2rYVpcZRA8s6P2iANK6yLr+GO/+UpZpSe0fA4fFqEK1nm3U7NXdyddfuOlZ3h/RiyxK5819LieUne4F8/TpMzT0RIWkxqagbVw=\n</code></pre>\n<p>This can be decrypted on the NodeJS side with:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var payload = 'Ow8bdeNM0QpNFQaoDe7dhG3k9nWz/UZ6v3+wQVgrD5QvWR/4+sA+YvqtnQBsy35nQkwhwGRBv1h1eOa587NaFtnJUWVHsRsncLWZ05+dD2rYVpcZRA8s6P2iANK6yLr+GO/+UpZpSe0fA4fFqEK1nm3U7NXdyddfuOlZ3h/RiyxK5819LieUne4F8/TpMzT0RIWkxqagbVw=';\nvar password = 'mysecretpassword';\nvar salt = Buffer.from('0C9D4AE41E8315FC', 'hex');\nvar iterations = 5;\nvar decrypted = pbewithmd5anddes.decrypt(payload,password,salt,iterations);\nconsole.log(decrypted);\n</code></pre>\n<p>with the output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[\n  'This is the first plaintext with special characters like §, $ and €.',\n  'This is the second plaintext with special characters like §, $ and €.'\n]\n</code></pre>\n<hr />\n<p>Note that the code contains serious vulnerabilities:</p>\n<ul>\n<li><code>PBEWithMD5AndDES</code> uses a key derivation based on the broken MD5 digest (PBKDF1), and as encryption algorithm the deprecated DES (officially withdrawn almost 20 years ago).</li>\n<li>Use of a static salt.</li>\n<li>An iteration count of 5 is generally much too small.</li>\n<li><code>Random()</code> (unlike <code>SecureRandom()</code>) is not cryptographically strong. Also note that it is not a good idea to use a PRNG like <code>Random()</code> for deterministic key derivation, as the implementation may change, leading to different results even with the same seed.</li>\n</ul>\n"}],"owner":{"display_name":"user20871694"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75018075,"answer_count":1,"score":1,"last_activity_date":1672936395,"creation_date":1672144299,"question_id":74929291,"body_markdown":"I have the following code for decryption in java, I want that to be implemented in nodejs but the i found many tuto for my problem but they use a salt and that don&#39;t work when i try to remove the salt system.\r\n\r\nMy olds functions from java\r\n\r\n```\r\n    public void readLastLogin(File lastLogin) {\r\n        try {\r\n            final Cipher ciph = this.openCipher(Cipher.DECRYPT_MODE);\r\n            final DataInputStream dis = new DataInputStream(new CipherInputStream(new FileInputStream(lastLogin), ciph));\r\n\r\n            String user = dis.readUTF();\r\n            String token = dis.readUTF();\r\n            dis.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void saveLastLogin(File lastLogin, String user, String token) {\r\n        try {\r\n            final Cipher ciph = this.openCipher(Cipher.ENCRYPT_MODE);\r\n            final DataOutputStream dos = new DataOutputStream(new CipherOutputStream(new FileOutputStream(lastLogin), ciph));\r\n\r\n            dos.writeUTF(user);\r\n            dos.writeUTF(token);\r\n            dos.close();\r\n        } catch (final Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private Cipher openCipher(final int mode) throws Exception {\r\n        final Random rnd = new Random(43287234L);\r\n        final byte[] data = new byte[8];\r\n\r\n        rnd.nextBytes(data);\r\n        final PBEParameterSpec spec = new PBEParameterSpec(data, 5);\r\n        final SecretKey key = SecretKeyFactory\r\n                .getInstance(&quot;PBEWithMD5AndDES&quot;)\r\n                .generateSecret(new PBEKeySpec(&quot;mysecretpassword&quot;.toCharArray()));\r\n\r\n        final Cipher ret = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n        ret.init(mode, key, spec);\r\n        return ret;\r\n    }\r\n```\r\n\r\n\r\nI try this but not working\r\n\r\n```\r\nKDF(password, iterations) {\r\n var key = new Buffer(password,&#39;utf-8&#39;);\r\n var i;\r\n for (i = 0; i &lt; iterations; i+=1) {\r\n  key = crypto.createHash(&quot;md5&quot;).update(key).digest();\r\n }\r\n return key;\r\n}\r\n\r\ngetKeyIV(password, iterations) {\r\n var key = this.KDF(password, iterations);\r\n var keybuf = new Buffer(key,&#39;binary&#39;).slice(0,8);\r\n var ivbuf = new Buffer(key,&#39;binary&#39;).slice(8,16);\r\n return [ keybuf, ivbuf ];\r\n}\r\n\r\ndecrypt(message) {\r\n var kiv = this.getKeyIV(&#39;password&#39; ,5);\r\n var decipher = crypto.createDecipheriv(&#39;des-ede&#39;, kiv[0], kiv[1]);\r\n var result = decipher.update(message, &#39;hex&#39;, &#39;utf-8&#39;);\r\n return result + decipher.final(&#39;utf-8&#39;);\r\n}\r\n```\r\n\r\n**Edit:** The salt generated at runtime of the Java code is hex encoded: `0x0C9D4AE41E8315FC`\r\n\r\n```java\r\nfinal byte[] data = new byte[8];\r\ndata[0] = 12;\r\ndata[1] = -99;\r\ndata[2] = 74;\r\ndata[3] = -28;\r\ndata[4] = 30;\r\ndata[5] = -125;\r\ndata[6] = 21;\r\ndata[7] = -4;\r\n```\r\n","title":"Convert Java&#39;s PBEWithMD5AndDES without salt to JavaScript with crypto","body":"<p>I have the following code for decryption in java, I want that to be implemented in nodejs but the i found many tuto for my problem but they use a salt and that don't work when i try to remove the salt system.</p>\n<p>My olds functions from java</p>\n<pre><code>    public void readLastLogin(File lastLogin) {\n        try {\n            final Cipher ciph = this.openCipher(Cipher.DECRYPT_MODE);\n            final DataInputStream dis = new DataInputStream(new CipherInputStream(new FileInputStream(lastLogin), ciph));\n\n            String user = dis.readUTF();\n            String token = dis.readUTF();\n            dis.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void saveLastLogin(File lastLogin, String user, String token) {\n        try {\n            final Cipher ciph = this.openCipher(Cipher.ENCRYPT_MODE);\n            final DataOutputStream dos = new DataOutputStream(new CipherOutputStream(new FileOutputStream(lastLogin), ciph));\n\n            dos.writeUTF(user);\n            dos.writeUTF(token);\n            dos.close();\n        } catch (final Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    private Cipher openCipher(final int mode) throws Exception {\n        final Random rnd = new Random(43287234L);\n        final byte[] data = new byte[8];\n\n        rnd.nextBytes(data);\n        final PBEParameterSpec spec = new PBEParameterSpec(data, 5);\n        final SecretKey key = SecretKeyFactory\n                .getInstance(&quot;PBEWithMD5AndDES&quot;)\n                .generateSecret(new PBEKeySpec(&quot;mysecretpassword&quot;.toCharArray()));\n\n        final Cipher ret = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\n        ret.init(mode, key, spec);\n        return ret;\n    }\n</code></pre>\n<p>I try this but not working</p>\n<pre><code>KDF(password, iterations) {\n var key = new Buffer(password,'utf-8');\n var i;\n for (i = 0; i &lt; iterations; i+=1) {\n  key = crypto.createHash(&quot;md5&quot;).update(key).digest();\n }\n return key;\n}\n\ngetKeyIV(password, iterations) {\n var key = this.KDF(password, iterations);\n var keybuf = new Buffer(key,'binary').slice(0,8);\n var ivbuf = new Buffer(key,'binary').slice(8,16);\n return [ keybuf, ivbuf ];\n}\n\ndecrypt(message) {\n var kiv = this.getKeyIV('password' ,5);\n var decipher = crypto.createDecipheriv('des-ede', kiv[0], kiv[1]);\n var result = decipher.update(message, 'hex', 'utf-8');\n return result + decipher.final('utf-8');\n}\n</code></pre>\n<p><strong>Edit:</strong> The salt generated at runtime of the Java code is hex encoded: <code>0x0C9D4AE41E8315FC</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>final byte[] data = new byte[8];\ndata[0] = 12;\ndata[1] = -99;\ndata[2] = 74;\ndata[3] = -28;\ndata[4] = 30;\ndata[5] = -125;\ndata[6] = 21;\ndata[7] = -4;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1622859,"reputation":2292,"user_id":1499066,"display_name":"John Smith"},"score":0,"creation_date":1380879699,"post_id":19177994,"comment_id":28372916,"body_markdown":"in the while loop, just collect as many lines , as you want, into a String or StringBuilder and write them to separate files. You cannot know the number of files beforehand, it might be better, to define a maximum number of lines in a file.","body":"in the while loop, just collect as many lines , as you want, into a String or StringBuilder and write them to separate files. You cannot know the number of files beforehand, it might be better, to define a maximum number of lines in a file."},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1380879711,"post_id":19177994,"comment_id":28372920,"body_markdown":"You either need to loop twice, once to get the number of lines and once to split. Or you could guess at the number of lines and split that way.","body":"You either need to loop twice, once to get the number of lines and once to split. Or you could guess at the number of lines and split that way."},{"owner":{"account_id":2366187,"reputation":60172,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1380879812,"post_id":19177994,"comment_id":28372976,"body_markdown":"@kw4nta why on earth would you want to _store_ the lines. 1) the OP says that storing all the lines isn&#39;t an option, 2) given that you can write the lines straight to another file...","body":"@kw4nta why on earth would you want to <i>store</i> the lines. 1) the OP says that storing all the lines isn&#39;t an option, 2) given that you can write the lines straight to another file..."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":0,"creation_date":1380879821,"post_id":19177994,"comment_id":28372981,"body_markdown":"I suggest you to do a first pass where you count the number of lines. On a second pass, you divide it by `n` and create `n` files containing `total/n` lines. Use `BufferedReader.readLine()` for that purpose.","body":"I suggest you to do a first pass where you count the number of lines. On a second pass, you divide it by <code>n</code> and create <code>n</code> files containing <code>total&#47;n</code> lines. Use <code>BufferedReader.readLine()</code> for that purpose."},{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":6,"creation_date":1380879899,"post_id":19177994,"comment_id":28373015,"body_markdown":"Another solution if it makes sense in this use case : use a round robbin algorithm (first line to first file, second line to second file etc)","body":"Another solution if it makes sense in this use case : use a round robbin algorithm (first line to first file, second line to second file etc)"}],"answers":[{"tags":[],"owner":{"account_id":1521734,"reputation":3389,"user_id":1421189,"accept_rate":58,"display_name":"Pranalee"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380879869,"creation_date":1380879869,"answer_id":19178142,"question_id":19177994,"body_markdown":"Have a counter to count no of entries. Let&#39;s say one entry per line. \r\n\r\nstep1: Initially create new subfile, set counter=0; \r\n\r\nstep2: increment counter as you read each entry from source file to buffer\r\n\r\nstep3: when counter reaches limit to number of entries that you want to write in each sub file, flush contents of buffer to subfile. close the subfile\r\n\r\nstep4 : jump to step1 till you have data in source file to read from\r\n\r\n","title":"Java - Read file and split into multiple files","body":"<p>Have a counter to count no of entries. Let's say one entry per line. </p>\n\n<p>step1: Initially create new subfile, set counter=0; </p>\n\n<p>step2: increment counter as you read each entry from source file to buffer</p>\n\n<p>step3: when counter reaches limit to number of entries that you want to write in each sub file, flush contents of buffer to subfile. close the subfile</p>\n\n<p>step4 : jump to step1 till you have data in source file to read from</p>\n"},{"tags":[],"owner":{"account_id":2027463,"reputation":582,"user_id":1812077,"display_name":"Leff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380880026,"creation_date":1380880026,"answer_id":19178202,"question_id":19177994,"body_markdown":"There&#39;s no need to loop twice through the file. You could estimate the size of each chunk as the source file size divided by number of chunks needed. Then you just stop filling each cunk with data as it&#39;s size exceeds estimated.","title":"Java - Read file and split into multiple files","body":"<p>There's no need to loop twice through the file. You could estimate the size of each chunk as the source file size divided by number of chunks needed. Then you just stop filling each cunk with data as it's size exceeds estimated.</p>\n"},{"comments":[{"owner":{"account_id":142175,"reputation":3164,"user_id":349710,"accept_rate":89,"display_name":"Pujan"},"score":7,"creation_date":1451362352,"post_id":19179193,"comment_id":56750580,"body_markdown":"Well it may split a line midway and it matters for csv file","body":"Well it may split a line midway and it matters for csv file"},{"owner":{"account_id":2062923,"reputation":781,"user_id":1839081,"accept_rate":56,"display_name":"Julian"},"score":0,"creation_date":1507716092,"post_id":19179193,"comment_id":80318199,"body_markdown":"Is there a way to overcome this? so that it doesn&#39;t split midline?","body":"Is there a way to overcome this? so that it doesn&#39;t split midline?"},{"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"score":0,"creation_date":1508261741,"post_id":19179193,"comment_id":80538567,"body_markdown":"In my Company We have Fixed Record Size for each Column and we do padding into CSV so we divide the file size with with one record size and then we split. also While reading each line is sent on MQ to be inserted so that it is async. Anyways your soultion is good.","body":"In my Company We have Fixed Record Size for each Column and we do padding into CSV so we divide the file size with with one record size and then we split. also While reading each line is sent on MQ to be inserted so that it is async. Anyways your soultion is good."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1530711149,"post_id":19179193,"comment_id":89332600,"body_markdown":"You can scan the end of the buffer to find the portion of the last line and add it to the next file.","body":"You can scan the end of the buffer to find the portion of the last line and add it to the next file."},{"owner":{"account_id":2678397,"reputation":800,"user_id":2314232,"accept_rate":25,"display_name":"Jesbus"},"score":1,"creation_date":1581095626,"post_id":19179193,"comment_id":106328035,"body_markdown":"According to the `RandomAccessFile` documentation, `.read(` is not obligated to fill the entire destination buffer. Maybe this code should use `.readFully(` instead?","body":"According to the <code>RandomAccessFile</code> documentation, <code>.read(</code> is not obligated to fill the entire destination buffer. Maybe this code should use <code>.readFully(</code> instead?"},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1594733418,"post_id":19179193,"comment_id":111224765,"body_markdown":"@harsh this is amazing! was able to split 2.2gb file into 10 different files!","body":"@harsh this is amazing! was able to split 2.2gb file into 10 different files!"},{"owner":{"account_id":5254406,"reputation":1108,"user_id":4197679,"accept_rate":79,"display_name":"Ashok kumar Ganesan"},"score":0,"creation_date":1657660905,"post_id":19179193,"comment_id":128862775,"body_markdown":"Good one! But when splitting the file, it would be good to maintain the column/header as well. Any suggestions?","body":"Good one! But when splitting the file, it would be good to maintain the column/header as well. Any suggestions?"}],"tags":[],"owner":{"account_id":801225,"reputation":7522,"user_id":878732,"accept_rate":60,"display_name":"harsh"},"comment_count":7,"down_vote_count":1,"up_vote_count":26,"is_accepted":true,"score":25,"last_activity_date":1577561936,"creation_date":1380883075,"answer_id":19179193,"question_id":19177994,"body_markdown":"Since one file can be very large, each split file could be large as well.\n\n**Example:**\n\n&gt; Source File Size: 5GB \n&gt;\n&gt; Num Splits: 5: Destination \n&gt;\n&gt; File Size: 1GB each (5 files)\n\nThere is no way to read this large split chunk in one go, even if we have such a memory. Basically for each split we can read a fix size `byte-array` which we know should be feasible in terms of performance as well memory.\n\n\n\n**NumSplits: 10 MaxReadBytes: 8KB**\n\n    public static void main(String[] args) throws Exception\n        {\n            RandomAccessFile raf = new RandomAccessFile(&quot;test.csv&quot;, &quot;r&quot;);\n            long numSplits = 10; //from user input, extract it from args\n            long sourceSize = raf.length();\n            long bytesPerSplit = sourceSize/numSplits ;\n            long remainingBytes = sourceSize % numSplits;\n    \n            int maxReadBufferSize = 8 * 1024; //8KB\n            for(int destIx=1; destIx &lt;= numSplits; destIx++) {\n                BufferedOutputStream bw = new BufferedOutputStream(new FileOutputStream(&quot;split.&quot;+destIx));\n                if(bytesPerSplit &gt; maxReadBufferSize) {\n                    long numReads = bytesPerSplit/maxReadBufferSize;\n                    long numRemainingRead = bytesPerSplit % maxReadBufferSize;\n                    for(int i=0; i&lt;numReads; i++) {\n                        readWrite(raf, bw, maxReadBufferSize);\n                    }\n                    if(numRemainingRead &gt; 0) {\n                        readWrite(raf, bw, numRemainingRead);\n                    }\n                }else {\n                    readWrite(raf, bw, bytesPerSplit);\n                }\n                bw.close();\n            }\n            if(remainingBytes &gt; 0) {\n                BufferedOutputStream bw = new BufferedOutputStream(new FileOutputStream(&quot;split.&quot;+(numSplits+1)));\n                readWrite(raf, bw, remainingBytes);\n                bw.close();\n            }\n                raf.close();\n        }\n    \n        static void readWrite(RandomAccessFile raf, BufferedOutputStream bw, long numBytes) throws IOException {\n            byte[] buf = new byte[(int) numBytes];\n            int val = raf.read(buf);\n            if(val != -1) {\n                bw.write(buf);\n            }\n        }","title":"Java - Read file and split into multiple files","body":"<p>Since one file can be very large, each split file could be large as well.</p>\n<p><strong>Example:</strong></p>\n<blockquote>\n<p>Source File Size: 5GB</p>\n<p>Num Splits: 5: Destination</p>\n<p>File Size: 1GB each (5 files)</p>\n</blockquote>\n<p>There is no way to read this large split chunk in one go, even if we have such a memory. Basically for each split we can read a fix size <code>byte-array</code> which we know should be feasible in terms of performance as well memory.</p>\n<p><strong>NumSplits: 10 MaxReadBytes: 8KB</strong></p>\n<pre><code>public static void main(String[] args) throws Exception\n    {\n        RandomAccessFile raf = new RandomAccessFile(&quot;test.csv&quot;, &quot;r&quot;);\n        long numSplits = 10; //from user input, extract it from args\n        long sourceSize = raf.length();\n        long bytesPerSplit = sourceSize/numSplits ;\n        long remainingBytes = sourceSize % numSplits;\n\n        int maxReadBufferSize = 8 * 1024; //8KB\n        for(int destIx=1; destIx &lt;= numSplits; destIx++) {\n            BufferedOutputStream bw = new BufferedOutputStream(new FileOutputStream(&quot;split.&quot;+destIx));\n            if(bytesPerSplit &gt; maxReadBufferSize) {\n                long numReads = bytesPerSplit/maxReadBufferSize;\n                long numRemainingRead = bytesPerSplit % maxReadBufferSize;\n                for(int i=0; i&lt;numReads; i++) {\n                    readWrite(raf, bw, maxReadBufferSize);\n                }\n                if(numRemainingRead &gt; 0) {\n                    readWrite(raf, bw, numRemainingRead);\n                }\n            }else {\n                readWrite(raf, bw, bytesPerSplit);\n            }\n            bw.close();\n        }\n        if(remainingBytes &gt; 0) {\n            BufferedOutputStream bw = new BufferedOutputStream(new FileOutputStream(&quot;split.&quot;+(numSplits+1)));\n            readWrite(raf, bw, remainingBytes);\n            bw.close();\n        }\n            raf.close();\n    }\n\n    static void readWrite(RandomAccessFile raf, BufferedOutputStream bw, long numBytes) throws IOException {\n        byte[] buf = new byte[(int) numBytes];\n        int val = raf.read(buf);\n        if(val != -1) {\n            bw.write(buf);\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6404083,"reputation":514,"user_id":4965893,"accept_rate":50,"display_name":"Autumn Leonard"},"score":1,"creation_date":1449263756,"post_id":24903576,"comment_id":55947204,"body_markdown":"This doesn&#39;t do what the OP wanted (set number of files), but it does what I want (set number of lines). Good code! Modified it to be a function taking in a file name and dynamically naming created files.","body":"This doesn&#39;t do what the OP wanted (set number of files), but it does what I want (set number of lines). Good code! Modified it to be a function taking in a file name and dynamically naming created files."},{"owner":{"account_id":2472947,"reputation":3401,"user_id":2154300,"accept_rate":94,"display_name":"bish"},"score":0,"creation_date":1473328431,"post_id":24903576,"comment_id":66102009,"body_markdown":"C&amp;P from http://javaprogramming.language-tutorial.com/2012/10/split-huge-files-into-small-text-files.html ? (The blog entry is from 2012)","body":"C&amp;P from <a href=\"http://javaprogramming.language-tutorial.com/2012/10/split-huge-files-into-small-text-files.html\" rel=\"nofollow noreferrer\">javaprogramming.language-tutorial.com/2012/10/&hellip;</a> ? (The blog entry is from 2012)"},{"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"score":0,"creation_date":1590012140,"post_id":24903576,"comment_id":109524115,"body_markdown":"Why should the number of lines be double?","body":"Why should the number of lines be double?"},{"owner":{"account_id":4555074,"reputation":138,"user_id":3699039,"accept_rate":0,"display_name":"Muhammad_08"},"score":0,"creation_date":1667389906,"post_id":24903576,"comment_id":131154523,"body_markdown":"one thing is very important that is scanner isn&#39;t thread safe","body":"one thing is very important that is scanner isn&#39;t thread safe"}],"tags":[],"owner":{"account_id":4358550,"reputation":105,"user_id":3556411,"display_name":"user3556411"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1406098076,"creation_date":1406098076,"answer_id":24903576,"question_id":19177994,"body_markdown":"    import java.io.*;  \r\n    import java.util.Scanner;  \r\n    public class split {  \r\n    public static void main(String args[])  \r\n    {  \r\n     try{  \r\n      // Reading file and getting no. of files to be generated  \r\n      String inputfile = &quot;C:/test.txt&quot;; //  Source File Name.  \r\n      double nol = 2000.0; //  No. of lines to be split and saved in each output file.  \r\n      File file = new File(inputfile);  \r\n      Scanner scanner = new Scanner(file);  \r\n      int count = 0;  \r\n      while (scanner.hasNextLine())   \r\n      {  \r\n       scanner.nextLine();  \r\n       count++;  \r\n      }  \r\n      System.out.println(&quot;Lines in the file: &quot; + count);     // Displays no. of lines in the input file.  \r\n      \r\n      double temp = (count/nol);  \r\n      int temp1=(int)temp;  \r\n      int nof=0;  \r\n      if(temp1==temp)  \r\n      {  \r\n       nof=temp1;  \r\n      }  \r\n      else  \r\n      {  \r\n       nof=temp1+1;  \r\n      }  \r\n      System.out.println(&quot;No. of files to be generated :&quot;+nof); // Displays no. of files to be generated.  \r\n       \r\n      //---------------------------------------------------------------------------------------------------------  \r\n      \r\n      // Actual splitting of file into smaller files  \r\n      \r\n      FileInputStream fstream = new FileInputStream(inputfile); DataInputStream in = new DataInputStream(fstream);  \r\n      \r\n      BufferedReader br = new BufferedReader(new InputStreamReader(in)); String strLine;  \r\n       \r\n      for (int j=1;j&lt;=nof;j++)  \r\n      {  \r\n       FileWriter fstream1 = new FileWriter(&quot;C:/New Folder/File&quot;+j+&quot;.txt&quot;);     // Destination File Location  \r\n       BufferedWriter out = new BufferedWriter(fstream1);   \r\n       for (int i=1;i&lt;=nol;i++)  \r\n       {  \r\n        strLine = br.readLine();   \r\n        if (strLine!= null)  \r\n        {  \r\n         out.write(strLine);   \r\n         if(i!=nol)  \r\n         {  \r\n          out.newLine();  \r\n         }  \r\n        }  \r\n       }  \r\n       out.close();  \r\n      }  \r\n      \r\n      in.close();  \r\n     }catch (Exception e)  \r\n     {  \r\n      System.err.println(&quot;Error: &quot; + e.getMessage());  \r\n     }  \r\n      \r\n    }  \r\n      \r\n    }   \r\n\r\n","title":"Java - Read file and split into multiple files","body":"<pre><code>import java.io.*;  \nimport java.util.Scanner;  \npublic class split {  \npublic static void main(String args[])  \n{  \n try{  \n  // Reading file and getting no. of files to be generated  \n  String inputfile = \"C:/test.txt\"; //  Source File Name.  \n  double nol = 2000.0; //  No. of lines to be split and saved in each output file.  \n  File file = new File(inputfile);  \n  Scanner scanner = new Scanner(file);  \n  int count = 0;  \n  while (scanner.hasNextLine())   \n  {  \n   scanner.nextLine();  \n   count++;  \n  }  \n  System.out.println(\"Lines in the file: \" + count);     // Displays no. of lines in the input file.  \n\n  double temp = (count/nol);  \n  int temp1=(int)temp;  \n  int nof=0;  \n  if(temp1==temp)  \n  {  \n   nof=temp1;  \n  }  \n  else  \n  {  \n   nof=temp1+1;  \n  }  \n  System.out.println(\"No. of files to be generated :\"+nof); // Displays no. of files to be generated.  \n\n  //---------------------------------------------------------------------------------------------------------  \n\n  // Actual splitting of file into smaller files  \n\n  FileInputStream fstream = new FileInputStream(inputfile); DataInputStream in = new DataInputStream(fstream);  \n\n  BufferedReader br = new BufferedReader(new InputStreamReader(in)); String strLine;  \n\n  for (int j=1;j&lt;=nof;j++)  \n  {  \n   FileWriter fstream1 = new FileWriter(\"C:/New Folder/File\"+j+\".txt\");     // Destination File Location  \n   BufferedWriter out = new BufferedWriter(fstream1);   \n   for (int i=1;i&lt;=nol;i++)  \n   {  \n    strLine = br.readLine();   \n    if (strLine!= null)  \n    {  \n     out.write(strLine);   \n     if(i!=nol)  \n     {  \n      out.newLine();  \n     }  \n    }  \n   }  \n   out.close();  \n  }  \n\n  in.close();  \n }catch (Exception e)  \n {  \n  System.err.println(\"Error: \" + e.getMessage());  \n }  \n\n}  \n\n}   \n</code></pre>\n"},{"comments":[{"owner":{"account_id":6115978,"reputation":2219,"user_id":4771017,"accept_rate":75,"display_name":"CubeJockey"},"score":1,"creation_date":1463773261,"post_id":37353956,"comment_id":62224642,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/12423371)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/12423371\">From Review</a>"},{"owner":{"account_id":1588298,"reputation":96,"user_id":1472187,"display_name":"user1472187"},"score":1,"creation_date":1463785149,"post_id":37353956,"comment_id":62229210,"body_markdown":"Thanks, Updated the comment.","body":"Thanks, Updated the comment."}],"tags":[],"owner":{"account_id":1588298,"reputation":96,"user_id":1472187,"display_name":"user1472187"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495822521,"creation_date":1463770451,"answer_id":37353956,"question_id":19177994,"body_markdown":"Though its a old question but for reference I am listing out the code which I used to split large files to any sizes and it works with any Java versions above 1.4 .\r\n\r\nSample Split and Join blocks were like below:\r\n\r\n    public void join(String FilePath) {\r\n        long leninfile = 0, leng = 0;\r\n        int count = 1, data = 0;\r\n        try {\r\n            File filename = new File(FilePath);\r\n            //RandomAccessFile outfile = new RandomAccessFile(filename,&quot;rw&quot;);\r\n    \r\n            OutputStream outfile = new BufferedOutputStream(new FileOutputStream(filename));\r\n            while (true) {\r\n                filename = new File(FilePath + count + &quot;.sp&quot;);\r\n                if (filename.exists()) {\r\n                    //RandomAccessFile infile = new RandomAccessFile(filename,&quot;r&quot;);\r\n                    InputStream infile = new BufferedInputStream(new FileInputStream(filename));\r\n                    data = infile.read();\r\n                    while (data != -1) {\r\n                        outfile.write(data);\r\n                        data = infile.read();\r\n                    }\r\n                    leng++;\r\n                    infile.close();\r\n                    count++;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            outfile.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    public void split(String FilePath, long splitlen) {\r\n        long leninfile = 0, leng = 0;\r\n        int count = 1, data;\r\n        try {\r\n            File filename = new File(FilePath);\r\n            //RandomAccessFile infile = new RandomAccessFile(filename, &quot;r&quot;);\r\n            InputStream infile = new BufferedInputStream(new FileInputStream(filename));\r\n            data = infile.read();\r\n            while (data != -1) {\r\n                filename = new File(FilePath + count + &quot;.sp&quot;);\r\n                //RandomAccessFile outfile = new RandomAccessFile(filename, &quot;rw&quot;);\r\n                OutputStream outfile = new BufferedOutputStream(new FileOutputStream(filename));\r\n                while (data != -1 &amp;&amp; leng &lt; splitlen) {\r\n                    outfile.write(data);\r\n                    leng++;\r\n                    data = infile.read();\r\n                }\r\n                leninfile += leng;\r\n                leng = 0;\r\n                outfile.close();\r\n                count++;\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nComplete java code available here in [File Split in Java Program][1] link.\r\n\r\n\r\n  [1]: http://www.techpaste.com/2011/08/advanced-java-program-split-join-file-upload-size-slices/","title":"Java - Read file and split into multiple files","body":"<p>Though its a old question but for reference I am listing out the code which I used to split large files to any sizes and it works with any Java versions above 1.4 .</p>\n\n<p>Sample Split and Join blocks were like below:</p>\n\n<pre><code>public void join(String FilePath) {\n    long leninfile = 0, leng = 0;\n    int count = 1, data = 0;\n    try {\n        File filename = new File(FilePath);\n        //RandomAccessFile outfile = new RandomAccessFile(filename,\"rw\");\n\n        OutputStream outfile = new BufferedOutputStream(new FileOutputStream(filename));\n        while (true) {\n            filename = new File(FilePath + count + \".sp\");\n            if (filename.exists()) {\n                //RandomAccessFile infile = new RandomAccessFile(filename,\"r\");\n                InputStream infile = new BufferedInputStream(new FileInputStream(filename));\n                data = infile.read();\n                while (data != -1) {\n                    outfile.write(data);\n                    data = infile.read();\n                }\n                leng++;\n                infile.close();\n                count++;\n            } else {\n                break;\n            }\n        }\n        outfile.close();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\npublic void split(String FilePath, long splitlen) {\n    long leninfile = 0, leng = 0;\n    int count = 1, data;\n    try {\n        File filename = new File(FilePath);\n        //RandomAccessFile infile = new RandomAccessFile(filename, \"r\");\n        InputStream infile = new BufferedInputStream(new FileInputStream(filename));\n        data = infile.read();\n        while (data != -1) {\n            filename = new File(FilePath + count + \".sp\");\n            //RandomAccessFile outfile = new RandomAccessFile(filename, \"rw\");\n            OutputStream outfile = new BufferedOutputStream(new FileOutputStream(filename));\n            while (data != -1 &amp;&amp; leng &lt; splitlen) {\n                outfile.write(data);\n                leng++;\n                data = infile.read();\n            }\n            leninfile += leng;\n            leng = 0;\n            outfile.close();\n            count++;\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Complete java code available here in <a href=\"http://www.techpaste.com/2011/08/advanced-java-program-split-join-file-upload-size-slices/\" rel=\"nofollow noreferrer\">File Split in Java Program</a> link.</p>\n"},{"tags":[],"owner":{"account_id":3521210,"reputation":113,"user_id":2943431,"display_name":"amralieg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510298232,"creation_date":1510297156,"answer_id":47217275,"question_id":19177994,"body_markdown":"Here is one that worked for me and I used it to split 10GB file. it also enables you to add a header and a footer. very useful when splitting document based format such as XML and JSON because you need to add document wrapper in the new split files.\r\n\r\n   \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.StandardOpenOption;\r\n    \r\n    public class FileSpliter\r\n    {\r\n    \tpublic static void main(String[] args) throws IOException\r\n    \t{\r\n    \t\tsplitTextFiles(&quot;D:\\\\xref.csx&quot;, 750000, &quot;&quot;, &quot;&quot;, null);\r\n    \t}\r\n    \r\n    \tpublic static void splitTextFiles(String fileName, int maxRows, String header, String footer, String targetDir) throws IOException\r\n    \t{\r\n    \t\tFile bigFile = new File(fileName);\r\n    \t\tint i = 1;\r\n    \t\tString ext = fileName.substring(fileName.lastIndexOf(&quot;.&quot;));\r\n    \t\t\r\n    \t\tString fileNoExt = bigFile.getName().replace(ext, &quot;&quot;);\r\n    \t\tFile newDir = null;\r\n    \t\tif(targetDir != null)\r\n    \t\t{\r\n    \t\t\tnewDir = new File(targetDir);\t\t\t\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tnewDir = new File(bigFile.getParent() + &quot;\\\\&quot; + fileNoExt + &quot;_split&quot;);\r\n    \t\t}\r\n    \t\tnewDir.mkdirs();\r\n    \t\ttry (BufferedReader reader = Files.newBufferedReader(Paths.get(fileName)))\r\n    \t\t{\r\n    \t\t\tString line = null;\r\n    \t\t\tint lineNum = 1;\r\n    \t\t\tPath splitFile = Paths.get(newDir.getPath() + &quot;\\\\&quot; +  fileNoExt + &quot;_&quot; + String.format(&quot;%02d&quot;, i) + ext);\r\n    \t\t\tBufferedWriter writer = Files.newBufferedWriter(splitFile, StandardOpenOption.CREATE);\r\n    \t\t\twhile ((line = reader.readLine()) != null)\r\n    \t\t\t{\r\n    \t\t\t\tif(lineNum == 1)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tSystem.out.print(&quot;new file created &#39;&quot; + splitFile.toString());\r\n    \t\t\t\t\tif(header != null &amp;&amp; header.length() &gt; 0)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\twriter.append(header);\r\n    \t\t\t\t\t\twriter.newLine();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\twriter.append(line);\r\n    \t\t\t\t\r\n    \t\t\t\tif (lineNum &gt;= maxRows)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(footer != null &amp;&amp; footer.length() &gt; 0)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\twriter.newLine();\r\n    \t\t\t\t\t\twriter.append(footer);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\twriter.close();\r\n    \t\t\t\t\tSystem.out.println(&quot;, &quot; + lineNum + &quot; lines written to file&quot;);\r\n    \t\t\t\t\tlineNum = 1;\r\n    \t\t\t\t\ti++;\r\n    \t\t\t\t\tsplitFile = Paths.get(newDir.getPath() + &quot;\\\\&quot; + fileNoExt + &quot;_&quot; + String.format(&quot;%02d&quot;, i) + ext);\r\n    \t\t\t\t\twriter = Files.newBufferedWriter(splitFile, StandardOpenOption.CREATE);\r\n    \t\t\t\t}\r\n    \t\t\t\telse\r\n    \t\t\t\t{\r\n    \t\t\t\t\twriter.newLine();\r\n    \t\t\t\t\tlineNum++;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif(lineNum &lt;= maxRows) // early exit\r\n    \t\t\t{\r\n    \t\t\t\tif(footer != null &amp;&amp; footer.length() &gt; 0)\r\n    \t\t\t\t{\r\n    \t\t\t\t\twriter.newLine();\r\n    \t\t\t\t\tlineNum++;\r\n    \t\t\t\t\twriter.append(footer);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\twriter.close();\r\n    \t\t\tSystem.out.println(&quot;, &quot; + lineNum + &quot; lines written to file&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;file &#39;&quot; + bigFile.getName() + &quot;&#39; split into &quot; + i + &quot; files&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Java - Read file and split into multiple files","body":"<p>Here is one that worked for me and I used it to split 10GB file. it also enables you to add a header and a footer. very useful when splitting document based format such as XML and JSON because you need to add document wrapper in the new split files.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n\npublic class FileSpliter\n{\n    public static void main(String[] args) throws IOException\n    {\n        splitTextFiles(\"D:\\\\xref.csx\", 750000, \"\", \"\", null);\n    }\n\n    public static void splitTextFiles(String fileName, int maxRows, String header, String footer, String targetDir) throws IOException\n    {\n        File bigFile = new File(fileName);\n        int i = 1;\n        String ext = fileName.substring(fileName.lastIndexOf(\".\"));\n\n        String fileNoExt = bigFile.getName().replace(ext, \"\");\n        File newDir = null;\n        if(targetDir != null)\n        {\n            newDir = new File(targetDir);           \n        }\n        else\n        {\n            newDir = new File(bigFile.getParent() + \"\\\\\" + fileNoExt + \"_split\");\n        }\n        newDir.mkdirs();\n        try (BufferedReader reader = Files.newBufferedReader(Paths.get(fileName)))\n        {\n            String line = null;\n            int lineNum = 1;\n            Path splitFile = Paths.get(newDir.getPath() + \"\\\\\" +  fileNoExt + \"_\" + String.format(\"%02d\", i) + ext);\n            BufferedWriter writer = Files.newBufferedWriter(splitFile, StandardOpenOption.CREATE);\n            while ((line = reader.readLine()) != null)\n            {\n                if(lineNum == 1)\n                {\n                    System.out.print(\"new file created '\" + splitFile.toString());\n                    if(header != null &amp;&amp; header.length() &gt; 0)\n                    {\n                        writer.append(header);\n                        writer.newLine();\n                    }\n                }\n                writer.append(line);\n\n                if (lineNum &gt;= maxRows)\n                {\n                    if(footer != null &amp;&amp; footer.length() &gt; 0)\n                    {\n                        writer.newLine();\n                        writer.append(footer);\n                    }\n                    writer.close();\n                    System.out.println(\", \" + lineNum + \" lines written to file\");\n                    lineNum = 1;\n                    i++;\n                    splitFile = Paths.get(newDir.getPath() + \"\\\\\" + fileNoExt + \"_\" + String.format(\"%02d\", i) + ext);\n                    writer = Files.newBufferedWriter(splitFile, StandardOpenOption.CREATE);\n                }\n                else\n                {\n                    writer.newLine();\n                    lineNum++;\n                }\n            }\n            if(lineNum &lt;= maxRows) // early exit\n            {\n                if(footer != null &amp;&amp; footer.length() &gt; 0)\n                {\n                    writer.newLine();\n                    lineNum++;\n                    writer.append(footer);\n                }\n            }\n            writer.close();\n            System.out.println(\", \" + lineNum + \" lines written to file\");\n        }\n\n        System.out.println(\"file '\" + bigFile.getName() + \"' split into \" + i + \" files\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2177647,"reputation":13,"user_id":1927935,"display_name":"Narendra Kumar Samal"},"score":0,"creation_date":1511245326,"post_id":47406425,"comment_id":81766248,"body_markdown":"The code I have written above is working and I have tested for a file with 40L records/line. It takes around 10 secs to split the file into chinks of 1L line per file.","body":"The code I have written above is working and I have tested for a file with 40L records/line. It takes around 10 secs to split the file into chinks of 1L line per file."},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":0,"creation_date":1533235443,"post_id":47406425,"comment_id":90284061,"body_markdown":"The code above is missing re-adding the line separator. `writer.write(System.lineSeparator());` is needed, otherwise it is 1 huge line.","body":"The code above is missing re-adding the line separator. <code>writer.write(System.lineSeparator());</code> is needed, otherwise it is 1 huge line."}],"tags":[],"owner":{"account_id":2177647,"reputation":13,"user_id":1927935,"display_name":"Narendra Kumar Samal"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1511256683,"creation_date":1511245085,"answer_id":47406425,"question_id":19177994,"body_markdown":"Below code used to split a big file into small files with lesser lines.\r\n\r\n\r\n\t    long linesWritten = 0;\r\n\t\tint count = 1;\r\n\r\n\t\ttry {\r\n\t\t\tFile inputFile = new File(inputFilePath);\r\n\t\t\tInputStream inputFileStream = new BufferedInputStream(new FileInputStream(inputFile));\r\n\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(inputFileStream));\r\n\r\n\t\t\tString line = reader.readLine();\r\n\r\n\t\t\tString fileName = inputFile.getName();\r\n\t\t\tString outfileName = outputFolderPath + &quot;\\\\&quot; + fileName;\r\n\r\n\t\t\twhile (line != null) {\r\n\t\t\t\tFile outFile = new File(outfileName + &quot;_&quot; + count + &quot;.split&quot;);\r\n\t\t\t\tWriter writer = new OutputStreamWriter(new FileOutputStream(outFile));\r\n\r\n\t\t\t\twhile (line != null &amp;&amp; linesWritten &lt; linesPerSplit) {\r\n\t\t\t\t\twriter.write(line);\r\n\t\t\t\t\tline = reader.readLine();\r\n\t\t\t\t\tlinesWritten++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\twriter.close();\r\n\t\t\t\tlinesWritten = 0;//next file\r\n\t\t\t\tcount++;//nect file count\r\n\t\t\t}\r\n\r\n\t\t\treader.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n","title":"Java - Read file and split into multiple files","body":"<p>Below code used to split a big file into small files with lesser lines.</p>\n\n<pre><code>    long linesWritten = 0;\n    int count = 1;\n\n    try {\n        File inputFile = new File(inputFilePath);\n        InputStream inputFileStream = new BufferedInputStream(new FileInputStream(inputFile));\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputFileStream));\n\n        String line = reader.readLine();\n\n        String fileName = inputFile.getName();\n        String outfileName = outputFolderPath + \"\\\\\" + fileName;\n\n        while (line != null) {\n            File outFile = new File(outfileName + \"_\" + count + \".split\");\n            Writer writer = new OutputStreamWriter(new FileOutputStream(outFile));\n\n            while (line != null &amp;&amp; linesWritten &lt; linesPerSplit) {\n                writer.write(line);\n                line = reader.readLine();\n                linesWritten++;\n            }\n\n            writer.close();\n            linesWritten = 0;//next file\n            count++;//nect file count\n        }\n\n        reader.close();\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5939433,"reputation":1476,"user_id":4671263,"display_name":"Aymen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573659441,"creation_date":1573490878,"answer_id":58805472,"question_id":19177994,"body_markdown":"a clean solution to edit.\r\n\r\nthis solution involves loading the entire file into memory.\r\n\r\nset all line of a file in `List&lt;String&gt; rowsOfFile;`\r\n\r\nedit `maxSizeFile` to choice max size of a single file splitted\r\n\r\n    public void splitFile(File fileToSplit) throws IOException {\r\n      long maxSizeFile = 10000000 // 10mb\r\n      StringBuilder buffer = new StringBuilder((int) maxSizeFile);\r\n      int sizeOfRows = 0;\r\n      int recurrence = 0;\r\n      String fileName;\r\n      List&lt;String&gt; rowsOfFile;\r\n\r\n      rowsOfFile = Files.readAllLines(fileToSplit.toPath(), Charset.defaultCharset());\r\n\r\n      for (String row : rowsOfFile) {\r\n          buffer.append(row);\r\n          numOfRow++;\r\n          sizeOfRows += row.getBytes(StandardCharsets.UTF_8).length;\r\n          if (sizeOfRows &gt;= maxSizeFile) {\r\n              fileName = generateFileName(recurrence);\r\n              File newFile = new File(fileName);\r\n\r\n              try (PrintWriter writer = new PrintWriter(newFile)) {\r\n                  writer.println(buffer.toString());\r\n              }\r\n\r\n              recurrence++;\r\n              sizeOfRows = 0;\r\n              buffer = new StringBuilder();\r\n          }\r\n      }\r\n      // last rows\r\n      if (sizeOfRows &gt; 0) {\r\n          fileName = generateFileName(recurrence);\r\n          File newFile = createFile(fileName);\r\n\r\n          try (PrintWriter writer = new PrintWriter(newFile)) {\r\n              writer.println(buffer.toString());\r\n          }\r\n      }\r\n      Files.delete(fileToSplit.toPath());\r\n    }\r\n\r\nmethod to generate Name of file:\r\n\r\n        public String generateFileName(int numFile) {\r\n          String extension = &quot;.txt&quot;;\r\n          return &quot;myFile&quot; + numFile + extension;\r\n        }","title":"Java - Read file and split into multiple files","body":"<p>a clean solution to edit.</p>\n\n<p>this solution involves loading the entire file into memory.</p>\n\n<p>set all line of a file in <code>List&lt;String&gt; rowsOfFile;</code></p>\n\n<p>edit <code>maxSizeFile</code> to choice max size of a single file splitted</p>\n\n<pre><code>public void splitFile(File fileToSplit) throws IOException {\n  long maxSizeFile = 10000000 // 10mb\n  StringBuilder buffer = new StringBuilder((int) maxSizeFile);\n  int sizeOfRows = 0;\n  int recurrence = 0;\n  String fileName;\n  List&lt;String&gt; rowsOfFile;\n\n  rowsOfFile = Files.readAllLines(fileToSplit.toPath(), Charset.defaultCharset());\n\n  for (String row : rowsOfFile) {\n      buffer.append(row);\n      numOfRow++;\n      sizeOfRows += row.getBytes(StandardCharsets.UTF_8).length;\n      if (sizeOfRows &gt;= maxSizeFile) {\n          fileName = generateFileName(recurrence);\n          File newFile = new File(fileName);\n\n          try (PrintWriter writer = new PrintWriter(newFile)) {\n              writer.println(buffer.toString());\n          }\n\n          recurrence++;\n          sizeOfRows = 0;\n          buffer = new StringBuilder();\n      }\n  }\n  // last rows\n  if (sizeOfRows &gt; 0) {\n      fileName = generateFileName(recurrence);\n      File newFile = createFile(fileName);\n\n      try (PrintWriter writer = new PrintWriter(newFile)) {\n          writer.println(buffer.toString());\n      }\n  }\n  Files.delete(fileToSplit.toPath());\n}\n</code></pre>\n\n<p>method to generate Name of file:</p>\n\n<pre><code>    public String generateFileName(int numFile) {\n      String extension = \".txt\";\n      return \"myFile\" + numFile + extension;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15231654,"reputation":97,"user_id":10990603,"display_name":"Ajith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601560957,"creation_date":1601560957,"answer_id":64157032,"question_id":19177994,"body_markdown":"Split a file to multiple chunks (in memory operation), here I&#39;m splitting any file to a size of 500kb(500000 bytes) :\r\n\r\n    public static List&lt;ByteArrayOutputStream&gt; splitFile(File f) {\r\n    List&lt;ByteArrayOutputStream&gt; datalist = new ArrayList&lt;&gt;();\r\n    try {\r\n\r\n        int sizeOfFiles = 500000;\r\n        byte[] buffer = new byte[sizeOfFiles];\r\n\r\n        try (FileInputStream fis = new FileInputStream(f); BufferedInputStream bis = new BufferedInputStream(fis)) {\r\n\r\n            int bytesAmount = 0;\r\n            while ((bytesAmount = bis.read(buffer)) &gt; 0) {\r\n                try (OutputStream out = new ByteArrayOutputStream()) {\r\n                    out.write(buffer, 0, bytesAmount);\r\n                    out.flush();\r\n                    datalist.add((ByteArrayOutputStream) out);\r\n                }\r\n            }\r\n        }\r\n    } catch (Exception e) {\r\n        //get the error\r\n    }\r\n\r\n    return datalist; }\r\n","title":"Java - Read file and split into multiple files","body":"<p>Split a file to multiple chunks (in memory operation), here I'm splitting any file to a size of 500kb(500000 bytes) :</p>\n<pre><code>public static List&lt;ByteArrayOutputStream&gt; splitFile(File f) {\nList&lt;ByteArrayOutputStream&gt; datalist = new ArrayList&lt;&gt;();\ntry {\n\n    int sizeOfFiles = 500000;\n    byte[] buffer = new byte[sizeOfFiles];\n\n    try (FileInputStream fis = new FileInputStream(f); BufferedInputStream bis = new BufferedInputStream(fis)) {\n\n        int bytesAmount = 0;\n        while ((bytesAmount = bis.read(buffer)) &gt; 0) {\n            try (OutputStream out = new ByteArrayOutputStream()) {\n                out.write(buffer, 0, bytesAmount);\n                out.flush();\n                datalist.add((ByteArrayOutputStream) out);\n            }\n        }\n    }\n} catch (Exception e) {\n    //get the error\n}\n\nreturn datalist; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8810132,"reputation":245,"user_id":6583432,"display_name":"Malkeith Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664305563,"creation_date":1664305563,"answer_id":73872668,"question_id":19177994,"body_markdown":"I am a bit late to answer, But here&#39;s how I did it:\r\n\r\n**Approach:**\r\n\r\nFirst I determine how many bytes each of the individual files should contain then I split the large file by bytes. Only one file chunk worth of data is loaded into memory at a time.\r\n\r\n**Example:-** if a 5 GB file is split into 10 files then only 500MB worth of bytes are loaded into memory at a time which are held in the **buffer** variable in the **splitBySize** method below.\r\n\r\n**Code Explaination:**\r\n\r\nThe method **splitFile** first gets the number of bytes each of the individual **file chunks** should contain by calling the **getSizeInBytes** method, then it calls the **splitBySize** method which splits the large file by size (i..e **maxChunkSize** represents the number of bytes each of file chunks will contain).\r\n\r\n    public static List&lt;File&gt; splitFile(File largeFile, int noOfFiles) throws IOException {\r\n        return splitBySize(largeFile, getSizeInBytes(largeFile.length(), noOfFiles));\r\n    }\r\n\r\n    public static List&lt;File&gt; splitBySize(File largeFile, int maxChunkSize) throws IOException {\r\n        List&lt;File&gt; list = new ArrayList&lt;&gt;();\r\n        int numberOfFiles = 0;\r\n        try (InputStream in = Files.newInputStream(largeFile.toPath())) {\r\n            final byte[] buffer = new byte[maxChunkSize];\r\n            int dataRead = in.read(buffer);\r\n            while (dataRead &gt; -1) {\r\n                list.add(stageLocally(buffer, dataRead));\r\n                numberOfFiles++;\r\n                dataRead = in.read(buffer);\r\n            }\r\n        }\r\n        System.out.println(&quot;Number of files generated: &quot; + numberOfFiles);\r\n        return list;\r\n    }\r\n\r\n    private static int getSizeInBytes(long totalBytes, int numberOfFiles) {\r\n        if (totalBytes % numberOfFiles != 0) {\r\n            totalBytes = ((totalBytes / numberOfFiles) + 1)*numberOfFiles;\r\n        }\r\n        long x = totalBytes / numberOfFiles;\r\n        if (x &gt; Integer.MAX_VALUE){\r\n            throw new NumberFormatException(&quot;Byte chunk too large&quot;);\r\n\r\n        }\r\n        return (int) x;\r\n    }\r\n\r\n\r\n\r\n**Full Code**:\r\n\r\n    public class StackOverflow {\r\n\r\n    private static final String INPUT_FILE_PATH = &quot;/Users/malkesingh/Downloads/5MB.zip&quot;;\r\n    private static final String TEMP_DIRECTORY = &quot;/Users/malkesingh/temp&quot;;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        File input = new File(INPUT_FILE_PATH);\r\n        File outPut = fileJoin2(splitFile(input, 5));\r\n\r\n        try (InputStream in = Files.newInputStream(input.toPath()); InputStream out = Files.newInputStream(outPut.toPath())) {\r\n            System.out.println(IOUtils.contentEquals(in, out));\r\n        }\r\n\r\n    }\r\n\r\n    public static List&lt;File&gt; splitFile(File largeFile, int noOfFiles) throws IOException {\r\n        return splitBySize(largeFile, getSizeInBytes(largeFile.length(), noOfFiles));\r\n    }\r\n\r\n    public static List&lt;File&gt; splitBySize(File largeFile, int maxChunkSize) throws IOException {\r\n        List&lt;File&gt; list = new ArrayList&lt;&gt;();\r\n        int numberOfFiles = 0;\r\n        try (InputStream in = Files.newInputStream(largeFile.toPath())) {\r\n            final byte[] buffer = new byte[maxChunkSize];\r\n            int dataRead = in.read(buffer);\r\n            while (dataRead &gt; -1) {\r\n                list.add(stageLocally(buffer, dataRead));\r\n                numberOfFiles++;\r\n                dataRead = in.read(buffer);\r\n            }\r\n        }\r\n        System.out.println(&quot;Number of files generated: &quot; + numberOfFiles);\r\n        return list;\r\n    }\r\n\r\n    private static int getSizeInBytes(long totalBytes, int numberOfFiles) {\r\n        if (totalBytes % numberOfFiles != 0) {\r\n            totalBytes = ((totalBytes / numberOfFiles) + 1)*numberOfFiles;\r\n        }\r\n        long x = totalBytes / numberOfFiles;\r\n        if (x &gt; Integer.MAX_VALUE){\r\n            throw new NumberFormatException(&quot;Byte chunk too large&quot;);\r\n\r\n        }\r\n        return (int) x;\r\n    }\r\n\r\n\r\n\r\n\r\n    private static File stageLocally(byte[] buffer, int length) throws IOException {\r\n        File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;split&quot;, new File(TEMP_DIRECTORY));\r\n        try(FileOutputStream fos = new FileOutputStream(outPutFile)) {\r\n            fos.write(buffer, 0, length);\r\n        }\r\n        return outPutFile;\r\n    }\r\n\r\n\r\n    public static File fileJoin2(List&lt;File&gt; list) throws IOException {\r\n        File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;unsplit&quot;, new File(TEMP_DIRECTORY));\r\n        FileOutputStream fos = new FileOutputStream(outPutFile);\r\n        for (File file : list) {\r\n            Files.copy(file.toPath(), fos);\r\n        }\r\n        fos.close();\r\n        return outPutFile;\r\n    }}","title":"Java - Read file and split into multiple files","body":"<p>I am a bit late to answer, But here's how I did it:</p>\n<p><strong>Approach:</strong></p>\n<p>First I determine how many bytes each of the individual files should contain then I split the large file by bytes. Only one file chunk worth of data is loaded into memory at a time.</p>\n<p><strong>Example:-</strong> if a 5 GB file is split into 10 files then only 500MB worth of bytes are loaded into memory at a time which are held in the <strong>buffer</strong> variable in the <strong>splitBySize</strong> method below.</p>\n<p><strong>Code Explaination:</strong></p>\n<p>The method <strong>splitFile</strong> first gets the number of bytes each of the individual <strong>file chunks</strong> should contain by calling the <strong>getSizeInBytes</strong> method, then it calls the <strong>splitBySize</strong> method which splits the large file by size (i..e <strong>maxChunkSize</strong> represents the number of bytes each of file chunks will contain).</p>\n<pre><code>public static List&lt;File&gt; splitFile(File largeFile, int noOfFiles) throws IOException {\n    return splitBySize(largeFile, getSizeInBytes(largeFile.length(), noOfFiles));\n}\n\npublic static List&lt;File&gt; splitBySize(File largeFile, int maxChunkSize) throws IOException {\n    List&lt;File&gt; list = new ArrayList&lt;&gt;();\n    int numberOfFiles = 0;\n    try (InputStream in = Files.newInputStream(largeFile.toPath())) {\n        final byte[] buffer = new byte[maxChunkSize];\n        int dataRead = in.read(buffer);\n        while (dataRead &gt; -1) {\n            list.add(stageLocally(buffer, dataRead));\n            numberOfFiles++;\n            dataRead = in.read(buffer);\n        }\n    }\n    System.out.println(&quot;Number of files generated: &quot; + numberOfFiles);\n    return list;\n}\n\nprivate static int getSizeInBytes(long totalBytes, int numberOfFiles) {\n    if (totalBytes % numberOfFiles != 0) {\n        totalBytes = ((totalBytes / numberOfFiles) + 1)*numberOfFiles;\n    }\n    long x = totalBytes / numberOfFiles;\n    if (x &gt; Integer.MAX_VALUE){\n        throw new NumberFormatException(&quot;Byte chunk too large&quot;);\n\n    }\n    return (int) x;\n}\n</code></pre>\n<p><strong>Full Code</strong>:</p>\n<pre><code>public class StackOverflow {\n\nprivate static final String INPUT_FILE_PATH = &quot;/Users/malkesingh/Downloads/5MB.zip&quot;;\nprivate static final String TEMP_DIRECTORY = &quot;/Users/malkesingh/temp&quot;;\n\npublic static void main(String[] args) throws IOException {\n\n    File input = new File(INPUT_FILE_PATH);\n    File outPut = fileJoin2(splitFile(input, 5));\n\n    try (InputStream in = Files.newInputStream(input.toPath()); InputStream out = Files.newInputStream(outPut.toPath())) {\n        System.out.println(IOUtils.contentEquals(in, out));\n    }\n\n}\n\npublic static List&lt;File&gt; splitFile(File largeFile, int noOfFiles) throws IOException {\n    return splitBySize(largeFile, getSizeInBytes(largeFile.length(), noOfFiles));\n}\n\npublic static List&lt;File&gt; splitBySize(File largeFile, int maxChunkSize) throws IOException {\n    List&lt;File&gt; list = new ArrayList&lt;&gt;();\n    int numberOfFiles = 0;\n    try (InputStream in = Files.newInputStream(largeFile.toPath())) {\n        final byte[] buffer = new byte[maxChunkSize];\n        int dataRead = in.read(buffer);\n        while (dataRead &gt; -1) {\n            list.add(stageLocally(buffer, dataRead));\n            numberOfFiles++;\n            dataRead = in.read(buffer);\n        }\n    }\n    System.out.println(&quot;Number of files generated: &quot; + numberOfFiles);\n    return list;\n}\n\nprivate static int getSizeInBytes(long totalBytes, int numberOfFiles) {\n    if (totalBytes % numberOfFiles != 0) {\n        totalBytes = ((totalBytes / numberOfFiles) + 1)*numberOfFiles;\n    }\n    long x = totalBytes / numberOfFiles;\n    if (x &gt; Integer.MAX_VALUE){\n        throw new NumberFormatException(&quot;Byte chunk too large&quot;);\n\n    }\n    return (int) x;\n}\n\n\n\n\nprivate static File stageLocally(byte[] buffer, int length) throws IOException {\n    File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;split&quot;, new File(TEMP_DIRECTORY));\n    try(FileOutputStream fos = new FileOutputStream(outPutFile)) {\n        fos.write(buffer, 0, length);\n    }\n    return outPutFile;\n}\n\n\npublic static File fileJoin2(List&lt;File&gt; list) throws IOException {\n    File outPutFile = File.createTempFile(&quot;temp-&quot;, &quot;unsplit&quot;, new File(TEMP_DIRECTORY));\n    FileOutputStream fos = new FileOutputStream(outPutFile);\n    for (File file : list) {\n        Files.copy(file.toPath(), fos);\n    }\n    fos.close();\n    return outPutFile;\n}}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1672987908,"post_id":75021593,"comment_id":132401159,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75021593/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27444475,"reputation":1,"user_id":20938523,"display_name":"K.TEJ"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672936367,"creation_date":1672936367,"answer_id":75021593,"question_id":19177994,"body_markdown":"    import java.util.*;\r\n    import java.io.*;\r\n    public class task13 {\r\n        public static void main(String[] args)throws IOException{\r\n            Scanner s =new Scanner(System.in);\r\n            System.out.print(&quot;Enter path:&quot;);\r\n            String a=s.next();\r\n            File f=new File(a+&quot;.txt&quot;);\r\n            Scanner st=new Scanner(f);\r\n            System.out.println(f.canRead()+&quot;\\n&quot;+f.canWrite());\r\n            long l=f.length();\r\n            System.out.println(&quot;Length is:&quot;+l);\r\n            System.out.print(&quot;Enter no.of partitions:&quot;);\r\n            int p=s.nextInt();\r\n            long x=l/p;\r\n            st.useDelimiter(&quot;\\\\Z&quot;);\r\n            String t=st.next();\r\n            int j=0;\r\n            System.out.println(&quot;Each File Length is:&quot;+x);\r\n            for(int i=1;i&lt;=p;i++){\r\n               File ft=new File(a+&quot;-&quot;+i+&quot;.txt&quot;);\r\n               ft.createNewFile();\r\n               int g=(j*(int)x);\r\n               int h=(j+1)*(int)x;\r\n               if(g&lt;=l&amp;&amp;h&lt;=l){\r\n               FileWriter fw=new FileWriter(a+&quot;-&quot;+i+&quot;.txt&quot;);\r\n                   String v=t.substring(g,h);            \r\n                   fw.write(v);\r\n                   j++;\r\n                   fw.close();\r\n               }}\r\n            }}","title":"Java - Read file and split into multiple files","body":"<pre><code>import java.util.*;\nimport java.io.*;\npublic class task13 {\n    public static void main(String[] args)throws IOException{\n        Scanner s =new Scanner(System.in);\n        System.out.print(&quot;Enter path:&quot;);\n        String a=s.next();\n        File f=new File(a+&quot;.txt&quot;);\n        Scanner st=new Scanner(f);\n        System.out.println(f.canRead()+&quot;\\n&quot;+f.canWrite());\n        long l=f.length();\n        System.out.println(&quot;Length is:&quot;+l);\n        System.out.print(&quot;Enter no.of partitions:&quot;);\n        int p=s.nextInt();\n        long x=l/p;\n        st.useDelimiter(&quot;\\\\Z&quot;);\n        String t=st.next();\n        int j=0;\n        System.out.println(&quot;Each File Length is:&quot;+x);\n        for(int i=1;i&lt;=p;i++){\n           File ft=new File(a+&quot;-&quot;+i+&quot;.txt&quot;);\n           ft.createNewFile();\n           int g=(j*(int)x);\n           int h=(j+1)*(int)x;\n           if(g&lt;=l&amp;&amp;h&lt;=l){\n           FileWriter fw=new FileWriter(a+&quot;-&quot;+i+&quot;.txt&quot;);\n               String v=t.substring(g,h);            \n               fw.write(v);\n               j++;\n               fw.close();\n           }}\n        }}\n</code></pre>\n"}],"owner":{"account_id":1887192,"reputation":5567,"user_id":2225572,"accept_rate":67,"display_name":"Ankit Rustagi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133386,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":19179193,"answer_count":11,"score":17,"last_activity_date":1672936367,"creation_date":1380879448,"question_id":19177994,"body_markdown":"I have a file which I would like to read in Java and split this file into `n` (user input) output files. Here is how I read the file:\r\n\r\n    int n = 4;\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;file.csv&quot;));\r\n    try {\r\n        String line = br.readLine();\r\n\r\n        while (line != null) {\r\n            line = br.readLine();\r\n        }\r\n    } finally {\r\n        br.close();\r\n    }\r\n\r\n\r\nHow do I split the file - `file.csv` into `n` files?\r\n\r\nNote - Since the number of entries in the file are of the order of 100k, I can&#39;t store the file content into an array and then split it and save into multiple files.","title":"Java - Read file and split into multiple files","body":"<p>I have a file which I would like to read in Java and split this file into <code>n</code> (user input) output files. Here is how I read the file:</p>\n\n<pre><code>int n = 4;\nBufferedReader br = new BufferedReader(new FileReader(\"file.csv\"));\ntry {\n    String line = br.readLine();\n\n    while (line != null) {\n        line = br.readLine();\n    }\n} finally {\n    br.close();\n}\n</code></pre>\n\n<p>How do I split the file - <code>file.csv</code> into <code>n</code> files?</p>\n\n<p>Note - Since the number of entries in the file are of the order of 100k, I can't store the file content into an array and then split it and save into multiple files.</p>\n"},{"tags":["java","android","java-native-interface","android-runonuithread"],"answers":[{"comments":[{"owner":{"account_id":20969448,"reputation":298,"user_id":15406934,"display_name":"Abhi_M"},"score":0,"creation_date":1672916495,"post_id":75016313,"comment_id":132382733,"body_markdown":"The end result is the same even if I user Handler to post to the UI thread. Keyboard gets hidden when I post to the UI thread.","body":"The end result is the same even if I user Handler to post to the UI thread. Keyboard gets hidden when I post to the UI thread."}],"tags":[],"owner":{"account_id":12731703,"reputation":3217,"user_id":9248098,"display_name":"Gowtham K K"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672911068,"creation_date":1672911068,"answer_id":75016313,"question_id":75016036,"body_markdown":"Not sure why `runOnUIthread` is making the keyboard to hide.\r\n\r\nBut you can try using `Handler` to post update to UI instead.\r\n\r\n    Handler(Looper.getMainLooper()).post {\r\n    //Update UI.\r\n     }","title":"runOnUIThread for Android is hiding the soft keyboard","body":"<p>Not sure why <code>runOnUIthread</code> is making the keyboard to hide.</p>\n<p>But you can try using <code>Handler</code> to post update to UI instead.</p>\n<pre><code>Handler(Looper.getMainLooper()).post {\n//Update UI.\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1459802,"reputation":621,"user_id":1374419,"display_name":"JustAnotherCoder"},"score":0,"creation_date":1672936974,"post_id":75021541,"comment_id":132390355,"body_markdown":"Also call &#39;EditText.requestFocus()&#39;?","body":"Also call &#39;EditText.requestFocus()&#39;?"}],"tags":[],"owner":{"account_id":13750010,"reputation":171,"user_id":9922403,"display_name":"BADER EDDINE QODIA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672936129,"creation_date":1672936129,"answer_id":75021541,"question_id":75016036,"body_markdown":"I think there are two **options**, you can use to prevent the keyboard from being hidden when posting on UI Thread:\r\n\r\nfirst you can add this code (***adjustPan***) in your manifest XML file in holder activity(if you are in Fragment, add it to the activity which call the fragment):\r\n\r\n    &lt;activity android:windowSoftInputMode=&quot;adjustPan&quot;&gt; &lt;/activity&gt;\r\n\r\n&gt; &quot;**adjustPan**&quot;\r\n&gt; \r\n&gt; The activity&#39;s main window is not resized to make room for the soft\r\n&gt; keyboard. Rather, the contents of the window are automatically panned\r\n&gt; so that the current focus is never obscured by the keyboard and users\r\n&gt; can always see what they are typing. This is generally less desirable\r\n&gt; than resizing, because the user may need to close the soft keyboard to\r\n&gt; get at and interact with obscured parts of the window.\r\n\r\nthe second option is to use an explicit call of a soft keyboard after you post to the UI Thread :\r\n\r\n    InputMethodManager imm = (InputMethodManager)   getSystemService(Context.INPUT_METHOD_SERVICE);\r\n    imm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\r\n\r\n","title":"runOnUIThread for Android is hiding the soft keyboard","body":"<p>I think there are two <strong>options</strong>, you can use to prevent the keyboard from being hidden when posting on UI Thread:</p>\n<p>first you can add this code (<em><strong>adjustPan</strong></em>) in your manifest XML file in holder activity(if you are in Fragment, add it to the activity which call the fragment):</p>\n<pre><code>&lt;activity android:windowSoftInputMode=&quot;adjustPan&quot;&gt; &lt;/activity&gt;\n</code></pre>\n<blockquote>\n<p>&quot;<strong>adjustPan</strong>&quot;</p>\n<p>The activity's main window is not resized to make room for the soft\nkeyboard. Rather, the contents of the window are automatically panned\nso that the current focus is never obscured by the keyboard and users\ncan always see what they are typing. This is generally less desirable\nthan resizing, because the user may need to close the soft keyboard to\nget at and interact with obscured parts of the window.</p>\n</blockquote>\n<p>the second option is to use an explicit call of a soft keyboard after you post to the UI Thread :</p>\n<pre><code>InputMethodManager imm = (InputMethodManager)   getSystemService(Context.INPUT_METHOD_SERVICE);\nimm.toggleSoftInput(InputMethodManager.SHOW_FORCED, 0);\n</code></pre>\n"}],"owner":{"account_id":20969448,"reputation":298,"user_id":15406934,"display_name":"Abhi_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672936129,"creation_date":1672909645,"question_id":75016036,"body_markdown":"In my android application, the core logic is written in C++. Hence for multiple scenarios, there will be JNI calls happening.\r\n\r\nIn one use-case, as the text is being entered by the user in the &#39;EditText&#39;, I call a JNI method which will capitalize each word (the logic and hence the outcome can vary for case to case).\r\n\r\nThe TextChange handler calls a JNI function which will capitalize each word the text in a worker thread and then invoke a method on the main thread using &#39;runOnUIThread&#39; to update the text field&#39;s value. My expectation is this should happen seamlessly and should not hamper the way user is interacting.\r\n\r\nCode Samples:\r\n\r\nCalling of the JNI function-\r\n\r\n         edittext.addTextChangedListener(new TextWatcher() {\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n                    \r\n                    OnTextChanged (edittext.getId(), String.valueOf(s));\r\n                }\r\n                ...\r\n         });\r\n\r\nUpdating the EditText with the capitalized text-\r\n\r\n    // Below function is invoked on the Main Thread once the Worker Thread is done with its job of capitalizing\r\n    // An entry function is called which gets the textfield object from the layout and then called the below\r\n    public static void UpdateTextField(EditText pEditTextObj, int pID, int pPosX, int pPosY, int pHeight, int pWidth, int pColor, String pText)\r\n    {\r\n            Log.d(&quot;SampleJNIApp01&quot;, &quot;TextField valued to be updated = &quot; + pText);\r\n            \r\n            pEditTextObj.setText(pText);\r\n            pEditTextObj.requestFocus();\r\n            pEditTextObj.setCursorVisible(true);\r\n            pEditTextObj.setSelection(pEditTextObj.getText().length());\r\n\r\n            // TODO - Show the keyboard \r\n    }\r\n\r\nObservation :\r\n\r\nOnce the first letter is typed in, it DOES get capitalized by the JNI function and the text in the EditText is also updated. However, the focus goes away, cursor is not visible and the keyboard gets hidden.\r\n\r\nSame is observed when I am typing in the text field and some worker thread has invoked some java method to &#39;runOnUIthread&#39; - the focus is lost and soft keyboard gets hidden.\r\n\r\nIs there something wrong that I am doing ?","title":"runOnUIThread for Android is hiding the soft keyboard","body":"<p>In my android application, the core logic is written in C++. Hence for multiple scenarios, there will be JNI calls happening.</p>\n<p>In one use-case, as the text is being entered by the user in the 'EditText', I call a JNI method which will capitalize each word (the logic and hence the outcome can vary for case to case).</p>\n<p>The TextChange handler calls a JNI function which will capitalize each word the text in a worker thread and then invoke a method on the main thread using 'runOnUIThread' to update the text field's value. My expectation is this should happen seamlessly and should not hamper the way user is interacting.</p>\n<p>Code Samples:</p>\n<p>Calling of the JNI function-</p>\n<pre><code>     edittext.addTextChangedListener(new TextWatcher() {\n\n            @Override\n            public void onTextChanged(CharSequence s, int start, int before, int count) {\n                \n                OnTextChanged (edittext.getId(), String.valueOf(s));\n            }\n            ...\n     });\n</code></pre>\n<p>Updating the EditText with the capitalized text-</p>\n<pre><code>// Below function is invoked on the Main Thread once the Worker Thread is done with its job of capitalizing\n// An entry function is called which gets the textfield object from the layout and then called the below\npublic static void UpdateTextField(EditText pEditTextObj, int pID, int pPosX, int pPosY, int pHeight, int pWidth, int pColor, String pText)\n{\n        Log.d(&quot;SampleJNIApp01&quot;, &quot;TextField valued to be updated = &quot; + pText);\n        \n        pEditTextObj.setText(pText);\n        pEditTextObj.requestFocus();\n        pEditTextObj.setCursorVisible(true);\n        pEditTextObj.setSelection(pEditTextObj.getText().length());\n\n        // TODO - Show the keyboard \n}\n</code></pre>\n<p>Observation :</p>\n<p>Once the first letter is typed in, it DOES get capitalized by the JNI function and the text in the EditText is also updated. However, the focus goes away, cursor is not visible and the keyboard gets hidden.</p>\n<p>Same is observed when I am typing in the text field and some worker thread has invoked some java method to 'runOnUIthread' - the focus is lost and soft keyboard gets hidden.</p>\n<p>Is there something wrong that I am doing ?</p>\n"},{"tags":["java","json","serialization","unordered-map","everit"],"owner":{"account_id":94736,"reputation":48421,"user_id":258483,"accept_rate":46,"display_name":"Dims"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672936087,"creation_date":1672936087,"question_id":75021537,"body_markdown":"n my experience, an output of [Schema#toString()][1] can be different for equal objects. Particularly, order of dictionary keys can be different.\r\n\r\nCan this be stabilized?\r\n\r\nOr is it possible to use other method to convert Schema to String to get stable results?\r\n\r\n\r\n  [1]: https://github.com/everit-org/json-schema/blob/master/core/src/main/java/org/everit/json/schema/Schema.java#L351","title":"How to stabilize Everit Schema serialization?","body":"<p>n my experience, an output of <a href=\"https://github.com/everit-org/json-schema/blob/master/core/src/main/java/org/everit/json/schema/Schema.java#L351\" rel=\"nofollow noreferrer\">Schema#toString()</a> can be different for equal objects. Particularly, order of dictionary keys can be different.</p>\n<p>Can this be stabilized?</p>\n<p>Or is it possible to use other method to convert Schema to String to get stable results?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"owner":{"account_id":23779529,"reputation":11,"user_id":17792420,"display_name":"Jabez_Brew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672935735,"creation_date":1672933766,"question_id":75021064,"body_markdown":"I&#39;ve two entities (`User` and `Quiz`) that I want to build a relationship between so I made another entity (`UserQuiz`) to store their primary keys. Here&#39;s the code for `UserQuiz`:\r\n\r\n    public class UserQuiz {\r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n    \r\n        @ManyToOne(targetEntity = User.class, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;user_id&quot;)\r\n        private Long user_id;\r\n    \r\n        @ManyToOne(targetEntity = Quiz.class, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;quiz_id&quot;)\r\n        private Long quiz_id;\r\n    }\r\n\r\n    \r\n\r\nI then create an instance of the `UserQuiz` and pass it to a `UserQuizSerivce` method which abstracts the `CrudeRepository save` method.\r\n\r\n    @PostMapping(&quot;/quizzes&quot;)\r\n    public Quiz postQuiz(@Valid @RequestBody Quiz quiz, Authentication details){\r\n        UserDetailsImpl currentUser = (UserDetailsImpl) details.getPrincipal();\r\n        UserQuiz userQuiz = UserQuiz.builder().user_id(currentUser.getId()).quiz_id(quiz.getId()).build();\r\n        userQuizService.saveUserQuiz(userQuiz);\r\n        return quizService.saveQuiz(quiz);\r\n    }\r\n\r\nThe issue here is the `CrudRepository save` methods throws an `IllegalArgumentException` even though a print statement clearly shows the `userQuiz` object is not null before it gets passed into the method. And also the error from the title is thrown by postman talking about `Quiz.id` which i don&#39;t understand why that field is even been accessed. Very confusing\r\n\r\nBecause of the error from postman, I tried turning the the id (primary keys) fields of `User` and `Quiz` entities into public fields. Tried using the `setAccessible(true)` methods on these fields too but all to no avail.\r\n","title":"Error accessing field [private java.lang.Long engine.Quiz.id] by reflection for persistent property [engine.Quiz#id] : 47;","body":"<p>I've two entities (<code>User</code> and <code>Quiz</code>) that I want to build a relationship between so I made another entity (<code>UserQuiz</code>) to store their primary keys. Here's the code for <code>UserQuiz</code>:</p>\n<pre><code>public class UserQuiz {\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne(targetEntity = User.class, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private Long user_id;\n\n    @ManyToOne(targetEntity = Quiz.class, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;quiz_id&quot;)\n    private Long quiz_id;\n}\n</code></pre>\n<p>I then create an instance of the <code>UserQuiz</code> and pass it to a <code>UserQuizSerivce</code> method which abstracts the <code>CrudeRepository save</code> method.</p>\n<pre><code>@PostMapping(&quot;/quizzes&quot;)\npublic Quiz postQuiz(@Valid @RequestBody Quiz quiz, Authentication details){\n    UserDetailsImpl currentUser = (UserDetailsImpl) details.getPrincipal();\n    UserQuiz userQuiz = UserQuiz.builder().user_id(currentUser.getId()).quiz_id(quiz.getId()).build();\n    userQuizService.saveUserQuiz(userQuiz);\n    return quizService.saveQuiz(quiz);\n}\n</code></pre>\n<p>The issue here is the <code>CrudRepository save</code> methods throws an <code>IllegalArgumentException</code> even though a print statement clearly shows the <code>userQuiz</code> object is not null before it gets passed into the method. And also the error from the title is thrown by postman talking about <code>Quiz.id</code> which i don't understand why that field is even been accessed. Very confusing</p>\n<p>Because of the error from postman, I tried turning the the id (primary keys) fields of <code>User</code> and <code>Quiz</code> entities into public fields. Tried using the <code>setAccessible(true)</code> methods on these fields too but all to no avail.</p>\n"},{"tags":["java","json","maven"],"comments":[{"owner":{"account_id":3758602,"reputation":10072,"user_id":3124333,"accept_rate":100,"display_name":"SiKing"},"score":0,"creation_date":1672935217,"post_id":75021192,"comment_id":132389631,"body_markdown":"Remove `&lt;type&gt;bundle&lt;/type&gt;` and try again. See [What is the meaning of type &quot;bundle&quot; in a maven dependency?](https://stackoverflow.com/q/5389691/3124333) for more info.","body":"Remove <code>&lt;type&gt;bundle&lt;&#47;type&gt;</code> and try again. See <a href=\"https://stackoverflow.com/q/5389691/3124333\">What is the meaning of type &quot;bundle&quot; in a maven dependency?</a> for more info."},{"owner":{"account_id":24369621,"reputation":37,"user_id":18302790,"display_name":"MrWobbles"},"score":0,"creation_date":1672935472,"post_id":75021192,"comment_id":132389737,"body_markdown":"I did that and there were no errors on pom but I still could not reference it in my code. I get this error: `The type org.json.JSONArray is not accessible`","body":"I did that and there were no errors on pom but I still could not reference it in my code. I get this error: <code>The type org.json.JSONArray is not accessible</code>"}],"owner":{"account_id":24369621,"reputation":37,"user_id":18302790,"display_name":"MrWobbles"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":455,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672935459,"creation_date":1672934325,"question_id":75021192,"body_markdown":"I am making a JavaFX project (for the GUI) on Maven and for the moment I want to convert a StringBuffer object to JSON.\r\n\r\nI tried to add the dependency org.json from Maven but there is a problem in pom.xml file \r\n`Missing Artifact org.json:json:bundle:20220924`\r\n\r\nI tried adding an older version of org.json dependency, it had the same issue\r\n\r\nI tried a different dependency, everything was ok in the pom.xml file but I could not import it into my project (any dependency). \r\n\r\nAll dependencies return this error: `The type org.json.JSONArray is not accessible`\r\n\r\nLastly, I tried to download the json-java.jar from github and add it into a libs folder on the base project directory and added it in the pom file as a dependency but it could not be resolved either.\r\n\r\nMy pom.xml file:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;books&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20220924&lt;/version&gt;\r\n            &lt;type&gt;bundle&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sample&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n            &lt;scope&gt;system&lt;/scope&gt;\r\n            &lt;systemPath&gt;${project.basedir}/libs/json-20220924.jar&lt;/systemPath&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.0.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;!-- Default configuration for running --&gt;\r\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\r\n                        &lt;id&gt;default-cli&lt;/id&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nIn the end I downloaded Maven again and extracted it into a folder and changed my environment variables on path. Maven is successfully installed on version 3.8.7\r\n\r\nThank you in advance for any help!\r\n\r\n**UPDATE**\r\n\r\nI should mention that I tried it on a new java project (without maven) and it works fine, by importing the .jar file from git-hub repository","title":"org.json.* is not accessible in JAVA Maven Project as a dependency","body":"<p>I am making a JavaFX project (for the GUI) on Maven and for the moment I want to convert a StringBuffer object to JSON.</p>\n<p>I tried to add the dependency org.json from Maven but there is a problem in pom.xml file\n<code>Missing Artifact org.json:json:bundle:20220924</code></p>\n<p>I tried adding an older version of org.json dependency, it had the same issue</p>\n<p>I tried a different dependency, everything was ok in the pom.xml file but I could not import it into my project (any dependency).</p>\n<p>All dependencies return this error: <code>The type org.json.JSONArray is not accessible</code></p>\n<p>Lastly, I tried to download the json-java.jar from github and add it into a libs folder on the base project directory and added it in the pom file as a dependency but it could not be resolved either.</p>\n<p>My pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;books&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20220924&lt;/version&gt;\n            &lt;type&gt;bundle&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sample&lt;/groupId&gt;\n            &lt;artifactId&gt;sample&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;system&lt;/scope&gt;\n            &lt;systemPath&gt;${project.basedir}/libs/json-20220924.jar&lt;/systemPath&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running --&gt;\n                        &lt;!-- Usage: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.App&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In the end I downloaded Maven again and extracted it into a folder and changed my environment variables on path. Maven is successfully installed on version 3.8.7</p>\n<p>Thank you in advance for any help!</p>\n<p><strong>UPDATE</strong></p>\n<p>I should mention that I tried it on a new java project (without maven) and it works fine, by importing the .jar file from git-hub repository</p>\n"},{"tags":["java","macos","swing"],"answers":[{"tags":[],"owner":{"account_id":278315,"reputation":11589,"user_id":572834,"display_name":"Alexey Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672935435,"creation_date":1672935435,"answer_id":75021432,"question_id":41533992,"body_markdown":"It looks like this is impossible, there are no mnemonics to access the menu bar on macOS.\r\n\r\nSee a similar question on Super User: [How to select File menu in Mac, just like Alt + F in Windows?][1]. Although the question is not Swing-specific, the answers highlight that this is impossible on macOS. Swing does its best to display the menu invoked by a mnemonic.\r\n\r\n\r\n  [1]: https://superuser.com/q/504111/80304","title":"How to use the screen menu bar with a mnemonic key combination on MacOS?","body":"<p>It looks like this is impossible, there are no mnemonics to access the menu bar on macOS.</p>\n<p>See a similar question on Super User: <a href=\"https://superuser.com/q/504111/80304\">How to select File menu in Mac, just like Alt + F in Windows?</a>. Although the question is not Swing-specific, the answers highlight that this is impossible on macOS. Swing does its best to display the menu invoked by a mnemonic.</p>\n"}],"owner":{"account_id":2694517,"reputation":6631,"user_id":2326961,"accept_rate":70,"display_name":"G&#233;ry Ogam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75021432,"answer_count":1,"score":4,"last_activity_date":1672935435,"creation_date":1483887116,"question_id":41533992,"body_markdown":"How to use the screen menu bar with a mnemonic key combination (e.g. &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;F&lt;/kbd&gt;) instead of windows menu bar on MacOS?\r\n\r\nExpected outcome (menu in the *screen* menu bar):\r\n\r\n[![expectation][1]][1]\r\n\r\nActual outcome (menu in the *window* menu bar):\r\n\r\n[![reality][2]][2]\r\n\r\nCode:\r\n\r\n```java\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JMenu;\r\nimport javax.swing.JMenuBar;\r\nimport javax.swing.JMenuItem;\r\n\r\n\r\nclass GUI extends JFrame {\r\n  public static void main(String[] args) {\r\n    new GUI();\r\n  }\r\n\r\n  public GUI() {\r\n    // Use the screen menu bar instead of the window menu bar.\r\n    System.setProperty(&quot;apple.laf.useScreenMenuBar&quot;, &quot;true&quot;);\r\n    JMenuBar menuBar = new JMenuBar();\r\n    JMenu menu = new JMenu(&quot;File&quot;);\r\n    JMenuItem menuItem1 = new JMenuItem(&quot;New&quot;);\r\n    JMenuItem menuItem2 = new JMenuItem(&quot;Open&quot;);\r\n    JMenuItem menuItem3 = new JMenuItem(&quot;Close&quot;);\r\n\r\n    // Make the menu listens to &lt;Ctrl&gt; + &lt;Alt&gt; + &lt;F&gt; mnemonic key events.\r\n    menu.setMnemonic(&#39;F&#39;);\r\n    menu.add(menuItem1);\r\n    menu.add(menuItem2);\r\n    menu.add(menuItem3);\r\n    menuBar.add(menu);\r\n    setJMenuBar(menuBar);\r\n    setSize(854, 480);\r\n    setLocationRelativeTo(null);\r\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    setVisible(true);\r\n  }\r\n}\r\n```\r\n\r\n[1]: https://i.stack.imgur.com/O1zg8.jpg\r\n[2]: https://i.stack.imgur.com/vrwdy.jpg","title":"How to use the screen menu bar with a mnemonic key combination on MacOS?","body":"<p>How to use the screen menu bar with a mnemonic key combination (e.g. <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>F</kbd>) instead of windows menu bar on MacOS?</p>\n<p>Expected outcome (menu in the <em>screen</em> menu bar):</p>\n<p><a href=\"https://i.stack.imgur.com/O1zg8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O1zg8.jpg\" alt=\"expectation\" /></a></p>\n<p>Actual outcome (menu in the <em>window</em> menu bar):</p>\n<p><a href=\"https://i.stack.imgur.com/vrwdy.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vrwdy.jpg\" alt=\"reality\" /></a></p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\nimport javax.swing.JMenu;\nimport javax.swing.JMenuBar;\nimport javax.swing.JMenuItem;\n\n\nclass GUI extends JFrame {\n  public static void main(String[] args) {\n    new GUI();\n  }\n\n  public GUI() {\n    // Use the screen menu bar instead of the window menu bar.\n    System.setProperty(&quot;apple.laf.useScreenMenuBar&quot;, &quot;true&quot;);\n    JMenuBar menuBar = new JMenuBar();\n    JMenu menu = new JMenu(&quot;File&quot;);\n    JMenuItem menuItem1 = new JMenuItem(&quot;New&quot;);\n    JMenuItem menuItem2 = new JMenuItem(&quot;Open&quot;);\n    JMenuItem menuItem3 = new JMenuItem(&quot;Close&quot;);\n\n    // Make the menu listens to &lt;Ctrl&gt; + &lt;Alt&gt; + &lt;F&gt; mnemonic key events.\n    menu.setMnemonic('F');\n    menu.add(menuItem1);\n    menu.add(menuItem2);\n    menu.add(menuItem3);\n    menuBar.add(menu);\n    setJMenuBar(menuBar);\n    setSize(854, 480);\n    setLocationRelativeTo(null);\n    setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    setVisible(true);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","mpandroidchart"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1673070554,"post_id":75016633,"comment_id":132420076,"body_markdown":"Please take the time to create a [minimum complete example](https://stackoverflow.com/help/minimal-reproducible-example) that someone else could run and see the same issue. When I try a simple bar chart with its data set toggled by a switch (like you are doing here) it works fine.","body":"Please take the time to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimum complete example</a> that someone else could run and see the same issue. When I try a simple bar chart with its data set toggled by a switch (like you are doing here) it works fine."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1673098785,"post_id":75016633,"comment_id":132423843,"body_markdown":"@TylerV i found the problem, it seems like my graph is drawing correctly, what is happening is, sometimes my graph is shifting towards left, and i only see a fracion of my bars, its some setting not working good, maybe im setting the minimum height but as my graph is turned in other direction i have to work with the width. But thanks for the example anyway, i will give a look.","body":"@TylerV i found the problem, it seems like my graph is drawing correctly, what is happening is, sometimes my graph is shifting towards left, and i only see a fracion of my bars, its some setting not working good, maybe im setting the minimum height but as my graph is turned in other direction i have to work with the width. But thanks for the example anyway, i will give a look."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1673100810,"post_id":75016633,"comment_id":132424243,"body_markdown":"Probably need to adjust your axis min and max values as you change the data.","body":"Probably need to adjust your axis min and max values as you change the data."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1673117442,"post_id":75016633,"comment_id":132427919,"body_markdown":"@TylerV i dont know whats happening, because i have a chart who has a bar with 122 errors, so it should disformat the barchart too, and it dont happen. Can&#39;t see where is the error, cant it be a bug ?","body":"@TylerV i dont know whats happening, because i have a chart who has a bar with 122 errors, so it should disformat the barchart too, and it dont happen. Can&#39;t see where is the error, cant it be a bug ?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1673122094,"post_id":75016633,"comment_id":132428786,"body_markdown":"Nobody can debug your code for you without seeing it - you have to make a complete example (ideally as small as possible) that someone else could run to see the same issue if you want help.","body":"Nobody can debug your code for you without seeing it - you have to make a complete example (ideally as small as possible) that someone else could run to see the same issue if you want help."},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1673211335,"post_id":75016633,"comment_id":132442066,"body_markdown":"@TylerV i fixed my problem, now i got a diferent one, what is the setting where i set the minimum scale on my Y bar. like my bar is starting from 0 now, but wheni have like 20 problems, the bar have the values like 1, 2 , 3 , 4 , 5 ... but if i only have 5 problems, the values go for 0.5, 1 , 1.5, 2 ... or even less. how do i set the minimun to be 1, 2 ,3 ,4 ,5 ... ?  sorry but i cant explain it better","body":"@TylerV i fixed my problem, now i got a diferent one, what is the setting where i set the minimum scale on my Y bar. like my bar is starting from 0 now, but wheni have like 20 problems, the bar have the values like 1, 2 , 3 , 4 , 5 ... but if i only have 5 problems, the values go for 0.5, 1 , 1.5, 2 ... or even less. how do i set the minimun to be 1, 2 ,3 ,4 ,5 ... ?  sorry but i cant explain it better"},{"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"score":0,"creation_date":1673211522,"post_id":75016633,"comment_id":132442100,"body_markdown":"Ok, now i fixed it... Thanks for your help... Im just going to close this. Thanks for your help.","body":"Ok, now i fixed it... Thanks for your help... Im just going to close this. Thanks for your help."}],"owner":{"account_id":25794920,"reputation":49,"user_id":19538282,"display_name":"Francisco Torres"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672935249,"creation_date":1672912636,"question_id":75016633,"body_markdown":"I don&#39;t know if I&#39;m using the correct way of filtering a barchart, or even if my code is properly written.\r\n\r\nBut I have  problem, when I open my dashboard, I have 3 charts, one of the piecharts can filter the barchart, and depending on which was selected, the barchart only shows the piechart selected, otherwise shows all. \r\n\r\nMy problem is when I filter those, I&#39;m getting the correct filter, but I can&#39;t get the labels to appear, they just appear when I got only one, for example if I have 1Yellow, 15 Reds, its only a bar to show, but it only shows the label for the yellow one, but if yellow2 and 15 reds, it doesn&#39;t show any of them.\r\n\r\nIt should be a easy fix, I just can&#39;t see where is the error.\r\n\r\n    ArrayList&lt;Integer&gt; colors_to_add_type = new ArrayList&lt;&gt;();\r\n                                ArrayList&lt;Integer&gt; colors_to_add_type_MINOR = new ArrayList&lt;&gt;();\r\n                                ArrayList&lt;Integer&gt; colors_to_add_type_MEDIUM = new ArrayList&lt;&gt;();\r\n                                ArrayList&lt;Integer&gt; colors_to_add_type_MAJOR = new ArrayList&lt;&gt;();\r\n                                ArrayList&lt;Integer&gt; colors_to_add_type_OTHER = new ArrayList&lt;&gt;();\r\n                                Iterator&lt;String&gt; defects_colors_keys;\r\n                                defects_colors_keys = colors_type.keys();\r\n                                while (defects_colors_keys.hasNext()){\r\n                                    String key = defects_colors_keys.next();\r\n                                    Log.e(&quot;COLOR_KEY&quot;, &quot;onResponse: &quot; + key );\r\n                                    int to_add = Color.parseColor(colors_type.getString(key));\r\n                                    int to_add_MINOR = Color.parseColor(&quot;#00FF00&quot;);\r\n                                    int to_add_MEDIUM = Color.parseColor(&quot;#FFFF00&quot;);\r\n                                    int to_add_MAJOR = Color.parseColor(&quot;#FF0000&quot;);\r\n                                    int to_add_OTHER = Color.parseColor(&quot;#800080&quot;);\r\n                                    Log.e(&quot;COLOR_NAME&quot;, &quot;onResponse: &quot; + colors_type.getString(key));\r\n                                    colors_to_add_type.add(to_add);\r\n                                    colors_to_add_type_MAJOR.add(to_add_MAJOR);\r\n                                    colors_to_add_type_MEDIUM.add(to_add_MEDIUM);\r\n                                    colors_to_add_type_MINOR.add(to_add_MINOR);\r\n                                    colors_to_add_type_OTHER.add(to_add_OTHER);\r\n                                }\r\n                                List&lt;LegendEntry&gt; legends_type = new ArrayList&lt;&gt;();\r\n                                List&lt;LegendEntry&gt; legends_type_MINOR = new ArrayList&lt;&gt;();\r\n                                List&lt;LegendEntry&gt; legends_type_MEDIUM = new ArrayList&lt;&gt;();\r\n                                List&lt;LegendEntry&gt; legends_type_MAJOR = new ArrayList&lt;&gt;();\r\n                                List&lt;LegendEntry&gt; legends_type_OTHER = new ArrayList&lt;&gt;();\r\n                                    type_of_defects = by_type.keys();\r\n                                    int c = 0;\r\n                                    if(!map_defects_by_type_count.isEmpty()){\r\n                                        map_defects_by_type_count.clear();\r\n                                    }\r\n                                    Log.e(&quot;DEFECTS&quot;, defects_list.toString());\r\n                                    Log.e(&quot;DEFECTS&quot;,String.valueOf(defects_list.size()));\r\n                                    while(type_of_defects.hasNext()) {\r\n                                        String key = type_of_defects.next();\r\n                                        Log.e(&quot;DEFECTS_type&quot;, key.toString());\r\n                                        map_defects_by_type_count.put(key, by_type.getInt(key));\r\n                                        map_get_defect_type.put(c, key);\r\n                                        LegendEntry legendEntry = new LegendEntry();\r\n                                        legendEntry.label = key;\r\n                                        legendEntry.formColor = colors_to_add_type.get(c);\r\n                                        legends_type.add(legendEntry);\r\n                                        arr_by_type.add(new BarEntry((float)c + 1, (int)by_type.getInt(key), (String)key));\r\n                                        c++;\r\n                                        for (int i = 0; i &lt; defects_list.size(); i++){\r\n                                            if (defects_list.get(i).getStringProperty(&quot;defect&quot;).equals(key)){\r\n                                                if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;MAJOR&quot;)){\r\n                                                    arr_by_type_MAJOR.add(new BarEntry((float)c +1, (int)by_type.getInt(key), (String)key));\r\n                                                    legends_type_MAJOR.add(legendEntry);\r\n                                                    break;\r\n                                                }\r\n                                                if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;MEDIUM&quot;)){\r\n                                                    arr_by_type_MEDIUM.add(new BarEntry((float)c +1 , (int)by_type.getInt(key), (String)key));\r\n                                                    legends_type_MEDIUM.add(legendEntry);\r\n                                                    break;\r\n                                                }\r\n                                                if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;MINOR&quot;)){\r\n                                                    arr_by_type_MINOR.add(new BarEntry((float)c +1, (int)by_type.getInt(key), (String)key));\r\n                                                    legends_type_MINOR.add(legendEntry);\r\n                                                    break;\r\n                                                }\r\n                                                if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;OTHER&quot;)){\r\n                                                    arr_by_type_OTHER.add(new BarEntry((float)c +1, (int)by_type.getInt(key), (String)key));\r\n                                                    legends_type_OTHER.add(legendEntry);\r\n                                                    break;\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    TOTAL_DEFECTS = TOTAL_BY_CRIT;\r\n                                if(TOTAL_BY_CRIT != 0){\r\n                                    if(MAJOR != 0){\r\n                                        major_percent =  (float) MAJOR / TOTAL_BY_CRIT;\r\n                                    }\r\n                                    if(MEDIUM != 0){\r\n                                        medium_percent =  (float) MEDIUM / TOTAL_BY_CRIT;\r\n                                    }\r\n                                    if(MINOR != 0){\r\n                                        minor_percent = (float) MINOR / TOTAL_BY_CRIT;\r\n                                    }\r\n                                    if(OTHER != 0){\r\n                                        other_percent = (float) OTHER / TOTAL_BY_CRIT;\r\n                                    }\r\n                                }\r\n    \r\n                                TOTAL_SOURCE = TOTAL_H_M;\r\n                                if(TOTAL_H_M != 0){\r\n                                    if(HUMAN != 0){\r\n                                        human_percent = (float) HUMAN / TOTAL_H_M;\r\n                                    }\r\n                                    if(MACHINE != 0){\r\n                                        machine_percent = (float) MACHINE / TOTAL_H_M;\r\n                                    }\r\n                                }\r\n                                arr_by_defect.add(new PieEntry(MAJOR, &quot;MAJOR&quot;));\r\n                                arr_by_defect.add(new PieEntry(MEDIUM, &quot;MEDIUM&quot;));\r\n                                arr_by_defect.add(new PieEntry(MINOR, &quot;MINOR&quot;));\r\n                                arr_by_defect.add(new PieEntry(OTHER, &quot;OTHER&quot;));\r\n                                arr_by_source.add(new PieEntry(HUMAN, &quot;HUMAN&quot;));\r\n                                arr_by_source.add(new PieEntry(MACHINE, &quot;MACHINE&quot;));\r\n                                dataSet_by_defect = new PieDataSet(arr_by_defect, &quot;&quot;);\r\n                                dataSet_by_source = new PieDataSet(arr_by_source, &quot;&quot;);\r\n                                dataSet_by_type = new BarDataSet(arr_by_type, &quot;&quot;);\r\n                                dataSet_by_type_MAJOR = new BarDataSet(arr_by_type_MAJOR, &quot;&quot;);\r\n                                dataSet_by_type_MEDIUM = new BarDataSet(arr_by_type_MEDIUM, &quot;&quot;);\r\n                                dataSet_by_type_MINOR = new BarDataSet(arr_by_type_MINOR, &quot;&quot;);\r\n                                dataSet_by_type_OTHER = new BarDataSet(arr_by_type_OTHER, &quot;&quot;);\r\n                                //GET THE COLORS\r\n                                String colorMajor = colors.getString(&quot;MAJOR&quot;);\r\n                                String colorMedium = colors.getString(&quot;MEDIUM&quot;);\r\n                                String colorMinor = colors.getString(&quot;MINOR&quot;);\r\n                                String colorOther = colors.getString(&quot;OTHER&quot;);\r\n                                String colorHuman = human_machine_colors.getString(&quot;human&quot;);\r\n                                String colorMachine = human_machine_colors.getString(&quot;machine&quot;);\r\n                                final int[] sliceColors = {Color.parseColor(colorMajor), Color.parseColor(colorMedium), Color.parseColor(colorMinor), Color.parseColor(colorOther)};\r\n                                ArrayList&lt;Integer&gt; colorsSet = new ArrayList&lt;&gt;();\r\n                                for (int color : sliceColors){\r\n                                    colorsSet.add(color);\r\n                                }\r\n                                Log.e(&quot;COLORS_TO ADD&quot;, &quot;MAJOR&quot; + colorMajor);\r\n                                Log.e(&quot;COLORS_TO ADD&quot;, &quot;MEDIUM&quot; + colorMedium);\r\n                                Log.e(&quot;COLORS_TO ADD&quot;, &quot;MINOR&quot; + colorMinor);\r\n                                Log.e(&quot;COLORS_TO ADD&quot;, &quot;OTHER&quot; + colorOther);\r\n                                dataSet_by_defect.setColors(colorsSet);\r\n                                final int[] sliceColors_hm = {Color.parseColor(colorHuman), Color.parseColor(colorMachine)};\r\n                                ArrayList&lt;Integer&gt; colorsSet_hm = new ArrayList&lt;&gt;();\r\n                                for (int color : sliceColors_hm){\r\n                                    colorsSet_hm.add(color);\r\n                                }\r\n                                dataSet_by_source.setColors(colorsSet_hm);\r\n                                dataSet_by_type.setColors(colors_to_add_type);\r\n                                dataSet_by_type_MINOR.setColors(colors_to_add_type_MINOR);\r\n                                dataSet_by_type_MEDIUM.setColors(colors_to_add_type_MEDIUM);\r\n                                dataSet_by_type_MAJOR.setColors(colors_to_add_type_MAJOR);\r\n                                dataSet_by_type_OTHER.setColors(colors_to_add_type_OTHER);\r\n                                dataSet_by_type.setAxisDependency(YAxis.AxisDependency.RIGHT);\r\n                                dataSet_by_type_MINOR.setAxisDependency(YAxis.AxisDependency.RIGHT);\r\n                                dataSet_by_type_MEDIUM.setAxisDependency(YAxis.AxisDependency.RIGHT);\r\n                                dataSet_by_type_MAJOR.setAxisDependency(YAxis.AxisDependency.RIGHT);\r\n                                dataSet_by_type_OTHER.setAxisDependency(YAxis.AxisDependency.RIGHT);\r\n    \r\n    \r\n                                final PieData data_defect = new PieData(dataSet_by_defect);\r\n                                final PieData data_source = new PieData(dataSet_by_source);\r\n                                final BarData data_type = new BarData(dataSet_by_type);\r\n                                final BarData data_type_MINOR = new BarData(dataSet_by_type_MINOR);\r\n                                final BarData data_type_MEDIUM = new BarData(dataSet_by_type_MEDIUM);\r\n                                final BarData data_type_MAJOR = new BarData(dataSet_by_type_MAJOR);\r\n                                final BarData data_type_OTHER = new BarData(dataSet_by_type_OTHER);\r\n                                data_type.setDrawValues(true);\r\n                                data_type_MAJOR.setDrawValues(true);\r\n                                data_type_MEDIUM.setDrawValues(true);\r\n                                data_type_MINOR.setDrawValues(true);\r\n                                data_type_OTHER.setDrawValues(true);\r\n    \r\n                                data_defect.setDrawValues(false);\r\n                                data_source.setDrawValues(false);\r\n                                //data_type.setBarWidth(.75f);\r\n                                piechart_defects.setDrawHoleEnabled(true);\r\n                                piechart_defects.setHoleColor(Color.TRANSPARENT);\r\n                                piechart_defects.setDrawEntryLabels(false);\r\n                                piechart_defects.setDrawMarkers(false);\r\n                                piechart_defects.setCenterText(String.valueOf(TOTAL_DEFECTS) + &quot; TOTAL&quot;);\r\n                                piechart_defects.setCenterTextSize(10);\r\n                                piechart_defects.getDescription().setEnabled(false);\r\n                                Legend l_defect = piechart_defects.getLegend();\r\n                                l_defect.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\r\n                                l_defect.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\r\n                                l_defect.setOrientation(Legend.LegendOrientation.VERTICAL);\r\n                                l_defect.setDrawInside(false);\r\n                                l_defect.setEnabled(true);\r\n                                l_defect.setFormSize(4f);\r\n                                l_defect.setTextColor(Color.WHITE);\r\n                                l_defect.setTextSize(.5f);\r\n                                piechart_source.setDrawHoleEnabled(true);\r\n                                piechart_source.setDrawEntryLabels(false);\r\n                                piechart_source.setHoleColor(Color.TRANSPARENT);\r\n                                piechart_source.setDrawMarkers(false);\r\n                                piechart_source.setCenterText(String.valueOf(TOTAL_SOURCE) + &quot; TOTAL&quot;);\r\n                                piechart_source.setCenterTextSize(10);\r\n                                piechart_source.getDescription().setEnabled(false);\r\n                                piechart_source.setTransparentCircleRadius(10f);\r\n                                Legend l_source = piechart_source.getLegend();\r\n                                l_source.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\r\n                                l_source.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\r\n                                l_source.setOrientation(Legend.LegendOrientation.VERTICAL);\r\n                                l_source.setDrawInside(false);\r\n                                l_source.setEnabled(true);\r\n                                l_source.setFormSize(4f);\r\n                                l_source.setTextColor(Color.WHITE);\r\n                                l_source.setTextSize(.5f);\r\n                                dataSet_by_type.setValueTextColor(Color.WHITE);\r\n                                dataSet_by_type_MAJOR.setValueTextColor(Color.WHITE);\r\n                                dataSet_by_type_MEDIUM.setValueTextColor(Color.WHITE);\r\n                                dataSet_by_type_MINOR.setValueTextColor(Color.WHITE);\r\n                                dataSet_by_type_OTHER.setValueTextColor(Color.WHITE);\r\n                                dataSet_by_type.setValueTextSize(7f);\r\n                                dataSet_by_type_MINOR.setValueTextSize(7f);\r\n                                dataSet_by_type_MEDIUM.setValueTextSize(7f);\r\n                                dataSet_by_type_MAJOR.setValueTextSize(7f);\r\n                                dataSet_by_type_OTHER.setValueTextSize(7f);\r\n    \r\n                                data_type.setBarWidth(.5f);\r\n    \r\n                                data_type.setValueFormatter(new ValueFormatter() {\r\n                                    @Override\r\n                                    public String getBarLabel(BarEntry barEntry) {\r\n                                        int barEntryY = (int) barEntry.getY();\r\n    \r\n                                        return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\r\n                                    }\r\n                                });\r\n    \r\n    \r\n                            Legend l_type_MAJOR = barchart_type.getLegend();\r\n                            l_type_MAJOR.setCustom(legends_type_MAJOR);\r\n                            l_type_MAJOR.setWordWrapEnabled(true);\r\n                            l_type_MAJOR.setDrawInside(true);\r\n                            data_type_MAJOR.setValueFormatter(new ValueFormatter() {\r\n                                @Override\r\n                                public String getBarLabel(BarEntry barEntry) {\r\n                                    int barEntryY = (int) barEntry.getY();\r\n                                    return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\r\n                                }\r\n                            });\r\n                            data_type_MAJOR.setBarWidth(.5f);\r\n    \r\n                            Legend l_type_OTHER = barchart_type.getLegend();\r\n                            l_type_OTHER.setCustom(legends_type_OTHER);\r\n                            l_type_OTHER.setWordWrapEnabled(true);\r\n                            l_type_OTHER.setDrawInside(true);\r\n                            data_type_OTHER.setValueFormatter(new ValueFormatter() {\r\n                                @Override\r\n                                public String getBarLabel(BarEntry barEntry) {\r\n                                    int barEntryY = (int) barEntry.getY();\r\n                                    return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\r\n                                }\r\n                            });\r\n                            data_type_OTHER.setBarWidth(.5f);\r\n    \r\n                            Legend l_type_MINOR = barchart_type.getLegend();\r\n                            l_type_MINOR.setCustom(legends_type_MINOR);\r\n                            l_type_MINOR.setWordWrapEnabled(true);\r\n                            l_type_MINOR.setDrawInside(true);\r\n                            data_type_MINOR.setValueFormatter(new ValueFormatter() {\r\n                                @Override\r\n                                public String getBarLabel(BarEntry barEntry) {\r\n                                    int barEntryY = (int) barEntry.getY();\r\n    \r\n                                    return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\r\n                                }\r\n                            });\r\n    \r\n                            Legend l_type_MEDIUM = barchart_type.getLegend();\r\n                            l_type_MEDIUM.setCustom(legends_type_MEDIUM);\r\n                            l_type_MEDIUM.setWordWrapEnabled(true);\r\n                            l_type_MEDIUM.setDrawInside(true);\r\n                            data_type_MEDIUM.setValueFormatter(new ValueFormatter() {\r\n                                @Override\r\n                                public String getBarLabel(BarEntry barEntry) {\r\n                                    int barEntryY = (int) barEntry.getY();\r\n    \r\n                                    return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\r\n                                }\r\n                            });\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n                                barchart_type.setRenderer(new MyRenderer(barchart_type, barchart_type.getAnimator(), barchart_type.getViewPortHandler()));\r\n    \r\n                                Legend l_type = barchart_type.getLegend();\r\n                                l_type.setCustom(legends_type);\r\n                                l_type.setWordWrapEnabled(true);\r\n                                l_type.setDrawInside(true);\r\n                                piechart_defects.setData(data_defect);\r\n                                piechart_defects.invalidate();\r\n                                piechart_source.setData(data_source);\r\n                                piechart_source.invalidate();\r\n    \r\n                                barchart_type.getAxisLeft().setEnabled(false);\r\n                                barchart_type.setScaleEnabled(false);\r\n                                barchart_type.getAxisRight().setEnabled(false);\r\n                                barchart_type.getAxisRight().setDrawGridLines(false);\r\n                                barchart_type.getXAxis().setDrawLabels(false);\r\n                                barchart_type.getXAxis().setDrawGridLines(false);\r\n                                barchart_type.getDescription().setEnabled(false);\r\n                                barchart_type.getLegend().setEnabled(false);\r\n                                barchart_type.setBorderColor(Color.BLACK);\r\n                                barchart_type.setDrawBorders(false);\r\n    \r\n    \r\n                                barchart_type.setData(data_type);\r\n                                barchart_type.setMinimumHeight(arr_by_type.size()*250);\r\n                                barchart_type.invalidate();\r\n                                Log.e(&quot;INFO BAR&quot;, data_type.toString());\r\n    \r\n    \r\n                            piechart_defects.setOnChartValueSelectedListener(new OnChartValueSelectedListener() {\r\n                                @Override\r\n                                public void onValueSelected(Entry e, Highlight h) {\r\n                                    String value = String.valueOf((int)h.getY());\r\n                                    String toShow = &quot;&quot;;\r\n                                    if(h.getX() == 0){\r\n                                        toShow = &quot; MAJOR \\n&quot; + value;\r\n                                        chartSelectedDefect = &quot;MAJOR&quot;;\r\n                                        barchart_type.setData(data_type_MAJOR);\r\n                                    }else if(h.getX() == 1){\r\n                                        toShow = &quot; MEDIUM \\n&quot; + value;\r\n                                        chartSelectedDefect = &quot;MEDIUM&quot;;\r\n                                        barchart_type.setData(data_type_MEDIUM);\r\n                                        barchart_type.invalidate();\r\n                                    }else if(h.getX() == 2){\r\n                                        toShow = &quot; MINOR \\n&quot; + value ;\r\n                                        chartSelectedDefect = &quot;MINOR&quot;;\r\n                                        barchart_type.setData(data_type_MINOR);\r\n                                    }else if(h.getX() == 3){\r\n                                        toShow = &quot; OTHER \\n&quot; + value;\r\n                                        chartSelectedDefect = &quot;OTHER&quot;;\r\n                                        barchart_type.setData(data_type_OTHER);\r\n\r\n\r\nHow it appears when I show all:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n[![How it appears on filtered. It should keep the size of the bar as well but it doesn&#39;t:][2]][2]\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n[![The yellow one appears the label, I don&#39;t know why...][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/By0Yn.png\r\n  [2]: https://i.stack.imgur.com/jt0Uq.png\r\n  [3]: https://i.stack.imgur.com/w3cDg.png\r\n  [4]: https://i.stack.imgur.com/kUXAW.png","title":"Barchart doesn&#39;t show my values when filtered","body":"<p>I don't know if I'm using the correct way of filtering a barchart, or even if my code is properly written.</p>\n<p>But I have  problem, when I open my dashboard, I have 3 charts, one of the piecharts can filter the barchart, and depending on which was selected, the barchart only shows the piechart selected, otherwise shows all.</p>\n<p>My problem is when I filter those, I'm getting the correct filter, but I can't get the labels to appear, they just appear when I got only one, for example if I have 1Yellow, 15 Reds, its only a bar to show, but it only shows the label for the yellow one, but if yellow2 and 15 reds, it doesn't show any of them.</p>\n<p>It should be a easy fix, I just can't see where is the error.</p>\n<pre><code>ArrayList&lt;Integer&gt; colors_to_add_type = new ArrayList&lt;&gt;();\n                            ArrayList&lt;Integer&gt; colors_to_add_type_MINOR = new ArrayList&lt;&gt;();\n                            ArrayList&lt;Integer&gt; colors_to_add_type_MEDIUM = new ArrayList&lt;&gt;();\n                            ArrayList&lt;Integer&gt; colors_to_add_type_MAJOR = new ArrayList&lt;&gt;();\n                            ArrayList&lt;Integer&gt; colors_to_add_type_OTHER = new ArrayList&lt;&gt;();\n                            Iterator&lt;String&gt; defects_colors_keys;\n                            defects_colors_keys = colors_type.keys();\n                            while (defects_colors_keys.hasNext()){\n                                String key = defects_colors_keys.next();\n                                Log.e(&quot;COLOR_KEY&quot;, &quot;onResponse: &quot; + key );\n                                int to_add = Color.parseColor(colors_type.getString(key));\n                                int to_add_MINOR = Color.parseColor(&quot;#00FF00&quot;);\n                                int to_add_MEDIUM = Color.parseColor(&quot;#FFFF00&quot;);\n                                int to_add_MAJOR = Color.parseColor(&quot;#FF0000&quot;);\n                                int to_add_OTHER = Color.parseColor(&quot;#800080&quot;);\n                                Log.e(&quot;COLOR_NAME&quot;, &quot;onResponse: &quot; + colors_type.getString(key));\n                                colors_to_add_type.add(to_add);\n                                colors_to_add_type_MAJOR.add(to_add_MAJOR);\n                                colors_to_add_type_MEDIUM.add(to_add_MEDIUM);\n                                colors_to_add_type_MINOR.add(to_add_MINOR);\n                                colors_to_add_type_OTHER.add(to_add_OTHER);\n                            }\n                            List&lt;LegendEntry&gt; legends_type = new ArrayList&lt;&gt;();\n                            List&lt;LegendEntry&gt; legends_type_MINOR = new ArrayList&lt;&gt;();\n                            List&lt;LegendEntry&gt; legends_type_MEDIUM = new ArrayList&lt;&gt;();\n                            List&lt;LegendEntry&gt; legends_type_MAJOR = new ArrayList&lt;&gt;();\n                            List&lt;LegendEntry&gt; legends_type_OTHER = new ArrayList&lt;&gt;();\n                                type_of_defects = by_type.keys();\n                                int c = 0;\n                                if(!map_defects_by_type_count.isEmpty()){\n                                    map_defects_by_type_count.clear();\n                                }\n                                Log.e(&quot;DEFECTS&quot;, defects_list.toString());\n                                Log.e(&quot;DEFECTS&quot;,String.valueOf(defects_list.size()));\n                                while(type_of_defects.hasNext()) {\n                                    String key = type_of_defects.next();\n                                    Log.e(&quot;DEFECTS_type&quot;, key.toString());\n                                    map_defects_by_type_count.put(key, by_type.getInt(key));\n                                    map_get_defect_type.put(c, key);\n                                    LegendEntry legendEntry = new LegendEntry();\n                                    legendEntry.label = key;\n                                    legendEntry.formColor = colors_to_add_type.get(c);\n                                    legends_type.add(legendEntry);\n                                    arr_by_type.add(new BarEntry((float)c + 1, (int)by_type.getInt(key), (String)key));\n                                    c++;\n                                    for (int i = 0; i &lt; defects_list.size(); i++){\n                                        if (defects_list.get(i).getStringProperty(&quot;defect&quot;).equals(key)){\n                                            if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;MAJOR&quot;)){\n                                                arr_by_type_MAJOR.add(new BarEntry((float)c +1, (int)by_type.getInt(key), (String)key));\n                                                legends_type_MAJOR.add(legendEntry);\n                                                break;\n                                            }\n                                            if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;MEDIUM&quot;)){\n                                                arr_by_type_MEDIUM.add(new BarEntry((float)c +1 , (int)by_type.getInt(key), (String)key));\n                                                legends_type_MEDIUM.add(legendEntry);\n                                                break;\n                                            }\n                                            if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;MINOR&quot;)){\n                                                arr_by_type_MINOR.add(new BarEntry((float)c +1, (int)by_type.getInt(key), (String)key));\n                                                legends_type_MINOR.add(legendEntry);\n                                                break;\n                                            }\n                                            if (defects_list.get(i).getStringProperty(&quot;criticality&quot;).equals(&quot;OTHER&quot;)){\n                                                arr_by_type_OTHER.add(new BarEntry((float)c +1, (int)by_type.getInt(key), (String)key));\n                                                legends_type_OTHER.add(legendEntry);\n                                                break;\n                                            }\n                                        }\n                                    }\n                                }\n                                TOTAL_DEFECTS = TOTAL_BY_CRIT;\n                            if(TOTAL_BY_CRIT != 0){\n                                if(MAJOR != 0){\n                                    major_percent =  (float) MAJOR / TOTAL_BY_CRIT;\n                                }\n                                if(MEDIUM != 0){\n                                    medium_percent =  (float) MEDIUM / TOTAL_BY_CRIT;\n                                }\n                                if(MINOR != 0){\n                                    minor_percent = (float) MINOR / TOTAL_BY_CRIT;\n                                }\n                                if(OTHER != 0){\n                                    other_percent = (float) OTHER / TOTAL_BY_CRIT;\n                                }\n                            }\n\n                            TOTAL_SOURCE = TOTAL_H_M;\n                            if(TOTAL_H_M != 0){\n                                if(HUMAN != 0){\n                                    human_percent = (float) HUMAN / TOTAL_H_M;\n                                }\n                                if(MACHINE != 0){\n                                    machine_percent = (float) MACHINE / TOTAL_H_M;\n                                }\n                            }\n                            arr_by_defect.add(new PieEntry(MAJOR, &quot;MAJOR&quot;));\n                            arr_by_defect.add(new PieEntry(MEDIUM, &quot;MEDIUM&quot;));\n                            arr_by_defect.add(new PieEntry(MINOR, &quot;MINOR&quot;));\n                            arr_by_defect.add(new PieEntry(OTHER, &quot;OTHER&quot;));\n                            arr_by_source.add(new PieEntry(HUMAN, &quot;HUMAN&quot;));\n                            arr_by_source.add(new PieEntry(MACHINE, &quot;MACHINE&quot;));\n                            dataSet_by_defect = new PieDataSet(arr_by_defect, &quot;&quot;);\n                            dataSet_by_source = new PieDataSet(arr_by_source, &quot;&quot;);\n                            dataSet_by_type = new BarDataSet(arr_by_type, &quot;&quot;);\n                            dataSet_by_type_MAJOR = new BarDataSet(arr_by_type_MAJOR, &quot;&quot;);\n                            dataSet_by_type_MEDIUM = new BarDataSet(arr_by_type_MEDIUM, &quot;&quot;);\n                            dataSet_by_type_MINOR = new BarDataSet(arr_by_type_MINOR, &quot;&quot;);\n                            dataSet_by_type_OTHER = new BarDataSet(arr_by_type_OTHER, &quot;&quot;);\n                            //GET THE COLORS\n                            String colorMajor = colors.getString(&quot;MAJOR&quot;);\n                            String colorMedium = colors.getString(&quot;MEDIUM&quot;);\n                            String colorMinor = colors.getString(&quot;MINOR&quot;);\n                            String colorOther = colors.getString(&quot;OTHER&quot;);\n                            String colorHuman = human_machine_colors.getString(&quot;human&quot;);\n                            String colorMachine = human_machine_colors.getString(&quot;machine&quot;);\n                            final int[] sliceColors = {Color.parseColor(colorMajor), Color.parseColor(colorMedium), Color.parseColor(colorMinor), Color.parseColor(colorOther)};\n                            ArrayList&lt;Integer&gt; colorsSet = new ArrayList&lt;&gt;();\n                            for (int color : sliceColors){\n                                colorsSet.add(color);\n                            }\n                            Log.e(&quot;COLORS_TO ADD&quot;, &quot;MAJOR&quot; + colorMajor);\n                            Log.e(&quot;COLORS_TO ADD&quot;, &quot;MEDIUM&quot; + colorMedium);\n                            Log.e(&quot;COLORS_TO ADD&quot;, &quot;MINOR&quot; + colorMinor);\n                            Log.e(&quot;COLORS_TO ADD&quot;, &quot;OTHER&quot; + colorOther);\n                            dataSet_by_defect.setColors(colorsSet);\n                            final int[] sliceColors_hm = {Color.parseColor(colorHuman), Color.parseColor(colorMachine)};\n                            ArrayList&lt;Integer&gt; colorsSet_hm = new ArrayList&lt;&gt;();\n                            for (int color : sliceColors_hm){\n                                colorsSet_hm.add(color);\n                            }\n                            dataSet_by_source.setColors(colorsSet_hm);\n                            dataSet_by_type.setColors(colors_to_add_type);\n                            dataSet_by_type_MINOR.setColors(colors_to_add_type_MINOR);\n                            dataSet_by_type_MEDIUM.setColors(colors_to_add_type_MEDIUM);\n                            dataSet_by_type_MAJOR.setColors(colors_to_add_type_MAJOR);\n                            dataSet_by_type_OTHER.setColors(colors_to_add_type_OTHER);\n                            dataSet_by_type.setAxisDependency(YAxis.AxisDependency.RIGHT);\n                            dataSet_by_type_MINOR.setAxisDependency(YAxis.AxisDependency.RIGHT);\n                            dataSet_by_type_MEDIUM.setAxisDependency(YAxis.AxisDependency.RIGHT);\n                            dataSet_by_type_MAJOR.setAxisDependency(YAxis.AxisDependency.RIGHT);\n                            dataSet_by_type_OTHER.setAxisDependency(YAxis.AxisDependency.RIGHT);\n\n\n                            final PieData data_defect = new PieData(dataSet_by_defect);\n                            final PieData data_source = new PieData(dataSet_by_source);\n                            final BarData data_type = new BarData(dataSet_by_type);\n                            final BarData data_type_MINOR = new BarData(dataSet_by_type_MINOR);\n                            final BarData data_type_MEDIUM = new BarData(dataSet_by_type_MEDIUM);\n                            final BarData data_type_MAJOR = new BarData(dataSet_by_type_MAJOR);\n                            final BarData data_type_OTHER = new BarData(dataSet_by_type_OTHER);\n                            data_type.setDrawValues(true);\n                            data_type_MAJOR.setDrawValues(true);\n                            data_type_MEDIUM.setDrawValues(true);\n                            data_type_MINOR.setDrawValues(true);\n                            data_type_OTHER.setDrawValues(true);\n\n                            data_defect.setDrawValues(false);\n                            data_source.setDrawValues(false);\n                            //data_type.setBarWidth(.75f);\n                            piechart_defects.setDrawHoleEnabled(true);\n                            piechart_defects.setHoleColor(Color.TRANSPARENT);\n                            piechart_defects.setDrawEntryLabels(false);\n                            piechart_defects.setDrawMarkers(false);\n                            piechart_defects.setCenterText(String.valueOf(TOTAL_DEFECTS) + &quot; TOTAL&quot;);\n                            piechart_defects.setCenterTextSize(10);\n                            piechart_defects.getDescription().setEnabled(false);\n                            Legend l_defect = piechart_defects.getLegend();\n                            l_defect.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\n                            l_defect.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\n                            l_defect.setOrientation(Legend.LegendOrientation.VERTICAL);\n                            l_defect.setDrawInside(false);\n                            l_defect.setEnabled(true);\n                            l_defect.setFormSize(4f);\n                            l_defect.setTextColor(Color.WHITE);\n                            l_defect.setTextSize(.5f);\n                            piechart_source.setDrawHoleEnabled(true);\n                            piechart_source.setDrawEntryLabels(false);\n                            piechart_source.setHoleColor(Color.TRANSPARENT);\n                            piechart_source.setDrawMarkers(false);\n                            piechart_source.setCenterText(String.valueOf(TOTAL_SOURCE) + &quot; TOTAL&quot;);\n                            piechart_source.setCenterTextSize(10);\n                            piechart_source.getDescription().setEnabled(false);\n                            piechart_source.setTransparentCircleRadius(10f);\n                            Legend l_source = piechart_source.getLegend();\n                            l_source.setVerticalAlignment(Legend.LegendVerticalAlignment.TOP);\n                            l_source.setHorizontalAlignment(Legend.LegendHorizontalAlignment.RIGHT);\n                            l_source.setOrientation(Legend.LegendOrientation.VERTICAL);\n                            l_source.setDrawInside(false);\n                            l_source.setEnabled(true);\n                            l_source.setFormSize(4f);\n                            l_source.setTextColor(Color.WHITE);\n                            l_source.setTextSize(.5f);\n                            dataSet_by_type.setValueTextColor(Color.WHITE);\n                            dataSet_by_type_MAJOR.setValueTextColor(Color.WHITE);\n                            dataSet_by_type_MEDIUM.setValueTextColor(Color.WHITE);\n                            dataSet_by_type_MINOR.setValueTextColor(Color.WHITE);\n                            dataSet_by_type_OTHER.setValueTextColor(Color.WHITE);\n                            dataSet_by_type.setValueTextSize(7f);\n                            dataSet_by_type_MINOR.setValueTextSize(7f);\n                            dataSet_by_type_MEDIUM.setValueTextSize(7f);\n                            dataSet_by_type_MAJOR.setValueTextSize(7f);\n                            dataSet_by_type_OTHER.setValueTextSize(7f);\n\n                            data_type.setBarWidth(.5f);\n\n                            data_type.setValueFormatter(new ValueFormatter() {\n                                @Override\n                                public String getBarLabel(BarEntry barEntry) {\n                                    int barEntryY = (int) barEntry.getY();\n\n                                    return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\n                                }\n                            });\n\n\n                        Legend l_type_MAJOR = barchart_type.getLegend();\n                        l_type_MAJOR.setCustom(legends_type_MAJOR);\n                        l_type_MAJOR.setWordWrapEnabled(true);\n                        l_type_MAJOR.setDrawInside(true);\n                        data_type_MAJOR.setValueFormatter(new ValueFormatter() {\n                            @Override\n                            public String getBarLabel(BarEntry barEntry) {\n                                int barEntryY = (int) barEntry.getY();\n                                return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\n                            }\n                        });\n                        data_type_MAJOR.setBarWidth(.5f);\n\n                        Legend l_type_OTHER = barchart_type.getLegend();\n                        l_type_OTHER.setCustom(legends_type_OTHER);\n                        l_type_OTHER.setWordWrapEnabled(true);\n                        l_type_OTHER.setDrawInside(true);\n                        data_type_OTHER.setValueFormatter(new ValueFormatter() {\n                            @Override\n                            public String getBarLabel(BarEntry barEntry) {\n                                int barEntryY = (int) barEntry.getY();\n                                return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\n                            }\n                        });\n                        data_type_OTHER.setBarWidth(.5f);\n\n                        Legend l_type_MINOR = barchart_type.getLegend();\n                        l_type_MINOR.setCustom(legends_type_MINOR);\n                        l_type_MINOR.setWordWrapEnabled(true);\n                        l_type_MINOR.setDrawInside(true);\n                        data_type_MINOR.setValueFormatter(new ValueFormatter() {\n                            @Override\n                            public String getBarLabel(BarEntry barEntry) {\n                                int barEntryY = (int) barEntry.getY();\n\n                                return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\n                            }\n                        });\n\n                        Legend l_type_MEDIUM = barchart_type.getLegend();\n                        l_type_MEDIUM.setCustom(legends_type_MEDIUM);\n                        l_type_MEDIUM.setWordWrapEnabled(true);\n                        l_type_MEDIUM.setDrawInside(true);\n                        data_type_MEDIUM.setValueFormatter(new ValueFormatter() {\n                            @Override\n                            public String getBarLabel(BarEntry barEntry) {\n                                int barEntryY = (int) barEntry.getY();\n\n                                return (String)barEntry.getData() + &quot;  &quot; + &quot;(&quot; + String.valueOf(barEntryY) + &quot;)&quot;;\n                            }\n                        });\n\n\n\n\n\n\n\n\n                            barchart_type.setRenderer(new MyRenderer(barchart_type, barchart_type.getAnimator(), barchart_type.getViewPortHandler()));\n\n                            Legend l_type = barchart_type.getLegend();\n                            l_type.setCustom(legends_type);\n                            l_type.setWordWrapEnabled(true);\n                            l_type.setDrawInside(true);\n                            piechart_defects.setData(data_defect);\n                            piechart_defects.invalidate();\n                            piechart_source.setData(data_source);\n                            piechart_source.invalidate();\n\n                            barchart_type.getAxisLeft().setEnabled(false);\n                            barchart_type.setScaleEnabled(false);\n                            barchart_type.getAxisRight().setEnabled(false);\n                            barchart_type.getAxisRight().setDrawGridLines(false);\n                            barchart_type.getXAxis().setDrawLabels(false);\n                            barchart_type.getXAxis().setDrawGridLines(false);\n                            barchart_type.getDescription().setEnabled(false);\n                            barchart_type.getLegend().setEnabled(false);\n                            barchart_type.setBorderColor(Color.BLACK);\n                            barchart_type.setDrawBorders(false);\n\n\n                            barchart_type.setData(data_type);\n                            barchart_type.setMinimumHeight(arr_by_type.size()*250);\n                            barchart_type.invalidate();\n                            Log.e(&quot;INFO BAR&quot;, data_type.toString());\n\n\n                        piechart_defects.setOnChartValueSelectedListener(new OnChartValueSelectedListener() {\n                            @Override\n                            public void onValueSelected(Entry e, Highlight h) {\n                                String value = String.valueOf((int)h.getY());\n                                String toShow = &quot;&quot;;\n                                if(h.getX() == 0){\n                                    toShow = &quot; MAJOR \\n&quot; + value;\n                                    chartSelectedDefect = &quot;MAJOR&quot;;\n                                    barchart_type.setData(data_type_MAJOR);\n                                }else if(h.getX() == 1){\n                                    toShow = &quot; MEDIUM \\n&quot; + value;\n                                    chartSelectedDefect = &quot;MEDIUM&quot;;\n                                    barchart_type.setData(data_type_MEDIUM);\n                                    barchart_type.invalidate();\n                                }else if(h.getX() == 2){\n                                    toShow = &quot; MINOR \\n&quot; + value ;\n                                    chartSelectedDefect = &quot;MINOR&quot;;\n                                    barchart_type.setData(data_type_MINOR);\n                                }else if(h.getX() == 3){\n                                    toShow = &quot; OTHER \\n&quot; + value;\n                                    chartSelectedDefect = &quot;OTHER&quot;;\n                                    barchart_type.setData(data_type_OTHER);\n</code></pre>\n<p>How it appears when I show all:</p>\n<p><a href=\"https://i.stack.imgur.com/By0Yn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/By0Yn.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/jt0Uq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jt0Uq.png\" alt=\"How it appears on filtered. It should keep the size of the bar as well but it doesn't:\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/w3cDg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w3cDg.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/kUXAW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kUXAW.png\" alt=\"The yellow one appears the label, I don't know why...\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9470,"page":753,"page_size":100}
