{"items":[{"tags":["java","algorithm","graph","artificial-intelligence","depth-first-search"],"comments":[{"owner":{"account_id":20345523,"reputation":160,"user_id":14923551,"display_name":"Samuel"},"score":0,"creation_date":1672838637,"post_id":75006108,"comment_id":132362529,"body_markdown":"simply add a check if u have reached the target?","body":"simply add a check if u have reached the target?"},{"owner":{"account_id":9061,"reputation":19437,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1672841700,"post_id":75006108,"comment_id":132363722,"body_markdown":"Add a visitor to your DFS which is called each time a node is visited.  ( This is a very useful bit of code that you should always have around ).  In the visitor throw an exception if the visited node is the target.","body":"Add a visitor to your DFS which is called each time a node is visited.  ( This is a very useful bit of code that you should always have around ).  In the visitor throw an exception if the visited node is the target."},{"owner":{"account_id":43694,"reputation":2250,"user_id":127839,"accept_rate":100,"display_name":"Oliver Mason"},"score":0,"creation_date":1672841901,"post_id":75006108,"comment_id":132363799,"body_markdown":"It&#39;s not ideal if you completely change the question after there have been answers, as they will then not correspond to your original question any more. Please ask a new question instead.","body":"It&#39;s not ideal if you completely change the question after there have been answers, as they will then not correspond to your original question any more. Please ask a new question instead."},{"owner":{"account_id":17276750,"reputation":43,"user_id":12511226,"display_name":"Yara Abd"},"score":0,"creation_date":1672842182,"post_id":75006108,"comment_id":132363925,"body_markdown":"ok... sorry....","body":"ok... sorry...."}],"answers":[{"comments":[{"owner":{"account_id":17276750,"reputation":43,"user_id":12511226,"display_name":"Yara Abd"},"score":0,"creation_date":1672841080,"post_id":75006144,"comment_id":132363483,"body_markdown":"i did this but it keep moving to the rest of node","body":"i did this but it keep moving to the rest of node"}],"tags":[],"owner":{"account_id":20345523,"reputation":160,"user_id":14923551,"display_name":"Samuel"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672838756,"creation_date":1672838756,"answer_id":75006144,"question_id":75006108,"body_markdown":"in this modified DFS, u also pass the target you want to check\r\nso if you have reached your desired target. you simply return\r\n\r\n    void DFS(int vertex, int target) {\r\n        visited[vertex] = true; \r\n        System.out.print(vertex + &quot; &quot;);  \r\n      \r\n        Iterator&lt;Integer&gt; it = adj[vertex].listIterator();  \r\n        while (it.hasNext()) {  \r\n            int n = it.next();  \r\n            if (!visited[n]) {\r\n                if (n == target) {\r\n                    //return when u  reach the target\r\n                    return;\r\n                }\r\n                DFS(n, target);  \r\n            }\r\n        }  \r\n    }","title":"DFS algorithm with target node","body":"<p>in this modified DFS, u also pass the target you want to check\nso if you have reached your desired target. you simply return</p>\n<pre><code>void DFS(int vertex, int target) {\n    visited[vertex] = true; \n    System.out.print(vertex + &quot; &quot;);  \n  \n    Iterator&lt;Integer&gt; it = adj[vertex].listIterator();  \n    while (it.hasNext()) {  \n        int n = it.next();  \n        if (!visited[n]) {\n            if (n == target) {\n                //return when u  reach the target\n                return;\n            }\n            DFS(n, target);  \n        }\n    }  \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17276750,"reputation":43,"user_id":12511226,"display_name":"Yara Abd"},"score":0,"creation_date":1672842037,"post_id":75006693,"comment_id":132363873,"body_markdown":"Why different could you explain? and how can i solve it now .. thanks @Oliver Mason","body":"Why different could you explain? and how can i solve it now .. thanks @Oliver Mason"},{"owner":{"account_id":43694,"reputation":2250,"user_id":127839,"accept_rate":100,"display_name":"Oliver Mason"},"score":0,"creation_date":1672843522,"post_id":75006693,"comment_id":132364432,"body_markdown":"@YaraAbd The current question doesn&#39;t make sense, as you&#39;ve left out the function header etc.","body":"@YaraAbd The current question doesn&#39;t make sense, as you&#39;ve left out the function header etc."}],"tags":[],"owner":{"account_id":43694,"reputation":2250,"user_id":127839,"accept_rate":100,"display_name":"Oliver Mason"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672841525,"creation_date":1672841525,"answer_id":75006693,"question_id":75006108,"body_markdown":"You don&#39;t actually terminate the search. All you do is call the DFS recursively if the current node has not been visited. Then, regardless of whether you found your target or not, you look at the next node.\r\n\r\nYou need to add a termination into the iterator. The first thing I would do is give the DFS function a return value: return `true` if the target has been reached, and `false` if not. Then, in your loop, break out of the loop if the return value is `true`, and return that from the current run. At the end of the while-loop, return `false` by default, as you have not found the target.\r\n\r\nUpdate: You have now completely changed the question. My answer applies to the first version of it.","title":"DFS algorithm with target node","body":"<p>You don't actually terminate the search. All you do is call the DFS recursively if the current node has not been visited. Then, regardless of whether you found your target or not, you look at the next node.</p>\n<p>You need to add a termination into the iterator. The first thing I would do is give the DFS function a return value: return <code>true</code> if the target has been reached, and <code>false</code> if not. Then, in your loop, break out of the loop if the return value is <code>true</code>, and return that from the current run. At the end of the while-loop, return <code>false</code> by default, as you have not found the target.</p>\n<p>Update: You have now completely changed the question. My answer applies to the first version of it.</p>\n"}],"owner":{"account_id":17276750,"reputation":43,"user_id":12511226,"display_name":"Yara Abd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672841525,"creation_date":1672838574,"question_id":75006108,"body_markdown":"I have to use DFS algorithm for my university project.\r\nI saw this link [DFSlink][1] but i face this problem.\r\nThe Depth First Search algorithm is Traversal it goes to every node in the graph but i want to define a target node when i reach to it i want to stop the algorithm\r\n\r\n    while (i.hasNext()) {\r\n                    int n = i.next();\r\n                    if (!visited[n]) {\r\n                        if (n == goal) {\r\n                            System.err.print(infoLinkedList.get(1).nameStation+&quot;:&quot;);\r\n                            System.err.print(&quot; |&quot;+goal+ &quot;| -&gt; &quot;);\r\n                            return;\r\n                        }\r\n                        DFSUtil_BUS(n, goal, visited);\r\n                    }\r\n                } \r\n\r\nHow can i do this please?\r\n\r\n[1]: https://www.javatpoint.com/depth-first-search-algorithm","title":"DFS algorithm with target node","body":"<p>I have to use DFS algorithm for my university project.\nI saw this link <a href=\"https://www.javatpoint.com/depth-first-search-algorithm\" rel=\"nofollow noreferrer\">DFSlink</a> but i face this problem.\nThe Depth First Search algorithm is Traversal it goes to every node in the graph but i want to define a target node when i reach to it i want to stop the algorithm</p>\n<pre><code>while (i.hasNext()) {\n                int n = i.next();\n                if (!visited[n]) {\n                    if (n == goal) {\n                        System.err.print(infoLinkedList.get(1).nameStation+&quot;:&quot;);\n                        System.err.print(&quot; |&quot;+goal+ &quot;| -&gt; &quot;);\n                        return;\n                    }\n                    DFSUtil_BUS(n, goal, visited);\n                }\n            } \n</code></pre>\n<p>How can i do this please?</p>\n"},{"tags":["java","android","kotlin","google-calendar-api","android-tv"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1672845218,"post_id":75006671,"comment_id":132365080,"body_markdown":"It is highly unlikely that an Android TV device has a calendar app, let alone one that the user has configured for their calendars.","body":"It is highly unlikely that an Android TV device has a calendar app, let alone one that the user has configured for their calendars."},{"owner":{"account_id":4225669,"reputation":170,"user_id":3459259,"accept_rate":50,"display_name":"syedjibharat"},"score":0,"creation_date":1673351633,"post_id":75006671,"comment_id":132474483,"body_markdown":"with same account logged in to the Android TV should list the events. But I&#39;m getting the empty cursor list.\n\n    val cursor = this.baseContext.contentResolver.query(CalendarContract.Events.CONTENT_URI,\n            projection,\n            selection,\n            null,\n            null)","body":"with same account logged in to the Android TV should list the events. But I&#39;m getting the empty cursor list.      val cursor = this.baseContext.contentResolver.query(CalendarContract.Even&zwnj;&#8203;ts.CONTENT_URI,             projection,             selection,             null,             null)"},{"owner":{"account_id":4225669,"reputation":170,"user_id":3459259,"accept_rate":50,"display_name":"syedjibharat"},"score":0,"creation_date":1673351707,"post_id":75006671,"comment_id":132474508,"body_markdown":"The above code is working for mobile not for TV. can anyone pls help to resolve this.","body":"The above code is working for mobile not for TV. can anyone pls help to resolve this."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1673352712,"post_id":75006671,"comment_id":132474832,"body_markdown":"&quot;with same account logged in to the Android TV should list the events&quot; -- I have no idea how you came to this conclusion.","body":"&quot;with same account logged in to the Android TV should list the events&quot; -- I have no idea how you came to this conclusion."}],"owner":{"account_id":4225669,"reputation":170,"user_id":3459259,"accept_rate":50,"display_name":"syedjibharat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672841431,"creation_date":1672841431,"question_id":75006671,"body_markdown":"I&#39;m currently working on Android TV app, I need to retrieve google calendar events and show it in the TV app UI. I used the ContentResolver and calendar events URI  &quot;Uri.parse(&quot;content://com.android.calendar/events&quot;)&quot; to get the events, but unable to retrieve the events and its showing as an empty list from the cursor. The same code is working fine in Android mobile app, because it is retrieving the events from the calendar app, that was not available in the Android TV. ","title":"How to retrieve google calendar events in Android TV app","body":"<p>I'm currently working on Android TV app, I need to retrieve google calendar events and show it in the TV app UI. I used the ContentResolver and calendar events URI  &quot;Uri.parse(&quot;content://com.android.calendar/events&quot;)&quot; to get the events, but unable to retrieve the events and its showing as an empty list from the cursor. The same code is working fine in Android mobile app, because it is retrieving the events from the calendar app, that was not available in the Android TV.</p>\n"},{"tags":["java","javap"],"comments":[{"owner":{"account_id":13883284,"reputation":747,"user_id":10023107,"display_name":"Chris"},"score":0,"creation_date":1542969576,"post_id":53445007,"comment_id":93762986,"body_markdown":"You have to set the path/environment variable.\nplease see: https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation","body":"You have to set the path/environment variable. please see: <a href=\"https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation\" title=\"environment variables for java installation\">stackoverflow.com/questions/1672281/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553275746,"creation_date":1542969494,"answer_id":53445069,"question_id":53445007,"body_markdown":"You must have your `$JAVA_HOME/bin` directory added to system `PATH` for `javap` command to be available without it&#39;s absolute path.\r\n\r\nAlternatively you can call `javap` using the absolute path:\r\n\r\n    /usr/lib/.../bin/javap Simulation.class","title":"JDK installed but no javap?","body":"<p>You must have your <code>$JAVA_HOME/bin</code> directory added to system <code>PATH</code> for <code>javap</code> command to be available without it's absolute path.</p>\n\n<p>Alternatively you can call <code>javap</code> using the absolute path:</p>\n\n<pre><code>/usr/lib/.../bin/javap Simulation.class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2854435,"reputation":2798,"user_id":2853439,"accept_rate":50,"display_name":"Prateek Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542969577,"creation_date":1542969577,"answer_id":53445092,"question_id":53445007,"body_markdown":"append $JAVA_HOME/bin to system $PATH variable. for example on linux\r\n\r\nJAVA_HOME= &quot;path of java installation on system&quot;\r\n\r\n    export PATH = $JAVA_HOME/bin:$PATH\r\n\r\n","title":"JDK installed but no javap?","body":"<p>append $JAVA_HOME/bin to system $PATH variable. for example on linux</p>\n\n<p>JAVA_HOME= \"path of java installation on system\"</p>\n\n<pre><code>export PATH = $JAVA_HOME/bin:$PATH\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2342631,"reputation":57,"user_id":3156219,"display_name":"Rajiv Bandi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1672841043,"creation_date":1542969741,"answer_id":53445130,"question_id":53445007,"body_markdown":"Assuming you are on Windows, check in your environment variable PATH whether path to Java executables is set.\r\nEx. If you have installed Java on path,say, C:\\Program Files\\Java\\jdk-10\r\nThen you have to add C:\\Program Files\\Java\\jdk-10\\bin to your PATH environment variable to be able to execute java commands from anywhere on command line.\r\n\r\nReferences for Oracle Docs\r\n\r\n - https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-microsoft-windows-platforms.htm#JSJIG-GUID-DAF345BA-B3E7-4CF2-B87A-B6662D691840\r\n - https://www.java.com/en/download/help/path.xml\r\n\r\nOn a sidenote, recommend you to move to Java 11 or 17 now that Java 10 is no longer supported. The above instructions would still remain same.","title":"JDK installed but no javap?","body":"<p>Assuming you are on Windows, check in your environment variable PATH whether path to Java executables is set.\nEx. If you have installed Java on path,say, C:\\Program Files\\Java\\jdk-10\nThen you have to add C:\\Program Files\\Java\\jdk-10\\bin to your PATH environment variable to be able to execute java commands from anywhere on command line.</p>\n<p>References for Oracle Docs</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-microsoft-windows-platforms.htm#JSJIG-GUID-DAF345BA-B3E7-4CF2-B87A-B6662D691840\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-microsoft-windows-platforms.htm#JSJIG-GUID-DAF345BA-B3E7-4CF2-B87A-B6662D691840</a></li>\n<li><a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">https://www.java.com/en/download/help/path.xml</a></li>\n</ul>\n<p>On a sidenote, recommend you to move to Java 11 or 17 now that Java 10 is no longer supported. The above instructions would still remain same.</p>\n"},{"tags":[],"owner":{"account_id":24808863,"reputation":109,"user_id":18690553,"display_name":"Ankit"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648982824,"creation_date":1648982824,"answer_id":71725160,"question_id":53445007,"body_markdown":"1) Open the control panel and type envir in search bar.\r\n\r\n2) Click on edit the system environment variables.\r\n\r\n3) Click on environment variables in the advanced system properties.\r\n\r\n4) Click on path mentioned in user variables.\r\n\r\n5) Edit the path, and click new and paste the path of java jdk.\r\n\r\n6) In my system, the path is C:\\Program Files\\Java\\jdk-17.0.2\\bin, it could be different for your system.\r\n\r\n7) Click ok, the problem must be solved now.","title":"JDK installed but no javap?","body":"<ol>\n<li><p>Open the control panel and type envir in search bar.</p>\n</li>\n<li><p>Click on edit the system environment variables.</p>\n</li>\n<li><p>Click on environment variables in the advanced system properties.</p>\n</li>\n<li><p>Click on path mentioned in user variables.</p>\n</li>\n<li><p>Edit the path, and click new and paste the path of java jdk.</p>\n</li>\n<li><p>In my system, the path is C:\\Program Files\\Java\\jdk-17.0.2\\bin, it could be different for your system.</p>\n</li>\n<li><p>Click ok, the problem must be solved now.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":7239864,"reputation":101,"user_id":5523770,"accept_rate":25,"display_name":"Temerita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17432,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1672841043,"creation_date":1542969162,"question_id":53445007,"body_markdown":"I have the JDK 10.0.2 installed, have the cmd opened in the folder of the class files of my program and try the command: javap Simulation.class . \r\nI get the error that the command javap is not found. What do I do wrong?","title":"JDK installed but no javap?","body":"<p>I have the JDK 10.0.2 installed, have the cmd opened in the folder of the class files of my program and try the command: javap Simulation.class . \nI get the error that the command javap is not found. What do I do wrong?</p>\n"},{"tags":["java","applet","toolkit"],"owner":{"account_id":10895998,"reputation":21,"user_id":8009958,"display_name":"EngBashir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672840372,"creation_date":1672840372,"question_id":75006472,"body_markdown":"I have developed a small applet to display welcome message, the applet is registered to PROFILE_DOWNLOAD event and its successfully works\r\nthe message appears when the SIM registered to network.\r\n\r\n\r\n```\r\nswitch (event) {\r\n    case EVENT_PROFILE_DOWNLOAD:\r\n         reg.setEvent(EVENT_EVENT_DOWNLOAD_LOCATION_STATUS);\r\n         break;\r\n    case EVENT_EVENT_DOWNLOAD_LOCATION_STATUS:\r\n\ttheEnv = EnvelopeHandler.getTheHandler();\r\n\t// check location status tag\r\n\tif ((Displayed == false) &amp;&amp; (theEnv.findTLV(TAG_LOCATION_STATUS, (byte) 1) != TLV_NOT_FOUND)){\r\n\t   if (theEnv.getValueByte((short) 0) == (byte) 0) {\r\n                proHdlr.initDisplayText((byte) 0x01, DCS_8_BIT_DATA, English_Welcome, (short) 0,(short) Welcome_msg.length);\r\n                proHdlr.send();\r\n                reg.clearEvent(EVENT_EVENT_DOWNLOAD_LOCATION_STATUS);\r\n\t    }\r\n\t}\r\n     break;\r\n```\r\n\r\nIs it possible to display icon or clickable URL with displayed message.\r\n\r\nThanks \r\n\r\ndisplay message toolkit applet","title":"Display SIM toolkit Icon, URL","body":"<p>I have developed a small applet to display welcome message, the applet is registered to PROFILE_DOWNLOAD event and its successfully works\nthe message appears when the SIM registered to network.</p>\n<pre><code>switch (event) {\n    case EVENT_PROFILE_DOWNLOAD:\n         reg.setEvent(EVENT_EVENT_DOWNLOAD_LOCATION_STATUS);\n         break;\n    case EVENT_EVENT_DOWNLOAD_LOCATION_STATUS:\n    theEnv = EnvelopeHandler.getTheHandler();\n    // check location status tag\n    if ((Displayed == false) &amp;&amp; (theEnv.findTLV(TAG_LOCATION_STATUS, (byte) 1) != TLV_NOT_FOUND)){\n       if (theEnv.getValueByte((short) 0) == (byte) 0) {\n                proHdlr.initDisplayText((byte) 0x01, DCS_8_BIT_DATA, English_Welcome, (short) 0,(short) Welcome_msg.length);\n                proHdlr.send();\n                reg.clearEvent(EVENT_EVENT_DOWNLOAD_LOCATION_STATUS);\n        }\n    }\n     break;\n</code></pre>\n<p>Is it possible to display icon or clickable URL with displayed message.</p>\n<p>Thanks</p>\n<p>display message toolkit applet</p>\n"},{"tags":["java","ssl","https"],"owner":{"account_id":26136616,"reputation":194,"user_id":19826534,"display_name":"Ozgur Baykal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672840124,"creation_date":1672840124,"question_id":75006416,"body_markdown":"I created an https server running with device ip addresses and port 8080 in android app with Java. \r\n(Like: 192.168.1.20:8080/something) \r\n\r\nCurrently I have created sslContext with a self-signed BKS file, of course browsers do not trust this certificate because it is self-signed. I used ZeroSSL to generate an IP address specific ssl certificate but in the &quot;Verify Domain&quot; stage two options are available DNS (CNAME) and Html File Upload. I haven&#39;t been able to find and know anything about how I can use these options in my own code.\r\n\r\nAre there any other methods besides ZeroSSL? Can you give an idea how I can create a structure?\r\n\r\nAlso if I successfully verify an SSL certificate for the IP address. What action should I take when the IP address of this android device changes? Because we created the certificate for the state before the IP address changed.\r\n\r\nMy Create Https Server Code:\r\n\r\n```\r\n        try {\r\n            InetSocketAddress address = new InetSocketAddress(8080);\r\n            Log.i(HttpServerManager.getHttpServerManager().TAG, &quot;HttpServer starting up: &quot;);\r\n\r\n            HttpServerManager.getHttpServerManager().httpServer = HttpsServer.create(address, 0);\r\n\r\n\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n            char[] password = &quot;123456&quot;.toCharArray();\r\n\r\n            // Initialise the keystore\r\n            KeyStore ks = KeyStore.getInstance(&quot;BKS&quot;);\r\n            ks.load(HoneywellApplication.instance().getApplicationContext()\r\n                    .getResources().openRawResource(R.raw.mynewkey), password);\r\n\r\n            // Set up the key manager factory\r\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            kmf.init(ks, password);\r\n\r\n            // Set up the trust manager factory\r\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n            tmf.init(ks);\r\n\r\n            // Set up the HTTPS context and parameters\r\n            sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n            HttpServerManager.getHttpServerManager().httpServer.setHttpsConfigurator(new HttpsConfigurator(sslContext) {\r\n                public void configure(HttpsParameters params) {\r\n                    try {\r\n\r\n                        // Initialise the SSL context\r\n                        SSLContext c = SSLContext.getDefault();\r\n                        SSLEngine engine = c.createSSLEngine();\r\n                        params.setNeedClientAuth(false);\r\n                        params.setCipherSuites(engine.getEnabledCipherSuites());\r\n                        params.setProtocols(engine.getEnabledProtocols());\r\n\r\n                        // Get the default parameters\r\n                        SSLParameters defaultSSLParameters = c.getDefaultSSLParameters();\r\n                        params.setSSLParameters(defaultSSLParameters);\r\n                    } catch (Exception ex) {\r\n                        Log.e(HttpServerManager.getHttpServerManager().TAG, &quot;HttpsServer configure ex: &quot; + ex.getLocalizedMessage());\r\n\r\n                    }\r\n                }\r\n            });\r\n\r\n            HttpServerManager.getHttpServerManager().httpServer.createContext(&quot;/&quot;, new RootHandler());\r\n\r\n            HttpServerManager.getHttpServerManager().httpServer.setExecutor(null);\r\n            HttpServerManager.getHttpServerManager().httpServer.start();\r\n\r\n            Log.i(HttpServerManager.getHttpServerManager().TAG, &quot;HttpServer started&quot;);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```","title":"Verifying ssl certificate for an https server created with device ip address in java","body":"<p>I created an https server running with device ip addresses and port 8080 in android app with Java.\n(Like: 192.168.1.20:8080/something)</p>\n<p>Currently I have created sslContext with a self-signed BKS file, of course browsers do not trust this certificate because it is self-signed. I used ZeroSSL to generate an IP address specific ssl certificate but in the &quot;Verify Domain&quot; stage two options are available DNS (CNAME) and Html File Upload. I haven't been able to find and know anything about how I can use these options in my own code.</p>\n<p>Are there any other methods besides ZeroSSL? Can you give an idea how I can create a structure?</p>\n<p>Also if I successfully verify an SSL certificate for the IP address. What action should I take when the IP address of this android device changes? Because we created the certificate for the state before the IP address changed.</p>\n<p>My Create Https Server Code:</p>\n<pre><code>        try {\n            InetSocketAddress address = new InetSocketAddress(8080);\n            Log.i(HttpServerManager.getHttpServerManager().TAG, &quot;HttpServer starting up: &quot;);\n\n            HttpServerManager.getHttpServerManager().httpServer = HttpsServer.create(address, 0);\n\n\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n            char[] password = &quot;123456&quot;.toCharArray();\n\n            // Initialise the keystore\n            KeyStore ks = KeyStore.getInstance(&quot;BKS&quot;);\n            ks.load(HoneywellApplication.instance().getApplicationContext()\n                    .getResources().openRawResource(R.raw.mynewkey), password);\n\n            // Set up the key manager factory\n            KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            kmf.init(ks, password);\n\n            // Set up the trust manager factory\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n            tmf.init(ks);\n\n            // Set up the HTTPS context and parameters\n            sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n            HttpServerManager.getHttpServerManager().httpServer.setHttpsConfigurator(new HttpsConfigurator(sslContext) {\n                public void configure(HttpsParameters params) {\n                    try {\n\n                        // Initialise the SSL context\n                        SSLContext c = SSLContext.getDefault();\n                        SSLEngine engine = c.createSSLEngine();\n                        params.setNeedClientAuth(false);\n                        params.setCipherSuites(engine.getEnabledCipherSuites());\n                        params.setProtocols(engine.getEnabledProtocols());\n\n                        // Get the default parameters\n                        SSLParameters defaultSSLParameters = c.getDefaultSSLParameters();\n                        params.setSSLParameters(defaultSSLParameters);\n                    } catch (Exception ex) {\n                        Log.e(HttpServerManager.getHttpServerManager().TAG, &quot;HttpsServer configure ex: &quot; + ex.getLocalizedMessage());\n\n                    }\n                }\n            });\n\n            HttpServerManager.getHttpServerManager().httpServer.createContext(&quot;/&quot;, new RootHandler());\n\n            HttpServerManager.getHttpServerManager().httpServer.setExecutor(null);\n            HttpServerManager.getHttpServerManager().httpServer.start();\n\n            Log.i(HttpServerManager.getHttpServerManager().TAG, &quot;HttpServer started&quot;);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","complex-numbers"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672839842,"creation_date":1672839842,"answer_id":75006374,"question_id":75006160,"body_markdown":"To fully understand it, it gets a little complicated!\r\n\r\nComputers aren&#39;t magical; there is a limit to how &#39;large&#39; a number you store can be. For example, `int` can only store between -2147483648 and +2147483647 (try it!). Those numbers aren&#39;t arbitrary, it&#39;s `2^31` (2 to the power of 31 - `2*2*2*2*...`) for both the positive and negative numbers. Because ints use 32 bits. One bit for the sign, 31 bits for the number.\r\n\r\n`double` is similarly restricted. It uses 64 bits, but it&#39;s still limited. Only 2^64 different numbers can be stored. (Why? Math - if I give you 3 light switches and the only way you can communicate with me is to toggle them and then leave the room, there&#39;s only at most 8 different messages you can send me. That&#39;s because `2^3 = 8`. With 64 lightswitches it&#39;s `2^64`. That&#39;s a lot of numbers, but there are an infinite amount of numbers between 0 and 1, let alone in all of infinity).\r\n\r\nSo, given that doubles can only store 2^64 unique numbers, which numbers _can_ doubles store? It&#39;s as if someone threw 2^64 darts at the number line - those are numbers double can store. Anything else a double __can not__ store; if you try to, or the result of a calculation is a value that doesn&#39;t have a &#39;dart&#39;, it gets silently rounded to the nearest dart.\r\n\r\nThe darts aren&#39;t thrown arbitrarily; if you imagine the number line, there are as many darts around 0-2 as there are everywhere else - the nearer to 1.0, the more dense the darts are packed. Eventually, above 2^52, there&#39;s less than one dart per whole number (with the weird effect that therefore `x+1` can be equal to `x`, for sufficiently large `x`, even! - the result is rounded to the nearest dart which eventually is just `x` again).\r\n\r\nThis means errors occur, and the larger the number, the higher the error is likely to be. This means that equality is then complicated. Simple example:\r\n\r\n```\r\ndouble x = 0.0;\r\nfor (int i = 0; i &lt; 10; i++) x += 0.1;\r\ndouble y = 1.0;\r\nSystem.out.println(x == y); // This prints false!!!\r\nSystem.out.println(x - y);\r\n```\r\n\r\nThe difference (the last line) prints `-1.1102230246251565E-16` - so a really tiny difference (E-16 means 10^-16, so, the difference is -0.000000000000000011102230246251565.\r\n\r\nBut.. 10 * 0.1 __is__ 1.0, so why does that print false? Because of that darts thing - rounding killed you. Computers count in binary; while &quot;one tenth&quot; works well in decimal (It&#39;s just 0.1), just like &quot;one third&quot; __does not__ &#39;work&#39; in decimal (it&#39;s 0.33333333... you can never get it perfect), one tenth is similarly not quite perfect in binary. Hence, yup, 0.1 isn&#39;t quite on a dart, and each intermediate value (0.1, 0.2, 0.3) isn&#39;t a dart either, so you keep compounding 10 tiny rounding errors.\r\n\r\nThe solution is, when wanting to consider if 2 double values are &#39;equal&#39;, that you can&#39;t just use `==`, you need to define it more as &#39;are they __really__ close to each other?&#39; instead.\r\n\r\nHence this code checks the difference (`Math.abs(x-y)` is just `x-y`, with the sign removed: The difference between x and y, and checks if that is really tiny. How tiny? Well, in basis, EPSILON (so, `1E-14`, which is scientific notation and means the same as -0.00000000000001), except, we scale this a bit (multiply it by _the largest_ amongst x and y), because the errors tend to be larger in magnitude when you move away from the 0, because there are fewer and fewer darts as you get further and further away from it.\r\n\r\nApplying it to our `0.1*10 vs 1.0` situation:\r\n\r\n```java\r\ndouble x = 0.0;\r\nfor (int i = 0; i &lt; 10; i++) x += 0.1;\r\ndouble y = 1.0;\r\nSystem.out.println(x == y); // This prints false!!!\r\ndouble EPSILON = 1E-14;\r\nSystem.out.println(Math.abs(x-y) &lt;= EPSILON * Math.max(Math.abs(x),\r\nMath.abs(y)));\r\n```\r\n\r\nThat last line prints `true`.","title":"Java simple complex number class","body":"<p>To fully understand it, it gets a little complicated!</p>\n<p>Computers aren't magical; there is a limit to how 'large' a number you store can be. For example, <code>int</code> can only store between -2147483648 and +2147483647 (try it!). Those numbers aren't arbitrary, it's <code>2^31</code> (2 to the power of 31 - <code>2*2*2*2*...</code>) for both the positive and negative numbers. Because ints use 32 bits. One bit for the sign, 31 bits for the number.</p>\n<p><code>double</code> is similarly restricted. It uses 64 bits, but it's still limited. Only 2^64 different numbers can be stored. (Why? Math - if I give you 3 light switches and the only way you can communicate with me is to toggle them and then leave the room, there's only at most 8 different messages you can send me. That's because <code>2^3 = 8</code>. With 64 lightswitches it's <code>2^64</code>. That's a lot of numbers, but there are an infinite amount of numbers between 0 and 1, let alone in all of infinity).</p>\n<p>So, given that doubles can only store 2^64 unique numbers, which numbers <em>can</em> doubles store? It's as if someone threw 2^64 darts at the number line - those are numbers double can store. Anything else a double <strong>can not</strong> store; if you try to, or the result of a calculation is a value that doesn't have a 'dart', it gets silently rounded to the nearest dart.</p>\n<p>The darts aren't thrown arbitrarily; if you imagine the number line, there are as many darts around 0-2 as there are everywhere else - the nearer to 1.0, the more dense the darts are packed. Eventually, above 2^52, there's less than one dart per whole number (with the weird effect that therefore <code>x+1</code> can be equal to <code>x</code>, for sufficiently large <code>x</code>, even! - the result is rounded to the nearest dart which eventually is just <code>x</code> again).</p>\n<p>This means errors occur, and the larger the number, the higher the error is likely to be. This means that equality is then complicated. Simple example:</p>\n<pre><code>double x = 0.0;\nfor (int i = 0; i &lt; 10; i++) x += 0.1;\ndouble y = 1.0;\nSystem.out.println(x == y); // This prints false!!!\nSystem.out.println(x - y);\n</code></pre>\n<p>The difference (the last line) prints <code>-1.1102230246251565E-16</code> - so a really tiny difference (E-16 means 10^-16, so, the difference is -0.000000000000000011102230246251565.</p>\n<p>But.. 10 * 0.1 <strong>is</strong> 1.0, so why does that print false? Because of that darts thing - rounding killed you. Computers count in binary; while &quot;one tenth&quot; works well in decimal (It's just 0.1), just like &quot;one third&quot; <strong>does not</strong> 'work' in decimal (it's 0.33333333... you can never get it perfect), one tenth is similarly not quite perfect in binary. Hence, yup, 0.1 isn't quite on a dart, and each intermediate value (0.1, 0.2, 0.3) isn't a dart either, so you keep compounding 10 tiny rounding errors.</p>\n<p>The solution is, when wanting to consider if 2 double values are 'equal', that you can't just use <code>==</code>, you need to define it more as 'are they <strong>really</strong> close to each other?' instead.</p>\n<p>Hence this code checks the difference (<code>Math.abs(x-y)</code> is just <code>x-y</code>, with the sign removed: The difference between x and y, and checks if that is really tiny. How tiny? Well, in basis, EPSILON (so, <code>1E-14</code>, which is scientific notation and means the same as -0.00000000000001), except, we scale this a bit (multiply it by <em>the largest</em> amongst x and y), because the errors tend to be larger in magnitude when you move away from the 0, because there are fewer and fewer darts as you get further and further away from it.</p>\n<p>Applying it to our <code>0.1*10 vs 1.0</code> situation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>double x = 0.0;\nfor (int i = 0; i &lt; 10; i++) x += 0.1;\ndouble y = 1.0;\nSystem.out.println(x == y); // This prints false!!!\ndouble EPSILON = 1E-14;\nSystem.out.println(Math.abs(x-y) &lt;= EPSILON * Math.max(Math.abs(x),\nMath.abs(y)));\n</code></pre>\n<p>That last line prints <code>true</code>.</p>\n"}],"owner":{"account_id":27227137,"reputation":1,"user_id":20755467,"display_name":"Farzan Firoozkhoshkehrood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672840063,"creation_date":1672838795,"question_id":75006160,"body_markdown":"```\r\npublic String toString() {\r\n\tfinal String IMAGINARY_UNIT = &quot;i&quot;;\r\n\t\r\n\tif (equalsApprox(im , 0)) {\r\n\t\treturn String.valueOf(re);\r\n\t}\r\n\tString sign = &quot;-&quot;;\r\n\tif (im &gt; 0) {\r\n\t\tsign = &quot;+&quot;;\r\n\t}\r\n\tif(equalsApprox(re, 0)) {\r\n\t    return &quot;MyComplex&quot; + sign + IMAGINARY_UNIT + Math.abs(im);\r\n\t}\r\n\treturn &quot;MyComplex&quot; + re + &quot; &quot; + sign + IMAGINARY_UNIT + Math.abs(im); \r\n}\r\n\r\npublic boolean equalsApprox(MyComplex z) {\r\n\treturn equalsApprox(re, z.re) &amp;&amp; equalsApprox(im, z.im);\r\n}\r\n\r\nprivate static boolean equalsApprox(double x , double y) {\r\n\tfinal double EPSILON = 1E-14;\r\n\treturn Math.abs(x-y) &lt;= EPSILON * Math.max(Math.abs(x), Math.abs(y));\r\n}\r\n```\r\n\r\n\r\nI want a clear explanation about the part of equalsApprox which I can not understand how it checks and compares with tolerance(I don&#39;t know what does tolerance mean in here : please explain me this too) and return the values in different conditions .This is the ending part of the code not all of it. please help me to understand it .","title":"Java simple complex number class","body":"<pre><code>public String toString() {\n    final String IMAGINARY_UNIT = &quot;i&quot;;\n    \n    if (equalsApprox(im , 0)) {\n        return String.valueOf(re);\n    }\n    String sign = &quot;-&quot;;\n    if (im &gt; 0) {\n        sign = &quot;+&quot;;\n    }\n    if(equalsApprox(re, 0)) {\n        return &quot;MyComplex&quot; + sign + IMAGINARY_UNIT + Math.abs(im);\n    }\n    return &quot;MyComplex&quot; + re + &quot; &quot; + sign + IMAGINARY_UNIT + Math.abs(im); \n}\n\npublic boolean equalsApprox(MyComplex z) {\n    return equalsApprox(re, z.re) &amp;&amp; equalsApprox(im, z.im);\n}\n\nprivate static boolean equalsApprox(double x , double y) {\n    final double EPSILON = 1E-14;\n    return Math.abs(x-y) &lt;= EPSILON * Math.max(Math.abs(x), Math.abs(y));\n}\n</code></pre>\n<p>I want a clear explanation about the part of equalsApprox which I can not understand how it checks and compares with tolerance(I don't know what does tolerance mean in here : please explain me this too) and return the values in different conditions .This is the ending part of the code not all of it. please help me to understand it .</p>\n"},{"tags":["java","spring","hibernate","jpa","flyway"],"answers":[{"comments":[{"owner":{"account_id":7339964,"reputation":455,"user_id":5589918,"accept_rate":46,"display_name":"Da Mike"},"score":0,"creation_date":1672841652,"post_id":75006375,"comment_id":132363710,"body_markdown":"Yes I am using MySQL and the description field is currnetly varchar(255). Is there someway to get the max size of 65.535 as a constant?","body":"Yes I am using MySQL and the description field is currnetly varchar(255). Is there someway to get the max size of 65.535 as a constant?"},{"owner":{"account_id":25310585,"reputation":1,"user_id":19133382,"display_name":"Geri"},"score":0,"creation_date":1672841919,"post_id":75006375,"comment_id":132363811,"body_markdown":"I would not simply set it to the max, but rather based on the requirement have a limit. What is the business need, you can even look into LONGTEXT if you need really large strings to be stored. As described in the link below the max 65k bytes are a limit for all the columns, e.g. the row itself. So one field should not take all the space. Then you also need to account for the collation, UTF8MB4 can you 4 bytes per character. See this page for more info: https://www.tutorialspoint.com/what-is-the-mysql-varchar-max-size","body":"I would not simply set it to the max, but rather based on the requirement have a limit. What is the business need, you can even look into LONGTEXT if you need really large strings to be stored. As described in the link below the max 65k bytes are a limit for all the columns, e.g. the row itself. So one field should not take all the space. Then you also need to account for the collation, UTF8MB4 can you 4 bytes per character. See this page for more info: <a href=\"https://www.tutorialspoint.com/what-is-the-mysql-varchar-max-size\" rel=\"nofollow noreferrer\">tutorialspoint.com/what-is-the-mysql-varchar-max-size</a>"}],"tags":[],"owner":{"account_id":25310585,"reputation":1,"user_id":19133382,"display_name":"Geri"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672839847,"creation_date":1672839847,"answer_id":75006375,"question_id":75006151,"body_markdown":"I guess the underlying DB is MySQL? What type is the description field currently? Because after MySQL 5.0.3 the VARCHAR fields can have up to a character size of 65.535 same as TEXT. [VARCHAR vs TEXT][1]\r\nSo you might not even need to change the type just the max length of the field. For this I would use Flyway, that would make sure that your database changes are applied at the same time your code changes take effect as well.\r\n\r\n  [1]: https://www.navicat.com/en/company/aboutus/blog/1308-choosing-between-varchar-and-text-in-mysql","title":"Spring Jpa - Need for longer strings in already existing column without recreating the schema","body":"<p>I guess the underlying DB is MySQL? What type is the description field currently? Because after MySQL 5.0.3 the VARCHAR fields can have up to a character size of 65.535 same as TEXT. <a href=\"https://www.navicat.com/en/company/aboutus/blog/1308-choosing-between-varchar-and-text-in-mysql\" rel=\"nofollow noreferrer\">VARCHAR vs TEXT</a>\nSo you might not even need to change the type just the max length of the field. For this I would use Flyway, that would make sure that your database changes are applied at the same time your code changes take effect as well.</p>\n"}],"owner":{"account_id":7339964,"reputation":455,"user_id":5589918,"accept_rate":46,"display_name":"Da Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672839847,"creation_date":1672838780,"question_id":75006151,"body_markdown":"I have been working with an entity e.g. `Foo` defined as\r\n\r\n```\r\n@Entity\r\npublic class Foo {\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Long id;\r\n\r\n    String name;\r\n\r\n    String description;\r\n    \r\n    // etc...\r\n}\r\n```\r\n\r\nAnd I have some data already persisted in the db. \r\n\r\nNow there has come up the need for longer descriptions so I tried modifying \r\n\r\n```\r\nString description;\r\n```\r\n\r\nto\r\n\r\n```\r\n@Column(columnDefinition = &quot;TEXT&quot;)\r\nString description = &quot;&quot;;\r\n```\r\n\r\nbut the changes were not reflected in the actual schema. I know that jpa hibernate will not update these kind of changes even when having set `spring.jpa.hibernate.ddl-auto=update`. \r\n\r\nSo what I want is to keep the already existing records, but modify the column definition to allow to insert new records with longer `description` fields.\r\n\r\nWhat is the best way to do that?\r\n\r\nI have done some investigating and came up upon solutions like Flyway, but what exactly is the way in which I should use it? Add a migration script with the following command?\r\n\r\n```\r\nALTER TABLE Foo MODIFY description TEXT;\r\n```\r\n\r\nAnd then should I also add the `@Column(columnDefinition = &quot;TEXT&quot;)` in the Java class or not?\r\n\r\nAny help would be appreciated!","title":"Spring Jpa - Need for longer strings in already existing column without recreating the schema","body":"<p>I have been working with an entity e.g. <code>Foo</code> defined as</p>\n<pre><code>@Entity\npublic class Foo {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    String name;\n\n    String description;\n    \n    // etc...\n}\n</code></pre>\n<p>And I have some data already persisted in the db.</p>\n<p>Now there has come up the need for longer descriptions so I tried modifying</p>\n<pre><code>String description;\n</code></pre>\n<p>to</p>\n<pre><code>@Column(columnDefinition = &quot;TEXT&quot;)\nString description = &quot;&quot;;\n</code></pre>\n<p>but the changes were not reflected in the actual schema. I know that jpa hibernate will not update these kind of changes even when having set <code>spring.jpa.hibernate.ddl-auto=update</code>.</p>\n<p>So what I want is to keep the already existing records, but modify the column definition to allow to insert new records with longer <code>description</code> fields.</p>\n<p>What is the best way to do that?</p>\n<p>I have done some investigating and came up upon solutions like Flyway, but what exactly is the way in which I should use it? Add a migration script with the following command?</p>\n<pre><code>ALTER TABLE Foo MODIFY description TEXT;\n</code></pre>\n<p>And then should I also add the <code>@Column(columnDefinition = &quot;TEXT&quot;)</code> in the Java class or not?</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1459350018,"post_id":36312317,"comment_id":60248490,"body_markdown":"What is working?  Are your `class=&quot;para&quot; id=&quot;` lines being correctly transformed?  Is your temporary file of foot notes being properly generated?","body":"What is working?  Are your <code>class=&quot;para&quot; id=&quot;</code> lines being correctly transformed?  Is your temporary file of foot notes being properly generated?"},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1459350318,"post_id":36312317,"comment_id":60248736,"body_markdown":"Hi @AJNeufeld, Yes everything is working fine. I just want to replace `&lt;hr /&gt;` with the entire `temp.txt` file contents.","body":"Hi @AJNeufeld, Yes everything is working fine. I just want to replace <code>&lt;hr &#47;&gt;</code> with the entire <code>temp.txt</code> file contents."},{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":1,"creation_date":1459351860,"post_id":36312317,"comment_id":60249978,"body_markdown":"Instead of substituting `&lt;/body&gt;` with `&lt;hr/&gt;&lt;/body&gt;`, and then substituting `&lt;hr/&gt;` with your contents, you could skip a step and substitute `&lt;/body&gt;` with `&lt;!-- footnotes --&gt;&lt;/body&gt;`.  This is safer, as there could be many `&lt;hr/&gt;` lines in your document, but there is very likely only one `&lt;/body&gt;`.  See answer below.","body":"Instead of substituting <code>&lt;&#47;body&gt;</code> with <code>&lt;hr&#47;&gt;&lt;&#47;body&gt;</code>, and then substituting <code>&lt;hr&#47;&gt;</code> with your contents, you could skip a step and substitute <code>&lt;&#47;body&gt;</code> with <code>&lt;!-- footnotes --&gt;&lt;&#47;body&gt;</code>.  This is safer, as there could be many <code>&lt;hr&#47;&gt;</code> lines in your document, but there is very likely only one <code>&lt;&#47;body&gt;</code>.  See answer below."}],"answers":[{"comments":[{"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"score":0,"creation_date":1459351528,"post_id":36312974,"comment_id":60249689,"body_markdown":"The above code assumes `&lt;/body&gt;` appears at the start of a line.  You&#39;d need to do some additional work if that is not the case: splitting the line, substitutions (if any) and outputting first part, then outputting footnotes, then outputting remainder of line and following lines.","body":"The above code assumes <code>&lt;&#47;body&gt;</code> appears at the start of a line.  You&#39;d need to do some additional work if that is not the case: splitting the line, substitutions (if any) and outputting first part, then outputting footnotes, then outputting remainder of line and following lines."},{"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"score":0,"creation_date":1459351788,"post_id":36312974,"comment_id":60249915,"body_markdown":"You are genius my friend. Working Awesomeeeeeeeeeee. Thanks a ton.:)","body":"You are genius my friend. Working Awesomeeeeeeeeeee. Thanks a ton.:)"}],"tags":[],"owner":{"account_id":4542619,"reputation":8565,"user_id":3690024,"display_name":"AJNeufeld"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1459351334,"creation_date":1459350890,"answer_id":36312974,"question_id":36312317,"body_markdown":"I&#39;d modify your processing loop as follows:\r\n\r\n    while ((inputLine = in.readLine()) != null) {\r\n\r\n        // Stop translation when we reach end of document.\r\n        if (inputLine.contains(&quot;&lt;/body&gt;&quot;) {\r\n            break;\r\n        }\r\n \r\n        if (inputLine.contains(&quot;class=\\&quot;para\\&quot; id=\\&quot;&quot;)) {\r\n            // No changes in this block\r\n        }\r\n\r\n        bw.write(inputLine);\r\n        bw.newLine();\r\n    }\r\n\r\n    // Close temporary file\r\n    tempWriter.close();\r\n\r\n    // Open temporary file, and copy verbatim to output\r\n    BufferedReader temp_in = Files.newBufferedReader(temp.toPath());\r\n    String footnotes;\r\n    while ((footnotes = temp_in.readLine()) != null) {\r\n        bw.write(footnotes);\r\n        bw.newLine();\r\n    }\r\n    temp_in.close();\r\n\r\n    // Finish document\r\n    bw.write(inputLine);\r\n    bw.newLine();\r\n\r\n    while ((inputLine = in.readLine()) != null) {\r\n        bw.write(inputLine);\r\n        bw.newLine();\r\n    }\r\n\r\n    // ... and close all open files\r\n","title":"Replace a word in a file with a new file content","body":"<p>I'd modify your processing loop as follows:</p>\n\n<pre><code>while ((inputLine = in.readLine()) != null) {\n\n    // Stop translation when we reach end of document.\n    if (inputLine.contains(\"&lt;/body&gt;\") {\n        break;\n    }\n\n    if (inputLine.contains(\"class=\\\"para\\\" id=\\\"\")) {\n        // No changes in this block\n    }\n\n    bw.write(inputLine);\n    bw.newLine();\n}\n\n// Close temporary file\ntempWriter.close();\n\n// Open temporary file, and copy verbatim to output\nBufferedReader temp_in = Files.newBufferedReader(temp.toPath());\nString footnotes;\nwhile ((footnotes = temp_in.readLine()) != null) {\n    bw.write(footnotes);\n    bw.newLine();\n}\ntemp_in.close();\n\n// Finish document\nbw.write(inputLine);\nbw.newLine();\n\nwhile ((inputLine = in.readLine()) != null) {\n    bw.write(inputLine);\n    bw.newLine();\n}\n\n// ... and close all open files\n</code></pre>\n"}],"owner":{"account_id":1642326,"reputation":562,"user_id":1514543,"accept_rate":53,"display_name":"Rakesh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36312974,"answer_count":1,"score":0,"last_activity_date":1672839840,"creation_date":1459349181,"question_id":36312317,"body_markdown":"I&#39;m writing a code where in data in a file has to be replaced with another file content.\r\n\r\nI know how to use a string Replace() function. but the problem here is, I want to replace a string with a entirely new Data.\r\n\r\n I&#39;m able to append(in `private static void writeDataofFootnotes(File temp, File fout)`) the content, but unable to know how do I replace it.\r\n\r\nBelow is my code.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.Closeable;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileReader;\r\n    import java.io.FileWriter;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.URL;\r\n    \r\n    public class BottomContent {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \t\tString input = &quot;C:/Users/u0138039/Desktop/Proview/TEST/Test/src.html&quot;;\r\n    \t\tString fileName = input.substring(input.lastIndexOf(&quot;/&quot;) + 1);\r\n    \t\tURL url = new URL(&quot;file:///&quot; + input);\r\n    \t\tBufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\r\n    \t\tFile fout = new File(&quot;C:/Users/u0138039/Desktop/TEST/Test/OP/&quot; + fileName);\r\n    \t\tFile temp = new File(&quot;C:/Users/u0138039/Desktop/TEST/Test/OP/temp.txt&quot;);\r\n    \r\n    \t\tif (!fout.exists()) {\r\n    \t\t\tfout.createNewFile();\r\n    \t\t}\r\n    \t\tif (!temp.exists()) {\r\n    \t\t\ttemp.createNewFile();\r\n    \t\t}\r\n    \r\n    \t\tFileOutputStream fos = new FileOutputStream(fout);\r\n    \t\tFileOutputStream tempOs = new FileOutputStream(temp);\r\n    \t\tBufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos));\r\n    \t\tBufferedWriter tempWriter = new BufferedWriter(new OutputStreamWriter(tempOs));\r\n    \t\tString inputLine;\r\n    \t\tString footContent = null;\r\n    \t\tint i = 0;\r\n    \t\twhile ((inputLine = in.readLine()) != null) {\r\n    \r\n    \t\t\tif (inputLine.contains(&quot;class=\\&quot;para\\&quot; id=\\&quot;&quot;)) {\r\n    \t\t\t\tfootContent = inputLine.replaceAll(\r\n    \t\t\t\t\t\t&quot;&lt;p class=\\&quot;para\\&quot; id=\\&quot;(.*)_(.*)\\&quot; style=\\&quot;text-indent: (.*)%;\\&quot;&gt;&lt;a href=\\&quot;.*\\&quot;&gt;(.*)&lt;/a&gt;(.)(.*)&lt;/p&gt;&quot;,\r\n    \t\t\t\t\t\t&quot;&lt;div class=\\&quot;tr_footnote\\&quot;&gt;\\n&lt;div class=\\&quot;footnote\\&quot;&gt;\\n&lt;sup&gt;&lt;a name=\\&quot;ftn.$2\\&quot; href=\\&quot;#f$2\\&quot; class=\\&quot;tr_ftn\\&quot;&gt;$4&lt;/a&gt;&lt;/sup&gt;\\n&quot;\r\n    \t\t\t\t\t\t\t\t+ &quot;&lt;div class=\\&quot;para\\&quot;&gt;&quot; + &quot;$6&quot; + &quot;\\n&lt;/div&gt;\\n&lt;/div&gt;\\n&lt;/div&gt;&quot;);\r\n    \t\t\t\tinputLine = inputLine.replaceAll(\r\n    \t\t\t\t\t\t&quot;&lt;p class=\\&quot;para\\&quot; id=\\&quot;(.*)_(.*)\\&quot; style=\\&quot;text-indent: (.*)%;\\&quot;&gt;&lt;a href=\\&quot;.*\\&quot;&gt;(.*)&lt;/a&gt;(.)(.*)&lt;/p&gt;&quot;,\r\n    \t\t\t\t\t\t&quot;&quot;);\r\n    \t\t\t\ttempWriter.write(footContent);\r\n    \t\t\t\ttempWriter.newLine();\r\n    \t\t\t}\r\n    \t\t\tinputLine = inputLine.replace(&quot;&lt;/body&gt;&quot;, &quot;&lt;hr/&gt;&lt;/body&gt;&quot;);\r\n    \r\n    \t\t\tbw.write(inputLine);\r\n    \t\t\tbw.newLine();\r\n    \r\n    \t\t}\r\n    \r\n    \t\ttempWriter.close();\r\n    \t\tbw.close();\r\n    \t\tin.close();\r\n    \t\twriteDataofFootnotes(temp, fout);\r\n    \r\n    \t}\r\n    \r\n    \tprivate static void writeDataofFootnotes(File temp, File fout) throws IOException {\r\n    \r\n    \t\tFileReader fr = null;\r\n    \t\tFileWriter fw = null;\r\n    \t\ttry {\r\n    \t\t\tfr = new FileReader(temp);\r\n    \t\t\tfw = new FileWriter(fout, true);\r\n    \t\t\tint c = fr.read();\r\n    \t\t\twhile (c != -1) {\r\n    \t\t\t\tfw.write(c);\r\n    \t\t\t\tc = fr.read();\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally {\r\n    \t\t\tclose(fr);\r\n    \t\t\tclose(fw);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void close(Closeable stream) {\r\n    \t\ttry {\r\n    \t\t\tif (stream != null) {\r\n    \t\t\t\tstream.close();\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// ...\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\nHere I&#39;m searching for a particular string and saving it in a separate `txt` file. And once I&#39;m done with the job. I want to replace the `&lt;hr /&gt;` tag with the entire `txt` file data. \r\n\r\nHow can I achieve this?\r\n","title":"Replace a word in a file with a new file content","body":"<p>I'm writing a code where in data in a file has to be replaced with another file content.</p>\n<p>I know how to use a string Replace() function. but the problem here is, I want to replace a string with a entirely new Data.</p>\n<p>I'm able to append(in <code>private static void writeDataofFootnotes(File temp, File fout)</code>) the content, but unable to know how do I replace it.</p>\n<p>Below is my code.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.Closeable;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.URL;\n\npublic class BottomContent {\n\n    public static void main(String[] args) throws Exception {\n\n        String input = &quot;C:/Users/u0138039/Desktop/Proview/TEST/Test/src.html&quot;;\n        String fileName = input.substring(input.lastIndexOf(&quot;/&quot;) + 1);\n        URL url = new URL(&quot;file:///&quot; + input);\n        BufferedReader in = new BufferedReader(new InputStreamReader(url.openStream()));\n        File fout = new File(&quot;C:/Users/u0138039/Desktop/TEST/Test/OP/&quot; + fileName);\n        File temp = new File(&quot;C:/Users/u0138039/Desktop/TEST/Test/OP/temp.txt&quot;);\n\n        if (!fout.exists()) {\n            fout.createNewFile();\n        }\n        if (!temp.exists()) {\n            temp.createNewFile();\n        }\n\n        FileOutputStream fos = new FileOutputStream(fout);\n        FileOutputStream tempOs = new FileOutputStream(temp);\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(fos));\n        BufferedWriter tempWriter = new BufferedWriter(new OutputStreamWriter(tempOs));\n        String inputLine;\n        String footContent = null;\n        int i = 0;\n        while ((inputLine = in.readLine()) != null) {\n\n            if (inputLine.contains(&quot;class=\\&quot;para\\&quot; id=\\&quot;&quot;)) {\n                footContent = inputLine.replaceAll(\n                        &quot;&lt;p class=\\&quot;para\\&quot; id=\\&quot;(.*)_(.*)\\&quot; style=\\&quot;text-indent: (.*)%;\\&quot;&gt;&lt;a href=\\&quot;.*\\&quot;&gt;(.*)&lt;/a&gt;(.)(.*)&lt;/p&gt;&quot;,\n                        &quot;&lt;div class=\\&quot;tr_footnote\\&quot;&gt;\\n&lt;div class=\\&quot;footnote\\&quot;&gt;\\n&lt;sup&gt;&lt;a name=\\&quot;ftn.$2\\&quot; href=\\&quot;#f$2\\&quot; class=\\&quot;tr_ftn\\&quot;&gt;$4&lt;/a&gt;&lt;/sup&gt;\\n&quot;\n                                + &quot;&lt;div class=\\&quot;para\\&quot;&gt;&quot; + &quot;$6&quot; + &quot;\\n&lt;/div&gt;\\n&lt;/div&gt;\\n&lt;/div&gt;&quot;);\n                inputLine = inputLine.replaceAll(\n                        &quot;&lt;p class=\\&quot;para\\&quot; id=\\&quot;(.*)_(.*)\\&quot; style=\\&quot;text-indent: (.*)%;\\&quot;&gt;&lt;a href=\\&quot;.*\\&quot;&gt;(.*)&lt;/a&gt;(.)(.*)&lt;/p&gt;&quot;,\n                        &quot;&quot;);\n                tempWriter.write(footContent);\n                tempWriter.newLine();\n            }\n            inputLine = inputLine.replace(&quot;&lt;/body&gt;&quot;, &quot;&lt;hr/&gt;&lt;/body&gt;&quot;);\n\n            bw.write(inputLine);\n            bw.newLine();\n\n        }\n\n        tempWriter.close();\n        bw.close();\n        in.close();\n        writeDataofFootnotes(temp, fout);\n\n    }\n\n    private static void writeDataofFootnotes(File temp, File fout) throws IOException {\n\n        FileReader fr = null;\n        FileWriter fw = null;\n        try {\n            fr = new FileReader(temp);\n            fw = new FileWriter(fout, true);\n            int c = fr.read();\n            while (c != -1) {\n                fw.write(c);\n                c = fr.read();\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            close(fr);\n            close(fw);\n        }\n\n    }\n\n    public static void close(Closeable stream) {\n        try {\n            if (stream != null) {\n                stream.close();\n            }\n        } catch (IOException e) {\n            // ...\n        }\n    }\n}\n</code></pre>\n<p>Here I'm searching for a particular string and saving it in a separate <code>txt</code> file. And once I'm done with the job. I want to replace the <code>&lt;hr /&gt;</code> tag with the entire <code>txt</code> file data.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","unit-testing","junit","mocking","powermockito"],"answers":[{"comments":[{"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"score":0,"creation_date":1554813919,"post_id":55592435,"comment_id":97882816,"body_markdown":"did you put @PrepareForTest({MessageDigest.class} on the class level?","body":"did you put @PrepareForTest({MessageDigest.class} on the class level?"},{"owner":{"account_id":3607837,"reputation":881,"user_id":3009613,"accept_rate":60,"display_name":"John Bergqvist"},"score":0,"creation_date":1554814800,"post_id":55592435,"comment_id":97883465,"body_markdown":"Yes. No effect.","body":"Yes. No effect."}],"tags":[],"owner":{"account_id":2535057,"reputation":25855,"user_id":2202415,"display_name":"Maciej Kowalski"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1554811419,"creation_date":1554811419,"answer_id":55592435,"question_id":55592345,"body_markdown":"Invert the stubbing:\r\n\r\n    doThrow(new NoSuchAlgorithmException()).when(md5, &quot;getInstance&quot;, anyString())\r\n\r\nBy creating it the way you did, you call the actual method before it gets stubbed.","title":"Unable to use mocking to throw an exception - the thrown exception is not being caught","body":"<p>Invert the stubbing:</p>\n\n<pre><code>doThrow(new NoSuchAlgorithmException()).when(md5, \"getInstance\", anyString())\n</code></pre>\n\n<p>By creating it the way you did, you call the actual method before it gets stubbed.</p>\n"},{"comments":[{"owner":{"account_id":3607837,"reputation":881,"user_id":3009613,"accept_rate":60,"display_name":"John Bergqvist"},"score":0,"creation_date":1554814730,"post_id":55593301,"comment_id":97883406,"body_markdown":"I&#39;m doing this now but it&#39;s still happening:\n\n    @PrepareForTest({MessageDigest.class}) \n    @Test\n    public void testFunc() throws Exception {\n      PowerMockito.mockStatic(MessageDigest.class); \n      MessageDigest md5 = PowerMockito.mock(MessageDigest.class);\n      PowerMockito.doThrow(new NoSuchAlgorithmException()).when(md5, &quot;getInstance&quot;, anyString());\n      Assert.assertEquals(&quot;*&quot;, func(&quot;in&quot;));\n    }","body":"I&#39;m doing this now but it&#39;s still happening:      @PrepareForTest({MessageDigest.class})      @Test     public void testFunc() throws Exception {       PowerMockito.mockStatic(MessageDigest.class);        MessageDigest md5 = PowerMockito.mock(MessageDigest.class);       PowerMockito.doThrow(new NoSuchAlgorithmException()).when(md5, &quot;getInstance&quot;, anyString());       Assert.assertEquals(&quot;*&quot;, func(&quot;in&quot;));     }"},{"owner":{"account_id":5042851,"reputation":860,"user_id":5362469,"display_name":"Naya"},"score":0,"creation_date":1554814791,"post_id":55593301,"comment_id":97883455,"body_markdown":"@JohnBergqvist could you please provide updated code?","body":"@JohnBergqvist could you please provide updated code?"},{"owner":{"account_id":5042851,"reputation":860,"user_id":5362469,"display_name":"Naya"},"score":0,"creation_date":1554816063,"post_id":55593301,"comment_id":97884276,"body_markdown":"If you use PowerMockRunner then it should work. I&#39;ll update my answer soon with my results","body":"If you use PowerMockRunner then it should work. I&#39;ll update my answer soon with my results"},{"owner":{"account_id":5042851,"reputation":860,"user_id":5362469,"display_name":"Naya"},"score":0,"creation_date":1554816191,"post_id":55593301,"comment_id":97884359,"body_markdown":"@JohnBergqvist please check again","body":"@JohnBergqvist please check again"}],"tags":[],"owner":{"account_id":5042851,"reputation":860,"user_id":5362469,"display_name":"Naya"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554816173,"creation_date":1554814084,"answer_id":55593301,"question_id":55592345,"body_markdown":"As MessageDigest.getInstance() is a static method - you should prepare it for the test and use mockStatic().\r\n\r\nHere is a good example of it: \r\nhttps://examples.javacodegeeks.com/core-java/powermockito/powermock-mock-static-method-example/\r\n\r\nHope that will help\r\n\r\n\r\nHere is what i&#39;ve written: \r\n`````\r\n\r\n@RunWith(PowerMockRunner.class)\r\npublic class MyTest {\r\n\r\n    @Test\r\n    @PrepareForTest({MessageDigest.class})\r\n    public void testFunc() throws Exception {\r\n        mockStatic(MessageDigest.class);\r\n        when(MessageDigest.getInstance(anyString())).thenThrow(new NoSuchAlgorithmException());\r\n        assertEquals(&quot;*&quot;, func(&quot;in&quot;));\r\n    }\r\n\r\n    public static String func(String val) {\r\n        try {\r\n            MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            return Base64.encode(md5.digest(val.getBytes()));\r\n        } catch (NoSuchAlgorithmException toCatch) {\r\n            return &quot;*&quot;;\r\n        }\r\n    }\r\n}\r\n`````\r\n\r\nmy pom.xml\r\n\r\n````\r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n````","title":"Unable to use mocking to throw an exception - the thrown exception is not being caught","body":"<p>As MessageDigest.getInstance() is a static method - you should prepare it for the test and use mockStatic().</p>\n\n<p>Here is a good example of it: \n<a href=\"https://examples.javacodegeeks.com/core-java/powermockito/powermock-mock-static-method-example/\" rel=\"nofollow noreferrer\">https://examples.javacodegeeks.com/core-java/powermockito/powermock-mock-static-method-example/</a></p>\n\n<p>Hope that will help</p>\n\n<p>Here is what i've written: </p>\n\n<pre><code>\n@RunWith(PowerMockRunner.class)\npublic class MyTest {\n\n    @Test\n    @PrepareForTest({MessageDigest.class})\n    public void testFunc() throws Exception {\n        mockStatic(MessageDigest.class);\n        when(MessageDigest.getInstance(anyString())).thenThrow(new NoSuchAlgorithmException());\n        assertEquals(\"*\", func(\"in\"));\n    }\n\n    public static String func(String val) {\n        try {\n            MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n            return Base64.encode(md5.digest(val.getBytes()));\n        } catch (NoSuchAlgorithmException toCatch) {\n            return \"*\";\n        }\n    }\n}\n</code></pre>\n\n<p>my pom.xml</p>\n\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n            &lt;version&gt;1.7.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;1.7.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n            &lt;version&gt;1.7.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23783,"reputation":7527,"user_id":59869,"accept_rate":74,"display_name":"enkor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557332867,"creation_date":1557332032,"answer_id":56044960,"question_id":55592345,"body_markdown":"As `MessageDigest` is a Java system class, you need to deal with them differently as per: [https://github.com/powermock/powermock/wiki/Mock-System][1]\r\n\r\nSo declare the test class in the `@PrepareForTest` annotation as follows:\r\n`@PrepareForTest({MessageDigest.class, MyTest.class})`\r\n\r\nNot sure if this annotation works as method level as per your example, but it should at class level:\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({MessageDigest.class, MyTest.class})\r\n    public class MyTest {\r\n\r\n\r\n  [1]: https://github.com/powermock/powermock/wiki/Mock-System","title":"Unable to use mocking to throw an exception - the thrown exception is not being caught","body":"<p>As <code>MessageDigest</code> is a Java system class, you need to deal with them differently as per: <a href=\"https://github.com/powermock/powermock/wiki/Mock-System\" rel=\"nofollow noreferrer\">https://github.com/powermock/powermock/wiki/Mock-System</a></p>\n\n<p>So declare the test class in the <code>@PrepareForTest</code> annotation as follows:\n<code>@PrepareForTest({MessageDigest.class, MyTest.class})</code></p>\n\n<p>Not sure if this annotation works as method level as per your example, but it should at class level:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({MessageDigest.class, MyTest.class})\npublic class MyTest {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9726305,"reputation":68,"user_id":7213133,"display_name":"Berkay Bingol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672839695,"creation_date":1672839695,"answer_id":75006344,"question_id":55592345,"body_markdown":"Might be worth doing it like this as well, without using power mockito and other annotations \r\n\r\n\r\n      try (MockedStatic&lt;MessageDigest&gt; messageDigestMockedStatic = Mockito.mockStatic(MessageDigest.class)) {\r\n            messageDigestMockedStatic.when(() -&gt; MessageDigest.getInstance(anyString()))\r\n                .thenThrow(new NoSuchAlgorithmException());\r\n            String input = &quot;hello world&quot;;\r\n    \r\n            try {\r\n                 var digest = MessageDigest.getInstance(SHA_256_DIGEST_TYPE);\r\n            byte[] encodedHash = digest.digest(input.getBytes(StandardCharsets.UTF_8));\r\n            return bytesToHex(encodedHash);\r\n                fail(&quot;Expected IllegalArgumentException to be thrown, but got hash value: &quot; + hash);\r\n            } catch (IllegalArgumentException e) {\r\n                // Verify that the exception message contains the expected error message\r\n                assertTrue(e.getMessage().contains(&quot;Invalid hash digest algorithm&quot;));\r\n    \r\n                // Verify that the cause of the IllegalArgumentException is a NoSuchAlgorithmException\r\n                assertTrue(e.getCause() instanceof NoSuchAlgorithmException);\r\n            }\r\n        }","title":"Unable to use mocking to throw an exception - the thrown exception is not being caught","body":"<p>Might be worth doing it like this as well, without using power mockito and other annotations</p>\n<pre><code>  try (MockedStatic&lt;MessageDigest&gt; messageDigestMockedStatic = Mockito.mockStatic(MessageDigest.class)) {\n        messageDigestMockedStatic.when(() -&gt; MessageDigest.getInstance(anyString()))\n            .thenThrow(new NoSuchAlgorithmException());\n        String input = &quot;hello world&quot;;\n\n        try {\n             var digest = MessageDigest.getInstance(SHA_256_DIGEST_TYPE);\n        byte[] encodedHash = digest.digest(input.getBytes(StandardCharsets.UTF_8));\n        return bytesToHex(encodedHash);\n            fail(&quot;Expected IllegalArgumentException to be thrown, but got hash value: &quot; + hash);\n        } catch (IllegalArgumentException e) {\n            // Verify that the exception message contains the expected error message\n            assertTrue(e.getMessage().contains(&quot;Invalid hash digest algorithm&quot;));\n\n            // Verify that the cause of the IllegalArgumentException is a NoSuchAlgorithmException\n            assertTrue(e.getCause() instanceof NoSuchAlgorithmException);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3607837,"reputation":881,"user_id":3009613,"accept_rate":60,"display_name":"John Bergqvist"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1672839695,"creation_date":1554811113,"question_id":55592345,"body_markdown":"I have a method where I&#39;d like to mock an exception being thrown so that the catch statement is entered:\r\n\r\n    public static String func(String val) {\r\n      try {\r\n        MessageDigest md5 = MessageDigest.getInstance(&quot;MD5&quot;);\r\n        return Base64.encode(md5.digest(val.getBytes()));\r\n      } catch (NoSuchAlgorithmException toCatch) {\r\n          return &quot;*&quot;;\r\n      }\r\n    }\r\n\r\nThe test I&#39;ve written is this:\r\n\r\n    @Test\r\n    public void testFunc() throws Exception {\r\n      MessageDigest md5 = PowerMockito.mock(MessageDigest.class);\r\n      PowerMockito.when(md5.getInstance(anyString())).thenThrow(new NoSuchAlgorithmException());  \r\n      Assert.assertEquals(&quot;*&quot;, func(&quot;in&quot;));\r\n    }\r\n\r\nHowever i&#39;m getting: \r\n\r\n    java.security.NoSuchAlgorithmException:  MessageDigest not available\r\n\r\non the `PowerMockito.when()` line. Which implies the exception has been through, but not caught? What am I doing wrong?\r\n\r\nUpdate:\r\nI have tried the following modifications\r\n\r\n    @PrepareForTest({MessageDigest.class}) \r\n    @Test\r\n    public void testFunc() throws Exception {\r\n      PowerMockito.mockStatic(MessageDigest.class); \r\n      PowerMockito.when(MessageDigest.getInstance(anyString())).thenThrow(new NoSuchAlgorithmException());\r\n      Assert.assertEquals(&quot;*&quot;, testFunc(&quot;in&quot;));\r\n    }\r\nThis causes the function to run without triggering the exception.\r\n\r\nAnd this:\r\n\r\n    @PrepareForTest({MessageDigest.class})\r\n    @Test\r\n    public void testFunc() throws Exception { \r\n      PowerMockito.mockStatic(MessageDigest.class);\r\n      MessageDigest md5 = PowerMockito.mock(MessageDigest.class); \r\n      PowerMockito.doThrow(new NoSuchAlgorithmException()).when(md5, &quot;getInstance&quot;, anyString()); \r\n      Assert.assertEquals(&quot;*&quot;, func(&quot;in&quot;));\r\n    } \r\n\r\nStill doesn&#39;t invoke the catch statement, similar to what I was getting before.","title":"Unable to use mocking to throw an exception - the thrown exception is not being caught","body":"<p>I have a method where I'd like to mock an exception being thrown so that the catch statement is entered:</p>\n\n<pre><code>public static String func(String val) {\n  try {\n    MessageDigest md5 = MessageDigest.getInstance(\"MD5\");\n    return Base64.encode(md5.digest(val.getBytes()));\n  } catch (NoSuchAlgorithmException toCatch) {\n      return \"*\";\n  }\n}\n</code></pre>\n\n<p>The test I've written is this:</p>\n\n<pre><code>@Test\npublic void testFunc() throws Exception {\n  MessageDigest md5 = PowerMockito.mock(MessageDigest.class);\n  PowerMockito.when(md5.getInstance(anyString())).thenThrow(new NoSuchAlgorithmException());  \n  Assert.assertEquals(\"*\", func(\"in\"));\n}\n</code></pre>\n\n<p>However i'm getting: </p>\n\n<pre><code>java.security.NoSuchAlgorithmException:  MessageDigest not available\n</code></pre>\n\n<p>on the <code>PowerMockito.when()</code> line. Which implies the exception has been through, but not caught? What am I doing wrong?</p>\n\n<p>Update:\nI have tried the following modifications</p>\n\n<pre><code>@PrepareForTest({MessageDigest.class}) \n@Test\npublic void testFunc() throws Exception {\n  PowerMockito.mockStatic(MessageDigest.class); \n  PowerMockito.when(MessageDigest.getInstance(anyString())).thenThrow(new NoSuchAlgorithmException());\n  Assert.assertEquals(\"*\", testFunc(\"in\"));\n}\n</code></pre>\n\n<p>This causes the function to run without triggering the exception.</p>\n\n<p>And this:</p>\n\n<pre><code>@PrepareForTest({MessageDigest.class})\n@Test\npublic void testFunc() throws Exception { \n  PowerMockito.mockStatic(MessageDigest.class);\n  MessageDigest md5 = PowerMockito.mock(MessageDigest.class); \n  PowerMockito.doThrow(new NoSuchAlgorithmException()).when(md5, \"getInstance\", anyString()); \n  Assert.assertEquals(\"*\", func(\"in\"));\n} \n</code></pre>\n\n<p>Still doesn't invoke the catch statement, similar to what I was getting before.</p>\n"},{"tags":["java","jersey","classloader","hk2"],"comments":[{"owner":{"account_id":3683657,"reputation":2364,"user_id":3067964,"display_name":"jwells131313"},"score":0,"creation_date":1672764296,"post_id":74983448,"comment_id":132345783,"body_markdown":"This sounds like a classloading issue.  Are you using different classloaders?","body":"This sounds like a classloading issue.  Are you using different classloaders?"},{"owner":{"account_id":16311070,"reputation":144,"user_id":11779689,"display_name":"Haranath Boggarapu"},"score":0,"creation_date":1672828314,"post_id":74983448,"comment_id":132359316,"body_markdown":"@jwells131313 I&#39;m not explicitly using any class loaders actually.","body":"@jwells131313 I&#39;m not explicitly using any class loaders actually."},{"owner":{"account_id":16311070,"reputation":144,"user_id":11779689,"display_name":"Haranath Boggarapu"},"score":0,"creation_date":1672839535,"post_id":74983448,"comment_id":132362878,"body_markdown":"@jwells131313 Attached the code where it is failing. Do you think it&#39;s a class loader issue? Since provider is found when used caller&#39;s class loader and failing when calling next() method, I don&#39;t think its a class loader issue","body":"@jwells131313 Attached the code where it is failing. Do you think it&#39;s a class loader issue? Since provider is found when used caller&#39;s class loader and failing when calling next() method, I don&#39;t think its a class loader issue"},{"owner":{"account_id":16311070,"reputation":144,"user_id":11779689,"display_name":"Haranath Boggarapu"},"score":1,"creation_date":1674201856,"post_id":74983448,"comment_id":132667441,"body_markdown":"Got the issue. There is another jersey dependency in my project that causing the issue.\n \n&quot;com.qubole.qds-sdk-java:qds-sdk-java:0.6.1:aws-http-jackson-jersey-shaded&quot;","body":"Got the issue. There is another jersey dependency in my project that causing the issue.   &quot;com.qubole.qds-sdk-java:qds-sdk-java:0.6.1:aws-http-jackson&zwnj;&#8203;-jersey-shaded&quot;"}],"owner":{"account_id":16311070,"reputation":144,"user_id":11779689,"display_name":"Haranath Boggarapu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672839677,"creation_date":1672668768,"question_id":74983448,"body_markdown":"Getting below error \r\n```\r\nCaused by: java.lang.IllegalStateException: No generator was provided and there is no default generator registered\r\n```\r\nWhen I dig deep into the issue on debug mode, I realized that actual error is below one.\r\n```\r\nGetting org.glassfish.hk2.extension.ServiceLocatorGenerator: Provider org.jvnet.hk2.external.generator.ServiceLocatorGeneratorImpl not a subtype\r\n```\r\nIt was failing when invoking **providers.next()** in hk2-api lib\r\n\r\n```\r\nfinal ClassLoader classLoader = ServiceLocatorFactoryImpl.class.getClassLoader();\r\n      Iterator&lt;ServiceLocatorGenerator&gt; providers = java.util.ServiceLoader.load(ServiceLocatorGenerator.class,\r\n              classLoader).iterator();\r\n      while (providers.hasNext()) {\r\n          try {\r\n              return providers.next();\r\n          } catch (ServiceConfigurationError sce) {\r\n              // This can happen. See the exception javadoc for more details.\r\n              Logger.getLogger().debug(&quot;ServiceLocatorFactoryImpl&quot;, &quot;getGenerator&quot;, sce);\r\n                  // We will try the next one\r\n          }\r\n      }\r\n```\r\n\r\n1.  There is a interface ***ServiceLocatorGenerator*** present in kh2-api lib (org.glassfish.hk2:hk2-api:2.6.1). Error says that implementation ***ServiceLocatorGeneratorImpl*** present in hk2-locater lib (org.glassfish.hk2:hk2-locator:2.6.1) is not subtype even though it is a subtype.\r\n2.  Understood that an implementation class (concrete class) cannot be a subtype of interface if they are not loader by same class loader. Assuming this was the one causing the issue. \r\n\r\nCan someone help how to fix this issue in gralde? My env is not OSGi based.\r\n","title":"Getting org.glassfish.hk2.extension.ServiceLocatorGenerator: Provider org.jvnet.hk2.external.generator.ServiceLocatorGeneratorImpl not a subtype","body":"<p>Getting below error</p>\n<pre><code>Caused by: java.lang.IllegalStateException: No generator was provided and there is no default generator registered\n</code></pre>\n<p>When I dig deep into the issue on debug mode, I realized that actual error is below one.</p>\n<pre><code>Getting org.glassfish.hk2.extension.ServiceLocatorGenerator: Provider org.jvnet.hk2.external.generator.ServiceLocatorGeneratorImpl not a subtype\n</code></pre>\n<p>It was failing when invoking <strong>providers.next()</strong> in hk2-api lib</p>\n<pre><code>final ClassLoader classLoader = ServiceLocatorFactoryImpl.class.getClassLoader();\n      Iterator&lt;ServiceLocatorGenerator&gt; providers = java.util.ServiceLoader.load(ServiceLocatorGenerator.class,\n              classLoader).iterator();\n      while (providers.hasNext()) {\n          try {\n              return providers.next();\n          } catch (ServiceConfigurationError sce) {\n              // This can happen. See the exception javadoc for more details.\n              Logger.getLogger().debug(&quot;ServiceLocatorFactoryImpl&quot;, &quot;getGenerator&quot;, sce);\n                  // We will try the next one\n          }\n      }\n</code></pre>\n<ol>\n<li>There is a interface <em><strong>ServiceLocatorGenerator</strong></em> present in kh2-api lib (org.glassfish.hk2:hk2-api:2.6.1). Error says that implementation <em><strong>ServiceLocatorGeneratorImpl</strong></em> present in hk2-locater lib (org.glassfish.hk2:hk2-locator:2.6.1) is not subtype even though it is a subtype.</li>\n<li>Understood that an implementation class (concrete class) cannot be a subtype of interface if they are not loader by same class loader. Assuming this was the one causing the issue.</li>\n</ol>\n<p>Can someone help how to fix this issue in gralde? My env is not OSGi based.</p>\n"},{"tags":["java","servlets","https","web.xml","glassfish-4.1"],"owner":{"account_id":4874807,"reputation":189,"user_id":3930237,"display_name":"Flavian-Calinic Stuparu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672839586,"creation_date":1672751650,"question_id":74993860,"body_markdown":"We have a GlassFish 4.1 web-application with SSL and port unification configured in `domain.xml`.\r\n\r\nWe cannot use built-in authentication mechanisms like BASIC, FORM, CERT-CLIENT. Instead, we use a custom login form (using the Stripes framework - https://github.com/StripesFramework). \r\n\r\nWe want to redirect all http requests to https, but in IE11 it does not work as expected: the HTTP link is converted into an HTTPS link only on the first access in the browser. Then if the HTTP link is used again in the same browser page, it is no longer replaced with HTTPS.\r\n\r\nThe issue only appears in Internet Explorer (we&#39;re using version 11).\r\n\r\nWe have tried putting this code in `web.xml`, as specified in the docs ([https://docs.oracle.com/cd/E19226-01/820-7627/bncbk/index.html](https://docs.oracle.com/cd/E19226-01/820-7627/bncbk/index.html)):\r\n\r\n```\r\n&lt;security-constraint&gt;\r\n    &lt;display-name&gt;Require HTTPS&lt;/display-name&gt;\r\n    &lt;web-resource-collection&gt;\r\n        &lt;web-resource-name&gt;EntireApplication&lt;/web-resource-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;         \r\n    &lt;/web-resource-collection&gt;\r\n    &lt;user-data-constraint&gt;\r\n        &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n    &lt;/user-data-constraint&gt;\r\n&lt;/security-constraint&gt;\r\n```\r\n\r\nIt works as expected the first time an http link pointing to the app login page is accessed, that is the URL prefix correctly changes from http to https before the page is displayed: `http://webapp:8090/ctx_root/` to `https://webapp:8090/ctx_root/`.\r\n\r\nBut if afterwards I remove the **s** from the https prefix in the URL bar (only in IE11), and I press Enter, the `http://` prefix is no longer replaced with `https://` and the user gets a non-secure version of the login page, with some warnings in the Console: `&quot;HTTP security is compromised by http://webapp:8090/ctx_root/js/main.js&quot;`. However, if the SSL state is cleared in the browser before the second try, the page is again redirected to HTTPS accordingly.\r\n\r\nThis doesn&#39;t happen in Chrome, where each and every time the link changes correctly from http to https. \r\n\r\nThis is the content of `domain.xml`:\r\n\r\n```\r\n&lt;network-config&gt;\r\n  &lt;protocols&gt;\r\n    &lt;protocol name=&quot;http-listener-1&quot;&gt;\r\n      &lt;http encoded-slash-enabled=&quot;true&quot; default-virtual-server=&quot;server&quot;&gt;\r\n        &lt;file-cache&gt;&lt;/file-cache&gt;\r\n      &lt;/http&gt;\r\n    &lt;/protocol&gt;\r\n    &lt;protocol name=&quot;http-listener-2&quot; security-enabled=&quot;true&quot;&gt;\r\n      &lt;http encoded-slash-enabled=&quot;true&quot; default-virtual-server=&quot;server&quot;&gt;\r\n        &lt;file-cache&gt;&lt;/file-cache&gt;\r\n      &lt;/http&gt;\r\n      &lt;ssl ssl3-enabled=&quot;false&quot; classname=&quot;com.sun.enterprise.security.ssl.GlassfishSSLImpl&quot; cert-nickname=&quot;mycert&quot;&gt;&lt;/ssl&gt;\r\n    &lt;/protocol&gt;\r\n    ....\r\n    &lt;protocol name=&quot;http-redirect&quot;&gt;\r\n      &lt;http-redirect secure=&quot;true&quot;&gt;&lt;/http-redirect&gt;\r\n    &lt;/protocol&gt;\r\n    &lt;protocol name=&quot;pu-protocol-http&quot;&gt;\r\n      &lt;port-unification&gt;\r\n        &lt;protocol-finder protocol=&quot;http-listener-2&quot; classname=&quot;org.glassfish.grizzly.config.portunif.HttpProtocolFinder&quot; name=&quot;http-finder&quot;&gt;&lt;/protocol-finder&gt;\r\n        &lt;protocol-finder protocol=&quot;http-redirect&quot; classname=&quot;org.glassfish.grizzly.config.portunif.HttpProtocolFinder&quot; name=&quot;http-redirect&quot;&gt;&lt;/protocol-finder&gt;\r\n      &lt;/port-unification&gt;\r\n    &lt;/protocol&gt;\r\n  &lt;/protocols&gt;\r\n  &lt;network-listeners&gt;\r\n    &lt;network-listener protocol=&quot;pu-protocol-admin&quot; port=&quot;4848&quot; name=&quot;admin-listener&quot; thread-pool=&quot;admin-thread-pool&quot; transport=&quot;tcp&quot;&gt;&lt;/network-listener&gt;\r\n    &lt;network-listener protocol=&quot;pu-protocol-http&quot; port=&quot;8090&quot; name=&quot;http-listener-1&quot; thread-pool=&quot;http-thread-pool&quot; transport=&quot;tcp&quot;&gt;&lt;/network-listener&gt;\r\n  &lt;/network-listeners&gt;\r\n  &lt;transports&gt;\r\n    &lt;transport name=&quot;tcp&quot;&gt;&lt;/transport&gt;\r\n  &lt;/transports&gt;\r\n&lt;/network-config&gt;\r\n```\r\n\r\nAny idea why HTTP to HTTPS redirection works only the first time the http link is accessed? Could it be an IE11 or firewall issue?","title":"In a GlassFish web application, HTTP to HTTPS redirection works only the first time the http link is accessed in Internet Explorer","body":"<p>We have a GlassFish 4.1 web-application with SSL and port unification configured in <code>domain.xml</code>.</p>\n<p>We cannot use built-in authentication mechanisms like BASIC, FORM, CERT-CLIENT. Instead, we use a custom login form (using the Stripes framework - <a href=\"https://github.com/StripesFramework\" rel=\"nofollow noreferrer\">https://github.com/StripesFramework</a>).</p>\n<p>We want to redirect all http requests to https, but in IE11 it does not work as expected: the HTTP link is converted into an HTTPS link only on the first access in the browser. Then if the HTTP link is used again in the same browser page, it is no longer replaced with HTTPS.</p>\n<p>The issue only appears in Internet Explorer (we're using version 11).</p>\n<p>We have tried putting this code in <code>web.xml</code>, as specified in the docs (<a href=\"https://docs.oracle.com/cd/E19226-01/820-7627/bncbk/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19226-01/820-7627/bncbk/index.html</a>):</p>\n<pre><code>&lt;security-constraint&gt;\n    &lt;display-name&gt;Require HTTPS&lt;/display-name&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;EntireApplication&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;         \n    &lt;/web-resource-collection&gt;\n    &lt;user-data-constraint&gt;\n        &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n    &lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n<p>It works as expected the first time an http link pointing to the app login page is accessed, that is the URL prefix correctly changes from http to https before the page is displayed: <code>http://webapp:8090/ctx_root/</code> to <code>https://webapp:8090/ctx_root/</code>.</p>\n<p>But if afterwards I remove the <strong>s</strong> from the https prefix in the URL bar (only in IE11), and I press Enter, the <code>http://</code> prefix is no longer replaced with <code>https://</code> and the user gets a non-secure version of the login page, with some warnings in the Console: <code>&quot;HTTP security is compromised by http://webapp:8090/ctx_root/js/main.js&quot;</code>. However, if the SSL state is cleared in the browser before the second try, the page is again redirected to HTTPS accordingly.</p>\n<p>This doesn't happen in Chrome, where each and every time the link changes correctly from http to https.</p>\n<p>This is the content of <code>domain.xml</code>:</p>\n<pre><code>&lt;network-config&gt;\n  &lt;protocols&gt;\n    &lt;protocol name=&quot;http-listener-1&quot;&gt;\n      &lt;http encoded-slash-enabled=&quot;true&quot; default-virtual-server=&quot;server&quot;&gt;\n        &lt;file-cache&gt;&lt;/file-cache&gt;\n      &lt;/http&gt;\n    &lt;/protocol&gt;\n    &lt;protocol name=&quot;http-listener-2&quot; security-enabled=&quot;true&quot;&gt;\n      &lt;http encoded-slash-enabled=&quot;true&quot; default-virtual-server=&quot;server&quot;&gt;\n        &lt;file-cache&gt;&lt;/file-cache&gt;\n      &lt;/http&gt;\n      &lt;ssl ssl3-enabled=&quot;false&quot; classname=&quot;com.sun.enterprise.security.ssl.GlassfishSSLImpl&quot; cert-nickname=&quot;mycert&quot;&gt;&lt;/ssl&gt;\n    &lt;/protocol&gt;\n    ....\n    &lt;protocol name=&quot;http-redirect&quot;&gt;\n      &lt;http-redirect secure=&quot;true&quot;&gt;&lt;/http-redirect&gt;\n    &lt;/protocol&gt;\n    &lt;protocol name=&quot;pu-protocol-http&quot;&gt;\n      &lt;port-unification&gt;\n        &lt;protocol-finder protocol=&quot;http-listener-2&quot; classname=&quot;org.glassfish.grizzly.config.portunif.HttpProtocolFinder&quot; name=&quot;http-finder&quot;&gt;&lt;/protocol-finder&gt;\n        &lt;protocol-finder protocol=&quot;http-redirect&quot; classname=&quot;org.glassfish.grizzly.config.portunif.HttpProtocolFinder&quot; name=&quot;http-redirect&quot;&gt;&lt;/protocol-finder&gt;\n      &lt;/port-unification&gt;\n    &lt;/protocol&gt;\n  &lt;/protocols&gt;\n  &lt;network-listeners&gt;\n    &lt;network-listener protocol=&quot;pu-protocol-admin&quot; port=&quot;4848&quot; name=&quot;admin-listener&quot; thread-pool=&quot;admin-thread-pool&quot; transport=&quot;tcp&quot;&gt;&lt;/network-listener&gt;\n    &lt;network-listener protocol=&quot;pu-protocol-http&quot; port=&quot;8090&quot; name=&quot;http-listener-1&quot; thread-pool=&quot;http-thread-pool&quot; transport=&quot;tcp&quot;&gt;&lt;/network-listener&gt;\n  &lt;/network-listeners&gt;\n  &lt;transports&gt;\n    &lt;transport name=&quot;tcp&quot;&gt;&lt;/transport&gt;\n  &lt;/transports&gt;\n&lt;/network-config&gt;\n</code></pre>\n<p>Any idea why HTTP to HTTPS redirection works only the first time the http link is accessed? Could it be an IE11 or firewall issue?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1672831644,"post_id":75004717,"comment_id":132360274,"body_markdown":"Your own `Timer` class is shadowing `java.util.Timer`. Change the name of your class.","body":"Your own <code>Timer</code> class is shadowing <code>java.util.Timer</code>. Change the name of your class."}],"answers":[{"tags":[],"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672839308,"creation_date":1672839308,"answer_id":75006268,"question_id":75004717,"body_markdown":"I suspect you are trying to use the util.Timer here with its predefined methods. However, you also name your own class Timer. The problem here is that you have the same name for two different things.\r\n\r\nThe compiler will first recognize your own classes before it searches through the util package. Therefore, the timer that you made is an object of your selfmade type Timer. This means that it also searches for methods in your class, where obviously no methods are defined.\r\n\r\nA good practice to prevent these types of errors, is to use classes only to make objects. Personally, I always make a Main class that holds the public static void main, which is currently in your Timer class.  There, you would also add the line `public static Timer timer = new Timer(); `. \r\nThus, I only make classes with other names than &#39;Main&#39; for objects and they always have a constructor, even if I only use the default version.","title":"The method schedule()/ cancel() is undefined for a type Timer","body":"<p>I suspect you are trying to use the util.Timer here with its predefined methods. However, you also name your own class Timer. The problem here is that you have the same name for two different things.</p>\n<p>The compiler will first recognize your own classes before it searches through the util package. Therefore, the timer that you made is an object of your selfmade type Timer. This means that it also searches for methods in your class, where obviously no methods are defined.</p>\n<p>A good practice to prevent these types of errors, is to use classes only to make objects. Personally, I always make a Main class that holds the public static void main, which is currently in your Timer class.  There, you would also add the line <code>public static Timer timer = new Timer(); </code>.\nThus, I only make classes with other names than 'Main' for objects and they always have a constructor, even if I only use the default version.</p>\n"}],"owner":{"account_id":27429918,"reputation":21,"user_id":20926790,"display_name":"Tim Matthew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75006268,"answer_count":1,"score":0,"last_activity_date":1672839308,"creation_date":1672831483,"question_id":75004717,"body_markdown":"I tried to use `Timer` class, when I use `schedule()` and `cancel()` methods, 2 errors appear that methods are undefined for a type `Timer`. What can be the reason of it? \r\n\r\n    import java.util.*;\r\n    public class Timer{\r\n        public static Timer timer = new Timer();  \r\n        public static void main(String[] args){\r\n            TimerTask task = new TimerTask() {  \r\n            \r\n                @Override  \r\n                public void run(){  \r\n                    System.out.println(&quot;Task is on&quot;);  \r\n                    timer.cancel();\r\n                };  \r\n            };\r\n            long delay = 1000;\r\n            timer.schedule(task,delay);\r\n    \r\n    }","title":"The method schedule()/ cancel() is undefined for a type Timer","body":"<p>I tried to use <code>Timer</code> class, when I use <code>schedule()</code> and <code>cancel()</code> methods, 2 errors appear that methods are undefined for a type <code>Timer</code>. What can be the reason of it?</p>\n<pre><code>import java.util.*;\npublic class Timer{\n    public static Timer timer = new Timer();  \n    public static void main(String[] args){\n        TimerTask task = new TimerTask() {  \n        \n            @Override  \n            public void run(){  \n                System.out.println(&quot;Task is on&quot;);  \n                timer.cancel();\n            };  \n        };\n        long delay = 1000;\n        timer.schedule(task,delay);\n\n}\n</code></pre>\n"},{"tags":["java","swing","paintcomponent"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1672625556,"post_id":74978470,"comment_id":132315137,"body_markdown":"`setBackground(new Color(222, 228, 128, 0));` &lt;- This is why.  Swing does not support alpha based background colors, use `setOpaque` instead ... wow, second one to do this today","body":"<code>setBackground(new Color(222, 228, 128, 0));</code> &lt;- This is why.  Swing does not support alpha based background colors, use <code>setOpaque</code> instead ... wow, second one to do this today"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1672625623,"post_id":74978470,"comment_id":132315149,"body_markdown":"We should also discuss how Swing is not thread safe and that you should not be modifying the any state the UI relies on from outside the context of the Event Dispatching Thread.  You should consider making use of a Swing [`Timer`](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html) instead of a `Thread` as you main game loop","body":"We should also discuss how Swing is not thread safe and that you should not be modifying the any state the UI relies on from outside the context of the Event Dispatching Thread.  You should consider making use of a Swing <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\"><code>Timer</code></a> instead of a <code>Thread</code> as you main game loop"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":3,"creation_date":1672625687,"post_id":74978470,"comment_id":132315159,"body_markdown":"And [Key bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead of `KeyListener`","body":"And <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key bindings</a> instead of <code>KeyListener</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1672840542,"post_id":74978470,"comment_id":132363281,"body_markdown":"Examples  of the above suggestions from @MadProgrammer are shown in numerous examples on this site. You can search using `[Swing]` and/or `[Graphics]` tags.  Also check out the [Java Tutorials](http://docs.oracle.com/javase/tutorial/index.html) for more information.","body":"Examples  of the above suggestions from @MadProgrammer are shown in numerous examples on this site. You can search using <code>[Swing]</code> and/or <code>[Graphics]</code> tags.  Also check out the <a href=\"http://docs.oracle.com/javase/tutorial/index.html\" rel=\"nofollow noreferrer\">Java Tutorials</a> for more information."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1672843015,"post_id":74978470,"comment_id":132364229,"body_markdown":"Don&#39;t dispose of the supplied graphics context .  It&#39;s the same reference whether you cast or not.  If you want to dispose, then use `Graphics2D g2 = (Graphics2D) g.create();`","body":"Don&#39;t dispose of the supplied graphics context .  It&#39;s the same reference whether you cast or not.  If you want to dispose, then use <code>Graphics2D g2 = (Graphics2D) g.create();</code>"}],"owner":{"account_id":20914209,"reputation":21,"user_id":15364314,"display_name":"Hemsho"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672839268,"creation_date":1672624074,"question_id":74978470,"body_markdown":"Im trying to make a rectangle move on certain Input. Although the Input works, the rectangle is not being redrawn in the way I want it to. The former rectangles are not being erased.\r\n\r\n`\r\n```\r\npublic class MiniGame_Panel extends JPanel implements Runnable{\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tThread gameThread;\r\n\tpublic KeyHandler2 keyH = new KeyHandler2();\r\n\tpublic MGPlayer spieler = new MGPlayer(keyH, this);\r\n\t\r\n\tpublic MiniGame_Panel() {\r\n\t\tsetBackground(new Color(222, 228, 128, 0));\r\n\t\tsetBounds(0, 0, 16*16*3 + 300 + 3, 16*13*3);\r\n\t\tsetVisible(true);\r\n\t\tsetFocusable(true);\r\n\t\trequestFocus(); \r\n\t\t\r\n\t\tthis.addKeyListener(keyH);\r\n\t}\r\n\r\n\tpublic void startGameThread() {\r\n\t\tgameThread = new Thread((Runnable) this);\r\n\t\tgameThread.start();\r\n\t}\r\n\r\n\tpublic void run() {\r\n\t\tdouble drawInterval = 1000000000/60;\r\n\t\tdouble delta = 0;\r\n\t\tlong lastTime = System.nanoTime();\r\n\t\tlong currentTime; \r\n\t\t\r\n\t\t// GAME LOOP\r\n\t\twhile(gameThread != null) {\r\n\t\t\tcurrentTime = System.nanoTime();\r\n\t\t\tdelta += (currentTime - lastTime) / drawInterval;\r\n\t\t\tlastTime = currentTime;\r\n\t\t\t\r\n\t\t\tif(delta &gt;= 1) {\r\n\t\t\t\tupdate();\r\n\t\t\t\trepaint();\r\n\t\t\t\tdelta--;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void update() {\r\n\t\tspieler.update();\r\n\t}\r\n\t\r\n\t\r\n\tpublic void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tGraphics2D g2 = (Graphics2D)g;\r\n\t\t\r\n\t\tspieler.draw(g2);\r\n\t\t\r\n\t\tg2.dispose();\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class MGPlayer {\r\n\r\n\tprivate int x, y;\r\n\tprivate Rectangle rect;\r\n\tprivate int width, height;\r\n\tprivate int leben;\r\n\tprivate KeyHandler2 keyH;\r\n\tprivate MiniGame_Panel mGp;\r\n\t\r\n\tpublic MGPlayer(KeyHandler2 keyH, MiniGame_Panel miniGame_Panel) {\r\n\t\tx = 10;\r\n\t\ty = 100;\r\n\t\twidth = 50;\r\n\t\theight = 100;\r\n\t\tleben = 3;\r\n\t\tthis.keyH = keyH;\r\n\t\tthis.mGp = miniGame_Panel;\r\n\t}\r\n\t\r\n\tboolean allowJump;\r\n\tpublic void update() {\r\n\t\tif(keyH.stats) {\r\n\t\t\tif(!allowJump) {\r\n\t\t\t\tthis.y -= 8;\r\n\t\t\t}\r\n\t\t\t//System.out.println(&quot;Leertaste&quot;);\r\n\t\t}\r\n\t\tif(keyH.left == true) {\r\n\t\t\tthis.x--;\r\n\t\t\t//System.out.println(&quot;links&quot;);\r\n\t\t}\r\n\t\tif(keyH.right == true) {\r\n\t\t\tthis.x++;\r\n\t\t\t//System.out.println(&quot;rechts&quot;);\r\n\t\t\t}\r\n\t\t\r\n\t\tif(y &lt;= 200) {\r\n\t\t\tthis.y++;\r\n\t\t\tallowJump = true;\r\n\t\t}else {\r\n\t\t\tallowJump = false;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\tpublic void draw(Graphics2D g2) {\r\n\t\tg2.setColor(Color.BLACK);\r\n\t\tg2.fillRect(x, y, width, height);\r\n\t}\r\n\t\r\n}\r\n```\r\n[![enter image description here](https://i.stack.imgur.com/9HwXw.png)](https://i.stack.imgur.com/9HwXw.png)\r\n`\r\n\r\nI just want to draw a rectangle that moves on certain input. This works but instead of redrawing the rectangle, they all stay in the panel.","title":"Why does paintComponent not erase past Objects?","body":"<p>Im trying to make a rectangle move on certain Input. Although the Input works, the rectangle is not being redrawn in the way I want it to. The former rectangles are not being erased.</p>\n<p>`</p>\n<pre><code>public class MiniGame_Panel extends JPanel implements Runnable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    Thread gameThread;\n    public KeyHandler2 keyH = new KeyHandler2();\n    public MGPlayer spieler = new MGPlayer(keyH, this);\n    \n    public MiniGame_Panel() {\n        setBackground(new Color(222, 228, 128, 0));\n        setBounds(0, 0, 16*16*3 + 300 + 3, 16*13*3);\n        setVisible(true);\n        setFocusable(true);\n        requestFocus(); \n        \n        this.addKeyListener(keyH);\n    }\n\n    public void startGameThread() {\n        gameThread = new Thread((Runnable) this);\n        gameThread.start();\n    }\n\n    public void run() {\n        double drawInterval = 1000000000/60;\n        double delta = 0;\n        long lastTime = System.nanoTime();\n        long currentTime; \n        \n        // GAME LOOP\n        while(gameThread != null) {\n            currentTime = System.nanoTime();\n            delta += (currentTime - lastTime) / drawInterval;\n            lastTime = currentTime;\n            \n            if(delta &gt;= 1) {\n                update();\n                repaint();\n                delta--;\n            }\n        }\n    }\n    \n    public void update() {\n        spieler.update();\n    }\n    \n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        Graphics2D g2 = (Graphics2D)g;\n        \n        spieler.draw(g2);\n        \n        g2.dispose();\n    }\n\n}\n</code></pre>\n<pre><code>public class MGPlayer {\n\n    private int x, y;\n    private Rectangle rect;\n    private int width, height;\n    private int leben;\n    private KeyHandler2 keyH;\n    private MiniGame_Panel mGp;\n    \n    public MGPlayer(KeyHandler2 keyH, MiniGame_Panel miniGame_Panel) {\n        x = 10;\n        y = 100;\n        width = 50;\n        height = 100;\n        leben = 3;\n        this.keyH = keyH;\n        this.mGp = miniGame_Panel;\n    }\n    \n    boolean allowJump;\n    public void update() {\n        if(keyH.stats) {\n            if(!allowJump) {\n                this.y -= 8;\n            }\n            //System.out.println(&quot;Leertaste&quot;);\n        }\n        if(keyH.left == true) {\n            this.x--;\n            //System.out.println(&quot;links&quot;);\n        }\n        if(keyH.right == true) {\n            this.x++;\n            //System.out.println(&quot;rechts&quot;);\n            }\n        \n        if(y &lt;= 200) {\n            this.y++;\n            allowJump = true;\n        }else {\n            allowJump = false;\n        }\n        \n    }\n    public void draw(Graphics2D g2) {\n        g2.setColor(Color.BLACK);\n        g2.fillRect(x, y, width, height);\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9HwXw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HwXw.png\" alt=\"enter image description here\" /></a>\n`</p>\n<p>I just want to draw a rectangle that moves on certain input. This works but instead of redrawing the rectangle, they all stay in the panel.</p>\n"},{"tags":["java","methods","file-handling"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1672839332,"post_id":75006167,"comment_id":132362789,"body_markdown":"You don&#39;t &#39;hold files open&#39; in Java, so just open the file again in the other method","body":"You don&#39;t &#39;hold files open&#39; in Java, so just open the file again in the other method"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672862276,"post_id":75006167,"comment_id":132371048,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672847609,"post_id":75006216,"comment_id":132366098,"body_markdown":"The question itself is unclear we should ask more details about such question before answering.","body":"The question itself is unclear we should ask more details about such question before answering."}],"tags":[],"owner":{"account_id":15563040,"reputation":21,"user_id":11227667,"display_name":"Loremo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672839076,"creation_date":1672839076,"answer_id":75006216,"question_id":75006167,"body_markdown":"You can store this file in a variable, which will be accessible for both methods. \r\n\r\nOr, if the file producing method returns this file as a result, you can call this method inside the another method","title":"Accessing file in method that is created in another method in java","body":"<p>You can store this file in a variable, which will be accessible for both methods.</p>\n<p>Or, if the file producing method returns this file as a result, you can call this method inside the another method</p>\n"}],"owner":{"account_id":25535515,"reputation":1,"user_id":19322661,"display_name":"Haneen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672839076,"creation_date":1672838834,"question_id":75006167,"body_markdown":"I&#39;m beginner and new to java. I  am making a java project. And I&#39;m using file handling in it. I want to ask a question that if I have created a certain file in one method, can I access that file and its content in another method? If yes then how?Thanks in advance!\r\n\r\nI an trying to do this. But don&#39;t know what is correct way to do it. ","title":"Accessing file in method that is created in another method in java","body":"<p>I'm beginner and new to java. I  am making a java project. And I'm using file handling in it. I want to ask a question that if I have created a certain file in one method, can I access that file and its content in another method? If yes then how?Thanks in advance!</p>\n<p>I an trying to do this. But don't know what is correct way to do it.</p>\n"},{"tags":["java","arrays","exception","indexoutofboundsexception"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":9,"creation_date":1399209701,"post_id":23456742,"comment_id":35958143,"body_markdown":"Are you passing command line arguments ie value for `args[0]` and `args[1]`?","body":"Are you passing command line arguments ie value for <code>args[0]</code> and <code>args[1]</code>?"},{"owner":{"account_id":3044638,"reputation":1627,"user_id":2580649,"display_name":"PakkuDon"},"score":0,"creation_date":1399209807,"post_id":23456742,"comment_id":35958165,"body_markdown":"Read [Eclipse : how we take arguments for main when run](http://stackoverflow.com/questions/12222153/eclipse-how-we-take-arguments-for-main-when-run)","body":"Read <a href=\"http://stackoverflow.com/questions/12222153/eclipse-how-we-take-arguments-for-main-when-run\">Eclipse : how we take arguments for main when run</a>"},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1399211939,"post_id":23456742,"comment_id":35958880,"body_markdown":"For any &quot;real&quot; Java application (not a testcase or toy) you should check args.length before you access individual args values.","body":"For any &quot;real&quot; Java application (not a testcase or toy) you should check args.length before you access individual args values."},{"owner":{"account_id":416592,"reputation":4446,"user_id":792066,"accept_rate":73,"display_name":"Braiam"},"score":1,"creation_date":1413797057,"post_id":23456742,"comment_id":41563326,"body_markdown":"possible duplicate of [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](http://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535786236,"creation_date":1399209819,"answer_id":23456768,"question_id":23456742,"body_markdown":"This code expects to get two arguments when it&#39;s run (the `args` array).\r\nThe fact that accessing `args[0]` causes a `java.lang.ArrayIndexOutOfBoundsException` means you aren&#39;t passing any.","title":"java.lang.ArrayIndexOutOfBoundsException: 0","body":"<p>This code expects to get two arguments when it's run (the <code>args</code> array).\nThe fact that accessing <code>args[0]</code> causes a <code>java.lang.ArrayIndexOutOfBoundsException</code> means you aren't passing any.</p>\n"},{"tags":[],"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1672838862,"creation_date":1399209822,"answer_id":23456770,"question_id":23456742,"body_markdown":"## Problem\r\n\r\nThis `ArrayIndexOutOfBoundsException: 0` means that the index `0` is not a valid index for your array `args[]`, which in turn means that your array is empty.\r\n\r\nIn this particular case of a `main()` method, it means that **no argument was passed** on to your program on the command line.\r\n\r\n## Possible solutions\r\n\r\n- If you&#39;re running your program from the command line, don&#39;t forget to pass 2 arguments in the command (2, because you&#39;re accessing `args[0]` and `args[1]`)\r\n\r\n- If you&#39;re running your program in Eclipse, you should set the command line arguments in the run configuration. Go to `Run &gt; Run configurations...` and then choose the `Arguments` tab for your run configuration and add some arguments in the *program arguments* area.\r\n\r\nNote that **you should handle the case where not enough arguments are given**, with something like this at the beginning of your main method:\r\n\r\n    if (args.length &lt; 2) {\r\n        System.err.println(&quot;Not enough arguments received.&quot;);\r\n        return;\r\n    }\r\n\r\nThis would fail gracefully instead of making your program crash.","title":"java.lang.ArrayIndexOutOfBoundsException: 0","body":"<h2>Problem</h2>\n<p>This <code>ArrayIndexOutOfBoundsException: 0</code> means that the index <code>0</code> is not a valid index for your array <code>args[]</code>, which in turn means that your array is empty.</p>\n<p>In this particular case of a <code>main()</code> method, it means that <strong>no argument was passed</strong> on to your program on the command line.</p>\n<h2>Possible solutions</h2>\n<ul>\n<li><p>If you're running your program from the command line, don't forget to pass 2 arguments in the command (2, because you're accessing <code>args[0]</code> and <code>args[1]</code>)</p>\n</li>\n<li><p>If you're running your program in Eclipse, you should set the command line arguments in the run configuration. Go to <code>Run &gt; Run configurations...</code> and then choose the <code>Arguments</code> tab for your run configuration and add some arguments in the <em>program arguments</em> area.</p>\n</li>\n</ul>\n<p>Note that <strong>you should handle the case where not enough arguments are given</strong>, with something like this at the beginning of your main method:</p>\n<pre><code>if (args.length &lt; 2) {\n    System.err.println(&quot;Not enough arguments received.&quot;);\n    return;\n}\n</code></pre>\n<p>This would fail gracefully instead of making your program crash.</p>\n"}],"owner":{"account_id":4421633,"reputation":89,"user_id":3601385,"display_name":"pg2014"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76778,"favorite_count":0,"down_vote_count":2,"up_vote_count":9,"accepted_answer_id":23456770,"answer_count":2,"score":7,"last_activity_date":1672838862,"creation_date":1399209658,"question_id":23456742,"body_markdown":"I am learning java using a book. There is this exercise that I can&#39;t get to work properly. It adds two doubles using the java class Double. When I try to run this code in Eclipse it gives me the error in the title.\r\n\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tDouble d1 = Double.valueOf(args[0]);\r\n\t\tDouble d2 = Double.valueOf(args[1]);\r\n\t\tdouble result = d1.doubleValue() + d2.doubleValue();\r\n\t\tSystem.out.println(args[0] + &quot;+&quot; + args[1] + &quot;=&quot; + result);\r\n\t\t\r\n\t}","title":"java.lang.ArrayIndexOutOfBoundsException: 0","body":"<p>I am learning java using a book. There is this exercise that I can't get to work properly. It adds two doubles using the java class Double. When I try to run this code in Eclipse it gives me the error in the title.</p>\n\n<pre><code>public static void main(String[] args) {\n\n    Double d1 = Double.valueOf(args[0]);\n    Double d2 = Double.valueOf(args[1]);\n    double result = d1.doubleValue() + d2.doubleValue();\n    System.out.println(args[0] + \"+\" + args[1] + \"=\" + result);\n\n}\n</code></pre>\n"},{"tags":["java","javafx","gluon","gluon-mobile","gluonfx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1672849482,"post_id":75005990,"comment_id":132366766,"body_markdown":"I&#39;m not familiar with gluon mobile or gluon fx, but your `CommentsPresenter` and `ProfilePresenter` look like controller classes associated with FXML files. The `@FXML` annotation means the field will be initialized *in the controller object created by the `FXMLLoader`* when the corresponding FXML file is loaded. In your code you just do `ProfilePresenter profilePresenter = new ProfilePresenter();`, and then call `initData()` on that object you created. Why would you expect `as` to be non-null in `profilePresenter`?","body":"I&#39;m not familiar with gluon mobile or gluon fx, but your <code>CommentsPresenter</code> and <code>ProfilePresenter</code> look like controller classes associated with FXML files. The <code>@FXML</code> annotation means the field will be initialized <i>in the controller object created by the <code>FXMLLoader</code></i> when the corresponding FXML file is loaded. In your code you just do <code>ProfilePresenter profilePresenter = new ProfilePresenter();</code>, and then call <code>initData()</code> on that object you created. Why would you expect <code>as</code> to be non-null in <code>profilePresenter</code>?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":2,"creation_date":1672851844,"post_id":75005990,"comment_id":132367657,"body_markdown":"You are using `awt` imports in the `ProfilePresenter`.","body":"You are using <code>awt</code> imports in the <code>ProfilePresenter</code>."}],"owner":{"account_id":27430972,"reputation":9,"user_id":20927684,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1672892315,"answer_count":0,"score":0,"last_activity_date":1672838231,"creation_date":1672838037,"question_id":75005990,"body_markdown":"Error All\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Label.setText(String)&quot; because &quot;this.as&quot; is null\r\n\tat com.gluonhq.samples.comments.views.ProfilePresenter.initData(ProfilePresenter.java:51)\r\n\tat com.gluonhq.samples.comments.views.CommentsPresenter.lambda$initialize$3(CommentsPresenter.java:104)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ClickGenerator.postProcess(Scene.java:3599)\r\n\tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3903)\r\n\tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\r\n\r\n```\r\n\r\n\r\nProfilePresenter.java\r\nHere is my fxml controller and I&#39;m fetching the information from the commentPresenter\r\n\r\n```\r\npackage com.gluonhq.samples.comments.views;\r\n\r\nimport com.gluonhq.charm.glisten.animation.BounceInRightTransition;\r\nimport com.gluonhq.charm.glisten.application.AppManager;\r\nimport com.gluonhq.charm.glisten.control.AppBar;\r\nimport com.gluonhq.charm.glisten.control.ListTile;\r\nimport com.gluonhq.charm.glisten.mvc.View;\r\nimport com.gluonhq.charm.glisten.visual.MaterialDesignIcon;\r\nimport com.gluonhq.samples.comments.model.Comment;\r\nimport javafx.beans.binding.Bindings;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListCell;\r\nimport javafx.scene.image.Image;\r\nimport javafx.scene.image.ImageView;\r\nimport javafx.scene.text.Text;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.MouseEvent;\r\n\r\n\r\npublic class ProfilePresenter  {\r\n\r\n\r\n\r\n\r\n\r\n@FXML\r\nprotected View profile;\r\n@FXML\r\nprivate Label as;\r\n\r\n@FXML\r\nprivate ImageView jembatan;\r\n\r\n@FXML\r\nprivate Button back;\r\n\r\n@FXML\r\nprivate Label bridge;\r\n\r\n\r\n    private String data;\r\n\r\n    public void initData(Comment comment){\r\n        var listSel = comment;\r\n\r\n\r\n        String value = listSel.getAuthor();\r\n        as.setText(value);\r\n    }\r\n\r\n    public  void setData(String name) {\r\n       data = name;\r\n    }\r\n\r\n    public void initialize() {\r\n        Image img = new Image(&quot;jembatan_1.jpeg&quot;);\r\n        jembatan.setImage(img);\r\n\r\n\r\n        profile.showingProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n            if (newValue) {\r\n                AppBar appBar = AppManager.getInstance().getAppBar();\r\n                appBar.setNavIcon(MaterialDesignIcon.ARROW_BACK.button(e -&gt;\r\n                        AppViewManager.COMMENTS_VIEW.switchView()));\r\n                appBar.setTitleText(&quot;Brigde Profile&quot;);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public void updateData(String content) {\r\n        bridge.setText(content);\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nCommentPresenter.java\r\nHere is my fxml controller and I&#39;m fetching the information from the commentPresenter\r\n\r\n```\r\n/*\r\n * Copyright (c) 2016, 2021, Gluon\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *     * Redistributions of source code must retain the above copyright\r\n * notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above copyright\r\n * notice, this list of conditions and the following disclaimer in the\r\n * documentation and/or other materials provided with the distribution.\r\n *     * Neither the name of Gluon, any associated website, nor the\r\n * names of its contributors may be used to endorse or promote products\r\n * derived from this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND\r\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\r\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\r\n * DISCLAIMED. IN NO EVENT SHALL GLUON BE LIABLE FOR ANY\r\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\r\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\r\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\r\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\r\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\npackage com.gluonhq.samples.comments.views;\r\n\r\nimport com.gluonhq.charm.glisten.application.AppManager;\r\nimport com.gluonhq.charm.glisten.control.AppBar;\r\nimport com.gluonhq.charm.glisten.control.FloatingActionButton;\r\nimport com.gluonhq.charm.glisten.mvc.View;\r\nimport com.gluonhq.charm.glisten.visual.MaterialDesignIcon;\r\nimport com.gluonhq.samples.comments.cloud.Service;\r\nimport com.gluonhq.samples.comments.model.Comment;\r\n\r\nimport javafx.event.EventHandler;\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.ListView;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.stage.Stage;\r\n\r\nimport javax.inject.Inject;\r\nimport java.io.IOException;\r\n\r\n\r\n\r\npublic class CommentsPresenter{\r\n\r\n    @Inject \r\n    protected Service service;\r\n\r\n\r\n\r\n    @FXML\r\n    protected View comments;\r\n\r\n    @FXML\r\n    protected ListView&lt;Comment&gt; commentsList;\r\n\r\n    public void initialize() {\r\n        comments.showingProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n            if (newValue) {\r\n                AppBar appBar = AppManager.getInstance().getAppBar();\r\n                appBar.setNavIcon(MaterialDesignIcon.MENU.button(e -&gt;\r\n                        AppManager.getInstance().getDrawer().open()));\r\n                appBar.setTitleText(&quot;List Bridge&quot;);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        commentsList.setCellFactory(p -&gt; new CommentListCell());\r\n        commentsList.setPlaceholder(new Label(&quot;There are no comments&quot;));\r\n        commentsList.getItems().add(new Comment(&quot;1&quot;,&quot;Jembatan Merah&quot;, &quot;Palembang Indonesia&quot;));\r\n        \r\n\r\n\r\n\r\n        commentsList.setOnMouseClicked(mouseEvent -&gt; {\r\n\r\n            var myIndex = commentsList.getSelectionModel().getSelectedIndex();\r\n            var test = commentsList.getItems().get(myIndex);\r\n\r\n            ProfilePresenter profilePresenter = new ProfilePresenter();\r\n\r\n            profilePresenter.initData(commentsList.getSelectionModel().getSelectedItem());\r\n            AppViewManager.PROFILE_VIEW.switchView();\r\n\r\n        });\r\n\r\n\r\n\r\n        service.retrieveComments();\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nI conveyed information from the Comment Presenter to the Presenter Profile and then I wanted to setText my label but instead there was an error like the one above, but when it was printed in the console the data appeared. How to Fix It\r\n","title":"Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: How to i fix it?","body":"<p>Error All</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.Label.setText(String)&quot; because &quot;this.as&quot; is null\n    at com.gluonhq.samples.comments.views.ProfilePresenter.initData(ProfilePresenter.java:51)\n    at com.gluonhq.samples.comments.views.CommentsPresenter.lambda$initialize$3(CommentsPresenter.java:104)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base@19/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base@19/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@19/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@19/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@19/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@19/javafx.scene.Scene$ClickGenerator.postProcess(Scene.java:3599)\n    at javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3903)\n    at javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19/com.sun.glass.ui.mac.MacView.notifyMouse(MacView.java:127)\n\n</code></pre>\n<p>ProfilePresenter.java\nHere is my fxml controller and I'm fetching the information from the commentPresenter</p>\n<pre><code>package com.gluonhq.samples.comments.views;\n\nimport com.gluonhq.charm.glisten.animation.BounceInRightTransition;\nimport com.gluonhq.charm.glisten.application.AppManager;\nimport com.gluonhq.charm.glisten.control.AppBar;\nimport com.gluonhq.charm.glisten.control.ListTile;\nimport com.gluonhq.charm.glisten.mvc.View;\nimport com.gluonhq.charm.glisten.visual.MaterialDesignIcon;\nimport com.gluonhq.samples.comments.model.Comment;\nimport javafx.beans.binding.Bindings;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListCell;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.text.Text;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.MouseEvent;\n\n\npublic class ProfilePresenter  {\n\n\n\n\n\n@FXML\nprotected View profile;\n@FXML\nprivate Label as;\n\n@FXML\nprivate ImageView jembatan;\n\n@FXML\nprivate Button back;\n\n@FXML\nprivate Label bridge;\n\n\n    private String data;\n\n    public void initData(Comment comment){\n        var listSel = comment;\n\n\n        String value = listSel.getAuthor();\n        as.setText(value);\n    }\n\n    public  void setData(String name) {\n       data = name;\n    }\n\n    public void initialize() {\n        Image img = new Image(&quot;jembatan_1.jpeg&quot;);\n        jembatan.setImage(img);\n\n\n        profile.showingProperty().addListener((obs, oldValue, newValue) -&gt; {\n            if (newValue) {\n                AppBar appBar = AppManager.getInstance().getAppBar();\n                appBar.setNavIcon(MaterialDesignIcon.ARROW_BACK.button(e -&gt;\n                        AppViewManager.COMMENTS_VIEW.switchView()));\n                appBar.setTitleText(&quot;Brigde Profile&quot;);\n            }\n        });\n\n    }\n\n    public void updateData(String content) {\n        bridge.setText(content);\n    }\n\n\n\n}\n</code></pre>\n<p>CommentPresenter.java\nHere is my fxml controller and I'm fetching the information from the commentPresenter</p>\n<pre><code>/*\n * Copyright (c) 2016, 2021, Gluon\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n * notice, this list of conditions and the following disclaimer in the\n * documentation and/or other materials provided with the distribution.\n *     * Neither the name of Gluon, any associated website, nor the\n * names of its contributors may be used to endorse or promote products\n * derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL GLUON BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\npackage com.gluonhq.samples.comments.views;\n\nimport com.gluonhq.charm.glisten.application.AppManager;\nimport com.gluonhq.charm.glisten.control.AppBar;\nimport com.gluonhq.charm.glisten.control.FloatingActionButton;\nimport com.gluonhq.charm.glisten.mvc.View;\nimport com.gluonhq.charm.glisten.visual.MaterialDesignIcon;\nimport com.gluonhq.samples.comments.cloud.Service;\nimport com.gluonhq.samples.comments.model.Comment;\n\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.ListView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.stage.Stage;\n\nimport javax.inject.Inject;\nimport java.io.IOException;\n\n\n\npublic class CommentsPresenter{\n\n    @Inject \n    protected Service service;\n\n\n\n    @FXML\n    protected View comments;\n\n    @FXML\n    protected ListView&lt;Comment&gt; commentsList;\n\n    public void initialize() {\n        comments.showingProperty().addListener((obs, oldValue, newValue) -&gt; {\n            if (newValue) {\n                AppBar appBar = AppManager.getInstance().getAppBar();\n                appBar.setNavIcon(MaterialDesignIcon.MENU.button(e -&gt;\n                        AppManager.getInstance().getDrawer().open()));\n                appBar.setTitleText(&quot;List Bridge&quot;);\n            }\n        });\n\n\n\n        commentsList.setCellFactory(p -&gt; new CommentListCell());\n        commentsList.setPlaceholder(new Label(&quot;There are no comments&quot;));\n        commentsList.getItems().add(new Comment(&quot;1&quot;,&quot;Jembatan Merah&quot;, &quot;Palembang Indonesia&quot;));\n        \n\n\n\n        commentsList.setOnMouseClicked(mouseEvent -&gt; {\n\n            var myIndex = commentsList.getSelectionModel().getSelectedIndex();\n            var test = commentsList.getItems().get(myIndex);\n\n            ProfilePresenter profilePresenter = new ProfilePresenter();\n\n            profilePresenter.initData(commentsList.getSelectionModel().getSelectedItem());\n            AppViewManager.PROFILE_VIEW.switchView();\n\n        });\n\n\n\n        service.retrieveComments();\n    }\n\n\n\n\n}\n</code></pre>\n<p>I conveyed information from the Comment Presenter to the Presenter Profile and then I wanted to setText my label but instead there was an error like the one above, but when it was printed in the console the data appeared. How to Fix It</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672844514,"post_id":75005975,"comment_id":132364772,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27427451,"reputation":1,"user_id":20924694,"display_name":"Nandhini Ramadurai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672837953,"creation_date":1672837953,"question_id":75005975,"body_markdown":"i need to upload large to sharepoint using graph rest api but i am facing issue in uploading any one can suggest solution\r\n\r\n{\r\n   &quot;error&quot;: \r\n   {\r\n      &quot;code&quot;:&quot;invalidRequest&quot;,\r\n      &quot;message&quot;:&quot;The Content-Range header is missing or malformed.&quot;\r\n   }\r\n}","title":"Not able to upload large file to sharepoint using graph","body":"<p>i need to upload large to sharepoint using graph rest api but i am facing issue in uploading any one can suggest solution</p>\n<p>{\n&quot;error&quot;:\n{\n&quot;code&quot;:&quot;invalidRequest&quot;,\n&quot;message&quot;:&quot;The Content-Range header is missing or malformed.&quot;\n}\n}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672838130,"post_id":75005935,"comment_id":132362358,"body_markdown":"Do you know how to parse json in Java and how to format a pojo to json again? If not, I&#39;d suggest you start looking into that - there are multiple tutorials on the net that cover this. If you already know how to do the conversion then please share your attempt as well as the logic/rules how the 1st json should be converted to the 2nd.","body":"Do you know how to parse json in Java and how to format a pojo to json again? If not, I&#39;d suggest you start looking into that - there are multiple tutorials on the net that cover this. If you already know how to do the conversion then please share your attempt as well as the logic/rules how the 1st json should be converted to the 2nd."},{"owner":{"account_id":27430983,"reputation":1,"user_id":20927694,"display_name":"Boris s"},"score":0,"creation_date":1672838521,"post_id":75005935,"comment_id":132362492,"body_markdown":"I don&#39;t know, I wouldn&#39;t have asked if I knew","body":"I don&#39;t know, I wouldn&#39;t have asked if I knew"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672839922,"post_id":75005935,"comment_id":132363024,"body_markdown":"Result of a quick search: https://www.baeldung.com/java-org-json, other options would be libraries like Jackson or Gson. Start with those to learn about pojo &lt;-&gt; json conversion","body":"Result of a quick search: <a href=\"https://www.baeldung.com/java-org-json\" rel=\"nofollow noreferrer\">baeldung.com/java-org-json</a>, other options would be libraries like Jackson or Gson. Start with those to learn about pojo &lt;-&gt; json conversion"},{"owner":{"account_id":27430983,"reputation":1,"user_id":20927694,"display_name":"Boris s"},"score":0,"creation_date":1672840069,"post_id":75005935,"comment_id":132363085,"body_markdown":"I&#39;ve looked here, but I don&#39;t think it will help me get the format I want. Do you have any solution?","body":"I&#39;ve looked here, but I don&#39;t think it will help me get the format I want. Do you have any solution?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672840319,"post_id":75005935,"comment_id":132363184,"body_markdown":"Why don&#39;t you think it doesn&#39;t help you? You basically need to convert json-&gt; pojo -&gt; pojo -&gt; json so use those as a start. The rules of the pojo -&gt; pojo conversion is what you have to come up with since you know the source and target formats. If you don&#39;t know the rules yet try to map them out on paper, i.e. try to come up with instructions for another human on how to do it - then post those instructions here if you&#39;re still stuck.","body":"Why don&#39;t you think it doesn&#39;t help you? You basically need to convert json-&gt; pojo -&gt; pojo -&gt; json so use those as a start. The rules of the pojo -&gt; pojo conversion is what you have to come up with since you know the source and target formats. If you don&#39;t know the rules yet try to map them out on paper, i.e. try to come up with instructions for another human on how to do it - then post those instructions here if you&#39;re still stuck."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672840354,"post_id":75005935,"comment_id":132363203,"body_markdown":"Btw, you might want to take a [tour] and read [help] resources, especially [ask].","body":"Btw, you might want to take a <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/help\">help center</a> resources, especially <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":27430983,"reputation":1,"user_id":20927694,"display_name":"Boris s"},"score":0,"creation_date":1672841165,"post_id":75005935,"comment_id":132363512,"body_markdown":"I&#39;m new to java and I&#39;m trying to learn the general syntax structure. In order to learn its logic, I need to see an example in practice, so I asked how the solution of such an example should be.","body":"I&#39;m new to java and I&#39;m trying to learn the general syntax structure. In order to learn its logic, I need to see an example in practice, so I asked how the solution of such an example should be."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1672842524,"post_id":75005935,"comment_id":132364055,"body_markdown":"If you are new to Java I&#39;d suggest you work through simple tutorials first and then put them together. Start with simple pojo-&gt;json and json-&gt;pojo, then combine those. Or start even earlier with a tutorial on Java&#39;s data structures. Giving you an example here might not help that much and it&#39;s hard to help if we don&#39;t know the rules of the mapping.","body":"If you are new to Java I&#39;d suggest you work through simple tutorials first and then put them together. Start with simple pojo-&gt;json and json-&gt;pojo, then combine those. Or start even earlier with a tutorial on Java&#39;s data structures. Giving you an example here might not help that much and it&#39;s hard to help if we don&#39;t know the rules of the mapping."},{"owner":{"account_id":27430983,"reputation":1,"user_id":20927694,"display_name":"Boris s"},"score":0,"creation_date":1672842687,"post_id":75005935,"comment_id":132364117,"body_markdown":"I need help in practice what is the solution to my question?","body":"I need help in practice what is the solution to my question?"}],"owner":{"account_id":27430983,"reputation":1,"user_id":20927694,"display_name":"Boris s"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672837831,"creation_date":1672837759,"question_id":75005935,"body_markdown":"This is the data I created in my database\r\n\r\n    {   \r\n      &quot;id&quot;: 1,\r\n      &quot;values&quot;: &quot;80,90&quot;,\r\n      &quot;name&quot;: &quot;number&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;values&quot;: &quot;22351,25252,27123,29123,32123&quot;,\r\n      &quot;name&quot;: &quot;numbers_1&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: 3,\r\n      &quot;values&quot;: &quot;12351,15252,17123,19123,12123&quot;,\r\n      &quot;name&quot;: &quot;numbers_2&quot;\r\n    }\r\n\r\nI want to make the data saved in the above database in JSON format with Java as follows. How can I do that?\r\n\r\n    {\r\n      &quot;id&quot;: 1,\r\n      &quot;highNumber&quot;: &quot;80&quot;,\r\n      &quot;numbers&quot;: [\r\n        {\r\n          &quot;id&quot;: 2,\r\n          &quot;numbersCode&quot;: &quot;22351,25252,27123,29123,32123&quot;\r\n        }\r\n      ]\r\n    \r\n    },\r\n    {\r\n      &quot;id&quot;: 2,\r\n      &quot;highNumber&quot;: &quot;90&quot;,\r\n      &quot;numbers&quot;: [\r\n        {\r\n          &quot;id&quot;: 1,\r\n          &quot;numbersCode&quot;: &quot;22351,25252,27123,29123,32123&quot;\r\n        }\r\n      ]\r\n    \r\n    }\r\n\r\nI wrote the JDBC connection code, but I don&#39;t know how to write what in the while, can you help?\r\n\r\nI wrote the JDBC connection code, but I don&#39;t know how to write what in the while, can you help?\r\n\r\n    public List&lt;Number&gt; getAllNumber() {\r\n        List&lt;Number&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n        try {\r\n            Class.forName(&quot;DriverClass&quot;);\r\n            Connection conn = JDBCUtils.getConnection();\r\n            PreparedStatement ps = conn.prepareStatement(sql);\r\n            ResultSet rs = ps.executeQuery();\r\n    \r\n            while (rs.next()) {\r\n                String number= rs.getString(&quot;VALUES&quot;);\r\n                System.out.println(number);\r\n            }\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return list;\r\n    }\r\n\r\nWhat I want to do is return these numbers &quot;22351,25252,27123,29123,32123&quot; for number 80, return these numbers &quot;22351,25252,27123,29123,32123&quot; for number 90.","title":"How to i convert the data in the database to JSON in a different format?","body":"<p>This is the data I created in my database</p>\n<pre><code>{   \n  &quot;id&quot;: 1,\n  &quot;values&quot;: &quot;80,90&quot;,\n  &quot;name&quot;: &quot;number&quot;\n},\n{\n  &quot;id&quot;: 2,\n  &quot;values&quot;: &quot;22351,25252,27123,29123,32123&quot;,\n  &quot;name&quot;: &quot;numbers_1&quot;\n},\n{\n  &quot;id&quot;: 3,\n  &quot;values&quot;: &quot;12351,15252,17123,19123,12123&quot;,\n  &quot;name&quot;: &quot;numbers_2&quot;\n}\n</code></pre>\n<p>I want to make the data saved in the above database in JSON format with Java as follows. How can I do that?</p>\n<pre><code>{\n  &quot;id&quot;: 1,\n  &quot;highNumber&quot;: &quot;80&quot;,\n  &quot;numbers&quot;: [\n    {\n      &quot;id&quot;: 2,\n      &quot;numbersCode&quot;: &quot;22351,25252,27123,29123,32123&quot;\n    }\n  ]\n\n},\n{\n  &quot;id&quot;: 2,\n  &quot;highNumber&quot;: &quot;90&quot;,\n  &quot;numbers&quot;: [\n    {\n      &quot;id&quot;: 1,\n      &quot;numbersCode&quot;: &quot;22351,25252,27123,29123,32123&quot;\n    }\n  ]\n\n}\n</code></pre>\n<p>I wrote the JDBC connection code, but I don't know how to write what in the while, can you help?</p>\n<p>I wrote the JDBC connection code, but I don't know how to write what in the while, can you help?</p>\n<pre><code>public List&lt;Number&gt; getAllNumber() {\n    List&lt;Number&gt; list = new ArrayList&lt;&gt;();\n\n\n    try {\n        Class.forName(&quot;DriverClass&quot;);\n        Connection conn = JDBCUtils.getConnection();\n        PreparedStatement ps = conn.prepareStatement(sql);\n        ResultSet rs = ps.executeQuery();\n\n        while (rs.next()) {\n            String number= rs.getString(&quot;VALUES&quot;);\n            System.out.println(number);\n        }\n    }\n    catch (Exception e) {\n        e.printStackTrace();\n    }\n    return list;\n}\n</code></pre>\n<p>What I want to do is return these numbers &quot;22351,25252,27123,29123,32123&quot; for number 80, return these numbers &quot;22351,25252,27123,29123,32123&quot; for number 90.</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1671109965,"post_id":74812083,"comment_id":132030311,"body_markdown":"how many iterations must it do?","body":"how many iterations must it do?"},{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1671110731,"post_id":74812083,"comment_id":132030578,"body_markdown":"depends on number of outputs from PowerShell command. I need all drives.","body":"depends on number of outputs from PowerShell command. I need all drives."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1671111553,"post_id":74812083,"comment_id":132030910,"body_markdown":"Are you sure the problem it is in the loop, and not in the previous process of open the powershell? Because the loop doesn&#39;t look bad.","body":"Are you sure the problem it is in the loop, and not in the previous process of open the powershell? Because the loop doesn&#39;t look bad."},{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1671111736,"post_id":74812083,"comment_id":132031002,"body_markdown":"Previous PowerShell command gets executed within few milliseconds. But When it enters While loop its takes 2 second to execute. I tried to divide all the while loop part and found in.readLine() is taking approx 2 sec time. Any alternate solution for that ?","body":"Previous PowerShell command gets executed within few milliseconds. But When it enters While loop its takes 2 second to execute. I tried to divide all the while loop part and found in.readLine() is taking approx 2 sec time. Any alternate solution for that ?"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1671112339,"post_id":74812083,"comment_id":132031277,"body_markdown":"Ok not any problem at all, at the beginning I was thinking the time was too much high, but 2s is the time for the BufferedReader, you don&#39;t have any way to improve that, maybe if you can use `FileChannel`instead of BufferedReader, but 2s is average on that class","body":"Ok not any problem at all, at the beginning I was thinking the time was too much high, but 2s is the time for the BufferedReader, you don&#39;t have any way to improve that, maybe if you can use <code>FileChannel</code>instead of BufferedReader, but 2s is average on that class"},{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1671113956,"post_id":74812083,"comment_id":132031902,"body_markdown":"Actually, I have to execute 3 PowerShell command in a row including this so overall it is taking approx. 6-7 sec of time and that&#39;s what my main problem is.","body":"Actually, I have to execute 3 PowerShell command in a row including this so overall it is taking approx. 6-7 sec of time and that&#39;s what my main problem is."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1671120606,"post_id":74812083,"comment_id":132034621,"body_markdown":"BTW, as of `Java 18`, the string version of `Runtime.getRuntime().exec` has been deprecated.  The `String array` version should be used with the array holding each of the arguments.  E.g. `Runtime.getRuntime().exec(&quot;powershell.exe Get-Partition -disknumber 1 | select DriveLetter&quot;.split(&quot;\\\\s+&quot;));`","body":"BTW, as of <code>Java 18</code>, the string version of <code>Runtime.getRuntime().exec</code> has been deprecated.  The <code>String array</code> version should be used with the array holding each of the arguments.  E.g. <code>Runtime.getRuntime().exec(&quot;powershell.exe Get-Partition -disknumber 1 | select DriveLetter&quot;.split(&quot;\\\\s+&quot;));</code>"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1671121038,"post_id":74812083,"comment_id":132034787,"body_markdown":"Also, within the `powershell program` itself, it takes 6 seconds for my invocation to come back with the information sans the pipe.  This is probably related to Windows response time and not Java.  I am runing a quad core i7 processor, using Windows 10","body":"Also, within the <code>powershell program</code> itself, it takes 6 seconds for my invocation to come back with the information sans the pipe.  This is probably related to Windows response time and not Java.  I am runing a quad core i7 processor, using Windows 10"}],"answers":[{"comments":[{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1671162226,"post_id":74815342,"comment_id":132044529,"body_markdown":"yes your code executed very fast. But in my case its the java code which is taking 2 sec of time and rest is executing fast . I will post my code and time it took to execute.  But before that i need your help to understand where i can post my new code again ? as in comments its not allowing me to do.","body":"yes your code executed very fast. But in my case its the java code which is taking 2 sec of time and rest is executing fast . I will post my code and time it took to execute.  But before that i need your help to understand where i can post my new code again ? as in comments its not allowing me to do."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1671164933,"post_id":74815342,"comment_id":132044862,"body_markdown":"So you opened powershell and when the command was run it returned immediately?  When I did that it took 6 seconds.","body":"So you opened powershell and when the command was run it returned immediately?  When I did that it took 6 seconds."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1671165084,"post_id":74815342,"comment_id":132044887,"body_markdown":"Just edit your question and add the new code. Annotate it as such but don&#39;t remove the original.","body":"Just edit your question and add the new code. Annotate it as such but don&#39;t remove the original."},{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1671166278,"post_id":74815342,"comment_id":132045075,"body_markdown":"Yes @WJS in PowerShell as well it replied withing milliseconds and in java as well it replies within milliseconds. May be because I am using PowerShell 7 and hexa core processor with 16GB RAM.","body":"Yes @WJS in PowerShell as well it replied withing milliseconds and in java as well it replies within milliseconds. May be because I am using PowerShell 7 and hexa core processor with 16GB RAM."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1672834254,"post_id":74815342,"comment_id":132361041,"body_markdown":"@vijaykumar The pre-test `!line1.trim().isEmpty()` wastes more resources than it saves, as `contains(&quot;&lt;DIR&gt;&quot;)` on a blank string is not more expensive than the pre-test itself. While `trim()` on a non-blank string may add additional costs but still requires the `contains` operation. Further `line1.replaceAll(&quot; +&quot;, &quot;#&quot;).split(&quot;#&quot;)[0] + &quot;#&quot; + &quot;HDD&quot;` makes multiple expensive detours to effectively make something like `line1.replaceFirst(&quot; .*|$&quot;, &quot;#HDD&quot;)` (or even `int ix = line1.indexOf(&#39; &#39;); hddList.add((ix &lt; 0? line1: line1.substring(0, ix)) + &quot;#HDD&quot;);` without regex).","body":"@vijaykumar The pre-test <code>!line1.trim().isEmpty()</code> wastes more resources than it saves, as <code>contains(&quot;&lt;DIR&gt;&quot;)</code> on a blank string is not more expensive than the pre-test itself. While <code>trim()</code> on a non-blank string may add additional costs but still requires the <code>contains</code> operation. Further <code>line1.replaceAll(&quot; +&quot;, &quot;#&quot;).split(&quot;#&quot;)[0] + &quot;#&quot; + &quot;HDD&quot;</code> makes multiple expensive detours to effectively make something like <code>line1.replaceFirst(&quot; .*|$&quot;, &quot;#HDD&quot;)</code> (or even <code>int ix = line1.indexOf(&#39; &#39;); hddList.add((ix &lt; 0? line1: line1.substring(0, ix)) + &quot;#HDD&quot;);</code> without regex)."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671125006,"creation_date":1671125006,"answer_id":74815342,"question_id":74812083,"body_markdown":"As I said in my comments, I believe the issue is with the execution of the `powerShell` and not Java. See how quickly the following runs using the `cmd.exe`.\r\nHere, all I&#39;m doing is a directory listing and replacing `&lt;DIR&gt;` as though it was HDD.\r\n```\r\n        Process p = Runtime.getRuntime().exec(\r\n                &quot;cmd.exe /c dir&quot;.split(&quot;\\\\s+&quot;));\r\n                        \r\n        System.out.println(p);\r\n        BufferedReader in = new BufferedReader(\r\n                new java.io.InputStreamReader(p.getInputStream()));\r\n        String line1 = &quot;&quot;;\r\n        List&lt;String&gt; hddList = new ArrayList&lt;String&gt;();\r\n        while ((line1 = in.readLine()) != null) {\r\n            System.out.println(line1);\r\n            if (!line1.trim().isEmpty()) {\r\n                if (line1.contains(&quot;&lt;DIR&gt;&quot;)) {\r\n                    hddList.add(line1.replaceAll(&quot; +&quot;, &quot;#&quot;).split(&quot;#&quot;)[0] + &quot;#&quot;\r\n                            + &quot;HDD&quot;);\r\n                }\r\n\r\n            }\r\n        }\r\n        System.out.println(hddList);\r\n```\r\nYou might be able to run `cmd.exe` as administrator and use related privileged commands to get the disk information.  I have yet to determine how to do that without password input.","title":"Reading output from Powershell takes much time to execute","body":"<p>As I said in my comments, I believe the issue is with the execution of the <code>powerShell</code> and not Java. See how quickly the following runs using the <code>cmd.exe</code>.\nHere, all I'm doing is a directory listing and replacing <code>&lt;DIR&gt;</code> as though it was HDD.</p>\n<pre><code>        Process p = Runtime.getRuntime().exec(\n                &quot;cmd.exe /c dir&quot;.split(&quot;\\\\s+&quot;));\n                        \n        System.out.println(p);\n        BufferedReader in = new BufferedReader(\n                new java.io.InputStreamReader(p.getInputStream()));\n        String line1 = &quot;&quot;;\n        List&lt;String&gt; hddList = new ArrayList&lt;String&gt;();\n        while ((line1 = in.readLine()) != null) {\n            System.out.println(line1);\n            if (!line1.trim().isEmpty()) {\n                if (line1.contains(&quot;&lt;DIR&gt;&quot;)) {\n                    hddList.add(line1.replaceAll(&quot; +&quot;, &quot;#&quot;).split(&quot;#&quot;)[0] + &quot;#&quot;\n                            + &quot;HDD&quot;);\n                }\n\n            }\n        }\n        System.out.println(hddList);\n</code></pre>\n<p>You might be able to run <code>cmd.exe</code> as administrator and use related privileged commands to get the disk information.  I have yet to determine how to do that without password input.</p>\n"},{"comments":[{"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"score":0,"creation_date":1673246727,"post_id":75005759,"comment_id":132446691,"body_markdown":"This looks good . Thanks for the reply also can you tell me what string to pass in `store.getAttribute(&quot;&quot;)`  if I also want to list my SSD and HDD both ?","body":"This looks good . Thanks for the reply also can you tell me what string to pass in <code>store.getAttribute(&quot;&quot;)</code>  if I also want to list my SSD and HDD both ?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673250416,"post_id":75005759,"comment_id":132447424,"body_markdown":"This should already include HDDs and SSDs in the result (unless they are mounted as removable devices). Operating systems rarely differentiate between these two. I also used the term “fixed HDDs” in the broader sense of all non-removable mass storage devices.","body":"This should already include HDDs and SSDs in the result (unless they are mounted as removable devices). Operating systems rarely differentiate between these two. I also used the term “fixed HDDs” in the broader sense of all non-removable mass storage devices."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672837800,"creation_date":1672836938,"answer_id":75005759,"question_id":74812083,"body_markdown":"This seems to be an [xy-problem], as you can easily get the drive letters in Java like\r\n\r\n```java\r\nList&lt;String&gt; driveLetters = new ArrayList&lt;&gt;();\r\nfor(Path r: FileSystems.getDefault().getRootDirectories()) {\r\n    String s = r.toString();\r\n    if(s.length() == 3 &amp;&amp; s.charAt(1) == &#39;:&#39;) {\r\n        driveLetters.add(s.substring(0, 1));\r\n    }\r\n}\r\n```\r\n\r\nsince Java&#160;7. This needs no interprocess communication and hence, has no such latency problems.\r\n\r\nIf you want to limit the result to fixed HDDs, you can use something like\r\n\r\n```java\r\nList&lt;String&gt; driveLetters = new ArrayList&lt;&gt;();\r\nfor(Path r: FileSystems.getDefault().getRootDirectories()) {\r\n    String s = r.toString();\r\n    if(s.length() == 3 &amp;&amp; s.charAt(1) == &#39;:&#39;) try {\r\n        FileStore store = Files.getFileStore(r);\r\n        if(!Boolean.TRUE.equals(store.getAttribute(&quot;volume:isRemovable&quot;))\r\n        &amp;&amp; !Boolean.TRUE.equals(store.getAttribute(&quot;volume:isCdrom&quot;))) {\r\n            driveLetters.add(s.substring(0, 1));\r\n        }\r\n    }\r\n    catch(IOException ex) {} // no media in drive, obviously not an HDD then\r\n}\r\n```\r\n\r\n[xy-problem]: https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378","title":"Reading output from Powershell takes much time to execute","body":"<p>This seems to be an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">xy-problem</a>, as you can easily get the drive letters in Java like</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; driveLetters = new ArrayList&lt;&gt;();\nfor(Path r: FileSystems.getDefault().getRootDirectories()) {\n    String s = r.toString();\n    if(s.length() == 3 &amp;&amp; s.charAt(1) == ':') {\n        driveLetters.add(s.substring(0, 1));\n    }\n}\n</code></pre>\n<p>since Java 7. This needs no interprocess communication and hence, has no such latency problems.</p>\n<p>If you want to limit the result to fixed HDDs, you can use something like</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; driveLetters = new ArrayList&lt;&gt;();\nfor(Path r: FileSystems.getDefault().getRootDirectories()) {\n    String s = r.toString();\n    if(s.length() == 3 &amp;&amp; s.charAt(1) == ':') try {\n        FileStore store = Files.getFileStore(r);\n        if(!Boolean.TRUE.equals(store.getAttribute(&quot;volume:isRemovable&quot;))\n        &amp;&amp; !Boolean.TRUE.equals(store.getAttribute(&quot;volume:isCdrom&quot;))) {\n            driveLetters.add(s.substring(0, 1));\n        }\n    }\n    catch(IOException ex) {} // no media in drive, obviously not an HDD then\n}\n</code></pre>\n"}],"owner":{"account_id":18129385,"reputation":11,"user_id":13184634,"display_name":"vijay kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1672837800,"creation_date":1671109901,"question_id":74812083,"body_markdown":"So, I wrote this code on java and it&#39;s taking some 6 second times to execute and give output. As I am not from coding background I was expecting if someone from this expert&#39;s group could help me optimize this little.\r\nBelow is my code also the PowerShell command runs within seconds. only this while loop is taking much time.\r\n\r\nWhat I want to achieve is just get the list of drives which is HDD and print it.\r\n\r\n```\r\nProcess p = Runtime.getRuntime().exec(&quot;powershell.exe Get-Partition -disknumber 1 | select DriveLetter&quot;);\r\nBufferedReader in = new BufferedReader(new java.io.InputStreamReader(p.getInputStream()));\r\nString line1 = &quot;&quot;;\r\nArrayList&lt;String&gt; hddList = new ArrayList&lt;String&gt;();\r\nwhile ((line1 = in.readLine()) != null) {\r\n    if (!line1.trim().isEmpty()) {\r\n        if (line1.contains(&quot;HDD&quot;)) {\r\n            hddList.add(line1.replaceAll(&quot; +&quot;, &quot;#&quot;).split(&quot;#&quot;)[0]+&quot;#&quot;+&quot;HDD&quot;);\r\n        }\r\n    }\r\n}","title":"Reading output from Powershell takes much time to execute","body":"<p>So, I wrote this code on java and it's taking some 6 second times to execute and give output. As I am not from coding background I was expecting if someone from this expert's group could help me optimize this little.\nBelow is my code also the PowerShell command runs within seconds. only this while loop is taking much time.</p>\n<p>What I want to achieve is just get the list of drives which is HDD and print it.</p>\n<pre><code>Process p = Runtime.getRuntime().exec(&quot;powershell.exe Get-Partition -disknumber 1 | select DriveLetter&quot;);\nBufferedReader in = new BufferedReader(new java.io.InputStreamReader(p.getInputStream()));\nString line1 = &quot;&quot;;\nArrayList&lt;String&gt; hddList = new ArrayList&lt;String&gt;();\nwhile ((line1 = in.readLine()) != null) {\n    if (!line1.trim().isEmpty()) {\n        if (line1.contains(&quot;HDD&quot;)) {\n            hddList.add(line1.replaceAll(&quot; +&quot;, &quot;#&quot;).split(&quot;#&quot;)[0]+&quot;#&quot;+&quot;HDD&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-webview","single-page-application"],"comments":[{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1672874283,"post_id":75005865,"comment_id":132374204,"body_markdown":"this is just a thought, but shouldn&#39;t you be inserting ```&amp;#35;``` or ```%A3```?","body":"this is just a thought, but shouldn&#39;t you be inserting <code>&amp;#35;</code> or <code>%A3</code>?"},{"owner":{"account_id":5641924,"reputation":2259,"user_id":4465464,"accept_rate":59,"display_name":"chocolate cake"},"score":0,"creation_date":1672907778,"post_id":75005865,"comment_id":132379947,"body_markdown":"Good thought, but unfortunately it doesn&#39;t work. `%23` either.","body":"Good thought, but unfortunately it doesn&#39;t work. <code>%23</code> either."},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1672946888,"post_id":75005865,"comment_id":132393536,"body_markdown":"strange. can we try how this would behave on desktop chromium. if all else fails we could just make changes and update webview address bar component via native for these cases. webview has given me much trouble if i didn&#39;t extend it and added the javascriptweb interface","body":"strange. can we try how this would behave on desktop chromium. if all else fails we could just make changes and update webview address bar component via native for these cases. webview has given me much trouble if i didn&#39;t extend it and added the javascriptweb interface"},{"owner":{"account_id":5641924,"reputation":2259,"user_id":4465464,"accept_rate":59,"display_name":"chocolate cake"},"score":0,"creation_date":1672992240,"post_id":75005865,"comment_id":132401996,"body_markdown":"In desktop chrome it reloads after I entered the address the second time in the address bar. Maybe I should call `loadUrl` again after it finished loading? &#129300;\nFor now I made a workaround by adding an unnecessary get parameter to force rendering (`self.myWebView.loadUrl(&quot;https://www.myCoolName.de/index.html?foo=myRandomHashValue#myValue&quot;`), but this could not be the real flow. It would be also great if the page does not reload, just rerender. But I&#39;m not sure if this is possible at all.","body":"In desktop chrome it reloads after I entered the address the second time in the address bar. Maybe I should call <code>loadUrl</code> again after it finished loading? 🤔 For now I made a workaround by adding an unnecessary get parameter to force rendering (<code>self.myWebView.loadUrl(&quot;https:&#47;&#47;www.myCoolName.de&#47;index.htm&zwnj;&#8203;l?foo=myRandomHashVa&zwnj;&#8203;lue#myValue&quot;</code>), but this could not be the real flow. It would be also great if the page does not reload, just rerender. But I&#39;m not sure if this is possible at all."},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1673056040,"post_id":75005865,"comment_id":132418780,"body_markdown":"het, if all else fails, just pass url to","body":"het, if all else fails, just pass url to"},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":0,"creation_date":1673056067,"post_id":75005865,"comment_id":132418784,"body_markdown":"a defined JS function to handle hash navs","body":"a defined JS function to handle hash navs"},{"owner":{"account_id":19615181,"reputation":732,"user_id":15394019,"display_name":"mindoverflow"},"score":1,"creation_date":1673056130,"post_id":75005865,"comment_id":132418795,"body_markdown":"for pages not yours inject the nav function on the after-page-finishes loading function that WebView has","body":"for pages not yours inject the nav function on the after-page-finishes loading function that WebView has"},{"owner":{"account_id":5641924,"reputation":2259,"user_id":4465464,"accept_rate":59,"display_name":"chocolate cake"},"score":0,"creation_date":1673254680,"post_id":75005865,"comment_id":132448590,"body_markdown":"Thanks for the hint :) The page is not mine, but I could try this.","body":"Thanks for the hint :) The page is not mine, but I could try this."}],"owner":{"account_id":5641924,"reputation":2259,"user_id":4465464,"accept_rate":59,"display_name":"chocolate cake"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672837397,"creation_date":1672837397,"question_id":75005865,"body_markdown":"I want to update the url hash parameter of a Webview. It reloads the url, if the base url changes, but not if the hash does.\r\n\r\n\r\n    import android.webkit.WebView;\r\n\r\n    public class MyClass {\r\n \r\n        private WebView myWebView;\r\n    \r\n        public void start() {\r\n            getActivity().runOnUiThread(() -&gt; {\r\n                this.assistantWebView.loadUrl(&quot;https://www.myCoolName.de/index.html&quot;);\r\n            }\r\n    \r\n            MyClass self = this;\r\n\r\n            new android.os.Handler(Looper.getMainLooper()).postDelayed(\r\n                new Runnable() {\r\n                    public void run() {\r\n                        getActivity().runOnUiThread(() -&gt; {\r\n                             self.myWebView.loadUrl(&quot;https://www.myCoolName.de/index.html#myValue&quot;);\r\n                        });\r\n                    }\r\n                }, 8000);\r\n         }\r\n    }\r\n\r\nAfter 8 seconds the page flickers shortly, but it did not change anything. \r\n\r\nHow do I update a page with hashtags?","title":"Upate hash parameter in Android WebView","body":"<p>I want to update the url hash parameter of a Webview. It reloads the url, if the base url changes, but not if the hash does.</p>\n<pre><code>import android.webkit.WebView;\n\npublic class MyClass {\n\n    private WebView myWebView;\n\n    public void start() {\n        getActivity().runOnUiThread(() -&gt; {\n            this.assistantWebView.loadUrl(&quot;https://www.myCoolName.de/index.html&quot;);\n        }\n\n        MyClass self = this;\n\n        new android.os.Handler(Looper.getMainLooper()).postDelayed(\n            new Runnable() {\n                public void run() {\n                    getActivity().runOnUiThread(() -&gt; {\n                         self.myWebView.loadUrl(&quot;https://www.myCoolName.de/index.html#myValue&quot;);\n                    });\n                }\n            }, 8000);\n     }\n}\n</code></pre>\n<p>After 8 seconds the page flickers shortly, but it did not change anything.</p>\n<p>How do I update a page with hashtags?</p>\n"},{"tags":["java","postgresql","hibernate","criteria","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586875686,"creation_date":1586874804,"answer_id":61210211,"question_id":61202241,"body_markdown":"The JSON is valid.  (I checked, and I was surprised to see that a key can be any JSON string.  See http://www.json.org. )\r\n\r\nBased on the stacktrace, I think that the real problem is that Jackson is attempting to use \r\n\r\n      { &quot;In last 7 days&quot; : 19 }\r\n\r\nto create a `MyClass` instance.  The problem is that `MyClass` has no field that corresponds to the key `&quot;In last 7 days&quot;`.  The fields are `days` and `value`.\r\n\r\nYou will have to deal with that by creating a custom object mapper.\r\n","title":"java.lang.IllegalArgumentException: The given string value: { &quot;In last 7 days&quot; : 19 } cannot be transformed to Json object","body":"<p>The JSON is valid.  (I checked, and I was surprised to see that a key can be any JSON string.  See <a href=\"http://www.json.org\" rel=\"nofollow noreferrer\">http://www.json.org</a>. )</p>\n\n<p>Based on the stacktrace, I think that the real problem is that Jackson is attempting to use </p>\n\n<pre><code>  { \"In last 7 days\" : 19 }\n</code></pre>\n\n<p>to create a <code>MyClass</code> instance.  The problem is that <code>MyClass</code> has no field that corresponds to the key <code>\"In last 7 days\"</code>.  The fields are <code>days</code> and <code>value</code>.</p>\n\n<p>You will have to deal with that by creating a custom object mapper.</p>\n"},{"tags":[],"owner":{"account_id":10383927,"reputation":1,"user_id":7657717,"display_name":"Saurabh kr. Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641208704,"creation_date":1641208704,"answer_id":70564980,"question_id":61202241,"body_markdown":"Just Make sure to implement Serializable for the MyDTO class as you are using the MyClass inside it. It ","title":"java.lang.IllegalArgumentException: The given string value: { &quot;In last 7 days&quot; : 19 } cannot be transformed to Json object","body":"<p>Just Make sure to implement Serializable for the MyDTO class as you are using the MyClass inside it. It</p>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645004006,"creation_date":1645004006,"answer_id":71139283,"question_id":61202241,"body_markdown":"The issue is no field that maps to the key &quot;In last 7 days&quot;. We can use cusmtom mapper if we wan to skip some fields\r\n\r\nhttps://vladmihalcea.com/hibernate-types-customize-jackson-objectmapper/","title":"java.lang.IllegalArgumentException: The given string value: { &quot;In last 7 days&quot; : 19 } cannot be transformed to Json object","body":"<p>The issue is no field that maps to the key &quot;In last 7 days&quot;. We can use cusmtom mapper if we wan to skip some fields</p>\n<p><a href=\"https://vladmihalcea.com/hibernate-types-customize-jackson-objectmapper/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-types-customize-jackson-objectmapper/</a></p>\n"}],"owner":{"account_id":1356398,"reputation":318,"user_id":1294707,"accept_rate":71,"display_name":"Prashant Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15035,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1672837310,"creation_date":1586847551,"question_id":61202241,"body_markdown":"Hi I have a json field in my postgresql table and I am using criteria api to read it&#39;s value but I am getting above error message. I have followed the steps mentioned in https://vladmihalcea.com/map-string-jpa-property-json-column-hibernate/\r\n\r\nMy code - \r\n\r\npojo\r\n```\r\n@Entity\r\n@Table(name = &quot;table_name&quot;, schema = &quot;test&quot;)\r\n@TypeDef(\r\n        name = &quot;jsonb&quot;,\r\n        typeClass = JsonBinaryType.class\r\n)\r\npublic class Test implements Serializable {\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(name = &quot;details&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    MyClass myclass;\r\n\r\n} \r\n```\r\n\r\n\r\n\r\nMyClass: \r\n\r\n```\r\npublic class MyClass implements Serializable {\r\n    private String days;\r\n    private String value;\r\n\r\n    public String getDays() {\r\n        return days;\r\n    }\r\n\r\n    public void setDays(String days) {\r\n        this.days = days;\r\n    }\r\n\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(String value) {\r\n        this.value = value;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &#39;{&#39; + &#39;&quot;&#39; + days + &#39;&quot;&#39; + &#39;:&#39; + value + &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nMyDTO - \r\n\r\n```\r\npublic class MyDTO {\r\n    @JsonProperty(&quot;details&quot;)\r\n    MyClass myClass;\r\n\r\n}\r\n \r\n```\r\n\r\n\r\ncriteria API : \r\n\r\n```\r\nCriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\nCriteriaQuery&lt;Object[]&gt; criteriaQuery = criteriaBuilder.createQuery(Object[].class);\r\nRoot&lt;Test&gt; test = criteriaQuery.from(Test.class);\r\ncriteriaQuery.where(criteriaBuilder.equal(criteriaBuilder.lower(test.get(&quot;test_id&quot;)), testId.toLowerCase()));\r\ncriteriaQuery.select(test.get(&quot;myclass&quot;));\r\nList&lt;Object[]&gt; result = entityManager.createQuery(criteriaQuery).getResultList();\r\n\r\n```\r\n\r\nerror stacktrace: \r\n\r\n```\r\nSevere Error: \r\njava.lang.IllegalArgumentException: The given string value: { &quot;In last 7 days&quot; : 19 } cannot be transformed to Json object\r\n\tat com.vladmihalcea.hibernate.type.json.internal.JacksonUtil.fromString(JacksonUtil.java:20)\r\n\tat com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor.fromString(JsonTypeDescriptor.java:52)\r\n\tat com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor.wrap(JsonTypeDescriptor.java:75)\r\n\tat com.vladmihalcea.hibernate.type.json.internal.AbstractJsonSqlTypeDescriptor$1.doExtract(AbstractJsonSqlTypeDescriptor.java:34)\r\n\tat org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\r\n\tat org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\r\n\tat org.hibernate.loader.hql.QueryLoader.getResultRow(QueryLoader.java:457)\r\n\tat org.hibernate.loader.hql.QueryLoader.getResultColumnOrRow(QueryLoader.java:440)\r\n\tat org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:775)\r\n\tat org.hibernate.loader.Loader.processResultSet(Loader.java:1008)\r\n\tat org.hibernate.loader.Loader.doQuery(Loader.java:964)\r\n\tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2838)\r\n\tat org.hibernate.loader.Loader.doList(Loader.java:2820)\r\n\tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2652)\r\n\tat org.hibernate.loader.Loader.list(Loader.java:2647)\r\n\tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\r\n\tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:396)\r\n\tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\r\n\tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1404)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1562)\r\n\tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1530)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:165)\r\n\tat org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\r\n\tat com.test.getTestDetail(ServiceV2.java:108)\r\n\tat com.test.ControllerV2.fetchDetail(ControllerV2.java:77)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\r\n\tat org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:770)\r\n\tat org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166)\r\n\tat org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133)\r\n\tat org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182)\r\n\tat com.test.ControllerV2Test.testDetails(ControllerV2Test.java:153)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n\tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n\tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n\tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n`","title":"java.lang.IllegalArgumentException: The given string value: { &quot;In last 7 days&quot; : 19 } cannot be transformed to Json object","body":"<p>Hi I have a json field in my postgresql table and I am using criteria api to read it's value but I am getting above error message. I have followed the steps mentioned in <a href=\"https://vladmihalcea.com/map-string-jpa-property-json-column-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/map-string-jpa-property-json-column-hibernate/</a></p>\n\n<p>My code - </p>\n\n<p>pojo</p>\n\n<pre><code>@Entity\n@Table(name = \"table_name\", schema = \"test\")\n@TypeDef(\n        name = \"jsonb\",\n        typeClass = JsonBinaryType.class\n)\npublic class Test implements Serializable {\n    @Type(type = \"jsonb\")\n    @Column(name = \"details\", columnDefinition = \"jsonb\")\n    MyClass myclass;\n\n} \n</code></pre>\n\n<p>MyClass: </p>\n\n<pre><code>public class MyClass implements Serializable {\n    private String days;\n    private String value;\n\n    public String getDays() {\n        return days;\n    }\n\n    public void setDays(String days) {\n        this.days = days;\n    }\n\n    public String getValue() {\n        return value;\n    }\n\n    public void setValue(String value) {\n        this.value = value;\n    }\n\n    @Override\n    public String toString() {\n        return '{' + '\"' + days + '\"' + ':' + value + '}';\n    }\n}\n</code></pre>\n\n<p>MyDTO - </p>\n\n<pre><code>public class MyDTO {\n    @JsonProperty(\"details\")\n    MyClass myClass;\n\n}\n\n</code></pre>\n\n<p>criteria API : </p>\n\n<pre><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;Object[]&gt; criteriaQuery = criteriaBuilder.createQuery(Object[].class);\nRoot&lt;Test&gt; test = criteriaQuery.from(Test.class);\ncriteriaQuery.where(criteriaBuilder.equal(criteriaBuilder.lower(test.get(\"test_id\")), testId.toLowerCase()));\ncriteriaQuery.select(test.get(\"myclass\"));\nList&lt;Object[]&gt; result = entityManager.createQuery(criteriaQuery).getResultList();\n\n</code></pre>\n\n<p>error stacktrace: </p>\n\n<pre><code>Severe Error: \njava.lang.IllegalArgumentException: The given string value: { \"In last 7 days\" : 19 } cannot be transformed to Json object\n    at com.vladmihalcea.hibernate.type.json.internal.JacksonUtil.fromString(JacksonUtil.java:20)\n    at com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor.fromString(JsonTypeDescriptor.java:52)\n    at com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor.wrap(JsonTypeDescriptor.java:75)\n    at com.vladmihalcea.hibernate.type.json.internal.AbstractJsonSqlTypeDescriptor$1.doExtract(AbstractJsonSqlTypeDescriptor.java:34)\n    at org.hibernate.type.descriptor.sql.BasicExtractor.extract(BasicExtractor.java:47)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:257)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:253)\n    at org.hibernate.type.AbstractStandardBasicType.nullSafeGet(AbstractStandardBasicType.java:243)\n    at org.hibernate.loader.hql.QueryLoader.getResultRow(QueryLoader.java:457)\n    at org.hibernate.loader.hql.QueryLoader.getResultColumnOrRow(QueryLoader.java:440)\n    at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:775)\n    at org.hibernate.loader.Loader.processResultSet(Loader.java:1008)\n    at org.hibernate.loader.Loader.doQuery(Loader.java:964)\n    at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:354)\n    at org.hibernate.loader.Loader.doList(Loader.java:2838)\n    at org.hibernate.loader.Loader.doList(Loader.java:2820)\n    at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2652)\n    at org.hibernate.loader.Loader.list(Loader.java:2647)\n    at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:506)\n    at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:396)\n    at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:219)\n    at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1404)\n    at org.hibernate.query.internal.AbstractProducedQuery.doList(AbstractProducedQuery.java:1562)\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1530)\n    at org.hibernate.query.Query.getResultList(Query.java:165)\n    at org.hibernate.query.criteria.internal.compile.CriteriaQueryTypeQueryAdapter.getResultList(CriteriaQueryTypeQueryAdapter.java:76)\n    at com.test.getTestDetail(ServiceV2.java:108)\n    at com.test.ControllerV2.fetchDetail(ControllerV2.java:77)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:189)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:102)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:800)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1038)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:942)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1005)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:897)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:882)\n    at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:71)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:770)\n    at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:166)\n    at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:133)\n    at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:182)\n    at com.test.ControllerV2Test.testDetails(ControllerV2Test.java:153)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74)\n    at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n`\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1672837245,"post_id":75005807,"comment_id":132362020,"body_markdown":"*&quot;is it looping back to the lower limit?&quot;* - yes.","body":"<i>&quot;is it looping back to the lower limit?&quot;</i> - yes."},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672837398,"post_id":75005807,"comment_id":132362079,"body_markdown":"https://www.baeldung.com/java-arrays-max-size","body":"<a href=\"https://www.baeldung.com/java-arrays-max-size\" rel=\"nofollow noreferrer\">baeldung.com/java-arrays-max-size</a>"},{"owner":{"account_id":124787,"reputation":9383,"user_id":320111,"display_name":"Stephan Branczyk"},"score":1,"creation_date":1672837510,"post_id":75005807,"comment_id":132362124,"body_markdown":"Why do you need an array that huge? I think you&#39;re confusing the size of the array with the size of each int stored in each cell of the array. They&#39;re not the same.","body":"Why do you need an array that huge? I think you&#39;re confusing the size of the array with the size of each int stored in each cell of the array. They&#39;re not the same."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1672837535,"post_id":75005807,"comment_id":132362132,"body_markdown":"No. [JLS-10.4 Array Access](https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.4) says (in part) *Arrays must be indexed by int values; short, byte, or char values may also be used as index values because they are subjected to unary numeric promotion (&#167;5.6.1) and become int values. An attempt to access an array component with a long index value results in a compile-time error. All array accesses are checked at run time; an attempt to use an index that is less than zero or greater than or equal to the length of the array causes an ArrayIndexOutOfBoundsException to be thrown.*","body":"No. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-10.html#jls-10.4\" rel=\"nofollow noreferrer\">JLS-10.4 Array Access</a> says (in part) <i>Arrays must be indexed by int values; short, byte, or char values may also be used as index values because they are subjected to unary numeric promotion (&#167;5.6.1) and become int values. An attempt to access an array component with a long index value results in a compile-time error. All array accesses are checked at run time; an attempt to use an index that is less than zero or greater than or equal to the length of the array causes an ArrayIndexOutOfBoundsException to be thrown.</i>"}],"owner":{"account_id":21663167,"reputation":1,"user_id":15982016,"display_name":"Aditya Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672837229,"answer_count":0,"score":0,"last_activity_date":1672837261,"creation_date":1672837138,"question_id":75005807,"body_markdown":"I was trying to create a int[] type array in Java with a user input based length. Below is the code for the same :\r\n```\r\nint[] change = new int[max+1];\r\n```\r\nWhen the value of max = 2147483647, the compiler shows the below error code : \r\ntype here\r\n```\r\njava.lang.NegativeArraySizeException: -2147483648\r\n```\r\n\r\nI know that the upper limit for int in Java is -2147483648 to 2147483647 (-2&lt;sup&gt;31&lt;/sup&gt; to 2&lt;sup&gt;31&lt;/sup&gt;-1), but why is the size of array going negative with a addition (is it looping back to the lower limit?).\r\nThe problem remains the same with long[] type array. So, does Java not support array size above 2&lt;sup&gt;31&lt;/sup&gt;-1 ?","title":"Does Java support array size more than 2^31 -1?","body":"<p>I was trying to create a int[] type array in Java with a user input based length. Below is the code for the same :</p>\n<pre><code>int[] change = new int[max+1];\n</code></pre>\n<p>When the value of max = 2147483647, the compiler shows the below error code :\ntype here</p>\n<pre><code>java.lang.NegativeArraySizeException: -2147483648\n</code></pre>\n<p>I know that the upper limit for int in Java is -2147483648 to 2147483647 (-2<sup>31</sup> to 2<sup>31</sup>-1), but why is the size of array going negative with a addition (is it looping back to the lower limit?).\nThe problem remains the same with long[] type array. So, does Java not support array size above 2<sup>31</sup>-1 ?</p>\n"},{"tags":["javascript","java","node.js","arrays","byte"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1626097587,"post_id":68348429,"comment_id":120794831,"body_markdown":"Does this answer your question? [How to read a local text file?](https://stackoverflow.com/questions/14446447/how-to-read-a-local-text-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/14446447/how-to-read-a-local-text-file\">How to read a local text file?</a>"},{"owner":{"account_id":4541793,"reputation":26875,"user_id":3689450,"display_name":"VLAZ"},"score":1,"creation_date":1626097668,"post_id":68348429,"comment_id":120794868,"body_markdown":"@f1sh I don&#39;t see how it applies here. OP seems to want to read it from the disk, not as a web request to the local machine. And wants a byte array.","body":"@f1sh I don&#39;t see how it applies here. OP seems to want to read it from the disk, not as a web request to the local machine. And wants a byte array."},{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1626097806,"post_id":68348429,"comment_id":120794932,"body_markdown":"Have you tried: `[...myFileAsBuffer.values()]`? See: [`buf.values()`](https://nodejs.org/api/buffer.html#buffer_buf_values)","body":"Have you tried: <code>[...myFileAsBuffer.values()]</code>? See: <a href=\"https://nodejs.org/api/buffer.html#buffer_buf_values\" rel=\"nofollow noreferrer\"><code>buf.values()</code></a>"},{"owner":{"account_id":11377471,"reputation":586,"user_id":8341298,"accept_rate":50,"display_name":"schande"},"score":1,"creation_date":1626100746,"post_id":68348429,"comment_id":120796353,"body_markdown":"I did not know, that you could use the spread syntax like this. Thanks for your help!","body":"I did not know, that you could use the spread syntax like this. Thanks for your help!"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626118461,"creation_date":1626098030,"answer_id":68348583,"question_id":68348429,"body_markdown":"You should spread the iterable `values()` of the `Buffer` before calling `sendData`:\r\n\r\n```js\r\nsendData([...myFileAsBuffer.values()])\r\n```\r\n\r\nSee: [`buf.values()`](https://nodejs.org/api/buffer.html#buffer_buf_values)\r\n\r\n---\r\n\r\nHere is an equivalent example to Java:\r\n\r\n```js\r\nimport fs from &#39;fs&#39;;\r\n\r\nclass Files {\r\n  static readAllBytes(path) {\r\n    return [...fs.readFileSync(path, { flag: &#39;r&#39; }).values()];\r\n  }\r\n}\r\n\r\nsendData(Files.readAllBytes(&#39;/path/to/my.pdf&#39;));\r\n```\r\n\r\nNote that the `path` for the `fs.readFileSync` function can take [various types](https://nodejs.org/api/fs.html#fs_fs_readfilesync_path_options) i.e. `string`, `Buffer`, `URL`, or `integer`. The `static` function in the example above is assuming that your `path` is one of those four types.","title":"What is the Javascript equivalent of Java&#39;s Files.readAllBytes()?","body":"<p>You should spread the iterable <code>values()</code> of the <code>Buffer</code> before calling <code>sendData</code>:</p>\n<pre class=\"lang-js prettyprint-override\"><code>sendData([...myFileAsBuffer.values()])\n</code></pre>\n<p>See: <a href=\"https://nodejs.org/api/buffer.html#buffer_buf_values\" rel=\"nofollow noreferrer\"><code>buf.values()</code></a></p>\n<hr />\n<p>Here is an equivalent example to Java:</p>\n<pre class=\"lang-js prettyprint-override\"><code>import fs from 'fs';\n\nclass Files {\n  static readAllBytes(path) {\n    return [...fs.readFileSync(path, { flag: 'r' }).values()];\n  }\n}\n\nsendData(Files.readAllBytes('/path/to/my.pdf'));\n</code></pre>\n<p>Note that the <code>path</code> for the <code>fs.readFileSync</code> function can take <a href=\"https://nodejs.org/api/fs.html#fs_fs_readfilesync_path_options\" rel=\"nofollow noreferrer\">various types</a> i.e. <code>string</code>, <code>Buffer</code>, <code>URL</code>, or <code>integer</code>. The <code>static</code> function in the example above is assuming that your <code>path</code> is one of those four types.</p>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672837216,"creation_date":1672837216,"answer_id":75005828,"question_id":68348429,"body_markdown":"Just one important note to the other answer given:\r\n\r\nIn Node.js you should stay away from functions like `readFileSync`. As you know Node.js is single-threaded. And the moment you call a function like `readFileSync` you&#39;re locking up your entire application until the data is loaded from disk. *(like a short cardiac arrest)*\r\n\r\nSo, the better solution is to use `readFile` which can be used with a callback function or promise.\r\n\r\nThe only few times when `readFileSync` is acceptable, is when the application is still initializing, e.g. to load settings. For that reason, if you&#39;re making a client/server application, I would definitely stay away from `readFileSync`.\r\n\r\n    import { readFile } from &#39;node:fs/promises&#39;;\r\n    \r\n    // use in an async function:  \r\n    const contents = await readFile(filePath);","title":"What is the Javascript equivalent of Java&#39;s Files.readAllBytes()?","body":"<p>Just one important note to the other answer given:</p>\n<p>In Node.js you should stay away from functions like <code>readFileSync</code>. As you know Node.js is single-threaded. And the moment you call a function like <code>readFileSync</code> you're locking up your entire application until the data is loaded from disk. <em>(like a short cardiac arrest)</em></p>\n<p>So, the better solution is to use <code>readFile</code> which can be used with a callback function or promise.</p>\n<p>The only few times when <code>readFileSync</code> is acceptable, is when the application is still initializing, e.g. to load settings. For that reason, if you're making a client/server application, I would definitely stay away from <code>readFileSync</code>.</p>\n<pre><code>import { readFile } from 'node:fs/promises';\n\n// use in an async function:  \nconst contents = await readFile(filePath);\n</code></pre>\n"}],"owner":{"account_id":11377471,"reputation":586,"user_id":8341298,"accept_rate":50,"display_name":"schande"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68348583,"answer_count":2,"score":0,"last_activity_date":1672837216,"creation_date":1626097420,"question_id":68348429,"body_markdown":"I need to use javascript on my server application. I have a variable holding a path to a PDF.\r\n\r\nNow I want to read that file as a byte array to send it to another server. In Java, I would do something like this:\r\n\r\n    String myPath = &quot;\\path\\to\\my.pdf&quot;;\r\n\r\n    try {\r\n      byte [] myFile = Files.readAllBytes(Paths.get(myPath));\r\n\r\n      //Own function\r\n      sendData(myFile);\r\n    } catch (IO Exception e) {\r\n      e.printStackTrace();\r\n    } \r\n\r\nI don&#39;t know what the javascript equivalent would be to this. With the fs library I can only read a file as an object of type &#39;Buffer&#39;:\r\n\r\n    import fs from &#39;fs&#39;;\r\n    let myPath = &#39;\\path\\to\\my.pdf&#39;;\r\n    let myFileAsBuffer = fs.readFileSync(myPath, { flag: &#39;r&#39; });\r\n    //Own function\r\n    sendData(myFileAsBuffer);\r\n\r\nBut I always get an error because the server expects a byte array and not a Buffer, which looks something like this:\r\n\r\n    &lt;Buffer 25 50 44 46 2d 31 2e 35 0d 0a 25 b5 b5 b5 b5 0d 0a 31 20 30 20 6f 62 6a 0d 0a 3c 3c 2f 54 79 70 ...&gt;","title":"What is the Javascript equivalent of Java&#39;s Files.readAllBytes()?","body":"<p>I need to use javascript on my server application. I have a variable holding a path to a PDF.</p>\n<p>Now I want to read that file as a byte array to send it to another server. In Java, I would do something like this:</p>\n<pre><code>String myPath = &quot;\\path\\to\\my.pdf&quot;;\n\ntry {\n  byte [] myFile = Files.readAllBytes(Paths.get(myPath));\n\n  //Own function\n  sendData(myFile);\n} catch (IO Exception e) {\n  e.printStackTrace();\n} \n</code></pre>\n<p>I don't know what the javascript equivalent would be to this. With the fs library I can only read a file as an object of type 'Buffer':</p>\n<pre><code>import fs from 'fs';\nlet myPath = '\\path\\to\\my.pdf';\nlet myFileAsBuffer = fs.readFileSync(myPath, { flag: 'r' });\n//Own function\nsendData(myFileAsBuffer);\n</code></pre>\n<p>But I always get an error because the server expects a byte array and not a Buffer, which looks something like this:</p>\n<pre><code>&lt;Buffer 25 50 44 46 2d 31 2e 35 0d 0a 25 b5 b5 b5 b5 0d 0a 31 20 30 20 6f 62 6a 0d 0a 3c 3c 2f 54 79 70 ...&gt;\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","api","timestamp"],"comments":[{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672837223,"post_id":75005742,"comment_id":132362012,"body_markdown":"You actualy pasted empty repository, getMaxId method and timestamp field from entity. How we can know what did you save and what do you have in db?","body":"You actualy pasted empty repository, getMaxId method and timestamp field from entity. How we can know what did you save and what do you have in db?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1672874383,"post_id":75005742,"comment_id":132374223,"body_markdown":"I recommend you don’t use the old `Timestamp` class since it is poorly designed, a true hack. Best if you can use `timestamp with time zone` in the database for a timestamp and for instance `OffsetDateTime` in Java (`Instant` may or may not work).  If you insist on `timestamp without time zone`, then use `LocalDateTime` in Java. The mentioned Java c&#230;asses are from java.ime, the modern Java date and time API and are supported by Hibernate at least since version 5.0.","body":"I recommend you don’t use the old <code>Timestamp</code> class since it is poorly designed, a true hack. Best if you can use <code>timestamp with time zone</code> in the database for a timestamp and for instance <code>OffsetDateTime</code> in Java (<code>Instant</code> may or may not work).  If you insist on <code>timestamp without time zone</code>, then use <code>LocalDateTime</code> in Java. The mentioned Java c&#230;asses are from java.ime, the modern Java date and time API and are supported by Hibernate at least since version 5.0."}],"owner":{"account_id":26701272,"reputation":11,"user_id":20308284,"display_name":"Daniel Haring"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1672836855,"creation_date":1672836855,"question_id":75005742,"body_markdown":"I have the following Spring Boot Apllication to fetch data from a postgresql database. In this database there is a column with the datatype &quot;Timestamp Without Timezone&quot;.\r\n\r\n**Entity:**\r\n```\r\nprivate Timestamp timestamp;\r\n```\r\n**Controller:**\r\n```\r\n@GetMapping(&quot;url&quot;)\r\n    public ResponseEntity&lt;Messwerte&gt; getMaxId(){\r\n      return new ResponseEntity&lt;&gt;(this.messwertRepository.getMaxID(), HttpStatus.OK);\r\n    } \r\n```\r\n**Repository:**\r\n```\r\n@Repository\r\npublic interface MesswertRepository extends JpaRepository&lt;Messwerte, Long&gt; {}\r\n```\r\n\r\n\r\nWhen I start the apllication it retturns the following timestamp: **&quot;timestamp&quot;:&quot;1970-01-01T12:03:29.689+00:00&quot;**\r\n\r\n","title":"How to handle a timestamp-column with spring boot?","body":"<p>I have the following Spring Boot Apllication to fetch data from a postgresql database. In this database there is a column with the datatype &quot;Timestamp Without Timezone&quot;.</p>\n<p><strong>Entity:</strong></p>\n<pre><code>private Timestamp timestamp;\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>@GetMapping(&quot;url&quot;)\n    public ResponseEntity&lt;Messwerte&gt; getMaxId(){\n      return new ResponseEntity&lt;&gt;(this.messwertRepository.getMaxID(), HttpStatus.OK);\n    } \n</code></pre>\n<p><strong>Repository:</strong></p>\n<pre><code>@Repository\npublic interface MesswertRepository extends JpaRepository&lt;Messwerte, Long&gt; {}\n</code></pre>\n<p>When I start the apllication it retturns the following timestamp: <strong>&quot;timestamp&quot;:&quot;1970-01-01T12:03:29.689+00:00&quot;</strong></p>\n"},{"tags":["java","recursion","multidimensional-array"],"owner":{"account_id":26767590,"reputation":11,"user_id":20926237,"display_name":"Rami Mamadov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672836409,"creation_date":1672835808,"question_id":75005546,"body_markdown":"I have a two-dimensional array filled with non-negative numbers.\r\none cell in particular is equal to -1 (for example, the bottom right corner in the array below is -1).\r\n\r\nI have to return the minimum number of steps (starting from arr[0][0] only) to get to the -1.\r\n\r\nThe thing is:\r\nYou can think of every number in the array as a height of a rooftop.\r\n\r\nThe difference between cell values when moving in any direction is either &quot;climbing&quot; or &quot;going down&quot;:\r\n\r\nFor example, moving in any direction from a cell with the value 5, to a cell with the value 3 is considered &quot;going down&quot;, and the difference is 2.\r\n\r\nFor example, moving in any direction from a cell with the value 1, to a cell with the value 2, is considered &quot;climbing&quot;, and the difference is -1.\r\n\r\nIf the difference between cell values while &quot;climbing&quot; is smaller than -1,\r\nand the difference between cell values while &quot; going down&quot; is bigger than 2,\r\nThere are no legal options to move inside the array, and the recursive method will return -1.\r\n\r\nThe only exception is: if the value of the &quot;neighbor&quot; cell from any direction is the -1 we are searching for, we can immediately go there without having to consider the difference between the current cell and the &quot;neighbor&quot; cell.\r\n\r\nIf there is no valid path that starts in arr[0][0] and can find &quot;-1&quot; in the array, the recursive method should return -1. If there is a valid path the recursive method returns the minimum number of steps.\r\n\r\n```\r\n        System.out.println(&quot;[2,  0,  1,  2,  3]&quot;);\r\n        System.out.println(&quot;[2,  3,  5,  5,  4]&quot;);\r\n        System.out.println(&quot;[8,  5, -1,  8,  7]&quot;);\r\n        System.out.println(&quot;[3,  4,  7,  2,  4]&quot;);\r\n        System.out.println(&quot;[2,  4,  3,  1, -1]&quot;);\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI didn&#39;t manage to solve it without running into &quot;out of bounds&quot; errors, and logic errors.\r\nFor example, what shall I do when the difference between any direction while &quot;climbing&quot; or &quot;going down&quot; is the same?\r\n\r\nSo that&#39;s what I have tried:\r\n\r\n\r\n```\r\n public static int prince(int[][]drm, int i, int j){\r\n        return prince(drm, 0,0, 1);\r\n    }\r\n\r\n private static int prince(int[][]drm, int i, int j, int steps)\r\n    {\r\n        if(i&gt; drm.length-1 || j&gt;drm[drm.length-1].length) // out of bounds\r\n        {\r\n            return -1;\r\n        }\r\n        if(drm[i][j] == -1) // is the current cell is &quot;-1&quot;\r\n        {\r\n            return steps;\r\n        }\r\n        if(i&lt; drm.length-1)\r\n        {\r\n            if(drm[i+1][j] == -1) // if the neighbor below the cell is the &quot;-1&quot;\r\n            {\r\n                return steps + 1;\r\n            }\r\n        }\r\n        if(j&lt;drm[drm.length-1].length) // if the right neighbor of the cell is the &quot;-1&quot;\r\n        {\r\n            if(drm[i][j+1] == -1)\r\n            {\r\n                return steps + 1;\r\n            }\r\n        }\r\n        if(i&gt;0) { // if the neighbor above the cell is the &quot;-1&quot;\r\n            if (drm[i - 1][j] == 1) {\r\n                return steps + 1;\r\n            }\r\n        }\r\n        if(j&gt;0) // if the left neighbor of the cell is the &quot;-1&quot;\r\n        {\r\n            if (drm[i][j-1] == 1) {\r\n                return steps + 1;\r\n            }\r\n        }\r\n```\r\n\r\nso checking the neighbors to see if they&#39;re equal to -1 is ok. but I&#39;m not sure how to construct the next part, that actually contains the recursive call.\r\n\r\nI wanted to scan the array horizontally in each row, to the rightmost point, and when it gets there - to make j=0 again, go down a row (if possible) and make the number of steps as same as it would be if we would down initially instead of right.\r\n\r\nSomething amount those lines:\r\n\r\n\r\n```\r\n if(j == drm[drm.length-1].length) // if we got to the end of the row (rightmost column)\r\n        {\r\n            if(i &lt; drm.length-1){ // and we can go down without going out of bounds\r\n                int downDiff = drm[i][j] - drm[i+1][j];\r\n                if(!(downDiff &gt; 2) &amp;&amp; !(downDiff &lt; -1)){ // if the difference when going down is valid\r\n                    i++;\r\n                    j = 0;\r\n                    steps -= drm.length - 2;\r\n                } else{\r\n                    return -1;\r\n                }\r\n            }\r\n        }\r\n        if(j&lt;drm[drm.length-1].length) { // if we didn&#39;t get to the end of the row (not in the rightmost column)\r\n            int rightDiff = drm[i][j] - drm[i][j+1];\r\n            if(rightDiff &gt; 2 || rightDiff &lt; -1) // if right difference is not valid\r\n            {\r\n                return -1;\r\n            }\r\n            return prince(drm, i, j+1, steps+1);\r\n        }\r\n        return -1;\r\n    }\r\n} \r\n```\r\n\r\nso if you have any ideas, or smarter algorithms/approaches to this question I will be more than glad for any comments.\r\n","title":"How do I scan elements of a 2d array under certain conditions, when using recursion in Java?","body":"<p>I have a two-dimensional array filled with non-negative numbers.\none cell in particular is equal to -1 (for example, the bottom right corner in the array below is -1).</p>\n<p>I have to return the minimum number of steps (starting from arr[0][0] only) to get to the -1.</p>\n<p>The thing is:\nYou can think of every number in the array as a height of a rooftop.</p>\n<p>The difference between cell values when moving in any direction is either &quot;climbing&quot; or &quot;going down&quot;:</p>\n<p>For example, moving in any direction from a cell with the value 5, to a cell with the value 3 is considered &quot;going down&quot;, and the difference is 2.</p>\n<p>For example, moving in any direction from a cell with the value 1, to a cell with the value 2, is considered &quot;climbing&quot;, and the difference is -1.</p>\n<p>If the difference between cell values while &quot;climbing&quot; is smaller than -1,\nand the difference between cell values while &quot; going down&quot; is bigger than 2,\nThere are no legal options to move inside the array, and the recursive method will return -1.</p>\n<p>The only exception is: if the value of the &quot;neighbor&quot; cell from any direction is the -1 we are searching for, we can immediately go there without having to consider the difference between the current cell and the &quot;neighbor&quot; cell.</p>\n<p>If there is no valid path that starts in arr[0][0] and can find &quot;-1&quot; in the array, the recursive method should return -1. If there is a valid path the recursive method returns the minimum number of steps.</p>\n<pre><code>        System.out.println(&quot;[2,  0,  1,  2,  3]&quot;);\n        System.out.println(&quot;[2,  3,  5,  5,  4]&quot;);\n        System.out.println(&quot;[8,  5, -1,  8,  7]&quot;);\n        System.out.println(&quot;[3,  4,  7,  2,  4]&quot;);\n        System.out.println(&quot;[2,  4,  3,  1, -1]&quot;);\n</code></pre>\n<p>I didn't manage to solve it without running into &quot;out of bounds&quot; errors, and logic errors.\nFor example, what shall I do when the difference between any direction while &quot;climbing&quot; or &quot;going down&quot; is the same?</p>\n<p>So that's what I have tried:</p>\n<pre><code> public static int prince(int[][]drm, int i, int j){\n        return prince(drm, 0,0, 1);\n    }\n\n private static int prince(int[][]drm, int i, int j, int steps)\n    {\n        if(i&gt; drm.length-1 || j&gt;drm[drm.length-1].length) // out of bounds\n        {\n            return -1;\n        }\n        if(drm[i][j] == -1) // is the current cell is &quot;-1&quot;\n        {\n            return steps;\n        }\n        if(i&lt; drm.length-1)\n        {\n            if(drm[i+1][j] == -1) // if the neighbor below the cell is the &quot;-1&quot;\n            {\n                return steps + 1;\n            }\n        }\n        if(j&lt;drm[drm.length-1].length) // if the right neighbor of the cell is the &quot;-1&quot;\n        {\n            if(drm[i][j+1] == -1)\n            {\n                return steps + 1;\n            }\n        }\n        if(i&gt;0) { // if the neighbor above the cell is the &quot;-1&quot;\n            if (drm[i - 1][j] == 1) {\n                return steps + 1;\n            }\n        }\n        if(j&gt;0) // if the left neighbor of the cell is the &quot;-1&quot;\n        {\n            if (drm[i][j-1] == 1) {\n                return steps + 1;\n            }\n        }\n</code></pre>\n<p>so checking the neighbors to see if they're equal to -1 is ok. but I'm not sure how to construct the next part, that actually contains the recursive call.</p>\n<p>I wanted to scan the array horizontally in each row, to the rightmost point, and when it gets there - to make j=0 again, go down a row (if possible) and make the number of steps as same as it would be if we would down initially instead of right.</p>\n<p>Something amount those lines:</p>\n<pre><code> if(j == drm[drm.length-1].length) // if we got to the end of the row (rightmost column)\n        {\n            if(i &lt; drm.length-1){ // and we can go down without going out of bounds\n                int downDiff = drm[i][j] - drm[i+1][j];\n                if(!(downDiff &gt; 2) &amp;&amp; !(downDiff &lt; -1)){ // if the difference when going down is valid\n                    i++;\n                    j = 0;\n                    steps -= drm.length - 2;\n                } else{\n                    return -1;\n                }\n            }\n        }\n        if(j&lt;drm[drm.length-1].length) { // if we didn't get to the end of the row (not in the rightmost column)\n            int rightDiff = drm[i][j] - drm[i][j+1];\n            if(rightDiff &gt; 2 || rightDiff &lt; -1) // if right difference is not valid\n            {\n                return -1;\n            }\n            return prince(drm, i, j+1, steps+1);\n        }\n        return -1;\n    }\n} \n</code></pre>\n<p>so if you have any ideas, or smarter algorithms/approaches to this question I will be more than glad for any comments.</p>\n"},{"tags":["java","android","google-maps"],"answers":[{"tags":[],"owner":{"account_id":14986983,"reputation":81,"user_id":10819264,"display_name":"Meet Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554964302,"creation_date":1554964302,"answer_id":55626047,"question_id":55625304,"body_markdown":"You can use the function distanceBetween which Computes the approximate distance in meters between two locations, and optionally the initial and final bearings of the shortest path between them.\r\n\r\n    public static boolean checkDistance(LatLng oldPosition, LatLng newPosition) {\r\n            float[] results = new float[1];\r\n            Location.distanceBetween(oldPosition.latitude, oldPosition.longitude,\r\n                    newPosition.latitude, newPosition.longitude, results);\r\n            return results[0] &lt;= 50.0;\r\n        }\r\nHere i set minimum distance 50 meter. these will return true if your current location(latlon) is within 50 miters from your polyline latlon.","title":"Java android google maps change color polyline where I was","body":"<p>You can use the function distanceBetween which Computes the approximate distance in meters between two locations, and optionally the initial and final bearings of the shortest path between them.</p>\n\n<pre><code>public static boolean checkDistance(LatLng oldPosition, LatLng newPosition) {\n        float[] results = new float[1];\n        Location.distanceBetween(oldPosition.latitude, oldPosition.longitude,\n                newPosition.latitude, newPosition.longitude, results);\n        return results[0] &lt;= 50.0;\n    }\n</code></pre>\n\n<p>Here i set minimum distance 50 meter. these will return true if your current location(latlon) is within 50 miters from your polyline latlon.</p>\n"},{"tags":[],"owner":{"account_id":8441805,"reputation":2533,"user_id":6334037,"display_name":"Jitesh Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672836103,"creation_date":1554964786,"answer_id":55626154,"question_id":55625304,"body_markdown":"Define color value in `colors.xml`\r\n\r\n**colors.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n        &lt;color name=&quot;blue&quot;&gt;#0000EE&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n\r\nand set color like this :- \r\n\r\n    Polyline line = mMap.addPolyline(new PolylineOptions()\r\n                    .addAll(list)\r\n                    .color(R.color.blue));\r\n\r\n\r\n**EDIT**\r\n\r\n    mMap.setOnMyLocationChangeListener(new GoogleMap.OnMyLocationChangeListener() {\r\n                @Override\r\n                public void onMyLocationChange(Location location) {\r\n    \r\n                    for (LatLng nLatLng : latLngsList) {\r\n    \r\n                        double latitude = nLatLng.latitude;\r\n                        double longitude = nLatLng.longitude;\r\n                        double myLat = location.getLatitude();\r\n                        double myLong = location.getLongitude();\r\n                        \r\n                        if (latitude == myLat &amp;&amp; longitude == myLong) {\r\n    \r\n    \r\n                            Polyline polyline1 = googleMap.addPolyline(new PolylineOptions()\r\n                                    .add(nLatLng)\r\n                                    .color(R.color.blue));\r\n                        } /*else {\r\n                            Polyline polyline1 = googleMap.addPolyline(new PolylineOptions()\r\n                                    .add(nLatLng)\r\n                                    .color(R.color.black));\r\n                        }*/\r\n                    }\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\nSee also: [update-polyline-according-to-the-user-moving-android-googlemaps][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17038258/update-polyline-according-to-the-user-moving-android-googlemaps-v2","title":"Java android google maps change color polyline where I was","body":"<p>Define color value in <code>colors.xml</code></p>\n<p><strong>colors.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;resources&gt;\n    &lt;color name=&quot;blue&quot;&gt;#0000EE&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>and set color like this :-</p>\n<pre><code>Polyline line = mMap.addPolyline(new PolylineOptions()\n                .addAll(list)\n                .color(R.color.blue));\n</code></pre>\n<p><strong>EDIT</strong></p>\n<pre><code>mMap.setOnMyLocationChangeListener(new GoogleMap.OnMyLocationChangeListener() {\n            @Override\n            public void onMyLocationChange(Location location) {\n\n                for (LatLng nLatLng : latLngsList) {\n\n                    double latitude = nLatLng.latitude;\n                    double longitude = nLatLng.longitude;\n                    double myLat = location.getLatitude();\n                    double myLong = location.getLongitude();\n                    \n                    if (latitude == myLat &amp;&amp; longitude == myLong) {\n\n\n                        Polyline polyline1 = googleMap.addPolyline(new PolylineOptions()\n                                .add(nLatLng)\n                                .color(R.color.blue));\n                    } /*else {\n                        Polyline polyline1 = googleMap.addPolyline(new PolylineOptions()\n                                .add(nLatLng)\n                                .color(R.color.black));\n                    }*/\n                }\n\n\n            }\n        });\n</code></pre>\n<p>See also: <a href=\"https://stackoverflow.com/questions/17038258/update-polyline-according-to-the-user-moving-android-googlemaps-v2\">update-polyline-according-to-the-user-moving-android-googlemaps</a></p>\n"}],"owner":{"account_id":15706315,"reputation":429,"user_id":11332949,"display_name":"kiki Kala2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672836103,"creation_date":1554960463,"question_id":55625304,"body_markdown":"This is how I draw a polyline :\r\n\r\n     List&lt;LatLng&gt; latLngsList = new ArrayList&lt;&gt;();\r\n                for (LegsItem leg : response.body().getRoutes().get(0).getLegs()) {\r\n                    for (StepsItem step : leg.getSteps()) {\r\n                        List&lt;LatLng&gt; latLngs = PolyUtil.decode(step.getGeometry());\r\n                        step.setLatLngs(latLngs);\r\n                        latLngsList.addAll(latLngs);\r\n                    }\r\n                }\r\n\r\n                Polyline polyline1 = googleMap.addPolyline(new PolylineOptions()\r\n                        .addAll(latLngsList));\r\n\r\n\r\nI draw this on color black but when I am on the polyline(In LatLtg), I want to change the color to blue. To detect if I am on the point, I use the below:\r\n  \r\n\r\n    mMap.setOnMyLocationChangeListener \r\n\r\nand check if the first not done point is near than 2 m :\r\n            \r\n\r\n    double dis = currentLocation.distanceTo(location);\r\n\r\nBut it does not work correctly\r\n\r\n","title":"Java android google maps change color polyline where I was","body":"<p>This is how I draw a polyline :</p>\n\n<pre><code> List&lt;LatLng&gt; latLngsList = new ArrayList&lt;&gt;();\n            for (LegsItem leg : response.body().getRoutes().get(0).getLegs()) {\n                for (StepsItem step : leg.getSteps()) {\n                    List&lt;LatLng&gt; latLngs = PolyUtil.decode(step.getGeometry());\n                    step.setLatLngs(latLngs);\n                    latLngsList.addAll(latLngs);\n                }\n            }\n\n            Polyline polyline1 = googleMap.addPolyline(new PolylineOptions()\n                    .addAll(latLngsList));\n</code></pre>\n\n<p>I draw this on color black but when I am on the polyline(In LatLtg), I want to change the color to blue. To detect if I am on the point, I use the below:</p>\n\n<pre><code>mMap.setOnMyLocationChangeListener \n</code></pre>\n\n<p>and check if the first not done point is near than 2 m :</p>\n\n<pre><code>double dis = currentLocation.distanceTo(location);\n</code></pre>\n\n<p>But it does not work correctly</p>\n"},{"tags":["java","file","download","vaadin8"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1665767996,"post_id":74071416,"comment_id":130782949,"body_markdown":"Vaadin 8 has classes like FileResource, ClassResource, ThemeReseource. It depends on where exectly your file is what is correct to use. E.g. is it in the class path or theme folder?","body":"Vaadin 8 has classes like FileResource, ClassResource, ThemeReseource. It depends on where exectly your file is what is correct to use. E.g. is it in the class path or theme folder?"}],"answers":[{"tags":[],"owner":{"account_id":4430906,"reputation":3990,"user_id":3608089,"display_name":"ollitietavainen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672835888,"creation_date":1672835888,"answer_id":75005557,"question_id":74071416,"body_markdown":"You can use the `FileDownloader` extension for this purpose. The `FileDownloader` is attached to some Component and it takes a `Resource` object which determines how to find the file content:\r\n\r\n```\r\n   Button downloadButton = new Button(&quot;Download file&quot;);\r\n   Resource myResource = createResource();\r\n   FileDownloader fileDownloader = new FileDownloader(myResource);\r\n   fileDownloader.extend(downloadButton);\r\n   layout.add(downloadButton);\r\n```\r\n\r\nThe `Resource` interface has several implementing types which offer different ways of defining the file. For example, if your file is a part of your theme (placed under your theme folder), you can use `ThemeResource`. You can find more information about different `Resource` types in the documentation: https://vaadin.com/docs/v8/framework/application/application-resources/#application.resources.api","title":"Vaadin 8 -java - How to download a file from a path in a project","body":"<p>You can use the <code>FileDownloader</code> extension for this purpose. The <code>FileDownloader</code> is attached to some Component and it takes a <code>Resource</code> object which determines how to find the file content:</p>\n<pre><code>   Button downloadButton = new Button(&quot;Download file&quot;);\n   Resource myResource = createResource();\n   FileDownloader fileDownloader = new FileDownloader(myResource);\n   fileDownloader.extend(downloadButton);\n   layout.add(downloadButton);\n</code></pre>\n<p>The <code>Resource</code> interface has several implementing types which offer different ways of defining the file. For example, if your file is a part of your theme (placed under your theme folder), you can use <code>ThemeResource</code>. You can find more information about different <code>Resource</code> types in the documentation: <a href=\"https://vaadin.com/docs/v8/framework/application/application-resources/#application.resources.api\" rel=\"nofollow noreferrer\">https://vaadin.com/docs/v8/framework/application/application-resources/#application.resources.api</a></p>\n"}],"owner":{"account_id":26623822,"reputation":1,"user_id":20242168,"display_name":"Edoardo Bertazzo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672835888,"creation_date":1665760719,"question_id":74071416,"body_markdown":"I&#39;m trying to download a pdf file contained in a folder of my project. I don&#39;t know how to do. I&#39;m using vaadin 8 and java","title":"Vaadin 8 -java - How to download a file from a path in a project","body":"<p>I'm trying to download a pdf file contained in a folder of my project. I don't know how to do. I'm using vaadin 8 and java</p>\n"},{"tags":["java","android","api","android-studio","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672835796,"creation_date":1672835796,"answer_id":75005543,"question_id":73291892,"body_markdown":"`ShineButton` uses `com.daasuu:EasingInterpolator:1.3.0` dependency for animation effects and this dependency has been upgraded to `1.3.2` (see [EasingInterpolator in GitHub][1]) but ShineButton` has not updated his dependency while many have noticed to the author. (see [here][2]). So this library won&#39;t work until the author updates the dependency.\r\n\r\nYou can download the source file and fix the dependency version then follow this post.\r\nhttps://stackoverflow.com/q/35223028/6576302\r\n\r\n  [1]: https://github.com/MasayukiSuda/EasingInterpolator\r\n  [2]: https://github.com/ChadCSong/ShineButton/issues","title":"Android build Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;","body":"<p><code>ShineButton</code> uses <code>com.daasuu:EasingInterpolator:1.3.0</code> dependency for animation effects and this dependency has been upgraded to <code>1.3.2</code> (see <a href=\"https://github.com/MasayukiSuda/EasingInterpolator\" rel=\"nofollow noreferrer\">EasingInterpolator in GitHub</a>) but ShineButton` has not updated his dependency while many have noticed to the author. (see <a href=\"https://github.com/ChadCSong/ShineButton/issues\" rel=\"nofollow noreferrer\">here</a>). So this library won't work until the author updates the dependency.</p>\n<p>You can download the source file and fix the dependency version then follow this post.\n<a href=\"https://stackoverflow.com/q/35223028/6576302\">how to add another project in my existing Android Studio project?</a></p>\n"}],"owner":{"account_id":25907393,"reputation":39,"user_id":19632259,"display_name":"user19632259"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672835796,"creation_date":1660048400,"question_id":73291892,"body_markdown":"i tried to use shinebutton api (https://github.com/ChadCSong/ShineButton)\r\n\r\nHowever, the following error appears during the build phase :(\r\n\r\nIt is an error that has not occurred before and occurs after adding code to gradle.\r\n\r\nhelp me\r\n\r\nerror : ```Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;.```\r\n\r\n\r\ncode : ```implementation &#39;com.sackcentury:shinebutton:1.0.0&#39;```","title":"Android build Could not resolve all files for configuration &#39;:app:debugCompileClasspath&#39;","body":"<p>i tried to use shinebutton api (<a href=\"https://github.com/ChadCSong/ShineButton\" rel=\"nofollow noreferrer\">https://github.com/ChadCSong/ShineButton</a>)</p>\n<p>However, the following error appears during the build phase :(</p>\n<p>It is an error that has not occurred before and occurs after adding code to gradle.</p>\n<p>help me</p>\n<p>error : <code>Caused by: org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException: Could not resolve all files for configuration ':app:debugCompileClasspath'.</code></p>\n<p>code : <code>implementation 'com.sackcentury:shinebutton:1.0.0'</code></p>\n"},{"tags":["java","elasticsearch","elasticsearch-high-level-restclient"],"answers":[{"comments":[{"owner":{"account_id":9329868,"reputation":745,"user_id":6925954,"display_name":"sjsj15"},"score":0,"creation_date":1656998927,"post_id":72862927,"comment_id":128698571,"body_markdown":"So for ES 8.0.1 version I am using &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt; &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt; &lt;version&gt;7.17.1&lt;/version&gt; dependency, which gives errors related to org.apache.lucene.search library. I tried with HLRC version 7.17.5 as well but no luck","body":"So for ES 8.0.1 version I am using &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt; &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&zwnj;&#8203;&gt; &lt;version&gt;7.17.1&lt;/version&gt; dependency, which gives errors related to org.apache.lucene.search library. I tried with HLRC version 7.17.5 as well but no luck"}],"tags":[],"owner":{"account_id":278525,"reputation":10554,"user_id":573153,"accept_rate":94,"display_name":"xeraa"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656980155,"creation_date":1656980155,"answer_id":72862927,"question_id":72855165,"body_markdown":"Generally, you should start looking at the new Java API Client. Though it doesn&#39;t need to be immediately and you can also do a piece by piece migration if that makes it easier (see https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/migrate-hlrc.html).\r\n\r\nFor your specific problem:\r\n&gt; Since High-level Rest Client is now deprecated I am unable to resolve dependencies in order to use the HLRC existing code with Elasticsearch Version 8.x\r\n\r\nWhat&#39;s the dependency you cannot resolve? Because the old HLRC should be able to work with 8.x — quote from the documentation link you&#39;ve posted:\r\n&gt; The High Level Client version 7.16 and higher can communicate with Elasticsearch version 8.x after enabling API compatibility mode. When this mode is enabled, the client will send HTTP headers that instruct Elasticsearch 8.x to honor 7.x request/responses.\r\n\r\nAnd the new Java API Client also supports JDK 8 or newer, see https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/installation.html.","title":"Migrating to Elasticsearch 8.x from ES 7.17.5","body":"<p>Generally, you should start looking at the new Java API Client. Though it doesn't need to be immediately and you can also do a piece by piece migration if that makes it easier (see <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/migrate-hlrc.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/migrate-hlrc.html</a>).</p>\n<p>For your specific problem:</p>\n<blockquote>\n<p>Since High-level Rest Client is now deprecated I am unable to resolve dependencies in order to use the HLRC existing code with Elasticsearch Version 8.x</p>\n</blockquote>\n<p>What's the dependency you cannot resolve? Because the old HLRC should be able to work with 8.x — quote from the documentation link you've posted:</p>\n<blockquote>\n<p>The High Level Client version 7.16 and higher can communicate with Elasticsearch version 8.x after enabling API compatibility mode. When this mode is enabled, the client will send HTTP headers that instruct Elasticsearch 8.x to honor 7.x request/responses.</p>\n</blockquote>\n<p>And the new Java API Client also supports JDK 8 or newer, see <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/installation.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/installation.html</a>.</p>\n"},{"comments":[{"owner":{"account_id":25387243,"reputation":75,"user_id":19198847,"display_name":"Umang Pachaury"},"score":0,"creation_date":1672896968,"post_id":75004962,"comment_id":132377634,"body_markdown":"If Even now you are facing any error. Please paste the source code and the error here.","body":"If Even now you are facing any error. Please paste the source code and the error here."}],"tags":[],"owner":{"account_id":25387243,"reputation":75,"user_id":19198847,"display_name":"Umang Pachaury"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672835445,"creation_date":1672832702,"answer_id":75004962,"question_id":72855165,"body_markdown":"If you have ElasticSearch (Version 8.x) running externally and have a java application communicating with it using elasticsearch clients. The only change you have to do is during the client initialization and that is to enable the compatibility mode and all things should work correctly. I am assuming that all three of your dependencies regarding the HLRC are of the same version. The ElasticSearch Server,High level rest client and the Rest Client.","title":"Migrating to Elasticsearch 8.x from ES 7.17.5","body":"<p>If you have ElasticSearch (Version 8.x) running externally and have a java application communicating with it using elasticsearch clients. The only change you have to do is during the client initialization and that is to enable the compatibility mode and all things should work correctly. I am assuming that all three of your dependencies regarding the HLRC are of the same version. The ElasticSearch Server,High level rest client and the Rest Client.</p>\n"}],"owner":{"account_id":9329868,"reputation":745,"user_id":6925954,"display_name":"sjsj15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2896,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672835445,"creation_date":1656929886,"question_id":72855165,"body_markdown":"We are using Elasticsearch 7.17.5 which is used by a Java 8 application. We are planning to upgrade to Elasticsearch 8.x.\r\n\r\nSince High-level Rest Client is now deprecated I am unable to resolve dependencies in order to use the HLRC existing code with Elasticsearch Version 8.x.( [High Level Client compatibilty with ES 8][1] )\r\n\r\nWhich version of elasticsearch-rest-high-level-client should we use?\r\n\r\nAlso do we need to migrate our java application to java 17?\r\n \r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html#:~:text=The%20High%20Level%20Client%20version,communicate%20with%20Elasticsearch%20version%208.","title":"Migrating to Elasticsearch 8.x from ES 7.17.5","body":"<p>We are using Elasticsearch 7.17.5 which is used by a Java 8 application. We are planning to upgrade to Elasticsearch 8.x.</p>\n<p>Since High-level Rest Client is now deprecated I am unable to resolve dependencies in order to use the HLRC existing code with Elasticsearch Version 8.x.( <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-compatibility.html#:%7E:text=The%20High%20Level%20Client%20version,communicate%20with%20Elasticsearch%20version%208.\" rel=\"nofollow noreferrer\">High Level Client compatibilty with ES 8</a> )</p>\n<p>Which version of elasticsearch-rest-high-level-client should we use?</p>\n<p>Also do we need to migrate our java application to java 17?</p>\n"},{"tags":["java","hex","byte","endianness"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1667436023,"post_id":74296978,"comment_id":131169315,"body_markdown":"A `byte` is a signed integer between -128 and 127, when it is promoted to an int it is sign-extended. `Integer.toHexString(b &amp; 0xff)` should accomplish what you want.","body":"A <code>byte</code> is a signed integer between -128 and 127, when it is promoted to an int it is sign-extended. <code>Integer.toHexString(b &amp; 0xff)</code> should accomplish what you want."},{"owner":{"account_id":5280798,"reputation":135,"user_id":4216247,"accept_rate":27,"display_name":"Jasmine"},"score":0,"creation_date":1667508823,"post_id":74296978,"comment_id":131189782,"body_markdown":"Thank you this worked. Is it possible to convert the overall array to HexString rather than looping through each byte and converting it to Hex?","body":"Thank you this worked. Is it possible to convert the overall array to HexString rather than looping through each byte and converting it to Hex?"},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1667515160,"post_id":74296978,"comment_id":131191345,"body_markdown":"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667471333,"creation_date":1667471333,"answer_id":74301535,"question_id":74296978,"body_markdown":"`System.out.printf(&quot;%02X &quot;, b);` \r\n\r\nIs what you need","title":"Convert Integer to Hex-&gt; LittleEndian format in Java","body":"<p><code>System.out.printf(&quot;%02X &quot;, b);</code></p>\n<p>Is what you need</p>\n"},{"comments":[{"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"score":0,"creation_date":1672835311,"post_id":75005438,"comment_id":132361389,"body_markdown":"I didn&#39;t want to go too far off-topic. But a long time ago, I wrote a summary of different byte manipulation tools here: https://stackoverflow.com/questions/5210840/when-to-use-byte-array-when-byte-buffer/32045701#32045701","body":"I didn&#39;t want to go too far off-topic. But a long time ago, I wrote a summary of different byte manipulation tools here: <a href=\"https://stackoverflow.com/questions/5210840/when-to-use-byte-array-when-byte-buffer/32045701#32045701\" title=\"when to use byte array when byte buffer\">stackoverflow.com/questions/5210840/&hellip;</a>"}],"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672835238,"creation_date":1672835238,"answer_id":75005438,"question_id":74296978,"body_markdown":"In addition to the other answer of @g00se,\r\n\r\nIt may also be worth noting that an `int` consumes 4 bytes in java.\r\nFor that reason you are forced to allocate 4 bytes in your example.\r\n\r\nHowever, a `short` is only 2 bytes.\r\n\r\n    ByteBuffer bb = ByteBuffer.allocate(2);\r\n    bb.order(ByteOrder.LITTLE_ENDIAN);\r\n    bb.putShort((short)value);\r\n\r\nThat will get rid of the unnecessary bytes.","title":"Convert Integer to Hex-&gt; LittleEndian format in Java","body":"<p>In addition to the other answer of @g00se,</p>\n<p>It may also be worth noting that an <code>int</code> consumes 4 bytes in java.\nFor that reason you are forced to allocate 4 bytes in your example.</p>\n<p>However, a <code>short</code> is only 2 bytes.</p>\n<pre><code>ByteBuffer bb = ByteBuffer.allocate(2);\nbb.order(ByteOrder.LITTLE_ENDIAN);\nbb.putShort((short)value);\n</code></pre>\n<p>That will get rid of the unnecessary bytes.</p>\n"}],"owner":{"account_id":5280798,"reputation":135,"user_id":4216247,"accept_rate":27,"display_name":"Jasmine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672835238,"creation_date":1667435409,"question_id":74296978,"body_markdown":"I am trying to get the Little Endian format value in Hex(in Java) for my code but getting fffff in the first digit and not getting the value similar to what this site returns: [https://www.rapidtables.com/convert/number/decimal-to-hex.html][1]\r\n\r\n Here is the code: \r\n\r\n    private static void convertToHex() {\r\n\r\n\t\tString hextestValue = Integer.toHexString(1234);\r\n\t\tint value = Integer.parseInt(hextestValue, 16);\r\n\t\tByteBuffer bb = ByteBuffer.allocate(4);\r\n\t\tbb.order(ByteOrder.LITTLE_ENDIAN);\r\n\t\tbb.putInt(value);\r\n\t\tSystem.out.print(&quot;x = &quot;);\r\n\t\tfor (byte b : bb.array()) {\r\n\t\t\tSystem.out.printf(&quot;%2s&quot;, Integer.toHexString(b) + &quot; &quot;);\r\n\t\t}\r\n\r\n\t}\r\nNot sure what needs to be done to return the result in similar format.\r\n\r\ne.g. for input 1234 I need the output: D2\t04\r\n\r\n  [1]: https://www.rapidtables.com/convert/number/decimal-to-hex.html","title":"Convert Integer to Hex-&gt; LittleEndian format in Java","body":"<p>I am trying to get the Little Endian format value in Hex(in Java) for my code but getting fffff in the first digit and not getting the value similar to what this site returns: <a href=\"https://www.rapidtables.com/convert/number/decimal-to-hex.html\" rel=\"nofollow noreferrer\">https://www.rapidtables.com/convert/number/decimal-to-hex.html</a></p>\n<p>Here is the code:</p>\n<pre><code>private static void convertToHex() {\n\n    String hextestValue = Integer.toHexString(1234);\n    int value = Integer.parseInt(hextestValue, 16);\n    ByteBuffer bb = ByteBuffer.allocate(4);\n    bb.order(ByteOrder.LITTLE_ENDIAN);\n    bb.putInt(value);\n    System.out.print(&quot;x = &quot;);\n    for (byte b : bb.array()) {\n        System.out.printf(&quot;%2s&quot;, Integer.toHexString(b) + &quot; &quot;);\n    }\n\n}\n</code></pre>\n<p>Not sure what needs to be done to return the result in similar format.</p>\n<p>e.g. for input 1234 I need the output: D2   04</p>\n"},{"tags":["java","maven","annotations","swagger","importerror"],"answers":[{"tags":[],"owner":{"account_id":14751077,"reputation":556,"user_id":10653163,"display_name":"Bal&#225;zs B&#246;rcs&#246;k"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634223625,"creation_date":1634223625,"answer_id":69572984,"question_id":69555126,"body_markdown":"The &quot;problem&quot; was that [Springdoc][1] is used and originally I made the assumption that Springfox or a plain Swagger 2 dependency is used, as it was not removed from the codebase.\r\n\r\nTo fix the issue, we just simply need to add the right dependency and use the new annotations, which are mapped to the old ones like [explained here][2].\r\n\r\n\r\n  [1]: https://springdoc.org/#Introduction\r\n  [2]: https://springdoc.org/#migrating-from-springfox","title":"Can not import @ApiParam or @ApiModelProperty annotation eventough Swagger is added as a Maven dependency","body":"<p>The &quot;problem&quot; was that <a href=\"https://springdoc.org/#Introduction\" rel=\"noreferrer\">Springdoc</a> is used and originally I made the assumption that Springfox or a plain Swagger 2 dependency is used, as it was not removed from the codebase.</p>\n<p>To fix the issue, we just simply need to add the right dependency and use the new annotations, which are mapped to the old ones like <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"noreferrer\">explained here</a>.</p>\n"}],"owner":{"account_id":14751077,"reputation":556,"user_id":10653163,"display_name":"Bal&#225;zs B&#246;rcs&#246;k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7593,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69572984,"answer_count":1,"score":5,"last_activity_date":1672835170,"creation_date":1634126215,"question_id":69555126,"body_markdown":"I am working on a project where we document our backend&#39;s API with Swagger. I would like to use annotation based configuration for Swagger. For my controller classes using `@Tag`, `@Operation` and `@ApiResponses` works just fine and they can be imported with the following statements:\r\n```java\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\n```\r\nHowever if I try to add either `@ApiParam` or `@ApiModel` to my code, I am unable to import them in any way.\r\n\r\nIn my `POM.xml` I added Swagger as the following dependency:\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWhat is it that I am missing here? I tried following [this Baeldung article][1] and example code, however I could not get it to work. Thanks for the help!\r\n\r\n\r\n  [1]: https://www.baeldung.com/swagger-apiparam-vs-apimodelproperty","title":"Can not import @ApiParam or @ApiModelProperty annotation eventough Swagger is added as a Maven dependency","body":"<p>I am working on a project where we document our backend's API with Swagger. I would like to use annotation based configuration for Swagger. For my controller classes using <code>@Tag</code>, <code>@Operation</code> and <code>@ApiResponses</code> works just fine and they can be imported with the following statements:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.responses.ApiResponses;\nimport io.swagger.v3.oas.annotations.tags.Tag;\n</code></pre>\n<p>However if I try to add either <code>@ApiParam</code> or <code>@ApiModel</code> to my code, I am unable to import them in any way.</p>\n<p>In my <code>POM.xml</code> I added Swagger as the following dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/io.swagger.core.v3/swagger-annotations --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n    &lt;artifactId&gt;swagger-annotations&lt;/artifactId&gt;\n    &lt;version&gt;2.1.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What is it that I am missing here? I tried following <a href=\"https://www.baeldung.com/swagger-apiparam-vs-apimodelproperty\" rel=\"noreferrer\">this Baeldung article</a> and example code, however I could not get it to work. Thanks for the help!</p>\n"},{"tags":["java","unit-testing","mockito","testng"],"comments":[{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":0,"creation_date":1463562948,"post_id":37295096,"comment_id":62113605,"body_markdown":"If you use TestNG then for expected exceptions you should use `expectedExceptions` attribute of the `@Test` annotation instead of using `try catch` blocks.","body":"If you use TestNG then for expected exceptions you should use <code>expectedExceptions</code> attribute of the <code>@Test</code> annotation instead of using <code>try catch</code> blocks."},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1463563007,"post_id":37295096,"comment_id":62113655,"body_markdown":"But in that case I&#39;m not able to use verify(), because test code will never get there","body":"But in that case I&#39;m not able to use verify(), because test code will never get there"},{"owner":{"account_id":3028916,"reputation":35518,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"score":2,"creation_date":1463563039,"post_id":37295096,"comment_id":62113678,"body_markdown":"Possible duplicate of [Mockito How to mock and assert a thrown exception?](http://stackoverflow.com/questions/16243580/mockito-how-to-mock-and-assert-a-thrown-exception)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/16243580/mockito-how-to-mock-and-assert-a-thrown-exception\">Mockito How to mock and assert a thrown exception?</a>"},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":0,"creation_date":1463563222,"post_id":37295096,"comment_id":62113815,"body_markdown":"@kordirko thanks for the link, but the only usable answer contains limitation &quot;Only Mockito up to 1.10.8 is supported&quot;. However I&#39;ll give it chance, even if my Mockito version is 1.10.19","body":"@kordirko thanks for the link, but the only usable answer contains limitation &quot;Only Mockito up to 1.10.8 is supported&quot;. However I&#39;ll give it chance, even if my Mockito version is 1.10.19"},{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":1,"creation_date":1463563389,"post_id":37295096,"comment_id":62113945,"body_markdown":"@Michal If I were you I would separate those two concerns. First I would check if the exception was thrown by using the `expectedExpections` attribute. Then the second aspect of whether a method was never called I would put in a separate test with defined dependency using `@Test(dependsOnMethods = &quot;testExceptionAndNoInteractionWithMethod&quot;)` to the first one (you will probably want to rename this dependency method to something like `testExpection`). I see that you store the `subComponentMock` as a test class attribute anyway, so this should not be a problem for you at all.","body":"@Michal If I were you I would separate those two concerns. First I would check if the exception was thrown by using the <code>expectedExpections</code> attribute. Then the second aspect of whether a method was never called I would put in a separate test with defined dependency using <code>@Test(dependsOnMethods = &quot;testExceptionAndNoInteractionWithMethod&quot;)</code> to the first one (you will probably want to rename this dependency method to something like <code>testExpection</code>). I see that you store the <code>subComponentMock</code> as a test class attribute anyway, so this should not be a problem for you at all."}],"answers":[{"comments":[{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":1,"creation_date":1463568573,"post_id":37295594,"comment_id":62117517,"body_markdown":"Thank you for this answer. A fierce discussion started in our team, I will get back after.","body":"Thank you for this answer. A fierce discussion started in our team, I will get back after."},{"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"score":1,"creation_date":1463731624,"post_id":37295594,"comment_id":62199316,"body_markdown":"So, we finally found, what we were looking. This solution brings one thing, which we did not like - a dependency between tests. We believe, that tests should be independent. The solution we chose is in my answer.","body":"So, we finally found, what we were looking. This solution brings one thing, which we did not like - a dependency between tests. We believe, that tests should be independent. The solution we chose is in my answer."}],"tags":[],"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463569577,"creation_date":1463563989,"answer_id":37295594,"question_id":37295096,"body_markdown":"I would separate those two concerns by creating two tests and making use of annotation attributes `expectedExceptions` and `dependsOnMethods`.\r\n\r\n    @Test(expectedExceptions = { RuntimeExpcetion.class } )\r\n    public void testException() {\r\n        when(subComponentMock.failingMethod()).thenThrow(RuntimeException.class);\r\n        tested.someMethod(); //may call subComponentMock.methodThatShouldNotBeCalledWhenExceptionOccurs\r\n    }\r\n\r\n    @Test(dependsOnMethods = { &quot;testException&quot; } )\r\n    public void testNoInteractionWithMethod() {\r\n        verify(subComponentMock, never()).methodThatShouldNotBeCalledWhenExceptionOccurs(any());\r\n    }\r\n\r\nFor me it looks neater. You get rid of `try catch` block and unnecessary `fail` method invocation.","title":"TestNG + Mockito, how to test thrown exception and calls on mocks","body":"<p>I would separate those two concerns by creating two tests and making use of annotation attributes <code>expectedExceptions</code> and <code>dependsOnMethods</code>.</p>\n\n<pre><code>@Test(expectedExceptions = { RuntimeExpcetion.class } )\npublic void testException() {\n    when(subComponentMock.failingMethod()).thenThrow(RuntimeException.class);\n    tested.someMethod(); //may call subComponentMock.methodThatShouldNotBeCalledWhenExceptionOccurs\n}\n\n@Test(dependsOnMethods = { \"testException\" } )\npublic void testNoInteractionWithMethod() {\n    verify(subComponentMock, never()).methodThatShouldNotBeCalledWhenExceptionOccurs(any());\n}\n</code></pre>\n\n<p>For me it looks neater. You get rid of <code>try catch</code> block and unnecessary <code>fail</code> method invocation.</p>\n"},{"tags":[],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1463731815,"creation_date":1463731815,"answer_id":37341324,"question_id":37295096,"body_markdown":"We decided use Assertions framework.\r\n\r\n    when(subComponentMock.failingMethod()).thenThrow(RuntimeException.class);\r\n\r\n    Assertions.assertThatThrownBy(() -&gt; tested.someMethod()).isOfAnyClassIn(RuntimeException.class);\r\n\r\n    verify(subComponentMock, never()).methodThatShouldNotBeCalledWhenExceptionOccurs(any());\r\n\r\n","title":"TestNG + Mockito, how to test thrown exception and calls on mocks","body":"<p>We decided use Assertions framework.</p>\n\n<pre><code>when(subComponentMock.failingMethod()).thenThrow(RuntimeException.class);\n\nAssertions.assertThatThrownBy(() -&gt; tested.someMethod()).isOfAnyClassIn(RuntimeException.class);\n\nverify(subComponentMock, never()).methodThatShouldNotBeCalledWhenExceptionOccurs(any());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18290693,"reputation":446,"user_id":13466188,"display_name":"Prashant Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672834905,"creation_date":1672834905,"answer_id":75005383,"question_id":37295096,"body_markdown":"There is one more convenient way , which nobody mentioned .\r\n\r\nhttps://javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html \r\n\r\nFor example :\r\n```\r\n    @Test\r\n    public void testAddEntitlementWithServerException() {\r\n        OrgId orgId = OrgId.fromString(&quot;ef9b0be1-48c5-4503-bf95-d5cf1f942f46&quot;);\r\n        String failureMessage = &quot;Error message&quot;;\r\n\r\n        // mock exception behaviour\r\n        when(scimOrgClient.addEntitlement(orgId, &quot;&quot;, true, null)).thenThrow(new ClientException(HttpStatus.SC_BAD_REQUEST, &quot;Error message&quot;));\r\n\r\n        ServerException serverException = expectThrows(ServerException.class, () -&gt; squaredOfferService.addEntitlement(orgId, &quot;&quot;, true, null));\r\n\r\n        assertEquals(serverException.getMessage(), failureMessage);\r\n        verify(scimOrgClient, times(1)).addEntitlement(orgId, &quot;&quot;, true, null);\r\n    }\r\n```","title":"TestNG + Mockito, how to test thrown exception and calls on mocks","body":"<p>There is one more convenient way , which nobody mentioned .</p>\n<p><a href=\"https://javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html\" rel=\"nofollow noreferrer\">https://javadoc.io/doc/org.testng/testng/latest/org/testng/Assert.html</a></p>\n<p>For example :</p>\n<pre><code>    @Test\n    public void testAddEntitlementWithServerException() {\n        OrgId orgId = OrgId.fromString(&quot;ef9b0be1-48c5-4503-bf95-d5cf1f942f46&quot;);\n        String failureMessage = &quot;Error message&quot;;\n\n        // mock exception behaviour\n        when(scimOrgClient.addEntitlement(orgId, &quot;&quot;, true, null)).thenThrow(new ClientException(HttpStatus.SC_BAD_REQUEST, &quot;Error message&quot;));\n\n        ServerException serverException = expectThrows(ServerException.class, () -&gt; squaredOfferService.addEntitlement(orgId, &quot;&quot;, true, null));\n\n        assertEquals(serverException.getMessage(), failureMessage);\n        verify(scimOrgClient, times(1)).addEntitlement(orgId, &quot;&quot;, true, null);\n    }\n</code></pre>\n"}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37341324,"answer_count":3,"score":1,"last_activity_date":1672834905,"creation_date":1463562728,"question_id":37295096,"body_markdown":"In my TestNG unit tests I have a scenario, where I want to test, that an exception was thrown, but also I want to test that some method was not called on mocked sub-component. I came up with this, but this is ugly, long and not well readable:\r\n\r\n    @Test\r\n    public void testExceptionAndNoInteractionWithMethod() throws Exception {\r\n\r\n        when(subComponentMock.failingMethod()).thenThrow(RuntimeException.class);\r\n    \r\n        try {\r\n            tested.someMethod(); //may call subComponentMock.methodThatShouldNotBeCalledWhenExceptionOccurs\r\n        } catch (RuntimeException e) {\r\n            verify(subComponentMock, never()).methodThatShouldNotBeCalledWhenExceptionOccurs(any());\r\n            return;\r\n        }\r\n    \r\n        fail(&quot;Expected exception was not thrown&quot;);\r\n    }\r\n\r\nIs there any better solution to test both Exception and verify() metod?","title":"TestNG + Mockito, how to test thrown exception and calls on mocks","body":"<p>In my TestNG unit tests I have a scenario, where I want to test, that an exception was thrown, but also I want to test that some method was not called on mocked sub-component. I came up with this, but this is ugly, long and not well readable:</p>\n\n<pre><code>@Test\npublic void testExceptionAndNoInteractionWithMethod() throws Exception {\n\n    when(subComponentMock.failingMethod()).thenThrow(RuntimeException.class);\n\n    try {\n        tested.someMethod(); //may call subComponentMock.methodThatShouldNotBeCalledWhenExceptionOccurs\n    } catch (RuntimeException e) {\n        verify(subComponentMock, never()).methodThatShouldNotBeCalledWhenExceptionOccurs(any());\n        return;\n    }\n\n    fail(\"Expected exception was not thrown\");\n}\n</code></pre>\n\n<p>Is there any better solution to test both Exception and verify() metod?</p>\n"},{"tags":["java","swing","jpanel","awt","selection"],"answers":[{"tags":[],"owner":{"account_id":346397,"reputation":2224,"user_id":679894,"accept_rate":50,"display_name":"mael"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375732154,"creation_date":1375732154,"answer_id":18066506,"question_id":18066453,"body_markdown":"&quot;OK it should return the selected index number&quot;. No, it should not. you&#39;re calling getSelectedIndex() once. So your int has the same value forever. You have to call getSelectedIndex() in your listener to get the new value.","title":"Java Choice Selected Index not returning properly","body":"<p>\"OK it should return the selected index number\". No, it should not. you're calling getSelectedIndex() once. So your int has the same value forever. You have to call getSelectedIndex() in your listener to get the new value.</p>\n"},{"comments":[{"owner":{"account_id":1436367,"reputation":95,"user_id":1357629,"accept_rate":50,"display_name":"SilverWolfe"},"score":0,"creation_date":1375732675,"post_id":18066554,"comment_id":26437883,"body_markdown":"WHOOPS! I had to edit the code a little before posting it. i forgot to change cClass to cMenu before I posted it here! I&#39;m changing it now","body":"WHOOPS! I had to edit the code a little before posting it. i forgot to change cClass to cMenu before I posted it here! I&#39;m changing it now"},{"owner":{"account_id":1436367,"reputation":95,"user_id":1357629,"accept_rate":50,"display_name":"SilverWolfe"},"score":0,"creation_date":1375733004,"post_id":18066554,"comment_id":26438083,"body_markdown":"On the same subject, how could i get the selection to dynamically change content(JLabel)? say if item1 was selected the list will show (in the gui) List: bread, milk, ect; or if selected item2 List: eggs, butter, ect","body":"On the same subject, how could i get the selection to dynamically change content(JLabel)? say if item1 was selected the list will show (in the gui) List: bread, milk, ect; or if selected item2 List: eggs, butter, ect"},{"owner":{"account_id":476048,"reputation":7235,"user_id":886749,"accept_rate":77,"display_name":"Cory Kendall"},"score":1,"creation_date":1375733975,"post_id":18066554,"comment_id":26438604,"body_markdown":"@SilverWolfe In that `actionPerformed` method, you can run any code you want.  You could do `if(currentSelection == 2) { // Update the Jpanel&#39;s components }`.  That might be better suited for another question though, as I&#39;m not the best resource for dynamically a GUI with AWT.","body":"@SilverWolfe In that <code>actionPerformed</code> method, you can run any code you want.  You could do <code>if(currentSelection == 2) { &#47;&#47; Update the Jpanel&#39;s components }</code>.  That might be better suited for another question though, as I&#39;m not the best resource for dynamically a GUI with AWT."},{"owner":{"account_id":1436367,"reputation":95,"user_id":1357629,"accept_rate":50,"display_name":"SilverWolfe"},"score":0,"creation_date":1375735752,"post_id":18066554,"comment_id":26439522,"body_markdown":"Thanks for your input! This code worked for me. It might be easier for me to put all this in a method and then call it in actionPerformed","body":"Thanks for your input! This code worked for me. It might be easier for me to put all this in a method and then call it in actionPerformed"}],"tags":[],"owner":{"account_id":476048,"reputation":7235,"user_id":886749,"accept_rate":77,"display_name":"Cory Kendall"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1375732949,"creation_date":1375732318,"answer_id":18066554,"question_id":18066453,"body_markdown":"You need to recalculate the value for `menuSelection` when the &#39;OK&#39; button is clicked; you&#39;re setting it once during instantiation of the `Choice` as shown below:\r\n\r\n    final int menuSelection = cMenu.getSelectedIndex();\r\n\r\nIf you do something like this, you should be able to see your value:\r\n\r\n    OK.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) {\r\n            int currentSelection = cMenu.getSelectedIndex();\r\n            System.out.println(currentSelection);\r\n        }\r\n    });\r\n\r\nThis will mean `cMenu` should be final, which is probably OK because you don&#39;t need to ever update that reference.","title":"Java Choice Selected Index not returning properly","body":"<p>You need to recalculate the value for <code>menuSelection</code> when the 'OK' button is clicked; you're setting it once during instantiation of the <code>Choice</code> as shown below:</p>\n\n<pre><code>final int menuSelection = cMenu.getSelectedIndex();\n</code></pre>\n\n<p>If you do something like this, you should be able to see your value:</p>\n\n<pre><code>OK.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n        int currentSelection = cMenu.getSelectedIndex();\n        System.out.println(currentSelection);\n    }\n});\n</code></pre>\n\n<p>This will mean <code>cMenu</code> should be final, which is probably OK because you don't need to ever update that reference.</p>\n"}],"owner":{"account_id":1436367,"reputation":95,"user_id":1357629,"accept_rate":50,"display_name":"SilverWolfe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1016,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":18066554,"answer_count":2,"score":1,"last_activity_date":1672834707,"creation_date":1375731996,"question_id":18066453,"body_markdown":"Ok, so here is the problem: Every time I click OK it should return the selected index number, right? The code below is returning ONLY the first index regardless of what I select. I set &quot;cMenu.selected(1)&quot; and it returns index 1, again, regardless of what I select. \r\n\r\nUsing JPanel, JButton, Choice\r\n\r\n\r\n    String[] menu = {&quot;item 1&quot; , &quot;item 2&quot;, &quot;item3&quot;};\r\n    \r\n    cMenu = new Choice();\r\n    cMenu.setBounds(0, 0, 75, 25);\r\n    for (int i = 0; i &lt; menu.length; i++)\r\n        cMenu.add(menu[i]);\r\n    }\r\n    panel.add(cMenu);\r\n    \r\n    final int menuSelection = cMenu.getSelectedIndex();\r\n    \r\n    //Below is, of course, debugging\r\n    //Before asking, the button works it does say 0 or Hello World or whatever I want\r\n    //when clicked\r\n    \r\n    OK.addActionListener(new ActionListener() {\r\n        public void actionPerformed(ActionEvent e) {\r\n            System.out.println(menuSelection);\r\n        }\r\n    });\r\n\r\n\r\n    \r\n","title":"Java Choice Selected Index not returning properly","body":"<p>Ok, so here is the problem: Every time I click OK it should return the selected index number, right? The code below is returning ONLY the first index regardless of what I select. I set \"cMenu.selected(1)\" and it returns index 1, again, regardless of what I select. </p>\n\n<p>Using JPanel, JButton, Choice</p>\n\n<pre><code>String[] menu = {\"item 1\" , \"item 2\", \"item3\"};\n\ncMenu = new Choice();\ncMenu.setBounds(0, 0, 75, 25);\nfor (int i = 0; i &lt; menu.length; i++)\n    cMenu.add(menu[i]);\n}\npanel.add(cMenu);\n\nfinal int menuSelection = cMenu.getSelectedIndex();\n\n//Below is, of course, debugging\n//Before asking, the button works it does say 0 or Hello World or whatever I want\n//when clicked\n\nOK.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n        System.out.println(menuSelection);\n    }\n});\n</code></pre>\n"},{"tags":["java","awt","itemlistener"],"comments":[{"owner":{"account_id":2741125,"reputation":1487,"user_id":2362664,"accept_rate":90,"display_name":"Khinsu"},"score":0,"creation_date":1378403901,"post_id":18641913,"comment_id":27448929,"body_markdown":"please give more code, or more details","body":"please give more code, or more details"},{"owner":{"account_id":3240980,"reputation":13,"user_id":2734048,"display_name":"Sharpx"},"score":0,"creation_date":1378406209,"post_id":18641913,"comment_id":27450185,"body_markdown":"Ok, I&#39;ll try to give more helpful information. What I&#39;m assuming should happen is the itemListener should trigger every time I change the status of the drop down box but for some reason it doesn&#39;t. This is evident by the fact that the System.out.println doesn&#39;t display every time I select the commandDropDown. I apologize if this isn&#39;t the information you were looking for, I&#39;m not sure what other information would be useful for you.","body":"Ok, I&#39;ll try to give more helpful information. What I&#39;m assuming should happen is the itemListener should trigger every time I change the status of the drop down box but for some reason it doesn&#39;t. This is evident by the fact that the System.out.println doesn&#39;t display every time I select the commandDropDown. I apologize if this isn&#39;t the information you were looking for, I&#39;m not sure what other information would be useful for you."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1378433229,"post_id":18641913,"comment_id":27459642,"body_markdown":"For better help sooner, post an [SSCCE](http://sscce.org/).","body":"For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."}],"answers":[{"comments":[{"owner":{"account_id":3240980,"reputation":13,"user_id":2734048,"display_name":"Sharpx"},"score":0,"creation_date":1378489370,"post_id":18651864,"comment_id":27485214,"body_markdown":"It seems to be working now that I switched to the JComboBox. I&#39;m going to have to look up the specifics of the JComboBox but so far, I&#39;m already liking the results. Thank you so much for your help!","body":"It seems to be working now that I switched to the JComboBox. I&#39;m going to have to look up the specifics of the JComboBox but so far, I&#39;m already liking the results. Thank you so much for your help!"}],"tags":[],"owner":{"account_id":2741125,"reputation":1487,"user_id":2362664,"accept_rate":90,"display_name":"Khinsu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1378451139,"creation_date":1378451139,"answer_id":18651864,"question_id":18641913,"body_markdown":"In my opinion, your `buildCommandBox( Choice custoChoi)` is wrong, it should be something like that:\r\n\r\n    private Choice buildCommandBox(final Choice custoChoi) {\r\n    \r\n        custoChoi.addItem(&quot;choices&quot;);\r\n        custoChoi.addItem(&quot;Option1&quot;);\r\n        custoChoi.addItemListener(new ItemListener() {\r\n            @Override\r\n            public void itemStateChanged(ItemEvent ie) {\r\n                System.out.println(&quot;the action event for the command&quot; + &quot;box is working.&quot;);\r\n                if (custoChoi.getSelectedItem().equals(&quot;Option1&quot;)) {\r\n                    itemDropDown.addItem(&quot;things&quot;);\r\n                    itemDropDown.addItem(&quot;stuff&quot;);\r\n                }\r\n            }\r\n        });\r\n    \r\n        return custoChoi;\r\n    }\r\n\r\nI would recommand to use [JComboBox][1] instants of `Choice`, if `Swing` is allowed.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html","title":"why doesn&#39;t my itemlistener always trigger","body":"<p>In my opinion, your <code>buildCommandBox( Choice custoChoi)</code> is wrong, it should be something like that:</p>\n\n<pre><code>private Choice buildCommandBox(final Choice custoChoi) {\n\n    custoChoi.addItem(\"choices\");\n    custoChoi.addItem(\"Option1\");\n    custoChoi.addItemListener(new ItemListener() {\n        @Override\n        public void itemStateChanged(ItemEvent ie) {\n            System.out.println(\"the action event for the command\" + \"box is working.\");\n            if (custoChoi.getSelectedItem().equals(\"Option1\")) {\n                itemDropDown.addItem(\"things\");\n                itemDropDown.addItem(\"stuff\");\n            }\n        }\n    });\n\n    return custoChoi;\n}\n</code></pre>\n\n<p>I would recommand to use <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/combobox.html\" rel=\"nofollow\">JComboBox</a> instants of <code>Choice</code>, if <code>Swing</code> is allowed.</p>\n"}],"owner":{"account_id":3240980,"reputation":13,"user_id":2734048,"display_name":"Sharpx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18651864,"answer_count":1,"score":0,"last_activity_date":1672834664,"creation_date":1378400081,"question_id":18641913,"body_markdown":"enter image description hereI&#39;m a new programmer and I&#39;m working on a text adventure that uses dropdown boxes (choice) as an input device. I have an itemListener on the first box that populates the members of the 2nd with the members that can be added. The player is then allowed to click the submit button and the first box is reset to the first item on the list and the second box is supposed to be cleared. When I run the program, the first time it reacts exactly as planned. The 2nd time I try to input something using the drop down boxes, the dropdown box doesn&#39;t respond. I put a marker inside the itemListener to see if it was even triggering to find out that it wasn&#39;t. I feel like I&#39;ve tweeked the program in every way imaginable but I have no idea what is causing this issue. If I toggle between the items in the drop down box a few times the itemListener starts to respond again.\r\n\r\nThis is a representation of my issue I threw together.\r\n\r\n\r\n\r\n\r\n\r\n    import java.awt.Choice;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ItemEvent;\r\n    import java.awt.event.ItemListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTextPane;\r\n\r\n\r\n    public class gui implements ActionListener\r\n    {\r\n    private static JTextPane outputField = new JTextPane();\r\n    private static JPanel mainPanel = new JPanel(new GridBagLayout());\r\n    private Choice commandDropDown = new Choice();\r\n    private Choice itemDropDown = new Choice();\r\n    private JButton submitButton = new JButton();\r\n\r\n    public gui()\r\n    {\r\n        JFrame frame = new JFrame(&quot;test&quot;);\r\n        mainPanel.setSize(450,585);\r\n        \r\n        commandDropDown = buildCommandBox(commandDropDown);\r\n        commandDropDown.setBounds(100, 15, 100, 40);\r\n        itemDropDown.setBounds(200, 15, 100, 40);\r\n        submitButton.setText(&quot;submit&quot;);\r\n        submitButton.setBounds(15, 15, 100, 40);\r\n        submitButton.addActionListener(this);\r\n        frame.add(commandDropDown);\r\n        frame.add(itemDropDown);\r\n        frame.add(submitButton);\r\n                    frame.setResizable(false);\r\n            frame.pack();\r\n            frame.setSize(300, 300);\r\n            //frame.setLayout(null);\r\n            //frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        \r\n    }\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        itemDropDown.removeAll();\r\n        commandDropDown.select(0);\r\n    }\r\n    \r\n    private Choice buildCommandBox(Choice custoChoi)\r\n    {\r\n       final Choice c = new Choice();\r\n       \r\n       c.addItem(&quot;choices&quot;);\r\n       c.addItem(&quot;Option1&quot;);\r\n       c.addItemListener(new ItemListener()\r\n               {                   \r\n                    public void itemStateChanged(ItemEvent ie)\r\n                    {\r\n                        System.out.println(&quot;the action event for the command&quot;\r\n                                + &quot;box is working.&quot;);\r\n                        if(c.getSelectedItem().equals(&quot;Option1&quot;))\r\n                        {\r\n                            itemDropDown.addItem(&quot;things&quot;);\r\n                            itemDropDown.addItem(&quot;stuff&quot;);\r\n                        }\r\n                    }\r\n               });\r\n       \r\n       return c;\r\n    }\r\n    }\r\n            \r\n\r\n\r\nHopefully these pictures clear up any confusion about my post.\r\n      https://i.stack.imgur.com/RQcDe.jpg\r\n","title":"why doesn&#39;t my itemlistener always trigger","body":"<p>enter image description hereI'm a new programmer and I'm working on a text adventure that uses dropdown boxes (choice) as an input device. I have an itemListener on the first box that populates the members of the 2nd with the members that can be added. The player is then allowed to click the submit button and the first box is reset to the first item on the list and the second box is supposed to be cleared. When I run the program, the first time it reacts exactly as planned. The 2nd time I try to input something using the drop down boxes, the dropdown box doesn't respond. I put a marker inside the itemListener to see if it was even triggering to find out that it wasn't. I feel like I've tweeked the program in every way imaginable but I have no idea what is causing this issue. If I toggle between the items in the drop down box a few times the itemListener starts to respond again.</p>\n\n<p>This is a representation of my issue I threw together.</p>\n\n<pre><code>import java.awt.Choice;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTextPane;\n\n\npublic class gui implements ActionListener\n{\nprivate static JTextPane outputField = new JTextPane();\nprivate static JPanel mainPanel = new JPanel(new GridBagLayout());\nprivate Choice commandDropDown = new Choice();\nprivate Choice itemDropDown = new Choice();\nprivate JButton submitButton = new JButton();\n\npublic gui()\n{\n    JFrame frame = new JFrame(\"test\");\n    mainPanel.setSize(450,585);\n\n    commandDropDown = buildCommandBox(commandDropDown);\n    commandDropDown.setBounds(100, 15, 100, 40);\n    itemDropDown.setBounds(200, 15, 100, 40);\n    submitButton.setText(\"submit\");\n    submitButton.setBounds(15, 15, 100, 40);\n    submitButton.addActionListener(this);\n    frame.add(commandDropDown);\n    frame.add(itemDropDown);\n    frame.add(submitButton);\n                frame.setResizable(false);\n        frame.pack();\n        frame.setSize(300, 300);\n        //frame.setLayout(null);\n        //frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n\n}\npublic void actionPerformed(ActionEvent e)\n{\n    itemDropDown.removeAll();\n    commandDropDown.select(0);\n}\n\nprivate Choice buildCommandBox(Choice custoChoi)\n{\n   final Choice c = new Choice();\n\n   c.addItem(\"choices\");\n   c.addItem(\"Option1\");\n   c.addItemListener(new ItemListener()\n           {                   \n                public void itemStateChanged(ItemEvent ie)\n                {\n                    System.out.println(\"the action event for the command\"\n                            + \"box is working.\");\n                    if(c.getSelectedItem().equals(\"Option1\"))\n                    {\n                        itemDropDown.addItem(\"things\");\n                        itemDropDown.addItem(\"stuff\");\n                    }\n                }\n           });\n\n   return c;\n}\n}\n</code></pre>\n\n<p>Hopefully these pictures clear up any confusion about my post.\n      <a href=\"https://i.stack.imgur.com/RQcDe.jpg\" rel=\"nofollow\">https://i.stack.imgur.com/RQcDe.jpg</a></p>\n"},{"tags":["java","build","androidx"],"comments":[{"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"score":0,"creation_date":1637935158,"post_id":70125444,"comment_id":123962328,"body_markdown":"this might help - https://stackoverflow.com/questions/69407035/resource-linking-fails-on-lstar-with-error","body":"this might help - <a href=\"https://stackoverflow.com/questions/69407035/resource-linking-fails-on-lstar-with-error\" title=\"resource linking fails on lstar with error\">stackoverflow.com/questions/69407035/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23603958,"reputation":9,"user_id":17639975,"display_name":"Matthew Sparrow"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1639089150,"creation_date":1639089150,"answer_id":70297559,"question_id":70125444,"body_markdown":"I had exact same situation - changing &quot;extends AppCompatActivity&quot; to &quot;extends Activity&quot; fixed the issue.\r\n\r\nEdit: I don&#39;t know the source/reason behind that error, sadly...","title":"Android studio: cannot access MenuHost class file for androidx.core.view.MenuHost not found","body":"<p>I had exact same situation - changing &quot;extends AppCompatActivity&quot; to &quot;extends Activity&quot; fixed the issue.</p>\n<p>Edit: I don't know the source/reason behind that error, sadly...</p>\n"},{"tags":[],"owner":{"account_id":11283057,"reputation":75,"user_id":8274730,"display_name":"Bob D. Builder"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1639477501,"creation_date":1639477171,"answer_id":70347211,"question_id":70125444,"body_markdown":"Had the same problem. Fixed the issue by removing this lines:\r\n\r\n         configurations.all {\r\n            resolutionStrategy { force &#39;androidx.core:core:1.6.0&#39; }\r\n         }\r\nunder defaultConfig of build.gradle(:app)\r\n\r\nI also do not know the source/reason behind the error as well.","title":"Android studio: cannot access MenuHost class file for androidx.core.view.MenuHost not found","body":"<p>Had the same problem. Fixed the issue by removing this lines:</p>\n<pre><code>     configurations.all {\n        resolutionStrategy { force 'androidx.core:core:1.6.0' }\n     }\n</code></pre>\n<p>under defaultConfig of build.gradle(:app)</p>\n<p>I also do not know the source/reason behind the error as well.</p>\n"},{"tags":[],"owner":{"account_id":3718522,"reputation":1458,"user_id":3094065,"display_name":"maXp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651141243,"creation_date":1651141243,"answer_id":72041989,"question_id":70125444,"body_markdown":"Just add in you dependencies:\r\n\r\n    implementation &#39;androidx.core:core:{latest version}&#39; // 1.7.0 or above","title":"Android studio: cannot access MenuHost class file for androidx.core.view.MenuHost not found","body":"<p>Just add in you dependencies:</p>\n<pre><code>implementation 'androidx.core:core:{latest version}' // 1.7.0 or above\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6358741,"reputation":799,"user_id":4934997,"accept_rate":100,"display_name":"Abigail La&#39;Fay"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657126001,"creation_date":1657126001,"answer_id":72887197,"question_id":70125444,"body_markdown":"In the build.gradle i changed this:\r\n\r\n    configurations.all {\r\n       resolutionStrategy { force &#39;androidx.core:core:1.6.0&#39; }\r\n    }\r\nto this:\r\n\r\n    configurations.all {\r\n       resolutionStrategy { force &#39;androidx.core:core:1.7.0&#39; }\r\n    }\r\nand this worked for me. ","title":"Android studio: cannot access MenuHost class file for androidx.core.view.MenuHost not found","body":"<p>In the build.gradle i changed this:</p>\n<pre><code>configurations.all {\n   resolutionStrategy { force 'androidx.core:core:1.6.0' }\n}\n</code></pre>\n<p>to this:</p>\n<pre><code>configurations.all {\n   resolutionStrategy { force 'androidx.core:core:1.7.0' }\n}\n</code></pre>\n<p>and this worked for me.</p>\n"},{"tags":[],"owner":{"account_id":20582316,"reputation":51,"user_id":15108101,"display_name":"Devra Rejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658511741,"creation_date":1658511741,"answer_id":73084173,"question_id":70125444,"body_markdown":"`MenuHost` was added in `androidx.core:core:1.7.0` and above.\r\n\r\nhttps://developer.android.com/jetpack/androidx/releases/core#1.7.0-alpha02\r\n\r\nJust upgrade your dependencies.","title":"Android studio: cannot access MenuHost class file for androidx.core.view.MenuHost not found","body":"<p><code>MenuHost</code> was added in <code>androidx.core:core:1.7.0</code> and above.</p>\n<p><a href=\"https://developer.android.com/jetpack/androidx/releases/core#1.7.0-alpha02\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/core#1.7.0-alpha02</a></p>\n<p>Just upgrade your dependencies.</p>\n"},{"tags":[],"owner":{"account_id":2432851,"reputation":6204,"user_id":3596576,"accept_rate":48,"display_name":"Ionut Negru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672834659,"creation_date":1672834659,"answer_id":75005333,"question_id":70125444,"body_markdown":"For me it worked when I manually cast it to MenuHost:\r\n\r\n```\r\n    private lateinit var menuHost: MenuHost\r\n\r\n    override fun onAttach(context: Context) {\r\n        super.onAttach(context)\r\n        menuHost = (requireActivity() as MenuHost)\r\n    }\r\n```\r\n\r\nIf this does not work, manually specifying the module you want to use should fix it. In the project `build.gradle` file you have to add this:\r\n\r\n```\r\nallprojects {\r\n    ...\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            dependencySubstitution {\r\n                substitute module(&quot;androidx.activity:activity:1.0.0&quot;) using module(&quot;androidx.activity:activity:$libVersions.activity&quot;)\r\n                substitute module(&quot;androidx.fragment:fragment:1.1.0&quot;) using module(&quot;androidx.fragment:fragment:$libVersions.fragment&quot;)\r\n                substitute module(&quot;androidx.core:core:1.2.0&quot;) using module(&quot;androidx.core:core:$libVersions.core&quot;)\r\n                substitute module(&quot;androidx.core:core-ktx:1.2.0&quot;) using module(&quot;androidx.core:core-ktx:$libVersions.core&quot;)\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n(Double check what version you have in your project that affects you, in my case I noticed **1.00** for `activity`, **1.1.0** for `fragment` and **1.2.0** for `core` - they could be different in your case, you need to check the list of dependencies of your project)\r\n\r\nAnd you can use it directly as:\r\n```\r\n    private lateinit var menuHost: MenuHost\r\n\r\n    override fun onAttach(context: Context) {\r\n        super.onAttach(context)\r\n        menuHost = requireActivity()\r\n    }\r\n```","title":"Android studio: cannot access MenuHost class file for androidx.core.view.MenuHost not found","body":"<p>For me it worked when I manually cast it to MenuHost:</p>\n<pre><code>    private lateinit var menuHost: MenuHost\n\n    override fun onAttach(context: Context) {\n        super.onAttach(context)\n        menuHost = (requireActivity() as MenuHost)\n    }\n</code></pre>\n<p>If this does not work, manually specifying the module you want to use should fix it. In the project <code>build.gradle</code> file you have to add this:</p>\n<pre><code>allprojects {\n    ...\n\n    configurations.all {\n        resolutionStrategy {\n            dependencySubstitution {\n                substitute module(&quot;androidx.activity:activity:1.0.0&quot;) using module(&quot;androidx.activity:activity:$libVersions.activity&quot;)\n                substitute module(&quot;androidx.fragment:fragment:1.1.0&quot;) using module(&quot;androidx.fragment:fragment:$libVersions.fragment&quot;)\n                substitute module(&quot;androidx.core:core:1.2.0&quot;) using module(&quot;androidx.core:core:$libVersions.core&quot;)\n                substitute module(&quot;androidx.core:core-ktx:1.2.0&quot;) using module(&quot;androidx.core:core-ktx:$libVersions.core&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n<p>(Double check what version you have in your project that affects you, in my case I noticed <strong>1.00</strong> for <code>activity</code>, <strong>1.1.0</strong> for <code>fragment</code> and <strong>1.2.0</strong> for <code>core</code> - they could be different in your case, you need to check the list of dependencies of your project)</p>\n<p>And you can use it directly as:</p>\n<pre><code>    private lateinit var menuHost: MenuHost\n\n    override fun onAttach(context: Context) {\n        super.onAttach(context)\n        menuHost = requireActivity()\n    }\n</code></pre>\n"}],"owner":{"account_id":20581200,"reputation":51,"user_id":15107260,"display_name":"Moritz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5885,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1672834659,"creation_date":1637934444,"question_id":70125444,"body_markdown":"I&#39;ve got an error while building my project. This is my error message: cannot access MenuHost\r\nclass file for androidx.core.view.MenuHost not found. \r\n\r\nI didn&#39;t find any solution for this problem. I would be very happy if you could help me.\r\nI&#39;ve got this error for an empty Activity:\r\n\r\n```\r\nimport android.os.Bundle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\npublic class CallActivity extends AppCompatActivity {\r\n    /* Access modifiers changed, original: protected */\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView( R.layout.activity_call);\r\n    }\r\n}\r\n\r\n```\r\n\r\nThis is my build.gradle (app):\r\n\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.ghostcontact&quot;\r\n        minSdkVersion 21\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        // Enabling multidex support.\r\n        multiDexEnabled true\r\n\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n\r\n\r\n    }\r\n\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    configurations.all {\r\n\r\n        resolutionStrategy {\r\n            force &#39;androidx.core:core:1.6.0&#39;\r\n            force &#39;androidx.core:core-ktx:1.6.0&#39;\r\n        }\r\n        resolutionStrategy.force &#39;com.google.code.findbugs:jsr305:2.0.1&#39;\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n    testImplementation &#39;junit:junit:4.13&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n\r\n\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.2&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.0.0&#39;\r\n\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n\r\n    implementation &#39;com.google.android.material:material:1.4.0&#39;\r\n    implementation &#39;com.hbb20:ccp:2.3.1&#39;\r\n\r\n    implementation &#39;com.google.android.gms:play-services-base:17.6.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:20.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-crashlytics:18.2.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:20.0.0&#39;\r\n\r\n\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n\r\n    implementation &#39;commons-validator:commons-validator:1.6&#39;\r\n\r\n    implementation &#39;com.airbnb.android:lottie:3.4.0&#39;\r\n\r\n    //OTP PIN View Design\r\n    implementation &#39;com.chaos.view:pinview:1.4.3&#39;\r\n\r\n    implementation &#39;androidx.preference:preference:1.1.1&#39;\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.6.0&#39;\r\n    implementation &#39;androidx.core:core:1.6.0&#39;\r\n\r\n\r\n    implementation &#39;com.google.android.material:material:1.4.0-alpha02&#39;\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n\r\n    implementation &#39;androidx.activity:activity:1.4.0&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.4.0&#39;\r\n    implementation &#39;androidx.activity:activity-ktx:1.4.0&#39;\r\n\r\n\r\n}\r\n\r\n```\r\nAnd my build.gradle (project)\r\n```\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    \r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven{url &#39;https://maven.fabric.io/public&#39;}\r\n        \r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.6.4&#39;\r\n        classpath  &#39;com.google.gms:google-services:4.3.10&#39;\r\n\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven{url &#39;https://jitpack.io&#39;}\r\n        maven{url &#39;https://dl.bintray.com/tapsellorg/maven&#39;}\r\n        maven{url &#39;https://maven.google.com/&#39;}\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n","title":"Android studio: cannot access MenuHost class file for androidx.core.view.MenuHost not found","body":"<p>I've got an error while building my project. This is my error message: cannot access MenuHost\nclass file for androidx.core.view.MenuHost not found.</p>\n<p>I didn't find any solution for this problem. I would be very happy if you could help me.\nI've got this error for an empty Activity:</p>\n<pre><code>import android.os.Bundle;\nimport androidx.appcompat.app.AppCompatActivity;\n\npublic class CallActivity extends AppCompatActivity {\n    /* Access modifiers changed, original: protected */\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView( R.layout.activity_call);\n    }\n}\n\n</code></pre>\n<p>This is my build.gradle (app):</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n\n    defaultConfig {\n        applicationId &quot;com.example.ghostcontact&quot;\n        minSdkVersion 21\n        targetSdkVersion 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        // Enabling multidex support.\n        multiDexEnabled true\n\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n\n\n    }\n\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    configurations.all {\n\n        resolutionStrategy {\n            force 'androidx.core:core:1.6.0'\n            force 'androidx.core:core-ktx:1.6.0'\n        }\n        resolutionStrategy.force 'com.google.code.findbugs:jsr305:2.0.1'\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n    testImplementation 'junit:junit:4.13'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n\n\n    implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n    implementation 'com.google.firebase:firebase-database:20.0.2'\n    implementation 'com.google.firebase:firebase-auth:21.0.1'\n    implementation 'com.google.firebase:firebase-storage:20.0.0'\n\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation 'androidx.cardview:cardview:1.0.0'\n\n    implementation 'com.google.android.material:material:1.4.0'\n    implementation 'com.hbb20:ccp:2.3.1'\n\n    implementation 'com.google.android.gms:play-services-base:17.6.0'\n    implementation 'com.google.firebase:firebase-core:20.0.0'\n    implementation 'com.google.firebase:firebase-crashlytics:18.2.4'\n    implementation 'com.google.firebase:firebase-analytics:20.0.0'\n\n\n    implementation 'com.squareup.picasso:picasso:2.71828'\n\n    implementation 'commons-validator:commons-validator:1.6'\n\n    implementation 'com.airbnb.android:lottie:3.4.0'\n\n    //OTP PIN View Design\n    implementation 'com.chaos.view:pinview:1.4.3'\n\n    implementation 'androidx.preference:preference:1.1.1'\n\n    implementation 'androidx.core:core-ktx:1.6.0'\n    implementation 'androidx.core:core:1.6.0'\n\n\n    implementation 'com.google.android.material:material:1.4.0-alpha02'\n    implementation 'com.android.support:multidex:1.0.3'\n\n    implementation 'androidx.activity:activity:1.4.0'\n    implementation 'androidx.activity:activity-compose:1.4.0'\n    implementation 'androidx.activity:activity-ktx:1.4.0'\n\n\n}\n\n</code></pre>\n<p>And my build.gradle (project)</p>\n<pre><code>\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    \n    repositories {\n        google()\n        jcenter()\n        maven{url 'https://maven.fabric.io/public'}\n        \n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.6.4'\n        classpath  'com.google.gms:google-services:4.3.10'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven{url 'https://jitpack.io'}\n        maven{url 'https://dl.bintray.com/tapsellorg/maven'}\n        maven{url 'https://maven.google.com/'}\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n"},{"tags":["java","applet","awt","choicefield"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1419390877,"post_id":27612569,"comment_id":43682356,"body_markdown":"1) Why code an applet?  If it is due to the teacher specifying it, please refer them to [Why CS teachers should **stop** teaching Java applets](http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/). 2) Why use AWT?   See [this answer](http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt/6255978#6255978) for many good reasons to abandon AWT using components in favor of Swing.","body":"1) Why code an applet?  If it is due to the teacher specifying it, please refer them to <a href=\"http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/\" rel=\"nofollow noreferrer\">Why CS teachers should <b>stop</b> teaching Java applets</a>. 2) Why use AWT?   See <a href=\"http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt/6255978#6255978\">this answer</a> for many good reasons to abandon AWT using components in favor of Swing."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1419391310,"creation_date":1419391310,"answer_id":27631013,"question_id":27612569,"body_markdown":"    public void paint(Graphics g) {\r\n\r\n        //If the firefox is selected as the browser , add another entry in the os for &quot;Windows 10&quot;\r\n        if (browser.getSelectedItem().equalsIgnoreCase(&quot;firefox&quot;)) {\r\n            this.os.add(&quot;Windows 10&quot;);\r\n        }\r\n\r\n    }\r\n\r\nPaint will be called whenever the JRE thinks it is necessary to do so.  It might be triggered by (our code) changing the components in the applet (i.e. adding or removing components), or changing the values displayed in the fields.  It might be triggered by minimizing and restoring the browser.  It might be triggered by bringing another window in front of the browser, then moving it off..\r\n\r\nThe best place to do such things is in the `init()` method, which is only called once.\r\n\r\n---\r\n\r\nBTW - do you know of the following method (which makes an OS &#39;chooser&#39; unnecessary)?\r\n\r\n    System.getProperty(&quot;os.name&quot;);\r\n\r\nWhat are you actually trying to achieve from these user choices?","title":"Adding a selection to the Choice list in the &#39;paint&#39; method is adding multiple records of the same in the list","body":"<pre><code>public void paint(Graphics g) {\n\n    //If the firefox is selected as the browser , add another entry in the os for \"Windows 10\"\n    if (browser.getSelectedItem().equalsIgnoreCase(\"firefox\")) {\n        this.os.add(\"Windows 10\");\n    }\n\n}\n</code></pre>\n\n<p>Paint will be called whenever the JRE thinks it is necessary to do so.  It might be triggered by (our code) changing the components in the applet (i.e. adding or removing components), or changing the values displayed in the fields.  It might be triggered by minimizing and restoring the browser.  It might be triggered by bringing another window in front of the browser, then moving it off..</p>\n\n<p>The best place to do such things is in the <code>init()</code> method, which is only called once.</p>\n\n<hr>\n\n<p>BTW - do you know of the following method (which makes an OS 'chooser' unnecessary)?</p>\n\n<pre><code>System.getProperty(\"os.name\");\n</code></pre>\n\n<p>What are you actually trying to achieve from these user choices?</p>\n"}],"owner":{"account_id":5484012,"reputation":203,"user_id":4359440,"accept_rate":0,"display_name":"Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672834657,"creation_date":1419295128,"question_id":27612569,"body_markdown":"I have created an applet with two choice controls.\r\nOne of the choice control is the OS name and the other is the browser name.\r\nI have added the item listeners for both these choice controls, so that we can detect the option selected for each of the choice control.\r\nThe code adds another OS entry (&quot;Windows 10&quot;)in the OS choice control if the browser selected in Firefox.\r\n\r\nSomehow when I select the browser as firefox , multiple entries of &quot;Windows 10&#39; are added in the OS choice control.\r\n\r\nCan someone please help me?\r\n\r\n\r\n##SingleClick\r\n\r\n    package p1;\r\n\r\n    import java.applet.Applet;\r\n    import java.awt.event.ItemEvent;\r\n    import java.awt.event.ItemListener;\r\n\r\n    public class SingleClick implements ItemListener {\r\n\r\n    \tApplet currentApplet;\r\n\r\n    \t@Override\r\n    \tpublic void itemStateChanged(ItemEvent arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n\r\n    \t\tthis.currentApplet.repaint();\r\n\r\n    \t}\r\n\r\n    \tpublic void appletLink(Applet test) {\r\n    \t\tthis.currentApplet = test;\r\n    \t}\r\n\r\n    }\r\n\r\n##OSBrowserSelector\r\n\r\n    package p1;\r\n\r\n    import java.applet.Applet;\r\n    import java.awt.Button;\r\n    import java.awt.Checkbox;\r\n    import java.awt.CheckboxGroup;\r\n    import java.awt.Choice;\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Frame;\r\n    import java.awt.Graphics;\r\n    import java.awt.GraphicsEnvironment;\r\n    import java.awt.Label;\r\n    import java.awt.List;\r\n    import java.awt.event.ItemListener;\r\n\r\n    public class OSBrowserSelector extends Applet {\r\n\r\n    \tChoice os;\r\n    \tChoice browser;\r\n\r\n    \tpublic void init() {\r\n\r\n    \t\tos = new Choice();\r\n    \t\tbrowser = new Choice();\r\n    \t\t// Set size of the applet window\r\n    \t\tthis.setSize(500, 500);\r\n\r\n    \t\t// Add the operating systems\r\n    \t\tos.add(&quot;XP&quot;);\r\n    \t\tos.add(&quot;Windows 7&quot;);\r\n    \t\tos.add(&quot;Macos&quot;);\r\n\r\n    \t\t//Add the browsers\r\n    \t\tbrowser.add(&quot;Chrome&quot;);\r\n    \t\tbrowser.add(&quot;firefox&quot;);\r\n    \t\tbrowser.add(&quot;ie&quot;);\r\n    \t\t\r\n    \t\t//Make the controls visible\r\n    \t\tthis.add(os);\r\n    \t\tthis.add(browser);\r\n\r\n    \t\t// Set the listener for the selection\r\n    \t\t//SingleClick class implements the ItemListener interface\r\n    \t\tSingleClick l = new SingleClick();\r\n    \t\tl.appletLink(this);\r\n\r\n    \t\t// Add the listener\r\n    \t\tos.addItemListener(l);\r\n    \t\tbrowser.addItemListener(l);\r\n    \t}\r\n\r\n    \tpublic void start() {\r\n\r\n    \t}\r\n\r\n    \tpublic void paint(Graphics g) {\r\n\r\n    \t\t//If the firefox is selected as the browser , add another entry in the os for &quot;Windows 10&quot;\r\n    \t\tif (browser.getSelectedItem().equalsIgnoreCase(&quot;firefox&quot;)) {\r\n    \t\t\tthis.os.add(&quot;Windows 10&quot;);\r\n    \t\t}\r\n\r\n    \t}\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"Adding a selection to the Choice list in the &#39;paint&#39; method is adding multiple records of the same in the list","body":"<p>I have created an applet with two choice controls.\nOne of the choice control is the OS name and the other is the browser name.\nI have added the item listeners for both these choice controls, so that we can detect the option selected for each of the choice control.\nThe code adds another OS entry (\"Windows 10\")in the OS choice control if the browser selected in Firefox.</p>\n\n<p>Somehow when I select the browser as firefox , multiple entries of \"Windows 10' are added in the OS choice control.</p>\n\n<p>Can someone please help me?</p>\n\n<h2>SingleClick</h2>\n\n<pre><code>package p1;\n\nimport java.applet.Applet;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\n\npublic class SingleClick implements ItemListener {\n\n    Applet currentApplet;\n\n    @Override\n    public void itemStateChanged(ItemEvent arg0) {\n        // TODO Auto-generated method stub\n\n        this.currentApplet.repaint();\n\n    }\n\n    public void appletLink(Applet test) {\n        this.currentApplet = test;\n    }\n\n}\n</code></pre>\n\n<h2>OSBrowserSelector</h2>\n\n<pre><code>package p1;\n\nimport java.applet.Applet;\nimport java.awt.Button;\nimport java.awt.Checkbox;\nimport java.awt.CheckboxGroup;\nimport java.awt.Choice;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Frame;\nimport java.awt.Graphics;\nimport java.awt.GraphicsEnvironment;\nimport java.awt.Label;\nimport java.awt.List;\nimport java.awt.event.ItemListener;\n\npublic class OSBrowserSelector extends Applet {\n\n    Choice os;\n    Choice browser;\n\n    public void init() {\n\n        os = new Choice();\n        browser = new Choice();\n        // Set size of the applet window\n        this.setSize(500, 500);\n\n        // Add the operating systems\n        os.add(\"XP\");\n        os.add(\"Windows 7\");\n        os.add(\"Macos\");\n\n        //Add the browsers\n        browser.add(\"Chrome\");\n        browser.add(\"firefox\");\n        browser.add(\"ie\");\n\n        //Make the controls visible\n        this.add(os);\n        this.add(browser);\n\n        // Set the listener for the selection\n        //SingleClick class implements the ItemListener interface\n        SingleClick l = new SingleClick();\n        l.appletLink(this);\n\n        // Add the listener\n        os.addItemListener(l);\n        browser.addItemListener(l);\n    }\n\n    public void start() {\n\n    }\n\n    public void paint(Graphics g) {\n\n        //If the firefox is selected as the browser , add another entry in the os for \"Windows 10\"\n        if (browser.getSelectedItem().equalsIgnoreCase(\"firefox\")) {\n            this.os.add(\"Windows 10\");\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","swing","jtabbedpane","jmenu"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1481634137,"post_id":41121747,"comment_id":69447097,"body_markdown":"Hint: try coming up with a http://stackoverflow.com/help/mcve .... this is one of the occasions where I just would like to download your source, compile it and run it myself. Which is not possible when you just give snippets out of a larger content; and doing so always comes at the risk of not sharing that code that gives trouble.","body":"Hint: try coming up with a <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> .... this is one of the occasions where I just would like to download your source, compile it and run it myself. Which is not possible when you just give snippets out of a larger content; and doing so always comes at the risk of not sharing that code that gives trouble."},{"owner":{"account_id":8750134,"reputation":59,"user_id":6543711,"display_name":"Yasin Uygun"},"score":0,"creation_date":1481634910,"post_id":41121747,"comment_id":69449435,"body_markdown":"Try to increase the menu&#39;s z-index with [setComponentZOrder](http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Container.html#setComponentZOrder%28java.awt.Component,%20int%29).","body":"Try to increase the menu&#39;s z-index with <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/awt/Container.html#setComponentZOrder%28java.awt.Component,%20int%29\" rel=\"nofollow noreferrer\">setComponentZOrder</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1481636894,"post_id":41121747,"comment_id":69449061,"body_markdown":"Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or [combinations of them](http://stackoverflow.com/a/5630271/418556) along with layout padding and borders for [white space](http://stackoverflow.com/a/17874718/418556).","body":"Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or <a href=\"http://stackoverflow.com/a/5630271/418556\">combinations of them</a> along with layout padding and borders for <a href=\"http://stackoverflow.com/a/17874718/418556\">white space</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1481636947,"post_id":41121747,"comment_id":69449105,"body_markdown":"@GhostCat Great suggestion! Tip: `[mcve]` in a comment auto-expands to [mcve].","body":"@GhostCat Great suggestion! Tip: <code>[mcve]</code> in a comment auto-expands to <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1481637015,"post_id":41121747,"comment_id":69449154,"body_markdown":"@AndrewThompson And I kept wondering how people do that, but was afraid to ask. You made my day ... plus 5 for that ;-)","body":"@AndrewThompson And I kept wondering how people do that, but was afraid to ask. You made my day ... plus 5 for that ;-)"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1481637285,"post_id":41121747,"comment_id":69449342,"body_markdown":"@GhostCat *&quot;You made my day ...&quot;* I only offer that advice to people who I see as being useful enough to justify the time taken in doing so. Thanks for being one of them. :)","body":"@GhostCat <i>&quot;You made my day ...&quot;</i> I only offer that advice to people who I see as being useful enough to justify the time taken in doing so. Thanks for being one of them. :)"},{"owner":{"account_id":8017300,"reputation":197,"user_id":6047129,"accept_rate":40,"display_name":"Felipe Hogrefe Bento"},"score":0,"creation_date":1481657614,"post_id":41121747,"comment_id":69462119,"body_markdown":"@GhostCat I couldn&#39;t do that cus a [mcve] would not have the essence of the code, I had an especific problem for that code, in this case the mixing of Swing and AWT components as our friend noticed below) I hope you get my point.","body":"@GhostCat I couldn&#39;t do that cus a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would not have the essence of the code, I had an especific problem for that code, in this case the mixing of Swing and AWT components as our friend noticed below) I hope you get my point."},{"owner":{"account_id":8017300,"reputation":197,"user_id":6047129,"accept_rate":40,"display_name":"Felipe Hogrefe Bento"},"score":0,"creation_date":1481657618,"post_id":41121747,"comment_id":69462121,"body_markdown":"@AndrewThompson Yes, I see that the &quot;absolute Layout&quot; might present problems for different resolutions. But this program will run into specifc machines and for them the absolute will work, but its a good point to implement in a further version, thanks for the tip.","body":"@AndrewThompson Yes, I see that the &quot;absolute Layout&quot; might present problems for different resolutions. But this program will run into specifc machines and for them the absolute will work, but its a good point to implement in a further version, thanks for the tip."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1481635982,"creation_date":1481635982,"answer_id":41122435,"question_id":41121747,"body_markdown":"You are mixing Swing components (`JMenu`, `JTabbedPane`) with an AWT component (`Choice`). This leads to various problems including the overlap of the `Choice` component over the `JMenu`.\r\n\r\nUse `JComboBox` instead of `Choice`","title":"Choice appears over JMenu","body":"<p>You are mixing Swing components (<code>JMenu</code>, <code>JTabbedPane</code>) with an AWT component (<code>Choice</code>). This leads to various problems including the overlap of the <code>Choice</code> component over the <code>JMenu</code>.</p>\n\n<p>Use <code>JComboBox</code> instead of <code>Choice</code></p>\n"}],"owner":{"account_id":8017300,"reputation":197,"user_id":6047129,"accept_rate":40,"display_name":"Felipe Hogrefe Bento"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":41122435,"answer_count":1,"score":-1,"last_activity_date":1672834650,"creation_date":1481633955,"question_id":41121747,"body_markdown":"I&#39;m creating a program interface where the users selects something into a menu and then it will display several tabs. Inside some tabs there are choices. The problem comes when the user select something from the menu, the tab becomes visible, and the user click menu again, thats what is going on:\r\n[menu bugged][1]\r\n\r\nThe code is extense now, so I&#39;m going to stick to the components creation.\r\n\r\nMenu item creation:\r\n\r\n    JMenu menuArquivo = new JMenu(&quot;Arquivo&quot;);\r\n\tmenuBar.add(menuArquivo);\r\n\t\t\r\n\tJMenuItem arqAC = new JMenuItem(&quot;Aviso de Cobran\\u00E7a&quot;);\r\n\tmenuArquivo.add(arqAC);\r\n\tarqAC.addActionListener(menuItemListener);\r\n\tarqAC.setActionCommand(&quot;AC&quot;);\r\n\r\nAdding the tabPane to the contentPane:    \r\n\r\n\tcontentPane = new JPanel();\r\n\tcontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\r\n\tsetContentPane(contentPane);\r\n\tcontentPane.setLayout(null);\r\n\r\n\ttabs = new ArquivoTabs();\r\n\tJTabbedPane tabbedPane = tabs.getTabs();\r\n\ttabbedPane.setBounds(0, 0, 1061, 600);\r\n\ttabbedPane.setSelectedIndex(index);\r\n\tcontentPane.add(tabbedPane);\r\n\ttabbedPane.setTitleAt(index, title);\r\n\trevalidate();\r\n\r\nContentPane:\r\n\r\n    public ArquivoTabs() {\r\n\t\t\t\t\r\n\t\ttabbedPane = new JTabbedPane(JTabbedPane.TOP);\r\n\t\tadd(tabbedPane);\r\n\r\n\t\tACTab act = new ACTab(tabbedPane);\r\n\t\ttabbedPane.addTab(&quot;AC&quot;, null, act, &quot;Aviso de Cobran\\u00E7a&quot;);\r\n    }\r\n\r\nOne tab creation:\r\n\r\n    public ACTab(JTabbedPane tp) {\r\n\t\ttabbedPane = tp;\r\n\t\taut = Authority.getAuthority();\t\t\t\t\r\n\t\tButtonListener buttonListener = new ButtonListener();\r\n\r\n\t\tsetLayout(null);\r\n\t\t\r\n\t\ttfAC = new JTextField();\r\n\t\ttfAC.setBounds(10, 25, 251, 20);\r\n\t\tadd(tfAC);\r\n\t\ttfAC.setColumns(10);\r\n\t\t\r\n\t\tbpAC = new JButton(&quot;Procurar&quot;);\r\n\t\tbpAC.setBounds(271, 24, 75, 23);\r\n\t\tadd(bpAC);\r\n\t\tbpAC.addActionListener(buttonListener);\r\n\t\tbpAC.setActionCommand(&quot;bpAC&quot;);\r\n\t\t\r\n\t\tJSeparator separator = new JSeparator(JSeparator.HORIZONTAL);\r\n\t\tseparator.setBounds(10, 68, 336, 9);\r\n\t\tadd(separator,\r\n\t\t          BorderLayout.LINE_START);\r\n\t\t\r\n\t\tbtnGerarAC = new JButton(&quot;GERAR&quot;);\r\n\t\tbtnGerarAC.setBounds(271, 346, 75, 23);\r\n\t\tadd(btnGerarAC);\r\n\t\tbtnGerarAC.addActionListener(buttonListener);\r\n\t\tbtnGerarAC.setActionCommand(&quot;btnGerarAC&quot;);\r\n\t\t\r\n\r\n\t\tJScrollPane scrollPane = new JScrollPane();\r\n\t\tscrollPane.setBounds(10, 113, 336, 106);\r\n\t\tadd(scrollPane);\r\n\t\t\r\n\t\ttfDescDeb = new JTextArea();\r\n\t\tscrollPane.setViewportView(tfDescDeb);\r\n\t\ttfDescDeb.setFont(new Font(&quot;Arial&quot;, Font.PLAIN, 14));\r\n\t\ttfDescDeb.setColumns(10);\r\n\t\ttfDescDeb.setLineWrap(true);\r\n\t\ttfDescDeb.setWrapStyleWord(true);\r\n\t\ttfDescDeb.setEditable(false);\r\n\t\t\r\n\t\tmotTypes = DescDeb.getMotTypes();\r\n\t\t\r\n\t\tchoice = new Choice();\r\n\t\tchoice.setBounds(10, 87, 336, 20);\r\n\t\tadd(choice);\r\n\t\tchoice.add(&quot;&quot;);\r\n\t\tfor(DescDeb mt : motTypes){\r\n\t\t\tchoice.add(mt.getTitle());\r\n\t\t}\r\n\t\tchoice.addItemListener(new ItemListener(){\r\n\t        public void itemStateChanged(ItemEvent ie)\r\n\t        {\r\n\t        \tfor(DescDeb mt : motTypes){\r\n\t        \t\tif(choice.getSelectedItem().equals(mt.getTitle())){\r\n\t        \t\t\ttfDescDeb.setEditable(false);\r\n\t        \t\t\ttfDescDeb.setText(mt.getText());\r\n\t        \t\t}\r\n\t    \t\t}\r\n\t        }\r\n\t    });\r\n\t\t\r\n\t\t\r\n\t\tJLabel lblDescDeb = new JLabel(&quot;Descri\\u00E7\\u00E3o dos d\\u00E9bitos:&quot;);\r\n\t\tlblDescDeb.setBounds(10, 73, 110, 14);\r\n\t\tadd(lblDescDeb);\r\n\t\t\r\n\t\tJLabel lblAutRole = new JLabel(&quot;Cargo da Autoridade:&quot;);\r\n\t\tlblAutRole.setBounds(10, 258, 110, 14);\r\n\t\tadd(lblAutRole);\r\n\t\t\r\n\t\ttxtAutRole = new JTextField();\r\n\t\ttxtAutRole.setEditable(false);\r\n\t\ttxtAutRole.setColumns(10);\r\n\t\ttxtAutRole.setBounds(134, 258, 212, 20);\r\n\t\ttxtAutRole.setText(aut.getRole());\r\n\t\tadd(txtAutRole);\r\n\t\t\r\n\t\tJLabel lblAutMat = new JLabel(&quot;Matr\\u00EDcula da Autoridade:&quot;);\r\n\t\tlblAutMat.setBounds(10, 286, 118, 14);\r\n\t\tadd(lblAutMat);\r\n\t\t\r\n\t\ttxtAutMat = new JTextField();\r\n\t\ttxtAutMat.setEditable(false);\r\n\t\ttxtAutMat.setColumns(10);\r\n\t\ttxtAutMat.setBounds(134, 286, 212, 20);\r\n\t\ttxtAutMat.setText(aut.getRegistration());\r\n\t\tadd(txtAutMat);\r\n\t\t\r\n\t\tJLabel lblAutName = new JLabel(&quot;Nome da Autoridade:&quot;);\r\n\t\tlblAutName.setBounds(10, 230, 102, 14);\r\n\t\tadd(lblAutName);\r\n\t\t\r\n\t\ttxtAutName = new JTextField();\r\n\t\ttxtAutName.setEditable(false);\r\n\t\ttxtAutName.setBounds(134, 230, 212, 20);\r\n\t\ttxtAutName.setText(aut.getName());\r\n\t\tadd(txtAutName);\r\n\t\t\r\n\t\tJButton btnEditarAutoridade = new JButton(&quot;Editar Autoridade&quot;);\r\n\t\tbtnEditarAutoridade.setBounds(226, 317, 119, 23);\r\n\t\tbtnEditarAutoridade.addActionListener(buttonListener);\r\n\t\tbtnEditarAutoridade.setActionCommand(&quot;edtAut&quot;);\r\n\t\tadd(btnEditarAutoridade);\r\n\t\t\r\n\t\tJLabel lblArquivoDeEntrada = new JLabel(&quot;Arquivo de Entrada:&quot;);\r\n\t\tlblArquivoDeEntrada.setBounds(10, 11, 110, 14);\r\n\t\tadd(lblArquivoDeEntrada);\r\n\t}\r\n\r\nI have to pass JTabbedPane tp to use it with unrelated stuff.\r\n\r\nIf more parts of the code are needed, let me know.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E6dQ9.png","title":"Choice appears over JMenu","body":"<p>I'm creating a program interface where the users selects something into a menu and then it will display several tabs. Inside some tabs there are choices. The problem comes when the user select something from the menu, the tab becomes visible, and the user click menu again, thats what is going on:\n<a href=\"https://i.stack.imgur.com/E6dQ9.png\" rel=\"nofollow noreferrer\">menu bugged</a></p>\n\n<p>The code is extense now, so I'm going to stick to the components creation.</p>\n\n<p>Menu item creation:</p>\n\n<pre><code>JMenu menuArquivo = new JMenu(\"Arquivo\");\nmenuBar.add(menuArquivo);\n\nJMenuItem arqAC = new JMenuItem(\"Aviso de Cobran\\u00E7a\");\nmenuArquivo.add(arqAC);\narqAC.addActionListener(menuItemListener);\narqAC.setActionCommand(\"AC\");\n</code></pre>\n\n<p>Adding the tabPane to the contentPane:    </p>\n\n<pre><code>contentPane = new JPanel();\ncontentPane.setBorder(new EmptyBorder(5, 5, 5, 5));\nsetContentPane(contentPane);\ncontentPane.setLayout(null);\n\ntabs = new ArquivoTabs();\nJTabbedPane tabbedPane = tabs.getTabs();\ntabbedPane.setBounds(0, 0, 1061, 600);\ntabbedPane.setSelectedIndex(index);\ncontentPane.add(tabbedPane);\ntabbedPane.setTitleAt(index, title);\nrevalidate();\n</code></pre>\n\n<p>ContentPane:</p>\n\n<pre><code>public ArquivoTabs() {\n\n    tabbedPane = new JTabbedPane(JTabbedPane.TOP);\n    add(tabbedPane);\n\n    ACTab act = new ACTab(tabbedPane);\n    tabbedPane.addTab(\"AC\", null, act, \"Aviso de Cobran\\u00E7a\");\n}\n</code></pre>\n\n<p>One tab creation:</p>\n\n<pre><code>public ACTab(JTabbedPane tp) {\n    tabbedPane = tp;\n    aut = Authority.getAuthority();             \n    ButtonListener buttonListener = new ButtonListener();\n\n    setLayout(null);\n\n    tfAC = new JTextField();\n    tfAC.setBounds(10, 25, 251, 20);\n    add(tfAC);\n    tfAC.setColumns(10);\n\n    bpAC = new JButton(\"Procurar\");\n    bpAC.setBounds(271, 24, 75, 23);\n    add(bpAC);\n    bpAC.addActionListener(buttonListener);\n    bpAC.setActionCommand(\"bpAC\");\n\n    JSeparator separator = new JSeparator(JSeparator.HORIZONTAL);\n    separator.setBounds(10, 68, 336, 9);\n    add(separator,\n              BorderLayout.LINE_START);\n\n    btnGerarAC = new JButton(\"GERAR\");\n    btnGerarAC.setBounds(271, 346, 75, 23);\n    add(btnGerarAC);\n    btnGerarAC.addActionListener(buttonListener);\n    btnGerarAC.setActionCommand(\"btnGerarAC\");\n\n\n    JScrollPane scrollPane = new JScrollPane();\n    scrollPane.setBounds(10, 113, 336, 106);\n    add(scrollPane);\n\n    tfDescDeb = new JTextArea();\n    scrollPane.setViewportView(tfDescDeb);\n    tfDescDeb.setFont(new Font(\"Arial\", Font.PLAIN, 14));\n    tfDescDeb.setColumns(10);\n    tfDescDeb.setLineWrap(true);\n    tfDescDeb.setWrapStyleWord(true);\n    tfDescDeb.setEditable(false);\n\n    motTypes = DescDeb.getMotTypes();\n\n    choice = new Choice();\n    choice.setBounds(10, 87, 336, 20);\n    add(choice);\n    choice.add(\"\");\n    for(DescDeb mt : motTypes){\n        choice.add(mt.getTitle());\n    }\n    choice.addItemListener(new ItemListener(){\n        public void itemStateChanged(ItemEvent ie)\n        {\n            for(DescDeb mt : motTypes){\n                if(choice.getSelectedItem().equals(mt.getTitle())){\n                    tfDescDeb.setEditable(false);\n                    tfDescDeb.setText(mt.getText());\n                }\n            }\n        }\n    });\n\n\n    JLabel lblDescDeb = new JLabel(\"Descri\\u00E7\\u00E3o dos d\\u00E9bitos:\");\n    lblDescDeb.setBounds(10, 73, 110, 14);\n    add(lblDescDeb);\n\n    JLabel lblAutRole = new JLabel(\"Cargo da Autoridade:\");\n    lblAutRole.setBounds(10, 258, 110, 14);\n    add(lblAutRole);\n\n    txtAutRole = new JTextField();\n    txtAutRole.setEditable(false);\n    txtAutRole.setColumns(10);\n    txtAutRole.setBounds(134, 258, 212, 20);\n    txtAutRole.setText(aut.getRole());\n    add(txtAutRole);\n\n    JLabel lblAutMat = new JLabel(\"Matr\\u00EDcula da Autoridade:\");\n    lblAutMat.setBounds(10, 286, 118, 14);\n    add(lblAutMat);\n\n    txtAutMat = new JTextField();\n    txtAutMat.setEditable(false);\n    txtAutMat.setColumns(10);\n    txtAutMat.setBounds(134, 286, 212, 20);\n    txtAutMat.setText(aut.getRegistration());\n    add(txtAutMat);\n\n    JLabel lblAutName = new JLabel(\"Nome da Autoridade:\");\n    lblAutName.setBounds(10, 230, 102, 14);\n    add(lblAutName);\n\n    txtAutName = new JTextField();\n    txtAutName.setEditable(false);\n    txtAutName.setBounds(134, 230, 212, 20);\n    txtAutName.setText(aut.getName());\n    add(txtAutName);\n\n    JButton btnEditarAutoridade = new JButton(\"Editar Autoridade\");\n    btnEditarAutoridade.setBounds(226, 317, 119, 23);\n    btnEditarAutoridade.addActionListener(buttonListener);\n    btnEditarAutoridade.setActionCommand(\"edtAut\");\n    add(btnEditarAutoridade);\n\n    JLabel lblArquivoDeEntrada = new JLabel(\"Arquivo de Entrada:\");\n    lblArquivoDeEntrada.setBounds(10, 11, 110, 14);\n    add(lblArquivoDeEntrada);\n}\n</code></pre>\n\n<p>I have to pass JTabbedPane tp to use it with unrelated stuff.</p>\n\n<p>If more parts of the code are needed, let me know.</p>\n"},{"tags":["java","graphics","awt"],"comments":[{"owner":{"account_id":19902003,"reputation":21,"user_id":14581799,"display_name":"Steven Vetter"},"score":0,"creation_date":1611045052,"post_id":65787813,"comment_id":116316425,"body_markdown":"the ** aren&#39;t actually inside the code, it is just an indicator for where the problem is.","body":"the ** aren&#39;t actually inside the code, it is just an indicator for where the problem is."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1611473466,"post_id":65787813,"comment_id":116458682,"body_markdown":"1) For better help sooner, [edit] to add a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/). 2) Why use AWT?   See [this answer](http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt/6255978#6255978) for many good reasons to abandon AWT components in favor of Swing. 3) Why code an applet?  If it is due to the teacher specifying it, please refer them to [Why CS teachers should **stop** teaching Java applets](http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/).","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/65787813/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>. 2) Why use AWT?   See <a href=\"http://stackoverflow.com/questions/6255106/java-gui-listeners-without-awt/6255978#6255978\">this answer</a> for many good reasons to abandon AWT components in favor of Swing. 3) Why code an applet?  If it is due to the teacher specifying it, please refer them to <a href=\"http://programmers.blogoverflow.com/2013/05/why-cs-teachers-should-stop-teaching-java-applets/\" rel=\"nofollow noreferrer\">Why CS teachers should <b>stop</b> teaching Java applets</a>."}],"owner":{"account_id":19902003,"reputation":21,"user_id":14581799,"display_name":"Steven Vetter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672834639,"creation_date":1611044963,"question_id":65787813,"body_markdown":"```\r\nx = e.getX();\r\ny = e.getY();\r\n-------------------------------\r\npublic void mousePressed(MouseEvent e){\r\nGraphics stift = getGraphics();\r\n-------------------------------\r\n**stift.fillOval(e.getX(), e.getY(), Integer.parseInt(freeSize.getSelectedItem(), Integer.parseInt(freeSize.getSelectedItem())));**\r\n}\r\n```\r\n\r\nMy problem in this code is that I have a Choice object where I can choose between sizes of the &quot;stift&quot; now I want the applet to put the String from the AWT-Choice into the parameters, logically it has to be parsed into an Integer.\r\n\r\nAny ideas to solve the problem?","title":"Get value of AWT-Choice and convert to an Integer for AWT-Graphics method fillOval(x, y, int1, int2);","body":"<pre><code>x = e.getX();\ny = e.getY();\n-------------------------------\npublic void mousePressed(MouseEvent e){\nGraphics stift = getGraphics();\n-------------------------------\n**stift.fillOval(e.getX(), e.getY(), Integer.parseInt(freeSize.getSelectedItem(), Integer.parseInt(freeSize.getSelectedItem())));**\n}\n</code></pre>\n<p>My problem in this code is that I have a Choice object where I can choose between sizes of the &quot;stift&quot; now I want the applet to put the String from the AWT-Choice into the parameters, logically it has to be parsed into an Integer.</p>\n<p>Any ideas to solve the problem?</p>\n"},{"tags":["java","android","android-studio","jdbc","mysql-workbench"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1672834261,"post_id":75005243,"comment_id":132361045,"body_markdown":"You understand that the cause of the error is this?: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.sql.SQLType&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.mysqk/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~JQTRM_VdBHFyDtKa6sRjtQ==/com.example.mysqk-KqjfMJ8Q8I5NhMVqouUIfA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~JQTRM_VdBHFyDtKa6sRjtQ==/com.example.mysqk-KqjfMJ8Q8I5NhMVqouUIfA==/lib/arm64, /system/lib64, /system_ext/lib64]]","body":"You understand that the cause of the error is this?: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.sql.SQLType&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.mysqk/code_cache/.overlay/base.apk/c&zwnj;&#8203;lasses3.dex&quot;, zip file &quot;/data/app/~~JQTRM_VdBHFyDtKa6sRjtQ==/com.example.mysqk-Kqjf&zwnj;&#8203;MJ8Q8I5NhMVqouUIfA==&zwnj;&#8203;/base.apk&quot;],nativeLi&zwnj;&#8203;braryDirectories=[/d&zwnj;&#8203;ata/app/~~JQTRM_VdBH&zwnj;&#8203;FyDtKa6sRjtQ==/com.e&zwnj;&#8203;xample.mysqk-KqjfMJ8&zwnj;&#8203;Q8I5NhMVqouUIfA==/li&zwnj;&#8203;b/arm64, /system/lib64, /system_ext/lib64]]"}],"owner":{"account_id":16034800,"reputation":1,"user_id":11572794,"display_name":"Ayush Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1672834299,"answer_count":0,"score":0,"last_activity_date":1672834358,"creation_date":1672834169,"question_id":75005243,"body_markdown":"I had checked previous questions on these but not able to find solution. I&#39;m newbie in android. I want to connect directly to mysql database server. For local database sqlite I&#39;m aware of please and don&#39;t want to connect with that. \r\n\r\n\r\n\r\nI&#39;m trying this code. I have added dependencies in gradle, added user privilege in Mysql server. \r\n\r\n```\r\npackage com.example.mysqk;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        ConnectToDatabaseTask connectToDatabaseTask = new ConnectToDatabaseTask();\r\n        connectToDatabaseTask.execute();\r\n   //   new ConnectToDatabaseTask().execute();\r\n\r\n    }\r\n\r\n\r\n    private class ConnectToDatabaseTask extends AsyncTask&lt;Void, Void, Void&gt; {\r\n        String url = &quot;jdbc:mysql://xxx.xxx.x.x:3306/world?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\r\n        String username = &quot;xxx&quot;;\r\n        String password = &quot;Xxx&quot;;\r\n        Connection connection = null;\r\n\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            try {\r\n                connection = DriverManager.getConnection(url, username, password);\r\n                Statement statement = connection.createStatement();\r\n                ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM employees LIMIT 10 &quot;);\r\n                while (resultSet.next()) {\r\n                    String name = resultSet.getString(&quot;name&quot;);\r\n                    String population = resultSet.getString(&quot;department&quot;);\r\n                    System.out.println(name + &quot; &quot; + population);\r\n                }\r\n                resultSet.close();\r\n                statement.close();\r\n                connection.close();\r\n            } catch (SQLException e) {\r\n               Log.e(&quot;MyApp&quot;, &quot;Error while connecting to database&quot;+ e.getMessage().toString(),e);\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void aVoid) {\r\n            super.onPostExecute(aVoid);\r\n            // You can show a toast message here to indicate that the data has been retrieved successfully\r\n            Toast.makeText(MainActivity.this, &quot;Data retrieved successfully&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nWhile running this code, the app is crashing with the Logs as ,mentioned below \r\n\r\n```\r\nFATAL EXCEPTION: AsyncTask #1\r\nProcess: com.example.mysqk, PID: 26856\r\njava.lang.RuntimeException: An error occurred while executing doInBackground()\r\nat android.os.AsyncTask$4.done(AsyncTask.java:415)\r\nat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\r\nat java.util.concurrent.FutureTask.setException(FutureTask.java:250)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:269)\r\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\r\nat java.lang.Thread.run(Thread.java:1012)\r\nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/sql/SQLType;\r\nat com.mysql.cj.jdbc.DatabaseMetaData.getInstance(DatabaseMetaData.java:768)\r\nat com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1169)\r\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:439)\r\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\r\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\r\nat java.sql.DriverManager.getConnection(DriverManager.java:580)\r\nat java.sql.DriverManager.getConnection(DriverManager.java:218)\r\nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:39)\r\nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:29)\r\nat android.os.AsyncTask$3.call(AsyncTask.java:394)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)&#160;\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)&#160;\r\nat java.lang.Thread.run(Thread.java:1012)&#160;\r\nCaused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.sql.SQLType&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.mysqk/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~JQTRM_VdBHFyDtKa6sRjtQ==/com.example.mysqk-KqjfMJ8Q8I5NhMVqouUIfA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~JQTRM_VdBHFyDtKa6sRjtQ==/com.example.mysqk-KqjfMJ8Q8I5NhMVqouUIfA==/lib/arm64, /system/lib64, /system_ext/lib64]]\r\nat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:259)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\nat com.mysql.cj.jdbc.DatabaseMetaData.getInstance(DatabaseMetaData.java:768)&#160;\r\nat com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1169)&#160;\r\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:439)&#160;\r\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)&#160;\r\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)&#160;\r\nat java.sql.DriverManager.getConnection(DriverManager.java:580)&#160;\r\nat java.sql.DriverManager.getConnection(DriverManager.java:218)&#160;\r\nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:39)&#160;\r\nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:29)&#160;\r\nat android.os.AsyncTask$3.call(AsyncTask.java:394)&#160;\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:264)&#160;\r\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)&#160;\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)&#160;\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)&#160;\r\nat java.lang.Thread.run(Thread.java:1012)&#160;\r\n--------- beginning of system\r\n```","title":"I&#39;m trying to connect my Android App with MYSQL database using jdbc, but the app is crashing","body":"<p>I had checked previous questions on these but not able to find solution. I'm newbie in android. I want to connect directly to mysql database server. For local database sqlite I'm aware of please and don't want to connect with that.</p>\n<p>I'm trying this code. I have added dependencies in gradle, added user privilege in Mysql server.</p>\n<pre><code>package com.example.mysqk;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        ConnectToDatabaseTask connectToDatabaseTask = new ConnectToDatabaseTask();\n        connectToDatabaseTask.execute();\n   //   new ConnectToDatabaseTask().execute();\n\n    }\n\n\n    private class ConnectToDatabaseTask extends AsyncTask&lt;Void, Void, Void&gt; {\n        String url = &quot;jdbc:mysql://xxx.xxx.x.x:3306/world?useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;\n        String username = &quot;xxx&quot;;\n        String password = &quot;Xxx&quot;;\n        Connection connection = null;\n\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            try {\n                connection = DriverManager.getConnection(url, username, password);\n                Statement statement = connection.createStatement();\n                ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM employees LIMIT 10 &quot;);\n                while (resultSet.next()) {\n                    String name = resultSet.getString(&quot;name&quot;);\n                    String population = resultSet.getString(&quot;department&quot;);\n                    System.out.println(name + &quot; &quot; + population);\n                }\n                resultSet.close();\n                statement.close();\n                connection.close();\n            } catch (SQLException e) {\n               Log.e(&quot;MyApp&quot;, &quot;Error while connecting to database&quot;+ e.getMessage().toString(),e);\n                e.printStackTrace();\n            }\n            return null;\n        }\n\n        @Override\n        protected void onPostExecute(Void aVoid) {\n            super.onPostExecute(aVoid);\n            // You can show a toast message here to indicate that the data has been retrieved successfully\n            Toast.makeText(MainActivity.this, &quot;Data retrieved successfully&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n}\n\n</code></pre>\n<p>While running this code, the app is crashing with the Logs as ,mentioned below</p>\n<pre><code>FATAL EXCEPTION: AsyncTask #1\nProcess: com.example.mysqk, PID: 26856\njava.lang.RuntimeException: An error occurred while executing doInBackground()\nat android.os.AsyncTask$4.done(AsyncTask.java:415)\nat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:381)\nat java.util.concurrent.FutureTask.setException(FutureTask.java:250)\nat java.util.concurrent.FutureTask.run(FutureTask.java:269)\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637)\nat java.lang.Thread.run(Thread.java:1012)\nCaused by: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/sql/SQLType;\nat com.mysql.cj.jdbc.DatabaseMetaData.getInstance(DatabaseMetaData.java:768)\nat com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1169)\nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:439)\nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)\nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)\nat java.sql.DriverManager.getConnection(DriverManager.java:580)\nat java.sql.DriverManager.getConnection(DriverManager.java:218)\nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:39)\nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:29)\nat android.os.AsyncTask$3.call(AsyncTask.java:394)\nat java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137) \nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637) \nat java.lang.Thread.run(Thread.java:1012) \nCaused by: java.lang.ClassNotFoundException: Didn't find class &quot;java.sql.SQLType&quot; on path: DexPathList[[dex file &quot;/data/data/com.example.mysqk/code_cache/.overlay/base.apk/classes3.dex&quot;, zip file &quot;/data/app/~~JQTRM_VdBHFyDtKa6sRjtQ==/com.example.mysqk-KqjfMJ8Q8I5NhMVqouUIfA==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~JQTRM_VdBHFyDtKa6sRjtQ==/com.example.mysqk-KqjfMJ8Q8I5NhMVqouUIfA==/lib/arm64, /system/lib64, /system_ext/lib64]]\nat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:259)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\nat com.mysql.cj.jdbc.DatabaseMetaData.getInstance(DatabaseMetaData.java:768) \nat com.mysql.cj.jdbc.ConnectionImpl.getMetaData(ConnectionImpl.java:1169) \nat com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:439) \nat com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) \nat com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) \nat java.sql.DriverManager.getConnection(DriverManager.java:580) \nat java.sql.DriverManager.getConnection(DriverManager.java:218) \nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:39) \nat com.example.mysqk.MainActivity$ConnectToDatabaseTask.doInBackground(MainActivity.java:29) \nat android.os.AsyncTask$3.call(AsyncTask.java:394) \nat java.util.concurrent.FutureTask.run(FutureTask.java:264) \nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:305) \nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1137) \nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:637) \nat java.lang.Thread.run(Thread.java:1012) \n--------- beginning of system\n</code></pre>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":304968,"reputation":56727,"user_id":614807,"accept_rate":73,"display_name":"Chirag"},"score":2,"creation_date":1356073005,"post_id":13985622,"comment_id":19300654,"body_markdown":"Please post your logcat error !","body":"Please post your logcat error !"},{"owner":{"account_id":297964,"reputation":54072,"user_id":603744,"accept_rate":91,"display_name":"Andro Selva"},"score":2,"creation_date":1356073326,"post_id":13985622,"comment_id":19300756,"body_markdown":"You are getting out of memory exception(last line of log). Your alert dialog has nothing to do with it unless the icon you are using is a huge file.","body":"You are getting out of memory exception(last line of log). Your alert dialog has nothing to do with it unless the icon you are using is a huge file."},{"owner":{"account_id":1816902,"reputation":767,"user_id":1651823,"accept_rate":81,"display_name":"Kurt"},"score":0,"creation_date":1356073460,"post_id":13985622,"comment_id":19300808,"body_markdown":"Got it - runs fine if I comment out the icon. Good spot thanks","body":"Got it - runs fine if I comment out the icon. Good spot thanks"},{"owner":{"account_id":297964,"reputation":54072,"user_id":603744,"accept_rate":91,"display_name":"Andro Selva"},"score":0,"creation_date":1356073538,"post_id":13985622,"comment_id":19300842,"body_markdown":"well we r good then. Try to reduce the icon size.","body":"well we r good then. Try to reduce the icon size."},{"owner":{"account_id":1816902,"reputation":767,"user_id":1651823,"accept_rate":81,"display_name":"Kurt"},"score":1,"creation_date":1356073858,"post_id":13985622,"comment_id":19300927,"body_markdown":"Have added the summary as an answer, feel free to add one if you want the credit for diagnosing the problem!","body":"Have added the summary as an answer, feel free to add one if you want the credit for diagnosing the problem!"}],"answers":[{"tags":[],"owner":{"account_id":1114660,"reputation":10623,"user_id":1118919,"accept_rate":77,"display_name":"Andy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356073436,"creation_date":1356073436,"answer_id":13985734,"question_id":13985622,"body_markdown":"I figure your issue might be coming from how you are doing it. I get this from the android docs\r\n\r\n    // 1. Instantiate an AlertDialog.Builder with its constructor\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n\r\n    // 2. Chain together various setter methods to set the dialog characteristics\r\n        builder.setMessage(R.string.dialog_message)\r\n           .setTitle(R.string.dialog_title);\r\n\r\n    // 3. Get the AlertDialog from create()\r\n        AlertDialog dialog = builder.create();\r\n\r\nWhen you are creating it like so `AlertDialog alertDialog = new AlertDialog.Builder( \r\n                        Crossword1.this).create();` you aren&#39;t really setting anything in it. You should do create last. Then show it.","title":"alertdialog causing memory error","body":"<p>I figure your issue might be coming from how you are doing it. I get this from the android docs</p>\n\n<pre><code>// 1. Instantiate an AlertDialog.Builder with its constructor\n    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n\n// 2. Chain together various setter methods to set the dialog characteristics\n    builder.setMessage(R.string.dialog_message)\n       .setTitle(R.string.dialog_title);\n\n// 3. Get the AlertDialog from create()\n    AlertDialog dialog = builder.create();\n</code></pre>\n\n<p>When you are creating it like so <code>AlertDialog alertDialog = new AlertDialog.Builder( \n                        Crossword1.this).create();</code> you aren't really setting anything in it. You should do create last. Then show it.</p>\n"},{"tags":[],"owner":{"account_id":1167258,"reputation":448,"user_id":1145244,"accept_rate":25,"display_name":"mainu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1356073476,"creation_date":1356073476,"answer_id":13985742,"question_id":13985622,"body_markdown":"U create the dialog before assigning the views to UI. The error might be here::\r\n\r\n    AlertDialog alertDialog = new AlertDialog.Builder( \r\n        Crossword1.this).create(); \r\n\r\nDo that like this..\r\n\r\n    AlertDialog.Builder builder= new AlertDialog.Builder(\r\n    \t\t\t\t\tCrossword1.this)\r\n                                            .setTitle(&quot;Well done, the crossword is complete!&quot;);\r\n                                            .setMessage(&quot;....&quot;)\r\n    \t\t\t\t\t.setCancelable(false)\r\n    \t\t\t\t\t.setPositiveButton(&quot;Ok&quot;, new   DialogInterface.OnClickListener() {\r\n    \t\t\t\t\t\tpublic void onClick(DialogInterface dialog, int whichButton) {\r\n    \t\t\t\t\t\t\t//ur code\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t});\r\n    \t\t\treturn builder.create();\r\ncheck it..\r\n\t","title":"alertdialog causing memory error","body":"<p>U create the dialog before assigning the views to UI. The error might be here::</p>\n\n<pre><code>AlertDialog alertDialog = new AlertDialog.Builder( \n    Crossword1.this).create(); \n</code></pre>\n\n<p>Do that like this..</p>\n\n<pre><code>AlertDialog.Builder builder= new AlertDialog.Builder(\n                    Crossword1.this)\n                                        .setTitle(\"Well done, the crossword is complete!\");\n                                        .setMessage(\"....\")\n                    .setCancelable(false)\n                    .setPositiveButton(\"Ok\", new   DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int whichButton) {\n                            //ur code\n                        }\n                    });\n            return builder.create();\n</code></pre>\n\n<p>check it..</p>\n"},{"tags":[],"owner":{"account_id":1816902,"reputation":767,"user_id":1651823,"accept_rate":81,"display_name":"Kurt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1356073699,"creation_date":1356073699,"answer_id":13985793,"question_id":13985622,"body_markdown":"***Thanks @Andro Selva for the answer***\r\nThe memory problem is being caused by the icon. If I comment out the icon line of code then the dialog runs fine.\r\n\r\nIf I resize the icon like so, then the whole thing runs fine\r\n            \r\n\r\n        //---scales the alertdialog items to the right size---\r\n        Bitmap bitmapOrg = BitmapFactory.decodeResource(getResources(), R.drawable.tick); \r\n        int width = bitmapOrg.getWidth(); \r\n        int height = bitmapOrg.getHeight(); \r\n        int newWidth = 200; \r\n        int newHeight = 200;\r\n\r\n        // calculate the scale - in this case = 0.4f \r\n        float scaleWidth = ((float) newWidth) / width;\r\n        float scaleHeight = ((float) newHeight) / height; \r\n\r\n        // create matrix for the manipulation\r\n        Matrix matrix = new Matrix();  \r\n\r\n        // resize the bit map\r\n        matrix.postScale(scaleWidth, scaleHeight);\r\n\r\n        // rotate the Bitmap\r\n        matrix.postRotate(0);  \r\n\r\n        // recreate the new Bitmap \r\n        Bitmap resizedBitmap = Bitmap.createBitmap(bitmapOrg, 0, 0, width, height, matrix, true);   \r\n\r\n        // make a Drawable from Bitmap to allow to set the BitMap  // to the ImageView, ImageButton or what ever \r\n        BitmapDrawable bmd = new BitmapDrawable(resizedBitmap);","title":"alertdialog causing memory error","body":"<p><em><strong>Thanks @Andro Selva for the answer</em></strong>\nThe memory problem is being caused by the icon. If I comment out the icon line of code then the dialog runs fine.</p>\n\n<p>If I resize the icon like so, then the whole thing runs fine</p>\n\n<pre><code>    //---scales the alertdialog items to the right size---\n    Bitmap bitmapOrg = BitmapFactory.decodeResource(getResources(), R.drawable.tick); \n    int width = bitmapOrg.getWidth(); \n    int height = bitmapOrg.getHeight(); \n    int newWidth = 200; \n    int newHeight = 200;\n\n    // calculate the scale - in this case = 0.4f \n    float scaleWidth = ((float) newWidth) / width;\n    float scaleHeight = ((float) newHeight) / height; \n\n    // create matrix for the manipulation\n    Matrix matrix = new Matrix();  \n\n    // resize the bit map\n    matrix.postScale(scaleWidth, scaleHeight);\n\n    // rotate the Bitmap\n    matrix.postRotate(0);  \n\n    // recreate the new Bitmap \n    Bitmap resizedBitmap = Bitmap.createBitmap(bitmapOrg, 0, 0, width, height, matrix, true);   \n\n    // make a Drawable from Bitmap to allow to set the BitMap  // to the ImageView, ImageButton or what ever \n    BitmapDrawable bmd = new BitmapDrawable(resizedBitmap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":899852,"reputation":2089,"user_id":936263,"accept_rate":0,"display_name":"Arvind Kanjariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672834211,"creation_date":1356073714,"answer_id":13985799,"question_id":13985622,"body_markdown":"Try this code..\r\n\r\n    AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(\r\n    \t\t\t    Crossword1.this);\r\n    \t\t\t   // set title\r\n    \t\t\t   alertDialogBuilder.setTitle(&quot;Well done, the crossword is complete!&quot;);\r\n    \t\t\t   // set dialog message\r\n    \t\t\t   alertDialogBuilder\r\n    \t\t\t    .setMessage(&quot;well done cuz&quot;)\r\n    \t\t\t    .setCancelable(false)\r\n    \t\t\t    .setPositiveButton(&quot;Yes&quot;,new DialogInterface.OnClickListener() {\r\n    \t\t\t     public void onClick(DialogInterface dialog,int id) {\r\n    \t\t\t      // if this button is clicked, \r\n    \t\t\t      // DO YOUR CODE HERE\r\n    \r\n    \t\t\t      //Here I start new activity\r\n    \t\t\t      Intent i = new Intent(MainActivity.this, abcd.class);\r\n    \t\t\t      startActivity(i);\r\n    \t\t\t     }\r\n    \t\t\t      })\r\n    \t\t\t    .setNegativeButton(&quot;No&quot;,new DialogInterface.OnClickListener() {\r\n    \t\t\t     public void onClick(DialogInterface dialog,int id) {\r\n    \t\t\t      // if this button is clicked, just close\r\n    \t\t\t      // the dialog box and do nothing\r\n    \t\t\t      dialog.cancel();\r\n    \t\t\t     }\r\n    \t\t\t    });\r\n    \t\t\t    // create alert dialog\r\n    \t\t\t    AlertDialog alertDialog = alertDialogBuilder.create();\r\n    \t\t\t    // show it\r\n    \t\t\t    alertDialog.show();\r\n\r\n","title":"alertdialog causing memory error","body":"<p>Try this code..</p>\n<pre><code>AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(\n                Crossword1.this);\n               // set title\n               alertDialogBuilder.setTitle(&quot;Well done, the crossword is complete!&quot;);\n               // set dialog message\n               alertDialogBuilder\n                .setMessage(&quot;well done cuz&quot;)\n                .setCancelable(false)\n                .setPositiveButton(&quot;Yes&quot;,new DialogInterface.OnClickListener() {\n                 public void onClick(DialogInterface dialog,int id) {\n                  // if this button is clicked, \n                  // DO YOUR CODE HERE\n\n                  //Here I start new activity\n                  Intent i = new Intent(MainActivity.this, abcd.class);\n                  startActivity(i);\n                 }\n                  })\n                .setNegativeButton(&quot;No&quot;,new DialogInterface.OnClickListener() {\n                 public void onClick(DialogInterface dialog,int id) {\n                  // if this button is clicked, just close\n                  // the dialog box and do nothing\n                  dialog.cancel();\n                 }\n                });\n                // create alert dialog\n                AlertDialog alertDialog = alertDialogBuilder.create();\n                // show it\n                alertDialog.show();\n</code></pre>\n"}],"owner":{"account_id":1816902,"reputation":767,"user_id":1651823,"accept_rate":81,"display_name":"Kurt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":13985793,"answer_count":4,"score":0,"last_activity_date":1672834211,"creation_date":1356072951,"question_id":13985622,"body_markdown":"I am trying to set up an alert dialog, using the below code, but the app keeps crashing on this point. Any obvious mistakes?\r\n\r\n    AlertDialog alertDialog = new AlertDialog.Builder( \r\n        Crossword1.this).create(); \r\n        alertDialog.setTitle(&quot;Well done, the crossword is complete!&quot;);\r\n        alertDialog.setMessage(&quot;well done cuz&quot;);\r\n        alertDialog.setIcon(R.drawable.tick);\r\n        alertDialog.setButton(&quot;OK&quot;, new DialogInterface.OnClickListener() { \r\n            public void onClick(DialogInterface dialog, int which) { \r\n\t\t                \t                \t \r\n            } \r\n        });\r\n    alertDialog.show();\r\n\r\n\r\nLogcat below, mentions memory although I don&#39;t see why the alertdialog box should be causing a memory error (the app runs fine if the alertdialog is commented out)\r\n   \r\n\r\n     12-21 17:57:33.180: D/BounceScrollRunnableDefault(24966): start(1554.2593), mBounceExtent:0.0\r\n        12-21 17:57:33.180: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -205.16223\r\n        12-21 17:57:34.335: D/BounceScrollRunnableDefault(24966): start(0.0), mBounceExtent:-11.0\r\n        12-21 17:57:34.335: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -11.0\r\n        12-21 17:57:34.555: D/BounceScrollRunnableDefault(24966): start(0.0), mBounceExtent:-19.245642\r\n        12-21 17:57:34.555: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -19.245642\r\n        12-21 17:57:35.505: I/dalvikvm-heap(24966): Clamp target GC heap from 65.159MB to 64.000MB\r\n        12-21 17:57:35.505: D/dalvikvm(24966): GC_FOR_ALLOC freed 580K, 2% free 64467K/65479K, paused 20ms\r\n        12-21 17:57:35.505: I/dalvikvm-heap(24966): Forcing collection of SoftReferences for 2903056-byte allocation\r\n        12-21 17:57:35.545: I/dalvikvm-heap(24966): Clamp target GC heap from 65.151MB to 64.000MB\r\n        12-21 17:57:35.545: D/dalvikvm(24966): GC_BEFORE_OOM freed 9K, 2% free 64458K/65479K, paused 27ms\r\n        12-21 17:57:35.545: E/dalvikvm-heap(24966): Out of memory on a 2903056-byte allocation.","title":"alertdialog causing memory error","body":"<p>I am trying to set up an alert dialog, using the below code, but the app keeps crashing on this point. Any obvious mistakes?</p>\n\n<pre><code>AlertDialog alertDialog = new AlertDialog.Builder( \n    Crossword1.this).create(); \n    alertDialog.setTitle(\"Well done, the crossword is complete!\");\n    alertDialog.setMessage(\"well done cuz\");\n    alertDialog.setIcon(R.drawable.tick);\n    alertDialog.setButton(\"OK\", new DialogInterface.OnClickListener() { \n        public void onClick(DialogInterface dialog, int which) { \n\n        } \n    });\nalertDialog.show();\n</code></pre>\n\n<p>Logcat below, mentions memory although I don't see why the alertdialog box should be causing a memory error (the app runs fine if the alertdialog is commented out)</p>\n\n<pre><code> 12-21 17:57:33.180: D/BounceScrollRunnableDefault(24966): start(1554.2593), mBounceExtent:0.0\n    12-21 17:57:33.180: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -205.16223\n    12-21 17:57:34.335: D/BounceScrollRunnableDefault(24966): start(0.0), mBounceExtent:-11.0\n    12-21 17:57:34.335: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -11.0\n    12-21 17:57:34.555: D/BounceScrollRunnableDefault(24966): start(0.0), mBounceExtent:-19.245642\n    12-21 17:57:34.555: D/BounceScrollRunnableDefault(24966): mBounceExtentCoef = -19.245642\n    12-21 17:57:35.505: I/dalvikvm-heap(24966): Clamp target GC heap from 65.159MB to 64.000MB\n    12-21 17:57:35.505: D/dalvikvm(24966): GC_FOR_ALLOC freed 580K, 2% free 64467K/65479K, paused 20ms\n    12-21 17:57:35.505: I/dalvikvm-heap(24966): Forcing collection of SoftReferences for 2903056-byte allocation\n    12-21 17:57:35.545: I/dalvikvm-heap(24966): Clamp target GC heap from 65.151MB to 64.000MB\n    12-21 17:57:35.545: D/dalvikvm(24966): GC_BEFORE_OOM freed 9K, 2% free 64458K/65479K, paused 27ms\n    12-21 17:57:35.545: E/dalvikvm-heap(24966): Out of memory on a 2903056-byte allocation.\n</code></pre>\n"},{"tags":["java","arrays","list","stream","namedparameterjdbctemplate"],"answers":[{"comments":[{"owner":{"display_name":"user20716279"},"score":1,"creation_date":1672948026,"post_id":75005077,"comment_id":132393896,"body_markdown":"@MikelAlejoBR you welcome and you can check this tutorial by oracle for stream https://dev.java/learn/the-stream-api/ :)","body":"@MikelAlejoBR you welcome and you can check this tutorial by oracle for stream <a href=\"https://dev.java/learn/the-stream-api/\" rel=\"nofollow noreferrer\">dev.java/learn/the-stream-api</a> :)"},{"owner":{"account_id":8420935,"reputation":314,"user_id":6319771,"accept_rate":91,"display_name":"MikelAlejoBR"},"score":1,"creation_date":1672948320,"post_id":75005077,"comment_id":132393983,"body_markdown":"Thank you so much! I&#39;ll definitely check that link!","body":"Thank you so much! I&#39;ll definitely check that link!"}],"tags":[],"owner":{"display_name":"user20716279"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672833655,"creation_date":1672833292,"answer_id":75005077,"question_id":75004729,"body_markdown":"     fruits.stream().map(fruit-&gt; {\r\n            var parameters = new MapSqlParameterSource();\r\n            parameters.addValue(&quot;fruit_id&quot;, fruit.getId());\r\n            parameters.addValue(&quot;tree_id&quot;, tree.getId());\r\n            return parameters;\r\n        }).toArray(SqlParameterSource[]::new);\r\n\r\nif you can create method that take Fruit object and return MapSqlParameterSource would be better from readability point of view and you just call that method inside the map method \r\n\r\n\r\n\r\n","title":"Convert from a list to an array of `SqlParameterSource`. A.K.A. convert a list to an array of maps","body":"<pre><code> fruits.stream().map(fruit-&gt; {\n        var parameters = new MapSqlParameterSource();\n        parameters.addValue(&quot;fruit_id&quot;, fruit.getId());\n        parameters.addValue(&quot;tree_id&quot;, tree.getId());\n        return parameters;\n    }).toArray(SqlParameterSource[]::new);\n</code></pre>\n<p>if you can create method that take Fruit object and return MapSqlParameterSource would be better from readability point of view and you just call that method inside the map method</p>\n"}],"owner":{"account_id":8420935,"reputation":314,"user_id":6319771,"accept_rate":91,"display_name":"MikelAlejoBR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75005077,"answer_count":1,"score":0,"last_activity_date":1672833655,"creation_date":1672831582,"question_id":75004729,"body_markdown":"I have a list of entities which I want to relate to another entity using JDBC named template. For that, I am inserting the ID pairs on the join table using a batch update operation, but the problem is that the way I have found to generate an array of `SqlParameterSource` is a little bit clunky. Is there any way of doing this with an stream instead?\r\n\r\n```java\r\n// Create an array of the size of the fruit list.\r\nfinal SqlParameterSource[] fruitParameters = new SqlParameterSource[tree.getFruits().size()];\r\n\r\n// Get all the fruits to iterate through.\r\nfinal List&lt;Fruit&gt; fruits = tree.getFruits();\r\n\r\n// Fill the array with the parameter sources.\r\nfor (int i = 0; i &lt; fruitIds.length; i++) {\r\n    final var fruit = fruits.get(i);\r\n\r\n    final var parameters = new MapSqlParameterSource();\r\n    parameters.addValue(&quot;fruit_id&quot;, fruit.getId());\r\n    parameters.addValue(&quot;tree_id&quot;, tree.getId());\r\n\r\n    fruitParameters[i] = parameters;\r\n}\r\n```\r\n\r\nI think the problem boils down to converting a list to an array of maps.\r\n\r\nThank you very much in advance!","title":"Convert from a list to an array of `SqlParameterSource`. A.K.A. convert a list to an array of maps","body":"<p>I have a list of entities which I want to relate to another entity using JDBC named template. For that, I am inserting the ID pairs on the join table using a batch update operation, but the problem is that the way I have found to generate an array of <code>SqlParameterSource</code> is a little bit clunky. Is there any way of doing this with an stream instead?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create an array of the size of the fruit list.\nfinal SqlParameterSource[] fruitParameters = new SqlParameterSource[tree.getFruits().size()];\n\n// Get all the fruits to iterate through.\nfinal List&lt;Fruit&gt; fruits = tree.getFruits();\n\n// Fill the array with the parameter sources.\nfor (int i = 0; i &lt; fruitIds.length; i++) {\n    final var fruit = fruits.get(i);\n\n    final var parameters = new MapSqlParameterSource();\n    parameters.addValue(&quot;fruit_id&quot;, fruit.getId());\n    parameters.addValue(&quot;tree_id&quot;, tree.getId());\n\n    fruitParameters[i] = parameters;\n}\n</code></pre>\n<p>I think the problem boils down to converting a list to an array of maps.</p>\n<p>Thank you very much in advance!</p>\n"},{"tags":["java","spring-boot","sftp","war","jsch"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1672825256,"post_id":75003372,"comment_id":132358295,"body_markdown":"Here you&#39;re swallowing your exception by rethrowing a generic one `throw new Exception(&quot;Could not be retrieved the path for this file: &quot; + &quot;private-key.ppk&quot;);`. What happens if, instead, you let your various attempts run? Do they all throw an exception that actually says they can&#39;t find the file?","body":"Here you&#39;re swallowing your exception by rethrowing a generic one <code>throw new Exception(&quot;Could not be retrieved the path for this file: &quot; + &quot;private-key.ppk&quot;);</code>. What happens if, instead, you let your various attempts run? Do they all throw an exception that actually says they can&#39;t find the file?"},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":2,"creation_date":1672825272,"post_id":75003372,"comment_id":132358300,"body_markdown":"Imo you are overcomplicating the question. You seem to have a problem with retrieving a file from the resources. Nothing to do with SFTP connection. You are scaring away those who know about the &quot;resources&quot;, but do not know anything about &quot;SFTP&quot;. Consider narrowing down the question (see [mcve]).","body":"Imo you are overcomplicating the question. You seem to have a problem with retrieving a file from the resources. Nothing to do with SFTP connection. You are scaring away those who know about the &quot;resources&quot;, but do not know anything about &quot;SFTP&quot;. Consider narrowing down the question (see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1672829656,"post_id":75003372,"comment_id":132359713,"body_markdown":"You are trying to get a path that points into the war archive. Unless the container explodes the archive (and it is not required to do that) there may be no file, it could just be an entry in the war file. I would suggest reading the content (getResourceAsStream) and copying it to a file with a known path. Then you can use that file with JSch. Just take care to put the file somewhere where it is safe, i.e. not everybody with access to the server can read the secret key. You could make that folder location a configuration option.","body":"You are trying to get a path that points into the war archive. Unless the container explodes the archive (and it is not required to do that) there may be no file, it could just be an entry in the war file. I would suggest reading the content (getResourceAsStream) and copying it to a file with a known path. Then you can use that file with JSch. Just take care to put the file somewhere where it is safe, i.e. not everybody with access to the server can read the secret key. You could make that folder location a configuration option."},{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":2,"creation_date":1672833356,"post_id":75003372,"comment_id":132360740,"body_markdown":"@ewramner Jsch can [read the key from memory](https://stackoverflow.com/q/33637481/850848). So if one can access the &quot;resource as stream&quot;, one does not have to store the resource to a (temporary) file to use it in JSch.","body":"@ewramner Jsch can <a href=\"https://stackoverflow.com/q/33637481/850848\">read the key from memory</a>. So if one can access the &quot;resource as stream&quot;, one does not have to store the resource to a (temporary) file to use it in JSch."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1672833611,"post_id":75003372,"comment_id":132360822,"body_markdown":"@FedericoklezCulloca when I tested a specific code snippet, I commented out the other versions. I&#39;ve edited the question and added the stack traces with the specific errors for each version.","body":"@FedericoklezCulloca when I tested a specific code snippet, I commented out the other versions. I&#39;ve edited the question and added the stack traces with the specific errors for each version."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":3,"creation_date":1672834183,"post_id":75003372,"comment_id":132361013,"body_markdown":"@MartinPrikryl in that case the solution would be to read the resource as a stream (which really should work - there are tons of examples reading files from the class path) and pass it as bytes rather than as a path. Much better.","body":"@MartinPrikryl in that case the solution would be to read the resource as a stream (which really should work - there are tons of examples reading files from the class path) and pass it as bytes rather than as a path. Much better."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1672834314,"post_id":75003372,"comment_id":132361063,"body_markdown":"@MartinPrikryl the retrieval of the file path works in most versions. The errors are thrown when the path is passed to the `addIdentity` method within JSch library. Because of this, I was thinking that it would be helpful to present the entire context. I&#39;ve added the trimmed-down stack traces to each code snippet. Thank you very much for the last suggestion.","body":"@MartinPrikryl the retrieval of the file path works in most versions. The errors are thrown when the path is passed to the <code>addIdentity</code> method within JSch library. Because of this, I was thinking that it would be helpful to present the entire context. I&#39;ve added the trimmed-down stack traces to each code snippet. Thank you very much for the last suggestion."},{"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"score":0,"creation_date":1672834345,"post_id":75003372,"comment_id":132361076,"body_markdown":"@ewramner thank you very much for the suggestion. I tried something similar in version 4, where I read the content of the Private Key, then I create a Temporary file, and I pass to the `addIdentity` method the path to that temp file. This works locally, but I was thinking that there is another solution, to avoid this workaround.","body":"@ewramner thank you very much for the suggestion. I tried something similar in version 4, where I read the content of the Private Key, then I create a Temporary file, and I pass to the <code>addIdentity</code> method the path to that temp file. This works locally, but I was thinking that there is another solution, to avoid this workaround."},{"owner":{"account_id":3142246,"reputation":2632,"user_id":2657515,"accept_rate":75,"display_name":"JonathanDavidArndt"},"score":1,"creation_date":1672842360,"post_id":75003372,"comment_id":132363990,"body_markdown":"I will echo the suggestion to NOT create a temporary file. Read the data into memory using &quot;resource as a stream&quot;, and avoid little bits of private key information being copied around where it needs to be cleaned up later.","body":"I will echo the suggestion to NOT create a temporary file. Read the data into memory using &quot;resource as a stream&quot;, and avoid little bits of private key information being copied around where it needs to be cleaned up later."}],"owner":{"account_id":20811140,"reputation":51,"user_id":15285050,"display_name":"Pop Alexandru"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673334418,"answer_count":0,"score":0,"last_activity_date":1672833414,"creation_date":1672824264,"question_id":75003372,"body_markdown":"I have to establish the SFTP connection within a Spring Boot app that runs from a WAR file.\r\nBefore posting this I’ve tried the suggestions from the following threads:\r\n* https://stackoverflow.com/questions/70593561/cannot-be-resolved-to-absolute-file-path-because-it-does-not-reside-in-the-file\r\n* https://stackoverflow.com/questions/4340653/file-path-to-resource-in-our-war-web-inf-folder\r\n* https://stackoverflow.com/questions/57791317/sftp-inbound-sync-fails-when-deployed-as-war\r\n---\r\n\r\nThe application is built as a WAR file, and I used the JSch library in order to establish the SFTP connection. The setup for this library implies usage of its `addIdentity` method, where the first argument/parameter should be the path to the Private Key file (*the content is not passed directly*).\r\n\r\nIf I run the app within and IDE, then the SFTP connection can be established and it works. But if I build the app as a WAR file, and I run it from that WAR file, then the SFTP connection cannot be established, because the Private Key file cannot be found.\r\n\r\nI run the WAR file by executing this command within a CLI, from the location of that WAR file:\r\n`java -jar  test_sftp_in_war_file-0.0.1-SNAPSHOT.war`\r\n\r\nThe Private Key file was added to the `resources` directory from the Spring Boot project.\r\n\r\n[This image contains the structure of the Private Key, generated using PuttyGen with RSA encryption (not OpenSSH)](https://i.stack.imgur.com/3dgKP.png)\r\n\r\n[This image contains the location of the Private Key within the generated WAR file](https://i.stack.imgur.com/Oc750.png)\r\n\r\nThe passphrase is being read and passed correctly. The issue is the path to the Private Key file.\r\n\r\n---\r\nI use the `pom.xml` file, with the following Maven dependencies:\r\n```\r\n&lt;?xml ...&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;  &lt;!-- to build the project as a WAR file --&gt;\r\n\t&lt;name&gt;test_sftp_in_war_file&lt;/name&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;!-- dependency for the JSch SFTP library --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-integration-sftp&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.5.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is the code that I&#39;ve tried:\r\n\r\n```\r\nimport com.jcraft.jsch.Channel;\r\nimport com.jcraft.jsch.ChannelSftp;\r\nimport com.jcraft.jsch.ChannelSftp.LsEntry;\r\nimport com.jcraft.jsch.JSch;\r\nimport com.jcraft.jsch.JSchException;\r\nimport com.jcraft.jsch.Session;\r\nimport com.jcraft.jsch.SftpException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport javax.servlet.ServletContext;\r\nimport java.io.File;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.io.FileOutputStream;\r\nimport java.util.UUID;\r\nimport org.apache.commons.io.IOUtils;\r\nimport java.net.URL;\r\nimport java.net.URLDecoder;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.core.io.ResourceLoader;\r\nimport org.springframework.context.event.ContextRefreshedEvent;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\n@Slf4j\r\n@RequiredArgsConstructor\r\npublic class SftpExample {\r\n\r\n    private final ServletContext context;\r\n\r\n    public static void main(String[] args) throws JSchException, IOException {\r\n        SpringApplication.run(TestSftpInWarFileApplication.class, args);\r\n    }\r\n\r\n    public void fetchData() throws Exception {\r\n        JSch jSch = new JSch();\r\n        Session session = null;\r\n        Channel channel = null;\r\n        ChannelSftp channelSftp = null;\r\n        String devServerPath = &quot;/proprietary/path/on/sftp/server&quot;;\r\n\r\n        String filePath;\r\n\r\n        Path tempFile = null;\r\n        InputStream inputStream;\r\n        FileOutputStream out;\r\n\r\n        try {\r\n            // version 1\r\n\t\t\t/** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\r\n\t\t\t * &gt;&gt;&gt; filePath = C:\\projects\\test_sftp_in_war_file\\target\\private-key.ppk\r\n\t\t\t * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: C:\\projects\\test_sftp_in_war_file\\target\\private-key.ppk\r\n\t\t\t * (The system cannot find the file specified)\r\n\t\t\t *         at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\r\n\t\t\t *         at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\r\n\t\t\t *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\r\n\t\t\t *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\r\n\t\t\t *         at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:172)\r\n\t\t\t */\r\n            filePath = Paths.get(&quot;private-key.ppk&quot;).toAbsolutePath().toString();\r\n\r\n            // version 2\r\n\t\t\t/** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\r\n\t\t\t * &gt;&gt;&gt; filePath = jar:file:/C:/projects/test_sftp_in_war_file/target/test_sftp_in_war_file-0.0.1-SNAPSHOT.war!/WEB-INF/classes!/private-key.ppk\r\n\t\t\t * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: jar:file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war!\\WEB-INF\\classes!\\private-key.ppk\r\n\t\t\t * (The filename, directory name, or volume label syntax is incorrect)\r\n\t\t\t *         at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\r\n\t\t\t *         at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\r\n\t\t\t *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\r\n\t\t\t *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\r\n\t\t\t *         at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:162)\r\n\t\t\t */\r\n            filePath = this.getClass().getClassLoader().getResource(&quot;private-key.ppk&quot;).toExternalForm();\r\n\r\n            // version 3\r\n\t\t\t/** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\r\n\t\t\t * &gt;&gt;&gt; filePath = file:/C:/projects/test_sftp_in_war_file/target/classes/private-key.ppk\r\n\t\t\t * java.lang.NullPointerException: null\r\n\t\t\t *         at com.jcraft.jsch.Util.checkTilde(Util.java:489) ~[jsch-0.1.55.jar!/:na]\r\n\t\t\t *         at com.jcraft.jsch.Util.fromFile(Util.java:506) ~[jsch-0.1.55.jar!/:na]\r\n\t\t\t *         at com.jcraft.jsch.KeyPair.load(KeyPair.java:540) ~[jsch-0.1.55.jar!/:na]\r\n\t\t\t *         at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40) ~[jsch-0.1.55.jar!/:na]\r\n\t\t\t *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:406) ~[jsch-0.1.55.jar!/:na]\r\n\t\t\t *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:387) ~[jsch-0.1.55.jar!/:na]\r\n\t\t\t *         at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:148)\r\n\t\t\t */\r\n            File privateKeyFile = new ClassPathResource(&quot;private-key.ppk&quot;).getFile();   // getting the file content\r\n            filePath = privateKeyFile.toURI().toString();\r\n\r\n\t\t\t// version 4 =&gt; read the content and generate a new temporary file, and pass the path to that temp file\r\n\t\t\t/** =&gt; this workaround works when running the local WAR, but does not run in the cloud environment\r\n\t\t\t * &gt;&gt;&gt; filePath = C:\\Users\\USER\\AppData\\Local\\Temp\\private-key_3ca449c2-0ed1-459c-a2cd-70f51f4023eb2105597171450888881.ppk\r\n\t\t\t */\r\n            inputStream = new ClassPathResource(&quot;private-key.ppk&quot;).getInputStream();\r\n            tempFile = File.createTempFile(&quot;private_key_&quot; + UUID.randomUUID().toString(), &quot;.ppk&quot;).toPath();\r\n            out = new FileOutputStream(tempFile.toFile());\r\n            IOUtils.copy(inputStream, out);\r\n            filePath = tempFile.toFile().getAbsolutePath();\r\n\r\n            // version 5\r\n\t\t\t/** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\r\n\t\t\t * &gt;&gt;&gt; filePath = file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war*\\WEB-INF\\classes\\private-key.ppk\r\n\t\t\t * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war*\\WEB-INF\\classes\\private-key.ppk\r\n\t\t\t * (The filename, directory name, or volume label syntax is incorrect)\r\n\t\t\t * \t\tat com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\r\n\t\t\t * \t\tat com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\r\n\t\t\t * \t\tat com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\r\n\t\t\t * \t\tat com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\r\n\t\t\t * \t\tat com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:95)\r\n\t\t\t */\r\n            URL resourceUrl = context.getResource(&quot;/WEB-INF/classes/private-key.ppk&quot;);\r\n            filePath = resourceUrl.getPath();\r\n\r\n            // version 6\r\n\t\t\t * &gt;&gt;&gt; filePath = sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@704b2127\r\n\t\t\t * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@704b2127\r\n\t\t\t * (The system cannot find the file specified)\r\n\t\t\t * \t\tat com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\r\n\t\t\t * \t\tat com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\r\n\t\t\t * \t\tat com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\r\n\t\t\t * \t\tat com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\r\n\t\t\t * \t\tat com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:95)\r\n\t\t\t */\r\n            filePath = getClass().getResourceAsStream(&quot;/WEB-INF/classes/private-key.ppk&quot;).toString();\r\n\r\n            // version 7\r\n\t\t\t/** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\r\n\t\t\t * &gt;&gt;&gt; filePath = file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war!\\WEB-INF\\classes!\\private-key.ppk\r\n\t\t\t * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war!\\WEB-INF\\classes!\\private-key.ppk\r\n\t\t\t * (The filename, directory name, or volume label syntax is incorrect)\r\n\t\t\t * \t\tat com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\r\n\t\t\t *\t\tat com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\r\n\t\t\t * \t\tat com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\r\n\t\t\t * \t\tat com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\r\n\t\t\t * \t\tat com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:95)\r\n\t\t\t */\r\n            filePath = getClass().getClassLoader().getResource(&quot;private-key.ppk&quot;).getPath();\r\n\r\n            // version 8\r\n\t\t\t/**\r\n\t\t\t * java.lang.NullPointerException: null\r\n\t\t\t * \t\tat com.jcraft.jsch.Util.checkTilde(Util.java:489)\r\n\t\t\t * \t\tat com.jcraft.jsch.Util.fromFile(Util.java:506)\r\n\t\t\t */\r\n            filePath = SftpExample.class.getResource(&quot;private-key.ppk&quot;).getPath();\r\n\r\n            // version 9\r\n\t\t\t/**\r\n\t\t\t * java.lang.NullPointerException: null\r\n\t\t\t * \t\tat com.jcraft.jsch.Util.checkTilde(Util.java:489)\r\n\t\t\t * \t\tat com.jcraft.jsch.Util.fromFile(Util.java:506)\r\n\t\t\t */\r\n            filePath = URLDecoder.decode(SftpExample.class.getResource(&quot;private-key.ppk&quot;).getPath(), &quot;UTF-8&quot;);   // Application run failed: java.lang.NullPointerException: null\r\n\r\n\t\t\t// version 10\r\n\t\t\t/**\r\n\t\t\t * java.lang.NullPointerException: null\r\n\t\t\t * \t\tat com.jcraft.jsch.Util.checkTilde(Util.java:489)\r\n\t\t\t * \t\tat com.jcraft.jsch.Util.fromFile(Util.java:506)\r\n\t\t\t */\r\n//\t\t\tfilePath = context.getRealPath(&quot;/WEB-INF/classes/private-key.ppk&quot;);\r\n\r\n            log.info(&quot;&gt;&gt;&gt; filePath = &quot; + filePath);\r\n        } catch (NullPointerException e) {\r\n            // throw new Exception(&quot;Could not be retrieved the path for this file: &quot; + &quot;private-key.ppk&quot;);\r\n            log.error(Arrays.toString(e.getStackTrace()));\r\n        }\r\n\r\n        try {\r\n            jSch.addIdentity(filePath, &quot;passphrase_is_correct&quot;);   // the error is generated at this line\r\n            session = jSch.getSession(&quot;username&quot;, &quot;host&quot;, 22);  // this is where the connection should be established\r\n            java.util.Properties config = new java.util.Properties();\r\n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);  // by default, say that we trust the specified server (to not be required to explicitly say that we trust it for each connection)\r\n            session.setConfig(config);\r\n            session.connect();\r\n            channel = session.openChannel(&quot;sftp&quot;);\r\n            channel.connect();\r\n            channelSftp = (ChannelSftp) channel;\r\n\r\n            // other operations that occur once the SFTP connection is established\r\n\r\n            log.info(&quot;&gt;&gt;&gt; the SFTP connection was established successfully&quot;);\r\n        } catch (JSchException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if (session != null &amp;&amp; channel != null) {\r\n                channel.disconnect();\r\n                session.disconnect();\r\n            }\r\n\r\n            inputStream.close();\r\n            out.close();\r\n        }\r\n    }\r\n\r\n    @EventListener(ContextRefreshedEvent.class) // waits to be finished the Spring Context initialization\r\n    public void run1() throws Exception {\r\n        this.fetchData();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThis is the stack trace that was generated for version 5:\r\n\r\n```\r\n2023-01-03 17:19:32.413 ERROR 25960 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\nBean [com.example.test_sftp_in_war_file.SftpExample]\r\nMethod [public void com.example.test_sftp_in_war_file.SftpExample throws java.lang.Exception]\r\nMethod [public void com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.run1() throws java.lang.Exception]\r\nResolved arguments:\r\n\r\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:361) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar!/:2.7.7]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]\r\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.main(TestSftpInWarFileApplication.java:42) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\r\nCaused by: java.lang.Exception: Could not be retrieved the path for this file: private-key.ppk\r\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.fetchData(TestSftpInWarFileApplication.java:86) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.run1(TestSftpInWarFileApplication.java:118) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344) ~[spring-context-5.3.24.jar!/:5.3.24]\r\n        ... 24 common frames omitted\r\n```\r\n\r\nThis is the stack trace generated for version 6 and 7:\r\n```\r\n2023-01-04 11:09:30.661  INFO 29328 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path &#39;&#39;\r\n2023-01-04 11:09:30.670  INFO 29328 --- [           main] c.e.t.TestSftpInWarFileApplication       : &gt;&gt;&gt; filePath = sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@7cc9ce8\r\ncom.jcraft.jsch.JSchException: java.io.FileNotFoundException: sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@7cc9ce8 (The system cannot find the file specified)\r\n        at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\r\n        at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\r\n        at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\r\n        at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\r\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.fetchData(TestSftpInWarFileApplication.java:90)\r\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.run1(TestSftpInWarFileApplication.java:118)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)\r\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)\r\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.main(TestSftpInWarFileApplication.java:42)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\r\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\r\nCaused by: java.io.FileNotFoundException: sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@7cc9ce8 (The system cannot find the file specified)\r\n        at java.base/java.io.FileInputStream.open0(Native Method)\r\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\r\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\r\n        at com.jcraft.jsch.Util.fromFile(Util.java:508)\r\n        at com.jcraft.jsch.KeyPair.load(KeyPair.java:540)\r\n        ... 34 more\r\n\r\n```","title":"Establish SFTP connection within an app that runs from a WAR file","body":"<p>I have to establish the SFTP connection within a Spring Boot app that runs from a WAR file.\nBefore posting this I’ve tried the suggestions from the following threads:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/70593561/cannot-be-resolved-to-absolute-file-path-because-it-does-not-reside-in-the-file\">Cannot be resolved to absolute file path because it does not reside in the file system</a></li>\n<li><a href=\"https://stackoverflow.com/questions/4340653/file-path-to-resource-in-our-war-web-inf-folder\">File path to resource in our war/WEB-INF folder?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57791317/sftp-inbound-sync-fails-when-deployed-as-war\">SFTP Inbound Sync Fails when deployed as war</a></li>\n</ul>\n<hr />\n<p>The application is built as a WAR file, and I used the JSch library in order to establish the SFTP connection. The setup for this library implies usage of its <code>addIdentity</code> method, where the first argument/parameter should be the path to the Private Key file (<em>the content is not passed directly</em>).</p>\n<p>If I run the app within and IDE, then the SFTP connection can be established and it works. But if I build the app as a WAR file, and I run it from that WAR file, then the SFTP connection cannot be established, because the Private Key file cannot be found.</p>\n<p>I run the WAR file by executing this command within a CLI, from the location of that WAR file:\n<code>java -jar  test_sftp_in_war_file-0.0.1-SNAPSHOT.war</code></p>\n<p>The Private Key file was added to the <code>resources</code> directory from the Spring Boot project.</p>\n<p><a href=\"https://i.stack.imgur.com/3dgKP.png\" rel=\"nofollow noreferrer\">This image contains the structure of the Private Key, generated using PuttyGen with RSA encryption (not OpenSSH)</a></p>\n<p><a href=\"https://i.stack.imgur.com/Oc750.png\" rel=\"nofollow noreferrer\">This image contains the location of the Private Key within the generated WAR file</a></p>\n<p>The passphrase is being read and passed correctly. The issue is the path to the Private Key file.</p>\n<hr />\n<p>I use the <code>pom.xml</code> file, with the following Maven dependencies:</p>\n<pre><code>&lt;?xml ...&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;  &lt;!-- to build the project as a WAR file --&gt;\n    &lt;name&gt;test_sftp_in_war_file&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- dependency for the JSch SFTP library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-integration-sftp&lt;/artifactId&gt;\n            &lt;version&gt;5.5.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is the code that I've tried:</p>\n<pre><code>import com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.ChannelSftp.LsEntry;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.JSchException;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.SftpException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport javax.servlet.ServletContext;\nimport java.io.File;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.io.FileOutputStream;\nimport java.util.UUID;\nimport org.apache.commons.io.IOUtils;\nimport java.net.URL;\nimport java.net.URLDecoder;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.context.event.ContextRefreshedEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\n@Slf4j\n@RequiredArgsConstructor\npublic class SftpExample {\n\n    private final ServletContext context;\n\n    public static void main(String[] args) throws JSchException, IOException {\n        SpringApplication.run(TestSftpInWarFileApplication.class, args);\n    }\n\n    public void fetchData() throws Exception {\n        JSch jSch = new JSch();\n        Session session = null;\n        Channel channel = null;\n        ChannelSftp channelSftp = null;\n        String devServerPath = &quot;/proprietary/path/on/sftp/server&quot;;\n\n        String filePath;\n\n        Path tempFile = null;\n        InputStream inputStream;\n        FileOutputStream out;\n\n        try {\n            // version 1\n            /** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\n             * &gt;&gt;&gt; filePath = C:\\projects\\test_sftp_in_war_file\\target\\private-key.ppk\n             * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: C:\\projects\\test_sftp_in_war_file\\target\\private-key.ppk\n             * (The system cannot find the file specified)\n             *         at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\n             *         at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\n             *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\n             *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\n             *         at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:172)\n             */\n            filePath = Paths.get(&quot;private-key.ppk&quot;).toAbsolutePath().toString();\n\n            // version 2\n            /** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\n             * &gt;&gt;&gt; filePath = jar:file:/C:/projects/test_sftp_in_war_file/target/test_sftp_in_war_file-0.0.1-SNAPSHOT.war!/WEB-INF/classes!/private-key.ppk\n             * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: jar:file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war!\\WEB-INF\\classes!\\private-key.ppk\n             * (The filename, directory name, or volume label syntax is incorrect)\n             *         at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\n             *         at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\n             *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\n             *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\n             *         at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:162)\n             */\n            filePath = this.getClass().getClassLoader().getResource(&quot;private-key.ppk&quot;).toExternalForm();\n\n            // version 3\n            /** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\n             * &gt;&gt;&gt; filePath = file:/C:/projects/test_sftp_in_war_file/target/classes/private-key.ppk\n             * java.lang.NullPointerException: null\n             *         at com.jcraft.jsch.Util.checkTilde(Util.java:489) ~[jsch-0.1.55.jar!/:na]\n             *         at com.jcraft.jsch.Util.fromFile(Util.java:506) ~[jsch-0.1.55.jar!/:na]\n             *         at com.jcraft.jsch.KeyPair.load(KeyPair.java:540) ~[jsch-0.1.55.jar!/:na]\n             *         at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40) ~[jsch-0.1.55.jar!/:na]\n             *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:406) ~[jsch-0.1.55.jar!/:na]\n             *         at com.jcraft.jsch.JSch.addIdentity(JSch.java:387) ~[jsch-0.1.55.jar!/:na]\n             *         at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:148)\n             */\n            File privateKeyFile = new ClassPathResource(&quot;private-key.ppk&quot;).getFile();   // getting the file content\n            filePath = privateKeyFile.toURI().toString();\n\n            // version 4 =&gt; read the content and generate a new temporary file, and pass the path to that temp file\n            /** =&gt; this workaround works when running the local WAR, but does not run in the cloud environment\n             * &gt;&gt;&gt; filePath = C:\\Users\\USER\\AppData\\Local\\Temp\\private-key_3ca449c2-0ed1-459c-a2cd-70f51f4023eb2105597171450888881.ppk\n             */\n            inputStream = new ClassPathResource(&quot;private-key.ppk&quot;).getInputStream();\n            tempFile = File.createTempFile(&quot;private_key_&quot; + UUID.randomUUID().toString(), &quot;.ppk&quot;).toPath();\n            out = new FileOutputStream(tempFile.toFile());\n            IOUtils.copy(inputStream, out);\n            filePath = tempFile.toFile().getAbsolutePath();\n\n            // version 5\n            /** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\n             * &gt;&gt;&gt; filePath = file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war*\\WEB-INF\\classes\\private-key.ppk\n             * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war*\\WEB-INF\\classes\\private-key.ppk\n             * (The filename, directory name, or volume label syntax is incorrect)\n             *      at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\n             *      at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\n             *      at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\n             *      at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\n             *      at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:95)\n             */\n            URL resourceUrl = context.getResource(&quot;/WEB-INF/classes/private-key.ppk&quot;);\n            filePath = resourceUrl.getPath();\n\n            // version 6\n             * &gt;&gt;&gt; filePath = sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@704b2127\n             * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@704b2127\n             * (The system cannot find the file specified)\n             *      at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\n             *      at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\n             *      at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\n             *      at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\n             *      at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:95)\n             */\n            filePath = getClass().getResourceAsStream(&quot;/WEB-INF/classes/private-key.ppk&quot;).toString();\n\n            // version 7\n            /** =&gt; the filePath is retrieved, but the error occurs when it is passed to the addIdentity method\n             * &gt;&gt;&gt; filePath = file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war!\\WEB-INF\\classes!\\private-key.ppk\n             * com.jcraft.jsch.JSchException: java.io.FileNotFoundException: file:\\C:\\projects\\test_sftp_in_war_file\\target\\test_sftp_in_war_file-0.0.1-SNAPSHOT.war!\\WEB-INF\\classes!\\private-key.ppk\n             * (The filename, directory name, or volume label syntax is incorrect)\n             *      at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\n             *      at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\n             *      at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\n             *      at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\n             *      at com.example.test_sftp_in_war_file.SftpExample.fetchData(SftpExample.java:95)\n             */\n            filePath = getClass().getClassLoader().getResource(&quot;private-key.ppk&quot;).getPath();\n\n            // version 8\n            /**\n             * java.lang.NullPointerException: null\n             *      at com.jcraft.jsch.Util.checkTilde(Util.java:489)\n             *      at com.jcraft.jsch.Util.fromFile(Util.java:506)\n             */\n            filePath = SftpExample.class.getResource(&quot;private-key.ppk&quot;).getPath();\n\n            // version 9\n            /**\n             * java.lang.NullPointerException: null\n             *      at com.jcraft.jsch.Util.checkTilde(Util.java:489)\n             *      at com.jcraft.jsch.Util.fromFile(Util.java:506)\n             */\n            filePath = URLDecoder.decode(SftpExample.class.getResource(&quot;private-key.ppk&quot;).getPath(), &quot;UTF-8&quot;);   // Application run failed: java.lang.NullPointerException: null\n\n            // version 10\n            /**\n             * java.lang.NullPointerException: null\n             *      at com.jcraft.jsch.Util.checkTilde(Util.java:489)\n             *      at com.jcraft.jsch.Util.fromFile(Util.java:506)\n             */\n//          filePath = context.getRealPath(&quot;/WEB-INF/classes/private-key.ppk&quot;);\n\n            log.info(&quot;&gt;&gt;&gt; filePath = &quot; + filePath);\n        } catch (NullPointerException e) {\n            // throw new Exception(&quot;Could not be retrieved the path for this file: &quot; + &quot;private-key.ppk&quot;);\n            log.error(Arrays.toString(e.getStackTrace()));\n        }\n\n        try {\n            jSch.addIdentity(filePath, &quot;passphrase_is_correct&quot;);   // the error is generated at this line\n            session = jSch.getSession(&quot;username&quot;, &quot;host&quot;, 22);  // this is where the connection should be established\n            java.util.Properties config = new java.util.Properties();\n            config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);  // by default, say that we trust the specified server (to not be required to explicitly say that we trust it for each connection)\n            session.setConfig(config);\n            session.connect();\n            channel = session.openChannel(&quot;sftp&quot;);\n            channel.connect();\n            channelSftp = (ChannelSftp) channel;\n\n            // other operations that occur once the SFTP connection is established\n\n            log.info(&quot;&gt;&gt;&gt; the SFTP connection was established successfully&quot;);\n        } catch (JSchException e) {\n            e.printStackTrace();\n        } finally {\n            if (session != null &amp;&amp; channel != null) {\n                channel.disconnect();\n                session.disconnect();\n            }\n\n            inputStream.close();\n            out.close();\n        }\n    }\n\n    @EventListener(ContextRefreshedEvent.class) // waits to be finished the Spring Context initialization\n    public void run1() throws Exception {\n        this.fetchData();\n    }\n}\n</code></pre>\n<p>This is the stack trace that was generated for version 5:</p>\n<pre><code>2023-01-03 17:19:32.413 ERROR 25960 --- [           main] o.s.boot.SpringApplication               : Application run failed\nBean [com.example.test_sftp_in_war_file.SftpExample]\nMethod [public void com.example.test_sftp_in_war_file.SftpExample throws java.lang.Exception]\nMethod [public void com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.run1() throws java.lang.Exception]\nResolved arguments:\n\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:361) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.24.jar!/:5.3.24]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar!/:2.7.7]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar!/:2.7.7]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar!/:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar!/:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar!/:2.7.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar!/:2.7.7]\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.main(TestSftpInWarFileApplication.java:42) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59) ~[test_sftp_in_war_file-0.0.1-SNAPSHOT.war:0.0.1-SNAPSHOT]\nCaused by: java.lang.Exception: Could not be retrieved the path for this file: private-key.ppk\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.fetchData(TestSftpInWarFileApplication.java:86) ~[classes!/:0.0.1-SNAPSHOT]\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.run1(TestSftpInWarFileApplication.java:118) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344) ~[spring-context-5.3.24.jar!/:5.3.24]\n        ... 24 common frames omitted\n</code></pre>\n<p>This is the stack trace generated for version 6 and 7:</p>\n<pre><code>2023-01-04 11:09:30.661  INFO 29328 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8090 (http) with context path ''\n2023-01-04 11:09:30.670  INFO 29328 --- [           main] c.e.t.TestSftpInWarFileApplication       : &gt;&gt;&gt; filePath = sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@7cc9ce8\ncom.jcraft.jsch.JSchException: java.io.FileNotFoundException: sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@7cc9ce8 (The system cannot find the file specified)\n        at com.jcraft.jsch.KeyPair.load(KeyPair.java:543)\n        at com.jcraft.jsch.IdentityFile.newInstance(IdentityFile.java:40)\n        at com.jcraft.jsch.JSch.addIdentity(JSch.java:406)\n        at com.jcraft.jsch.JSch.addIdentity(JSch.java:387)\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.fetchData(TestSftpInWarFileApplication.java:90)\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.run1(TestSftpInWarFileApplication.java:118)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:344)\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:229)\n        at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:166)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n        at com.example.test_sftp_in_war_file.TestSftpInWarFileApplication.main(TestSftpInWarFileApplication.java:42)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108)\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58)\n        at org.springframework.boot.loader.WarLauncher.main(WarLauncher.java:59)\nCaused by: java.io.FileNotFoundException: sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream@7cc9ce8 (The system cannot find the file specified)\n        at java.base/java.io.FileInputStream.open0(Native Method)\n        at java.base/java.io.FileInputStream.open(FileInputStream.java:219)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157)\n        at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:112)\n        at com.jcraft.jsch.Util.fromFile(Util.java:508)\n        at com.jcraft.jsch.KeyPair.load(KeyPair.java:540)\n        ... 34 more\n\n</code></pre>\n"},{"tags":["java","swing","fonts","icepdf"],"comments":[{"owner":{"account_id":197560,"reputation":171,"user_id":441711,"display_name":"pcorless"},"score":0,"creation_date":1614053343,"post_id":66258243,"comment_id":117260312,"body_markdown":"There&#39;s not much more you can do using 6.2.2.  However I have been working improved font support on a github branch for the last view months.  With a little luck I&#39;ll be releasing version 7.0 in the next few weeks.  Hope you can wait a bit longer.","body":"There&#39;s not much more you can do using 6.2.2.  However I have been working improved font support on a github branch for the last view months.  With a little luck I&#39;ll be releasing version 7.0 in the next few weeks.  Hope you can wait a bit longer."},{"owner":{"display_name":"user12152813"},"score":0,"creation_date":1614774105,"post_id":66258243,"comment_id":117486251,"body_markdown":"@pcorless That&#39;s awesome, thanks! Any chance that I&#39;ll be able to get it with maven, or will I have to compile it myself?","body":"@pcorless That&#39;s awesome, thanks! Any chance that I&#39;ll be able to get it with maven, or will I have to compile it myself?"},{"owner":{"account_id":197560,"reputation":171,"user_id":441711,"display_name":"pcorless"},"score":0,"creation_date":1616132189,"post_id":66258243,"comment_id":117912044,"body_markdown":"Plan is to definitely have it downloadable via maven.","body":"Plan is to definitely have it downloadable via maven."}],"owner":{"display_name":"user12152813"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":523,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672833036,"creation_date":1613644711,"question_id":66258243,"body_markdown":"I have a class to test an ICEpdf viewer in a JFrame with ICEpdf 6.2.2, the newest in the maven repository. When I open the PDF I&#39;m trying to render in Ubuntu&#39;s default PDF viewer it displays correctly, however, when displayed in the ICEpdf viewer the font spacing is wrong and the actual font is replaced with a sans serif font. Here are screenshots of the [GCC manual][1] in my [ICEpdf viewer][2] and [the default Ubuntu PDF viewer][3]. I have used `pdffonts` to gather what the fonts used in the manual are. In my code I have set `org.icepdf.core.awtFontLoading` to `true`, which didn&#39;t fix the issue. My code is the following:\r\n```java\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Toolkit;\r\nimport java.io.File;\r\nimport java.util.Properties;\r\nimport java.util.ResourceBundle;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\n\r\n\r\nimport org.icepdf.ri.common.SwingController;\r\nimport org.icepdf.ri.common.SwingViewBuilder;\r\nimport org.icepdf.ri.util.PropertiesManager;\r\n\r\npublic class TestPDF {\r\n\r\n    JFrame mainFrame;\r\n    final Dimension SCREEN_SIZE = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                try {\r\n                    TestPDF window = new TestPDF();\r\n                    window.mainFrame.setVisible(true);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public TestPDF() {\r\n        mainFrame = new JFrame();\r\n        mainFrame.setTitle(&quot;Test&quot;);\r\n        mainFrame.setSize(new Dimension((int) (SCREEN_SIZE.getWidth() / 2), (int) (SCREEN_SIZE.getHeight() / 2)));\r\n        try {\r\n             UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n        PropertiesManager properties = new PropertiesManager(System.getProperties(), new Properties() {\r\n            {\r\n                setProperty(&quot;application.showLocalStorageDialogs&quot;, &quot;false&quot;);\r\n                setProperty(&quot;org.icepdf.core.awtFontLoading&quot;, &quot;true&quot;);\r\n            }\r\n        }, ResourceBundle.getBundle(PropertiesManager.DEFAULT_MESSAGE_BUNDLE)) {\r\n            {\r\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_ANNOTATION, Boolean.FALSE);\r\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_FORMS, Boolean.FALSE);\r\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_UTILITY, Boolean.FALSE);\r\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_ROTATE, Boolean.FALSE);\r\n            }\r\n        };\r\n        SwingController controller = new SwingController();\r\n        SwingViewBuilder factory = new SwingViewBuilder(controller, properties);\r\n        JPanel viewerComponentPanel = factory.buildViewerPanel();\r\n        controller.getDocumentViewController().setAnnotationCallback(\r\n                new org.icepdf.ri.common.MyAnnotationCallback(controller.getDocumentViewController()));\r\n\r\n        try {\r\n            File pdf = new File(this.getClass().getResource(&quot;/pdfTest/gcc.pdf&quot;).toURI());\r\n            controller.openDocument(pdf.toString());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        mainFrame.add(viewerComponentPanel);\r\n    }\r\n}\r\n```\r\n`pdffonts` output: \r\n```\r\nname                                 type              encoding         emb sub uni object ID\r\n------------------------------------ ----------------- ---------------- --- --- --- ---------\r\nPNWIQB+CMBX12                        Type 1            Builtin          yes yes yes      7  0\r\nURLEKE+CMR10                         Type 1            Builtin          yes yes yes      8  0\r\nZXGTJI+CMCSC10                       Type 1            Builtin          yes yes yes      9  0\r\nYPVIBW+CMTT10                        Type 1            Builtin          yes yes yes     18  0\r\nLNUCPW+CMSY10                        Type 1            Builtin          yes yes no      19  0\r\nXLCDGX+CMR12                         Type 1            Builtin          yes yes yes     49  0\r\nGPANTX+CMMI12                        Type 1            Builtin          yes yes no      50  0\r\nTOPQZD+CMTT12                        Type 1            Builtin          yes yes yes     51  0\r\nDOAFRX+CMMI10                        Type 1            Builtin          yes yes no     124  0\r\nHMFXDM+CMTI10                        Type 1            Builtin          yes yes yes    804  0\r\nFEUAVN+CMSL10                        Type 1            Builtin          yes yes yes   2558  0\r\nDISGYX+CMSLTT10                      Type 1            Builtin          yes yes yes   2626  0\r\nRQLRQN+CMTT9                         Type 1            Builtin          yes yes yes   2634  0\r\nFRMZZY+CMR9                          Type 1            Builtin          yes yes yes   2635  0\r\nKGBAZG+CMB10                         Type 1            Builtin          yes yes yes   2832  0\r\nBNSWRJ+SFRM1095                      Type 1            Custom           yes yes no    3233  0\r\nHSQXWC+CMR7                          Type 1            Builtin          yes yes no    3527  0\r\nGINCXO+CMMI7                         Type 1            Builtin          yes yes no    4887  0\r\nFFYKXD+CMSS10                        Type 1            Builtin          yes yes yes   4963  0\r\nPXBGHL+CMSY7                         Type 1            Builtin          yes yes no    4989  0\r\nQUTMWC+CMSY9                         Type 1            Builtin          yes yes no    5049  0\r\nGXLYQS+CMSL9                         Type 1            Builtin          yes yes yes   6771  0\r\nBCUDVF+CMBXTI10                      Type 1            Builtin          yes yes yes   7002  0\r\nPQILTH+CMMI9                         Type 1            Builtin          yes yes no    7364  0\r\nWOJFXW+CMR8                          Type 1            Builtin          yes yes yes  12564  0\r\n```\r\n\r\n  [1]: https://gcc.gnu.org/onlinedocs/gcc.pdf\r\n  [2]: https://i.stack.imgur.com/T1Z6z.png\r\n  [3]: https://i.stack.imgur.com/7IeWV.png","title":"ICEpdf viewer not rendering fonts properly","body":"<p>I have a class to test an ICEpdf viewer in a JFrame with ICEpdf 6.2.2, the newest in the maven repository. When I open the PDF I'm trying to render in Ubuntu's default PDF viewer it displays correctly, however, when displayed in the ICEpdf viewer the font spacing is wrong and the actual font is replaced with a sans serif font. Here are screenshots of the <a href=\"https://gcc.gnu.org/onlinedocs/gcc.pdf\" rel=\"nofollow noreferrer\">GCC manual</a> in my <a href=\"https://i.stack.imgur.com/T1Z6z.png\" rel=\"nofollow noreferrer\">ICEpdf viewer</a> and <a href=\"https://i.stack.imgur.com/7IeWV.png\" rel=\"nofollow noreferrer\">the default Ubuntu PDF viewer</a>. I have used <code>pdffonts</code> to gather what the fonts used in the manual are. In my code I have set <code>org.icepdf.core.awtFontLoading</code> to <code>true</code>, which didn't fix the issue. My code is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Toolkit;\nimport java.io.File;\nimport java.util.Properties;\nimport java.util.ResourceBundle;\n\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\n\nimport org.icepdf.ri.common.SwingController;\nimport org.icepdf.ri.common.SwingViewBuilder;\nimport org.icepdf.ri.util.PropertiesManager;\n\npublic class TestPDF {\n\n    JFrame mainFrame;\n    final Dimension SCREEN_SIZE = Toolkit.getDefaultToolkit().getScreenSize();\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    TestPDF window = new TestPDF();\n                    window.mainFrame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    public TestPDF() {\n        mainFrame = new JFrame();\n        mainFrame.setTitle(&quot;Test&quot;);\n        mainFrame.setSize(new Dimension((int) (SCREEN_SIZE.getWidth() / 2), (int) (SCREEN_SIZE.getHeight() / 2)));\n        try {\n             UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        } catch (ClassNotFoundException | InstantiationException | IllegalAccessException e) {\n            e.printStackTrace();\n        }\n        PropertiesManager properties = new PropertiesManager(System.getProperties(), new Properties() {\n            {\n                setProperty(&quot;application.showLocalStorageDialogs&quot;, &quot;false&quot;);\n                setProperty(&quot;org.icepdf.core.awtFontLoading&quot;, &quot;true&quot;);\n            }\n        }, ResourceBundle.getBundle(PropertiesManager.DEFAULT_MESSAGE_BUNDLE)) {\n            {\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_ANNOTATION, Boolean.FALSE);\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_FORMS, Boolean.FALSE);\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_UTILITY, Boolean.FALSE);\n                setBoolean(PropertiesManager.PROPERTY_SHOW_TOOLBAR_ROTATE, Boolean.FALSE);\n            }\n        };\n        SwingController controller = new SwingController();\n        SwingViewBuilder factory = new SwingViewBuilder(controller, properties);\n        JPanel viewerComponentPanel = factory.buildViewerPanel();\n        controller.getDocumentViewController().setAnnotationCallback(\n                new org.icepdf.ri.common.MyAnnotationCallback(controller.getDocumentViewController()));\n\n        try {\n            File pdf = new File(this.getClass().getResource(&quot;/pdfTest/gcc.pdf&quot;).toURI());\n            controller.openDocument(pdf.toString());\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        mainFrame.add(viewerComponentPanel);\n    }\n}\n</code></pre>\n<p><code>pdffonts</code> output:</p>\n<pre><code>name                                 type              encoding         emb sub uni object ID\n------------------------------------ ----------------- ---------------- --- --- --- ---------\nPNWIQB+CMBX12                        Type 1            Builtin          yes yes yes      7  0\nURLEKE+CMR10                         Type 1            Builtin          yes yes yes      8  0\nZXGTJI+CMCSC10                       Type 1            Builtin          yes yes yes      9  0\nYPVIBW+CMTT10                        Type 1            Builtin          yes yes yes     18  0\nLNUCPW+CMSY10                        Type 1            Builtin          yes yes no      19  0\nXLCDGX+CMR12                         Type 1            Builtin          yes yes yes     49  0\nGPANTX+CMMI12                        Type 1            Builtin          yes yes no      50  0\nTOPQZD+CMTT12                        Type 1            Builtin          yes yes yes     51  0\nDOAFRX+CMMI10                        Type 1            Builtin          yes yes no     124  0\nHMFXDM+CMTI10                        Type 1            Builtin          yes yes yes    804  0\nFEUAVN+CMSL10                        Type 1            Builtin          yes yes yes   2558  0\nDISGYX+CMSLTT10                      Type 1            Builtin          yes yes yes   2626  0\nRQLRQN+CMTT9                         Type 1            Builtin          yes yes yes   2634  0\nFRMZZY+CMR9                          Type 1            Builtin          yes yes yes   2635  0\nKGBAZG+CMB10                         Type 1            Builtin          yes yes yes   2832  0\nBNSWRJ+SFRM1095                      Type 1            Custom           yes yes no    3233  0\nHSQXWC+CMR7                          Type 1            Builtin          yes yes no    3527  0\nGINCXO+CMMI7                         Type 1            Builtin          yes yes no    4887  0\nFFYKXD+CMSS10                        Type 1            Builtin          yes yes yes   4963  0\nPXBGHL+CMSY7                         Type 1            Builtin          yes yes no    4989  0\nQUTMWC+CMSY9                         Type 1            Builtin          yes yes no    5049  0\nGXLYQS+CMSL9                         Type 1            Builtin          yes yes yes   6771  0\nBCUDVF+CMBXTI10                      Type 1            Builtin          yes yes yes   7002  0\nPQILTH+CMMI9                         Type 1            Builtin          yes yes no    7364  0\nWOJFXW+CMR8                          Type 1            Builtin          yes yes yes  12564  0\n</code></pre>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672830985,"post_id":75004538,"comment_id":132360085,"body_markdown":"if `element` has kind of `javax.lang.model.util.ElementFilter#TYPE_KINDS` you may cast it to `TypeElement` which in turn has `getSuperclass` method","body":"if <code>element</code> has kind of <code>javax.lang.model.util.ElementFilter#TYPE_KINDS</code> you may cast it to <code>TypeElement</code> which in turn has <code>getSuperclass</code> method"},{"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"score":0,"creation_date":1672831821,"post_id":75004538,"comment_id":132360328,"body_markdown":"Casting element just to TypeElement does the trick!","body":"Casting element just to TypeElement does the trick!"}],"owner":{"account_id":1275436,"reputation":2012,"user_id":1230816,"accept_rate":62,"display_name":"Jemolah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672832962,"creation_date":1672830566,"question_id":75004538,"body_markdown":"I&#39;m building an annotation processor. How can I find out the superclass of an annotated class?\r\n\r\n    @Retention(SOURCE)\r\n    @Target({ METHOD, TYPE })\r\n    public @interface Auditable {\r\n    }\r\n\r\n    class A {\r\n        @Auditable\r\n        Integer getInt() { ... }\r\n    }\r\n\r\n    @Auditable\r\n    class B extends A { ... }\r\n\r\nAnnotation processor provides two annotated elements. One for method `getInt` in class A and one for class B.\r\n\r\nHow can I find out that B extends A?\r\n\r\nPartial code of the annotation processor:\r\n\r\n\tprivate void process( Set&lt;? extends TypeElement&gt; annotations,\r\n\t\t\tRoundEnvironment roundEnv ) {\r\n\t\tSet&lt;? extends Element&gt; annotatedElements =\r\n\t\t\t\troundEnv.getElementsAnnotatedWith( Auditable.class );\r\n\t\tfor ( Element element : annotatedElements ) {\r\n\t\t\tElementKind kind = element.getKind();\r\n\t\t\tif ( ElementKind.CLASS.equals( kind ) ) {\r\n\t\t\t\t// --- here I need to find out superclass ---\r\n\t\t\t} else if ( ElementKind.METHOD.equals( kind ) ) {\r\n\t\t\t\tworkOnMethod( (ExecutableElement) element );\r\n\t\t\t} else {\r\n                processingEnv.getMessager().printMessage( Kind.WARNING,\r\n                    String.format( &quot;WARNING: @Auditable must be applied &quot;\r\n                    &quot;to a JPA entity or method but found at %s&quot;, element.toString()));\r\n\t\t\t}}}","title":"How to find out superclass in an annotation processor?","body":"<p>I'm building an annotation processor. How can I find out the superclass of an annotated class?</p>\n<pre><code>@Retention(SOURCE)\n@Target({ METHOD, TYPE })\npublic @interface Auditable {\n}\n\nclass A {\n    @Auditable\n    Integer getInt() { ... }\n}\n\n@Auditable\nclass B extends A { ... }\n</code></pre>\n<p>Annotation processor provides two annotated elements. One for method <code>getInt</code> in class A and one for class B.</p>\n<p>How can I find out that B extends A?</p>\n<p>Partial code of the annotation processor:</p>\n<pre><code>private void process( Set&lt;? extends TypeElement&gt; annotations,\n        RoundEnvironment roundEnv ) {\n    Set&lt;? extends Element&gt; annotatedElements =\n            roundEnv.getElementsAnnotatedWith( Auditable.class );\n    for ( Element element : annotatedElements ) {\n        ElementKind kind = element.getKind();\n        if ( ElementKind.CLASS.equals( kind ) ) {\n            // --- here I need to find out superclass ---\n        } else if ( ElementKind.METHOD.equals( kind ) ) {\n            workOnMethod( (ExecutableElement) element );\n        } else {\n            processingEnv.getMessager().printMessage( Kind.WARNING,\n                String.format( &quot;WARNING: @Auditable must be applied &quot;\n                &quot;to a JPA entity or method but found at %s&quot;, element.toString()));\n        }}}\n</code></pre>\n"},{"tags":["java","json","mongodb","geojson"],"owner":{"account_id":7745926,"reputation":71,"user_id":20927049,"display_name":"desperate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672832943,"creation_date":1672832712,"question_id":75004965,"body_markdown":"I have a JSON, outside MongoDB or any database, just a file/string. This JSON contains GeoJSONs inside, is it possible to parse this JSON, using the MongoDB Java driver functions, so that its GeoJSON are parsed into `com.mongodb.client.model.geojson.Geometry` objects?\r\n\r\nHere an example of the JSON:\r\n\r\n```json\r\n{\r\n&quot;geography&quot;: {\r\n      &quot;type&quot;: &quot;Point&quot;,\r\n      &quot;coordinates&quot;: [\r\n        5.0,\r\n        5.0\r\n      ]\r\n    }\r\n}\r\n``` \r\n\r\n(They are not all Points btw)\r\n\r\nI tried this\r\n\r\n```java\r\nvar doc = Document.parse(jsonT).get(&quot;geography&quot;, Geometry.class);\r\nSystem.out.println(doc);\r\n```\r\n\r\nbut I got\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.ClassCastException: Cannot cast org.bson.Document to com.mongodb.client.model.geojson.Geometry\r\n```","title":"How to parse a GeoJSON object into a com.mongodb.client.model.geojson.Geometry in Java?","body":"<p>I have a JSON, outside MongoDB or any database, just a file/string. This JSON contains GeoJSONs inside, is it possible to parse this JSON, using the MongoDB Java driver functions, so that its GeoJSON are parsed into <code>com.mongodb.client.model.geojson.Geometry</code> objects?</p>\n<p>Here an example of the JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;geography&quot;: {\n      &quot;type&quot;: &quot;Point&quot;,\n      &quot;coordinates&quot;: [\n        5.0,\n        5.0\n      ]\n    }\n}\n</code></pre>\n<p>(They are not all Points btw)</p>\n<p>I tried this</p>\n<pre class=\"lang-java prettyprint-override\"><code>var doc = Document.parse(jsonT).get(&quot;geography&quot;, Geometry.class);\nSystem.out.println(doc);\n</code></pre>\n<p>but I got</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.ClassCastException: Cannot cast org.bson.Document to com.mongodb.client.model.geojson.Geometry\n</code></pre>\n"},{"tags":["java","string","recursion"],"answers":[{"comments":[{"owner":{"account_id":27429858,"reputation":1,"user_id":20926735,"display_name":"Mirel "},"score":0,"creation_date":1672833826,"post_id":75004899,"comment_id":132360881,"body_markdown":"Hi, thank you , it works perfectly,\ndo you think there is a a way to do it without the Character.toString() method?","body":"Hi, thank you , it works perfectly, do you think there is a a way to do it without the Character.toString() method?"},{"owner":{"account_id":6857956,"reputation":76,"user_id":11988137,"display_name":"patrinox"},"score":0,"creation_date":1672839680,"post_id":75004899,"comment_id":132362925,"body_markdown":"Yes. You can remove char variable from the method totally and change the line in else condition like this -&gt; \n\nnewStr = &quot;&quot; + str.charAt(0) + str.charAt(str.length() - 1) + insideOut(str.substring(1, str.length() - 1));","body":"Yes. You can remove char variable from the method totally and change the line in else condition like this -&gt;   newStr = &quot;&quot; + str.charAt(0) + str.charAt(str.length() - 1) + insideOut(str.substring(1, str.length() - 1));"}],"tags":[],"owner":{"account_id":6857956,"reputation":76,"user_id":11988137,"display_name":"patrinox"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672832413,"creation_date":1672832413,"answer_id":75004899,"question_id":75004474,"body_markdown":"Here is a solution for your method -&gt; \r\n\r\n    public static String insideOut(String str) {\r\n        char ch;\r\n        String newStr = &quot;&quot;;\r\n        if (str.length() == 1 || str.length() == 0) {\r\n            newStr = str;\r\n        } else {\r\n            ch = str.charAt(0);\r\n            newStr = Character.toString(ch) + str.charAt(str.length() - 1) + insideOut(\r\n                    str.substring(1, str.length() - 1));\r\n        }\r\n\r\n        return newStr;\r\n    }","title":"How to build a string using recursion","body":"<p>Here is a solution for your method -&gt;</p>\n<pre><code>public static String insideOut(String str) {\n    char ch;\n    String newStr = &quot;&quot;;\n    if (str.length() == 1 || str.length() == 0) {\n        newStr = str;\n    } else {\n        ch = str.charAt(0);\n        newStr = Character.toString(ch) + str.charAt(str.length() - 1) + insideOut(\n                str.substring(1, str.length() - 1));\n    }\n\n    return newStr;\n}\n</code></pre>\n"}],"owner":{"account_id":27429858,"reputation":1,"user_id":20926735,"display_name":"Mirel "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672832413,"creation_date":1672830245,"question_id":75004474,"body_markdown":"The recursive function receives a string and returns a new string so that each couple of chars are the first and the last char of the original. For example:\r\n\r\n```none\r\nreceives: abcde\r\nreturns: aebdc\r\n\r\nreceives: 1a2b3c\r\nreturns: 1ca32b\r\n```\r\n\r\n```java\r\npublic class Ex_6 {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString str= &quot;1a2b3c&quot;;// 1c a3 2b\r\n\t\tSystem.out.println(insideOut(str));\r\n\t}\r\n\t\r\n\tpublic static String insideOut(String str) {\r\n\t\tchar ch= str.charAt(0);\r\n\t\tString newStr = &quot;&quot;;\r\n\t\tif (str.length()==1 || str.length()==0 ) //the base case (a returns a)\r\n\t\t\tnewStr= str;\r\n\t\telse            //I tried to build the new string\r\n\t\t\tnewStr= ch+str.charAt(str.length()-1) + insideOut(str.substring(1, str.length()-1));\r\n\t\t\r\n\t\treturn newStr;  //the output was error (&quot;String index out of range: 0&quot;)\r\n\t\t\t\r\n\t}\r\n```\r\n    \t","title":"How to build a string using recursion","body":"<p>The recursive function receives a string and returns a new string so that each couple of chars are the first and the last char of the original. For example:</p>\n<pre class=\"lang-none prettyprint-override\"><code>receives: abcde\nreturns: aebdc\n\nreceives: 1a2b3c\nreturns: 1ca32b\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ex_6 {\n\n    public static void main(String[] args) {\n        String str= &quot;1a2b3c&quot;;// 1c a3 2b\n        System.out.println(insideOut(str));\n    }\n    \n    public static String insideOut(String str) {\n        char ch= str.charAt(0);\n        String newStr = &quot;&quot;;\n        if (str.length()==1 || str.length()==0 ) //the base case (a returns a)\n            newStr= str;\n        else            //I tried to build the new string\n            newStr= ch+str.charAt(str.length()-1) + insideOut(str.substring(1, str.length()-1));\n        \n        return newStr;  //the output was error (&quot;String index out of range: 0&quot;)\n            \n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","ehcache-3"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1561551162,"post_id":56771161,"comment_id":100100465,"body_markdown":"Please read the manual: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-caching","body":"Please read the manual: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-caching\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13990546,"reputation":73,"user_id":10104617,"display_name":"vikas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561553963,"creation_date":1561553963,"answer_id":56773418,"question_id":56771161,"body_markdown":"I got it working by changing from @Component to @Service. I don&#39;t understand why caching is not working under component and works in service layer","title":"@cacheable not working with spring boot. Using ehcache3","body":"<p>I got it working by changing from @Component to @Service. I don't understand why caching is not working under component and works in service layer</p>\n"},{"tags":[],"owner":{"account_id":4738700,"reputation":179,"user_id":3832254,"accept_rate":50,"display_name":"Vikram"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672832309,"creation_date":1672832309,"answer_id":75004875,"question_id":56771161,"body_markdown":"If you want to add Caching annotation at the Repository layer then just remove @Repository Annotation, If you want to add Caching at Service Layer then use @Service Annotation instead of @Component Annotation. ","title":"@cacheable not working with spring boot. Using ehcache3","body":"<p>If you want to add Caching annotation at the Repository layer then just remove @Repository Annotation, If you want to add Caching at Service Layer then use @Service Annotation instead of @Component Annotation.</p>\n"}],"owner":{"account_id":13990546,"reputation":73,"user_id":10104617,"display_name":"vikas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672832309,"creation_date":1561546432,"question_id":56771161,"body_markdown":"*Ehcache3 not working with spring boot - I tried out with approach given below. Spring boot never caches the value mentioned in the component.It is getting called n - no of times no matter the cache is enable or not. In the logs it shows cache is added to cache manager but thats not the case here \r\n\r\n**ehcache.xml** \r\n```\r\n&lt;ehcache:config&gt;\r\n  &lt;ehcache:cache-template name=&quot;myDefaultTemplate&quot;&gt;\r\n    &lt;ehcache:expiry&gt;\r\n      &lt;ehcache:none/&gt;\r\n    &lt;/ehcache:expiry&gt; \r\n  &lt;/ehcache:cache-template&gt;\r\n  \r\n  &lt;ehcache:cache alias=&quot;customer&quot; uses-template=&quot;myDefaultTemplate&quot;&gt;\r\n     &lt;ehcache:key-type&gt;java.lang.Long&lt;/ehcache:key-type&gt;\r\n     &lt;ehcache:value-type&gt;com.controller.Customer&lt;/ehcache:value-type&gt;\r\n     &lt;ehcache:expiry&gt;\r\n       &lt;ehcache:tti unit=&quot;seconds&quot;&gt;30&lt;/ehcache:tti&gt;\r\n     &lt;/ehcache:expiry&gt;\r\n    \r\n     &lt;ehcache:heap unit=&quot;entries&quot;&gt;200&lt;/ehcache:heap&gt;\r\n  &lt;/ehcache:cache&gt;\r\n&lt;/ehcache:config&gt;\r\n```\r\n\r\nIn my pom.xml i have the following configurations -\r\n```\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n      &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t   xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n       http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t   &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; \r\n\t   &lt;/parent&gt;\r\n\t   &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n\t   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t  &lt;name&gt;test&lt;/name&gt;\r\n\t   &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t   &lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t   &lt;/properties&gt;\r\n\t   &lt;dependencies&gt;    \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n     &lt;/project&gt;\r\n```       \r\n\r\nApplication.java which starts spring boot app\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = {&quot;com.service&quot;})\r\n@EnableCaching\r\npublic class TestApplication {\r\n  public static void main(String[] args) {\r\n\tSpringApplication.run(TestApplication.class, args);\r\n  }\r\n}\r\n```      \r\n\r\nComponent class for caching - \r\n\r\n```\r\n@Component\r\npublic class CustomerService {\r\n\r\n   @Cacheable(cacheNames = &quot;customer&quot;,key=&quot;#id&quot;)\r\n   public Customer getCustomer(final Long id){\r\n     System.out.println(&quot;Returning customer information for customer id \r\n     {} \r\n   &quot;+id);\r\n    Customer customer = new Customer();\r\n    customer.setCustomerId(id);\r\n    customer.setFirstName(&quot;Test&quot;);\r\n    customer.setEmail(&quot;contact-us@test.com&quot;);\r\n    return  customer;\r\n   }\r\n}\r\n```\r\nI tried with couple of approaches by adding component scan in the application\r\nbut didn&#39;t worked out.\r\n\r\nSpring boot starts and it shows cache has been added to cache manager. \r\n \r\n\r\n\r\n","title":"@cacheable not working with spring boot. Using ehcache3","body":"<p>*Ehcache3 not working with spring boot - I tried out with approach given below. Spring boot never caches the value mentioned in the component.It is getting called n - no of times no matter the cache is enable or not. In the logs it shows cache is added to cache manager but thats not the case here </p>\n\n<p><strong>ehcache.xml</strong> </p>\n\n<pre><code>&lt;ehcache:config&gt;\n  &lt;ehcache:cache-template name=\"myDefaultTemplate\"&gt;\n    &lt;ehcache:expiry&gt;\n      &lt;ehcache:none/&gt;\n    &lt;/ehcache:expiry&gt; \n  &lt;/ehcache:cache-template&gt;\n\n  &lt;ehcache:cache alias=\"customer\" uses-template=\"myDefaultTemplate\"&gt;\n     &lt;ehcache:key-type&gt;java.lang.Long&lt;/ehcache:key-type&gt;\n     &lt;ehcache:value-type&gt;com.controller.Customer&lt;/ehcache:value-type&gt;\n     &lt;ehcache:expiry&gt;\n       &lt;ehcache:tti unit=\"seconds\"&gt;30&lt;/ehcache:tti&gt;\n     &lt;/ehcache:expiry&gt;\n\n     &lt;ehcache:heap unit=\"entries\"&gt;200&lt;/ehcache:heap&gt;\n  &lt;/ehcache:cache&gt;\n&lt;/ehcache:config&gt;\n</code></pre>\n\n<p>In my pom.xml i have the following configurations -</p>\n\n<pre><code>     &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n      &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" \n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 \n       http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n       &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n       &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.6.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; \n       &lt;/parent&gt;\n       &lt;groupId&gt;com.test&lt;/groupId&gt;\n       &lt;artifactId&gt;test&lt;/artifactId&gt;\n       &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;name&gt;test&lt;/name&gt;\n       &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n       &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n       &lt;/properties&gt;\n       &lt;dependencies&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n            &lt;version&gt;3.6.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n     &lt;/project&gt;\n</code></pre>\n\n<p>Application.java which starts spring boot app</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = {\"com.service\"})\n@EnableCaching\npublic class TestApplication {\n  public static void main(String[] args) {\n    SpringApplication.run(TestApplication.class, args);\n  }\n}\n</code></pre>\n\n<p>Component class for caching - </p>\n\n<pre><code>@Component\npublic class CustomerService {\n\n   @Cacheable(cacheNames = \"customer\",key=\"#id\")\n   public Customer getCustomer(final Long id){\n     System.out.println(\"Returning customer information for customer id \n     {} \n   \"+id);\n    Customer customer = new Customer();\n    customer.setCustomerId(id);\n    customer.setFirstName(\"Test\");\n    customer.setEmail(\"contact-us@test.com\");\n    return  customer;\n   }\n}\n</code></pre>\n\n<p>I tried with couple of approaches by adding component scan in the application\nbut didn't worked out.</p>\n\n<p>Spring boot starts and it shows cache has been added to cache manager. </p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":23926633,"reputation":436,"user_id":17921670,"display_name":"Kamran Khan"},"score":1,"creation_date":1672830598,"post_id":75004473,"comment_id":132359965,"body_markdown":"There are some error in your Manifest file","body":"There are some error in your Manifest file"},{"owner":{"account_id":2263902,"reputation":30920,"user_id":1993204,"accept_rate":90,"display_name":"Bartek Lipinski"},"score":1,"creation_date":1672830629,"post_id":75004473,"comment_id":132359973,"body_markdown":"Can you show the full structure of your `res` folder? Expand all folders and add take a screenshot","body":"Can you show the full structure of your <code>res</code> folder? Expand all folders and add take a screenshot"},{"owner":{"account_id":15714451,"reputation":184,"user_id":20839582,"display_name":"sajidjuneja"},"score":1,"creation_date":1672830771,"post_id":75004473,"comment_id":132360021,"body_markdown":"Go to project view and show res folder. Check if you have any debug/release folder in project.","body":"Go to project view and show res folder. Check if you have any debug/release folder in project."},{"owner":{"account_id":25482550,"reputation":41,"user_id":19278601,"display_name":"HaamTheLord"},"score":0,"creation_date":1672831031,"post_id":75004473,"comment_id":132360098,"body_markdown":"i have edited as per your requests @sajidjuneja","body":"i have edited as per your requests @sajidjuneja"},{"owner":{"account_id":15714451,"reputation":184,"user_id":20839582,"display_name":"sajidjuneja"},"score":1,"creation_date":1672831165,"post_id":75004473,"comment_id":132360131,"body_markdown":"Click the Android drop down you can see and change to project view and then share screenshot.","body":"Click the Android drop down you can see and change to project view and then share screenshot."},{"owner":{"account_id":25482550,"reputation":41,"user_id":19278601,"display_name":"HaamTheLord"},"score":0,"creation_date":1672831331,"post_id":75004473,"comment_id":132360182,"body_markdown":"it&#39;s not showing in the project view, the minimap folder is empty in the project view?","body":"it&#39;s not showing in the project view, the minimap folder is empty in the project view?"},{"owner":{"account_id":25482550,"reputation":41,"user_id":19278601,"display_name":"HaamTheLord"},"score":0,"creation_date":1672831510,"post_id":75004473,"comment_id":132360239,"body_markdown":"@sajidjuneja it&#39;s still not showing even after i created a new asset in project view","body":"@sajidjuneja it&#39;s still not showing even after i created a new asset in project view"}],"answers":[{"comments":[{"owner":{"account_id":25482550,"reputation":41,"user_id":19278601,"display_name":"HaamTheLord"},"score":0,"creation_date":1672831223,"post_id":75004637,"comment_id":132360152,"body_markdown":"i have a image asset not a vector/ xml file and it&#39;s imported as a directory , do u want me to move those directories to drawable folder instead of minimap?","body":"i have a image asset not a vector/ xml file and it&#39;s imported as a directory , do u want me to move those directories to drawable folder instead of minimap?"},{"owner":{"account_id":23926633,"reputation":436,"user_id":17921670,"display_name":"Kamran Khan"},"score":1,"creation_date":1672831337,"post_id":75004637,"comment_id":132360185,"body_markdown":"yes after moving to drawable problem will be solve","body":"yes after moving to drawable problem will be solve"},{"owner":{"account_id":25482550,"reputation":41,"user_id":19278601,"display_name":"HaamTheLord"},"score":0,"creation_date":1672831660,"post_id":75004637,"comment_id":132360280,"body_markdown":"i can&#39;t move a directory to drawable folder","body":"i can&#39;t move a directory to drawable folder"},{"owner":{"account_id":23926633,"reputation":436,"user_id":17921670,"display_name":"Kamran Khan"},"score":1,"creation_date":1672831722,"post_id":75004637,"comment_id":132360299,"body_markdown":"copy any one icon from mipmap and paste in drawer folder and use it","body":"copy any one icon from mipmap and paste in drawer folder and use it"}],"tags":[],"owner":{"account_id":23926633,"reputation":436,"user_id":17921670,"display_name":"Kamran Khan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672832290,"creation_date":1672831012,"answer_id":75004637,"question_id":75004473,"body_markdown":"Error in your manifest file studio not finding your app icon path\r\n\r\n**Change app icon to drawable folder** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8SsdS.png","title":"I can&#39;t generate a signed apk / abb file from my android studio","body":"<p>Error in your manifest file studio not finding your app icon path</p>\n<p><strong>Change app icon to drawable folder</strong></p>\n<p><a href=\"https://i.stack.imgur.com/8SsdS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8SsdS.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":25482550,"reputation":41,"user_id":19278601,"display_name":"HaamTheLord"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75004637,"answer_count":1,"score":0,"last_activity_date":1672832290,"creation_date":1672830237,"question_id":75004473,"body_markdown":"I have a completely working ( no errors ) android studio. and i tried running it on the emulator, which was successfully accomplished , \r\n[![App Running Successfully On Emulator][1]][1]\r\n\r\n\r\nbut when i try to generate a signed apk, the build throws 3 errors, \r\n```\r\nExecution failed for task &#39;:app:processReleaseResources&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\r\n   &gt; Android resource linking failed\r\n     C:\\Users\\haamh\\Downloads\\only\\Android-WebView-in-Kotlin-master\\app\\src\\main\\AndroidManifest.xml:11:5-45:19: AAPT: error: resource mipmap/ic_launcher (aka com.onlywin.hhh:mipmap/ic_launcher) not found.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n\r\n```\r\n[![the build log][2]][2]\r\n\r\n\r\nBut i have all those three folders/assets in my project and i have even tried replacing i.e deleteing the whole minimap directory and added everything again !\r\n\r\n**I don&#39;t really know why the app runs on emulator with no errors and throws this meaningless error when i try to generate a signed apk.**\r\n\r\nand i have no errors in my manifest file, \r\n[![no errors in androidmanifest file][3]][3]\r\n\r\n\r\nand i have all those three folders with image assets too !\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HFmtk.png\r\n  [2]: https://i.stack.imgur.com/vB4NI.png\r\n  [3]: https://i.stack.imgur.com/smiIA.png\r\n  [4]: https://i.stack.imgur.com/fMOh1.png","title":"I can&#39;t generate a signed apk / abb file from my android studio","body":"<p>I have a completely working ( no errors ) android studio. and i tried running it on the emulator, which was successfully accomplished ,\n<a href=\"https://i.stack.imgur.com/HFmtk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HFmtk.png\" alt=\"App Running Successfully On Emulator\" /></a></p>\n<p>but when i try to generate a signed apk, the build throws 3 errors,</p>\n<pre><code>Execution failed for task ':app:processReleaseResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.Workers$ActionFacade\n   &gt; Android resource linking failed\n     C:\\Users\\haamh\\Downloads\\only\\Android-WebView-in-Kotlin-master\\app\\src\\main\\AndroidManifest.xml:11:5-45:19: AAPT: error: resource mipmap/ic_launcher (aka com.onlywin.hhh:mipmap/ic_launcher) not found.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vB4NI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vB4NI.png\" alt=\"the build log\" /></a></p>\n<p>But i have all those three folders/assets in my project and i have even tried replacing i.e deleteing the whole minimap directory and added everything again !</p>\n<p><strong>I don't really know why the app runs on emulator with no errors and throws this meaningless error when i try to generate a signed apk.</strong></p>\n<p>and i have no errors in my manifest file,\n<a href=\"https://i.stack.imgur.com/smiIA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smiIA.png\" alt=\"no errors in androidmanifest file\" /></a></p>\n<p>and i have all those three folders with image assets too !</p>\n<p><a href=\"https://i.stack.imgur.com/fMOh1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fMOh1.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-batch","throughput"],"answers":[{"comments":[{"owner":{"account_id":6210841,"reputation":63,"user_id":14101715,"display_name":"Pascoal Eddy Bayonne"},"score":0,"creation_date":1672829049,"post_id":51357647,"comment_id":132359522,"body_markdown":"I aggree with @Mahmoud, i follow his hint and thats what i got: https://medium.com/@eddybayonne1/remote-chunking-with-spring-batch-integration-63c9df75e361","body":"I aggree with @Mahmoud, i follow his hint and thats what i got: <a href=\"https://medium.com/@eddybayonne1/remote-chunking-with-spring-batch-integration-63c9df75e361\" rel=\"nofollow noreferrer\">medium.com/@eddybayonne1/&hellip;</a>"}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1531729980,"creation_date":1531729980,"answer_id":51357647,"question_id":51349963,"body_markdown":"When the processing is the bottleneck, you can use:\r\n\r\n* `AsyncItemProcessor`:this will process items asynchronously and can help in scaling out the processing. See more details about this component here: https://docs.spring.io/spring-batch/4.0.x/reference/html/spring-batch-integration.html#asynchronous-processors\r\n\r\n* Remote chunking: with this scalability option, you send data to remote workers for processing. This helps you scale the processing horizontally by adding more workers as needed. More details about remote chunking in this section: https://docs.spring.io/spring-batch/4.0.x/reference/html/spring-batch-integration.html#remote-chunking\r\n\r\nThere are some important considerations you would want to pay attention to when choosing a scalability option, they are detailed here: https://stackoverflow.com/a/20342308/5019386","title":"SpringBatch bottleneck at ItemProcessor","body":"<p>When the processing is the bottleneck, you can use:</p>\n\n<ul>\n<li><p><code>AsyncItemProcessor</code>:this will process items asynchronously and can help in scaling out the processing. See more details about this component here: <a href=\"https://docs.spring.io/spring-batch/4.0.x/reference/html/spring-batch-integration.html#asynchronous-processors\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/4.0.x/reference/html/spring-batch-integration.html#asynchronous-processors</a></p></li>\n<li><p>Remote chunking: with this scalability option, you send data to remote workers for processing. This helps you scale the processing horizontally by adding more workers as needed. More details about remote chunking in this section: <a href=\"https://docs.spring.io/spring-batch/4.0.x/reference/html/spring-batch-integration.html#remote-chunking\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/4.0.x/reference/html/spring-batch-integration.html#remote-chunking</a></p></li>\n</ul>\n\n<p>There are some important considerations you would want to pay attention to when choosing a scalability option, they are detailed here: <a href=\"https://stackoverflow.com/a/20342308/5019386\">https://stackoverflow.com/a/20342308/5019386</a></p>\n"},{"tags":[],"owner":{"account_id":6210841,"reputation":63,"user_id":14101715,"display_name":"Pascoal Eddy Bayonne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672832290,"creation_date":1672832290,"answer_id":75004869,"question_id":51349963,"body_markdown":"I had the same requirements and as @Mahmoud said: \r\nThere are some good approaches:\r\n\r\n**The Remote chunking:**\r\n\r\nProcessing and writing are done by the worker, while reading is done by the master. The master has to read and then pass actual records to the worker via the wire.\r\n\r\n[Remote Chunking in Practice][1]\r\n\r\n\r\nIn case of Async Processing which will allow you also to scale your batch:\r\n\r\n[Tutorial Spring Batch Integration using Async Processing][2]\r\n\r\n\r\n  [1]: https://medium.com/@eddybayonne1/remote-chunking-with-spring-batch-integration-63c9df75e361\r\n  [2]: https://www.youtube.com/watch?v=2H9Flamcdtk","title":"SpringBatch bottleneck at ItemProcessor","body":"<p>I had the same requirements and as @Mahmoud said:\nThere are some good approaches:</p>\n<p><strong>The Remote chunking:</strong></p>\n<p>Processing and writing are done by the worker, while reading is done by the master. The master has to read and then pass actual records to the worker via the wire.</p>\n<p><a href=\"https://medium.com/@eddybayonne1/remote-chunking-with-spring-batch-integration-63c9df75e361\" rel=\"nofollow noreferrer\">Remote Chunking in Practice</a></p>\n<p>In case of Async Processing which will allow you also to scale your batch:</p>\n<p><a href=\"https://www.youtube.com/watch?v=2H9Flamcdtk\" rel=\"nofollow noreferrer\">Tutorial Spring Batch Integration using Async Processing</a></p>\n"}],"owner":{"account_id":1934734,"reputation":177,"user_id":1743276,"accept_rate":83,"display_name":"ppatidar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51357647,"answer_count":2,"score":2,"last_activity_date":1672832290,"creation_date":1531670269,"question_id":51349963,"body_markdown":"I need to migrate some data from one table to another table applying some processing in between. Processing is proprietary and is exposed as REST service. So I need to read records from a table call REST services and then write processed record in another table. How do I implement this as Spring Batch so that I can make REST calls in parallel for multiple records because that&#39;s where I am expecting a lot of time for each record? ItemProcessor where I am planning to make the REST call only accept a single Item in process method.","title":"SpringBatch bottleneck at ItemProcessor","body":"<p>I need to migrate some data from one table to another table applying some processing in between. Processing is proprietary and is exposed as REST service. So I need to read records from a table call REST services and then write processed record in another table. How do I implement this as Spring Batch so that I can make REST calls in parallel for multiple records because that's where I am expecting a lot of time for each record? ItemProcessor where I am planning to make the REST call only accept a single Item in process method.</p>\n"},{"tags":["java","collections","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":1,"creation_date":1530829852,"post_id":25466664,"comment_id":89382987,"body_markdown":"@boris, thanks for fixing the typo. But for &quot;do not exist&quot; vs &quot;does not exist&quot;, I think &quot;more than one&quot; is plural, meaning that grammatically &quot;do not exist&quot; would be more correct.","body":"@boris, thanks for fixing the typo. But for &quot;do not exist&quot; vs &quot;does not exist&quot;, I think &quot;more than one&quot; is plural, meaning that grammatically &quot;do not exist&quot; would be more correct."}],"answers":[{"comments":[{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1408831716,"post_id":25466744,"comment_id":39741603,"body_markdown":"Ah, looking good! I was so close... I just hadn&#39;t yet figured out the `Collectors.toMap(...)` part, yet. Ooh, and I see what you&#39;re doing in the second example, getting the max value and then feeding that back into the lookup. Nice!","body":"Ah, looking good! I was so close... I just hadn&#39;t yet figured out the <code>Collectors.toMap(...)</code> part, yet. Ooh, and I see what you&#39;re doing in the second example, getting the max value and then feeding that back into the lookup. Nice!"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1408832174,"post_id":25466744,"comment_id":39741712,"body_markdown":"My compiler isn&#39;t liking the `.collect(e-&gt;Collectors...)` part, saying that it is expecting a functional interface.","body":"My compiler isn&#39;t liking the <code>.collect(e-&gt;Collectors...)</code> part, saying that it is expecting a functional interface."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1408832551,"post_id":25466744,"comment_id":39741785,"body_markdown":"I think you need to put the variable `e` inside `Collectors.toMap(...)`, like this: `.collect(Collectors.toMap(e-&gt;e.getKey(), e-&gt;e.getValue().lastEntry().getValue()))`.","body":"I think you need to put the variable <code>e</code> inside <code>Collectors.toMap(...)</code>, like this: <code>.collect(Collectors.toMap(e-&gt;e.getKey(), e-&gt;e.getValue().lastEntry().getValue()))</code>."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1408832747,"post_id":25466744,"comment_id":39741830,"body_markdown":"@GarretWilson Editted the answer.","body":"@GarretWilson Editted the answer."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":4,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1408832961,"creation_date":1408831053,"answer_id":25466744,"question_id":25466664,"body_markdown":"You can create a Stream of the entries and collect it to a Map :\r\n\r\n    Map&lt;String, Person&gt; oldestPeopleByName = \r\n        names2PeopleAges.entrySet()\r\n                        .stream()\r\n                        .collect (Collectors.toMap(e-&gt;e.getKey(),\r\n                                                   e-&gt;e.getValue().lastEntry().getValue())\r\n                                 );\r\n\r\nNow, without `lastEntry` :\r\n\r\n    Map&lt;String, Person&gt; oldestPeopleByName = \r\n        names2PeopleAges.entrySet()\r\n                        .stream()\r\n                        .collect (Collectors.toMap(e-&gt;e.getKey(),\r\n                                                   e-&gt;e.getValue().get(e.getValue().keySet().stream().max(Long::compareTo)))\r\n                                 );\r\n\r\nHere, instead of relying on `lastEntry`, we search for the `max` key in each of the internal `Map`s, and get the corresponding Person of the max key.\r\n\r\nI might have some silly typos, since I haven&#39;t actually tested it, by in principle it should work.","title":"Java 8 re-map with modified value","body":"<p>You can create a Stream of the entries and collect it to a Map :</p>\n\n<pre><code>Map&lt;String, Person&gt; oldestPeopleByName = \n    names2PeopleAges.entrySet()\n                    .stream()\n                    .collect (Collectors.toMap(e-&gt;e.getKey(),\n                                               e-&gt;e.getValue().lastEntry().getValue())\n                             );\n</code></pre>\n\n<p>Now, without <code>lastEntry</code> :</p>\n\n<pre><code>Map&lt;String, Person&gt; oldestPeopleByName = \n    names2PeopleAges.entrySet()\n                    .stream()\n                    .collect (Collectors.toMap(e-&gt;e.getKey(),\n                                               e-&gt;e.getValue().get(e.getValue().keySet().stream().max(Long::compareTo)))\n                             );\n</code></pre>\n\n<p>Here, instead of relying on <code>lastEntry</code>, we search for the <code>max</code> key in each of the internal <code>Map</code>s, and get the corresponding Person of the max key.</p>\n\n<p>I might have some silly typos, since I haven't actually tested it, by in principle it should work.</p>\n"},{"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672832107,"creation_date":1672832107,"answer_id":75004826,"question_id":25466664,"body_markdown":"A similar question is asked before, and I provided there my answers https://stackoverflow.com/a/75004577/6777695 The answer there is slighty different than the one accepted here. I think the remapping of a key or/and value should belong in the `map` part of a stream instead of the `collect` as the `map` function for a stream is designed to do the actual transforming of data. In your use case I would suggest the following code snippet:\r\n\r\n```java\r\nimport java.util.Map;\r\nimport java.util.Map.Entry;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, Person&gt; oldestPeopleByName = namesToPeopleAges.entrySet().stream()\r\n                .map(entry -&gt; Map.entry((entry.getKey(), entry.getValue().lastEntry().getValue()))\r\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));                \r\n    }\r\n\r\n}\r\n```","title":"Java 8 re-map with modified value","body":"<p>A similar question is asked before, and I provided there my answers <a href=\"https://stackoverflow.com/a/75004577/6777695\">https://stackoverflow.com/a/75004577/6777695</a> The answer there is slighty different than the one accepted here. I think the remapping of a key or/and value should belong in the <code>map</code> part of a stream instead of the <code>collect</code> as the <code>map</code> function for a stream is designed to do the actual transforming of data. In your use case I would suggest the following code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Map;\nimport java.util.Map.Entry;\nimport java.util.stream.Collectors;\n\npublic class App {\n\n    public static void main(String[] args) {\n        Map&lt;String, Person&gt; oldestPeopleByName = namesToPeopleAges.entrySet().stream()\n                .map(entry -&gt; Map.entry((entry.getKey(), entry.getValue().lastEntry().getValue()))\n                .collect(Collectors.toMap(Entry::getKey, Entry::getValue));                \n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43822,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":25466744,"answer_count":2,"score":25,"last_activity_date":1672832107,"creation_date":1408830434,"question_id":25466664,"body_markdown":"I&#39;m about to get a grasp on the new Java 8 stream and lambda options, but there are still a few subtleties that I haven&#39;t yet wrapped my mind around.\r\n\r\nLet&#39;s say that I have a map where the keys are the names of people. The value for each name is a map of ages and `Person` instances. Further assume that there does not exist more than one person with the same name and age.\r\n\r\n    Map&lt;String, NavigableMap&lt;Long, Person&gt;&gt; names2PeopleAges = new HashMap&lt;String, NavigableMap&lt;Long, Person&gt;&gt;();\r\n\r\nAfter populating that map (elsewhere), I want to produce another map of the oldest person for each name. I want to wind up with a `Map&lt;String, Person&gt;` in which the keys are identical to those in the first map, but the value for each entry is the value of the value map for which the key of the value map has the highest number.\r\n\r\nTaking advantage of the fact that a `NavigableMap` sorts its keys, I can do this:\r\n\r\n    Map&lt;String, Person&gt; oldestPeopleByName = new HashMap&lt;String, Person&gt;();\r\n    names2PeopleAges.forEach((name, peopleAges) -&gt; {\r\n      oldestPeopleByName.put(name, peopleAges.lastEntry().getValue());\r\n    });\r\n\r\n**Question:** Can I replace the last bit of code above with a single Java 8 stream/collect/map/flatten/etc. operation to produce the same result? In pseudo-code, my first inclination would be:\r\n\r\n    Map&lt;String, Person&gt; oldestPeopleByName = names2PeopleAges.forEachEntry().mapValue(value-&gt;value.lastEntry().getValue());\r\n\r\nThis question is meant to be straightforward without any tricks or oddities---just a simple question of how I can fully leverage Java 8!\r\n\r\n**Bonus:** Let&#39;s say that the `NavigableMap&lt;Long, Person&gt;` above is instead merely a `Map&lt;Long, Person&gt;`. Could you extend the first answer so that it collects the person with the highest age value, now that `NavigableMap.lastEntry()` is not available?","title":"Java 8 re-map with modified value","body":"<p>I'm about to get a grasp on the new Java 8 stream and lambda options, but there are still a few subtleties that I haven't yet wrapped my mind around.</p>\n\n<p>Let's say that I have a map where the keys are the names of people. The value for each name is a map of ages and <code>Person</code> instances. Further assume that there does not exist more than one person with the same name and age.</p>\n\n<pre><code>Map&lt;String, NavigableMap&lt;Long, Person&gt;&gt; names2PeopleAges = new HashMap&lt;String, NavigableMap&lt;Long, Person&gt;&gt;();\n</code></pre>\n\n<p>After populating that map (elsewhere), I want to produce another map of the oldest person for each name. I want to wind up with a <code>Map&lt;String, Person&gt;</code> in which the keys are identical to those in the first map, but the value for each entry is the value of the value map for which the key of the value map has the highest number.</p>\n\n<p>Taking advantage of the fact that a <code>NavigableMap</code> sorts its keys, I can do this:</p>\n\n<pre><code>Map&lt;String, Person&gt; oldestPeopleByName = new HashMap&lt;String, Person&gt;();\nnames2PeopleAges.forEach((name, peopleAges) -&gt; {\n  oldestPeopleByName.put(name, peopleAges.lastEntry().getValue());\n});\n</code></pre>\n\n<p><strong>Question:</strong> Can I replace the last bit of code above with a single Java 8 stream/collect/map/flatten/etc. operation to produce the same result? In pseudo-code, my first inclination would be:</p>\n\n<pre><code>Map&lt;String, Person&gt; oldestPeopleByName = names2PeopleAges.forEachEntry().mapValue(value-&gt;value.lastEntry().getValue());\n</code></pre>\n\n<p>This question is meant to be straightforward without any tricks or oddities---just a simple question of how I can fully leverage Java 8!</p>\n\n<p><strong>Bonus:</strong> Let's say that the <code>NavigableMap&lt;Long, Person&gt;</code> above is instead merely a <code>Map&lt;Long, Person&gt;</code>. Could you extend the first answer so that it collects the person with the highest age value, now that <code>NavigableMap.lastEntry()</code> is not available?</p>\n"},{"tags":["java","android","build.gradle","android-manifest"],"comments":[{"owner":{"account_id":9891282,"reputation":167,"user_id":7324158,"display_name":"h_malik"},"score":0,"creation_date":1569688295,"post_id":58147886,"comment_id":102680696,"body_markdown":"do you have multiple modules inside the app? there might be a problem with them","body":"do you have multiple modules inside the app? there might be a problem with them"},{"owner":{"account_id":11836365,"reputation":195,"user_id":8661593,"display_name":"Jack Duane"},"score":0,"creation_date":1569691516,"post_id":58147886,"comment_id":102681513,"body_markdown":"You&#39;ll have to pardon my ignorance but I don&#39;t think so... I do have two activities though.This is a super basic app. I should note however, that I got it to work when I changed the target value to 15 but that I can&#39;t get it to work with a targetSdkValue of 29. Any thoughts?","body":"You&#39;ll have to pardon my ignorance but I don&#39;t think so... I do have two activities though.This is a super basic app. I should note however, that I got it to work when I changed the target value to 15 but that I can&#39;t get it to work with a targetSdkValue of 29. Any thoughts?"}],"answers":[{"comments":[{"owner":{"account_id":11836365,"reputation":195,"user_id":8661593,"display_name":"Jack Duane"},"score":0,"creation_date":1569956548,"post_id":58185267,"comment_id":102761018,"body_markdown":"How is this different from my grade file posted in the original question?","body":"How is this different from my grade file posted in the original question?"},{"owner":{"account_id":12230786,"reputation":1392,"user_id":8926845,"display_name":"YuvrajsinhJadeja"},"score":0,"creation_date":1569991578,"post_id":58185267,"comment_id":102769168,"body_markdown":"in your gradel file you removed  //targetSdkVersion 29  it is needed for publish apk  @JackDuane","body":"in your gradel file you removed  //targetSdkVersion 29  it is needed for publish apk  @JackDuane"},{"owner":{"account_id":11836365,"reputation":195,"user_id":8661593,"display_name":"Jack Duane"},"score":0,"creation_date":1570016058,"post_id":58185267,"comment_id":102779189,"body_markdown":"I removed it because Slideme *requires* that it be in the manifest file. Which is what I stated in the original question.","body":"I removed it because Slideme <i>requires</i> that it be in the manifest file. Which is what I stated in the original question."}],"tags":[],"owner":{"account_id":12230786,"reputation":1392,"user_id":8926845,"display_name":"YuvrajsinhJadeja"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569934615,"creation_date":1569934615,"answer_id":58185267,"question_id":58147886,"body_markdown":"have you tryied by adding updated sdk version in  Gradle file:\r\n\r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.example.stackoverflowpratice&quot;\r\n            minSdkVersion 23\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n     buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n    }\r\n\r\nthis will work.","title":"App Upload to Slideme - Valid targetSdkVersion not set error","body":"<p>have you tryied by adding updated sdk version in  Gradle file:</p>\n\n<pre><code>android {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.example.stackoverflowpratice\"\n        minSdkVersion 23\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n</code></pre>\n\n<p>this will work.</p>\n"},{"tags":[],"owner":{"account_id":12820517,"reputation":13,"user_id":9275576,"display_name":"Mushtaq Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610825869,"creation_date":1610825869,"answer_id":65753875,"question_id":58147886,"body_markdown":"Paste this into your manifest file\r\n\r\n    &lt;uses-sdk android:minSdkVersion=&quot;23&quot; android:targetSdkVersion=&quot;29&quot;/&gt;","title":"App Upload to Slideme - Valid targetSdkVersion not set error","body":"<p>Paste this into your manifest file</p>\n<pre><code>&lt;uses-sdk android:minSdkVersion=&quot;23&quot; android:targetSdkVersion=&quot;29&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9319206,"reputation":1,"user_id":6918494,"display_name":"Thanh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615437891,"creation_date":1615437891,"answer_id":66576617,"question_id":58147886,"body_markdown":"I replied here if anyone still need to solve this issue.\r\nIf you are using Unity, set Target API Level in Other Setting to one specific API instead of Automatic\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IXOuI.png","title":"App Upload to Slideme - Valid targetSdkVersion not set error","body":"<p>I replied here if anyone still need to solve this issue.\nIf you are using Unity, set Target API Level in Other Setting to one specific API instead of Automatic\n<a href=\"https://i.stack.imgur.com/IXOuI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":11836365,"reputation":195,"user_id":8661593,"display_name":"Jack Duane"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1672831818,"creation_date":1569685330,"question_id":58147886,"body_markdown":"I am trying to upload my first app to Slideme and am running into the following error:\r\nYour application must have a valid targetSdkVersion set. To solve this problem, you need to edit your AndroidManifest.xml file and upload again the .apk file.\r\n\r\nSo I added targetSdkVersion to my manifest file and removed it from my gradle file and still no luck. I also tried it again with the targetSdkVersion still set in the gradle file but also no luck. I&#39;ve played around quite a but but I keep getting the same error. I&#39;ve reset android studio multiple times and I&#39;ve tried closing and re-opening the slideme upload web page with no change.\r\n\r\nHere is my manifest.xml file: \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            package=&quot;com.cards.doublerun&quot;&gt;\r\n\r\n            &lt;uses-sdk android:targetSdkVersion=&quot;29&quot; /&gt;\r\n\r\n            &lt;application\r\n                android:allowBackup=&quot;true&quot;\r\n                android:icon=&quot;@mipmap/ic_launcher&quot;\r\n                android:label=&quot;@string/app_name&quot;\r\n                android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n                android:supportsRtl=&quot;true&quot;\r\n                android:theme=&quot;@style/AppTheme&quot;&gt;\r\n                &lt;activity android:name=&quot;.GameActivity&quot;/&gt;\r\n                &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                    &lt;intent-filter&gt;\r\n                        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                    &lt;/intent-filter&gt;\r\n                &lt;/activity&gt;\r\n            &lt;/application&gt;\r\n        &lt;/manifest&gt;\r\nAnd here is my Gradle file: \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.2&quot;\r\n        defaultConfig {\r\n            applicationId &quot;com.cards.doublerun&quot;\r\n            minSdkVersion 15\r\n            //targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.1.1&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.1.1&#39;\r\n    }\r\n\r\nI&#39;ve looked at this question: https://stackoverflow.com/questions/51456516/why-does-androidmanifest-xml-have-invalid-targetsdkversion/51456893 \r\nand this question: https://stackoverflow.com/questions/8617684/valid-sdkversion-for-slideme-org/51456862#51456862 \r\nbut the advice that is provided in both isn&#39;t working for me. Any help would be greatly appreciated.","title":"App Upload to Slideme - Valid targetSdkVersion not set error","body":"<p>I am trying to upload my first app to Slideme and am running into the following error:\nYour application must have a valid targetSdkVersion set. To solve this problem, you need to edit your AndroidManifest.xml file and upload again the .apk file.</p>\n\n<p>So I added targetSdkVersion to my manifest file and removed it from my gradle file and still no luck. I also tried it again with the targetSdkVersion still set in the gradle file but also no luck. I've played around quite a but but I keep getting the same error. I've reset android studio multiple times and I've tried closing and re-opening the slideme upload web page with no change.</p>\n\n<p>Here is my manifest.xml file: </p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n    &lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        package=\"com.cards.doublerun\"&gt;\n\n        &lt;uses-sdk android:targetSdkVersion=\"29\" /&gt;\n\n        &lt;application\n            android:allowBackup=\"true\"\n            android:icon=\"@mipmap/ic_launcher\"\n            android:label=\"@string/app_name\"\n            android:roundIcon=\"@mipmap/ic_launcher_round\"\n            android:supportsRtl=\"true\"\n            android:theme=\"@style/AppTheme\"&gt;\n            &lt;activity android:name=\".GameActivity\"/&gt;\n            &lt;activity android:name=\".MainActivity\"&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                    &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n                &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n        &lt;/application&gt;\n    &lt;/manifest&gt;\n</code></pre>\n\n<p>And here is my Gradle file: </p>\n\n<pre><code>apply plugin: 'com.android.application'\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.2\"\n    defaultConfig {\n        applicationId \"com.cards.doublerun\"\n        minSdkVersion 15\n        //targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.1.1'\n}\n</code></pre>\n\n<p>I've looked at this question: <a href=\"https://stackoverflow.com/questions/51456516/why-does-androidmanifest-xml-have-invalid-targetsdkversion/51456893\">Why does AndroidManifest.xml have invalid targetSdkVersion?</a> \nand this question: <a href=\"https://stackoverflow.com/questions/8617684/valid-sdkversion-for-slideme-org/51456862#51456862\">Valid sdkVersion for slideme.org</a> \nbut the advice that is provided in both isn't working for me. Any help would be greatly appreciated.</p>\n"},{"tags":["java","struts2","single-sign-on","spring-saml"],"owner":{"account_id":27167069,"reputation":1,"user_id":20704432,"display_name":"Giuseppe Coniglio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672831809,"creation_date":1672831809,"question_id":75004771,"body_markdown":"I have a struts2 web application which use Spring Security SAML2 (Spring source) http://springsource.org/spring-security-saml) to get authentication of users in an external system AD FS.\r\n\r\nI use spring-security-saml war as intermediary between Struts2 and external system AD FS for use the SAML2 protocol.\r\n\r\nWe currently have two different &quot;Service Providers&quot;:\r\n\r\n- Struts2 application that does not directly use the SAML2 protocol but delegates it to the &quot;spring-security-saml2-war&quot; by starting on a particular route/url of this\r\n\r\n- &quot;spring-security-saml2-war&quot; which exactly follows the &quot;SP-initiated&quot; SAML2 flow I reported below and which at the end goto to my login Success Action of Struts2 \r\n\r\n[&quot;SP-initiated&quot; SAML2 flow](https://i.stack.imgur.com/6KXgn.jpg)\r\n\r\nIs it possible integrate all code of SAML2 Spring source in my struts2 project?\r\n\r\nThank a lots :-)\r\n\r\nI would like to use the SAML2 protocol between in my Struts2 web application without using external war spring-security-saml2, the code of this war managed entirely in the Struts2 project","title":"Integrate Spring Security SAML2 Extension in Strut2 web application","body":"<p>I have a struts2 web application which use Spring Security SAML2 (Spring source) <a href=\"http://springsource.org/spring-security-saml\" rel=\"nofollow noreferrer\">http://springsource.org/spring-security-saml</a>) to get authentication of users in an external system AD FS.</p>\n<p>I use spring-security-saml war as intermediary between Struts2 and external system AD FS for use the SAML2 protocol.</p>\n<p>We currently have two different &quot;Service Providers&quot;:</p>\n<ul>\n<li><p>Struts2 application that does not directly use the SAML2 protocol but delegates it to the &quot;spring-security-saml2-war&quot; by starting on a particular route/url of this</p>\n</li>\n<li><p>&quot;spring-security-saml2-war&quot; which exactly follows the &quot;SP-initiated&quot; SAML2 flow I reported below and which at the end goto to my login Success Action of Struts2</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/6KXgn.jpg\" rel=\"nofollow noreferrer\">&quot;SP-initiated&quot; SAML2 flow</a></p>\n<p>Is it possible integrate all code of SAML2 Spring source in my struts2 project?</p>\n<p>Thank a lots :-)</p>\n<p>I would like to use the SAML2 protocol between in my Struts2 web application without using external war spring-security-saml2, the code of this war managed entirely in the Struts2 project</p>\n"},{"tags":["java","apache-kafka","kafka-producer-api","apache-kafka-security"],"answers":[{"comments":[{"owner":{"account_id":8898928,"reputation":419,"user_id":6642944,"accept_rate":43,"display_name":"Thomson Mathew"},"score":0,"creation_date":1672845268,"post_id":75002649,"comment_id":132365105,"body_markdown":"thanks for the reply. Unfortunately our kafka server is in the cloud and producer  an on-prem app. We do have both SSL and plain text authentication in prod but lower env its just plain text authentication. Its a legacy app and unfortunately I cant have any property files. Just looking for the config for username and password programatically.","body":"thanks for the reply. Unfortunately our kafka server is in the cloud and producer  an on-prem app. We do have both SSL and plain text authentication in prod but lower env its just plain text authentication. Its a legacy app and unfortunately I cant have any property files. Just looking for the config for username and password programatically."}],"tags":[],"owner":{"account_id":9691730,"reputation":1318,"user_id":7189597,"display_name":"Sobhan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672831161,"creation_date":1672820295,"answer_id":75002649,"question_id":75002078,"body_markdown":"It is not necessary to have an authentication for you Kafka server.\r\nConsider that you can containerize your Kafka instance in your server and you are not forced to expose your ports out of your physical server and your applications will communicate internally (e.g: using your docker-network inside the server).\r\n\r\nBut if you wish to implement an authentication for your Kafka server, It is also possible to have both SSL or Plain authentication!!\r\n\r\nHere I found an useful answer that may be useful for you too:\r\n\r\n[kafka Authentication][1]\r\n\r\n\r\n  [1]: https://Kafka%20Authentication","title":"How to add user authentication configs","body":"<p>It is not necessary to have an authentication for you Kafka server.\nConsider that you can containerize your Kafka instance in your server and you are not forced to expose your ports out of your physical server and your applications will communicate internally (e.g: using your docker-network inside the server).</p>\n<p>But if you wish to implement an authentication for your Kafka server, It is also possible to have both SSL or Plain authentication!!</p>\n<p>Here I found an useful answer that may be useful for you too:</p>\n<p><a href=\"https://Kafka%20Authentication\" rel=\"nofollow noreferrer\">kafka Authentication</a></p>\n"}],"owner":{"account_id":8898928,"reputation":419,"user_id":6642944,"accept_rate":43,"display_name":"Thomson Mathew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672831161,"creation_date":1672816747,"question_id":75002078,"body_markdown":"I am confused how to add authentication credentials progrmatically. Not sure if SECURITY_PROVIDERS_CONFIG is where I set these values. Was also going through the constants and I could see many configs have _DOC and I am curious what does it mean. For example SECURITY_PROVIDERS_CONFIG and SECURITY_PROVIDERS_DOC. \r\n\r\nHere is my config class:\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n        @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String bootstrapAddress;\r\n\r\n        @Bean\r\n        public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n            Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\r\n            configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\r\n            configProps.put(ProducerConfig.INTERCEPTOR_CLASSES_CONFIG, CountingProducerInterceptor.class.getName());\r\n            configProps.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\r\n            configProps.put(ProducerConfig.ENABLE_IDEMPOTENCE_DOC, &quot;true&quot;);\r\n            configProps.put(ProducerConfig.RETRIES_CONFIG, 3);\r\n            //configProps.put(ProducerConfig.SECURITY_PROVIDERS_CONFIG, &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;username\\&quot; password=\\&quot;pa$$wrd\\&quot;&quot;);\r\n            configProps.put(ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION, 5);\r\n            configProps.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG, 10000);\r\n            configProps.put(ProducerConfig.RETRY_BACKOFF_MS_CONFIG, 3000);\r\n            configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n            return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\r\n        }\r\n\r\n        @Bean\r\n        public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n            return new KafkaTemplate&lt;&gt;(producerFactory());\r\n        }\r\n    }\r\n\r\nI have commented out the property that I am confused. Not sure if this ishow you pass username and password. Thanks in advance.","title":"How to add user authentication configs","body":"<p>I am confused how to add authentication credentials progrmatically. Not sure if SECURITY_PROVIDERS_CONFIG is where I set these values. Was also going through the constants and I could see many configs have _DOC and I am curious what does it mean. For example SECURITY_PROVIDERS_CONFIG and SECURITY_PROVIDERS_DOC.</p>\n<p>Here is my config class:</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n    @Value(value = &quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapAddress;\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        Map&lt;String, Object&gt; configProps = new HashMap&lt;&gt;();\n        configProps.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress);\n        configProps.put(ProducerConfig.INTERCEPTOR_CLASSES_CONFIG, CountingProducerInterceptor.class.getName());\n        configProps.put(ProducerConfig.ACKS_CONFIG, &quot;all&quot;);\n        configProps.put(ProducerConfig.ENABLE_IDEMPOTENCE_DOC, &quot;true&quot;);\n        configProps.put(ProducerConfig.RETRIES_CONFIG, 3);\n        //configProps.put(ProducerConfig.SECURITY_PROVIDERS_CONFIG, &quot;org.apache.kafka.common.security.scram.ScramLoginModule required username=\\&quot;username\\&quot; password=\\&quot;pa$$wrd\\&quot;&quot;);\n        configProps.put(ProducerConfig.MAX_IN_FLIGHT_REQUESTS_PER_CONNECTION, 5);\n        configProps.put(ProducerConfig.REQUEST_TIMEOUT_MS_CONFIG, 10000);\n        configProps.put(ProducerConfig.RETRY_BACKOFF_MS_CONFIG, 3000);\n        configProps.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configProps.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n        return new DefaultKafkaProducerFactory&lt;&gt;(configProps);\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>I have commented out the property that I am confused. Not sure if this ishow you pass username and password. Thanks in advance.</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":4457428,"reputation":981,"user_id":3627233,"accept_rate":18,"display_name":"nanpakal"},"score":0,"creation_date":1672827225,"post_id":75003714,"comment_id":132358955,"body_markdown":"Where did you set the fallback value after retries?","body":"Where did you set the fallback value after retries?"},{"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"score":0,"creation_date":1672830974,"post_id":75003714,"comment_id":132360083,"body_markdown":"Edited answer to make it return fallback value after max retries.","body":"Edited answer to make it return fallback value after max retries."}],"tags":[],"owner":{"account_id":4487116,"reputation":429,"user_id":3649352,"accept_rate":67,"display_name":"Kunal Varpe"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672830897,"creation_date":1672826084,"answer_id":75003714,"question_id":75003498,"body_markdown":"You should do the following. I have similar code in our service and it is working as expected.\r\n\r\n```java\r\npublic Mono&lt;String&gt; getEmployee(String request) {\r\n    return WebClient.create()\r\n            .get()\r\n            .uri(&quot;/accounts/&quot; + request)\r\n            .retrieve()\r\n            .onStatus(HttpStatus::is5xxServerError, res -&gt; {\r\n                return Mono.error(new IllegalStateException());\r\n            })\r\n            .bodyToMono(String.class)\r\n            .retryWhen(\r\n                Retry.max(3)\r\n                    .filter(IllegalStateException.class::isInstance)\r\n                    .onRetryExhaustedThrow((retrySpec, retrySignal) -&gt; new MaxRetryAchievedException(&quot;Max retried&quot;))\r\n            ).onErrorReturn(MaxRetryAchievedException.class, &quot;Techinal Error&quot;)\r\n            .log();\r\n}\r\n\r\n\r\npublic class MaxRetryAchievedException extends RuntimeException {\r\n\r\n    public MaxRetryAchievedException(String message) {\r\n        super(message);\r\n    }\r\n}\r\n```","title":"Spring webclient onErrorReturn for specific type of exception","body":"<p>You should do the following. I have similar code in our service and it is working as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Mono&lt;String&gt; getEmployee(String request) {\n    return WebClient.create()\n            .get()\n            .uri(&quot;/accounts/&quot; + request)\n            .retrieve()\n            .onStatus(HttpStatus::is5xxServerError, res -&gt; {\n                return Mono.error(new IllegalStateException());\n            })\n            .bodyToMono(String.class)\n            .retryWhen(\n                Retry.max(3)\n                    .filter(IllegalStateException.class::isInstance)\n                    .onRetryExhaustedThrow((retrySpec, retrySignal) -&gt; new MaxRetryAchievedException(&quot;Max retried&quot;))\n            ).onErrorReturn(MaxRetryAchievedException.class, &quot;Techinal Error&quot;)\n            .log();\n}\n\n\npublic class MaxRetryAchievedException extends RuntimeException {\n\n    public MaxRetryAchievedException(String message) {\n        super(message);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4457428,"reputation":981,"user_id":3627233,"accept_rate":18,"display_name":"nanpakal"},"score":0,"creation_date":1672827696,"post_id":75003717,"comment_id":132359124,"body_markdown":"Thanks for pointing out. It worked after i used onRetryExhaustedThrow and throwed error which i match in onErrorReturn","body":"Thanks for pointing out. It worked after i used onRetryExhaustedThrow and throwed error which i match in onErrorReturn"},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672827792,"post_id":75003717,"comment_id":132359158,"body_markdown":"Ye it may be solved like that, gonna update the answer with this","body":"Ye it may be solved like that, gonna update the answer with this"}],"tags":[],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672829888,"creation_date":1672826095,"answer_id":75003717,"question_id":75003498,"body_markdown":"In cases like that the best option for finding an issue is checking the instance of errors in debugger.\r\n\r\nAfter all of retry tries are exhausted RetryExhaustedException will be throwed\r\n\r\nSimple example for visualization:\r\n```java\r\nMono.error(new IllegalStateException(&quot;example&quot;))\r\n                .retryWhen(Retry.max(-1))\r\n                .doOnError(throwable -&gt; {\r\n                    assert Objects.equals(throwable.getClass().getSimpleName(), &quot;RetryExhaustedException&quot;);\r\n                })\r\n                .subscribe();\r\n```\r\n\r\nSummary:\r\n\r\nYour retry mechanism works but after there are exhausted it is not IllegalStateExcpetion\r\n\r\nIf you want to handle logic on IllegalStateException later you can use onErtryExhaustedThrow method like:\r\n```java\r\n.retryWhen(Retry.max(3)\r\n   .filter(throwable -&gt; throwable instanceof IllegalStateException)\r\n   .onRetryExhaustedThrow((retrySpec, retrySignal) -&gt; new IllegalStateException()))\r\n````","title":"Spring webclient onErrorReturn for specific type of exception","body":"<p>In cases like that the best option for finding an issue is checking the instance of errors in debugger.</p>\n<p>After all of retry tries are exhausted RetryExhaustedException will be throwed</p>\n<p>Simple example for visualization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.error(new IllegalStateException(&quot;example&quot;))\n                .retryWhen(Retry.max(-1))\n                .doOnError(throwable -&gt; {\n                    assert Objects.equals(throwable.getClass().getSimpleName(), &quot;RetryExhaustedException&quot;);\n                })\n                .subscribe();\n</code></pre>\n<p>Summary:</p>\n<p>Your retry mechanism works but after there are exhausted it is not IllegalStateExcpetion</p>\n<p>If you want to handle logic on IllegalStateException later you can use onErtryExhaustedThrow method like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.retryWhen(Retry.max(3)\n   .filter(throwable -&gt; throwable instanceof IllegalStateException)\n   .onRetryExhaustedThrow((retrySpec, retrySignal) -&gt; new IllegalStateException()))\n</code></pre>\n"}],"owner":{"account_id":4457428,"reputation":981,"user_id":3627233,"accept_rate":18,"display_name":"nanpakal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75003717,"answer_count":2,"score":1,"last_activity_date":1672830897,"creation_date":1672824886,"question_id":75003498,"body_markdown":"I wanted to return a fallback value from webclient after retries for only specific type of exception. I tried the below code but it doesnt return the fallback value.\r\n\r\n     public Mono&lt;String&gt; getEmployee(String request) {\r\n        return WebClient.create()\r\n                .get()\r\n                .uri(&quot;/accounts/&quot; + request)\r\n                .exchangeToMono(clientResponse -&gt; {\r\n                    if (clientResponse.statusCode().value() == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\r\n                        throw new IllegalStateException();\r\n                    }\r\n                    if (clientResponse.statusCode().value() == HttpStatus.OK.value()) {\r\n                        return clientResponse\r\n                                .bodyToMono(String.class);\r\n                    }\r\n                    return Mono.error(new IllegalCallerException());\r\n                })\r\n                .retryWhen(Retry.max(3).filter(throwable -&gt; throwable instanceof IllegalStateException))\r\n                .onErrorReturn(IllegalStateException.class, &quot;TECHNICAL_ERROR&quot;)\r\n                .log();\r\n    }\r\n\r\nAs you see above, when Http status is 500, i wanted to retry only for IllegalStateException  for 3 times and return fallback value when exception type is IllegalStateException. I used onErrorReturn with fallback value and specific error to match. But above code doesn&#39;t work, it retries for 3 times but fallback value is not returned. \r\n\r\n","title":"Spring webclient onErrorReturn for specific type of exception","body":"<p>I wanted to return a fallback value from webclient after retries for only specific type of exception. I tried the below code but it doesnt return the fallback value.</p>\n<pre><code> public Mono&lt;String&gt; getEmployee(String request) {\n    return WebClient.create()\n            .get()\n            .uri(&quot;/accounts/&quot; + request)\n            .exchangeToMono(clientResponse -&gt; {\n                if (clientResponse.statusCode().value() == HttpStatus.INTERNAL_SERVER_ERROR.value()) {\n                    throw new IllegalStateException();\n                }\n                if (clientResponse.statusCode().value() == HttpStatus.OK.value()) {\n                    return clientResponse\n                            .bodyToMono(String.class);\n                }\n                return Mono.error(new IllegalCallerException());\n            })\n            .retryWhen(Retry.max(3).filter(throwable -&gt; throwable instanceof IllegalStateException))\n            .onErrorReturn(IllegalStateException.class, &quot;TECHNICAL_ERROR&quot;)\n            .log();\n}\n</code></pre>\n<p>As you see above, when Http status is 500, i wanted to retry only for IllegalStateException  for 3 times and return fallback value when exception type is IllegalStateException. I used onErrorReturn with fallback value and specific error to match. But above code doesn't work, it retries for 3 times but fallback value is not returned.</p>\n"},{"tags":["java","sql-server","r2dbc","r2dbc-mssql"],"comments":[{"owner":{"account_id":4571603,"reputation":44060,"user_id":3711162,"display_name":"Dan Guzman"},"score":0,"creation_date":1672835318,"post_id":75004563,"comment_id":132361393,"body_markdown":"I&#39;m not familiar with R2DBC but it looks to be using the TDS protocol MARS feature for the SQL Server implementation. MARS allows interleaving of execution, not parallel execution.","body":"I&#39;m not familiar with R2DBC but it looks to be using the TDS protocol MARS feature for the SQL Server implementation. MARS allows interleaving of execution, not parallel execution."},{"owner":{"account_id":23439446,"reputation":1,"user_id":17497123,"display_name":"glu"},"score":0,"creation_date":1672843824,"post_id":75004563,"comment_id":132364537,"body_markdown":"I tried doing the same thing against a postgres database and it worked exactly as I would like straight out of the box. So it would indeed seem like the problem is in either SQL Server or the client connector.","body":"I tried doing the same thing against a postgres database and it worked exactly as I would like straight out of the box. So it would indeed seem like the problem is in either SQL Server or the client connector."}],"owner":{"account_id":23439446,"reputation":1,"user_id":17497123,"display_name":"glu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672830877,"creation_date":1672830683,"question_id":75004563,"body_markdown":"I would like to execute several SQL statements in parallel and within the same transaction in order to get work around a high latency to the database server (SQL Server).\r\n\r\nFrom my research, it seems like R2DBC would be my best bet for accomplishing this. However, when I experiment it seems like:\r\n- All statements that are to execute within the same transaction must go via the same connection object.\r\n- All statements using the same connection object are serially executed.\r\n\r\nIs this true? It makes perfect sense that the database server would force statements within the same transaction to execute serially, but I would have imagined that this serialization would take place on the server side and that the driver would have allowed several in flights requests at the same time.\r\n\r\n\r\nIf this is not true I would like some help figuring out what I am doing wrong. This is how I have set up my connection pool:\r\n\r\n```\r\nreturn new MssqlConnectionFactory(MssqlConnectionConfiguration.builder()\r\n                .host(&quot;localhost&quot;)\r\n                .port(port)\r\n                .database(db)\r\n                .username(user)\r\n                .password(password)\r\n                .build());\r\n```\r\n\r\nAnd this is my test code:\r\n```\r\nvar connection = pool.create().block();\r\nMono.from(connection.setAutoCommit(false)).block();\r\nScheduler scheduler = Schedulers.newParallel(&quot;foo&quot;,  10);\r\nfor (int i = 0; i &lt; 10; i++) {\r\n    final int j = i;\r\n    Mono.just(connection)\r\n        .subscribeOn(scheduler)\r\n        .flatMap(conn -&gt; Mono.from(conn.createStatement(&quot;select &quot; + j).execute()))\r\n        .flatMap(result -&gt; Mono.from(result.map((row, meta) -&gt; row.get(0, Integer.class))))\r\n        .doOnNext(System.out::println)\r\n        .subscribe();\r\n}\r\n```\r\n\r\nDepending on the parallelism value of the scheduler I may get an error that the request queue is full. If I fetch a new connection object for every request instead of reusing the same one everything executes in parallel but as far as I can tell there&#39;s no way to get them to execute within the same transaction then.\r\n\r\nI am using toxiproxy to simulate extra latency to the sql server instance. ","title":"Parallel requests within the same transaction","body":"<p>I would like to execute several SQL statements in parallel and within the same transaction in order to get work around a high latency to the database server (SQL Server).</p>\n<p>From my research, it seems like R2DBC would be my best bet for accomplishing this. However, when I experiment it seems like:</p>\n<ul>\n<li>All statements that are to execute within the same transaction must go via the same connection object.</li>\n<li>All statements using the same connection object are serially executed.</li>\n</ul>\n<p>Is this true? It makes perfect sense that the database server would force statements within the same transaction to execute serially, but I would have imagined that this serialization would take place on the server side and that the driver would have allowed several in flights requests at the same time.</p>\n<p>If this is not true I would like some help figuring out what I am doing wrong. This is how I have set up my connection pool:</p>\n<pre><code>return new MssqlConnectionFactory(MssqlConnectionConfiguration.builder()\n                .host(&quot;localhost&quot;)\n                .port(port)\n                .database(db)\n                .username(user)\n                .password(password)\n                .build());\n</code></pre>\n<p>And this is my test code:</p>\n<pre><code>var connection = pool.create().block();\nMono.from(connection.setAutoCommit(false)).block();\nScheduler scheduler = Schedulers.newParallel(&quot;foo&quot;,  10);\nfor (int i = 0; i &lt; 10; i++) {\n    final int j = i;\n    Mono.just(connection)\n        .subscribeOn(scheduler)\n        .flatMap(conn -&gt; Mono.from(conn.createStatement(&quot;select &quot; + j).execute()))\n        .flatMap(result -&gt; Mono.from(result.map((row, meta) -&gt; row.get(0, Integer.class))))\n        .doOnNext(System.out::println)\n        .subscribe();\n}\n</code></pre>\n<p>Depending on the parallelism value of the scheduler I may get an error that the request queue is full. If I fetch a new connection object for every request instead of reusing the same one everything executes in parallel but as far as I can tell there's no way to get them to execute within the same transaction then.</p>\n<p>I am using toxiproxy to simulate extra latency to the sql server instance.</p>\n"},{"tags":["java","date","format"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1531752260,"post_id":33279917,"comment_id":89701204,"body_markdown":"@Ga&#235;lJ Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. Especially not when they are already using java.time, the modern Java date and time API, as in this question. It’s so much better.","body":"@Ga&#235;lJ Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. Especially not when they are already using java.time, the modern Java date and time API, as in this question. It’s so much better."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1445532377,"post_id":33280009,"comment_id":54372698,"body_markdown":"The old date-time classes bundled with Java such as SimpleTextFormat are notoriously troublesome, flawed in both design and implementation. Time to move on to the new java.time framework built into Java 8 and later. Sun, Oracle, and the author of this Question have.","body":"The old date-time classes bundled with Java such as SimpleTextFormat are notoriously troublesome, flawed in both design and implementation. Time to move on to the new java.time framework built into Java 8 and later. Sun, Oracle, and the author of this Question have."}],"tags":[],"owner":{"account_id":3675707,"reputation":5532,"user_id":3061857,"accept_rate":65,"display_name":"nbokmans"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445513576,"creation_date":1445513576,"answer_id":33280009,"question_id":33279917,"body_markdown":"You can use `SimpleDateFormat`&#39;s `parse` method for that\r\n    \r\n    private static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(&quot;MMMMM yyyy&quot;); //MMMM yyyy example: October 2015\r\n\r\n    public Date getDateFromString(String input) {\r\n        return DATE_FORMAT.parse(input);\r\n    }\r\n\r\n\r\nFor more information, see: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse(java.lang.String,%20java.text.ParsePosition)\r\n\r\nExplanation of format: \r\n`MMMM` indicates you are parsing full name months such as &quot;October&quot;\r\n`yyyy` indicates you have 4-digit length years. If you wanted to parse for example, October 15, your format would look like this: &quot;MMMM yy&quot;","title":"Parse a Date of MMMM YYYY format","body":"<p>You can use <code>SimpleDateFormat</code>'s <code>parse</code> method for that</p>\n\n<pre><code>private static final SimpleDateFormat DATE_FORMAT = new SimpleDateFormat(\"MMMMM yyyy\"); //MMMM yyyy example: October 2015\n\npublic Date getDateFromString(String input) {\n    return DATE_FORMAT.parse(input);\n}\n</code></pre>\n\n<p>For more information, see: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse(java.lang.String,%20java.text.ParsePosition)\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html#parse(java.lang.String,%20java.text.ParsePosition)</a></p>\n\n<p>Explanation of format: \n<code>MMMM</code> indicates you are parsing full name months such as \"October\"\n<code>yyyy</code> indicates you have 4-digit length years. If you wanted to parse for example, October 15, your format would look like this: \"MMMM yy\"</p>\n"},{"comments":[{"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"score":0,"creation_date":1446130170,"post_id":33280019,"comment_id":54624491,"body_markdown":"Note that this uses the System default time zone, which in this case happens to be &quot;BST&quot;.","body":"Note that this uses the System default time zone, which in this case happens to be &quot;BST&quot;."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1531752267,"post_id":33280019,"comment_id":89701208,"body_markdown":"Please don’t teach the young ones to use the long outdated and notoriously troublesome `SimpleDateFormat` class. Especially not when they are already using java.time, the modern Java date and time API, as in this question. It’s so much better.","body":"Please don’t teach the young ones to use the long outdated and notoriously troublesome <code>SimpleDateFormat</code> class. Especially not when they are already using java.time, the modern Java date and time API, as in this question. It’s so much better."}],"tags":[],"owner":{"account_id":4326511,"reputation":8441,"user_id":3533191,"accept_rate":62,"display_name":"Syam S"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1445513616,"creation_date":1445513616,"answer_id":33280019,"question_id":33279917,"body_markdown":"How about this\r\n\r\n\tDateFormat format = new SimpleDateFormat(&quot;MMMM yyyy&quot;, Locale.ENGLISH);\r\n\tDate date = format.parse(&quot;October 2015&quot;);\r\n\tSystem.out.println(date); // Prints Thu Oct 01 00:00:00 BST 2015","title":"Parse a Date of MMMM YYYY format","body":"<p>How about this</p>\n\n<pre><code>DateFormat format = new SimpleDateFormat(\"MMMM yyyy\", Locale.ENGLISH);\nDate date = format.parse(\"October 2015\");\nSystem.out.println(date); // Prints Thu Oct 01 00:00:00 BST 2015\n</code></pre>\n"},{"tags":[],"owner":{"account_id":83010,"reputation":27402,"user_id":233014,"display_name":"Christoffer Hammarstr&#246;m"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1672830869,"creation_date":1445513780,"answer_id":33280069,"question_id":33279917,"body_markdown":"What you have there is a [`YearMonth`][1], not a [`LocalDate`][2] since the day is missing.\r\n\r\nThe following works:\r\n\r\n    String string = &quot;October 2015&quot;;\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM yyyy&quot;, Locale.ENGLISH);\r\n\r\n    YearMonth yearMonth = YearMonth.parse(string, formatter);\r\n    // Alternatively: YearMonth yearMonth = formatter.parse(string, YearMonth::from);\r\n\r\n    LocalDate date = yearMonth.atDay(1);\r\n\r\n    System.out.println(yearMonth); // prints &quot;2015-10&quot;\r\n    System.out.println(date);      // prints &quot;2015-10-01&quot;\r\n\r\n\r\nIf you then want that as a `java.util.Date`, you need to specify which time zone you mean, maybe UTC or system default?\r\n\r\n    // ZoneId zone = ZoneOffset.UTC;\r\n    ZoneId zone = ZoneId.systemDefault();\r\n    Date javaUtilDate = Date.from(date.atStartOfDay(zone).toInstant());\r\n\r\n    System.out.println(javaUtilDate); // prints &quot;Thu Oct 01 00:00:00 CEST 2015&quot;\r\n                                      // because i&#39;m in Europe/Stockholm.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Parse a Date of MMMM YYYY format","body":"<p>What you have there is a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a>, not a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> since the day is missing.</p>\n<p>The following works:</p>\n<pre><code>String string = &quot;October 2015&quot;;\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;MMMM yyyy&quot;, Locale.ENGLISH);\n\nYearMonth yearMonth = YearMonth.parse(string, formatter);\n// Alternatively: YearMonth yearMonth = formatter.parse(string, YearMonth::from);\n\nLocalDate date = yearMonth.atDay(1);\n\nSystem.out.println(yearMonth); // prints &quot;2015-10&quot;\nSystem.out.println(date);      // prints &quot;2015-10-01&quot;\n</code></pre>\n<p>If you then want that as a <code>java.util.Date</code>, you need to specify which time zone you mean, maybe UTC or system default?</p>\n<pre><code>// ZoneId zone = ZoneOffset.UTC;\nZoneId zone = ZoneId.systemDefault();\nDate javaUtilDate = Date.from(date.atStartOfDay(zone).toInstant());\n\nSystem.out.println(javaUtilDate); // prints &quot;Thu Oct 01 00:00:00 CEST 2015&quot;\n                                  // because i'm in Europe/Stockholm.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7032278,"reputation":688,"user_id":5387533,"display_name":"F. Lumnitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445513934,"creation_date":1445513934,"answer_id":33280127,"question_id":33279917,"body_markdown":"Why not use a SimpleDateFormatter?\r\nThis works fine for me:\r\n\r\n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;MMMM yyyy&quot;);\r\n    Date d = formatter.parse(&quot;Oktober 2015&quot;);","title":"Parse a Date of MMMM YYYY format","body":"<p>Why not use a SimpleDateFormatter?\nThis works fine for me:</p>\n\n<pre><code>SimpleDateFormat formatter = new SimpleDateFormat(\"MMMM yyyy\");\nDate d = formatter.parse(\"Oktober 2015\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445517417,"creation_date":1445517417,"answer_id":33281226,"question_id":33279917,"body_markdown":"For java 8\r\n\r\n        DateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n            .appendPattern(&quot;MMMM yyyy&quot;)\r\n            .toFormatter(Locale.US);\r\n        TemporalAccessor ta = formatter.parse(&quot;October 2015&quot;);\r\n        YearMonth ym = YearMonth.from(ta);\r\n        LocalDateTime dt = LocalDateTime.of(ym.getYear(), ym.getMonthValue(),\r\n            1, 0, 0, 0);\r\n        Instant instant = Instant.from(dt.atZone(ZoneId.systemDefault()));\r\n\r\n        Date d = Date.from(instant);\r\n","title":"Parse a Date of MMMM YYYY format","body":"<p>For java 8</p>\n\n<pre><code>    DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .appendPattern(\"MMMM yyyy\")\n        .toFormatter(Locale.US);\n    TemporalAccessor ta = formatter.parse(\"October 2015\");\n    YearMonth ym = YearMonth.from(ta);\n    LocalDateTime dt = LocalDateTime.of(ym.getYear(), ym.getMonthValue(),\n        1, 0, 0, 0);\n    Instant instant = Instant.from(dt.atZone(ZoneId.systemDefault()));\n\n    Date d = Date.from(instant);\n</code></pre>\n"}],"owner":{"account_id":425754,"reputation":7053,"user_id":806550,"accept_rate":84,"display_name":"glarkou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4004,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":33280019,"answer_count":5,"score":1,"last_activity_date":1672830869,"creation_date":1445513240,"question_id":33279917,"body_markdown":"I have to parse a date string (e.g. &quot;October 2015&quot;) to a Date.\r\nSo the question is: how can I parse a date of `MMMM yyyy` format? Its ok if the new Date object is the first month of the given month.  \r\n\r\nI tried:\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder().appendPattern(&quot;MMMM yyyy&quot;).toFormatter();\r\n    TemporalAccessor ta = formatter.parse(node.textValue());\r\n    Instant instant = LocalDate.from(ta).atStartOfDay().atZone(ZoneId.systemDefault()).toInstant();\r\n    Date d = Date.from(instant);\r\n\r\nBut it does not work since the day is missing.","title":"Parse a Date of MMMM YYYY format","body":"<p>I have to parse a date string (e.g. \"October 2015\") to a Date.\nSo the question is: how can I parse a date of <code>MMMM yyyy</code> format? Its ok if the new Date object is the first month of the given month.  </p>\n\n<p>I tried:</p>\n\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder().appendPattern(\"MMMM yyyy\").toFormatter();\nTemporalAccessor ta = formatter.parse(node.textValue());\nInstant instant = LocalDate.from(ta).atStartOfDay().atZone(ZoneId.systemDefault()).toInstant();\nDate d = Date.from(instant);\n</code></pre>\n\n<p>But it does not work since the day is missing.</p>\n"},{"tags":["java","algorithm","math"],"comments":[{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1445755115,"post_id":33326917,"comment_id":54451187,"body_markdown":"You are speaking about &quot;magic number&quot;. You should include a definition because not everyone knows what a magic number is. Additionally, your examples calculate the sum of digits, but your code simply does a modulo operation. They have nothing in common. So ... What exactly is your problem?","body":"You are speaking about &quot;magic number&quot;. You should include a definition because not everyone knows what a magic number is. Additionally, your examples calculate the sum of digits, but your code simply does a modulo operation. They have nothing in common. So ... What exactly is your problem?"},{"owner":{"account_id":7181445,"reputation":27,"user_id":5485215,"display_name":"Godfather"},"score":0,"creation_date":1445755545,"post_id":33326917,"comment_id":54451280,"body_markdown":"@Seelenvirtuose I have already put a definition before the code so that everyone can understand the code, and and using the modulo operation breaks the code in just few lines and Is working with most of the examples. The actual code can be written by any kid, So I decided to do this. If there is any mistake is getting any Magic Number please let me know.","body":"@Seelenvirtuose I have already put a definition before the code so that everyone can understand the code, and and using the modulo operation breaks the code in just few lines and Is working with most of the examples. The actual code can be written by any kid, So I decided to do this. If there is any mistake is getting any Magic Number please let me know."},{"owner":{"account_id":3023214,"reputation":20361,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1445755649,"post_id":33326917,"comment_id":54451296,"body_markdown":"Argh. You are right. The definition is there. I only read the examples. Sorry. But still, your code has nothing to do with it.","body":"Argh. You are right. The definition is there. I only read the examples. Sorry. But still, your code has nothing to do with it."},{"owner":{"account_id":7181445,"reputation":27,"user_id":5485215,"display_name":"Godfather"},"score":0,"creation_date":1445755853,"post_id":33326917,"comment_id":54451338,"body_markdown":"@Seelenvirtuose Can you just help me improve the code? This is the simplest code for magic number which I have found to be working with almost all examples. And the point is -\n it works beyond the logic of the definition given.","body":"@Seelenvirtuose Can you just help me improve the code? This is the simplest code for magic number which I have found to be working with almost all examples. And the point is -  it works beyond the logic of the definition given."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1445759019,"post_id":33326917,"comment_id":54451880,"body_markdown":"@Godfather : this is more of an mathamatical algorithm problem than code. Have you proved that &quot; `n` is a magic number if and only if `n%9 = 1` &quot; ?","body":"@Godfather : this is more of an mathamatical algorithm problem than code. Have you proved that &quot; <code>n</code> is a magic number if and only if <code>n%9 = 1</code> &quot; ?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1445760383,"post_id":33326917,"comment_id":54452163,"body_markdown":"You do know that you could just write those three lines inside the method as `return n % 9 == 1;` right?","body":"You do know that you could just write those three lines inside the method as <code>return n % 9 == 1;</code> right?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1445760580,"post_id":33326917,"comment_id":54452200,"body_markdown":"And the mathematics is fine, but your teacher may be expecting you to prove that this is correct.  The proof is extremely easy, but that doesn&#39;t mean you can omit it.","body":"And the mathematics is fine, but your teacher may be expecting you to prove that this is correct.  The proof is extremely easy, but that doesn&#39;t mean you can omit it."}],"answers":[{"comments":[{"owner":{"account_id":7181445,"reputation":27,"user_id":5485215,"display_name":"Godfather"},"score":0,"creation_date":1445756183,"post_id":33327020,"comment_id":54451402,"body_markdown":"Thanx for the Code but its too lengthy it can be chopped down to more precise and small code.","body":"Thanx for the Code but its too lengthy it can be chopped down to more precise and small code."}],"tags":[],"owner":{"account_id":6607019,"reputation":36,"user_id":5103546,"display_name":"Levant Alejandro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672830829,"creation_date":1445755743,"answer_id":33327020,"question_id":33326917,"body_markdown":"Well, I&#39;m not 100% that the code you placed would work to get a &quot;magic number&quot;, but my approach to the problem would be different.\r\nFirst, I&#39;d receive a String, so that I can get the different digits of the number with a `String.charat`. \r\nThen I&#39;d use a while cycle to sum the numbers until it gets a single digit number, then check if it&#39;s 1.\r\n\r\nThe code would be \r\n\r\n    boolean isMagicNumber(String number) {\r\n        \r\n        int[] digits = new int[number.length()];\r\n        int sum = 99;\r\n    \r\n        while(sum/10 &gt;= 1) {\r\n              sum = 0;\r\n              for(int i = 0; i &lt; number.length(); i++) {\r\n                  sum += Integer.parseInt(&quot;&quot;+number.charAt(i));\r\n              }\r\n              if(sum == 1) {\r\n                   return true;\r\n              }\r\n        }\r\n        return false;\r\n    }\r\n\r\nThere might be a better solution, but this is what I&#39;d do to solve the problem.\r\n","title":"Magic Number - The Quest for the Simplest","body":"<p>Well, I'm not 100% that the code you placed would work to get a &quot;magic number&quot;, but my approach to the problem would be different.\nFirst, I'd receive a String, so that I can get the different digits of the number with a <code>String.charat</code>.\nThen I'd use a while cycle to sum the numbers until it gets a single digit number, then check if it's 1.</p>\n<p>The code would be</p>\n<pre><code>boolean isMagicNumber(String number) {\n    \n    int[] digits = new int[number.length()];\n    int sum = 99;\n\n    while(sum/10 &gt;= 1) {\n          sum = 0;\n          for(int i = 0; i &lt; number.length(); i++) {\n              sum += Integer.parseInt(&quot;&quot;+number.charAt(i));\n          }\n          if(sum == 1) {\n               return true;\n          }\n    }\n    return false;\n}\n</code></pre>\n<p>There might be a better solution, but this is what I'd do to solve the problem.</p>\n"}],"owner":{"account_id":7181445,"reputation":27,"user_id":5485215,"display_name":"Godfather"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33327020,"answer_count":1,"score":0,"last_activity_date":1672830829,"creation_date":1445754779,"question_id":33326917,"body_markdown":"Is there any better logic that can be applied to magic numbers?\r\nOr is there a magic number that I am missing out on?\r\nPlease help me out with this simplest working code!\r\n\r\n&gt; A Magic number is a number whose sum of digits eventually leads to 1.\r\n&gt; \r\n&gt; Example#1:  19 ;  1+9 =10 ; 1+0 = 1.  Hence a magic number.\r\n&gt; \r\n&gt; Example#2:  226; 2+2+6=10; 1+0 =1.  Hence a magic number.\r\n&gt; \r\n&gt; Example#3:  874; 8+7+4=19; 1+9=10; 1+0=1.  Hence a magic number.\r\n\r\n```java\r\nboolean isMagic ( int n ) {\r\n  return n % 9 == 1;\r\n}\r\n```","title":"Magic Number - The Quest for the Simplest","body":"<p>Is there any better logic that can be applied to magic numbers?\nOr is there a magic number that I am missing out on?\nPlease help me out with this simplest working code!</p>\n<blockquote>\n<p>A Magic number is a number whose sum of digits eventually leads to 1.</p>\n<p>Example#1:  19 ;  1+9 =10 ; 1+0 = 1.  Hence a magic number.</p>\n<p>Example#2:  226; 2+2+6=10; 1+0 =1.  Hence a magic number.</p>\n<p>Example#3:  874; 8+7+4=19; 1+9=10; 1+0=1.  Hence a magic number.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>boolean isMagic ( int n ) {\n  return n % 9 == 1;\n}\n</code></pre>\n"},{"tags":["java","xml","xml-parsing","factory"],"owner":{"account_id":27429878,"reputation":1,"user_id":20926754,"display_name":"Alex Pers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672830648,"creation_date":1672830648,"question_id":75004555,"body_markdown":"I received a sonar error stating that &quot;Disable access to external entities in XML parsing&quot; so I used the code below.\r\n\r\n```\r\nSchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\r\n      factory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n      factory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n```\r\n\r\nThe sonar problem is then resolved, but I need to access a specific external file afterwards. Is there a correct way to access that specific file?\r\n\r\nI looked to see if there were any parameters for setProperty() that could achieve this, but I couldn&#39;t find one..","title":"Is there is a proper way to access specific external entities after restrict by accessExternalSchema?","body":"<p>I received a sonar error stating that &quot;Disable access to external entities in XML parsing&quot; so I used the code below.</p>\n<pre><code>SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI);\n      factory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\n      factory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n</code></pre>\n<p>The sonar problem is then resolved, but I need to access a specific external file afterwards. Is there a correct way to access that specific file?</p>\n<p>I looked to see if there were any parameters for setProperty() that could achieve this, but I couldn't find one..</p>\n"},{"tags":["java","amazon-s3","amazon-web-services"],"comments":[{"owner":{"account_id":1605800,"reputation":11870,"user_id":1485926,"accept_rate":65,"display_name":"fgalan"},"score":0,"creation_date":1341404118,"post_id":11228792,"comment_id":14914035,"body_markdown":"Also publised in AWS developers forum: https://forums.aws.amazon.com/thread.jspa?threadID=98203","body":"Also publised in AWS developers forum: <a href=\"https://forums.aws.amazon.com/thread.jspa?threadID=98203\" rel=\"nofollow noreferrer\">forums.aws.amazon.com/thread.jspa?threadID=98203</a>"}],"answers":[{"comments":[{"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"score":1,"creation_date":1528450392,"post_id":12887557,"comment_id":88522740,"body_markdown":"Dear @Zach you will probably reject it but people often implement software that needs to be able to use AWS S3 as long as other compatible solutions and AWS SDK could be really good integration point. For example IBM SpectrumScale has S3 emulation support. You can say &#39;why do we need to support third-party solutions&#39;. Think differently: why people should move to AWS S3? Only if they can put SDK that allows transition they can do it. And this requires full support of existing storage which works in emulation mode with some compatibility issues.","body":"Dear @Zach you will probably reject it but people often implement software that needs to be able to use AWS S3 as long as other compatible solutions and AWS SDK could be really good integration point. For example IBM SpectrumScale has S3 emulation support. You can say &#39;why do we need to support third-party solutions&#39;. Think differently: why people should move to AWS S3? Only if they can put SDK that allows transition they can do it. And this requires full support of existing storage which works in emulation mode with some compatibility issues."},{"owner":{"account_id":238967,"reputation":7594,"user_id":1714762,"display_name":"Jean-Bernard Jansen"},"score":0,"creation_date":1571908833,"post_id":12887557,"comment_id":103398476,"body_markdown":"It is also not true, path-style access can be enforced as per @oggmonster answer","body":"It is also not true, path-style access can be enforced as per @oggmonster answer"}],"tags":[],"owner":{"account_id":1921863,"reputation":1012,"user_id":1733179,"display_name":"Zach Musgrave"},"comment_count":2,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1666728561,"creation_date":1350257539,"answer_id":12887557,"question_id":11228792,"body_markdown":"*This answer is out of date, left here for posterity. See the answer above.*\r\n\r\nThere&#39;s no way to force V1 (path-style) bucket addressing using the Java SDK.  The only exception is when your bucket name isn&#39;t DNS addressable, in which case the SDK will automatically use V1 addressing.  This happens, e.g., when your bucket name contains a period  (which is discouraged for this reason).\r\n\r\nIf you want this functionality, you&#39;ll have to modify the `AmazonS3Client` class to allow it.\r\n\r\nhttps://github.com/amazonwebservices/aws-sdk-for-java/\r\n\r\nHowever, I&#39;m not sure I believe your claim that you &quot;need&quot; to use V1 bucket addressing.  The SDK already handles all cases where V1 addressing is necessary -- or if you have found a case where it doesn&#39;t, please let us know in the forums.\r\n\r\nhttps://forums.aws.amazon.com/forum.jspa?forumID=70","title":"Configure path-style in Java SDK Amazon S3","body":"<p><em>This answer is out of date, left here for posterity. See the answer above.</em></p>\n<p>There's no way to force V1 (path-style) bucket addressing using the Java SDK.  The only exception is when your bucket name isn't DNS addressable, in which case the SDK will automatically use V1 addressing.  This happens, e.g., when your bucket name contains a period  (which is discouraged for this reason).</p>\n<p>If you want this functionality, you'll have to modify the <code>AmazonS3Client</code> class to allow it.</p>\n<p><a href=\"https://github.com/amazonwebservices/aws-sdk-for-java/\" rel=\"nofollow noreferrer\">https://github.com/amazonwebservices/aws-sdk-for-java/</a></p>\n<p>However, I'm not sure I believe your claim that you &quot;need&quot; to use V1 bucket addressing.  The SDK already handles all cases where V1 addressing is necessary -- or if you have found a case where it doesn't, please let us know in the forums.</p>\n<p><a href=\"https://forums.aws.amazon.com/forum.jspa?forumID=70\" rel=\"nofollow noreferrer\">https://forums.aws.amazon.com/forum.jspa?forumID=70</a></p>\n"},{"tags":[],"owner":{"account_id":289198,"reputation":4732,"user_id":590032,"accept_rate":89,"display_name":"oggmonster"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1495055776,"creation_date":1401791852,"answer_id":24012996,"question_id":11228792,"body_markdown":"The method *withPathStyleAccess* has been deprecated. Please use the following instead:\r\n   \r\n    AmazonS3 s3client = AmazonS3Client.builder()\r\n                .withCredentials((new AWSStaticCredentialsProvider(credentials)))\r\n                .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;host&quot;, &quot;region&quot;))\r\n                .withPathStyleAccessEnabled(true)\r\n                .build();\r\n\r\n----------\r\nDeprecated method:\r\n\r\nThis is now possible, I&#39;m not sure when it was introduced, but it&#39;s available in at least the 1.7.8 version of the Java AWS SDK.\r\n\r\nJust call [setClientOptions][1] on your AmazonS3 instance:\r\n\r\n    AmazonS3 client = new AmazonS3Client(credentials);\r\n    client.setS3ClientOptions(new S3ClientOptions().withPathStyleAccess(true));\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#setS3ClientOptions%28com.amazonaws.services.s3.S3ClientOptions%29\r\n","title":"Configure path-style in Java SDK Amazon S3","body":"<p>The method <em>withPathStyleAccess</em> has been deprecated. Please use the following instead:</p>\n\n<pre><code>AmazonS3 s3client = AmazonS3Client.builder()\n            .withCredentials((new AWSStaticCredentialsProvider(credentials)))\n            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(\"host\", \"region\"))\n            .withPathStyleAccessEnabled(true)\n            .build();\n</code></pre>\n\n<hr>\n\n<p>Deprecated method:</p>\n\n<p>This is now possible, I'm not sure when it was introduced, but it's available in at least the 1.7.8 version of the Java AWS SDK.</p>\n\n<p>Just call <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#setS3ClientOptions%28com.amazonaws.services.s3.S3ClientOptions%29\" rel=\"noreferrer\">setClientOptions</a> on your AmazonS3 instance:</p>\n\n<pre><code>AmazonS3 client = new AmazonS3Client(credentials);\nclient.setS3ClientOptions(new S3ClientOptions().withPathStyleAccess(true));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6288965,"reputation":622,"user_id":5844870,"accept_rate":0,"display_name":"NKM"},"score":2,"creation_date":1635335127,"post_id":61602647,"comment_id":123268708,"body_markdown":"This is good. Worked for SDK v2. For SDK v1 refer next answer.","body":"This is good. Worked for SDK v2. For SDK v1 refer next answer."}],"tags":[],"owner":{"account_id":465553,"reputation":4572,"user_id":869702,"accept_rate":40,"display_name":"Jason White"},"comment_count":1,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1672830594,"creation_date":1588631121,"answer_id":61602647,"question_id":11228792,"body_markdown":"For SDK v2 you can you enable path style by doing this: \r\n\r\n    public S3Client build() {\r\n        S3Configuration config = S3Configuration.builder()\r\n            .pathStyleAccessEnabled(true)\r\n            .build();\r\n\r\n        return S3Client.builder()\r\n            .serviceConfiguration(config)\r\n            // other set up\r\n            .build();\r\n    }\r\n[Amazon was planning to deprecate path style access from Sept 2020](https://aws.amazon.com/blogs/aws/amazon-s3-path-deprecation-plan-the-rest-of-the-story). But [this deprecation has been postponed](https://aws.amazon.com/blogs/storage/update-to-amazon-s3-path-deprecation-plan/).","title":"Configure path-style in Java SDK Amazon S3","body":"<p>For SDK v2 you can you enable path style by doing this:</p>\n<pre><code>public S3Client build() {\n    S3Configuration config = S3Configuration.builder()\n        .pathStyleAccessEnabled(true)\n        .build();\n\n    return S3Client.builder()\n        .serviceConfiguration(config)\n        // other set up\n        .build();\n}\n</code></pre>\n<p><a href=\"https://aws.amazon.com/blogs/aws/amazon-s3-path-deprecation-plan-the-rest-of-the-story\" rel=\"nofollow noreferrer\">Amazon was planning to deprecate path style access from Sept 2020</a>. But <a href=\"https://aws.amazon.com/blogs/storage/update-to-amazon-s3-path-deprecation-plan/\" rel=\"nofollow noreferrer\">this deprecation has been postponed</a>.</p>\n"}],"owner":{"account_id":1605800,"reputation":11870,"user_id":1485926,"accept_rate":65,"display_name":"fgalan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17773,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":3,"score":19,"last_activity_date":1672830594,"creation_date":1340808125,"question_id":11228792,"body_markdown":"I&#39;m using [AWS Java SDK][1] provided by Amazon to interact with the S3 service.\r\n\r\nIt seems that by default, the SDK uses virtual-host-style for buckets (i.e. buckets are reffered by *bucket-name*.s3.amazonaws.com. Example:\r\n\r\n    PUT / HTTP/1.1\r\n    Host: a-given-bucket.s3.amazonaws.com\r\n    Date: Tue, 26 Jun 2012 10:39:40 GMT\r\n    Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\n    Content-Length: 0\r\n\r\nHowever, I need to use path-style in my application, as follows:\r\n\r\n    PUT /a-given-bucket/ HTTP/1.1\r\n    Host: s3.amazonaws.com\r\n    Date: Thu, 21 Jun 2012 16:27:32 GMT\r\n    Content-Type: application/x-www-form-urlencoded; charset=utf-8\r\n    Content-Length: 0\r\n\r\nIs it possible to use path-style with the Java SDK, please? In positive case, how can I do it? I have look at ClientConfiguration and AmazonS3Client classes but I don&#39;t see any method to do it...\r\n\r\nMy SDK version, in the case it matters, is: 2.0.0v201206151133.\r\n\r\nThanks!\r\n\r\n------\r\nFerm&#237;n\r\n\r\nPD. Some headers have been omitted in the samples for the sake of simplicity.\r\n\r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/index.html\r\n\r\n\r\n**EDIT:**\r\nSuch a feature (to configure the URL path style used by the AmazonS3Client) is quite useful in case you have buckets with a dot (&quot;.&quot;) in them. HTTPS requests with Virtual-host-style do not work, see [this][2] and [this][3].\r\n\r\n  [2]: http://shlomoswidler.com/2009/08/amazon-s3-gotcha-using-virtual-host.html\r\n  [3]: http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html","title":"Configure path-style in Java SDK Amazon S3","body":"<p>I'm using <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/index.html\" rel=\"noreferrer\">AWS Java SDK</a> provided by Amazon to interact with the S3 service.</p>\n\n<p>It seems that by default, the SDK uses virtual-host-style for buckets (i.e. buckets are reffered by <em>bucket-name</em>.s3.amazonaws.com. Example:</p>\n\n<pre><code>PUT / HTTP/1.1\nHost: a-given-bucket.s3.amazonaws.com\nDate: Tue, 26 Jun 2012 10:39:40 GMT\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\nContent-Length: 0\n</code></pre>\n\n<p>However, I need to use path-style in my application, as follows:</p>\n\n<pre><code>PUT /a-given-bucket/ HTTP/1.1\nHost: s3.amazonaws.com\nDate: Thu, 21 Jun 2012 16:27:32 GMT\nContent-Type: application/x-www-form-urlencoded; charset=utf-8\nContent-Length: 0\n</code></pre>\n\n<p>Is it possible to use path-style with the Java SDK, please? In positive case, how can I do it? I have look at ClientConfiguration and AmazonS3Client classes but I don't see any method to do it...</p>\n\n<p>My SDK version, in the case it matters, is: 2.0.0v201206151133.</p>\n\n<p>Thanks!</p>\n\n<hr>\n\n<p>Fermín</p>\n\n<p>PD. Some headers have been omitted in the samples for the sake of simplicity.</p>\n\n<p><strong>EDIT:</strong>\nSuch a feature (to configure the URL path style used by the AmazonS3Client) is quite useful in case you have buckets with a dot (\".\") in them. HTTPS requests with Virtual-host-style do not work, see <a href=\"http://shlomoswidler.com/2009/08/amazon-s3-gotcha-using-virtual-host.html\" rel=\"noreferrer\">this</a> and <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/BucketRestrictions.html\" rel=\"noreferrer\">this</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":2,"creation_date":1631680400,"post_id":69186873,"comment_id":122284390,"body_markdown":"In my opinion it&#39;s not good practice to have an unused parameter.","body":"In my opinion it&#39;s not good practice to have an unused parameter."},{"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"score":0,"creation_date":1631681401,"post_id":69186873,"comment_id":122284583,"body_markdown":"Instead of passing Bar as a parameter, consider having it as &quot;a state&quot; of the class (like a member variable). These kinds of questions can be better answered if you can provide the actual, concrete scenario and code.","body":"Instead of passing Bar as a parameter, consider having it as &quot;a state&quot; of the class (like a member variable). These kinds of questions can be better answered if you can provide the actual, concrete scenario and code."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1631682330,"post_id":69186873,"comment_id":122284758,"body_markdown":"In such case, those two should be different methods.","body":"In such case, those two should be different methods."}],"answers":[{"tags":[],"owner":{"account_id":12322042,"reputation":139,"user_id":8991081,"display_name":"Akshay Sardhara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672830007,"creation_date":1631681845,"answer_id":69187298,"question_id":69186873,"body_markdown":"As both classes have separate things to do with logic, but both classes are in Inheritance relation\r\nNote: Make sure do you really need Inheritance relation between `A` and `B`\r\n\r\n    public class A{\r\n    //...\r\n    protected String doSomething(Foo foo)\r\n    {\r\n      foo.getString();\r\n    }\r\n    //...\r\n    }\r\n    \r\n    public class B extends A{\r\n    //...\r\n    //@Override // no need of overriding\r\n    protected String doSomething(Foo foo, Bar bar)\r\n    {\r\n      if (bar.type == `something`)\r\n      {\r\n         return bar.getString();\r\n      }\r\n      return super.doSomething(foo, bar);\r\n    }\r\n    //...\r\n    }\r\n\r\nNow time to call the methods...\r\n\r\n    public static void main(String args[]){\r\n      A a1 = new A();//option1\r\n      a.doSomething(new Foo());\r\n    \r\n      A a2 = new B();//option2, most suitable for you\r\n      a2.doSomething(new Foo());\r\n      a2.doSomething(new Foo(),new Bar());\r\n    \r\n      B b1 = new B();//option3\r\n      b1.doSomething(new Foo(),new Bar());\r\n    }","title":"Can I provide a parameter in my method only used by subclass?","body":"<p>As both classes have separate things to do with logic, but both classes are in Inheritance relation\nNote: Make sure do you really need Inheritance relation between <code>A</code> and <code>B</code></p>\n<pre><code>public class A{\n//...\nprotected String doSomething(Foo foo)\n{\n  foo.getString();\n}\n//...\n}\n\npublic class B extends A{\n//...\n//@Override // no need of overriding\nprotected String doSomething(Foo foo, Bar bar)\n{\n  if (bar.type == `something`)\n  {\n     return bar.getString();\n  }\n  return super.doSomething(foo, bar);\n}\n//...\n}\n</code></pre>\n<p>Now time to call the methods...</p>\n<pre><code>public static void main(String args[]){\n  A a1 = new A();//option1\n  a.doSomething(new Foo());\n\n  A a2 = new B();//option2, most suitable for you\n  a2.doSomething(new Foo());\n  a2.doSomething(new Foo(),new Bar());\n\n  B b1 = new B();//option3\n  b1.doSomething(new Foo(),new Bar());\n}\n</code></pre>\n"}],"owner":{"account_id":22103205,"reputation":39,"user_id":16359338,"display_name":"Johnny Manzel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1672830007,"creation_date":1631677538,"question_id":69186873,"body_markdown":"If I have a method in class `A`:\r\n\r\n```\r\nprotected String doSomething(Foo foo, Bar bar)\r\n{\r\n  foo.getString();\r\n}\r\n```\r\n\r\nAnd I have another method in a subclass `B`:\r\n\r\n```\r\n@Override\r\nprotected String doSomething(Foo foo, Bar bar)\r\n{\r\n  if (bar.type == `something`)\r\n  {\r\n     return bar.getString();\r\n  }\r\n  return super.doSomething(foo, bar);\r\n}\r\n```\r\n\r\nBasically class `A` shouldn&#39;t care about `Bar`, and it&#39;s only needed for class `B`.. is this a code smell? I wanted to override a particular method where a parameter is only used by the child class but it doesn&#39;t seem like the right approach.","title":"Can I provide a parameter in my method only used by subclass?","body":"<p>If I have a method in class <code>A</code>:</p>\n<pre><code>protected String doSomething(Foo foo, Bar bar)\n{\n  foo.getString();\n}\n</code></pre>\n<p>And I have another method in a subclass <code>B</code>:</p>\n<pre><code>@Override\nprotected String doSomething(Foo foo, Bar bar)\n{\n  if (bar.type == `something`)\n  {\n     return bar.getString();\n  }\n  return super.doSomething(foo, bar);\n}\n</code></pre>\n<p>Basically class <code>A</code> shouldn't care about <code>Bar</code>, and it's only needed for class <code>B</code>.. is this a code smell? I wanted to override a particular method where a parameter is only used by the child class but it doesn't seem like the right approach.</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":1,"creation_date":1672737539,"post_id":74991242,"comment_id":132337009,"body_markdown":"What do you mean by *move row*?","body":"What do you mean by <i>move row</i>?"},{"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"score":0,"creation_date":1672738717,"post_id":74991242,"comment_id":132337374,"body_markdown":"For example: Transfer a row from posistion 1 to posistion 3 in sqlite","body":"For example: Transfer a row from posistion 1 to posistion 3 in sqlite"},{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":3,"creation_date":1672738885,"post_id":74991242,"comment_id":132337437,"body_markdown":"There is no such thing as position of a row in a table. Tables are unordered datasets.","body":"There is no such thing as position of a row in a table. Tables are unordered datasets."},{"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"score":0,"creation_date":1672739759,"post_id":74991242,"comment_id":132337757,"body_markdown":"@forpas Yes, but the order is by id. What I mean is how can this be done in an easier way: for example in table (id,name): **1 john , 2 mark , 3 smith , 4 tom **  &gt;&gt;&gt; **2mark , 3 smith , 4 john , 5 tom**","body":"@forpas Yes, but the order is by id. What I mean is how can this be done in an easier way: for example in table (id,name): <b>1 john , 2 mark , 3 smith , 4 tom **  &gt;&gt;&gt; **2mark , 3 smith , 4 john , 5 tom</b>"},{"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"score":0,"creation_date":1672739980,"post_id":74991242,"comment_id":132337819,"body_markdown":"there is no point in doing that","body":"there is no point in doing that"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1672740126,"post_id":74991242,"comment_id":132337851,"body_markdown":"[A] remove the constraint. Or, [B] disable constraint checking, update the IDs, re-enable constraint checking. Or, [C] bounce through unused IDs, e.g. first set them all to `SET id = -id`, and _then_ to the desired value, `SET Id = -id+1`. Or [D] set up the constraint to check only at commit.","body":"[A] remove the constraint. Or, [B] disable constraint checking, update the IDs, re-enable constraint checking. Or, [C] bounce through unused IDs, e.g. first set them all to <code>SET id = -id</code>, and <i>then</i> to the desired value, <code>SET Id = -id+1</code>. Or [D] set up the constraint to check only at commit."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672846241,"post_id":75004323,"comment_id":132365529,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75004323/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672829426,"creation_date":1672829426,"answer_id":75004323,"question_id":74991242,"body_markdown":"A-(id1=fromid;id2=toid) //add+1 (id2)   \r\n\r\n    Update table set id=-id where id&gt;id2\r\n    Update table set id=-id+1 where id&lt;id2\r\n\r\n\r\nB detNAME(id1) and delete(id1)\r\n\r\nC insertRowId(id2+1,name)","title":"How to move or Transfer row in database java","body":"<p>A-(id1=fromid;id2=toid) //add+1 (id2)</p>\n<pre><code>Update table set id=-id where id&gt;id2\nUpdate table set id=-id+1 where id&lt;id2\n</code></pre>\n<p>B detNAME(id1) and delete(id1)</p>\n<p>C insertRowId(id2+1,name)</p>\n"}],"owner":{"account_id":23305266,"reputation":11,"user_id":17385314,"display_name":"عزيز لبيض"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672829919,"creation_date":1672737423,"question_id":74991242,"body_markdown":"I want to move row in sqlite java.  I thought about taking the values ​​of the row, then deleting it, then adding id + 1, then adding the row, but this does not work, id unique. Is there an easier way?\r\n&gt; ex:\r\nTransfer id to id2\r\n\r\n\r\n| id | name |\r\n| -------- | -------------- |\r\n| 1    | mark            |\r\n| 2   | john            |\r\n| 3    | smith            |\r\n| 4   | tom            |\r\n\r\nChange to:\r\n\r\n| id | name |\r\n| -------- | -------------- |\r\n| 2    | john            |\r\n| 3   | smith            |\r\n| 4    | mark            |\r\n| 5   | tom            |\r\n\r\n\r\n```\r\nString n=Db.getName(id);\r\nDb.delete(id);\r\nDb.transId(id2);\r\nDb.insert(id2,n);\r\n\r\nvoid transId(int id){\r\nsq.execSQL(&quot;update table set id=id+1 where id&gt;=&quot;+id);\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n&gt; error:\r\n\r\n```\r\nException: dispatching input event\r\nUNIQE constraint failed: table.id (code 1555 SQLITE_CONSTRAINT_PRIMARYKEY[1555]) \r\n```","title":"How to move or Transfer row in database java","body":"<p>I want to move row in sqlite java.  I thought about taking the values ​​of the row, then deleting it, then adding id + 1, then adding the row, but this does not work, id unique. Is there an easier way?</p>\n<blockquote>\n<p>ex:\nTransfer id to id2</p>\n</blockquote>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>mark</td>\n</tr>\n<tr>\n<td>2</td>\n<td>john</td>\n</tr>\n<tr>\n<td>3</td>\n<td>smith</td>\n</tr>\n<tr>\n<td>4</td>\n<td>tom</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Change to:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>name</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2</td>\n<td>john</td>\n</tr>\n<tr>\n<td>3</td>\n<td>smith</td>\n</tr>\n<tr>\n<td>4</td>\n<td>mark</td>\n</tr>\n<tr>\n<td>5</td>\n<td>tom</td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre><code>String n=Db.getName(id);\nDb.delete(id);\nDb.transId(id2);\nDb.insert(id2,n);\n\nvoid transId(int id){\nsq.execSQL(&quot;update table set id=id+1 where id&gt;=&quot;+id);\n}\n</code></pre>\n<blockquote>\n<p>error:</p>\n</blockquote>\n<pre><code>Exception: dispatching input event\nUNIQE constraint failed: table.id (code 1555 SQLITE_CONSTRAINT_PRIMARYKEY[1555]) \n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1672828876,"post_id":75004144,"comment_id":132359474,"body_markdown":"Does this answer your question? [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26879814,"reputation":195,"user_id":20460458,"display_name":"Marja van der Wind"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1672829120,"creation_date":1672829120,"answer_id":75004273,"question_id":75004144,"body_markdown":"The first (V) is called a generic. This means that you define a method for a certain type. You can reuse this type in several lines of code. The type stays the same.\r\nThen the second (?) is called a wildcard. This means that you define a method for an object of which you do not know the type. In further lines of code, you probably will not call specific methods on the object.\r\n\r\nPlease also read [this question][1].\r\n\r\nKind regards,\r\nMarja\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10943137/difference-between-generic-type-and-wildcard-type","title":"Difference between &lt;V extends SomeInterface&gt; and &lt;? extends SomeInterface&gt;","body":"<p>The first (V) is called a generic. This means that you define a method for a certain type. You can reuse this type in several lines of code. The type stays the same.\nThen the second (?) is called a wildcard. This means that you define a method for an object of which you do not know the type. In further lines of code, you probably will not call specific methods on the object.</p>\n<p>Please also read <a href=\"https://stackoverflow.com/questions/10943137/difference-between-generic-type-and-wildcard-type\">this question</a>.</p>\n<p>Kind regards,\nMarja</p>\n"}],"owner":{"account_id":6078955,"reputation":365,"user_id":4745335,"display_name":"kasopey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75004273,"answer_count":1,"score":0,"last_activity_date":1672829120,"creation_date":1672828427,"question_id":75004144,"body_markdown":"I do not get the difference between:\r\n\r\n    &lt;V extends SomeInterface&gt; BinaryOperator&lt;V&gt; method() {...}\r\n\r\nand:\r\n\r\n    BinaryOperator&lt;? extends SomeInterface&gt; method() {...}\r\n\r\nThe whole snippet:\r\n\r\n    import java.util.function.BinaryOperator;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    class Scratch {\r\n    \r\n        interface SomeInterface {\r\n            boolean isEditable();\r\n        }\r\n    \r\n        static class One implements SomeInterface {\r\n    \r\n            public String specificMethod() {\r\n                return &quot;Hello&quot;;\r\n            }\r\n    \r\n            @Override\r\n            public boolean isEditable() {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Stream.of(new One())\r\n                    .collect(Collectors.toMap(\r\n                        // cannot resolve method &#39;specificMethod&#39; in &#39;SomeInterface&#39; in collector:\r\n                        key -&gt; key.specificMethod(),\r\n                        Function.identity(),\r\n                        chooseNotEditable()\r\n                    ));\r\n        }\r\n    \r\n        // works:\r\n        // static &lt;V extends SomeInterface&gt; BinaryOperator&lt;V&gt; chooseNotEditable() {\r\n        //\r\n        // Doesn&#39;t work:\r\n        // static BinaryOperator&lt;? extends SomeInterface&gt; chooseNotEditable() {\r\n\r\n            return (current, other) -&gt; current.isEditable() ? current : other;\r\n        }\r\n    }\r\n\r\nI&#39;m doing this because I want to have one generic mergeFunction to many implementations of  `SomeInterface`. The commented solution works, but I want to understand why the version with the wildcard is not working.","title":"Difference between &lt;V extends SomeInterface&gt; and &lt;? extends SomeInterface&gt;","body":"<p>I do not get the difference between:</p>\n<pre><code>&lt;V extends SomeInterface&gt; BinaryOperator&lt;V&gt; method() {...}\n</code></pre>\n<p>and:</p>\n<pre><code>BinaryOperator&lt;? extends SomeInterface&gt; method() {...}\n</code></pre>\n<p>The whole snippet:</p>\n<pre><code>import java.util.function.BinaryOperator;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nclass Scratch {\n\n    interface SomeInterface {\n        boolean isEditable();\n    }\n\n    static class One implements SomeInterface {\n\n        public String specificMethod() {\n            return &quot;Hello&quot;;\n        }\n\n        @Override\n        public boolean isEditable() {\n            return false;\n        }\n    }\n\n    public static void main(String[] args) {\n        Stream.of(new One())\n                .collect(Collectors.toMap(\n                    // cannot resolve method 'specificMethod' in 'SomeInterface' in collector:\n                    key -&gt; key.specificMethod(),\n                    Function.identity(),\n                    chooseNotEditable()\n                ));\n    }\n\n    // works:\n    // static &lt;V extends SomeInterface&gt; BinaryOperator&lt;V&gt; chooseNotEditable() {\n    //\n    // Doesn't work:\n    // static BinaryOperator&lt;? extends SomeInterface&gt; chooseNotEditable() {\n\n        return (current, other) -&gt; current.isEditable() ? current : other;\n    }\n}\n</code></pre>\n<p>I'm doing this because I want to have one generic mergeFunction to many implementations of  <code>SomeInterface</code>. The commented solution works, but I want to understand why the version with the wildcard is not working.</p>\n"},{"tags":["java","json","spring","spring-boot"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":1,"creation_date":1672361776,"post_id":74956927,"comment_id":132276493,"body_markdown":"Isn&#39;t this a duplicate of https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot?","body":"Isn&#39;t this a duplicate of <a href=\"https://stackoverflow.com/questions/29956175/json-java-8-localdatetime-format-in-spring-boot\" title=\"json java 8 localdatetime format in spring boot\">stackoverflow.com/questions/29956175/&hellip;</a>?"}],"answers":[{"comments":[{"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"score":0,"creation_date":1672362776,"post_id":74957193,"comment_id":132276602,"body_markdown":"I still get the date back as int[], even after implementing your code. \nI might just use a string for the date now and check the format in my frontend with some regex. For a beginner like me, it seems to be a lot of work to just get the date working, also considering I need to convert the date from the json into some C# data type in my front end.","body":"I still get the date back as int[], even after implementing your code.  I might just use a string for the date now and check the format in my frontend with some regex. For a beginner like me, it seems to be a lot of work to just get the date working, also considering I need to convert the date from the json into some C# data type in my front end."},{"owner":{"account_id":19764447,"reputation":149,"user_id":14472806,"display_name":"Mani Movassagh"},"score":0,"creation_date":1672510150,"post_id":74957193,"comment_id":132301349,"body_markdown":"can you give more details on your repository and also service?","body":"can you give more details on your repository and also service?"}],"tags":[],"owner":{"account_id":19764447,"reputation":149,"user_id":14472806,"display_name":"Mani Movassagh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672361056,"creation_date":1672360414,"answer_id":74957193,"question_id":74956927,"body_markdown":"change the controller to return List of products as follows:\r\n    \r\n    @GetMapping(&quot;/products&quot;)\r\n    public ResponseEntity&lt;List&lt;Product&gt;&gt; getProducts() {\r\n        return ResponseEntity.ok(productRepository.findAll());\r\n    }\r\nAlso, I recommend to use lombok and put @Data anotation on your Entity.\r\n\r\nI just reproduce yours and you will got the data like this:\r\n\r\n    [\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Iphone&quot;,\r\n        &quot;category&quot;: &quot;apple&quot;,\r\n        &quot;expirationDate&quot;: &quot;2022-12-23&quot;\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Samsung&quot;,\r\n        &quot;category&quot;: &quot;samsung&quot;,\r\n        &quot;expirationDate&quot;: &quot;2022-12-23&quot;\r\n    }\r\n    ]\r\n\r\nIncase you need, this is your post mapping:\r\n\r\n    @PostMapping(&quot;/products&quot;)\r\n    public Product createProduct(@RequestBody Product product) {\r\n        productRepository.save(product);\r\n        return product;\r\n    }","title":"How do I edit the ResponseEntity of a Get-Request in Java Spring?","body":"<p>change the controller to return List of products as follows:</p>\n<pre><code>@GetMapping(&quot;/products&quot;)\npublic ResponseEntity&lt;List&lt;Product&gt;&gt; getProducts() {\n    return ResponseEntity.ok(productRepository.findAll());\n}\n</code></pre>\n<p>Also, I recommend to use lombok and put @Data anotation on your Entity.</p>\n<p>I just reproduce yours and you will got the data like this:</p>\n<pre><code>[\n{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Iphone&quot;,\n    &quot;category&quot;: &quot;apple&quot;,\n    &quot;expirationDate&quot;: &quot;2022-12-23&quot;\n},\n{\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;Samsung&quot;,\n    &quot;category&quot;: &quot;samsung&quot;,\n    &quot;expirationDate&quot;: &quot;2022-12-23&quot;\n}\n]\n</code></pre>\n<p>Incase you need, this is your post mapping:</p>\n<pre><code>@PostMapping(&quot;/products&quot;)\npublic Product createProduct(@RequestBody Product product) {\n    productRepository.save(product);\n    return product;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7675670,"reputation":535,"user_id":5816637,"display_name":"E. Bavoux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672829107,"creation_date":1672829107,"answer_id":75004269,"question_id":74956927,"body_markdown":"I think you are missing something with the serialisation, do you know which lib you are using to serialize data to json ? (If not, can you copy/paste your dependency config file ? (pom.xml if you use maven)\r\n\r\nIf you use jackson for example, you need to add specific dependencies to your project, to have a proper serialization of dates. (You can refer to https://stackoverflow.com/questions/28802544/java-8-localdate-jackson-format for instance)\r\n","title":"How do I edit the ResponseEntity of a Get-Request in Java Spring?","body":"<p>I think you are missing something with the serialisation, do you know which lib you are using to serialize data to json ? (If not, can you copy/paste your dependency config file ? (pom.xml if you use maven)</p>\n<p>If you use jackson for example, you need to add specific dependencies to your project, to have a proper serialization of dates. (You can refer to <a href=\"https://stackoverflow.com/questions/28802544/java-8-localdate-jackson-format\">Java 8 LocalDate Jackson format</a> for instance)</p>\n"}],"owner":{"account_id":15297637,"reputation":67,"user_id":11037145,"display_name":"Turwaith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672829107,"creation_date":1672356567,"question_id":74956927,"body_markdown":"I have a small Java Springboot backend and a mySQL database. The data class for the objects to be saved in the database looks as follows:\r\n```\r\n    @Entity\r\n    public class Product {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private int id;\r\n    \r\n        private String name;\r\n    \r\n        private String category;\r\n    \r\n        private LocalDate expirationDate;\r\n    \r\n        // getters, setters ...\r\n```\r\nThe GET method within the controller class looks like this:\r\n\r\n```\r\n@GetMapping(&quot;/products&quot;)\r\npublic ResponseEntity&lt;Iterable&lt;Product&gt;&gt; getProducts() {\r\n   return ResponseEntity.ok(productRepository.findAll());\r\n}\r\n```\r\n\r\nNow the json I get back when posting a GET-request formats the expirationDate property as int[], like this:\r\n```\r\n&quot;expirationDate&quot;: [\r\n\t\t\t2023,\r\n\t\t\t1,\r\n\t\t\t22\r\n\t\t]\r\n```\r\nHow do I manage to format this while creating the json for it to look like yyyy-mm-dd, as this is the format I also use to POST it. Also, as I&#39;m writing my frontend in Blazor (C#), I need a format that gets easily translated into a DateOnly property in the C# data class.","title":"How do I edit the ResponseEntity of a Get-Request in Java Spring?","body":"<p>I have a small Java Springboot backend and a mySQL database. The data class for the objects to be saved in the database looks as follows:</p>\n<pre><code>    @Entity\n    public class Product {\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private int id;\n    \n        private String name;\n    \n        private String category;\n    \n        private LocalDate expirationDate;\n    \n        // getters, setters ...\n</code></pre>\n<p>The GET method within the controller class looks like this:</p>\n<pre><code>@GetMapping(&quot;/products&quot;)\npublic ResponseEntity&lt;Iterable&lt;Product&gt;&gt; getProducts() {\n   return ResponseEntity.ok(productRepository.findAll());\n}\n</code></pre>\n<p>Now the json I get back when posting a GET-request formats the expirationDate property as int[], like this:</p>\n<pre><code>&quot;expirationDate&quot;: [\n            2023,\n            1,\n            22\n        ]\n</code></pre>\n<p>How do I manage to format this while creating the json for it to look like yyyy-mm-dd, as this is the format I also use to POST it. Also, as I'm writing my frontend in Blazor (C#), I need a format that gets easily translated into a DateOnly property in the C# data class.</p>\n"},{"tags":["java","tesseract","ui-automation","tess4j"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672830473,"post_id":75003937,"comment_id":132359937,"body_markdown":"Didn&#39;t you think the purpose of &quot;captcha&quot; is to write a text in a way recognisable by human only?","body":"Didn&#39;t you think the purpose of &quot;captcha&quot; is to write a text in a way recognisable by human only?"}],"owner":{"account_id":27429432,"reputation":1,"user_id":20926373,"display_name":"kiran manju"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672828994,"creation_date":1672827208,"question_id":75003937,"body_markdown":"sample code\r\n\r\n```\r\npublic static void main(){\r\n\r\n    String path =\r\n      &quot;C:\\\\Users\\\\test.k\\\\git\\\\oarevamp\\\\automation\\\\captchimages\\\\captcha1.png&quot;;\r\n    ITesseract image = new Tesseract();\r\n    image.setDatapath(&quot;C:\\\\Users\\\\test.k\\\\git\\\\oarevamp\\\\automation\\\\captchimages\\\\testdata&quot;);\r\n    image.setLanguage(&quot;eng&quot;); \r\n    String str = image.doOCR(new File(path));\r\n    System.out.println(str);\r\n}\r\n```\r\nOutput\r\nNN\r\n\r\nused image:-\r\n\r\n[Image used](https://i.stack.imgur.com/xWlI1.png)\r\n\r\nOS:- Windows\r\nprogramming language:- java \r\n\r\nNote:- Image we are using is a screenshot taken from selenium \r\n\r\nTried\r\n1. we have tried with jpeg format file, we are getting proper image but for png format getting wrong text\r\n\r\nExpectations\r\nOutput :- unstednes ","title":"When i try to read text from image by using tessreact OCR , not giving proper text","body":"<p>sample code</p>\n<pre><code>public static void main(){\n\n    String path =\n      &quot;C:\\\\Users\\\\test.k\\\\git\\\\oarevamp\\\\automation\\\\captchimages\\\\captcha1.png&quot;;\n    ITesseract image = new Tesseract();\n    image.setDatapath(&quot;C:\\\\Users\\\\test.k\\\\git\\\\oarevamp\\\\automation\\\\captchimages\\\\testdata&quot;);\n    image.setLanguage(&quot;eng&quot;); \n    String str = image.doOCR(new File(path));\n    System.out.println(str);\n}\n</code></pre>\n<p>Output\nNN</p>\n<p>used image:-</p>\n<p><a href=\"https://i.stack.imgur.com/xWlI1.png\" rel=\"nofollow noreferrer\">Image used</a></p>\n<p>OS:- Windows\nprogramming language:- java</p>\n<p>Note:- Image we are using is a screenshot taken from selenium</p>\n<p>Tried</p>\n<ol>\n<li>we have tried with jpeg format file, we are getting proper image but for png format getting wrong text</li>\n</ol>\n<p>Expectations\nOutput :- unstednes</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1672370238,"post_id":74886276,"comment_id":132277451,"body_markdown":"I don&#39;t think the state store name is given from the binder name. You should use Materialized class in your obj function to provide a name","body":"I don&#39;t think the state store name is given from the binder name. You should use Materialized class in your obj function to provide a name"},{"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"score":0,"creation_date":1672822286,"post_id":74886276,"comment_id":132357459,"body_markdown":"for the naming: https://kafka.apache.org/26/javadoc/org/apache/kafka/streams/kstream/KStream.html#toTable-- and have you looked at `topologyTestDriver.createOutputTopic`?","body":"for the naming: <a href=\"https://kafka.apache.org/26/javadoc/org/apache/kafka/streams/kstream/KStream.html#toTable--\" rel=\"nofollow noreferrer\">kafka.apache.org/26/javadoc/org/apache/kafka/streams/kstream&zwnj;&#8203;/&hellip;</a> and have you looked at <code>topologyTestDriver.createOutputTopic</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5255222,"reputation":573,"user_id":4198317,"display_name":"St&#233;phane Jeandeaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672828875,"creation_date":1672828875,"answer_id":75004223,"question_id":74886276,"body_markdown":"`toTable` creates an internal topic. You should probably use topologyTestDriver.createOutputTopic to read it. \r\n\r\nFor the naming, there is https://kafka.apache.org/26/javadoc/org/apache/kafka/streams/kstream/KStream.html#toTable--","title":"How to use the output binding of spring-cloud-stream in unit tests?","body":"<p><code>toTable</code> creates an internal topic. You should probably use topologyTestDriver.createOutputTopic to read it.</p>\n<p>For the naming, there is <a href=\"https://kafka.apache.org/26/javadoc/org/apache/kafka/streams/kstream/KStream.html#toTable--\" rel=\"nofollow noreferrer\">https://kafka.apache.org/26/javadoc/org/apache/kafka/streams/kstream/KStream.html#toTable--</a></p>\n"}],"owner":{"account_id":6666027,"reputation":498,"user_id":5143652,"accept_rate":80,"display_name":"manuelgr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672828875,"creation_date":1671699924,"question_id":74886276,"body_markdown":"I&#39;m using spring cloud stream to modify a Kafka Topic and write the resulting data with &quot;.toTable()&quot; to a table. In the application.yaml I will set the input and output bindings.\r\nThis works fine on the Kafka cluster but not with my current test setup.\r\n\r\n    @Configuration\r\n    public class ObjectTopology {\r\n    \r\n        @Bean\r\n        public static Serde&lt;Object&gt; objSerde() {\r\n            return new ProtobufSerde&lt;&gt;(Object.parser());\r\n        }\r\n    \r\n        @Bean\r\n        public Function&lt;KStream&lt;String, Object&gt;, KTable&lt;String, Object&gt;&gt; obj() {\r\n    \r\n            return objKStream -&gt; objKStream\r\n                    .transform((TransformerSupplier&lt;String, Object, KeyValue&lt;String, Object&gt;&gt;) SomeTransformer::new)\r\n                    .toTable();\r\n        }\r\n    }\r\n\r\n\r\napplication.yaml:\r\n\r\n    spring.cloud.stream.bindings:\r\n    \tobj-in-0:\r\n    \t\tdestination: input-name\r\n    \tobj-out-0:\r\n    \t\tdestination: output-name\r\n\r\n\r\nHow would I access the KTable generated by &quot;toTable&quot; in the code below? Is there a way to use the spring-cloud-stream bindings in my unit tests?\r\n\r\n    ObjectTopology objectTopology = new ObjectTopology();\r\n    StreamsBuilder streamsBuilder = new StreamsBuilder();\r\n    \r\n    Serde&lt;String&gt; keySerde = Serdes.String();\r\n    Serde&lt;Object&gt; valueSerde = objSerde();\r\n    \r\n    KStream&lt;String, Object&gt; objKStream = streamsBuilder.stream(&quot;input-topic-name&quot;, Consumed.with(keySerde, valueSerde));\r\n    \r\n    objectTopology.obj().apply(objKStream);\r\n    \r\n    TopologyTestDriver topologyTestDriver = new TopologyTestDriver(streamsBuilder.build());\r\n    \r\n    TestInputTopic&lt;String, Object&gt; objTestInputTopic = topologyTestDriver.createInputTopic(&quot;input-topic-name&quot;, keySerde.serializer(), valueSerde.serializer());\r\n    KeyValueStore&lt;String, Object&gt; objStore = topologyTestDriver.getKeyValueStore(&quot;???&quot;); // I would like to use the name defined by the output binding in application.yaml &quot;output-name&quot;\r\n    \r\n    Object object = createObject();\r\n    \r\n    objTestInputTopic.pipeInput(&quot;elem_0&quot;, object);\r\n    \r\n    Object result = objStore.get(&quot;elem_0&quot;);\r\n    assertThat(result).isEqualTo(object);\r\n\r\n","title":"How to use the output binding of spring-cloud-stream in unit tests?","body":"<p>I'm using spring cloud stream to modify a Kafka Topic and write the resulting data with &quot;.toTable()&quot; to a table. In the application.yaml I will set the input and output bindings.\nThis works fine on the Kafka cluster but not with my current test setup.</p>\n<pre><code>@Configuration\npublic class ObjectTopology {\n\n    @Bean\n    public static Serde&lt;Object&gt; objSerde() {\n        return new ProtobufSerde&lt;&gt;(Object.parser());\n    }\n\n    @Bean\n    public Function&lt;KStream&lt;String, Object&gt;, KTable&lt;String, Object&gt;&gt; obj() {\n\n        return objKStream -&gt; objKStream\n                .transform((TransformerSupplier&lt;String, Object, KeyValue&lt;String, Object&gt;&gt;) SomeTransformer::new)\n                .toTable();\n    }\n}\n</code></pre>\n<p>application.yaml:</p>\n<pre><code>spring.cloud.stream.bindings:\n    obj-in-0:\n        destination: input-name\n    obj-out-0:\n        destination: output-name\n</code></pre>\n<p>How would I access the KTable generated by &quot;toTable&quot; in the code below? Is there a way to use the spring-cloud-stream bindings in my unit tests?</p>\n<pre><code>ObjectTopology objectTopology = new ObjectTopology();\nStreamsBuilder streamsBuilder = new StreamsBuilder();\n\nSerde&lt;String&gt; keySerde = Serdes.String();\nSerde&lt;Object&gt; valueSerde = objSerde();\n\nKStream&lt;String, Object&gt; objKStream = streamsBuilder.stream(&quot;input-topic-name&quot;, Consumed.with(keySerde, valueSerde));\n\nobjectTopology.obj().apply(objKStream);\n\nTopologyTestDriver topologyTestDriver = new TopologyTestDriver(streamsBuilder.build());\n\nTestInputTopic&lt;String, Object&gt; objTestInputTopic = topologyTestDriver.createInputTopic(&quot;input-topic-name&quot;, keySerde.serializer(), valueSerde.serializer());\nKeyValueStore&lt;String, Object&gt; objStore = topologyTestDriver.getKeyValueStore(&quot;???&quot;); // I would like to use the name defined by the output binding in application.yaml &quot;output-name&quot;\n\nObject object = createObject();\n\nobjTestInputTopic.pipeInput(&quot;elem_0&quot;, object);\n\nObject result = objStore.get(&quot;elem_0&quot;);\nassertThat(result).isEqualTo(object);\n</code></pre>\n"},{"tags":["java","eclipse","encoding","utf-8"],"answers":[{"comments":[{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":5,"creation_date":1242313814,"post_id":863854,"comment_id":671340,"body_markdown":"In Java 1.6 you can use other encodings by using the methods that use Reader/Writer instead of InputStream/OutputStream.","body":"In Java 1.6 you can use other encodings by using the methods that use Reader/Writer instead of InputStream/OutputStream."},{"owner":{"account_id":973932,"reputation":10760,"user_id":995822,"accept_rate":85,"display_name":"Radu Murzea"},"score":0,"creation_date":1359833302,"post_id":863854,"comment_id":20497864,"body_markdown":"A more general solution than the one in the accepted answer, therefore better :)","body":"A more general solution than the one in the accepted answer, therefore better :)"},{"owner":{"account_id":6362904,"reputation":322,"user_id":6891471,"display_name":"Fering"},"score":0,"creation_date":1552934236,"post_id":863854,"comment_id":97190560,"body_markdown":"@JonSkeet I have been working on this problem for weeks. Thank you so much!","body":"@JonSkeet I have been working on this problem for weeks. Thank you so much!"},{"owner":{"account_id":36621,"reputation":2571,"user_id":104491,"accept_rate":75,"display_name":"Rune Aamodt"},"score":0,"creation_date":1603360869,"post_id":863854,"comment_id":114015432,"body_markdown":"As of Java 9+, properties files should be encoded in UTF-8: https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-974CF488-23E8-4963-A322-82006A7A14C7","body":"As of Java 9+, properties files should be encoded in UTF-8: <a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-974CF488-23E8-4963-A322-82006A7A14C7\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/intl/&hellip;</a>"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1603361651,"post_id":863854,"comment_id":114015807,"body_markdown":"@RuneAamodt: Although I&#39;m glad to see ISO-8859-1 is still supported when reading. Will update my answer.","body":"@RuneAamodt: Although I&#39;m glad to see ISO-8859-1 is still supported when reading. Will update my answer."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":5,"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1603361721,"creation_date":1242313335,"answer_id":863854,"question_id":863838,"body_markdown":"Answer for &quot;pre-Java-9&quot; is below. As of Java 9, properties files are saved and loaded in UTF-8 by default, but falling back to ISO-8859-1 if an invalid UTF-8 byte sequence is detected. See the [Java 9 release notes](https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-974CF488-23E8-4963-A322-82006A7A14C7) for details.\r\n\r\n----\r\n\r\nProperties files are ISO-8859-1 by definition - see the docs for the [Properties][1] class.\r\n\r\nSpring has a replacement which can load with a specified encoding, using [`PropertiesFactoryBean`][2].\r\n\r\nEDIT: As Laurence noted in the comments, Java 1.6 introduced overloads for `load` and `store` which take a `Reader`/`Writer`. This means you can create a reader for the file with whatever encoding you want, and pass it to `load`. Unfortunately `FileReader` *still* doesn&#39;t let you specify the encoding in the constructor (aargh) so you&#39;ll be stuck with chaining `FileInputStream` and `InputStreamReader` together. However, it&#39;ll work.\r\n\r\nFor example, to read a file using UTF-8:\r\n\r\n    Properties properties = new Properties();\r\n    InputStream inputStream = new FileInputStream(&quot;path/to/file&quot;);\r\n    try {\r\n        Reader reader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\r\n        try {\r\n            properties.load(reader);\r\n        } finally {\r\n            reader.close();\r\n        }\r\n    } finally {\r\n       inputStream.close();\r\n    }\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Properties.html\r\n  [2]: http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/beans/factory/config/PropertiesFactoryBean.html","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>Answer for &quot;pre-Java-9&quot; is below. As of Java 9, properties files are saved and loaded in UTF-8 by default, but falling back to ISO-8859-1 if an invalid UTF-8 byte sequence is detected. See the <a href=\"https://docs.oracle.com/javase/9/intl/internationalization-enhancements-jdk-9.htm#JSINT-GUID-974CF488-23E8-4963-A322-82006A7A14C7\" rel=\"nofollow noreferrer\">Java 9 release notes</a> for details.</p>\n<hr />\n<p>Properties files are ISO-8859-1 by definition - see the docs for the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">Properties</a> class.</p>\n<p>Spring has a replacement which can load with a specified encoding, using <a href=\"http://static.springframework.org/spring/docs/2.5.x/api/org/springframework/beans/factory/config/PropertiesFactoryBean.html\" rel=\"nofollow noreferrer\"><code>PropertiesFactoryBean</code></a>.</p>\n<p>EDIT: As Laurence noted in the comments, Java 1.6 introduced overloads for <code>load</code> and <code>store</code> which take a <code>Reader</code>/<code>Writer</code>. This means you can create a reader for the file with whatever encoding you want, and pass it to <code>load</code>. Unfortunately <code>FileReader</code> <em>still</em> doesn't let you specify the encoding in the constructor (aargh) so you'll be stuck with chaining <code>FileInputStream</code> and <code>InputStreamReader</code> together. However, it'll work.</p>\n<p>For example, to read a file using UTF-8:</p>\n<pre><code>Properties properties = new Properties();\nInputStream inputStream = new FileInputStream(&quot;path/to/file&quot;);\ntry {\n    Reader reader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\n    try {\n        properties.load(reader);\n    } finally {\n        reader.close();\n    }\n} finally {\n   inputStream.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2385102,"reputation":1188,"user_id":2086234,"display_name":"Chrissi"},"score":4,"creation_date":1392819772,"post_id":863862,"comment_id":33134669,"body_markdown":"NetBeans nicely displays properties files that have \\uXXXX escapes and lets you edit them with UTF characters properly displayed. Why doesn&#39;t Eclipse? In my opinion this _is_ a problem with Eclipse.","body":"NetBeans nicely displays properties files that have \\uXXXX escapes and lets you edit them with UTF characters properly displayed. Why doesn&#39;t Eclipse? In my opinion this <i>is</i> a problem with Eclipse."},{"owner":{"account_id":1769410,"reputation":5282,"user_id":1614555,"accept_rate":88,"display_name":"rexford"},"score":0,"creation_date":1411390997,"post_id":863862,"comment_id":40671572,"body_markdown":"+1: the so quantum of solace for having been skeet&#39;d","body":"+1: the so quantum of solace for having been skeet&#39;d"}],"tags":[],"owner":{"account_id":1710,"reputation":18740,"user_id":2309,"accept_rate":79,"display_name":"Mario Orteg&#243;n"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1242313432,"creation_date":1242313432,"answer_id":863862,"question_id":863838,"body_markdown":"It is not a problem with Eclipse. If you are using the Properties class to read and store the properties file, the class will escape all special characters.\r\n\r\n\r\n[From the class documentation:][2]\r\n\r\n&gt; When saving properties to a stream or loading them from a stream, the ISO 8859-1 character encoding is used. For characters that cannot be directly represented in this encoding, Unicode escapes  are used; however, only a single &#39;u&#39; character is allowed in an escape sequence. The native2ascii tool can be used to convert property files to and from other character encodings. \r\n\r\n[From the API, store() method:][1]\r\n\r\n&gt; Characters less than \\u0020 and characters greater than \\u007E are written as \\uxxxx for the appropriate hexadecimal value xxxx.\r\n\r\n\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Properties.html#store(java.io.OutputStream,%20java.lang.String)\r\n  [2]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Properties.html","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>It is not a problem with Eclipse. If you are using the Properties class to read and store the properties file, the class will escape all special characters.</p>\n\n<p><a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Properties.html\" rel=\"noreferrer\">From the class documentation:</a></p>\n\n<blockquote>\n  <p>When saving properties to a stream or loading them from a stream, the ISO 8859-1 character encoding is used. For characters that cannot be directly represented in this encoding, Unicode escapes  are used; however, only a single 'u' character is allowed in an escape sequence. The native2ascii tool can be used to convert property files to and from other character encodings. </p>\n</blockquote>\n\n<p><a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Properties.html#store(java.io.OutputStream,%20java.lang.String)\" rel=\"noreferrer\">From the API, store() method:</a></p>\n\n<blockquote>\n  <p>Characters less than \\u0020 and characters greater than \\u007E are written as \\uxxxx for the appropriate hexadecimal value xxxx.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1242349405,"creation_date":1242349405,"answer_id":866613,"question_id":863838,"body_markdown":"There are too many points in the process you describe where errors can occur, so I won&#39;t try to guess what you&#39;re doing wrong, but I think I know what&#39;s happening under the hood.\r\n\r\n`EF BF BD` is the UTF-8 encoded form of `U+FFFD`, the standard replacement character that&#39;s inserted by decoders when they encounter malformed input.  It sounds like your text is being saved as ISO-8859-1, then read as if it were UTF-8, then saved as UTF-8, then converted to the Properties format using `native2ascii` using the platform default encoding (e.g., windows-1252).\r\n&lt;pre&gt;&#252;              =&gt; 0xFC                // save as ISO-8859-1\r\n0xFC           =&gt; U+FFFD              // read as UTF-8\r\nU+FFFD         =&gt; 0xEF 0xBF 0xBD      // save as UTF-8\r\n0xEF 0xBF 0xBD =&gt; \\u00EF\\u00BF\\u00BD  // native2ascii&lt;/pre&gt;\r\n\r\nI suggest you leave the &quot;file.encoding&quot; property alone.  Like &quot;file.separator&quot; and &quot;line.separator&quot;, it&#39;s not nearly as useful as you would expect it to be.  Instead, get into the habit of always specifying an encoding when reading and writing text files.","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>There are too many points in the process you describe where errors can occur, so I won't try to guess what you're doing wrong, but I think I know what's happening under the hood.</p>\n\n<p><code>EF BF BD</code> is the UTF-8 encoded form of <code>U+FFFD</code>, the standard replacement character that's inserted by decoders when they encounter malformed input.  It sounds like your text is being saved as ISO-8859-1, then read as if it were UTF-8, then saved as UTF-8, then converted to the Properties format using <code>native2ascii</code> using the platform default encoding (e.g., windows-1252).</p>\n\n<pre>ü              => 0xFC                // save as ISO-8859-1\n0xFC           => U+FFFD              // read as UTF-8\nU+FFFD         => 0xEF 0xBF 0xBD      // save as UTF-8\n0xEF 0xBF 0xBD => \\u00EF\\u00BF\\u00BD  // native2ascii</pre>\n\n<p>I suggest you leave the \"file.encoding\" property alone.  Like \"file.separator\" and \"line.separator\", it's not nearly as useful as you would expect it to be.  Instead, get into the habit of always specifying an encoding when reading and writing text files.</p>\n"},{"comments":[{"owner":{"account_id":1769410,"reputation":5282,"user_id":1614555,"accept_rate":88,"display_name":"rexford"},"score":0,"creation_date":1411391467,"post_id":1533100,"comment_id":40671831,"body_markdown":"You could use Spring&#39;s org.springframework.context.support.ReloadableResourceBundleMessageSource which supports UTF-8 encoded property files. We use Spring to manage translations in English, German, French and Chinese in spring-mvc based web applications.","body":"You could use Spring&#39;s org.springframework.context.support.ReloadableResourceBundle&zwnj;&#8203;MessageSource which supports UTF-8 encoded property files. We use Spring to manage translations in English, German, French and Chinese in spring-mvc based web applications."}],"tags":[],"owner":{"display_name":"user185811"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1254937048,"creation_date":1254937048,"answer_id":1533100,"question_id":863838,"body_markdown":"This seems to work only for some characters ... including special characters for German, Portuguese, French.  However, I ran into trouble with Russian, Hindi and Mandarin characters.  These are not converted to Properties format &#39;native2ascii&#39;, instead get saved with ?? ?? ??  \r\nThe only way I could get my app to display these characters correctly is by putting them in the properties file translated to UTF-8 format - as \\u0915 instead of क, or \\u044F instead of я.\r\nAny advice?","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>This seems to work only for some characters ... including special characters for German, Portuguese, French.  However, I ran into trouble with Russian, Hindi and Mandarin characters.  These are not converted to Properties format 'native2ascii', instead get saved with ?? ?? ??<br>\nThe only way I could get my app to display these characters correctly is by putting them in the properties file translated to UTF-8 format - as \\u0915 instead of क, or \\u044F instead of я.\nAny advice?</p>\n"},{"comments":[{"owner":{"account_id":25202,"reputation":2920,"user_id":64635,"accept_rate":100,"display_name":"chesterbr"},"score":3,"creation_date":1262839427,"post_id":1858566,"comment_id":1940003,"body_markdown":"This is a hugely useful plugin, thanks for the tip! So bad it does not have an install URL, but just dropping it on the plugins folder does the trick.","body":"This is a hugely useful plugin, thanks for the tip! So bad it does not have an install URL, but just dropping it on the plugins folder does the trick."},{"owner":{"account_id":418541,"reputation":8859,"user_id":795158,"accept_rate":95,"display_name":"Ivaylo Slavov"},"score":3,"creation_date":1321877140,"post_id":1858566,"comment_id":10094275,"body_markdown":"Does this use the native2ascii tool for non-unicode characters internally or I should manually escape unicode symbols?","body":"Does this use the native2ascii tool for non-unicode characters internally or I should manually escape unicode symbols?"},{"owner":{"account_id":238117,"reputation":3588,"user_id":506783,"accept_rate":78,"display_name":"Sefran2"},"score":0,"creation_date":1402499821,"post_id":1858566,"comment_id":37298700,"body_markdown":"@baybora.oren: I expanded the .zip in the eclipse folder plugin, but I don&#39;t see any change in the ide (I shutdown and restart eclipse). Any hint?","body":"@baybora.oren: I expanded the .zip in the eclipse folder plugin, but I don&#39;t see any change in the ide (I shutdown and restart eclipse). Any hint?"},{"owner":{"account_id":22755,"reputation":3459,"user_id":56470,"display_name":"bora.oren"},"score":0,"creation_date":1404389298,"post_id":1858566,"comment_id":38026496,"body_markdown":"@cricket check eclipse version maybe it is not compatible with that eclipse you use","body":"@cricket check eclipse version maybe it is not compatible with that eclipse you use"}],"tags":[],"owner":{"account_id":22755,"reputation":3459,"user_id":56470,"display_name":"bora.oren"},"comment_count":4,"down_vote_count":3,"up_vote_count":57,"is_accepted":true,"score":54,"last_activity_date":1432741568,"creation_date":1260173640,"answer_id":1858566,"question_id":863838,"body_markdown":"Don&#39;t waste your time, you can use [**Resource Bundle plugin**][1] in **Eclipse**\r\n\r\n![Basic Screen Shot][2]\r\n\r\n[Old Sourceforge page][3]\r\n\r\n\r\n  [1]: http://essiembre.github.io/eclipse-rbe/\r\n  [2]: https://camo.githubusercontent.com/35ff0c003e9ec901203eea51e0251d052db0a9d2/687474703a2f2f65737369656d6272652e6769746875622e696f2f65636c697073652d7262652f696d672f73637265656e73686f74732f6d61696e2d73637265656e2e706e67\r\n  [3]: http://sourceforge.net/projects/eclipse-rbe/","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>Don't waste your time, you can use <a href=\"http://essiembre.github.io/eclipse-rbe/\" rel=\"noreferrer\"><strong>Resource Bundle plugin</strong></a> in <strong>Eclipse</strong></p>\n\n<p><img src=\"https://camo.githubusercontent.com/35ff0c003e9ec901203eea51e0251d052db0a9d2/687474703a2f2f65737369656d6272652e6769746875622e696f2f65636c697073652d7262652f696d672f73637265656e73686f74732f6d61696e2d73637265656e2e706e67\" alt=\"Basic Screen Shot\"></p>\n\n<p><a href=\"http://sourceforge.net/projects/eclipse-rbe/\" rel=\"noreferrer\">Old Sourceforge page</a></p>\n"},{"comments":[{"owner":{"display_name":"user153275"},"score":0,"creation_date":1318174511,"post_id":3040771,"comment_id":9369342,"body_markdown":"Unfortunately props.load, in 1.6, requires an InputStream and specifically indicates it expects old-school ISO-8859-1","body":"Unfortunately props.load, in 1.6, requires an InputStream and specifically indicates it expects old-school ISO-8859-1"}],"tags":[],"owner":{"account_id":623385,"reputation":111,"user_id":366670,"display_name":"Joaquim Cardeira"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1276548241,"creation_date":1276548241,"answer_id":3040771,"question_id":863838,"body_markdown":"    Properties props = new Properties();\r\n    URL resource = getClass().getClassLoader().getResource(&quot;data.properties&quot;);         \r\n    props.load(new InputStreamReader(resource.openStream(), &quot;UTF8&quot;));\r\n\r\nWorks like a charm \r\n\r\n:-)","title":"Java properties UTF-8 encoding in Eclipse","body":"<pre><code>Properties props = new Properties();\nURL resource = getClass().getClassLoader().getResource(\"data.properties\");         \nprops.load(new InputStreamReader(resource.openStream(), \"UTF8\"));\n</code></pre>\n\n<p>Works like a charm </p>\n\n<p>:-)</p>\n"},{"tags":[],"owner":{"account_id":662579,"reputation":41,"user_id":487581,"display_name":"Hirantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1333712002,"creation_date":1288094775,"answer_id":4023458,"question_id":863838,"body_markdown":"    Properties props = new Properties();\r\n    URL resource = getClass().getClassLoader().getResource(&quot;data.properties&quot;);         \r\n    props.load(new InputStreamReader(resource.openStream(), &quot;UTF8&quot;));\r\n\r\nthis works well in java 1.6. How can i do this in 1.5, Since Properties class does not have a method to pars `InputStreamReader`.","title":"Java properties UTF-8 encoding in Eclipse","body":"<pre><code>Properties props = new Properties();\nURL resource = getClass().getClassLoader().getResource(\"data.properties\");         \nprops.load(new InputStreamReader(resource.openStream(), \"UTF8\"));\n</code></pre>\n\n<p>this works well in java 1.6. How can i do this in 1.5, Since Properties class does not have a method to pars <code>InputStreamReader</code>.</p>\n"},{"tags":[],"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1297759945,"creation_date":1297759945,"answer_id":5001475,"question_id":863838,"body_markdown":"Just another Eclipse plugin for *.properties files:\r\n\r\n[Properties Editor][1]\r\n\r\n\r\n  [1]: http://propedit.sourceforge.jp/index_en.html","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>Just another Eclipse plugin for *.properties files:</p>\n\n<p><a href=\"http://propedit.sourceforge.jp/index_en.html\" rel=\"nofollow\">Properties Editor</a></p>\n"},{"tags":[],"owner":{"account_id":9722,"reputation":3194,"user_id":18078,"accept_rate":0,"display_name":"David Leppik"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1303421836,"creation_date":1303421836,"answer_id":5750047,"question_id":863838,"body_markdown":"If the properties are for XML or HTML, it&#39;s safest to use XML entities.  They&#39;re uglier to read, but it means that the properties file can be treated as straight ASCII, so nothing will get mangled.\r\n\r\nNote that HTML has entities that XML doesn&#39;t, so I keep it safe by using straight XML: http://www.w3.org/TR/html4/sgml/entities.html","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>If the properties are for XML or HTML, it's safest to use XML entities.  They're uglier to read, but it means that the properties file can be treated as straight ASCII, so nothing will get mangled.</p>\n\n<p>Note that HTML has entities that XML doesn't, so I keep it safe by using straight XML: <a href=\"http://www.w3.org/TR/html4/sgml/entities.html\" rel=\"nofollow\">http://www.w3.org/TR/html4/sgml/entities.html</a></p>\n"},{"tags":[],"owner":{"account_id":427101,"reputation":163,"user_id":808692,"display_name":"htobon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318339837,"creation_date":1318339837,"answer_id":7726834,"question_id":863838,"body_markdown":"I recommend you to use Attesoro ([http://attesoro.org/][1]). Is simple and easy to use. And is made in java.\r\n\r\n\r\n  [1]: http://attesoro.org/","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>I recommend you to use Attesoro (<a href=\"http://attesoro.org/\" rel=\"nofollow\">http://attesoro.org/</a>). Is simple and easy to use. And is made in java.</p>\n"},{"tags":[],"owner":{"account_id":1592632,"reputation":577,"user_id":1475625,"display_name":"David Constantine"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1353518774,"creation_date":1353518774,"answer_id":13498773,"question_id":863838,"body_markdown":"There is much easier way:\r\n\r\n    props.load(new InputStreamReader(new FileInputStream(&quot;properties_file&quot;), &quot;UTF8&quot;));","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>There is much easier way:</p>\n\n<pre><code>props.load(new InputStreamReader(new FileInputStream(\"properties_file\"), \"UTF8\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3033761,"reputation":1641,"user_id":2572293,"display_name":"gopeca"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404898177,"creation_date":1404898177,"answer_id":24649995,"question_id":863838,"body_markdown":"You can define UTF-8 .properties files to store your translations and use ResourceBundle, to get values. To avoid problems you can change encoding:\r\n\r\n    String value = RESOURCE_BUNDLE.getString(key); \r\n    return new String(value.getBytes(&quot;ISO-8859-1&quot;), &quot;UTF-8&quot;);","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>You can define UTF-8 .properties files to store your translations and use ResourceBundle, to get values. To avoid problems you can change encoding:</p>\n\n<pre><code>String value = RESOURCE_BUNDLE.getString(key); \nreturn new String(value.getBytes(\"ISO-8859-1\"), \"UTF-8\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1964787,"reputation":1922,"user_id":1765341,"accept_rate":88,"display_name":"stefan.m"},"score":0,"creation_date":1672836993,"post_id":75004202,"comment_id":132361919,"body_markdown":"your answer looks good, but the text explaining the solution is not clear enough. Can you rephrase it so that the text is easier to understand?","body":"your answer looks good, but the text explaining the solution is not clear enough. Can you rephrase it so that the text is easier to understand?"}],"tags":[],"owner":{"account_id":25560121,"reputation":1,"user_id":20912350,"display_name":"Vladislav Mikhalchuk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672828779,"creation_date":1672828779,"answer_id":75004202,"question_id":863838,"body_markdown":"I found a solution to this problem. You need to write file (*.properties) use standard &quot;Properties&quot;, example:\r\n\r\n    Properties properties = new Properties();\r\n    properties.put(&quot;DB_DRIVER&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\r\n\t\tproperties.put(&quot;DB_URL&quot;, &quot;jdbc:mysql://localhost:3306/world&quot;);\r\n\t\tproperties.put(&quot;DB_USERNAME&quot;, &quot;root&quot;);\r\n\t\tproperties.put(&quot;DB_PASSWORD&quot;, &quot;1111&quot;);\r\n\t\tproperties.put(&quot;DB_AUTO_RECONNECT&quot;, &quot;true&quot;);\r\n\t\tproperties.put(&quot;DB_CHARACTER_ENCODING&quot;, &quot;UTF-8&quot;);\r\n\t\tproperties.put(&quot;DB_USE_UNICODE&quot;, &quot;true&quot;);\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tproperties.store(new FileWriter(&quot;src/connectionDB/base/db.properties&quot;), &quot;Comment writes&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\nthen, you can  read file without mistakes:\r\n\r\n    try {\t\t\t\r\n\t\t\tproperties.load(new FileReader(&quot;src\\\\connectionDB\\\\base\\\\db.properties&quot;));\t\t\t\r\n\t\t\tproperties.list(System.out);\r\n\t\t} catch (IOException ex) {\r\n\t\t\tSystem.out.println(ex.getMessage());\r\n\t\t}\t\r\nor\r\n\r\n    \t\ttry {\r\n\t\t\tString str = new String(Files.readAllBytes(Paths.get(&quot;src/connectionDB/base/db.properties&quot;)), StandardCharsets.UTF_8);\r\n\t\t\tproperties.load(new StringReader(str));\r\n\t\t\tproperties.list(System.out);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\nor\r\n\r\n\t\tInputStream inputStream = getClass().getClassLoader().getResourceAsStream(&quot;connectionDB/base/db.properties&quot;);\r\n\t\ttry {\r\n\t\t\tReader reader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\r\n\t\t\ttry {\t\t\t\r\n\t\t\t\tproperties.load(reader);\r\n\t\t\t\tproperties.list(System.out);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\t}\r\n\t\t} catch (UnsupportedEncodingException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\nnever mind....\r\nthen close the code that creates this file and use file *.properties","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>I found a solution to this problem. You need to write file (*.properties) use standard &quot;Properties&quot;, example:</p>\n<pre><code>Properties properties = new Properties();\nproperties.put(&quot;DB_DRIVER&quot;, &quot;com.mysql.cj.jdbc.Driver&quot;);\n    properties.put(&quot;DB_URL&quot;, &quot;jdbc:mysql://localhost:3306/world&quot;);\n    properties.put(&quot;DB_USERNAME&quot;, &quot;root&quot;);\n    properties.put(&quot;DB_PASSWORD&quot;, &quot;1111&quot;);\n    properties.put(&quot;DB_AUTO_RECONNECT&quot;, &quot;true&quot;);\n    properties.put(&quot;DB_CHARACTER_ENCODING&quot;, &quot;UTF-8&quot;);\n    properties.put(&quot;DB_USE_UNICODE&quot;, &quot;true&quot;);\n    \n    \n    try {\n        properties.store(new FileWriter(&quot;src/connectionDB/base/db.properties&quot;), &quot;Comment writes&quot;);\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n<p>then, you can  read file without mistakes:</p>\n<pre><code>try {           \n        properties.load(new FileReader(&quot;src\\\\connectionDB\\\\base\\\\db.properties&quot;));          \n        properties.list(System.out);\n    } catch (IOException ex) {\n        System.out.println(ex.getMessage());\n    }   \n</code></pre>\n<p>or</p>\n<pre><code>        try {\n        String str = new String(Files.readAllBytes(Paths.get(&quot;src/connectionDB/base/db.properties&quot;)), StandardCharsets.UTF_8);\n        properties.load(new StringReader(str));\n        properties.list(System.out);\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n<p>or</p>\n<pre><code>    InputStream inputStream = getClass().getClassLoader().getResourceAsStream(&quot;connectionDB/base/db.properties&quot;);\n    try {\n        Reader reader = new InputStreamReader(inputStream, &quot;UTF-8&quot;);\n        try {           \n            properties.load(reader);\n            properties.list(System.out);\n        } catch (IOException e) {\n            System.out.println(e.getMessage());\n        }\n    } catch (UnsupportedEncodingException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n</code></pre>\n<p>never mind....\nthen close the code that creates this file and use file *.properties</p>\n"}],"owner":{"account_id":17920,"reputation":6340,"user_id":40615,"accept_rate":100,"display_name":"TJL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112722,"favorite_count":0,"down_vote_count":0,"up_vote_count":50,"accepted_answer_id":1858566,"answer_count":13,"score":50,"last_activity_date":1672828779,"creation_date":1242313187,"question_id":863838,"body_markdown":"I&#39;ve recently had to switch encoding of webapp I&#39;m working on from `ISO-xx` to `utf8`. Everything went smooth, except properties files. I added `-Dfile.encoding=UTF-8` in `eclipse.ini` and normal files work fine. Properties however show some strange behaviour.\r\n\r\nIf I copy `utf8` encoded properties from Notepad++ and paste them in Eclipse, they show and work fine. When I reopen properties file, I see some Unicode characters instead of proper ones, like:\r\n\r\n    Zur\\u00EF\\u00BF\\u00BDck instead of Zur&#252;ck\r\n\r\nbut app still works fine.\r\nIf I start to edit properties, add some special characters and save, they display correctly, however they don&#39;t work and all previously working special characters don&#39;t work any more. \r\n\r\nWhen I compare local version with CVS I can see special characters correctly on remote file and after update I&#39;m at start again: app works, but Eclipse displays Unicode chars.\r\n\r\nI tried changing file encoding by right clicking it and selecting „Other: UTF8” but it didn&#39;t help. It also said: „determined from content: ISO-8859-1”\r\n\r\nI&#39;m using Java 6 and Jboss Developer based on Eclipse 3.3\r\n\r\nI can live with it by editing properties in Notepad++ and pasting them in Eclipse, but I would be grateful if someone could help me with fixing this in Eclipse.","title":"Java properties UTF-8 encoding in Eclipse","body":"<p>I've recently had to switch encoding of webapp I'm working on from <code>ISO-xx</code> to <code>utf8</code>. Everything went smooth, except properties files. I added <code>-Dfile.encoding=UTF-8</code> in <code>eclipse.ini</code> and normal files work fine. Properties however show some strange behaviour.</p>\n\n<p>If I copy <code>utf8</code> encoded properties from Notepad++ and paste them in Eclipse, they show and work fine. When I reopen properties file, I see some Unicode characters instead of proper ones, like:</p>\n\n<pre><code>Zur\\u00EF\\u00BF\\u00BDck instead of Zurück\n</code></pre>\n\n<p>but app still works fine.\nIf I start to edit properties, add some special characters and save, they display correctly, however they don't work and all previously working special characters don't work any more. </p>\n\n<p>When I compare local version with CVS I can see special characters correctly on remote file and after update I'm at start again: app works, but Eclipse displays Unicode chars.</p>\n\n<p>I tried changing file encoding by right clicking it and selecting „Other: UTF8” but it didn't help. It also said: „determined from content: ISO-8859-1”</p>\n\n<p>I'm using Java 6 and Jboss Developer based on Eclipse 3.3</p>\n\n<p>I can live with it by editing properties in Notepad++ and pasting them in Eclipse, but I would be grateful if someone could help me with fixing this in Eclipse.</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":444141,"reputation":3322,"user_id":835785,"accept_rate":57,"display_name":"javalearner"},"score":0,"creation_date":1385975325,"post_id":20323229,"comment_id":30331606,"body_markdown":"Yeah, Thanks. I will make sure i do it hereafter.","body":"Yeah, Thanks. I will make sure i do it hereafter."},{"owner":{"account_id":281486,"reputation":8971,"user_id":577812,"accept_rate":86,"display_name":"omnomnom"},"score":0,"creation_date":1409689955,"post_id":20323229,"comment_id":40047327,"body_markdown":"http://www.ontheserverside.com/blog/2014/07/23/horizontal-and-vertical-scaling-strategies-for-batch-applications/","body":"<a href=\"http://www.ontheserverside.com/blog/2014/07/23/horizontal-and-vertical-scaling-strategies-for-batch-applications/\" rel=\"nofollow noreferrer\">ontheserverside.com/blog/2014/07/23/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":444141,"reputation":3322,"user_id":835785,"accept_rate":57,"display_name":"javalearner"},"score":0,"creation_date":1386050951,"post_id":20342308,"comment_id":30366747,"body_markdown":"Thanks Michael Minella","body":"Thanks Michael Minella"},{"owner":{"account_id":307668,"reputation":2161,"user_id":619097,"accept_rate":57,"display_name":"Rams"},"score":1,"creation_date":1523090493,"post_id":20342308,"comment_id":86424342,"body_markdown":"can we use REST calls for communication between master and slave instead of JMS?","body":"can we use REST calls for communication between master and slave instead of JMS?"},{"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"score":0,"creation_date":1523204410,"post_id":20342308,"comment_id":86453007,"body_markdown":"For remote partitioning, yes you can use REST calls to communicate.","body":"For remote partitioning, yes you can use REST calls to communicate."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1565353937,"post_id":20342308,"comment_id":101338120,"body_markdown":"@Michael Minella could you provide example of REST communication between master and slave for remote partitioning?","body":"@Michael Minella could you provide example of REST communication between master and slave for remote partitioning?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1565710848,"post_id":20342308,"comment_id":101433839,"body_markdown":"https://github.com/spring-projects/spring-batch/tree/master/spring-batch-samples#partitioning-sample here slave doesn&#39;t write any data back to the master","body":"<a href=\"https://github.com/spring-projects/spring-batch/tree/master/spring-batch-samples#partitioning-sample\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/tree/master/&hellip;</a> here slave doesn&#39;t write any data back to the master"},{"owner":{"account_id":5217403,"reputation":145,"user_id":4171886,"accept_rate":50,"display_name":"William"},"score":1,"creation_date":1571924933,"post_id":20342308,"comment_id":103407149,"body_markdown":"Why can&#39;t the slave do I/O?  i.e. master sends a batch of data to a slave, the slave does some processing and then inserts the result into a db.","body":"Why can&#39;t the slave do I/O?  i.e. master sends a batch of data to a slave, the slave does some processing and then inserts the result into a db."},{"owner":{"account_id":1554660,"reputation":344,"user_id":1446174,"accept_rate":89,"display_name":"Pascal Petruch"},"score":0,"creation_date":1610117729,"post_id":20342308,"comment_id":116038677,"body_markdown":"@MichaelMinella When using RemotePartitioning, do the workers (slaves, as mentioned above) run in their own process and own JVM?","body":"@MichaelMinella When using RemotePartitioning, do the workers (slaves, as mentioned above) run in their own process and own JVM?"},{"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"score":0,"creation_date":1610134227,"post_id":20342308,"comment_id":116046005,"body_markdown":"With remote partitioning, yes. You can do partitioning without it being remote as well. Then the partitions run in threads within the same JVM.","body":"With remote partitioning, yes. You can do partitioning without it being remote as well. Then the partitions run in threads within the same JVM."}],"tags":[],"owner":{"account_id":708374,"reputation":20953,"user_id":618059,"accept_rate":100,"display_name":"Michael Minella"},"comment_count":8,"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1386041147,"creation_date":1386041147,"answer_id":20342308,"question_id":20323229,"body_markdown":"**Remote Partitioning**\r\n\r\nPartitioning is a master/slave step configuration that allows for partitions of data to be processed in parallel.  Each partition is described via some metadata.  For example, if you were processing a database table, partition 1 may be ids 0-100, partition 2 being 101-200, etc.  For Spring Batch, a master step uses a [Partitioner][1] to generate ExecutionContexts that contain the metadata for each partition.  These ExecutionContexts are distributed to slave step for processing by a [PartitionHandler][2] (for remote partitioning, the [MessageChannelPartitionHandler][3] is typically used).  The slaves execute their step and return the resulting statuses for aggregation by the master.\r\n\r\nThings to note about remote partitioning:\r\n\r\n - Input and output are local to the slaves.  For example, if the input is a file, the slaves need access to the file.\r\n - Slaves need access to the JobRepository.  Slaves are fully defined Spring Batch steps and so they need JobRepository access.\r\n\r\n**Remote Chunking**\r\n\r\nRemote chunking is similar to remote partitioning in that it is a master/slave configuration.  However with remote chunking, the data is read at by the master and sent over the wire to the slave for processing.  Once the processing is done, the result of the ItemProcessor is returned to the master for writing.\r\n\r\nThings to note about remote chunking:\r\n\r\n - All I/O is done by the master.\r\n - The slaves handle processing only and therefore do not need JobRepository access.\r\n - Remote chunking is more I/O intensive than remote partitioning since the actual data is sent over the wire instead of metadata describing it.\r\n\r\nI did a talk on scaling Spring Batch and do a demonstration of remote partitioning that you can watch here: http://www.youtube.com/watch?v=CYTj5YT7CZU\r\n\r\n  [1]: http://docs.spring.io/spring-batch/apidocs/index.html?org/springframework/batch/core/partition/support/Partitioner.html\r\n  [2]: http://docs.spring.io/spring-batch/apidocs/index.html?org/springframework/batch/core/partition/support/Partitioner.html\r\n  [3]: http://docs.spring.io/spring-batch-admin/trunk/spring-batch-integration/apidocs/org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html","title":"Difference between spring batch remote chunking and remote partitioning","body":"<p><strong>Remote Partitioning</strong></p>\n\n<p>Partitioning is a master/slave step configuration that allows for partitions of data to be processed in parallel.  Each partition is described via some metadata.  For example, if you were processing a database table, partition 1 may be ids 0-100, partition 2 being 101-200, etc.  For Spring Batch, a master step uses a <a href=\"http://docs.spring.io/spring-batch/apidocs/index.html?org/springframework/batch/core/partition/support/Partitioner.html\" rel=\"noreferrer\">Partitioner</a> to generate ExecutionContexts that contain the metadata for each partition.  These ExecutionContexts are distributed to slave step for processing by a <a href=\"http://docs.spring.io/spring-batch/apidocs/index.html?org/springframework/batch/core/partition/support/Partitioner.html\" rel=\"noreferrer\">PartitionHandler</a> (for remote partitioning, the <a href=\"http://docs.spring.io/spring-batch-admin/trunk/spring-batch-integration/apidocs/org/springframework/batch/integration/partition/MessageChannelPartitionHandler.html\" rel=\"noreferrer\">MessageChannelPartitionHandler</a> is typically used).  The slaves execute their step and return the resulting statuses for aggregation by the master.</p>\n\n<p>Things to note about remote partitioning:</p>\n\n<ul>\n<li>Input and output are local to the slaves.  For example, if the input is a file, the slaves need access to the file.</li>\n<li>Slaves need access to the JobRepository.  Slaves are fully defined Spring Batch steps and so they need JobRepository access.</li>\n</ul>\n\n<p><strong>Remote Chunking</strong></p>\n\n<p>Remote chunking is similar to remote partitioning in that it is a master/slave configuration.  However with remote chunking, the data is read at by the master and sent over the wire to the slave for processing.  Once the processing is done, the result of the ItemProcessor is returned to the master for writing.</p>\n\n<p>Things to note about remote chunking:</p>\n\n<ul>\n<li>All I/O is done by the master.</li>\n<li>The slaves handle processing only and therefore do not need JobRepository access.</li>\n<li>Remote chunking is more I/O intensive than remote partitioning since the actual data is sent over the wire instead of metadata describing it.</li>\n</ul>\n\n<p>I did a talk on scaling Spring Batch and do a demonstration of remote partitioning that you can watch here: <a href=\"http://www.youtube.com/watch?v=CYTj5YT7CZU\" rel=\"noreferrer\">http://www.youtube.com/watch?v=CYTj5YT7CZU</a></p>\n"},{"tags":[],"owner":{"account_id":6210841,"reputation":63,"user_id":14101715,"display_name":"Pascoal Eddy Bayonne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672828759,"creation_date":1672828759,"answer_id":75004198,"question_id":20323229,"body_markdown":" **Remote Chunking**\r\n\r\nRemote chunking is a manager/worker approach which allows Spring Batch developers to scale batch applications.\r\n\r\nIn remote chunking, the Step processing is split across multiple processes, communicating with each other through some messaging middleware. \r\n\r\nProcessing and writing are done by the worker, while reading is done by the master. The manager has to read and then pass actual records to the worker via the wire (eg: kafka topic). \r\n\r\n[Practical example][1]\r\n\r\n\r\n  [1]: https://medium.com/@eddybayonne1/remote-chunking-with-spring-batch-integration-63c9df75e361\r\n\r\nTutorial:\r\nhttps://www.youtube.com/watch?v=-MFtwajUalg\r\n\r\n**Remote Partitioning**\r\n\r\nRemote partitioning allows you to fan out the work load to multiple JVMs. Out of the box , Spring Batch provides message-based PartitionHandler that can be used to fan out processing across JVMs.\r\n\r\nPro: Restartability. Spans across JVMs. Thread safety\r\n\r\nCon: Complex set up of the paritioner and worker deployment\r\n\r\n","title":"Difference between spring batch remote chunking and remote partitioning","body":"<p><strong>Remote Chunking</strong></p>\n<p>Remote chunking is a manager/worker approach which allows Spring Batch developers to scale batch applications.</p>\n<p>In remote chunking, the Step processing is split across multiple processes, communicating with each other through some messaging middleware.</p>\n<p>Processing and writing are done by the worker, while reading is done by the master. The manager has to read and then pass actual records to the worker via the wire (eg: kafka topic).</p>\n<p><a href=\"https://medium.com/@eddybayonne1/remote-chunking-with-spring-batch-integration-63c9df75e361\" rel=\"nofollow noreferrer\">Practical example</a></p>\n<p>Tutorial:\n<a href=\"https://www.youtube.com/watch?v=-MFtwajUalg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=-MFtwajUalg</a></p>\n<p><strong>Remote Partitioning</strong></p>\n<p>Remote partitioning allows you to fan out the work load to multiple JVMs. Out of the box , Spring Batch provides message-based PartitionHandler that can be used to fan out processing across JVMs.</p>\n<p>Pro: Restartability. Spans across JVMs. Thread safety</p>\n<p>Con: Complex set up of the paritioner and worker deployment</p>\n"}],"owner":{"account_id":444141,"reputation":3322,"user_id":835785,"accept_rate":57,"display_name":"javalearner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14789,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":20342308,"answer_count":2,"score":18,"last_activity_date":1672828759,"creation_date":1385970542,"question_id":20323229,"body_markdown":"What is the difference between spring batch remote chunking and remote partitioning?\r\n\r\nI can not understand the difference between remote chunking and remote partitioning in spring batch. Could anybody please explain?\r\n\r\n","title":"Difference between spring batch remote chunking and remote partitioning","body":"<p>What is the difference between spring batch remote chunking and remote partitioning?</p>\n\n<p>I can not understand the difference between remote chunking and remote partitioning in spring batch. Could anybody please explain?</p>\n"},{"tags":["java","https","keystore","oracle-adf"],"owner":{"account_id":15268268,"reputation":1,"user_id":11016179,"display_name":"Skyrapp92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672828622,"creation_date":1672827682,"question_id":75004012,"body_markdown":"I am using the below script to call the https webservice URL with certificates.\r\nThe certificate is imported into glassfish server and keytool, I have created `keystore.jks` in the particular location. Below is the code to call the certificates and passwords\r\n               \r\n```\r\nSystem.setProperty(&quot;java.protocol.handler.pkgs&quot;,&quot;com.sun.net.ssl.internal.www.protocol&quot;);\r\n                String KEYSTORE = &quot;&quot;, truststore = &quot;&quot;;\r\n                KEYSTORE = &quot;keystore.jks&quot;;\r\n                final String KEYSTOREPASS = &quot;test123&quot;;\r\n                truststore  = &quot;/u01/home/odadmin/erpwallet/&quot;;\r\n                final String TRUESTOREPASS= &quot;test123&quot;;\r\n                \r\n                KeyStore ks = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n                \r\n                ks.load(new FileInputStream(KEYSTORE), KEYSTOREPASS.toCharArray());\r\n                KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                kmf.init(ks, KEYSTOREPASS.toCharArray());\r\n                \r\n                SSLContext sslctx2 = SSLContext.getInstance(&quot;SSLv3&quot;);\r\n                sslctx2.init(kmf.getKeyManagers(), null, null);\r\n\r\n                KeyStore ksTrust = KeyStore.getInstance(&quot;JKS&quot;);\r\n                ksTrust.load(new FileInputStream(truststore), TRUESTOREPASS.toCharArray());\r\n                //just tested if my certificate was imported in root Cacert\r\n                java.security.cert.Certificate cert = ksTrust.getCertificate(&quot;addcertificate&quot;);\r\n                //TrustManager&#39;s decide whether to allow connections.\r\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n                tmf.init(ksTrust);\r\n                \r\n                System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;pkcs12&quot;);\r\n                System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\r\n                System.setProperty(&quot;javax.net.ssl.keyStore&quot;, KEYSTORE);\r\n                System.setProperty(&quot;javax.net.ssl.trustStore&quot;, truststore);\r\n                System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\r\n                System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, KEYSTOREPASS);\r\n                System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, TRUESTOREPASS);\r\n                \r\n                sslctx2.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\r\n//                byte[] buffer = file.getBytes(&quot;UTF-8&quot;);\r\n                //******\r\n                HttpsURLConnection.setDefaultSSLSocketFactory(sslctx2.getSocketFactory());`\r\n\r\n```\r\n                \r\n\r\n                 \r\n\r\nI am getting the below error. Can anyone tell me whether this is correct or not?.\r\n\r\n```\r\njava.io.IOException: DerInputStream.getLength(): lengthTag=109, too big.\r\n\tat sun.security.util.DerInputStream.getLength(DerInputStream.java:561)\r\n\tat sun.security.util.DerValue.init(DerValue.java:365)\r\n\tat sun.security.util.DerValue.&lt;init&gt;(DerValue.java:320)\r\n\tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1233)\r\n\tat java.security.KeyStore.load(KeyStore.java:1214)\r\n\tat ooredoo.view.backing.customer.CustomerRegistrationBean.submitCustomerNTF(CustomerRegistrationBean.java:369)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat com.sun.el.parser.AstValue.invoke(AstValue.java:254)\r\n\tat com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:302)\r\n\tat com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\r\n\tat javax.faces.event.MethodExpressionActionListener.processAction(MethodExpressionActionListener.java:148)\r\n\tat javax.faces.event.ActionEvent.processListener(ActionEvent.java:88)\r\n\tat org.apache.myfaces.trinidad.component.UIXComponentBase.broadcast(UIXComponentBase.java:1113)\r\n\tat org.apache.myfaces.trinidad.component.UIXCommand.broadcast(UIXCommand.java:179)\r\n\tat org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\r\n\tat oracle.adf.view.rich.event.ProxyEvent.broadcastWrappedEvent(ProxyEvent.java:72)\r\n\tat oracle.adf.view.rich.component.fragment.UIXRegion.broadcast(UIXRegion.java:124)\r\n\tat org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\r\n\tat org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82)\r\n\tat oracle.adf.view.rich.component.fragment.ContextSwitchingComponent$1.run(ContextSwitchingComponent.java:168)\r\n\tat oracle.adf.view.rich.component.fragment.ContextSwitchingComponent._processPhase(ContextSwitchingComponent.java:510)\r\n\tat oracle.adf.view.rich.component.fragment.ContextSwitchingComponent.broadcast(ContextSwitchingComponent.java:171)\r\n\tat org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\r\n\tat org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82)\r\n\tat oracle.adf.view.rich.component.fragment.UIXInclude.broadcast(UIXInclude.java:111)\r\n\tat org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\r\n\tat org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82)\r\n\tat oracle.adf.view.rich.component.fragment.ContextSwitchingComponent$1.run(ContextSwitchingComponent.java:168)\r\n\tat oracle.adf.view.rich.component.fragment.ContextSwitchingComponent._processPhase(ContextSwitchingComponent.java:510)\r\n\tat oracle.adf.view.rich.component.fragment.ContextSwitchingComponent.broadcast(ContextSwitchingComponent.java:171)\r\n\tat oracle.adf.view.rich.component.fragment.UIXInclude.broadcast(UIXInclude.java:115)\r\n\tat javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)\r\n\tat javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)\r\n\tat oracle.adfinternal.view.faces.lifecycle.LifecycleImpl._invokeApplication(LifecycleImpl.java:1074)\r\n\tat oracle.adfinternal.view.faces.lifecycle.LifecycleImpl._executePhase(LifecycleImpl.java:402)\r\n\tat oracle.adfinternal.view.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:225)\r\n\tat javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\r\n\tat org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\r\n\tat ooredoo.view.backing.filter.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:76)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\r\n\tat oracle.adf.model.servlet.ADFBindingFilter.doFilter(ADFBindingFilter.java:192)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\r\n\tat oracle.adfinternal.view.faces.webapp.rich.RegistrationFilter.doFilter(RegistrationFilter.java:105)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl$FilterListChain.doFilter(TrinidadFilterImpl.java:502)\r\n\tat oracle.adfinternal.view.faces.activedata.AdsFilter.doFilter(AdsFilter.java:60)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl$FilterListChain.doFilter(TrinidadFilterImpl.java:502)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl._doFilterImpl(TrinidadFilterImpl.java:327)\r\n\tat org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl.doFilter(TrinidadFilterImpl.java:229)\r\n\tat org.apache.myfaces.trinidad.webapp.TrinidadFilter.doFilter(TrinidadFilter.java:92)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\r\n\tat oracle.adf.library.webapp.LibraryFilter.doFilter(LibraryFilter.java:202)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:279)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\r\n\tat org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)\r\n\tat org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)\r\n\tat com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)\r\n\tat com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)\r\n\tat com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)\r\n\tat com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)\r\n\tat com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)\r\n\tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)\r\n\tat com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)\r\n\tat com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)\r\n\tat com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)\r\n\tat com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)\r\n\tat com.sun.grizzly.ContextTask.run(ContextTask.java:71)\r\n\tat com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)\r\n\tat com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n","title":"How to call HTTPS webservie URL from oracle ADF with certificates","body":"<p>I am using the below script to call the https webservice URL with certificates.\nThe certificate is imported into glassfish server and keytool, I have created <code>keystore.jks</code> in the particular location. Below is the code to call the certificates and passwords</p>\n<pre><code>System.setProperty(&quot;java.protocol.handler.pkgs&quot;,&quot;com.sun.net.ssl.internal.www.protocol&quot;);\n                String KEYSTORE = &quot;&quot;, truststore = &quot;&quot;;\n                KEYSTORE = &quot;keystore.jks&quot;;\n                final String KEYSTOREPASS = &quot;test123&quot;;\n                truststore  = &quot;/u01/home/odadmin/erpwallet/&quot;;\n                final String TRUESTOREPASS= &quot;test123&quot;;\n                \n                KeyStore ks = KeyStore.getInstance(&quot;pkcs12&quot;);\n                \n                ks.load(new FileInputStream(KEYSTORE), KEYSTOREPASS.toCharArray());\n                KeyManagerFactory kmf = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n                kmf.init(ks, KEYSTOREPASS.toCharArray());\n                \n                SSLContext sslctx2 = SSLContext.getInstance(&quot;SSLv3&quot;);\n                sslctx2.init(kmf.getKeyManagers(), null, null);\n\n                KeyStore ksTrust = KeyStore.getInstance(&quot;JKS&quot;);\n                ksTrust.load(new FileInputStream(truststore), TRUESTOREPASS.toCharArray());\n                //just tested if my certificate was imported in root Cacert\n                java.security.cert.Certificate cert = ksTrust.getCertificate(&quot;addcertificate&quot;);\n                //TrustManager's decide whether to allow connections.\n                TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n                tmf.init(ksTrust);\n                \n                System.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;pkcs12&quot;);\n                System.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;jks&quot;);\n                System.setProperty(&quot;javax.net.ssl.keyStore&quot;, KEYSTORE);\n                System.setProperty(&quot;javax.net.ssl.trustStore&quot;, truststore);\n                System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);\n                System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, KEYSTOREPASS);\n                System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, TRUESTOREPASS);\n                \n                sslctx2.init(kmf.getKeyManagers(), tmf.getTrustManagers(), null);\n//                byte[] buffer = file.getBytes(&quot;UTF-8&quot;);\n                //******\n                HttpsURLConnection.setDefaultSSLSocketFactory(sslctx2.getSocketFactory());`\n\n</code></pre>\n<p>I am getting the below error. Can anyone tell me whether this is correct or not?.</p>\n<pre><code>java.io.IOException: DerInputStream.getLength(): lengthTag=109, too big.\n    at sun.security.util.DerInputStream.getLength(DerInputStream.java:561)\n    at sun.security.util.DerValue.init(DerValue.java:365)\n    at sun.security.util.DerValue.&lt;init&gt;(DerValue.java:320)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1233)\n    at java.security.KeyStore.load(KeyStore.java:1214)\n    at ooredoo.view.backing.customer.CustomerRegistrationBean.submitCustomerNTF(CustomerRegistrationBean.java:369)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.sun.el.parser.AstValue.invoke(AstValue.java:254)\n    at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:302)\n    at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105)\n    at javax.faces.event.MethodExpressionActionListener.processAction(MethodExpressionActionListener.java:148)\n    at javax.faces.event.ActionEvent.processListener(ActionEvent.java:88)\n    at org.apache.myfaces.trinidad.component.UIXComponentBase.broadcast(UIXComponentBase.java:1113)\n    at org.apache.myfaces.trinidad.component.UIXCommand.broadcast(UIXCommand.java:179)\n    at org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\n    at oracle.adf.view.rich.event.ProxyEvent.broadcastWrappedEvent(ProxyEvent.java:72)\n    at oracle.adf.view.rich.component.fragment.UIXRegion.broadcast(UIXRegion.java:124)\n    at org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\n    at org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82)\n    at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent$1.run(ContextSwitchingComponent.java:168)\n    at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent._processPhase(ContextSwitchingComponent.java:510)\n    at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent.broadcast(ContextSwitchingComponent.java:171)\n    at org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\n    at org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82)\n    at oracle.adf.view.rich.component.fragment.UIXInclude.broadcast(UIXInclude.java:111)\n    at org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364)\n    at org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82)\n    at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent$1.run(ContextSwitchingComponent.java:168)\n    at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent._processPhase(ContextSwitchingComponent.java:510)\n    at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent.broadcast(ContextSwitchingComponent.java:171)\n    at oracle.adf.view.rich.component.fragment.UIXInclude.broadcast(UIXInclude.java:115)\n    at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:794)\n    at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1259)\n    at oracle.adfinternal.view.faces.lifecycle.LifecycleImpl._invokeApplication(LifecycleImpl.java:1074)\n    at oracle.adfinternal.view.faces.lifecycle.LifecycleImpl._executePhase(LifecycleImpl.java:402)\n    at oracle.adfinternal.view.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:225)\n    at javax.faces.webapp.FacesServlet.service(FacesServlet.java:593)\n    at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1550)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:343)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\n    at ooredoo.view.backing.filter.SessionExpiryFilter.doFilter(SessionExpiryFilter.java:76)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\n    at oracle.adf.model.servlet.ADFBindingFilter.doFilter(ADFBindingFilter.java:192)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\n    at oracle.adfinternal.view.faces.webapp.rich.RegistrationFilter.doFilter(RegistrationFilter.java:105)\n    at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl$FilterListChain.doFilter(TrinidadFilterImpl.java:502)\n    at oracle.adfinternal.view.faces.activedata.AdsFilter.doFilter(AdsFilter.java:60)\n    at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl$FilterListChain.doFilter(TrinidadFilterImpl.java:502)\n    at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl._doFilterImpl(TrinidadFilterImpl.java:327)\n    at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl.doFilter(TrinidadFilterImpl.java:229)\n    at org.apache.myfaces.trinidad.webapp.TrinidadFilter.doFilter(TrinidadFilter.java:92)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\n    at oracle.adf.library.webapp.LibraryFilter.doFilter(LibraryFilter.java:202)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:217)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:279)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:175)\n    at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:655)\n    at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:595)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:161)\n    at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:331)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:231)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$AdapterCallable.call(ContainerMapper.java:317)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:195)\n    at com.sun.grizzly.http.ProcessorTask.invokeAdapter(ProcessorTask.java:860)\n    at com.sun.grizzly.http.ProcessorTask.doProcess(ProcessorTask.java:757)\n    at com.sun.grizzly.http.ProcessorTask.process(ProcessorTask.java:1056)\n    at com.sun.grizzly.http.DefaultProtocolFilter.execute(DefaultProtocolFilter.java:229)\n    at com.sun.grizzly.DefaultProtocolChain.executeProtocolFilter(DefaultProtocolChain.java:137)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:104)\n    at com.sun.grizzly.DefaultProtocolChain.execute(DefaultProtocolChain.java:90)\n    at com.sun.grizzly.http.HttpProtocolChain.execute(HttpProtocolChain.java:79)\n    at com.sun.grizzly.ProtocolChainContextTask.doCall(ProtocolChainContextTask.java:54)\n    at com.sun.grizzly.SelectionKeyContextTask.call(SelectionKeyContextTask.java:59)\n    at com.sun.grizzly.ContextTask.run(ContextTask.java:71)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:532)\n    at com.sun.grizzly.util.AbstractThreadPool$Worker.run(AbstractThreadPool.java:513)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","ldap","java-11","spring-ldap","java-module"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1576377707,"creation_date":1576377707,"answer_id":59340827,"question_id":59339965,"body_markdown":"If you do understand the error specifically when it reads in details the following: \r\n\r\n&gt; module java.naming does not export com.sun.jndi.ldap to module\r\n&gt; spring.ldap.core\r\n\r\nYou can then formulate the workaround for this to provide access using modifiers  as JVM options via the command line: \r\n \r\n    --add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core","title":"springframework ldap core propblem with java modules","body":"<p>If you do understand the error specifically when it reads in details the following: </p>\n\n<blockquote>\n  <p>module java.naming does not export com.sun.jndi.ldap to module\n  spring.ldap.core</p>\n</blockquote>\n\n<p>You can then formulate the workaround for this to provide access using modifiers  as JVM options via the command line: </p>\n\n<pre><code>--add-exports java.naming/com.sun.jndi.ldap=spring.ldap.core\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39201,"reputation":329,"user_id":112951,"accept_rate":44,"display_name":"hb5fa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633971558,"creation_date":1633971558,"answer_id":69529939,"question_id":59339965,"body_markdown":"I had the same problem but everything turned normal after I switched to Java 11.","title":"springframework ldap core propblem with java modules","body":"<p>I had the same problem but everything turned normal after I switched to Java 11.</p>\n"},{"comments":[{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1650539766,"post_id":69873695,"comment_id":127144687,"body_markdown":"this answer works absolutely fine, as long as you haven&#39;t declared Java modules. In the latter case, Naman&#39;s answer&#39;s viable","body":"this answer works absolutely fine, as long as you haven&#39;t declared Java modules. In the latter case, Naman&#39;s answer&#39;s viable"},{"owner":{"account_id":16036243,"reputation":154,"user_id":11573887,"display_name":"Henry Xiloj Herrera"},"score":0,"creation_date":1659117338,"post_id":69873695,"comment_id":129224987,"body_markdown":"thanks work for me, with java 17 just add next dependency -&gt;                     &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.4.1&lt;/version&gt;\n\t\t&lt;/dependency&gt;","body":"thanks work for me, with java 17 just add next dependency -&gt;                     &lt;dependency&gt; \t\t\t&lt;groupId&gt;org.springframework.ldap&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;spring-ldap-core&lt;/artifactId&gt; \t\t\t&lt;version&gt;2.4.1&lt;/version&gt; \t\t&lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":324230,"reputation":6336,"user_id":644686,"accept_rate":60,"display_name":"victorio"},"comment_count":2,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1636298056,"creation_date":1636298056,"answer_id":69873695,"question_id":59339965,"body_markdown":"I had the same problem when I wanted to upgrade to Java 17. But when I updated the spring-ldap-core dependency to the latest, it worked fine.","title":"springframework ldap core propblem with java modules","body":"<p>I had the same problem when I wanted to upgrade to Java 17. But when I updated the spring-ldap-core dependency to the latest, it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":12206338,"reputation":51,"user_id":8909336,"display_name":"bartoni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672828491,"creation_date":1672828491,"answer_id":75004158,"question_id":59339965,"body_markdown":"I had this error when running an integration test. All I had to do was exclude the `LdabAutoConfiguration.class` from Spring automatic configuration, like this:\r\n\r\n\r\n    @EnableAutoConfiguration(exclude = {LdapAutoConfiguration.class})\r\n    class MyApplicationTestIT { ... }","title":"springframework ldap core propblem with java modules","body":"<p>I had this error when running an integration test. All I had to do was exclude the <code>LdabAutoConfiguration.class</code> from Spring automatic configuration, like this:</p>\n<pre><code>@EnableAutoConfiguration(exclude = {LdapAutoConfiguration.class})\nclass MyApplicationTestIT { ... }\n</code></pre>\n"}],"owner":{"account_id":12211089,"reputation":75,"user_id":8912852,"display_name":"rauno l&#245;hmus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9798,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":59340827,"answer_count":4,"score":7,"last_activity_date":1672828491,"creation_date":1576365184,"question_id":59339965,"body_markdown":"Had this kind of problem with main java module.\r\n\r\n&lt;pre&gt;\r\nrg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;ldapContextSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/ldap/embedded/EmbeddedLdapAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ldap.core.support.LdapContextSource]: Factory method &#39;ldapContextSource&#39; threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in module spring.ldap.core) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to module spring.ldap.core\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.context@5.2.2.RELEASE/org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.2.RELEASE.jar:na]\r\n\tat spring.context@5.2.2.RELEASE/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.2.RELEASE.jar:na]\r\n\tat spring.boot@2.2.2.RELEASE/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.2.RELEASE.jar:na]\r\n\tat spring.boot@2.2.2.RELEASE/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.2.RELEASE.jar:na]\r\n\tat spring.boot@2.2.2.RELEASE/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.2.RELEASE.jar:na]\r\n\tat spring.boot@2.2.2.RELEASE/org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.2.RELEASE.jar:na]\r\n\tat app/com.test.app.App.main(App.java:9) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ldap.core.support.LdapContextSource]: Factory method &#39;ldapContextSource&#39; threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in module spring.ldap.core) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to module spring.ldap.core\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\t... 17 common frames omitted\r\nCaused by: java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in module spring.ldap.core) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to module spring.ldap.core\r\n\tat spring.ldap.core@2.3.2.RELEASE/org.springframework.ldap.core.support.AbstractContextSource.&lt;clinit&gt;(AbstractContextSource.java:77) ~[spring-ldap-core-2.3.2.RELEASE.jar:na]\r\n\tat spring.boot.autoconfigure@2.2.2.RELEASE/org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration.ldapContextSource(EmbeddedLdapAutoConfiguration.java:93) ~[spring-boot-autoconfigure-2.2.2.RELEASE.jar:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.2.RELEASE.jar:na]\r\n\t... 18 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n &lt;/pre&gt;\r\nI understand whats wrong, but is there any workaround for this, besides remove module-info.java from main module ?\r\n","title":"springframework ldap core propblem with java modules","body":"<p>Had this kind of problem with main java module.</p>\n\n<pre>\nrg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'ldapContextSource' defined in class path resource [org/springframework/boot/autoconfigure/ldap/embedded/EmbeddedLdapAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ldap.core.support.LdapContextSource]: Factory method 'ldapContextSource' threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in module spring.ldap.core) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to module spring.ldap.core\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:656) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:636) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1338) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:557) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:879) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.context@5.2.2.RELEASE/org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:878) ~[spring-context-5.2.2.RELEASE.jar:na]\n    at spring.context@5.2.2.RELEASE/org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:550) ~[spring-context-5.2.2.RELEASE.jar:na]\n    at spring.boot@2.2.2.RELEASE/org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141) ~[spring-boot-2.2.2.RELEASE.jar:na]\n    at spring.boot@2.2.2.RELEASE/org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747) ~[spring-boot-2.2.2.RELEASE.jar:na]\n    at spring.boot@2.2.2.RELEASE/org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) ~[spring-boot-2.2.2.RELEASE.jar:na]\n    at spring.boot@2.2.2.RELEASE/org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-2.2.2.RELEASE.jar:na]\n    at app/com.test.app.App.main(App.java:9) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.ldap.core.support.LdapContextSource]: Factory method 'ldapContextSource' threw exception; nested exception is java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in module spring.ldap.core) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to module spring.ldap.core\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:651) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    ... 17 common frames omitted\nCaused by: java.lang.IllegalAccessError: class org.springframework.ldap.core.support.AbstractContextSource (in module spring.ldap.core) cannot access class com.sun.jndi.ldap.LdapCtxFactory (in module java.naming) because module java.naming does not export com.sun.jndi.ldap to module spring.ldap.core\n    at spring.ldap.core@2.3.2.RELEASE/org.springframework.ldap.core.support.AbstractContextSource.(AbstractContextSource.java:77) ~[spring-ldap-core-2.3.2.RELEASE.jar:na]\n    at spring.boot.autoconfigure@2.2.2.RELEASE/org.springframework.boot.autoconfigure.ldap.embedded.EmbeddedLdapAutoConfiguration.ldapContextSource(EmbeddedLdapAutoConfiguration.java:93) ~[spring-boot-autoconfigure-2.2.2.RELEASE.jar:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at spring.beans@5.2.2.RELEASE/org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.2.2.RELEASE.jar:na]\n    ... 18 common frames omitted\n\n\nProcess finished with exit code 1\n\n </pre>\n\n<p>I understand whats wrong, but is there any workaround for this, besides remove module-info.java from main module ?</p>\n"},{"tags":["java","regex","go"],"comments":[{"owner":{"account_id":7523947,"reputation":668,"user_id":5714900,"display_name":"Amin Rashidbeigi"},"score":1,"creation_date":1672826735,"post_id":75003795,"comment_id":132358783,"body_markdown":"what is `\\p{Punct}`? I think you get the error because of this part.","body":"what is <code>\\p{Punct}</code>? I think you get the error because of this part."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1672826893,"post_id":75003795,"comment_id":132358842,"body_markdown":"@AminRashidbeigi See https://www.regular-expressions.info/unicode.html#category","body":"@AminRashidbeigi See <a href=\"https://www.regular-expressions.info/unicode.html#category\" rel=\"nofollow noreferrer\">regular-expressions.info/unicode.html#category</a>"},{"owner":{"account_id":7523947,"reputation":668,"user_id":5714900,"display_name":"Amin Rashidbeigi"},"score":0,"creation_date":1672827156,"post_id":75003795,"comment_id":132358933,"body_markdown":"@KonradRudolph yeah but I think `Punct` makes this error. It is not proper keyword. nah?","body":"@KonradRudolph yeah but I think <code>Punct</code> makes this error. It is not proper keyword. nah?"},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1672827845,"post_id":75003795,"comment_id":132359173,"body_markdown":"@Amin `Punct` is the name of a POSIX character class and [the Java regex engines seem to support the name using the Unicode class notation](https://www.regular-expressions.info/posixbrackets.html#class). But you&#39;re right, it&#39;s not officially defined. `\\p{Punctuation}` should work.","body":"@Amin <code>Punct</code> is the name of a POSIX character class and <a href=\"https://www.regular-expressions.info/posixbrackets.html#class\" rel=\"nofollow noreferrer\">the Java regex engines seem to support the name using the Unicode class notation</a>. But you&#39;re right, it&#39;s not officially defined. <code>\\p{Punctuation}</code> should work."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1672827852,"post_id":75003795,"comment_id":132359177,"body_markdown":"For those wondering about `\\p{Punct}`, that&#39;s from Java&#39;s `Pattern` class (see [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#posix)).","body":"For those wondering about <code>\\p{Punct}</code>, that&#39;s from Java&#39;s <code>Pattern</code> class (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#posix\" rel=\"nofollow noreferrer\">here</a>)."},{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1672829488,"post_id":75003795,"comment_id":132359666,"body_markdown":"@KonradRudolph Punctuation is not valid, what it&#39;s valid is `\\p{P}` but the problem is the punctuation from Java is not the same as Go so he&#39;ll need to map more characters. So if he want&#39;s to use `\\p{P}` what he needs to do is to start the regex with `(?P&lt;name&gt;=^|[a-z]-|[\\s\\p{P}...`","body":"@KonradRudolph Punctuation is not valid, what it&#39;s valid is <code>\\p{P}</code> but the problem is the punctuation from Java is not the same as Go so he&#39;ll need to map more characters. So if he want&#39;s to use <code>\\p{P}</code> what he needs to do is to start the regex with <code>(?P&lt;name&gt;=^|[a-z]-|[\\s\\p{P}...</code>"}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672828335,"creation_date":1672828335,"answer_id":75004127,"question_id":75003795,"body_markdown":"If you take a look at [`Java regex Pattern documentation`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html), you&#39;ll see that `\\p{Punct}` is `Punctuation: One of !&quot;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\\]^_{|}~`\r\n\r\n&gt;\\p{Punct}\tPunctuation: One of !&quot;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\\]^_`{|}~\r\n\r\nSo what you need to convert this to a go regex checking the [`regexp syntax documentation`](https://pkg.go.dev/regexp/syntax)","title":"Convert regex from Java to Go","body":"<p>If you take a look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>Java regex Pattern documentation</code></a>, you'll see that <code>\\p{Punct}</code> is <code>Punctuation: One of !&quot;#$%&amp;'()*+,-./:;&lt;=&gt;?@[\\]^_{|}~</code></p>\n<blockquote>\n<p>\\p{Punct}  Punctuation: One of !&quot;#$%&amp;'()*+,-./:;&lt;=&gt;?@[]^_`{|}~</p>\n</blockquote>\n<p>So what you need to convert this to a go regex checking the <a href=\"https://pkg.go.dev/regexp/syntax\" rel=\"nofollow noreferrer\"><code>regexp syntax documentation</code></a></p>\n"}],"owner":{"account_id":27429390,"reputation":11,"user_id":20926338,"display_name":"Yuxing Yang"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":75004127,"answer_count":1,"score":-2,"last_activity_date":1672828335,"creation_date":1672826483,"question_id":75003795,"body_markdown":"    (?&lt;=^|[a-z]\\-|[\\s\\p{Punct}&amp;&amp;[^\\-]])([A-Z][A-Z0-9_]*-\\d+)(?![^\\W_])\r\n\r\nI use the library reregexp2\r\n\r\nThis RE does not work in Go and will report error:\r\n\r\n    regexp2: Compile(`(?&lt;=^|[a-z]\\-|[\\s\\p{Punct}&amp;&amp;[^\\-]])([A-Z][A-Z0-9_]*-\\d+)(?![^\\W_])`): error parsing regexp: unknown unicode category, script, or property &#39;Punct&#39; in `(?&lt;=^|[a-z]\\-|[\\s\\p{Punct}&amp;&amp;[^\\-]])([A-Z][A-Z0-9_]*-\\d+)(?![^\\W_])`\r\n\r\nI hope it can be executed normally","title":"Convert regex from Java to Go","body":"<pre><code>(?&lt;=^|[a-z]\\-|[\\s\\p{Punct}&amp;&amp;[^\\-]])([A-Z][A-Z0-9_]*-\\d+)(?![^\\W_])\n</code></pre>\n<p>I use the library reregexp2</p>\n<p>This RE does not work in Go and will report error:</p>\n<pre><code>regexp2: Compile(`(?&lt;=^|[a-z]\\-|[\\s\\p{Punct}&amp;&amp;[^\\-]])([A-Z][A-Z0-9_]*-\\d+)(?![^\\W_])`): error parsing regexp: unknown unicode category, script, or property 'Punct' in `(?&lt;=^|[a-z]\\-|[\\s\\p{Punct}&amp;&amp;[^\\-]])([A-Z][A-Z0-9_]*-\\d+)(?![^\\W_])`\n</code></pre>\n<p>I hope it can be executed normally</p>\n"},{"tags":["java","xml","jaxb","quarkus"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1672829192,"post_id":75004124,"comment_id":132359573,"body_markdown":"The whole point with namespaces is that ns1:Whatever should be different from ns2:Whatever if ns1 and ns2 are different namespaces. If you are using namespaces, ignoring them is certainly not good practice (my opinion). Given a choice I would reject bad data as early as possible. If the caller got the namespace wrong, there may be other and more subtle errors too.","body":"The whole point with namespaces is that ns1:Whatever should be different from ns2:Whatever if ns1 and ns2 are different namespaces. If you are using namespaces, ignoring them is certainly not good practice (my opinion). Given a choice I would reject bad data as early as possible. If the caller got the namespace wrong, there may be other and more subtle errors too."},{"owner":{"account_id":27203229,"reputation":109,"user_id":20735188,"display_name":"Carla C"},"score":0,"creation_date":1672837946,"post_id":75004124,"comment_id":132362283,"body_markdown":"Ok thanks, I understand. Do I have to annotate every element/attribute or is there a way to propagate the namespace annotation?","body":"Ok thanks, I understand. Do I have to annotate every element/attribute or is there a way to propagate the namespace annotation?"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1672839360,"post_id":75004124,"comment_id":132362802,"body_markdown":"I don&#39;t think you need to annotate everything, but my XML skills are a bit rusty. I&#39;ll leave that answer to someone else.","body":"I don&#39;t think you need to annotate everything, but my XML skills are a bit rusty. I&#39;ll leave that answer to someone else."}],"owner":{"account_id":27203229,"reputation":109,"user_id":20735188,"display_name":"Carla C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1672828312,"creation_date":1672828312,"question_id":75004124,"body_markdown":"I&#39;m writing a Quarkus microservice and I need to upload a file and then parse it. The file upload part is all good, now I&#39;m trying to parse file content to XML. I&#39;m struggling with XML namespaces\r\n\r\nI&#39;m using this dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n    &lt;artifactId&gt;quarkus-resteasy-reactive-jaxb&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand here is my resource:\r\n\r\n```\r\n@Path(&quot;/import&quot;)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@Consumes(MediaType.MULTIPART_FORM_DATA)\r\n@RequestScoped\r\npublic class FileUploadResource {\r\n    @Inject\r\n    Unmarshaller unmarshaller;\r\n\r\n    @POST\r\n    public Uni&lt;Void&gt; importFile(final MultipartData data) {\r\n        try {\r\n            Document document = (Document) this.unmarshaller.unmarshal(data.file);\r\n            return Uni.createFrom().voidItem();\r\n        } catch (Exception e) {\r\n            Log.error(e.getMessage(), e);\r\n            throw new WebApplicationException(500);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nModels:\r\n\r\n```\r\n@RegisterForReflection\r\npublic class MultipartData {\r\n    @RestForm\r\n    public InputStream file;\r\n}\r\n```\r\n\r\n```\r\n@XmlRootElement(namespace = &quot;some-namespace&quot;, name=&quot;Document&quot;)\r\npublic class Document {\r\n    @XmlElement(namespace = &quot;some-namespace&quot;)\r\n    public Element element;\r\n}\r\n```\r\n\r\nI&#39;m uploading files with this root element: `&lt;Document xmlns=&quot;some-namespace&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;` but namespaces can potentially change.\r\n\r\nI experienced that Element is null if the namespace is not specified. Is it possible (and good practice) to unmarshall xml files regardless of the namespace?\r\n\r\nI tried this way: https://quarkus.io/guides/resteasy-reactive#customize-the-jaxb-configuration but I don&#39;t find the correct customization","title":"Quarkus JAXB configuration","body":"<p>I'm writing a Quarkus microservice and I need to upload a file and then parse it. The file upload part is all good, now I'm trying to parse file content to XML. I'm struggling with XML namespaces</p>\n<p>I'm using this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n    &lt;artifactId&gt;quarkus-resteasy-reactive-jaxb&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and here is my resource:</p>\n<pre><code>@Path(&quot;/import&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.MULTIPART_FORM_DATA)\n@RequestScoped\npublic class FileUploadResource {\n    @Inject\n    Unmarshaller unmarshaller;\n\n    @POST\n    public Uni&lt;Void&gt; importFile(final MultipartData data) {\n        try {\n            Document document = (Document) this.unmarshaller.unmarshal(data.file);\n            return Uni.createFrom().voidItem();\n        } catch (Exception e) {\n            Log.error(e.getMessage(), e);\n            throw new WebApplicationException(500);\n        }\n    }\n}\n</code></pre>\n<p>Models:</p>\n<pre><code>@RegisterForReflection\npublic class MultipartData {\n    @RestForm\n    public InputStream file;\n}\n</code></pre>\n<pre><code>@XmlRootElement(namespace = &quot;some-namespace&quot;, name=&quot;Document&quot;)\npublic class Document {\n    @XmlElement(namespace = &quot;some-namespace&quot;)\n    public Element element;\n}\n</code></pre>\n<p>I'm uploading files with this root element: <code>&lt;Document xmlns=&quot;some-namespace&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;</code> but namespaces can potentially change.</p>\n<p>I experienced that Element is null if the namespace is not specified. Is it possible (and good practice) to unmarshall xml files regardless of the namespace?</p>\n<p>I tried this way: <a href=\"https://quarkus.io/guides/resteasy-reactive#customize-the-jaxb-configuration\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/resteasy-reactive#customize-the-jaxb-configuration</a> but I don't find the correct customization</p>\n"},{"tags":["java","unit-testing","openapi","vert.x"],"answers":[{"comments":[{"owner":{"account_id":27418771,"reputation":11,"user_id":20917561,"display_name":"Ikarus"},"score":0,"creation_date":1672737929,"post_id":74991037,"comment_id":132337121,"body_markdown":"I&#39;ve not tried it but the vertx threads aren&#39;t supposed to be stopped like that i think. I&#39;ll give it a try though.\nThanks for your answer !","body":"I&#39;ve not tried it but the vertx threads aren&#39;t supposed to be stopped like that i think. I&#39;ll give it a try though. Thanks for your answer !"}],"tags":[],"owner":{"account_id":424920,"reputation":693,"user_id":805195,"accept_rate":0,"display_name":"Sourajit Basak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672736031,"creation_date":1672736031,"answer_id":74991037,"question_id":74990983,"body_markdown":"See https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\r\n\r\nIt is meant for threaded environments, though.\r\n\r\n","title":"How do i make my test wait that my verticle is fully deployed to start?","body":"<p>See <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html</a></p>\n<p>It is meant for threaded environments, though.</p>\n"},{"tags":[],"owner":{"account_id":27418771,"reputation":11,"user_id":20917561,"display_name":"Ikarus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672828196,"creation_date":1672828196,"answer_id":75004103,"question_id":74990983,"body_markdown":"Ok so i managed to find the solution to my problem !\r\nFirst i tried to use \r\n\r\n    testContext.awaitCompletion(1, TimeUnit.SECONDS)\r\n\r\nto make the test wait for the full deployement of my routes.\r\n\r\nAfter that i looked at my main Verticle code and refactored it to complete the start Promise only when every route is deployed so that when the tests starts i already know that the route are already built. So i no longuer needed to wait in my tests before trying to ping my routes.\r\n","title":"How do i make my test wait that my verticle is fully deployed to start?","body":"<p>Ok so i managed to find the solution to my problem !\nFirst i tried to use</p>\n<pre><code>testContext.awaitCompletion(1, TimeUnit.SECONDS)\n</code></pre>\n<p>to make the test wait for the full deployement of my routes.</p>\n<p>After that i looked at my main Verticle code and refactored it to complete the start Promise only when every route is deployed so that when the tests starts i already know that the route are already built. So i no longuer needed to wait in my tests before trying to ping my routes.</p>\n"}],"owner":{"account_id":27418771,"reputation":11,"user_id":20917561,"display_name":"Ikarus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75004103,"answer_count":2,"score":0,"last_activity_date":1672828196,"creation_date":1672735758,"question_id":74990983,"body_markdown":"i&#39;m having a bit of trouble trying to write some tests for my vertx api. I&#39;m using open-api to set the route using a scheme that i download from an api-curio schema registry. My app is working but when i tried to make tests, some of them weren&#39;t working properly. It seems like my test is executing himself before the route is actually set. How can i get my test to wait before executing himself ?\r\n\r\nHere is the problematic part of my tests :\r\n\r\n\r\n```\r\n@BeforeEach\r\nvoid deploy_verticle(Vertx vertx, VertxTestContext testContext) {\r\n  mainVerticle = new MainVerticle();\r\n  client = vertx.createHttpClient();\r\n  ConfigStoreOptions propertyFile = new ConfigStoreOptions()\r\n    .setType(&quot;file&quot;)\r\n    .setFormat(&quot;properties&quot;)\r\n    .setConfig(new JsonObject().put(&quot;path&quot;, &quot;src/main/resources/local_config.properties&quot;));\r\n  ConfigRetrieverOptions options = new ConfigRetrieverOptions()\r\n    .addStore(propertyFile);\r\n  ConfigRetriever retriever = ConfigRetriever.create(vertx, options);\r\n  retriever.getConfig(config -&gt; vertx.deployVerticle(mainVerticle, new DeploymentOptions().setConfig(config.result()), testContext.succeedingThenComplete()));\r\n}\r\n```\r\nThis test isn&#39;t working properly even if my api is working perfectly :  \r\n\r\n```\r\n@Test\r\nvoid listEmployeTest(Vertx vertx, VertxTestContext testContext) throws Throwable {\r\n  HttpClient client = vertx.createHttpClient();\r\n  client.request(HttpMethod.GET, 8080, &quot;localhost&quot;, &quot;/v2.3/employes/&quot;).compose(request -&gt; request.send()).onSuccess(body -&gt; {\r\n    assertEquals(200, body.statusCode());\r\n    testContext.completeNow();\r\n  }).onFailure(failure -&gt; testContext.failNow(failure));\r\n}\r\n```\r\n\r\n","title":"How do i make my test wait that my verticle is fully deployed to start?","body":"<p>i'm having a bit of trouble trying to write some tests for my vertx api. I'm using open-api to set the route using a scheme that i download from an api-curio schema registry. My app is working but when i tried to make tests, some of them weren't working properly. It seems like my test is executing himself before the route is actually set. How can i get my test to wait before executing himself ?</p>\n<p>Here is the problematic part of my tests :</p>\n<pre><code>@BeforeEach\nvoid deploy_verticle(Vertx vertx, VertxTestContext testContext) {\n  mainVerticle = new MainVerticle();\n  client = vertx.createHttpClient();\n  ConfigStoreOptions propertyFile = new ConfigStoreOptions()\n    .setType(&quot;file&quot;)\n    .setFormat(&quot;properties&quot;)\n    .setConfig(new JsonObject().put(&quot;path&quot;, &quot;src/main/resources/local_config.properties&quot;));\n  ConfigRetrieverOptions options = new ConfigRetrieverOptions()\n    .addStore(propertyFile);\n  ConfigRetriever retriever = ConfigRetriever.create(vertx, options);\n  retriever.getConfig(config -&gt; vertx.deployVerticle(mainVerticle, new DeploymentOptions().setConfig(config.result()), testContext.succeedingThenComplete()));\n}\n</code></pre>\n<p>This test isn't working properly even if my api is working perfectly :</p>\n<pre><code>@Test\nvoid listEmployeTest(Vertx vertx, VertxTestContext testContext) throws Throwable {\n  HttpClient client = vertx.createHttpClient();\n  client.request(HttpMethod.GET, 8080, &quot;localhost&quot;, &quot;/v2.3/employes/&quot;).compose(request -&gt; request.send()).onSuccess(body -&gt; {\n    assertEquals(200, body.statusCode());\n    testContext.completeNow();\n  }).onFailure(failure -&gt; testContext.failNow(failure));\n}\n</code></pre>\n"},{"tags":["java","spring-boot","socket.io","netty-socketio"],"owner":{"account_id":27429393,"reputation":1,"user_id":20926340,"display_name":"jak_ptm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672828118,"creation_date":1672826739,"question_id":75003850,"body_markdown":"I&#39;m working with netty socket io in spring and angular in the frontend. When testing the backend with Postman, everything works fine. So i want to stream data on Connect to the frontend and display it there.\r\n\r\nTo do so i got a SocketService like following:\r\n```\r\nexport class SocketService {\r\n\r\n  constructor(private socket: Socket) { }\r\n\r\n  onGetAllDashboardData = this.socket.fromEvent&lt;string&gt;(&#39;getAllDashboardData&#39;);\r\n\r\n  getAllDashboardData() {\r\n    this.socket.emit(&#39;getAllDashboardData&#39;);\r\n  }\r\n}\r\n```\r\n\r\nCalling this in my component in the onInit:\r\n\r\n```\r\nngOnInit(): void {\r\n    this.socketService.getAllDashboardData();\r\n    this.socketService.onGetAllDashboardData.subscribe((res: any) =&gt; {\r\n      this.data = res;\r\n      console.log(this.data);\r\n    }\r\n}\r\n```\r\nDoes not get any data.\r\n\r\n\r\n\r\nWhen testing with Postman, i can just connect to the server and listen to the event &#39;getAllDashboardData&#39; and get a proper response. (see screenshot) The backend also logs, that the angular client connected.\r\n[Postman Screenshot][1]\r\n\r\n  [1]: https://i.stack.imgur.com/2lUzA.png","title":"Netty socket io and angular not working with onConnect Event","body":"<p>I'm working with netty socket io in spring and angular in the frontend. When testing the backend with Postman, everything works fine. So i want to stream data on Connect to the frontend and display it there.</p>\n<p>To do so i got a SocketService like following:</p>\n<pre><code>export class SocketService {\n\n  constructor(private socket: Socket) { }\n\n  onGetAllDashboardData = this.socket.fromEvent&lt;string&gt;('getAllDashboardData');\n\n  getAllDashboardData() {\n    this.socket.emit('getAllDashboardData');\n  }\n}\n</code></pre>\n<p>Calling this in my component in the onInit:</p>\n<pre><code>ngOnInit(): void {\n    this.socketService.getAllDashboardData();\n    this.socketService.onGetAllDashboardData.subscribe((res: any) =&gt; {\n      this.data = res;\n      console.log(this.data);\n    }\n}\n</code></pre>\n<p>Does not get any data.</p>\n<p>When testing with Postman, i can just connect to the server and listen to the event 'getAllDashboardData' and get a proper response. (see screenshot) The backend also logs, that the angular client connected.\n<a href=\"https://i.stack.imgur.com/2lUzA.png\" rel=\"nofollow noreferrer\">Postman Screenshot</a></p>\n"},{"tags":["java","performance","uitableview","android-activity","uiwebview"],"owner":{"account_id":27422726,"reputation":1,"user_id":20920835,"display_name":"MANIKANDAN K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672827496,"creation_date":1672827334,"question_id":75003954,"body_markdown":"This is my sample app code:\r\n\r\n```\r\npublic class MainActivity extends CordovaActivity {\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Bundle extras = getIntent().getExtras();\r\n        if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) {\r\n            moveTaskToBack(true);\r\n        }\r\n        loadUrl(this.launchUrl);\r\n    }\r\n}\r\n``` \r\n\r\nIam looking into another app via put the url and then load to this app.But url not loading.\r\n\r\n\r\nThis is my another testing appp code\r\n\r\n\r\n\r\n```\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Intent exploit = new Intent();\r\n        exploit.setClassName(&quot;com.etoro.openbook&quot;,&quot;com.etoro.openbook.MainActivity&quot;);\r\n      String url=&quot;https://manithehacker.selfmade.one&quot;;\r\n      exploit.putExtra(&quot;cdvStartInBackground&quot;,url);\r\n\r\n        startActivity(exploit);\r\n    }\r\n}\r\n\r\n```\r\nanyone tell me how to put the url in this applicstion to view the web page via my test app\r\n\r\nhow to put the url in my testing application??","title":"how to send data in my sample application?","body":"<p>This is my sample app code:</p>\n<pre><code>public class MainActivity extends CordovaActivity {\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Bundle extras = getIntent().getExtras();\n        if (extras != null &amp;&amp; extras.getBoolean(&quot;cdvStartInBackground&quot;, false)) {\n            moveTaskToBack(true);\n        }\n        loadUrl(this.launchUrl);\n    }\n}\n</code></pre>\n<p>Iam looking into another app via put the url and then load to this app.But url not loading.</p>\n<p>This is my another testing appp code</p>\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Intent exploit = new Intent();\n        exploit.setClassName(&quot;com.etoro.openbook&quot;,&quot;com.etoro.openbook.MainActivity&quot;);\n      String url=&quot;https://manithehacker.selfmade.one&quot;;\n      exploit.putExtra(&quot;cdvStartInBackground&quot;,url);\n\n        startActivity(exploit);\n    }\n}\n\n</code></pre>\n<p>anyone tell me how to put the url in this applicstion to view the web page via my test app</p>\n<p>how to put the url in my testing application??</p>\n"},{"tags":["java","spring","http","web"],"comments":[{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":1,"creation_date":1672825442,"post_id":75003522,"comment_id":132358354,"body_markdown":"Make sure you have `@SpringBootApplication` annotation on your application class.","body":"Make sure you have <code>@SpringBootApplication</code> annotation on your application class."}],"answers":[{"tags":[],"owner":{"account_id":26624143,"reputation":19,"user_id":20242432,"display_name":"programmmm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1672827230,"creation_date":1672827230,"answer_id":75003944,"question_id":75003522,"body_markdown":"I looked through the linked github and saw, that they have a RestServiceApplication.java, which is never created in the tutorial. After I added that, everything works fine now :)","title":"Spring.io error 404 in the official example","body":"<p>I looked through the linked github and saw, that they have a RestServiceApplication.java, which is never created in the tutorial. After I added that, everything works fine now :)</p>\n"}],"owner":{"account_id":26624143,"reputation":19,"user_id":20242432,"display_name":"programmmm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75003944,"answer_count":1,"score":0,"last_activity_date":1672827230,"creation_date":1672825000,"question_id":75003522,"body_markdown":"Currently Im new to spring and I tried the example (https://spring.io/guides/gs/rest-service/) they have on their website. I think I followed all steps correctly, but with a httpget in postman I only get this response:\r\n\r\n    \r\n    &quot;timestamp&quot;: &quot;2023-01-04T09:23:03.965+00:00&quot;,\r\n    &quot;status&quot;: 404,\r\n    &quot;error&quot;: &quot;Not Found&quot;,\r\n    &quot;message&quot;: &quot;No message available&quot;,\r\n    &quot;path&quot;: &quot;/greeting&quot;\r\n\r\n\r\nHere is the Code:\r\n\r\nGreeting.java:\r\n```\r\npackage com.example.restservice;\r\n\r\npublic class Greeting {\r\n\r\n    private final long id;\r\n    private final String content;\r\n\r\n    public Greeting(long id, String content) {\r\n        this.id = id;\r\n        this.content = content;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n}\r\n```\r\nGreetingController.java:\r\n````\r\n    package com.example.restservice;\r\n\r\nimport java.util.concurrent.atomic.AtomicLong;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class GreetingController {\r\n\r\n    private static final String template = &quot;Hello, %s!&quot;;\r\n    private final AtomicLong counter = new AtomicLong();\r\n\r\n    @GetMapping(&quot;/greeting&quot;)\r\n    public Greeting greeting(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\r\n        return new Greeting(counter.incrementAndGet(), String.format(template, name));\r\n    }\r\n}\r\n````\r\n\r\nand here is the build.gradle:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web-services&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    implementation &#39;org.springframework.session:spring-session-core&#39;\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n","title":"Spring.io error 404 in the official example","body":"<p>Currently Im new to spring and I tried the example (<a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service/</a>) they have on their website. I think I followed all steps correctly, but with a httpget in postman I only get this response:</p>\n<pre><code>&quot;timestamp&quot;: &quot;2023-01-04T09:23:03.965+00:00&quot;,\n&quot;status&quot;: 404,\n&quot;error&quot;: &quot;Not Found&quot;,\n&quot;message&quot;: &quot;No message available&quot;,\n&quot;path&quot;: &quot;/greeting&quot;\n</code></pre>\n<p>Here is the Code:</p>\n<p>Greeting.java:</p>\n<pre><code>package com.example.restservice;\n\npublic class Greeting {\n\n    private final long id;\n    private final String content;\n\n    public Greeting(long id, String content) {\n        this.id = id;\n        this.content = content;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public String getContent() {\n        return content;\n    }\n}\n</code></pre>\n<p>GreetingController.java:</p>\n<pre><code>    package com.example.restservice;\n\nimport java.util.concurrent.atomic.AtomicLong;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class GreetingController {\n\n    private static final String template = &quot;Hello, %s!&quot;;\n    private final AtomicLong counter = new AtomicLong();\n\n    @GetMapping(&quot;/greeting&quot;)\n    public Greeting greeting(@RequestParam(value = &quot;name&quot;, defaultValue = &quot;World&quot;) String name) {\n        return new Greeting(counter.incrementAndGet(), String.format(template, name));\n    }\n}\n</code></pre>\n<p>and here is the build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.1'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-rest'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-web-services'\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.session:spring-session-core'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":100076,"reputation":6521,"user_id":2684342,"accept_rate":92,"display_name":"WoodenKitty"},"score":2,"creation_date":1421464068,"post_id":10205437,"comment_id":44381934,"body_markdown":"possible duplicate of [A Cleaner IF Statement](http://stackoverflow.com/questions/20952325/a-cleaner-if-statement)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/20952325/a-cleaner-if-statement\">A Cleaner IF Statement</a>"}],"answers":[{"comments":[{"owner":{"account_id":1024230,"reputation":120585,"user_id":1033896,"accept_rate":71,"display_name":"hmjd"},"score":0,"creation_date":1334737524,"post_id":10205481,"comment_id":13105522,"body_markdown":"You can populate the collection with whatever values you require. In case if `str` was `&quot;val&quot;` then in the code in my answer `strings.contains()` would return `false`.","body":"You can populate the collection with whatever values you require. In case if <code>str</code> was <code>&quot;val&quot;</code> then in the code in my answer <code>strings.contains()</code> would return <code>false</code>."},{"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"score":0,"creation_date":1334737739,"post_id":10205481,"comment_id":13105585,"body_markdown":"No no i am saying that if someone pass str value as &quot;Val&quot; which is not as equal as &quot;Val1&quot;,&quot;Val2,&quot;Val3&quot;.\nThat mean passing str value as &quot;Val&quot; must be failed.. but in your case this will be pass.Not satisfy my condition.","body":"No no i am saying that if someone pass str value as &quot;Val&quot; which is not as equal as &quot;Val1&quot;,&quot;Val2,&quot;Val3&quot;. That mean passing str value as &quot;Val&quot; must be failed.. but in your case this will be pass.Not satisfy my condition."},{"owner":{"account_id":1024230,"reputation":120585,"user_id":1033896,"accept_rate":71,"display_name":"hmjd"},"score":0,"creation_date":1334738107,"post_id":10205481,"comment_id":13105714,"body_markdown":"From the question case is irrelevant due to presence of `equalsIgnoreCase()`. If `&quot;Val&quot;` is passed and `strings` contains `&quot;val1&quot;`, `&quot;val2&quot;`, and `&quot;val3&quot;` then `contains()` will return `false`. See http://ideone.com/LiYKP .","body":"From the question case is irrelevant due to presence of <code>equalsIgnoreCase()</code>. If <code>&quot;Val&quot;</code> is passed and <code>strings</code> contains <code>&quot;val1&quot;</code>, <code>&quot;val2&quot;</code>, and <code>&quot;val3&quot;</code> then <code>contains()</code> will return <code>false</code>. See <a href=\"http://ideone.com/LiYKP\" rel=\"nofollow noreferrer\">ideone.com/LiYKP</a> ."},{"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"score":0,"creation_date":1334741088,"post_id":10205481,"comment_id":13106808,"body_markdown":"Oh you used HashSet to store Strings . OK I got this.","body":"Oh you used HashSet to store Strings . OK I got this."},{"owner":{"account_id":2027945,"reputation":4954,"user_id":1812434,"accept_rate":57,"display_name":"Venkata Raju"},"score":0,"creation_date":1545850914,"post_id":10205481,"comment_id":94712161,"body_markdown":"or `new TreeSet&lt;&gt;(String.CASE_INSENSITIVE_ORDER)`. `if (strings.contains(str)) { ... }`. No need to call `String.toLowerCase()`","body":"or <code>new TreeSet&lt;&gt;(String.CASE_INSENSITIVE_ORDER)</code>. <code>if (strings.contains(str)) { ... }</code>. No need to call <code>String.toLowerCase()</code>"},{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":0,"creation_date":1631031202,"post_id":10205481,"comment_id":122111820,"body_markdown":"@Venkata, the argument of TreeSet constructor it&#39;s only for sort porpoises, not for convert &quot;contains&quot; method into case insensitive","body":"@Venkata, the argument of TreeSet constructor it&#39;s only for sort porpoises, not for convert &quot;contains&quot; method into case insensitive"}],"tags":[],"owner":{"account_id":1024230,"reputation":120585,"user_id":1033896,"accept_rate":71,"display_name":"hmjd"},"comment_count":6,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1334737017,"creation_date":1334737017,"answer_id":10205481,"question_id":10205437,"body_markdown":"You could store all the strings that you want to compare `str` with into a collection and check if the collection contains `str`. Store all strings in the collection as lowercase and convert `str` to lowercase before querying the collection. For example:\r\n\r\n    Set&lt;String&gt; strings = new HashSet&lt;String&gt;();\r\n    strings.add(&quot;val1&quot;);\r\n    strings.add(&quot;val2&quot;);\r\n\r\n    String str = &quot;Val1&quot;;\r\n\r\n    if (strings.contains(str.toLowerCase()))\r\n    {\r\n    }\r\n\r\n","title":"Compare one String with multiple values in one expression","body":"<p>You could store all the strings that you want to compare <code>str</code> with into a collection and check if the collection contains <code>str</code>. Store all strings in the collection as lowercase and convert <code>str</code> to lowercase before querying the collection. For example:</p>\n\n<pre><code>Set&lt;String&gt; strings = new HashSet&lt;String&gt;();\nstrings.add(\"val1\");\nstrings.add(\"val2\");\n\nString str = \"Val1\";\n\nif (strings.contains(str.toLowerCase()))\n{\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"score":0,"creation_date":1334737471,"post_id":10205485,"comment_id":13105502,"body_markdown":"For the collections worth to consider, like HashSet, contains() has much more efficient implementation.","body":"For the collections worth to consider, like HashSet, contains() has much more efficient implementation."},{"owner":{"account_id":5747,"reputation":3010,"user_id":9422,"display_name":"slipset"},"score":0,"creation_date":1334737629,"post_id":10205485,"comment_id":13105553,"body_markdown":"True, but (which may be a moot point), equals and equalsIgnoreCase do not yield the same result. This could of course be overcome by storing the strings as lower case and lowercasing the key you&#39;re looking for, but, YMMV","body":"True, but (which may be a moot point), equals and equalsIgnoreCase do not yield the same result. This could of course be overcome by storing the strings as lower case and lowercasing the key you&#39;re looking for, but, YMMV"}],"tags":[],"owner":{"account_id":5747,"reputation":3010,"user_id":9422,"display_name":"slipset"},"comment_count":2,"down_vote_count":4,"up_vote_count":1,"is_accepted":false,"score":-3,"last_activity_date":1334737046,"creation_date":1334737046,"answer_id":10205485,"question_id":10205437,"body_markdown":"No, there is no such possibility.\r\nAllthough, one could imagine:\r\n\r\n    public static boolean contains(String s, Collection&lt;String&gt;c) {\r\n        for (String ss : c) {\r\n           if (s.equalsIgnoreCase(ss)) return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n","title":"Compare one String with multiple values in one expression","body":"<p>No, there is no such possibility.\nAllthough, one could imagine:</p>\n\n<pre><code>public static boolean contains(String s, Collection&lt;String&gt;c) {\n    for (String ss : c) {\n       if (s.equalsIgnoreCase(ss)) return true;\n    }\n    return false;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":153165,"reputation":5541,"user_id":368220,"accept_rate":57,"display_name":"Martijn"},"score":0,"creation_date":1431251066,"post_id":10205523,"comment_id":48407422,"body_markdown":"I like this one! I&#39;m probably overlooking something, but why do you include `next` as a parameter? That can just as well be part of the var-args `rest`, right?","body":"I like this one! I&#39;m probably overlooking something, but why do you include <code>next</code> as a parameter? That can just as well be part of the var-args <code>rest</code>, right?"},{"owner":{"account_id":1345324,"reputation":3987,"user_id":1286210,"display_name":"Neet"},"score":0,"creation_date":1431367226,"post_id":10205523,"comment_id":48455052,"body_markdown":"By having &#39;next&#39; I enforce passing at least _one_ parameter. So you can not do `compareWithMany(&quot;foo&quot;)`. It&#39;s a compile-time sanity check, instead of having to deal with an empty set to compare against during runtime.","body":"By having &#39;next&#39; I enforce passing at least <i>one</i> parameter. So you can not do <code>compareWithMany(&quot;foo&quot;)</code>. It&#39;s a compile-time sanity check, instead of having to deal with an empty set to compare against during runtime."}],"tags":[],"owner":{"account_id":1345324,"reputation":3987,"user_id":1286210,"display_name":"Neet"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1334737183,"creation_date":1334737183,"answer_id":10205523,"question_id":10205437,"body_markdown":"Just use var-args and write your own static method:\r\n\r\n    public static boolean compareWithMany(String first, String next, String ... rest)\r\n    {\r\n        if(first.equalsIgnoreCase(next))\r\n            return true;\r\n        for(int i = 0; i &lt; rest.length; i++)\r\n        {\r\n            if(first.equalsIgnoreCase(rest[i]))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        final String str = &quot;val1&quot;;\r\n        System.out.println(compareWithMany(str, &quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;));\r\n    }\r\n","title":"Compare one String with multiple values in one expression","body":"<p>Just use var-args and write your own static method:</p>\n\n<pre><code>public static boolean compareWithMany(String first, String next, String ... rest)\n{\n    if(first.equalsIgnoreCase(next))\n        return true;\n    for(int i = 0; i &lt; rest.length; i++)\n    {\n        if(first.equalsIgnoreCase(rest[i]))\n            return true;\n    }\n    return false;\n}\n\npublic static void main(String[] args)\n{\n    final String str = \"val1\";\n    System.out.println(compareWithMany(str, \"val1\", \"val2\", \"val3\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":344164,"reputation":2553,"user_id":676326,"accept_rate":50,"display_name":"TKV"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334737270,"creation_date":1334737270,"answer_id":10205545,"question_id":10205437,"body_markdown":"You can achieve this with Collections framework. Put all your options in a Collection say something like `Collection&lt;String&gt; options` ;\r\n\r\nThen loop throgh this to compare your string with the list elements and if it is you can return a boolean value true and otherwise false.","title":"Compare one String with multiple values in one expression","body":"<p>You can achieve this with Collections framework. Put all your options in a Collection say something like <code>Collection&lt;String&gt; options</code> ;</p>\n\n<p>Then loop throgh this to compare your string with the list elements and if it is you can return a boolean value true and otherwise false.</p>\n"},{"comments":[{"owner":{"account_id":1355153,"reputation":1718,"user_id":1293704,"accept_rate":100,"display_name":"Primoz990"},"score":2,"creation_date":1494498011,"post_id":10213310,"comment_id":74858551,"body_markdown":"The `matches` function does not work well for all cases. The answer of @hmjd did it for my case. See [Regex doesn&#39;t work in String.matches()](http://stackoverflow.com/questions/8923398/regex-doesnt-work-in-string-matches) for more info.","body":"The <code>matches</code> function does not work well for all cases. The answer of @hmjd did it for my case. See <a href=\"http://stackoverflow.com/questions/8923398/regex-doesnt-work-in-string-matches\">Regex doesn&#39;t work in String.matches()</a> for more info."},{"owner":{"account_id":1464832,"reputation":186,"user_id":1378018,"display_name":"David Bradley"},"score":3,"creation_date":1591362184,"post_id":10213310,"comment_id":110034608,"body_markdown":"Be aware this is the least performant solution according to Manuel Romeiro but I think it&#39;s one of the more readable solutions.","body":"Be aware this is the least performant solution according to Manuel Romeiro but I think it&#39;s one of the more readable solutions."},{"owner":{"account_id":2381629,"reputation":735,"user_id":2083529,"accept_rate":86,"display_name":"user2083529"},"score":0,"creation_date":1592473357,"post_id":10213310,"comment_id":110440191,"body_markdown":"using regex is not performant in long running cases\nkindly refer to my detailed reason,\nhttps://stackoverflow.com/a/62447007/2083529","body":"using regex is not performant in long running cases kindly refer to my detailed reason, <a href=\"https://stackoverflow.com/a/62447007/2083529\">stackoverflow.com/a/62447007/2083529</a>"}],"tags":[],"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"comment_count":3,"down_vote_count":1,"up_vote_count":128,"is_accepted":true,"score":127,"last_activity_date":1533280070,"creation_date":1334764749,"answer_id":10213310,"question_id":10205437,"body_markdown":"I found the better solution. This can be achieved through RegEx: \r\n    \r\n    if (str.matches(&quot;val1|val2|val3&quot;)) {\r\n         // remaining code\r\n    }\r\n\r\nFor case insensitive matching:\r\n\r\n    if (str.matches(&quot;(?i)val1|val2|val3&quot;)) {\r\n         // remaining code\r\n    }","title":"Compare one String with multiple values in one expression","body":"<p>I found the better solution. This can be achieved through RegEx: </p>\n\n<pre><code>if (str.matches(\"val1|val2|val3\")) {\n     // remaining code\n}\n</code></pre>\n\n<p>For case insensitive matching:</p>\n\n<pre><code>if (str.matches(\"(?i)val1|val2|val3\")) {\n     // remaining code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":480635,"reputation":123,"user_id":893981,"display_name":"Jeffrey4l"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1440654782,"creation_date":1440654782,"answer_id":32241628,"question_id":10205437,"body_markdown":"`ArrayUtils` may be helpful.\r\n\r\n\r\n    ArrayUtils.contains(new String[]{&quot;1&quot;, &quot;2&quot;}, &quot;1&quot;)\r\n","title":"Compare one String with multiple values in one expression","body":"<p><code>ArrayUtils</code> may be helpful.</p>\n\n<pre><code>ArrayUtils.contains(new String[]{\"1\", \"2\"}, \"1\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":430711,"reputation":5169,"user_id":814297,"accept_rate":67,"display_name":"Andrey Starodubtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442227875,"creation_date":1442227875,"answer_id":32562984,"question_id":10205437,"body_markdown":"Small enhancement to perfectly valid [@hmjd&#39;s answer][1]: you can use following syntax:\r\n\r\n&lt;!-- lang: java --&gt;\r\n\r\n    class A {\r\n\r\n      final Set&lt;String&gt; strings = new HashSet&lt;&gt;() {{\r\n        add(&quot;val1&quot;);\r\n        add(&quot;val2&quot;);\r\n      }};\r\n\r\n      // ...\r\n\r\n      if (strings.contains(str.toLowerCase())) {\r\n      }\r\n\r\n      // ...\r\n    }\r\n\r\n\r\nIt allows you to initialize you `Set` in-place.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10205481/814297","title":"Compare one String with multiple values in one expression","body":"<p>Small enhancement to perfectly valid <a href=\"https://stackoverflow.com/a/10205481/814297\">@hmjd's answer</a>: you can use following syntax:</p>\n\n\n\n<pre><code>class A {\n\n  final Set&lt;String&gt; strings = new HashSet&lt;&gt;() {{\n    add(\"val1\");\n    add(\"val2\");\n  }};\n\n  // ...\n\n  if (strings.contains(str.toLowerCase())) {\n  }\n\n  // ...\n}\n</code></pre>\n\n<p>It allows you to initialize you <code>Set</code> in-place.</p>\n"},{"comments":[{"owner":{"account_id":1827951,"reputation":8502,"user_id":1660178,"accept_rate":29,"display_name":"sangram parmar"},"score":6,"creation_date":1478772889,"post_id":40524868,"comment_id":68290283,"body_markdown":"Please give explanation / reason for better answer, It is too short","body":"Please give explanation / reason for better answer, It is too short"}],"tags":[],"owner":{"account_id":9618796,"reputation":11,"user_id":7140669,"display_name":"Bru"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1479120604,"creation_date":1478772541,"answer_id":40524868,"question_id":10205437,"body_markdown":"    !string.matches(&quot;a|b|c|d&quot;) \r\n\r\nworks fine for me.","title":"Compare one String with multiple values in one expression","body":"<pre><code>!string.matches(\"a|b|c|d\") \n</code></pre>\n\n<p>works fine for me.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1512580661,"creation_date":1480799302,"answer_id":40952530,"question_id":10205437,"body_markdown":"In Java 8+, you might use a [`Stream&lt;T&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) and [`anyMatch(Predicate&lt;? super T&gt;)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-) with something like\r\n\r\n\tif (Stream.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).anyMatch(str::equalsIgnoreCase)) {\r\n\t\t// ...\r\n\t}\r\n\r\n\t\t\r\n\r\n","title":"Compare one String with multiple values in one expression","body":"<p>In Java 8+, you might use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream&lt;T&gt;</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#anyMatch-java.util.function.Predicate-\" rel=\"noreferrer\"><code>anyMatch(Predicate&lt;? super T&gt;)</code></a> with something like</p>\n\n<pre><code>if (Stream.of(\"val1\", \"val2\", \"val3\").anyMatch(str::equalsIgnoreCase)) {\n    // ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":0,"creation_date":1631030732,"post_id":41737362,"comment_id":122111655,"body_markdown":"This solution returns false positives! For example for mAnswer= &quot;king&quot;, will return true, but should be false. Don&#39;t forget to prefix and suffix the mAnswer with the separator (and also the string with all possibilities to match) , and then use the &quot;contains&quot; method","body":"This solution returns false positives! For example for mAnswer= &quot;king&quot;, will return true, but should be false. Don&#39;t forget to prefix and suffix the mAnswer with the separator (and also the string with all possibilities to match) , and then use the &quot;contains&quot; method"}],"tags":[],"owner":{"account_id":8551284,"reputation":31,"user_id":6408099,"display_name":"Stuart Walsh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484815967,"creation_date":1484815582,"answer_id":41737362,"question_id":10205437,"body_markdown":"Remember in Java a quoted String is still a String object. Therefore you can use the String function contains() to test for a range of Strings or integers using this method:\r\n\r\n    if (&quot;A C Viking G M Ocelot&quot;.contains(mAnswer)) {...}\r\n\r\nfor numbers it&#39;s a tad more involved but still works:\r\n\r\n    if (&quot;1 4 5 9 10 17 23 96457&quot;.contains(String.valueOf(mNumAnswer))) {...} \r\n","title":"Compare one String with multiple values in one expression","body":"<p>Remember in Java a quoted String is still a String object. Therefore you can use the String function contains() to test for a range of Strings or integers using this method:</p>\n\n<pre><code>if (\"A C Viking G M Ocelot\".contains(mAnswer)) {...}\n</code></pre>\n\n<p>for numbers it's a tad more involved but still works:</p>\n\n<pre><code>if (\"1 4 5 9 10 17 23 96457\".contains(String.valueOf(mNumAnswer))) {...} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8008009,"reputation":762,"user_id":6095216,"accept_rate":100,"display_name":"Yury"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1542668769,"creation_date":1542668769,"answer_id":53383916,"question_id":10205437,"body_markdown":"Yet another alternative (kinda similar to https://stackoverflow.com/a/32241628/6095216 above) using StringUtils from the apache commons library: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#equalsAnyIgnoreCase-java.lang.CharSequence-java.lang.CharSequence...-\r\n\r\n    if (StringUtils.equalsAnyIgnoreCase(str, &quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;)) {\r\n      // remaining code\r\n    }","title":"Compare one String with multiple values in one expression","body":"<p>Yet another alternative (kinda similar to <a href=\"https://stackoverflow.com/a/32241628/6095216\">https://stackoverflow.com/a/32241628/6095216</a> above) using StringUtils from the apache commons library: <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#equalsAnyIgnoreCase-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#equalsAnyIgnoreCase-java.lang.CharSequence-java.lang.CharSequence...-</a></p>\n\n<pre><code>if (StringUtils.equalsAnyIgnoreCase(str, \"val1\", \"val2\", \"val3\")) {\n  // remaining code\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4396471,"reputation":31,"user_id":3583333,"display_name":"Vivek Dixit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545849608,"creation_date":1545849608,"answer_id":53935837,"question_id":10205437,"body_markdown":"Apache Commons Collection class.\r\n\r\nStringUtils.equalsAny(CharSequence string, CharSequence... searchStrings)\r\n\r\nSo in your case, it would be\r\n\r\nStringUtils.equalsAny(str, &quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;);","title":"Compare one String with multiple values in one expression","body":"<p>Apache Commons Collection class.</p>\n\n<p>StringUtils.equalsAny(CharSequence string, CharSequence... searchStrings)</p>\n\n<p>So in your case, it would be</p>\n\n<p>StringUtils.equalsAny(str, \"val1\", \"val2\", \"val3\");</p>\n"},{"comments":[{"owner":{"account_id":8242759,"reputation":154,"user_id":6325886,"accept_rate":88,"display_name":"Warpspeed SCP"},"score":1,"creation_date":1628576779,"post_id":56706367,"comment_id":121450629,"body_markdown":"Here&#39;s a benchmark with collection declarations extracted out: [pastebin](https://hatebin.com/qzpiqybmsv)","body":"Here&#39;s a benchmark with collection declarations extracted out: <a href=\"https://hatebin.com/qzpiqybmsv\" rel=\"nofollow noreferrer\">pastebin</a>"},{"owner":{"account_id":8242759,"reputation":154,"user_id":6325886,"accept_rate":88,"display_name":"Warpspeed SCP"},"score":0,"creation_date":1628577265,"post_id":56706367,"comment_id":121450791,"body_markdown":"Note how the times for some of these operations keep shrinking as the benchmark progresses.","body":"Note how the times for some of these operations keep shrinking as the benchmark progresses."},{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":0,"creation_date":1628705756,"post_id":56706367,"comment_id":121495577,"body_markdown":"Thanks for that new benchmark, that can be used on normal code when the list of values to test never change (and the collections can be cached)","body":"Thanks for that new benchmark, that can be used on normal code when the list of values to test never change (and the collections can be cached)"}],"tags":[],"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1628706564,"creation_date":1561130892,"answer_id":56706367,"question_id":10205437,"body_markdown":"Here a performance test with multiples alternatives (some are case sensitive and others case insensitive):\r\n\r\n    public static void main(String[] args) {\r\n        // Why 4 * 4:\r\n        // The test contains 3 values (val1, val2 and val3). Checking 4 combinations will check the match on all values, and the non match;\r\n        // Try 4 times: lowercase, UPPERCASE, prefix + lowercase, prefix + UPPERCASE;\r\n        final int NUMBER_OF_TESTS = 4 * 4;\r\n        final int EXCUTIONS_BY_TEST = 1_000_000;\r\n        int numberOfMatches;\r\n        int numberOfExpectedCaseSensitiveMatches;\r\n        int numberOfExpectedCaseInsensitiveMatches;\r\n        // Start at -1, because the first execution is always slower, and should be ignored!\r\n        for (int i = -1; i &lt; NUMBER_OF_TESTS; i++) {\r\n            int iInsensitive = i % 4;\r\n            List&lt;String&gt; testType = new ArrayList&lt;&gt;();\r\n            List&lt;Long&gt; timeSteps = new ArrayList&lt;&gt;();\r\n            String name = (i / 4 &gt; 1 ? &quot;dummyPrefix&quot; : &quot;&quot;) + ((i / 4) % 2 == 0 ? &quot;val&quot; : &quot;VAL&quot; )+iInsensitive ;\r\n            numberOfExpectedCaseSensitiveMatches = 1 &lt;= i &amp;&amp; i &lt;= 3 ? EXCUTIONS_BY_TEST : 0;\r\n            numberOfExpectedCaseInsensitiveMatches = 1 &lt;= iInsensitive &amp;&amp; iInsensitive &lt;= 3 &amp;&amp; i / 4 &lt;= 1 ? EXCUTIONS_BY_TEST : 0;\r\n            timeSteps.add(System.currentTimeMillis());\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;List (Case sensitive)&quot;);\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (Arrays.asList(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).contains(name)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;Set (Case sensitive)&quot;);\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (new HashSet&lt;&gt;(Arrays.asList(new String[] {&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;})).contains(name)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;OR (Case sensitive)&quot;);\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (&quot;val1&quot;.equals(name) || &quot;val2&quot;.equals(name) || &quot;val3&quot;.equals(name)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;OR (Case insensitive)&quot;);\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (&quot;val1&quot;.equalsIgnoreCase(name) || &quot;val2&quot;.equalsIgnoreCase(name) || &quot;val3&quot;.equalsIgnoreCase(name)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseInsensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;ArraysBinarySearch(Case sensitive)&quot;);\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (Arrays.binarySearch(new String[]{&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;}, name) &gt;= 0) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;Java8 Stream (Case sensitive)&quot;);\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (Stream.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).anyMatch(name::equals)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;Java8 Stream (Case insensitive)&quot;);\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (Stream.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).anyMatch(name::equalsIgnoreCase)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseInsensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;RegEx (Case sensitive)&quot;);\r\n            // WARNING: if values contains special characters, that should be escaped by Pattern.quote(String)\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (name.matches(&quot;val1|val2|val3&quot;)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;RegEx (Case insensitive)&quot;);\r\n            // WARNING: if values contains special characters, that should be escaped by Pattern.quote(String)\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                if (name.matches(&quot;(?i)val1|val2|val3&quot;)) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseInsensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            numberOfMatches = 0;\r\n            testType.add(&quot;StringIndexOf (Case sensitive)&quot;);\r\n            // WARNING: the string to be matched should not contains the SEPARATOR!\r\n            final String SEPARATOR = &quot;,&quot;;\r\n            for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\r\n                // Don&#39;t forget the SEPARATOR at the begin and at the end!\r\n                if ((SEPARATOR+&quot;val1&quot;+SEPARATOR+&quot;val2&quot;+SEPARATOR+&quot;val3&quot;+SEPARATOR).indexOf(SEPARATOR + name + SEPARATOR)&gt;=0) {\r\n                    numberOfMatches++;\r\n                }\r\n            }\r\n            if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\r\n                throw new RuntimeException();\r\n            }\r\n            timeSteps.add(System.currentTimeMillis());\r\n\r\n            //-----------------------------------------\r\n            StringBuffer sb = new StringBuffer(&quot;Test &quot;).append(i)\r\n                    .append(&quot;{ name : &quot;).append(name)\r\n                    .append(&quot;, numberOfExpectedCaseSensitiveMatches : &quot;).append(numberOfExpectedCaseSensitiveMatches)\r\n                    .append(&quot;, numberOfExpectedCaseInsensitiveMatches : &quot;).append(numberOfExpectedCaseInsensitiveMatches)\r\n                    .append(&quot; }:\\n&quot;);\r\n            for (int j = 0; j &lt; testType.size(); j++) {\r\n                sb.append(String.format(&quot;    %4d ms with %s\\n&quot;, timeSteps.get(j + 1)-timeSteps.get(j), testType.get(j)));\r\n            }\r\n            System.out.println(sb.toString());\r\n        }\r\n    }\r\n\r\nOutput (only the worse case, that is when have to check all elements without match none):\r\n\r\n    Test 4{ name : VAL0, numberOfExpectedCaseSensitiveMatches : 0, numberOfExpectedCaseInsensitiveMatches : 0 }:\r\n      43 ms with List (Case sensitive)\r\n     378 ms with Set (Case sensitive)\r\n      22 ms with OR (Case sensitive)\r\n     254 ms with OR (Case insensitive)\r\n      35 ms with ArraysBinarySearch(Case sensitive)\r\n     266 ms with Java8 Stream (Case sensitive)\r\n     531 ms with Java8 Stream (Case insensitive)\r\n    1009 ms with RegEx (Case sensitive)\r\n    1201 ms with RegEx (Case insensitive)\r\n     107 ms with StringIndexOf (Case sensitive)\r\n\r\nOutput provided by Warpspeed SCP, changing the test to fill the collections outside of the loops, simulationg the code when the list of values to test never change (and the collections can be cached).\r\n\r\n (don&#39;t compare the time of this test with the previous test, since it was executed on different environment, but compare only the time of different strategies for the same test):\r\n\r\n    Test 4{ name : VAL0, numberOfExpectedCaseSensitiveMatches : 0, numberOfExpectedCaseInsensitiveMatches : 0 }:\r\n        26 ms with List (Case sensitive)\r\n        6 ms with Set (Case sensitive)\r\n        12 ms with OR (Case sensitive)\r\n        371 ms with OR (Case insensitive)\r\n        14 ms with ArraysBinarySearch(Case sensitive)\r\n        100 ms with Java8 Stream (Case sensitive)\r\n        214 ms with Java8 Stream (Case insensitive)\r\n        773 ms with RegEx (Case sensitive)\r\n        946 ms with RegEx (Case insensitive)\r\n        37 ms with StringIndexOf (Case sensitive)\r\n","title":"Compare one String with multiple values in one expression","body":"<p>Here a performance test with multiples alternatives (some are case sensitive and others case insensitive):</p>\n<pre><code>public static void main(String[] args) {\n    // Why 4 * 4:\n    // The test contains 3 values (val1, val2 and val3). Checking 4 combinations will check the match on all values, and the non match;\n    // Try 4 times: lowercase, UPPERCASE, prefix + lowercase, prefix + UPPERCASE;\n    final int NUMBER_OF_TESTS = 4 * 4;\n    final int EXCUTIONS_BY_TEST = 1_000_000;\n    int numberOfMatches;\n    int numberOfExpectedCaseSensitiveMatches;\n    int numberOfExpectedCaseInsensitiveMatches;\n    // Start at -1, because the first execution is always slower, and should be ignored!\n    for (int i = -1; i &lt; NUMBER_OF_TESTS; i++) {\n        int iInsensitive = i % 4;\n        List&lt;String&gt; testType = new ArrayList&lt;&gt;();\n        List&lt;Long&gt; timeSteps = new ArrayList&lt;&gt;();\n        String name = (i / 4 &gt; 1 ? &quot;dummyPrefix&quot; : &quot;&quot;) + ((i / 4) % 2 == 0 ? &quot;val&quot; : &quot;VAL&quot; )+iInsensitive ;\n        numberOfExpectedCaseSensitiveMatches = 1 &lt;= i &amp;&amp; i &lt;= 3 ? EXCUTIONS_BY_TEST : 0;\n        numberOfExpectedCaseInsensitiveMatches = 1 &lt;= iInsensitive &amp;&amp; iInsensitive &lt;= 3 &amp;&amp; i / 4 &lt;= 1 ? EXCUTIONS_BY_TEST : 0;\n        timeSteps.add(System.currentTimeMillis());\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;List (Case sensitive)&quot;);\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (Arrays.asList(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).contains(name)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;Set (Case sensitive)&quot;);\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (new HashSet&lt;&gt;(Arrays.asList(new String[] {&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;})).contains(name)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;OR (Case sensitive)&quot;);\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (&quot;val1&quot;.equals(name) || &quot;val2&quot;.equals(name) || &quot;val3&quot;.equals(name)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;OR (Case insensitive)&quot;);\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (&quot;val1&quot;.equalsIgnoreCase(name) || &quot;val2&quot;.equalsIgnoreCase(name) || &quot;val3&quot;.equalsIgnoreCase(name)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseInsensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;ArraysBinarySearch(Case sensitive)&quot;);\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (Arrays.binarySearch(new String[]{&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;}, name) &gt;= 0) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;Java8 Stream (Case sensitive)&quot;);\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (Stream.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).anyMatch(name::equals)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;Java8 Stream (Case insensitive)&quot;);\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (Stream.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).anyMatch(name::equalsIgnoreCase)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseInsensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;RegEx (Case sensitive)&quot;);\n        // WARNING: if values contains special characters, that should be escaped by Pattern.quote(String)\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (name.matches(&quot;val1|val2|val3&quot;)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;RegEx (Case insensitive)&quot;);\n        // WARNING: if values contains special characters, that should be escaped by Pattern.quote(String)\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            if (name.matches(&quot;(?i)val1|val2|val3&quot;)) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseInsensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        numberOfMatches = 0;\n        testType.add(&quot;StringIndexOf (Case sensitive)&quot;);\n        // WARNING: the string to be matched should not contains the SEPARATOR!\n        final String SEPARATOR = &quot;,&quot;;\n        for (int j = 0; j &lt; EXCUTIONS_BY_TEST; j++) {\n            // Don't forget the SEPARATOR at the begin and at the end!\n            if ((SEPARATOR+&quot;val1&quot;+SEPARATOR+&quot;val2&quot;+SEPARATOR+&quot;val3&quot;+SEPARATOR).indexOf(SEPARATOR + name + SEPARATOR)&gt;=0) {\n                numberOfMatches++;\n            }\n        }\n        if (numberOfMatches != numberOfExpectedCaseSensitiveMatches) {\n            throw new RuntimeException();\n        }\n        timeSteps.add(System.currentTimeMillis());\n\n        //-----------------------------------------\n        StringBuffer sb = new StringBuffer(&quot;Test &quot;).append(i)\n                .append(&quot;{ name : &quot;).append(name)\n                .append(&quot;, numberOfExpectedCaseSensitiveMatches : &quot;).append(numberOfExpectedCaseSensitiveMatches)\n                .append(&quot;, numberOfExpectedCaseInsensitiveMatches : &quot;).append(numberOfExpectedCaseInsensitiveMatches)\n                .append(&quot; }:\\n&quot;);\n        for (int j = 0; j &lt; testType.size(); j++) {\n            sb.append(String.format(&quot;    %4d ms with %s\\n&quot;, timeSteps.get(j + 1)-timeSteps.get(j), testType.get(j)));\n        }\n        System.out.println(sb.toString());\n    }\n}\n</code></pre>\n<p>Output (only the worse case, that is when have to check all elements without match none):</p>\n<pre><code>Test 4{ name : VAL0, numberOfExpectedCaseSensitiveMatches : 0, numberOfExpectedCaseInsensitiveMatches : 0 }:\n  43 ms with List (Case sensitive)\n 378 ms with Set (Case sensitive)\n  22 ms with OR (Case sensitive)\n 254 ms with OR (Case insensitive)\n  35 ms with ArraysBinarySearch(Case sensitive)\n 266 ms with Java8 Stream (Case sensitive)\n 531 ms with Java8 Stream (Case insensitive)\n1009 ms with RegEx (Case sensitive)\n1201 ms with RegEx (Case insensitive)\n 107 ms with StringIndexOf (Case sensitive)\n</code></pre>\n<p>Output provided by Warpspeed SCP, changing the test to fill the collections outside of the loops, simulationg the code when the list of values to test never change (and the collections can be cached).</p>\n<p>(don't compare the time of this test with the previous test, since it was executed on different environment, but compare only the time of different strategies for the same test):</p>\n<pre><code>Test 4{ name : VAL0, numberOfExpectedCaseSensitiveMatches : 0, numberOfExpectedCaseInsensitiveMatches : 0 }:\n    26 ms with List (Case sensitive)\n    6 ms with Set (Case sensitive)\n    12 ms with OR (Case sensitive)\n    371 ms with OR (Case insensitive)\n    14 ms with ArraysBinarySearch(Case sensitive)\n    100 ms with Java8 Stream (Case sensitive)\n    214 ms with Java8 Stream (Case insensitive)\n    773 ms with RegEx (Case sensitive)\n    946 ms with RegEx (Case insensitive)\n    37 ms with StringIndexOf (Case sensitive)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5475819,"reputation":1022,"user_id":4353862,"display_name":"Manuel Romeiro"},"score":1,"creation_date":1631030049,"post_id":60036035,"comment_id":122111373,"body_markdown":"How do you speed up creating a new object (ArrayList)? Are you telling that ArrayList is more performant than the List returned by Arrays.asList?","body":"How do you speed up creating a new object (ArrayList)? Are you telling that ArrayList is more performant than the List returned by Arrays.asList?"},{"owner":{"account_id":6678507,"reputation":334,"user_id":5152432,"display_name":"Marco Carlo Moriggi"},"score":0,"creation_date":1631288906,"post_id":60036035,"comment_id":122190210,"body_markdown":"You&#39;re rigth, no performance gain wrapping with an ArrayList: in both cases the `contains()` method traverses the whole list linearly. I made a wrong supposition with ArrayList: I supposed that internally uses a hash-index, but looking at the source code both kind of arrays simply look through all the elements of the internal array, sorry. I&#39;ll edit my previous answer, thanks for the correction","body":"You&#39;re rigth, no performance gain wrapping with an ArrayList: in both cases the <code>contains()</code> method traverses the whole list linearly. I made a wrong supposition with ArrayList: I supposed that internally uses a hash-index, but looking at the source code both kind of arrays simply look through all the elements of the internal array, sorry. I&#39;ll edit my previous answer, thanks for the correction"}],"tags":[],"owner":{"account_id":6678507,"reputation":334,"user_id":5152432,"display_name":"Marco Carlo Moriggi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631289245,"creation_date":1580720908,"answer_id":60036035,"question_id":10205437,"body_markdown":"Sorry for reponening this old question, for Java 8+ I think the best solution is the one provided by Elliott Frisch (`Stream.of(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;).anyMatches(str::equalsIgnoreCase)`) but it seems like it&#39;s missing one of the simplest solution for eldest version of Java:\r\n\r\n```java\r\nif(Arrays.asList(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;, ..., &quot;val_n&quot;).contains(str.toLowerCase())){\r\n//...\r\n}\r\n```\r\nYou could apply some error prevenction by checking the non-nullity of variable `str`, and by caching the list once created.\r\n\r\n```java\r\n// List of lower-case possibilities\r\nfinal List&lt;String&gt; list = Arrays.asList(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;, ..., &quot;val_n&quot;);\r\nfor(String str : somethingYouCouldTheReadStringFrom()){\r\n  if(str != null &amp;&amp; list.contains(str.toLowerCase())){\r\n    //...\r\n  }\r\n}\r\n```","title":"Compare one String with multiple values in one expression","body":"<p>Sorry for reponening this old question, for Java 8+ I think the best solution is the one provided by Elliott Frisch (<code>Stream.of(&quot;str1&quot;, &quot;str2&quot;, &quot;str3&quot;).anyMatches(str::equalsIgnoreCase)</code>) but it seems like it's missing one of the simplest solution for eldest version of Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(Arrays.asList(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;, ..., &quot;val_n&quot;).contains(str.toLowerCase())){\n//...\n}\n</code></pre>\n<p>You could apply some error prevenction by checking the non-nullity of variable <code>str</code>, and by caching the list once created.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// List of lower-case possibilities\nfinal List&lt;String&gt; list = Arrays.asList(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;, ..., &quot;val_n&quot;);\nfor(String str : somethingYouCouldTheReadStringFrom()){\n  if(str != null &amp;&amp; list.contains(str.toLowerCase())){\n    //...\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580721528,"creation_date":1580721528,"answer_id":60036197,"question_id":10205437,"body_markdown":"Since this question has been reopened anyway, I might just as well propose an `enum` solution.\r\n\r\n    enum ValidValues {\r\n       VAL1, VAL2, VAL3;\r\n\r\n       public static boolean isValid(String input) {\r\n           return Stream.of(ValidValues.values())\r\n                        .map(ValidValues::name)\r\n                        .anyMatch(s -&gt; s.equalsIgnoreCase(input));\r\n       }\r\n    }\r\n\r\nOr you can just use the stream statement with \r\n\r\n    Stream.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;)\r\n          .anyMatch(s -&gt; s.equalsIgnoreCase(str))\r\n\r\nif you only use it in one place.","title":"Compare one String with multiple values in one expression","body":"<p>Since this question has been reopened anyway, I might just as well propose an <code>enum</code> solution.</p>\n\n<pre><code>enum ValidValues {\n   VAL1, VAL2, VAL3;\n\n   public static boolean isValid(String input) {\n       return Stream.of(ValidValues.values())\n                    .map(ValidValues::name)\n                    .anyMatch(s -&gt; s.equalsIgnoreCase(input));\n   }\n}\n</code></pre>\n\n<p>Or you can just use the stream statement with </p>\n\n<pre><code>Stream.of(\"val1\", \"val2\", \"val3\")\n      .anyMatch(s -&gt; s.equalsIgnoreCase(str))\n</code></pre>\n\n<p>if you only use it in one place.</p>\n"},{"tags":[],"owner":{"account_id":4997243,"reputation":675,"user_id":4017375,"accept_rate":33,"display_name":"Ankush"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584580593,"creation_date":1584580593,"answer_id":60749632,"question_id":10205437,"body_markdown":"Starting from Java 9, you can use either of following\r\n```\r\nList.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).contains(str.toLowerCase())\r\n\r\nSet.of(&quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;).contains(str.toLowerCase());\r\n```","title":"Compare one String with multiple values in one expression","body":"<p>Starting from Java 9, you can use either of following</p>\n\n<pre><code>List.of(\"val1\", \"val2\", \"val3\").contains(str.toLowerCase())\n\nSet.of(\"val1\", \"val2\", \"val3\").contains(str.toLowerCase());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":228743,"reputation":10672,"user_id":491245,"accept_rate":93,"display_name":"PhoneixS"},"score":0,"creation_date":1615366691,"post_id":62447007,"comment_id":117665857,"body_markdown":"FYI `StringUtils.equalsAny` is just a for of the strings and a `string.equals(var)` just in case you don&#39;t want to import the hole StringUtils just for this.","body":"FYI <code>StringUtils.equalsAny</code> is just a for of the strings and a <code>string.equals(var)</code> just in case you don&#39;t want to import the hole StringUtils just for this."}],"tags":[],"owner":{"account_id":2381629,"reputation":735,"user_id":2083529,"accept_rate":86,"display_name":"user2083529"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592473228,"creation_date":1592473228,"answer_id":62447007,"question_id":10205437,"body_markdown":"The are many solutions suggested and most are working solutions. However i must add here that people suggesting using regex i.e `str.matches(&quot;val1|val2|val3&quot;)` is okay however \r\n\r\n 1. it&#39;s not performant if the method/code is called many times\r\n 2. it&#39;s not null safe\r\n\r\nI would suggest to use apache commons lang3 stringUtils `StringUtils.equalsAny(str, &quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;)` instead\r\n\r\nTest:\r\n\r\n    public static void main(String[] args) {\r\n            String var = &quot;val1&quot;;\r\n            long t, t1 = 0, t2 = 0;\r\n    \r\n            for (int i = 0; i &lt; 1000; i++) {\r\n                t = System.currentTimeMillis();\r\n                var.matches(&quot;val1|val2|val3&quot;);\r\n                t1 += System.currentTimeMillis() - t;\r\n    \r\n                t = System.currentTimeMillis();\r\n                StringUtils.equalsAny(var, &quot;val1&quot;, &quot;val2&quot;, &quot;val3&quot;);\r\n                t2 += System.currentTimeMillis() - t;\r\n            }\r\n            System.out.println(&quot;Matches took + &quot; + t1 + &quot; ms\\nStringUtils took &quot; + t2 + &quot; ms&quot;);\r\n        }\r\n\r\nResults after 1000 iteration:\r\n\r\n    Matches took + 18 ms\r\n    StringUtils took 7 ms\r\n","title":"Compare one String with multiple values in one expression","body":"<p>The are many solutions suggested and most are working solutions. However i must add here that people suggesting using regex i.e <code>str.matches(\"val1|val2|val3\")</code> is okay however </p>\n\n<ol>\n<li>it's not performant if the method/code is called many times</li>\n<li>it's not null safe</li>\n</ol>\n\n<p>I would suggest to use apache commons lang3 stringUtils <code>StringUtils.equalsAny(str, \"val1\", \"val2\", \"val3\")</code> instead</p>\n\n<p>Test:</p>\n\n<pre><code>public static void main(String[] args) {\n        String var = \"val1\";\n        long t, t1 = 0, t2 = 0;\n\n        for (int i = 0; i &lt; 1000; i++) {\n            t = System.currentTimeMillis();\n            var.matches(\"val1|val2|val3\");\n            t1 += System.currentTimeMillis() - t;\n\n            t = System.currentTimeMillis();\n            StringUtils.equalsAny(var, \"val1\", \"val2\", \"val3\");\n            t2 += System.currentTimeMillis() - t;\n        }\n        System.out.println(\"Matches took + \" + t1 + \" ms\\nStringUtils took \" + t2 + \" ms\");\n    }\n</code></pre>\n\n<p>Results after 1000 iteration:</p>\n\n<pre><code>Matches took + 18 ms\nStringUtils took 7 ms\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3817793,"reputation":3642,"user_id":3166697,"display_name":"Dima Kozhevin"},"score":0,"creation_date":1596198182,"post_id":63191260,"comment_id":111742663,"body_markdown":"It looks like a part of this answer https://stackoverflow.com/a/60036035/3166697","body":"It looks like a part of this answer <a href=\"https://stackoverflow.com/a/60036035/3166697\">stackoverflow.com/a/60036035/3166697</a>"}],"tags":[],"owner":{"account_id":2847567,"reputation":71,"user_id":2445538,"display_name":"Drackmord"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596195934,"creation_date":1596195934,"answer_id":63191260,"question_id":10205437,"body_markdown":"For those who came here for exact equality checks (not ignoring case), I find that\r\n\r\n    if (Arrays.asList(str1, str2, str3).contains(strToCheck)) {\r\n        ...\r\n    }\r\nis one of, if the most concise solution, and is available on Java 7.","title":"Compare one String with multiple values in one expression","body":"<p>For those who came here for exact equality checks (not ignoring case), I find that</p>\n<pre><code>if (Arrays.asList(str1, str2, str3).contains(strToCheck)) {\n    ...\n}\n</code></pre>\n<p>is one of, if the most concise solution, and is available on Java 7.</p>\n"},{"tags":[],"owner":{"account_id":1777644,"reputation":5334,"user_id":1621111,"accept_rate":47,"display_name":"Konstantin Konopko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670259375,"creation_date":1670259375,"answer_id":74691731,"question_id":10205437,"body_markdown":"Kotlin is good enough to make it without regex:\r\n    \r\n    setOf(&quot;say&quot;, &quot;no&quot;, &quot;war&quot;).contains(your_string)","title":"Compare one String with multiple values in one expression","body":"<p>Kotlin is good enough to make it without regex:</p>\n<pre><code>setOf(&quot;say&quot;, &quot;no&quot;, &quot;war&quot;).contains(your_string)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6643996,"reputation":1451,"user_id":5128831,"display_name":"Homayoon Ahmadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672827229,"creation_date":1672827229,"answer_id":75003943,"question_id":10205437,"body_markdown":"    boolean contains = &quot;string2&quot;.matches(TextUtils.join(&quot;|&quot;, new String[]{&quot;string1&quot;, &quot;string2&quot;}));","title":"Compare one String with multiple values in one expression","body":"<pre><code>boolean contains = &quot;string2&quot;.matches(TextUtils.join(&quot;|&quot;, new String[]{&quot;string1&quot;, &quot;string2&quot;}));\n</code></pre>\n"}],"owner":{"account_id":1284185,"reputation":3821,"user_id":1237610,"accept_rate":25,"display_name":"kundan bora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179281,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":10213310,"answer_count":20,"score":79,"last_activity_date":1672827229,"creation_date":1334736795,"question_id":10205437,"body_markdown":"I have one String variable, `str` with possible values, `val1`, `val2` and `val3`.\r\n\r\nI want to compare (with equal case) `str` to all of these values using an if statement, for example:\r\n\r\n    if(&quot;val1&quot;.equalsIgnoreCase(str)||&quot;val2&quot;.equalsIgnoreCase(str)||&quot;val3&quot;.equalsIgnoreCase(str))\r\n  \t{\r\n          //remaining code\r\n    }\r\n\r\nIs there a way to avoid using multiple OR (||) operators and compare values in one expression? For example, like this:\r\n\r\n     if((&quot;val1&quot; OR &quot;val2&quot; OR &quot;val3&quot;).equalsIgnoreCase(str)   //this is only an idea.","title":"Compare one String with multiple values in one expression","body":"<p>I have one String variable, <code>str</code> with possible values, <code>val1</code>, <code>val2</code> and <code>val3</code>.</p>\n<p>I want to compare (with equal case) <code>str</code> to all of these values using an if statement, for example:</p>\n<pre><code>if(&quot;val1&quot;.equalsIgnoreCase(str)||&quot;val2&quot;.equalsIgnoreCase(str)||&quot;val3&quot;.equalsIgnoreCase(str))\n{\n      //remaining code\n}\n</code></pre>\n<p>Is there a way to avoid using multiple OR (||) operators and compare values in one expression? For example, like this:</p>\n<pre><code> if((&quot;val1&quot; OR &quot;val2&quot; OR &quot;val3&quot;).equalsIgnoreCase(str)   //this is only an idea.\n</code></pre>\n"},{"tags":["java","maven","jboss","wildfly-10"],"comments":[{"owner":{"account_id":282141,"reputation":5676,"user_id":578855,"accept_rate":30,"display_name":"muasif80"},"score":0,"creation_date":1504820298,"post_id":46105194,"comment_id":79173939,"body_markdown":"search jacks-app-1.0.war in your wildfly folders.","body":"search jacks-app-1.0.war in your wildfly folders."},{"owner":{"account_id":8840650,"reputation":57,"user_id":6603220,"accept_rate":29,"display_name":"Silk13"},"score":1,"creation_date":1504820421,"post_id":46105194,"comment_id":79173987,"body_markdown":"Searched the whole filesystem, nothing. Turned out to be inserted into the standalone.xml file under deployments tag","body":"Searched the whole filesystem, nothing. Turned out to be inserted into the standalone.xml file under deployments tag"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":3,"creation_date":1504823836,"post_id":46105194,"comment_id":79175166,"body_markdown":"How are you deploying your application?","body":"How are you deploying your application?"},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1504854560,"post_id":46105194,"comment_id":79183616,"body_markdown":"Try to delete the folders data and tmp under standalone.","body":"Try to delete the folders data and tmp under standalone."},{"owner":{"account_id":2923752,"reputation":155,"user_id":2505515,"display_name":"Jorge SB"},"score":0,"creation_date":1505092856,"post_id":46105194,"comment_id":79255897,"body_markdown":"Review the log.","body":"Review the log."}],"answers":[{"tags":[],"owner":{"account_id":9943261,"reputation":1148,"user_id":7359077,"display_name":"Varsha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506194469,"creation_date":1506194469,"answer_id":46383426,"question_id":46105194,"body_markdown":"There might be another war file with same runtime name jacks-app-1.0. ","title":"Wildfly 10.1 server failing to deploy/start","body":"<p>There might be another war file with same runtime name jacks-app-1.0. </p>\n"},{"tags":[],"owner":{"account_id":11970829,"reputation":21,"user_id":8879209,"display_name":"Aidar Zainutdinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533722308,"creation_date":1533720519,"answer_id":51743155,"question_id":46105194,"body_markdown":"In the `standalone-full.xml` or `standalone-full-ha.xml` file, you can find the following:\r\n\r\n    &lt;deployments&gt;\r\n        &lt;deployment name=&quot;some.war&quot; runtime-name=&quot;some.war&quot;&gt;\r\n            &lt;fs-archive path=&quot;some\\folders\\to\\some.war&quot;/&gt;\r\n        &lt;/deployment&gt;\r\n        ...\r\n    &lt;/deployment&gt;\r\n\r\nHere you need to find and remove your `jacks-app-1.0.war` file.","title":"Wildfly 10.1 server failing to deploy/start","body":"<p>In the <code>standalone-full.xml</code> or <code>standalone-full-ha.xml</code> file, you can find the following:</p>\n\n<pre><code>&lt;deployments&gt;\n    &lt;deployment name=\"some.war\" runtime-name=\"some.war\"&gt;\n        &lt;fs-archive path=\"some\\folders\\to\\some.war\"/&gt;\n    &lt;/deployment&gt;\n    ...\n&lt;/deployment&gt;\n</code></pre>\n\n<p>Here you need to find and remove your <code>jacks-app-1.0.war</code> file.</p>\n"},{"tags":[],"owner":{"account_id":2106266,"reputation":5117,"user_id":1872540,"display_name":"LovaBill"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672827014,"creation_date":1672827014,"answer_id":75003894,"question_id":46105194,"body_markdown":"A comment is found, that should be the answer, thanks to @siom:\r\n\r\ntry to delete the folders data and tmp under standalone.","title":"Wildfly 10.1 server failing to deploy/start","body":"<p>A comment is found, that should be the answer, thanks to @siom:</p>\n<p>try to delete the folders data and tmp under standalone.</p>\n"}],"owner":{"account_id":8840650,"reputation":57,"user_id":6603220,"accept_rate":29,"display_name":"Silk13"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2833,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1672827014,"creation_date":1504818928,"question_id":46105194,"body_markdown":"When starting wildfly server with: ./standalone.sh or deploying my war I get the error:\r\n\r\n    21:54:04,596 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([(&quot;deployment&quot; =&gt; &quot;jacks-app-1.0.war&quot;)]) - failure description: &quot;WFLYSRV0205: There is already a deployment called jacks-app-1.0 with the same runtime name jacks-app-1.0.war&quot;\r\n\r\nAs far as I can tell, nothing is deployed. Nothing in the deployments folder? Killed java and tried again, even tried a reboot.\r\n\r\nWhat am I missing?","title":"Wildfly 10.1 server failing to deploy/start","body":"<p>When starting wildfly server with: ./standalone.sh or deploying my war I get the error:</p>\n\n<pre><code>21:54:04,596 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (\"add\") failed - address: ([(\"deployment\" =&gt; \"jacks-app-1.0.war\")]) - failure description: \"WFLYSRV0205: There is already a deployment called jacks-app-1.0 with the same runtime name jacks-app-1.0.war\"\n</code></pre>\n\n<p>As far as I can tell, nothing is deployed. Nothing in the deployments folder? Killed java and tried again, even tried a reboot.</p>\n\n<p>What am I missing?</p>\n"},{"tags":["java","apache-spark"],"answers":[{"tags":[],"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672826885,"creation_date":1672826885,"answer_id":75003873,"question_id":74998145,"body_markdown":"Let&#39;s assume this is your dataset:\r\n\r\n```\r\n+----+----+----+\r\n|col1|col2|col3|\r\n+----+----+----+\r\n|1   |2   |3   |\r\n+----+----+----+\r\n```\r\n\r\nThen, we execute your list of statements:\r\n\r\n```\r\nList&lt;Dataset&lt;Row&gt;&gt; count_arr = Arrays.asList(spark.sql(&quot;select count(*) from table&quot;));\r\n```\r\n\r\nThen:\r\n\r\n```\r\nList&lt;Dataset&lt;Row&gt;&gt; arr = count_arr.stream().collect(Collectors.toList());\r\n```\r\n\r\nHere, we are getting a list of `Dataset&lt;Row&gt;&gt;` because we are materializing our statements through `collect`. In your case, you are trying to `map` a statement by calling the `getLong` method which doesn&#39;t exist in the first place.\r\n\r\nSo, once you have `arr` now, you can either get the `count` then convert it to `String` as:\r\n\r\n```\r\n(int) arr.get(0).count() // this will count first to long, then cast it as int\r\n```\r\n\r\nor:\r\n\r\n```\r\narr.get(0).first().getLong(0) // this will get the first row, and get the first value as long\r\n```\r\n\r\nI think you prefer the latter, but I put the first one as well for the record. Good luck!","title":"spark java get dataframe count","body":"<p>Let's assume this is your dataset:</p>\n<pre><code>+----+----+----+\n|col1|col2|col3|\n+----+----+----+\n|1   |2   |3   |\n+----+----+----+\n</code></pre>\n<p>Then, we execute your list of statements:</p>\n<pre><code>List&lt;Dataset&lt;Row&gt;&gt; count_arr = Arrays.asList(spark.sql(&quot;select count(*) from table&quot;));\n</code></pre>\n<p>Then:</p>\n<pre><code>List&lt;Dataset&lt;Row&gt;&gt; arr = count_arr.stream().collect(Collectors.toList());\n</code></pre>\n<p>Here, we are getting a list of <code>Dataset&lt;Row&gt;&gt;</code> because we are materializing our statements through <code>collect</code>. In your case, you are trying to <code>map</code> a statement by calling the <code>getLong</code> method which doesn't exist in the first place.</p>\n<p>So, once you have <code>arr</code> now, you can either get the <code>count</code> then convert it to <code>String</code> as:</p>\n<pre><code>(int) arr.get(0).count() // this will count first to long, then cast it as int\n</code></pre>\n<p>or:</p>\n<pre><code>arr.get(0).first().getLong(0) // this will get the first row, and get the first value as long\n</code></pre>\n<p>I think you prefer the latter, but I put the first one as well for the record. Good luck!</p>\n"}],"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672826885,"creation_date":1672776049,"question_id":74998145,"body_markdown":"I have a code written in java spark and I am trying to modify it. As part of modification I am trying to get the count of dataframe into int. \r\n\r\nfollowing code is giving error \r\n```java\r\n List&lt;Row&gt; count_arr = Arrays.asList(spark.sql(&quot;select count(*) from db.table&quot;)\r\n     List&lt;Long&gt; arr = count_arr.stream().map(x -&gt; x.getLong(0)).collect(Collectors.toList());\r\n        return arr.get(0);\r\n```\r\n\r\n**Error**\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project HDFSReplicator: Compilation failure\r\n[ERROR] /C:/Users/fki/Documents/git/HDFSReplicator/src/main/java/com/economical/Reader/GetBigTableCount.java:[21,44] incompatible types: inference variable T has incompatible bounds\r\n[ERROR]     equality constraints: org.apache.spark.sql.Row\r\n[ERROR]     lower bounds: java.lang.Object\r\n\r\n```\r\n","title":"spark java get dataframe count","body":"<p>I have a code written in java spark and I am trying to modify it. As part of modification I am trying to get the count of dataframe into int.</p>\n<p>following code is giving error</p>\n<pre class=\"lang-java prettyprint-override\"><code> List&lt;Row&gt; count_arr = Arrays.asList(spark.sql(&quot;select count(*) from db.table&quot;)\n     List&lt;Long&gt; arr = count_arr.stream().map(x -&gt; x.getLong(0)).collect(Collectors.toList());\n        return arr.get(0);\n</code></pre>\n<p><strong>Error</strong></p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:compile (default-compile) on project HDFSReplicator: Compilation failure\n[ERROR] /C:/Users/fki/Documents/git/HDFSReplicator/src/main/java/com/economical/Reader/GetBigTableCount.java:[21,44] incompatible types: inference variable T has incompatible bounds\n[ERROR]     equality constraints: org.apache.spark.sql.Row\n[ERROR]     lower bounds: java.lang.Object\n\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","lombok"],"answers":[{"comments":[{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1672822249,"post_id":74999427,"comment_id":132357452,"body_markdown":"Thank you for your valuable comment :) but there is one point that sticks in my mind here. \n\nAs you said, I created the DTO classes and tried to save the data. However, the person class is waiting for an Address. Likewise AddressDTO is waiting for a person. \n\nThey all work but the ID parts remain &quot;null&quot;... how can I overcome this?","body":"Thank you for your valuable comment :) but there is one point that sticks in my mind here.   As you said, I created the DTO classes and tried to save the data. However, the person class is waiting for an Address. Likewise AddressDTO is waiting for a person.   They all work but the ID parts remain &quot;null&quot;... how can I overcome this?"},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672824581,"post_id":74999427,"comment_id":132358120,"body_markdown":"Are you sure that you map object after persisting (after id was obtained from sequence)? Most probably you use one without id. If this does not solve you problem attach some code please.","body":"Are you sure that you map object after persisting (after id was obtained from sequence)? Most probably you use one without id. If this does not solve you problem attach some code please."},{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1672827731,"post_id":74999427,"comment_id":132359138,"body_markdown":"Dear @Osker I made additions related to DTO and changes. You can see all the codes above... \n\n---\n\nOneToOne I want to remind you again that I am trying to build a relationship. To see all users who have registered at address 1.","body":"Dear @Osker I made additions related to DTO and changes. You can see all the codes above...   ---  OneToOne I want to remind you again that I am trying to build a relationship. To see all users who have registered at address 1."},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672828603,"post_id":74999427,"comment_id":132359396,"body_markdown":"As I see you are using mapstruct. I dont like libraries like that. But looking your code in &#39;Address&#39; class you have property: &#39;private Person person;&#39; and &#39;AddressDto&#39; has &#39;private PersonDTO personDTO;&#39; how this mapper will know how to map this correctly\neven if the variable names don&#39;t match. Try to write simple mapper cuz there is probably a mistake.","body":"As I see you are using mapstruct. I dont like libraries like that. But looking your code in &#39;Address&#39; class you have property: &#39;private Person person;&#39; and &#39;AddressDto&#39; has &#39;private PersonDTO personDTO;&#39; how this mapper will know how to map this correctly even if the variable names don&#39;t match. Try to write simple mapper cuz there is probably a mistake."},{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1672828863,"post_id":74999427,"comment_id":132359470,"body_markdown":"So I need to match &#39;private Person person&#39; in the &#39;Address&#39; entity with &#39;private PersonDTO personDto&#39; in the DTO? Do I understand correctly?","body":"So I need to match &#39;private Person person&#39; in the &#39;Address&#39; entity with &#39;private PersonDTO personDto&#39; in the DTO? Do I understand correctly?"},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672829277,"post_id":74999427,"comment_id":132359604,"body_markdown":"Your mapper is returning null for field: &#39;private PersonDTO personDto&#39;. There are actually only 2 ways why it may happen. 1: Person is null and it is mapping to null correctly. 2: Your mapper from mapstruct does not work. But IMO there is no way to work.\n\nHow this method &#39;PersonDTO personToPersonDTO(Person person);&#39; is supposted to know that field person should be mapped to personDTO.\n\nFirst try to write own implementation of mapper. Just simple method like: public static AddressDto mapToAddressDto(Address address) {\nimplementation....\n}","body":"Your mapper is returning null for field: &#39;private PersonDTO personDto&#39;. There are actually only 2 ways why it may happen. 1: Person is null and it is mapping to null correctly. 2: Your mapper from mapstruct does not work. But IMO there is no way to work.  How this method &#39;PersonDTO personToPersonDTO(Person person);&#39; is supposted to know that field person should be mapped to personDTO.  First try to write own implementation of mapper. Just simple method like: public static AddressDto mapToAddressDto(Address address) { implementation.... }"},{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1672829872,"post_id":74999427,"comment_id":132359761,"body_markdown":"When I add an address in this way, 1 user is automatically added. \n\nI do not want a user to be added every time an address is added. \n\nI want to be able to address users. When I do DTO and matching, it automatically adds 1 user every time I add an address. I do not want this.","body":"When I add an address in this way, 1 user is automatically added.   I do not want a user to be added every time an address is added.   I want to be able to address users. When I do DTO and matching, it automatically adds 1 user every time I add an address. I do not want this."},{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1672830001,"post_id":74999427,"comment_id":132359795,"body_markdown":"I created a user named &quot;test&quot;. I want to give the address information when creating it. I have addresses in the database. I saved the address of the user named &quot;test&quot; as address number 1. Then I created a user named &quot;test2&quot;. and I saved its address as address number &quot;1&quot;. \n\nWhen I say getAddressFindById(1), I want to bring all users (new test and test2) that are registered to number 1.","body":"I created a user named &quot;test&quot;. I want to give the address information when creating it. I have addresses in the database. I saved the address of the user named &quot;test&quot; as address number 1. Then I created a user named &quot;test2&quot;. and I saved its address as address number &quot;1&quot;.   When I say getAddressFindById(1), I want to bring all users (new test and test2) that are registered to number 1."},{"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"score":0,"creation_date":1672830055,"post_id":74999427,"comment_id":132359804,"body_markdown":"I did not say anything about changing way in address saving id db. Just change mapping to your dto cuz it probably does not work or write unit test for that. Cuz Im 100% procent sure that it must not work.","body":"I did not say anything about changing way in address saving id db. Just change mapping to your dto cuz it probably does not work or write unit test for that. Cuz Im 100% procent sure that it must not work."},{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1672830217,"post_id":74999427,"comment_id":132359855,"body_markdown":"every time I register an address it automatically registers a user. I think I am completely confused haha :) thanks for your help.","body":"every time I register an address it automatically registers a user. I think I am completely confused haha :) thanks for your help."}],"tags":[],"owner":{"account_id":19987292,"reputation":424,"user_id":14649181,"display_name":"Oskar"},"comment_count":10,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1672786379,"creation_date":1672786379,"answer_id":74999427,"question_id":74998992,"body_markdown":"It is very bad pratice to return the entity object directly in controller. You should map this to simple dto before. When you want get object from the controller object mapper is trying to serialize address it also serialize person (because it is class member) entity that has n adresses that would be also serialized and then serialize n persons that have n addresses etc. There is a recursion that overflow the stack.\r\n\r\nIt would looks something like:\r\n```\r\naddress: {\r\nproperies....\r\nperson: {\r\n   properties...\r\n   address: [\r\n   {\r\n      properies....\r\n      person {... address: ...}\r\n   },\r\n   {\r\n      properies....\r\n      person {... address: ...}\r\n   },\r\n   {\r\n      properies....\r\n      person {... address: ...}\r\n   }\r\n   ...\r\n}]}}\r\n```\r\n\r\nImo the best way and practive is creating simple dto like that:\r\n```java\r\npublic class AddressDto implements Serializable {\r\n\r\n    private Integer id;\r\n    private String street;\r\n    private String alley;\r\n    private String district;\r\n    private PersonDto person;\r\n}\r\n```","title":"How do I solve the stackoverflow problem? BeanSerializer error","body":"<p>It is very bad pratice to return the entity object directly in controller. You should map this to simple dto before. When you want get object from the controller object mapper is trying to serialize address it also serialize person (because it is class member) entity that has n adresses that would be also serialized and then serialize n persons that have n addresses etc. There is a recursion that overflow the stack.</p>\n<p>It would looks something like:</p>\n<pre><code>address: {\nproperies....\nperson: {\n   properties...\n   address: [\n   {\n      properies....\n      person {... address: ...}\n   },\n   {\n      properies....\n      person {... address: ...}\n   },\n   {\n      properies....\n      person {... address: ...}\n   }\n   ...\n}]}}\n</code></pre>\n<p>Imo the best way and practive is creating simple dto like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AddressDto implements Serializable {\n\n    private Integer id;\n    private String street;\n    private String alley;\n    private String district;\n    private PersonDto person;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"score":0,"creation_date":1672815549,"post_id":74999452,"comment_id":132355852,"body_markdown":"First of all, thank you for replying! :) When I do @JsonIgnore, it ignores the &#39;person&#39; object when adding. \n\nWhen I want to bring the addresses via Postman, I cannot see the users connected to the addresses, only the addresses come. Do I need to write SQL using &quot;join&quot; for this?  \n\n```json \n{\n    &quot;id&quot;: 1,\n    &quot;street&quot;: &quot;test&quot;,\n    &quot;alley&quot;: &quot;test&quot;,\n    &quot;district&quot;: &quot;test&quot;\n}\n```\n\nHowever, I want to include in this JSON result the &quot;persons&quot; that use address 1.","body":"First of all, thank you for replying! :) When I do @JsonIgnore, it ignores the &#39;person&#39; object when adding.   When I want to bring the addresses via Postman, I cannot see the users connected to the addresses, only the addresses come. Do I need to write SQL using &quot;join&quot; for this?    <code>json  {     &quot;id&quot;: 1,     &quot;street&quot;: &quot;test&quot;,     &quot;alley&quot;: &quot;test&quot;,     &quot;district&quot;: &quot;test&quot; } </code>  However, I want to include in this JSON result the &quot;persons&quot; that use address 1."}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672786689,"creation_date":1672786689,"answer_id":74999452,"question_id":74998992,"body_markdown":"You didn&#39;t include the `Person` class in your post.  Assuming it is the same as the `Personal` class that you&#39;ve included, it&#39;s likely a circular reference between `Person` and `Address`.\r\n\r\nA `Person` has an `Address` which has a `Person` which has an `Address`, etc.\r\n\r\nYou can solve this by either using @JsonManagedReference and @JsonBackReference, or by adding @JsonIgnore.\r\n\r\nIn your `Address` class, adding @JsonIgnore to the person will likely fix this issue.","title":"How do I solve the stackoverflow problem? BeanSerializer error","body":"<p>You didn't include the <code>Person</code> class in your post.  Assuming it is the same as the <code>Personal</code> class that you've included, it's likely a circular reference between <code>Person</code> and <code>Address</code>.</p>\n<p>A <code>Person</code> has an <code>Address</code> which has a <code>Person</code> which has an <code>Address</code>, etc.</p>\n<p>You can solve this by either using @JsonManagedReference and @JsonBackReference, or by adding @JsonIgnore.</p>\n<p>In your <code>Address</code> class, adding @JsonIgnore to the person will likely fix this issue.</p>\n"}],"owner":{"account_id":19847496,"reputation":41,"user_id":14538782,"display_name":"smhylc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1672826861,"creation_date":1672782698,"question_id":74998992,"body_markdown":"I want to start a relationship but I get an error that I can&#39;t understand.  \r\n\r\nPerson.java \r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@RequiredArgsConstructor\r\npublic class Personal implements Serializable {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\tprivate String personName;\r\n\tprivate String personLastName;\r\n\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n\tprivate Address address;\r\n}\r\n```\r\n\r\nAddress.java \r\n\r\n```java\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class Address implements Serializable {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Integer id;\r\n\r\n\t@Column(name = &quot;Street&quot;)\r\n\tprivate String street;\r\n\t@Column(name = &quot;Alley&quot;)\r\n\tprivate String alley;\r\n\t@Column(name = &quot;District&quot;)\r\n\tprivate String district;\r\n\r\n\r\n\t@OneToOne(fetch = FetchType.EAGER, mappedBy = &quot;address&quot;)\r\n\t@MapsId\r\n\tprivate Person person;\r\n\r\n\t\r\n\tpublic Address(String street, String alley, String district, Person person) {\r\n\t\tthis.street = street;\r\n\t\tthis.alley = alley;\r\n\t\tthis.district = district;\r\n        this.person = person; \r\n\t}\r\n}\r\n\r\n```\r\n\r\nAddressService.java \r\n\r\n```java\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AddressServices {\r\n\r\n\r\n\tprivate final AddressRepository addressRepository;\r\n\r\n\r\n\tpublic Optional&lt;Address&gt; getAddress(Integer id){\r\n\t\treturn addressRepository.findById(id);\r\n\t}\r\n}\r\n\r\n```\r\n\r\n```java \r\n@Service\r\n@RequiredArgsConstructor\r\npublic class PersonService {\r\n\r\n\tprivate final PersonRepository personRepository;\r\n\r\n\r\n\tpublic String createUser(){\r\n\t\tPerson u1 = new Person();\r\n\t\tu1.setId(u1.getId());\r\n\t\tu1.setUserName(&quot;test&quot;);\r\n\t\tu1.setUserLastName(&quot;test&quot;);\r\n\t\tAddress address = new Address();\r\n\t\taddress.setAlley(&quot;test&quot;);\r\n\t\taddress.setDistrict(&quot;test&quot;);\r\n\t\taddress.setStreet(&quot;test&quot;);\r\n\t\taddress.setPerson(u1);\r\n\t\tu1.setAddress(address);\r\n\t\tpersonRepository.save(u1);\r\n\t\treturn &quot;Save is successful&quot;;\r\n\t}\r\n\r\n```\r\n\r\nData is successfully saved in the database. However, when I run &quot;localhost:8080/gget-address?id=1&quot; via postman, I get an error. \r\n\r\nERROR : \r\n\r\n```java\r\njava.lang.StackOverflowError: null\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1012) ~[na:na]\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.putIfAbsent(ConcurrentHashMap.java:1541) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.getClassLoadingLock(ClassLoader.java:667) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:591) ~[na:na]\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\tat com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\r\n\r\n```\r\n\r\n\r\nHowever, I still have the same problem! :) nothing has changed. the record to the database is successful, but it continues to give the same error when I want to retrieve the data \r\n\r\nBefore asking this question, I searched for similar questions but I could not find any answer to my problem. \r\n\r\nI tried notations such as ***@JsonIgnore, @JsonBackReference, @JsonManagamedReference***, but when I add them, this time the relationship is not established (lombok ignores) my goal is to establish the relationship mutually.  I wonder if &quot;Lombok&quot; is making a mistake.  I&#39;m using Lombok. ? \r\n\r\n***What I want is that when I run &quot;localhost:8080/gget-address?id=1&quot;, I can see all &quot;person&quot; with address 1.*** \r\n\r\n\r\nThere is a problem when using OneToOne and mappedBy. \r\nThere is an infinite loop like ***Person-&gt; Address --&gt; Person --&gt; Address.***\r\n\r\nI think it falls into serialization error for this reason. I need to solve this. However, I cannot realize what I want in the use of annotation such as **@JsonIgnore, @JsonBackReference, @JsonManagamedReference.** ***When I add them, the &quot;field&quot; is invisible and when I go to address 1, I cannot see the &quot;people&quot; who use address 1.*** \r\n\r\n\r\n\r\n\r\n---\r\n\r\nEDIT AND CREATE DTO / MAPPER \r\n\r\nI created DTO objects and mapper classes.  \r\n\r\nPersonDTO \r\n\r\n```java\r\n@Data\r\npublic class PersonDTO implements Serializable {\r\n\tprivate String userName;\r\n\tprivate String userLastName;\r\n}\r\n```\r\n\r\nAddressDTO \r\n\r\n```java\r\n@Data\r\npublic class AddressDTO implements Serializable {\r\n\tprivate String street;\r\n\tprivate String alley;\r\n\tprivate String district;\r\n\tprivate PersonDTO personDTO;\r\n}\r\n```\r\n\r\n\r\nAddressMapper \r\n\r\n```java\r\n@Mapper\r\npublic interface AddressMapper {\r\n\tAddressMapper INSTANCE = Mappers.getMapper(AddressMapper.class);\r\n\tAddress addressDtoToAddress(AddressDTO addressDTO);\r\n\tAddressDTO addressToAddressDto(Address address);\r\n}\r\n```\r\n\r\nPersonMapper \r\n\r\n```java\r\n@Mapper\r\npublic interface PersonMapper {\r\n\tPersonMapper INSTANCE = Mappers.getMapper(PersonMapper.class);\r\n\tPerson personDtoToPerson(PersonDTO personDTO);\r\n\tPersonDTO personToPersonDTO(Person person);\r\n}\r\n```\r\n\r\nAfter that I send a request to the API.  \r\n\r\n```json\r\n{\r\n    &quot;street&quot;:&quot;test&quot;,\r\n    &quot;alley&quot;:&quot;test&quot;,\r\n    &quot;district&quot;:&quot;test&quot;,\r\n    &quot;personDTO&quot; : {\r\n        &quot;userName&quot;: &quot;test&quot;,\r\n        &quot;userLastName&quot;: &quot;test&quot;\r\n    }\r\n}\r\n```\r\n\r\n\r\nand the API gives me this kind of feedback.  \r\n\r\n```json\r\n{\r\n    &quot;street&quot;: &quot;test&quot;,\r\n    &quot;alley&quot;: &quot;test&quot;,\r\n    &quot;district&quot;: &quot;test&quot;,\r\n    &quot;personDTO&quot;: null\r\n}\r\n```\r\n\r\n---\r\n\r\nAPI CALL for Address \r\n\r\nThen I call the address with id == 1  \r\nlocalhost:8080/get-adress?id=1\r\n\r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;street&quot;: &quot;test&quot;,\r\n    &quot;alley&quot;: &quot;test&quot;,\r\n    &quot;district&quot;: &quot;test&quot;,\r\n    &quot;person&quot;: null\r\n}\r\n```\r\n\r\n---\r\n\r\nAPI CALL for Person \r\n\r\nThen I call the Person with id == 1  \r\nlocalhost:8080/get-user?id=1\r\n\r\nResponse JSON \r\n\r\n```json\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;userName&quot;: &quot;test&quot;,\r\n    &quot;userLastName&quot;: &quot;test&quot;,\r\n    &quot;address&quot;: null\r\n}\r\n```\r\n\r\n","title":"How do I solve the stackoverflow problem? BeanSerializer error","body":"<p>I want to start a relationship but I get an error that I can't understand.</p>\n<p>Person.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@RequiredArgsConstructor\npublic class Personal implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String personName;\n    private String personLastName;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    private Address address;\n}\n</code></pre>\n<p>Address.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Address implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;Street&quot;)\n    private String street;\n    @Column(name = &quot;Alley&quot;)\n    private String alley;\n    @Column(name = &quot;District&quot;)\n    private String district;\n\n\n    @OneToOne(fetch = FetchType.EAGER, mappedBy = &quot;address&quot;)\n    @MapsId\n    private Person person;\n\n    \n    public Address(String street, String alley, String district, Person person) {\n        this.street = street;\n        this.alley = alley;\n        this.district = district;\n        this.person = person; \n    }\n}\n\n</code></pre>\n<p>AddressService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class AddressServices {\n\n\n    private final AddressRepository addressRepository;\n\n\n    public Optional&lt;Address&gt; getAddress(Integer id){\n        return addressRepository.findById(id);\n    }\n}\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private final PersonRepository personRepository;\n\n\n    public String createUser(){\n        Person u1 = new Person();\n        u1.setId(u1.getId());\n        u1.setUserName(&quot;test&quot;);\n        u1.setUserLastName(&quot;test&quot;);\n        Address address = new Address();\n        address.setAlley(&quot;test&quot;);\n        address.setDistrict(&quot;test&quot;);\n        address.setStreet(&quot;test&quot;);\n        address.setPerson(u1);\n        u1.setAddress(address);\n        personRepository.save(u1);\n        return &quot;Save is successful&quot;;\n    }\n\n</code></pre>\n<p>Data is successfully saved in the database. However, when I run &quot;localhost:8080/gget-address?id=1&quot; via postman, I get an error.</p>\n<p>ERROR :</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.StackOverflowError: null\n    at java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1012) ~[na:na]\n    at java.base/java.util.concurrent.ConcurrentHashMap.putIfAbsent(ConcurrentHashMap.java:1541) ~[na:na]\n    at java.base/java.lang.ClassLoader.getClassLoadingLock(ClassLoader.java:667) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:591) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:178) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:728) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n    at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:774) ~[jackson-databind-2.13.4.2.jar:2.13.4.2]\n\n</code></pre>\n<p>However, I still have the same problem! :) nothing has changed. the record to the database is successful, but it continues to give the same error when I want to retrieve the data</p>\n<p>Before asking this question, I searched for similar questions but I could not find any answer to my problem.</p>\n<p>I tried notations such as <em><strong>@JsonIgnore, @JsonBackReference, @JsonManagamedReference</strong></em>, but when I add them, this time the relationship is not established (lombok ignores) my goal is to establish the relationship mutually.  I wonder if &quot;Lombok&quot; is making a mistake.  I'm using Lombok. ?</p>\n<p><em><strong>What I want is that when I run &quot;localhost:8080/gget-address?id=1&quot;, I can see all &quot;person&quot; with address 1.</strong></em></p>\n<p>There is a problem when using OneToOne and mappedBy.\nThere is an infinite loop like <em><strong>Person-&gt; Address --&gt; Person --&gt; Address.</strong></em></p>\n<p>I think it falls into serialization error for this reason. I need to solve this. However, I cannot realize what I want in the use of annotation such as <strong>@JsonIgnore, @JsonBackReference, @JsonManagamedReference.</strong> <em><strong>When I add them, the &quot;field&quot; is invisible and when I go to address 1, I cannot see the &quot;people&quot; who use address 1.</strong></em></p>\n<hr />\n<p>EDIT AND CREATE DTO / MAPPER</p>\n<p>I created DTO objects and mapper classes.</p>\n<p>PersonDTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class PersonDTO implements Serializable {\n    private String userName;\n    private String userLastName;\n}\n</code></pre>\n<p>AddressDTO</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class AddressDTO implements Serializable {\n    private String street;\n    private String alley;\n    private String district;\n    private PersonDTO personDTO;\n}\n</code></pre>\n<p>AddressMapper</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface AddressMapper {\n    AddressMapper INSTANCE = Mappers.getMapper(AddressMapper.class);\n    Address addressDtoToAddress(AddressDTO addressDTO);\n    AddressDTO addressToAddressDto(Address address);\n}\n</code></pre>\n<p>PersonMapper</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper\npublic interface PersonMapper {\n    PersonMapper INSTANCE = Mappers.getMapper(PersonMapper.class);\n    Person personDtoToPerson(PersonDTO personDTO);\n    PersonDTO personToPersonDTO(Person person);\n}\n</code></pre>\n<p>After that I send a request to the API.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;street&quot;:&quot;test&quot;,\n    &quot;alley&quot;:&quot;test&quot;,\n    &quot;district&quot;:&quot;test&quot;,\n    &quot;personDTO&quot; : {\n        &quot;userName&quot;: &quot;test&quot;,\n        &quot;userLastName&quot;: &quot;test&quot;\n    }\n}\n</code></pre>\n<p>and the API gives me this kind of feedback.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;street&quot;: &quot;test&quot;,\n    &quot;alley&quot;: &quot;test&quot;,\n    &quot;district&quot;: &quot;test&quot;,\n    &quot;personDTO&quot;: null\n}\n</code></pre>\n<hr />\n<p>API CALL for Address</p>\n<p>Then I call the address with id == 1<br />\nlocalhost:8080/get-adress?id=1</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;street&quot;: &quot;test&quot;,\n    &quot;alley&quot;: &quot;test&quot;,\n    &quot;district&quot;: &quot;test&quot;,\n    &quot;person&quot;: null\n}\n</code></pre>\n<hr />\n<p>API CALL for Person</p>\n<p>Then I call the Person with id == 1<br />\nlocalhost:8080/get-user?id=1</p>\n<p>Response JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: 1,\n    &quot;userName&quot;: &quot;test&quot;,\n    &quot;userLastName&quot;: &quot;test&quot;,\n    &quot;address&quot;: null\n}\n</code></pre>\n"},{"tags":["java","docker","maven"],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672826837,"creation_date":1672826671,"question_id":75003831,"body_markdown":"I have a maven project which creates docker image using **io.fabric8** maven plugin. I have also docker compose plugin **com.dkanejs.maven.plugins**.\r\nI have a working integration test in which inside docker compose I have defined the volume mapping and it is working fine. The problem is that I am including another integration test for this and this integration test requires same files but with different content so it shouldn&#39;t be in the same folder as in the previous test. \r\n\r\nHow can I define variable volume mapping as per test cases?\r\n\r\n**plugins inside pom.xml**\r\n&lt;!-- Build the docker image --&gt;\r\n\t\t\t\r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.fabric8&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.39.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;images&gt;\r\n    \t\t\t\t\t\t&lt;image&gt;\r\n    \t\t\t\t\t\t\t&lt;name&gt;${IMAGE_NAME}:${IMAGE_TAG}&lt;/name&gt;\r\n    \t\t\t\t\t\t\t&lt;build&gt;\r\n    \t\t\t\t\t\t\t\t&lt;contextDir&gt;${project.basedir}&lt;/contextDir&gt;\r\n    \t\t\t\t\t\t\t\t&lt;args&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/args&gt;\r\n    \t\t\t\t\t\t\t&lt;/build&gt;\r\n    \t\t\t\t\t\t&lt;/image&gt;\r\n    \t\t\t\t\t&lt;/images&gt;\r\n    \t\t\t\t\t&lt;verbose&gt;true&lt;/verbose&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;docker:build&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;build&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Create integration test environment --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.dkanejs.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;docker-compose-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;composeFile&gt;${project.basedir}/docker-compose.yml&lt;/composeFile&gt;\r\n    \t\t\t\t\t&lt;detachedMode&gt;true&lt;/detachedMode&gt;\r\n    \t\t\t\t\t&lt;envFile&gt;${project.basedir}/src/test/resources/.env&lt;/envFile&gt;\r\n    \t\t\t\t\t&lt;envVars&gt;\r\n    \t\t\t\t\t\t&lt;IMAGE_TAG&gt;${project.version}&lt;/IMAGE_TAG&gt;\r\n    \t\t\t\t\t\t&lt;IMAGE_NAME&gt;${IMAGE_NAME}&lt;/IMAGE_NAME&gt;\r\n    \t\t\t\t\t&lt;/envVars&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;docker-compose-up&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;up&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Run integration tests --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n\r\n**docker-compose service**\r\n \r\n    service-bridge:\r\n        image: ${IMAGE_NAME}:${IMAGE_TAG}\r\n        container_name: ${CONTAINER_NAME}\r\n        volumes:\r\n          - \\user\\temp:/usr/share/config\r\n        network_mode: host\r\n\r\nHow can I define variable volume mapping as per test cases?","title":"How to perform integration test using maven failsafe with different volume mappings for different testcases","body":"<p>I have a maven project which creates docker image using <strong>io.fabric8</strong> maven plugin. I have also docker compose plugin <strong>com.dkanejs.maven.plugins</strong>.\nI have a working integration test in which inside docker compose I have defined the volume mapping and it is working fine. The problem is that I am including another integration test for this and this integration test requires same files but with different content so it shouldn't be in the same folder as in the previous test.</p>\n<p>How can I define variable volume mapping as per test cases?</p>\n<p><strong>plugins inside pom.xml</strong></p>\n\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.39.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;images&gt;\n                        &lt;image&gt;\n                            &lt;name&gt;${IMAGE_NAME}:${IMAGE_TAG}&lt;/name&gt;\n                            &lt;build&gt;\n                                &lt;contextDir&gt;${project.basedir}&lt;/contextDir&gt;\n                                &lt;args&gt;\n                                    &lt;JAR_FILE&gt;${project.build.finalName}.jar&lt;/JAR_FILE&gt;\n                                &lt;/args&gt;\n                            &lt;/build&gt;\n                        &lt;/image&gt;\n                    &lt;/images&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;docker:build&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;build&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Create integration test environment --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.dkanejs.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;docker-compose-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;composeFile&gt;${project.basedir}/docker-compose.yml&lt;/composeFile&gt;\n                    &lt;detachedMode&gt;true&lt;/detachedMode&gt;\n                    &lt;envFile&gt;${project.basedir}/src/test/resources/.env&lt;/envFile&gt;\n                    &lt;envVars&gt;\n                        &lt;IMAGE_TAG&gt;${project.version}&lt;/IMAGE_TAG&gt;\n                        &lt;IMAGE_NAME&gt;${IMAGE_NAME}&lt;/IMAGE_NAME&gt;\n                    &lt;/envVars&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;docker-compose-up&lt;/id&gt;\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;up&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Run integration tests --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p><strong>docker-compose service</strong></p>\n<pre><code>service-bridge:\n    image: ${IMAGE_NAME}:${IMAGE_TAG}\n    container_name: ${CONTAINER_NAME}\n    volumes:\n      - \\user\\temp:/usr/share/config\n    network_mode: host\n</code></pre>\n<p>How can I define variable volume mapping as per test cases?</p>\n"},{"tags":["java","spring-boot","testing"],"comments":[{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1672817204,"post_id":75001710,"comment_id":132356186,"body_markdown":"The test scenarios you mentioned is default behaviour of Spring. Why you want to test already tested piece?","body":"The test scenarios you mentioned is default behaviour of Spring. Why you want to test already tested piece?"},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1672820538,"post_id":75001710,"comment_id":132356998,"body_markdown":"Do you need multiple  `Calculator`-beans in production?","body":"Do you need multiple  <code>Calculator</code>-beans in production?"},{"owner":{"account_id":23042920,"reputation":61,"user_id":17189500,"display_name":"Sadeq"},"score":0,"creation_date":1672910801,"post_id":75001710,"comment_id":132380884,"body_markdown":"@DirkDeyne One `Calculator` bean per environment (each environment has its own `rate` setting).","body":"@DirkDeyne One <code>Calculator</code> bean per environment (each environment has its own <code>rate</code> setting)."}],"answers":[{"comments":[{"owner":{"account_id":23042920,"reputation":61,"user_id":17189500,"display_name":"Sadeq"},"score":0,"creation_date":1672910699,"post_id":75003862,"comment_id":132380845,"body_markdown":"Thanks Dirk for the detailed answer. I also use constructor injection rather than field injection, but prefer not to go this way for two reasons: (1) The real code is much more complicated, and I want to avoid direct construction of objects. I rather prefer DI to take care of object construction. (2) If someone removes `@Value...` from the code, no test fails. That&#39;s an aspect I want to test: Whether the property is actually read and set in the bean.","body":"Thanks Dirk for the detailed answer. I also use constructor injection rather than field injection, but prefer not to go this way for two reasons: (1) The real code is much more complicated, and I want to avoid direct construction of objects. I rather prefer DI to take care of object construction. (2) If someone removes <code>@Value...</code> from the code, no test fails. That&#39;s an aspect I want to test: Whether the property is actually read and set in the bean."},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1672929476,"post_id":75003862,"comment_id":132387331,"body_markdown":"A junit test should test the functionality of the components, not whether a value is present in `application.properties`. That could be done in an integration test. In your tests you use `@TestPropertySource`, so you do not test loading `@Value(&quot;rate&quot;)`. If you want to force that a rate-value is provided then you should not provide a default value (in Calculator). Just saying... it&#39;s your code...","body":"A junit test should test the functionality of the components, not whether a value is present in <code>application.properties</code>. That could be done in an integration test. In your tests you use <code>@TestPropertySource</code>, so you do not test loading <code>@Value(&quot;rate&quot;)</code>. If you want to force that a rate-value is provided then you should not provide a default value (in Calculator). Just saying... it&#39;s your code..."}],"tags":[],"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672826818,"creation_date":1672826818,"answer_id":75003862,"question_id":75001710,"body_markdown":"Assuming there is only **one** `Calculator`-bean in production and you want to test multiple configuration scenarios.\r\n\r\nThis is an excellent example of why the usage of `@Autowired` and `@Value` on fields is a bad practice. It kills tests..\r\n\r\nUse `@Value` in a constructor  \r\n```java\r\n@Component\r\npublic class Calculator {\r\n\r\n  private final Double rate;\r\n\r\n  Caluclator (@Value(&quot;${rate:1.0}&quot;) Double rate){\r\n  \r\n  }\r\n\r\n  ...\r\n}\r\n```\r\n\r\nNow **unit tests** are easy\r\n```\r\npublic class CalulatorTest {\r\n  \r\n  @Test\r\n  void positiveRate(){\r\n    Calculator calculator = new Calulator(3d);\r\n    ...\r\n  }\r\n\r\n  @Test\r\n  void negativeRate(){\r\n    Calculator calculator = new Calulator(-3d);\r\n    ...\r\n  }\r\n  ...\r\n}\r\n```\r\n\r\n*TIP: Avoid `@Autowire` in other beans*\r\n\r\nUse constructor injection instead\r\n```java\r\n@Service\r\npublic class DemoService{\r\n\r\n\tprivate final Calculator calculator;\r\n\r\n\tpublic DemoService(Calculator calculator) {\r\n\t\tthis.calculator = calculator;\r\n    }\r\n}\r\n```\r\nAnd test\r\n```java\r\npublic DemoTest {\r\n\r\n  DemoService service = new DemoService(new Calculator(2d));\r\n  \r\n  @Test\r\n  void test(){\r\n   ....\r\n  } \r\n\r\n}\r\n\r\n```","title":"Instantiate multiple Spring beans based on different property values","body":"<p>Assuming there is only <strong>one</strong> <code>Calculator</code>-bean in production and you want to test multiple configuration scenarios.</p>\n<p>This is an excellent example of why the usage of <code>@Autowired</code> and <code>@Value</code> on fields is a bad practice. It kills tests..</p>\n<p>Use <code>@Value</code> in a constructor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class Calculator {\n\n  private final Double rate;\n\n  Caluclator (@Value(&quot;${rate:1.0}&quot;) Double rate){\n  \n  }\n\n  ...\n}\n</code></pre>\n<p>Now <strong>unit tests</strong> are easy</p>\n<pre><code>public class CalulatorTest {\n  \n  @Test\n  void positiveRate(){\n    Calculator calculator = new Calulator(3d);\n    ...\n  }\n\n  @Test\n  void negativeRate(){\n    Calculator calculator = new Calulator(-3d);\n    ...\n  }\n  ...\n}\n</code></pre>\n<p><em>TIP: Avoid <code>@Autowire</code> in other beans</em></p>\n<p>Use constructor injection instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class DemoService{\n\n    private final Calculator calculator;\n\n    public DemoService(Calculator calculator) {\n        this.calculator = calculator;\n    }\n}\n</code></pre>\n<p>And test</p>\n<pre class=\"lang-java prettyprint-override\"><code>public DemoTest {\n\n  DemoService service = new DemoService(new Calculator(2d));\n  \n  @Test\n  void test(){\n   ....\n  } \n\n}\n\n</code></pre>\n"}],"owner":{"account_id":23042920,"reputation":61,"user_id":17189500,"display_name":"Sadeq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1672826818,"creation_date":1672814018,"question_id":75001710,"body_markdown":"Consider a Spring component like:\r\n\r\n```\r\n@Component\r\npublic class Calculator {\r\n  @Value(&quot;${rate:1.0}&quot;)\r\n  private Double rate;\r\n\r\n  ...\r\n}\r\n```\r\n\r\nIn a test, I&#39;d like to instantiate three beans of this class based on the settings for property `rate`:\r\n1. No value set (test: Calculator should use default value 1.0)\r\n2. Positive value set (test: Calculator should work normally)\r\n3. Negative value set (test: Calculator should throw an Exception)\r\n\r\nIt&#39;s easy to achieve this by writing three `@SpringBootTest`s, each with its own `@TestPropertySource`.\r\n\r\nHowever, the result is rather ugly (the real production code is more complex than the simple example here).\r\n\r\nIs there a way to instantiate three instances of the `@Component`, each based on a given `@TestPropertySource`?\r\n\r\nI tried doing this in a `@Configuration` class; something like:\r\n\r\n```\r\n@Configuration\r\n@TestPropertySource(properties = {&quot;rate=2.0&quot;})\r\n@ContextConfiguration(classes = {Calculator.class})\r\nclass PositiveRateCalculatorConfig {\r\n  \r\n  @Autowired\r\n  private Calculator calc;\r\n\r\n  @Bean\r\n  Calculator positiveRateCalculator() {\r\n      return calc;  \r\n  }\r\n}\r\n```\r\n\r\nBut I didn&#39;t manage to auto-wire Calculator into the config class in such a way that `@TestPropertySource` takes effect.","title":"Instantiate multiple Spring beans based on different property values","body":"<p>Consider a Spring component like:</p>\n<pre><code>@Component\npublic class Calculator {\n  @Value(&quot;${rate:1.0}&quot;)\n  private Double rate;\n\n  ...\n}\n</code></pre>\n<p>In a test, I'd like to instantiate three beans of this class based on the settings for property <code>rate</code>:</p>\n<ol>\n<li>No value set (test: Calculator should use default value 1.0)</li>\n<li>Positive value set (test: Calculator should work normally)</li>\n<li>Negative value set (test: Calculator should throw an Exception)</li>\n</ol>\n<p>It's easy to achieve this by writing three <code>@SpringBootTest</code>s, each with its own <code>@TestPropertySource</code>.</p>\n<p>However, the result is rather ugly (the real production code is more complex than the simple example here).</p>\n<p>Is there a way to instantiate three instances of the <code>@Component</code>, each based on a given <code>@TestPropertySource</code>?</p>\n<p>I tried doing this in a <code>@Configuration</code> class; something like:</p>\n<pre><code>@Configuration\n@TestPropertySource(properties = {&quot;rate=2.0&quot;})\n@ContextConfiguration(classes = {Calculator.class})\nclass PositiveRateCalculatorConfig {\n  \n  @Autowired\n  private Calculator calc;\n\n  @Bean\n  Calculator positiveRateCalculator() {\n      return calc;  \n  }\n}\n</code></pre>\n<p>But I didn't manage to auto-wire Calculator into the config class in such a way that <code>@TestPropertySource</code> takes effect.</p>\n"},{"tags":["java","constants","properties-file"],"comments":[{"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"score":3,"creation_date":1461082292,"post_id":36723839,"comment_id":61032132,"body_markdown":"The problem is everything is a string in the property file. Unless you want to use exceptions and try every parse manually (which is awful), I don&#39;t see how you can parse something automatically. Afterall what do the strings `3` or `false` mean to the compiler? Nothing...","body":"The problem is everything is a string in the property file. Unless you want to use exceptions and try every parse manually (which is awful), I don&#39;t see how you can parse something automatically. Afterall what do the strings <code>3</code> or <code>false</code> mean to the compiler? Nothing..."},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1461083014,"post_id":36723839,"comment_id":61032617,"body_markdown":"what do you mean by &quot;I don&#39;t know what could be Key and Value&quot;? your question is not clear","body":"what do you mean by &quot;I don&#39;t know what could be Key and Value&quot;? your question is not clear"},{"owner":{"account_id":4099938,"reputation":4282,"user_id":3365750,"accept_rate":56,"display_name":"dambros"},"score":0,"creation_date":1461083504,"post_id":36723839,"comment_id":61032940,"body_markdown":"Well, thinking again if you only only want to parse boolean, int and double, it is doable using a combination of regex (for validation and finding the type) + reflection (for populating the constant). I think it is a little better than using exceptions.","body":"Well, thinking again if you only only want to parse boolean, int and double, it is doable using a combination of regex (for validation and finding the type) + reflection (for populating the constant). I think it is a little better than using exceptions."},{"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"score":4,"creation_date":1461083706,"post_id":36723839,"comment_id":61033079,"body_markdown":"Dambros, That could be one solution to use regex. I did get one idea to create different properties file for different primitive then it will be type safe.","body":"Dambros, That could be one solution to use regex. I did get one idea to create different properties file for different primitive then it will be type safe."},{"owner":{"account_id":314473,"reputation":396,"user_id":629663,"display_name":"Siddharth"},"score":0,"creation_date":1461867900,"post_id":36723839,"comment_id":61406755,"body_markdown":"You definitely need metadata about the property data types _in_ the properties file. What if somebody adds another property `IS_ENABLED = true`, and your logic automagically parses it into a `boolean` but the actual logic in the code using the property treats it like a `String`.","body":"You definitely need metadata about the property data types <i>in</i> the properties file. What if somebody adds another property <code>IS_ENABLED = true</code>, and your logic automagically parses it into a <code>boolean</code> but the actual logic in the code using the property treats it like a <code>String</code>."}],"answers":[{"comments":[{"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"score":2,"creation_date":1461083349,"post_id":36724160,"comment_id":61032833,"body_markdown":"True, It works fine if we know datatype of primitive. But we cannot hardcode  or write code for 100 of such property values.","body":"True, It works fine if we know datatype of primitive. But we cannot hardcode  or write code for 100 of such property values."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1461084289,"post_id":36724160,"comment_id":61033400,"body_markdown":"@PratiyushKumarSingh Why can&#39;t you hardcode for datatype, when you have to hardcode the type? E.g. `SSO_URL` is *defined* as a `String` (hardcoded), so call `getString()` (matching hardcode).","body":"@PratiyushKumarSingh Why can&#39;t you hardcode for datatype, when you have to hardcode the type? E.g. <code>SSO_URL</code> is <i>defined</i> as a <code>String</code> (hardcoded), so call <code>getString()</code> (matching hardcode)."},{"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"score":2,"creation_date":1461084674,"post_id":36724160,"comment_id":61033628,"body_markdown":"Yes, Andreas, currently I am doing that and It doen`t look like optimized solution.","body":"Yes, Andreas, currently I am doing that and It doen`t look like optimized solution."}],"tags":[],"owner":{"account_id":1446073,"reputation":1983,"user_id":1364499,"accept_rate":88,"display_name":"josivan"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461083065,"creation_date":1461083065,"answer_id":36724160,"question_id":36723839,"body_markdown":"If you know the type of constant, you can use [Apache Commons Collections][1].\r\n\r\nFor example, you can use some utilities method based on type of your constant.\r\n\r\n    booelan SSO_IS_PROXY_ENABLED = MapUtils.getBooleanValue(appProperties, &quot;SSO_IS_PROXY_ENABLED&quot;, false);\r\n    String SSO_URL = MapUtils.getString(appProperties, &quot;SSO_URL&quot;, &quot;https://example.com/connect/token&quot;);\r\n\r\nYou can even use default values to avoid errors.\r\n\r\n[1]: http://commons.apache.org/proper/commons-collections/\r\n[2]: http://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/MapUtils.html","title":"Get int, float, boolean and string from Properties","body":"<p>If you know the type of constant, you can use <a href=\"http://commons.apache.org/proper/commons-collections/\" rel=\"noreferrer\">Apache Commons Collections</a>.</p>\n\n<p>For example, you can use some utilities method based on type of your constant.</p>\n\n<pre><code>booelan SSO_IS_PROXY_ENABLED = MapUtils.getBooleanValue(appProperties, \"SSO_IS_PROXY_ENABLED\", false);\nString SSO_URL = MapUtils.getString(appProperties, \"SSO_URL\", \"https://example.com/connect/token\");\n</code></pre>\n\n<p>You can even use default values to avoid errors.</p>\n"},{"comments":[{"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"score":3,"creation_date":1461083950,"post_id":36724232,"comment_id":61033212,"body_markdown":"Yes, this is also possible solution. Check out idea suggested by Dambros, also, we can use different files for primitives like int_message.properties , string_messge.properties ...so on.","body":"Yes, this is also possible solution. Check out idea suggested by Dambros, also, we can use different files for primitives like int_message.properties , string_messge.properties ...so on."}],"tags":[],"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1462438904,"creation_date":1461083260,"answer_id":36724232,"question_id":36723839,"body_markdown":"Dambros is right, every thing you store inside a Properties file is as a String value.\r\nYou can track your different primitive data types after retrieving properties value as below like ref. -\r\n\r\n[Java Properties File: How to Read config.properties Values in Java?][1]\r\n\r\n    package crunchify.com.tutorial;\r\n     \r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.util.Date;\r\n    import java.util.Properties;\r\n     \r\n    /**\r\n     * @author Crunchify.com\r\n     * \r\n     */\r\n     \r\n    public class CrunchifyGetPropertyValues {\r\n    \tString result = &quot;&quot;;\r\n    \tInputStream inputStream;\r\n     \r\n    \tpublic String getPropValues() throws IOException {\r\n     \r\n    \t\ttry {\r\n    \t\t\tProperties prop = new Properties();\r\n    \t\t\tString propFileName = &quot;config.properties&quot;;\r\n     \r\n    \t\t\tinputStream = getClass().getClassLoader().getResourceAsStream(propFileName);\r\n     \r\n    \t\t\tif (inputStream != null) {\r\n    \t\t\t\tprop.load(inputStream);\r\n    \t\t\t} else {\r\n    \t\t\t\tthrow new FileNotFoundException(&quot;property file &#39;&quot; + propFileName + &quot;&#39; not found in the classpath&quot;);\r\n    \t\t\t}\r\n     \r\n    \t\t\tDate time = new Date(System.currentTimeMillis());\r\n     \r\n    \t\t\t// get the property value and print it out\r\n    \t\t\tString user = prop.getProperty(&quot;user&quot;);\r\n    \t\t\tString company1 = prop.getProperty(&quot;company1&quot;);\r\n    \t\t\tString company2 = prop.getProperty(&quot;company2&quot;);\r\n    \t\t\tString company3 = prop.getProperty(&quot;company3&quot;);\r\n     \r\n    \t\t\tresult = &quot;Company List = &quot; + company1 + &quot;, &quot; + company2 + &quot;, &quot; + company3;\r\n    \t\t\tSystem.out.println(result + &quot;\\nProgram Ran on &quot; + time + &quot; by user=&quot; + user);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Exception: &quot; + e);\r\n    \t\t} finally {\r\n    \t\t\tinputStream.close();\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\nand later convert to primitive -\r\n[How to convert String to primitive type value?][2]\r\n\r\nI suggest you to track your data types value by putting the key values inside String type switch statement and later retrieve the related data type value by using key name cases.\r\nString type switch case is possible after Java 7.\r\n\r\n\r\n  [1]: http://crunchify.com/java-properties-file-how-to-read-config-properties-values-in-java/\r\n  [2]: http://www.xyzws.com/javafaq/how-to-convert-string-to-primitive-type-value/90","title":"Get int, float, boolean and string from Properties","body":"<p>Dambros is right, every thing you store inside a Properties file is as a String value.\nYou can track your different primitive data types after retrieving properties value as below like ref. -</p>\n\n<p><a href=\"http://crunchify.com/java-properties-file-how-to-read-config-properties-values-in-java/\" rel=\"nofollow\">Java Properties File: How to Read config.properties Values in Java?</a></p>\n\n<pre><code>package crunchify.com.tutorial;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.util.Date;\nimport java.util.Properties;\n\n/**\n * @author Crunchify.com\n * \n */\n\npublic class CrunchifyGetPropertyValues {\n    String result = \"\";\n    InputStream inputStream;\n\n    public String getPropValues() throws IOException {\n\n        try {\n            Properties prop = new Properties();\n            String propFileName = \"config.properties\";\n\n            inputStream = getClass().getClassLoader().getResourceAsStream(propFileName);\n\n            if (inputStream != null) {\n                prop.load(inputStream);\n            } else {\n                throw new FileNotFoundException(\"property file '\" + propFileName + \"' not found in the classpath\");\n            }\n\n            Date time = new Date(System.currentTimeMillis());\n\n            // get the property value and print it out\n            String user = prop.getProperty(\"user\");\n            String company1 = prop.getProperty(\"company1\");\n            String company2 = prop.getProperty(\"company2\");\n            String company3 = prop.getProperty(\"company3\");\n\n            result = \"Company List = \" + company1 + \", \" + company2 + \", \" + company3;\n            System.out.println(result + \"\\nProgram Ran on \" + time + \" by user=\" + user);\n        } catch (Exception e) {\n            System.out.println(\"Exception: \" + e);\n        } finally {\n            inputStream.close();\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>and later convert to primitive -\n<a href=\"http://www.xyzws.com/javafaq/how-to-convert-string-to-primitive-type-value/90\" rel=\"nofollow\">How to convert String to primitive type value?</a></p>\n\n<p>I suggest you to track your data types value by putting the key values inside String type switch statement and later retrieve the related data type value by using key name cases.\nString type switch case is possible after Java 7.</p>\n"},{"comments":[{"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"score":0,"creation_date":1461777954,"post_id":36724648,"comment_id":61357744,"body_markdown":"Good Solution. But it doesn&#39;t work when I add final in constants. It works fine when I set Accessible true and setInt with two parameters field, field.getModifiers() &amp; ~Modifier.FINAL.","body":"Good Solution. But it doesn&#39;t work when I add final in constants. It works fine when I set Accessible true and setInt with two parameters field, field.getModifiers() &amp; ~Modifier.FINAL."},{"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":2,"creation_date":1461948055,"post_id":36724648,"comment_id":61445753,"body_markdown":"@PratiyushKumarSingh you never mentioned in your question that the constants can be final, IMHO this is clearly the best option you have by far","body":"@PratiyushKumarSingh you never mentioned in your question that the constants can be final, IMHO this is clearly the best option you have by far"},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1462036329,"post_id":36724648,"comment_id":61473216,"body_markdown":"@PratiyushKumarSingh if you mark your fields as `final` and initialize them, you will not be able to change them, as per the JLS.","body":"@PratiyushKumarSingh if you mark your fields as <code>final</code> and initialize them, you will not be able to change them, as per the JLS."},{"owner":{"account_id":1107482,"reputation":2870,"user_id":1098603,"accept_rate":94,"display_name":"Matthieu"},"score":0,"creation_date":1462037576,"post_id":36724648,"comment_id":61473703,"body_markdown":"@PratiyushKumarSingh but if you don&#39;t want to make them `public`, mark them `private` and use `public static getXXX()` methods.","body":"@PratiyushKumarSingh but if you don&#39;t want to make them <code>public</code>, mark them <code>private</code> and use <code>public static getXXX()</code> methods."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":4,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1461084567,"creation_date":1461084567,"answer_id":36724648,"question_id":36723839,"body_markdown":"If you have a class of configuration values, like your `Constants` class, and you want to load all values from a configuration (properties) file, you can create a little helper class and use reflection:\r\n\r\n\tpublic class ConfigLoader {\r\n\t\tpublic static void load(Class&lt;?&gt; configClass, String file) {\r\n\t\t\ttry {\r\n\t\t\t\tProperties props = new Properties();\r\n\t\t\t\ttry (FileInputStream propStream = new FileInputStream(file)) {\r\n\t\t\t\t\tprops.load(propStream);\r\n\t\t\t\t}\r\n\t\t\t\tfor (Field field : configClass.getDeclaredFields())\r\n\t\t\t\t\tif (Modifier.isStatic(field.getModifiers()))\r\n\t\t\t\t\t\tfield.set(null, getValue(props, field.getName(), field.getType()));\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Error loading configuration: &quot; + e, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate static Object getValue(Properties props, String name, Class&lt;?&gt; type) {\r\n\t\t\tString value = props.getProperty(name);\r\n\t\t\tif (value == null)\r\n\t\t\t\tthrow new IllegalArgumentException(&quot;Missing configuration value: &quot; + name);\r\n\t\t\tif (type == String.class)\r\n\t\t\t\treturn value;\r\n\t\t\tif (type == boolean.class)\r\n\t\t\t\treturn Boolean.parseBoolean(value);\r\n\t\t\tif (type == int.class)\r\n\t\t\t\treturn Integer.parseInt(value);\r\n\t\t\tif (type == float.class)\r\n\t\t\t\treturn Float.parseFloat(value);\r\n\t\t\tthrow new IllegalArgumentException(&quot;Unknown configuration value type: &quot; + type.getName());\r\n\t\t}\r\n\t}\r\n\r\nThen you call it like this:\r\n\r\n\tConfigLoader.load(Constants.class, &quot;/path/to/constants.properties&quot;);\r\n\r\nYou can extend the code to handle more types. You can also change it to ignore missing properties, instead of failing like it does now, such that assignments in the field declaration will remain unchanged, i.e. be the default.","title":"Get int, float, boolean and string from Properties","body":"<p>If you have a class of configuration values, like your <code>Constants</code> class, and you want to load all values from a configuration (properties) file, you can create a little helper class and use reflection:</p>\n\n<pre><code>public class ConfigLoader {\n    public static void load(Class&lt;?&gt; configClass, String file) {\n        try {\n            Properties props = new Properties();\n            try (FileInputStream propStream = new FileInputStream(file)) {\n                props.load(propStream);\n            }\n            for (Field field : configClass.getDeclaredFields())\n                if (Modifier.isStatic(field.getModifiers()))\n                    field.set(null, getValue(props, field.getName(), field.getType()));\n        } catch (Exception e) {\n            throw new RuntimeException(\"Error loading configuration: \" + e, e);\n        }\n    }\n    private static Object getValue(Properties props, String name, Class&lt;?&gt; type) {\n        String value = props.getProperty(name);\n        if (value == null)\n            throw new IllegalArgumentException(\"Missing configuration value: \" + name);\n        if (type == String.class)\n            return value;\n        if (type == boolean.class)\n            return Boolean.parseBoolean(value);\n        if (type == int.class)\n            return Integer.parseInt(value);\n        if (type == float.class)\n            return Float.parseFloat(value);\n        throw new IllegalArgumentException(\"Unknown configuration value type: \" + type.getName());\n    }\n}\n</code></pre>\n\n<p>Then you call it like this:</p>\n\n<pre><code>ConfigLoader.load(Constants.class, \"/path/to/constants.properties\");\n</code></pre>\n\n<p>You can extend the code to handle more types. You can also change it to ignore missing properties, instead of failing like it does now, such that assignments in the field declaration will remain unchanged, i.e. be the default.</p>\n"},{"tags":[],"owner":{"account_id":8183678,"reputation":938,"user_id":6160065,"display_name":"uniknow"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461843403,"creation_date":1461843403,"answer_id":36913486,"question_id":36723839,"body_markdown":"Not entirely sure whether I exactly understand the problem but a possibility could be to include the type of the property value in the (String) value. So for example the properties you showed would become something like:\r\n\r\n    SSO_URL = URL:https://example.com/connect/token\r\n    SSO_API_USERNAME = STRING:test\r\n    SSO_API_PASSWORD = STRING:Uo88YmMpKUp\r\n    SSO_API_SCOPE = STRING:intraday_api\r\n    SSO_IS_PROXY_ENABLED = BOOLEAN:false\r\n    SSO_MAX_RETRY_COUNT = INTEGER:3\r\n    SSO_FLOAT_VALUE = FLOAT:3.0\r\n\r\nDuring the parsing of the property values you first determine the type of the property by looking at the part before `:` and use the part after for the actual parsing. \r\n\r\n    private static Object getValue(Properties props, String name) {\r\n        String propertyValue = props.getProperty(name);\r\n        if (propertyValue == null) {\r\n            throw new IllegalArgumentException(&quot;Missing configuration value: &quot; + name); \r\n        } else {\r\n            String[] parts = string.split(&quot;:&quot;);\r\n            switch(parts[0]) {\r\n                case &quot;STRING&quot;:\r\n                    return parts[1];\r\n                case &quot;BOOLEAN&quot;:\r\n                    return Boolean.parseBoolean(parts[1]);\r\n                ....\r\n                default:\r\n                    throw new IllegalArgumentException(&quot;Unknown configuration value type: &quot; + parts[0]);\r\n            }\r\n        }\r\n     }","title":"Get int, float, boolean and string from Properties","body":"<p>Not entirely sure whether I exactly understand the problem but a possibility could be to include the type of the property value in the (String) value. So for example the properties you showed would become something like:</p>\n\n<pre><code>SSO_URL = URL:https://example.com/connect/token\nSSO_API_USERNAME = STRING:test\nSSO_API_PASSWORD = STRING:Uo88YmMpKUp\nSSO_API_SCOPE = STRING:intraday_api\nSSO_IS_PROXY_ENABLED = BOOLEAN:false\nSSO_MAX_RETRY_COUNT = INTEGER:3\nSSO_FLOAT_VALUE = FLOAT:3.0\n</code></pre>\n\n<p>During the parsing of the property values you first determine the type of the property by looking at the part before <code>:</code> and use the part after for the actual parsing. </p>\n\n<pre><code>private static Object getValue(Properties props, String name) {\n    String propertyValue = props.getProperty(name);\n    if (propertyValue == null) {\n        throw new IllegalArgumentException(\"Missing configuration value: \" + name); \n    } else {\n        String[] parts = string.split(\":\");\n        switch(parts[0]) {\n            case \"STRING\":\n                return parts[1];\n            case \"BOOLEAN\":\n                return Boolean.parseBoolean(parts[1]);\n            ....\n            default:\n                throw new IllegalArgumentException(\"Unknown configuration value type: \" + parts[0]);\n        }\n    }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8287337,"reputation":429,"user_id":6230069,"display_name":"Andrew Kolpakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461939823,"creation_date":1461939823,"answer_id":36940820,"question_id":36723839,"body_markdown":"Spring Boot has ready to use and feature reach solution for [type-safe configuration][1] properties.\r\n\r\nDefinitely, use of the Spring just for this task is overkill but Spring has a lot of cool features and this one can attract you to right side ;)\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties","title":"Get int, float, boolean and string from Properties","body":"<p>Spring Boot has ready to use and feature reach solution for <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-external-config-typesafe-configuration-properties\" rel=\"nofollow\">type-safe configuration</a> properties.</p>\n\n<p>Definitely, use of the Spring just for this task is overkill but Spring has a lot of cool features and this one can attract you to right side ;)</p>\n"},{"tags":[],"owner":{"account_id":8352941,"reputation":41,"user_id":6274346,"display_name":"Carlos Herrera"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1462003257,"creation_date":1462003257,"answer_id":36952410,"question_id":36723839,"body_markdown":"Follow the dropwizard configuration pattern where you define your constants using YAML instead of Properties and use Jackson to deserialize it into your Class. Other than type safety, dropwizard&#39;s configuration pattern goes one step further by allowing Hibernate Validator annotations to validate that the values fall into your expected ranges.\r\n\r\nFor dropwizard&#39;s example...\r\n\r\n - http://www.dropwizard.io/0.9.2/docs/getting-started.html#creating-a-configuration-class\r\n\r\nFor more information about the technology involved...\r\n\r\n - github.com/FasterXML/jackson-dataformat-yaml\r\n - hibernate.org/validator/\r\n","title":"Get int, float, boolean and string from Properties","body":"<p>Follow the dropwizard configuration pattern where you define your constants using YAML instead of Properties and use Jackson to deserialize it into your Class. Other than type safety, dropwizard's configuration pattern goes one step further by allowing Hibernate Validator annotations to validate that the values fall into your expected ranges.</p>\n\n<p>For dropwizard's example...</p>\n\n<ul>\n<li><a href=\"http://www.dropwizard.io/0.9.2/docs/getting-started.html#creating-a-configuration-class\" rel=\"nofollow\">http://www.dropwizard.io/0.9.2/docs/getting-started.html#creating-a-configuration-class</a></li>\n</ul>\n\n<p>For more information about the technology involved...</p>\n\n<ul>\n<li>github.com/FasterXML/jackson-dataformat-yaml</li>\n<li>hibernate.org/validator/</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2288109,"reputation":144,"user_id":2011680,"accept_rate":20,"display_name":"Alicia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537039818,"creation_date":1537039347,"answer_id":52348085,"question_id":36723839,"body_markdown":"You can define your configurable parameters as &#39;static&#39; in your class of choice, and from a static init call a method that loads the parameter values from a properties file.  \r\n\r\nFor example:\r\n\r\n    public class MyAppConfig {\r\n\r\n        final static String propertiesPath=&quot;/home/workspace/MyApp/src/config.properties&quot;;\r\n        static String strParam;\r\n        static boolean boolParam;\r\n        static int intParam;\r\n        static double dblParam;\r\n\r\n        static {\r\n\r\n           // Other static initialization tasks...\r\n           loadParams();\r\n        }\r\n\r\n        private static void loadParams(){\r\n\r\n            Properties prop = new Properties();\r\n\r\n\t\t    try (InputStream propStream=new FileInputStream(propertiesPath)){\t   \t\t\r\n\t\t\t    // Load parameters from config file\r\n\t\t\t    prop.load(propStream);\r\n\t\t\t    // Second param is default value in case key-pair is missing\r\n                strParam=prop.getProperty(&quot;StrParam&quot;, &quot;foo&quot;);\r\n                boolParam=Boolean.parseBoolean(prop.getProperty(&quot;boolParam&quot;, &quot;false&quot;)); \r\n\t\t\t    intParam= Integer.parseInt(prop.getProperty(&quot;intParam&quot;, &quot;1&quot;)); \r\n\t\t\t    dblParam=Double.parseDouble(prop.getProperty(&quot;dblParam&quot;, &quot;0.05&quot;)); \r\n\r\n\t\t    } catch (IOException e) {\r\n\t\t\t    logger.severe(e.getMessage());\r\n\t\t\t    e.printStackTrace();\r\n\t\t    } \r\n\t    }\r\n    }","title":"Get int, float, boolean and string from Properties","body":"<p>You can define your configurable parameters as 'static' in your class of choice, and from a static init call a method that loads the parameter values from a properties file.  </p>\n\n<p>For example:</p>\n\n<pre><code>public class MyAppConfig {\n\n    final static String propertiesPath=\"/home/workspace/MyApp/src/config.properties\";\n    static String strParam;\n    static boolean boolParam;\n    static int intParam;\n    static double dblParam;\n\n    static {\n\n       // Other static initialization tasks...\n       loadParams();\n    }\n\n    private static void loadParams(){\n\n        Properties prop = new Properties();\n\n        try (InputStream propStream=new FileInputStream(propertiesPath)){           \n            // Load parameters from config file\n            prop.load(propStream);\n            // Second param is default value in case key-pair is missing\n            strParam=prop.getProperty(\"StrParam\", \"foo\");\n            boolParam=Boolean.parseBoolean(prop.getProperty(\"boolParam\", \"false\")); \n            intParam= Integer.parseInt(prop.getProperty(\"intParam\", \"1\")); \n            dblParam=Double.parseDouble(prop.getProperty(\"dblParam\", \"0.05\")); \n\n        } catch (IOException e) {\n            logger.severe(e.getMessage());\n            e.printStackTrace();\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22304521,"reputation":1,"user_id":16529362,"display_name":"Siddartha"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1627834321,"creation_date":1627643865,"answer_id":68590075,"question_id":36723839,"body_markdown":"This might help:\r\n```java\r\nprops.getProperty(&quot;name&quot;, Integer.class);\r\n```","title":"Get int, float, boolean and string from Properties","body":"<p>This might help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>props.getProperty(&quot;name&quot;, Integer.class);\n</code></pre>\n"}],"owner":{"account_id":4982414,"reputation":1977,"user_id":4006969,"accept_rate":60,"display_name":"Pratiyush Kumar Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40194,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":36724648,"answer_count":8,"score":38,"last_activity_date":1672826483,"creation_date":1461082148,"question_id":36723839,"body_markdown":"I have int, float, boolean and string from Properties file. Everything has loaded in Properties. Currently, I am parsing values as I know expected value for particular key.\r\n\r\n    Boolean.parseBoolean(&quot;false&quot;);\r\n    Integer.parseInt(&quot;3&quot;)\r\n\r\nWhat is better way of setting these constants values, If I don&#39;t know what could be primitive value datatype for a key.\r\n\r\n    public class Messages {\r\n    \r\n    \tProperties appProperties = null;\r\n    \tFileInputStream file = null;\r\n    \r\n    \tpublic void initialization() throws Exception {\r\n    \r\n    \t\tappProperties = new Properties();\r\n    \t\ttry {\r\n    \r\n    \t\t\tloadPropertiesFile();\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new Exception(e.getMessage(), e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void loadPropertiesFile() throws IOException {\r\n    \r\n    \t\tString path = &quot;./cfg/message.properties&quot;;\r\n    \t\tfile = new FileInputStream(path);\r\n    \t\tappProperties.load(file);\r\n    \t\tfile.close();\r\n    \t}\r\n    }\r\n\r\nProperties File.\r\nmessassge.properties\r\n\r\n    SSO_URL = https://example.com/connect/token\r\n    SSO_API_USERNAME = test\r\n    SSO_API_PASSWORD = Uo88YmMpKUp\r\n    SSO_API_SCOPE = intraday_api\r\n    SSO_IS_PROXY_ENABLED = false\r\n    SSO_MAX_RETRY_COUNT = 3\r\n    SSO_FLOAT_VALUE = 3.0\r\n\r\n\r\nConstant.java\r\n\r\n    public class Constants {\r\n    \tpublic static String SSO_URL = null;\r\n    \tpublic static String SSO_API_USERNAME = null;\r\n    \tpublic static String SSO_API_PASSWORD = null;\r\n    \tpublic static String SSO_API_SCOPE = null;\r\n    \tpublic static boolean SSO_IS_PROXY_ENABLED = false;\r\n    \tpublic static int SSO_MAX_RETRY_COUNT = 0;\r\n    \tpublic static float SSO_FLOAT_VALUE = 0;\r\n    }\r\n","title":"Get int, float, boolean and string from Properties","body":"<p>I have int, float, boolean and string from Properties file. Everything has loaded in Properties. Currently, I am parsing values as I know expected value for particular key.</p>\n\n<pre><code>Boolean.parseBoolean(\"false\");\nInteger.parseInt(\"3\")\n</code></pre>\n\n<p>What is better way of setting these constants values, If I don't know what could be primitive value datatype for a key.</p>\n\n<pre><code>public class Messages {\n\n    Properties appProperties = null;\n    FileInputStream file = null;\n\n    public void initialization() throws Exception {\n\n        appProperties = new Properties();\n        try {\n\n            loadPropertiesFile();\n\n        } catch (Exception e) {\n            throw new Exception(e.getMessage(), e);\n        }\n    }\n\n    public void loadPropertiesFile() throws IOException {\n\n        String path = \"./cfg/message.properties\";\n        file = new FileInputStream(path);\n        appProperties.load(file);\n        file.close();\n    }\n}\n</code></pre>\n\n<p>Properties File.\nmessassge.properties</p>\n\n<pre><code>SSO_URL = https://example.com/connect/token\nSSO_API_USERNAME = test\nSSO_API_PASSWORD = Uo88YmMpKUp\nSSO_API_SCOPE = intraday_api\nSSO_IS_PROXY_ENABLED = false\nSSO_MAX_RETRY_COUNT = 3\nSSO_FLOAT_VALUE = 3.0\n</code></pre>\n\n<p>Constant.java</p>\n\n<pre><code>public class Constants {\n    public static String SSO_URL = null;\n    public static String SSO_API_USERNAME = null;\n    public static String SSO_API_PASSWORD = null;\n    public static String SSO_API_SCOPE = null;\n    public static boolean SSO_IS_PROXY_ENABLED = false;\n    public static int SSO_MAX_RETRY_COUNT = 0;\n    public static float SSO_FLOAT_VALUE = 0;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1672827133,"post_id":75003704,"comment_id":132358926,"body_markdown":"There are typically many options to achieve the same in `spring`. We also prefer to inject our own `PermissionEvaluator`. BTW, overriding `MethodSecurityExpressionHandler` has some advantages: you may create your own expressions.","body":"There are typically many options to achieve the same in <code>spring</code>. We also prefer to inject our own <code>PermissionEvaluator</code>. BTW, overriding <code>MethodSecurityExpressionHandler</code> has some advantages: you may create your own expressions."}],"owner":{"account_id":26712307,"reputation":91,"user_id":20317450,"display_name":"Bastian Hologne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672826477,"creation_date":1672826038,"question_id":75003704,"body_markdown":"It&#39;s all in the title I am currently trying to set up a CustomPermissionEvualuator for request an external ABAC service with Pre / Post Annotation through hasPermission. In my case the simple addition of the CustomPermissionEvaluator bean in my config class works and it is my PermissionEvualotar that is called during my hasPermission().\r\n\r\nhowever, in many tutorials on the web, they override the  \r\nDefaultMethodSecurityExpressionHandler and set manually the CustomPermissionEvaluator, but none of them explain why. \r\n\r\nDoes somebody have an explain ?\r\n\r\n\r\n\r\nConfiguration Class : \r\n```\r\n@ConditionalOnClass(name = &quot;org.springframework.security.access.SecurityConfig&quot;)\r\n@ConditionalOnProperty(name = &quot;authorization.security.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\r\n@Configuration\r\npublic class CustomSecurityConfig {\r\n\r\n    @Bean\r\n    @ConfigurationProperties(prefix = &quot;authorization.security&quot;)\r\n    public AuthorizationSecurityConfig authorizationSecurityConfigBean() {\r\n        return new AuthorizationSecurityConfig();\r\n    }\r\n\r\n    @Bean\r\n    public CustomPermissionEvaluator customPermissionEvaluator(AuthorizationSecurityConfig authorizationSecurityConfig) {\r\n        return new CustomPermissionEvaluator(authorizationSecurityConfig);\r\n    }\r\n\r\n}\r\n```\r\n\r\n[Debug screen](https://i.stack.imgur.com/Ug9KQ.png)\r\n \r\n\r\nExample of tutorial who override the Handler : \r\nhttps://www.baeldung.com/spring-security-create-new-custom-security-expression\r\n\r\n\r\nThank you in advance,\r\n\r\n","title":"Why do we need to override the DefaultMethodSecurityExpressionHandler to set up a CustomPermissionEvualuator?","body":"<p>It's all in the title I am currently trying to set up a CustomPermissionEvualuator for request an external ABAC service with Pre / Post Annotation through hasPermission. In my case the simple addition of the CustomPermissionEvaluator bean in my config class works and it is my PermissionEvualotar that is called during my hasPermission().</p>\n<p>however, in many tutorials on the web, they override the<br />\nDefaultMethodSecurityExpressionHandler and set manually the CustomPermissionEvaluator, but none of them explain why.</p>\n<p>Does somebody have an explain ?</p>\n<p>Configuration Class :</p>\n<pre><code>@ConditionalOnClass(name = &quot;org.springframework.security.access.SecurityConfig&quot;)\n@ConditionalOnProperty(name = &quot;authorization.security.enabled&quot;, havingValue = &quot;true&quot;, matchIfMissing = true)\n@Configuration\npublic class CustomSecurityConfig {\n\n    @Bean\n    @ConfigurationProperties(prefix = &quot;authorization.security&quot;)\n    public AuthorizationSecurityConfig authorizationSecurityConfigBean() {\n        return new AuthorizationSecurityConfig();\n    }\n\n    @Bean\n    public CustomPermissionEvaluator customPermissionEvaluator(AuthorizationSecurityConfig authorizationSecurityConfig) {\n        return new CustomPermissionEvaluator(authorizationSecurityConfig);\n    }\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Ug9KQ.png\" rel=\"nofollow noreferrer\">Debug screen</a></p>\n<p>Example of tutorial who override the Handler :\n<a href=\"https://www.baeldung.com/spring-security-create-new-custom-security-expression\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-create-new-custom-security-expression</a></p>\n<p>Thank you in advance,</p>\n"},{"tags":["java","garbage-collection","visualvm","jvisualvm"],"comments":[{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1672665363,"post_id":74971200,"comment_id":132322398,"body_markdown":"Can you share the heapdump? I would like to investigate it.","body":"Can you share the heapdump? I would like to investigate it."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1672673024,"post_id":74971200,"comment_id":132324574,"body_markdown":"@TomasHurka Sure, here it is https://www.dropbox.com/s/f71w2ik4w60poc9/heapdump-1672547250845.hprof?dl=0  That is a later dump with almost 13 million GC roots.","body":"@TomasHurka Sure, here it is <a href=\"https://www.dropbox.com/s/f71w2ik4w60poc9/heapdump-1672547250845.hprof?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/f71w2ik4w60poc9/heapdump-1672547250845.hprof?d&zwnj;&#8203;l=0</a>  That is a later dump with almost 13 million GC roots."},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1672738355,"post_id":74971200,"comment_id":132337260,"body_markdown":"Thanks, you can delete it. BTW: It is always useful to compress heapdump when uploading it somewhere.","body":"Thanks, you can delete it. BTW: It is always useful to compress heapdump when uploading it somewhere."}],"answers":[{"comments":[{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1672754986,"post_id":74992062,"comment_id":132342580,"body_markdown":"Thanks very much for this analysis!  Now I think I understand what is happening.  There are native threads calling in to Java at around 30 times per second (video framerate callbacks), since those threads never &quot;return to Java&quot; there can be no automatic clean up of the local references.  There must be a missing call to DeleteLocalRef.","body":"Thanks very much for this analysis!  Now I think I understand what is happening.  There are native threads calling in to Java at around 30 times per second (video framerate callbacks), since those threads never &quot;return to Java&quot; there can be no automatic clean up of the local references.  There must be a missing call to DeleteLocalRef."},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1672755387,"post_id":74992062,"comment_id":132342727,"body_markdown":"Yes, see my update. I added two screenshots with thread and affecting frame.","body":"Yes, see my update. I added two screenshots with thread and affecting frame."},{"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"score":0,"creation_date":1672758107,"post_id":74992062,"comment_id":132343660,"body_markdown":"I tried your second script and after some time it failed: javax.script.ScriptException: org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (findThing) on org.graalvm.visualvm.lib.profiler.oql.engine.api.impl.Snapshot@233b05de failed due to: Cannot convert &#39;4038369040&#39;(language: Java, type: java.lang.String) to Java type &#39;long&#39;: Invalid or lossy primitive coercion.","body":"I tried your second script and after some time it failed: javax.script.ScriptException: org.graalvm.polyglot.PolyglotException: TypeError: invokeMember (findThing) on org.graalvm.visualvm.lib.profiler.oql.engine.api.impl.Snapsh&zwnj;&#8203;ot@233b05de failed due to: Cannot convert &#39;4038369040&#39;(language: Java, type: java.lang.String) to Java type &#39;long&#39;: Invalid or lossy primitive coercion."},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":0,"creation_date":1672768568,"post_id":74992062,"comment_id":132347149,"body_markdown":"Please run VisualVM on JDK 11 or JDK 8, which bundles Nashorn javascript engine.","body":"Please run VisualVM on JDK 11 or JDK 8, which bundles Nashorn javascript engine."},{"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"score":1,"creation_date":1672826336,"post_id":74992062,"comment_id":132358647,"body_markdown":"I updated the second script to run also on GraalJS (it is used as javascript engine on JDK 17+)","body":"I updated the second script to run also on GraalJS (it is used as javascript engine on JDK 17+)"}],"tags":[],"owner":{"account_id":103389,"reputation":6773,"user_id":276950,"display_name":"Tomas Hurka"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672826280,"creation_date":1672741693,"answer_id":74992062,"question_id":74971200,"body_markdown":"Different GC roots can reffer to the same object instance. This explains the difference, since count from &quot;GC root&quot; view display number of unique instances. You can find more details using OQL. First let&#39;s display number of GC roots for particular GC type:\r\n\r\n    printHistogram()\r\n\r\n    function printHistogram() {\r\n      var roots = heap.roots()\r\n      var histoMap = new Array();\r\n      var result = new Array();\r\n      var cnt = 0;\r\n     \r\n      while (roots.hasMoreElements()) {\r\n        var root = roots.nextElement();\r\n        var type = root.type;\r\n        if (histoMap[type] == undefined) {\r\n          histoMap[type] = 1;\r\n        } else {\r\n          histoMap[type]++;\r\n        }\r\n      }\r\n      for (var key in histoMap){\r\n        if (histoMap.hasOwnProperty(key)) {\r\n          result[cnt++] = { key: key, count: histoMap[key] };\r\n      }\r\n      return map(sort(result, &quot;rhs.count - lhs.count&quot;), &#39;&quot;Root count: &quot;+it.count+&quot; for type: &quot;+it.key&#39;);\r\n    }\r\nRunning this query against your heap dump produces:\r\n\r\n    Root count: 12878043 for type: JNI local\r\n    Root count: 7858 for type: JNI global\r\n    Root count: 3599 for type: sticky class\r\n    Root count: 1631 for type: Java frame\r\n    Root count: 146 for type: thread object\r\n    Root count: 7 for type: monitor used\r\n\r\nWe can see that the majority of GC roots are of &quot;JNI local&quot; type. Let us see how many &quot;JNI local&quot; roots point to the same object instance. We can modify above query to:\r\n\r\n    printHistogram()\r\n\r\n    function printHistogram() {\r\n      var roots = heap.roots()\r\n      var histoMap = new Array();\r\n      var rootMap = new Array();\r\n      var result = new Array();\r\n      var cnt = 0;\r\n\r\n      while (roots.hasMoreElements()) {\r\n        var root = roots.nextElement();\r\n        if (root.type == &quot;JNI local&quot;) {\r\n          var objid = root.id;\r\n          if (histoMap[objid] == undefined) {\r\n            histoMap[objid] = 1;\r\n            rootMap[objid] = root.referrer;\r\n          } else {\r\n            histoMap[objid]++;\r\n          }\r\n        }\r\n      }\r\n      for (var key in histoMap){\r\n        if (histoMap.hasOwnProperty(key)) {\r\n          result[cnt++] = { key: rootMap[key], count: histoMap[key] };\r\n        }\r\n      }\r\n\r\n      return map(sort(result, &quot;rhs.count - lhs.count&quot;), &#39;&quot;Root count: &quot;+it.count+&quot; for object: &quot;+toHtml(it.key)&#39;);\r\n    }\r\n\r\nThe result is below:\r\n\r\n    Root count: 6439020 for object: java.lang.String#44429\r\n    Root count: 6439020 for object: java.lang.String#55081\r\n    Root count: 1 for object: java.nio.DirectByteBuffer#9\r\n    Root count: 1 for object: java.util.ArrayList#22281\r\n    Root count: 1 for object: java.lang.String#71518\r\n\r\nWe can see that two strings `java.lang.String#44429` and `java.lang.String#55081` are responsible for that huge number of GC roots. They have 6,5 million GC roots each.\r\n\r\nThose &quot;JNI local&quot; GC root are referenced from `MessageDispatherThread-1 (tid=216)` from frame `ca.digitalrapids.kayak.jni.KayakNativeWorkerThread.runNative (Native Method)`. See screenshots below:\r\n\r\n[![stacktrace][1]][1]\r\n\r\n[![locals][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bg1v5.png\r\n  [2]: https://i.stack.imgur.com/qBZXR.png","title":"VisualVM heap dump &quot;Summary&quot; shows way more roots than &quot;Objects-&gt;Preset: GC Roots&quot; shows, what does it mean?","body":"<p>Different GC roots can reffer to the same object instance. This explains the difference, since count from &quot;GC root&quot; view display number of unique instances. You can find more details using OQL. First let's display number of GC roots for particular GC type:</p>\n<pre><code>printHistogram()\n\nfunction printHistogram() {\n  var roots = heap.roots()\n  var histoMap = new Array();\n  var result = new Array();\n  var cnt = 0;\n \n  while (roots.hasMoreElements()) {\n    var root = roots.nextElement();\n    var type = root.type;\n    if (histoMap[type] == undefined) {\n      histoMap[type] = 1;\n    } else {\n      histoMap[type]++;\n    }\n  }\n  for (var key in histoMap){\n    if (histoMap.hasOwnProperty(key)) {\n      result[cnt++] = { key: key, count: histoMap[key] };\n  }\n  return map(sort(result, &quot;rhs.count - lhs.count&quot;), '&quot;Root count: &quot;+it.count+&quot; for type: &quot;+it.key');\n}\n</code></pre>\n<p>Running this query against your heap dump produces:</p>\n<pre><code>Root count: 12878043 for type: JNI local\nRoot count: 7858 for type: JNI global\nRoot count: 3599 for type: sticky class\nRoot count: 1631 for type: Java frame\nRoot count: 146 for type: thread object\nRoot count: 7 for type: monitor used\n</code></pre>\n<p>We can see that the majority of GC roots are of &quot;JNI local&quot; type. Let us see how many &quot;JNI local&quot; roots point to the same object instance. We can modify above query to:</p>\n<pre><code>printHistogram()\n\nfunction printHistogram() {\n  var roots = heap.roots()\n  var histoMap = new Array();\n  var rootMap = new Array();\n  var result = new Array();\n  var cnt = 0;\n\n  while (roots.hasMoreElements()) {\n    var root = roots.nextElement();\n    if (root.type == &quot;JNI local&quot;) {\n      var objid = root.id;\n      if (histoMap[objid] == undefined) {\n        histoMap[objid] = 1;\n        rootMap[objid] = root.referrer;\n      } else {\n        histoMap[objid]++;\n      }\n    }\n  }\n  for (var key in histoMap){\n    if (histoMap.hasOwnProperty(key)) {\n      result[cnt++] = { key: rootMap[key], count: histoMap[key] };\n    }\n  }\n\n  return map(sort(result, &quot;rhs.count - lhs.count&quot;), '&quot;Root count: &quot;+it.count+&quot; for object: &quot;+toHtml(it.key)');\n}\n</code></pre>\n<p>The result is below:</p>\n<pre><code>Root count: 6439020 for object: java.lang.String#44429\nRoot count: 6439020 for object: java.lang.String#55081\nRoot count: 1 for object: java.nio.DirectByteBuffer#9\nRoot count: 1 for object: java.util.ArrayList#22281\nRoot count: 1 for object: java.lang.String#71518\n</code></pre>\n<p>We can see that two strings <code>java.lang.String#44429</code> and <code>java.lang.String#55081</code> are responsible for that huge number of GC roots. They have 6,5 million GC roots each.</p>\n<p>Those &quot;JNI local&quot; GC root are referenced from <code>MessageDispatherThread-1 (tid=216)</code> from frame <code>ca.digitalrapids.kayak.jni.KayakNativeWorkerThread.runNative (Native Method)</code>. See screenshots below:</p>\n<p><a href=\"https://i.stack.imgur.com/Bg1v5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bg1v5.png\" alt=\"stacktrace\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/qBZXR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qBZXR.png\" alt=\"locals\" /></a></p>\n"}],"owner":{"account_id":1193459,"reputation":3989,"user_id":1165724,"display_name":"swpalmer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74992062,"answer_count":1,"score":0,"last_activity_date":1672826280,"creation_date":1672508520,"question_id":74971200,"body_markdown":"I suspect a slow memory leak caused by JNI code.  I&#39;m seeing the GC Roots # in the summary of consecutive heap dumps climbing.  After two hours it showed 470,000 GC roots, after six hours, almost a million more GC roots, after 33 hours over 7 million GC roots.\r\n\r\nHowever, when I look at the Head Dump that says there are 7 million GC roots, and I choose the &quot;Objects&quot; view and the &quot;GC Roots&quot; preset, I select Aggregation &quot;Types&quot;.  This list shows a total count of less than 15,000 objects:\r\n\r\n- JNI global - count 7857\r\n- JNI local - count 5\r\n- Java frame - count 983\r\n- monitor used - count 7\r\n- sticky class - count 3596\r\n- thread object - count 145\r\n\r\n\r\nWhere are those 7 million roots?","title":"VisualVM heap dump &quot;Summary&quot; shows way more roots than &quot;Objects-&gt;Preset: GC Roots&quot; shows, what does it mean?","body":"<p>I suspect a slow memory leak caused by JNI code.  I'm seeing the GC Roots # in the summary of consecutive heap dumps climbing.  After two hours it showed 470,000 GC roots, after six hours, almost a million more GC roots, after 33 hours over 7 million GC roots.</p>\n<p>However, when I look at the Head Dump that says there are 7 million GC roots, and I choose the &quot;Objects&quot; view and the &quot;GC Roots&quot; preset, I select Aggregation &quot;Types&quot;.  This list shows a total count of less than 15,000 objects:</p>\n<ul>\n<li>JNI global - count 7857</li>\n<li>JNI local - count 5</li>\n<li>Java frame - count 983</li>\n<li>monitor used - count 7</li>\n<li>sticky class - count 3596</li>\n<li>thread object - count 145</li>\n</ul>\n<p>Where are those 7 million roots?</p>\n"},{"tags":["java","fonts"],"answers":[{"comments":[{"owner":{"account_id":327558,"reputation":1775,"user_id":650004,"accept_rate":50,"display_name":"Magmatic"},"score":7,"creation_date":1400723756,"post_id":5652385,"comment_id":36601969,"body_markdown":"Please describe here how to do it, not just link to another page.","body":"Please describe here how to do it, not just link to another page."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1489136549,"post_id":5652385,"comment_id":72548958,"body_markdown":"I have checked that by this way, only this java program can list/use the new font, while other parallel java apps remain unknown about this. But if you install another font with some similar name with system ones, it may substitute the latter one and other applications may stop to work consistently... which I have encountered the other day. So, never install something new in system scope, and only do it if you are 100% sure what you are doing.","body":"I have checked that by this way, only this java program can list/use the new font, while other parallel java apps remain unknown about this. But if you install another font with some similar name with system ones, it may substitute the latter one and other applications may stop to work consistently... which I have encountered the other day. So, never install something new in system scope, and only do it if you are 100% sure what you are doing."}],"tags":[],"owner":{"account_id":28117,"reputation":105582,"user_id":74757,"accept_rate":79,"display_name":"Cᴏʀʏ"},"comment_count":2,"down_vote_count":0,"up_vote_count":67,"is_accepted":true,"score":67,"last_activity_date":1446941235,"creation_date":1302711607,"answer_id":5652385,"question_id":5652344,"body_markdown":"If you include a font file (otf, ttf, etc.) in your package, you can use the font in your application via the method described here:\r\n\r\n[Oracle Java SE 6: java.awt.Font][1]\r\n\r\nThere is a [tutorial available][2] from Oracle that shows this example:\r\n\r\n    try {\r\n         GraphicsEnvironment ge = \r\n             GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n         ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;A.ttf&quot;)));\r\n    } catch (IOException|FontFormatException e) {\r\n         //Handle exception\r\n    }\r\n\r\nI would probably wrap this up in some sort of resource loader though as to not reload the file from the package every time you want to use it.\r\n\r\nAn answer more closely related to your original question would be to install the font as part of your application&#39;s installation process. That process will depend on the installation method you choose. If it&#39;s not a desktop app you&#39;ll have to look into the links provided.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/awt/Font.html#createFont%28int,%20java.io.File%29 &quot;Font &amp;#40;Java Platform SE 6&amp;#41;&quot;\r\n  [2]: http://download.oracle.com/javase/tutorial/2d/text/fonts.html","title":"How can I use a custom font in Java?","body":"<p>If you include a font file (otf, ttf, etc.) in your package, you can use the font in your application via the method described here:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/awt/Font.html#createFont%28int,%20java.io.File%29\" rel=\"noreferrer\" title=\"Font &#40;Java Platform SE 6&#41;\">Oracle Java SE 6: java.awt.Font</a></p>\n\n<p>There is a <a href=\"http://download.oracle.com/javase/tutorial/2d/text/fonts.html\" rel=\"noreferrer\">tutorial available</a> from Oracle that shows this example:</p>\n\n<pre><code>try {\n     GraphicsEnvironment ge = \n         GraphicsEnvironment.getLocalGraphicsEnvironment();\n     ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(\"A.ttf\")));\n} catch (IOException|FontFormatException e) {\n     //Handle exception\n}\n</code></pre>\n\n<p>I would probably wrap this up in some sort of resource loader though as to not reload the file from the package every time you want to use it.</p>\n\n<p>An answer more closely related to your original question would be to install the font as part of your application's installation process. That process will depend on the installation method you choose. If it's not a desktop app you'll have to look into the links provided.</p>\n"},{"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1364535363,"creation_date":1302711759,"answer_id":5652417,"question_id":5652344,"body_markdown":"From the [Java tutorial][1], you need to create a new font and register it in the graphics environment:\r\n\r\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n    ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;A.ttf&quot;)));\r\n\r\nAfter this step is done, the font is available in calls to `getAvailableFontFamilyNames()` and can be used in font constructors. \r\n\r\n[1]: http://download.oracle.com/javase/tutorial/2d/text/fonts.html","title":"How can I use a custom font in Java?","body":"<p>From the <a href=\"http://download.oracle.com/javase/tutorial/2d/text/fonts.html\" rel=\"noreferrer\">Java tutorial</a>, you need to create a new font and register it in the graphics environment:</p>\n\n<pre><code>GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\nge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(\"A.ttf\")));\n</code></pre>\n\n<p>After this step is done, the font is available in calls to <code>getAvailableFontFamilyNames()</code> and can be used in font constructors. </p>\n"},{"comments":[{"owner":{"account_id":7747117,"reputation":379,"user_id":5864444,"accept_rate":100,"display_name":"tobahhh"},"score":2,"creation_date":1475792907,"post_id":17514968,"comment_id":67098522,"body_markdown":"Can&#39;t you just call ge.registerFont with the variable customFont as its parameter to stop the excessive typing?","body":"Can&#39;t you just call ge.registerFont with the variable customFont as its parameter to stop the excessive typing?"},{"owner":{"account_id":9104,"reputation":33430,"user_id":16673,"accept_rate":89,"display_name":"Suma"},"score":1,"creation_date":1543305339,"post_id":17514968,"comment_id":93859502,"body_markdown":"Can you please extend the answer a bit? Is this different from the solution provided by dogbane? Is is necessary to call `createFont` twice? If it is, why?","body":"Can you please extend the answer a bit? Is this different from the solution provided by dogbane? Is is necessary to call <code>createFont</code> twice? If it is, why?"}],"tags":[],"owner":{"account_id":2414156,"reputation":445,"user_id":2108600,"display_name":"Florin Virtej"},"comment_count":2,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1543496643,"creation_date":1373221556,"answer_id":17514968,"question_id":5652344,"body_markdown":"Here is how I did it!\r\n\r\n\r\n    //create the font\r\n\t\t\t\t\t\t\r\n    try {\r\n        //create the font to use. Specify the size!\r\n        Font customFont = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;Fonts\\\\custom_font.ttf&quot;)).deriveFont(12f);\r\n        GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n        //register the font\r\n        ge.registerFont(customFont);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    } catch(FontFormatException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    //use the font\r\n    yourSwingComponent.setFont(customFont);\r\n","title":"How can I use a custom font in Java?","body":"<p>Here is how I did it!</p>\n\n<pre><code>//create the font\n\ntry {\n    //create the font to use. Specify the size!\n    Font customFont = Font.createFont(Font.TRUETYPE_FONT, new File(\"Fonts\\\\custom_font.ttf\")).deriveFont(12f);\n    GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    //register the font\n    ge.registerFont(customFont);\n} catch (IOException e) {\n    e.printStackTrace();\n} catch(FontFormatException e) {\n    e.printStackTrace();\n}\n\n//use the font\nyourSwingComponent.setFont(customFont);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1167427,"reputation":24342,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":4,"creation_date":1510241684,"post_id":40862139,"comment_id":81360238,"body_markdown":"For clarity, the `48f` here is the font size passed as a float.   If you pass it in as an integer it doesn&#39;t work properly because that method is expecting int constants such as `Font.BOLD`.  If you are using different sizes or styles of a single font, you can derive all of them from your single `Font` object.","body":"For clarity, the <code>48f</code> here is the font size passed as a float.   If you pass it in as an integer it doesn&#39;t work properly because that method is expecting int constants such as <code>Font.BOLD</code>.  If you are using different sizes or styles of a single font, you can derive all of them from your single <code>Font</code> object."}],"tags":[],"owner":{"account_id":1390727,"reputation":5865,"user_id":1321642,"accept_rate":69,"display_name":"Heinrisch"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1480411661,"creation_date":1480411661,"answer_id":40862139,"question_id":5652344,"body_markdown":"If you want to use the font to draw with graphics2d or similar, this works:\r\n\r\n    InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(&quot;roboto-bold.ttf&quot;)\r\n    Font font = Font.createFont(Font.TRUETYPE_FONT, stream).deriveFont(48f)","title":"How can I use a custom font in Java?","body":"<p>If you want to use the font to draw with graphics2d or similar, this works:</p>\n\n<pre><code>InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(\"roboto-bold.ttf\")\nFont font = Font.createFont(Font.TRUETYPE_FONT, stream).deriveFont(48f)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27429200,"reputation":1,"user_id":20926173,"display_name":"Santos Vilanculos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672826277,"creation_date":1672826277,"answer_id":75003752,"question_id":5652344,"body_markdown":"Configuration:\r\n```\r\nfinal GraphicsEnvironment GE = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\nfinal List&lt;String&gt; AVAILABLE_FONT_FAMILY_NAMES = Arrays.asList(GE.getAvailableFontFamilyNames());\r\ntry {\r\n    final List&lt;File&gt; LIST = Arrays.asList(\r\n        new File(&quot;font/JetBrainsMono/JetBrainsMono-Thin.ttf&quot;),\r\n        new File(&quot;font/JetBrainsMono/JetBrainsMono-Light.ttf&quot;),\r\n        new File(&quot;font/Roboto/Roboto-Light.ttf&quot;),\r\n        new File(&quot;font/Roboto/Roboto-Regular.ttf&quot;),\r\n        new File(&quot;font/Roboto/Roboto-Medium.ttf&quot;)\r\n     );\r\n     for (File LIST_ITEM : LIST) {\r\n         if (LIST_ITEM.exists()) {\r\n             Font FONT = Font.createFont(Font.TRUETYPE_FONT, LIST_ITEM);\r\n             if (!AVAILABLE_FONT_FAMILY_NAMES.contains(FONT.getFontName())){ \r\n                 GE.registerFont(FONT);\r\n             }\r\n         }\r\n     }\r\n} catch (FontFormatException | IOException exception) {\r\n    JOptionPane.showMessageDialog(null, exception.getMessage());\r\n}\r\n```\r\n\r\nUsage example:\r\n\r\n```\r\nJLabel label1 = new JLabel(&quot;TEXT1&quot;);\r\nlabel1.setFont(new Font(&quot;Roboto Medium&quot;, Font.PLAIN, 13));\r\n\r\nJLabel label2 = new JLabel(&quot;TEXT2&quot;);\r\nlabel2.setFont(new Font(&quot;Roboto&quot;, Font.PLAIN, 13));\r\n```\r\n\r\n**Note**: \r\nOnly existing fonts that are not available in the system are registered.\r\n","title":"How can I use a custom font in Java?","body":"<p>Configuration:</p>\n<pre><code>final GraphicsEnvironment GE = GraphicsEnvironment.getLocalGraphicsEnvironment();\nfinal List&lt;String&gt; AVAILABLE_FONT_FAMILY_NAMES = Arrays.asList(GE.getAvailableFontFamilyNames());\ntry {\n    final List&lt;File&gt; LIST = Arrays.asList(\n        new File(&quot;font/JetBrainsMono/JetBrainsMono-Thin.ttf&quot;),\n        new File(&quot;font/JetBrainsMono/JetBrainsMono-Light.ttf&quot;),\n        new File(&quot;font/Roboto/Roboto-Light.ttf&quot;),\n        new File(&quot;font/Roboto/Roboto-Regular.ttf&quot;),\n        new File(&quot;font/Roboto/Roboto-Medium.ttf&quot;)\n     );\n     for (File LIST_ITEM : LIST) {\n         if (LIST_ITEM.exists()) {\n             Font FONT = Font.createFont(Font.TRUETYPE_FONT, LIST_ITEM);\n             if (!AVAILABLE_FONT_FAMILY_NAMES.contains(FONT.getFontName())){ \n                 GE.registerFont(FONT);\n             }\n         }\n     }\n} catch (FontFormatException | IOException exception) {\n    JOptionPane.showMessageDialog(null, exception.getMessage());\n}\n</code></pre>\n<p>Usage example:</p>\n<pre><code>JLabel label1 = new JLabel(&quot;TEXT1&quot;);\nlabel1.setFont(new Font(&quot;Roboto Medium&quot;, Font.PLAIN, 13));\n\nJLabel label2 = new JLabel(&quot;TEXT2&quot;);\nlabel2.setFont(new Font(&quot;Roboto&quot;, Font.PLAIN, 13));\n</code></pre>\n<p><strong>Note</strong>:\nOnly existing fonts that are not available in the system are registered.</p>\n"}],"owner":{"account_id":281885,"reputation":14345,"user_id":578462,"accept_rate":77,"display_name":"Mahdi_Nine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144232,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":5652385,"answer_count":5,"score":60,"last_activity_date":1672826277,"creation_date":1302711412,"question_id":5652344,"body_markdown":"I wrote a program in Java that uses a special font that by default doesn&#39;t exist on any operating system.\r\n\r\nIs it possible in Java to add this special font to the operation system? For example, in Windows, to copy this font to the special Fonts folder.\r\n\r\nIf it is possible, how?","title":"How can I use a custom font in Java?","body":"<p>I wrote a program in Java that uses a special font that by default doesn't exist on any operating system.</p>\n\n<p>Is it possible in Java to add this special font to the operation system? For example, in Windows, to copy this font to the special Fonts folder.</p>\n\n<p>If it is possible, how?</p>\n"},{"tags":["java","spring-boot","ehcache-3","cachemanager"],"answers":[{"tags":[],"owner":{"account_id":7591102,"reputation":34,"user_id":5758749,"display_name":"ozankyncu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655478247,"creation_date":1655478247,"answer_id":72661374,"question_id":68500709,"body_markdown":"As mentioned in this post https://stackoverflow.com/questions/50368760/ehcache-3-5-get-all-cache-keys-entries this is not a simple API call in Ehcache 3. \r\n\r\nBut you can get all keys like this.\r\n\r\n\r\n    StreamSupport.stream(cacheManager.getCache(cacheName).spliterator(), false).collect(Collectors.toList())","title":"EhCache 3.9 -- Get All Cache Entries (working in EhCache 2.10)","body":"<p>As mentioned in this post <a href=\"https://stackoverflow.com/questions/50368760/ehcache-3-5-get-all-cache-keys-entries\">EHCache 3.5 Get All Cache Keys / Entries</a> this is not a simple API call in Ehcache 3.</p>\n<p>But you can get all keys like this.</p>\n<pre><code>StreamSupport.stream(cacheManager.getCache(cacheName).spliterator(), false).collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19090913,"reputation":491,"user_id":13941207,"display_name":"EACUAMBA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672826198,"creation_date":1672826198,"answer_id":75003740,"question_id":68500709,"body_markdown":"Try this \r\n\r\n     CacheManager.ALL_CACHE_MANAGERS.stream()\r\n        .forEach(cacheManager -&gt; Arrays.stream(cacheManager.getCacheNames()).forEach(s -&gt; log.info(&quot;Cache {} -&gt; {}&quot;, s, cacheManager.getCache(s))));","title":"EhCache 3.9 -- Get All Cache Entries (working in EhCache 2.10)","body":"<p>Try this</p>\n<pre><code> CacheManager.ALL_CACHE_MANAGERS.stream()\n    .forEach(cacheManager -&gt; Arrays.stream(cacheManager.getCacheNames()).forEach(s -&gt; log.info(&quot;Cache {} -&gt; {}&quot;, s, cacheManager.getCache(s))));\n</code></pre>\n"}],"owner":{"account_id":5936957,"reputation":558,"user_id":4669619,"accept_rate":71,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1672826198,"creation_date":1627049992,"question_id":68500709,"body_markdown":"The following code to fetch all caches is working in 2.10 (net.sf.ehcache.*)\r\n\r\n\tpublic Map&lt;CacheRegion, Map&lt;Object, Element&gt;&gt; getCache() {\r\n\t\tMap&lt;CacheRegion, Map&lt;Object, Element&gt;&gt; cachedData = new HashMap&lt;CacheRegion, Map&lt;Object, Element&gt;&gt;();\r\n\r\n\t\tfor (CacheRegion cacheRegion : CacheRegion.values()) {\r\n\t\t\tCache cache = cacheManager.getCache(cacheRegion.getRegionName());\r\n\t\t\tEhcache ehCache = ((EhCacheCache) cache).getNativeCache();\r\n\t\t\tMap&lt;Object, Element&gt; cacheMap = ehCache.getAll(ehCache.getKeys());\r\n\t\t\tcachedData.put(cacheRegion, cacheMap);\r\n\t\t}\r\n\r\n\t\treturn cachedData;\r\n\t}\r\n\t\r\n\t// CacheRegion is an enum with cache keys\r\n\r\nHow can I achieve the same in EhCache 3.9 (org.ehcache.*)? I have at least 2 different types of entities being cached. I tried looking at https://stackoverflow.com/a/50389398/4669619 but that did not work for me. So far, I have replaced `Element` with `Object`.\r\n\r\n    public Map&lt;CacheRegion, Map&lt;Object, Object&gt;&gt; getCache() {\r\n        Map&lt;CacheRegion, Map&lt;Object, Object&gt;&gt; cachedData = new HashMap&lt;CacheRegion, Map&lt;Object, Object&gt;&gt;();\r\n\t\r\n        for (CacheRegion cacheRegion : CacheRegion.values()) {\r\n            Cache cache = cacheManager.getCache(cacheRegion.getRegionName());\r\n\t\t\t...\r\n\t\t}\r\n\t}\r\n\r\n - `Element` in 2.x example can work for any/all entity. It&#39;s not available in 3.x, so I&#39;ve tried to use `Object` instead\r\n - `Ehcache` is also not available in 3.x, so I can&#39;t store the result of `((EhCacheCache) cache).getNativeCache();` in that\r\n - `Ehcache` not being available in 3.x means `getAll` functionality is not available\r\n\r\nAny suggestions/ideas will be greatly appreciated!","title":"EhCache 3.9 -- Get All Cache Entries (working in EhCache 2.10)","body":"<p>The following code to fetch all caches is working in 2.10 (net.sf.ehcache.*)</p>\n<pre><code>public Map&lt;CacheRegion, Map&lt;Object, Element&gt;&gt; getCache() {\n    Map&lt;CacheRegion, Map&lt;Object, Element&gt;&gt; cachedData = new HashMap&lt;CacheRegion, Map&lt;Object, Element&gt;&gt;();\n\n    for (CacheRegion cacheRegion : CacheRegion.values()) {\n        Cache cache = cacheManager.getCache(cacheRegion.getRegionName());\n        Ehcache ehCache = ((EhCacheCache) cache).getNativeCache();\n        Map&lt;Object, Element&gt; cacheMap = ehCache.getAll(ehCache.getKeys());\n        cachedData.put(cacheRegion, cacheMap);\n    }\n\n    return cachedData;\n}\n\n// CacheRegion is an enum with cache keys\n</code></pre>\n<p>How can I achieve the same in EhCache 3.9 (org.ehcache.*)? I have at least 2 different types of entities being cached. I tried looking at <a href=\"https://stackoverflow.com/a/50389398/4669619\">https://stackoverflow.com/a/50389398/4669619</a> but that did not work for me. So far, I have replaced <code>Element</code> with <code>Object</code>.</p>\n<pre><code>public Map&lt;CacheRegion, Map&lt;Object, Object&gt;&gt; getCache() {\n    Map&lt;CacheRegion, Map&lt;Object, Object&gt;&gt; cachedData = new HashMap&lt;CacheRegion, Map&lt;Object, Object&gt;&gt;();\n\n    for (CacheRegion cacheRegion : CacheRegion.values()) {\n        Cache cache = cacheManager.getCache(cacheRegion.getRegionName());\n        ...\n    }\n}\n</code></pre>\n<ul>\n<li><code>Element</code> in 2.x example can work for any/all entity. It's not available in 3.x, so I've tried to use <code>Object</code> instead</li>\n<li><code>Ehcache</code> is also not available in 3.x, so I can't store the result of <code>((EhCacheCache) cache).getNativeCache();</code> in that</li>\n<li><code>Ehcache</code> not being available in 3.x means <code>getAll</code> functionality is not available</li>\n</ul>\n<p>Any suggestions/ideas will be greatly appreciated!</p>\n"},{"tags":["java","java-9","jstatd"],"answers":[{"tags":[],"owner":{"account_id":1355667,"reputation":1242,"user_id":1294116,"accept_rate":62,"display_name":"Cobra1117"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529963049,"creation_date":1529963049,"answer_id":51032189,"question_id":51032095,"body_markdown":"I found one (questionable) solution to this:\r\n\r\n    grant {\r\n       permission java.security.AllPermission;\r\n    };\r\n\r\n","title":"Starting jstatd in Java 9+","body":"<p>I found one (questionable) solution to this:</p>\n\n<pre><code>grant {\n   permission java.security.AllPermission;\n};\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4992892,"reputation":4470,"user_id":4014509,"accept_rate":77,"display_name":"Sebastian S"},"score":3,"creation_date":1544015204,"post_id":51032943,"comment_id":94125440,"body_markdown":"I just tested your solution on OpenJDK 11 and found out, that you need to grant AllPermissions to `jrt:/jdk.jstatd` and `jrt:/jdk.internal.jvmstat`. Then jstatd starts without throwing an exception.","body":"I just tested your solution on OpenJDK 11 and found out, that you need to grant AllPermissions to <code>jrt:&#47;jdk.jstatd</code> and <code>jrt:&#47;jdk.internal.jvmstat</code>. Then jstatd starts without throwing an exception."}],"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":1,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1672825980,"creation_date":1529968688,"answer_id":51032943,"question_id":51032095,"body_markdown":"**Java 19 Update:** [Release Notes - `jstatd` No Longer Requires a SecurityManager (JDK-8272317)][9]\r\n\r\n&gt; `jstatd` no longer requires a Security Manager and policy file. Running with `-Djava.security.policy=` to set a policy has no effect.\r\n&gt;\r\n&gt; Internally to `jstatd`, an `ObjectInputFilter` is used to allow only essential classes to be deserialized over the RMI connection.\r\n\r\n---\r\n\r\n# Solution\r\n\r\nThe following policy file should work for you (at least under Java 11):\r\n\r\n```none\r\ngrant codebase &quot;jrt:/jdk.jstatd&quot; {    \r\n   permission java.security.AllPermission;    \r\n};\r\n\r\ngrant codebase &quot;jrt:/jdk.internal.jvmstat&quot; {    \r\n   permission java.security.AllPermission;    \r\n};\r\n```\r\n\r\nThanks to [Sebastian S][1] for pointing out `jdk.internal.jvmstat` also needed to be granted the appropriate permission and for confirming the above works. Thanks to [Gili][2] for the latter as well.\r\n\r\nAs shown below, the `tools.jar` file was removed and everything in it was split up into modules. The `jstatd` tool now resides in the [`jdk.jstatd`][6] module. I couldn&#39;t find documentation regarding how it was determined which tool(s) went into which module, though the [Javadoc][7] does tell you after-the-fact. Just note that some modules contain the code for a single tool while other modules contain the code for multiple tools.\r\n\r\n---\r\n\r\n# Documentation\r\n\r\nFrom the [Policy File Syntax][8] documentation:\r\n\r\n&gt;If you are using a modular runtime image (see the `jlink` tool), you can grant permissions to the application and library modules in the image by specifying a `jrt` URL as the `codeBase` value in a policy file. See [JEP 220: Modular Run-Time Images][4] for more information about `jrt` URLs.\r\n&gt;\r\n&gt;The following example grants permission to read the `foo` property to the module `com.greetings`:\r\n&gt;```none\r\n&gt;grant codeBase &quot;jrt:/com.greetings&quot; {\r\n&gt;    permission java.util.PropertyPermission &quot;foo&quot;, &quot;read&quot;;\r\n&gt;};\r\n&gt;```\r\n&gt;\r\n\r\nFrom [JEP 200: The Modular JDK][5]:\r\n\r\n&gt;_**Design principles**_\r\n&gt;\r\n&gt;The modular structure of the JDK implements the following principles:\r\n&gt; * Standard modules, whose specifications are governed by the JCP, have names starting with the string `&quot;java.&quot;`.\r\n&gt; * All other modules are merely part of the JDK, and have names starting with the string `&quot;jdk.&quot;`.\r\n&gt;\r\n&gt;_[...]_\r\n\r\nFrom [JEP 220: Modular Run-Time Images][4]:\r\n\r\n&gt;### Summary\r\n&gt;\r\n&gt;Restructure the JDK and JRE run-time images to accommodate modules and to improve performance, security, and maintainability. Define a new URI scheme for naming the modules, classes, and resources stored in a run-time image without revealing the internal structure or format of the image. Revise existing specifications as required to accommodate these changes.\r\n&gt;\r\n&gt;_[...]_\r\n&gt;\r\n&gt;**_Removed: rt.jar and tools.jar_**\r\n&gt;\r\n&gt;The class and resource files previously stored in `lib/rt.jar`, `lib/tools.jar`, `lib/dt.jar`, and various other internal JAR files are now stored in a more efficient format in implementation-specific files in the `lib` directory. The format of these files is not specified and is subject to change without notice.\r\n&gt;\r\n&gt;The removal of `rt.jar` and similar files leads to three distinct problems:\r\n&gt;\r\n&gt;1. _[...]_\r\n&gt;2. The `java.security.CodeSource` API and security-policy files use URLs to name the locations of code bases that are to be granted specified permissions. Components of the run-time system that require specific permissions are currently identified in the `lib/security/java.policy` file via file URLs. The elliptic-curve cryptography provider, e.g., is identified as\r\n&gt;\r\n&gt;    &gt; ```none\r\n&gt;    &gt; file:${java.home}/lib/ext/sunec.jar\r\n&gt;    &gt; ```\r\n&gt;\r\n&gt;    which, obviously, has no meaning in a modular image.\r\n&gt;3. _[...]_\r\n&gt;\r\n&gt;**_New URI scheme for naming stored modules, classes, and resources_**\r\n&gt;\r\n&gt;To address the above three problems a new URL scheme, `jrt`, can be used to name the modules, classes, and resources stored in a run-time image without revealing the internal structure or format of the image.\r\n&gt;\r\n&gt;A `jrt` URL is a hierarchical URI, per RFC 3986, with the syntax\r\n&gt;\r\n&gt;```none\r\n&gt;jrt:/[$MODULE[/$PATH]]\r\n&gt;```\r\n&gt;\r\n&gt;where `$MODULE` is an optional module name and `$PATH`, if present, is the path to a specific class or resource file within that module. The meaning of a `jrt` URL depends upon its structure:\r\n&gt;\r\n&gt; * _[...]_\r\n&gt;\r\n&gt; * `jrt:/$MODULE` refers to all of the class and resource files in the module `$MODULE`.\r\n&gt;\r\n&gt; * _[...]_\r\n&gt;\r\n&gt;These three forms of `jrt` URLs address the above problems as follows:\r\n&gt;\r\n&gt; 1. _[...]_\r\n&gt;\r\n&gt; 2. Security-policy files and other uses of the `CodeSource` API can use `jrt` URLs to name specific modules for the purpose of granting permissions. The elliptic-curve cryptography provider, e.g., can now be identified by the `jrt` URL\r\n&gt;\r\n&gt;    ```none\r\n&gt;    jrt:/jdk.crypto.ec\r\n&gt;    ```\r\n&gt;    Other modules that are currently granted all permissions but do not actually require them can trivially be de-privileged, i.e., given precisely the permissions they require.\r\n&gt;\r\n&gt; 3. _[...]_\r\n\r\nBoth _JEP 200_ and _JEP 220_ were part of [Project Jigsaw][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/4014509/sebastian-s\r\n  [2]: https://stackoverflow.com/users/14731/gili\r\n  [3]: https://openjdk.java.net/projects/jigsaw/\r\n  [4]: https://openjdk.java.net/jeps/220\r\n  [5]: https://openjdk.java.net/jeps/200\r\n  [6]: https://docs.oracle.com/en/java/javase/14/docs/api/jdk.jstatd/module-summary.html\r\n  [7]: https://docs.oracle.com/en/java/javase/14/docs/api/index.html\r\n  [8]: https://docs.oracle.com/en/java/javase/14/security/permissions-jdk1.html#GUID-7450CEFD-8EDC-495E-A7A3-6C2561FA4999\r\n  [9]: https://www.oracle.com/java/technologies/javase/19-relnote-issues.html#JDK-8272317\r\n","title":"Starting jstatd in Java 9+","body":"<p><strong>Java 19 Update:</strong> <a href=\"https://www.oracle.com/java/technologies/javase/19-relnote-issues.html#JDK-8272317\" rel=\"nofollow noreferrer\">Release Notes - <code>jstatd</code> No Longer Requires a SecurityManager (JDK-8272317)</a></p>\n<blockquote>\n<p><code>jstatd</code> no longer requires a Security Manager and policy file. Running with <code>-Djava.security.policy=</code> to set a policy has no effect.</p>\n<p>Internally to <code>jstatd</code>, an <code>ObjectInputFilter</code> is used to allow only essential classes to be deserialized over the RMI connection.</p>\n</blockquote>\n<hr />\n<h1>Solution</h1>\n<p>The following policy file should work for you (at least under Java 11):</p>\n<pre class=\"lang-none prettyprint-override\"><code>grant codebase &quot;jrt:/jdk.jstatd&quot; {    \n   permission java.security.AllPermission;    \n};\n\ngrant codebase &quot;jrt:/jdk.internal.jvmstat&quot; {    \n   permission java.security.AllPermission;    \n};\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/4014509/sebastian-s\">Sebastian S</a> for pointing out <code>jdk.internal.jvmstat</code> also needed to be granted the appropriate permission and for confirming the above works. Thanks to <a href=\"https://stackoverflow.com/users/14731/gili\">Gili</a> for the latter as well.</p>\n<p>As shown below, the <code>tools.jar</code> file was removed and everything in it was split up into modules. The <code>jstatd</code> tool now resides in the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.jstatd/module-summary.html\" rel=\"nofollow noreferrer\"><code>jdk.jstatd</code></a> module. I couldn't find documentation regarding how it was determined which tool(s) went into which module, though the <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/index.html\" rel=\"nofollow noreferrer\">Javadoc</a> does tell you after-the-fact. Just note that some modules contain the code for a single tool while other modules contain the code for multiple tools.</p>\n<hr />\n<h1>Documentation</h1>\n<p>From the <a href=\"https://docs.oracle.com/en/java/javase/14/security/permissions-jdk1.html#GUID-7450CEFD-8EDC-495E-A7A3-6C2561FA4999\" rel=\"nofollow noreferrer\">Policy File Syntax</a> documentation:</p>\n<blockquote>\n<p>If you are using a modular runtime image (see the <code>jlink</code> tool), you can grant permissions to the application and library modules in the image by specifying a <code>jrt</code> URL as the <code>codeBase</code> value in a policy file. See <a href=\"https://openjdk.java.net/jeps/220\" rel=\"nofollow noreferrer\">JEP 220: Modular Run-Time Images</a> for more information about <code>jrt</code> URLs.</p>\n<p>The following example grants permission to read the <code>foo</code> property to the module <code>com.greetings</code>:</p>\n<pre class=\"lang-none prettyprint-override\"><code>grant codeBase &quot;jrt:/com.greetings&quot; {\n   permission java.util.PropertyPermission &quot;foo&quot;, &quot;read&quot;;\n};\n</code></pre>\n</blockquote>\n<p>From <a href=\"https://openjdk.java.net/jeps/200\" rel=\"nofollow noreferrer\">JEP 200: The Modular JDK</a>:</p>\n<blockquote>\n<p><em><strong>Design principles</strong></em></p>\n<p>The modular structure of the JDK implements the following principles:</p>\n<ul>\n<li>Standard modules, whose specifications are governed by the JCP, have names starting with the string <code>&quot;java.&quot;</code>.</li>\n<li>All other modules are merely part of the JDK, and have names starting with the string <code>&quot;jdk.&quot;</code>.</li>\n</ul>\n<p><em>[...]</em></p>\n</blockquote>\n<p>From <a href=\"https://openjdk.java.net/jeps/220\" rel=\"nofollow noreferrer\">JEP 220: Modular Run-Time Images</a>:</p>\n<blockquote>\n<h3>Summary</h3>\n<p>Restructure the JDK and JRE run-time images to accommodate modules and to improve performance, security, and maintainability. Define a new URI scheme for naming the modules, classes, and resources stored in a run-time image without revealing the internal structure or format of the image. Revise existing specifications as required to accommodate these changes.</p>\n<p><em>[...]</em></p>\n<p><strong><em>Removed: rt.jar and tools.jar</em></strong></p>\n<p>The class and resource files previously stored in <code>lib/rt.jar</code>, <code>lib/tools.jar</code>, <code>lib/dt.jar</code>, and various other internal JAR files are now stored in a more efficient format in implementation-specific files in the <code>lib</code> directory. The format of these files is not specified and is subject to change without notice.</p>\n<p>The removal of <code>rt.jar</code> and similar files leads to three distinct problems:</p>\n<ol>\n<li><p><em>[...]</em></p>\n</li>\n<li><p>The <code>java.security.CodeSource</code> API and security-policy files use URLs to name the locations of code bases that are to be granted specified permissions. Components of the run-time system that require specific permissions are currently identified in the <code>lib/security/java.policy</code> file via file URLs. The elliptic-curve cryptography provider, e.g., is identified as</p>\n<blockquote>\n<pre class=\"lang-none prettyprint-override\"><code>file:${java.home}/lib/ext/sunec.jar\n</code></pre>\n</blockquote>\n<p>which, obviously, has no meaning in a modular image.</p>\n</li>\n<li><p><em>[...]</em></p>\n</li>\n</ol>\n<p><strong><em>New URI scheme for naming stored modules, classes, and resources</em></strong></p>\n<p>To address the above three problems a new URL scheme, <code>jrt</code>, can be used to name the modules, classes, and resources stored in a run-time image without revealing the internal structure or format of the image.</p>\n<p>A <code>jrt</code> URL is a hierarchical URI, per RFC 3986, with the syntax</p>\n<pre class=\"lang-none prettyprint-override\"><code>jrt:/[$MODULE[/$PATH]]\n</code></pre>\n<p>where <code>$MODULE</code> is an optional module name and <code>$PATH</code>, if present, is the path to a specific class or resource file within that module. The meaning of a <code>jrt</code> URL depends upon its structure:</p>\n<ul>\n<li><p><em>[...]</em></p>\n</li>\n<li><p><code>jrt:/$MODULE</code> refers to all of the class and resource files in the module <code>$MODULE</code>.</p>\n</li>\n<li><p><em>[...]</em></p>\n</li>\n</ul>\n<p>These three forms of <code>jrt</code> URLs address the above problems as follows:</p>\n<ol>\n<li><p><em>[...]</em></p>\n</li>\n<li><p>Security-policy files and other uses of the <code>CodeSource</code> API can use <code>jrt</code> URLs to name specific modules for the purpose of granting permissions. The elliptic-curve cryptography provider, e.g., can now be identified by the <code>jrt</code> URL</p>\n<pre class=\"lang-none prettyprint-override\"><code>jrt:/jdk.crypto.ec\n</code></pre>\n<p>Other modules that are currently granted all permissions but do not actually require them can trivially be de-privileged, i.e., given precisely the permissions they require.</p>\n</li>\n<li><p><em>[...]</em></p>\n</li>\n</ol>\n</blockquote>\n<p>Both <em>JEP 200</em> and <em>JEP 220</em> were part of <a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"nofollow noreferrer\">Project Jigsaw</a>.</p>\n"}],"owner":{"account_id":1355667,"reputation":1242,"user_id":1294116,"accept_rate":62,"display_name":"Cobra1117"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4322,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":51032943,"answer_count":2,"score":19,"last_activity_date":1672825980,"creation_date":1529962515,"question_id":51032095,"body_markdown":"In the past, I have started jstatd via a security policy file, as suggested here:\r\nhttps://stackoverflow.com/a/14930180/1294116\r\n\r\nHowever, in Java 9+, they have removed the ```tools.jar``` file, which means that this solution no longer works. Does anyone know how to get around this? (Currently I am back to getting the error ```java.security.AccessControlException: access denied (&quot;java.util.PropertyPermission&quot; &quot;java.rmi.server.ignoreSubClasses&quot; &quot;write&quot;) ...```)","title":"Starting jstatd in Java 9+","body":"<p>In the past, I have started jstatd via a security policy file, as suggested here:\n<a href=\"https://stackoverflow.com/a/14930180/1294116\">https://stackoverflow.com/a/14930180/1294116</a></p>\n\n<p>However, in Java 9+, they have removed the <code>tools.jar</code> file, which means that this solution no longer works. Does anyone know how to get around this? (Currently I am back to getting the error <code>java.security.AccessControlException: access denied (\"java.util.PropertyPermission\" \"java.rmi.server.ignoreSubClasses\" \"write\") ...</code>)</p>\n"},{"tags":["java","websocket","load-balancing","scalability","distributed-system"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672815721,"creation_date":1672815721,"answer_id":75001925,"question_id":75001660,"body_markdown":"You could potentially use any of the following:\r\n\r\n  - The MAC address of the server when you created the node.  MAC addresses are not supposed to be reused / re-assigned to a different server.\r\n  - A random (type 4) UUID.  The probability of a type 4 UUID being regenerated is too small to worry about.\r\n  - Any large enough random number generated by a crypto quality PRNG seeded with a decent source of entropy.\r\n  - Anything you want ... in combination with a registry mechanism that ensures that identifiers are not going to be reused.  \r\n\r\nPresumably, you store each node&#39;s id in the persistent state of the node itself so that it can look it up when it restarts.  (If not, you could make it the responsibility of the the node launch / relaunch mechanism to tell it.)","title":"Distributed system - How to assign a node ID to each node in distributed system?","body":"<p>You could potentially use any of the following:</p>\n<ul>\n<li>The MAC address of the server when you created the node.  MAC addresses are not supposed to be reused / re-assigned to a different server.</li>\n<li>A random (type 4) UUID.  The probability of a type 4 UUID being regenerated is too small to worry about.</li>\n<li>Any large enough random number generated by a crypto quality PRNG seeded with a decent source of entropy.</li>\n<li>Anything you want ... in combination with a registry mechanism that ensures that identifiers are not going to be reused.</li>\n</ul>\n<p>Presumably, you store each node's id in the persistent state of the node itself so that it can look it up when it restarts.  (If not, you could make it the responsibility of the the node launch / relaunch mechanism to tell it.)</p>\n"}],"owner":{"account_id":9172812,"reputation":65,"user_id":6819634,"display_name":"balram rajput"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75001925,"answer_count":1,"score":1,"last_activity_date":1672825734,"creation_date":1672813670,"question_id":75001660,"body_markdown":"How can we assign a unique ID to each node/instance of an application in a distributed environment? \r\n\r\n - We have deployed our app on multiple hosts and requests are distributed across them through a load balancer.\r\n - We have a requirement where we want to store some data specific to these nodes, and if one of the servers crashes then upon restart we want to delete data specific to only that node, not for others.\r\n - We can use IP addresses, but that doesn&#39;t seem to be a perfect solution. How can we use node ID which is non-changeable so that once the server/node restarts it remains the same?\r\n - Our application is basically a Java web application which is a kind of web socket server running on tomcat containers.","title":"Distributed system - How to assign a node ID to each node in distributed system?","body":"<p>How can we assign a unique ID to each node/instance of an application in a distributed environment?</p>\n<ul>\n<li>We have deployed our app on multiple hosts and requests are distributed across them through a load balancer.</li>\n<li>We have a requirement where we want to store some data specific to these nodes, and if one of the servers crashes then upon restart we want to delete data specific to only that node, not for others.</li>\n<li>We can use IP addresses, but that doesn't seem to be a perfect solution. How can we use node ID which is non-changeable so that once the server/node restarts it remains the same?</li>\n<li>Our application is basically a Java web application which is a kind of web socket server running on tomcat containers.</li>\n</ul>\n"},{"tags":["java","oauth-2.0","spring-jdbc"],"owner":{"account_id":15786285,"reputation":11,"user_id":11390964,"display_name":"SEETHARAMU G N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672825624,"creation_date":1672825624,"question_id":75003619,"body_markdown":"\r\n```\r\npackage com.tristargroup.net.oauth.security;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\r\nimport org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\r\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\r\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\r\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer;\r\nimport org.springframework.security.oauth2.provider.token.AuthorizationServerTokenServices;\r\nimport org.springframework.security.oauth2.provider.token.DefaultTokenServices;\r\nimport org.springframework.security.oauth2.provider.token.TokenEnhancer;\r\nimport org.springframework.security.oauth2.provider.token.TokenStore;\r\n\r\nimport javax.sql.DataSource;\r\n\r\n@Configuration\r\n@EnableAuthorizationServer\r\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter \r\n{\r\n\r\n    @Value(&quot;${settings.jdbc.driverClassName}&quot;)\r\n    private String driverClassName;\r\n\r\n    @Value(&quot;${settings.jdbc.url}&quot;)\r\n    private String jdbcUrl;\r\n\r\n    @Value(&quot;${settings.jdbc.username}&quot;)\r\n    private String jdbcUser;\r\n\r\n    @Value(&quot;${settings.jdbc.password}&quot;)\r\n    private String jdbcPassword;\r\n\r\n    @Autowired\r\n    TokenStore tokenStore;\r\n    \r\n    @Autowired\r\n    AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n   \r\n\r\n    @Override\r\n    public void configure(AuthorizationServerSecurityConfigurer security) \r\n    {\r\n        security.checkTokenAccess(&quot;permitAll()&quot;).tokenKeyAccess(&quot;permitAll()&quot;);\r\n    }\r\n\r\n    \r\n    @Override\r\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) \r\n    {\r\n        endpoints.tokenStore(tokenStore);\r\n        endpoints.tokenEnhancer(tokenEnhancer());\r\n        endpoints.authenticationManager(authenticationManager);\r\n        endpoints.userDetailsService(userDetailsService);\r\n    }\r\n\r\n    \r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception \r\n    {\r\n        clients.jdbc(dataSource());\r\n    }\r\n\r\n    @Bean\r\n    public DataSource dataSource() \r\n    {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(driverClassName);\r\n        dataSource.setUrl(jdbcUrl);\r\n        dataSource.setUsername(jdbcUser);\r\n        dataSource.setPassword(jdbcPassword);\r\n        return dataSource;\r\n    }\r\n\r\n    \r\n    @Bean\r\n    public TokenEnhancer tokenEnhancer() \r\n    {\r\n        return new CustomTokenEnhancer();\r\n    }\r\n    \r\n    \r\n    @Bean\r\n    @Primary\r\n    public AuthorizationServerTokenServices tokenServices() \r\n    {\r\n        DefaultTokenServices tokenServices = new DefaultTokenServices();\r\n        tokenServices.setTokenEnhancer(tokenEnhancer());\r\n        return tokenServices;\r\n    }\r\n    \r\n}\r\n```\r\n\r\nhere my code i am geeting when i hit the api to get the access token and refresh token \r\n\r\n&gt; OkHttpClient client = new OkHttpClient().newBuilder()\r\n&gt;   .build();\r\n&gt; MediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\r\n&gt; RequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n&gt;   .addFormDataPart(&quot;grant_type&quot;,&quot;password&quot;)\r\n&gt;   .addFormDataPart(&quot;username&quot;,&quot;pprabhu&quot;)\r\n&gt;   .addFormDataPart(&quot;password&quot;,&quot;Workingphrase2use!&quot;)\r\n&gt;   .build();\r\n&gt; Request request = new Request.Builder()\r\n&gt;   .url(&quot;http://localhost:8082/auth-server/oauth/token&quot;)\r\n&gt;   .method(&quot;POST&quot;, body)\r\n&gt;   .addHeader(&quot;Authorization&quot;, &quot;Basic aWZvcm1zOnNlY3JldA==&quot;)\r\n&gt;   .build();\r\n&gt; Response response = client.newCall(request).execute();","title":"Oauth2 IncorrectResultSizeDataAccessException, Incorrect result size: expected 1, actual 2","body":"<pre><code>package com.tristargroup.net.oauth.security;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerSecurityConfigurer;\nimport org.springframework.security.oauth2.provider.token.AuthorizationServerTokenServices;\nimport org.springframework.security.oauth2.provider.token.DefaultTokenServices;\nimport org.springframework.security.oauth2.provider.token.TokenEnhancer;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter \n{\n\n    @Value(&quot;${settings.jdbc.driverClassName}&quot;)\n    private String driverClassName;\n\n    @Value(&quot;${settings.jdbc.url}&quot;)\n    private String jdbcUrl;\n\n    @Value(&quot;${settings.jdbc.username}&quot;)\n    private String jdbcUser;\n\n    @Value(&quot;${settings.jdbc.password}&quot;)\n    private String jdbcPassword;\n\n    @Autowired\n    TokenStore tokenStore;\n    \n    @Autowired\n    AuthenticationManager authenticationManager;\n\n    @Autowired\n    UserDetailsService userDetailsService;\n   \n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) \n    {\n        security.checkTokenAccess(&quot;permitAll()&quot;).tokenKeyAccess(&quot;permitAll()&quot;);\n    }\n\n    \n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) \n    {\n        endpoints.tokenStore(tokenStore);\n        endpoints.tokenEnhancer(tokenEnhancer());\n        endpoints.authenticationManager(authenticationManager);\n        endpoints.userDetailsService(userDetailsService);\n    }\n\n    \n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception \n    {\n        clients.jdbc(dataSource());\n    }\n\n    @Bean\n    public DataSource dataSource() \n    {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(driverClassName);\n        dataSource.setUrl(jdbcUrl);\n        dataSource.setUsername(jdbcUser);\n        dataSource.setPassword(jdbcPassword);\n        return dataSource;\n    }\n\n    \n    @Bean\n    public TokenEnhancer tokenEnhancer() \n    {\n        return new CustomTokenEnhancer();\n    }\n    \n    \n    @Bean\n    @Primary\n    public AuthorizationServerTokenServices tokenServices() \n    {\n        DefaultTokenServices tokenServices = new DefaultTokenServices();\n        tokenServices.setTokenEnhancer(tokenEnhancer());\n        return tokenServices;\n    }\n    \n}\n</code></pre>\n<p>here my code i am geeting when i hit the api to get the access token and refresh token</p>\n<blockquote>\n<p>OkHttpClient client = new OkHttpClient().newBuilder()\n.build();\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n.addFormDataPart(&quot;grant_type&quot;,&quot;password&quot;)\n.addFormDataPart(&quot;username&quot;,&quot;pprabhu&quot;)\n.addFormDataPart(&quot;password&quot;,&quot;Workingphrase2use!&quot;)\n.build();\nRequest request = new Request.Builder()\n.url(&quot;http://localhost:8082/auth-server/oauth/token&quot;)\n.method(&quot;POST&quot;, body)\n.addHeader(&quot;Authorization&quot;, &quot;Basic aWZvcm1zOnNlY3JldA==&quot;)\n.build();\nResponse response = client.newCall(request).execute();</p>\n</blockquote>\n"},{"tags":["java","xml","httpurlconnection"],"comments":[{"owner":{"account_id":552485,"reputation":1822,"user_id":917616,"accept_rate":33,"display_name":"NiranjanBhat"},"score":0,"creation_date":1333601325,"post_id":10022796,"comment_id":12817640,"body_markdown":"Do you have the XML file you are trying to parse. Premature end of file indicates your XML file was not complete, since your are using URL connection here, I suspect network issues. Best way to solve this issue is to capture this XML file using wireshark or TCP monitor kind of tools and then check if it is complete","body":"Do you have the XML file you are trying to parse. Premature end of file indicates your XML file was not complete, since your are using URL connection here, I suspect network issues. Best way to solve this issue is to capture this XML file using wireshark or TCP monitor kind of tools and then check if it is complete"},{"owner":{"account_id":1291987,"reputation":3840,"user_id":1243905,"accept_rate":76,"display_name":"Fabii"},"score":0,"creation_date":1333601809,"post_id":10022796,"comment_id":12817716,"body_markdown":"@NiranjanBhat. Yes the XMl is complete and valid. I have parse this xml with a direct link. Its seems the error only arises when use an InputStream.","body":"@NiranjanBhat. Yes the XMl is complete and valid. I have parse this xml with a direct link. Its seems the error only arises when use an InputStream."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1507682208,"post_id":10022796,"comment_id":80304229,"body_markdown":"Why are you doing a POST but not sending any data?","body":"Why are you doing a POST but not sending any data?"}],"answers":[{"comments":[{"owner":{"account_id":1291987,"reputation":3840,"user_id":1243905,"accept_rate":76,"display_name":"Fabii"},"score":0,"creation_date":1333638452,"post_id":10023157,"comment_id":12830008,"body_markdown":"I removed the readLine() statement. But I am still getting the same error. If I supply the direct link to the xml it works. If I try to process using connection.getInputStream() if throws that error.","body":"I removed the readLine() statement. But I am still getting the same error. If I supply the direct link to the xml it works. If I try to process using connection.getInputStream() if throws that error."},{"owner":{"account_id":1291987,"reputation":3840,"user_id":1243905,"accept_rate":76,"display_name":"Fabii"},"score":0,"creation_date":1333650943,"post_id":10023157,"comment_id":12834791,"body_markdown":"There was also an issue with stream that was being return. Problem solved.","body":"There was also an issue with stream that was being return. Problem solved."},{"owner":{"account_id":534256,"reputation":5711,"user_id":904344,"accept_rate":74,"display_name":"NobleUplift"},"score":2,"creation_date":1430229996,"post_id":10023157,"comment_id":47964977,"body_markdown":"@Fabii What was the issue with the stream being returned? I want to know because I&#39;m getting the same issue.","body":"@Fabii What was the issue with the stream being returned? I want to know because I&#39;m getting the same issue."},{"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"score":4,"creation_date":1444388920,"post_id":10023157,"comment_id":53894437,"body_markdown":"You are right, you cannot read input stream twice. Nice explanation is also here: http://www.danielschneller.com/2008/01/saxparseexception-1-1-premature-end-of.html","body":"You are right, you cannot read input stream twice. Nice explanation is also here: <a href=\"http://www.danielschneller.com/2008/01/saxparseexception-1-1-premature-end-of.html\" rel=\"nofollow noreferrer\">danielschneller.com/2008/01/&hellip;</a>"}],"tags":[],"owner":{"account_id":330601,"reputation":24990,"user_id":654801,"display_name":"sbridges"},"comment_count":4,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1333604196,"creation_date":1333604196,"answer_id":10023157,"question_id":10022796,"body_markdown":"When you do this,\r\n\r\n    while((inputLine = buff_read.readLine())!= null){\r\n            System.out.println(inputLine);\r\n        }\r\n\r\nYou consume everything in instream, so instream is empty.  Now when try to do this,\r\n\r\n    Document doc = builder.parse(instream);\r\n\r\nThe parsing will fail, because you have passed it an empty stream.\r\n","title":"Why am I getting Premature End of File Error?","body":"<p>When you do this,</p>\n\n<pre><code>while((inputLine = buff_read.readLine())!= null){\n        System.out.println(inputLine);\n    }\n</code></pre>\n\n<p>You consume everything in instream, so instream is empty.  Now when try to do this,</p>\n\n<pre><code>Document doc = builder.parse(instream);\n</code></pre>\n\n<p>The parsing will fail, because you have passed it an empty stream.</p>\n"},{"tags":[],"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425200238,"creation_date":1425200238,"answer_id":28791723,"question_id":10022796,"body_markdown":"I came across the same error, and could easily find what was the problem by logging the exception:\r\n\r\n    documentBuilder.setErrorHandler(new ErrorHandler() {\r\n        @Override\r\n    \tpublic void warning(SAXParseException exception) throws SAXException {\r\n    \t    log.warn(exception.getMessage());\r\n    \t}\r\n    \t\t\t\t\r\n    \t@Override\r\n    \tpublic void fatalError(SAXParseException exception) throws SAXException {\r\n    \t    log.error(&quot;Fatal error &quot;, exception);\r\n    \t}\r\n    \t\t\t\t\r\n    \t@Override\r\n    \tpublic void error(SAXParseException exception) throws SAXException {\r\n            log.error(&quot;Exception &quot;, exception);\r\n    \t}\r\n    });\r\n\r\nOr, instead of logging the error, you can `throw` it and `catch` it where you handle the entries, so you can print the entry itself to get a better indication on the error.","title":"Why am I getting Premature End of File Error?","body":"<p>I came across the same error, and could easily find what was the problem by logging the exception:</p>\n\n<pre><code>documentBuilder.setErrorHandler(new ErrorHandler() {\n    @Override\n    public void warning(SAXParseException exception) throws SAXException {\n        log.warn(exception.getMessage());\n    }\n\n    @Override\n    public void fatalError(SAXParseException exception) throws SAXException {\n        log.error(\"Fatal error \", exception);\n    }\n\n    @Override\n    public void error(SAXParseException exception) throws SAXException {\n        log.error(\"Exception \", exception);\n    }\n});\n</code></pre>\n\n<p>Or, instead of logging the error, you can <code>throw</code> it and <code>catch</code> it where you handle the entries, so you can print the entry itself to get a better indication on the error.</p>\n"},{"comments":[{"owner":{"account_id":1574615,"reputation":21812,"user_id":1461424,"accept_rate":79,"display_name":"sampathsris"},"score":1,"creation_date":1550205390,"post_id":44360475,"comment_id":96191689,"body_markdown":"This answer is so useful. Not always you can debug or change the code if you get the error from a third party tool. I was in this exact same situation where an XML that wasn&#39;t supposed to be empty, was empty in fact. Thanks and have my +1.","body":"This answer is so useful. Not always you can debug or change the code if you get the error from a third party tool. I was in this exact same situation where an XML that wasn&#39;t supposed to be empty, was empty in fact. Thanks and have my +1."}],"tags":[],"owner":{"account_id":499148,"reputation":97,"user_id":5781553,"display_name":"mist42nz"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1496627153,"creation_date":1496625681,"answer_id":44360475,"question_id":10022796,"body_markdown":"You are getting the error because the SAXBuilder is not intelligent enough to deal with &quot;blank states&quot;. So it looks for at least an `&lt;xml ..&gt;` declaration, and when that causes a no data response it creates the exception you see rather than report the empty state.","title":"Why am I getting Premature End of File Error?","body":"<p>You are getting the error because the SAXBuilder is not intelligent enough to deal with \"blank states\". So it looks for at least an <code>&lt;xml ..&gt;</code> declaration, and when that causes a no data response it creates the exception you see rather than report the empty state.</p>\n"},{"tags":[],"owner":{"account_id":5174557,"reputation":1185,"user_id":5218240,"accept_rate":86,"display_name":"cinqS"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502865983,"creation_date":1502865983,"answer_id":45706749,"question_id":10022796,"body_markdown":"For those who reached this post for Answer:\r\n\r\n**This happens mainly because the `InputStream` the DOM parser is consuming is empty**\r\n\r\nSo in what I ran across, there might be two situations:\r\n\r\n1. The `InputStream` you passed into the parser has been used and thus emptied.\r\n2. The `File` or whatever you created the `InputStream` from may be an empty file or string or whatever. The emptiness might be the reason caused the problem. So you need to check your source of the `InputStream`.","title":"Why am I getting Premature End of File Error?","body":"<p>For those who reached this post for Answer:</p>\n\n<p><strong>This happens mainly because the <code>InputStream</code> the DOM parser is consuming is empty</strong></p>\n\n<p>So in what I ran across, there might be two situations:</p>\n\n<ol>\n<li>The <code>InputStream</code> you passed into the parser has been used and thus emptied.</li>\n<li>The <code>File</code> or whatever you created the <code>InputStream</code> from may be an empty file or string or whatever. The emptiness might be the reason caused the problem. So you need to check your source of the <code>InputStream</code>.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7087497,"reputation":1297,"user_id":5423850,"accept_rate":80,"display_name":"oneturkmen"},"score":0,"creation_date":1614207660,"post_id":57368633,"comment_id":117319068,"body_markdown":"This answer is completely irrelevant to the issue described by the author.","body":"This answer is completely irrelevant to the issue described by the author."}],"tags":[],"owner":{"account_id":15873878,"reputation":1,"user_id":11453696,"display_name":"Reju Koshy"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1565063039,"creation_date":1565063039,"answer_id":57368633,"question_id":10022796,"body_markdown":"One of the other reason is , you should whitelist your IP address (IPv4) in your mongodb settings. Hope it resolves !","title":"Why am I getting Premature End of File Error?","body":"<p>One of the other reason is , you should whitelist your IP address (IPv4) in your mongodb settings. Hope it resolves !</p>\n"},{"comments":[{"owner":{"account_id":1995890,"reputation":373,"user_id":1788874,"accept_rate":88,"display_name":"osoclever"},"score":0,"creation_date":1580958014,"post_id":59400384,"comment_id":106271621,"body_markdown":"This was the unlikely solution for me, thank you for posting this response!","body":"This was the unlikely solution for me, thank you for posting this response!"}],"tags":[],"owner":{"account_id":4068665,"reputation":11,"user_id":4726853,"display_name":"Biswajit Roy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576705496,"creation_date":1576705496,"answer_id":59400384,"question_id":10022796,"body_markdown":"I resolved the issue by converting the source feed from http://www.news18.com/rss/politics.xml to https://www.news18.com/rss/politics.xml\r\n\r\nwith http below code was creating an empty file which was causing the issue down the line \r\n\r\n\t\tString feedUrl = &quot;https://www.news18.com/rss/politics.xml&quot;; \r\n\t\tFile feedXmlFile = null;\r\n\t\t\r\n\t\ttry {\r\n\t\tfeedXmlFile =new File(&quot;C://opinionpoll/newsFeed.xml&quot;);\r\n\t\tFileUtils.copyURLToFile(new URL(feedUrl),feedXmlFile);\r\n\r\n\r\n\t          DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\r\n\t          DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\r\n\t          Document doc = dBuilder.parse(feedXmlFile);","title":"Why am I getting Premature End of File Error?","body":"<p>I resolved the issue by converting the source feed from <a href=\"http://www.news18.com/rss/politics.xml\" rel=\"nofollow noreferrer\">http://www.news18.com/rss/politics.xml</a> to <a href=\"https://www.news18.com/rss/politics.xml\" rel=\"nofollow noreferrer\">https://www.news18.com/rss/politics.xml</a></p>\n\n<p>with http below code was creating an empty file which was causing the issue down the line </p>\n\n<pre><code>    String feedUrl = \"https://www.news18.com/rss/politics.xml\"; \n    File feedXmlFile = null;\n\n    try {\n    feedXmlFile =new File(\"C://opinionpoll/newsFeed.xml\");\n    FileUtils.copyURLToFile(new URL(feedUrl),feedXmlFile);\n\n\n          DocumentBuilderFactory dbFactory = DocumentBuilderFactory.newInstance();\n          DocumentBuilder dBuilder = dbFactory.newDocumentBuilder();\n          Document doc = dBuilder.parse(feedXmlFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12846080,"reputation":51,"user_id":9292423,"display_name":"Haroon Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585555516,"creation_date":1585555516,"answer_id":60926319,"question_id":10022796,"body_markdown":"Use inputstream once don&#39;t use it multiple times and\r\nDo inputstream.close() ","title":"Why am I getting Premature End of File Error?","body":"<p>Use inputstream once don't use it multiple times and\nDo inputstream.close() </p>\n"},{"tags":[],"owner":{"account_id":24795299,"reputation":1,"user_id":18678064,"display_name":"Mir Ishfaq Hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659092960,"creation_date":1659092960,"answer_id":73165751,"question_id":10022796,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nMake sure to insert the heading properly at the top level and it should not point to any descendant within your XML file. ","title":"Why am I getting Premature End of File Error?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Make sure to insert the heading properly at the top level and it should not point to any descendant within your XML file.</p>\n"}],"owner":{"account_id":1291987,"reputation":3840,"user_id":1243905,"accept_rate":76,"display_name":"Fabii"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303661,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":10023157,"answer_count":8,"score":33,"last_activity_date":1672825289,"creation_date":1333601034,"question_id":10022796,"body_markdown":" I am trying to parse an `XML response`, but I am failing miserably. I thought initially \r\nthat the `xml` was just not being returned in the response, so I crafted up the code below with a direct link to my `xml` file online. I am able to print the `XML` to screen with no problems. However when I call my parse method I get **Premature end of file.** \r\n\r\nIt works if I pass the URL directly: \r\n\r\n - builder.parse(&quot;Http://www.example.com/test.xml&quot;);\r\n\r\nbut fails when I passed an InputStream: \r\n\r\n - builder.parse(connection.getInputStream());\r\n\r\n\r\n\r\n \r\n\r\n       \t  try {\r\n    \t\tURL url = new URL(xml);\r\n    \t\tURLConnection uc =  url.openConnection();\r\n    \t\tHttpURLConnection  connection = (HttpURLConnection )uc;\r\n    \t\t\r\n    \t\tconnection.setDoInput(true);\r\n    \t\tconnection.setDoOutput(true);\r\n    \t\t\r\n    \t\tInputStream instream;\r\n    \t\tInputSource source;\r\n    \t\t//get XML from InputStream\r\n    \t\tif(connection.getResponseCode()&gt;= 200){\r\n    \t\t\tconnection.connect();\t\t\r\n    \t\t\tinstream = connection.getInputStream();\t\t\t\r\n    \t\t\tparseDoc(instream);\t\t\r\n    \t\t}\r\n    \t\telse{\r\n    \t\t\tinstream = connection.getErrorStream();\r\n    \t\t}\r\n    \t\t\r\n    \t\t\t\r\n    \t} catch (MalformedURLException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (IOException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (ParserConfigurationException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t} catch (SAXException e) {\r\n    \t\t// TODO Auto-generated catch block\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t  \r\n          \r\n\r\n         static void parseDoc(InputStream instream) throws ParserConfigurationException,\r\n         SAXException, IOException{\r\n\r\n  \r\n    \t  BufferedReader buff_read = new BufferedReader(new InputStreamReader(instream,&quot;UTF-8&quot;));\r\n    \t\tString  inputLine = null;\r\n    \t\t\r\n    \t\twhile((inputLine = buff_read.readLine())!= null){\r\n    \t\t\tSystem.out.println(inputLine);\r\n    \t\t}\r\n    \t\t\r\n    \t  DocumentBuilderFactory factory =DocumentBuilderFactory.newInstance();\r\n    \t  factory.isIgnoringElementContentWhitespace();\r\n    \t  DocumentBuilder builder = factory.newDocumentBuilder();\r\n    \t  Document doc = builder.parse(instream);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nThe errors I am getting:\r\n\r\n        [Fatal Error] :1:1: Premature end of file.\r\n    org.xml.sax.SAXParseException: Premature end of file.\r\n    \tat com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(Unknown Source)\r\n    \tat com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n    \tat javax.xml.parsers.DocumentBuilder.parse(Unknown Source)\r\n    \tat com.ameba.api.network.MainApp.parseDoc(MainApp.java:78)\r\n    \tat com.ameba.api.network.MainApp.main(MainApp.java:41)\r\n\r\n\r\n","title":"Why am I getting Premature End of File Error?","body":"<p>I am trying to parse an <code>XML response</code>, but I am failing miserably. I thought initially \nthat the <code>xml</code> was just not being returned in the response, so I crafted up the code below with a direct link to my <code>xml</code> file online. I am able to print the <code>XML</code> to screen with no problems. However when I call my parse method I get <strong>Premature end of file.</strong> </p>\n\n<p>It works if I pass the URL directly: </p>\n\n<ul>\n<li>builder.parse(\"\");</li>\n</ul>\n\n<p>but fails when I passed an InputStream: </p>\n\n<ul>\n<li><p>builder.parse(connection.getInputStream());</p>\n\n<pre><code>  try {\n    URL url = new URL(xml);\n    URLConnection uc =  url.openConnection();\n    HttpURLConnection  connection = (HttpURLConnection )uc;\n\n    connection.setDoInput(true);\n    connection.setDoOutput(true);\n\n    InputStream instream;\n    InputSource source;\n    //get XML from InputStream\n    if(connection.getResponseCode()&gt;= 200){\n        connection.connect();       \n        instream = connection.getInputStream();         \n        parseDoc(instream);     \n    }\n    else{\n        instream = connection.getErrorStream();\n    }\n\n\n} catch (MalformedURLException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (ParserConfigurationException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (SAXException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n\n\n\n static void parseDoc(InputStream instream) throws ParserConfigurationException,\n SAXException, IOException{\n\n\n  BufferedReader buff_read = new BufferedReader(new InputStreamReader(instream,\"UTF-8\"));\n    String  inputLine = null;\n\n    while((inputLine = buff_read.readLine())!= null){\n        System.out.println(inputLine);\n    }\n\n  DocumentBuilderFactory factory =DocumentBuilderFactory.newInstance();\n  factory.isIgnoringElementContentWhitespace();\n  DocumentBuilder builder = factory.newDocumentBuilder();\n  Document doc = builder.parse(instream);\n}\n</code></pre></li>\n</ul>\n\n<p>The errors I am getting:</p>\n\n<pre><code>    [Fatal Error] :1:1: Premature end of file.\norg.xml.sax.SAXParseException: Premature end of file.\n    at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n    at javax.xml.parsers.DocumentBuilder.parse(Unknown Source)\n    at com.ameba.api.network.MainApp.parseDoc(MainApp.java:78)\n    at com.ameba.api.network.MainApp.main(MainApp.java:41)\n</code></pre>\n"},{"tags":["java","javafx-2","scenebuilder"],"owner":{"account_id":27382716,"reputation":1,"user_id":20887087,"display_name":"gabriel.marchione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672825146,"creation_date":1672747669,"question_id":74993162,"body_markdown":"I&#39;m trying to load my `&quot;RecuperoPassw.fxml&quot;` file into the method of the class `formLogin.java`.\r\nI&#39;ve tried several methods and I understood that all the java files have to be in the same folder of the Main class. But there is any solution to avoid that, in order to have a subfolder like this?\r\n```text\r\ncom.agmg.carsparadise -&gt; GestioneAccount -&gt; Interface -&gt; formLogin \r\n```\r\n[Structure of Project][1]\r\n\r\nMy method to load `&quot;RecuperoPassw.fxml&quot;` is this:\r\n\r\n```java\r\npublic void goTo_RecuperoPassw(ActionEvent event) throws IOException { //mi porta alla pagina di recupero password\r\n   // !! brutto da vedere e non generale !!\r\n   String path = &quot;/Users/gabriel/Desktop/CarsParadise/src/main/resources/com/agmg/carsparadise/GestioneAccount/RecuperoPassw.fxml&quot;;\r\n   Parent root = FXMLLoader.load(new File(path).toURI().toURL());\r\n   Stage stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n   Scene scene = new Scene(root);\r\n   stage.setScene(scene);\r\n   stage.show();\r\n}\r\n```\r\nthis method is inside `&quot;formLogin.java&quot;`. I don&#39;t want to use the absolute path, I want to use a more general solution. What can I do? \r\np.s: I&#39;ve tried also to use \r\n`&quot;../../GestioneAccount/RecuperoPassw.fxml&quot;` and it doesn&#39;t work.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uhzNy.png","title":"I cannot load my &quot;.fxml&quot; file into my method of java class","body":"<p>I'm trying to load my <code>&quot;RecuperoPassw.fxml&quot;</code> file into the method of the class <code>formLogin.java</code>.\nI've tried several methods and I understood that all the java files have to be in the same folder of the Main class. But there is any solution to avoid that, in order to have a subfolder like this?</p>\n<pre><code>com.agmg.carsparadise -&gt; GestioneAccount -&gt; Interface -&gt; formLogin \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uhzNy.png\" rel=\"nofollow noreferrer\">Structure of Project</a></p>\n<p>My method to load <code>&quot;RecuperoPassw.fxml&quot;</code> is this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void goTo_RecuperoPassw(ActionEvent event) throws IOException { //mi porta alla pagina di recupero password\n   // !! brutto da vedere e non generale !!\n   String path = &quot;/Users/gabriel/Desktop/CarsParadise/src/main/resources/com/agmg/carsparadise/GestioneAccount/RecuperoPassw.fxml&quot;;\n   Parent root = FXMLLoader.load(new File(path).toURI().toURL());\n   Stage stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n   Scene scene = new Scene(root);\n   stage.setScene(scene);\n   stage.show();\n}\n</code></pre>\n<p>this method is inside <code>&quot;formLogin.java&quot;</code>. I don't want to use the absolute path, I want to use a more general solution. What can I do?\np.s: I've tried also to use\n<code>&quot;../../GestioneAccount/RecuperoPassw.fxml&quot;</code> and it doesn't work.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1672818531,"post_id":74997537,"comment_id":132356496,"body_markdown":"Please link to the final PDF, and call setNeedToBeUpdated on the field itself too and on the appearance of the widget of the field. And update to 2.0.27.","body":"Please link to the final PDF, and call setNeedToBeUpdated on the field itself too and on the appearance of the widget of the field. And update to 2.0.27."},{"owner":{"account_id":6124304,"reputation":13132,"user_id":4776831,"accept_rate":53,"display_name":"cre8"},"score":0,"creation_date":1672823410,"post_id":74997537,"comment_id":132357769,"body_markdown":"@TilmanHausherr the setNeedToBeUpdated helped, do you know also the answer for the second part?","body":"@TilmanHausherr the setNeedToBeUpdated helped, do you know also the answer for the second part?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1672824200,"post_id":74997537,"comment_id":132358014,"body_markdown":"Can you share a PDF (before and after the change) for analysis?","body":"Can you share a PDF (before and after the change) for analysis?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1672824602,"post_id":74997537,"comment_id":132358124,"body_markdown":"This isn&#39;t a forum. Please create a separate question instead of editing an existing question.","body":"This isn&#39;t a forum. Please create a separate question instead of editing an existing question."},{"owner":{"account_id":6124304,"reputation":13132,"user_id":4776831,"accept_rate":53,"display_name":"cre8"},"score":0,"creation_date":1672839939,"post_id":74997537,"comment_id":132363036,"body_markdown":"@mkl here are both files: https://file.io/bKzu7wXLIR4V","body":"@mkl here are both files: <a href=\"https://file.io/bKzu7wXLIR4V\" rel=\"nofollow noreferrer\">file.io/bKzu7wXLIR4V</a>"},{"owner":{"account_id":6124304,"reputation":13132,"user_id":4776831,"accept_rate":53,"display_name":"cre8"},"score":0,"creation_date":1672840372,"post_id":74997537,"comment_id":132363208,"body_markdown":"@TilmanHausherr you are right, I opened it in a new question: https://stackoverflow.com/questions/75006463/group-revision-elements-for-signed-pdfs-with-pdfbox","body":"@TilmanHausherr you are right, I opened it in a new question: <a href=\"https://stackoverflow.com/questions/75006463/group-revision-elements-for-signed-pdfs-with-pdfbox\" title=\"group revision elements for signed pdfs with pdfbox\">stackoverflow.com/questions/75006463/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1672824881,"creation_date":1672824881,"answer_id":75003497,"question_id":74997537,"body_markdown":"The update flag must be set on the field itself\r\n\r\n    field.getCOSObject().setNeedToBeUpdated(true);\r\n\r\nand on the appearance of the widget of the field\r\n\r\n    field.getWidgets().get(0).getAppearance().getCOSObject().setNeedToBeUpdated(true);\r\n\r\n(this assumes that the field is its own widget and that there is only one)\r\n\r\nIt might still work if the second code part is missing because Adobe Reader updates the appearance when displaying.","title":"Fill out field for pdf revision when signing with PDFbox","body":"<p>The update flag must be set on the field itself</p>\n<pre><code>field.getCOSObject().setNeedToBeUpdated(true);\n</code></pre>\n<p>and on the appearance of the widget of the field</p>\n<pre><code>field.getWidgets().get(0).getAppearance().getCOSObject().setNeedToBeUpdated(true);\n</code></pre>\n<p>(this assumes that the field is its own widget and that there is only one)</p>\n<p>It might still work if the second code part is missing because Adobe Reader updates the appearance when displaying.</p>\n"}],"owner":{"account_id":6124304,"reputation":13132,"user_id":4776831,"accept_rate":53,"display_name":"cre8"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75003497,"answer_count":1,"score":1,"last_activity_date":1672824881,"creation_date":1672771840,"question_id":74997537,"body_markdown":"I am trying to add input to my existing field in a pdf that should be signed at the end. I used the library from swisscom (https://github.com/SwisscomTrustServices/pdfbox-ais-client/blob/8d52c759ade267b0c443fcd6f15bc9635c745d72/src/main/java/com/swisscom/ais/client/impl/PdfDocument.java#L97) with PDFbox (v2.0.24) and added these lines\r\n\r\n```java\r\ntry {\r\n    PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\r\n    acroForm.setSignaturesExist(true);\r\n    acroForm.setAppendOnly(true);\r\n    acroForm.getCOSObject().setDirect(true);\r\n    acroForm.getCOSObject().setNeedToBeUpdated(true);\r\n    FieldInput[] fields = new FieldInput[1];\r\n    COSObject pdfFields = acroForm.getCOSObject().getCOSObject(COSName.FIELDS);\r\n    if (pdfFields != null) {\r\n        pdfFields.setNeedToBeUpdated(true);\r\n    }\r\n    fields[0] = new FieldInput(&quot;1&quot;, &quot;foobar&quot;);\r\n    for (int i = 0; i &lt; fields.length; i++) {\r\n        PDField field = acroForm.getField(fields[0].id);\r\n        if (field != null) {\r\n            field.setValue(fields[0].value);\r\n            Log.info(&quot;set field: &quot; + field.getFullyQualifiedName());\r\n        }\r\n    }\r\n    pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n} catch (Exception e) {\r\n    Log.warn(e);\r\n}\r\n```\r\n\r\nI get the log output that the field was set, but in the final document the field is still empty. Using this answer from https://stackoverflow.com/questions/62601879/pdfbox-2-0-create-signature-field-and-save-incremental-with-already-signed-docum was no luck for me, I think I messed up the form handling since `pdfFields` is null.\r\n\r\n**Update:**\r\nI added the suggestion from Tilman, now the entry gets set with \r\n`field.getCOSObject().setNeedToBeUpdated(true);`\r\nBut when looking at the signature I have no information which fields are filled out:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIs it possible with pdfbox to achieve the same output as AdobeSign like where you can store more detailed information in the revision metadata? I am not able to open the file with itext rups because the pdf gets locked with a password at the end....\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd what would be the best way to look the fields when everyone is done (so the fields are not shown as editable fields anymore):\r\n- setting a lock like in Adobe\r\n- setting some protection after the field was filled\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MSc2H.png\r\n  [2]: https://i.stack.imgur.com/B3IQd.png","title":"Fill out field for pdf revision when signing with PDFbox","body":"<p>I am trying to add input to my existing field in a pdf that should be signed at the end. I used the library from swisscom (<a href=\"https://github.com/SwisscomTrustServices/pdfbox-ais-client/blob/8d52c759ade267b0c443fcd6f15bc9635c745d72/src/main/java/com/swisscom/ais/client/impl/PdfDocument.java#L97\" rel=\"nofollow noreferrer\">https://github.com/SwisscomTrustServices/pdfbox-ais-client/blob/8d52c759ade267b0c443fcd6f15bc9635c745d72/src/main/java/com/swisscom/ais/client/impl/PdfDocument.java#L97</a>) with PDFbox (v2.0.24) and added these lines</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\n    acroForm.setSignaturesExist(true);\n    acroForm.setAppendOnly(true);\n    acroForm.getCOSObject().setDirect(true);\n    acroForm.getCOSObject().setNeedToBeUpdated(true);\n    FieldInput[] fields = new FieldInput[1];\n    COSObject pdfFields = acroForm.getCOSObject().getCOSObject(COSName.FIELDS);\n    if (pdfFields != null) {\n        pdfFields.setNeedToBeUpdated(true);\n    }\n    fields[0] = new FieldInput(&quot;1&quot;, &quot;foobar&quot;);\n    for (int i = 0; i &lt; fields.length; i++) {\n        PDField field = acroForm.getField(fields[0].id);\n        if (field != null) {\n            field.setValue(fields[0].value);\n            Log.info(&quot;set field: &quot; + field.getFullyQualifiedName());\n        }\n    }\n    pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n} catch (Exception e) {\n    Log.warn(e);\n}\n</code></pre>\n<p>I get the log output that the field was set, but in the final document the field is still empty. Using this answer from <a href=\"https://stackoverflow.com/questions/62601879/pdfbox-2-0-create-signature-field-and-save-incremental-with-already-signed-docum\">PDFBox 2.0 create signature field and save incremental with already signed document</a> was no luck for me, I think I messed up the form handling since <code>pdfFields</code> is null.</p>\n<p><strong>Update:</strong>\nI added the suggestion from Tilman, now the entry gets set with\n<code>field.getCOSObject().setNeedToBeUpdated(true);</code>\nBut when looking at the signature I have no information which fields are filled out:</p>\n<p><a href=\"https://i.stack.imgur.com/MSc2H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MSc2H.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible with pdfbox to achieve the same output as AdobeSign like where you can store more detailed information in the revision metadata? I am not able to open the file with itext rups because the pdf gets locked with a password at the end....</p>\n<p><a href=\"https://i.stack.imgur.com/B3IQd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B3IQd.png\" alt=\"enter image description here\" /></a></p>\n<p>And what would be the best way to look the fields when everyone is done (so the fields are not shown as editable fields anymore):</p>\n<ul>\n<li>setting a lock like in Adobe</li>\n<li>setting some protection after the field was filled</li>\n</ul>\n"},{"tags":["java","android","sharedpreferences"],"comments":[{"owner":{"account_id":1060138,"reputation":15246,"user_id":1061944,"accept_rate":41,"display_name":"Murtaza Khursheed Hussain"},"score":2,"creation_date":1422008442,"post_id":28107647,"comment_id":44589557,"body_markdown":"you can only save primitive values to SharedPrefrences.","body":"you can only save primitive values to SharedPrefrences."}],"answers":[{"tags":[],"owner":{"account_id":1297326,"reputation":3971,"user_id":1248044,"accept_rate":57,"display_name":"MDMalik"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1422008682,"creation_date":1422008682,"answer_id":28107742,"question_id":28107647,"body_markdown":"You currently have two options   \r\na) Use SharedPreferences   \r\nb) Use SQLite and save values in that.\r\n\r\nHow to perform   \r\na) SharedPreferences   \r\nFirst store your List as a Set, and then convert it back to a List when you read from SharedPreferences.  \r\n\r\n    Listtasks = new ArrayList&lt;String&gt;();\r\n    Set&lt;String&gt; tasksSet = new HashSet&lt;String&gt;(Listtasks);\r\n    PreferenceManager.getDefaultSharedPreferences(context)\r\n        .edit()\r\n        .putStringSet(&quot;tasks_set&quot;, tasksSet)\r\n        .commit();\r\n\r\nThen when you read it:\r\n\r\n    Set&lt;String&gt; tasksSet = PreferenceManager.getDefaultSharedPreferences(context)\r\n        .getStringSet(&quot;tasks_set&quot;, new HashSet&lt;String&gt;());\r\n    List&lt;String&gt; tasksList = new ArrayList&lt;String&gt;(tasksSet);\r\n\r\n\r\nb) SQLite\r\nA good tutorial: http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>You currently have two options<br>\na) Use SharedPreferences<br>\nb) Use SQLite and save values in that.</p>\n\n<p>How to perform<br>\na) SharedPreferences<br>\nFirst store your List as a Set, and then convert it back to a List when you read from SharedPreferences.  </p>\n\n<pre><code>Listtasks = new ArrayList&lt;String&gt;();\nSet&lt;String&gt; tasksSet = new HashSet&lt;String&gt;(Listtasks);\nPreferenceManager.getDefaultSharedPreferences(context)\n    .edit()\n    .putStringSet(\"tasks_set\", tasksSet)\n    .commit();\n</code></pre>\n\n<p>Then when you read it:</p>\n\n<pre><code>Set&lt;String&gt; tasksSet = PreferenceManager.getDefaultSharedPreferences(context)\n    .getStringSet(\"tasks_set\", new HashSet&lt;String&gt;());\nList&lt;String&gt; tasksList = new ArrayList&lt;String&gt;(tasksSet);\n</code></pre>\n\n<p>b) SQLite\nA good tutorial: <a href=\"http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/\" rel=\"nofollow\">http://www.androidhive.info/2011/11/android-sqlite-database-tutorial/</a></p>\n"},{"tags":[],"owner":{"account_id":2484105,"reputation":2063,"user_id":2162924,"display_name":"Dario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422008793,"creation_date":1422008793,"answer_id":28107769,"question_id":28107647,"body_markdown":"In SharedPreferences you can store only primitives.\r\n\r\nAs one possible approach is that you can use GSON and store values into preferences in JSON.\r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(medicineList);\r\n    \r\n    yourPrefereces.putString(&quot;listOfProducts&quot;, json);\r\n    yourPrefereces.commit();\r\n\r\n","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>In SharedPreferences you can store only primitives.</p>\n\n<p>As one possible approach is that you can use GSON and store values into preferences in JSON.</p>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(medicineList);\n\nyourPrefereces.putString(\"listOfProducts\", json);\nyourPrefereces.commit();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2022326,"reputation":333,"user_id":1808190,"accept_rate":30,"display_name":"albert kim"},"score":0,"creation_date":1454463142,"post_id":28107791,"comment_id":58052158,"body_markdown":"hey i know this is really late but why are you using static variables and methods?","body":"hey i know this is really late but why are you using static variables and methods?"},{"owner":{"account_id":1741826,"reputation":1818,"user_id":1593007,"accept_rate":76,"display_name":"nww04"},"score":0,"creation_date":1483595328,"post_id":28107791,"comment_id":70161672,"body_markdown":"@albertkim I believe this is so because he doesn&#39;t need new instances of SharedPreferences each time he needs it. He kept a variable tucked in somewhere for later use.","body":"@albertkim I believe this is so because he doesn&#39;t need new instances of SharedPreferences each time he needs it. He kept a variable tucked in somewhere for later use."},{"owner":{"account_id":9535190,"reputation":139,"user_id":7085588,"display_name":"Ali Obeid"},"score":3,"creation_date":1510246108,"post_id":28107791,"comment_id":81363566,"body_markdown":"And do you have the code to get the List after storing it with GSON?","body":"And do you have the code to get the List after storing it with GSON?"},{"owner":{"account_id":2449723,"reputation":404,"user_id":2136290,"accept_rate":71,"display_name":"StevenTB"},"score":5,"creation_date":1532609102,"post_id":28107791,"comment_id":90045827,"body_markdown":"To retrieve the List from the serialized source do that : \n`List&lt;YourModel&gt; arrayItems;\nString serializedObject = sharedPreferences.getString(KEY_PREFS, null);\nif (serializedObject != null){\n    Gson gson = new Gson();\n    Type type = new TypeToken&lt;List&lt;YourModel&gt;&gt;(){}.getType();\n    arrayItems = gson.fromJson(serializedObject, type);\n}`","body":"To retrieve the List from the serialized source do that :  <code>List&lt;YourModel&gt; arrayItems; String serializedObject = sharedPreferences.getString(KEY_PREFS, null); if (serializedObject != null){     Gson gson = new Gson();     Type type = new TypeToken&lt;List&lt;YourModel&gt;&gt;(){}.getType();     arrayItems = gson.fromJson(serializedObject, type); }</code>"},{"owner":{"account_id":10155417,"reputation":1130,"user_id":7500651,"accept_rate":60,"display_name":"ansh sachdeva"},"score":0,"creation_date":1579779290,"post_id":28107791,"comment_id":105884827,"body_markdown":"how are you using `context.getShar...` when your instance is static? I am guessing that `context` is also static, but is it wise to use context as static?","body":"how are you using <code>context.getShar...</code> when your instance is static? I am guessing that <code>context</code> is also static, but is it wise to use context as static?"}],"tags":[],"owner":{"account_id":2043296,"reputation":3447,"user_id":1823992,"accept_rate":76,"display_name":"ar-g"},"comment_count":5,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1636379944,"creation_date":1422008834,"answer_id":28107791,"question_id":28107647,"body_markdown":"It only possible to use primitive types because preference keep in memory. But what you can use is serialize your types with Gson into json and put string into preferences:\r\n\r\n    private static SharedPreferences sharedPreferences = context.getSharedPreferences(STORE_FILE_NAME, Context.MODE_PRIVATE);\r\n    \r\n    private static SharedPreferences.Editor editor = sharedPreferences.edit();\r\n        \r\n    public &lt;T&gt; void setList(String key, List&lt;T&gt; list) {\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(list);\r\n        \r\n        set(key, json);\r\n    }\r\n\r\n    public static void set(String key, String value) {\r\n        editor.putString(key, value);\r\n        editor.commit();\r\n    }\r\n\r\n&lt;br&gt;\r\n\r\nExtra Shot from below comment by @StevenTB\r\n\r\nTo Retrive\r\n\r\n   \r\n\r\n     public List&lt;YourModel&gt; getList(){\r\n        List&lt;YourModel&gt; arrayItems;\r\n        String serializedObject = sharedPreferences.getString(KEY_PREFS, null); \r\n        if (serializedObject != null) {\r\n             Gson gson = new Gson();\r\n             Type type = new TypeToken&lt;List&lt;YourModel&gt;&gt;(){}.getType();\r\n             arrayItems = gson.fromJson(serializedObject, type);\r\n         }\r\n    }","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>It only possible to use primitive types because preference keep in memory. But what you can use is serialize your types with Gson into json and put string into preferences:</p>\n<pre><code>private static SharedPreferences sharedPreferences = context.getSharedPreferences(STORE_FILE_NAME, Context.MODE_PRIVATE);\n\nprivate static SharedPreferences.Editor editor = sharedPreferences.edit();\n    \npublic &lt;T&gt; void setList(String key, List&lt;T&gt; list) {\n    Gson gson = new Gson();\n    String json = gson.toJson(list);\n    \n    set(key, json);\n}\n\npublic static void set(String key, String value) {\n    editor.putString(key, value);\n    editor.commit();\n}\n</code></pre>\n<br>\n<p>Extra Shot from below comment by @StevenTB</p>\n<p>To Retrive</p>\n<pre><code> public List&lt;YourModel&gt; getList(){\n    List&lt;YourModel&gt; arrayItems;\n    String serializedObject = sharedPreferences.getString(KEY_PREFS, null); \n    if (serializedObject != null) {\n         Gson gson = new Gson();\n         Type type = new TypeToken&lt;List&lt;YourModel&gt;&gt;(){}.getType();\n         arrayItems = gson.fromJson(serializedObject, type);\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937963,"reputation":67649,"user_id":966550,"accept_rate":67,"display_name":"waqaslam"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1422008867,"creation_date":1422008867,"answer_id":28107801,"question_id":28107647,"body_markdown":"You may do it using `Gson` as below:\r\n\r\n - Download `List&lt;Product&gt;` from webservice\r\n - Convert the `List` into **Json** `String` using `new Gson().toJson(medicineList, new TypeToken&lt;List&lt;Product&gt;&gt;(){}.getType())`\r\n - Save the converted string into `SharePreferences` as you do normally\r\n\r\nIn order to reconstruct your `List`, you need to revert the process using **fromJson** method available in `Gson`.","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>You may do it using <code>Gson</code> as below:</p>\n\n<ul>\n<li>Download <code>List&lt;Product&gt;</code> from webservice</li>\n<li>Convert the <code>List</code> into <strong>Json</strong> <code>String</code> using <code>new Gson().toJson(medicineList, new TypeToken&lt;List&lt;Product&gt;&gt;(){}.getType())</code></li>\n<li>Save the converted string into <code>SharePreferences</code> as you do normally</li>\n</ul>\n\n<p>In order to reconstruct your <code>List</code>, you need to revert the process using <strong>fromJson</strong> method available in <code>Gson</code>.</p>\n"},{"comments":[{"owner":{"account_id":6062406,"reputation":663,"user_id":4733807,"accept_rate":39,"display_name":"Adina Marin"},"score":2,"creation_date":1441366836,"post_id":28107838,"comment_id":52662544,"body_markdown":"What is the code to retrieve the array of Products from the JSONArray ?","body":"What is the code to retrieve the array of Products from the JSONArray ?"},{"owner":{"account_id":5511482,"reputation":456,"user_id":4377624,"display_name":"O&#39;Kamiye"},"score":2,"creation_date":1491091595,"post_id":28107838,"comment_id":73401257,"body_markdown":"You can&#39;t put json directly into SharedPreference as you tried doing with this line:\n`editor.putString(PRODUCT_TAG, jsonArrayProduct);`\n\nYou have to convert it first to string (possibly with the Gson object in your code). For example: \n`gson.toJson(jsonArrayProduct)`","body":"You can&#39;t put json directly into SharedPreference as you tried doing with this line: <code>editor.putString(PRODUCT_TAG, jsonArrayProduct);</code>  You have to convert it first to string (possibly with the Gson object in your code). For example:  <code>gson.toJson(jsonArrayProduct)</code>"},{"owner":{"account_id":8800547,"reputation":2118,"user_id":6576875,"accept_rate":87,"display_name":"Martin De Simone"},"score":0,"creation_date":1520557211,"post_id":28107838,"comment_id":85375715,"body_markdown":"I am getting  Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $ when getting the objects","body":"I am getting  Expected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column 2 path $ when getting the objects"}],"tags":[],"owner":{"account_id":4597969,"reputation":2695,"user_id":3729490,"accept_rate":58,"display_name":"rafaelasguerra"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1581562054,"creation_date":1422008970,"answer_id":28107838,"question_id":28107647,"body_markdown":"You can use GSON to convert Object -&gt; JSON(.toJSON) and JSON -&gt; Object(.fromJSON).\r\n\r\n- Define your Tags with you want *(for example):*\r\n\r\n\t\tprivate static final String PREFS_TAG = &quot;SharedPrefs&quot;;\r\n\t\tprivate static final String PRODUCT_TAG = &quot;MyProduct&quot;;\r\n\r\n- Get your sharedPreference to these tag&#39;s\r\n\r\n\r\n        private List&lt;Product&gt; getDataFromSharedPreferences(){\r\n            Gson gson = new Gson();\r\n            List&lt;Product&gt; productFromShared = new ArrayList&lt;&gt;();\r\n            SharedPreferences sharedPref = getApplicationContext().getSharedPreferences(PREFS_TAG, Context.MODE_PRIVATE);\r\n            String jsonPreferences = sharedPref.getString(PRODUCT_TAG, &quot;&quot;);    \r\n        \r\n            Type type = new TypeToken&lt;List&lt;Product&gt;&gt;() {}.getType();\r\n            productFromShared = gson.fromJson(jsonPreferences, type);\r\n        \r\n            return preferences;\r\n        }\r\n\r\n- Set your sharedPreferences  \r\n   \r\n\r\n        private void setDataFromSharedPreferences(Product curProduct){\r\n            Gson gson = new Gson();\r\n            String jsonCurProduct = gson.toJson(curProduct);\r\n        \r\n            SharedPreferences sharedPref = getApplicationContext().getSharedPreferences(PREFS_TAG, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = sharedPref.edit();\r\n        \r\n            editor.putString(PRODUCT_TAG, jsonCurProduct);\r\n            editor.commit();\r\n        }\r\n\r\n- If you want to save an array of Products, do this:\r\n\r\n        private void addInJSONArray(Product productToAdd){\r\n        \r\n\t\t\tGson gson = new Gson();\r\n\t\t\tSharedPreferences sharedPref = getApplicationContext().getSharedPreferences(PREFS_TAG, Context.MODE_PRIVATE);\r\n\t\t\r\n\t\t\tString jsonSaved = sharedPref.getString(PRODUCT_TAG, &quot;&quot;);\r\n\t\t\tString jsonNewproductToAdd = gson.toJson(productToAdd);\r\n\t\t\r\n\t\t\tJSONArray jsonArrayProduct= new JSONArray();\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tif(jsonSaved.length()!=0){\r\n\t\t\t\t\tjsonArrayProduct = new JSONArray(jsonSaved);\r\n\t\t\t\t}\r\n\t\t\t\tjsonArrayProduct.put(new JSONObject(jsonNewproductToAdd));\r\n\t\t\t} catch (JSONException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//SAVE NEW ARRAY\r\n\t\t\tSharedPreferences.Editor editor = sharedPref.edit();\r\n\t\t\teditor.putString(PRODUCT_TAG, jsonArrayProduct);\r\n\t\t\teditor.commit();\r\n\t\t}\r\n","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>You can use GSON to convert Object -> JSON(.toJSON) and JSON -> Object(.fromJSON).</p>\n\n<ul>\n<li><p>Define your Tags with you want <em>(for example):</em></p>\n\n<pre><code>private static final String PREFS_TAG = \"SharedPrefs\";\nprivate static final String PRODUCT_TAG = \"MyProduct\";\n</code></pre></li>\n<li><p>Get your sharedPreference to these tag's</p>\n\n<pre><code>private List&lt;Product&gt; getDataFromSharedPreferences(){\n    Gson gson = new Gson();\n    List&lt;Product&gt; productFromShared = new ArrayList&lt;&gt;();\n    SharedPreferences sharedPref = getApplicationContext().getSharedPreferences(PREFS_TAG, Context.MODE_PRIVATE);\n    String jsonPreferences = sharedPref.getString(PRODUCT_TAG, \"\");    \n\n    Type type = new TypeToken&lt;List&lt;Product&gt;&gt;() {}.getType();\n    productFromShared = gson.fromJson(jsonPreferences, type);\n\n    return preferences;\n}\n</code></pre></li>\n<li><p>Set your sharedPreferences  </p>\n\n<pre><code>private void setDataFromSharedPreferences(Product curProduct){\n    Gson gson = new Gson();\n    String jsonCurProduct = gson.toJson(curProduct);\n\n    SharedPreferences sharedPref = getApplicationContext().getSharedPreferences(PREFS_TAG, Context.MODE_PRIVATE);\n    SharedPreferences.Editor editor = sharedPref.edit();\n\n    editor.putString(PRODUCT_TAG, jsonCurProduct);\n    editor.commit();\n}\n</code></pre></li>\n<li><p>If you want to save an array of Products, do this:</p>\n\n<pre><code>private void addInJSONArray(Product productToAdd){\n\n    Gson gson = new Gson();\n    SharedPreferences sharedPref = getApplicationContext().getSharedPreferences(PREFS_TAG, Context.MODE_PRIVATE);\n\n    String jsonSaved = sharedPref.getString(PRODUCT_TAG, \"\");\n    String jsonNewproductToAdd = gson.toJson(productToAdd);\n\n    JSONArray jsonArrayProduct= new JSONArray();\n\n    try {\n        if(jsonSaved.length()!=0){\n            jsonArrayProduct = new JSONArray(jsonSaved);\n        }\n        jsonArrayProduct.put(new JSONObject(jsonNewproductToAdd));\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n\n    //SAVE NEW ARRAY\n    SharedPreferences.Editor editor = sharedPref.edit();\n    editor.putString(PRODUCT_TAG, jsonArrayProduct);\n    editor.commit();\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7543733,"reputation":479,"user_id":5727508,"display_name":"Walter Palladino"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507739812,"creation_date":1491320274,"answer_id":43211739,"question_id":28107647,"body_markdown":"All the answer related to JSON are Ok but remember Java allows you to serialize any object if you implement the java.io.Serializable interface.\r\nThis way you can save it to preferences as a serialized object too.\r\nHere is an example for storing as Preferences: https://gist.github.com/walterpalladino/4f5509cbc8fc3ecf1497f05e37675111\r\nI hope this could help you as an option.","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>All the answer related to JSON are Ok but remember Java allows you to serialize any object if you implement the java.io.Serializable interface.\nThis way you can save it to preferences as a serialized object too.\nHere is an example for storing as Preferences: <a href=\"https://gist.github.com/walterpalladino/4f5509cbc8fc3ecf1497f05e37675111\" rel=\"nofollow noreferrer\">https://gist.github.com/walterpalladino/4f5509cbc8fc3ecf1497f05e37675111</a>\nI hope this could help you as an option.</p>\n"},{"comments":[{"owner":{"account_id":1771615,"reputation":2612,"user_id":1616278,"accept_rate":82,"display_name":"kakajan"},"score":1,"creation_date":1500572838,"post_id":45160107,"comment_id":77409780,"body_markdown":"question already answered and accepted, why are you adding duplicate answer?","body":"question already answered and accepted, why are you adding duplicate answer?"}],"tags":[],"owner":{"account_id":2200136,"reputation":1068,"user_id":1944723,"display_name":"taran mahal"},"comment_count":1,"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1500362463,"creation_date":1500362463,"answer_id":45160107,"question_id":28107647,"body_markdown":"    SharedPreferences mPrefs = getPreferences(MODE_PRIVATE);\r\n\r\nFor save\r\n\r\n    Editor prefsEditor = mPrefs.edit();\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(myObject);\r\n    prefsEditor.putString(&quot;MyObject&quot;, json);\r\n    prefsEditor.commit();\r\n\r\nFor get\r\n\r\n    Gson gson = new Gson();\r\n    String json = mPrefs.getString(&quot;MyObject&quot;, &quot;&quot;);\r\n    MyObject obj = gson.fromJson(json, MyObject.class);","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<pre><code>SharedPreferences mPrefs = getPreferences(MODE_PRIVATE);\n</code></pre>\n\n<p>For save</p>\n\n<pre><code>Editor prefsEditor = mPrefs.edit();\nGson gson = new Gson();\nString json = gson.toJson(myObject);\nprefsEditor.putString(\"MyObject\", json);\nprefsEditor.commit();\n</code></pre>\n\n<p>For get</p>\n\n<pre><code>Gson gson = new Gson();\nString json = mPrefs.getString(\"MyObject\", \"\");\nMyObject obj = gson.fromJson(json, MyObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530782026,"creation_date":1530782026,"answer_id":51187526,"question_id":28107647,"body_markdown":"As said in accepted answer we can save list of objects like:\r\n\r\n    public &lt;T&gt; void setList(String key, List&lt;T&gt; list) {\r\n            Gson gson = new Gson();\r\n            String json = gson.toJson(list);\r\n            set(key, json);\r\n        }\r\n    \r\n        public void set(String key, String value) {\r\n            if (setSharedPreferences != null) {\r\n                SharedPreferences.Editor prefsEditor = setSharedPreferences.edit();\r\n                prefsEditor.putString(key, value);\r\n                prefsEditor.commit();\r\n            }\r\n        }\r\n\r\nGet it by using:\r\n\r\n    public List&lt;Company&gt; getCompaniesList(String key) {\r\n        if (setSharedPreferences != null) {\r\n\r\n            Gson gson = new Gson();\r\n            List&lt;Company&gt; companyList;\r\n\r\n            String string = setSharedPreferences.getString(key, null);\r\n            Type type = new TypeToken&lt;List&lt;Company&gt;&gt;() {\r\n            }.getType();\r\n            companyList = gson.fromJson(string, type);\r\n            return companyList;\r\n        }\r\n        return null;\r\n    }","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>As said in accepted answer we can save list of objects like:</p>\n\n<pre><code>public &lt;T&gt; void setList(String key, List&lt;T&gt; list) {\n        Gson gson = new Gson();\n        String json = gson.toJson(list);\n        set(key, json);\n    }\n\n    public void set(String key, String value) {\n        if (setSharedPreferences != null) {\n            SharedPreferences.Editor prefsEditor = setSharedPreferences.edit();\n            prefsEditor.putString(key, value);\n            prefsEditor.commit();\n        }\n    }\n</code></pre>\n\n<p>Get it by using:</p>\n\n<pre><code>public List&lt;Company&gt; getCompaniesList(String key) {\n    if (setSharedPreferences != null) {\n\n        Gson gson = new Gson();\n        List&lt;Company&gt; companyList;\n\n        String string = setSharedPreferences.getString(key, null);\n        Type type = new TypeToken&lt;List&lt;Company&gt;&gt;() {\n        }.getType();\n        companyList = gson.fromJson(string, type);\n        return companyList;\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17212976,"reputation":41,"user_id":12461783,"display_name":"rahimpourDeveloper"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1576403735,"creation_date":1576403735,"answer_id":59342792,"question_id":28107647,"body_markdown":"The best solution for me and I think you :\r\n\r\n    private static SharedPreferences sharedPreferences = context.getSharedPreferences(STORE_FILE_NAME, Context.MODE_PRIVATE);\r\n    private  SharedPreferences.Editor editor = sharedPreferences.edit();\r\n    List&lt;your object&gt; list = new ArrayList&lt;&gt;();\r\n\r\nFor save:\r\n\r\n    editor.edit().putString(&quot;your key name&quot;, new Gson().toJson(list)).apply();\r\nFor get:\r\n\r\n    list = new Gson().fromJson(sharedPreferences.getString(&quot;your key name&quot;, null), new TypeToken&lt;List&lt;your object class name&gt;&gt;(){}.getType());\r\n\r\nenjoy it!","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>The best solution for me and I think you :</p>\n\n<pre><code>private static SharedPreferences sharedPreferences = context.getSharedPreferences(STORE_FILE_NAME, Context.MODE_PRIVATE);\nprivate  SharedPreferences.Editor editor = sharedPreferences.edit();\nList&lt;your object&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>For save:</p>\n\n<pre><code>editor.edit().putString(\"your key name\", new Gson().toJson(list)).apply();\n</code></pre>\n\n<p>For get:</p>\n\n<pre><code>list = new Gson().fromJson(sharedPreferences.getString(\"your key name\", null), new TypeToken&lt;List&lt;your object class name&gt;&gt;(){}.getType());\n</code></pre>\n\n<p>enjoy it!</p>\n"},{"tags":[],"owner":{"account_id":4730901,"reputation":709,"user_id":3826579,"accept_rate":56,"display_name":"Peterstev Uremgba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627857999,"creation_date":1627857999,"answer_id":68614917,"question_id":28107647,"body_markdown":"the perfect fucntion for getting generic lists in Kotlin\r\n\r\n```\r\nprivate fun &lt;T : Serializable&gt; getGenericList(\r\n    sharedPreferences: SharedPreferences,\r\n    key: String,\r\n    clazz: KClass&lt;T&gt;\r\n): List&lt;T&gt; {\r\n    return sharedPreferences.let { prefs -&gt;\r\n        val data = prefs.getString(key, null)\r\n        val type: Type = TypeToken.getParameterized(MutableList::class.java, clazz.java).type\r\n        gson.fromJson(data, type) as MutableList&lt;T&gt;\r\n    }\r\n}\r\n```\r\n\r\nyou can call this function \r\n\r\n```\r\ngetGenericList.(sharedPrefObj, sharedpref_key, GenericClass::class)\r\n```","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>the perfect fucntion for getting generic lists in Kotlin</p>\n<pre><code>private fun &lt;T : Serializable&gt; getGenericList(\n    sharedPreferences: SharedPreferences,\n    key: String,\n    clazz: KClass&lt;T&gt;\n): List&lt;T&gt; {\n    return sharedPreferences.let { prefs -&gt;\n        val data = prefs.getString(key, null)\n        val type: Type = TypeToken.getParameterized(MutableList::class.java, clazz.java).type\n        gson.fromJson(data, type) as MutableList&lt;T&gt;\n    }\n}\n</code></pre>\n<p>you can call this function</p>\n<pre><code>getGenericList.(sharedPrefObj, sharedpref_key, GenericClass::class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17573137,"reputation":464,"user_id":12748481,"display_name":"Surajkaran Meghwanshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672824811,"creation_date":1672824811,"answer_id":75003482,"question_id":28107647,"body_markdown":"We can save ArrayList into shared Preference using Set\r\n&gt;Step 1 : Save into shared Preference\r\n\r\n    // bList is - ArrayList&lt;String&gt;()\r\n    putStringSet(&quot;reportedList&quot;, set)\r\n\r\n &gt;Step 2 : retrieve data from shared Preference\r\n\r\n    val setReport = PrefManager(requireContext()).getStringSet(&quot;reportedList&quot;)\r\n    val bList = ArrayList&lt;String&gt;()\r\n    if (setR!= null ){\r\n        setR?.toList().forEach {\r\n            bList .add(it)\r\n        }\r\n     }","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>We can save ArrayList into shared Preference using Set</p>\n<blockquote>\n<p>Step 1 : Save into shared Preference</p>\n</blockquote>\n<pre><code>// bList is - ArrayList&lt;String&gt;()\nputStringSet(&quot;reportedList&quot;, set)\n</code></pre>\n<blockquote>\n<p>Step 2 : retrieve data from shared Preference</p>\n</blockquote>\n<pre><code>val setReport = PrefManager(requireContext()).getStringSet(&quot;reportedList&quot;)\nval bList = ArrayList&lt;String&gt;()\nif (setR!= null ){\n    setR?.toList().forEach {\n        bList .add(it)\n    }\n }\n</code></pre>\n"}],"owner":{"account_id":1771615,"reputation":2612,"user_id":1616278,"accept_rate":82,"display_name":"kakajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88671,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":28107791,"answer_count":11,"score":45,"last_activity_date":1672824811,"creation_date":1422008411,"question_id":28107647,"body_markdown":"I have a list of products, which i retrieve from webservice, when app is opened for first time, app gets product list from webservice. I want to save this list to shared preferences.\r\n\r\n        List&lt;Product&gt; medicineList = new ArrayList&lt;Product&gt;();\r\n\r\nwhere Product class is:\r\n\r\n    public class Product {\r\n        public final String productName;\r\n        public final String price;\r\n        public final String content;\r\n        public final String imageUrl;\r\n\r\n        public Product(String productName, String price, String content, String imageUrl) {\r\n            this.productName = productName;\r\n            this.price = price;\r\n            this.content = content;\r\n            this.imageUrl = imageUrl;\r\n        }\r\n    }\r\n\r\nhow i can save this List&lt;Product&gt; not requesting from webservice each time?","title":"How to save List&lt;Object&gt; to SharedPreferences?","body":"<p>I have a list of products, which i retrieve from webservice, when app is opened for first time, app gets product list from webservice. I want to save this list to shared preferences.</p>\n\n<pre><code>    List&lt;Product&gt; medicineList = new ArrayList&lt;Product&gt;();\n</code></pre>\n\n<p>where Product class is:</p>\n\n<pre><code>public class Product {\n    public final String productName;\n    public final String price;\n    public final String content;\n    public final String imageUrl;\n\n    public Product(String productName, String price, String content, String imageUrl) {\n        this.productName = productName;\n        this.price = price;\n        this.content = content;\n        this.imageUrl = imageUrl;\n    }\n}\n</code></pre>\n\n<p>how i can save this List not requesting from webservice each time?</p>\n"},{"tags":["java","amazon-ecs"],"comments":[{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":1,"creation_date":1618676853,"post_id":67140257,"comment_id":118676833,"body_markdown":"Can you provide the stacktrace for this error?","body":"Can you provide the stacktrace for this error?"},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1618677492,"post_id":67140257,"comment_id":118677045,"body_markdown":"@NagarajTantri added in the question","body":"@NagarajTantri added in the question"},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":3,"creation_date":1618678075,"post_id":67140257,"comment_id":118677204,"body_markdown":"Did you have a look at this github issue (similar in nature): https://github.com/aws/aws-sdk-java/issues/2509#issuecomment-779370672? `NoSuchFieldError errors are usually caused by version mismatch between SDK modules. Ideally core and sts modules should be in the same version.`","body":"Did you have a look at this github issue (similar in nature): <a href=\"https://github.com/aws/aws-sdk-java/issues/2509#issuecomment-779370672\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk-java/issues/2509#issuecomment-7793706&zwnj;&#8203;72</a>? <code>NoSuchFieldError errors are usually caused by version mismatch between SDK modules. Ideally core and sts modules should be in the same version.</code>"},{"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"score":0,"creation_date":1618691546,"post_id":67140257,"comment_id":118680719,"body_markdown":"@NagarajTantri thanks so much! I didnt realize that its caused by version mismatched","body":"@NagarajTantri thanks so much! I didnt realize that its caused by version mismatched"},{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":1,"creation_date":1618721986,"post_id":67140257,"comment_id":118685328,"body_markdown":"Hope it helped!","body":"Hope it helped!"}],"answers":[{"comments":[{"owner":{"account_id":4512173,"reputation":1950,"user_id":3667967,"display_name":"skvp"},"score":1,"creation_date":1644473541,"post_id":67233248,"comment_id":125617532,"body_markdown":"In my case, version of aws-java-sdk, aws-java-sdk-core and aws-java-sdk-quicksight were not same.  Matched all three to latest one and issue resolved. Thanks","body":"In my case, version of aws-java-sdk, aws-java-sdk-core and aws-java-sdk-quicksight were not same.  Matched all three to latest one and issue resolved. Thanks"},{"owner":{"account_id":5670388,"reputation":345,"user_id":4693154,"display_name":"Gibreel Abdullah"},"score":0,"creation_date":1684241818,"post_id":67233248,"comment_id":134486563,"body_markdown":"In my case, they were not the same, but when I made them same, the issue didn&#39;t resolve. But after I restarted my IDE it started working.","body":"In my case, they were not the same, but when I made them same, the issue didn&#39;t resolve. But after I restarted my IDE it started working."}],"tags":[],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":2,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1619193454,"creation_date":1619193454,"answer_id":67233248,"question_id":67140257,"body_markdown":"Thanks to [Nagaraj Trantri](https://stackoverflow.com/users/308565/nagaraj-tantri) the error is caused by the version mismatched of the AWS SDK that I have according to https://github.com/aws/aws-sdk-java/issues/2509#issuecomment-779370672","title":"java.lang.NoSuchFieldError: CLIENT_ENDPOINT for Amazon ECS","body":"<p>Thanks to <a href=\"https://stackoverflow.com/users/308565/nagaraj-tantri\">Nagaraj Trantri</a> the error is caused by the version mismatched of the AWS SDK that I have according to <a href=\"https://github.com/aws/aws-sdk-java/issues/2509#issuecomment-779370672\" rel=\"noreferrer\">https://github.com/aws/aws-sdk-java/issues/2509#issuecomment-779370672</a></p>\n"},{"tags":[],"owner":{"account_id":13459471,"reputation":187,"user_id":9712027,"display_name":"nats"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637073752,"creation_date":1637073752,"answer_id":69991179,"question_id":67140257,"body_markdown":"I had different version for SQS and S3 in pom.xml. After I updated those to same versions, it worked.","title":"java.lang.NoSuchFieldError: CLIENT_ENDPOINT for Amazon ECS","body":"<p>I had different version for SQS and S3 in pom.xml. After I updated those to same versions, it worked.</p>\n"},{"tags":[],"owner":{"account_id":4391825,"reputation":1292,"user_id":3579955,"accept_rate":50,"display_name":"newbie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650359741,"creation_date":1650359741,"answer_id":71922474,"question_id":67140257,"body_markdown":"It depends on where to look for these versions mismatch.\r\n\r\nI am using spark to connect to secrets manager and thus we have 2 places to look at. \r\n\r\n 1. My Application dependencies (build.gradle)\r\n 2. spark.yarn.jars\r\n\r\nThe versions in the above 2 places should match and then it started working","title":"java.lang.NoSuchFieldError: CLIENT_ENDPOINT for Amazon ECS","body":"<p>It depends on where to look for these versions mismatch.</p>\n<p>I am using spark to connect to secrets manager and thus we have 2 places to look at.</p>\n<ol>\n<li>My Application dependencies (build.gradle)</li>\n<li>spark.yarn.jars</li>\n</ol>\n<p>The versions in the above 2 places should match and then it started working</p>\n"},{"tags":[],"owner":{"account_id":16451966,"reputation":61,"user_id":11885164,"display_name":"RV_Mule"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1672824682,"creation_date":1672824682,"answer_id":75003468,"question_id":67140257,"body_markdown":"Use this in the pom.xml file. Error is caused due to mismatch in the &#39;&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;&#39; dependency versions declared in the pom.\r\n\r\n```\r\n &lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;1.11.739&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;scope&gt;import&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n  &lt;/dependencyManagement&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n      &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```","title":"java.lang.NoSuchFieldError: CLIENT_ENDPOINT for Amazon ECS","body":"<p>Use this in the pom.xml file. Error is caused due to mismatch in the 'com.amazonaws' dependency versions declared in the pom.</p>\n<pre><code> &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-java-sdk-bom&lt;/artifactId&gt;\n        &lt;version&gt;1.11.739&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n      &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n"}],"owner":{"account_id":8013069,"reputation":1135,"user_id":6044191,"accept_rate":59,"display_name":"Ihsan Haikal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16942,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":67233248,"answer_count":4,"score":11,"last_activity_date":1672824682,"creation_date":1618675896,"question_id":67140257,"body_markdown":"I tried to list the ECS clusters using the code as follow:\r\n\r\n    AmazonECS = amazonECS AmazonECSClientBuilder.standard().withRegion(region).withCredentials(new AWSStaticCredentialsProvider(awsCredentials)).build():\r\n    amazonECS.listClusters();\r\n\r\nHowever, it gave the error \r\n\r\n&gt; java.lang.NoSuchFieldError: CLIENT_ENDPOINT\r\n\r\n\r\nThe error stack is something like this:\r\n\r\n&gt; com.amazonaws.services.ecs.AmazonECSClient in executeListClusters at\r\n&gt; line 2220 com.amazonaws.services.ecs.AmazonECSClient in listClusters\r\n&gt; at line 2202 com.amazonaws.services.ecs.AmazonECSClient in\r\n&gt; listClusters at line 2245\r\n\r\nI am not too sure why this error occurred as the other Amazon services did not give me any similar error whatsoever and I have set the region previously based on the client&#39;s preference. Any ideas?","title":"java.lang.NoSuchFieldError: CLIENT_ENDPOINT for Amazon ECS","body":"<p>I tried to list the ECS clusters using the code as follow:</p>\n<pre><code>AmazonECS = amazonECS AmazonECSClientBuilder.standard().withRegion(region).withCredentials(new AWSStaticCredentialsProvider(awsCredentials)).build():\namazonECS.listClusters();\n</code></pre>\n<p>However, it gave the error</p>\n<blockquote>\n<p>java.lang.NoSuchFieldError: CLIENT_ENDPOINT</p>\n</blockquote>\n<p>The error stack is something like this:</p>\n<blockquote>\n<p>com.amazonaws.services.ecs.AmazonECSClient in executeListClusters at\nline 2220 com.amazonaws.services.ecs.AmazonECSClient in listClusters\nat line 2202 com.amazonaws.services.ecs.AmazonECSClient in\nlistClusters at line 2245</p>\n</blockquote>\n<p>I am not too sure why this error occurred as the other Amazon services did not give me any similar error whatsoever and I have set the region previously based on the client's preference. Any ideas?</p>\n"},{"tags":["java","json","tostring"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1629401747,"post_id":68853213,"comment_id":121684520,"body_markdown":"Can you clarify why you _want_ single quotes? Or JSON from `toString` at all?","body":"Can you clarify why you <i>want</i> single quotes? Or JSON from <code>toString</code> at all?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1629401789,"post_id":68853213,"comment_id":121684531,"body_markdown":"You can use `lombok` to implement `@ToString` so you dont need to write it yourself - https://www.projectlombok.org/features/ToString","body":"You can use <code>lombok</code> to implement <code>@ToString</code> so you dont need to write it yourself - <a href=\"https://www.projectlombok.org/features/ToString\" rel=\"nofollow noreferrer\">projectlombok.org/features/ToString</a>"}],"answers":[{"comments":[{"owner":{"account_id":12212555,"reputation":506,"user_id":8913947,"accept_rate":100,"display_name":"Shashi Tunga"},"score":0,"creation_date":1629400261,"post_id":68853317,"comment_id":121684089,"body_markdown":"Thankyou, is there a way to print it in single quotes? I want my variable and value to be in single quotes","body":"Thankyou, is there a way to print it in single quotes? I want my variable and value to be in single quotes"},{"owner":{"account_id":16971536,"reputation":301,"user_id":12276050,"display_name":"fneira"},"score":0,"creation_date":1629401043,"post_id":68853317,"comment_id":121684301,"body_markdown":"you can add replace to the output something like this: `return new ObjectMapper().writeValueAsString(this).replace(&quot;\\&quot;&quot;, &quot;&#39;&quot;);` this will generate the json like this: _{&#39;street&#39;:&#39;Street&#39;,&#39;number&#39;:100}_","body":"you can add replace to the output something like this: <code>return new ObjectMapper().writeValueAsString(this).replace(&quot;\\&quot;&quot;, &quot;&#39;&quot;);</code> this will generate the json like this: <i>{&#39;street&#39;:&#39;Street&#39;,&#39;number&#39;:100}</i>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":2,"creation_date":1629401842,"post_id":68853317,"comment_id":121684550,"body_markdown":"Also, putting a ObjectMapper as a dependency of a model class is usually frowned upon","body":"Also, putting a ObjectMapper as a dependency of a model class is usually frowned upon"}],"tags":[],"owner":{"account_id":16971536,"reputation":301,"user_id":12276050,"display_name":"fneira"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1629402546,"creation_date":1629399785,"answer_id":68853317,"question_id":68853213,"body_markdown":"you can use a library like Jackson or Gson, \r\n\r\nExample:\r\n\r\nWith Jackson:\r\n```\r\n    @Override\r\n    public String toString() {\r\n        try {\r\n            return new ObjectMapper().writeValueAsString(this);\r\n        } catch (JsonProcessingException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nWith Gson:\r\n```\r\n    @Override\r\n    public String toString() {\r\n        return new Gson().toJson(this);\r\n    }\r\n```\r\n\r\nExample output:\r\n\r\n```\r\n{&quot;calle&quot;:&quot;Calle&quot;,&quot;numero&quot;:100}\r\n```\r\n\r\nyou have examples here: https://stackoverflow.com/questions/16527932/does-it-make-sense-to-use-reflection-when-implementing-tostring\r\n","title":"Return Json from toStringMethod with single quotes in Java?","body":"<p>you can use a library like Jackson or Gson,</p>\n<p>Example:</p>\n<p>With Jackson:</p>\n<pre><code>    @Override\n    public String toString() {\n        try {\n            return new ObjectMapper().writeValueAsString(this);\n        } catch (JsonProcessingException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>With Gson:</p>\n<pre><code>    @Override\n    public String toString() {\n        return new Gson().toJson(this);\n    }\n</code></pre>\n<p>Example output:</p>\n<pre><code>{&quot;calle&quot;:&quot;Calle&quot;,&quot;numero&quot;:100}\n</code></pre>\n<p>you have examples here: <a href=\"https://stackoverflow.com/questions/16527932/does-it-make-sense-to-use-reflection-when-implementing-tostring\">Does it make sense to use reflection when implementing toString()?</a></p>\n"},{"tags":[],"owner":{"account_id":8186103,"reputation":525,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672824420,"creation_date":1672823792,"answer_id":75003278,"question_id":68853213,"body_markdown":"You could create a utility class like this (note: single quoted JSON is not valid but if that&#39;s what you want):\r\n\r\n```\r\npublic final class JsonBuilder {\r\n\r\n\tprivate static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\r\n\tstatic {\r\n\t\t//OBJECT_MAPPER.enable(SerializationFeature.INDENT_OUTPUT);\r\n\t\tOBJECT_MAPPER.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);\r\n\t}\r\n\r\n\tpublic static &lt;T&gt; String toJson(final T obj) {\r\n\t\tif (null == obj) {\r\n\t\t\treturn null;\r\n\t\t}\r\n        Class&lt;?&gt; cls = obj.getClass();\r\n\t\tObjectWriter objectWriter = OBJECT_MAPPER.writerFor(cls);\r\n\t\ttry {\r\n\t\t\treturn &quot;&#39;&quot; + cls.getName() + &quot;&#39;:&quot; + objectWriter.writeValueAsString(obj);\r\n\t\t} catch (JsonProcessingException e) {\r\n            throw new IllegalArgumentException(e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nand then your `toString()` method:\r\n\r\n```\r\n    @Override\r\n    public String toString() {\r\n        return JsonBuilder.toJson(this);\r\n    }\r\n```\r\nthis will output:\r\n`&#39;MyClass&#39;:{&#39;myVariable&#39;:0}`\r\n\r\nif you want indented output just uncomment the ObjectMapper configuration with `SerializationFeature.INDENT_OUTPUT`","title":"Return Json from toStringMethod with single quotes in Java?","body":"<p>You could create a utility class like this (note: single quoted JSON is not valid but if that's what you want):</p>\n<pre><code>public final class JsonBuilder {\n\n    private static final ObjectMapper OBJECT_MAPPER = new ObjectMapper();\n    static {\n        //OBJECT_MAPPER.enable(SerializationFeature.INDENT_OUTPUT);\n        OBJECT_MAPPER.configure(JsonGenerator.Feature.QUOTE_FIELD_NAMES, false);\n    }\n\n    public static &lt;T&gt; String toJson(final T obj) {\n        if (null == obj) {\n            return null;\n        }\n        Class&lt;?&gt; cls = obj.getClass();\n        ObjectWriter objectWriter = OBJECT_MAPPER.writerFor(cls);\n        try {\n            return &quot;'&quot; + cls.getName() + &quot;':&quot; + objectWriter.writeValueAsString(obj);\n        } catch (JsonProcessingException e) {\n            throw new IllegalArgumentException(e);\n        }\n    }\n}\n</code></pre>\n<p>and then your <code>toString()</code> method:</p>\n<pre><code>    @Override\n    public String toString() {\n        return JsonBuilder.toJson(this);\n    }\n</code></pre>\n<p>this will output:\n<code>'MyClass':{'myVariable':0}</code></p>\n<p>if you want indented output just uncomment the ObjectMapper configuration with <code>SerializationFeature.INDENT_OUTPUT</code></p>\n"}],"owner":{"account_id":12212555,"reputation":506,"user_id":8913947,"accept_rate":100,"display_name":"Shashi Tunga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1672824420,"creation_date":1629399245,"question_id":68853213,"body_markdown":"I want my toString method to return the object in json format with single quotes. I don&#39;t want to manage the toString method manually. Is there a way to do it automatically? Intent is , In case I add a new variable, I don&#39;t want to redo my toString method.\r\n\r\n   class MyClass {\r\n        int myVariable;\r\n\r\n        @Overide\r\n        public string toString() {\r\n           return &quot;&#39;MyClass&#39;:{&#39;myVariable&#39;&quot; +myVariable+&quot;&#39;:}&quot;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Return Json from toStringMethod with single quotes in Java?","body":"<p>I want my toString method to return the object in json format with single quotes. I don't want to manage the toString method manually. Is there a way to do it automatically? Intent is , In case I add a new variable, I don't want to redo my toString method.</p>\n<p>class MyClass {\nint myVariable;</p>\n<pre><code>    @Overide\n    public string toString() {\n       return &quot;'MyClass':{'myVariable'&quot; +myVariable+&quot;':}&quot;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","user-interface","javafx"],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1672811116,"creation_date":1672811116,"answer_id":75001376,"question_id":75000388,"body_markdown":"# Share the Model\r\n\r\nSince you want to mirror between two windows in the same process, the general idea is to create two instances of your view but share only one instance of the model. The model should be observable in some way so that the view/controller can react to changes in the model by updating the view. With the model being shared and observed, updating it from one window will be seen by the other window.\r\n\r\n## Models\r\n\r\nNote a model should not know about the view. In your code, you do:\r\n\r\n&gt; ```lang-java\r\n&gt; game_logic game_logic = new game_logic(chess_board);\r\n&gt; ```\r\n\r\nFrom the name of the class, this indicates you&#39;re passing a `GridPane` (the view) to your model. It would be better if your model only _modelled_ a chess game. The controller/view is responsible for translating that state into a visual representation.\r\n\r\n## Rotating the Second View\r\n\r\nThe simplest approach to this would be to add state/a method to your controller, and then only on the second instance of the controller configure it to rotate the view. It is at least somewhat justifiable to put this logic in the controller/view because it is only a view thing (it does not affect the game state).\r\n\r\nThough instead of rotating the board, you might want to consider &quot;inverting&quot; the location of the pieces (vertically). In other words, for the second view, have it so that a white piece in the bottom-left corner of the board is actually _displayed_ in the top-left corner (and the opposite for black pieces). That way the chess piece images are not rotated along with the rest of the board.\r\n\r\n---\r\n\r\n# Example\r\n\r\nHere&#39;s a proof-of-concept for mirroring a draggable rectangle (much simpler than a chess game). Note it only demonstrates the mirroring, it does not show how to e.g., rotate the view in one window but not the other.\r\n\r\n`RectangleModel.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.concurrent.CopyOnWriteArrayList;\r\nimport java.util.function.Consumer;\r\n\r\npublic class RectangleModel {\r\n\r\n    private final List&lt;Consumer&lt;? super Dimensions&gt;&gt; listeners = new CopyOnWriteArrayList&lt;&gt;();\r\n    private Dimensions dimensions;\r\n\r\n    public RectangleModel(Dimensions dimensions) {\r\n        this.dimensions = Objects.requireNonNull(dimensions);\r\n    }\r\n\r\n    public RectangleModel(double x, double y, double width, double height) {\r\n        this(new Dimensions(x, y, width, height));\r\n    }\r\n\r\n    public void move(double deltaX, double deltaY) {\r\n        if (deltaX != 0.0 || deltaY != 0.0) {\r\n            double x = dimensions.x() + deltaX;\r\n            double y = dimensions.y() + deltaY;\r\n            double w = dimensions.width();\r\n            double h = dimensions.height();\r\n            dimensions = new Dimensions(x, y, w, h);\r\n            notifyListeners();\r\n        }\r\n    }\r\n\r\n    public Dimensions getDimensions() {\r\n        return dimensions;\r\n    }\r\n\r\n    public void addDimensionsListener(Consumer&lt;? super Dimensions&gt; listener) {\r\n        listeners.add(Objects.requireNonNull(listener));\r\n    }\r\n\r\n    public void removeDimensionsListener(Consumer&lt;? super Dimensions&gt; listener) {\r\n        listeners.remove(Objects.requireNonNull(listener));\r\n    }\r\n\r\n    private void notifyListeners() {\r\n        for (var listener : listeners) {\r\n            listener.accept(dimensions);\r\n        }\r\n    }\r\n\r\n    public record Dimensions(double x, double y, double width, double height) {}\r\n}\r\n```\r\n\r\n`RectangleController.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.util.function.Consumer;\r\nimport javafx.fxml.FXML;\r\nimport javafx.geometry.Point2D;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.shape.Rectangle;\r\n\r\npublic class RectangleController {\r\n\r\n    private final Consumer&lt;RectangleModel.Dimensions&gt; listener = this::updateRectangle;\r\n\r\n    @FXML\r\n    private Rectangle rectangle;\r\n    private Point2D offset;\r\n\r\n    private RectangleModel model;\r\n\r\n    public void setModel(RectangleModel model) {\r\n        if (this.model != null) {\r\n            this.model.removeDimensionsListener(listener);\r\n        }\r\n\r\n        this.model = model;\r\n        if (model != null) {\r\n            model.addDimensionsListener(listener);\r\n            updateRectangle(model.getDimensions());\r\n        } else {\r\n            updateRectangle(null);\r\n        }\r\n    }\r\n\r\n    private void updateRectangle(RectangleModel.Dimensions dims) {\r\n        if (dims != null) {\r\n            rectangle.setX(dims.x());\r\n            rectangle.setY(dims.y());\r\n            rectangle.setWidth(dims.width());\r\n            rectangle.setHeight(dims.height());\r\n        } else {\r\n            rectangle.setX(0);\r\n            rectangle.setY(0);\r\n            rectangle.setWidth(0);\r\n            rectangle.setHeight(0);\r\n        }\r\n    }\r\n\r\n    @FXML\r\n    private void handleMousePressed(MouseEvent event) {\r\n        event.consume();\r\n        offset = new Point2D(event.getX(), event.getY());\r\n    }\r\n\r\n    @FXML\r\n    private void handleMouseDragged(MouseEvent event) {\r\n        event.consume();\r\n\r\n        double deltaX = event.getX() - offset.getX();\r\n        double deltaY = event.getY() - offset.getY();\r\n        model.move(deltaX, deltaY);\r\n\r\n        offset = new Point2D(event.getX(), event.getY());\r\n    }\r\n\r\n    @FXML\r\n    private void handleMouseReleased(MouseEvent event) {\r\n        event.consume();\r\n        offset = null;\r\n    }\r\n}\r\n```\r\n\r\n`RectangleView.fxml`:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.shape.Rectangle?&gt;\r\n\r\n&lt;Pane xmlns=&quot;http://javafx.com/javafx/&quot; xmlns:fx=&quot;http://javafx.com/fxml/&quot;\r\n      fx:controller=&quot;sample.RectangleController&quot;&gt;\r\n  &lt;Rectangle fx:id=&quot;rectangle&quot; onMousePressed=&quot;#handleMousePressed&quot; onMouseDragged=&quot;#handleMouseDragged&quot;\r\n             onMouseReleased=&quot;#handleMouseReleased&quot;/&gt;\r\n&lt;/Pane&gt;\r\n```\r\n\r\n`Main.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.io.IOException;\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        var model = new RectangleModel(0, 0, 100, 50);\r\n\r\n        primaryStage.setScene(createScene(model));\r\n        primaryStage.setTitle(&quot;Primary Stage&quot;);\r\n        primaryStage.show();\r\n\r\n        var secondStage = new Stage();\r\n        secondStage.setScene(createScene(model));\r\n        secondStage.setTitle(&quot;Second Stage&quot;);\r\n        secondStage.show();\r\n\r\n        primaryStage.setX(primaryStage.getX() - primaryStage.getWidth() / 2);\r\n        secondStage.setX(primaryStage.getX() + primaryStage.getWidth());\r\n        secondStage.setY(primaryStage.getY());\r\n\r\n        primaryStage.setOnCloseRequest(e -&gt; secondStage.close());\r\n        secondStage.setOnCloseRequest(e -&gt; primaryStage.close());\r\n    }\r\n\r\n    private Scene createScene(RectangleModel model) throws IOException {\r\n        var loader = new FXMLLoader(Main.class.getResource(&quot;RectangleView.fxml&quot;));\r\n\r\n        var root = loader.&lt;Parent&gt;load();\r\n        var controller = loader.&lt;RectangleController&gt;getController();\r\n\r\n        var scene = new Scene(root, 600, 400);\r\n        controller.setModel(model);\r\n        return scene;\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\n# Naming Conventions\r\n\r\nYou should follow the standard naming conventions of Java (or whatever language you&#39;re using) when posting on a public forum.\r\n\r\n* Classes and interfaces use `PascalCase`.\r\n* Methods, fields, parameters, and local variables use `camelCase`.\r\n* Static constants use `UPPER_SNAKE_CASE`.","title":"JavaFX How can I use one instance of scene in 2 windows? (Mirroring)","body":"<h1>Share the Model</h1>\n<p>Since you want to mirror between two windows in the same process, the general idea is to create two instances of your view but share only one instance of the model. The model should be observable in some way so that the view/controller can react to changes in the model by updating the view. With the model being shared and observed, updating it from one window will be seen by the other window.</p>\n<h2>Models</h2>\n<p>Note a model should not know about the view. In your code, you do:</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>game_logic game_logic = new game_logic(chess_board);\n</code></pre>\n</blockquote>\n<p>From the name of the class, this indicates you're passing a <code>GridPane</code> (the view) to your model. It would be better if your model only <em>modelled</em> a chess game. The controller/view is responsible for translating that state into a visual representation.</p>\n<h2>Rotating the Second View</h2>\n<p>The simplest approach to this would be to add state/a method to your controller, and then only on the second instance of the controller configure it to rotate the view. It is at least somewhat justifiable to put this logic in the controller/view because it is only a view thing (it does not affect the game state).</p>\n<p>Though instead of rotating the board, you might want to consider &quot;inverting&quot; the location of the pieces (vertically). In other words, for the second view, have it so that a white piece in the bottom-left corner of the board is actually <em>displayed</em> in the top-left corner (and the opposite for black pieces). That way the chess piece images are not rotated along with the rest of the board.</p>\n<hr />\n<h1>Example</h1>\n<p>Here's a proof-of-concept for mirroring a draggable rectangle (much simpler than a chess game). Note it only demonstrates the mirroring, it does not show how to e.g., rotate the view in one window but not the other.</p>\n<p><code>RectangleModel.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.concurrent.CopyOnWriteArrayList;\nimport java.util.function.Consumer;\n\npublic class RectangleModel {\n\n    private final List&lt;Consumer&lt;? super Dimensions&gt;&gt; listeners = new CopyOnWriteArrayList&lt;&gt;();\n    private Dimensions dimensions;\n\n    public RectangleModel(Dimensions dimensions) {\n        this.dimensions = Objects.requireNonNull(dimensions);\n    }\n\n    public RectangleModel(double x, double y, double width, double height) {\n        this(new Dimensions(x, y, width, height));\n    }\n\n    public void move(double deltaX, double deltaY) {\n        if (deltaX != 0.0 || deltaY != 0.0) {\n            double x = dimensions.x() + deltaX;\n            double y = dimensions.y() + deltaY;\n            double w = dimensions.width();\n            double h = dimensions.height();\n            dimensions = new Dimensions(x, y, w, h);\n            notifyListeners();\n        }\n    }\n\n    public Dimensions getDimensions() {\n        return dimensions;\n    }\n\n    public void addDimensionsListener(Consumer&lt;? super Dimensions&gt; listener) {\n        listeners.add(Objects.requireNonNull(listener));\n    }\n\n    public void removeDimensionsListener(Consumer&lt;? super Dimensions&gt; listener) {\n        listeners.remove(Objects.requireNonNull(listener));\n    }\n\n    private void notifyListeners() {\n        for (var listener : listeners) {\n            listener.accept(dimensions);\n        }\n    }\n\n    public record Dimensions(double x, double y, double width, double height) {}\n}\n</code></pre>\n<p><code>RectangleController.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.util.function.Consumer;\nimport javafx.fxml.FXML;\nimport javafx.geometry.Point2D;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.shape.Rectangle;\n\npublic class RectangleController {\n\n    private final Consumer&lt;RectangleModel.Dimensions&gt; listener = this::updateRectangle;\n\n    @FXML\n    private Rectangle rectangle;\n    private Point2D offset;\n\n    private RectangleModel model;\n\n    public void setModel(RectangleModel model) {\n        if (this.model != null) {\n            this.model.removeDimensionsListener(listener);\n        }\n\n        this.model = model;\n        if (model != null) {\n            model.addDimensionsListener(listener);\n            updateRectangle(model.getDimensions());\n        } else {\n            updateRectangle(null);\n        }\n    }\n\n    private void updateRectangle(RectangleModel.Dimensions dims) {\n        if (dims != null) {\n            rectangle.setX(dims.x());\n            rectangle.setY(dims.y());\n            rectangle.setWidth(dims.width());\n            rectangle.setHeight(dims.height());\n        } else {\n            rectangle.setX(0);\n            rectangle.setY(0);\n            rectangle.setWidth(0);\n            rectangle.setHeight(0);\n        }\n    }\n\n    @FXML\n    private void handleMousePressed(MouseEvent event) {\n        event.consume();\n        offset = new Point2D(event.getX(), event.getY());\n    }\n\n    @FXML\n    private void handleMouseDragged(MouseEvent event) {\n        event.consume();\n\n        double deltaX = event.getX() - offset.getX();\n        double deltaY = event.getY() - offset.getY();\n        model.move(deltaX, deltaY);\n\n        offset = new Point2D(event.getX(), event.getY());\n    }\n\n    @FXML\n    private void handleMouseReleased(MouseEvent event) {\n        event.consume();\n        offset = null;\n    }\n}\n</code></pre>\n<p><code>RectangleView.fxml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.shape.Rectangle?&gt;\n\n&lt;Pane xmlns=&quot;http://javafx.com/javafx/&quot; xmlns:fx=&quot;http://javafx.com/fxml/&quot;\n      fx:controller=&quot;sample.RectangleController&quot;&gt;\n  &lt;Rectangle fx:id=&quot;rectangle&quot; onMousePressed=&quot;#handleMousePressed&quot; onMouseDragged=&quot;#handleMouseDragged&quot;\n             onMouseReleased=&quot;#handleMouseReleased&quot;/&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p><code>Main.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.io.IOException;\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        var model = new RectangleModel(0, 0, 100, 50);\n\n        primaryStage.setScene(createScene(model));\n        primaryStage.setTitle(&quot;Primary Stage&quot;);\n        primaryStage.show();\n\n        var secondStage = new Stage();\n        secondStage.setScene(createScene(model));\n        secondStage.setTitle(&quot;Second Stage&quot;);\n        secondStage.show();\n\n        primaryStage.setX(primaryStage.getX() - primaryStage.getWidth() / 2);\n        secondStage.setX(primaryStage.getX() + primaryStage.getWidth());\n        secondStage.setY(primaryStage.getY());\n\n        primaryStage.setOnCloseRequest(e -&gt; secondStage.close());\n        secondStage.setOnCloseRequest(e -&gt; primaryStage.close());\n    }\n\n    private Scene createScene(RectangleModel model) throws IOException {\n        var loader = new FXMLLoader(Main.class.getResource(&quot;RectangleView.fxml&quot;));\n\n        var root = loader.&lt;Parent&gt;load();\n        var controller = loader.&lt;RectangleController&gt;getController();\n\n        var scene = new Scene(root, 600, 400);\n        controller.setModel(model);\n        return scene;\n    }\n}\n</code></pre>\n<hr />\n<h1>Naming Conventions</h1>\n<p>You should follow the standard naming conventions of Java (or whatever language you're using) when posting on a public forum.</p>\n<ul>\n<li>Classes and interfaces use <code>PascalCase</code>.</li>\n<li>Methods, fields, parameters, and local variables use <code>camelCase</code>.</li>\n<li>Static constants use <code>UPPER_SNAKE_CASE</code>.</li>\n</ul>\n"}],"owner":{"account_id":25478923,"reputation":1,"user_id":19275634,"display_name":"Khanjali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1672824306,"creation_date":1672799062,"question_id":75000388,"body_markdown":"I made a chess game that is supposed to run in 2 windows (stages). When a player moves a piece, in the second window the same piece moves accordingly. But the second window is rotated by 180 degrees to simulate a 2 player experience.\r\n\r\nTo realize this I thought it would be the easiest to use the 1 scene in 2 Windows. Basically a mirror of the first scene.\r\n\r\nProblem: Figure doesn&#39;t move in the second window but the game knows that it has been moved in the first window because the player can&#39;t move the same figures again but the other color.\r\n\r\nThere is also a Main Menu, which has a play button, that starts the 2 windows.\r\n\r\n```\r\n    @FXML\r\n    public void play_game(ActionEvent event) throws IOException {\r\n Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game_board.fxml&quot;)));\r\n Parent second_screen = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game_board.fxml&quot;)));\r\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        Stage second_stage = new Stage();\r\n        second_stage.setScene(new Scene(second_screen));\r\n        second_screen.rotateProperty().set(180);\r\n        second_stage.show();\r\n    }\r\n```\r\n\r\nThe \\*\\*controller class \\*\\* for the first window:\r\n\r\n```\r\npublic class board_controller {\r\n    @FXML\r\n    GridPane chess_board;\r\n    @FXML\r\n    GridPane second_board;\r\n    @FXML\r\n    public void initialize(){\r\n        game_logic game_logic = new game_logic(chess_board);\r\n    }\r\n```\r\n\r\nThe controller class for the second window:\r\n\r\n```\r\npublic class second_board_controller extends board_controller {\r\n\r\n    @FXML\r\n    public void initialize(){\r\n        game_logic new_round = new game_logic(chess_board);\r\n    }\r\n}\r\n```\r\n\r\nMy question is: How can I use the same exact instance of the scene but only rotated in the second window (Basically a Mirror of the first window)?\r\n\r\n[Game Example](https://i.stack.imgur.com/yjPGn.jpg)\r\n\r\nThank you!\r\n\r\nI tried making the gridpane in the first_board controller static using it in the second board controller with the hopes of them updating automatically but with no results. Setting the main scene in first and second stages but my IDE said it&#39;s not allowed. I&#39;m out of ideas...","title":"JavaFX How can I use one instance of scene in 2 windows? (Mirroring)","body":"<p>I made a chess game that is supposed to run in 2 windows (stages). When a player moves a piece, in the second window the same piece moves accordingly. But the second window is rotated by 180 degrees to simulate a 2 player experience.</p>\n<p>To realize this I thought it would be the easiest to use the 1 scene in 2 Windows. Basically a mirror of the first scene.</p>\n<p>Problem: Figure doesn't move in the second window but the game knows that it has been moved in the first window because the player can't move the same figures again but the other color.</p>\n<p>There is also a Main Menu, which has a play button, that starts the 2 windows.</p>\n<pre><code>    @FXML\n    public void play_game(ActionEvent event) throws IOException {\n Parent root = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game_board.fxml&quot;)));\n Parent second_screen = FXMLLoader.load(Objects.requireNonNull(getClass().getResource(&quot;game_board.fxml&quot;)));\n        stage = (Stage)((Node)event.getSource()).getScene().getWindow();\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n\n        Stage second_stage = new Stage();\n        second_stage.setScene(new Scene(second_screen));\n        second_screen.rotateProperty().set(180);\n        second_stage.show();\n    }\n</code></pre>\n<p>The **controller class ** for the first window:</p>\n<pre><code>public class board_controller {\n    @FXML\n    GridPane chess_board;\n    @FXML\n    GridPane second_board;\n    @FXML\n    public void initialize(){\n        game_logic game_logic = new game_logic(chess_board);\n    }\n</code></pre>\n<p>The controller class for the second window:</p>\n<pre><code>public class second_board_controller extends board_controller {\n\n    @FXML\n    public void initialize(){\n        game_logic new_round = new game_logic(chess_board);\n    }\n}\n</code></pre>\n<p>My question is: How can I use the same exact instance of the scene but only rotated in the second window (Basically a Mirror of the first window)?</p>\n<p><a href=\"https://i.stack.imgur.com/yjPGn.jpg\" rel=\"nofollow noreferrer\">Game Example</a></p>\n<p>Thank you!</p>\n<p>I tried making the gridpane in the first_board controller static using it in the second board controller with the hopes of them updating automatically but with no results. Setting the main scene in first and second stages but my IDE said it's not allowed. I'm out of ideas...</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":5144572,"reputation":3474,"user_id":4120911,"accept_rate":40,"display_name":"Cliff Burton"},"score":0,"creation_date":1673600182,"post_id":75003150,"comment_id":132540027,"body_markdown":"did my solution fit your requirements @AlbarDev?","body":"did my solution fit your requirements @AlbarDev?"}],"answers":[{"tags":[],"owner":{"account_id":5144572,"reputation":3474,"user_id":4120911,"accept_rate":40,"display_name":"Cliff Burton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672824122,"creation_date":1672824122,"answer_id":75003350,"question_id":75003150,"body_markdown":"You might get it done with a single line (with the help of [AndroidUtilCode](https://github.com/Blankj/AndroidUtilCode))\r\n\r\n    AppUtils.installApp(apkFile)\r\n\r\nwhere `apkFile` is a `File` object of the apk you want to install/update. This will prompt the installation dialog to the user.\r\n\r\nRemember to include the permission to install packages in your manifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\r\n\r\nThis is a `protection level: normal` permission, meaning it doesn&#39;t require the user to grant it through the runtime permissions, but yet the user has to enable the option in the settings of the app that is thought to install packages.\r\n\r\nI have not tried this yet in Android 12 and 13 but it should work and save you lots of lines","title":"What is the concept of making the program download then install the apk","body":"<p>You might get it done with a single line (with the help of <a href=\"https://github.com/Blankj/AndroidUtilCode\" rel=\"nofollow noreferrer\">AndroidUtilCode</a>)</p>\n<pre><code>AppUtils.installApp(apkFile)\n</code></pre>\n<p>where <code>apkFile</code> is a <code>File</code> object of the apk you want to install/update. This will prompt the installation dialog to the user.</p>\n<p>Remember to include the permission to install packages in your manifest</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.REQUEST_INSTALL_PACKAGES&quot; /&gt;\n</code></pre>\n<p>This is a <code>protection level: normal</code> permission, meaning it doesn't require the user to grant it through the runtime permissions, but yet the user has to enable the option in the settings of the app that is thought to install packages.</p>\n<p>I have not tried this yet in Android 12 and 13 but it should work and save you lots of lines</p>\n"}],"owner":{"account_id":27428861,"reputation":11,"user_id":20925895,"display_name":"Albar Dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1672824122,"creation_date":1672823166,"question_id":75003150,"body_markdown":"*What is the concept of making the program download then install the apk*\r\nI have made the install program but when I made the install program it didn&#39;t work \r\n```\r\n        download.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String getUrl = &quot;https://apptrue.online/files/Truejek.apk&quot;;\r\n                DownloadManager.Request request = new DownloadManager.Request(Uri.parse(getUrl));\r\n                String title = URLUtil.guessFileName(getUrl, null, null);\r\n                request.setTitle(title);\r\n                request.setDescription(&quot;Sedang mendowload file&quot;);\r\n                String cookie = CookieManager.getInstance().getCookie(getUrl);\r\n                request.addRequestHeader(&quot;cookie&quot;, cookie);\r\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, title);\r\n\r\n                DownloadManager downloadManager = (DownloadManager)getSystemService(DOWNLOAD_SERVICE);\r\n                downloadManager.enqueue(request);\r\n                Toast.makeText(UpdateActivity.this, &quot;Download dimulai&quot;, Toast.LENGTH_SHORT).show();\r\n                checkWriteExternalStoragePermission();\r\n            }\r\n        });\r\n\r\n        install.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                PackageInstaller.Session session = null;\r\n                try {\r\n                    PackageInstaller packageInstaller = getPackageManager().getPackageInstaller();\r\n                    PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\r\n                            PackageInstaller.SessionParams.MODE_FULL_INSTALL);\r\n                    int sessionId = packageInstaller.createSession(params);\r\n                    session = packageInstaller.openSession(sessionId);\r\n                    addApkToInstallSession(Environment.DIRECTORY_DOWNLOADS, session);\r\n                    DevicePolicyManager dpm = (DevicePolicyManager) getApplicationContext().getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n                    dpm.clearDeviceOwnerApp(getApplicationContext().getPackageName());\r\n                    checkWriteExternalStoragePermission();\r\n                    Context context = UpdateActivity.this;\r\n                    Intent intent = new Intent(context, UpdateActivity.class);\r\n                    intent.setAction(PACKAGE_INSTALLED_ACTION);\r\n                    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n                    IntentSender statusReceiver = pendingIntent.getIntentSender();\r\n                    // Commit the session (this will start the installation workflow).\r\n                    session.commit(statusReceiver);\r\n                } catch (IOException e) {\r\n                    throw new RuntimeException(&quot;Tidak dapat menginstal paket&quot;, e);\r\n                } catch (RuntimeException e) {\r\n                    if (session != null) {\r\n                        session.abandon();\r\n                    }\r\n                    throw e;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    private void addApkToInstallSession(String assetName, PackageInstaller.Session session)\r\n            throws IOException {\r\n        // It&#39;s recommended to pass the file size to openWrite(). Otherwise installation may fail\r\n        // if the disk is almost full.\r\n        try (OutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\r\n             InputStream is = getAssets().open(assetName)) {\r\n            byte[] buffer = new byte[1638400];\r\n            int n;\r\n            while ((n = is.read(buffer)) &gt;= 0) {\r\n                packageInSession.write(buffer, 0, n);\r\n            }\r\n        }\r\n    }\r\n    // Note: this Activity must run in singleTop launchMode for it to be able to receive the intent\r\n    // in onNewIntent().\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        Bundle extras = intent.getExtras();\r\n        if (PACKAGE_INSTALLED_ACTION.equals(intent.getAction())) {\r\n            int status = extras.getInt(PackageInstaller.EXTRA_STATUS);\r\n            String message = extras.getString(PackageInstaller.EXTRA_STATUS_MESSAGE);\r\n            switch (status) {\r\n                case PackageInstaller.STATUS_PENDING_USER_ACTION:\r\n                    // This test app isn&#39;t privileged, so the user has to confirm the install.\r\n                    Intent confirmIntent = (Intent) extras.get(Intent.EXTRA_INTENT);\r\n                    startActivity(confirmIntent);\r\n                    break;\r\n                case PackageInstaller.STATUS_SUCCESS:\r\n                    Toast.makeText(this, &quot;Berhasil di install!&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case PackageInstaller.STATUS_FAILURE:\r\n                case PackageInstaller.STATUS_FAILURE_ABORTED:\r\n                case PackageInstaller.STATUS_FAILURE_BLOCKED:\r\n                case PackageInstaller.STATUS_FAILURE_CONFLICT:\r\n                case PackageInstaller.STATUS_FAILURE_INCOMPATIBLE:\r\n                case PackageInstaller.STATUS_FAILURE_INVALID:\r\n                case PackageInstaller.STATUS_FAILURE_STORAGE:\r\n                    Toast.makeText(this, &quot;Install gagal! &quot; + status + &quot;, &quot; + message,\r\n                            Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                default:\r\n                    Toast.makeText(this, &quot;Status tidak dikenal diterima dari penginstal: &quot; + status,\r\n                            Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n        private void checkWriteExternalStoragePermission () {\r\n\r\n            if (ActivityCompat.checkSelfPermission(UpdateActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\r\n\r\n            } else {\r\n                //  If we don&#39;t have permission than requesting  the permission\r\n                requestWriteExternalStoragePermission();\r\n            }\r\n        }\r\n\r\n        private void requestWriteExternalStoragePermission () {\r\n            if (ActivityCompat.checkSelfPermission(UpdateActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                ActivityCompat.requestPermissions(UpdateActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, MY_PERMISSION_REQUEST_WRITE_EXTERNAL_STORAGE);\r\n            } else {\r\n                ActivityCompat.requestPermissions(UpdateActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, MY_PERMISSION_REQUEST_WRITE_EXTERNAL_STORAGE);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onRequestPermissionsResult ( int requestCode, @NonNull String[] permissions,\r\n        @NonNull int[] grantResults){\r\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n            if (requestCode == MY_PERMISSION_REQUEST_WRITE_EXTERNAL_STORAGE &amp;&amp; grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n            } else {\r\n                Toast.makeText(UpdateActivity.this, &quot;Izin Tidak Diberikan.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\n**It doesn&#39;t work on android 12 and 13**\r\nthen where is the error for using the installer package \r\n```\r\n    PackageInstaller packageInstaller = getPackageManager().getPackageInstaller();\r\n                    PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\r\n                            PackageInstaller.SessionParams.MODE_FULL_INSTALL);\r\n                    int sessionId = packageInstaller.createSession(params);\r\n                    session = packageInstaller.openSession(sessionId);\r\n                    addApkToInstallSession(Environment.DIRECTORY_DOWNLOADS, session);\r\n                    DevicePolicyManager dpm = (DevicePolicyManager) getApplicationContext().getSystemService(Context.DEVICE_POLICY_SERVICE);\r\n                    dpm.clearDeviceOwnerApp(getApplicationContext().getPackageName());\r\n                    checkWriteExternalStoragePermission();\r\n                    Context context = UpdateActivity.this;\r\n                    Intent intent = new Intent(context, UpdateActivity.class);\r\n                    intent.setAction(PACKAGE_INSTALLED_ACTION);\r\n                    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n                    IntentSender statusReceiver = pendingIntent.getIntentSender();\r\n                    // Commit the session (this will start the installation workflow).\r\n                    session.commit(statusReceiver);\r\n``` \r\n\r\nI started deploying the app via a local webiste link not using the google play console to distribute it, so I want to create my own installer concept","title":"What is the concept of making the program download then install the apk","body":"<p><em>What is the concept of making the program download then install the apk</em>\nI have made the install program but when I made the install program it didn't work</p>\n<pre><code>        download.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                String getUrl = &quot;https://apptrue.online/files/Truejek.apk&quot;;\n                DownloadManager.Request request = new DownloadManager.Request(Uri.parse(getUrl));\n                String title = URLUtil.guessFileName(getUrl, null, null);\n                request.setTitle(title);\n                request.setDescription(&quot;Sedang mendowload file&quot;);\n                String cookie = CookieManager.getInstance().getCookie(getUrl);\n                request.addRequestHeader(&quot;cookie&quot;, cookie);\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS, title);\n\n                DownloadManager downloadManager = (DownloadManager)getSystemService(DOWNLOAD_SERVICE);\n                downloadManager.enqueue(request);\n                Toast.makeText(UpdateActivity.this, &quot;Download dimulai&quot;, Toast.LENGTH_SHORT).show();\n                checkWriteExternalStoragePermission();\n            }\n        });\n\n        install.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View v) {\n                PackageInstaller.Session session = null;\n                try {\n                    PackageInstaller packageInstaller = getPackageManager().getPackageInstaller();\n                    PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\n                            PackageInstaller.SessionParams.MODE_FULL_INSTALL);\n                    int sessionId = packageInstaller.createSession(params);\n                    session = packageInstaller.openSession(sessionId);\n                    addApkToInstallSession(Environment.DIRECTORY_DOWNLOADS, session);\n                    DevicePolicyManager dpm = (DevicePolicyManager) getApplicationContext().getSystemService(Context.DEVICE_POLICY_SERVICE);\n                    dpm.clearDeviceOwnerApp(getApplicationContext().getPackageName());\n                    checkWriteExternalStoragePermission();\n                    Context context = UpdateActivity.this;\n                    Intent intent = new Intent(context, UpdateActivity.class);\n                    intent.setAction(PACKAGE_INSTALLED_ACTION);\n                    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n                    IntentSender statusReceiver = pendingIntent.getIntentSender();\n                    // Commit the session (this will start the installation workflow).\n                    session.commit(statusReceiver);\n                } catch (IOException e) {\n                    throw new RuntimeException(&quot;Tidak dapat menginstal paket&quot;, e);\n                } catch (RuntimeException e) {\n                    if (session != null) {\n                        session.abandon();\n                    }\n                    throw e;\n                }\n            }\n        });\n    }\n    private void addApkToInstallSession(String assetName, PackageInstaller.Session session)\n            throws IOException {\n        // It's recommended to pass the file size to openWrite(). Otherwise installation may fail\n        // if the disk is almost full.\n        try (OutputStream packageInSession = session.openWrite(&quot;package&quot;, 0, -1);\n             InputStream is = getAssets().open(assetName)) {\n            byte[] buffer = new byte[1638400];\n            int n;\n            while ((n = is.read(buffer)) &gt;= 0) {\n                packageInSession.write(buffer, 0, n);\n            }\n        }\n    }\n    // Note: this Activity must run in singleTop launchMode for it to be able to receive the intent\n    // in onNewIntent().\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n        Bundle extras = intent.getExtras();\n        if (PACKAGE_INSTALLED_ACTION.equals(intent.getAction())) {\n            int status = extras.getInt(PackageInstaller.EXTRA_STATUS);\n            String message = extras.getString(PackageInstaller.EXTRA_STATUS_MESSAGE);\n            switch (status) {\n                case PackageInstaller.STATUS_PENDING_USER_ACTION:\n                    // This test app isn't privileged, so the user has to confirm the install.\n                    Intent confirmIntent = (Intent) extras.get(Intent.EXTRA_INTENT);\n                    startActivity(confirmIntent);\n                    break;\n                case PackageInstaller.STATUS_SUCCESS:\n                    Toast.makeText(this, &quot;Berhasil di install!&quot;, Toast.LENGTH_SHORT).show();\n                    break;\n                case PackageInstaller.STATUS_FAILURE:\n                case PackageInstaller.STATUS_FAILURE_ABORTED:\n                case PackageInstaller.STATUS_FAILURE_BLOCKED:\n                case PackageInstaller.STATUS_FAILURE_CONFLICT:\n                case PackageInstaller.STATUS_FAILURE_INCOMPATIBLE:\n                case PackageInstaller.STATUS_FAILURE_INVALID:\n                case PackageInstaller.STATUS_FAILURE_STORAGE:\n                    Toast.makeText(this, &quot;Install gagal! &quot; + status + &quot;, &quot; + message,\n                            Toast.LENGTH_SHORT).show();\n                    break;\n                default:\n                    Toast.makeText(this, &quot;Status tidak dikenal diterima dari penginstal: &quot; + status,\n                            Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n\n        private void checkWriteExternalStoragePermission () {\n\n            if (ActivityCompat.checkSelfPermission(UpdateActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED) {\n\n            } else {\n                //  If we don't have permission than requesting  the permission\n                requestWriteExternalStoragePermission();\n            }\n        }\n\n        private void requestWriteExternalStoragePermission () {\n            if (ActivityCompat.checkSelfPermission(UpdateActivity.this, Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                ActivityCompat.requestPermissions(UpdateActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, MY_PERMISSION_REQUEST_WRITE_EXTERNAL_STORAGE);\n            } else {\n                ActivityCompat.requestPermissions(UpdateActivity.this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, MY_PERMISSION_REQUEST_WRITE_EXTERNAL_STORAGE);\n            }\n        }\n\n        @Override\n        public void onRequestPermissionsResult ( int requestCode, @NonNull String[] permissions,\n        @NonNull int[] grantResults){\n            super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n            if (requestCode == MY_PERMISSION_REQUEST_WRITE_EXTERNAL_STORAGE &amp;&amp; grantResults.length == 1 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n            } else {\n                Toast.makeText(UpdateActivity.this, &quot;Izin Tidak Diberikan.&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n\n    }\n</code></pre>\n<p><strong>It doesn't work on android 12 and 13</strong>\nthen where is the error for using the installer package</p>\n<pre><code>    PackageInstaller packageInstaller = getPackageManager().getPackageInstaller();\n                    PackageInstaller.SessionParams params = new PackageInstaller.SessionParams(\n                            PackageInstaller.SessionParams.MODE_FULL_INSTALL);\n                    int sessionId = packageInstaller.createSession(params);\n                    session = packageInstaller.openSession(sessionId);\n                    addApkToInstallSession(Environment.DIRECTORY_DOWNLOADS, session);\n                    DevicePolicyManager dpm = (DevicePolicyManager) getApplicationContext().getSystemService(Context.DEVICE_POLICY_SERVICE);\n                    dpm.clearDeviceOwnerApp(getApplicationContext().getPackageName());\n                    checkWriteExternalStoragePermission();\n                    Context context = UpdateActivity.this;\n                    Intent intent = new Intent(context, UpdateActivity.class);\n                    intent.setAction(PACKAGE_INSTALLED_ACTION);\n                    PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n                    IntentSender statusReceiver = pendingIntent.getIntentSender();\n                    // Commit the session (this will start the installation workflow).\n                    session.commit(statusReceiver);\n</code></pre>\n<p>I started deploying the app via a local webiste link not using the google play console to distribute it, so I want to create my own installer concept</p>\n"},{"tags":["java","android","react-native","kotlin","geolocation"],"owner":{"account_id":27417702,"reputation":21,"user_id":20916631,"display_name":"Dinaso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":334,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672824025,"creation_date":1672727824,"question_id":74989775,"body_markdown":"I&#39;m trying to create a running app with React Native. The background location permission needs to be in &quot;Allow all the time&quot; to get an accurate location when the screen is off (in addition to turning the power saver and battery optimization off).\r\n\r\nHow can run apps like &quot;Strava&quot; and &quot;Runtastic&quot; be able to track background location accurately only with &quot;While only using the app&quot; permission? \r\n\r\nI have been researching and testing for 5 days now with no luck. Even using paid background module (react native) required &quot;Allow all the time&quot; permission to get accurate results: https://github.com/transistorsoft/react-native-background-geolocation.\r\n\r\nIs this can only be done in native? If yes, can I integrate the background native code to react native?\r\n\r\nWould appreciate any guidance.\r\n\r\nThank you.","title":"How to set React Native background location for accurate result? Can only be done in Native?","body":"<p>I'm trying to create a running app with React Native. The background location permission needs to be in &quot;Allow all the time&quot; to get an accurate location when the screen is off (in addition to turning the power saver and battery optimization off).</p>\n<p>How can run apps like &quot;Strava&quot; and &quot;Runtastic&quot; be able to track background location accurately only with &quot;While only using the app&quot; permission?</p>\n<p>I have been researching and testing for 5 days now with no luck. Even using paid background module (react native) required &quot;Allow all the time&quot; permission to get accurate results: <a href=\"https://github.com/transistorsoft/react-native-background-geolocation\" rel=\"nofollow noreferrer\">https://github.com/transistorsoft/react-native-background-geolocation</a>.</p>\n<p>Is this can only be done in native? If yes, can I integrate the background native code to react native?</p>\n<p>Would appreciate any guidance.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-boot","jpa","mysql-connector"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1672830790,"post_id":75002798,"comment_id":132360030,"body_markdown":"strange behave. you can also add `?sessionVariables=MAX_EXECUTION_TIME=123456666`check the reference https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-session.html#cj-conn-prop_sessionVariables","body":"strange behave. you can also add <code>?sessionVariables=MAX_EXECUTION_TIME=123456666</code>check the reference <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-session.html#cj-conn-prop_sessionVariables\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"}],"owner":{"account_id":15495846,"reputation":73,"user_id":11754821,"display_name":"Santanu Das"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1672823741,"creation_date":1672821202,"question_id":75002798,"body_markdown":"I want to implement Database connection timeout in my spring boot application so that whenever establishing connection to the Database takes more than a certain time, it should throw a timeout exception and it should not wait indefinetely. I am using mysql as database. In my JDBC URL I have mentioned the parameter &quot;connectTimeout&quot; like this:\r\n\r\n`datasource.jdbc-url=jdbc:mysql://XX.XX.XX.XX/dbName?connectTimeout=5000`\r\n\r\nIn the official docs, its mentioned that the unit is in milliseconds. Now I have measured the database connection time in my local to be around 1400ms. \r\n\r\n    stopwatch.start();\r\n    datasource.getConnection();\r\n    stopwatch.stop();\r\n\r\n\r\nSo ideally, setting connectTimeout to be less than 1000 should throw timeout exception. But it does not throw any error even after giving a value as low as 10. \r\n\r\nOnly when I mention the value to be 1, then it throws me timeout exception.\r\n\r\n`datasource.jdbc-url=jdbc:mysql://XX.XX.XX.XX/dbName?connectTimeout=1`\r\n\r\n Which gives me the notion that maybe the timeout is being considered in seconds? Am I doing anything wrong here?\r\n\r\nMysql Connector Verion: 5.1.46\r\n\r\nDocs Link: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-networking.html\r\n\r\n\r\n","title":"Weird behaviour of connectTimeout in mysql Spring Boot","body":"<p>I want to implement Database connection timeout in my spring boot application so that whenever establishing connection to the Database takes more than a certain time, it should throw a timeout exception and it should not wait indefinetely. I am using mysql as database. In my JDBC URL I have mentioned the parameter &quot;connectTimeout&quot; like this:</p>\n<p><code>datasource.jdbc-url=jdbc:mysql://XX.XX.XX.XX/dbName?connectTimeout=5000</code></p>\n<p>In the official docs, its mentioned that the unit is in milliseconds. Now I have measured the database connection time in my local to be around 1400ms.</p>\n<pre><code>stopwatch.start();\ndatasource.getConnection();\nstopwatch.stop();\n</code></pre>\n<p>So ideally, setting connectTimeout to be less than 1000 should throw timeout exception. But it does not throw any error even after giving a value as low as 10.</p>\n<p>Only when I mention the value to be 1, then it throws me timeout exception.</p>\n<p><code>datasource.jdbc-url=jdbc:mysql://XX.XX.XX.XX/dbName?connectTimeout=1</code></p>\n<p>Which gives me the notion that maybe the timeout is being considered in seconds? Am I doing anything wrong here?</p>\n<p>Mysql Connector Verion: 5.1.46</p>\n<p>Docs Link: <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-networking.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-networking.html</a></p>\n"},{"tags":["java","android","kotlin","clone"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1672836599,"post_id":75003204,"comment_id":132361778,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25153481,"reputation":1,"user_id":18998565,"display_name":"Achal jaiswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1672823458,"creation_date":1672823458,"question_id":75003204,"body_markdown":"I am making a working clone of PAYTM payment app, but I don&#39;t know how I can get NAME and UPI ID after scanning the OR code .\r\n( I am using zing based codeScanner library form or scanner(https://github.com/yuriy-budiyev/code-scanner)).\r\n\r\nI have search the entier internet for the solution, but didn&#39;t got the solution , Hope anybody here could help me","title":"how to get name and upi Id from scanner app","body":"<p>I am making a working clone of PAYTM payment app, but I don't know how I can get NAME and UPI ID after scanning the OR code .\n( I am using zing based codeScanner library form or scanner(<a href=\"https://github.com/yuriy-budiyev/code-scanner\" rel=\"nofollow noreferrer\">https://github.com/yuriy-budiyev/code-scanner</a>)).</p>\n<p>I have search the entier internet for the solution, but didn't got the solution , Hope anybody here could help me</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9465,"page":758,"page_size":100}
