{"items":[{"tags":["java","arrays","foreach"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":3,"creation_date":1690450576,"post_id":76778390,"comment_id":135356690,"body_markdown":"What does the error message say?","body":"What does the error message say?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1690450617,"post_id":76778390,"comment_id":135356705,"body_markdown":"[&quot;Why&quot; questions are very unclear.](https://meta.stackoverflow.com/q/323334/5133585) What *kind* of reasons are you looking for? Would &quot;because the language specification says this is an error&quot; be acceptable to you?","body":"<a href=\"https://meta.stackoverflow.com/q/323334/5133585\">&quot;Why&quot; questions are very unclear.</a> What <i>kind</i> of reasons are you looking for? Would &quot;because the language specification says this is an error&quot; be acceptable to you?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":4,"creation_date":1690450767,"post_id":76778390,"comment_id":135356737,"body_markdown":"Because the JLS says so. https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2","body":"Because the JLS says so. <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se7/html/&hellip;</a>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690450933,"post_id":76778390,"comment_id":135356781,"body_markdown":"Declaring an int outside a loop doesn&#39;t cause any error. What causes your error is completely ignoring the syntax of the for-each loop and just inventing your own (By just removing the type declaration in your for-each loop). You might as well ask why you can&#39;t write an if statement as `IF [x ! i]`.... Programming languages have a clearly defined syntax you have to follow. And for the for each statement that means `for(&lt;Type&gt; &lt;variable_name&gt; : &lt;iterable_of_type&gt;)`.","body":"Declaring an int outside a loop doesn&#39;t cause any error. What causes your error is completely ignoring the syntax of the for-each loop and just inventing your own (By just removing the type declaration in your for-each loop). You might as well ask why you can&#39;t write an if statement as <code>IF [x ! i]</code>.... Programming languages have a clearly defined syntax you have to follow. And for the for each statement that means <code>for(&lt;Type&gt; &lt;variable_name&gt; : &lt;iterable_of_type&gt;)</code>."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1690451285,"post_id":76778390,"comment_id":135356862,"body_markdown":"What are you trying to achieve by declaring it in the first way? If it were possible, it would expand the scope of the variable unnecessarily, and its value after the loop would be whatever the last element in the array happened to be.","body":"What are you trying to achieve by declaring it in the first way? If it were possible, it would expand the scope of the variable unnecessarily, and its value after the loop would be whatever the last element in the array happened to be."}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1690451655,"post_id":76778418,"comment_id":135356933,"body_markdown":"Note this isn&#39;t _quite_ the same, as in your case `i` is the index, whereas in OP&#39;s `i` is the element value.","body":"Note this isn&#39;t <i>quite</i> the same, as in your case <code>i</code> is the index, whereas in OP&#39;s <code>i</code> is the element value."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690450679,"creation_date":1690450679,"answer_id":76778418,"question_id":76778390,"body_markdown":"Because you simply can&#39;t use for loops like that. The `for in` syntax require you use a new variable which is scoped to the loop. You could use it like this, though:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    int[] arr = {-1,1,1};\r\n    int i;\r\n    for(i = 0; i &lt; arr.length; i++){\r\n        System.out.println(arr[i]);\r\n    }\r\n}\r\n```","title":"Declaring int i outside for-each loop causing error?","body":"<p>Because you simply can't use for loops like that. The <code>for in</code> syntax require you use a new variable which is scoped to the loop. You could use it like this, though:</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {-1,1,1};\n    int i;\n    for(i = 0; i &lt; arr.length; i++){\n        System.out.println(arr[i]);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690890882,"post_id":76785825,"comment_id":135413520,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76785825/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29104772,"reputation":78,"user_id":22295830,"display_name":"Anmol Pal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690530884,"creation_date":1690530884,"answer_id":76785825,"question_id":76778390,"body_markdown":"The syntax of the enhanced for loop are just like that.\r\n```\r\nfor(int x: arr) {\r\n     System.out.println(x);\r\n}\r\n```","title":"Declaring int i outside for-each loop causing error?","body":"<p>The syntax of the enhanced for loop are just like that.</p>\n<pre><code>for(int x: arr) {\n     System.out.println(x);\n}\n</code></pre>\n"}],"owner":{"account_id":26105404,"reputation":1,"user_id":19800180,"display_name":"Gnaneswar Padam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1690530884,"creation_date":1690450511,"question_id":76778390,"body_markdown":"    public static void main(String[] args) {\r\n        int[] arr = {-1,1,1};\r\n        int i;\r\n        for(i: arr){\r\n            System.out.println(i);\r\n        }\r\n    }\r\nabove code gives ERROR.\r\nerror: bad initializer for for-loop\r\n\r\nbut the below code works fine.\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {-1,1,1};\r\n        for(int i: arr){\r\n            System.out.println(i);\r\n        }\r\n    }\r\n\r\nCan I know why initializing i outside for-each loop is a mistake.?","title":"Declaring int i outside for-each loop causing error?","body":"<pre><code>public static void main(String[] args) {\n    int[] arr = {-1,1,1};\n    int i;\n    for(i: arr){\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>above code gives ERROR.\nerror: bad initializer for for-loop</p>\n<p>but the below code works fine.</p>\n<pre><code>public static void main(String[] args) {\n    int[] arr = {-1,1,1};\n    for(int i: arr){\n        System.out.println(i);\n    }\n}\n</code></pre>\n<p>Can I know why initializing i outside for-each loop is a mistake.?</p>\n"},{"tags":["java","spring","spring-webflux","resttemplate","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":0,"creation_date":1644937159,"post_id":71128136,"comment_id":125734002,"body_markdown":"Thanks for your reply! So I suppose it&#39;s ok in general to block threads in WebClient and nothing to be afraid of, unless it&#39;s done in a reactive application?","body":"Thanks for your reply! So I suppose it&#39;s ok in general to block threads in WebClient and nothing to be afraid of, unless it&#39;s done in a reactive application?"},{"owner":{"account_id":9064418,"reputation":61,"user_id":6749805,"display_name":"Ramiro Higonet Lang"},"score":0,"creation_date":1644940070,"post_id":71128136,"comment_id":125735359,"body_markdown":"Right, I don&#39;t know what happens with a `.block()` in a reactive application. For reactive apps we use Mono&lt;&gt; responses","body":"Right, I don&#39;t know what happens with a <code>.block()</code> in a reactive application. For reactive apps we use Mono&lt;&gt; responses"},{"owner":{"account_id":14071019,"reputation":293,"user_id":10164507,"display_name":"AnMi"},"score":0,"creation_date":1644953336,"post_id":71128136,"comment_id":125740579,"body_markdown":"Just wondering - wouldn&#39;t we exhaust the web client&#39;s thread pool if for example there will not be responses for a long period of time and we use requests without the timeout? Is it really okay to use a timeout to terminate the request threads?  Maybe I&#39;m wrong, I&#39;m doing parallels to the CompletableFuture and another asynchronous framework such as Play! where it is really bad idea and conceptually wrong to block or time out the requests as it leads to performance degradation and makes no sense in use of reactive client at all?","body":"Just wondering - wouldn&#39;t we exhaust the web client&#39;s thread pool if for example there will not be responses for a long period of time and we use requests without the timeout? Is it really okay to use a timeout to terminate the request threads?  Maybe I&#39;m wrong, I&#39;m doing parallels to the CompletableFuture and another asynchronous framework such as Play! where it is really bad idea and conceptually wrong to block or time out the requests as it leads to performance degradation and makes no sense in use of reactive client at all?"},{"owner":{"account_id":9064418,"reputation":61,"user_id":6749805,"display_name":"Ramiro Higonet Lang"},"score":0,"creation_date":1644953793,"post_id":71128136,"comment_id":125740735,"body_markdown":"Yes for sure, having several requests at the same time without timeout would exhaust the pool, that&#39;s why we use a timeout. For our use case, this works perfectly, but for sure it wouldn&#39;t be ideal for other use cases. For that scenario, I would recommend using WebClient in an asynchronous way","body":"Yes for sure, having several requests at the same time without timeout would exhaust the pool, that&#39;s why we use a timeout. For our use case, this works perfectly, but for sure it wouldn&#39;t be ideal for other use cases. For that scenario, I would recommend using WebClient in an asynchronous way"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":2,"creation_date":1644964448,"post_id":71128136,"comment_id":125744234,"body_markdown":"Please don&#39;t do this. This brings no value whatsoever to your application when compared to the good old `RestTemplate`.","body":"Please don&#39;t do this. This brings no value whatsoever to your application when compared to the good old <code>RestTemplate</code>."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1644997223,"post_id":71128136,"comment_id":125750325,"body_markdown":"That is your opinion Which is simply not true. Springs recommendation is to move forward with webclient, as resttemplate is in maintnance mode.","body":"That is your opinion Which is simply not true. Springs recommendation is to move forward with webclient, as resttemplate is in maintnance mode."},{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":0,"creation_date":1644997249,"post_id":71128136,"comment_id":125750329,"body_markdown":"This brings no value, but also doesn&#39;t do anything bad? @Jo&#227;oDias","body":"This brings no value, but also doesn&#39;t do anything bad? @Jo&#227;oDias"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1644997740,"post_id":71128136,"comment_id":125750493,"body_markdown":"also if you wish to use timouts dont use duration, this is how you configure it https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-builder-reactor-timeout","body":"also if you wish to use timouts dont use duration, this is how you configure it <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client-builder-reactor-timeout\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/current/reference/html/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":1,"creation_date":1645007000,"post_id":71128136,"comment_id":125753851,"body_markdown":"@tracer_13 it isn&#39;t bad, but I would stick with `RestTemplate` until it is deprecated at any point in time. Using `WebClient` in a non-reactive application brings little value to it (depending on how you use it, but as depicted in this answer it has no additional value) and makes it harder to read. Using `block()` in a reactive application is worse and that was what I thought you were doing.","body":"@tracer_13 it isn&#39;t bad, but I would stick with <code>RestTemplate</code> until it is deprecated at any point in time. Using <code>WebClient</code> in a non-reactive application brings little value to it (depending on how you use it, but as depicted in this answer it has no additional value) and makes it harder to read. Using <code>block()</code> in a reactive application is worse and that was what I thought you were doing."},{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":0,"creation_date":1645008788,"post_id":71128136,"comment_id":125754510,"body_markdown":"Thanks for your input! Harder to read is indeed a personal preference, but I get your general idea :)","body":"Thanks for your input! Harder to read is indeed a personal preference, but I get your general idea :)"}],"tags":[],"owner":{"account_id":9064418,"reputation":61,"user_id":6749805,"display_name":"Ramiro Higonet Lang"},"comment_count":10,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1690076687,"creation_date":1644935072,"answer_id":71128136,"question_id":71128020,"body_markdown":"In our applications we are migrating from `RestTemplate` to `WebClient` without any issues, `.block()` works just fine\r\n\r\n```java\r\nResponse response = this.webClient\r\n        .post()\r\n        .uri(uri)\r\n        .body(fromValue)\r\n        .retrieve()\r\n        .bodyToMono(Response.class)\r\n        .timeout(Duration.ofMillis(timeoutMillis))\r\n        .block();\r\n```\r\n\r\nThis is doing the same as `RestTemplate` does, it&#39;s sending the request in a synchronized way, and we have it working in PROD since a couple of months without any issues","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>In our applications we are migrating from <code>RestTemplate</code> to <code>WebClient</code> without any issues, <code>.block()</code> works just fine</p>\n<pre class=\"lang-java prettyprint-override\"><code>Response response = this.webClient\n        .post()\n        .uri(uri)\n        .body(fromValue)\n        .retrieve()\n        .bodyToMono(Response.class)\n        .timeout(Duration.ofMillis(timeoutMillis))\n        .block();\n</code></pre>\n<p>This is doing the same as <code>RestTemplate</code> does, it's sending the request in a synchronized way, and we have it working in PROD since a couple of months without any issues</p>\n"},{"comments":[{"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"score":1,"creation_date":1645015886,"post_id":71140806,"comment_id":125757300,"body_markdown":"Thanks, I think this is the kind of answer I was expecting. I&#39;d upvote it but don&#39;t have enough reputation:( Nevertheless you were very helpful and I appreciate the time you spent on it!","body":"Thanks, I think this is the kind of answer I was expecting. I&#39;d upvote it but don&#39;t have enough reputation:( Nevertheless you were very helpful and I appreciate the time you spent on it!"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":1,"creation_date":1645044774,"post_id":71140806,"comment_id":125769337,"body_markdown":"Just a small correction: the `await` link goes to a test util method. That&#39;s not how `block` is implemented. The real implementation uses a `CountDownLatch`.","body":"Just a small correction: the <code>await</code> link goes to a test util method. That&#39;s not how <code>block</code> is implemented. The real implementation uses a <code>CountDownLatch</code>."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1645055110,"post_id":71140806,"comment_id":125772128,"body_markdown":"that is true, updated the link","body":"that is true, updated the link"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1645127136,"post_id":71140806,"comment_id":125795051,"body_markdown":"&quot;which pauses at CountDownLatch#await until there are no threads left&quot; - What do you mean by &quot;no threads left&quot;? It waits until the first next/complete/error event.","body":"&quot;which pauses at CountDownLatch#await until there are no threads left&quot; - What do you mean by &quot;no threads left&quot;? It waits until the first next/complete/error event."},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1645129840,"post_id":71140806,"comment_id":125795994,"body_markdown":"I know how CountDownLatch works. That&#39;s why I asked the question because it wasn&#39;t clear for me what threads you are referring to. I found that a bit confusing. I&#39;ll add my edit. Thank you for the opportunity. Otherwise a great answer!","body":"I know how CountDownLatch works. That&#39;s why I asked the question because it wasn&#39;t clear for me what threads you are referring to. I found that a bit confusing. I&#39;ll add my edit. Thank you for the opportunity. Otherwise a great answer!"}],"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":5,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1690079516,"creation_date":1645010148,"answer_id":71140806,"question_id":71128020,"body_markdown":"Since there seems to be misunderstandings i will try to answer the questions to the best of my knowledge.\r\n\r\n\r\n&gt; How safe is it to use `.block()` and is it ok in general to block threads in `WebClient`?\r\n\r\nBlocking is always _safe_ but whether or not it affects performance is another thing. When a request comes in, it gets assigned a thread. When we do a request using `RestTemplate` the same thread will do the external request, and `RestTemplate` will block that thread under the hood in wait for the response.\r\n\r\nThis is by no means efficient usage of a thread, but its completely _safe_, and this is how most web servers in general have been working for the past 20 years.\r\n\r\nWhen using `WebClient` in a _**non**-reactive_ application and you block a `Mono&lt;T&gt;` (which you essentially will be doing) the framework will first check that the thread is a type of thread that you are allowed to block (not a _nio-thread_) and after that it uses a `CountDownLatch` which pauses/blocks the calling thread at `CountDownLatch#await` until the first _onNext/onComplete/onError_ signal arrives. This is **completely fine** in a blocking application. You can find the relevant code [here][1].\r\n\r\nWhen you add `WebClient` to the class path you will automatically get netty as the underlying server, which could be good to know. If you wish to change that out, then you need to be explicit about it.\r\n\r\nAlso, it is recommended that if you do multiple requests, then you should chain on as many reactive calls as possible before resorting to `block`.\r\n\r\nIf you want to move over to a reactive application, then this is a very good way of slowly transferring an application, by slowly doing more and more reactive stuff and then calling `block` to return to the _regular_ world.\r\n\r\nAre you fully reactive? no, are you a blocking web server like before, well yes. Is it worse that `RestTemplate` most likely not. Are you better than before, from a maintenance standpoint, yes since spring has officially gone out with that there is not going to be any more updates to `RestTemplate`.\r\n\r\n&gt; Is the mechanics behind blocking calls with `WebClient` similar to what `RestTemplate` does?\r\n\r\nWell this is hard to tell, because `RestTemplate` is mainly just a wrapper around the `HttpClient` provided by the underlying server implementation.\r\n\r\nHow the blocking is written is probably different, but what they do in the end, is most likely the same. A `Mono&lt;T&gt;` blocks using a `CountDownLatch` with repeated calls to `getCount` and then inbetween blocks with a call on latch `await` until the response is back. I havn&#39;t looked at the different `HttpClient`s that `RestTemplate` is wrapping, you need to read up on each of them (tomcat, jetty, undertow, etc. etc.)\r\n\r\n&gt; Is there a possibility that the performance would be worse than in case I just use `RestTemplate`?\r\n\r\nThis is *extremely* hard to tell because performance is not black and white. It all depends on hardware, what type of jobs are to be done, how the code is written, thread pool sizes, operating system etc..\r\n\r\n`Netty` is a fully event driven server and it is starting to become the _de facto_ standard of web server in the Java community. [Undertow decided to switch out their entire core to the `netty core`][2], because it was so good, and easier to maintain.\r\n\r\nAs `Netty` is event driven, running it as an _old_ server with one thread per request could hurt performance since it is not optimized for that type of work, but on the other hand when you run it fully event driven it will shine.\r\n\r\nThe only way to answer this, is to do your own benchmarks, we can&#39;t answer that for you.\r\n\r\nIf you want to know more about how netty actually works under the hood a recommend reading the book [_Netty in Action_][3] which is not free but very good read to understand the innerworkings of `Netty` and its `async` threading model.\r\n\r\n\r\n  [1]: https://github.com/reactor/reactor-core/blob/bdbc44a2bd854078b9a035b195c134237f8fce19/reactor-core/src/main/java/reactor/core/publisher/BlockingSingleSubscriber.java#L81\r\n  [2]: https://undertow.io/blog/2019/04/15/Undertow-3.html\r\n  [3]: https://livebook.manning.com/book/netty-in-action/about-this-book/8","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>Since there seems to be misunderstandings i will try to answer the questions to the best of my knowledge.</p>\n<blockquote>\n<p>How safe is it to use <code>.block()</code> and is it ok in general to block threads in <code>WebClient</code>?</p>\n</blockquote>\n<p>Blocking is always <em>safe</em> but whether or not it affects performance is another thing. When a request comes in, it gets assigned a thread. When we do a request using <code>RestTemplate</code> the same thread will do the external request, and <code>RestTemplate</code> will block that thread under the hood in wait for the response.</p>\n<p>This is by no means efficient usage of a thread, but its completely <em>safe</em>, and this is how most web servers in general have been working for the past 20 years.</p>\n<p>When using <code>WebClient</code> in a <em><strong>non</strong>-reactive</em> application and you block a <code>Mono&lt;T&gt;</code> (which you essentially will be doing) the framework will first check that the thread is a type of thread that you are allowed to block (not a <em>nio-thread</em>) and after that it uses a <code>CountDownLatch</code> which pauses/blocks the calling thread at <code>CountDownLatch#await</code> until the first <em>onNext/onComplete/onError</em> signal arrives. This is <strong>completely fine</strong> in a blocking application. You can find the relevant code <a href=\"https://github.com/reactor/reactor-core/blob/bdbc44a2bd854078b9a035b195c134237f8fce19/reactor-core/src/main/java/reactor/core/publisher/BlockingSingleSubscriber.java#L81\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>When you add <code>WebClient</code> to the class path you will automatically get netty as the underlying server, which could be good to know. If you wish to change that out, then you need to be explicit about it.</p>\n<p>Also, it is recommended that if you do multiple requests, then you should chain on as many reactive calls as possible before resorting to <code>block</code>.</p>\n<p>If you want to move over to a reactive application, then this is a very good way of slowly transferring an application, by slowly doing more and more reactive stuff and then calling <code>block</code> to return to the <em>regular</em> world.</p>\n<p>Are you fully reactive? no, are you a blocking web server like before, well yes. Is it worse that <code>RestTemplate</code> most likely not. Are you better than before, from a maintenance standpoint, yes since spring has officially gone out with that there is not going to be any more updates to <code>RestTemplate</code>.</p>\n<blockquote>\n<p>Is the mechanics behind blocking calls with <code>WebClient</code> similar to what <code>RestTemplate</code> does?</p>\n</blockquote>\n<p>Well this is hard to tell, because <code>RestTemplate</code> is mainly just a wrapper around the <code>HttpClient</code> provided by the underlying server implementation.</p>\n<p>How the blocking is written is probably different, but what they do in the end, is most likely the same. A <code>Mono&lt;T&gt;</code> blocks using a <code>CountDownLatch</code> with repeated calls to <code>getCount</code> and then inbetween blocks with a call on latch <code>await</code> until the response is back. I havn't looked at the different <code>HttpClient</code>s that <code>RestTemplate</code> is wrapping, you need to read up on each of them (tomcat, jetty, undertow, etc. etc.)</p>\n<blockquote>\n<p>Is there a possibility that the performance would be worse than in case I just use <code>RestTemplate</code>?</p>\n</blockquote>\n<p>This is <em>extremely</em> hard to tell because performance is not black and white. It all depends on hardware, what type of jobs are to be done, how the code is written, thread pool sizes, operating system etc..</p>\n<p><code>Netty</code> is a fully event driven server and it is starting to become the <em>de facto</em> standard of web server in the Java community. <a href=\"https://undertow.io/blog/2019/04/15/Undertow-3.html\" rel=\"nofollow noreferrer\">Undertow decided to switch out their entire core to the <code>netty core</code></a>, because it was so good, and easier to maintain.</p>\n<p>As <code>Netty</code> is event driven, running it as an <em>old</em> server with one thread per request could hurt performance since it is not optimized for that type of work, but on the other hand when you run it fully event driven it will shine.</p>\n<p>The only way to answer this, is to do your own benchmarks, we can't answer that for you.</p>\n<p>If you want to know more about how netty actually works under the hood a recommend reading the book <a href=\"https://livebook.manning.com/book/netty-in-action/about-this-book/8\" rel=\"nofollow noreferrer\"><em>Netty in Action</em></a> which is not free but very good read to understand the innerworkings of <code>Netty</code> and its <code>async</code> threading model.</p>\n"},{"tags":[],"owner":{"account_id":12545853,"reputation":111,"user_id":9129204,"display_name":"Abdessamad ABOUKDIR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675597840,"creation_date":1675597840,"answer_id":75352006,"question_id":71128020,"body_markdown":"It is worth adding to the previous responses that if you want to use webClient in a blocking way while using only `spring-boot-starter-webflux` dependency, will throw an exception like `block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3`, so in order to use Webclient in a blocking way you need to configure a spring MVC application by adding spring-boot-starter-web as stated in the documentation [Web Environment][1]:\r\n\r\n&gt; A SpringApplication attempts to create the right type of\r\n&gt; ApplicationContext on your behalf. The algorithm used to determine a\r\n&gt; WebApplicationType is the following:\r\n&gt; \r\n&gt; If Spring MVC is present, an\r\n&gt; AnnotationConfigServletWebServerApplicationContext is used\r\n&gt; \r\n&gt; If Spring MVC is not present and Spring WebFlux is present, an\r\n&gt; AnnotationConfigReactiveWebServerApplicationContext is used\r\n&gt; \r\n&gt; Otherwise, AnnotationConfigApplicationContext is used\r\n&gt; \r\n&gt; This means that if you are using Spring MVC and the new WebClient from\r\n&gt; Spring WebFlux in the same application, Spring MVC will be used by\r\n&gt; default. You can override that easily by calling\r\n&gt; setWebApplicationType(WebApplicationType).\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>It is worth adding to the previous responses that if you want to use webClient in a blocking way while using only <code>spring-boot-starter-webflux</code> dependency, will throw an exception like <code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-3</code>, so in order to use Webclient in a blocking way you need to configure a spring MVC application by adding spring-boot-starter-web as stated in the documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.web-environment\" rel=\"nofollow noreferrer\">Web Environment</a>:</p>\n<blockquote>\n<p>A SpringApplication attempts to create the right type of\nApplicationContext on your behalf. The algorithm used to determine a\nWebApplicationType is the following:</p>\n<p>If Spring MVC is present, an\nAnnotationConfigServletWebServerApplicationContext is used</p>\n<p>If Spring MVC is not present and Spring WebFlux is present, an\nAnnotationConfigReactiveWebServerApplicationContext is used</p>\n<p>Otherwise, AnnotationConfigApplicationContext is used</p>\n<p>This means that if you are using Spring MVC and the new WebClient from\nSpring WebFlux in the same application, Spring MVC will be used by\ndefault. You can override that easily by calling\nsetWebApplicationType(WebApplicationType).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3544458,"reputation":3170,"user_id":2960776,"display_name":"Aman Garg"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690530674,"creation_date":1690530674,"answer_id":76785802,"question_id":71128020,"body_markdown":"`RestTemplate` and `WebClient` are both popular libraries in the Java ecosystem used for making HTTP requests, particularly in Spring-based applications. They serve the same purpose of communicating with RESTful APIs or other HTTP-based services, but they have different designs and characteristics. Here are some key differences between them:\r\n\r\n1. **Synchronous vs. Asynchronous**:\r\n   - `RestTemplate`: It is a synchronous HTTP client, meaning that when you make a request, the thread making the request will wait until the response is received before proceeding further. This can potentially lead to blocking and decreased application performance in scenarios where you have high concurrency or slow network connections.\r\n   - `WebClient`: It is an asynchronous HTTP client introduced in Spring WebFlux, which is built on top of Project Reactor. It allows you to make non-blocking, asynchronous requests, making it more suitable for high-concurrency scenarios and reactive programming.\r\n\r\n2. **Reactive Support**:\r\n   - `RestTemplate`: It does not natively support reactive programming. If you want to use reactive features, you would need to wrap the `RestTemplate` calls in reactive code using `Mono` or `Flux` (from Reactor).\r\n   - `WebClient`: It is designed with reactive support from the ground up. It returns reactive types like `Mono` and `Flux` directly, which can seamlessly integrate with other reactive components in Spring WebFlux.\r\n\r\n3. **Dependencies**:\r\n   - `RestTemplate`: It is part of the Spring Web module, which means it is available in applications using Spring MVC (Servlet-based) or Spring Boot with traditional servlet containers.\r\n   - `WebClient`: It is also part of the Spring WebFlux module. To use `WebClient`, you need to have Spring WebFlux on your classpath. Spring WebFlux is designed for building reactive, non-blocking applications and can be used with servlet containers or Netty.\r\n\r\n4. **Ease of Use**:\r\n   - `RestTemplate`: It has been available since older versions of Spring and is widely used in many projects. Its API is more familiar and might be easier to start with for developers already familiar with traditional synchronous programming.\r\n   - `WebClient`: The API of `WebClient` might feel a bit more complex due to its reactive nature, especially if you&#39;re not familiar with reactive programming concepts. However, it provides powerful and flexible features for reactive applications.\r\n\r\n5. **Future Development**:\r\n   - `RestTemplate`: Since Spring WebFlux and `WebClient` are part of Spring&#39;s reactive ecosystem, it is likely that future enhancements and features will be more focused on `WebClient`, and `RestTemplate` might become less prominent over time.\r\n   - `WebClient`: It is the recommended choice for building reactive applications with Spring WebFlux. As such, it is more likely to receive ongoing improvements and optimizations.\r\n\r\nIn summary, if you are working on a traditional Spring MVC application and don&#39;t require reactive programming, `RestTemplate` could be a straightforward choice. However, if you are building a reactive application with Spring WebFlux, or if you need non-blocking, asynchronous behavior, `WebClient` is the more appropriate option.","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p><code>RestTemplate</code> and <code>WebClient</code> are both popular libraries in the Java ecosystem used for making HTTP requests, particularly in Spring-based applications. They serve the same purpose of communicating with RESTful APIs or other HTTP-based services, but they have different designs and characteristics. Here are some key differences between them:</p>\n<ol>\n<li><p><strong>Synchronous vs. Asynchronous</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It is a synchronous HTTP client, meaning that when you make a request, the thread making the request will wait until the response is received before proceeding further. This can potentially lead to blocking and decreased application performance in scenarios where you have high concurrency or slow network connections.</li>\n<li><code>WebClient</code>: It is an asynchronous HTTP client introduced in Spring WebFlux, which is built on top of Project Reactor. It allows you to make non-blocking, asynchronous requests, making it more suitable for high-concurrency scenarios and reactive programming.</li>\n</ul>\n</li>\n<li><p><strong>Reactive Support</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It does not natively support reactive programming. If you want to use reactive features, you would need to wrap the <code>RestTemplate</code> calls in reactive code using <code>Mono</code> or <code>Flux</code> (from Reactor).</li>\n<li><code>WebClient</code>: It is designed with reactive support from the ground up. It returns reactive types like <code>Mono</code> and <code>Flux</code> directly, which can seamlessly integrate with other reactive components in Spring WebFlux.</li>\n</ul>\n</li>\n<li><p><strong>Dependencies</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It is part of the Spring Web module, which means it is available in applications using Spring MVC (Servlet-based) or Spring Boot with traditional servlet containers.</li>\n<li><code>WebClient</code>: It is also part of the Spring WebFlux module. To use <code>WebClient</code>, you need to have Spring WebFlux on your classpath. Spring WebFlux is designed for building reactive, non-blocking applications and can be used with servlet containers or Netty.</li>\n</ul>\n</li>\n<li><p><strong>Ease of Use</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: It has been available since older versions of Spring and is widely used in many projects. Its API is more familiar and might be easier to start with for developers already familiar with traditional synchronous programming.</li>\n<li><code>WebClient</code>: The API of <code>WebClient</code> might feel a bit more complex due to its reactive nature, especially if you're not familiar with reactive programming concepts. However, it provides powerful and flexible features for reactive applications.</li>\n</ul>\n</li>\n<li><p><strong>Future Development</strong>:</p>\n<ul>\n<li><code>RestTemplate</code>: Since Spring WebFlux and <code>WebClient</code> are part of Spring's reactive ecosystem, it is likely that future enhancements and features will be more focused on <code>WebClient</code>, and <code>RestTemplate</code> might become less prominent over time.</li>\n<li><code>WebClient</code>: It is the recommended choice for building reactive applications with Spring WebFlux. As such, it is more likely to receive ongoing improvements and optimizations.</li>\n</ul>\n</li>\n</ol>\n<p>In summary, if you are working on a traditional Spring MVC application and don't require reactive programming, <code>RestTemplate</code> could be a straightforward choice. However, if you are building a reactive application with Spring WebFlux, or if you need non-blocking, asynchronous behavior, <code>WebClient</code> is the more appropriate option.</p>\n"}],"owner":{"account_id":24264882,"reputation":43,"user_id":18213932,"display_name":"tracer_13"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5188,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71140806,"answer_count":4,"score":4,"last_activity_date":1690530674,"creation_date":1644934631,"question_id":71128020,"body_markdown":"Sorry if this was asked before, but I didn&#39;t find a matching question. \r\n\r\nI have an application that performs api calls to other services. I&#39;m thinking of using `WebClient` over `RestTemplate` as it&#39;s advised by Spring. I&#39;m performing exclusively Synchronous HTTP calls. \r\n\r\nI know `WebClient` is designed with Reactive approach in mind, but in theory: Is it ok to use `WebClient` solely for blocking calls? I&#39;m concerned by the fact that I have to call `.block()` on each call to get the data. So my questions are:\r\n\r\n1. How safe is it to use `.block()` and is it ok in general to block threads in `WebClient`? \r\n2. Is the mechanics behind blocking calls with `WebClient` similar to what `RestTemplate` does?\r\n3. Is there a possibility that the performance would be worse than in case I just use `RestTemplate`? \r\n\r\nThanks in advance!","title":"Spring RestTemplate vs WebClient for sync requests","body":"<p>Sorry if this was asked before, but I didn't find a matching question.</p>\n<p>I have an application that performs api calls to other services. I'm thinking of using <code>WebClient</code> over <code>RestTemplate</code> as it's advised by Spring. I'm performing exclusively Synchronous HTTP calls.</p>\n<p>I know <code>WebClient</code> is designed with Reactive approach in mind, but in theory: Is it ok to use <code>WebClient</code> solely for blocking calls? I'm concerned by the fact that I have to call <code>.block()</code> on each call to get the data. So my questions are:</p>\n<ol>\n<li>How safe is it to use <code>.block()</code> and is it ok in general to block threads in <code>WebClient</code>?</li>\n<li>Is the mechanics behind blocking calls with <code>WebClient</code> similar to what <code>RestTemplate</code> does?</li>\n<li>Is there a possibility that the performance would be worse than in case I just use <code>RestTemplate</code>?</li>\n</ol>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","sqslistener"],"owner":{"account_id":28730357,"reputation":73,"user_id":22002449,"display_name":"dracile"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690530568,"creation_date":1690465621,"question_id":76780404,"body_markdown":"I&#39;m working on Spring Boot project. Is there any other way for handling sqs queues than multiple application properties file for every environment?","title":"Any other way of using sqs queues for different environments other than multiple application.properties in spring boot?","body":"<p>I'm working on Spring Boot project. Is there any other way for handling sqs queues than multiple application properties file for every environment?</p>\n"},{"tags":["java","eclipse"],"answers":[{"tags":[],"owner":{"account_id":244375,"reputation":4205,"user_id":517134,"accept_rate":100,"display_name":"Yusuf K."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459768171,"creation_date":1459768171,"answer_id":36400996,"question_id":36400614,"body_markdown":"Have a look [here][1] to try it with [Reflection API][2]\r\n\r\nor maybe you want to change your method to use ellipses(...) as;\r\n\r\n    void myMethod(Object... params){\r\n    \t\tStringBuilder strBuilder = new StringBuilder();\r\n    \t\tstrBuilder.append(&quot;myMethod() - [&quot;);\r\n    \t\tfor (int i=0; i&lt;params.length; i++) {\r\n    \t\t\tstrBuilder.append(&quot;param&quot;+(i+1)+&quot;: &quot;+params[i]+&quot;,&quot;);\r\n    \t\t}\r\n    \t\tstrBuilder.deleteCharAt(strBuilder.length()-1); //last comma deleted\r\n    \t\tstrBuilder.append(&quot;]&quot;);\r\n            logger.info(strBuilder.toString());\r\n    \r\n       }\r\n\r\n  [1]: https://stackoverflow.com/a/3602544/517134\r\n  [2]: https://stackoverflow.com/q/37628/517134","title":"How to iterate over a method parameters in an eclipse template?","body":"<p>Have a look <a href=\"https://stackoverflow.com/a/3602544/517134\">here</a> to try it with <a href=\"https://stackoverflow.com/q/37628/517134\">Reflection API</a></p>\n\n<p>or maybe you want to change your method to use ellipses(...) as;</p>\n\n<pre><code>void myMethod(Object... params){\n        StringBuilder strBuilder = new StringBuilder();\n        strBuilder.append(\"myMethod() - [\");\n        for (int i=0; i&lt;params.length; i++) {\n            strBuilder.append(\"param\"+(i+1)+\": \"+params[i]+\",\");\n        }\n        strBuilder.deleteCharAt(strBuilder.length()-1); //last comma deleted\n        strBuilder.append(\"]\");\n        logger.info(strBuilder.toString());\n\n   }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4425243,"reputation":798,"user_id":3603889,"accept_rate":53,"display_name":"chrisblo"},"score":0,"creation_date":1459773246,"post_id":36402236,"comment_id":60421812,"body_markdown":"Yes, thank you, this is what I wanted, but I prefer not to use external libraries.","body":"Yes, thank you, this is what I wanted, but I prefer not to use external libraries."}],"tags":[],"owner":{"account_id":7852006,"reputation":2536,"user_id":5935221,"display_name":"nyname00"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1459771741,"creation_date":1459771741,"answer_id":36402236,"question_id":36400614,"body_markdown":"I don&#39;t think this is possible using only templates (unless you want to start parsing the generated string). \r\n\r\nTake a look at this Eclipse plugin https://github.com/dernasherbrezon/eclipse-log-param. It should be able to produce (something close to) the desired result.\r\n\r\n*Note*: haven&#39;t tried it myself.","title":"How to iterate over a method parameters in an eclipse template?","body":"<p>I don't think this is possible using only templates (unless you want to start parsing the generated string). </p>\n\n<p>Take a look at this Eclipse plugin <a href=\"https://github.com/dernasherbrezon/eclipse-log-param\" rel=\"nofollow\">https://github.com/dernasherbrezon/eclipse-log-param</a>. It should be able to produce (something close to) the desired result.</p>\n\n<p><em>Note</em>: haven't tried it myself.</p>\n"},{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690529944,"creation_date":1690529944,"answer_id":76785726,"question_id":36400614,"body_markdown":"Best I could do with only Eclipse templates is this:\r\n\r\n    System.out.println(&quot;[FINE] ${enclosing_type}.${enclosing_method}(${enclosing_method_arguments}) = &quot; + Stream.of(${enclosing_method_arguments}).map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\r\n\r\nThis creates something like:\r\n\r\n    private void updateRenderScales(double sx, double sy) {\r\n        System.out.println(&quot;[FINE] Window.updateRenderScales(sx, sy) = &quot; + Stream.of(sx, sy).map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\r\n    }\r\n\r\n","title":"How to iterate over a method parameters in an eclipse template?","body":"<p>Best I could do with only Eclipse templates is this:</p>\n<pre><code>System.out.println(&quot;[FINE] ${enclosing_type}.${enclosing_method}(${enclosing_method_arguments}) = &quot; + Stream.of(${enclosing_method_arguments}).map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\n</code></pre>\n<p>This creates something like:</p>\n<pre><code>private void updateRenderScales(double sx, double sy) {\n    System.out.println(&quot;[FINE] Window.updateRenderScales(sx, sy) = &quot; + Stream.of(sx, sy).map(Object::toString).collect(Collectors.joining(&quot;, &quot;)));\n}\n</code></pre>\n"}],"owner":{"account_id":4425243,"reputation":798,"user_id":3603889,"accept_rate":53,"display_name":"chrisblo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36402236,"answer_count":3,"score":0,"last_activity_date":1690529944,"creation_date":1459767058,"question_id":36400614,"body_markdown":"I want to create a template in Eclipse for printing a log starting from the method signature in the following way:\r\n\r\n    \r\n\r\n        void myMethod(Type1 param1, Type2 param2){\r\n            \r\n             logger.info(&quot;myMethod() - [param1: &quot; + param1 + &quot;, param2: &quot; + param2 + &quot;]&quot;);\r\n            \r\n        }\r\n\r\nI tried to use the `${enclosing_method_arguments}` variable, but I cannot find yet a solution.","title":"How to iterate over a method parameters in an eclipse template?","body":"<p>I want to create a template in Eclipse for printing a log starting from the method signature in the following way:</p>\n\n<pre><code>    void myMethod(Type1 param1, Type2 param2){\n\n         logger.info(\"myMethod() - [param1: \" + param1 + \", param2: \" + param2 + \"]\");\n\n    }\n</code></pre>\n\n<p>I tried to use the <code>${enclosing_method_arguments}</code> variable, but I cannot find yet a solution.</p>\n"},{"tags":["java","jdbc","cnosdb"],"comments":[{"owner":{"account_id":27971562,"reputation":129,"user_id":21361176,"display_name":"cosmic"},"score":0,"creation_date":1688699294,"post_id":76633587,"comment_id":135111940,"body_markdown":"Please see https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception","body":"Please see <a href=\"https://stackoverflow.com/questions/17408769/how-do-i-resolve-classnotfoundexception\" title=\"how do i resolve classnotfoundexception\">stackoverflow.com/questions/17408769/&hellip;</a>"}],"owner":{"account_id":18058869,"reputation":196,"user_id":13126484,"display_name":"ZuoTiJia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690529311,"creation_date":1688696795,"question_id":76633587,"body_markdown":"I use JDBC to connect to CnosDB according to the official website [documentation](https://docs.cnosdb.com/en/latest/reference/connector/arrow_flight_sql.html).\r\n\r\n\r\nIt seems that I can&#39;t compile the project.\r\n\r\nHere is my project structure:\r\n```\r\n├── pom.xml\r\n└── src\r\n    ├── main\r\n    │&#160;&#160; ├── java\r\n    │&#160;&#160; │&#160;&#160; └── org\r\n    │&#160;&#160; │&#160;&#160;     └── example\r\n    │&#160;&#160; │&#160;&#160;         └── Main.java\r\n    │&#160;&#160; └── resources\r\n    └── test\r\n        └── java\r\n```\r\n\r\npom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;arrow-flight-jdbc&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.arrow/arrow-jdbc --&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\r\n            &lt;artifactId&gt;arrow-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.arrow/flight-sql-jdbc-driver --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flight-sql-jdbc-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMain.java\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.sql.*;\r\nimport java.util.Properties;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        final Properties properties = new Properties();\r\n        properties.put(&quot;user&quot;, &quot;root&quot;);\r\n        properties.put(&quot;password&quot;, &quot;&quot;);\r\n        properties.put(&quot;tenant&quot;, &quot;cnosdb&quot;);\r\n        properties.put(&quot;useEncryption&quot;, false);\r\n        properties.put(&quot;database&quot;, &quot;public&quot;);\r\n        try (\r\n                Connection connection = DriverManager.getConnection(\r\n                &quot;jdbc:arrow-flight-sql://127.0.0.1:8904&quot;, properties\r\n                );\r\n                Statement statement = connection.createStatement())\r\n        {\r\n            statement.execute(&quot;CREATE TABLE IF NOT EXISTS air\\n&quot; +\r\n                    &quot;(\\n&quot; +\r\n                    &quot;    visibility  DOUBLE,\\n&quot; +\r\n                    &quot;    temperature DOUBLE,\\n&quot; +\r\n                    &quot;    pressure    DOUBLE,\\n&quot; +\r\n                    &quot;    TAGS(station)\\n&quot; +\r\n                    &quot;);&quot;);\r\n            statement.executeUpdate(&quot;INSERT INTO air (time, station, visibility, temperature, pressure) VALUES\\n&quot; +\r\n                    &quot;    (1666165200290401000, &#39;XiaoMaiDao&#39;, 56, 69, 77);&quot;);\r\n            ResultSet resultSet = statement.executeQuery(&quot;select * from air limit 1;&quot;);\r\n\r\n            while (resultSet.next()) {\r\n                Timestamp column1 = resultSet.getTimestamp(1);\r\n                String column2 = resultSet.getString(2);\r\n                Double column3 = resultSet.getDouble(3);\r\n                Double column4 = resultSet.getDouble(4);\r\n                Double column5 = resultSet.getDouble(5);\r\n                System.out.printf(&quot;%s %s %f %f %f\\n&quot;, column1, column2, column3, column4, column5);\r\n            }\r\n        } catch (SQLException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nI try to run the following command\r\n```shell\r\n_JAVA_OPTIONS=&quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; mvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot;\r\n```\r\n\r\nBut throws the following error\r\n\r\n&gt; [WARNING]\r\n&gt; java.lang.ClassNotFoundException: org.example.Main\r\n    at org.codehaus.mojo.exec.URLClassLoaderBuilder$ExecJavaClassLoader.loadClass (URLClassLoaderBuilder.java:198)\r\n    at java.lang.ClassLoader.loadClass (ClassLoader.java:521)\r\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:271)\r\n    at java.lang.Thread.run (Thread.java:1623)\r\n&gt; [INFO] ------------------------------------------------------------------------\r\n&gt; [INFO] BUILD FAILURE\r\n&gt; [INFO] ------------------------------------------------------------------------\r\n&gt; [INFO] Total time:  0.557 s\r\n&gt; [INFO] Finished at: 2023-07-07T10:08:51+08:00\r\n&gt; [INFO] ------------------------------------------------------------------------\r\n&gt; [ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:java (default-cli) on project arrow-flight-jdbc: An exception occurred while executing the Java class. org.example.Main -&gt; [Help 1]\r\n&gt; [ERROR]\r\n&gt; [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n&gt; [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n&gt; [ERROR]\r\n&gt; [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n&gt; [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\nHow can I connect to CnosDB?","title":"How to use JDBC to connect to CnosDB","body":"<p>I use JDBC to connect to CnosDB according to the official website <a href=\"https://docs.cnosdb.com/en/latest/reference/connector/arrow_flight_sql.html\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>It seems that I can't compile the project.</p>\n<p>Here is my project structure:</p>\n<pre><code>├── pom.xml\n└── src\n    ├── main\n    │   ├── java\n    │   │   └── org\n    │   │       └── example\n    │   │           └── Main.java\n    │   └── resources\n    └── test\n        └── java\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;arrow-flight-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;19&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;19&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.arrow/arrow-jdbc --&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\n            &lt;artifactId&gt;arrow-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.arrow/flight-sql-jdbc-driver --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.arrow&lt;/groupId&gt;\n            &lt;artifactId&gt;flight-sql-jdbc-driver&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Main.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.sql.*;\nimport java.util.Properties;\n\npublic class Main {\n    public static void main(String[] args) {\n        final Properties properties = new Properties();\n        properties.put(&quot;user&quot;, &quot;root&quot;);\n        properties.put(&quot;password&quot;, &quot;&quot;);\n        properties.put(&quot;tenant&quot;, &quot;cnosdb&quot;);\n        properties.put(&quot;useEncryption&quot;, false);\n        properties.put(&quot;database&quot;, &quot;public&quot;);\n        try (\n                Connection connection = DriverManager.getConnection(\n                &quot;jdbc:arrow-flight-sql://127.0.0.1:8904&quot;, properties\n                );\n                Statement statement = connection.createStatement())\n        {\n            statement.execute(&quot;CREATE TABLE IF NOT EXISTS air\\n&quot; +\n                    &quot;(\\n&quot; +\n                    &quot;    visibility  DOUBLE,\\n&quot; +\n                    &quot;    temperature DOUBLE,\\n&quot; +\n                    &quot;    pressure    DOUBLE,\\n&quot; +\n                    &quot;    TAGS(station)\\n&quot; +\n                    &quot;);&quot;);\n            statement.executeUpdate(&quot;INSERT INTO air (time, station, visibility, temperature, pressure) VALUES\\n&quot; +\n                    &quot;    (1666165200290401000, 'XiaoMaiDao', 56, 69, 77);&quot;);\n            ResultSet resultSet = statement.executeQuery(&quot;select * from air limit 1;&quot;);\n\n            while (resultSet.next()) {\n                Timestamp column1 = resultSet.getTimestamp(1);\n                String column2 = resultSet.getString(2);\n                Double column3 = resultSet.getDouble(3);\n                Double column4 = resultSet.getDouble(4);\n                Double column5 = resultSet.getDouble(5);\n                System.out.printf(&quot;%s %s %f %f %f\\n&quot;, column1, column2, column3, column4, column5);\n            }\n        } catch (SQLException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>I try to run the following command</p>\n<pre class=\"lang-bash prettyprint-override\"><code>_JAVA_OPTIONS=&quot;--add-opens=java.base/java.nio=ALL-UNNAMED&quot; mvn exec:java -Dexec.mainClass=&quot;org.example.Main&quot;\n</code></pre>\n<p>But throws the following error</p>\n<blockquote>\n<p>[WARNING]\njava.lang.ClassNotFoundException: org.example.Main\nat org.codehaus.mojo.exec.URLClassLoaderBuilder$ExecJavaClassLoader.loadClass (URLClassLoaderBuilder.java:198)\nat java.lang.ClassLoader.loadClass (ClassLoader.java:521)\nat org.codehaus.mojo.exec.ExecJavaMojo$1.run (ExecJavaMojo.java:271)\nat java.lang.Thread.run (Thread.java:1623)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.557 s\n[INFO] Finished at: 2023-07-07T10:08:51+08:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.1.0:java (default-cli) on project arrow-flight-jdbc: An exception occurred while executing the Java class. org.example.Main -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] <a href=\"http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\" rel=\"nofollow noreferrer\">http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException</a></p>\n</blockquote>\n<p>How can I connect to CnosDB?</p>\n"},{"tags":["java","jdbc","cnosdb"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1690194908,"post_id":76753567,"comment_id":135314606,"body_markdown":"for all we know, the data was already in the db, and duplicates are not allowed","body":"for all we know, the data was already in the db, and duplicates are not allowed"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1690196006,"post_id":76753567,"comment_id":135314832,"body_markdown":"Do you have autocommit turned on? Are you sure?","body":"Do you have autocommit turned on? Are you sure?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":1,"creation_date":1690196832,"post_id":76753567,"comment_id":135314980,"body_markdown":"Did you check a database driver version?","body":"Did you check a database driver version?"},{"owner":{"account_id":19518277,"reputation":143,"user_id":14280692,"display_name":"Baker X"},"score":0,"creation_date":1690263278,"post_id":76753567,"comment_id":135324864,"body_markdown":"@RomanC jdbc version: arrow-jdbc:10.0.1  flight-sql-jdbc-driver:10.0.1","body":"@RomanC jdbc version: arrow-jdbc:10.0.1  flight-sql-jdbc-driver:10.0.1"},{"owner":{"account_id":19518277,"reputation":143,"user_id":14280692,"display_name":"Baker X"},"score":0,"creation_date":1690263369,"post_id":76753567,"comment_id":135324880,"body_markdown":"@Stultuske before I insert data, the database was empty.","body":"@Stultuske before I insert data, the database was empty."},{"owner":{"account_id":19518277,"reputation":143,"user_id":14280692,"display_name":"Baker X"},"score":0,"creation_date":1690263536,"post_id":76753567,"comment_id":135324904,"body_markdown":"@ElliottFrisch autocommit was turned on by default, I never change it;","body":"@ElliottFrisch autocommit was turned on by default, I never change it;"}],"answers":[{"tags":[],"owner":{"account_id":18058869,"reputation":196,"user_id":13126484,"display_name":"ZuoTiJia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690266467,"creation_date":1690266467,"answer_id":76759965,"question_id":76753567,"body_markdown":"Currently cnosdb-flight-sql is not fully implemented.","title":"I write data to cnosdb through jdbc, and the data writing is successful, but the returned interface is not the number of rows but -1. What&#39;s going on?","body":"<p>Currently cnosdb-flight-sql is not fully implemented.</p>\n"}],"owner":{"account_id":19518277,"reputation":143,"user_id":14280692,"display_name":"Baker X"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76759965,"answer_count":1,"score":0,"last_activity_date":1690529261,"creation_date":1690194379,"question_id":76753567,"body_markdown":"I write data to cnosdb through jdbc, and the data writing is successful, but the returned interface is not the number of rows but -1. What&#39;s going on?My code as follow:\r\n\r\nstep:\r\n\r\n1. creat a database;\r\n\r\n   ```\r\n   boolean rs002 = stmt.execute(&quot;CREATE DATABASE tc_between WITH TTL &#39;100000d&#39;;&quot;);\r\n           assertFalse(rs002);\r\n   ```\r\n\r\n2. create table;\r\n\r\n   ```\r\n   boolean rs004 = stmt001.execute(&quot;CREATE TABLE IF NOT EXISTS m2(f0 BIGINT UNSIGNED, f1 BIGINT, TAGS(t0, t1));&quot;);\r\n           assertFalse(rs004);\r\n   ```\r\n\r\n3. insert data in tables;\r\n\r\n   ```\r\n   \r\n   \r\n           int rs005 = stmt001.executeUpdate(&quot;INSERT m2(TIME, t0, f0, t1, f1) VALUES(CAST (1672301798050000000 AS TIMESTAMP), &#39;Ig.UZ&#39;, 531136669299148225, &#39;nA4C3DH~B &#39;, 9223372036854775807),(CAST (1672301798060000000 AS TIMESTAMP), &#39;263356943&#39;, 1040920791041719924, &#39;&#39;, -9223372036854775807),(CAST (1672301798070000000 AS TIMESTAMP), &#39;1040920791041719924&#39;, 442061994865016078, &#39;gE1B7c.&#39;, 0);&quot;);\r\n           System.out.println(rs005);\r\n           int rs006 = stmt001.executeUpdate(&quot;INSERT m2(TIME, t0, f0, t1, f1) VALUES(CAST (3031647407609562138 AS TIMESTAMP), &#39;1D75h&#39;, 4166390262642105876, &#39;7ua&#39;, 0.0),(CAST (1079616064603730664 AS TIMESTAMP), &#39;}&#39;, 7806435932478031652, &#39;EA26qy&#39;, 23.456), (CAST (263356943 AS TIMESTAMP), &#39;0.6287658423307444&#39;, 5466573340614276155, &#39;,JC51Fh&#39;, -23.456), (CAST (1742494251700243812 AS TIMESTAMP), &#39;#f^uE1B7KruC7BFz&#39;, 196790207, &#39;aF&#39;, 0.123);&quot;);\r\n           assertEquals(4, rs006);\r\n           int rs007 = stmt001.executeUpdate(&quot;INSERT m2(TIME, t0, f0, t1, f1) VALUES(CAST (3584132160280509277 AS TIMESTAMP), &#39;&#39;, 4132058214182166915, &#39;V*1lE/&#39;, -0.123);&quot;);\r\n           assertEquals(1, rs007);\r\n           ResultSet rs008 = stmt001.executeQuery(&quot;SELECT m2.f0 FROM m2 WHERE CAST(0 AS STRING) BETWEEN (CAST( starts_with(m2.t0, m2.t1) AS STRING)) AND (m2.t1);&quot;);\r\n           rs008.next();\r\n           System.out.println(rs008.getString(1));\r\n           stmt001.close();\r\n           conn001.close();\r\n   ```\r\n\r\nthe logs as follow:\r\n\r\n```\r\n[ERROR]   AppTest.test_Jdbc_betweensql:66 expected:&lt;4&gt; but was:&lt;-1&gt;\r\n```\r\n\r\nand then check the cnosdb info, as follow:\r\n\r\n```\r\nlog 2\r\n```\r\n\r\n```\r\ntc_between ❯ select * from m2;\r\n+-------------------------------+---------------------+------------+---------------------+----------------------+\r\n\r\n| time                          | t0                  | t1         | f0                  | f1                   |\r\n+-------------------------------+---------------------+------------+---------------------+----------------------+\r\n| 2025-03-20T18:10:51.700243812 | #f^uE1B7KruC7BFz    | aF         | 196790207           | 0                    |\r\n| 2004-03-18T13:21:04.603730664 | }                   | EA26qy     | 7806435932478031652 | 23                   |\r\n| 2066-01-25T12:16:47.609562138 | 1D75h               | 7ua        | 4166390262642105876 | 0                    |\r\n| 2022-12-29T08:16:38.070       | 1040920791041719924 | gE1B7c.    | 442061994865016078  | 0                    |\r\n| 1970-01-01T00:00:00.263356943 | 0.6287658423307444  | ,JC51Fh    | 5466573340614276155 | -23                  |\r\n| 2022-12-29T08:16:38.050       | Ig.UZ               | nA4C3DH~B  | 531136669299148225  | 9223372036854775807  |\r\n| 2022-12-29T08:16:38.060       | 263356943           |            | 1040920791041719924 | -9223372036854775807 |\r\n+-------------------------------+---------------------+------------+---------------------+----------------------+\r\nQuery took 0.100 seconds.\r\n```","title":"I write data to cnosdb through jdbc, and the data writing is successful, but the returned interface is not the number of rows but -1. What&#39;s going on?","body":"<p>I write data to cnosdb through jdbc, and the data writing is successful, but the returned interface is not the number of rows but -1. What's going on?My code as follow:</p>\n<p>step:</p>\n<ol>\n<li><p>creat a database;</p>\n<pre><code>boolean rs002 = stmt.execute(&quot;CREATE DATABASE tc_between WITH TTL '100000d';&quot;);\n        assertFalse(rs002);\n</code></pre>\n</li>\n<li><p>create table;</p>\n<pre><code>boolean rs004 = stmt001.execute(&quot;CREATE TABLE IF NOT EXISTS m2(f0 BIGINT UNSIGNED, f1 BIGINT, TAGS(t0, t1));&quot;);\n        assertFalse(rs004);\n</code></pre>\n</li>\n<li><p>insert data in tables;</p>\n<pre><code>\n\n        int rs005 = stmt001.executeUpdate(&quot;INSERT m2(TIME, t0, f0, t1, f1) VALUES(CAST (1672301798050000000 AS TIMESTAMP), 'Ig.UZ', 531136669299148225, 'nA4C3DH~B ', 9223372036854775807),(CAST (1672301798060000000 AS TIMESTAMP), '263356943', 1040920791041719924, '', -9223372036854775807),(CAST (1672301798070000000 AS TIMESTAMP), '1040920791041719924', 442061994865016078, 'gE1B7c.', 0);&quot;);\n        System.out.println(rs005);\n        int rs006 = stmt001.executeUpdate(&quot;INSERT m2(TIME, t0, f0, t1, f1) VALUES(CAST (3031647407609562138 AS TIMESTAMP), '1D75h', 4166390262642105876, '7ua', 0.0),(CAST (1079616064603730664 AS TIMESTAMP), '}', 7806435932478031652, 'EA26qy', 23.456), (CAST (263356943 AS TIMESTAMP), '0.6287658423307444', 5466573340614276155, ',JC51Fh', -23.456), (CAST (1742494251700243812 AS TIMESTAMP), '#f^uE1B7KruC7BFz', 196790207, 'aF', 0.123);&quot;);\n        assertEquals(4, rs006);\n        int rs007 = stmt001.executeUpdate(&quot;INSERT m2(TIME, t0, f0, t1, f1) VALUES(CAST (3584132160280509277 AS TIMESTAMP), '', 4132058214182166915, 'V*1lE/', -0.123);&quot;);\n        assertEquals(1, rs007);\n        ResultSet rs008 = stmt001.executeQuery(&quot;SELECT m2.f0 FROM m2 WHERE CAST(0 AS STRING) BETWEEN (CAST( starts_with(m2.t0, m2.t1) AS STRING)) AND (m2.t1);&quot;);\n        rs008.next();\n        System.out.println(rs008.getString(1));\n        stmt001.close();\n        conn001.close();\n</code></pre>\n</li>\n</ol>\n<p>the logs as follow:</p>\n<pre><code>[ERROR]   AppTest.test_Jdbc_betweensql:66 expected:&lt;4&gt; but was:&lt;-1&gt;\n</code></pre>\n<p>and then check the cnosdb info, as follow:</p>\n<pre><code>log 2\n</code></pre>\n<pre><code>tc_between ❯ select * from m2;\n+-------------------------------+---------------------+------------+---------------------+----------------------+\n\n| time                          | t0                  | t1         | f0                  | f1                   |\n+-------------------------------+---------------------+------------+---------------------+----------------------+\n| 2025-03-20T18:10:51.700243812 | #f^uE1B7KruC7BFz    | aF         | 196790207           | 0                    |\n| 2004-03-18T13:21:04.603730664 | }                   | EA26qy     | 7806435932478031652 | 23                   |\n| 2066-01-25T12:16:47.609562138 | 1D75h               | 7ua        | 4166390262642105876 | 0                    |\n| 2022-12-29T08:16:38.070       | 1040920791041719924 | gE1B7c.    | 442061994865016078  | 0                    |\n| 1970-01-01T00:00:00.263356943 | 0.6287658423307444  | ,JC51Fh    | 5466573340614276155 | -23                  |\n| 2022-12-29T08:16:38.050       | Ig.UZ               | nA4C3DH~B  | 531136669299148225  | 9223372036854775807  |\n| 2022-12-29T08:16:38.060       | 263356943           |            | 1040920791041719924 | -9223372036854775807 |\n+-------------------------------+---------------------+------------+---------------------+----------------------+\nQuery took 0.100 seconds.\n</code></pre>\n"},{"tags":["java","java-money","joda-money","joda-convert"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1690529195,"post_id":76785607,"comment_id":135369305,"body_markdown":"What is wrong with [getAmountMinor](https://www.joda.org/joda-money/apidocs/org.joda.money/org/joda/money/Money.html#getAmountMinor())?","body":"What is wrong with <a href=\"https://www.joda.org/joda-money/apidocs/org.joda.money/org/joda/money/Money.html#getAmountMinor()\" rel=\"nofollow noreferrer\">getAmountMinor</a>?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1690529388,"post_id":76785607,"comment_id":135369351,"body_markdown":"`.getAmountMinorInt()` seems to be what you are looking for. The method returns the minor units of the currency. For USD, that is pennies.","body":"<code>.getAmountMinorInt()</code> seems to be what you are looking for. The method returns the minor units of the currency. For USD, that is pennies."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1690529464,"post_id":76785607,"comment_id":135369359,"body_markdown":"`...and it&#39;s returning with multiplies of 100.` Maybe you should include an example and how the input is incorrect. The getAmountMinor methods seem to be exactly what you&#39;re looking for.","body":"<code>...and it&#39;s returning with multiplies of 100.</code> Maybe you should include an example and how the input is incorrect. The getAmountMinor methods seem to be exactly what you&#39;re looking for."}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690528890,"creation_date":1690528890,"question_id":76785607,"body_markdown":"I want to convert Joda.Money to pennies. Is there any Joda library method available?\r\n\r\nSample input:\r\n\r\n&gt; USD 233.33\r\n\r\nSample output:\r\n\r\n&gt; 23333\r\n\r\n\r\nTried below 2 options:\r\n\r\n1. tried with ```Money.getAmountMinorInt()``` and it&#39;s returning with multiplies of 100.\r\n2. getAmount * 100\r\n\r\nnot sure using `getAmountMinorInt` is correct.\r\n\r\nWhich way of converting is correct or any other library method available to convert it?","title":"Is any Joda library method is there to convert Joda.Money to Pennies?","body":"<p>I want to convert Joda.Money to pennies. Is there any Joda library method available?</p>\n<p>Sample input:</p>\n<blockquote>\n<p>USD 233.33</p>\n</blockquote>\n<p>Sample output:</p>\n<blockquote>\n<p>23333</p>\n</blockquote>\n<p>Tried below 2 options:</p>\n<ol>\n<li>tried with <code>Money.getAmountMinorInt()</code> and it's returning with multiplies of 100.</li>\n<li>getAmount * 100</li>\n</ol>\n<p>not sure using <code>getAmountMinorInt</code> is correct.</p>\n<p>Which way of converting is correct or any other library method available to convert it?</p>\n"},{"tags":["java","spring","jsp","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1542975510,"post_id":48277952,"comment_id":93765982,"body_markdown":"Don&#39;t use JSP files with Spring Boot or embedded containers. Use something like Thymeleaf instead. Why? JSP has severe limitations when using with embedded containers.","body":"Don&#39;t use JSP files with Spring Boot or embedded containers. Use something like Thymeleaf instead. Why? JSP has severe limitations when using with embedded containers."}],"answers":[{"comments":[{"owner":{"account_id":8510160,"reputation":590,"user_id":6380454,"display_name":"Rajanikanta Pradhan"},"score":0,"creation_date":1516095631,"post_id":48278027,"comment_id":83539629,"body_markdown":"ok, suppose  greeting.jsp  is inside  the src/main/resources/templates/greeting.jsp, then how to configure the view resolver  . @Craigwar","body":"ok, suppose  greeting.jsp  is inside  the src/main/resources/templates/greeting.jsp, then how to configure the view resolver  . @Craigwar"},{"owner":{"account_id":4672191,"reputation":641,"user_id":3783718,"display_name":"craigwor"},"score":0,"creation_date":1516096847,"post_id":48278027,"comment_id":83540414,"body_markdown":"add the settings (locations) to the application.properties `spring.mvc.view.prefix: /resources/jsp/\nspring.mvc.view.suffix: .jsp`","body":"add the settings (locations) to the application.properties <code>spring.mvc.view.prefix: &#47;resources&#47;jsp&#47; spring.mvc.view.suffix: .jsp</code>"},{"owner":{"account_id":8510160,"reputation":590,"user_id":6380454,"display_name":"Rajanikanta Pradhan"},"score":0,"creation_date":1516097975,"post_id":48278027,"comment_id":83541192,"body_markdown":"Tried with adding those configuration in application.properties but still not working .","body":"Tried with adding those configuration in application.properties but still not working ."},{"owner":{"account_id":4672191,"reputation":641,"user_id":3783718,"display_name":"craigwor"},"score":1,"creation_date":1516098609,"post_id":48278027,"comment_id":83541693,"body_markdown":"As long as you have the correct jars included it should work. You can also follow this guide which does add the WEB-INF directory back in. https://www.mkyong.com/spring-boot/spring-boot-hello-world-example-jsp/","body":"As long as you have the correct jars included it should work. You can also follow this guide which does add the WEB-INF directory back in. <a href=\"https://www.mkyong.com/spring-boot/spring-boot-hello-world-example-jsp/\" rel=\"nofollow noreferrer\">mkyong.com/spring-boot/spring-boot-hello-world-example-jsp</a>"},{"owner":{"account_id":4672191,"reputation":641,"user_id":3783718,"display_name":"craigwor"},"score":0,"creation_date":1516098726,"post_id":48278027,"comment_id":83541771,"body_markdown":"Is there a reason you want to use jsp over thymeleaf? Tymeleaf, as in the original example link, is the recommended technology for spring boot web apps (well, all the guides use it anyway!)","body":"Is there a reason you want to use jsp over thymeleaf? Tymeleaf, as in the original example link, is the recommended technology for spring boot web apps (well, all the guides use it anyway!)"},{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1516099133,"post_id":48278027,"comment_id":83542025,"body_markdown":"use thymeleaf instead.","body":"use thymeleaf instead."},{"owner":{"account_id":10652480,"reputation":818,"user_id":7842955,"accept_rate":59,"display_name":"BlueBoy"},"score":0,"creation_date":1695517907,"post_id":48278027,"comment_id":136034965,"body_markdown":"Is the resource folder a private folder like WEB-INF and not accessible by the public when the application is live?","body":"Is the resource folder a private folder like WEB-INF and not accessible by the public when the application is live?"}],"tags":[],"owner":{"account_id":4672191,"reputation":641,"user_id":3783718,"display_name":"craigwor"},"comment_count":7,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1516095165,"creation_date":1516095165,"answer_id":48278027,"question_id":48277952,"body_markdown":"Usually the web files will go into the resources folder with spring boot.\r\nhttps://spring.io/guides/gs/serving-web-content/","title":"WEB-INF folder is not creating in Spring Boot application?","body":"<p>Usually the web files will go into the resources folder with spring boot.\n<a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/serving-web-content/</a></p>\n"},{"tags":[],"owner":{"account_id":3403498,"reputation":113,"user_id":2855154,"display_name":"arc"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1548025667,"creation_date":1548025667,"answer_id":54281818,"question_id":48277952,"body_markdown":"Dumping the jsp files in `src/main/webapp` folder worked for me, both with or without WEB-INF. I followed the exact project structure mentioned in \r\n\r\n 1. [mkyong.com](http://www.mkyong.com/spring-boot/spring-boot-hello-world-example-jsp/)\r\n 2. [springboottutorial](http://www.springboottutorial.com/creating-web-application-with-spring-boot)","title":"WEB-INF folder is not creating in Spring Boot application?","body":"<p>Dumping the jsp files in <code>src/main/webapp</code> folder worked for me, both with or without WEB-INF. I followed the exact project structure mentioned in </p>\n\n<ol>\n<li><a href=\"http://www.mkyong.com/spring-boot/spring-boot-hello-world-example-jsp/\" rel=\"nofollow noreferrer\">mkyong.com</a></li>\n<li><a href=\"http://www.springboottutorial.com/creating-web-application-with-spring-boot\" rel=\"nofollow noreferrer\">springboottutorial</a></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"score":2,"creation_date":1563022934,"post_id":54852729,"comment_id":100569434,"body_markdown":"This is the only way I could figure out to create WEB-INF folder and put jsp files. Spring boot project never creates any WEB-INF folder automatically.","body":"This is the only way I could figure out to create WEB-INF folder and put jsp files. Spring boot project never creates any WEB-INF folder automatically."},{"owner":{"display_name":"user8616404"},"score":0,"creation_date":1563030396,"post_id":54852729,"comment_id":100571122,"body_markdown":"I followed Telusko tutorials and he is also creating a webapp folder inside src-main. I guess your answer is ok then.","body":"I followed Telusko tutorials and he is also creating a webapp folder inside src-main. I guess your answer is ok then."},{"owner":{"account_id":7082410,"reputation":117,"user_id":5420342,"accept_rate":43,"display_name":"Udhaya"},"score":0,"creation_date":1621155180,"post_id":54852729,"comment_id":119405003,"body_markdown":"I want to use WEB-INF folder with Jar build. Is it possible?","body":"I want to use WEB-INF folder with Jar build. Is it possible?"},{"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"score":0,"creation_date":1624560337,"post_id":54852729,"comment_id":120399283,"body_markdown":"@devPrakash, Its not possible because &quot;mvn package&quot; command generates the jar file for spring boot application which creates only BOOT-INF and MATA-INF folder inside the jar and ignores all other folders you create in the project including WEB-INF also.","body":"@devPrakash, Its not possible because &quot;mvn package&quot; command generates the jar file for spring boot application which creates only BOOT-INF and MATA-INF folder inside the jar and ignores all other folders you create in the project including WEB-INF also."}],"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"comment_count":4,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1690528747,"creation_date":1551017514,"answer_id":54852729,"question_id":48277952,"body_markdown":"We need to create the WEB-INF folder manually in spring boot application. Follow these steps:\r\n  \r\n1. Select main folder as highlighted below.  \r\n    \r\n   [![enter image description here][1]][1]   \r\n2. Right click and create a folder with name **webapp**.   \r\n3. Now right click on **webapp** folder and create **WEB-INF** folder.  \r\n4. Now similarly create a **view** folder (or any other name you like) inside WEB-INF folder to keep all the JSPs.  \r\n5. Below should be the folder structure after doing above steps.  \r\n     \r\n   [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dozlz.png\r\n  [2]: https://i.stack.imgur.com/Sy1xT.png","title":"WEB-INF folder is not creating in Spring Boot application?","body":"<p>We need to create the WEB-INF folder manually in spring boot application. Follow these steps:</p>\n<ol>\n<li><p>Select main folder as highlighted below.</p>\n<p><a href=\"https://i.stack.imgur.com/dozlz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dozlz.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Right click and create a folder with name <strong>webapp</strong>.</p>\n</li>\n<li><p>Now right click on <strong>webapp</strong> folder and create <strong>WEB-INF</strong> folder.</p>\n</li>\n<li><p>Now similarly create a <strong>view</strong> folder (or any other name you like) inside WEB-INF folder to keep all the JSPs.</p>\n</li>\n<li><p>Below should be the folder structure after doing above steps.</p>\n<p><a href=\"https://i.stack.imgur.com/Sy1xT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sy1xT.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4969363,"reputation":21,"user_id":3997694,"display_name":"user3997694"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1579203316,"creation_date":1579199320,"answer_id":59775759,"question_id":48277952,"body_markdown":"I had the same problem. To solve this, You need to change in your **pom.xml** from **jar** to **war**, and do the following...\r\n```bash\r\ncd &quot;my_project&quot;\r\nmvn clean package\r\njava -jar my_project.war\r\n```\r\nAnd everything workout.\r\n","title":"WEB-INF folder is not creating in Spring Boot application?","body":"<p>I had the same problem. To solve this, You need to change in your <strong>pom.xml</strong> from <strong>jar</strong> to <strong>war</strong>, and do the following...</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>cd \"my_project\"\nmvn clean package\njava -jar my_project.war\n</code></pre>\n\n<p>And everything workout.</p>\n"},{"tags":[],"owner":{"account_id":8929078,"reputation":11,"user_id":6662297,"display_name":"Bhumit Thakkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589242842,"creation_date":1589242842,"answer_id":61741646,"question_id":48277952,"body_markdown":"**Inside:**          src/main/resources/application.properties\r\n\r\n**Add this line:**   spring.mvc.view.prefix = /WEB-INF/view/\r\n\r\n**Knowledge Source** watch 5 minutes: [Video][1] Start at: 55:33\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=35EQXmHKZYs&amp;t=3333s","title":"WEB-INF folder is not creating in Spring Boot application?","body":"<p><strong>Inside:</strong>          src/main/resources/application.properties</p>\n\n<p><strong>Add this line:</strong>   spring.mvc.view.prefix = /WEB-INF/view/</p>\n\n<p><strong>Knowledge Source</strong> watch 5 minutes: <a href=\"https://www.youtube.com/watch?v=35EQXmHKZYs&amp;t=3333s\" rel=\"nofollow noreferrer\">Video</a> Start at: 55:33</p>\n"}],"owner":{"account_id":8510160,"reputation":590,"user_id":6380454,"display_name":"Rajanikanta Pradhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46537,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":54852729,"answer_count":5,"score":18,"last_activity_date":1690528747,"creation_date":1516094965,"question_id":48277952,"body_markdown":"I am creating a Spring Boot application, using Spring Initializr, But the folder structure is bit different, there is no `WEB-INF` folder, so where I will put the JSP files, shall I create the `WEB-INF` folder manually? ","title":"WEB-INF folder is not creating in Spring Boot application?","body":"<p>I am creating a Spring Boot application, using Spring Initializr, But the folder structure is bit different, there is no <code>WEB-INF</code> folder, so where I will put the JSP files, shall I create the <code>WEB-INF</code> folder manually? </p>\n"},{"tags":["java","amazon-web-services","performance","jmeter","garbage-collection"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690526697,"post_id":76784145,"comment_id":135368863,"body_markdown":"What do you mean with resetting GC? Can you please share the output as text instead of using images?","body":"What do you mean with resetting GC? Can you please share the output as text instead of using images?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1690527485,"post_id":76784145,"comment_id":135368987,"body_markdown":"If you&#39;re running on a recent Java version, you could try Shenandoah or ZGC if pauses are the problem. Note that this might come at the cost of a bit less throughput.","body":"If you&#39;re running on a recent Java version, you could try Shenandoah or ZGC if pauses are the problem. Note that this might come at the cost of a bit less throughput."}],"answers":[{"comments":[{"owner":{"account_id":26449163,"reputation":125,"user_id":20092606,"display_name":"Harris"},"score":0,"creation_date":1690553985,"post_id":76785581,"comment_id":135374315,"body_markdown":"Tried your suggestion 70% Java Heap Size I noticed my # of request is still dropping after few hours, btw the response I&#39;m getting upon single invocation of our API has 7k lines. Do you any idea how to resolve this issue. Thank you","body":"Tried your suggestion 70% Java Heap Size I noticed my # of request is still dropping after few hours, btw the response I&#39;m getting upon single invocation of our API has 7k lines. Do you any idea how to resolve this issue. Thank you"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690528682,"creation_date":1690528682,"answer_id":76785581,"question_id":76784145,"body_markdown":"I think 24 GB of heap is too much for 200 threads. And 6 GB of MaxMetaspaceSize is definitely too much.  \r\n\r\nAs per [Optimal Heap Size][1] chapter:\r\n\r\n&gt;&quot;If the occupancy of the Java heap is too high, garbage collection occurs frequently. If the occupancy is low, garbage collection is infrequent but lasts longer... Try to keep the memory occupancy of the Java heap between 40% and 70% of the Java heap size... The highest point of occupancy of the Java heap is preferably not above 70% of the maximum heap size, and the average occupancy is between 40% and 70% occupancy. If the occupancy goes over 70%, resize the Java heap.&quot;\r\n&gt;\r\n&gt;&quot;A correctly sized Java heap should always have a memory occupancy of between 40% and 70% of the maximum Java heap size. To ensure that the occupancy does not exceed 70%, set the maximum Java heap size to at least 43% larger than the Maximum occupancy value provided by GCMV. This setting then makes the Maximum value 70% of the Java heap and the average to be above 40% of the Java heap size.&quot;\r\n\r\nSo I would recommend reducing minimum heap size to default value of 1GB and do the same for the MaxMetaspaceSize and it should resolve your issue.\r\n\r\nIf the nature of your test assumes high heap usage and you cannot allocate less and still looking for the way of forcing the garbage collection it can be done using a suitable [JSR223 Test Element][2] and the following [Groovy code][3]:\r\n\r\n    System.gc()\r\n\r\nHowever get familiarized with [Guide to System.gc()][4] article beforehand.  \r\n\r\n\r\n  [1]: https://publib.boulder.ibm.com/httpserv/cookbook/Java.html#Java-Garbage_Collection-Optimal_Heap_Size\r\n  [2]: https://jmeter.apache.org/usermanual/best-practices.html#jsr223\r\n  [3]: https://www.blazemeter.com/blog/apache-groovy\r\n  [4]: https://www.baeldung.com/java-system-gc","title":"How to force reset the Garbage collection on Jmeter execution","body":"<p>I think 24 GB of heap is too much for 200 threads. And 6 GB of MaxMetaspaceSize is definitely too much.</p>\n<p>As per <a href=\"https://publib.boulder.ibm.com/httpserv/cookbook/Java.html#Java-Garbage_Collection-Optimal_Heap_Size\" rel=\"nofollow noreferrer\">Optimal Heap Size</a> chapter:</p>\n<blockquote>\n<p>&quot;If the occupancy of the Java heap is too high, garbage collection occurs frequently. If the occupancy is low, garbage collection is infrequent but lasts longer... Try to keep the memory occupancy of the Java heap between 40% and 70% of the Java heap size... The highest point of occupancy of the Java heap is preferably not above 70% of the maximum heap size, and the average occupancy is between 40% and 70% occupancy. If the occupancy goes over 70%, resize the Java heap.&quot;</p>\n<p>&quot;A correctly sized Java heap should always have a memory occupancy of between 40% and 70% of the maximum Java heap size. To ensure that the occupancy does not exceed 70%, set the maximum Java heap size to at least 43% larger than the Maximum occupancy value provided by GCMV. This setting then makes the Maximum value 70% of the Java heap and the average to be above 40% of the Java heap size.&quot;</p>\n</blockquote>\n<p>So I would recommend reducing minimum heap size to default value of 1GB and do the same for the MaxMetaspaceSize and it should resolve your issue.</p>\n<p>If the nature of your test assumes high heap usage and you cannot allocate less and still looking for the way of forcing the garbage collection it can be done using a suitable <a href=\"https://jmeter.apache.org/usermanual/best-practices.html#jsr223\" rel=\"nofollow noreferrer\">JSR223 Test Element</a> and the following <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Groovy code</a>:</p>\n<pre><code>System.gc()\n</code></pre>\n<p>However get familiarized with <a href=\"https://www.baeldung.com/java-system-gc\" rel=\"nofollow noreferrer\">Guide to System.gc()</a> article beforehand.</p>\n"}],"owner":{"account_id":26449163,"reputation":125,"user_id":20092606,"display_name":"Harris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76785581,"answer_count":1,"score":0,"last_activity_date":1690528682,"creation_date":1690503251,"question_id":76784145,"body_markdown":"Currently I have 6000 request per minute using 200 thread setup on my Jmeter configuration, first few hours everything looks good until it starts to drop the # of request and I noticed the memory/garbage collection start to pileup or reach to limit I set which is 24GB. is there&#39;s a way I could force reset the garbage collection so my request will be back at 6000 request per minute? This is hosted on AWS Cloud and I&#39;m running my performance test. Your response is highly appreciated. Thank you.\r\n\r\n\r\nI tried to run this command\r\n\r\n-jmap -histo:live 13510 \r\n\r\n-jcmd 13510 GC.run \r\n\r\nbut it seems the number of my request on Jmeter is not reverted back to 6000.\r\n\r\n\r\nExpected Result: I want my Jmeter request to revert back to 6000 request per minute. \r\n\r\nScreenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![Jmeter configuration on AWS][2]][2]\r\n\r\n\r\n\r\n[![Memory Allocation Screenshot][3]][3]\r\n\r\n\r\n[![Free Memory][4]][4]\r\n\r\n\r\n[![Request Generated][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SYWIk.png\r\n  [2]: https://i.stack.imgur.com/Hps31.png\r\n  [3]: https://i.stack.imgur.com/EvMJF.png\r\n  [4]: https://i.stack.imgur.com/r0XId.png\r\n  [5]: https://i.stack.imgur.com/BddII.png","title":"How to force reset the Garbage collection on Jmeter execution","body":"<p>Currently I have 6000 request per minute using 200 thread setup on my Jmeter configuration, first few hours everything looks good until it starts to drop the # of request and I noticed the memory/garbage collection start to pileup or reach to limit I set which is 24GB. is there's a way I could force reset the garbage collection so my request will be back at 6000 request per minute? This is hosted on AWS Cloud and I'm running my performance test. Your response is highly appreciated. Thank you.</p>\n<p>I tried to run this command</p>\n<p>-jmap -histo:live 13510</p>\n<p>-jcmd 13510 GC.run</p>\n<p>but it seems the number of my request on Jmeter is not reverted back to 6000.</p>\n<p>Expected Result: I want my Jmeter request to revert back to 6000 request per minute.</p>\n<p>Screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/SYWIk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYWIk.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Hps31.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hps31.png\" alt=\"Jmeter configuration on AWS\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EvMJF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EvMJF.png\" alt=\"Memory Allocation Screenshot\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/r0XId.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r0XId.png\" alt=\"Free Memory\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BddII.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BddII.png\" alt=\"Request Generated\" /></a></p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690484218,"post_id":76782384,"comment_id":135364100,"body_markdown":"You are already injecting the reader into the method that procudes the stepp.. Why call `reader(null)` then? Just use the passed in argument. Another thing is don&#39;t catch the exceptions in the `@Bean` method and don&#39;t call `afterPropertiesSet` those are framework callbacks and hinder proper container management and might even hide a problem you actually have. Finally change the return type from `ItemReader&lt;Contact&gt;` to `BeanIOFlatFileItemReader&lt;Contact&gt;` (you want to do tha tfor the writer as well) be as specific as you can so all callbacks etc. can be detected.","body":"You are already injecting the reader into the method that procudes the stepp.. Why call <code>reader(null)</code> then? Just use the passed in argument. Another thing is don&#39;t catch the exceptions in the <code>@Bean</code> method and don&#39;t call <code>afterPropertiesSet</code> those are framework callbacks and hinder proper container management and might even hide a problem you actually have. Finally change the return type from <code>ItemReader&lt;Contact&gt;</code> to <code>BeanIOFlatFileItemReader&lt;Contact&gt;</code> (you want to do tha tfor the writer as well) be as specific as you can so all callbacks etc. can be detected."},{"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1690487070,"post_id":76782384,"comment_id":135364602,"body_markdown":"@M.Deinum changing the return type from `ItemReader&lt;Contact&gt;` to `BeanIOFlatFileItemReader&lt;Contact&gt;` did the trick. I&#39;ve also implemented your other suggestions :) Please post an answer to give you the credit.","body":"@M.Deinum changing the return type from <code>ItemReader&lt;Contact&gt;</code> to <code>BeanIOFlatFileItemReader&lt;Contact&gt;</code> did the trick. I&#39;ve also implemented your other suggestions :) Please post an answer to give you the credit."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690528559,"creation_date":1690528559,"answer_id":76785573,"question_id":76782384,"body_markdown":"When using `@Configuration` classes the best thing to do for `@Bean` methods is to be as specific as possible about the type. As this type information is used at load time to determine what callbacks to do or what proxy to create. \r\n\r\nWhen you are adding an `@StepScope` what happens is that a lazy proxy is created for the argument type of the method. In your case that is an `ItemReader&lt;Contact&gt;`. If you check the [javadoc of the `FlatFileItemReader`][1] you see that it implements more interfaces. Those interfaces are needed by Spring Batch to do the appropriate callbacks to initialize the reader. However if it is an `ItemReader` those callbacks aren&#39;t there. \r\n\r\n```java\r\n@Bean\r\n@StepScope\r\npublic BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters[&#39;fileName&#39;]}&quot;) String fileName) {             \r\n    BeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();\r\n    reader.setUseSpringExceptions(true);\r\n    reader.setResource(new FileSystemResource(fileName));\r\n    reader.setStreamName(inputContactStreamName);\r\n    reader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\r\n    reader.setStreamFactory(StreamFactory.newInstance());\r\n    reader.getLineNumber();\r\n    return reader;          \r\n}\r\n```\r\n\r\nWith this the proper proxy will be created and all the callbacks will be effective. \r\n\r\nIn your configuration you are already injecting the `ItemReader` as an argument use that instead of calling `reader(null)`. \r\n\r\n```java\r\n@Bean\r\npublic Step step(BeanIOFlatFileItemReader&lt;Contact&gt; reader) {      \r\n    return stepBuilderFactory.get(&quot;step&quot;)\r\n      .&lt;Contact, Contact&gt; chunk(10)\r\n      .reader(reader)          \r\n      .processor(contactItemProcessor)\r\n      .writer(writer())          \r\n      .build();\r\n}\r\n```\r\n\r\n[1]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/FlatFileItemReader.html\r\n","title":"ItemWriter not producing output when having a StepScope annotation to access parameter in ItemReader in Spring Batch","body":"<p>When using <code>@Configuration</code> classes the best thing to do for <code>@Bean</code> methods is to be as specific as possible about the type. As this type information is used at load time to determine what callbacks to do or what proxy to create.</p>\n<p>When you are adding an <code>@StepScope</code> what happens is that a lazy proxy is created for the argument type of the method. In your case that is an <code>ItemReader&lt;Contact&gt;</code>. If you check the <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/FlatFileItemReader.html\" rel=\"nofollow noreferrer\">javadoc of the <code>FlatFileItemReader</code></a> you see that it implements more interfaces. Those interfaces are needed by Spring Batch to do the appropriate callbacks to initialize the reader. However if it is an <code>ItemReader</code> those callbacks aren't there.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@StepScope\npublic BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters['fileName']}&quot;) String fileName) {             \n    BeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();\n    reader.setUseSpringExceptions(true);\n    reader.setResource(new FileSystemResource(fileName));\n    reader.setStreamName(inputContactStreamName);\n    reader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\n    reader.setStreamFactory(StreamFactory.newInstance());\n    reader.getLineNumber();\n    return reader;          \n}\n</code></pre>\n<p>With this the proper proxy will be created and all the callbacks will be effective.</p>\n<p>In your configuration you are already injecting the <code>ItemReader</code> as an argument use that instead of calling <code>reader(null)</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Step step(BeanIOFlatFileItemReader&lt;Contact&gt; reader) {      \n    return stepBuilderFactory.get(&quot;step&quot;)\n      .&lt;Contact, Contact&gt; chunk(10)\n      .reader(reader)          \n      .processor(contactItemProcessor)\n      .writer(writer())          \n      .build();\n}\n</code></pre>\n"}],"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76785573,"answer_count":1,"score":0,"last_activity_date":1690528559,"creation_date":1690481214,"question_id":76782384,"body_markdown":"I&#39;m using a spring boot with spring batch application to test passing a parameter to the `ItemReader` by using below code, but the content of `contact-out.dat` file (which is the output file) is empty when I use `StepScope` annotation. There&#39;s no error, it just doesn&#39;t produce any result:\r\n\r\n    @Bean\r\n    @StepScope\r\n    public ItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters[&#39;fileName&#39;]}&quot;) String fileName) {    \t    \t\r\n    \t\r\n    \tBeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();\r\n    \ttry {    \t\t\r\n    \t\treader.setUseSpringExceptions(true);\r\n    \t\treader.setResource(new FileSystemResource(fileName));\r\n    \t\treader.setStreamName(inputContactStreamName);\r\n    \t\treader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\r\n    \t\treader.setStreamFactory(StreamFactory.newInstance());\r\n    \t\treader.getLineNumber();\r\n    \t\treader.afterPropertiesSet();\r\n    \t} catch (Exception e) {\r\n    \t\tlog.error(&quot;ERROR: An issue occurred in the BeanIO Item Reader:: {} {}&quot;, e.getMessage(), e.getStackTrace());\r\n    \t}\r\n    \t\r\n    \treturn reader;    \t\r\n    \t\r\n    }    \r\n    \r\n    @Bean\r\n    public FlatFileItemWriter&lt;Contact&gt; writer() {\r\n    \t\r\n    \tFlatFileItemWriter&lt;Contact&gt; writer = new FlatFileItemWriter&lt;&gt;();\r\n    \twriter.setResource(new FileSystemResource(fileOutputContact));\r\n    \twriter.setLineAggregator(new DelimitedLineAggregator&lt;Contact&gt;() {\r\n    \t\t{\r\n    \t\t\tsetDelimiter(&quot;,&quot;);\r\n    \t\t\tsetFieldExtractor(new BeanWrapperFieldExtractor&lt;Contact&gt;() {\r\n    \t\t\t\t{\r\n    \t\t\t\t\tsetNames(new String[] { &quot;firstName&quot;, &quot;lastName&quot;, &quot;street&quot;, &quot;city&quot;, &quot;state&quot;, &quot;zip&quot; });\r\n    \t\t\t\t}    \t\t\t\t\r\n    \t\t\t});\r\n    \t\t}\r\n    \t});\r\n    \t\r\n    \treturn writer;\r\n    }\r\n    \t\r\n    @Bean(&quot;InputJob&quot;)\r\n    @Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\r\n    public Job importUserJob(Step step) {\r\n    \treturn jobBuilderFactory.get(&quot;importUserJob&quot;)\r\n    \t  .incrementer(new RunIdIncrementer())          \r\n    \t  .flow(step)\r\n    \t  .end()\r\n    \t  .build();\r\n    }\r\n    \r\n    @Bean\r\n    public Step step(ItemReader&lt;Contact&gt; reader) {    \t\r\n    \treturn stepBuilderFactory.get(&quot;step&quot;)\r\n    \t  .&lt;Contact, Contact&gt; chunk(10)\r\n    \t  .reader(reader(null))          \r\n    \t  .processor(contactItemProcessor)\r\n    \t  .writer(writer())          \r\n    \t  .build();\r\n    }\r\n\r\nNow, if I remove the `StepScope` annotation and make below changes then `contact-out.dat` file has the expected content:\r\n\r\n    @Bean\r\n    //@StepScope\r\n    public ItemReader&lt;Contact&gt; reader(/*@Value(&quot;#{jobParameters[&#39;fileName&#39;]}&quot;) String fileName*/) {...}\r\n\r\n\r\n    @Bean\r\n    public Step step(ItemReader&lt;Contact&gt; reader) {    \t\r\n    \treturn stepBuilderFactory.get(&quot;step&quot;)\r\n    \t  .&lt;Contact, Contact&gt; chunk(10)\r\n    \t  .reader(reader(/*null*/))          \r\n    \t  .processor(contactItemProcessor)\r\n    \t  .writer(writer())          \r\n    \t  .build();\r\n    }\r\n\r\nWhat I&#39;m doing wrong here when using `StepScope` annotation that ouput file is always empty?","title":"ItemWriter not producing output when having a StepScope annotation to access parameter in ItemReader in Spring Batch","body":"<p>I'm using a spring boot with spring batch application to test passing a parameter to the <code>ItemReader</code> by using below code, but the content of <code>contact-out.dat</code> file (which is the output file) is empty when I use <code>StepScope</code> annotation. There's no error, it just doesn't produce any result:</p>\n<pre><code>@Bean\n@StepScope\npublic ItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters['fileName']}&quot;) String fileName) {             \n    \n    BeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();\n    try {           \n        reader.setUseSpringExceptions(true);\n        reader.setResource(new FileSystemResource(fileName));\n        reader.setStreamName(inputContactStreamName);\n        reader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\n        reader.setStreamFactory(StreamFactory.newInstance());\n        reader.getLineNumber();\n        reader.afterPropertiesSet();\n    } catch (Exception e) {\n        log.error(&quot;ERROR: An issue occurred in the BeanIO Item Reader:: {} {}&quot;, e.getMessage(), e.getStackTrace());\n    }\n    \n    return reader;      \n    \n}    \n\n@Bean\npublic FlatFileItemWriter&lt;Contact&gt; writer() {\n    \n    FlatFileItemWriter&lt;Contact&gt; writer = new FlatFileItemWriter&lt;&gt;();\n    writer.setResource(new FileSystemResource(fileOutputContact));\n    writer.setLineAggregator(new DelimitedLineAggregator&lt;Contact&gt;() {\n        {\n            setDelimiter(&quot;,&quot;);\n            setFieldExtractor(new BeanWrapperFieldExtractor&lt;Contact&gt;() {\n                {\n                    setNames(new String[] { &quot;firstName&quot;, &quot;lastName&quot;, &quot;street&quot;, &quot;city&quot;, &quot;state&quot;, &quot;zip&quot; });\n                }                   \n            });\n        }\n    });\n    \n    return writer;\n}\n    \n@Bean(&quot;InputJob&quot;)\n@Scope(value = ConfigurableBeanFactory.SCOPE_PROTOTYPE)\npublic Job importUserJob(Step step) {\n    return jobBuilderFactory.get(&quot;importUserJob&quot;)\n      .incrementer(new RunIdIncrementer())          \n      .flow(step)\n      .end()\n      .build();\n}\n\n@Bean\npublic Step step(ItemReader&lt;Contact&gt; reader) {      \n    return stepBuilderFactory.get(&quot;step&quot;)\n      .&lt;Contact, Contact&gt; chunk(10)\n      .reader(reader(null))          \n      .processor(contactItemProcessor)\n      .writer(writer())          \n      .build();\n}\n</code></pre>\n<p>Now, if I remove the <code>StepScope</code> annotation and make below changes then <code>contact-out.dat</code> file has the expected content:</p>\n<pre><code>@Bean\n//@StepScope\npublic ItemReader&lt;Contact&gt; reader(/*@Value(&quot;#{jobParameters['fileName']}&quot;) String fileName*/) {...}\n\n\n@Bean\npublic Step step(ItemReader&lt;Contact&gt; reader) {      \n    return stepBuilderFactory.get(&quot;step&quot;)\n      .&lt;Contact, Contact&gt; chunk(10)\n      .reader(reader(/*null*/))          \n      .processor(contactItemProcessor)\n      .writer(writer())          \n      .build();\n}\n</code></pre>\n<p>What I'm doing wrong here when using <code>StepScope</code> annotation that ouput file is always empty?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-transactions"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1648201229,"post_id":71614777,"comment_id":126569554,"body_markdown":"and you tried `@Transactional( transactionManager = &quot;yourtransactionName&quot;)` right?","body":"and you tried <code>@Transactional( transactionManager = &quot;yourtransactionName&quot;)</code> right?"},{"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"score":0,"creation_date":1648202013,"post_id":71614777,"comment_id":126569829,"body_markdown":"@SMA yes, exactly but it is ignoring it and using always the second bean created.","body":"@SMA yes, exactly but it is ignoring it and using always the second bean created."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1648661928,"post_id":71614777,"comment_id":126683778,"body_markdown":"I think the problem is related with Spring Aspect that is &quot;triggered&quot; by the annotations. You define for each &quot;EntityManager&quot; the packages (or classes) that he &quot;owns&quot;. Since both of both EntityManagers refer to the same classes, when &quot;discovery&quot; kicks in, it will return only one of them. I think there is no solution for this problem. Why do you want 2 EntityManager that point to the same classes?","body":"I think the problem is related with Spring Aspect that is &quot;triggered&quot; by the annotations. You define for each &quot;EntityManager&quot; the packages (or classes) that he &quot;owns&quot;. Since both of both EntityManagers refer to the same classes, when &quot;discovery&quot; kicks in, it will return only one of them. I think there is no solution for this problem. Why do you want 2 EntityManager that point to the same classes?"}],"answers":[{"comments":[{"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"score":1,"creation_date":1648646143,"post_id":71677487,"comment_id":126676975,"body_markdown":"Yes you are right it should but it’s not working when in comes to use the same repositories. I have exactly the same configuration only that I am specifying the same repositories for both of databases.","body":"Yes you are right it should but it’s not working when in comes to use the same repositories. I have exactly the same configuration only that I am specifying the same repositories for both of databases."},{"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"score":0,"creation_date":1648646553,"post_id":71677487,"comment_id":126677149,"body_markdown":"As I said for both of datasources both of the beans are created “ EntityManagerFactory and TransactionManager” but with declarative transactions it is not working as expected. Even I specify to use primary transaction it will use the second one.","body":"As I said for both of datasources both of the beans are created “ EntityManagerFactory and TransactionManager” but with declarative transactions it is not working as expected. Even I specify to use primary transaction it will use the second one."}],"tags":[],"owner":{"account_id":20636918,"reputation":97,"user_id":15150382,"display_name":"kistlers"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648644278,"creation_date":1648644278,"answer_id":71677487,"question_id":71614777,"body_markdown":"In our case, we also have two databases, both using JPA and repositories. However, they do use different repositories, but I think our approach should also work in your case. We define an `EntityManagerFactory` and a `TransactionManager` per database. I cannot confirm this works, but I believe it should.\r\n\r\nPrimary Datasource:\r\n\r\n```\r\n@Configuration\r\n@EnableTransactionManagement\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;ch.sac.data.primary.repository&quot;},\r\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;transactionManager&quot;)\r\npublic class ImporterPrimaryDataSourceConfiguration {\r\n\r\n    @Primary\r\n    @Bean(name = &quot;dataSourceProperties&quot;)\r\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\r\n    public DataSourceProperties dataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = &quot;primaryDataSource&quot;)\r\n    public DataSource dataSource(final DataSourceProperties dataSourceProperties) {\r\n        return dataSourceProperties\r\n                .initializeDataSourceBuilder()\r\n                .type(HikariDataSource.class)\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public Flyway primaryFlyway(\r\n            final DataSource dataSource,\r\n            @Value(&quot;${spring.flyway.locations}&quot;) final String[] flywayLocations,\r\n            @Value(&quot;${spring.flyway.validate-on-migrate:true}&quot;)\r\n                    final boolean flywayValidateOnMigrate) {\r\n        final var flyway =\r\n                Flyway.configure()\r\n                        .dataSource(dataSource)\r\n                        .locations(flywayLocations)\r\n                        .validateOnMigrate(flywayValidateOnMigrate)\r\n                        .load();\r\n        flyway.migrate();\r\n        return flyway;\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n            final EntityManagerFactoryBuilder entityManagerFactoryBuilder,\r\n            final DataSource dataSource) {\r\n\r\n        final var jpaProperties =\r\n                Map.ofEntries(\r\n                        Map.entry(\r\n                                &quot;hibernate.dialect&quot;,\r\n                                &quot;org.hibernate.spatial.dialect.postgis.PostgisDialect&quot;));\r\n\r\n        return entityManagerFactoryBuilder\r\n                .dataSource(dataSource)\r\n                .packages(&quot;ch.sac.model.primary.entity&quot;)\r\n                .persistenceUnit(&quot;dataSource&quot;)\r\n                .properties(jpaProperties)\r\n                .build();\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public PlatformTransactionManager transactionManager(\r\n            final EntityManagerFactory entityManagerFactory) {\r\n        return new JpaTransactionManager(entityManagerFactory);\r\n    }\r\n}\r\n```\r\n\r\nSecondary Datasource (SQLite Database, created in-memory, adjust to your use-case):\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;ch.sac.data.sqlite.repository&quot;},\r\n        entityManagerFactoryRef = &quot;sqliteEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;sqliteTransactionManager&quot;)\r\npublic class ImporterSQLiteDataSourceConfiguration {\r\n\r\n    @Bean(name = &quot;sqliteDBFilePath&quot;)\r\n    public String sqliteDBFilePath() throws IOException {\r\n        return TempFileManager.createEmptyTempFile(&quot;metadata.sqlite&quot;).toString();\r\n    }\r\n\r\n    @Bean(name = &quot;sqliteDataSourceProperties&quot;)\r\n    public DataSourceProperties sqliteDataSourceProperties() {\r\n        return new DataSourceProperties();\r\n    }\r\n\r\n    @Bean(name = &quot;sqliteDataSource&quot;)\r\n    public DataSource sqliteDataSource(\r\n            @Qualifier(&quot;sqliteDataSourceProperties&quot;)\r\n                    final DataSourceProperties sqliteDataSourceProperties,\r\n            final String sqliteDBFilePath) {\r\n        return sqliteDataSourceProperties\r\n                .initializeDataSourceBuilder()\r\n                .driverClassName(&quot;org.sqlite.JDBC&quot;)\r\n                .url(&quot;jdbc:sqlite:&quot; + sqliteDBFilePath)\r\n                .type(HikariDataSource.class)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Flyway sqliteFlyway(\r\n            @Qualifier(&quot;sqliteDataSource&quot;) final DataSource sqliteDataSource,\r\n            @Value(&quot;${sqlite.flyway.locations}&quot;) final String[] flywayLocations) {\r\n        final var flyway =\r\n                Flyway.configure().dataSource(sqliteDataSource).locations(flywayLocations).load();\r\n        flyway.migrate();\r\n        return flyway;\r\n    }\r\n\r\n    @Bean(name = &quot;sqliteEntityManagerFactory&quot;)\r\n    public LocalContainerEntityManagerFactoryBean sqliteEntityManagerFactory(\r\n            final EntityManagerFactoryBuilder sqliteEntityManagerFactoryBuilder,\r\n            @Qualifier(&quot;sqliteDataSource&quot;) final DataSource sqliteDataSource) {\r\n\r\n        final var sqliteJpaProperties =\r\n                Map.ofEntries(\r\n                        Map.entry(\r\n                                &quot;hibernate.dialect&quot;, &quot;org.sqlite.hibernate.dialect.SQLiteDialect&quot;));\r\n\r\n        return sqliteEntityManagerFactoryBuilder\r\n                .dataSource(sqliteDataSource)\r\n                .packages(&quot;ch.sac.model.sqlite.entity&quot;)\r\n                .persistenceUnit(&quot;sqliteDataSource&quot;)\r\n                .properties(sqliteJpaProperties)\r\n                .build();\r\n    }\r\n\r\n    @Bean(name = &quot;sqliteTransactionManager&quot;)\r\n    public PlatformTransactionManager sqliteTransactionManager(\r\n            @Qualifier(&quot;sqliteEntityManagerFactory&quot;)\r\n                    final EntityManagerFactory sqliteEntityManagerFactory) {\r\n        return new JpaTransactionManager(sqliteEntityManagerFactory);\r\n    }\r\n}\r\n```\r\n","title":"Spring JPA – Multiple Databases with the same Repositories","body":"<p>In our case, we also have two databases, both using JPA and repositories. However, they do use different repositories, but I think our approach should also work in your case. We define an <code>EntityManagerFactory</code> and a <code>TransactionManager</code> per database. I cannot confirm this works, but I believe it should.</p>\n<p>Primary Datasource:</p>\n<pre><code>@Configuration\n@EnableTransactionManagement\n@EnableJpaRepositories(\n        basePackages = {&quot;ch.sac.data.primary.repository&quot;},\n        entityManagerFactoryRef = &quot;entityManagerFactory&quot;,\n        transactionManagerRef = &quot;transactionManager&quot;)\npublic class ImporterPrimaryDataSourceConfiguration {\n\n    @Primary\n    @Bean(name = &quot;dataSourceProperties&quot;)\n    @ConfigurationProperties(&quot;spring.datasource&quot;)\n    public DataSourceProperties dataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Primary\n    @Bean(name = &quot;primaryDataSource&quot;)\n    public DataSource dataSource(final DataSourceProperties dataSourceProperties) {\n        return dataSourceProperties\n                .initializeDataSourceBuilder()\n                .type(HikariDataSource.class)\n                .build();\n    }\n\n    @Primary\n    @Bean\n    public Flyway primaryFlyway(\n            final DataSource dataSource,\n            @Value(&quot;${spring.flyway.locations}&quot;) final String[] flywayLocations,\n            @Value(&quot;${spring.flyway.validate-on-migrate:true}&quot;)\n                    final boolean flywayValidateOnMigrate) {\n        final var flyway =\n                Flyway.configure()\n                        .dataSource(dataSource)\n                        .locations(flywayLocations)\n                        .validateOnMigrate(flywayValidateOnMigrate)\n                        .load();\n        flyway.migrate();\n        return flyway;\n    }\n\n    @Primary\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n            final EntityManagerFactoryBuilder entityManagerFactoryBuilder,\n            final DataSource dataSource) {\n\n        final var jpaProperties =\n                Map.ofEntries(\n                        Map.entry(\n                                &quot;hibernate.dialect&quot;,\n                                &quot;org.hibernate.spatial.dialect.postgis.PostgisDialect&quot;));\n\n        return entityManagerFactoryBuilder\n                .dataSource(dataSource)\n                .packages(&quot;ch.sac.model.primary.entity&quot;)\n                .persistenceUnit(&quot;dataSource&quot;)\n                .properties(jpaProperties)\n                .build();\n    }\n\n    @Primary\n    @Bean\n    public PlatformTransactionManager transactionManager(\n            final EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n}\n</code></pre>\n<p>Secondary Datasource (SQLite Database, created in-memory, adjust to your use-case):</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = {&quot;ch.sac.data.sqlite.repository&quot;},\n        entityManagerFactoryRef = &quot;sqliteEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;sqliteTransactionManager&quot;)\npublic class ImporterSQLiteDataSourceConfiguration {\n\n    @Bean(name = &quot;sqliteDBFilePath&quot;)\n    public String sqliteDBFilePath() throws IOException {\n        return TempFileManager.createEmptyTempFile(&quot;metadata.sqlite&quot;).toString();\n    }\n\n    @Bean(name = &quot;sqliteDataSourceProperties&quot;)\n    public DataSourceProperties sqliteDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = &quot;sqliteDataSource&quot;)\n    public DataSource sqliteDataSource(\n            @Qualifier(&quot;sqliteDataSourceProperties&quot;)\n                    final DataSourceProperties sqliteDataSourceProperties,\n            final String sqliteDBFilePath) {\n        return sqliteDataSourceProperties\n                .initializeDataSourceBuilder()\n                .driverClassName(&quot;org.sqlite.JDBC&quot;)\n                .url(&quot;jdbc:sqlite:&quot; + sqliteDBFilePath)\n                .type(HikariDataSource.class)\n                .build();\n    }\n\n    @Bean\n    public Flyway sqliteFlyway(\n            @Qualifier(&quot;sqliteDataSource&quot;) final DataSource sqliteDataSource,\n            @Value(&quot;${sqlite.flyway.locations}&quot;) final String[] flywayLocations) {\n        final var flyway =\n                Flyway.configure().dataSource(sqliteDataSource).locations(flywayLocations).load();\n        flyway.migrate();\n        return flyway;\n    }\n\n    @Bean(name = &quot;sqliteEntityManagerFactory&quot;)\n    public LocalContainerEntityManagerFactoryBean sqliteEntityManagerFactory(\n            final EntityManagerFactoryBuilder sqliteEntityManagerFactoryBuilder,\n            @Qualifier(&quot;sqliteDataSource&quot;) final DataSource sqliteDataSource) {\n\n        final var sqliteJpaProperties =\n                Map.ofEntries(\n                        Map.entry(\n                                &quot;hibernate.dialect&quot;, &quot;org.sqlite.hibernate.dialect.SQLiteDialect&quot;));\n\n        return sqliteEntityManagerFactoryBuilder\n                .dataSource(sqliteDataSource)\n                .packages(&quot;ch.sac.model.sqlite.entity&quot;)\n                .persistenceUnit(&quot;sqliteDataSource&quot;)\n                .properties(sqliteJpaProperties)\n                .build();\n    }\n\n    @Bean(name = &quot;sqliteTransactionManager&quot;)\n    public PlatformTransactionManager sqliteTransactionManager(\n            @Qualifier(&quot;sqliteEntityManagerFactory&quot;)\n                    final EntityManagerFactory sqliteEntityManagerFactory) {\n        return new JpaTransactionManager(sqliteEntityManagerFactory);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1670557,"reputation":904,"user_id":1537093,"accept_rate":100,"display_name":"dpelisek"},"score":2,"creation_date":1661958119,"post_id":71688774,"comment_id":129896135,"body_markdown":"Could you extend this answer please? Ideally with a code sample or reference to some documentation.","body":"Could you extend this answer please? Ideally with a code sample or reference to some documentation."},{"owner":{"account_id":4104614,"reputation":180,"user_id":3369103,"display_name":"Guardian"},"score":0,"creation_date":1694177708,"post_id":71688774,"comment_id":135860838,"body_markdown":"Can you up vote my answer if you got the answer from my response that is.","body":"Can you up vote my answer if you got the answer from my response that is."},{"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"score":0,"creation_date":1694463001,"post_id":71688774,"comment_id":135891631,"body_markdown":"Long time but yes you were correct!","body":"Long time but yes you were correct!"}],"tags":[],"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648712821,"creation_date":1648712821,"answer_id":71688774,"question_id":71614777,"body_markdown":"The answer was found: It can be done by extending AbstractRoutingDataSource class of spring.","title":"Spring JPA – Multiple Databases with the same Repositories","body":"<p>The answer was found: It can be done by extending AbstractRoutingDataSource class of spring.</p>\n"},{"comments":[{"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"score":0,"creation_date":1649151616,"post_id":71742885,"comment_id":126797550,"body_markdown":"The answer was found: It can be done by extending AbstractRoutingDataSource class of spring.","body":"The answer was found: It can be done by extending AbstractRoutingDataSource class of spring."},{"owner":{"account_id":4165403,"reputation":878,"user_id":3414468,"accept_rate":50,"display_name":"Man&#231;aux Pierre-Alexandre"},"score":0,"creation_date":1675785329,"post_id":71742885,"comment_id":133001377,"body_markdown":"@javaprogramming can you show me your answer because i m facing the same issue..thanks","body":"@javaprogramming can you show me your answer because i m facing the same issue..thanks"}],"tags":[],"owner":{"account_id":6696740,"reputation":316,"user_id":5164543,"display_name":"Sumit Kar"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649101064,"creation_date":1649101064,"answer_id":71742885,"question_id":71614777,"body_markdown":"Ideally, it is better to have two separate microservices connecting to two different data sources.","title":"Spring JPA – Multiple Databases with the same Repositories","body":"<p>Ideally, it is better to have two separate microservices connecting to two different data sources.</p>\n"},{"tags":[],"owner":{"account_id":4104614,"reputation":180,"user_id":3369103,"display_name":"Guardian"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1690527633,"creation_date":1690527633,"answer_id":76785482,"question_id":71614777,"body_markdown":"The answer on how to use the AbstractRoutingDataSource is as follows:\r\n\r\n**Create a Custom Routing Data Source:**\r\nExtend the AbstractRoutingDataSource class and override the determineCurrentLookupKey() method. This method should return a key that represents the target data source to be used for the current transaction. The key could be based on some thread-local variable, user context, or any other logic you want to use to determine the data source.\r\n\r\n**Configure Data Sources and Custom Routing Data Source:**\r\nDefine your multiple data sources in your configuration, as you would normally do. Then, create an instance of your custom routing data source and set its target data sources (the data sources you want to switch between) using the setTargetDataSources() method.\r\n\r\n**Configure Transaction Manager:**\r\nDefine multiple transaction managers, one for each data source, and link them to their respective data sources.\r\n\r\n**Enable Declarative Transactions:**\r\nAnnotate your service methods with @Transactional as usual. When a transactional method is invoked, the custom routing data source will determine the appropriate data source based on the context, and the corresponding transaction manager will be used for that transaction.\r\n\r\nif you like to see more details like code example check [here][1].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-abstract-routing-data-source","title":"Spring JPA – Multiple Databases with the same Repositories","body":"<p>The answer on how to use the AbstractRoutingDataSource is as follows:</p>\n<p><strong>Create a Custom Routing Data Source:</strong>\nExtend the AbstractRoutingDataSource class and override the determineCurrentLookupKey() method. This method should return a key that represents the target data source to be used for the current transaction. The key could be based on some thread-local variable, user context, or any other logic you want to use to determine the data source.</p>\n<p><strong>Configure Data Sources and Custom Routing Data Source:</strong>\nDefine your multiple data sources in your configuration, as you would normally do. Then, create an instance of your custom routing data source and set its target data sources (the data sources you want to switch between) using the setTargetDataSources() method.</p>\n<p><strong>Configure Transaction Manager:</strong>\nDefine multiple transaction managers, one for each data source, and link them to their respective data sources.</p>\n<p><strong>Enable Declarative Transactions:</strong>\nAnnotate your service methods with @Transactional as usual. When a transactional method is invoked, the custom routing data source will determine the appropriate data source based on the context, and the corresponding transaction manager will be used for that transaction.</p>\n<p>if you like to see more details like code example check <a href=\"https://www.baeldung.com/spring-abstract-routing-data-source\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":14878075,"reputation":125,"user_id":10743594,"display_name":"java programming"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4383,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71742885,"answer_count":4,"score":4,"last_activity_date":1690527633,"creation_date":1648200910,"question_id":71614777,"body_markdown":"I have configured Spring JPA to work with multiple data sources following this example.\r\n[Spring JPA – Multiple Databases](https://www.baeldung.com/spring-data-jpa-multiple-databases)\r\n\r\nIt works as expected but since I want to use different data sources but with the same repositories there is an issue. When I try to use &quot;Declarative Transaction Management&quot; on my services and specify which transaction I am going to use the primary transaction or secondary one the transaction annotation is ignoring it. So in this case it is using the second one. However, both of the beans &quot;PlatformTransactionManager&quot; are created but when it comes to using in &quot;@Transactional&quot; I am not able to make the transaction work with the bean I have specified. So it seems that @Transactional is ignoring the bean name since they have the same repositories. Is there any way how can I use declarative transactions as I am trying to do it? As I have seen it can be done with Programmatic Transaction Management but it will cost me to change the whole code on my services since I have been using only declarative transactions. \r\n\r\n\r\n","title":"Spring JPA – Multiple Databases with the same Repositories","body":"<p>I have configured Spring JPA to work with multiple data sources following this example.\n<a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">Spring JPA – Multiple Databases</a></p>\n<p>It works as expected but since I want to use different data sources but with the same repositories there is an issue. When I try to use &quot;Declarative Transaction Management&quot; on my services and specify which transaction I am going to use the primary transaction or secondary one the transaction annotation is ignoring it. So in this case it is using the second one. However, both of the beans &quot;PlatformTransactionManager&quot; are created but when it comes to using in &quot;@Transactional&quot; I am not able to make the transaction work with the bean I have specified. So it seems that @Transactional is ignoring the bean name since they have the same repositories. Is there any way how can I use declarative transactions as I am trying to do it? As I have seen it can be done with Programmatic Transaction Management but it will cost me to change the whole code on my services since I have been using only declarative transactions.</p>\n"},{"tags":["java","sql","oracle","hibernate"],"comments":[{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1690452640,"post_id":76778262,"comment_id":135357148,"body_markdown":"JSON_VALUE is a fonction that could be used in the SELECT and the WHERE part of the query, JSON_TEXTCONTAINS is like JSON_EXISTS: only in the WHERE clause, that may explain the different behavior.","body":"JSON_VALUE is a fonction that could be used in the SELECT and the WHERE part of the query, JSON_TEXTCONTAINS is like JSON_EXISTS: only in the WHERE clause, that may explain the different behavior."},{"owner":{"account_id":28710127,"reputation":1,"user_id":21985766,"display_name":"Isma&#239;l"},"score":0,"creation_date":1690461586,"post_id":76778262,"comment_id":135359100,"body_markdown":"Both of them are used in the where clause, does that mean JSON_TEXTCONTAINS cannot be used in a where clause from hibernate ?","body":"Both of them are used in the where clause, does that mean JSON_TEXTCONTAINS cannot be used in a where clause from hibernate ?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1690472031,"post_id":76778262,"comment_id":135361757,"body_markdown":"I just pointed out a difference from ORACLE point of view, you should enable the tracing of queries to see what Hibernate generates.","body":"I just pointed out a difference from ORACLE point of view, you should enable the tracing of queries to see what Hibernate generates."},{"owner":{"account_id":28710127,"reputation":1,"user_id":21985766,"display_name":"Isma&#239;l"},"score":0,"creation_date":1690526277,"post_id":76778262,"comment_id":135368803,"body_markdown":"I already done the tracing and each query seems ok, just it doesn&#39;t run. For SQL you cannot just do JSON_TEXTCONTAINS() = 1, and for hibernate as I said it doesn&#39;t support a function without an operator in the where clause. I&#39;ve edited my question to add this precision.","body":"I already done the tracing and each query seems ok, just it doesn&#39;t run. For SQL you cannot just do JSON_TEXTCONTAINS() = 1, and for hibernate as I said it doesn&#39;t support a function without an operator in the where clause. I&#39;ve edited my question to add this precision."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1690530548,"post_id":76778262,"comment_id":135369551,"body_markdown":"And if you wrap JSON_TEXTCONTAINS in a function returning a number?","body":"And if you wrap JSON_TEXTCONTAINS in a function returning a number?"},{"owner":{"account_id":28710127,"reputation":1,"user_id":21985766,"display_name":"Isma&#239;l"},"score":0,"creation_date":1690536351,"post_id":76778262,"comment_id":135370740,"body_markdown":"Good idea but not working, it seems JSON_TEXTCONTAINS does not return anything and is inherent to be used in a where clause. Kind of like a `attribute like &#39;%1&#39;`","body":"Good idea but not working, it seems JSON_TEXTCONTAINS does not return anything and is inherent to be used in a where clause. Kind of like a <code>attribute like &#39;%1&#39;</code>"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1690543869,"post_id":76778262,"comment_id":135372190,"body_markdown":"try this:\ncreate or replace function is_jsontextcontains(p_json IN VARCHAR2, p_target IN VARCHAR2)\nreturn number\nis\n    v_result NUMBER;\nbegin\n\twith data(s) as ( select p_json from dual )\n\tselect count(*) into v_result from data where  JSON_TEXTCONTAINS(s, &#39;$&#39;, p_target);\n\treturn v_result;\nend;","body":"try this: create or replace function is_jsontextcontains(p_json IN VARCHAR2, p_target IN VARCHAR2) return number is     v_result NUMBER; begin \twith data(s) as ( select p_json from dual ) \tselect count(*) into v_result from data where  JSON_TEXTCONTAINS(s, &#39;$&#39;, p_target); \treturn v_result; end;"},{"owner":{"account_id":28710127,"reputation":1,"user_id":21985766,"display_name":"Isma&#239;l"},"score":0,"creation_date":1690794085,"post_id":76778262,"comment_id":135397434,"body_markdown":"Thank for you anwser, it seems it could work with this idea. I&#39;m not an expert of oracle, but I can&#39;t get your function to work. I get `&quot;first argument of JSON_TEXTCONTAINS needs to be a column`. It seems that putting `s` as column doesn&#39;t work. Still, I don&#39;t understand where the attribute of the json I want to fetch goes into your function. It should have a third parameter `p_att` and use it like `JSON_TEXTCONTAINS(s, &#39;$.p_att&#39;, p_target)` no ?","body":"Thank for you anwser, it seems it could work with this idea. I&#39;m not an expert of oracle, but I can&#39;t get your function to work. I get <code>&quot;first argument of JSON_TEXTCONTAINS needs to be a column</code>. It seems that putting <code>s</code> as column doesn&#39;t work. Still, I don&#39;t understand where the attribute of the json I want to fetch goes into your function. It should have a third parameter <code>p_att</code> and use it like <code>JSON_TEXTCONTAINS(s, &#39;$.p_att&#39;, p_target)</code> no ?"},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1690805120,"post_id":76778262,"comment_id":135399506,"body_markdown":"It&#39;s why I put the WITH clause to wrap the parameter in a query from DUAL so it&#39;s a column when used in JSON_TEXTCONTAINS.","body":"It&#39;s why I put the WITH clause to wrap the parameter in a query from DUAL so it&#39;s a column when used in JSON_TEXTCONTAINS."},{"owner":{"account_id":28710127,"reputation":1,"user_id":21985766,"display_name":"Isma&#239;l"},"score":0,"creation_date":1690810262,"post_id":76778262,"comment_id":135400693,"body_markdown":"Yeah I understand but I still get : `ORA-40468: First input parameter to JSON_TEXTCONTAINS() must be a column.` Could you show me how do you want me to use your function ? Because maybe I don&#39;t get what you want me to achieve with this function.","body":"Yeah I understand but I still get : <code>ORA-40468: First input parameter to JSON_TEXTCONTAINS() must be a column.</code> Could you show me how do you want me to use your function ? Because maybe I don&#39;t get what you want me to achieve with this function."},{"owner":{"account_id":6389739,"reputation":2892,"user_id":4956336,"display_name":"p3consulting"},"score":0,"creation_date":1690811187,"post_id":76778262,"comment_id":135400914,"body_markdown":"by having a FUNCTION returning a NUMBER you should be able to register it in Hibernate:\ncreate or replace function is_jsontextcontains(p_json IN VARCHAR2, p_target IN VARCHAR2)\nreturn number\nis\n    v_result NUMBER;\nbegin\n\twith data(s) as ( select p_json from dual )\n\tselect count(*) into v_result from data where  JSON_TEXTCONTAINS(s, &#39;$&#39;, p_target);\n\treturn v_result;\nend;\n\nThe only limitation of JSON_TEXTCONTAINS you can&#39;t go around is that the path parameter MUST be a literal.\nAnd this compiles fine here: Oracle Database 21c Enterprise Edition Release 21.0.0.0.0 - Production.","body":"by having a FUNCTION returning a NUMBER you should be able to register it in Hibernate: create or replace function is_jsontextcontains(p_json IN VARCHAR2, p_target IN VARCHAR2) return number is     v_result NUMBER; begin \twith data(s) as ( select p_json from dual ) \tselect count(*) into v_result from data where  JSON_TEXTCONTAINS(s, &#39;$&#39;, p_target); \treturn v_result; end;  The only limitation of JSON_TEXTCONTAINS you can&#39;t go around is that the path parameter MUST be a literal. And this compiles fine here: Oracle Database 21c Enterprise Edition Release 21.0.0.0.0 - Production."}],"owner":{"account_id":28710127,"reputation":1,"user_id":21985766,"display_name":"Isma&#239;l"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690526595,"creation_date":1690449585,"question_id":76778262,"body_markdown":"The issue is that whatever I try in hibernate, it seems impossible to use this particular &quot;unary&quot; function from oracle text.\r\n\r\nI know how to use JSON_VALUE function in hibernate, by doing\r\n\r\n```java\r\nExpression&lt;String&gt; expression = \r\n                        builder.function(&quot;JSON_VALUE&quot;, \r\n                                String.class, \r\n                                new HibernateInlineExpressionHelper(builder, &quot;my_json_col&quot;), \r\n                                new HibernateInlineExpressionHelper(builder, &quot;&#39;$.my_json_att&#39;&quot;)\r\n                        );\r\n```\r\n\r\nand then comparing the value using basic operator in hibernate like\r\n\r\n```java\r\nPredicate predicate = builder.like(expression, value + &quot;%&quot;);\r\n```\r\n\r\nBut then when it is about JSON_TEXTCONTAINS function, nothing works. I&#39;ve tried creating this expression :\r\n\r\n```java\r\nExpression&lt;Boolean&gt; expression = \r\n                            builder.function(&quot;JSON_TEXTCONTAINS&quot;, \r\n                                    Boolean.class, \r\n                                    new HibernateInlineExpressionHelper(builder, &quot;my_json_col&quot;), \r\n                                    new HibernateInlineExpressionHelper(builder, &quot;&#39;$.my_json_att&#39;&quot;), \r\n                                    new HibernateInlineExpressionHelper(builder, &quot;&#39;my_json_val&#39;&quot;));\r\n```\r\n\r\nAnd then calling an equal true :\r\n\r\n```java\r\nPredicate predicate = builder.isTrue(expression);\r\n```\r\n\r\nBut this is not supported by sql, error message is `&quot;ORA-00933: SQL command not properly ended&quot;`.\r\n\r\nOr even :\r\n\r\n```java\r\nPredicate predicate = new BooleanExpressionPredicate((CriteriaBuilderImpl) builder, expression);\r\n```\r\n\r\nBut this is not supported by hibernate at least for JSON_TEXTCONTAINS function, error message is \r\n\r\n```java\r\norg.hibernate.hql.internal.ast.QuerySyntaxException: unexpected AST node: function (JSON_TEXTCONTAINS) near line 1, column 301 [select rootAlias from MyEntity as rootAlias left join rootAlias.entityA as generatedAlias0 left join generatedAlias0.entityB as generatedAlias1 inner join rootAlias.contentType as generatedAlias2 where ( 1=1 ) and ( ( generatedAlias2.ref=:param0 ) and ( ( function(&#39;JSON_TEXTCONTAINS&#39;, my_json_col, &#39;$.my_json_att1&#39;, &#39;my_json_val1&#39;) ) and ( function(&#39;JSON_TEXTCONTAINS&#39;, my_json_col, &#39;$.my_json_att2&#39;, &#39;my_json_val2&#39;) ) and ( function(&#39;JSON_TEXTCONTAINS&#39;, my_json_col, &#39;$.my_json_att3&#39;, &#39;my_json_val3&#39;) ) ) ) order by rootAlias.creationDate desc, rootAlias.id desc]\r\n```\r\n\r\nThose predicate I try to build are after concatenate like this :\r\n\r\n```java\r\nCriteriaQuery&lt;MyEntity&gt; criteriaQuery = builder.createQuery(MyEntity.class);\r\ncriteriaQuery.select(root)\r\n                .where(predicateList.toArray(new Predicate[]{}))\r\n                .orderBy(orderList);\r\n```\r\n\r\nI have a lot of other predicates, with dynamic parameters, so building a native sql is not a possibility.\r\n\r\nDo someone have an idea on how to use JSON_TEXTCONTAINS ?\r\n\r\nThe class HibernateInlineExpressionHelper comes from [this blog](http://www.istvandevai.com/2018/02/using-oracle-json-functions-via-jpa-and.html).","title":"How to use JSON_TEXTCONTAINS oracle function with hibernate 5 in Java","body":"<p>The issue is that whatever I try in hibernate, it seems impossible to use this particular &quot;unary&quot; function from oracle text.</p>\n<p>I know how to use JSON_VALUE function in hibernate, by doing</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expression&lt;String&gt; expression = \n                        builder.function(&quot;JSON_VALUE&quot;, \n                                String.class, \n                                new HibernateInlineExpressionHelper(builder, &quot;my_json_col&quot;), \n                                new HibernateInlineExpressionHelper(builder, &quot;'$.my_json_att'&quot;)\n                        );\n</code></pre>\n<p>and then comparing the value using basic operator in hibernate like</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate predicate = builder.like(expression, value + &quot;%&quot;);\n</code></pre>\n<p>But then when it is about JSON_TEXTCONTAINS function, nothing works. I've tried creating this expression :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Expression&lt;Boolean&gt; expression = \n                            builder.function(&quot;JSON_TEXTCONTAINS&quot;, \n                                    Boolean.class, \n                                    new HibernateInlineExpressionHelper(builder, &quot;my_json_col&quot;), \n                                    new HibernateInlineExpressionHelper(builder, &quot;'$.my_json_att'&quot;), \n                                    new HibernateInlineExpressionHelper(builder, &quot;'my_json_val'&quot;));\n</code></pre>\n<p>And then calling an equal true :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate predicate = builder.isTrue(expression);\n</code></pre>\n<p>But this is not supported by sql, error message is <code>&quot;ORA-00933: SQL command not properly ended&quot;</code>.</p>\n<p>Or even :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate predicate = new BooleanExpressionPredicate((CriteriaBuilderImpl) builder, expression);\n</code></pre>\n<p>But this is not supported by hibernate at least for JSON_TEXTCONTAINS function, error message is</p>\n<pre class=\"lang-java prettyprint-override\"><code>org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected AST node: function (JSON_TEXTCONTAINS) near line 1, column 301 [select rootAlias from MyEntity as rootAlias left join rootAlias.entityA as generatedAlias0 left join generatedAlias0.entityB as generatedAlias1 inner join rootAlias.contentType as generatedAlias2 where ( 1=1 ) and ( ( generatedAlias2.ref=:param0 ) and ( ( function('JSON_TEXTCONTAINS', my_json_col, '$.my_json_att1', 'my_json_val1') ) and ( function('JSON_TEXTCONTAINS', my_json_col, '$.my_json_att2', 'my_json_val2') ) and ( function('JSON_TEXTCONTAINS', my_json_col, '$.my_json_att3', 'my_json_val3') ) ) ) order by rootAlias.creationDate desc, rootAlias.id desc]\n</code></pre>\n<p>Those predicate I try to build are after concatenate like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>CriteriaQuery&lt;MyEntity&gt; criteriaQuery = builder.createQuery(MyEntity.class);\ncriteriaQuery.select(root)\n                .where(predicateList.toArray(new Predicate[]{}))\n                .orderBy(orderList);\n</code></pre>\n<p>I have a lot of other predicates, with dynamic parameters, so building a native sql is not a possibility.</p>\n<p>Do someone have an idea on how to use JSON_TEXTCONTAINS ?</p>\n<p>The class HibernateInlineExpressionHelper comes from <a href=\"http://www.istvandevai.com/2018/02/using-oracle-json-functions-via-jpa-and.html\" rel=\"nofollow noreferrer\">this blog</a>.</p>\n"},{"tags":["java","json","pojo","jsonschema2pojo"],"owner":{"account_id":5180100,"reputation":3,"user_id":4146062,"display_name":"Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690526347,"creation_date":1690482502,"question_id":76782518,"body_markdown":"We have example keyword in our `JSON` schema like `&quot;examples&quot; : [ &quot;001&quot; ]`. How do I add this to the generated `Pojo&#39;s` via `jsonschema2pojo-maven-plugin`. As the plugin is ignoring the examples keyword and also is there a corresponding `JSON` annotation for the example keyword?\r\n\r\nLooked for any option in the plugin documentation but no luck.","title":"How to get examples from schema to POJOS generated via generated Pojo&#39;s via jsonschema2pojo-maven-plugin","body":"<p>We have example keyword in our <code>JSON</code> schema like <code>&quot;examples&quot; : [ &quot;001&quot; ]</code>. How do I add this to the generated <code>Pojo's</code> via <code>jsonschema2pojo-maven-plugin</code>. As the plugin is ignoring the examples keyword and also is there a corresponding <code>JSON</code> annotation for the example keyword?</p>\n<p>Looked for any option in the plugin documentation but no luck.</p>\n"},{"tags":["java","network-programming","httpurlconnection","httpsurlconnection"],"comments":[{"owner":{"account_id":5534380,"reputation":268,"user_id":4472711,"display_name":"MNEMO"},"score":0,"creation_date":1690519108,"post_id":76784856,"comment_id":135367947,"body_markdown":"I recommend for you to search with terms &quot;java keep-alive&quot;","body":"I recommend for you to search with terms &quot;java keep-alive&quot;"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690526193,"post_id":76784856,"comment_id":135368788,"body_markdown":"You don&#39;t have any choice. There is no other way to use `Http[s]URLConnection`. The good news is that it does connection pooling itself behind the scenes. But don&#39;t call `disconnect()`. Just close the input stream.","body":"You don&#39;t have any choice. There is no other way to use <code>Http[s]URLConnection</code>. The good news is that it does connection pooling itself behind the scenes. But don&#39;t call <code>disconnect()</code>. Just close the input stream."}],"owner":{"account_id":22287193,"reputation":11,"user_id":16514637,"display_name":"Mounika"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690526971,"answer_count":0,"score":0,"last_activity_date":1690525612,"creation_date":1690518639,"question_id":76784856,"body_markdown":"I am using HttpURLConnection to make GET requests. Below is the code:\r\n\r\n```\r\nclass ConnectClass  {\r\n        private HttpURLConnection connection;\r\n\r\n        public makerequest(URL url)  throws Exception {\r\n        try {\r\n            connection = (HttpsURLConnection) url.openConnection();\r\n            ..... \r\n            } finally {\r\n             connection.disconnect();\r\n            }\r\n        }\r\n}\r\n```\r\n\r\nIs it a good idea to create connection and close it everytime for each request? How can I improve latency? Is it possible to reuse the existing connection without creating a new one everytime. \r\n\r\nAny ideas? Thanks in advance.","title":"Reusing connections for Improving performance","body":"<p>I am using HttpURLConnection to make GET requests. Below is the code:</p>\n<pre><code>class ConnectClass  {\n        private HttpURLConnection connection;\n\n        public makerequest(URL url)  throws Exception {\n        try {\n            connection = (HttpsURLConnection) url.openConnection();\n            ..... \n            } finally {\n             connection.disconnect();\n            }\n        }\n}\n</code></pre>\n<p>Is it a good idea to create connection and close it everytime for each request? How can I improve latency? Is it possible to reuse the existing connection without creating a new one everytime.</p>\n<p>Any ideas? Thanks in advance.</p>\n"},{"tags":["java","hibernate","nativequery"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1690638088,"post_id":76785320,"comment_id":135383143,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":29108639,"reputation":1,"user_id":22298872,"display_name":"siddharth jidage"},"score":0,"creation_date":1690793857,"post_id":76785320,"comment_id":135397374,"body_markdown":"Ive like this  &quot;select * from emp_table where emp_id= ?&quot;  i dont want to update this prams at more than 2k instances  ,  can u please suggest if there is any way to do so.","body":"Ive like this  &quot;select * from emp_table where emp_id= ?&quot;  i dont want to update this prams at more than 2k instances  ,  can u please suggest if there is any way to do so."}],"owner":{"account_id":29108639,"reputation":1,"user_id":22298872,"display_name":"siddharth jidage"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690525554,"creation_date":1690525554,"question_id":76785320,"body_markdown":"&#39;m currently working on a project that utilizes Hibernate as the ORM tool, and we have recently updated to the latest version of Hibernate (post-5.2). In our codebase, we have been using native SQL queries with the createSQLQuery method, which allowed us to use legacy-style parameters like ?. However, upon the update, we encountered the following error message:\r\n\r\n&quot;org.hibernate.QueryException: Legacy-style query parameters (?) are no longer supported; use JPA-style ordinal parameters (e.g., ?1)&quot;\r\n\r\n\r\n I understand that Hibernate deprecated createSQLQuery and recommends using JPA-style ordinal parameters. While I&#39;m aware of this recommended approach, for the time being, I&#39;m interested in finding alternative solutions or workarounds to keep our native queries intact as they are.\r\n\r\nHas anyone faced a similar issue with the latest Hibernate version, and is there a way to continue using native queries with legacy-style parameters? If so, what would be the best approach to handle this situation and avoid the deprecated method?\r\n\r\nAny insights, code examples, or suggestions would be greatly appreciated. Thank you!","title":"Using Native SQL Queries with Latest Hibernate Version (Post-5.2) - Deprecated Legacy-Style Parameters Issue","body":"<p>'m currently working on a project that utilizes Hibernate as the ORM tool, and we have recently updated to the latest version of Hibernate (post-5.2). In our codebase, we have been using native SQL queries with the createSQLQuery method, which allowed us to use legacy-style parameters like ?. However, upon the update, we encountered the following error message:</p>\n<p>&quot;org.hibernate.QueryException: Legacy-style query parameters (?) are no longer supported; use JPA-style ordinal parameters (e.g., ?1)&quot;</p>\n<p>I understand that Hibernate deprecated createSQLQuery and recommends using JPA-style ordinal parameters. While I'm aware of this recommended approach, for the time being, I'm interested in finding alternative solutions or workarounds to keep our native queries intact as they are.</p>\n<p>Has anyone faced a similar issue with the latest Hibernate version, and is there a way to continue using native queries with legacy-style parameters? If so, what would be the best approach to handle this situation and avoid the deprecated method?</p>\n<p>Any insights, code examples, or suggestions would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","tomcat","keycloak","openid-connect","pac4j"],"answers":[{"comments":[{"owner":{"account_id":10359346,"reputation":113,"user_id":7640280,"display_name":"Green Machine Disposer"},"score":0,"creation_date":1679054839,"post_id":74809015,"comment_id":133656323,"body_markdown":"Where is is this Default Client Scopes?","body":"Where is is this Default Client Scopes?"}],"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671094676,"creation_date":1671094676,"answer_id":74809015,"question_id":74796180,"body_markdown":"My problem was a keycloak misconfiguration in my keycloak test instance.\r\n\r\nI had the &quot;offline-access&quot; Client Scope added to my Default Client Scopes.\r\n\r\n","title":"Keycloak Bad token response, error=not_allowed when user doesn&#39;t have the offline_access role","body":"<p>My problem was a keycloak misconfiguration in my keycloak test instance.</p>\n<p>I had the &quot;offline-access&quot; Client Scope added to my Default Client Scopes.</p>\n"},{"tags":[],"owner":{"account_id":19323254,"reputation":33,"user_id":14126504,"display_name":"Abin M"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690525181,"creation_date":1690525181,"answer_id":76785285,"question_id":74796180,"body_markdown":"Under clients navigate to Client Scopes check that offline_access is there in **Assigned Default Client Scopes**. If it is there change that into **Available Client Scopes** This will resolve this issue.","title":"Keycloak Bad token response, error=not_allowed when user doesn&#39;t have the offline_access role","body":"<p>Under clients navigate to Client Scopes check that offline_access is there in <strong>Assigned Default Client Scopes</strong>. If it is there change that into <strong>Available Client Scopes</strong> This will resolve this issue.</p>\n"}],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1699,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74809015,"answer_count":2,"score":2,"last_activity_date":1690525181,"creation_date":1671010683,"question_id":74796180,"body_markdown":"We have a JSF Application running on a tomcat 9 and we are using keycloak (v10.0.2) for login.\r\n\r\nBecause [keycloak deprecated their tomcat-adapter][1] we would like to switch from the keycloak tomcat-adapter to [pac4j][2].\r\n\r\nSo I&#39;ve created the following configuration.\r\n\r\n   \r\n\r\n    import org.pac4j.core.client.Clients;\r\n    import org.pac4j.core.config.Config;\r\n    import org.pac4j.core.config.ConfigFactory;\r\n    import org.pac4j.oidc.client.KeycloakOidcClient;\r\n    import org.pac4j.oidc.config.KeycloakOidcConfiguration;\r\n    \r\n    import com.nimbusds.oauth2.sdk.auth.ClientAuthenticationMethod;\r\n    \r\n    public class SecurityConfigFactory implements ConfigFactory {\r\n    \r\n      @Override\r\n      public Config build(final Object... parameters) {\r\n        System.out.print(&quot;Building Security configuration...\\n&quot;);\r\n    \r\n        final KeycloakOidcConfiguration keycloak = new KeycloakOidcConfiguration();\r\n        keycloak.setBaseUri(&quot;http://localhost:8180/auth&quot;);\r\n        keycloak.setRealm(&quot;testRealm&quot;);\r\n        keycloak.setClientId(&quot;local-test&quot;);\r\n        keycloak.setSecret(&quot;abc-xyz&quot;);\r\n        keycloak.setClientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC);\r\n        keycloak.setLogoutUrl(&quot;http://localhost:8180/auth/realms/testRealm/protocol/openid-connect/logout&quot;);\r\n        final KeycloakOidcClient keycloakClient = new KeycloakOidcClient(keycloak);\r\n        keycloakClient.setName(&quot;keycloakClient&quot;);\r\n    \r\n        final String callbackUrl = &quot;http://localhost:8080/callback&quot;;\r\n        final Clients clients = new Clients(callbackUrl, keycloakClient/* , new AnonymousClient() */);\r\n    \r\n        final Config config = new Config(clients);\r\n        return config;\r\n      }\r\n    \r\n    }\r\n\r\nand added the following to my web.xml\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.pac4j.j2e.filter.CallbackFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;defaultUrl&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;renewSession&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;multiProfile&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;saveInSession&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;true&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/callback&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\n\r\n\t&lt;filter&gt;\r\n\t\t&lt;filter-name&gt;OidcFilter&lt;/filter-name&gt;\r\n\t\t&lt;filter-class&gt;org.pac4j.j2e.filter.SecurityFilter&lt;/filter-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;configFactory&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;abc.xyz.SecurityConfigFactory&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;clients&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;keycloakClient&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;authorizers&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;securityHeaders&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t&lt;/filter&gt;\r\n\t&lt;filter-mapping&gt;\r\n\t\t&lt;filter-name&gt;OidcFilter&lt;/filter-name&gt;\r\n\t\t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t\t&lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t\t&lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\r\nSo now my problem is that when a user has the offline_access role he is able to login into keycloak.\r\nBut as soon as I remove the **offline_access** role I get this exception if I click the login button at keycloak.\r\n\r\n    2022-12-14 10:19:11,304 DEBUG [http-nio-8080-exec-10]  - authenticator.OidcAuthenticator.validate - Token response: status=400, content={&quot;error&quot;:&quot;not_allowed&quot;,\r\n    &quot;error_description&quot;:&quot;Offline tokens not allowed for the user or client&quot;}\r\n    ...\r\n    org.pac4j.core.exception.TechnicalException: Bad token response, error=not_allowed\r\n    \tat org.pac4j.oidc.credentials.authenticator.OidcAuthenticator.validate(OidcAuthenticator.java:147)\r\n    \tat org.pac4j.oidc.credentials.authenticator.OidcAuthenticator.validate(OidcAuthenticator.java:35)\r\n    \tat org.pac4j.core.client.BaseClient.retrieveCredentials(BaseClient.java:71)\r\n    \tat org.pac4j.core.client.IndirectClient.getCredentials(IndirectClient.java:140)\r\n    \tat org.pac4j.core.engine.DefaultCallbackLogic.perform(DefaultCallbackLogic.java:89)\r\n    \tat org.pac4j.j2e.filter.CallbackFilter.internalFilter(CallbackFilter.java:84)\r\n    \tat org.pac4j.j2e.filter.AbstractConfigFilter.doFilter(AbstractConfigFilter.java:84)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n\r\nSo I think that I have to tell the config to not use a offline token, or is their something obvious that I&#39;m missing?\r\n\r\nIn keycloak I see the following events [![enter image description here][3]][3]\r\n\r\nMy Pom.xml includes (we are using Java 8 and I couldn&#39;t get a newer pac4j version to compile)\r\n\r\n\r\n       &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;j2e-pac4j&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.pac4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;pac4j-oidc&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://www.keycloak.org/2022/02/adapter-deprecation\r\n  [2]: https://www.pac4j.org/\r\n  [3]: https://i.stack.imgur.com/imnBc.png","title":"Keycloak Bad token response, error=not_allowed when user doesn&#39;t have the offline_access role","body":"<p>We have a JSF Application running on a tomcat 9 and we are using keycloak (v10.0.2) for login.</p>\n<p>Because <a href=\"https://www.keycloak.org/2022/02/adapter-deprecation\" rel=\"nofollow noreferrer\">keycloak deprecated their tomcat-adapter</a> we would like to switch from the keycloak tomcat-adapter to <a href=\"https://www.pac4j.org/\" rel=\"nofollow noreferrer\">pac4j</a>.</p>\n<p>So I've created the following configuration.</p>\n<pre><code>import org.pac4j.core.client.Clients;\nimport org.pac4j.core.config.Config;\nimport org.pac4j.core.config.ConfigFactory;\nimport org.pac4j.oidc.client.KeycloakOidcClient;\nimport org.pac4j.oidc.config.KeycloakOidcConfiguration;\n\nimport com.nimbusds.oauth2.sdk.auth.ClientAuthenticationMethod;\n\npublic class SecurityConfigFactory implements ConfigFactory {\n\n  @Override\n  public Config build(final Object... parameters) {\n    System.out.print(&quot;Building Security configuration...\\n&quot;);\n\n    final KeycloakOidcConfiguration keycloak = new KeycloakOidcConfiguration();\n    keycloak.setBaseUri(&quot;http://localhost:8180/auth&quot;);\n    keycloak.setRealm(&quot;testRealm&quot;);\n    keycloak.setClientId(&quot;local-test&quot;);\n    keycloak.setSecret(&quot;abc-xyz&quot;);\n    keycloak.setClientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_BASIC);\n    keycloak.setLogoutUrl(&quot;http://localhost:8180/auth/realms/testRealm/protocol/openid-connect/logout&quot;);\n    final KeycloakOidcClient keycloakClient = new KeycloakOidcClient(keycloak);\n    keycloakClient.setName(&quot;keycloakClient&quot;);\n\n    final String callbackUrl = &quot;http://localhost:8080/callback&quot;;\n    final Clients clients = new Clients(callbackUrl, keycloakClient/* , new AnonymousClient() */);\n\n    final Config config = new Config(clients);\n    return config;\n  }\n\n}\n</code></pre>\n<p>and added the following to my web.xml</p>\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.pac4j.j2e.filter.CallbackFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;defaultUrl&lt;/param-name&gt;\n        &lt;param-value&gt;/&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;renewSession&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;multiProfile&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;saveInSession&lt;/param-name&gt;\n        &lt;param-value&gt;true&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;callbackFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/callback&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n\n\n&lt;filter&gt;\n    &lt;filter-name&gt;OidcFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.pac4j.j2e.filter.SecurityFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;configFactory&lt;/param-name&gt;\n        &lt;param-value&gt;abc.xyz.SecurityConfigFactory&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;clients&lt;/param-name&gt;\n        &lt;param-value&gt;keycloakClient&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;authorizers&lt;/param-name&gt;\n        &lt;param-value&gt;securityHeaders&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;OidcFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>So now my problem is that when a user has the offline_access role he is able to login into keycloak.\nBut as soon as I remove the <strong>offline_access</strong> role I get this exception if I click the login button at keycloak.</p>\n<pre><code>2022-12-14 10:19:11,304 DEBUG [http-nio-8080-exec-10]  - authenticator.OidcAuthenticator.validate - Token response: status=400, content={&quot;error&quot;:&quot;not_allowed&quot;,\n&quot;error_description&quot;:&quot;Offline tokens not allowed for the user or client&quot;}\n...\norg.pac4j.core.exception.TechnicalException: Bad token response, error=not_allowed\n    at org.pac4j.oidc.credentials.authenticator.OidcAuthenticator.validate(OidcAuthenticator.java:147)\n    at org.pac4j.oidc.credentials.authenticator.OidcAuthenticator.validate(OidcAuthenticator.java:35)\n    at org.pac4j.core.client.BaseClient.retrieveCredentials(BaseClient.java:71)\n    at org.pac4j.core.client.IndirectClient.getCredentials(IndirectClient.java:140)\n    at org.pac4j.core.engine.DefaultCallbackLogic.perform(DefaultCallbackLogic.java:89)\n    at org.pac4j.j2e.filter.CallbackFilter.internalFilter(CallbackFilter.java:84)\n    at org.pac4j.j2e.filter.AbstractConfigFilter.doFilter(AbstractConfigFilter.java:84)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>So I think that I have to tell the config to not use a offline token, or is their something obvious that I'm missing?</p>\n<p>In keycloak I see the following events <a href=\"https://i.stack.imgur.com/imnBc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/imnBc.png\" alt=\"enter image description here\" /></a></p>\n<p>My Pom.xml includes (we are using Java 8 and I couldn't get a newer pac4j version to compile)</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;j2e-pac4j&lt;/artifactId&gt;\n        &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.pac4j&lt;/groupId&gt;\n        &lt;artifactId&gt;pac4j-oidc&lt;/artifactId&gt;\n        &lt;version&gt;3.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","vaadin","spotify"],"answers":[{"tags":[],"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690524516,"creation_date":1690496211,"answer_id":76783732,"question_id":76783621,"body_markdown":"It looks like you are trying to use the `trackID` in the constructor, but here it is not yet initialized.\r\nYou have to move/call the code using `trackID` into the beforeEnter method or to another routing life cycle event that happens after the `beforeEnter`, preferably `afterNavigation` for example when you need to access the backend and modify / populate UI with data.","title":"How to use a Route Parameter within a Vaadin page","body":"<p>It looks like you are trying to use the <code>trackID</code> in the constructor, but here it is not yet initialized.\nYou have to move/call the code using <code>trackID</code> into the beforeEnter method or to another routing life cycle event that happens after the <code>beforeEnter</code>, preferably <code>afterNavigation</code> for example when you need to access the backend and modify / populate UI with data.</p>\n"}],"owner":{"account_id":18737525,"reputation":25,"user_id":13661540,"display_name":"Gyro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690524516,"creation_date":1690494771,"question_id":76783621,"body_markdown":"I am creating a Spring application using Vaadin with the help of the Spotify API and a Java Wrapper for the API. I am trying to grab a Route Parameter from the RouteLink that navigates to the current page, and use that String parameter to help me display the information I need. \r\n\r\nThe page with the RouterLink has a for-loop that loops through a search result of various songs and then provides a link for each song with a different route parameter of the Spotify Track ID.\r\n\r\n\r\n```\r\nRouterLink songPageLink = new RouterLink(&quot;Song Details&quot;, songDescription.class, new RouteParameters(&quot;trackID&quot;, track.getId()));\r\n```\r\n\r\nThis is the code for the page I am working on:\r\n\r\n\r\n```\r\npackage trackour.trackour.views.songDescription;\r\n\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.vaadin.flow.component.html.H1;\r\nimport com.vaadin.flow.component.html.H2;\r\nimport com.vaadin.flow.component.html.Image;\r\nimport com.vaadin.flow.component.html.Paragraph;\r\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\r\nimport com.vaadin.flow.router.BeforeEnterEvent;\r\nimport com.vaadin.flow.router.BeforeEnterObserver;\r\nimport com.vaadin.flow.router.PageTitle;\r\nimport com.vaadin.flow.router.Route;\r\nimport com.vaadin.flow.server.auth.AnonymousAllowed;\r\n\r\nimport trackour.trackour.views.api.APIController;\r\n\r\n@Route(&quot;songDescription/:trackID?&quot;)\r\n@PageTitle(&quot;Description&quot;)\r\n@AnonymousAllowed\r\n@Component\r\npublic class songDescription extends VerticalLayout implements BeforeEnterObserver {\r\n\r\n    private String trackID;\r\n\r\n    public songDescription() {\r\n\r\n        H1 songTitle = new H1(&quot;SONG NAME&quot;);\r\n        H2 songArtist = new H2(&quot;SONG ARTIST&quot;);\r\n        Image albumCover = new Image();\r\n\r\n        Paragraph acousticnessDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph danceabilityDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph energyDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph instrumentalnessDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph keyDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph livenessDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph loudnessDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph modeDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph tempoDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph timeSignatureDetail = new Paragraph(&quot;VALUE&quot;);\r\n        Paragraph valenceDetail = new Paragraph(&quot;VALUE&quot;);\r\n        \r\n        add(albumCover, songTitle, songArtist, acousticnessDetail, danceabilityDetail, \r\n            energyDetail, instrumentalnessDetail, keyDetail, livenessDetail, loudnessDetail, \r\n            modeDetail, tempoDetail, timeSignatureDetail, valenceDetail);\r\n    }\r\n\r\n    @Override\r\n    public void beforeEnter(BeforeEnterEvent event) {\r\n        trackID = event.getRouteParameters().get(&quot;trackID&quot;).orElseThrow();\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe code works fine the way I have provided it, but once I try to use the `trackID` variable, I get different Spring Bean exceptions.\r\n\r\nHere&#39;s an example of how I want to use the Route Parameter:\r\n```\r\nH1 songTitle = new H1(APIController.getTrackName(trackID));\r\n```\r\n\r\nOnce I do that, I get given this error:\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;songDescription&#39; defined in file [C:\\Users\\gohar\\OneDrive\\SFU\\CMPT276\\trackour\\target\\classes\\trackour\\trackour\\views\\songDescription\\songDescription.class]: Failed to instantiate [trackour.trackour.views.songDescription.songDescription]: Constructor threw exception\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199) ~[spring-beans-6.0.10.jar:6.0.10]        \r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.10.jar:6.0.10]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar:6.0.10]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\r\n        at trackour.trackour.Application.main(Application.java:26) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.1.jar:3.1.1]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [trackour.trackour.views.songDescription.songDescription]: Constructor threw exception\r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        ... 22 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;replacement&quot; is null\r\n        at java.base/java.util.regex.Matcher.appendExpandedReplacement(Matcher.java:1014) ~[na:na]\r\n        at java.base/java.util.regex.Matcher.appendReplacement(Matcher.java:997) ~[na:na]        \r\n        at java.base/java.util.regex.Matcher.replaceAll(Matcher.java:1181) ~[na:na]\r\n        at java.base/java.lang.String.replaceAll(String.java:2940) ~[na:na]\r\n        at se.michaelthelin.spotify.requests.AbstractRequest$Builder.setPath(AbstractRequest.java:244) ~[spotify-web-api-java-8.0.0.jar:na]\r\n        at se.michaelthelin.spotify.requests.data.tracks.GetTrackRequest$Builder.build(GetTrackRequest.java:89) ~[spotify-web-api-java-8.0.0.jar:na]\r\n        at trackour.trackour.views.api.APIController.getTrackName(APIController.java:300) ~[classes/:na]\r\n        at trackour.trackour.views.songDescription.songDescription.&lt;init&gt;(songDescription.java:28) ~[classes/:na]\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]    \r\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198) ~[spring-beans-6.0.10.jar:6.0.10]\r\n        ... 24 common frames omitted\r\n```\r\n","title":"How to use a Route Parameter within a Vaadin page","body":"<p>I am creating a Spring application using Vaadin with the help of the Spotify API and a Java Wrapper for the API. I am trying to grab a Route Parameter from the RouteLink that navigates to the current page, and use that String parameter to help me display the information I need.</p>\n<p>The page with the RouterLink has a for-loop that loops through a search result of various songs and then provides a link for each song with a different route parameter of the Spotify Track ID.</p>\n<pre><code>RouterLink songPageLink = new RouterLink(&quot;Song Details&quot;, songDescription.class, new RouteParameters(&quot;trackID&quot;, track.getId()));\n</code></pre>\n<p>This is the code for the page I am working on:</p>\n<pre><code>package trackour.trackour.views.songDescription;\n\nimport org.springframework.stereotype.Component;\n\nimport com.vaadin.flow.component.html.H1;\nimport com.vaadin.flow.component.html.H2;\nimport com.vaadin.flow.component.html.Image;\nimport com.vaadin.flow.component.html.Paragraph;\nimport com.vaadin.flow.component.orderedlayout.VerticalLayout;\nimport com.vaadin.flow.router.BeforeEnterEvent;\nimport com.vaadin.flow.router.BeforeEnterObserver;\nimport com.vaadin.flow.router.PageTitle;\nimport com.vaadin.flow.router.Route;\nimport com.vaadin.flow.server.auth.AnonymousAllowed;\n\nimport trackour.trackour.views.api.APIController;\n\n@Route(&quot;songDescription/:trackID?&quot;)\n@PageTitle(&quot;Description&quot;)\n@AnonymousAllowed\n@Component\npublic class songDescription extends VerticalLayout implements BeforeEnterObserver {\n\n    private String trackID;\n\n    public songDescription() {\n\n        H1 songTitle = new H1(&quot;SONG NAME&quot;);\n        H2 songArtist = new H2(&quot;SONG ARTIST&quot;);\n        Image albumCover = new Image();\n\n        Paragraph acousticnessDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph danceabilityDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph energyDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph instrumentalnessDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph keyDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph livenessDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph loudnessDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph modeDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph tempoDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph timeSignatureDetail = new Paragraph(&quot;VALUE&quot;);\n        Paragraph valenceDetail = new Paragraph(&quot;VALUE&quot;);\n        \n        add(albumCover, songTitle, songArtist, acousticnessDetail, danceabilityDetail, \n            energyDetail, instrumentalnessDetail, keyDetail, livenessDetail, loudnessDetail, \n            modeDetail, tempoDetail, timeSignatureDetail, valenceDetail);\n    }\n\n    @Override\n    public void beforeEnter(BeforeEnterEvent event) {\n        trackID = event.getRouteParameters().get(&quot;trackID&quot;).orElseThrow();\n    }\n}\n</code></pre>\n<p>The code works fine the way I have provided it, but once I try to use the <code>trackID</code> variable, I get different Spring Bean exceptions.</p>\n<p>Here's an example of how I want to use the Route Parameter:</p>\n<pre><code>H1 songTitle = new H1(APIController.getTrackName(trackID));\n</code></pre>\n<p>Once I do that, I get given this error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'songDescription' defined in file [C:\\Users\\gohar\\OneDrive\\SFU\\CMPT276\\trackour\\target\\classes\\trackour\\trackour\\views\\songDescription\\songDescription.class]: Failed to instantiate [trackour.trackour.views.songDescription.songDescription]: Constructor threw exception\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1314) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1199) ~[spring-beans-6.0.10.jar:6.0.10]        \n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941) ~[spring-context-6.0.10.jar:6.0.10]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar:6.0.10]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\n        at trackour.trackour.Application.main(Application.java:26) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.1.jar:3.1.1]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [trackour.trackour.views.songDescription.songDescription]: Constructor threw exception\n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-6.0.10.jar:6.0.10]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1308) ~[spring-beans-6.0.10.jar:6.0.10]\n        ... 22 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;String.length()&quot; because &quot;replacement&quot; is null\n        at java.base/java.util.regex.Matcher.appendExpandedReplacement(Matcher.java:1014) ~[na:na]\n        at java.base/java.util.regex.Matcher.appendReplacement(Matcher.java:997) ~[na:na]        \n        at java.base/java.util.regex.Matcher.replaceAll(Matcher.java:1181) ~[na:na]\n        at java.base/java.lang.String.replaceAll(String.java:2940) ~[na:na]\n        at se.michaelthelin.spotify.requests.AbstractRequest$Builder.setPath(AbstractRequest.java:244) ~[spotify-web-api-java-8.0.0.jar:na]\n        at se.michaelthelin.spotify.requests.data.tracks.GetTrackRequest$Builder.build(GetTrackRequest.java:89) ~[spotify-web-api-java-8.0.0.jar:na]\n        at trackour.trackour.views.api.APIController.getTrackName(APIController.java:300) ~[classes/:na]\n        at trackour.trackour.views.songDescription.songDescription.&lt;init&gt;(songDescription.java:28) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]    \n        at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:198) ~[spring-beans-6.0.10.jar:6.0.10]\n        ... 24 common frames omitted\n</code></pre>\n"},{"tags":["java","android","android-studio","android-mediaplayer"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1690283943,"post_id":76755077,"comment_id":135328790,"body_markdown":"If you add the code of that exception then anything can be possible to guess.","body":"If you add the code of that exception then anything can be possible to guess."},{"owner":{"account_id":19551491,"reputation":61,"user_id":14306991,"display_name":"Dev Ashish Sahu"},"score":0,"creation_date":1690524110,"post_id":76755077,"comment_id":135368481,"body_markdown":"I edited the question and added my code","body":"I edited the question and added my code"}],"owner":{"account_id":19551491,"reputation":61,"user_id":14306991,"display_name":"Dev Ashish Sahu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690524067,"creation_date":1690205909,"question_id":76755077,"body_markdown":"I am continuously getting Crash report from Android TV version 9, It&#39;s  difficult for me to troubleshoot this because I&#39;m getting this via a crash report from someone else&#39;s android tv, It is working fine in all other devices where I tested.\r\nAlso I didn&#39;t where for which scree or which code is crashing. It stated the MediaPlayer file which is android&#39;s own code.\r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.String.contains(java.lang.CharSequence)&#39; on a null object reference\r\n    android.media.MediaPlayer$EventHandler.handleMessage(MediaPlayer.java:3533)\r\n    android.os.Handler.dispatchMessage(Handler.java:106)\r\n    android.os.Looper.loop(Looper.java:193)\r\n    android.app.ActivityThread.main(ActivityThread.java:6670)\r\n    java.lang.reflect.Method.invoke(Method.java:0)\r\n    com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n    com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n\r\nBelow is the code for my splashscreen where this crash came when started the app \r\n```public class SplashScreen extends AppCompatActivity implements PartnerPage, PermissionInterface, MinAppVAPICBInterface , CopyDatabaseCompleteListener, CallBackInterface {\r\n\r\n    private static final String TAG = &quot;SplashScreen &quot;;\r\n    private SharedPreferences pref;\r\n    private boolean finishActivity;\r\n    private VideoViewCustom videoView;\r\n    private int playVideoFlag = 0;\r\n    private CheckNetwork chNetwork;\r\n    private Context context;\r\n    private SharedPreferences preferences;\r\n    private String partnerPath = &quot;&quot;;\r\n    private PermissionInterface permissionInterface;\r\n    private Activity activity;\r\n    final public static int APN_SETTINGS = 101;\r\n    private static final int PERMISSION_REQUEST_CODE = 1;\r\n\r\n    String folder = &quot;&quot;;\r\n    int codeLoginClass = 3;\r\n    int codeLoginStudent = 15;\r\n    int codeLoginTeacher = 14;\r\n    int setCode;\r\n    TrackingDbHelper trackDbHelper;\r\n    private MyCLTPathReceiver reMyCltPathReceiver;\r\n    private MyCLTVIdeoPathReciver myCLTVideoReceiver;\r\n    private IntentFilter filter;\r\n    private IntentFilter filter1;\r\n    String pathOfCLT = &quot;&quot;;\r\n    String pathOfCLTVideo = &quot;&quot;;\r\n    final Handler handler = new Handler();\r\n    final int delay = 15000; \r\n    private Runnable runnable;\r\n\r\n    List&lt;String&gt; DBPaths = new ArrayList&lt;String&gt;();\r\n    String Path1 = &quot;/CLT.sqlite&quot;;\r\n    String Path2 = &quot;/Master.sqlite&quot;;\r\n\r\n    private double locationRequestLatitude = 0.0;\r\n    private double locationRequestLongitude = 0.0;\r\n    private FirebaseAnalytics mFirebaseAnalytics;\r\n    private FirebaseCrashlytics firebaseCrashlytics;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.splash_screen);\r\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\r\n        firebaseCrashlytics = FirebaseCrashlytics.getInstance();\r\n\r\n        setCode = codeLoginClass;\r\n        context = this;\r\n        activity = this;\r\n        permissionInterface = SplashScreen.this;\r\n        videoView = (VideoViewCustom) findViewById(R.id.videoClip);\r\n        chNetwork = new CheckNetwork(this);\r\n        preferences = PreferenceManager.getDefaultSharedPreferences(SplashScreen.this);\r\n        trackDbHelper = new TrackingDbHelper(this);\r\n\r\n\r\n        pref = getSharedPreferences(getString(R.string.code), Context.MODE_PRIVATE);\r\n\r\n        reMyCltPathReceiver = new SplashScreen.MyCLTPathReceiver();\r\n        myCLTVideoReceiver = new SplashScreen.MyCLTVIdeoPathReciver();\r\n        filter = new IntentFilter(&quot;CLTPATH&quot;);\r\n        filter1 = new IntentFilter(&quot;CLTVIDEOPATH&quot;);\r\n        checkPermissions();\r\n    }\r\n\r\n\r\n    @SuppressLint(&quot;HardwareIds&quot;)\r\n    public void displaySplashScreen() {\r\n        VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n  displaySplashScreen()&quot; );\r\n        CheckDateNChange checkDateNChange = new CheckDateNChange(this);\r\n        checkDateNChange.setTime();\r\n        if (&quot;&quot;.equals(preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH, &quot;&quot;))) {\r\n            Log.d(&quot;VIDLocation&quot;,&quot;0 path &quot;);\r\n            new CLTVideosPath(getApplicationContext(), SplashScreen.this, false).execute(&quot; &quot;);\r\n        }\r\n        if (&quot;&quot;.equals(preferences.getString(Constants.PREFS_CLT_PATH, &quot;&quot;))) {\r\n            new CLTPath(context, SplashScreen.this, false).execute(&quot; &quot;);\r\n\r\n        }\r\n        TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n            return ;\r\n        }\r\n        String imei;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            imei = Settings.Secure.getString(context.getContentResolver(),Settings.Secure.ANDROID_ID);\r\n        }else {\r\n\r\n            if (tm.getDeviceId() != null) {\r\n                imei = tm.getDeviceId();\r\n            } else {\r\n                imei = Settings.Secure.getString(\r\n                        context.getContentResolver(),\r\n                        Settings.Secure.ANDROID_ID);\r\n            }\r\n        }\r\n        Log.d(TAG,&quot;Android ID: &quot; + Settings.Secure.getString(getApplicationContext().getContentResolver(), Settings.Secure.ANDROID_ID));\r\n        Log.d(TAG,&quot;IMEI ID: &quot; + imei);\r\n        SetPreference.setDeviceImeiId(SplashScreen.this, Settings.Secure.getString(getApplicationContext().getContentResolver(), Settings.Secure.ANDROID_ID), imei);\r\n\r\n        if (getIntent() != null) {\r\n            finishActivity = getIntent().getBooleanExtra(Constants.FINISH_ACTIVITY, false);\r\n            playVideoFlag = getIntent().getIntExtra(Constants.PLAY_VIDEO, 0);\r\n            Logger.logD(&quot;playVideo&quot;, &quot;playVideo--&quot; + playVideoFlag);\r\n        }\r\n        checkNcallLoginTask();\r\n        Logger.logD(&quot;finishActivity&quot;, &quot;finishActivity--&quot; + finishActivity);\r\n        Utilities.appVersionAtBottomOfScreen(this, this, pref.getString(Constants.ANDROID_DEVICE_ID, &quot;&quot;));\r\n\r\n       finishOrlaunch();\r\n    }\r\n\r\n    private void finishOrlaunch() {\r\n        if (finishActivity)\r\n            finish();\r\n        if (pref.getBoolean(PrefUtils.USER_LOGIN, false)) {\r\n            appLaunchedNew();\r\n            displayVideo();\r\n\r\n        } else {\r\n            playVideo();\r\n        }\r\n    }\r\n\r\n    private void checkNcallLoginTask() {\r\n        try {\r\n            MinAppVAPI.getMinAppVersion(this, Settings.Secure.getString(getContentResolver(), &quot;android_id&quot;), this);\r\n            if (chNetwork.checkNetwork() &amp;&amp; !&quot;&quot;.equals(pref.getString(&quot;ValiedLicence&quot;, &quot;&quot;))) {\r\n\r\n                SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                Calendar c = Calendar.getInstance();\r\n                Logger.logD(TAG, &quot;Current time =&gt; &quot; + c.getTime());\r\n\r\n                SimpleDateFormat df = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n                String str1 = df.format(c.getTime());\r\n                Date date1 = formatter.parse(str1);\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n                editor.putInt(&quot;DBValue&quot;, 2);\r\n                editor.apply();\r\n                String str2 = pref.getString(&quot;ValiedLicence&quot;, &quot;&quot;);\r\n                Date date2 = formatter.parse(str2);\r\n                if (date1.compareTo(date2) &lt; 0 &amp;&amp; pref.getBoolean(&quot;loginCall&quot;, true)) {\r\n                    SharedPreferences.Editor editors = preferences.edit();\r\n                    editors.putBoolean(&quot;LicenseCheck&quot;, true);\r\n                    editors.apply();\r\n                    org.mahiti.clt.survey.utils.Logger.logV(TAG, &quot;the current date is&quot; + date1);\r\n                    org.mahiti.clt.survey.utils.Logger.logV(TAG, &quot;the current date is&quot; + date2);\r\n                    org.mahiti.clt.survey.utils.Logger.logV(TAG, &quot;the logincall date is&quot; + pref.getBoolean(&quot;loginCall&quot;, true));\r\n                    new LoginAsyncTask(SplashScreen.this, SplashScreen.this, SplashScreen.this).executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\r\n                } else {\r\n                    Logger.logV(TAG, &quot;the licence already called&quot;);\r\n                }\r\n            } else {\r\n                SharedPreferences.Editor editor = preferences.edit();\r\n                editor.putInt(&quot;DBValue&quot;, 1);\r\n                editor.apply();\r\n                new LoginAsyncTask(SplashScreen.this, SplashScreen.this, SplashScreen.this).executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\r\n\r\n            }\r\n        } catch (ParseException e1) {\r\n            Logger.logE(TAG, &quot;the error in splash is&quot;, e1);\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    public void partnerPage(String path) {\r\n        partnerPath = path;\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        editor.putString(Constants.PREFS_PARTNER, partnerPath);\r\n        editor.apply();\r\n    }\r\n\r\n    public void checkPermissions() {\r\n        if (!PermissionClass.checkPermission(this)) {\r\n            PermissionClass.requestPermission(this, permissionInterface);\r\n            Logger.logD(&quot;Permission Granted&quot;, &quot;Permission Granted&quot;);\r\n        }else{\r\n            displaySplashScreen();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean granted(boolean value) {\r\n        if (value) {\r\n            Logger.logV(TAG, &quot;the retured value is........&quot; + value);\r\n            SharedPreferences.Editor editor = preferences.edit();\r\n            editor.putBoolean(&quot;Grant&quot;, true);\r\n            editor.apply();\r\n            displaySplashScreen();\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n\r\n    public void appLaunched() {\r\n        TrackingDbHelper helper = new TrackingDbHelper(this);\r\n        LaunchApp tracker = new LaunchApp();\r\n        TelephonyManager mTelephonyMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\r\n        String imei = &quot;&quot;;\r\n        if (mTelephonyMgr == null || ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED)\r\n            return;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            imei = mTelephonyMgr.getDeviceId(0);\r\n        }\r\n        tracker.setDeviceId(pref.getString(Constants.ANDROID_DEVICE_ID, &quot;&quot;));\r\n        tracker.setImei(imei);\r\n        GetLocations getLocations = new GetLocations(this, false);\r\n        tracker.setLatitude(getLocations.getLat());\r\n        tracker.setLongitude(getLocations.getLon());\r\n        Log.d(TAG, &quot;appLaunched: Latitude&quot;);\r\n        tracker.setLaunchTime(CalendarUtils.getCurrentDate());\r\n        tracker.setCloseTime(&quot;0&quot;);\r\n        long id = helper.insertAppLaunchTracker(tracker);\r\n\r\n        SharedPreferences.Editor editor = pref.edit();\r\n        editor.putLong(PrefUtils.PREFAPPLAUNCHID, id);\r\n        editor.apply();\r\n    }\r\n\r\n    @SuppressLint(&quot;HardwareIds&quot;)\r\n    public void appLaunchedNew() {\r\n\r\n        TrackingDbHelper helper = new TrackingDbHelper(this);\r\n        LaunchApp tracker = new LaunchApp();\r\n\r\n        TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\r\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\r\n            return ;\r\n        }\r\n        String imei;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\r\n            imei = Settings.Secure.getString(context.getContentResolver(),Settings.Secure.ANDROID_ID);\r\n        }else {\r\n\r\n            if (tm.getDeviceId() != null) {\r\n                imei = tm.getDeviceId();\r\n            } else {\r\n                imei = Settings.Secure.getString(\r\n                        context.getContentResolver(),\r\n                        Settings.Secure.ANDROID_ID);\r\n            }\r\n        }\r\n\r\n        tracker.setDeviceId(pref.getString(Constants.ANDROID_DEVICE_ID, &quot;&quot;));\r\n        tracker.setImei(imei);\r\n        GetLocations getLocations = new GetLocations(this, false);\r\n        tracker.setLatitude(getLocations.getLat());\r\n        tracker.setLongitude(getLocations.getLon());\r\n        Log.d(TAG, &quot;appLaunchedNew: Latitude  &quot;+getLocations.getLat());\r\n        Log.d(TAG, &quot;appLaunchedNew: Longitude &quot;+getLocations.getLon());\r\n        getCurrentLocation();\r\n\r\n        tracker.setLaunchTime(CalendarUtils.getCurrentDate());\r\n        tracker.setCloseTime(&quot;0&quot;);\r\n        long id = helper.insertAppLaunchTracker(tracker);\r\n\r\n        AnalyticsDbHelper analyticsDbHelper = new AnalyticsDbHelper(this);\r\n        Log.d(TAG, &quot;appLaunchedNew: LaunchTime &quot;+tracker.getLaunchTime());\r\n        Log.d(TAG, &quot;appLaunchedNew: Imei &quot;+tracker.getImei());\r\n        analyticsDbHelper.setSPLaunchTime(this, tracker.getLaunchTime());\r\n        analyticsDbHelper.setSPImei(this, tracker.getImei());\r\n\r\n        SharedPreferences.Editor editor = pref.edit();\r\n        editor.putLong(PrefUtils.PREFAPPLAUNCHID, id);\r\n        editor.apply();\r\n\r\n    }\r\n\r\n    private void getCurrentLocation() {\r\n\r\n        final LocationRequest locationRequest = new LocationRequest();\r\n        locationRequest.setInterval(10000);\r\n        locationRequest.setFastestInterval(3000);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        Log.d(TAG, &quot;getCurrentLocation: 01&quot;);\r\n\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n            Log.d(TAG, &quot;getCurrentLocation: Inside If&quot;);\r\n            return;\r\n        }\r\n        Log.d(TAG, &quot;getCurrentLocation: 02&quot;);\r\n        LocationServices.getFusedLocationProviderClient(this).requestLocationUpdates(locationRequest, new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                super.onLocationResult(locationResult);\r\n                Log.d(TAG, &quot;getCurrentLocation: Inside Result &quot;+locationResult);\r\n                LocationServices.getFusedLocationProviderClient(getApplicationContext()).removeLocationUpdates(this);\r\n                if (locationResult != null &amp;&amp; locationResult.getLocations().size() &gt; 0) {\r\n                    int latestLocationIndex = locationResult.getLocations().size() - 1;\r\n                    double latitude = locationResult.getLocations().get(latestLocationIndex).getLatitude();\r\n                    double longitude = locationResult.getLocations().get(latestLocationIndex).getLongitude();\r\n                    Log.d(TAG, &quot;getCurrentLocation: Latitude  &quot;+latitude);\r\n                    Log.d(TAG, &quot;getCurrentLocation: Longitude &quot;+longitude);\r\n                }\r\n            }\r\n        }, Looper.getMainLooper());\r\n    }\r\n\r\n    private void checkLocationPermission() {\r\n        if(ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},1);\r\n        }\r\n        else {\r\n            getCurrentLocation();\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    public void displayVideo() {\r\n        try {\r\n            String path = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.final_logo_animation;\r\n            Uri uri = Uri.parse(path);\r\n            MediaController mediaController = new MediaController(this, false);\r\n            mediaController.setVisibility(View.INVISIBLE);\r\n            mediaController.setAnchorView(videoView);\r\n            ViewGroup.LayoutParams rlParams = videoView.getLayoutParams();\r\n            DisplayMetrics displaymetrics = new DisplayMetrics();\r\n            getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);\r\n\r\n            videoView.setVideoURI(uri);\r\n            videoView.setDimensions(displaymetrics.widthPixels,rlParams.height);\r\n            videoView.getHolder().setFixedSize(displaymetrics.widthPixels,rlParams.height);\r\n\r\n            videoView.requestFocus();\r\n            videoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\r\n                public void onPrepared(MediaPlayer media) {\r\n                    media.start();\r\n                }\r\n            });\r\n        } catch (Exception e) {\r\n            Logger.logE(Constants.PROJECT, &quot;video play-&quot;, e);\r\n        }\r\n        videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n            @Override\r\n            public void onCompletion(MediaPlayer mp) {\r\n                launchMainScreen();\r\n            }\r\n        });\r\n\r\n        videoView.setOnErrorListener(new MediaPlayer.OnErrorListener() {\r\n            @Override\r\n            public boolean onError(MediaPlayer mp, int what, int extra) {\r\n                if(what==100){\r\n                    try {\r\n                        String path = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.final_logo_animation;\r\n                        Uri uri = Uri.parse(path);\r\n                        MediaController mediaController = new MediaController(SplashScreen.this, false);\r\n                        mediaController.setVisibility(View.INVISIBLE);\r\n                        mediaController.setAnchorView(videoView);\r\n\r\n                        ViewGroup.LayoutParams rlParams = videoView.getLayoutParams();\r\n                        DisplayMetrics displaymetrics = new DisplayMetrics();\r\n                        getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);\r\n\r\n                        videoView.setVideoURI(uri);\r\n                        videoView.setDimensions(displaymetrics.widthPixels,rlParams.height);\r\n                        videoView.getHolder().setFixedSize(displaymetrics.widthPixels,rlParams.height);\r\n                        if (videoView!=null) {\r\n                            videoView.start();\r\n                        }\r\n                    } catch (Exception e) {\r\n                        Logger.logE(Constants.PROJECT, &quot;video play-&quot;, e);\r\n                    }\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void launchMainScreen() {\r\n        VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n SplashScreen - LaunchmainScreen&quot;  );\r\n        DBDownloadSync();\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n        switch (requestCode) {\r\n            case APN_SETTINGS:\r\n                checkAPNSettings(grantResults);\r\n                break;\r\n            case PERMISSION_REQUEST_CODE:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    org.mahiti.clt.utils.Logger.logD(TAG, &quot;Permission granted!&quot;);\r\n                    displaySplashScreen();\r\n                }\r\n                break;\r\n            default:\r\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        }\r\n    }\r\n\r\n    private void checkAPNSettings(int[] grantResults) {\r\n        if (grantResults.length &gt; 0) {\r\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                checkAndroidVersion();\r\n            } else {\r\n                org.mahiti.clt.utils.Logger.logD(TAG, &quot;SEND_SMS Denied&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    public void checkAndroidVersion() {\r\n        int checkCallPhonePermission = ContextCompat.checkSelfPermission(this, WRITE_APN_SETTINGS);\r\n        if (checkCallPhonePermission != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this, new String[]{WRITE_APN_SETTINGS}, APN_SETTINGS);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        if (pref.getBoolean(PrefUtils.PREFBACKFLOW, false)) {\r\n            SharedPreferences.Editor editor = pref.edit();\r\n            editor.putBoolean(PrefUtils.PREFBACKFLOW, false);\r\n            editor.apply();\r\n            finish();\r\n        }\r\n        registerReceiver(reMyCltPathReceiver, filter);\r\n        registerReceiver(myCLTVideoReceiver, filter1);\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        handler.removeCallbacks(runnable);\r\n        TrackingDbHelper helper = new TrackingDbHelper(this);\r\n        helper.updateLaunchTracker(pref.getLong(PrefUtils.PREFAPPLAUNCHID, 0), CalendarUtils.getCurrentDate());\r\n        CallLogOut.callIntentSign(trackDbHelper, pref, setCode, this);\r\n        finish();\r\n\r\n    }\r\n\r\n\r\n\r\n    public class MyCLTPathReceiver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            pathOfCLT = preferences.getString(Constants.PREFS_CLT_PATH, &quot;&quot;);\r\n        }\r\n    }\r\n\r\n    public class MyCLTVIdeoPathReciver extends BroadcastReceiver {\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            pathOfCLTVideo = preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH, &quot;&quot;);\r\n\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        unregisterReceiver(reMyCltPathReceiver);\r\n        unregisterReceiver(myCLTVideoReceiver);\r\n    }\r\n\r\n    public void goTOLogin(String loginMode) {\r\n        LoginCheck.loginCheck(this, setCode, 2);\r\n        VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n splashscreen gotToLogin mode : &quot;+loginMode  );\r\n        if (&quot;&quot;.equals(pref.getString(&quot;subjects&quot;, &quot;&quot;))) {\r\n            ToastUtils.displayToast(&quot;Please check the network to continue the application,get the license and proceed&quot;, this);\r\n            return;\r\n        }\r\n        switch (loginMode) {\r\n            case &quot;classRoom&quot;:\r\n                pref.edit().putInt(Constants.PREFS_LOGIN_MODE, 1).apply();\r\n                pref.edit().putLong(PrefUtils.PREFUSERID, codeLoginClass).apply();\r\n                break;\r\n            case &quot;teacher&quot;:\r\n                pref.edit().putInt(Constants.PREFS_LOGIN_MODE, 2).apply();\r\n                pref.edit().putLong(PrefUtils.PREFUSERID, codeLoginTeacher).apply();\r\n                break;\r\n            case &quot;student&quot;:\r\n                pref.edit().putInt(Constants.PREFS_LOGIN_MODE, 3).apply();\r\n                pref.edit().putLong(PrefUtils.PREFUSERID, codeLoginStudent).apply();\r\n                break;\r\n            default:\r\n                break;\r\n\r\n\r\n        }\r\n            if (&quot;&quot;.equals(preferences.getString(Constants.PREFS_PARTNER, &quot;&quot;))) {\r\n                appLaunchedNew();\r\n                VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n Moving to LangActivity&quot;  );\r\n                Intent i = new Intent(this, LanguageActivity.class);\r\n                i.putExtra(&quot;mode&quot;, loginMode);\r\n                startActivity(i);\r\n                finish();\r\n            } else {\r\n                partnerPath = preferences.getString(Constants.PREFS_PARTNER, &quot;&quot;);\r\n                VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n Moving to PartnerActivity &quot;  );\r\n                Intent i = new Intent(SplashScreen.this, PartnerActivity.class);\r\n                i.putExtra(&quot;path&quot;, partnerPath);\r\n                startActivity(i);\r\n                finish();\r\n            }\r\n    }\r\n\r\n\r\n    private void playVideo() {\r\n        Logger.logD(TAG, &quot;playVideo()--&quot; + playVideoFlag);\r\n        if (playVideoFlag == 1)\r\n            launchMainScreen();\r\n        else if (playVideoFlag == 0)\r\n            displayVideo();\r\n    }\r\n\r\n    @Override\r\n    public void minAppVToUpdate(String response) {\r\n        Logger.logD(TAG, &quot; min app v response in splash-xscreen :&quot;+response);\r\n    }\r\n\r\n    @Override\r\n    public void onCopyDatabaseComplete(boolean isDbCopyCompleted, String message) {\r\n        if (isDbCopyCompleted)\r\n            goTOLogin(&quot;classRoom&quot;);\r\n        else\r\n            showAlert(message);\r\n    }\r\n\r\n    private boolean  showAlert(String message) {\r\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(context);\r\n        alertDialogBuilder.setTitle(message);\r\n        alertDialogBuilder\r\n                .setMessage(&quot;Click yes to exit!&quot;)\r\n                .setCancelable(false)\r\n                .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int id) {\r\n                        activity.finish();\r\n\r\n                    }\r\n                });\r\n        AlertDialog alertDialog = alertDialogBuilder.create();\r\n        alertDialog.show();\r\n        return false;\r\n    }\r\n\r\n    private void DBDownloadSync(){\r\n        SharedPreferences preferences = this.getSharedPreferences(this.getString(R.string.code), Context.MODE_PRIVATE);\r\n        String path_new = &quot;&quot;;\r\n        String VPathNew = preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH_NEW, &quot;&quot;);\r\n        String VPathOld = preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH, &quot;&quot;);\r\n        Log.d(TAG, &quot;V NEW PATH &quot; + VPathNew);\r\n        int flagId = 0;\r\n        if (VPathNew.equals(&quot;&quot;)){\r\n            SharedPreferences.Editor editor = preferences.edit();\r\n            File[] listExternalDirs = ContextCompat.getExternalFilesDirs(this, null);\r\n            if (listExternalDirs.length &gt; 1){\r\n                if (listExternalDirs[0].getAbsolutePath().toLowerCase().contains(&quot;/storage/emulated/0&quot;)){\r\n                    path_new = listExternalDirs[1].getAbsolutePath();\r\n                    flagId = 1;\r\n                } else{\r\n                    path_new = listExternalDirs[0].getAbsolutePath();\r\n                    flagId = 2;\r\n                }\r\n            } else {\r\n                if (!VPathOld.equals(&quot;&quot;)) {\r\n                    path_new = VPathOld.replace(&quot;/CLTVIDEOS&quot;, &quot;&quot;) + &quot;/Android/data/org.mahiti.clt/files&quot;;\r\n                    flagId = 3;\r\n                } else {\r\n                    path_new = listExternalDirs[0].getAbsolutePath();\r\n                    flagId = 4;\r\n                }\r\n            }\r\n            path_new = path_new + &quot;/CLTVIDEOS&quot;;\r\n            Log.d(TAG, &quot;NEW PATH 0 &quot; + path_new + &quot; &quot; + flagId);\r\n            editor.putString(Constants.PREFS_CLT_VIDEOS_PATH_NEW, path_new);\r\n            Log.d(&quot;VIDLocation&quot;,&quot;4 path &quot; + path_new);\r\n            editor.apply();\r\n        } else {\r\n            path_new = VPathNew;\r\n            Log.d(TAG, &quot;NEW PATH &quot; + path_new + &quot; 5&quot;);\r\n        }\r\n\r\n\r\n        File DBSavingPath1 = new File(path_new + Path1);\r\n        File DBSavingPath2 = new File(path_new + Path2);\r\n        if (!DBSavingPath1.exists()){\r\n            Log.d(TAG, &quot;DB PATH1&quot;);\r\n            DBPaths.add(Path1);\r\n        } else {\r\n            Log.d(TAG, &quot;DB PATH1 EXISTS&quot;);\r\n        }\r\n        if (!DBSavingPath2.exists()){\r\n            Log.d(TAG, &quot;DB PATH2&quot;);\r\n            DBPaths.add(Path2);\r\n        } else {\r\n            Log.d(TAG, &quot;DB PATH2 EXISTS&quot;);\r\n        }\r\n        if (DBPaths.size() &gt; 0){\r\n            CheckNetwork chNetwork = new CheckNetwork(this);\r\n            if (chNetwork.checkNetwork())\r\n                new VideoDownloadAsyncTask(this, Constants.DBMAINURL, preferences, DBPaths).execute();\r\n            else\r\n                new CopyDBFilesAsyncTask(preferences, folder, this, SplashScreen.this, 1).execute();\r\n        } else {\r\n            Log.d(TAG, &quot;DB else&quot;);\r\n            new CopyDBFilesAsyncTask(preferences, folder, this, SplashScreen.this, 2).execute(); \r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void callback(String str, int val) {\r\n        Log.d(TAG, &quot;DB callback&quot;);\r\n        new CopyDBFilesAsyncTask(preferences, folder, this, SplashScreen.this, 2).execute(); \r\n\r\n    }\r\n}\r\n```","title":"MediaPlayer NullPointerException on Android TV , Version 9","body":"<p>I am continuously getting Crash report from Android TV version 9, It's  difficult for me to troubleshoot this because I'm getting this via a crash report from someone else's android tv, It is working fine in all other devices where I tested.\nAlso I didn't where for which scree or which code is crashing. It stated the MediaPlayer file which is android's own code.</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.contains(java.lang.CharSequence)' on a null object reference\nandroid.media.MediaPlayer$EventHandler.handleMessage(MediaPlayer.java:3533)\nandroid.os.Handler.dispatchMessage(Handler.java:106)\nandroid.os.Looper.loop(Looper.java:193)\nandroid.app.ActivityThread.main(ActivityThread.java:6670)\njava.lang.reflect.Method.invoke(Method.java:0)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n<p>Below is the code for my splashscreen where this crash came when started the app</p>\n<pre><code>\n    private static final String TAG = &quot;SplashScreen &quot;;\n    private SharedPreferences pref;\n    private boolean finishActivity;\n    private VideoViewCustom videoView;\n    private int playVideoFlag = 0;\n    private CheckNetwork chNetwork;\n    private Context context;\n    private SharedPreferences preferences;\n    private String partnerPath = &quot;&quot;;\n    private PermissionInterface permissionInterface;\n    private Activity activity;\n    final public static int APN_SETTINGS = 101;\n    private static final int PERMISSION_REQUEST_CODE = 1;\n\n    String folder = &quot;&quot;;\n    int codeLoginClass = 3;\n    int codeLoginStudent = 15;\n    int codeLoginTeacher = 14;\n    int setCode;\n    TrackingDbHelper trackDbHelper;\n    private MyCLTPathReceiver reMyCltPathReceiver;\n    private MyCLTVIdeoPathReciver myCLTVideoReceiver;\n    private IntentFilter filter;\n    private IntentFilter filter1;\n    String pathOfCLT = &quot;&quot;;\n    String pathOfCLTVideo = &quot;&quot;;\n    final Handler handler = new Handler();\n    final int delay = 15000; \n    private Runnable runnable;\n\n    List&lt;String&gt; DBPaths = new ArrayList&lt;String&gt;();\n    String Path1 = &quot;/CLT.sqlite&quot;;\n    String Path2 = &quot;/Master.sqlite&quot;;\n\n    private double locationRequestLatitude = 0.0;\n    private double locationRequestLongitude = 0.0;\n    private FirebaseAnalytics mFirebaseAnalytics;\n    private FirebaseCrashlytics firebaseCrashlytics;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.splash_screen);\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\n        firebaseCrashlytics = FirebaseCrashlytics.getInstance();\n\n        setCode = codeLoginClass;\n        context = this;\n        activity = this;\n        permissionInterface = SplashScreen.this;\n        videoView = (VideoViewCustom) findViewById(R.id.videoClip);\n        chNetwork = new CheckNetwork(this);\n        preferences = PreferenceManager.getDefaultSharedPreferences(SplashScreen.this);\n        trackDbHelper = new TrackingDbHelper(this);\n\n\n        pref = getSharedPreferences(getString(R.string.code), Context.MODE_PRIVATE);\n\n        reMyCltPathReceiver = new SplashScreen.MyCLTPathReceiver();\n        myCLTVideoReceiver = new SplashScreen.MyCLTVIdeoPathReciver();\n        filter = new IntentFilter(&quot;CLTPATH&quot;);\n        filter1 = new IntentFilter(&quot;CLTVIDEOPATH&quot;);\n        checkPermissions();\n    }\n\n\n    @SuppressLint(&quot;HardwareIds&quot;)\n    public void displaySplashScreen() {\n        VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n  displaySplashScreen()&quot; );\n        CheckDateNChange checkDateNChange = new CheckDateNChange(this);\n        checkDateNChange.setTime();\n        if (&quot;&quot;.equals(preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH, &quot;&quot;))) {\n            Log.d(&quot;VIDLocation&quot;,&quot;0 path &quot;);\n            new CLTVideosPath(getApplicationContext(), SplashScreen.this, false).execute(&quot; &quot;);\n        }\n        if (&quot;&quot;.equals(preferences.getString(Constants.PREFS_CLT_PATH, &quot;&quot;))) {\n            new CLTPath(context, SplashScreen.this, false).execute(&quot; &quot;);\n\n        }\n        TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n            return ;\n        }\n        String imei;\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            imei = Settings.Secure.getString(context.getContentResolver(),Settings.Secure.ANDROID_ID);\n        }else {\n\n            if (tm.getDeviceId() != null) {\n                imei = tm.getDeviceId();\n            } else {\n                imei = Settings.Secure.getString(\n                        context.getContentResolver(),\n                        Settings.Secure.ANDROID_ID);\n            }\n        }\n        Log.d(TAG,&quot;Android ID: &quot; + Settings.Secure.getString(getApplicationContext().getContentResolver(), Settings.Secure.ANDROID_ID));\n        Log.d(TAG,&quot;IMEI ID: &quot; + imei);\n        SetPreference.setDeviceImeiId(SplashScreen.this, Settings.Secure.getString(getApplicationContext().getContentResolver(), Settings.Secure.ANDROID_ID), imei);\n\n        if (getIntent() != null) {\n            finishActivity = getIntent().getBooleanExtra(Constants.FINISH_ACTIVITY, false);\n            playVideoFlag = getIntent().getIntExtra(Constants.PLAY_VIDEO, 0);\n            Logger.logD(&quot;playVideo&quot;, &quot;playVideo--&quot; + playVideoFlag);\n        }\n        checkNcallLoginTask();\n        Logger.logD(&quot;finishActivity&quot;, &quot;finishActivity--&quot; + finishActivity);\n        Utilities.appVersionAtBottomOfScreen(this, this, pref.getString(Constants.ANDROID_DEVICE_ID, &quot;&quot;));\n\n       finishOrlaunch();\n    }\n\n    private void finishOrlaunch() {\n        if (finishActivity)\n            finish();\n        if (pref.getBoolean(PrefUtils.USER_LOGIN, false)) {\n            appLaunchedNew();\n            displayVideo();\n\n        } else {\n            playVideo();\n        }\n    }\n\n    private void checkNcallLoginTask() {\n        try {\n            MinAppVAPI.getMinAppVersion(this, Settings.Secure.getString(getContentResolver(), &quot;android_id&quot;), this);\n            if (chNetwork.checkNetwork() &amp;&amp; !&quot;&quot;.equals(pref.getString(&quot;ValiedLicence&quot;, &quot;&quot;))) {\n\n                SimpleDateFormat formatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n                Calendar c = Calendar.getInstance();\n                Logger.logD(TAG, &quot;Current time =&gt; &quot; + c.getTime());\n\n                SimpleDateFormat df = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n                String str1 = df.format(c.getTime());\n                Date date1 = formatter.parse(str1);\n                SharedPreferences.Editor editor = preferences.edit();\n                editor.putInt(&quot;DBValue&quot;, 2);\n                editor.apply();\n                String str2 = pref.getString(&quot;ValiedLicence&quot;, &quot;&quot;);\n                Date date2 = formatter.parse(str2);\n                if (date1.compareTo(date2) &lt; 0 &amp;&amp; pref.getBoolean(&quot;loginCall&quot;, true)) {\n                    SharedPreferences.Editor editors = preferences.edit();\n                    editors.putBoolean(&quot;LicenseCheck&quot;, true);\n                    editors.apply();\n                    org.mahiti.clt.survey.utils.Logger.logV(TAG, &quot;the current date is&quot; + date1);\n                    org.mahiti.clt.survey.utils.Logger.logV(TAG, &quot;the current date is&quot; + date2);\n                    org.mahiti.clt.survey.utils.Logger.logV(TAG, &quot;the logincall date is&quot; + pref.getBoolean(&quot;loginCall&quot;, true));\n                    new LoginAsyncTask(SplashScreen.this, SplashScreen.this, SplashScreen.this).executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\n                } else {\n                    Logger.logV(TAG, &quot;the licence already called&quot;);\n                }\n            } else {\n                SharedPreferences.Editor editor = preferences.edit();\n                editor.putInt(&quot;DBValue&quot;, 1);\n                editor.apply();\n                new LoginAsyncTask(SplashScreen.this, SplashScreen.this, SplashScreen.this).executeOnExecutor(AsyncTask.THREAD_POOL_EXECUTOR);\n\n            }\n        } catch (ParseException e1) {\n            Logger.logE(TAG, &quot;the error in splash is&quot;, e1);\n        }\n    }\n\n\n    @Override\n    public void partnerPage(String path) {\n        partnerPath = path;\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putString(Constants.PREFS_PARTNER, partnerPath);\n        editor.apply();\n    }\n\n    public void checkPermissions() {\n        if (!PermissionClass.checkPermission(this)) {\n            PermissionClass.requestPermission(this, permissionInterface);\n            Logger.logD(&quot;Permission Granted&quot;, &quot;Permission Granted&quot;);\n        }else{\n            displaySplashScreen();\n        }\n\n    }\n\n\n    @Override\n    public boolean granted(boolean value) {\n        if (value) {\n            Logger.logV(TAG, &quot;the retured value is........&quot; + value);\n            SharedPreferences.Editor editor = preferences.edit();\n            editor.putBoolean(&quot;Grant&quot;, true);\n            editor.apply();\n            displaySplashScreen();\n        }\n        return false;\n    }\n\n\n\n    public void appLaunched() {\n        TrackingDbHelper helper = new TrackingDbHelper(this);\n        LaunchApp tracker = new LaunchApp();\n        TelephonyManager mTelephonyMgr = (TelephonyManager) getSystemService(Context.TELEPHONY_SERVICE);\n        String imei = &quot;&quot;;\n        if (mTelephonyMgr == null || ActivityCompat.checkSelfPermission(this, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED)\n            return;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            imei = mTelephonyMgr.getDeviceId(0);\n        }\n        tracker.setDeviceId(pref.getString(Constants.ANDROID_DEVICE_ID, &quot;&quot;));\n        tracker.setImei(imei);\n        GetLocations getLocations = new GetLocations(this, false);\n        tracker.setLatitude(getLocations.getLat());\n        tracker.setLongitude(getLocations.getLon());\n        Log.d(TAG, &quot;appLaunched: Latitude&quot;);\n        tracker.setLaunchTime(CalendarUtils.getCurrentDate());\n        tracker.setCloseTime(&quot;0&quot;);\n        long id = helper.insertAppLaunchTracker(tracker);\n\n        SharedPreferences.Editor editor = pref.edit();\n        editor.putLong(PrefUtils.PREFAPPLAUNCHID, id);\n        editor.apply();\n    }\n\n    @SuppressLint(&quot;HardwareIds&quot;)\n    public void appLaunchedNew() {\n\n        TrackingDbHelper helper = new TrackingDbHelper(this);\n        LaunchApp tracker = new LaunchApp();\n\n        TelephonyManager tm = (TelephonyManager) context.getSystemService(Context.TELEPHONY_SERVICE);\n        if (ActivityCompat.checkSelfPermission(context, Manifest.permission.READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED) {\n            return ;\n        }\n        String imei;\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q) {\n            imei = Settings.Secure.getString(context.getContentResolver(),Settings.Secure.ANDROID_ID);\n        }else {\n\n            if (tm.getDeviceId() != null) {\n                imei = tm.getDeviceId();\n            } else {\n                imei = Settings.Secure.getString(\n                        context.getContentResolver(),\n                        Settings.Secure.ANDROID_ID);\n            }\n        }\n\n        tracker.setDeviceId(pref.getString(Constants.ANDROID_DEVICE_ID, &quot;&quot;));\n        tracker.setImei(imei);\n        GetLocations getLocations = new GetLocations(this, false);\n        tracker.setLatitude(getLocations.getLat());\n        tracker.setLongitude(getLocations.getLon());\n        Log.d(TAG, &quot;appLaunchedNew: Latitude  &quot;+getLocations.getLat());\n        Log.d(TAG, &quot;appLaunchedNew: Longitude &quot;+getLocations.getLon());\n        getCurrentLocation();\n\n        tracker.setLaunchTime(CalendarUtils.getCurrentDate());\n        tracker.setCloseTime(&quot;0&quot;);\n        long id = helper.insertAppLaunchTracker(tracker);\n\n        AnalyticsDbHelper analyticsDbHelper = new AnalyticsDbHelper(this);\n        Log.d(TAG, &quot;appLaunchedNew: LaunchTime &quot;+tracker.getLaunchTime());\n        Log.d(TAG, &quot;appLaunchedNew: Imei &quot;+tracker.getImei());\n        analyticsDbHelper.setSPLaunchTime(this, tracker.getLaunchTime());\n        analyticsDbHelper.setSPImei(this, tracker.getImei());\n\n        SharedPreferences.Editor editor = pref.edit();\n        editor.putLong(PrefUtils.PREFAPPLAUNCHID, id);\n        editor.apply();\n\n    }\n\n    private void getCurrentLocation() {\n\n        final LocationRequest locationRequest = new LocationRequest();\n        locationRequest.setInterval(10000);\n        locationRequest.setFastestInterval(3000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        Log.d(TAG, &quot;getCurrentLocation: 01&quot;);\n\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED &amp;&amp; ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n            Log.d(TAG, &quot;getCurrentLocation: Inside If&quot;);\n            return;\n        }\n        Log.d(TAG, &quot;getCurrentLocation: 02&quot;);\n        LocationServices.getFusedLocationProviderClient(this).requestLocationUpdates(locationRequest, new LocationCallback() {\n            @Override\n            public void onLocationResult(LocationResult locationResult) {\n                super.onLocationResult(locationResult);\n                Log.d(TAG, &quot;getCurrentLocation: Inside Result &quot;+locationResult);\n                LocationServices.getFusedLocationProviderClient(getApplicationContext()).removeLocationUpdates(this);\n                if (locationResult != null &amp;&amp; locationResult.getLocations().size() &gt; 0) {\n                    int latestLocationIndex = locationResult.getLocations().size() - 1;\n                    double latitude = locationResult.getLocations().get(latestLocationIndex).getLatitude();\n                    double longitude = locationResult.getLocations().get(latestLocationIndex).getLongitude();\n                    Log.d(TAG, &quot;getCurrentLocation: Latitude  &quot;+latitude);\n                    Log.d(TAG, &quot;getCurrentLocation: Longitude &quot;+longitude);\n                }\n            }\n        }, Looper.getMainLooper());\n    }\n\n    private void checkLocationPermission() {\n        if(ContextCompat.checkSelfPermission(getApplicationContext(), Manifest.permission.ACCESS_FINE_LOCATION)!= PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION},1);\n        }\n        else {\n            getCurrentLocation();\n        }\n\n    }\n\n\n\n    public void displayVideo() {\n        try {\n            String path = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.final_logo_animation;\n            Uri uri = Uri.parse(path);\n            MediaController mediaController = new MediaController(this, false);\n            mediaController.setVisibility(View.INVISIBLE);\n            mediaController.setAnchorView(videoView);\n            ViewGroup.LayoutParams rlParams = videoView.getLayoutParams();\n            DisplayMetrics displaymetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);\n\n            videoView.setVideoURI(uri);\n            videoView.setDimensions(displaymetrics.widthPixels,rlParams.height);\n            videoView.getHolder().setFixedSize(displaymetrics.widthPixels,rlParams.height);\n\n            videoView.requestFocus();\n            videoView.setOnPreparedListener(new MediaPlayer.OnPreparedListener() {\n                public void onPrepared(MediaPlayer media) {\n                    media.start();\n                }\n            });\n        } catch (Exception e) {\n            Logger.logE(Constants.PROJECT, &quot;video play-&quot;, e);\n        }\n        videoView.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n            @Override\n            public void onCompletion(MediaPlayer mp) {\n                launchMainScreen();\n            }\n        });\n\n        videoView.setOnErrorListener(new MediaPlayer.OnErrorListener() {\n            @Override\n            public boolean onError(MediaPlayer mp, int what, int extra) {\n                if(what==100){\n                    try {\n                        String path = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.final_logo_animation;\n                        Uri uri = Uri.parse(path);\n                        MediaController mediaController = new MediaController(SplashScreen.this, false);\n                        mediaController.setVisibility(View.INVISIBLE);\n                        mediaController.setAnchorView(videoView);\n\n                        ViewGroup.LayoutParams rlParams = videoView.getLayoutParams();\n                        DisplayMetrics displaymetrics = new DisplayMetrics();\n                        getWindowManager().getDefaultDisplay().getMetrics(displaymetrics);\n\n                        videoView.setVideoURI(uri);\n                        videoView.setDimensions(displaymetrics.widthPixels,rlParams.height);\n                        videoView.getHolder().setFixedSize(displaymetrics.widthPixels,rlParams.height);\n                        if (videoView!=null) {\n                            videoView.start();\n                        }\n                    } catch (Exception e) {\n                        Logger.logE(Constants.PROJECT, &quot;video play-&quot;, e);\n                    }\n                }\n                return true;\n            }\n        });\n\n    }\n\n    private void launchMainScreen() {\n        VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n SplashScreen - LaunchmainScreen&quot;  );\n        DBDownloadSync();\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        switch (requestCode) {\n            case APN_SETTINGS:\n                checkAPNSettings(grantResults);\n                break;\n            case PERMISSION_REQUEST_CODE:\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    org.mahiti.clt.utils.Logger.logD(TAG, &quot;Permission granted!&quot;);\n                    displaySplashScreen();\n                }\n                break;\n            default:\n                super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        }\n    }\n\n    private void checkAPNSettings(int[] grantResults) {\n        if (grantResults.length &gt; 0) {\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                checkAndroidVersion();\n            } else {\n                org.mahiti.clt.utils.Logger.logD(TAG, &quot;SEND_SMS Denied&quot;);\n            }\n        }\n    }\n\n    public void checkAndroidVersion() {\n        int checkCallPhonePermission = ContextCompat.checkSelfPermission(this, WRITE_APN_SETTINGS);\n        if (checkCallPhonePermission != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this, new String[]{WRITE_APN_SETTINGS}, APN_SETTINGS);\n        }\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        if (pref.getBoolean(PrefUtils.PREFBACKFLOW, false)) {\n            SharedPreferences.Editor editor = pref.edit();\n            editor.putBoolean(PrefUtils.PREFBACKFLOW, false);\n            editor.apply();\n            finish();\n        }\n        registerReceiver(reMyCltPathReceiver, filter);\n        registerReceiver(myCLTVideoReceiver, filter1);\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        handler.removeCallbacks(runnable);\n        TrackingDbHelper helper = new TrackingDbHelper(this);\n        helper.updateLaunchTracker(pref.getLong(PrefUtils.PREFAPPLAUNCHID, 0), CalendarUtils.getCurrentDate());\n        CallLogOut.callIntentSign(trackDbHelper, pref, setCode, this);\n        finish();\n\n    }\n\n\n\n    public class MyCLTPathReceiver extends BroadcastReceiver {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            pathOfCLT = preferences.getString(Constants.PREFS_CLT_PATH, &quot;&quot;);\n        }\n    }\n\n    public class MyCLTVIdeoPathReciver extends BroadcastReceiver {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            pathOfCLTVideo = preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH, &quot;&quot;);\n\n        }\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        unregisterReceiver(reMyCltPathReceiver);\n        unregisterReceiver(myCLTVideoReceiver);\n    }\n\n    public void goTOLogin(String loginMode) {\n        LoginCheck.loginCheck(this, setCode, 2);\n        VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n splashscreen gotToLogin mode : &quot;+loginMode  );\n        if (&quot;&quot;.equals(pref.getString(&quot;subjects&quot;, &quot;&quot;))) {\n            ToastUtils.displayToast(&quot;Please check the network to continue the application,get the license and proceed&quot;, this);\n            return;\n        }\n        switch (loginMode) {\n            case &quot;classRoom&quot;:\n                pref.edit().putInt(Constants.PREFS_LOGIN_MODE, 1).apply();\n                pref.edit().putLong(PrefUtils.PREFUSERID, codeLoginClass).apply();\n                break;\n            case &quot;teacher&quot;:\n                pref.edit().putInt(Constants.PREFS_LOGIN_MODE, 2).apply();\n                pref.edit().putLong(PrefUtils.PREFUSERID, codeLoginTeacher).apply();\n                break;\n            case &quot;student&quot;:\n                pref.edit().putInt(Constants.PREFS_LOGIN_MODE, 3).apply();\n                pref.edit().putLong(PrefUtils.PREFUSERID, codeLoginStudent).apply();\n                break;\n            default:\n                break;\n\n\n        }\n            if (&quot;&quot;.equals(preferences.getString(Constants.PREFS_PARTNER, &quot;&quot;))) {\n                appLaunchedNew();\n                VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n Moving to LangActivity&quot;  );\n                Intent i = new Intent(this, LanguageActivity.class);\n                i.putExtra(&quot;mode&quot;, loginMode);\n                startActivity(i);\n                finish();\n            } else {\n                partnerPath = preferences.getString(Constants.PREFS_PARTNER, &quot;&quot;);\n                VideoUtils.writeToFile(&quot;CLT_Classroom_Logs.txt&quot;, &quot;\\n Moving to PartnerActivity &quot;  );\n                Intent i = new Intent(SplashScreen.this, PartnerActivity.class);\n                i.putExtra(&quot;path&quot;, partnerPath);\n                startActivity(i);\n                finish();\n            }\n    }\n\n\n    private void playVideo() {\n        Logger.logD(TAG, &quot;playVideo()--&quot; + playVideoFlag);\n        if (playVideoFlag == 1)\n            launchMainScreen();\n        else if (playVideoFlag == 0)\n            displayVideo();\n    }\n\n    @Override\n    public void minAppVToUpdate(String response) {\n        Logger.logD(TAG, &quot; min app v response in splash-xscreen :&quot;+response);\n    }\n\n    @Override\n    public void onCopyDatabaseComplete(boolean isDbCopyCompleted, String message) {\n        if (isDbCopyCompleted)\n            goTOLogin(&quot;classRoom&quot;);\n        else\n            showAlert(message);\n    }\n\n    private boolean  showAlert(String message) {\n        AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(context);\n        alertDialogBuilder.setTitle(message);\n        alertDialogBuilder\n                .setMessage(&quot;Click yes to exit!&quot;)\n                .setCancelable(false)\n                .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int id) {\n                        activity.finish();\n\n                    }\n                });\n        AlertDialog alertDialog = alertDialogBuilder.create();\n        alertDialog.show();\n        return false;\n    }\n\n    private void DBDownloadSync(){\n        SharedPreferences preferences = this.getSharedPreferences(this.getString(R.string.code), Context.MODE_PRIVATE);\n        String path_new = &quot;&quot;;\n        String VPathNew = preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH_NEW, &quot;&quot;);\n        String VPathOld = preferences.getString(Constants.PREFS_CLT_VIDEOS_PATH, &quot;&quot;);\n        Log.d(TAG, &quot;V NEW PATH &quot; + VPathNew);\n        int flagId = 0;\n        if (VPathNew.equals(&quot;&quot;)){\n            SharedPreferences.Editor editor = preferences.edit();\n            File[] listExternalDirs = ContextCompat.getExternalFilesDirs(this, null);\n            if (listExternalDirs.length &gt; 1){\n                if (listExternalDirs[0].getAbsolutePath().toLowerCase().contains(&quot;/storage/emulated/0&quot;)){\n                    path_new = listExternalDirs[1].getAbsolutePath();\n                    flagId = 1;\n                } else{\n                    path_new = listExternalDirs[0].getAbsolutePath();\n                    flagId = 2;\n                }\n            } else {\n                if (!VPathOld.equals(&quot;&quot;)) {\n                    path_new = VPathOld.replace(&quot;/CLTVIDEOS&quot;, &quot;&quot;) + &quot;/Android/data/org.mahiti.clt/files&quot;;\n                    flagId = 3;\n                } else {\n                    path_new = listExternalDirs[0].getAbsolutePath();\n                    flagId = 4;\n                }\n            }\n            path_new = path_new + &quot;/CLTVIDEOS&quot;;\n            Log.d(TAG, &quot;NEW PATH 0 &quot; + path_new + &quot; &quot; + flagId);\n            editor.putString(Constants.PREFS_CLT_VIDEOS_PATH_NEW, path_new);\n            Log.d(&quot;VIDLocation&quot;,&quot;4 path &quot; + path_new);\n            editor.apply();\n        } else {\n            path_new = VPathNew;\n            Log.d(TAG, &quot;NEW PATH &quot; + path_new + &quot; 5&quot;);\n        }\n\n\n        File DBSavingPath1 = new File(path_new + Path1);\n        File DBSavingPath2 = new File(path_new + Path2);\n        if (!DBSavingPath1.exists()){\n            Log.d(TAG, &quot;DB PATH1&quot;);\n            DBPaths.add(Path1);\n        } else {\n            Log.d(TAG, &quot;DB PATH1 EXISTS&quot;);\n        }\n        if (!DBSavingPath2.exists()){\n            Log.d(TAG, &quot;DB PATH2&quot;);\n            DBPaths.add(Path2);\n        } else {\n            Log.d(TAG, &quot;DB PATH2 EXISTS&quot;);\n        }\n        if (DBPaths.size() &gt; 0){\n            CheckNetwork chNetwork = new CheckNetwork(this);\n            if (chNetwork.checkNetwork())\n                new VideoDownloadAsyncTask(this, Constants.DBMAINURL, preferences, DBPaths).execute();\n            else\n                new CopyDBFilesAsyncTask(preferences, folder, this, SplashScreen.this, 1).execute();\n        } else {\n            Log.d(TAG, &quot;DB else&quot;);\n            new CopyDBFilesAsyncTask(preferences, folder, this, SplashScreen.this, 2).execute(); \n        }\n    }\n\n    @Override\n    public void callback(String str, int val) {\n        Log.d(TAG, &quot;DB callback&quot;);\n        new CopyDBFilesAsyncTask(preferences, folder, this, SplashScreen.this, 2).execute(); \n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1541666548,"post_id":53204105,"comment_id":93296304,"body_markdown":"Let me guess - chunked body?","body":"Let me guess - chunked body?"},{"owner":{"account_id":2653232,"reputation":4799,"user_id":2294428,"display_name":"StephaneM"},"score":0,"creation_date":1541668567,"post_id":53204105,"comment_id":93297305,"body_markdown":"Why don&#39;t you just use the Drive API to do this? https://developers.google.com/drive/api/v3/manage-downloads","body":"Why don&#39;t you just use the Drive API to do this? <a href=\"https://developers.google.com/drive/api/v3/manage-downloads\" rel=\"nofollow noreferrer\">developers.google.com/drive/api/v3/manage-downloads</a>"},{"owner":{"account_id":2658552,"reputation":183,"user_id":2298743,"accept_rate":40,"display_name":"Lasan"},"score":0,"creation_date":1541668811,"post_id":53204105,"comment_id":93297431,"body_markdown":"@StephaneM requirement not only download from  google drive , any link to a file from internet should be able to use.","body":"@StephaneM requirement not only download from  google drive , any link to a file from internet should be able to use."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690522875,"post_id":68499993,"comment_id":135368319,"body_markdown":"Nonsense. NIO can&#39;t even see the URL. And not using a timeout does not mean it &#39;will&#39; be disconnected in the middle; and using one will only detect that case another way, not prevent it.","body":"Nonsense. NIO can&#39;t even see the URL. And not using a timeout does not mean it &#39;will&#39; be disconnected in the middle; and using one will only detect that case another way, not prevent it."}],"tags":[],"owner":{"account_id":15778308,"reputation":1608,"user_id":11385485,"display_name":"Nafaz M N M"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690522915,"creation_date":1627046955,"answer_id":68499993,"question_id":53204105,"body_markdown":"you need a `URL` with `extension` to download large files (videos) when using NIO packages.\r\n\r\n       URL url = new URL(&quot;https://elpvideo.s3-us-west-2.amazonaws.com/4445/4445.mp4&quot;);\r\n\r\nIf your hosting service provides an API to download files with a particular token then NIO packages don&#39;t work properly.\r\n\r\n     URL url = new URL(&quot;https://fv2-1.failiem.lv/down.php?i=sk2j3yuya&quot;);\r\n\r\n\r\nTip:\r\n\r\nif you are downloading a large size of the file then make sure to set `timeout` if not then it will be disconnected in the middle.\r\n\r\n      URL url = new URL(&quot;https://elpvideo.s3-us-west-2.amazonaws.com/4445/4445.mp4&quot;);\r\n\r\n     HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n    \r\n      urlConnection.setReadTimeout((1000*30)); //30 mins\r\n    \r\n      ReadableByteChannel readableByteChannel = Channels.newChannel(urlConnection.getInputStream());\r\n\r\n","title":"When downloading bigger (video) file using Spring-boot and java nio package only download part of the file","body":"<p>you need a <code>URL</code> with <code>extension</code> to download large files (videos) when using NIO packages.</p>\n<pre><code>   URL url = new URL(&quot;https://elpvideo.s3-us-west-2.amazonaws.com/4445/4445.mp4&quot;);\n</code></pre>\n<p>If your hosting service provides an API to download files with a particular token then NIO packages don't work properly.</p>\n<pre><code> URL url = new URL(&quot;https://fv2-1.failiem.lv/down.php?i=sk2j3yuya&quot;);\n</code></pre>\n<p>Tip:</p>\n<p>if you are downloading a large size of the file then make sure to set <code>timeout</code> if not then it will be disconnected in the middle.</p>\n<pre><code>  URL url = new URL(&quot;https://elpvideo.s3-us-west-2.amazonaws.com/4445/4445.mp4&quot;);\n\n HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n\n  urlConnection.setReadTimeout((1000*30)); //30 mins\n\n  ReadableByteChannel readableByteChannel = Channels.newChannel(urlConnection.getInputStream());\n</code></pre>\n"}],"owner":{"account_id":2658552,"reputation":183,"user_id":2298743,"accept_rate":40,"display_name":"Lasan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690522915,"creation_date":1541666443,"question_id":53204105,"body_markdown":"When downloading bigger (specially videos) files using Spring-boot and  java nio package only download part of the file. But smaller files such as images, pdf ect get downloaded properly and usable. \r\n\r\nFor example : Let say video size is 3.5MB but when downloaded it only show 160KB and cannot play it in any player(that is because, probably partially downloaded)\r\n\r\nFollowing is the controller \r\n===========================\r\n\r\n    package com.filedownloader_with_nio_package.controllers;\r\n    \r\n    import javax.servlet.ServletContext;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.filedownloader_with_nio_package.model.FileDetails;\r\n    import com.filedownloader_with_nio_package.services.FileDownloadService;\r\n    \r\n    @RestController\r\n    public class FileDownloadController {\r\n    \r\n    \t@Autowired\r\n    \tFileDownloadService fileDownloadService;\r\n    \r\n    \t\r\n    \t@RequestMapping(method = RequestMethod.POST, value = &quot;/filedownload&quot;)\r\n    \tpublic String downloadFile(@RequestBody FileDetails fileDetails){\r\n    \t\t\r\n    \t\treturn fileDownloadService.downloadFile(fileDetails);\r\n    \t}\r\n    \r\n    }\r\n\r\nFollowing is Service\r\n====================\r\n\r\n    package com.filedownloader_with_nio_package.services;\r\n    \r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.channels.Channels;\r\n    import java.nio.channels.ReadableByteChannel;\r\n    import java.nio.channels.WritableByteChannel;\r\n    import org.springframework.stereotype.Service;\r\n    import com.filedownloader_with_nio_package.exceptions.FileNotDownloadedCorrectlyException;\r\n    import com.filedownloader_with_nio_package.model.FileDetails;\r\n    import com.filedownloader_with_nio_package.utils.Constants;\r\n    \r\n    @Service\r\n    public class FileDownloadService {\r\n    \r\n    \tpublic String downloadFile(FileDetails fileDetails) {\r\n    \t\ttry {\r\n    \r\n    \t\t\tURL url = new URL(fileDetails.getFileUrl());\r\n    \t\t\tReadableByteChannel readableByteChannel = Channels.newChannel(url\r\n    \t\t\t\t\t.openStream());\r\n    \t\t\tString downloadedFile = fileDetails.getFileDownloadLocation() + &quot;/&quot;\r\n    \t\t\t\t\t+ fileDetails.getFileName() + &quot;.&quot;\r\n    \t\t\t\t\t+ fileDetails.getFileType();\r\n    \t\t\tFileOutputStream fileOutputStream = new FileOutputStream(\r\n    \t\t\t\t\tdownloadedFile);\r\n    \t\t\tWritableByteChannel writableByteChannel = fileOutputStream\r\n    \t\t\t\t\t.getChannel();\r\n    \t\t\t//\r\n    \t\t\t//\r\n    \t\t\tByteBuffer buffer = ByteBuffer.allocate(1024);\r\n    \r\n    \t\t\twhile (readableByteChannel.read(buffer) != -1) {\r\n    \t\t\t\tbuffer.flip();\r\n    \t\t\t\twhile (buffer.hasRemaining()) {\r\n    \t\t\t\t\twritableByteChannel.write(buffer);\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t\tbuffer.clear();\r\n    \t\t\t}\r\n    \t\t\t//\r\n    \t\t\t//\r\n    \t\t\tfileOutputStream.flush();\r\n    \t\t\tfileOutputStream.close();\r\n    \t\t\treturn downloadedFile;\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\tthrow new FileNotDownloadedCorrectlyException(\r\n    \t\t\t\t\tConstants.FILE_NOT_DOWNLOADED_CORRECTLY, e);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new FileNotDownloadedCorrectlyException(\r\n    \t\t\t\t\tConstants.FILE_NOT_DOWNLOADED_CORRECTLY, e);\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\nFollowing is FileDetails model\r\n===============================\r\n\r\n    package com.filedownloader_with_nio_package.model;\r\n    \r\n    public class FileDetails {\r\n     private String fileName;\r\n     private String fileUrl;\r\n     private String fileType;\r\n     private String fileDownloadLocation;\r\n    public String getFileName() {\r\n    \treturn fileName;\r\n    }\r\n    public void setFileName(String fileName) {\r\n    \tthis.fileName = fileName;\r\n    }\r\n    public String getFileUrl() {\r\n    \treturn fileUrl;\r\n    }\r\n    public void setFileUrl(String fileUrl) {\r\n    \tthis.fileUrl = fileUrl;\r\n    }\r\n    public String getFileType() {\r\n    \treturn fileType;\r\n    }\r\n    public void setFileType(String fileType) {\r\n    \tthis.fileType = fileType;\r\n    }\r\n    public String getFileDownloadLocation() {\r\n    \treturn fileDownloadLocation;\r\n    }\r\n    public void setFileDownloadLocation(String fileDownloadLocation) {\r\n    \tthis.fileDownloadLocation = fileDownloadLocation;\r\n    }\r\n     \r\n    }\r\n\r\n\r\nThis is request body \r\n=====================\r\n\r\n    {\r\n    \t&quot;fileName&quot;: &quot;SB2&quot;,\r\n    \t&quot;fileUrl&quot;: &quot;https://drive.google.com/open?id=1_gkQK8sAlgTslzfRGOvNtbEAwtoPeyJv&quot;,\r\n    \t&quot;fileType&quot;:&quot;mp4&quot;,\r\n    \t&quot;fileDownloadLocation&quot;: &quot;C:/DownloadedFiles&quot;\r\n    }\r\n\r\nI went trough the related questions and answers but I could not find a proper solution for this. \r\nCan any one help to sort out the issue ? or any idea about this welcome. \r\n","title":"When downloading bigger (video) file using Spring-boot and java nio package only download part of the file","body":"<p>When downloading bigger (specially videos) files using Spring-boot and  java nio package only download part of the file. But smaller files such as images, pdf ect get downloaded properly and usable. </p>\n\n<p>For example : Let say video size is 3.5MB but when downloaded it only show 160KB and cannot play it in any player(that is because, probably partially downloaded)</p>\n\n<h1>Following is the controller</h1>\n\n<pre><code>package com.filedownloader_with_nio_package.controllers;\n\nimport javax.servlet.ServletContext;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.filedownloader_with_nio_package.model.FileDetails;\nimport com.filedownloader_with_nio_package.services.FileDownloadService;\n\n@RestController\npublic class FileDownloadController {\n\n    @Autowired\n    FileDownloadService fileDownloadService;\n\n\n    @RequestMapping(method = RequestMethod.POST, value = \"/filedownload\")\n    public String downloadFile(@RequestBody FileDetails fileDetails){\n\n        return fileDownloadService.downloadFile(fileDetails);\n    }\n\n}\n</code></pre>\n\n<h1>Following is Service</h1>\n\n<pre><code>package com.filedownloader_with_nio_package.services;\n\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.nio.ByteBuffer;\nimport java.nio.channels.Channels;\nimport java.nio.channels.ReadableByteChannel;\nimport java.nio.channels.WritableByteChannel;\nimport org.springframework.stereotype.Service;\nimport com.filedownloader_with_nio_package.exceptions.FileNotDownloadedCorrectlyException;\nimport com.filedownloader_with_nio_package.model.FileDetails;\nimport com.filedownloader_with_nio_package.utils.Constants;\n\n@Service\npublic class FileDownloadService {\n\n    public String downloadFile(FileDetails fileDetails) {\n        try {\n\n            URL url = new URL(fileDetails.getFileUrl());\n            ReadableByteChannel readableByteChannel = Channels.newChannel(url\n                    .openStream());\n            String downloadedFile = fileDetails.getFileDownloadLocation() + \"/\"\n                    + fileDetails.getFileName() + \".\"\n                    + fileDetails.getFileType();\n            FileOutputStream fileOutputStream = new FileOutputStream(\n                    downloadedFile);\n            WritableByteChannel writableByteChannel = fileOutputStream\n                    .getChannel();\n            //\n            //\n            ByteBuffer buffer = ByteBuffer.allocate(1024);\n\n            while (readableByteChannel.read(buffer) != -1) {\n                buffer.flip();\n                while (buffer.hasRemaining()) {\n                    writableByteChannel.write(buffer);\n\n                }\n                buffer.clear();\n            }\n            //\n            //\n            fileOutputStream.flush();\n            fileOutputStream.close();\n            return downloadedFile;\n        } catch (MalformedURLException e) {\n            throw new FileNotDownloadedCorrectlyException(\n                    Constants.FILE_NOT_DOWNLOADED_CORRECTLY, e);\n        } catch (IOException e) {\n            throw new FileNotDownloadedCorrectlyException(\n                    Constants.FILE_NOT_DOWNLOADED_CORRECTLY, e);\n        }\n\n    }\n}\n</code></pre>\n\n<h1>Following is FileDetails model</h1>\n\n<pre><code>package com.filedownloader_with_nio_package.model;\n\npublic class FileDetails {\n private String fileName;\n private String fileUrl;\n private String fileType;\n private String fileDownloadLocation;\npublic String getFileName() {\n    return fileName;\n}\npublic void setFileName(String fileName) {\n    this.fileName = fileName;\n}\npublic String getFileUrl() {\n    return fileUrl;\n}\npublic void setFileUrl(String fileUrl) {\n    this.fileUrl = fileUrl;\n}\npublic String getFileType() {\n    return fileType;\n}\npublic void setFileType(String fileType) {\n    this.fileType = fileType;\n}\npublic String getFileDownloadLocation() {\n    return fileDownloadLocation;\n}\npublic void setFileDownloadLocation(String fileDownloadLocation) {\n    this.fileDownloadLocation = fileDownloadLocation;\n}\n\n}\n</code></pre>\n\n<h1>This is request body</h1>\n\n<pre><code>{\n    \"fileName\": \"SB2\",\n    \"fileUrl\": \"https://drive.google.com/open?id=1_gkQK8sAlgTslzfRGOvNtbEAwtoPeyJv\",\n    \"fileType\":\"mp4\",\n    \"fileDownloadLocation\": \"C:/DownloadedFiles\"\n}\n</code></pre>\n\n<p>I went trough the related questions and answers but I could not find a proper solution for this. \nCan any one help to sort out the issue ? or any idea about this welcome. </p>\n"},{"tags":["java","spring-boot","prometheus","aop","spring-aop"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1690534893,"post_id":76785088,"comment_id":135370431,"body_markdown":"Spring AOP can only advise Spring container managed bean. SL4J instances here are not spring beans. Do read through  [Spring AOP Capabilities and Goals](https://docs.spring.io/spring-framework/reference/core/aop/introduction-spring-defn.html)","body":"Spring AOP can only advise Spring container managed bean. SL4J instances here are not spring beans. Do read through  <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/introduction-spring-defn.html\" rel=\"nofollow noreferrer\">Spring AOP Capabilities and Goals</a>"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":0,"creation_date":1690535290,"post_id":76785088,"comment_id":135370520,"body_markdown":"Do go through this SO Q&amp;A : https://stackoverflow.com/a/74571372/4214241 for an AspectJ based solution.","body":"Do go through this SO Q&amp;A : <a href=\"https://stackoverflow.com/a/74571372/4214241\">stackoverflow.com/a/74571372/4214241</a> for an AspectJ based solution."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690535306,"post_id":76785088,"comment_id":135370523,"body_markdown":"afaik the logger statistics are already logged by default.","body":"afaik the logger statistics are already logged by default."},{"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"score":0,"creation_date":1690535939,"post_id":76785088,"comment_id":135370664,"body_markdown":"Hi M.Deinum, they are logged but they get logged from full application point of view. I want to get metrics only for a particular method&#39;s full execution point of view. So that I can configure prometheus alert if number of log.errors goes beyond a threshold value in last 30 mins.","body":"Hi M.Deinum, they are logged but they get logged from full application point of view. I want to get metrics only for a particular method&#39;s full execution point of view. So that I can configure prometheus alert if number of log.errors goes beyond a threshold value in last 30 mins."}],"owner":{"account_id":23102929,"reputation":109,"user_id":17212096,"display_name":"Sachin Mankotia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690522611,"creation_date":1690522611,"question_id":76785088,"body_markdown":"I have a requirement where I want to count number of org.slf4j.Logger.error() calls within my method&#39;s execution (across multiple class like controller--service--repo etc). I am thinking to use AOP along with prometheus for this. Below is a sample which I tried,\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class DummyController {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(DummyController.class);\r\n    \r\n        @GetMapping(&quot;/test-api&quot;)\r\n        public void validateTokenDummy() {\r\n            try {\r\n                LOGGER.error(&quot;ooppps&quot;);     // this is the call for which I want to capture\r\n            } finally {\r\n                System.out.println(&quot;inside finally 1&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nAOP code\r\n\r\n    import io.micrometer.core.instrument.Counter;\r\n    import io.micrometer.core.instrument.MeterRegistry;\r\n    import org.aspectj.lang.JoinPoint;\r\n    import org.aspectj.lang.annotation.After;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.aspectj.lang.annotation.Pointcut;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Aspect\r\n    @Component\r\n    public class ErrorLogCounterAspect {\r\n    \r\n        private final MeterRegistry meterRegistry;\r\n        private final Counter errorLogCounter;\r\n    \r\n        @Autowired\r\n        public ErrorLogCounterAspect(MeterRegistry meterRegistry) {\r\n            System.out.println(&quot;inside ErrorLogCounterAspect&quot;);\r\n            this.meterRegistry = meterRegistry;\r\n            this.errorLogCounter = Counter\r\n                    .builder(&quot;log.error.calls&quot;)\r\n                    .description(&quot;Testsss&quot;)\r\n                    .register(meterRegistry);\r\n        }\r\n    \r\n        @Pointcut(&quot;execution(void org.slf4j.Logger.error(..)) &amp;&amp; within(com.mypackage.controller.DummyController)&quot;)\r\n        public void errorMethodExecution() {\r\n        }\r\n    \r\n    \r\n        @After(&quot;errorMethodExecution()&quot;)\r\n        public void countLogErrorCalls(JoinPoint joinPoint) {\r\n            errorLogCounter.increment();\r\n        }\r\n    }\r\n\r\n\r\nAfter deployment, I am getting metrics under /actuator/promethues, but it not getting increemented when I am calling my rest api.\r\n\r\n    # HELP log_error_calls_total Testsss\r\n    # TYPE log_error_calls_total counter\r\n    log_error_calls_total 0.0\r\n\r\n\r\nCan you please check and tell what mistake am I doing here?\r\n","title":"Define and increment a prometheus custom counter whenever slf4j Logger error() is being called from my class method&#39;s execution(E2E) using AOP","body":"<p>I have a requirement where I want to count number of org.slf4j.Logger.error() calls within my method's execution (across multiple class like controller--service--repo etc). I am thinking to use AOP along with prometheus for this. Below is a sample which I tried,</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class DummyController {\n    private static final Logger LOGGER = LoggerFactory.getLogger(DummyController.class);\n\n    @GetMapping(&quot;/test-api&quot;)\n    public void validateTokenDummy() {\n        try {\n            LOGGER.error(&quot;ooppps&quot;);     // this is the call for which I want to capture\n        } finally {\n            System.out.println(&quot;inside finally 1&quot;);\n        }\n    }\n}\n</code></pre>\n<p>AOP code</p>\n<pre><code>import io.micrometer.core.instrument.Counter;\nimport io.micrometer.core.instrument.MeterRegistry;\nimport org.aspectj.lang.JoinPoint;\nimport org.aspectj.lang.annotation.After;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Aspect\n@Component\npublic class ErrorLogCounterAspect {\n\n    private final MeterRegistry meterRegistry;\n    private final Counter errorLogCounter;\n\n    @Autowired\n    public ErrorLogCounterAspect(MeterRegistry meterRegistry) {\n        System.out.println(&quot;inside ErrorLogCounterAspect&quot;);\n        this.meterRegistry = meterRegistry;\n        this.errorLogCounter = Counter\n                .builder(&quot;log.error.calls&quot;)\n                .description(&quot;Testsss&quot;)\n                .register(meterRegistry);\n    }\n\n    @Pointcut(&quot;execution(void org.slf4j.Logger.error(..)) &amp;&amp; within(com.mypackage.controller.DummyController)&quot;)\n    public void errorMethodExecution() {\n    }\n\n\n    @After(&quot;errorMethodExecution()&quot;)\n    public void countLogErrorCalls(JoinPoint joinPoint) {\n        errorLogCounter.increment();\n    }\n}\n</code></pre>\n<p>After deployment, I am getting metrics under /actuator/promethues, but it not getting increemented when I am calling my rest api.</p>\n<pre><code># HELP log_error_calls_total Testsss\n# TYPE log_error_calls_total counter\nlog_error_calls_total 0.0\n</code></pre>\n<p>Can you please check and tell what mistake am I doing here?</p>\n"},{"tags":["java","multithreading","performance","concurrency"],"comments":[{"owner":{"account_id":262258,"reputation":64223,"user_id":546999,"accept_rate":97,"display_name":"Nanne"},"score":0,"creation_date":1301469133,"post_id":5483047,"comment_id":6218460,"body_markdown":"I don&#39;t know the context in which the tutorials you&#39;ve read say this: do they imply that the creation itself is expensive, or that &quot;creating a thread&quot; is expensive. The difference I try to show is between the pure action of making the thread (lets call it instantiating it or something), or the fact that you have a thread (so using a thread: obviously having overhead). Which one is claimed // which one do you wish to ask about?","body":"I don&#39;t know the context in which the tutorials you&#39;ve read say this: do they imply that the creation itself is expensive, or that &quot;creating a thread&quot; is expensive. The difference I try to show is between the pure action of making the thread (lets call it instantiating it or something), or the fact that you have a thread (so using a thread: obviously having overhead). Which one is claimed // which one do you wish to ask about?"},{"owner":{"account_id":21211,"reputation":43403,"user_id":51382,"accept_rate":87,"display_name":"willcodejavaforfood"},"score":9,"creation_date":1301469938,"post_id":5483047,"comment_id":6218606,"body_markdown":"@typoknig - Expensive compared to NOT creating a new thread :)","body":"@typoknig - Expensive compared to NOT creating a new thread :)"},{"owner":{"account_id":1252466,"reputation":79549,"user_id":1212596,"accept_rate":52,"display_name":"Paul Draper"},"score":0,"creation_date":1403998361,"post_id":5483047,"comment_id":37875540,"body_markdown":"possible duplicate of [Java thread creation overhead](http://stackoverflow.com/questions/2117072/java-thread-creation-overhead)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2117072/java-thread-creation-overhead\">Java thread creation overhead</a>"},{"owner":{"account_id":1266843,"reputation":93064,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":3,"creation_date":1444812480,"post_id":5483047,"comment_id":54054347,"body_markdown":"threadpools for the win. no need to always to create new threads for tasks.","body":"threadpools for the win. no need to always to create new threads for tasks."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1612670938,"post_id":5483047,"comment_id":116837782,"body_markdown":"Alternatively, the *virtual threads* feature (also known as *fibers*) coming to Java via [*Project Loom*](https://wiki.openjdk.java.net/display/loom/Main) are *not* expensive. Loom maps many virtual threads to one actual platform/host thread to greatly improve performance in situations where threads often block. For more info, see the most recent presentations and interviews by Ron Pressler of Oracle. Early access to Loom-enabled JVMs is available now.","body":"Alternatively, the <i>virtual threads</i> feature (also known as <i>fibers</i>) coming to Java via <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\"><i>Project Loom</i></a> are <i>not</i> expensive. Loom maps many virtual threads to one actual platform/host thread to greatly improve performance in situations where threads often block. For more info, see the most recent presentations and interviews by Ron Pressler of Oracle. Early access to Loom-enabled JVMs is available now."}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1301553296,"post_id":5483105,"comment_id":6236200,"body_markdown":"@Raedwald - it is the initialization part that is expensive.  Somewhere, something (e.g. the GC, or the OS) will zero the bytes before the block is turned into a thread stack.  That takes physical memory cycles on typical hardware.","body":"@Raedwald - it is the initialization part that is expensive.  Somewhere, something (e.g. the GC, or the OS) will zero the bytes before the block is turned into a thread stack.  That takes physical memory cycles on typical hardware."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":3,"creation_date":1301652741,"post_id":5483105,"comment_id":6258216,"body_markdown":"&quot;Somewhere, something (e.g. the GC, or the OS) will zero the bytes&quot;. It will? The OS will if it requires allocation of a new memory page, for security reasons. But that will be uncommon. And the OS might keep a cache of already zero-ed pages (IIRC, Linux does so). Why would the GC bother, given that the JVM will prevent any Java program reading its content? Note that the standard C `malloc()` function, which the JVM might well use, does *not* guarantee that allocated memory is zero-ed (presumably to avoid just such performance problems).","body":"&quot;Somewhere, something (e.g. the GC, or the OS) will zero the bytes&quot;. It will? The OS will if it requires allocation of a new memory page, for security reasons. But that will be uncommon. And the OS might keep a cache of already zero-ed pages (IIRC, Linux does so). Why would the GC bother, given that the JVM will prevent any Java program reading its content? Note that the standard C <code>malloc()</code> function, which the JVM might well use, does <i>not</i> guarantee that allocated memory is zero-ed (presumably to avoid just such performance problems)."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1301653078,"post_id":5483105,"comment_id":6258317,"body_markdown":"http://stackoverflow.com/questions/2117072/java-thread-creation-overhead/2117127#2117127 concurs that &quot;One major factor is the stack memory allocated to each thread&quot;.","body":"<a href=\"http://stackoverflow.com/questions/2117072/java-thread-creation-overhead/2117127#2117127\" title=\"java thread creation overhead\">stackoverflow.com/questions/2117072/&hellip;</a> concurs that &quot;One major factor is the stack memory allocated to each thread&quot;."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1302358734,"post_id":5483105,"comment_id":6383164,"body_markdown":"@Raedwald - see updated answer for info on how the stack is actually allocated.","body":"@Raedwald - see updated answer for info on how the stack is actually allocated."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":5,"creation_date":1302612079,"post_id":5483105,"comment_id":6423126,"body_markdown":"It is possible (probable even) that the memory pages allocated by the `mmap()` call are copy-on-write mapped to a zero page, so their initailisation happens not within `mmap()` itself, but when the pages are first *written* to, and then only one page at a time. That is, when the thread starts execution, with the cost bourne by the created thread rather than the creator thread.","body":"It is possible (probable even) that the memory pages allocated by the <code>mmap()</code> call are copy-on-write mapped to a zero page, so their initailisation happens not within <code>mmap()</code> itself, but when the pages are first <i>written</i> to, and then only one page at a time. That is, when the thread starts execution, with the cost bourne by the created thread rather than the creator thread."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1309420043,"post_id":5483105,"comment_id":7690700,"body_markdown":"@Raedwald, the usual behavior of the newly create threads is starting off on the same CPU even if a lot cores/CPUS (on different sockets) are available. That creates local latency at the very least, also it can starve the creation thread off CPU cycles. (there have been some heuristics to help that thread, so it can actually spawn enough and delegate work). Registering the host OS requires kernel hop(s), separate calls to mmap on current linux kernels impose extra overhead.","body":"@Raedwald, the usual behavior of the newly create threads is starting off on the same CPU even if a lot cores/CPUS (on different sockets) are available. That creates local latency at the very least, also it can starve the creation thread off CPU cycles. (there have been some heuristics to help that thread, so it can actually spawn enough and delegate work). Registering the host OS requires kernel hop(s), separate calls to mmap on current linux kernels impose extra overhead."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1309420502,"post_id":5483105,"comment_id":7690809,"body_markdown":"@bestsss - that&#39;s OS / scheduler specific.  @Raedwald, it is largely immaterial which thread bears the cost.  The big picture is that the zeroing uses memory bandwidth, which potentially affects every thread / processor.","body":"@bestsss - that&#39;s OS / scheduler specific.  @Raedwald, it is largely immaterial which thread bears the cost.  The big picture is that the zeroing uses memory bandwidth, which potentially affects every thread / processor."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1309420887,"post_id":5483105,"comment_id":7690902,"body_markdown":"@Stephen, it&#39;s an example how it works on a commodity OS (I think  windows is practically the same except thread priorities work in different way). Perhaps it was unclear, the threads just start on the same core and after some time they are rescheduled to a different one.","body":"@Stephen, it&#39;s an example how it works on a commodity OS (I think  windows is practically the same except thread priorities work in different way). Perhaps it was unclear, the threads just start on the same core and after some time they are rescheduled to a different one."},{"owner":{"account_id":402964,"reputation":22541,"user_id":770452,"accept_rate":49,"display_name":"David T."},"score":0,"creation_date":1386188321,"post_id":5483105,"comment_id":30437375,"body_markdown":"@StephenC you mention &quot;Descriptors needs to be created, initialized and added to JVM internal data structures.&quot; what does this mean? file descriptors? and what does internal data structures refer to? are you basically saying that now the OS creates certain object locks?","body":"@StephenC you mention &quot;Descriptors needs to be created, initialized and added to JVM internal data structures.&quot; what does this mean? file descriptors? and what does internal data structures refer to? are you basically saying that now the OS creates certain object locks?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1386211587,"post_id":5483105,"comment_id":30446694,"body_markdown":"@DavidT.  Private descriptors in the JVM (user-space) that (for example) hold the native thread identifier corresponding to a Thread.  (Check the OpenJDK codebase ...).  Also there are native thread descriptors in kernel space.  No I&#39;m not referring to object locks.  (The object lock descriptors typically only get created when an object lock is used.  That&#39;s independent from this.)","body":"@DavidT.  Private descriptors in the JVM (user-space) that (for example) hold the native thread identifier corresponding to a Thread.  (Check the OpenJDK codebase ...).  Also there are native thread descriptors in kernel space.  No I&#39;m not referring to object locks.  (The object lock descriptors typically only get created when an object lock is used.  That&#39;s independent from this.)"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":10,"down_vote_count":2,"up_vote_count":175,"is_accepted":true,"score":173,"last_activity_date":1690521045,"creation_date":1301469360,"answer_id":5483105,"question_id":5483047,"body_markdown":"&gt; Why is creating a Thread *said to be* expensive?\r\n\r\nBecause it &gt;&gt;is&lt;&lt; expensive.\r\n\r\nJava thread creation is expensive because there is a fair bit of work involved:\r\n\r\n  - A large block of memory has to be allocated and initialized for the thread stack.\r\n  - System calls need to be made to create / register the native thread with the host OS.\r\n  - Descriptors need to be created, initialized and added to JVM-internal data structures.\r\n\r\nIt is also expensive in the sense that the thread ties down resources as long as it is alive; e.g. the thread stack, any objects reachable from the stack, the JVM thread descriptors, the OS native thread descriptors.\r\n\r\nThe costs of all of these things are platform specific, but they are not cheap on any Java platform I&#39;ve ever come across.\r\n\r\n--------------\r\n\r\nA Google search found me an [old benchmark][2] that reports a thread creation rate of ~4000 per second on a Sun Java 1.4.1 on a 2002 vintage dual processor Xeon running 2002 vintage Linux.  A more modern platform will give better numbers ... and I can&#39;t comment on the methodology ... but at least it gives a ballpark for *how expensive* thread creation is likely to be.\r\n\r\nPeter Lawrey&#39;s benchmarking indicates that thread creation is significantly faster these days in absolute terms, but it is unclear how much of this is due improvements in Java and/or the OS ... or higher processor speeds.  But his numbers *still* indicate a 150+ fold improvement if you use a thread pool versus creating/starting a new thread each time.  (And he makes the point that this is all relative ...)\r\n\r\n----------\r\n\r\nThe above assumes native threads rather than green threads, but modern JVMs all use native threads for performance reasons.  Green threads are possibly cheaper to create, but you pay for it in other areas.\r\n\r\nUpdate: The OpenJDK [Loom project][1] aims to provide a light-weight alternative to standard Java threads, among other things.  They are proposing *virtual threads* which are a hybrid of native threads and green threads.  In simple terms, a virtual thread is rather like a green thread implementation that uses native threads underneath when parallel execution is required.\r\n\r\nAs of now (July 2023) Project Loom has become [JEP 444](https://openjdk.org/jeps/444).  It has been in preview since Java 19, and is proposed for full release in Java 21. \r\n\r\n\r\n----------\r\n\r\nI&#39;ve done a bit of digging to see how a Java thread&#39;s stack really gets allocated.  In the case of OpenJDK 6 on Linux, the thread stack is allocated by the call to `pthread_create` that creates the native thread.  (The JVM does not pass `pthread_create` a preallocated stack.)\r\n\r\nThen, within `pthread_create` the stack is allocated by a call to `mmap` as follows:\r\n\r\n    mmap(0, attr.__stacksize, \r\n         PROT_READ|PROT_WRITE|PROT_EXEC, \r\n         MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)\r\n\r\nAccording to `man mmap`, the `MAP_ANONYMOUS` flag causes the memory to be initialized to zero.\r\n\r\nThus, even though it might not be essential that new Java thread stacks are zeroed (per the JVM spec), in practice (at least with OpenJDK 6 on Linux) they are zeroed.\r\n\r\n\r\n  [1]: https://wiki.openjdk.java.net/display/loom/Main\r\n  [2]: http://www.mail-archive.com/java-linux@java.blackdown.org/msg15146.html","title":"Why is creating a Thread said to be expensive?","body":"<blockquote>\n<p>Why is creating a Thread <em>said to be</em> expensive?</p>\n</blockquote>\n<p>Because it &gt;&gt;is&lt;&lt; expensive.</p>\n<p>Java thread creation is expensive because there is a fair bit of work involved:</p>\n<ul>\n<li>A large block of memory has to be allocated and initialized for the thread stack.</li>\n<li>System calls need to be made to create / register the native thread with the host OS.</li>\n<li>Descriptors need to be created, initialized and added to JVM-internal data structures.</li>\n</ul>\n<p>It is also expensive in the sense that the thread ties down resources as long as it is alive; e.g. the thread stack, any objects reachable from the stack, the JVM thread descriptors, the OS native thread descriptors.</p>\n<p>The costs of all of these things are platform specific, but they are not cheap on any Java platform I've ever come across.</p>\n<hr />\n<p>A Google search found me an <a href=\"http://www.mail-archive.com/java-linux@java.blackdown.org/msg15146.html\" rel=\"nofollow noreferrer\">old benchmark</a> that reports a thread creation rate of ~4000 per second on a Sun Java 1.4.1 on a 2002 vintage dual processor Xeon running 2002 vintage Linux.  A more modern platform will give better numbers ... and I can't comment on the methodology ... but at least it gives a ballpark for <em>how expensive</em> thread creation is likely to be.</p>\n<p>Peter Lawrey's benchmarking indicates that thread creation is significantly faster these days in absolute terms, but it is unclear how much of this is due improvements in Java and/or the OS ... or higher processor speeds.  But his numbers <em>still</em> indicate a 150+ fold improvement if you use a thread pool versus creating/starting a new thread each time.  (And he makes the point that this is all relative ...)</p>\n<hr />\n<p>The above assumes native threads rather than green threads, but modern JVMs all use native threads for performance reasons.  Green threads are possibly cheaper to create, but you pay for it in other areas.</p>\n<p>Update: The OpenJDK <a href=\"https://wiki.openjdk.java.net/display/loom/Main\" rel=\"nofollow noreferrer\">Loom project</a> aims to provide a light-weight alternative to standard Java threads, among other things.  They are proposing <em>virtual threads</em> which are a hybrid of native threads and green threads.  In simple terms, a virtual thread is rather like a green thread implementation that uses native threads underneath when parallel execution is required.</p>\n<p>As of now (July 2023) Project Loom has become <a href=\"https://openjdk.org/jeps/444\" rel=\"nofollow noreferrer\">JEP 444</a>.  It has been in preview since Java 19, and is proposed for full release in Java 21.</p>\n<hr />\n<p>I've done a bit of digging to see how a Java thread's stack really gets allocated.  In the case of OpenJDK 6 on Linux, the thread stack is allocated by the call to <code>pthread_create</code> that creates the native thread.  (The JVM does not pass <code>pthread_create</code> a preallocated stack.)</p>\n<p>Then, within <code>pthread_create</code> the stack is allocated by a call to <code>mmap</code> as follows:</p>\n<pre><code>mmap(0, attr.__stacksize, \n     PROT_READ|PROT_WRITE|PROT_EXEC, \n     MAP_PRIVATE|MAP_ANONYMOUS, -1, 0)\n</code></pre>\n<p>According to <code>man mmap</code>, the <code>MAP_ANONYMOUS</code> flag causes the memory to be initialized to zero.</p>\n<p>Thus, even though it might not be essential that new Java thread stacks are zeroed (per the JVM spec), in practice (at least with OpenJDK 6 on Linux) they are zeroed.</p>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":9,"creation_date":1378793664,"post_id":5483109,"comment_id":27570714,"body_markdown":"Btw kb = kilo-bit , kB = kilo byte. Gb = giga bit , GB = giga byte.","body":"Btw kb = kilo-bit , kB = kilo byte. Gb = giga bit , GB = giga byte."},{"owner":{"account_id":61846,"reputation":1250,"user_id":184100,"accept_rate":100,"display_name":"Jack"},"score":0,"creation_date":1465415393,"post_id":5483109,"comment_id":62897028,"body_markdown":"@PeterLawrey do we capitalize the &#39;k&#39; in &#39;kb&#39; and &#39;kB&#39;, so there&#39;s symmetry to &#39;Gb&#39; and &#39;GB&#39; ?  These things bug me.","body":"@PeterLawrey do we capitalize the &#39;k&#39; in &#39;kb&#39; and &#39;kB&#39;, so there&#39;s symmetry to &#39;Gb&#39; and &#39;GB&#39; ?  These things bug me."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1465560259,"post_id":5483109,"comment_id":62965119,"body_markdown":"@Jack There is a `K` = 1024 and `k` = 1000. ;) https://en.wikipedia.org/wiki/Kibibyte","body":"@Jack There is a <code>K</code> = 1024 and <code>k</code> = 1000. ;) <a href=\"https://en.wikipedia.org/wiki/Kibibyte\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Kibibyte</a>"}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1444814190,"creation_date":1301469374,"answer_id":5483109,"question_id":5483047,"body_markdown":"In theory, this depends on the JVM. In practice, every thread has a relatively large amount of stack memory (256 KB per default, I think). Additionally, threads are implemented as OS threads, so creating them involves an OS call, i.e. a context switch.\r\n\r\nDo realize that &quot;expensive&quot; in computing is always very relative. Thread creation is very expensive relative to the creation of most objects, but not very expensive relative to a random harddisk seek. You don&#39;t have to avoid creating threads at all costs, but creating hundreds of them per second is not a smart move. In most cases, if your design calls for lots of threads, you should use a limited-size  thread pool.","title":"Why is creating a Thread said to be expensive?","body":"<p>In theory, this depends on the JVM. In practice, every thread has a relatively large amount of stack memory (256 KB per default, I think). Additionally, threads are implemented as OS threads, so creating them involves an OS call, i.e. a context switch.</p>\n\n<p>Do realize that \"expensive\" in computing is always very relative. Thread creation is very expensive relative to the creation of most objects, but not very expensive relative to a random harddisk seek. You don't have to avoid creating threads at all costs, but creating hundreds of them per second is not a smart move. In most cases, if your design calls for lots of threads, you should use a limited-size  thread pool.</p>\n"},{"comments":[{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1309437987,"post_id":5483111,"comment_id":7695712,"body_markdown":"@Raedwald, what is the jvm that uses separate stacks?","body":"@Raedwald, what is the jvm that uses separate stacks?"},{"owner":{"account_id":348643,"reputation":28269,"user_id":683453,"display_name":"Philip JF"},"score":0,"creation_date":1309583384,"post_id":5483111,"comment_id":7724776,"body_markdown":"As far as I know, all JVMs allocate two stacks per thread.  It is helpful for garbage collection to treat Java code (even when JITed) differently from free-casting c.","body":"As far as I know, all JVMs allocate two stacks per thread.  It is helpful for garbage collection to treat Java code (even when JITed) differently from free-casting c."},{"owner":{"account_id":5421403,"reputation":943,"user_id":4314917,"accept_rate":80,"display_name":"Gurinder"},"score":0,"creation_date":1524941553,"post_id":5483111,"comment_id":87175881,"body_markdown":"@Philip JF Can you please elaborate? What do you mean by 2 stacks one for Java code and one for native code? What does it do?","body":"@Philip JF Can you please elaborate? What do you mean by 2 stacks one for Java code and one for native code? What does it do?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1573345942,"post_id":5483111,"comment_id":103852838,"body_markdown":"*&quot;As far as I know, all JVMs allocate two stacks per thread.&quot;* - I have never seen any evidence that would support this.  Perhaps you are misunderstanding the true nature of the opstack in the JVM spec.  (It is a way of modelling the behavior of bytecodes, not something that needs to be used at runtime to execute them.)","body":"<i>&quot;As far as I know, all JVMs allocate two stacks per thread.&quot;</i> - I have never seen any evidence that would support this.  Perhaps you are misunderstanding the true nature of the opstack in the JVM spec.  (It is a way of modelling the behavior of bytecodes, not something that needs to be used at runtime to execute them.)"}],"tags":[],"owner":{"account_id":348643,"reputation":28269,"user_id":683453,"display_name":"Philip JF"},"comment_count":4,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1473761855,"creation_date":1301469390,"answer_id":5483111,"question_id":5483047,"body_markdown":"Creating `Threads` requires allocating a fair amount of memory since it has to make not one, but two new stacks (one for java code, one for native code).  Use of [Executors][1]/Thread Pools can avoid the overhead, by reusing threads for multiple tasks for [Executor][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html","title":"Why is creating a Thread said to be expensive?","body":"<p>Creating <code>Threads</code> requires allocating a fair amount of memory since it has to make not one, but two new stacks (one for java code, one for native code).  Use of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\">Executors</a>/Thread Pools can avoid the overhead, by reusing threads for multiple tasks for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executor.html\" rel=\"nofollow noreferrer\">Executor</a>.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":22,"creation_date":1301471371,"post_id":5483115,"comment_id":6218913,"body_markdown":"*&quot;... a couple of stable workers that won&#39;t be fired and killed ...&quot;* Why did I start thinking about workplace conditions?  :-)","body":"<i>&quot;... a couple of stable workers that won&#39;t be fired and killed ...&quot;</i> Why did I start thinking about workplace conditions?  :-)"}],"tags":[],"owner":{"account_id":214990,"reputation":74717,"user_id":469300,"accept_rate":74,"display_name":"salezica"},"comment_count":1,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1301469424,"creation_date":1301469424,"answer_id":5483115,"question_id":5483047,"body_markdown":"There are two kinds of threads:\r\n\r\n1. **Proper threads**: these are abstractions around the underlying operating system&#39;s threading facilities. Thread creation is, therefore, as expensive as the system&#39;s -- there&#39;s always an overhead.\r\n\r\n2. **&quot;Green&quot; threads**: created and scheduled by the JVM, these are cheaper, but no proper paralellism occurs. These behave like threads, but are executed within the JVM thread in the OS. They are not often used, to my knowledge.\r\n\r\nThe biggest factor I can think of in the thread-creation overhead, is the **stack-size** you have defined for your threads. Thread stack-size can be passed as a parameter when running the VM.\r\n\r\nOther than that, thread creation is mostly OS-dependent, and even VM-implementation-dependent.\r\n\r\nNow, let me point something out: creating threads is expensive if you&#39;re planning on firing **2000 threads per second, every second of your runtime. The JVM is not designed to handle that**. If you&#39;ll have a couple of stable workers that won&#39;t be fired and killed over and over, relax.","title":"Why is creating a Thread said to be expensive?","body":"<p>There are two kinds of threads:</p>\n\n<ol>\n<li><p><strong>Proper threads</strong>: these are abstractions around the underlying operating system's threading facilities. Thread creation is, therefore, as expensive as the system's -- there's always an overhead.</p></li>\n<li><p><strong>\"Green\" threads</strong>: created and scheduled by the JVM, these are cheaper, but no proper paralellism occurs. These behave like threads, but are executed within the JVM thread in the OS. They are not often used, to my knowledge.</p></li>\n</ol>\n\n<p>The biggest factor I can think of in the thread-creation overhead, is the <strong>stack-size</strong> you have defined for your threads. Thread stack-size can be passed as a parameter when running the VM.</p>\n\n<p>Other than that, thread creation is mostly OS-dependent, and even VM-implementation-dependent.</p>\n\n<p>Now, let me point something out: creating threads is expensive if you're planning on firing <strong>2000 threads per second, every second of your runtime. The JVM is not designed to handle that</strong>. If you'll have a couple of stable workers that won't be fired and killed over and over, relax.</p>\n"},{"tags":[],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1301469513,"creation_date":1301469513,"answer_id":5483132,"question_id":5483047,"body_markdown":"Obviously the crux of the question is what does &#39;expensive&#39; mean. \r\n\r\nA thread needs to create a stack and initialize the stack based on the run method.\r\n\r\nIt needs to set up control status structures, ie, what state it&#39;s in runnable, waiting etc.\r\n\r\nThere&#39;s probably a good deal of synchronization around setting these things up.","title":"Why is creating a Thread said to be expensive?","body":"<p>Obviously the crux of the question is what does 'expensive' mean. </p>\n\n<p>A thread needs to create a stack and initialize the stack based on the run method.</p>\n\n<p>It needs to set up control status structures, ie, what state it's in runnable, waiting etc.</p>\n\n<p>There's probably a good deal of synchronization around setting these things up.</p>\n"},{"comments":[{"owner":{"account_id":18897,"reputation":15976,"user_id":43786,"accept_rate":83,"display_name":"Nicholas"},"score":9,"creation_date":1360269200,"post_id":5483467,"comment_id":20659614,"body_markdown":"That&#39;s a great piece of code there. Concise, to the point and clearly displays its jist.","body":"That&#39;s a great piece of code there. Concise, to the point and clearly displays its jist."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1378696852,"post_id":5483467,"comment_id":27534444,"body_markdown":"In the last block, I believe the result is skewed, because in the first two blocks the main thread is removing in parallel as the worker threads are putting. However in the last block, the action of taking is all performed serially, so it is dilating the value. You could probably use queue.clear() and use a CountDownLatch instead to wait for the threads to complete.","body":"In the last block, I believe the result is skewed, because in the first two blocks the main thread is removing in parallel as the worker threads are putting. However in the last block, the action of taking is all performed serially, so it is dilating the value. You could probably use queue.clear() and use a CountDownLatch instead to wait for the threads to complete."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1378712634,"post_id":5483467,"comment_id":27538412,"body_markdown":"@VictorGrazi I am assuming you want to collect the results centrally. It is doing the same amount of queuing work in each case. A count down latch would be slightly faster.","body":"@VictorGrazi I am assuming you want to collect the results centrally. It is doing the same amount of queuing work in each case. A count down latch would be slightly faster."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1378777956,"post_id":5483467,"comment_id":27567071,"body_markdown":"Actually, why not just have it do something consistently fast, like incrementing a counter; drop the whole BlockingQueue thing. Check the counter at the end to prevent the compiler from optimizing out the increment operation","body":"Actually, why not just have it do something consistently fast, like incrementing a counter; drop the whole BlockingQueue thing. Check the counter at the end to prevent the compiler from optimizing out the increment operation"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1378793518,"post_id":5483467,"comment_id":27570660,"body_markdown":"@grazi you could do that in this case but you wouldn&#39;t in most realistic cases as waiting on a counter might be inefficient.  If you did that the difference between the examples would be even greater.","body":"@grazi you could do that in this case but you wouldn&#39;t in most realistic cases as waiting on a counter might be inefficient.  If you did that the difference between the examples would be even greater."},{"owner":{"account_id":102338,"reputation":5243,"user_id":274757,"accept_rate":72,"display_name":"dagnelies"},"score":0,"creation_date":1511194014,"post_id":5483467,"comment_id":81745591,"body_markdown":"I believe this is a bad example. The worse performance has most likely to do with fighting over the blocking queue, and not at all with the thread creation cost/overhead.","body":"I believe this is a bad example. The worse performance has most likely to do with fighting over the blocking queue, and not at all with the thread creation cost/overhead."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":6,"down_vote_count":1,"up_vote_count":92,"is_accepted":false,"score":91,"last_activity_date":1317195221,"creation_date":1301471582,"answer_id":5483467,"question_id":5483047,"body_markdown":"Others have discussed where the costs of threading come from.  This answer covers why creating a thread is not that expensive compared to many operations, but _relatively_ expensive compared to task execution alternatives, which are _relatively_ less expensive.\r\n\r\nThe most obvious alternative to running a task in another thread is to run the task in the same thread. This is difficult to grasp for those assuming that more threads are always better.  The logic is that if the overhead of adding the task to another thread is greater than the time you save, it can be faster to perform the task in the current thread.\r\n\r\nAnother alternative is to use a thread pool.  A thread pool can be more efficient for two reasons. 1) it reuses threads already created. 2) you can tune/control the number of threads to ensure you have optimal performance.\r\n\r\nThe following program prints....\r\n\r\n    Time for a task to complete in a new Thread 71.3 us\r\n    Time for a task to complete in a thread pool 0.39 us\r\n    Time for a task to complete in the same thread 0.08 us\r\n    Time for a task to complete in a new Thread 65.4 us\r\n    Time for a task to complete in a thread pool 0.37 us\r\n    Time for a task to complete in the same thread 0.08 us\r\n    Time for a task to complete in a new Thread 61.4 us\r\n    Time for a task to complete in a thread pool 0.38 us\r\n    Time for a task to complete in the same thread 0.08 us\r\n\r\nThis is a test for a trivial task which exposes the overhead of each threading option. (This test task is the sort of task that is actually best performed in the current thread.)\r\n\r\n    final BlockingQueue&lt;Integer&gt; queue = new LinkedBlockingQueue&lt;Integer&gt;();\r\n    Runnable task = new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            queue.add(1);\r\n        }\r\n    };\r\n\r\n    for (int t = 0; t &lt; 3; t++) {\r\n        {\r\n            long start = System.nanoTime();\r\n            int runs = 20000;\r\n            for (int i = 0; i &lt; runs; i++)\r\n                new Thread(task).start();\r\n            for (int i = 0; i &lt; runs; i++)\r\n                queue.take();\r\n            long time = System.nanoTime() - start;\r\n            System.out.printf(&quot;Time for a task to complete in a new Thread %.1f us%n&quot;, time / runs / 1000.0);\r\n        }\r\n        {\r\n            int threads = Runtime.getRuntime().availableProcessors();\r\n            ExecutorService es = Executors.newFixedThreadPool(threads);\r\n            long start = System.nanoTime();\r\n            int runs = 200000;\r\n            for (int i = 0; i &lt; runs; i++)\r\n                es.execute(task);\r\n            for (int i = 0; i &lt; runs; i++)\r\n                queue.take();\r\n            long time = System.nanoTime() - start;\r\n            System.out.printf(&quot;Time for a task to complete in a thread pool %.2f us%n&quot;, time / runs / 1000.0);\r\n            es.shutdown();\r\n        }\r\n        {\r\n            long start = System.nanoTime();\r\n            int runs = 200000;\r\n            for (int i = 0; i &lt; runs; i++)\r\n                task.run();\r\n            for (int i = 0; i &lt; runs; i++)\r\n                queue.take();\r\n            long time = System.nanoTime() - start;\r\n            System.out.printf(&quot;Time for a task to complete in the same thread %.2f us%n&quot;, time / runs / 1000.0);\r\n        }\r\n    }\r\n    }\r\n\r\nAs you can see, creating a new thread only costs ~70 &amp;micro;s.  This could be considered trivial in many, if not most, use cases.  Relatively speaking it is more expensive than the alternatives and for some situations a thread pool or not using threads at all is a better solution.","title":"Why is creating a Thread said to be expensive?","body":"<p>Others have discussed where the costs of threading come from.  This answer covers why creating a thread is not that expensive compared to many operations, but <em>relatively</em> expensive compared to task execution alternatives, which are <em>relatively</em> less expensive.</p>\n\n<p>The most obvious alternative to running a task in another thread is to run the task in the same thread. This is difficult to grasp for those assuming that more threads are always better.  The logic is that if the overhead of adding the task to another thread is greater than the time you save, it can be faster to perform the task in the current thread.</p>\n\n<p>Another alternative is to use a thread pool.  A thread pool can be more efficient for two reasons. 1) it reuses threads already created. 2) you can tune/control the number of threads to ensure you have optimal performance.</p>\n\n<p>The following program prints....</p>\n\n<pre><code>Time for a task to complete in a new Thread 71.3 us\nTime for a task to complete in a thread pool 0.39 us\nTime for a task to complete in the same thread 0.08 us\nTime for a task to complete in a new Thread 65.4 us\nTime for a task to complete in a thread pool 0.37 us\nTime for a task to complete in the same thread 0.08 us\nTime for a task to complete in a new Thread 61.4 us\nTime for a task to complete in a thread pool 0.38 us\nTime for a task to complete in the same thread 0.08 us\n</code></pre>\n\n<p>This is a test for a trivial task which exposes the overhead of each threading option. (This test task is the sort of task that is actually best performed in the current thread.)</p>\n\n<pre><code>final BlockingQueue&lt;Integer&gt; queue = new LinkedBlockingQueue&lt;Integer&gt;();\nRunnable task = new Runnable() {\n    @Override\n    public void run() {\n        queue.add(1);\n    }\n};\n\nfor (int t = 0; t &lt; 3; t++) {\n    {\n        long start = System.nanoTime();\n        int runs = 20000;\n        for (int i = 0; i &lt; runs; i++)\n            new Thread(task).start();\n        for (int i = 0; i &lt; runs; i++)\n            queue.take();\n        long time = System.nanoTime() - start;\n        System.out.printf(\"Time for a task to complete in a new Thread %.1f us%n\", time / runs / 1000.0);\n    }\n    {\n        int threads = Runtime.getRuntime().availableProcessors();\n        ExecutorService es = Executors.newFixedThreadPool(threads);\n        long start = System.nanoTime();\n        int runs = 200000;\n        for (int i = 0; i &lt; runs; i++)\n            es.execute(task);\n        for (int i = 0; i &lt; runs; i++)\n            queue.take();\n        long time = System.nanoTime() - start;\n        System.out.printf(\"Time for a task to complete in a thread pool %.2f us%n\", time / runs / 1000.0);\n        es.shutdown();\n    }\n    {\n        long start = System.nanoTime();\n        int runs = 200000;\n        for (int i = 0; i &lt; runs; i++)\n            task.run();\n        for (int i = 0; i &lt; runs; i++)\n            queue.take();\n        long time = System.nanoTime() - start;\n        System.out.printf(\"Time for a task to complete in the same thread %.2f us%n\", time / runs / 1000.0);\n    }\n}\n}\n</code></pre>\n\n<p>As you can see, creating a new thread only costs ~70 &micro;s.  This could be considered trivial in many, if not most, use cases.  Relatively speaking it is more expensive than the alternatives and for some situations a thread pool or not using threads at all is a better solution.</p>\n"}],"owner":{"account_id":65170,"reputation":2696,"user_id":191995,"accept_rate":38,"display_name":"kachanov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56596,"favorite_count":0,"down_vote_count":0,"up_vote_count":203,"accepted_answer_id":5483105,"answer_count":6,"score":203,"last_activity_date":1690521045,"creation_date":1301468914,"question_id":5483047,"body_markdown":"The Java tutorials say that creating a Thread is expensive. But why exactly is it expensive? What exactly is happening when a Java Thread is created that makes its creation expensive? I&#39;m taking the statement as true, but I&#39;m just interested in mechanics of Thread creation in JVM. \r\n\r\n&gt; Thread lifecycle overhead. Thread creation and teardown are not free. The actual overhead varies across platforms, but thread creation takes time, introducing latency into request processing, and requires some processing activity by the JVM and OS. If requests are frequent and lightweight, as in most server applications, creating a new thread for each request can consume significant computing resources.\r\n\r\nFrom *Java Concurrency in Practice*  \r\nBy Brian Goetz, Tim Peierls, Joshua Bloch, Joseph Bowbeer, David Holmes, Doug Lea  \r\nPrint ISBN-10: 0-321-34960-1","title":"Why is creating a Thread said to be expensive?","body":"<p>The Java tutorials say that creating a Thread is expensive. But why exactly is it expensive? What exactly is happening when a Java Thread is created that makes its creation expensive? I'm taking the statement as true, but I'm just interested in mechanics of Thread creation in JVM. </p>\n\n<blockquote>\n  <p>Thread lifecycle overhead. Thread creation and teardown are not free. The actual overhead varies across platforms, but thread creation takes time, introducing latency into request processing, and requires some processing activity by the JVM and OS. If requests are frequent and lightweight, as in most server applications, creating a new thread for each request can consume significant computing resources.</p>\n</blockquote>\n\n<p>From <em>Java Concurrency in Practice</em><br>\nBy Brian Goetz, Tim Peierls, Joshua Bloch, Joseph Bowbeer, David Holmes, Doug Lea<br>\nPrint ISBN-10: 0-321-34960-1</p>\n"},{"tags":["java","apache-spark","amazon-s3","amazon-emr"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684240461,"post_id":76261326,"comment_id":134486203,"body_markdown":"How many executors are running?","body":"How many executors are running?"},{"owner":{"account_id":2542566,"reputation":141,"user_id":2208071,"display_name":"shashank93rao"},"score":0,"creation_date":1684241793,"post_id":76261326,"comment_id":134486549,"body_markdown":"2 executors. Increasing the executors is an option but I want to optimise this before I  beef up the underlying infrastructure.","body":"2 executors. Increasing the executors is an option but I want to optimise this before I  beef up the underlying infrastructure."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684248699,"post_id":76261326,"comment_id":134488576,"body_markdown":"You don&#39;t need more infra for more executors. You optimize with more executors. Say you have 16G of RAM on each node for example (m5.xlarge). Then you can run, say 3-4 executors with 3-4G each. Then if you have 2 spark workers, you can run 6-8 total executors, or even more with 1-2G GB per executor. Each file is less than 2MB, so you really don&#39;t need GB of memory","body":"You don&#39;t need more infra for more executors. You optimize with more executors. Say you have 16G of RAM on each node for example (m5.xlarge). Then you can run, say 3-4 executors with 3-4G each. Then if you have 2 spark workers, you can run 6-8 total executors, or even more with 1-2G GB per executor. Each file is less than 2MB, so you really don&#39;t need GB of memory"},{"owner":{"account_id":2542566,"reputation":141,"user_id":2208071,"display_name":"shashank93rao"},"score":0,"creation_date":1684249580,"post_id":76261326,"comment_id":134488816,"body_markdown":"@OneCricketeer can you please let me know how to increase the number of executors? Also, how does spark arrive at the number 10000 tasks? Can I reduce that to optimise the read?","body":"@OneCricketeer can you please let me know how to increase the number of executors? Also, how does spark arrive at the number 10000 tasks? Can I reduce that to optimise the read?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684249847,"post_id":76261326,"comment_id":134488895,"body_markdown":"Have you seen the docs that say `--num-executors`? https://spark.apache.org/docs/latest/submitting-applications.html","body":"Have you seen the docs that say <code>--num-executors</code>? <a href=\"https://spark.apache.org/docs/latest/submitting-applications.html\" rel=\"nofollow noreferrer\">spark.apache.org/docs/latest/submitting-applications.html</a>"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684249894,"post_id":76261326,"comment_id":134488908,"body_markdown":"There&#39;s 100+k files, so one task is needed per file... You can optimize by Gzipping, or Bzip2-ing your JSON files in S3","body":"There&#39;s 100+k files, so one task is needed per file... You can optimize by Gzipping, or Bzip2-ing your JSON files in S3"}],"answers":[{"tags":[],"owner":{"account_id":469790,"reputation":1689,"user_id":876595,"display_name":"chehsunliu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690519615,"creation_date":1690519615,"answer_id":76784910,"question_id":76261326,"body_markdown":"I have encountered the same issue before. Eventually, I listed all the files manually via `boto3` and put the string list into `spark.read.parquet`. This saved me tremendous amounts of time.","title":"Spark: How to reduce the time to read files from S3?","body":"<p>I have encountered the same issue before. Eventually, I listed all the files manually via <code>boto3</code> and put the string list into <code>spark.read.parquet</code>. This saved me tremendous amounts of time.</p>\n"}],"owner":{"account_id":2542566,"reputation":141,"user_id":2208071,"display_name":"shashank93rao"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690519615,"creation_date":1684228745,"question_id":76261326,"body_markdown":"I need to read the JSON files present in S3 and process them. There are roughly 120,000 JSONL files present in a single directory of S3. Each file is roughly around 1.6MB in size.\r\n\r\nMy spark code is very simple:\r\n```\r\nspark.read().json(s3DirectoryPath)\r\n```\r\n\r\nThis triggers two jobs:\r\n\r\n 1. List Job\r\n 2. Read Job\r\n\r\n[![List job][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rjAhF.png\r\n\r\nMy problem is that the list job takes a lot of time (roughly 2 hrs). How can I optimise this? \r\n\r\nAlso, I see that spark decided to form 10,000 tasks for listing files. How did Spark decide on the number of tasks? Can this be tuned to give better performance?\r\n\r\nNote: Combining multiple files into large files is not an option for me.\r\n\r\nEnvironment Details:\r\n\r\nAWS EMR\r\n\r\n2 Executors in 2 m5.xlarge machines\r\n","title":"Spark: How to reduce the time to read files from S3?","body":"<p>I need to read the JSON files present in S3 and process them. There are roughly 120,000 JSONL files present in a single directory of S3. Each file is roughly around 1.6MB in size.</p>\n<p>My spark code is very simple:</p>\n<pre><code>spark.read().json(s3DirectoryPath)\n</code></pre>\n<p>This triggers two jobs:</p>\n<ol>\n<li>List Job</li>\n<li>Read Job</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/rjAhF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rjAhF.png\" alt=\"List job\" /></a></p>\n<p>My problem is that the list job takes a lot of time (roughly 2 hrs). How can I optimise this?</p>\n<p>Also, I see that spark decided to form 10,000 tasks for listing files. How did Spark decide on the number of tasks? Can this be tuned to give better performance?</p>\n<p>Note: Combining multiple files into large files is not an option for me.</p>\n<p>Environment Details:</p>\n<p>AWS EMR</p>\n<p>2 Executors in 2 m5.xlarge machines</p>\n"},{"tags":["java","sockets","exception","network-programming"],"comments":[{"owner":{"account_id":205707,"reputation":1,"user_id":454597,"accept_rate":91,"display_name":"TC1"},"score":1,"creation_date":1311664128,"post_id":6826331,"comment_id":8110854,"body_markdown":"`!(str == null)` just looks confusing, you should write `str != null`.","body":"<code>!(str == null)</code> just looks confusing, you should write <code>str != null</code>."},{"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"score":1,"creation_date":1311664569,"post_id":6826331,"comment_id":8110952,"body_markdown":"Where and how are you initializing the addURL variable?","body":"Where and how are you initializing the addURL variable?"}],"answers":[{"comments":[{"owner":{"account_id":205707,"reputation":1,"user_id":454597,"accept_rate":91,"display_name":"TC1"},"score":1,"creation_date":1311664067,"post_id":6826455,"comment_id":8110843,"body_markdown":"That too, but is it me or is there no definition for `addURL` anywhere in there?","body":"That too, but is it me or is there no definition for <code>addURL</code> anywhere in there?"}],"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1311663904,"creation_date":1311663904,"answer_id":6826455,"question_id":6826331,"body_markdown":"&quot;Network is unreachable&quot; means just that. You&#39;re not connected to a network. It&#39;s something outside of your program. Could be a bad OS setting, NIC, router, etc.","title":"java.net.SocketException: Network is unreachable: connect","body":"<p>\"Network is unreachable\" means just that. You're not connected to a network. It's something outside of your program. Could be a bad OS setting, NIC, router, etc.</p>\n"},{"comments":[{"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"score":1,"creation_date":1311833888,"post_id":6826494,"comment_id":8151709,"body_markdown":"I added a thread that as request time outs it tries again. this this was effective. because in my network we broadcast several media contents; this problems occur. thank you for help","body":"I added a thread that as request time outs it tries again. this this was effective. because in my network we broadcast several media contents; this problems occur. thank you for help"}],"tags":[],"owner":{"account_id":447369,"reputation":10947,"user_id":840960,"accept_rate":100,"display_name":"Shlublu"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1311664194,"creation_date":1311664194,"answer_id":6826494,"question_id":6826331,"body_markdown":"You are facing a connection breakdown. Does this happen in 3G, WiFi or &quot;plain&quot; connection on a computer?\r\n\r\nAnyway, you must assume that the connection may be lost from time to time, when writing your app. For example, with mobiles, this happens frequently in the tube, in basements, etc. With PC apps, this is less frequent but occurs sometimes.\r\n\r\nA retry can be a good solution. And a clean error message that explains the network is not available at this moment too.","title":"java.net.SocketException: Network is unreachable: connect","body":"<p>You are facing a connection breakdown. Does this happen in 3G, WiFi or \"plain\" connection on a computer?</p>\n\n<p>Anyway, you must assume that the connection may be lost from time to time, when writing your app. For example, with mobiles, this happens frequently in the tube, in basements, etc. With PC apps, this is less frequent but occurs sometimes.</p>\n\n<p>A retry can be a good solution. And a clean error message that explains the network is not available at this moment too.</p>\n"},{"tags":[],"owner":{"account_id":3981606,"reputation":193,"user_id":3283370,"accept_rate":100,"display_name":"Fyodor Menshikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1479461347,"creation_date":1479461347,"answer_id":40673491,"question_id":6826331,"body_markdown":"I faced situation of getting `java.net.SocketException` not sometimes but every time. I&#39;ve added `-Djava.net.preferIPv4Stack=true` to java command line and my program started to work properly.","title":"java.net.SocketException: Network is unreachable: connect","body":"<p>I faced situation of getting <code>java.net.SocketException</code> not sometimes but every time. I've added <code>-Djava.net.preferIPv4Stack=true</code> to java command line and my program started to work properly.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690522015,"post_id":48417560,"comment_id":135368229,"body_markdown":"`&#39;Network unreachable&#39; provides a lot more informative than &#39;time out&#39;, and in fact the two are not related.","body":"`&#39;Network unreachable&#39; provides a lot more informative than &#39;time out&#39;, and in fact the two are not related."}],"tags":[],"owner":{"account_id":5817318,"reputation":9,"user_id":4586490,"display_name":"Koki Hayashi"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1516781278,"creation_date":1516781278,"answer_id":48417560,"question_id":6826331,"body_markdown":"I haven&#39;t tested with your code so it would be totally different case though, still I&#39;d like to share my experience. (Also this must be too late answer though, I hope this answer still would help somebody in the future)\r\n\r\nI recently faced similar experience like you such as some times Network is unreachable, but sometimes not. In short words, what was cause is too small time out. It seems Java throws IOException with stating &quot;Network is unreachable&quot; when the connection fails because of it. It was so misleading (I would expect something like saying &quot;time out&quot;) and I spent almost a month to detect it. \r\n\r\nHere I found another post about how to set time out. \r\nhttps://stackoverflow.com/questions/5351689/alternative-to-java-net-url-for-custom-timeout-setting\r\n\r\nAgain, this might not the same case as you got experienced, but somebody for the future.\r\n\r\n\r\n","title":"java.net.SocketException: Network is unreachable: connect","body":"<p>I haven't tested with your code so it would be totally different case though, still I'd like to share my experience. (Also this must be too late answer though, I hope this answer still would help somebody in the future)</p>\n\n<p>I recently faced similar experience like you such as some times Network is unreachable, but sometimes not. In short words, what was cause is too small time out. It seems Java throws IOException with stating \"Network is unreachable\" when the connection fails because of it. It was so misleading (I would expect something like saying \"time out\") and I spent almost a month to detect it. </p>\n\n<p>Here I found another post about how to set time out. \n<a href=\"https://stackoverflow.com/questions/5351689/alternative-to-java-net-url-for-custom-timeout-setting\">Alternative to java.net.URL for custom timeout setting</a></p>\n\n<p>Again, this might not the same case as you got experienced, but somebody for the future.</p>\n"},{"tags":[],"owner":{"account_id":11500951,"reputation":101,"user_id":8428764,"display_name":"Lubos Prague"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610551187,"creation_date":1610551187,"answer_id":65704803,"question_id":6826331,"body_markdown":"this just happened to me. None of the answers helped, as the issue was I have recently changed the target host configuration and put incorrect host value there. So it could just be wrong connection details as well.","title":"java.net.SocketException: Network is unreachable: connect","body":"<p>this just happened to me. None of the answers helped, as the issue was I have recently changed the target host configuration and put incorrect host value there. So it could just be wrong connection details as well.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690522067,"post_id":76784884,"comment_id":135368237,"body_markdown":"That would cause `NoSuchHostException`, not &#39;network unreachable&#39;.","body":"That would cause <code>NoSuchHostException</code>, not &#39;network unreachable&#39;."},{"owner":{"account_id":19174115,"reputation":110,"user_id":14135669,"display_name":"polendina"},"score":0,"creation_date":1690523922,"post_id":76784884,"comment_id":135368456,"body_markdown":"It did give me `java.net.SocketException` using `okhttp` and kotlin.","body":"It did give me <code>java.net.SocketException</code> using <code>okhttp</code> and kotlin."},{"owner":{"account_id":19174115,"reputation":110,"user_id":14135669,"display_name":"polendina"},"score":0,"creation_date":1690532856,"post_id":76784884,"comment_id":135370017,"body_markdown":"I&#39;ve tried recreating the same exception by reverting the DNS back back to cloudflare, and now it somehow works (even though the last time it was completely resolved right after i changed it to Google). mapping the original host to a loopback address resulted in  `SocketTimeoutException: Network is unreachable`. Having a completely non-existent domain as the url did result in `UnknownHostException`.\nThose are my findings. Should I delete the response?","body":"I&#39;ve tried recreating the same exception by reverting the DNS back back to cloudflare, and now it somehow works (even though the last time it was completely resolved right after i changed it to Google). mapping the original host to a loopback address resulted in  <code>SocketTimeoutException: Network is unreachable</code>. Having a completely non-existent domain as the url did result in <code>UnknownHostException</code>. Those are my findings. Should I delete the response?"}],"tags":[],"owner":{"account_id":19174115,"reputation":110,"user_id":14135669,"display_name":"polendina"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690519221,"creation_date":1690519221,"answer_id":76784884,"question_id":6826331,"body_markdown":"In my case, my internet connection itself had DNS that apparently couldn&#39;t resolve the hostname.","title":"java.net.SocketException: Network is unreachable: connect","body":"<p>In my case, my internet connection itself had DNS that apparently couldn't resolve the hostname.</p>\n"}],"owner":{"account_id":178914,"reputation":2104,"user_id":411186,"accept_rate":60,"display_name":"sajad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86593,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":6826494,"answer_count":6,"score":10,"last_activity_date":1690519221,"creation_date":1311663078,"question_id":6826331,"body_markdown":"I am trying to download a xml text file from a web server using this method:\r\n\r\n\r\n    static void download (String url , String fileName) throws IOException{\r\n\r\n                FileWriter xmlWriter;\r\n                xmlWriter = new FileWriter(fileName);\r\n                System.out.println(&quot;URL to download is : &quot; + url);\r\n\r\n\t\t\t\t// here Exception is thrown/////////////////////////////////\r\n                BufferedReader inputTxtReader = new BufferedReader\r\n                            (new BufferedReader(new InputStreamReader(addURL.openStream())));\r\n\t\t\t\t////////////////////////////////////////////////////////\r\n\t\t\t\t\r\n\t\t\t\tString str ;\r\n                String fileInStr = &quot;&quot;;\r\n\r\n                str = inputTxtReader.readLine();\r\n\r\n                while (!(str == null)  ){///&amp;&amp; !(str.equals(&quot;&lt;/tv&gt;&quot;))\r\n                    fileInStr += (str + &quot;\\r\\n&quot;);\r\n                    str = inputTxtReader.readLine();\r\n                }\r\n\r\n                xmlWriter.write(fileInStr);\r\n                xmlWriter.flush();\r\n                xmlWriter.close();\r\n                System.out.println(&quot;File Downloaded&quot;);\r\n    }\r\n\t\r\n\r\nSometimes this exception is thrown (where I specified is code):\r\n\r\n\t\r\n\tjava.net.SocketException: Network is unreachable: connect\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\r\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\r\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\r\n        at java.net.Socket.connect(Socket.java:518)\r\n        at java.net.Socket.connect(Socket.java:468)\r\n        at sun.net.NetworkClient.doConnect(NetworkClient.java:157)\r\n        at sun.net.www.http.HttpClient.openServer(HttpClient.java:389)\r\n        at sun.net.www.http.HttpClient.openServer(HttpClient.java:516)\r\n        at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:233)\r\n        at sun.net.www.http.HttpClient.New(HttpClient.java:306)\r\n        at sun.net.www.http.HttpClient.New(HttpClient.java:318)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:788)\r\n        at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:729)\r\n        at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:654)\r\n        at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:977)\r\n        at java.net.URL.openStream(URL.java:1009)\r\n        at MessagePanel.download(MessagePanel.java:640)\r\n        at WelcomThread.run(MainBody2.java:891)\r\n\t\t\r\n\t\t\r\nPlease guide me\r\n\t\t\r\nThank you all.","title":"java.net.SocketException: Network is unreachable: connect","body":"<p>I am trying to download a xml text file from a web server using this method:</p>\n\n<pre><code>static void download (String url , String fileName) throws IOException{\n\n            FileWriter xmlWriter;\n            xmlWriter = new FileWriter(fileName);\n            System.out.println(\"URL to download is : \" + url);\n\n            // here Exception is thrown/////////////////////////////////\n            BufferedReader inputTxtReader = new BufferedReader\n                        (new BufferedReader(new InputStreamReader(addURL.openStream())));\n            ////////////////////////////////////////////////////////\n\n            String str ;\n            String fileInStr = \"\";\n\n            str = inputTxtReader.readLine();\n\n            while (!(str == null)  ){///&amp;&amp; !(str.equals(\"&lt;/tv&gt;\"))\n                fileInStr += (str + \"\\r\\n\");\n                str = inputTxtReader.readLine();\n            }\n\n            xmlWriter.write(fileInStr);\n            xmlWriter.flush();\n            xmlWriter.close();\n            System.out.println(\"File Downloaded\");\n}\n</code></pre>\n\n<p>Sometimes this exception is thrown (where I specified is code):</p>\n\n<pre><code>java.net.SocketException: Network is unreachable: connect\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\n    at java.net.Socket.connect(Socket.java:518)\n    at java.net.Socket.connect(Socket.java:468)\n    at sun.net.NetworkClient.doConnect(NetworkClient.java:157)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:389)\n    at sun.net.www.http.HttpClient.openServer(HttpClient.java:516)\n    at sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:233)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:306)\n    at sun.net.www.http.HttpClient.New(HttpClient.java:318)\n    at sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:788)\n    at sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:729)\n    at sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:654)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:977)\n    at java.net.URL.openStream(URL.java:1009)\n    at MessagePanel.download(MessagePanel.java:640)\n    at WelcomThread.run(MainBody2.java:891)\n</code></pre>\n\n<p>Please guide me</p>\n\n<p>Thank you all.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690517693,"post_id":76784805,"comment_id":135367839,"body_markdown":"Instead of fixing `provideFruits`, fix `fruits.add`. Whoever wrote that should not have assumed the list is modifiable.","body":"Instead of fixing <code>provideFruits</code>, fix <code>fruits.add</code>. Whoever wrote that should not have assumed the list is modifiable."},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":1,"creation_date":1690517901,"post_id":76784805,"comment_id":135367848,"body_markdown":"Create custom list class and return that. But there nothing such thing in Java. And I don&#39;t see any reason to be it there.","body":"Create custom list class and return that. But there nothing such thing in Java. And I don&#39;t see any reason to be it there."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1690518028,"post_id":76784805,"comment_id":135367857,"body_markdown":"It&#39;s arguably a design flaw, but there&#39;s no read-only List interface in the JDK. You can create your own, or use something like Guava&#39;s `ImmutableList` which at least deprecates those methods. But the general answer is you have to assume Lists are not mutable unless you know otherwise, like @Sweeper said.","body":"It&#39;s arguably a design flaw, but there&#39;s no read-only List interface in the JDK. You can create your own, or use something like Guava&#39;s <code>ImmutableList</code> which at least deprecates those methods. But the general answer is you have to assume Lists are not mutable unless you know otherwise, like @Sweeper said."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1690522498,"post_id":76784823,"comment_id":135368284,"body_markdown":"regarding the &quot;*Additional Note*&quot; `Collectors#toList` is not guaranteed to return a mutable list - [javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#toList()): &quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned;&quot;","body":"regarding the &quot;<i>Additional Note</i>&quot; <code>Collectors#toList</code> is not guaranteed to return a mutable list - <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/Collectors.html#toList()\" rel=\"nofollow noreferrer\">javadoc</a>: &quot;There are no guarantees on the type, mutability, serializability, or thread-safety of the List returned;&quot;"}],"tags":[],"owner":{"account_id":22906904,"reputation":113,"user_id":17044833,"display_name":"Jaison "},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690518061,"creation_date":1690518061,"answer_id":76784823,"question_id":76784805,"body_markdown":"if `provideFruits();` is returning an immutable list the `fruits` list also will be immutable and you wont be able to add to it.\r\n\r\nThere are two options\r\n\r\n 1. Make `providerFruits()` return a mutable list. (*Additional Note just in case*: if you are using streams api to return the results in `providerFruits()`, note that `stream.toList()` will create an immutable list while `stream.collect(toList())` will create mutable lists.)\r\n 2. Change your code as follows,\r\n\r\n        List&lt;String&gt; fruits = new ArrayList&lt;&gt;(provideFruits());\r\n        fruits.add(&quot;Cherry&quot;);\r\n\r\nThis will ensure `fruits` is mutable even if results of `provideFruits()` is immutable\r\n","title":"In Java, is there an unmodifiable list class that can not be assigned to List class?","body":"<p>if <code>provideFruits();</code> is returning an immutable list the <code>fruits</code> list also will be immutable and you wont be able to add to it.</p>\n<p>There are two options</p>\n<ol>\n<li><p>Make <code>providerFruits()</code> return a mutable list. (<em>Additional Note just in case</em>: if you are using streams api to return the results in <code>providerFruits()</code>, note that <code>stream.toList()</code> will create an immutable list while <code>stream.collect(toList())</code> will create mutable lists.)</p>\n</li>\n<li><p>Change your code as follows,</p>\n<pre><code>List&lt;String&gt; fruits = new ArrayList&lt;&gt;(provideFruits());\nfruits.add(&quot;Cherry&quot;);\n</code></pre>\n</li>\n</ol>\n<p>This will ensure <code>fruits</code> is mutable even if results of <code>provideFruits()</code> is immutable</p>\n"}],"owner":{"account_id":1154857,"reputation":2235,"user_id":1135744,"accept_rate":50,"display_name":"Sanjay Vamja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76784823,"answer_count":1,"score":0,"last_activity_date":1690518061,"creation_date":1690517587,"question_id":76784805,"body_markdown":"I want to prevent below runtime error:\r\n\r\n```\r\n  Exception java.lang.UnsupportedOperationException\r\n        at ImmutableCollections.uoe (ImmutableCollections.java:142)\r\n```\r\n\r\nwhile adding to an unknown List data type. eg:\r\n\r\n```\r\nList&lt;String&gt; fruits = provideFruits();\r\nfruits.add(&quot;Cherry&quot;);\r\n```\r\n\r\nAs an alternative, I am looking for a data type that `provideFruits()` can return as an unmodifiable list, but that can not be assigned to `List` class at compile time, so that it prevents this runtime misery!\r\n\r\n\r\n\r\n","title":"In Java, is there an unmodifiable list class that can not be assigned to List class?","body":"<p>I want to prevent below runtime error:</p>\n<pre><code>  Exception java.lang.UnsupportedOperationException\n        at ImmutableCollections.uoe (ImmutableCollections.java:142)\n</code></pre>\n<p>while adding to an unknown List data type. eg:</p>\n<pre><code>List&lt;String&gt; fruits = provideFruits();\nfruits.add(&quot;Cherry&quot;);\n</code></pre>\n<p>As an alternative, I am looking for a data type that <code>provideFruits()</code> can return as an unmodifiable list, but that can not be assigned to <code>List</code> class at compile time, so that it prevents this runtime misery!</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":191938,"reputation":15835,"user_id":432806,"accept_rate":100,"display_name":"pcalcao"},"score":0,"creation_date":1331653003,"post_id":9687153,"comment_id":12308513,"body_markdown":"Show us the meaningful part of the code, it&#39;s the only way we can guess what&#39;s happening.","body":"Show us the meaningful part of the code, it&#39;s the only way we can guess what&#39;s happening."},{"owner":{"account_id":32701,"reputation":7764,"user_id":90909,"accept_rate":89,"display_name":"qrtt1"},"score":0,"creation_date":1331653054,"post_id":9687153,"comment_id":12308538,"body_markdown":"You should manage the lost connection carefully http://stackoverflow.com/a/8997413/90909","body":"You should manage the lost connection carefully <a href=\"http://stackoverflow.com/a/8997413/90909\">stackoverflow.com/a/8997413/90909</a>"},{"owner":{"account_id":1309129,"reputation":498,"user_id":1257507,"accept_rate":67,"display_name":"Pita"},"score":1,"creation_date":1331653329,"post_id":9687153,"comment_id":12308659,"body_markdown":"i had the con.close method in my connector class. is that probably why then?","body":"i had the con.close method in my connector class. is that probably why then?"},{"owner":{"account_id":65396,"reputation":8715,"user_id":192465,"accept_rate":85,"display_name":"riddle_me_this"},"score":0,"creation_date":1482551921,"post_id":9687153,"comment_id":69823672,"body_markdown":"Upgrading to MySQL 5.6.28 resolved this issue for me (from 5.5.40)","body":"Upgrading to MySQL 5.6.28 resolved this issue for me (from 5.5.40)"}],"answers":[{"comments":[{"owner":{"account_id":1309129,"reputation":498,"user_id":1257507,"accept_rate":67,"display_name":"Pita"},"score":0,"creation_date":1331654296,"post_id":9687239,"comment_id":12309048,"body_markdown":"i followed it, but i done everything right according to your url. I think its the time out session, which is preventing me from doing things to my db. is there any way, to prevent the time out session? I have read something about maxWait indefinate, but cant find anythng specific to how to declare that, so that the system would wait no matter how long it takes until response is received.","body":"i followed it, but i done everything right according to your url. I think its the time out session, which is preventing me from doing things to my db. is there any way, to prevent the time out session? I have read something about maxWait indefinate, but cant find anythng specific to how to declare that, so that the system would wait no matter how long it takes until response is received."}],"tags":[],"owner":{"account_id":1290660,"reputation":27194,"user_id":1242826,"display_name":"ChapMic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331653155,"creation_date":1331653155,"answer_id":9687239,"question_id":9687153,"body_markdown":"Did you follow/read this tutorial : \r\n\r\n[Connectivity with MYSQL][1]\r\n\r\nYou have a part for your exception which can be useful for you.\r\n\r\nI will quote something about your specific exception, just try that : \r\n \r\n&gt; If you get a SQLException: Connection refused or Connection timed out\r\n&gt; or a MySQL specific CommunicationsException: Communications link\r\n&gt; failure, then it means that the DB isn&#39;t reachable at all. This can\r\n&gt; have one or more of the following causes:\r\n&gt; \r\n&gt; IP address or hostname in JDBC URL is wrong. Hostname in JDBC URL is\r\n&gt; not recognized by local DNS server. Port number is missing or wrong in\r\n&gt; JDBC URL. DB server is down. DB server doesn&#39;t accept TCP/IP\r\n&gt; connections. DB server has run out of connections. Something in\r\n&gt; between Java and DB is blocking connections, e.g. a firewall or proxy.\r\n&gt; \r\n&gt; \r\n&gt; To solve the one or the other, follow the following advices:\r\n&gt; \r\n&gt; Verify and test them with ping. Refresh DNS or use IP address in JDBC\r\n&gt; URL instead. Verify it based on my.cnf of MySQL DB. Start the DB.\r\n&gt; Verify if mysqld is started without the --skip-networking option.\r\n&gt; Restart the DB and fix your code accordingly that it closes\r\n&gt; connections in finally. Disable firewall and/or configure\r\n&gt; firewall/proxy to allow/forward the port.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358","title":"Can not read response from server","body":"<p>Did you follow/read this tutorial : </p>\n\n<p><a href=\"https://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358\">Connectivity with MYSQL</a></p>\n\n<p>You have a part for your exception which can be useful for you.</p>\n\n<p>I will quote something about your specific exception, just try that : </p>\n\n<blockquote>\n  <p>If you get a SQLException: Connection refused or Connection timed out\n  or a MySQL specific CommunicationsException: Communications link\n  failure, then it means that the DB isn't reachable at all. This can\n  have one or more of the following causes:</p>\n  \n  <p>IP address or hostname in JDBC URL is wrong. Hostname in JDBC URL is\n  not recognized by local DNS server. Port number is missing or wrong in\n  JDBC URL. DB server is down. DB server doesn't accept TCP/IP\n  connections. DB server has run out of connections. Something in\n  between Java and DB is blocking connections, e.g. a firewall or proxy.</p>\n  \n  <p>To solve the one or the other, follow the following advices:</p>\n  \n  <p>Verify and test them with ping. Refresh DNS or use IP address in JDBC\n  URL instead. Verify it based on my.cnf of MySQL DB. Start the DB.\n  Verify if mysqld is started without the --skip-networking option.\n  Restart the DB and fix your code accordingly that it closes\n  connections in finally. Disable firewall and/or configure\n  firewall/proxy to allow/forward the port.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1865040,"reputation":171,"user_id":1688822,"display_name":"ashish"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1351517940,"creation_date":1351513989,"answer_id":13121717,"question_id":9687153,"body_markdown":"Sometimes this problem comes due to size of system RAM.May be you are inserting the data using buffer through RAM. To get out of this problem.\r\n\r\n 1. Set the Auto commit disable before inserting the data.\r\n 2. insert some amount of data appropriate to your System RAM (not the\r\n    whole).\r\n 3. Commit the query.\r\n 4. Do the steps 2 and 3 again until the whole insertion will not be\r\n    done.\r\n\r\n   \r\n\r\nYou can understand this by the following code.  \r\n\r\n\r\n\r\n    public static void main(string args[]) \r\n    {\r\n      Connection con = null;\r\n      Statement stm = null;\r\n      int i;\r\n      float ratio;\r\n      ratio=1.0f;\r\n      try\r\n      {\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        // Connecting to the database\r\n        con = DriverManager.getConnection(&quot;jdbc:mysql://127.0.0.1:3306/demo&quot;,\r\n                                          &quot;ashish&quot;, &quot;impetus&quot;);\r\n        File f = new File(&quot;filler&quot;); // taking the random text data from the file\r\n                                     // filler.txt and inserting that string\r\n                                     // in filler field of the relations\r\n        RandomAccessFile r = new RandomAccessFile(f,&quot;r&quot;);\r\n        Random randomGenerator = new Random();\r\n        String strLine=new String();\r\n        int r1,flag=0;\r\n        stm = con.createStatement();\r\n        con.setAutoCommit(false) ;\r\n\t\r\n        int k=0;\r\n        i=0;     \t\t\t\r\n\r\n        long sum2=0;\r\n        while(k%50000==0)\r\n        {\r\n          final long start = currentTimeMillis();\r\n          final StringBuilder builder =\r\n            new StringBuilder(&quot;INSERT INTO accounts \r\n                               (aid, bid,abalance,filler) VALUES &quot;);\r\n          while(i!=naccounts*ratio*scale )\r\n            {\r\n            int j=i+1;\r\n            for(int l=0;l&lt;40;l++)\r\n            {\r\n              strLine+=((char)r.read());\r\n              r.skipBytes(0);\r\n            }\r\n            r1=randomGenerator.nextInt(1500);\r\n            if(strLine.equals(&quot;&quot;))\r\n            {\r\n              flag=1;\r\n            }\r\n            if(flag!=1)\r\n            {\t\r\n              strLine=strLine.replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n              strLine=strLine.replaceAll(&quot;\\\\t&quot;,&quot;&quot;);\r\n            }\t\t    \t\t\r\n            flag=0;\r\n            if (i%50000!=0)\t\r\n            {\r\n              builder.append(&quot;,&quot;);\r\n            }\r\n            builder.append(format(&quot;(%s, %s, %s, &#39;%s&#39;)&quot;, j, \r\n                           i/naccounts+1, 0, strLine));\r\n            strLine=&quot;&quot;;\r\n            r.seek(r1);\r\n            i++;\r\n            if(i%50000==0||i&gt;=naccounts*ratio*scale)\r\n            {   \r\n              final String query = builder.toString();\r\n              final PreparedStatement statement1 = con.prepareStatement(query);\r\n              statement1.execute();\r\n              con.commit();\r\n              final long stop= currentTimeMillis();\r\n              sum2=sum2+(stop-start);\r\n              statement1.close();\r\n            }\r\n            if(i%50000==0||i&gt;=naccounts*ratio*scale)\r\n            {\r\n              break;\r\n            }\r\n          }\r\n          k=k+50000;\r\n          if(k&gt;naccounts*ratio*scale)\r\n          {\r\n            break;\r\n          }\r\n        }\r\n        System.out.println(i+&quot; rows inserted accounts table &quot;);\r\n        System.out.println(&quot;time taken = &quot;+sum2+&quot; milliseconds&quot;);\r\n      }\r\n      catch (SQLException e)\r\n      {\r\n        System.out.println(&quot;Connection Failed! Check output console&quot;);\r\n      \te.printStackTrace();\r\n      \treturn;\r\n      }\r\n      catch (Exception e) \r\n      {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  \r\n   ","title":"Can not read response from server","body":"<p>Sometimes this problem comes due to size of system RAM.May be you are inserting the data using buffer through RAM. To get out of this problem.</p>\n\n<ol>\n<li>Set the Auto commit disable before inserting the data.</li>\n<li>insert some amount of data appropriate to your System RAM (not the\nwhole).</li>\n<li>Commit the query.</li>\n<li>Do the steps 2 and 3 again until the whole insertion will not be\ndone.</li>\n</ol>\n\n<p>You can understand this by the following code.  </p>\n\n<pre><code>public static void main(string args[]) \n{\n  Connection con = null;\n  Statement stm = null;\n  int i;\n  float ratio;\n  ratio=1.0f;\n  try\n  {\n    Class.forName(\"com.mysql.jdbc.Driver\");\n    // Connecting to the database\n    con = DriverManager.getConnection(\"jdbc:mysql://127.0.0.1:3306/demo\",\n                                      \"ashish\", \"impetus\");\n    File f = new File(\"filler\"); // taking the random text data from the file\n                                 // filler.txt and inserting that string\n                                 // in filler field of the relations\n    RandomAccessFile r = new RandomAccessFile(f,\"r\");\n    Random randomGenerator = new Random();\n    String strLine=new String();\n    int r1,flag=0;\n    stm = con.createStatement();\n    con.setAutoCommit(false) ;\n\n    int k=0;\n    i=0;                \n\n    long sum2=0;\n    while(k%50000==0)\n    {\n      final long start = currentTimeMillis();\n      final StringBuilder builder =\n        new StringBuilder(\"INSERT INTO accounts \n                           (aid, bid,abalance,filler) VALUES \");\n      while(i!=naccounts*ratio*scale )\n        {\n        int j=i+1;\n        for(int l=0;l&lt;40;l++)\n        {\n          strLine+=((char)r.read());\n          r.skipBytes(0);\n        }\n        r1=randomGenerator.nextInt(1500);\n        if(strLine.equals(\"\"))\n        {\n          flag=1;\n        }\n        if(flag!=1)\n        {   \n          strLine=strLine.replaceAll(\"\\\\s\",\"\");\n          strLine=strLine.replaceAll(\"\\\\t\",\"\");\n        }                   \n        flag=0;\n        if (i%50000!=0) \n        {\n          builder.append(\",\");\n        }\n        builder.append(format(\"(%s, %s, %s, '%s')\", j, \n                       i/naccounts+1, 0, strLine));\n        strLine=\"\";\n        r.seek(r1);\n        i++;\n        if(i%50000==0||i&gt;=naccounts*ratio*scale)\n        {   \n          final String query = builder.toString();\n          final PreparedStatement statement1 = con.prepareStatement(query);\n          statement1.execute();\n          con.commit();\n          final long stop= currentTimeMillis();\n          sum2=sum2+(stop-start);\n          statement1.close();\n        }\n        if(i%50000==0||i&gt;=naccounts*ratio*scale)\n        {\n          break;\n        }\n      }\n      k=k+50000;\n      if(k&gt;naccounts*ratio*scale)\n      {\n        break;\n      }\n    }\n    System.out.println(i+\" rows inserted accounts table \");\n    System.out.println(\"time taken = \"+sum2+\" milliseconds\");\n  }\n  catch (SQLException e)\n  {\n    System.out.println(\"Connection Failed! Check output console\");\n    e.printStackTrace();\n    return;\n  }\n  catch (Exception e) \n  {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2097386,"reputation":41,"user_id":1865845,"display_name":"jidnesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354269269,"creation_date":1354268097,"answer_id":13642410,"question_id":9687153,"body_markdown":"I was having the same sort of issue. I referred many post and comments but the thing worked for me was changing some parameters of the `my.cnf` file. Hope it will help you also ....\r\n\r\nSet following parameters in **my.cnf [mysqld]** section\r\n\r\n    interactive_timeout=180 # &quot;No.of sec. a server waits for activity on interactive connection before closing it&quot;\r\n    \r\n    wait_timeout=180 # &quot;No. of sec. a server waits for an activity on a connection before closing it&quot;\r\n    \r\n    max_connect_errors=9999 # &quot;More than this number of interrupted connections from a host this host will be blocked from further connections&quot;\r\n    \r\n    skip-name-resolve # &quot;Don&#39;t resolved host names. All host names are IP&#39;s&quot;","title":"Can not read response from server","body":"<p>I was having the same sort of issue. I referred many post and comments but the thing worked for me was changing some parameters of the <code>my.cnf</code> file. Hope it will help you also ....</p>\n\n<p>Set following parameters in <strong>my.cnf [mysqld]</strong> section</p>\n\n<pre><code>interactive_timeout=180 # \"No.of sec. a server waits for activity on interactive connection before closing it\"\n\nwait_timeout=180 # \"No. of sec. a server waits for an activity on a connection before closing it\"\n\nmax_connect_errors=9999 # \"More than this number of interrupted connections from a host this host will be blocked from further connections\"\n\nskip-name-resolve # \"Don't resolved host names. All host names are IP's\"\n</code></pre>\n"}],"owner":{"account_id":1309129,"reputation":498,"user_id":1257507,"accept_rate":67,"display_name":"Pita"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32843,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1690517757,"creation_date":1331652882,"question_id":9687153,"body_markdown":"I have written a Java Program and the program connects to a database on my server, to find records, write records, update and delete. for some reason finding records works, but most of the time when i try to save or write a record it gives an error message saying:\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n\r\n    The last packet successfully received from the server was 9,787 milliseconds ago.       The last packet sent successfully to the server was 8,183 milliseconds ago.\r\n\r\n    Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\r\n\tat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2552)\r\n\tat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3002)\r\n\t... 46 more\r\n\r\n\r\nCan anyone explain why this is happening?\r\nUsuually this gives me the error message when trying to add a record, after i had the software running for more than about half a minute. seems to loose connection or something. when i run the program and quickly write a new record, it works","title":"Can not read response from server","body":"<p>I have written a Java Program and the program connects to a database on my server, to find records, write records, update and delete. for some reason finding records works, but most of the time when i try to save or write a record it gives an error message saying:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n\nThe last packet successfully received from the server was 9,787 milliseconds ago.       The last packet sent successfully to the server was 8,183 milliseconds ago.\n\nCaused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.\nat com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:2552)\nat com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3002)\n... 46 more\n</code></pre>\n\n<p>Can anyone explain why this is happening?\nUsuually this gives me the error message when trying to add a record, after i had the software running for more than about half a minute. seems to loose connection or something. when i run the program and quickly write a new record, it works</p>\n"},{"tags":["java","spring","postgresql","hibernate","postgis"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1690465274,"post_id":76780276,"comment_id":135360105,"body_markdown":"Does this answer your question? [PostGIS Geometry saving: &quot;Invalid endian flag value encountered.&quot;](https://stackoverflow.com/questions/12215212/postgis-geometry-saving-invalid-endian-flag-value-encountered)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12215212/postgis-geometry-saving-invalid-endian-flag-value-encountered\">PostGIS Geometry saving: &quot;Invalid endian flag value encountered.&quot;</a>"},{"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"score":0,"creation_date":1690465676,"post_id":76780276,"comment_id":135360185,"body_markdown":"No it does not.. I tried adding anotations like you can see in the comments above the entity, but it theoretically does not need it.\nI&#39;ve tried using diferent versions of the dependencies and they don&#39;t work either..\nchanging the dialect also does not work......","body":"No it does not.. I tried adding anotations like you can see in the comments above the entity, but it theoretically does not need it. I&#39;ve tried using diferent versions of the dependencies and they don&#39;t work either.. changing the dialect also does not work......"}],"answers":[{"tags":[],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690486685,"creation_date":1690486685,"answer_id":76782913,"question_id":76780276,"body_markdown":"So after some digging I got to [this][1] question which got me in the right direction.\r\n\r\nIt was basically **springboot - hibernate** problem. They look like this now: \r\n\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.1&#39;\r\n\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.hibernate:hibernate-core:6.1.7.Final&#39;\r\n        implementation &#39;org.hibernate:hibernate-spatial:6.1.7.Final&#39;\r\n        \r\n        implementation &#39;net.postgis:postgis-jdbc:2.5.0&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql:42.6.0&#39;\r\n\r\nAlso in spring boot version 3.0.1 you don&#39;t need to specify the dialect. So you can delete this:\r\n\r\n    jpa.properties.hibernate.dialect: org.hibernate.dialect.PostgreSQL95Dialect\r\n\r\nThe hibernate libs now look fine: \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73257636/using-hibernate-6-x-with-spring-boot-2-7-x-not-working\r\n  [2]: https://i.stack.imgur.com/d7fxL.png","title":"PostGIS saving Point as VARBINARY - Invalid endian","body":"<p>So after some digging I got to <a href=\"https://stackoverflow.com/questions/73257636/using-hibernate-6-x-with-spring-boot-2-7-x-not-working\">this</a> question which got me in the right direction.</p>\n<p>It was basically <strong>springboot - hibernate</strong> problem. They look like this now:</p>\n<pre><code>id 'org.springframework.boot' version '3.0.1'\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.hibernate:hibernate-core:6.1.7.Final'\n    implementation 'org.hibernate:hibernate-spatial:6.1.7.Final'\n    \n    implementation 'net.postgis:postgis-jdbc:2.5.0'\n    runtimeOnly 'org.postgresql:postgresql:42.6.0'\n</code></pre>\n<p>Also in spring boot version 3.0.1 you don't need to specify the dialect. So you can delete this:</p>\n<pre><code>jpa.properties.hibernate.dialect: org.hibernate.dialect.PostgreSQL95Dialect\n</code></pre>\n<p>The hibernate libs now look fine:</p>\n<p><a href=\"https://i.stack.imgur.com/d7fxL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d7fxL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5410764,"reputation":448,"user_id":4307638,"accept_rate":67,"display_name":"lemario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690517336,"creation_date":1690464648,"question_id":76780276,"body_markdown":"I am trying to add a Point to a Postgres database and hibernate is not recognizing the Point type. \r\n\r\nEntity:\r\n\r\n    @Table(name = &quot;test_locations&quot;)\r\n    public class TestLoc {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        //@Column(columnDefinition = &quot;geometry(Point, 4326)&quot;)\r\n        //@Column(columnDefinition = &quot;Geometry&quot;, nullable = true)\r\n        //@Type(type = &quot;org.hibernate.spatial.GeometryType&quot;)\r\n        //@Column(columnDefinition = &quot;geometry(Point, 4326)&quot;)\r\n        //@Column(columnDefinition = &quot;Point&quot;)\r\n        //@Type(type = &quot;jts_geometry&quot;)\r\n    \r\n        private Point geom;\r\n    }\r\n\r\nSaving in service:\r\n\r\n    locationRepository.save(location);\r\n\r\nThe query comes out as:\r\n\r\n    insert into test_locations (geom) values (?)\r\n    binding parameter [1] as [VARBINARY] - [POINT (38.743494 -9.100922)]\r\n\r\nAnd then I get the error:\r\n\r\n&gt; SQL Error: 0, SQLState: XX000   \r\n&gt; ERROR: Invalid endian flag value encountered.\r\n\r\n`application.yml` dialect:\r\n\r\n    jpa:\r\n    properties:\r\n      hibernate:\r\n        #dialect: org.hibernate.spatial.dialect.postgis.PostgisDialect  # Set the PostGIS dialect for Hibernate org.hibernate.spatial.dialect.postgis.PostgisDialect\r\n        dialect: org.hibernate.dialect.PostgreSQL95Dialect  # Set the PostGIS dialect for Hibernate org.hibernate.spatial.dialect.postgis.PostgisDialect\r\n        #dialect: org.hibernate.dialect.H2Dialect\r\n        jdbc.lob.non_contextual_creation: true  # Set this to true if you encounter issues with large objects (LOBs)\r\n\r\n`build.gradle dependencies`:\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.locationtech.jts:jts-core:1.19.0&#39;\r\n\timplementation &#39;org.hibernate.orm:hibernate-spatial:6.2.6.Final&#39;\r\n\timplementation &#39;net.postgis:postgis-jdbc:2.5.1&#39;\r\n\timplementation &#39;org.postgresql:postgresql:42.2.27&#39;\r\n\r\n\r\nThis is how my hibernate libs look like. Is it ok to have &quot;duplicates with a different version&quot;?\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PrTtk.png\r\n\r\nI&#39;ve trying adding column definitions, changed around dependencies, and every other option I&#39;ve found on the internet with no success. \r\n\r\nHow do I make hibernate recognize the Point type?\r\n\r\nI&#39;ve tried: \r\n\r\n* Adding annotations like you can see in the comments above the entity, but it theoretically does not need it. \r\n* Using different versions of the dependencies and they don&#39;t work either.. \r\n* Changing the dialect also does not work.....","title":"PostGIS saving Point as VARBINARY - Invalid endian","body":"<p>I am trying to add a Point to a Postgres database and hibernate is not recognizing the Point type.</p>\n<p>Entity:</p>\n<pre><code>@Table(name = &quot;test_locations&quot;)\npublic class TestLoc {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    //@Column(columnDefinition = &quot;geometry(Point, 4326)&quot;)\n    //@Column(columnDefinition = &quot;Geometry&quot;, nullable = true)\n    //@Type(type = &quot;org.hibernate.spatial.GeometryType&quot;)\n    //@Column(columnDefinition = &quot;geometry(Point, 4326)&quot;)\n    //@Column(columnDefinition = &quot;Point&quot;)\n    //@Type(type = &quot;jts_geometry&quot;)\n\n    private Point geom;\n}\n</code></pre>\n<p>Saving in service:</p>\n<pre><code>locationRepository.save(location);\n</code></pre>\n<p>The query comes out as:</p>\n<pre><code>insert into test_locations (geom) values (?)\nbinding parameter [1] as [VARBINARY] - [POINT (38.743494 -9.100922)]\n</code></pre>\n<p>And then I get the error:</p>\n<blockquote>\n<p>SQL Error: 0, SQLState: XX000<br />\nERROR: Invalid endian flag value encountered.</p>\n</blockquote>\n<p><code>application.yml</code> dialect:</p>\n<pre><code>jpa:\nproperties:\n  hibernate:\n    #dialect: org.hibernate.spatial.dialect.postgis.PostgisDialect  # Set the PostGIS dialect for Hibernate org.hibernate.spatial.dialect.postgis.PostgisDialect\n    dialect: org.hibernate.dialect.PostgreSQL95Dialect  # Set the PostGIS dialect for Hibernate org.hibernate.spatial.dialect.postgis.PostgisDialect\n    #dialect: org.hibernate.dialect.H2Dialect\n    jdbc.lob.non_contextual_creation: true  # Set this to true if you encounter issues with large objects (LOBs)\n</code></pre>\n<p><code>build.gradle dependencies</code>:</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\nimplementation 'org.locationtech.jts:jts-core:1.19.0'\nimplementation 'org.hibernate.orm:hibernate-spatial:6.2.6.Final'\nimplementation 'net.postgis:postgis-jdbc:2.5.1'\nimplementation 'org.postgresql:postgresql:42.2.27'\n</code></pre>\n<p>This is how my hibernate libs look like. Is it ok to have &quot;duplicates with a different version&quot;?</p>\n<p><a href=\"https://i.stack.imgur.com/PrTtk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PrTtk.png\" alt=\"enter image description here\" /></a></p>\n<p>I've trying adding column definitions, changed around dependencies, and every other option I've found on the internet with no success.</p>\n<p>How do I make hibernate recognize the Point type?</p>\n<p>I've tried:</p>\n<ul>\n<li>Adding annotations like you can see in the comments above the entity, but it theoretically does not need it.</li>\n<li>Using different versions of the dependencies and they don't work either..</li>\n<li>Changing the dialect also does not work.....</li>\n</ul>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690251148,"post_id":76758439,"comment_id":135323866,"body_markdown":"All you&#39;re doing is passing an *immutable* list. Why not do the sorts in the stream? Why all the boxing and unboxing?","body":"All you&#39;re doing is passing an <i>immutable</i> list. Why not do the sorts in the stream? Why all the boxing and unboxing?"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690288808,"post_id":76758451,"comment_id":135329868,"body_markdown":"There’s no such equivalent for the `Collections.reverse(…)` call though. So if the OP wants a descending list, the solution would be `List&lt;Integer&gt; convList = Arrays.stream(arr) .boxed() .sorted(Comparator.reverseOrder()) .toArray();`","body":"There’s no such equivalent for the <code>Collections.reverse(…)</code> call though. So if the OP wants a descending list, the solution would be <code>List&lt;Integer&gt; convList = Arrays.stream(arr) .boxed() .sorted(Comparator.reverseOrder()) .toArray();</code>"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690292878,"post_id":76758451,"comment_id":135330958,"body_markdown":"There is in this case (sort first, reverse after) - reverse the comparator function. I find `Comparator.reverseOrder()` a badly named method - it implies that it simply reverses the elements. But that&#39;s not what it does: `reverseOrder()` applies the reverse of natural order. There is no way to write a comparator that reverses a list. This is where we get into a ton of exotic details about how the stream API works :(","body":"There is in this case (sort first, reverse after) - reverse the comparator function. I find <code>Comparator.reverseOrder()</code> a badly named method - it implies that it simply reverses the elements. But that&#39;s not what it does: <code>reverseOrder()</code> applies the reverse of natural order. There is no way to write a comparator that reverses a list. This is where we get into a ton of exotic details about how the stream API works :("},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690539968,"post_id":76758451,"comment_id":135371495,"body_markdown":"That&#39;s what I said; there is no stream operator to just reverse the order, but the OP&#39;s specific case of getting descending order is solvable (but requires sorting the boxed values).","body":"That&#39;s what I said; there is no stream operator to just reverse the order, but the OP&#39;s specific case of getting descending order is solvable (but requires sorting the boxed values)."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690251458,"creation_date":1690238933,"answer_id":76758451,"question_id":76758439,"body_markdown":"The list returned by `.toList()` (a method of `Stream`) is immutable. Sorting it (`.sort()`) sorts &#39;in place&#39; and this requires mutating the list. You can&#39;t do that.\r\n\r\nThe usual fix is to first copy the immutable list into a mutable one: `convList = new ArrayList&lt;Integer&gt;(convList);`.\r\n\r\nHowever, all of your code is a bit suspect. Why go from `int[]` to `List&lt;Integer&gt;` to `Stream` and back again?\r\n\r\nEDIT: Let&#39;s just leave &#39;I want to go from one to another&#39; as written - instead of making a list and then trying to sort the list, instead sort the stream as it &#39;runs&#39;:\r\n\r\n```\r\nList&lt;Integer&gt; convList = Arrays.stream(arr)\r\n  .sorted()  // Add this!\r\n  .boxed()\r\n  .toArray();\r\n```\r\n","title":"i&#39;m getting an Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException","body":"<p>The list returned by <code>.toList()</code> (a method of <code>Stream</code>) is immutable. Sorting it (<code>.sort()</code>) sorts 'in place' and this requires mutating the list. You can't do that.</p>\n<p>The usual fix is to first copy the immutable list into a mutable one: <code>convList = new ArrayList&lt;Integer&gt;(convList);</code>.</p>\n<p>However, all of your code is a bit suspect. Why go from <code>int[]</code> to <code>List&lt;Integer&gt;</code> to <code>Stream</code> and back again?</p>\n<p>EDIT: Let's just leave 'I want to go from one to another' as written - instead of making a list and then trying to sort the list, instead sort the stream as it 'runs':</p>\n<pre><code>List&lt;Integer&gt; convList = Arrays.stream(arr)\n  .sorted()  // Add this!\n  .boxed()\n  .toArray();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3737180,"reputation":644,"user_id":3107864,"display_name":"vaibhavsahu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690517221,"creation_date":1690517221,"answer_id":76784781,"question_id":76758439,"body_markdown":"Replace this line       \r\n\r\n      List&lt;Integer&gt; convList = Arrays.stream(arr).boxed().toList();\r\n\r\nwith\r\n\r\n    List&lt;Integer&gt; convList = new ArrayList&lt;&gt;(Arrays.stream(arr).boxed().toList());\r\n\r\nIt will create a new mutable list which will be further sorted by \r\n\r\n    Collections.sort(convList); \r\n\r\nWithout any issues.\r\n\r\nHope this helps","title":"i&#39;m getting an Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException","body":"<p>Replace this line</p>\n<pre><code>  List&lt;Integer&gt; convList = Arrays.stream(arr).boxed().toList();\n</code></pre>\n<p>with</p>\n<pre><code>List&lt;Integer&gt; convList = new ArrayList&lt;&gt;(Arrays.stream(arr).boxed().toList());\n</code></pre>\n<p>It will create a new mutable list which will be further sorted by</p>\n<pre><code>Collections.sort(convList); \n</code></pre>\n<p>Without any issues.</p>\n<p>Hope this helps</p>\n"}],"owner":{"account_id":15437885,"reputation":39,"user_id":11137450,"display_name":"Goutham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76758451,"answer_count":2,"score":1,"last_activity_date":1690517221,"creation_date":1690238723,"question_id":76758439,"body_markdown":"The environment details i&#39;m running my program :\r\n\r\n&gt; java version &quot;17.0.7&quot; 2023-04-18 LTS Java(TM) SE Runtime Environment\r\n&gt; (build 17.0.7+8-LTS-224) Java HotSpot(TM) 64-Bit Server VM (build\r\n&gt; 17.0.7+8-LTS-224, mixed mode, sharing)\r\n\r\n\r\nProgram:\r\n```\r\npublic class Conversions {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;Integer&gt; lIn = new ArrayList&lt;&gt;();\r\n\t\tlIn.add(4);\r\n\t\tlIn.add(56);\r\n\t\tlIn.add(423);\r\n\t\tlIn.add(2516);\r\n\t\tlIn.add(924);\r\n\t\tlIn.add(5611);\r\n\r\n\t\t//ArrayList to Array\r\n\t\tint[] conArray = lIn.stream().mapToInt(i -&gt; i).toArray();\r\n\t\t\r\n\t\t\r\n\t\t// Array to ArrayList\r\n\t\t\r\n\t\tint[] arr = {5,8,9,34,63,119};\r\n\t\tList&lt;Integer&gt; convList = Arrays.stream(arr).boxed().toList();\r\n\t\tSystem.out.println(convList);\t //30\t\r\n\t\t                                 //31\r\n        Collections.sort(convList);      //32\r\n\t    Collections.reverse(convList);   //33\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nError:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException \tat\r\n&gt; java.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\r\n&gt; \tat\r\n&gt; java.base/java.util.ImmutableCollections$AbstractImmutableList.sort(ImmutableCollections.java:261)\r\n&gt; \tat java.base/java.util.Collections.sort(Collections.java:145) \tat\r\n&gt; com.example.DependencyInjection.Conversions.main**(Conversions.java:32)\r\n\r\n\r\nI&#39;m trying to  understand why the compiler is throwing `UnsupportedOperationException` even though i&#39;m using the `Collections.sort()` method correctly . All I&#39;m doing is passing a list but still I&#39;m getting the exception.","title":"i&#39;m getting an Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException","body":"<p>The environment details i'm running my program :</p>\n<blockquote>\n<p>java version &quot;17.0.7&quot; 2023-04-18 LTS Java(TM) SE Runtime Environment\n(build 17.0.7+8-LTS-224) Java HotSpot(TM) 64-Bit Server VM (build\n17.0.7+8-LTS-224, mixed mode, sharing)</p>\n</blockquote>\n<p>Program:</p>\n<pre><code>public class Conversions {\n\n    public static void main(String[] args) {\n        \n        List&lt;Integer&gt; lIn = new ArrayList&lt;&gt;();\n        lIn.add(4);\n        lIn.add(56);\n        lIn.add(423);\n        lIn.add(2516);\n        lIn.add(924);\n        lIn.add(5611);\n\n        //ArrayList to Array\n        int[] conArray = lIn.stream().mapToInt(i -&gt; i).toArray();\n        \n        \n        // Array to ArrayList\n        \n        int[] arr = {5,8,9,34,63,119};\n        List&lt;Integer&gt; convList = Arrays.stream(arr).boxed().toList();\n        System.out.println(convList);    //30   \n                                         //31\n        Collections.sort(convList);      //32\n        Collections.reverse(convList);   //33\n\n    }\n\n}\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException    at\njava.base/java.util.ImmutableCollections.uoe(ImmutableCollections.java:142)\nat\njava.base/java.util.ImmutableCollections$AbstractImmutableList.sort(ImmutableCollections.java:261)\nat java.base/java.util.Collections.sort(Collections.java:145)   at\ncom.example.DependencyInjection.Conversions.main**(Conversions.java:32)</p>\n</blockquote>\n<p>I'm trying to  understand why the compiler is throwing <code>UnsupportedOperationException</code> even though i'm using the <code>Collections.sort()</code> method correctly . All I'm doing is passing a list but still I'm getting the exception.</p>\n"},{"tags":["java","image","codenameone"],"answers":[{"comments":[{"owner":{"account_id":28844238,"reputation":21,"user_id":22091681,"display_name":"Tony"},"score":0,"creation_date":1690539517,"post_id":76784620,"comment_id":135371412,"body_markdown":"How would I get the file into the Resources file (theme.res?).  I cannot open GUIBuilder in my IntelliJ project - The Codename One option is disabled in the right click menu, and File|New does not offer me any Codename One settings.","body":"How would I get the file into the Resources file (theme.res?).  I cannot open GUIBuilder in my IntelliJ project - The Codename One option is disabled in the right click menu, and File|New does not offer me any Codename One settings."},{"owner":{"account_id":28844238,"reputation":21,"user_id":22091681,"display_name":"Tony"},"score":0,"creation_date":1690539614,"post_id":76784620,"comment_id":135371423,"body_markdown":"I&#39;ve tried to use URLImage to load the file from the src (and other directories), but always get a Stream:null error.","body":"I&#39;ve tried to use URLImage to load the file from the src (and other directories), but always get a Stream:null error."},{"owner":{"account_id":28844238,"reputation":21,"user_id":22091681,"display_name":"Tony"},"score":0,"creation_date":1690550591,"post_id":76784620,"comment_id":135373497,"body_markdown":"I managed to add my images to a theme.res file by copying a theme.res file from a sample app and placing it in src/main/assets.  Then I could double click the file and add images.  I have yet to test loading images from the theme.res file.","body":"I managed to add my images to a theme.res file by copying a theme.res file from a sample app and placing it in src/main/assets.  Then I could double click the file and add images.  I have yet to test loading images from the theme.res file."},{"owner":{"account_id":28844238,"reputation":21,"user_id":22091681,"display_name":"Tony"},"score":0,"creation_date":1690553013,"post_id":76784620,"comment_id":135374048,"body_markdown":"`\tResources r = Resources.openLayered(&quot;theme&quot;);\n\tImage i = r.getImage(&quot;meeting.png&quot;);\n\tc.add(i);`\n\t\nThrows an exception that the theme.res file was not found. (I have tried it in src and src/main)","body":"`\tResources r = Resources.openLayered(&quot;theme&quot;); \tImage i = r.getImage(&quot;meeting.png&quot;); \tc.add(i);` \t Throws an exception that the theme.res file was not found. (I have tried it in src and src/main)"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1690606037,"post_id":76784620,"comment_id":135380217,"body_markdown":"No. Just include the files in a CSS style like you already did. Once you did that the file will implicitly be a part of the `theme.res`. See [this](https://www.codenameone.com/developer-guide.html#_import_multiple_images_in_single_selector). Use `Resources.getSystemResource().getImage(&quot;meeting.png&quot;);` to fetch an image from the CSS.","body":"No. Just include the files in a CSS style like you already did. Once you did that the file will implicitly be a part of the <code>theme.res</code>. See <a href=\"https://www.codenameone.com/developer-guide.html#_import_multiple_images_in_single_selector\" rel=\"nofollow noreferrer\">this</a>. Use <code>Resources.getSystemResource().getImage(&quot;meeting.png&quot;);</code> to fetch an image from the CSS."}],"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690513842,"creation_date":1690513842,"answer_id":76784620,"question_id":76782723,"body_markdown":"Codename One doesn&#39;t support CSS layout since it conflicts with the high level layout manager logic so elements such as width and height are always ignored. Furthermore, width/height properties will only include valid values after layout is performed.\r\n\r\nYou shouldn&#39;t use `setWidth` and similar APIs as they are designed for use by the `LayoutManager` which will override your settings. Even if it does work it will break when the phone is rotated.\r\n\r\nIn Codename One images that aren&#39;t purely design images (backgrounds etc.) are considered part of the code not of the CSS as they apply to all the elements. Since your image appears in a list of elements it&#39;s content, not design and is part of that Java code.\r\n\r\nIn this case if you just want an icon use `setIcon` and provide an image. If the image is hardcoded in the CSS you can still include it there and then get it from the `Resources` class as it will be a part of the default theme.\r\n\r\nIf the image is content you can use classes like `URLImage` etc. to fetch it dynamically. Both will size the label correctly with the image.","title":"List with an Image and MultiSpanButton","body":"<p>Codename One doesn't support CSS layout since it conflicts with the high level layout manager logic so elements such as width and height are always ignored. Furthermore, width/height properties will only include valid values after layout is performed.</p>\n<p>You shouldn't use <code>setWidth</code> and similar APIs as they are designed for use by the <code>LayoutManager</code> which will override your settings. Even if it does work it will break when the phone is rotated.</p>\n<p>In Codename One images that aren't purely design images (backgrounds etc.) are considered part of the code not of the CSS as they apply to all the elements. Since your image appears in a list of elements it's content, not design and is part of that Java code.</p>\n<p>In this case if you just want an icon use <code>setIcon</code> and provide an image. If the image is hardcoded in the CSS you can still include it there and then get it from the <code>Resources</code> class as it will be a part of the default theme.</p>\n<p>If the image is content you can use classes like <code>URLImage</code> etc. to fetch it dynamically. Both will size the label correctly with the image.</p>\n"}],"owner":{"account_id":28844238,"reputation":21,"user_id":22091681,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690513842,"creation_date":1690484658,"question_id":76782723,"body_markdown":"I want to display a list of data with an image.\r\n\r\nI can load the image into CSS but I have little control the image&#39;s size and placement.\r\n\r\nI can set an image on a label using CSS, but I cannot set the labels size so it sets itself up with a width of 0 and height of 0 (making it invisible).  If I set the width and height in the CSS or in the Java code before the Label is added to the form the setting is simply ignored.\r\n\r\n```\r\nContainer list = new Container(BoxLayout.y());\r\nlist.setScrollableY(true);\r\n\r\n// resultset is a List&lt;Map&lt;String, Object&gt;&gt; returned by an API\r\nfor (Map&lt;String, Object&gt; obj : resultset) {\r\n    String id = obj.containsKey(&quot;id&quot;) ? (String) obj.get(&quot;id&quot;) : &quot;&quot;;\r\n\r\n    String startDate = &quot;&quot;;\r\n    String s = (String) obj.get(&quot;start_date&quot;);\r\n    if ((s != null) &amp;&amp; (!s.isEmpty())) {\r\n       try {\r\n          long l = Long.parseLong(s);\r\n\r\n          SimpleDateFormat sdf = new SimpleDateFormat(Constants.DATE_FORMAT);\r\n          startDate = sdf.format(new Date(l));\r\n       } catch (Exception e) {\r\n          e.printStackTrace();\r\n       }\r\n    }\r\n\r\n    String name = obj.containsKey(&quot;name&quot;) ? (String) obj.get(&quot;name&quot;) : &quot;&quot;;\r\n    String description = obj.containsKey(&quot;description&quot;) ? (String) obj.get(&quot;description&quot;) : &quot;&quot;;\r\n    String eventType = obj.containsKey(&quot;event_type&quot;) ? (String) obj.get(&quot;event_type&quot;) : &quot;&quot;;\r\n\r\n    Container c = new Container(BoxLayout.x());\r\n    Label img = new Label();\r\n    // img.setWidth() img.setHeight() has no effect here\r\n    img.setIconUIID(&quot;meeting&quot;); // I will change this dynamically depending on the eventType later\r\n    c.add(img);\r\n\r\n    SpanMultiButton mb = new SpanMultiButton();\r\n    mb.setTextLine1(startDate + &quot;: &quot; + name);\r\n    mb.setTextLine2(description);\r\n    mb.setTextLine3(eventType);\r\n\r\n    mb.addActionListener(ee -&gt; {\r\n       // TODO: Handle the click on the item\r\n    });\r\n\r\n    c.add(mb);\r\n    list.add(c);\r\n}\r\n\r\nform.add(CN.CENTER, list);\r\n\r\n```\r\n\r\nThe CSS for &quot;meeting&quot;\r\n```\r\nmeeting {\r\n    background-image: url(&quot;img/meeting.png&quot;);\r\n    background-repeat: no-repeat;\r\n}\r\n```\r\nAnd the meeting.png file is in src/main/css/img.  if I set it as the UIID on the MultiSpanButton I can see the image in the background, so I know it&#39;s not a problem with the file or the location of the file.\r\n\r\nI basically want to have the list show up something like this:\r\n\r\n```\r\n+------------------------+\r\n| IMG  | SpanMultiButton |\r\n+------------------------+\r\n| IMG  | SpanMultiButton |\r\n+------------------------+\r\n| IMG  | SpanMultiButton |\r\n+------------------------+\r\n| IMG  | SpanMultiButton |\r\n+------------------------+\r\n```\r\n\r\nIMG, however, doesn&#39;t show and SpanMultiButton appears on the very left.  I can see that the IMG is there if I inspect it in the simulator.\r\n\r\n\r\n\r\n\r\nI cannot get the GuiBuilder to open so I cannot put the images into the resource file to try to open and add it as an image.\r\n\r\nThe above code works, apart from the fact that the image (background of the label) is not shown because the labels size is 0 x 0.","title":"List with an Image and MultiSpanButton","body":"<p>I want to display a list of data with an image.</p>\n<p>I can load the image into CSS but I have little control the image's size and placement.</p>\n<p>I can set an image on a label using CSS, but I cannot set the labels size so it sets itself up with a width of 0 and height of 0 (making it invisible).  If I set the width and height in the CSS or in the Java code before the Label is added to the form the setting is simply ignored.</p>\n<pre><code>Container list = new Container(BoxLayout.y());\nlist.setScrollableY(true);\n\n// resultset is a List&lt;Map&lt;String, Object&gt;&gt; returned by an API\nfor (Map&lt;String, Object&gt; obj : resultset) {\n    String id = obj.containsKey(&quot;id&quot;) ? (String) obj.get(&quot;id&quot;) : &quot;&quot;;\n\n    String startDate = &quot;&quot;;\n    String s = (String) obj.get(&quot;start_date&quot;);\n    if ((s != null) &amp;&amp; (!s.isEmpty())) {\n       try {\n          long l = Long.parseLong(s);\n\n          SimpleDateFormat sdf = new SimpleDateFormat(Constants.DATE_FORMAT);\n          startDate = sdf.format(new Date(l));\n       } catch (Exception e) {\n          e.printStackTrace();\n       }\n    }\n\n    String name = obj.containsKey(&quot;name&quot;) ? (String) obj.get(&quot;name&quot;) : &quot;&quot;;\n    String description = obj.containsKey(&quot;description&quot;) ? (String) obj.get(&quot;description&quot;) : &quot;&quot;;\n    String eventType = obj.containsKey(&quot;event_type&quot;) ? (String) obj.get(&quot;event_type&quot;) : &quot;&quot;;\n\n    Container c = new Container(BoxLayout.x());\n    Label img = new Label();\n    // img.setWidth() img.setHeight() has no effect here\n    img.setIconUIID(&quot;meeting&quot;); // I will change this dynamically depending on the eventType later\n    c.add(img);\n\n    SpanMultiButton mb = new SpanMultiButton();\n    mb.setTextLine1(startDate + &quot;: &quot; + name);\n    mb.setTextLine2(description);\n    mb.setTextLine3(eventType);\n\n    mb.addActionListener(ee -&gt; {\n       // TODO: Handle the click on the item\n    });\n\n    c.add(mb);\n    list.add(c);\n}\n\nform.add(CN.CENTER, list);\n\n</code></pre>\n<p>The CSS for &quot;meeting&quot;</p>\n<pre><code>meeting {\n    background-image: url(&quot;img/meeting.png&quot;);\n    background-repeat: no-repeat;\n}\n</code></pre>\n<p>And the meeting.png file is in src/main/css/img.  if I set it as the UIID on the MultiSpanButton I can see the image in the background, so I know it's not a problem with the file or the location of the file.</p>\n<p>I basically want to have the list show up something like this:</p>\n<pre><code>+------------------------+\n| IMG  | SpanMultiButton |\n+------------------------+\n| IMG  | SpanMultiButton |\n+------------------------+\n| IMG  | SpanMultiButton |\n+------------------------+\n| IMG  | SpanMultiButton |\n+------------------------+\n</code></pre>\n<p>IMG, however, doesn't show and SpanMultiButton appears on the very left.  I can see that the IMG is there if I inspect it in the simulator.</p>\n<p>I cannot get the GuiBuilder to open so I cannot put the images into the resource file to try to open and add it as an image.</p>\n<p>The above code works, apart from the fact that the image (background of the label) is not shown because the labels size is 0 x 0.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690502880,"post_id":76783934,"comment_id":135366713,"body_markdown":"What Happened When You Tried It?","body":"What Happened When You Tried It?"},{"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"score":0,"creation_date":1690538433,"post_id":76783934,"comment_id":135371209,"body_markdown":"@user207421 it works okay apparently","body":"@user207421 it works okay apparently"}],"answers":[{"tags":[],"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690513746,"creation_date":1690512843,"answer_id":76784581,"question_id":76783934,"body_markdown":"Digging down to the source code, you can find that [CountDownTimer#cancel()](https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/CountDownTimer.java#93) eventually call [MessageQueue#removeMessage()](https://android.googlesource.com/platform/frameworks/base/+/android-4.4.4_r2.0.1/core/java/android/os/MessageQueue.java#408):\r\n```java\r\n    void removeMessages(Handler h, int what, Object object) {\r\n        if (h == null) {\r\n            return;\r\n        }\r\n        synchronized (this) {\r\n            Message p = mMessages;\r\n            // Remove all messages at front.\r\n            while (p != null &amp;&amp; p.target == h &amp;&amp; p.what == what\r\n                   &amp;&amp; (object == null || p.obj == object)) {\r\n                Message n = p.next;\r\n                mMessages = n;\r\n                p.recycle();\r\n                p = n;\r\n            }\r\n            // Remove all messages after front.\r\n            while (p != null) {\r\n                Message n = p.next;\r\n                if (n != null) {\r\n                    if (n.target == h &amp;&amp; n.what == what\r\n                        &amp;&amp; (object == null || n.obj == object)) {\r\n                        Message nn = n.next;\r\n                        n.recycle();\r\n                        p.next = nn;\r\n                        continue;\r\n                    }\r\n                }\r\n                p = n;\r\n            }\r\n        }\r\n    }\r\n```\r\nWhich suggests nothing harmful would happen when `what` is not found from the messages list. It&#39;d just loop through the list and do nothing.","title":"Is it okay to cancel a CountDownTimer if it has been already canceled or finished?","body":"<p>Digging down to the source code, you can find that <a href=\"https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/os/CountDownTimer.java#93\" rel=\"nofollow noreferrer\">CountDownTimer#cancel()</a> eventually call <a href=\"https://android.googlesource.com/platform/frameworks/base/+/android-4.4.4_r2.0.1/core/java/android/os/MessageQueue.java#408\" rel=\"nofollow noreferrer\">MessageQueue#removeMessage()</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    void removeMessages(Handler h, int what, Object object) {\n        if (h == null) {\n            return;\n        }\n        synchronized (this) {\n            Message p = mMessages;\n            // Remove all messages at front.\n            while (p != null &amp;&amp; p.target == h &amp;&amp; p.what == what\n                   &amp;&amp; (object == null || p.obj == object)) {\n                Message n = p.next;\n                mMessages = n;\n                p.recycle();\n                p = n;\n            }\n            // Remove all messages after front.\n            while (p != null) {\n                Message n = p.next;\n                if (n != null) {\n                    if (n.target == h &amp;&amp; n.what == what\n                        &amp;&amp; (object == null || n.obj == object)) {\n                        Message nn = n.next;\n                        n.recycle();\n                        p.next = nn;\n                        continue;\n                    }\n                }\n                p = n;\n            }\n        }\n    }\n</code></pre>\n<p>Which suggests nothing harmful would happen when <code>what</code> is not found from the messages list. It'd just loop through the list and do nothing.</p>\n"}],"owner":{"account_id":28226064,"reputation":55,"user_id":21576056,"display_name":"peque&#241;aluna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690513746,"creation_date":1690499412,"question_id":76783934,"body_markdown":"I have an activity that has 3 CountDownTimers attributes. When one CountDownTimer is running the other 2 are not running. I have implemented a method that cancel all the 3 CountDownTimer:\r\n\r\n    public void cancelTimers(){\r\n        if (mCountDownTimer1 != null) {\r\n            mCountDownTimer1.cancel();\r\n        }\r\n        if (mCountDownTimer2 != null) {\r\n            mCountDownTimer2.cancel();\r\n        }\r\n    \r\n        if (mCountDownTimer3 != null) {\r\n            mCountDownTimer3.cancel();\r\n        }\r\n    }\r\n\r\n\r\nNow my question is, imagine that because I have cancelTimers() in various parts of my code (for example in onPause() and in showInterstitialAd()) (As onPause() will be executed immediately after showInterstitialAd()), cancelTimers() will be executed 2 times one immediately after the other. Is that a problem? Is it totally fine that cancelTimers() will be executed even if some timers have been just canceled or have just finished and called onFinish() method?","title":"Is it okay to cancel a CountDownTimer if it has been already canceled or finished?","body":"<p>I have an activity that has 3 CountDownTimers attributes. When one CountDownTimer is running the other 2 are not running. I have implemented a method that cancel all the 3 CountDownTimer:</p>\n<pre><code>public void cancelTimers(){\n    if (mCountDownTimer1 != null) {\n        mCountDownTimer1.cancel();\n    }\n    if (mCountDownTimer2 != null) {\n        mCountDownTimer2.cancel();\n    }\n\n    if (mCountDownTimer3 != null) {\n        mCountDownTimer3.cancel();\n    }\n}\n</code></pre>\n<p>Now my question is, imagine that because I have cancelTimers() in various parts of my code (for example in onPause() and in showInterstitialAd()) (As onPause() will be executed immediately after showInterstitialAd()), cancelTimers() will be executed 2 times one immediately after the other. Is that a problem? Is it totally fine that cancelTimers() will be executed even if some timers have been just canceled or have just finished and called onFinish() method?</p>\n"},{"tags":["java","reflection","byte-buddy"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1690504318,"post_id":76779141,"comment_id":135366863,"body_markdown":"Sorry to crash your party, but is the purpose of Codewars to learn programming or to find ways to hack the kata&#39;s preconditions? To me this sounds pretty clear: _&quot;To make this kata worth its rank, **some APIs are not allowed** in your Java solution.&quot;_ So stop being lazy and implement the solution by yourself. It is a coding kata, for heaven&#39;s sake!","body":"Sorry to crash your party, but is the purpose of Codewars to learn programming or to find ways to hack the kata&#39;s preconditions? To me this sounds pretty clear: <i>&quot;To make this kata worth its rank, <b>some APIs are not allowed</b> in your Java solution.&quot;</i> So stop being lazy and implement the solution by yourself. It is a coding kata, for heaven&#39;s sake!"},{"owner":{"account_id":23103592,"reputation":55,"user_id":17212637,"display_name":"Luka"},"score":0,"creation_date":1690512222,"post_id":76779141,"comment_id":135367448,"body_markdown":"well I actually learning ByteBuddy from Codewars task. But I guess you are in the right. Like I said, it&#39;s boring to do the right way, and this way is not actually &quot;lazy&quot;, will need an extensive amount of reflection knowledge to pull through this","body":"well I actually learning ByteBuddy from Codewars task. But I guess you are in the right. Like I said, it&#39;s boring to do the right way, and this way is not actually &quot;lazy&quot;, will need an extensive amount of reflection knowledge to pull through this"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1690513938,"post_id":76779141,"comment_id":135367570,"body_markdown":"I think there are better ways to learn BB. But of course, you choose your own path while trying to learn something new. Good luck with that. As for this particular kata, I still think it makes sense to not trick your way around it but solve it. It might prove to be quite challenging and not so boring, after all.","body":"I think there are better ways to learn BB. But of course, you choose your own path while trying to learn something new. Good luck with that. As for this particular kata, I still think it makes sense to not trick your way around it but solve it. It might prove to be quite challenging and not so boring, after all."}],"answers":[{"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690456441,"post_id":76779182,"comment_id":135357929,"body_markdown":"Or, you could just hardcode a `char[]` and pass that to a `String` constructor. Should work depending on how exactly they check the code.","body":"Or, you could just hardcode a <code>char[]</code> and pass that to a <code>String</code> constructor. Should work depending on how exactly they check the code."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1690461028,"post_id":76779182,"comment_id":135358961,"body_markdown":"Regex on the input file.","body":"Regex on the input file."},{"owner":{"account_id":23103592,"reputation":55,"user_id":17212637,"display_name":"Luka"},"score":0,"creation_date":1690464546,"post_id":76779182,"comment_id":135359899,"body_markdown":"I followed your way and was able to solve this, but they also blocked &quot;newInstance&quot; and &quot;invoke&quot; keyword though. That&#39;s why I have to use ByteBuddy for more options","body":"I followed your way and was able to solve this, but they also blocked &quot;newInstance&quot; and &quot;invoke&quot; keyword though. That&#39;s why I have to use ByteBuddy for more options"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1690683573,"post_id":76779182,"comment_id":135387225,"body_markdown":"Do you think that BB does not use the same calls that are forbidden in this kata? It simply wraps them. You could just as easily build your own wrapper library, consisting of a single class, and just call that class to circumvent the source code check. But that is not a solution, just a cheap cheat. Besides, are you sure you can just call any external libraries from a coding kata like that? In that case, those katas would not be a challenge at all. As far as I can see, ByteBuddy is not allowed there: https://docs.codewars.com/languages/java only lists JUnit and a few other libraries.","body":"Do you think that BB does not use the same calls that are forbidden in this kata? It simply wraps them. You could just as easily build your own wrapper library, consisting of a single class, and just call that class to circumvent the source code check. But that is not a solution, just a cheap cheat. Besides, are you sure you can just call any external libraries from a coding kata like that? In that case, those katas would not be a challenge at all. As far as I can see, ByteBuddy is not allowed there: <a href=\"https://docs.codewars.com/languages/java\" rel=\"nofollow noreferrer\">docs.codewars.com/languages/java</a> only lists JUnit and a few other libraries."}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690456394,"creation_date":1690456394,"answer_id":76779182,"question_id":76779141,"body_markdown":"Sure, since we&#39;re hacking anyway, this should be fun:\r\n\r\n1. Instead of calling the `BigInteger` constructor directly, call it using reflection: `Class.forName(&quot;java.math.BigInteger&quot;).newInstance(n)` *\r\n2. Now take that String literal, and apply an encoding of your choice. Base64 should do. Save the encoded string as a constant.\r\n3. At runtime, decode the String and pass it to `Class.forName`.\r\n\r\n\\* Does `newInstance` have a varargs option? If not, use `getConstructors` instead and call the right one.","title":"Using bytebuddy reflection to bypass file string check","body":"<p>Sure, since we're hacking anyway, this should be fun:</p>\n<ol>\n<li>Instead of calling the <code>BigInteger</code> constructor directly, call it using reflection: <code>Class.forName(&quot;java.math.BigInteger&quot;).newInstance(n)</code> *</li>\n<li>Now take that String literal, and apply an encoding of your choice. Base64 should do. Save the encoded string as a constant.</li>\n<li>At runtime, decode the String and pass it to <code>Class.forName</code>.</li>\n</ol>\n<p>* Does <code>newInstance</code> have a varargs option? If not, use <code>getConstructors</code> instead and call the right one.</p>\n"}],"owner":{"account_id":23103592,"reputation":55,"user_id":17212637,"display_name":"Luka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690512825,"creation_date":1690456126,"question_id":76779141,"body_markdown":"There&#39;s this problem in *Codewars*\r\nhttps://www.codewars.com/kata/58a3fa665973c2a6e80000c4/train/java\r\n\r\nWe will have to just square root a very big number. Of course all of us would think about BigInteger.sqrt - but the challenge itself reject these words: reflection, biginteger, bigdecimal, runtime, process, script. (P/s you can&#39;t use unicode either).\r\n\r\nUpdate: also blocked &quot;newInstance&quot;, &quot;invoke&quot;\r\n\r\nWell there&#39;s no fun in doing what intended for the task, so I currently trying to bypass this by using bytebuddy (luckily they don&#39;t reject this).\r\n\r\n```\r\nimport net.bytebuddy.ByteBuddy;\r\nimport net.bytebuddy.agent.ByteBuddyAgent;\r\nimport net.bytebuddy.dynamic.DynamicType.Loaded;\r\nimport net.bytebuddy.dynamic.loading.ClassReloadingStrategy;\r\nimport net.bytebuddy.implementation.FixedValue;\r\nimport net.bytebuddy.matcher.ElementMatchers;\r\n\r\npublic class Kata {\t\r\n  public static String integerSquareRoot(String n) {\r\n    ByteBuddyAgent.install();\r\n\t\tLoaded&lt;Kata&gt; dynamicType = new ByteBuddy().redefine(Kata.class).method(ElementMatchers.named(&quot;text&quot;))\r\n\t\t\t\t.intercept(FixedValue.value(new java.math.BigInteger(n).sqrt().toString())).make()\r\n\t\t\t\t.load(Thread.currentThread().getContextClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\r\n    return Kata.text(&quot;forsenCD&quot;);\r\n\t}\r\n  \r\n  public static String text(String n){\r\n    return n;\r\n  }\r\n}\r\n```\r\n\r\nWhat it does here is to force the *text()* method to return what&#39;s in the intercept\r\n\r\nThis solution itself solve the task, but as you can see, it still have &quot;BigInteger&quot; in the intercept.\r\n\r\nI&#39;m noob at bytebuddy, so anyone have a way to solve this using bytebuddy reflection, that maybe can change the BigInteger in the intercept with a string (so I can use character array) to solve this.\r\n\r\nOr maybe even using Nashorn engine to get to some JavaScript API.\r\n\r\nPlease feel free to share your thought.","title":"Using bytebuddy reflection to bypass file string check","body":"<p>There's this problem in <em>Codewars</em>\n<a href=\"https://www.codewars.com/kata/58a3fa665973c2a6e80000c4/train/java\" rel=\"nofollow noreferrer\">https://www.codewars.com/kata/58a3fa665973c2a6e80000c4/train/java</a></p>\n<p>We will have to just square root a very big number. Of course all of us would think about BigInteger.sqrt - but the challenge itself reject these words: reflection, biginteger, bigdecimal, runtime, process, script. (P/s you can't use unicode either).</p>\n<p>Update: also blocked &quot;newInstance&quot;, &quot;invoke&quot;</p>\n<p>Well there's no fun in doing what intended for the task, so I currently trying to bypass this by using bytebuddy (luckily they don't reject this).</p>\n<pre><code>import net.bytebuddy.ByteBuddy;\nimport net.bytebuddy.agent.ByteBuddyAgent;\nimport net.bytebuddy.dynamic.DynamicType.Loaded;\nimport net.bytebuddy.dynamic.loading.ClassReloadingStrategy;\nimport net.bytebuddy.implementation.FixedValue;\nimport net.bytebuddy.matcher.ElementMatchers;\n\npublic class Kata { \n  public static String integerSquareRoot(String n) {\n    ByteBuddyAgent.install();\n        Loaded&lt;Kata&gt; dynamicType = new ByteBuddy().redefine(Kata.class).method(ElementMatchers.named(&quot;text&quot;))\n                .intercept(FixedValue.value(new java.math.BigInteger(n).sqrt().toString())).make()\n                .load(Thread.currentThread().getContextClassLoader(), ClassReloadingStrategy.fromInstalledAgent());\n    return Kata.text(&quot;forsenCD&quot;);\n    }\n  \n  public static String text(String n){\n    return n;\n  }\n}\n</code></pre>\n<p>What it does here is to force the <em>text()</em> method to return what's in the intercept</p>\n<p>This solution itself solve the task, but as you can see, it still have &quot;BigInteger&quot; in the intercept.</p>\n<p>I'm noob at bytebuddy, so anyone have a way to solve this using bytebuddy reflection, that maybe can change the BigInteger in the intercept with a string (so I can use character array) to solve this.</p>\n<p>Or maybe even using Nashorn engine to get to some JavaScript API.</p>\n<p>Please feel free to share your thought.</p>\n"},{"tags":["java","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":9499339,"reputation":127,"user_id":7061105,"display_name":"Akito"},"score":0,"creation_date":1598659927,"post_id":62544919,"comment_id":112540514,"body_markdown":"Indeed, very peculiar. I have a similar issue. I built a Docker image in WSL2, based on the openjdk image and I am getting &quot;exec format error&quot; when trying to run this image on another system. Build and target system are both amd64 and for Java it shouldn&#39;t matter anyway. I am also using Java 11, in this case.","body":"Indeed, very peculiar. I have a similar issue. I built a Docker image in WSL2, based on the openjdk image and I am getting &quot;exec format error&quot; when trying to run this image on another system. Build and target system are both amd64 and for Java it shouldn&#39;t matter anyway. I am also using Java 11, in this case."}],"owner":{"account_id":3570541,"reputation":928,"user_id":2980967,"display_name":"dustinevan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690510659,"creation_date":1592952420,"question_id":62544919,"body_markdown":"Using WSL Ubuntu with zsh. I pulled in OpenJDK@11 using homebrew. When I try to run java I get the following error: \r\n```\r\n~$ java --version\r\nzsh: exec format error: java\r\n~$ which java\r\n/home/linuxbrew/.linuxbrew/opt/openjdk@11/bin/java\r\n```\r\n\r\nHow do I fix this issue?","title":"OpenJDK@11 exec format error on Windows Subsystem Linux Ubuntu","body":"<p>Using WSL Ubuntu with zsh. I pulled in OpenJDK@11 using homebrew. When I try to run java I get the following error:</p>\n<pre><code>~$ java --version\nzsh: exec format error: java\n~$ which java\n/home/linuxbrew/.linuxbrew/opt/openjdk@11/bin/java\n</code></pre>\n<p>How do I fix this issue?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1690459869,"post_id":76779457,"comment_id":135358659,"body_markdown":"Sure. Put the JSON files in the code folder. It won&#39;t work that way at runtime (there is no source folder at runtime), but you could add a step to your build to copy JSON to the resources folder.","body":"Sure. Put the JSON files in the code folder. It won&#39;t work that way at runtime (there is no source folder at runtime), but you could add a step to your build to copy JSON to the resources folder."},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1690462180,"post_id":76779457,"comment_id":135359256,"body_markdown":"But then you have to also change the path during build to access the correct directory","body":"But then you have to also change the path during build to access the correct directory"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1690462874,"post_id":76779457,"comment_id":135359456,"body_markdown":"*But then you have to also change the path during build to access the correct directory* We just copied the JSON to the correct directory. Why do we also have to change the path?","body":"<i>But then you have to also change the path during build to access the correct directory</i> We just copied the JSON to the correct directory. Why do we also have to change the path?"},{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":1,"creation_date":1690471623,"post_id":76779457,"comment_id":135361656,"body_markdown":"Ah, you came to Java from Node. Really, **don&#39;t** put data files where people would expect source code. Maintainers will hate you for that. BUT you *can* do it, to your code it is no difference, since at runtime the java and resources directories get merged anyway.","body":"Ah, you came to Java from Node. Really, <b>don&#39;t</b> put data files where people would expect source code. Maintainers will hate you for that. BUT you <i>can</i> do it, to your code it is no difference, since at runtime the java and resources directories get merged anyway."},{"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"score":0,"creation_date":1690473631,"post_id":76779457,"comment_id":135362096,"body_markdown":"@barfuin Not really, I started with Java and do web stuff here and then, but I like the approach and freedom in this regard, especially when you package by feature.","body":"@barfuin Not really, I started with Java and do web stuff here and then, but I like the approach and freedom in this regard, especially when you package by feature."}],"owner":{"account_id":2691023,"reputation":16196,"user_id":2324388,"accept_rate":41,"display_name":"Marian Kl&#252;hspies"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690510512,"creation_date":1690458737,"question_id":76779457,"body_markdown":"First of all, I&#39;m very aware that you have to put everything except source code files into the resources directory in Java **by design**. \r\n\r\nSometimes, however, especially **JSON files may act** as a **code extension**, containing structures that you want to have **close to related source code** files and keep them in focus during development, and not &quot;hidden&quot; in the resource directory somewhere.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThat&#39;s what you&#39;d also do in the **Web / Node environment**, where you&#39;d import a JSON from your .js / .ts file and comingle it with the rest of your code.\r\n\r\n\r\n\r\n**Is it somehow possible to do that in Java as well, be it by customizing the Gradle configuration, etc?**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5dX18.png","title":"How to load a .json file from java/ instead of resources/","body":"<p>First of all, I'm very aware that you have to put everything except source code files into the resources directory in Java <strong>by design</strong>.</p>\n<p>Sometimes, however, especially <strong>JSON files may act</strong> as a <strong>code extension</strong>, containing structures that you want to have <strong>close to related source code</strong> files and keep them in focus during development, and not &quot;hidden&quot; in the resource directory somewhere.</p>\n<p><a href=\"https://i.stack.imgur.com/5dX18.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5dX18.png\" alt=\"enter image description here\" /></a></p>\n<p>That's what you'd also do in the <strong>Web / Node environment</strong>, where you'd import a JSON from your .js / .ts file and comingle it with the rest of your code.</p>\n<p><strong>Is it somehow possible to do that in Java as well, be it by customizing the Gradle configuration, etc?</strong></p>\n"},{"tags":["java","apache-axis"],"owner":{"account_id":29107454,"reputation":1,"user_id":22297897,"display_name":"m_rossi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690510490,"creation_date":1690510490,"question_id":76784455,"body_markdown":"A legacy java project was given to our team to update it, so i was given the task. The project uses many org.apache.axis classes, so i&#39;m trying the replacement, [apache axis2](https://axis.apache.org/axis2/java/core/index.html). But i cannot seem to find an axis2 replacement for some of the old axis classes. The classes are the following:\r\n\r\n\r\n```\r\norg.apache.axis.encoding.SerializationContext\r\norg.apache.axis.encoding.Serializer\r\norg.apache.axis.encoding.Deserializer\r\n\r\norg.apache.axis.encoding.ser.CalendarSerializer\r\norg.apache.axis.encoding.ser.BeanSerializer\r\norg.apache.axis.encoding.ser.EnumSerializer\r\norg.apache.axis.encoding.ser.EnumDeserializer\r\n\r\norg.apache.axis.description.TypeDesc\r\norg.apache.axis.description.ElementDesc\r\n```\r\n\r\n\r\nI looked at the [migration guide](https://axis.apache.org/axis2/java/core/docs/migration.html) for something like a list of old axis clases and their axis2 equivalent, with no luck. \r\n\r\nI also searched the axis2 [api docs](https://axis.apache.org/axis2/java/core/apidocs/index.html) and the [package tree](https://axis.apache.org/axis2/java/core/apidocs/overview-tree.html) for the classes without any result. Finally i went trough the [deprecated list](https://axis.apache.org/axis2/java/core/apidocs/deprecated-list.html) but again the classes were not listed.\r\n\r\nSo my question is if there are any apache axis2 replacements for the classes listed, or they no longer exist?","title":"Replacement for specific org.apache.axis classes","body":"<p>A legacy java project was given to our team to update it, so i was given the task. The project uses many org.apache.axis classes, so i'm trying the replacement, <a href=\"https://axis.apache.org/axis2/java/core/index.html\" rel=\"nofollow noreferrer\">apache axis2</a>. But i cannot seem to find an axis2 replacement for some of the old axis classes. The classes are the following:</p>\n<pre><code>org.apache.axis.encoding.SerializationContext\norg.apache.axis.encoding.Serializer\norg.apache.axis.encoding.Deserializer\n\norg.apache.axis.encoding.ser.CalendarSerializer\norg.apache.axis.encoding.ser.BeanSerializer\norg.apache.axis.encoding.ser.EnumSerializer\norg.apache.axis.encoding.ser.EnumDeserializer\n\norg.apache.axis.description.TypeDesc\norg.apache.axis.description.ElementDesc\n</code></pre>\n<p>I looked at the <a href=\"https://axis.apache.org/axis2/java/core/docs/migration.html\" rel=\"nofollow noreferrer\">migration guide</a> for something like a list of old axis clases and their axis2 equivalent, with no luck.</p>\n<p>I also searched the axis2 <a href=\"https://axis.apache.org/axis2/java/core/apidocs/index.html\" rel=\"nofollow noreferrer\">api docs</a> and the <a href=\"https://axis.apache.org/axis2/java/core/apidocs/overview-tree.html\" rel=\"nofollow noreferrer\">package tree</a> for the classes without any result. Finally i went trough the <a href=\"https://axis.apache.org/axis2/java/core/apidocs/deprecated-list.html\" rel=\"nofollow noreferrer\">deprecated list</a> but again the classes were not listed.</p>\n<p>So my question is if there are any apache axis2 replacements for the classes listed, or they no longer exist?</p>\n"},{"tags":["java","datetime","java-8","timezone"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690507415,"post_id":76784324,"comment_id":135367098,"body_markdown":"How about asking the user for an offset first, then only show timezones currently at that offset/time zones with that offset as the standard offset?","body":"How about asking the user for an offset first, then only show timezones currently at that offset/time zones with that offset as the standard offset?"},{"owner":{"account_id":5138960,"reputation":105,"user_id":4116915,"accept_rate":50,"display_name":"HashTags"},"score":0,"creation_date":1690507524,"post_id":76784324,"comment_id":135367109,"body_markdown":"I don&#39;t have that privilege, But I fixed offset as UTC","body":"I don&#39;t have that privilege, But I fixed offset as UTC"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690507678,"post_id":76784324,"comment_id":135367120,"body_markdown":"What I meant was to group it on the standard offset (since you said &quot;group it on some rules&quot;) What do you mean you don&#39;t have that privilege?","body":"What I meant was to group it on the standard offset (since you said &quot;group it on some rules&quot;) What do you mean you don&#39;t have that privilege?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690508009,"post_id":76784324,"comment_id":135367136,"body_markdown":"If you group by standard offset, the largest group is only about 50 zones. Is that a &quot;user-friendly&quot; list for you?","body":"If you group by standard offset, the largest group is only about 50 zones. Is that a &quot;user-friendly&quot; list for you?"},{"owner":{"account_id":5138960,"reputation":105,"user_id":4116915,"accept_rate":50,"display_name":"HashTags"},"score":0,"creation_date":1690509269,"post_id":76784324,"comment_id":135367234,"body_markdown":"@Sweeper that would address my issue, Can you help ?","body":"@Sweeper that would address my issue, Can you help ?"}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690510146,"creation_date":1690510146,"answer_id":76784443,"question_id":76784324,"body_markdown":"You can group the timezones by their current offsets. The user would choose their current offset first, and then all the timezones that currently have that offset would be shown.\r\n\r\n```\r\nvar timezoneGroups = ZoneId.getAvailableZoneIds().stream()\r\n        .map(ZoneId::of)\r\n        .collect(Collectors.groupingBy(x -&gt; x.getRules().getOffset(Instant.now())));\r\n```\r\n\r\nAlternatively, group by `getStandardOffset(Instant.now())` if you think your users are going to be more familiar with those.\r\n\r\nThis gives you a `Map&lt;ZoneOffset, List&lt;ZoneId&gt;&gt;`. Here is an example of printing it to the command line:\r\n\r\n```\r\n// sort the offsets first...\r\ntimezoneGroups.entrySet().stream().sorted(Map.Entry.comparingByKey())\r\n    .forEach(entry -&gt; {\r\n        System.out.println(entry.getKey());\r\n        for (var zone: entry.getValue()) {\r\n            System.out.print(&quot;    &quot;);\r\n            System.out.println(zone.getId());\r\n        }\r\n    });\r\n```\r\n\r\nExample output:\r\n\r\n```\r\n...\r\n-01:00\r\n    Etc/GMT+1\r\n    Atlantic/Cape_Verde\r\n    Atlantic/Azores\r\n    America/Scoresbysund\r\n-02:00\r\n    Etc/GMT+2\r\n    America/Noronha\r\n    Brazil/DeNoronha\r\n    Atlantic/South_Georgia\r\n-03:00\r\n    America/Miquelon\r\n    America/Argentina/Catamarca\r\n    America/Argentina/Cordoba\r\n    America/Araguaina\r\n    America/Argentina/Salta\r\n...\r\n```","title":"List of Time Zones in Java","body":"<p>You can group the timezones by their current offsets. The user would choose their current offset first, and then all the timezones that currently have that offset would be shown.</p>\n<pre><code>var timezoneGroups = ZoneId.getAvailableZoneIds().stream()\n        .map(ZoneId::of)\n        .collect(Collectors.groupingBy(x -&gt; x.getRules().getOffset(Instant.now())));\n</code></pre>\n<p>Alternatively, group by <code>getStandardOffset(Instant.now())</code> if you think your users are going to be more familiar with those.</p>\n<p>This gives you a <code>Map&lt;ZoneOffset, List&lt;ZoneId&gt;&gt;</code>. Here is an example of printing it to the command line:</p>\n<pre><code>// sort the offsets first...\ntimezoneGroups.entrySet().stream().sorted(Map.Entry.comparingByKey())\n    .forEach(entry -&gt; {\n        System.out.println(entry.getKey());\n        for (var zone: entry.getValue()) {\n            System.out.print(&quot;    &quot;);\n            System.out.println(zone.getId());\n        }\n    });\n</code></pre>\n<p>Example output:</p>\n<pre><code>...\n-01:00\n    Etc/GMT+1\n    Atlantic/Cape_Verde\n    Atlantic/Azores\n    America/Scoresbysund\n-02:00\n    Etc/GMT+2\n    America/Noronha\n    Brazil/DeNoronha\n    Atlantic/South_Georgia\n-03:00\n    America/Miquelon\n    America/Argentina/Catamarca\n    America/Argentina/Cordoba\n    America/Araguaina\n    America/Argentina/Salta\n...\n</code></pre>\n"}],"owner":{"account_id":5138960,"reputation":105,"user_id":4116915,"accept_rate":50,"display_name":"HashTags"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76784443,"answer_count":1,"score":1,"last_activity_date":1690510146,"creation_date":1690507269,"question_id":76784324,"body_markdown":"I am using below code to generate a time zone list with Offset. \r\n\r\n    public static List&lt;String&gt; TimeZonesCollectionUTC(OffsetType type)\r\n    {\r\n        List&lt;String&gt; timezonesList = new ArrayList&lt;&gt;();\r\n        Set&lt;String&gt; zoneIds = ZoneId.getAvailableZoneIds();\r\n        LocalDateTime now = LocalDateTime.now();\r\n        zoneIds.forEach((zoneId) -&gt;\r\n        {\r\n            timezonesList.add(&quot;(&quot; + type + now.atZone(ZoneId.of(zoneId))\r\n                    .getOffset().getId().replace(&quot;Z&quot;, &quot;+00:00&quot;) + &quot;) &quot; + zoneId);\r\n        });\r\n        return timezonesList;\r\n    }\r\n\r\nThe issue is it provides me 600+ time zones. But expectation is to get a user friendly time zone list with less number of list or group it on some rules. \r\nNeed some help here to create a custom list of time zone in Java with daylight saving also taken care\r\nTIA","title":"List of Time Zones in Java","body":"<p>I am using below code to generate a time zone list with Offset.</p>\n<pre><code>public static List&lt;String&gt; TimeZonesCollectionUTC(OffsetType type)\n{\n    List&lt;String&gt; timezonesList = new ArrayList&lt;&gt;();\n    Set&lt;String&gt; zoneIds = ZoneId.getAvailableZoneIds();\n    LocalDateTime now = LocalDateTime.now();\n    zoneIds.forEach((zoneId) -&gt;\n    {\n        timezonesList.add(&quot;(&quot; + type + now.atZone(ZoneId.of(zoneId))\n                .getOffset().getId().replace(&quot;Z&quot;, &quot;+00:00&quot;) + &quot;) &quot; + zoneId);\n    });\n    return timezonesList;\n}\n</code></pre>\n<p>The issue is it provides me 600+ time zones. But expectation is to get a user friendly time zone list with less number of list or group it on some rules.\nNeed some help here to create a custom list of time zone in Java with daylight saving also taken care\nTIA</p>\n"},{"tags":["python","java","opencv"],"comments":[{"owner":{"account_id":543600,"reputation":1014,"user_id":2125723,"accept_rate":80,"display_name":"ryanwebjackson"},"score":0,"creation_date":1689941542,"post_id":76709338,"comment_id":135287864,"body_markdown":"Please attempt a solution to the problem, then update your Question.","body":"Please attempt a solution to the problem, then update your Question."}],"answers":[{"tags":[],"owner":{"account_id":1988393,"reputation":687,"user_id":1783046,"accept_rate":50,"display_name":"zephor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689653317,"creation_date":1689653317,"answer_id":76709473,"question_id":76709338,"body_markdown":"found this, thanks for new bing\r\n\r\n    Mat img = Imgcodecs.imread(imgPath, Imgcodecs.IMREAD_UNCHANGED);\r\n    Mat dst = new Mat(img.size(), CvType.CV_8UC4);\r\n    Core.inRange(img, new Scalar(0, 0, 0, 0), new Scalar(255, 255, 255, 0), dst);\r\n    Imgproc.cvtColor(dst, dst, Imgproc.COLOR_GRAY2BGRA);\r\n    Core.add(img, dst, dst);\r\n\r\n","title":"how to set transparent pixel to white in java using opencv?","body":"<p>found this, thanks for new bing</p>\n<pre><code>Mat img = Imgcodecs.imread(imgPath, Imgcodecs.IMREAD_UNCHANGED);\nMat dst = new Mat(img.size(), CvType.CV_8UC4);\nCore.inRange(img, new Scalar(0, 0, 0, 0), new Scalar(255, 255, 255, 0), dst);\nImgproc.cvtColor(dst, dst, Imgproc.COLOR_GRAY2BGRA);\nCore.add(img, dst, dst);\n</code></pre>\n"}],"owner":{"account_id":1988393,"reputation":687,"user_id":1783046,"accept_rate":50,"display_name":"zephor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76709473,"answer_count":1,"score":-3,"last_activity_date":1690509260,"creation_date":1689650370,"question_id":76709338,"body_markdown":"what&#39;s the equivalent code in java using opencv ?\r\n\r\n    #make mask of where the transparent bits are\r\n    trans_mask = image[:,:,3] == 0\r\n    \r\n    #replace areas of transparency with white and not transparent\r\n    image[trans_mask] = [255, 255, 255, 255]\r\n\r\nupdated:\r\n\r\nI don&#39;t get it, why people downvote this. the &quot;easy&quot; solution is so clear that you assign each pixel in a loop, but that would not as efficient as this way. I searched for it and got no clues. why these people don&#39;t understand this question in the first place and try to discuss it. if you guys don&#39;t know it just leave it.\r\n\r\nif you try to process images in java efficiently, this question is useful to you.\r\n\r\n","title":"how to set transparent pixel to white in java using opencv?","body":"<p>what's the equivalent code in java using opencv ?</p>\n<pre><code>#make mask of where the transparent bits are\ntrans_mask = image[:,:,3] == 0\n\n#replace areas of transparency with white and not transparent\nimage[trans_mask] = [255, 255, 255, 255]\n</code></pre>\n<p>updated:</p>\n<p>I don't get it, why people downvote this. the &quot;easy&quot; solution is so clear that you assign each pixel in a loop, but that would not as efficient as this way. I searched for it and got no clues. why these people don't understand this question in the first place and try to discuss it. if you guys don't know it just leave it.</p>\n<p>if you try to process images in java efficiently, this question is useful to you.</p>\n"},{"tags":["java","pattern-matching","string-matching"],"answers":[{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":1,"creation_date":1690494492,"post_id":76778423,"comment_id":135365816,"body_markdown":"I feel like this is wrong because it would allow car0 and car0 or car1 and car1","body":"I feel like this is wrong because it would allow car0 and car0 or car1 and car1"}],"tags":[],"owner":{"account_id":26444463,"reputation":19,"user_id":20088481,"display_name":"sk w"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690450706,"creation_date":1690450706,"answer_id":76778423,"question_id":76778081,"body_markdown":"The regex variable can be written as:\r\n\r\n    final String regex = &quot;.*LIST.*\\\\(\\&quot;car[1|0]\\&quot;\\\\ \\&quot;car[1|0]\\&quot;\\\\)\\\\ RETURN.*\\\\R&quot;;","title":"Pattern match without a string order","body":"<p>The regex variable can be written as:</p>\n<pre><code>final String regex = &quot;.*LIST.*\\\\(\\&quot;car[1|0]\\&quot;\\\\ \\&quot;car[1|0]\\&quot;\\\\)\\\\ RETURN.*\\\\R&quot;;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690496872,"post_id":76783770,"comment_id":135366117,"body_markdown":"Please note, I am ***GREATLY SIMPLIFYING*** the definition of escaping. It is way more complex than how I pointed it out to be. But as is, it&#39;s a decent mental model for describing how and where to escape.","body":"Please note, I am <b><i>GREATLY SIMPLIFYING</i></b> the definition of escaping. It is way more complex than how I pointed it out to be. But as is, it&#39;s a decent mental model for describing how and where to escape."}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690508535,"creation_date":1690496759,"answer_id":76783770,"question_id":76778081,"body_markdown":"You could do this.\r\n\r\n```java\r\nfinal String regex = &quot;.*LIST.*\\\\((?:\\&quot;car1\\&quot; \\&quot;car0\\&quot;|\\&quot;car0\\&quot; \\&quot;car1\\&quot;)\\\\) RETURN.*\\\\R&quot;;\r\n```\r\n\r\nAnd if you don&#39;t understand what it means, you should familiarize yourself with the documentation for [`java.util.regex.Pattern`][1]. That link is basically your bible when it comes to writing Regular Expressions in Java.\r\n\r\nAnd if that is not clear enough for you, here is an exploded view of the exact same string, but with a breakdown of what each individual component means.\r\n\r\n```java\r\nfinal String regex = &quot;&quot;\r\n    + &quot;.*&quot;     //wildcard -- anything or nothing can go here.\r\n    + &quot;LIST&quot;   //the literal string LIST in all-caps\r\n    + &quot;.*&quot;     //another wildcard\r\n    + &quot;\\\\(&quot;    //an escaped opening parentheses\r\n    + &quot;(?:&quot;    //the opener of a non-capturing capture group\r\n    + &quot;\\&quot;&quot;     //an escaped double quote\r\n    + &quot;car1&quot;   //the literal string car1\r\n    + &quot;\\&quot;&quot;     //another escaped double quote\r\n    + &quot; &quot;      //a single whitespace -- pressing the space bar once\r\n    + &quot;\\&quot;&quot;     //yet another escaped double quote\r\n    + &quot;car0&quot;   //the literal string car0\r\n    + &quot;\\&quot;&quot;     //4th double quote thus far\r\n    + &quot;|&quot;      //This is a very special symbol -- when you place this symbol\r\n               //inside of any type of capture group, you should treat it\r\n               //like an or operator in Java if statements\r\n    + &quot;\\&quot;&quot;     //5th double quote thus far\r\n    + &quot;car0&quot;   //the literal string car0\r\n    + &quot;\\&quot;&quot;     //6th double quote thus far\r\n    + &quot; &quot;      //another whitespace\r\n    + &quot;\\&quot;&quot;     //7th double quote thus far\r\n    + &quot;car1&quot;   //the literal string car1\r\n    + &quot;\\&quot;&quot;     //8th double quote thus far -- it is also the last one\r\n    + &quot;)&quot;      //the closer of the non-capturing capture group started above\r\n    + &quot;\\\\)&quot;    //an escaped closing parentheses\r\n    + &quot; &quot;      //yet another whitespace\r\n    + &quot;RETURN&quot; //the literal string RETURN in all-caps\r\n    + &quot;.*&quot;     //yet another wildcard\r\n    + &quot;\\\\R&quot;    //This is a linebreak matcher -- it matches all new line symbols\r\n    ;\r\n\r\n```\r\n\r\nSome things to note.\r\n\r\n1. Escaping means that you decide to stop interpreting a symbol for its special meaning, and you just want Java to put it into the String. To escape, you use the backslash symbol (\\\\). Escaping can get tricky though, as you can see. Sometimes you need 2 backslashes, and sometimes you need 1. If you need help understanding when and where you need 1 or 2 (or worse yet, more), I would take a look at this link.\r\n\r\nhttps://stackoverflow.com/questions/36092805/java-regular-expression-how-to-use-backslash\r\n\r\n2. A capture group plus a | symbol allows you to do OR clauses in your regex. The regex above basically says, &quot;match a wildcard, followed by LIST, followed by another wildcard, followed by an opening parentheses, followed by an ***OR CLAUSE***, where one of the following cases must be true. Either we match the literal string ***&quot;car1&quot; &quot;car0&quot;*** or the other literal string ***&quot;car0&quot; &quot;car1&quot;***. After the ***OR CLAUSE***, we match a closing parentheses, a single whitespace, the literal string RETURN, another wildcard, and then finally, a new line matcher&quot;. Which leads to my next point.\r\n\r\n3. With the exception of the ***OR CLAUSE***, everything here is in order. Meaning, one must be matched before the next one can be matched. The ***OR CLAUSE*** gives you the ability to branch between one of the options, but that&#39;s it. Otherwise, everything follows the rule of going in order.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html","title":"Pattern match without a string order","body":"<p>You could do this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String regex = &quot;.*LIST.*\\\\((?:\\&quot;car1\\&quot; \\&quot;car0\\&quot;|\\&quot;car0\\&quot; \\&quot;car1\\&quot;)\\\\) RETURN.*\\\\R&quot;;\n</code></pre>\n<p>And if you don't understand what it means, you should familiarize yourself with the documentation for <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>java.util.regex.Pattern</code></a>. That link is basically your bible when it comes to writing Regular Expressions in Java.</p>\n<p>And if that is not clear enough for you, here is an exploded view of the exact same string, but with a breakdown of what each individual component means.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String regex = &quot;&quot;\n    + &quot;.*&quot;     //wildcard -- anything or nothing can go here.\n    + &quot;LIST&quot;   //the literal string LIST in all-caps\n    + &quot;.*&quot;     //another wildcard\n    + &quot;\\\\(&quot;    //an escaped opening parentheses\n    + &quot;(?:&quot;    //the opener of a non-capturing capture group\n    + &quot;\\&quot;&quot;     //an escaped double quote\n    + &quot;car1&quot;   //the literal string car1\n    + &quot;\\&quot;&quot;     //another escaped double quote\n    + &quot; &quot;      //a single whitespace -- pressing the space bar once\n    + &quot;\\&quot;&quot;     //yet another escaped double quote\n    + &quot;car0&quot;   //the literal string car0\n    + &quot;\\&quot;&quot;     //4th double quote thus far\n    + &quot;|&quot;      //This is a very special symbol -- when you place this symbol\n               //inside of any type of capture group, you should treat it\n               //like an or operator in Java if statements\n    + &quot;\\&quot;&quot;     //5th double quote thus far\n    + &quot;car0&quot;   //the literal string car0\n    + &quot;\\&quot;&quot;     //6th double quote thus far\n    + &quot; &quot;      //another whitespace\n    + &quot;\\&quot;&quot;     //7th double quote thus far\n    + &quot;car1&quot;   //the literal string car1\n    + &quot;\\&quot;&quot;     //8th double quote thus far -- it is also the last one\n    + &quot;)&quot;      //the closer of the non-capturing capture group started above\n    + &quot;\\\\)&quot;    //an escaped closing parentheses\n    + &quot; &quot;      //yet another whitespace\n    + &quot;RETURN&quot; //the literal string RETURN in all-caps\n    + &quot;.*&quot;     //yet another wildcard\n    + &quot;\\\\R&quot;    //This is a linebreak matcher -- it matches all new line symbols\n    ;\n\n</code></pre>\n<p>Some things to note.</p>\n<ol>\n<li>Escaping means that you decide to stop interpreting a symbol for its special meaning, and you just want Java to put it into the String. To escape, you use the backslash symbol (\\). Escaping can get tricky though, as you can see. Sometimes you need 2 backslashes, and sometimes you need 1. If you need help understanding when and where you need 1 or 2 (or worse yet, more), I would take a look at this link.</li>\n</ol>\n<p><a href=\"https://stackoverflow.com/questions/36092805/java-regular-expression-how-to-use-backslash\">Java Regular Expression - how to use backslash</a></p>\n<ol start=\"2\">\n<li><p>A capture group plus a | symbol allows you to do OR clauses in your regex. The regex above basically says, &quot;match a wildcard, followed by LIST, followed by another wildcard, followed by an opening parentheses, followed by an <em><strong>OR CLAUSE</strong></em>, where one of the following cases must be true. Either we match the literal string <em><strong>&quot;car1&quot; &quot;car0&quot;</strong></em> or the other literal string <em><strong>&quot;car0&quot; &quot;car1&quot;</strong></em>. After the <em><strong>OR CLAUSE</strong></em>, we match a closing parentheses, a single whitespace, the literal string RETURN, another wildcard, and then finally, a new line matcher&quot;. Which leads to my next point.</p>\n</li>\n<li><p>With the exception of the <em><strong>OR CLAUSE</strong></em>, everything here is in order. Meaning, one must be matched before the next one can be matched. The <em><strong>OR CLAUSE</strong></em> gives you the ability to branch between one of the options, but that's it. Otherwise, everything follows the rule of going in order.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":28408271,"reputation":45,"user_id":21731993,"display_name":"sKarwasra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76783770,"answer_count":2,"score":1,"last_activity_date":1690508535,"creation_date":1690448024,"question_id":76778081,"body_markdown":"I wanted to match two strings, but the order shouldn’t matter. E.g., the below check should give true instead of false. \r\n\r\n    final String line = &quot;LIST \\&quot;\\&quot; (\\&quot;car1\\&quot; \\&quot;car0\\&quot;) RETURN (SPECIAL-USE STATUS)\\n&quot;;\r\n    final String regex = &quot;.*LIST.*\\\\(\\&quot;car0\\&quot;\\\\ \\&quot;car1\\&quot;\\\\)\\\\ RETURN.*\\\\R&quot;;\r\n    System.out.println(line.matches(regex));\r\n\r\nI am expecting that values in the string line should match with the regex, irrespective of the order of the words (car1 and car0).\r\n\r\n\r\n\r\n","title":"Pattern match without a string order","body":"<p>I wanted to match two strings, but the order shouldn’t matter. E.g., the below check should give true instead of false.</p>\n<pre><code>final String line = &quot;LIST \\&quot;\\&quot; (\\&quot;car1\\&quot; \\&quot;car0\\&quot;) RETURN (SPECIAL-USE STATUS)\\n&quot;;\nfinal String regex = &quot;.*LIST.*\\\\(\\&quot;car0\\&quot;\\\\ \\&quot;car1\\&quot;\\\\)\\\\ RETURN.*\\\\R&quot;;\nSystem.out.println(line.matches(regex));\n</code></pre>\n<p>I am expecting that values in the string line should match with the regex, irrespective of the order of the words (car1 and car0).</p>\n"},{"tags":["java","spring","kotlin","point-of-sale","jpos"],"answers":[{"tags":[],"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690464470,"creation_date":1690464470,"answer_id":76780249,"question_id":76778835,"body_markdown":"The first downside is processing time. With a `ChannelAdaptor` in `Q2` you have the channel connected all the time, so you don&#39;t have the overhead of establishing the TCP/IP connection, which involves a few extra steps in each request.\r\n\r\nAlso, without `Q2` and transaction managers, you have to implement all the timeout logic. For instance, in your code snippet, you don&#39;t handle a timeout if the other end doesn&#39;t respond. Your code would be frozen until the connection is reset by some other means.\r\n\r\nYour code will be complex enough soon trying to overcome the challenges that are already sorted out in decades of experience of ISO8583 transaction processing implementation gathered by the jPOS team.\r\n\r\n","title":"Using Jpos without Q2","body":"<p>The first downside is processing time. With a <code>ChannelAdaptor</code> in <code>Q2</code> you have the channel connected all the time, so you don't have the overhead of establishing the TCP/IP connection, which involves a few extra steps in each request.</p>\n<p>Also, without <code>Q2</code> and transaction managers, you have to implement all the timeout logic. For instance, in your code snippet, you don't handle a timeout if the other end doesn't respond. Your code would be frozen until the connection is reset by some other means.</p>\n<p>Your code will be complex enough soon trying to overcome the challenges that are already sorted out in decades of experience of ISO8583 transaction processing implementation gathered by the jPOS team.</p>\n"},{"comments":[{"owner":{"account_id":18846015,"reputation":76,"user_id":13746295,"display_name":"efe "},"score":0,"creation_date":1696595314,"post_id":76784296,"comment_id":136176811,"body_markdown":"Thanks for the answer, I tried t deploy a Q2 in my spring boot application, but I have a bit of difficulty understanding how to configure the Q2 channel to communicate with my remote transaction switching service, also tried to read the jpos giude but i am still confused.","body":"Thanks for the answer, I tried t deploy a Q2 in my spring boot application, but I have a bit of difficulty understanding how to configure the Q2 channel to communicate with my remote transaction switching service, also tried to read the jpos giude but i am still confused."},{"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"score":0,"creation_date":1696867791,"post_id":76784296,"comment_id":136204945,"body_markdown":"Take a look at http://jpos.org/doc/proguide.pdf and http://jpos.org/tutorials\n\nIf you understand how to configure a QBean (which is super simple), you&#39;ll understand how to configure the rest of jPOS.","body":"Take a look at <a href=\"http://jpos.org/doc/proguide.pdf\" rel=\"nofollow noreferrer\">jpos.org/doc/proguide.pdf</a> and <a href=\"http://jpos.org/tutorials\" rel=\"nofollow noreferrer\">jpos.org/tutorials</a>  If you understand how to configure a QBean (which is super simple), you&#39;ll understand how to configure the rest of jPOS."}],"tags":[],"owner":{"account_id":61653,"reputation":1298,"user_id":183639,"display_name":"apr"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690506675,"creation_date":1690506675,"answer_id":76784296,"question_id":76778835,"body_markdown":"I suggest you try the Gateway Tutorial described here, and you&#39;ll see that everything is quite easier with Q2.\r\n\r\nhttp://jpos.org/tutorials\r\n\r\nAnd BTW, you can run Q2 from your SB application with just a few lines of code, take a look at this Gist: \r\n\r\nhttps://gist.github.com/ar/86a4a24384d029c35f784079007393b0#file-q2boot-java\r\n","title":"Using Jpos without Q2","body":"<p>I suggest you try the Gateway Tutorial described here, and you'll see that everything is quite easier with Q2.</p>\n<p><a href=\"http://jpos.org/tutorials\" rel=\"nofollow noreferrer\">http://jpos.org/tutorials</a></p>\n<p>And BTW, you can run Q2 from your SB application with just a few lines of code, take a look at this Gist:</p>\n<p><a href=\"https://gist.github.com/ar/86a4a24384d029c35f784079007393b0#file-q2boot-java\" rel=\"nofollow noreferrer\">https://gist.github.com/ar/86a4a24384d029c35f784079007393b0#file-q2boot-java</a></p>\n"}],"owner":{"account_id":18846015,"reputation":76,"user_id":13746295,"display_name":"efe "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690506675,"creation_date":1690453721,"question_id":76778835,"body_markdown":"What are the downsides to using Jpos with just creating IsoMsg objects and using channels, connect, send, and receive methods instead of deploying a Q2?\r\n\r\nI use Jpos in my spring application to process financial transactions from pos terminals to different transaction processors.  \r\nMy current setup involves just creating an IsoMsg object, setting the required fields, then creating the appropriate channel calling the channel send and receive method to process the transaction like.  \r\nBelow is an example of me sending a network management request:\r\n\r\n```\r\nISOMsg m = new ISOMsg ();\r\n  m.setMTI (&quot;0800&quot;);\r\n  m.set (3, &quot;000000&quot;);\r\n  m.set (41, &quot;00000001&quot;);\r\n  m.set (70, &quot;301&quot;);\r\n  .......................................\r\n  .......................................\r\n (other parts of iso message omitted)\r\n\r\nISOChannel channel = new ASCIIChannel (&quot;&lt;processor_ip&gt;&quot;, &lt;processor_port&gt;, new GenericPackager());\r\nchannel.connect();\r\nchannel.send(m);\r\n\r\nIsoMsg response = channel.receieve();\r\n\r\n   \r\n```\r\n\r\nHowever the jpos programmers&#39; guide recommends using a Q2 instead of the above method, but I find the Q2 deployment quite complex and configuration-heavy.  \r\nReading the Q2 section of the programmers guide quickly introduces a lot of complex components with names that are not so easy to understand such as channel adaptors, participants, space, filters, query hosts, etc.\r\n\r\nI prefer the simple implementation of creating an IsoMsg object, opening a connection through a channel, sending the IsoMsg, and receiving a response.\r\n\r\nMy question is, what are the downsides to using the simpler implementation over Q2, what advantages does the Q2 deployment offer over just communicating through plain channels","title":"Using Jpos without Q2","body":"<p>What are the downsides to using Jpos with just creating IsoMsg objects and using channels, connect, send, and receive methods instead of deploying a Q2?</p>\n<p>I use Jpos in my spring application to process financial transactions from pos terminals to different transaction processors.<br />\nMy current setup involves just creating an IsoMsg object, setting the required fields, then creating the appropriate channel calling the channel send and receive method to process the transaction like.<br />\nBelow is an example of me sending a network management request:</p>\n<pre><code>ISOMsg m = new ISOMsg ();\n  m.setMTI (&quot;0800&quot;);\n  m.set (3, &quot;000000&quot;);\n  m.set (41, &quot;00000001&quot;);\n  m.set (70, &quot;301&quot;);\n  .......................................\n  .......................................\n (other parts of iso message omitted)\n\nISOChannel channel = new ASCIIChannel (&quot;&lt;processor_ip&gt;&quot;, &lt;processor_port&gt;, new GenericPackager());\nchannel.connect();\nchannel.send(m);\n\nIsoMsg response = channel.receieve();\n\n   \n</code></pre>\n<p>However the jpos programmers' guide recommends using a Q2 instead of the above method, but I find the Q2 deployment quite complex and configuration-heavy.<br />\nReading the Q2 section of the programmers guide quickly introduces a lot of complex components with names that are not so easy to understand such as channel adaptors, participants, space, filters, query hosts, etc.</p>\n<p>I prefer the simple implementation of creating an IsoMsg object, opening a connection through a channel, sending the IsoMsg, and receiving a response.</p>\n<p>My question is, what are the downsides to using the simpler implementation over Q2, what advantages does the Q2 deployment offer over just communicating through plain channels</p>\n"},{"tags":["java","junit","mockito","slf4j","powermock"],"comments":[{"owner":{"account_id":71653,"reputation":4571,"user_id":207238,"accept_rate":88,"display_name":"Matt Lachman"},"score":1,"creation_date":1372351140,"post_id":8948916,"comment_id":25172174,"body_markdown":"Have you tried the @MockPolicy? [Examples here](https://code.google.com/p/powermock/wiki/MockPolicies) are for EasyMock style mocks but can be adapted for Mockito.","body":"Have you tried the @MockPolicy? <a href=\"https://code.google.com/p/powermock/wiki/MockPolicies\" rel=\"nofollow noreferrer\">Examples here</a> are for EasyMock style mocks but can be adapted for Mockito."}],"answers":[{"tags":[],"owner":{"account_id":122746,"reputation":5871,"user_id":316745,"accept_rate":83,"display_name":"jhericks"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1327425643,"creation_date":1327106196,"answer_id":8949688,"question_id":8948916,"body_markdown":"In answer to your first question, it should be as simple as replacing:\r\n\r\n       when(LoggerFactory.getLogger(GoodbyeController.class)).thenReturn(loggerMock);\r\n\r\nwith\r\n\r\n       when(LoggerFactory.getLogger(any(Class.class))).thenReturn(loggerMock);\r\n\r\nRegarding your second question (and possibly the puzzling behavior with the first), I think the problem is that logger is static.  So, \r\n    \r\n    private static Logger logger = LoggerFactory.getLogger(GoodbyeController.class);\r\n\r\nis executed when the _class_ is initialized, not the when the _object_ is instantiated.  Sometimes this can be at about the same time, so you&#39;ll be OK, but it&#39;s hard to guarantee that.  So you set up LoggerFactory.getLogger to return your mock, but the logger variable may have already been set with a real Logger object by the time your mocks are set up.\r\n\r\nYou may be able to set the logger explicitly using something like [ReflectionTestUtils][1] (I don&#39;t know if that works with static fields) or change it from a static field to an instance field.  Either way, you don&#39;t need to mock LoggerFactory.getLogger because you&#39;ll be directly injecting the mock Logger instance.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/test/util/ReflectionTestUtils.html#setField%28java.lang.Object,%20java.lang.String,%20java.lang.Object%29","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>In answer to your first question, it should be as simple as replacing:</p>\n\n<pre><code>   when(LoggerFactory.getLogger(GoodbyeController.class)).thenReturn(loggerMock);\n</code></pre>\n\n<p>with</p>\n\n<pre><code>   when(LoggerFactory.getLogger(any(Class.class))).thenReturn(loggerMock);\n</code></pre>\n\n<p>Regarding your second question (and possibly the puzzling behavior with the first), I think the problem is that logger is static.  So, </p>\n\n<pre><code>private static Logger logger = LoggerFactory.getLogger(GoodbyeController.class);\n</code></pre>\n\n<p>is executed when the <em>class</em> is initialized, not the when the <em>object</em> is instantiated.  Sometimes this can be at about the same time, so you'll be OK, but it's hard to guarantee that.  So you set up LoggerFactory.getLogger to return your mock, but the logger variable may have already been set with a real Logger object by the time your mocks are set up.</p>\n\n<p>You may be able to set the logger explicitly using something like <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/test/util/ReflectionTestUtils.html#setField%28java.lang.Object,%20java.lang.String,%20java.lang.Object%29\" rel=\"noreferrer\">ReflectionTestUtils</a> (I don't know if that works with static fields) or change it from a static field to an instance field.  Either way, you don't need to mock LoggerFactory.getLogger because you'll be directly injecting the mock Logger instance.</p>\n"},{"comments":[{"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"score":6,"creation_date":1361565905,"post_id":9052915,"comment_id":21126335,"body_markdown":"NOTE: If you tried a second @ Test in there, you&#39;ll have a problem. verify() won&#39;t work when called again in an additional test. Not if you use @ Before, or new var names. The classLoader&#39;s only going to make one of them, so you can&#39;t have two different static classes. Break your tests out into individual classes.","body":"NOTE: If you tried a second @ Test in there, you&#39;ll have a problem. verify() won&#39;t work when called again in an additional test. Not if you use @ Before, or new var names. The classLoader&#39;s only going to make one of them, so you can&#39;t have two different static classes. Break your tests out into individual classes."},{"owner":{"account_id":387465,"reputation":4697,"user_id":745827,"accept_rate":88,"display_name":"Cengiz"},"score":8,"creation_date":1363611191,"post_id":9052915,"comment_id":21905349,"body_markdown":"Unfortunately i can&#39;t get it work... Mockito says.. Actually, there were zero interactions with this mock.","body":"Unfortunately i can&#39;t get it work... Mockito says.. Actually, there were zero interactions with this mock."},{"owner":{"account_id":100045,"reputation":2725,"user_id":269876,"accept_rate":0,"display_name":"Lo-Tan"},"score":1,"creation_date":1369244152,"post_id":9052915,"comment_id":24033958,"body_markdown":"Works fine for me (including verification).  Make sure you are using @PrepareForTest and also verify that you&#39;ve mocked the right log lookup method of the log factory.","body":"Works fine for me (including verification).  Make sure you are using @PrepareForTest and also verify that you&#39;ve mocked the right log lookup method of the log factory."},{"owner":{"account_id":2084279,"reputation":1181,"user_id":1855579,"accept_rate":67,"display_name":"Vlad Dinulescu"},"score":0,"creation_date":1476109697,"post_id":9052915,"comment_id":67200784,"body_markdown":"+1 for the mention &quot;introducing a real dependency that make clear these logs are features would be a so much better in the whole system design&quot;","body":"+1 for the mention &quot;introducing a real dependency that make clear these logs are features would be a so much better in the whole system design&quot;"},{"owner":{"account_id":3928232,"reputation":1060,"user_id":3247800,"accept_rate":62,"display_name":"beni0888"},"score":1,"creation_date":1526985782,"post_id":9052915,"comment_id":87944467,"body_markdown":"@Brice I know this is quite an old question, but I&#39;d like to ask you something regarding your advice of &quot;introducing a real dependency&quot; and avoiding the need of static mocking tools. I quite agree with your point about making the feature visible for anyone, however, I think that if you need to unit test that reporting class also, you&#39;ll still need to use these static mocking tools. Won&#39;t you?","body":"@Brice I know this is quite an old question, but I&#39;d like to ask you something regarding your advice of &quot;introducing a real dependency&quot; and avoiding the need of static mocking tools. I quite agree with your point about making the feature visible for anyone, however, I think that if you need to unit test that reporting class also, you&#39;ll still need to use these static mocking tools. Won&#39;t you?"},{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":1,"creation_date":1527103594,"post_id":9052915,"comment_id":88004851,"body_markdown":"@beni0888 Indeed it is advised to unit test this class, but the concrete dependency can be designed with a `Logger` field set in the constructor(s), and as such it would be possible to pass a pure mockito `Logger` mock, in some constructor that is visible for testing purpose only.","body":"@beni0888 Indeed it is advised to unit test this class, but the concrete dependency can be designed with a <code>Logger</code> field set in the constructor(s), and as such it would be possible to pass a pure mockito <code>Logger</code> mock, in some constructor that is visible for testing purpose only."},{"owner":{"account_id":139814,"reputation":16854,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"score":1,"creation_date":1647459804,"post_id":9052915,"comment_id":126379843,"body_markdown":"Wish I read the EDIT2 about ditching static fields before I jumped to implementing the first code snippet.","body":"Wish I read the EDIT2 about ditching static fields before I jumped to implementing the first code snippet."}],"tags":[],"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"comment_count":7,"down_vote_count":1,"up_vote_count":83,"is_accepted":true,"score":82,"last_activity_date":1600679949,"creation_date":1327837473,"answer_id":9052915,"question_id":8948916,"body_markdown":"EDIT 2020-09-21: Since 3.4.0, Mockito supports mocking static methods, API is still incubating and is likely to change, in particular around stubbing and verification. It requires the `mockito-inline` artifact. And you don&#39;t need to prepare the test or use any specific runner. All you need to do is :\r\n\r\n    @Test\r\n    public void name() {\r\n        try (MockedStatic&lt;LoggerFactory&gt; integerMock = mockStatic(LoggerFactory.class)) {\r\n            final Logger logger = mock(Logger.class);\r\n            integerMock.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\r\n            new Controller().log();\r\n            verify(logger).warn(any());\r\n        }\r\n    }\r\n\r\n\r\nThe two inportant aspect in this code, is that you need to scope when the static mock applies, i.e. within this try block. And you need to call the stubbing and verification api from the `MockedStatic` object.\r\n\r\n----\r\n\r\n\r\n@Mick, try to prepare the owner of the static field too, eg :\r\n\r\n    @PrepareForTest({GoodbyeController.class, LoggerFactory.class})\r\n\r\n\r\nEDIT1 : I just crafted a small example. First the controller :\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class Controller {\r\n        Logger logger = LoggerFactory.getLogger(Controller.class);\r\n    \r\n        public void log() { logger.warn(&quot;yup&quot;); }\r\n    }\r\n\r\nThen the test :\r\n\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import static org.mockito.Matchers.any;\r\n    import static org.mockito.Matchers.anyString;\r\n    import static org.mockito.Mockito.verify;\r\n    import static org.powermock.api.mockito.PowerMockito.mock;\r\n    import static org.powermock.api.mockito.PowerMockito.mockStatic;\r\n    import static org.powermock.api.mockito.PowerMockito.when;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({Controller.class, LoggerFactory.class})\r\n    public class ControllerTest {\r\n    \r\n        @Test\r\n        public void name() throws Exception {\r\n            mockStatic(LoggerFactory.class);\r\n            Logger logger = mock(Logger.class);\r\n            when(LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\r\n            \r\n            new Controller().log();\r\n            \r\n            verify(logger).warn(anyString());\r\n        }\r\n    }\r\n\r\nNote the imports !\r\nNoteworthy libs in the classpath : Mockito, PowerMock, JUnit, logback-core, logback-clasic, slf4j\r\n\r\n--------\r\n\r\nEDIT2 : As it seems to be a popular question, I&#39;d like to point out that **if these log messages are that important** and require to be tested, i.e. they are feature / business part of the system **then introducing a real dependency that make clear theses logs are features would be a so much better in the whole system design**, instead of relying on static code of a standard and technical classes of a logger.\r\n\r\nFor this matter I would recommend to craft something like= a `Reporter` class with methods such as `reportIncorrectUseOfYAndZForActionX` or `reportProgressStartedForActionX`. This would have the benefit of making the feature visible for anyone reading the code. But it will also help to achieve tests, change the implementations details of this particular feature.\r\n\r\nHence you wouldn&#39;t need static mocking tools like PowerMock. **In my opinion static code can be fine, but as soon as the test demands to verify or to mock static behavior it is necessary to refactor and introduce clear dependencies.**","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>EDIT 2020-09-21: Since 3.4.0, Mockito supports mocking static methods, API is still incubating and is likely to change, in particular around stubbing and verification. It requires the <code>mockito-inline</code> artifact. And you don't need to prepare the test or use any specific runner. All you need to do is :</p>\n<pre><code>@Test\npublic void name() {\n    try (MockedStatic&lt;LoggerFactory&gt; integerMock = mockStatic(LoggerFactory.class)) {\n        final Logger logger = mock(Logger.class);\n        integerMock.when(() -&gt; LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\n        new Controller().log();\n        verify(logger).warn(any());\n    }\n}\n</code></pre>\n<p>The two inportant aspect in this code, is that you need to scope when the static mock applies, i.e. within this try block. And you need to call the stubbing and verification api from the <code>MockedStatic</code> object.</p>\n<hr />\n<p>@Mick, try to prepare the owner of the static field too, eg :</p>\n<pre><code>@PrepareForTest({GoodbyeController.class, LoggerFactory.class})\n</code></pre>\n<p>EDIT1 : I just crafted a small example. First the controller :</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class Controller {\n    Logger logger = LoggerFactory.getLogger(Controller.class);\n\n    public void log() { logger.warn(&quot;yup&quot;); }\n}\n</code></pre>\n<p>Then the test :</p>\n<pre><code>import org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport static org.mockito.Matchers.any;\nimport static org.mockito.Matchers.anyString;\nimport static org.mockito.Mockito.verify;\nimport static org.powermock.api.mockito.PowerMockito.mock;\nimport static org.powermock.api.mockito.PowerMockito.mockStatic;\nimport static org.powermock.api.mockito.PowerMockito.when;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({Controller.class, LoggerFactory.class})\npublic class ControllerTest {\n\n    @Test\n    public void name() throws Exception {\n        mockStatic(LoggerFactory.class);\n        Logger logger = mock(Logger.class);\n        when(LoggerFactory.getLogger(any(Class.class))).thenReturn(logger);\n        \n        new Controller().log();\n        \n        verify(logger).warn(anyString());\n    }\n}\n</code></pre>\n<p>Note the imports !\nNoteworthy libs in the classpath : Mockito, PowerMock, JUnit, logback-core, logback-clasic, slf4j</p>\n<hr />\n<p>EDIT2 : As it seems to be a popular question, I'd like to point out that <strong>if these log messages are that important</strong> and require to be tested, i.e. they are feature / business part of the system <strong>then introducing a real dependency that make clear theses logs are features would be a so much better in the whole system design</strong>, instead of relying on static code of a standard and technical classes of a logger.</p>\n<p>For this matter I would recommend to craft something like= a <code>Reporter</code> class with methods such as <code>reportIncorrectUseOfYAndZForActionX</code> or <code>reportProgressStartedForActionX</code>. This would have the benefit of making the feature visible for anyone reading the code. But it will also help to achieve tests, change the implementations details of this particular feature.</p>\n<p>Hence you wouldn't need static mocking tools like PowerMock. <strong>In my opinion static code can be fine, but as soon as the test demands to verify or to mock static behavior it is necessary to refactor and introduce clear dependencies.</strong></p>\n"},{"comments":[{"owner":{"account_id":3408649,"reputation":128,"user_id":2859142,"display_name":"Ryan Pfister"},"score":1,"creation_date":1447700795,"post_id":24172446,"comment_id":55253825,"body_markdown":"Markus Wendl&#39;s suggestion to use reset worked for me.","body":"Markus Wendl&#39;s suggestion to use reset worked for me."},{"owner":{"account_id":356336,"reputation":6428,"user_id":695787,"accept_rate":50,"display_name":"Jameson"},"score":2,"creation_date":1528518359,"post_id":24172446,"comment_id":88549275,"body_markdown":"+500. @BeforeClass made the difference for me.","body":"+500. @BeforeClass made the difference for me."}],"tags":[],"owner":{"account_id":1333657,"reputation":279,"user_id":1276925,"display_name":"user1276925"},"comment_count":2,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1402520257,"creation_date":1402520257,"answer_id":24172446,"question_id":8948916,"body_markdown":"Somewhat late to the party - I was doing something similar and needed some pointers and ended up here. Taking no credit - I took all of the code from Brice but got the &quot;zero interactions&quot; than Cengiz got. \r\n\r\nUsing guidance from what jheriks amd Joseph Lust had put I think I know why - I had my object under test as a field and newed it up in a @Before unlike Brice. Then the actual logger was not the mock but a real class init&#39;d as jhriks suggested... \r\n\r\nI would normally do this for my object under test so as to get a fresh object for each test. When I moved the field to a local and newed it in the test it ran ok. However, if I tried a second test it was not the mock in my test but the mock from the first test and I got the zero interactions again. \r\n\r\nWhen I put the creation of the mock in the @BeforeClass the logger in the object under test is always the mock but see the note below for the problems with this...\r\n\r\n**Class under test**\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class MyClassWithSomeLogging  {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(MyClassWithSomeLogging.class);\r\n    \r\n        public void doStuff(boolean b) {\r\n            if(b) {\r\n                LOG.info(&quot;true&quot;);\r\n            } else {\r\n                LOG.info(&quot;false&quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n**Test**\r\n\r\n\r\n\r\n    import org.junit.AfterClass;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import static org.mockito.Mockito.*;\r\n    import static org.powermock.api.mockito.PowerMockito.mock;\r\n    import static org.powermock.api.mockito.PowerMockito.*;\r\n    import static org.powermock.api.mockito.PowerMockito.when;\r\n    \r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({LoggerFactory.class})\r\n    public class MyClassWithSomeLoggingTest {\r\n    \r\n        private static Logger mockLOG;\r\n    \r\n        @BeforeClass\r\n        public static void setup() {\r\n            mockStatic(LoggerFactory.class);\r\n            mockLOG = mock(Logger.class);\r\n            when(LoggerFactory.getLogger(any(Class.class))).thenReturn(mockLOG);\r\n        }\r\n    \r\n        @Test\r\n        public void testIt() {\r\n            MyClassWithSomeLogging myClassWithSomeLogging = new MyClassWithSomeLogging();\r\n            myClassWithSomeLogging.doStuff(true);\r\n    \r\n            verify(mockLOG, times(1)).info(&quot;true&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void testIt2() {\r\n            MyClassWithSomeLogging myClassWithSomeLogging = new MyClassWithSomeLogging();\r\n            myClassWithSomeLogging.doStuff(false);\r\n    \r\n            verify(mockLOG, times(1)).info(&quot;false&quot;);\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void verifyStatic() {\r\n            verify(mockLOG, times(1)).info(&quot;true&quot;);\r\n            verify(mockLOG, times(1)).info(&quot;false&quot;);\r\n            verify(mockLOG, times(2)).info(anyString());\r\n        }\r\n    }\r\n\r\n\r\n**Note**\r\n\r\nIf you have two tests with the same expectation I had to do the verify in the @AfterClass as the invocations on the static are stacked up - `verify(mockLOG, times(2)).info(&quot;true&quot;);`  - rather than times(1) in each test as the second test would fail saying there where 2 invocation of this. This is pretty pants but I couldn&#39;t find a way to clear the invocations. I&#39;d like to know if anyone can think of a way round this....","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>Somewhat late to the party - I was doing something similar and needed some pointers and ended up here. Taking no credit - I took all of the code from Brice but got the \"zero interactions\" than Cengiz got. </p>\n\n<p>Using guidance from what jheriks amd Joseph Lust had put I think I know why - I had my object under test as a field and newed it up in a @Before unlike Brice. Then the actual logger was not the mock but a real class init'd as jhriks suggested... </p>\n\n<p>I would normally do this for my object under test so as to get a fresh object for each test. When I moved the field to a local and newed it in the test it ran ok. However, if I tried a second test it was not the mock in my test but the mock from the first test and I got the zero interactions again. </p>\n\n<p>When I put the creation of the mock in the @BeforeClass the logger in the object under test is always the mock but see the note below for the problems with this...</p>\n\n<p><strong>Class under test</strong></p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class MyClassWithSomeLogging  {\n\n    private static final Logger LOG = LoggerFactory.getLogger(MyClassWithSomeLogging.class);\n\n    public void doStuff(boolean b) {\n        if(b) {\n            LOG.info(\"true\");\n        } else {\n            LOG.info(\"false\");\n        }\n\n    }\n}\n</code></pre>\n\n<p><strong>Test</strong></p>\n\n<pre><code>import org.junit.AfterClass;\nimport org.junit.BeforeClass;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport static org.mockito.Mockito.*;\nimport static org.powermock.api.mockito.PowerMockito.mock;\nimport static org.powermock.api.mockito.PowerMockito.*;\nimport static org.powermock.api.mockito.PowerMockito.when;\n\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({LoggerFactory.class})\npublic class MyClassWithSomeLoggingTest {\n\n    private static Logger mockLOG;\n\n    @BeforeClass\n    public static void setup() {\n        mockStatic(LoggerFactory.class);\n        mockLOG = mock(Logger.class);\n        when(LoggerFactory.getLogger(any(Class.class))).thenReturn(mockLOG);\n    }\n\n    @Test\n    public void testIt() {\n        MyClassWithSomeLogging myClassWithSomeLogging = new MyClassWithSomeLogging();\n        myClassWithSomeLogging.doStuff(true);\n\n        verify(mockLOG, times(1)).info(\"true\");\n    }\n\n    @Test\n    public void testIt2() {\n        MyClassWithSomeLogging myClassWithSomeLogging = new MyClassWithSomeLogging();\n        myClassWithSomeLogging.doStuff(false);\n\n        verify(mockLOG, times(1)).info(\"false\");\n    }\n\n    @AfterClass\n    public static void verifyStatic() {\n        verify(mockLOG, times(1)).info(\"true\");\n        verify(mockLOG, times(1)).info(\"false\");\n        verify(mockLOG, times(2)).info(anyString());\n    }\n}\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>If you have two tests with the same expectation I had to do the verify in the @AfterClass as the invocations on the static are stacked up - <code>verify(mockLOG, times(2)).info(\"true\");</code>  - rather than times(1) in each test as the second test would fail saying there where 2 invocation of this. This is pretty pants but I couldn't find a way to clear the invocations. I'd like to know if anyone can think of a way round this....</p>\n"},{"tags":[],"owner":{"account_id":5283935,"reputation":31,"user_id":4218472,"display_name":"Markus Wendl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415189210,"creation_date":1415189210,"answer_id":26756831,"question_id":8948916,"body_markdown":"I think you can reset the invocations using Mockito.reset(mockLog). You should call this before every test, so inside @Before would be a good place.","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>I think you can reset the invocations using Mockito.reset(mockLog). You should call this before every test, so inside @Before would be a good place.</p>\n"},{"tags":[],"owner":{"account_id":2312621,"reputation":177,"user_id":2030411,"display_name":"johnlon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448910528,"creation_date":1448910528,"answer_id":34006078,"question_id":8948916,"body_markdown":"Use explicit injection.\r\nNo other approach will allow you  for instance to run tests in parallel in the same JVM.\r\n\r\nPatterns that use anything classloader wide like static log binder or messing with environmental thinks like logback.XML are bust when it comes to testing.\r\n\r\nConsider the parallelized tests I mention , or consider the case where you want to intercept logging of component A whose construction is hidden behind api B. This latter case is easy to deal with if you are using a dependency injected loggerfactory from the top, but not if you inject Logger as there no seam in this assembly at ILoggerFactory.getLogger.\r\n\r\nAnd its not all about unit testing either. Sometimes we want integration tests to emit logging. Sometimes we don&#39;t. Someone&#39;s we want some of the integration testing logging to be selectively suppressed, eg for expected errors that would otherwise clutter the CI console and confuse. All easy if you inject ILoggerFactory from the top of your mainline (or whatever di framework you might use)\r\n\r\n\r\nSo...\r\n\r\nEither inject a reporter as suggested or adopt a pattern of injecting the ILoggerFactory. By explicit  ILoggerFactory injection rather than Logger you can support many access/intercept patterns and parallelization. \r\n\r\n\r\n\r\n","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>Use explicit injection.\nNo other approach will allow you  for instance to run tests in parallel in the same JVM.</p>\n\n<p>Patterns that use anything classloader wide like static log binder or messing with environmental thinks like logback.XML are bust when it comes to testing.</p>\n\n<p>Consider the parallelized tests I mention , or consider the case where you want to intercept logging of component A whose construction is hidden behind api B. This latter case is easy to deal with if you are using a dependency injected loggerfactory from the top, but not if you inject Logger as there no seam in this assembly at ILoggerFactory.getLogger.</p>\n\n<p>And its not all about unit testing either. Sometimes we want integration tests to emit logging. Sometimes we don't. Someone's we want some of the integration testing logging to be selectively suppressed, eg for expected errors that would otherwise clutter the CI console and confuse. All easy if you inject ILoggerFactory from the top of your mainline (or whatever di framework you might use)</p>\n\n<p>So...</p>\n\n<p>Either inject a reporter as suggested or adopt a pattern of injecting the ILoggerFactory. By explicit  ILoggerFactory injection rather than Logger you can support many access/intercept patterns and parallelization. </p>\n"},{"comments":[{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":0,"creation_date":1633698915,"post_id":65824134,"comment_id":122836141,"body_markdown":"This makes no sense. Why would you need to mock the static method if you overwrite the return value of it.","body":"This makes no sense. Why would you need to mock the static method if you overwrite the return value of it."}],"tags":[],"owner":{"account_id":4483663,"reputation":12326,"user_id":3647002,"accept_rate":47,"display_name":"Gayan Weerakutti"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1611219932,"creation_date":1611219932,"answer_id":65824134,"question_id":8948916,"body_markdown":"The following is a test class that mocks private static final Logger named `log` in class `LogUtil`.\r\n\r\nIn addition to mocking the `getLogger` factory call, it is necessary to explicitly set the field using reflection, in `@BeforeClass`\r\n\r\n```\r\npublic class LogUtilTest {\r\n\r\n    private static Logger logger;\r\n\r\n    private static MockedStatic&lt;LoggerFactory&gt; loggerFactoryMockedStatic;\r\n\r\n    /**\r\n     * Since {@link LogUtil#log} being a static final variable it is only initialized once at the class load time\r\n     * So assertions are also performed against the same mock {@link LogUtilTest#logger}\r\n     */\r\n    @BeforeClass\r\n    public static void beforeClass() {\r\n        logger = mock(Logger.class);\r\n        loggerFactoryMockedStatic = mockStatic(LoggerFactory.class);\r\n        loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(anyString())).thenReturn(logger);\r\n        Whitebox.setInternalState(LogUtil.class, &quot;log&quot;, logger);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void after() {\r\n        loggerFactoryMockedStatic.close();\r\n    }\r\n} \r\n```\r\n","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>The following is a test class that mocks private static final Logger named <code>log</code> in class <code>LogUtil</code>.</p>\n<p>In addition to mocking the <code>getLogger</code> factory call, it is necessary to explicitly set the field using reflection, in <code>@BeforeClass</code></p>\n<pre><code>public class LogUtilTest {\n\n    private static Logger logger;\n\n    private static MockedStatic&lt;LoggerFactory&gt; loggerFactoryMockedStatic;\n\n    /**\n     * Since {@link LogUtil#log} being a static final variable it is only initialized once at the class load time\n     * So assertions are also performed against the same mock {@link LogUtilTest#logger}\n     */\n    @BeforeClass\n    public static void beforeClass() {\n        logger = mock(Logger.class);\n        loggerFactoryMockedStatic = mockStatic(LoggerFactory.class);\n        loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(anyString())).thenReturn(logger);\n        Whitebox.setInternalState(LogUtil.class, &quot;log&quot;, logger);\n    }\n\n    @AfterClass\n    public static void after() {\n        loggerFactoryMockedStatic.close();\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3178228,"reputation":4984,"user_id":2685581,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1623341630,"creation_date":1623341630,"answer_id":67924913,"question_id":8948916,"body_markdown":"    class SomeService{\r\n      private static final Logger logger = LogManager.getLogger(SomeService.class);\r\n\r\n      public void callSomeMethod(){\r\n       ...\r\n       ...\r\n       if (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(String.format(&quot;some message .....&quot;));\r\n\t\t}\r\n      }\r\n\r\n    }\r\n\r\n**JUNIT Test Coverages -** \r\n\r\n    import java.io.IOException;\r\n     \r\n    import org.apache.logging.log4j.core.Appender;\r\n    import org.apache.logging.log4j.core.LogEvent;\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.Mock;\r\n    import org.mockito.runners.MockitoJUnitRunner;\r\n     \r\n    import static org.junit.Assert.*;\r\n    import static org.mockito.Mockito.*;\r\n     \r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SomeServiceTest {\r\n      @Mock\r\n      private Appender mockAppender;\r\n     \r\n      private Logger logger;\r\n     \r\n      @Before\r\n      public void setup() {\r\n        when(mockAppender.getName()).thenReturn(&quot;MockAppender&quot;);\r\n        when(mockAppender.isStarted()).thenReturn(true);\r\n        when(mockAppender.isStopped()).thenReturn(false);\r\n     \r\n        logger = (Logger)LogManager.getLogger(SomeService.class);\r\n        logger.addAppender(mockAppender);\r\n        logger.setLevel(Level.DEBUG);\r\n      }\r\n     \r\n      \r\n     \r\n      @Test\r\n      public void callSomeMethodTest() {\r\n        //write test cases, logger.isDebugEnabled() will call.\r\n      }\r\n     \r\n    }","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<pre><code>class SomeService{\n  private static final Logger logger = LogManager.getLogger(SomeService.class);\n\n  public void callSomeMethod(){\n   ...\n   ...\n   if (logger.isDebugEnabled()) {\n        logger.debug(String.format(&quot;some message .....&quot;));\n    }\n  }\n\n}\n</code></pre>\n<p><strong>JUNIT Test Coverages -</strong></p>\n<pre><code>import java.io.IOException;\n \nimport org.apache.logging.log4j.core.Appender;\nimport org.apache.logging.log4j.core.LogEvent;\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.Logger;\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.Mock;\nimport org.mockito.runners.MockitoJUnitRunner;\n \nimport static org.junit.Assert.*;\nimport static org.mockito.Mockito.*;\n \n\n@RunWith(MockitoJUnitRunner.class)\npublic class SomeServiceTest {\n  @Mock\n  private Appender mockAppender;\n \n  private Logger logger;\n \n  @Before\n  public void setup() {\n    when(mockAppender.getName()).thenReturn(&quot;MockAppender&quot;);\n    when(mockAppender.isStarted()).thenReturn(true);\n    when(mockAppender.isStopped()).thenReturn(false);\n \n    logger = (Logger)LogManager.getLogger(SomeService.class);\n    logger.addAppender(mockAppender);\n    logger.setLevel(Level.DEBUG);\n  }\n \n  \n \n  @Test\n  public void callSomeMethodTest() {\n    //write test cases, logger.isDebugEnabled() will call.\n  }\n \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056089,"reputation":10271,"user_id":3457177,"accept_rate":78,"display_name":"Vitalii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631271635,"creation_date":1631271635,"answer_id":69131218,"question_id":8948916,"body_markdown":"I&#39;ve got it working without `PowerMock` with `Mockito` only for one test. When I have two tests with `verify`, the second started to fail with `no interactions with this mock` when I run all tests in the class. Separately both tests worked.\r\n\r\nAfter some experiments it worked for me only when I make my mock logger `static`.\r\n\r\n```java\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MyTest {\r\n    private static MockedStatic&lt;LoggerFactory&gt; loggerFactoryMockedStatic;\r\n    private static final Logger logger = mock(Logger.class);\r\n    \r\n    @BeforeClass\r\n    public static void beforeAll() {\r\n        loggerFactoryMockedStatic = mockStatic(LoggerFactory.class);\r\n        loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(MyServiceUnderTest.class))\r\n                .thenReturn(logger);\r\n    }\r\n\r\n    @AfterClass\r\n    public static void afterAll() {\r\n        loggerFactoryMockedStatic.close();\r\n    }\r\n\r\n\r\n    @Before\r\n    public void init() {\r\n        Mockito.reset(logger); // important as it&#39;s static\r\n        // ...\r\n\r\n    @Test\r\n    public void myTest() throws Exception {\r\n        // ...\r\n        verifyNoInteractions(logger);\r\n    }\r\n}\r\n```","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>I've got it working without <code>PowerMock</code> with <code>Mockito</code> only for one test. When I have two tests with <code>verify</code>, the second started to fail with <code>no interactions with this mock</code> when I run all tests in the class. Separately both tests worked.</p>\n<p>After some experiments it worked for me only when I make my mock logger <code>static</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(MockitoJUnitRunner.class)\npublic class MyTest {\n    private static MockedStatic&lt;LoggerFactory&gt; loggerFactoryMockedStatic;\n    private static final Logger logger = mock(Logger.class);\n    \n    @BeforeClass\n    public static void beforeAll() {\n        loggerFactoryMockedStatic = mockStatic(LoggerFactory.class);\n        loggerFactoryMockedStatic.when(() -&gt; LoggerFactory.getLogger(MyServiceUnderTest.class))\n                .thenReturn(logger);\n    }\n\n    @AfterClass\n    public static void afterAll() {\n        loggerFactoryMockedStatic.close();\n    }\n\n\n    @Before\n    public void init() {\n        Mockito.reset(logger); // important as it's static\n        // ...\n\n    @Test\n    public void myTest() throws Exception {\n        // ...\n        verifyNoInteractions(logger);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6910880,"reputation":504,"user_id":9578492,"display_name":"Yaroslav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690504807,"creation_date":1690504807,"answer_id":76784216,"question_id":8948916,"body_markdown":"Easy solution using Whitebox :\r\n\r\n    @Test\r\n    void getMessage() {\r\n        Whitebox.setInternalState(AeAuthTokenOidcMapper.class, &quot;logger&quot;, logger);\r\n        when(logger.isDebugEnabled()).thenReturn(true);\r\n\r\n        String mes = sut.getMessage();\r\n\r\n        assertEquals(&quot;hi&quot;, mes);\r\n        verify(logger).debug(&quot;message&quot;);\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NtUKZ.png","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>Easy solution using Whitebox :</p>\n<pre><code>@Test\nvoid getMessage() {\n    Whitebox.setInternalState(AeAuthTokenOidcMapper.class, &quot;logger&quot;, logger);\n    when(logger.isDebugEnabled()).thenReturn(true);\n\n    String mes = sut.getMessage();\n\n    assertEquals(&quot;hi&quot;, mes);\n    verify(logger).debug(&quot;message&quot;);\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NtUKZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NtUKZ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":124022,"reputation":2327,"user_id":318852,"accept_rate":66,"display_name":"Mick Knutson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174647,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"accepted_answer_id":9052915,"answer_count":9,"score":76,"last_activity_date":1690504807,"creation_date":1327100267,"question_id":8948916,"body_markdown":"I have the following Logger I want to mock out, but to validate log entries are getting called, not for the content.\r\n\r\n\tprivate static Logger logger = \r\n\t\t\tLoggerFactory.getLogger(GoodbyeController.class);\r\n\r\nI want to Mock ANY class that is used for LoggerFactory.getLogger() but I could not find out how to do that.\r\nThis is what I ended up with so far:\r\n\r\n\t@Before\r\n\tpublic void performBeforeEachTest() {\r\n\t\tPowerMockito.mockStatic(LoggerFactory.class);\r\n\t\twhen(LoggerFactory.getLogger(GoodbyeController.class)).\r\n\t\t\tthenReturn(loggerMock);\r\n\r\n\t\twhen(loggerMock.isDebugEnabled()).thenReturn(true);\r\n\t\tdoNothing().when(loggerMock).error(any(String.class));\r\n\r\n\t\t...\r\n\t}\r\n\r\nI would like to know:\r\n\r\n1. Can I Mock the static `LoggerFactory.getLogger()` to work for any class?\r\n2. I can only seem to run `when(loggerMock.isDebugEnabled()).thenReturn(true);` in the `@Before` and thus I cannot seem to change the characteristics per method. Is there a way around this?\r\n\r\n\r\n----------\r\n\r\n\r\n**Edit findings:**\r\n\r\n\r\nI thought I tried this already and it didnt work:\r\n\r\n     when(LoggerFactory.getLogger(any(Class.class))).thenReturn(loggerMock);\r\n\t \r\nBut thank you, as it did work.\r\n\r\nHowever I have tried countless variations to:\r\n\r\n    when(loggerMock.isDebugEnabled()).thenReturn(true);\r\n\r\nI cannot get the loggerMock to change its behavior outside of `@Before` but this only happens with Coburtura. With Clover, the coverage shows 100% but there is still an issue either way.\r\n\r\nI have this simple class:\r\n\r\n    public ExampleService{\r\n        private static final Logger logger =\r\n                LoggerFactory.getLogger(ExampleService.class);\r\n\t\t\r\n        public String getMessage() {\t\t\r\n\t\tif(logger.isDebugEnabled()){\r\n\t\t\tlogger.debug(&quot;isDebugEnabled&quot;);\r\n\t\t\tlogger.debug(&quot;isDebugEnabled&quot;);\r\n\t\t}\r\n\t\treturn &quot;Hello world!&quot;;\r\n        }\r\n        ...\r\n    }\r\n\t\r\nThen I have this test:\r\n\r\n\t\r\n\t@RunWith(PowerMockRunner.class)\r\n\t@PrepareForTest({LoggerFactory.class})\r\n\tpublic class ExampleServiceTests {\r\n\r\n\t\t@Mock\r\n\t\tprivate Logger loggerMock;\r\n\t\tprivate ExampleServiceservice = new ExampleService();\r\n\t\t\t\r\n\t\t@Before\r\n\t\tpublic void performBeforeEachTest() {\r\n\t\t\tPowerMockito.mockStatic(LoggerFactory.class);\r\n\t\t\twhen(LoggerFactory.getLogger(any(Class.class))).\r\n\t\t\t\tthenReturn(loggerMock);\r\n\t\t\t\t\r\n\t\t\t//PowerMockito.verifyStatic(); // fails\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void testIsDebugEnabled_True() throws Exception {\r\n\t\t\twhen(loggerMock.isDebugEnabled()).thenReturn(true);\r\n\t\t\tdoNothing().when(loggerMock).debug(any(String.class));\r\n\t\t\t\t\r\n\t\t\tassertThat(service.getMessage(), is(&quot;Hello null: 0&quot;));\r\n\t\t\t//verify(loggerMock, atLeast(1)).isDebugEnabled(); // fails\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void testIsDebugEnabled_False() throws Exception {\r\n\t\t\twhen(loggerMock.isDebugEnabled()).thenReturn(false);\r\n\t\t\tdoNothing().when(loggerMock).debug(any(String.class));\r\n\t\t\t\t\r\n\t\t\tassertThat(service.getMessage(), is(&quot;Hello null: 0&quot;));\r\n\t\t\t//verify(loggerMock, atLeast(1)).isDebugEnabled(); // fails\r\n\t\t}\r\n\t}\r\n\r\nIn clover I show 100% coverage of the `if(logger.isDebugEnabled()){` block.\r\nBut if I try to verify the `loggerMock`:\r\n\r\n\tverify(loggerMock, atLeast(1)).isDebugEnabled();\r\n\r\nI get zero interactions.\r\nI also tried `PowerMockito.verifyStatic()`; in `@Before` but that also has zero interactions.\r\n\r\nThis just seems strange that Cobertura shows the `if(logger.isDebugEnabled()){` as being not 100% complete, and Clover does, but both agree the verification fails.","title":"Mocking Logger and LoggerFactory with PowerMock and Mockito","body":"<p>I have the following Logger I want to mock out, but to validate log entries are getting called, not for the content.</p>\n\n<pre><code>private static Logger logger = \n        LoggerFactory.getLogger(GoodbyeController.class);\n</code></pre>\n\n<p>I want to Mock ANY class that is used for LoggerFactory.getLogger() but I could not find out how to do that.\nThis is what I ended up with so far:</p>\n\n<pre><code>@Before\npublic void performBeforeEachTest() {\n    PowerMockito.mockStatic(LoggerFactory.class);\n    when(LoggerFactory.getLogger(GoodbyeController.class)).\n        thenReturn(loggerMock);\n\n    when(loggerMock.isDebugEnabled()).thenReturn(true);\n    doNothing().when(loggerMock).error(any(String.class));\n\n    ...\n}\n</code></pre>\n\n<p>I would like to know:</p>\n\n<ol>\n<li>Can I Mock the static <code>LoggerFactory.getLogger()</code> to work for any class?</li>\n<li>I can only seem to run <code>when(loggerMock.isDebugEnabled()).thenReturn(true);</code> in the <code>@Before</code> and thus I cannot seem to change the characteristics per method. Is there a way around this?</li>\n</ol>\n\n<hr>\n\n<p><strong>Edit findings:</strong></p>\n\n<p>I thought I tried this already and it didnt work:</p>\n\n<pre><code> when(LoggerFactory.getLogger(any(Class.class))).thenReturn(loggerMock);\n</code></pre>\n\n<p>But thank you, as it did work.</p>\n\n<p>However I have tried countless variations to:</p>\n\n<pre><code>when(loggerMock.isDebugEnabled()).thenReturn(true);\n</code></pre>\n\n<p>I cannot get the loggerMock to change its behavior outside of <code>@Before</code> but this only happens with Coburtura. With Clover, the coverage shows 100% but there is still an issue either way.</p>\n\n<p>I have this simple class:</p>\n\n<pre><code>public ExampleService{\n    private static final Logger logger =\n            LoggerFactory.getLogger(ExampleService.class);\n\n    public String getMessage() {        \n    if(logger.isDebugEnabled()){\n        logger.debug(\"isDebugEnabled\");\n        logger.debug(\"isDebugEnabled\");\n    }\n    return \"Hello world!\";\n    }\n    ...\n}\n</code></pre>\n\n<p>Then I have this test:</p>\n\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({LoggerFactory.class})\npublic class ExampleServiceTests {\n\n    @Mock\n    private Logger loggerMock;\n    private ExampleServiceservice = new ExampleService();\n\n    @Before\n    public void performBeforeEachTest() {\n        PowerMockito.mockStatic(LoggerFactory.class);\n        when(LoggerFactory.getLogger(any(Class.class))).\n            thenReturn(loggerMock);\n\n        //PowerMockito.verifyStatic(); // fails\n    }\n\n    @Test\n    public void testIsDebugEnabled_True() throws Exception {\n        when(loggerMock.isDebugEnabled()).thenReturn(true);\n        doNothing().when(loggerMock).debug(any(String.class));\n\n        assertThat(service.getMessage(), is(\"Hello null: 0\"));\n        //verify(loggerMock, atLeast(1)).isDebugEnabled(); // fails\n    }\n\n    @Test\n    public void testIsDebugEnabled_False() throws Exception {\n        when(loggerMock.isDebugEnabled()).thenReturn(false);\n        doNothing().when(loggerMock).debug(any(String.class));\n\n        assertThat(service.getMessage(), is(\"Hello null: 0\"));\n        //verify(loggerMock, atLeast(1)).isDebugEnabled(); // fails\n    }\n}\n</code></pre>\n\n<p>In clover I show 100% coverage of the <code>if(logger.isDebugEnabled()){</code> block.\nBut if I try to verify the <code>loggerMock</code>:</p>\n\n<pre><code>verify(loggerMock, atLeast(1)).isDebugEnabled();\n</code></pre>\n\n<p>I get zero interactions.\nI also tried <code>PowerMockito.verifyStatic()</code>; in <code>@Before</code> but that also has zero interactions.</p>\n\n<p>This just seems strange that Cobertura shows the <code>if(logger.isDebugEnabled()){</code> as being not 100% complete, and Clover does, but both agree the verification fails.</p>\n"},{"tags":["java","jvm","jvm-arguments","system-properties","giraph"],"answers":[{"comments":[{"owner":{"account_id":23360219,"reputation":43,"user_id":17432580,"display_name":"Utkarsh Roy"},"score":0,"creation_date":1690503466,"post_id":76784127,"comment_id":135366770,"body_markdown":"Thanks for the answer. In giraph, there are only a set number of configuration args that can be used in Giraph. [Here&#39;s](https://apache.googlesource.com/giraph/+/ba8ea976bec6fcfee1630acd2cb238a688e33b71/giraph-core/src/main/java/org/apache/giraph/utils/ConfigurationUtils.java#181) the method to parseArgs and populateGiraphConfiguration is used to read the configs. `-ca` stands for custom arguments","body":"Thanks for the answer. In giraph, there are only a set number of configuration args that can be used in Giraph. <a href=\"https://apache.googlesource.com/giraph/+/ba8ea976bec6fcfee1630acd2cb238a688e33b71/giraph-core/src/main/java/org/apache/giraph/utils/ConfigurationUtils.java#181\" rel=\"nofollow noreferrer\">Here&#39;s</a> the method to parseArgs and populateGiraphConfiguration is used to read the configs. <code>-ca</code> stands for custom arguments"}],"tags":[],"owner":{"account_id":29051246,"reputation":1,"user_id":22254024,"display_name":"Augusto Cesar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690503014,"creation_date":1690503014,"answer_id":76784127,"question_id":76784109,"body_markdown":"It looks like the -ca option in Giraph is designed to accept key-value pairs separated by =, rather than a list of JVM arguments.\r\n\r\nTo set multiple JVM flags, you may need to pass them in directly through the JVM launch arguments rather than via -ca. For example:\r\n\r\n\r\nhadoop jar lib/giraph_2.12.jar org.apache.giraph.GiraphRunner \\\r\n  -Dmapreduce.map.java.opts=&quot;-Xmx30456m -Dzookeeper.client.secure=true -Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty&quot;\r\nThe -Dmapreduce.map.java.opts allows you to specify multiple JVM arguments together.\r\n\r\nAnother option is to set the JVM options in your Hadoop config (mapred-site.xml, etc) rather than passing them directly each time.\r\n\r\nSo in summary:\r\n\r\n-ca is for key-value pairs, not multiple JVM args\r\nPass JVM args directly through -Dmapreduce.map.java.opts\r\nOr set them in Hadoop config for reuse\r\nLet me know if this helps explain how to set multiple JVM options for your Giraph job!","title":"Set JVM flags in an Apache Giraph job","body":"<p>It looks like the -ca option in Giraph is designed to accept key-value pairs separated by =, rather than a list of JVM arguments.</p>\n<p>To set multiple JVM flags, you may need to pass them in directly through the JVM launch arguments rather than via -ca. For example:</p>\n<p>hadoop jar lib/giraph_2.12.jar org.apache.giraph.GiraphRunner <br />\n-Dmapreduce.map.java.opts=&quot;-Xmx30456m -Dzookeeper.client.secure=true -Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty&quot;\nThe -Dmapreduce.map.java.opts allows you to specify multiple JVM arguments together.</p>\n<p>Another option is to set the JVM options in your Hadoop config (mapred-site.xml, etc) rather than passing them directly each time.</p>\n<p>So in summary:</p>\n<p>-ca is for key-value pairs, not multiple JVM args\nPass JVM args directly through -Dmapreduce.map.java.opts\nOr set them in Hadoop config for reuse\nLet me know if this helps explain how to set multiple JVM options for your Giraph job!</p>\n"}],"owner":{"account_id":23360219,"reputation":43,"user_id":17432580,"display_name":"Utkarsh Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690503014,"creation_date":1690502718,"question_id":76784109,"body_markdown":"I am running an Apache Giraph job which ultimately runs a Hadoop MapReduce job. The job is run by calling a `hadoop jar lib/giraph_2.12.jar org.apache.giraph.GiraphRunner` command\r\n\r\nI&#39;m trying to set a few JVM flags/System properties using the `-ca` flag which looks like this\r\n\r\n`&quot;-ca mapreduce.map.java.opts=\\&quot;-Xmx30456m -Dzookeeper.client.secure=true -Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty\\&quot;&quot;`\r\n\r\nbut looks like its not possible to set these configs like this. Here&#39;s the code to read the `-ca` configs in the `GiraphConfiguration` class\r\n\r\n```\r\n      if (cmd.hasOption(&quot;ca&quot;)) {\r\n        String[] var11 = cmd.getOptionValues(&quot;ca&quot;);\r\n        int var5 = var11.length;\r\n\r\n        for(int var6 = 0; var6 &lt; var5; ++var6) {\r\n          String caOptionValue = var11[var6];\r\n\r\n          String[] parts;\r\n          for(Iterator var8 = Splitter.on(&#39;,&#39;).split(caOptionValue).iterator(); var8.hasNext(); conf.set(parts[0], parts[1])) {\r\n            String paramValue = (String)var8.next();\r\n            parts = (String[])Iterables.toArray(Splitter.on(&#39;=&#39;).split(paramValue), String.class);\r\n            if (parts.length != 2) {\r\n              throw new IllegalArgumentException(&quot;Unable to parse custom  argument: &quot; + paramValue);\r\n            }\r\n\r\n            if (LOG.isInfoEnabled()) {\r\n              LOG.info(&quot;Setting custom argument [&quot; + parts[0] + &quot;] to [&quot; + parts[1] + &quot;] in GiraphConfiguration&quot;);\r\n            }\r\n          }\r\n        }\r\n      }\r\n```\r\n\r\nI&#39;ve been setting the java.opts memory in my job but does anyone know how to set multiple flags ","title":"Set JVM flags in an Apache Giraph job","body":"<p>I am running an Apache Giraph job which ultimately runs a Hadoop MapReduce job. The job is run by calling a <code>hadoop jar lib/giraph_2.12.jar org.apache.giraph.GiraphRunner</code> command</p>\n<p>I'm trying to set a few JVM flags/System properties using the <code>-ca</code> flag which looks like this</p>\n<p><code>&quot;-ca mapreduce.map.java.opts=\\&quot;-Xmx30456m -Dzookeeper.client.secure=true -Dzookeeper.clientCnxnSocket=org.apache.zookeeper.ClientCnxnSocketNetty\\&quot;&quot;</code></p>\n<p>but looks like its not possible to set these configs like this. Here's the code to read the <code>-ca</code> configs in the <code>GiraphConfiguration</code> class</p>\n<pre><code>      if (cmd.hasOption(&quot;ca&quot;)) {\n        String[] var11 = cmd.getOptionValues(&quot;ca&quot;);\n        int var5 = var11.length;\n\n        for(int var6 = 0; var6 &lt; var5; ++var6) {\n          String caOptionValue = var11[var6];\n\n          String[] parts;\n          for(Iterator var8 = Splitter.on(',').split(caOptionValue).iterator(); var8.hasNext(); conf.set(parts[0], parts[1])) {\n            String paramValue = (String)var8.next();\n            parts = (String[])Iterables.toArray(Splitter.on('=').split(paramValue), String.class);\n            if (parts.length != 2) {\n              throw new IllegalArgumentException(&quot;Unable to parse custom  argument: &quot; + paramValue);\n            }\n\n            if (LOG.isInfoEnabled()) {\n              LOG.info(&quot;Setting custom argument [&quot; + parts[0] + &quot;] to [&quot; + parts[1] + &quot;] in GiraphConfiguration&quot;);\n            }\n          }\n        }\n      }\n</code></pre>\n<p>I've been setting the java.opts memory in my job but does anyone know how to set multiple flags</p>\n"},{"tags":["java","file","io","directory"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":10,"creation_date":1259898523,"post_id":1844688,"comment_id":1738283,"body_markdown":"I agree, point out the class to use so the poster can become familiar with the various method, otherwise the poster doesn&#39;t bother to read the API to find out what other methods are available.","body":"I agree, point out the class to use so the poster can become familiar with the various method, otherwise the poster doesn&#39;t bother to read the API to find out what other methods are available."},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":6,"creation_date":1259901377,"post_id":1844688,"comment_id":1738457,"body_markdown":"Did you mean all files in a folder, or all files in a folder and all subfolders?","body":"Did you mean all files in a folder, or all files in a folder and all subfolders?"},{"owner":{"account_id":4121,"reputation":2737,"user_id":6101,"accept_rate":90,"display_name":"Tom Duckering"},"score":3,"creation_date":1398615047,"post_id":1844688,"comment_id":35715040,"body_markdown":"An up to date link to the API: http://docs.oracle.com/javase/7/docs/api/java/io/File.html","body":"An up to date link to the API: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/File.html</a>"},{"owner":{"account_id":1129042,"reputation":48154,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"score":2,"creation_date":1400782116,"post_id":1844688,"comment_id":36635160,"body_markdown":"If you are using Java 7 or newer you can use `Files.walkFileTree`, see http://stackoverflow.com/a/23814217/1115554","body":"If you are using Java 7 or newer you can use <code>Files.walkFileTree</code>, see <a href=\"http://stackoverflow.com/a/23814217/1115554\">stackoverflow.com/a/23814217/1115554</a>"}],"answers":[{"comments":[{"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"score":2,"creation_date":1259921844,"post_id":1844695,"comment_id":1739724,"body_markdown":"I think this will print the directory names, and no filenames","body":"I think this will print the directory names, and no filenames"},{"owner":{"account_id":9310484,"reputation":335,"user_id":6912508,"accept_rate":67,"display_name":"sam1370"},"score":1,"creation_date":1531532253,"post_id":1844695,"comment_id":89644328,"body_markdown":"By far easier to understand than accepted answer. +1.","body":"By far easier to understand than accepted answer. +1."},{"owner":{"account_id":7407971,"reputation":2389,"user_id":5636313,"accept_rate":76,"display_name":"Farid"},"score":2,"creation_date":1613027533,"post_id":1844695,"comment_id":116950349,"body_markdown":"@sam1370 Because this doesn&#39;t read all files in the directory, it only gets the files directly inside the given directory. If the given directory itself contains other directories, their content won&#39;t be read","body":"@sam1370 Because this doesn&#39;t read all files in the directory, it only gets the files directly inside the given directory. If the given directory itself contains other directories, their content won&#39;t be read"}],"tags":[],"owner":{"account_id":59883,"reputation":9527,"user_id":179057,"accept_rate":100,"display_name":"David Robles"},"comment_count":3,"down_vote_count":2,"up_vote_count":220,"is_accepted":false,"score":218,"last_activity_date":1355730066,"creation_date":1259898110,"answer_id":1844695,"question_id":1844688,"body_markdown":"    File folder = new File(&quot;/Users/you/folder/&quot;);\r\n    File[] listOfFiles = folder.listFiles();\r\n\r\n    for (File file : listOfFiles) {\r\n        if (file.isFile()) {\r\n            System.out.println(file.getName());\r\n        }\r\n    }","title":"How to read all files in a folder from Java?","body":"<pre><code>File folder = new File(\"/Users/you/folder/\");\nFile[] listOfFiles = folder.listFiles();\n\nfor (File file : listOfFiles) {\n    if (file.isFile()) {\n        System.out.println(file.getName());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":410347,"reputation":511,"user_id":782129,"accept_rate":50,"display_name":"Tim Parenti"},"score":13,"creation_date":1379928959,"post_id":1846349,"comment_id":27994895,"body_markdown":"`getName()` will only give the name of the file in its directory, which could be a subdirectory of the original. If you plan to use this information to find the files, you may find the path given by `getPath()` to be more useful.","body":"<code>getName()</code> will only give the name of the file in its directory, which could be a subdirectory of the original. If you plan to use this information to find the files, you may find the path given by <code>getPath()</code> to be more useful."},{"owner":{"account_id":2449749,"reputation":1310,"user_id":2136312,"accept_rate":87,"display_name":"Nitin Labhishetty"},"score":4,"creation_date":1394465303,"post_id":1846349,"comment_id":33889610,"body_markdown":"Can I use this method to find all files of a specific type say pdf or html across my whole system? My concern is efficiency, is it fast enough to be used for systems with thousands of files or is there a better alternative?","body":"Can I use this method to find all files of a specific type say pdf or html across my whole system? My concern is efficiency, is it fast enough to be used for systems with thousands of files or is there a better alternative?"},{"owner":{"account_id":1002291,"reputation":2383,"user_id":1016891,"accept_rate":100,"display_name":"tom_mai78101"},"score":0,"creation_date":1397529609,"post_id":1846349,"comment_id":35262779,"body_markdown":"@codeln As of Java 8, the performance is very acceptable, you don&#39;t notice anything laggy about it. It&#39;s fast, efficient, and readable enough to get your job done.","body":"@codeln As of Java 8, the performance is very acceptable, you don&#39;t notice anything laggy about it. It&#39;s fast, efficient, and readable enough to get your job done."},{"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"score":22,"creation_date":1412597406,"post_id":1846349,"comment_id":41113509,"body_markdown":"In Java 8 you can also make use of the `filter` method. Then forEach is not longer needed. See here -&gt; http://stackoverflow.com/a/26215931/1029251","body":"In Java 8 you can also make use of the <code>filter</code> method. Then forEach is not longer needed. See here -&gt; <a href=\"http://stackoverflow.com/a/26215931/1029251\">stackoverflow.com/a/26215931/1029251</a>"},{"owner":{"account_id":3124743,"reputation":1389,"user_id":2643828,"accept_rate":80,"display_name":"Zeimyth"},"score":0,"creation_date":1417907590,"post_id":1846349,"comment_id":43131865,"body_markdown":"What is the purpose of declaring the File objects final?","body":"What is the purpose of declaring the File objects final?"},{"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"score":3,"creation_date":1417942472,"post_id":1846349,"comment_id":43138052,"body_markdown":"Just to indicate it&#39;s only initialised once.","body":"Just to indicate it&#39;s only initialised once."},{"owner":{"account_id":7205310,"reputation":1031,"user_id":5501124,"accept_rate":67,"display_name":"Nick Constantine"},"score":0,"creation_date":1543780836,"post_id":1846349,"comment_id":94031616,"body_markdown":"Let&#39;s not forget the import here for those who get a NoClassDefFoundError on the File object. import java.io.File;","body":"Let&#39;s not forget the import here for those who get a NoClassDefFoundError on the File object. import java.io.File;"},{"owner":{"account_id":4567941,"reputation":500,"user_id":3708472,"display_name":"Peter S."},"score":0,"creation_date":1569497378,"post_id":1846349,"comment_id":102620789,"body_markdown":"I would only mention simple detail regarding to Files.walk() throws IOException, so the bottom example should contain the catch clause.","body":"I would only mention simple detail regarding to Files.walk() throws IOException, so the bottom example should contain the catch clause."}],"tags":[],"owner":{"account_id":60400,"reputation":19147,"user_id":180416,"accept_rate":63,"display_name":"rich"},"comment_count":8,"down_vote_count":1,"up_vote_count":1138,"is_accepted":true,"score":1137,"last_activity_date":1495482894,"creation_date":1259925666,"answer_id":1846349,"question_id":1844688,"body_markdown":"    public void listFilesForFolder(final File folder) {\r\n        for (final File fileEntry : folder.listFiles()) {\r\n            if (fileEntry.isDirectory()) {\r\n                listFilesForFolder(fileEntry);\r\n            } else {\r\n                System.out.println(fileEntry.getName());\r\n            }\r\n        }\r\n    }\r\n    \r\n    final File folder = new File(&quot;/home/you/Desktop&quot;);\r\n    listFilesForFolder(folder);\r\n\r\n[Files.walk][1] API is available from Java 8.\r\n\r\n    try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(&quot;/home/you/Desktop&quot;))) {\r\n        paths\r\n            .filter(Files::isRegularFile)\r\n            .forEach(System.out::println);\r\n    } \r\n\r\nThe example uses [try-with-resources][2] pattern recommended in API guide. It ensures that no matter circumstances the stream will be closed.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to read all files in a folder from Java?","body":"<pre><code>public void listFilesForFolder(final File folder) {\n    for (final File fileEntry : folder.listFiles()) {\n        if (fileEntry.isDirectory()) {\n            listFilesForFolder(fileEntry);\n        } else {\n            System.out.println(fileEntry.getName());\n        }\n    }\n}\n\nfinal File folder = new File(\"/home/you/Desktop\");\nlistFilesForFolder(folder);\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"noreferrer\">Files.walk</a> API is available from Java 8.</p>\n\n<pre><code>try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(\"/home/you/Desktop\"))) {\n    paths\n        .filter(Files::isRegularFile)\n        .forEach(System.out::println);\n} \n</code></pre>\n\n<p>The example uses <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> pattern recommended in API guide. It ensures that no matter circumstances the stream will be closed.</p>\n"},{"comments":[{"owner":{"account_id":89210,"reputation":37428,"user_id":246263,"accept_rate":73,"display_name":"Veger"},"score":1,"creation_date":1329732492,"post_id":5632895,"comment_id":11817270,"body_markdown":"You might want to add an explanation what you are trying to achieve, instead of only showing code. Furthermore, `myarray=new File[10];` is not required, as it will be overwritten by the next line!","body":"You might want to add an explanation what you are trying to achieve, instead of only showing code. Furthermore, <code>myarray=new File[10];</code> is not required, as it will be overwritten by the next line!"}],"tags":[],"owner":{"account_id":736108,"reputation":49,"user_id":703712,"display_name":"sailakshmi Duggirala"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1302675334,"creation_date":1302599640,"answer_id":5632895,"question_id":1844688,"body_markdown":"    File directory = new File(&quot;/user/folder&quot;);  \t\r\n    File[] myarray;  \r\n    myarray=new File[10];\r\n    myarray=directory.listFiles();\r\n    for (int j = 0; j &lt; myarray.length; j++)\r\n    {\r\n    \t   File path=myarray[j];\r\n           FileReader fr = new FileReader(path);\r\n           BufferedReader br = new BufferedReader(fr);\r\n           String s = &quot;&quot;;\r\n           while (br.ready()) {\r\n              s += br.readLine() + &quot;\\n&quot;;\r\n           }\r\n    }","title":"How to read all files in a folder from Java?","body":"<pre><code>File directory = new File(\"/user/folder\");      \nFile[] myarray;  \nmyarray=new File[10];\nmyarray=directory.listFiles();\nfor (int j = 0; j &lt; myarray.length; j++)\n{\n       File path=myarray[j];\n       FileReader fr = new FileReader(path);\n       BufferedReader br = new BufferedReader(fr);\n       String s = \"\";\n       while (br.ready()) {\n          s += br.readLine() + \"\\n\";\n       }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":35417,"reputation":1065761,"user_id":100297,"display_name":"Martijn Pieters"},"score":7,"creation_date":1353686530,"post_id":13532147,"comment_id":18528821,"body_markdown":"Welcome to Stack Overflow! Rather than only post a block of code, please *explain* why this code solves the problem posed. Without an explanation, this is not an answer.","body":"Welcome to Stack Overflow! Rather than only post a block of code, please <i>explain</i> why this code solves the problem posed. Without an explanation, this is not an answer."}],"tags":[],"owner":{"account_id":2074103,"reputation":131,"user_id":1847949,"display_name":"muthu krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1353687069,"creation_date":1353685391,"answer_id":13532147,"question_id":1844688,"body_markdown":"\r\n    import java.io.File;\r\n\r\n\r\n    public class ReadFilesFromFolder {\r\n      public static File folder = new File(&quot;C:/Documents and Settings/My Documents/Downloads&quot;);\r\n      static String temp = &quot;&quot;;\r\n\r\n      public static void main(String[] args) {\r\n        // TODO Auto-generated method stub\r\n        System.out.println(&quot;Reading files under the folder &quot;+ folder.getAbsolutePath());\r\n        listFilesForFolder(folder);\r\n      }\r\n\r\n      public static void listFilesForFolder(final File folder) {\r\n\r\n        for (final File fileEntry : folder.listFiles()) {\r\n          if (fileEntry.isDirectory()) {\r\n            // System.out.println(&quot;Reading files under the folder &quot;+folder.getAbsolutePath());\r\n            listFilesForFolder(fileEntry);\r\n          } else {\r\n            if (fileEntry.isFile()) {\r\n              temp = fileEntry.getName();\r\n              if ((temp.substring(temp.lastIndexOf(&#39;.&#39;) + 1, temp.length()).toLowerCase()).equals(&quot;txt&quot;))\r\n                System.out.println(&quot;File= &quot; + folder.getAbsolutePath()+ &quot;\\\\&quot; + fileEntry.getName());\r\n            }\r\n\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n","title":"How to read all files in a folder from Java?","body":"<pre><code>import java.io.File;\n\n\npublic class ReadFilesFromFolder {\n  public static File folder = new File(\"C:/Documents and Settings/My Documents/Downloads\");\n  static String temp = \"\";\n\n  public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.out.println(\"Reading files under the folder \"+ folder.getAbsolutePath());\n    listFilesForFolder(folder);\n  }\n\n  public static void listFilesForFolder(final File folder) {\n\n    for (final File fileEntry : folder.listFiles()) {\n      if (fileEntry.isDirectory()) {\n        // System.out.println(\"Reading files under the folder \"+folder.getAbsolutePath());\n        listFilesForFolder(fileEntry);\n      } else {\n        if (fileEntry.isFile()) {\n          temp = fileEntry.getName();\n          if ((temp.substring(temp.lastIndexOf('.') + 1, temp.length()).toLowerCase()).equals(\"txt\"))\n            System.out.println(\"File= \" + folder.getAbsolutePath()+ \"\\\\\" + fileEntry.getName());\n        }\n\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1776813,"reputation":735,"user_id":1620446,"display_name":"Abhilash Ranjan"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1356553998,"creation_date":1356547521,"answer_id":14044789,"question_id":1844688,"body_markdown":"    import java.io.File;\r\n\r\n\r\n    public class Test {\r\n\t\r\n\tpublic void test1() {\r\n\t\tSystem.out.println(&quot;TEST 1&quot;);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws SecurityException, ClassNotFoundException{\r\n\t\t\r\n\t\tFile actual = new File(&quot;src&quot;);\r\n\t\tFile list[] = actual.listFiles();\r\n\t\tfor(int i=0; i&lt;list.length; i++){\r\n\t\t\tString substring = list[i].getName().substring(0, list[i].getName().indexOf(&quot;.&quot;));\r\n\t\t\tif(list[i].isFile() &amp;&amp; list[i].getName().contains(&quot;.java&quot;)){\r\n\t\t\t\t\tif(Class.forName(substring).getMethods()[0].getName().contains(&quot;main&quot;)){\r\n\t\t\t\t\t\tSystem.out.println(&quot;CLASS NAME &quot;+Class.forName(substring).getName());\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t     }\r\n        }\r\n\r\n    }\r\n    }\r\n\r\nJust pass your folder it will tell you main class about the method.","title":"How to read all files in a folder from Java?","body":"<pre><code>import java.io.File;\n\n\npublic class Test {\n\npublic void test1() {\n    System.out.println(\"TEST 1\");\n}\n\npublic static void main(String[] args) throws SecurityException, ClassNotFoundException{\n\n    File actual = new File(\"src\");\n    File list[] = actual.listFiles();\n    for(int i=0; i&lt;list.length; i++){\n        String substring = list[i].getName().substring(0, list[i].getName().indexOf(\".\"));\n        if(list[i].isFile() &amp;&amp; list[i].getName().contains(\".java\")){\n                if(Class.forName(substring).getMethods()[0].getName().contains(\"main\")){\n                    System.out.println(\"CLASS NAME \"+Class.forName(substring).getName());\n                }\n\n         }\n    }\n\n}\n}\n</code></pre>\n\n<p>Just pass your folder it will tell you main class about the method.</p>\n"},{"tags":[],"owner":{"account_id":1464779,"reputation":441,"user_id":1377978,"accept_rate":45,"display_name":"heiningair"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1368177412,"creation_date":1368177412,"answer_id":16478884,"question_id":1844688,"body_markdown":"to prevent Nullpointerexceptions on the listFiles() function and recursivly get all files from subdirectories too..\r\n\r\n\r\n     public void listFilesForFolder(final File folder,List&lt;File&gt; fileList) {\r\n        File[] filesInFolder = folder.listFiles();\r\n        if (filesInFolder != null) {\r\n            for (final File fileEntry : filesInFolder) {\r\n                if (fileEntry.isDirectory()) {\r\n                listFilesForFolder(fileEntry,fileList);\r\n            } else {\r\n                fileList.add(fileEntry);\r\n            }\r\n         }\r\n        }\r\n     }\r\n\r\n     List&lt;File&gt; fileList = new List&lt;File&gt;();\r\n     final File folder = new File(&quot;/home/you/Desktop&quot;);\r\n     listFilesForFolder(folder);\r\n","title":"How to read all files in a folder from Java?","body":"<p>to prevent Nullpointerexceptions on the listFiles() function and recursivly get all files from subdirectories too..</p>\n\n<pre><code> public void listFilesForFolder(final File folder,List&lt;File&gt; fileList) {\n    File[] filesInFolder = folder.listFiles();\n    if (filesInFolder != null) {\n        for (final File fileEntry : filesInFolder) {\n            if (fileEntry.isDirectory()) {\n            listFilesForFolder(fileEntry,fileList);\n        } else {\n            fileList.add(fileEntry);\n        }\n     }\n    }\n }\n\n List&lt;File&gt; fileList = new List&lt;File&gt;();\n final File folder = new File(\"/home/you/Desktop\");\n listFilesForFolder(folder);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2770361,"reputation":196,"user_id":2385076,"display_name":"Adrien Hadj-Salah"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1368610208,"creation_date":1368610208,"answer_id":16561438,"question_id":1844688,"body_markdown":"If you want more options, you can use this function which aims to populate an arraylist of files present in a folder. Options are : recursivility and pattern to match.\r\n\r\n    public static ArrayList&lt;File&gt; listFilesForFolder(final File folder,\r\n            final boolean recursivity,\r\n            final String patternFileFilter) {\r\n\r\n        // Inputs\r\n        boolean filteredFile = false;\r\n\r\n        // Ouput\r\n        final ArrayList&lt;File&gt; output = new ArrayList&lt;File&gt; ();\r\n\r\n        // Foreach elements\r\n        for (final File fileEntry : folder.listFiles()) {\r\n\r\n            // If this element is a directory, do it recursivly\r\n            if (fileEntry.isDirectory()) {\r\n                if (recursivity) {\r\n                    output.addAll(listFilesForFolder(fileEntry, recursivity, patternFileFilter));\r\n                }\r\n            }\r\n            else {\r\n                // If there is no pattern, the file is correct\r\n                if (patternFileFilter.length() == 0) {\r\n                    filteredFile = true;\r\n                }\r\n                // Otherwise we need to filter by pattern\r\n                else {\r\n                    filteredFile = Pattern.matches(patternFileFilter, fileEntry.getName());\r\n                }\r\n\r\n                // If the file has a name which match with the pattern, then add it to the list\r\n                if (filteredFile) {\r\n                    output.add(fileEntry);\r\n                }\r\n            }\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\nBest, Adrien","title":"How to read all files in a folder from Java?","body":"<p>If you want more options, you can use this function which aims to populate an arraylist of files present in a folder. Options are : recursivility and pattern to match.</p>\n\n<pre><code>public static ArrayList&lt;File&gt; listFilesForFolder(final File folder,\n        final boolean recursivity,\n        final String patternFileFilter) {\n\n    // Inputs\n    boolean filteredFile = false;\n\n    // Ouput\n    final ArrayList&lt;File&gt; output = new ArrayList&lt;File&gt; ();\n\n    // Foreach elements\n    for (final File fileEntry : folder.listFiles()) {\n\n        // If this element is a directory, do it recursivly\n        if (fileEntry.isDirectory()) {\n            if (recursivity) {\n                output.addAll(listFilesForFolder(fileEntry, recursivity, patternFileFilter));\n            }\n        }\n        else {\n            // If there is no pattern, the file is correct\n            if (patternFileFilter.length() == 0) {\n                filteredFile = true;\n            }\n            // Otherwise we need to filter by pattern\n            else {\n                filteredFile = Pattern.matches(patternFileFilter, fileEntry.getName());\n            }\n\n            // If the file has a name which match with the pattern, then add it to the list\n            if (filteredFile) {\n                output.add(fileEntry);\n            }\n        }\n    }\n\n    return output;\n}\n</code></pre>\n\n<p>Best, Adrien</p>\n"},{"comments":[{"owner":{"account_id":1771854,"reputation":725,"user_id":1616486,"accept_rate":50,"display_name":"Sanket Thakkar"},"score":0,"creation_date":1404104819,"post_id":18054106,"comment_id":37897313,"body_markdown":"This is the solution for android read all files and folders from sdcard or internal storage.","body":"This is the solution for android read all files and folders from sdcard or internal storage."}],"tags":[],"owner":{"account_id":1771854,"reputation":725,"user_id":1616486,"accept_rate":50,"display_name":"Sanket Thakkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1474627894,"creation_date":1375692942,"answer_id":18054106,"question_id":1844688,"body_markdown":"    private static final String ROOT_FILE_PATH=&quot;/&quot;;\r\n    File f=new File(ROOT_FILE_PATH);\r\n    File[] allSubFiles=f.listFiles();\r\n    for (File file : allSubFiles) {\r\n        if(file.isDirectory())\r\n        {\r\n            System.out.println(file.getAbsolutePath()+&quot; is directory&quot;);\r\n            //Steps for directory\r\n        }\r\n        else\r\n        {\r\n            System.out.println(file.getAbsolutePath()+&quot; is file&quot;);\r\n            //steps for files\r\n        }\r\n    }","title":"How to read all files in a folder from Java?","body":"<pre><code>private static final String ROOT_FILE_PATH=\"/\";\nFile f=new File(ROOT_FILE_PATH);\nFile[] allSubFiles=f.listFiles();\nfor (File file : allSubFiles) {\n    if(file.isDirectory())\n    {\n        System.out.println(file.getAbsolutePath()+\" is directory\");\n        //Steps for directory\n    }\n    else\n    {\n        System.out.println(file.getAbsolutePath()+\" is file\");\n        //steps for files\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1510280453,"post_id":18276514,"comment_id":81378917,"body_markdown":"I&#39;m confused by the create filter example. What is newDirectoryStream.Filter&lt;Path&gt;. Can you show how that is declared?","body":"I&#39;m confused by the create filter example. What is newDirectoryStream.Filter&lt;Path&gt;. Can you show how that is declared?"},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1510280700,"post_id":18276514,"comment_id":81378968,"body_markdown":"I think i figured it out. its a copy and paste typo. there is a space between the &quot;new&quot; and the &quot;DirectoryStream.Filter...&quot;. If i&#39;m right recommend correcting your example.","body":"I think i figured it out. its a copy and paste typo. there is a space between the &quot;new&quot; and the &quot;DirectoryStream.Filter...&quot;. If i&#39;m right recommend correcting your example."}],"tags":[],"owner":{"account_id":207037,"reputation":4836,"user_id":456684,"accept_rate":100,"display_name":"Mark Spangler"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1591597642,"creation_date":1376665600,"answer_id":18276514,"question_id":1844688,"body_markdown":"In Java 7 and higher you can use [listdir](http://docs.oracle.com/javase/tutorial/essential/io/dirs.html#listdir)\r\n\r\n    Path dir = ...;\r\n    try (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir)) {\r\n        for (Path file: stream) {\r\n            System.out.println(file.getFileName());\r\n        }\r\n    } catch (IOException | DirectoryIteratorException x) {\r\n        // IOException can never be thrown by the iteration.\r\n        // In this snippet, it can only be thrown by newDirectoryStream.\r\n        System.err.println(x);\r\n    }\r\n\r\nYou can also create a filter that can then be passed into the `newDirectoryStream` method above\r\n\r\n    DirectoryStream.Filter&lt;Path&gt; filter = new DirectoryStream.Filter&lt;Path&gt;() {\r\n        public boolean accept(Path file) throws IOException {\r\n            try {\r\n                return (Files.isRegularFile(path));\r\n            } catch (IOException x) {\r\n                // Failed to determine if it&#39;s a file.\r\n                System.err.println(x);\r\n                return false;\r\n            }\r\n        }\r\n    };\r\n\r\nFor other filtering examples, [see documentation].(http://docs.oracle.com/javase/tutorial/essential/io/dirs.html#glob)","title":"How to read all files in a folder from Java?","body":"<p>In Java 7 and higher you can use <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/dirs.html#listdir\" rel=\"nofollow noreferrer\">listdir</a></p>\n\n<pre><code>Path dir = ...;\ntry (DirectoryStream&lt;Path&gt; stream = Files.newDirectoryStream(dir)) {\n    for (Path file: stream) {\n        System.out.println(file.getFileName());\n    }\n} catch (IOException | DirectoryIteratorException x) {\n    // IOException can never be thrown by the iteration.\n    // In this snippet, it can only be thrown by newDirectoryStream.\n    System.err.println(x);\n}\n</code></pre>\n\n<p>You can also create a filter that can then be passed into the <code>newDirectoryStream</code> method above</p>\n\n<pre><code>DirectoryStream.Filter&lt;Path&gt; filter = new DirectoryStream.Filter&lt;Path&gt;() {\n    public boolean accept(Path file) throws IOException {\n        try {\n            return (Files.isRegularFile(path));\n        } catch (IOException x) {\n            // Failed to determine if it's a file.\n            System.err.println(x);\n            return false;\n        }\n    }\n};\n</code></pre>\n\n<p>For other filtering examples, [see documentation].(<a href=\"http://docs.oracle.com/javase/tutorial/essential/io/dirs.html#glob\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/essential/io/dirs.html#glob</a>)</p>\n"},{"tags":[],"owner":{"account_id":3342756,"reputation":29,"user_id":2808634,"display_name":"Mukesh Jha"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1449676617,"creation_date":1380047705,"answer_id":18989390,"question_id":1844688,"body_markdown":"    package com;\r\n\r\n\r\n\timport java.io.File;\r\n\r\n\t/**\r\n\t *\r\n\t * @author ?Mukesh\r\n\t */\r\n\tpublic class ListFiles {\r\n\r\n\t     static File mainFolder = new File(&quot;D:\\\\Movies&quot;);\r\n\t     \r\n\t     public static void main(String[] args)\r\n\t     {\r\n\t         ListFiles lf = new ListFiles();\r\n\t         lf.getFiles(lf.mainFolder);\r\n\r\n\t\t     long fileSize = mainFolder.length();\r\n\t\t         System.out.println(&quot;mainFolder size in bytes is: &quot; + fileSize);\r\n\t\t         System.out.println(&quot;File size in KB is : &quot; + (double)fileSize/1024);\r\n\t\t         System.out.println(&quot;File size in MB is :&quot; + (double)fileSize/(1024*1024));\r\n\t     }\r\n\t     public void getFiles(File f){\r\n\t         File files[];\r\n\t         if(f.isFile())\r\n\t             System.out.println(f.getAbsolutePath());\r\n\t         else{\r\n\t             files = f.listFiles();\r\n\t             for (int i = 0; i &lt; files.length; i++) {\r\n\t                 getFiles(files[i]);\r\n\t             }\r\n\t         }\r\n\t     }\r\n\t}\r\n","title":"How to read all files in a folder from Java?","body":"<pre><code>package com;\n\n\nimport java.io.File;\n\n/**\n *\n * @author ?Mukesh\n */\npublic class ListFiles {\n\n     static File mainFolder = new File(\"D:\\\\Movies\");\n\n     public static void main(String[] args)\n     {\n         ListFiles lf = new ListFiles();\n         lf.getFiles(lf.mainFolder);\n\n         long fileSize = mainFolder.length();\n             System.out.println(\"mainFolder size in bytes is: \" + fileSize);\n             System.out.println(\"File size in KB is : \" + (double)fileSize/1024);\n             System.out.println(\"File size in MB is :\" + (double)fileSize/(1024*1024));\n     }\n     public void getFiles(File f){\n         File files[];\n         if(f.isFile())\n             System.out.println(f.getAbsolutePath());\n         else{\n             files = f.listFiles();\n             for (int i = 0; i &lt; files.length; i++) {\n                 getFiles(files[i]);\n             }\n         }\n     }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"score":0,"creation_date":1444680000,"post_id":20228234,"comment_id":53994615,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles%28%29\n\npublic File[] listFiles()\n\nReturns an array of abstract pathnames denoting the files in the directory denoted by this abstract pathname.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#listFiles%28%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>  public File[] listFiles()  Returns an array of abstract pathnames denoting the files in the directory denoted by this abstract pathname."}],"tags":[],"owner":{"account_id":49303,"reputation":4598,"user_id":146745,"accept_rate":71,"display_name":"andrej"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1385500910,"creation_date":1385500910,"answer_id":20228234,"question_id":1844688,"body_markdown":"nice usage of `java.io.FileFilter` as seen on https://stackoverflow.com/a/286001/146745\r\n\r\n\tFile fl = new File(dir);\r\n\tFile[] files = fl.listFiles(new FileFilter() {\t\t\t\r\n\t\tpublic boolean accept(File file) {\r\n\t\t\treturn file.isFile();\r\n\t\t}\r\n\t});\r\n","title":"How to read all files in a folder from Java?","body":"<p>nice usage of <code>java.io.FileFilter</code> as seen on <a href=\"https://stackoverflow.com/a/286001/146745\">https://stackoverflow.com/a/286001/146745</a></p>\n\n<pre><code>File fl = new File(dir);\nFile[] files = fl.listFiles(new FileFilter() {          \n    public boolean accept(File file) {\n        return file.isFile();\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3765024,"reputation":31,"user_id":3128754,"display_name":"Santosh Rathod"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387783411,"creation_date":1387782316,"answer_id":20738556,"question_id":1844688,"body_markdown":"        static File mainFolder = new File(&quot;Folder&quot;);\r\n        public static void main(String[] args) {\r\n           \r\n            lf.getFiles(lf.mainFolder);\r\n        }\r\n        public void getFiles(File f) {\r\n            File files[];\r\n            if (f.isFile()) {\r\n                String name=f.getName();\r\n             \r\n            } else {\r\n                files = f.listFiles();\r\n                for (int i = 0; i &lt; files.length; i++) {\r\n                    getFiles(files[i]);\r\n                }\r\n            }\r\n        }","title":"How to read all files in a folder from Java?","body":"<pre><code>    static File mainFolder = new File(\"Folder\");\n    public static void main(String[] args) {\n\n        lf.getFiles(lf.mainFolder);\n    }\n    public void getFiles(File f) {\n        File files[];\n        if (f.isFile()) {\n            String name=f.getName();\n\n        } else {\n            files = f.listFiles();\n            for (int i = 0; i &lt; files.length; i++) {\n                getFiles(files[i]);\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3794948,"reputation":1,"user_id":3150353,"display_name":"ChetanTwr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388531121,"creation_date":1388531121,"answer_id":20864045,"question_id":1844688,"body_markdown":"    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    public class AvoidNullExp {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tList&lt;File&gt; fileList =new ArrayList&lt;&gt;();\r\n\t\t final File folder = new File(&quot;g:/master&quot;);\r\n\t\t new AvoidNullExp().listFilesForFolder(folder, fileList);\r\n\t}\r\n\r\n\t\tpublic void listFilesForFolder(final File folder,List&lt;File&gt; fileList) {\r\n\t\t    File[] filesInFolder = folder.listFiles();\r\n\t\t    if (filesInFolder != null) {\r\n\t\t        for (final File fileEntry : filesInFolder) {\r\n\t\t            if (fileEntry.isDirectory()) {\r\n\t\t            \tSystem.out.println(&quot;DIR : &quot;+fileEntry.getName());\r\n\t\t            listFilesForFolder(fileEntry,fileList);\r\n\t\t        } else {\r\n\t\t        \tSystem.out.println(&quot;FILE : &quot;+fileEntry.getName());\r\n\t\t            fileList.add(fileEntry);\r\n\t\t        }\r\n\t\t     }\r\n\t\t    }\r\n\t\t }\r\n\r\n\t\t \r\n\t}\r\n","title":"How to read all files in a folder from Java?","body":"<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AvoidNullExp {\n\npublic static void main(String[] args) {\n\n    List&lt;File&gt; fileList =new ArrayList&lt;&gt;();\n     final File folder = new File(\"g:/master\");\n     new AvoidNullExp().listFilesForFolder(folder, fileList);\n}\n\n    public void listFilesForFolder(final File folder,List&lt;File&gt; fileList) {\n        File[] filesInFolder = folder.listFiles();\n        if (filesInFolder != null) {\n            for (final File fileEntry : filesInFolder) {\n                if (fileEntry.isDirectory()) {\n                    System.out.println(\"DIR : \"+fileEntry.getName());\n                listFilesForFolder(fileEntry,fileList);\n            } else {\n                System.out.println(\"FILE : \"+fileEntry.getName());\n                fileList.add(fileEntry);\n            }\n         }\n        }\n     }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4275999,"reputation":34098,"user_id":3496570,"accept_rate":39,"display_name":"Zar E Ahmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431920629,"creation_date":1400219170,"answer_id":23693382,"question_id":1844688,"body_markdown":"    /**\r\n\t * Function to read all mp3 files from sdcard and store the details in an\r\n\t * ArrayList\r\n\t */\r\n\t\r\n\r\n    public ArrayList&lt;HashMap&lt;String, String&gt;&gt; getPlayList() \r\n    \t{\r\n    \t\tArrayList&lt;HashMap&lt;String, String&gt;&gt; songsList=new ArrayList&lt;&gt;();\r\n            File home = new File(MEDIA_PATH);\r\n    \r\n    \t\tif (home.listFiles(new FileExtensionFilter()).length &gt; 0) {\r\n    \t\t\tfor (File file : home.listFiles(new FileExtensionFilter())) {\r\n    \t\t\t\tHashMap&lt;String, String&gt; song = new HashMap&lt;String, String&gt;();\r\n    \t\t\t\tsong.put(\r\n    \t\t\t\t\t\t&quot;songTitle&quot;,\r\n    \t\t\t\t\t\tfile.getName().substring(0,\r\n    \t\t\t\t\t\t\t\t(file.getName().length() - 4)));\r\n    \t\t\t\tsong.put(&quot;songPath&quot;, file.getPath());\r\n    \r\n    \t\t\t\t// Adding each song to SongList\r\n    \t\t\t\tsongsList.add(song);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t// return songs list array\r\n    \t\treturn songsList;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Class to filter files which have a .mp3 extension\r\n    \t * */\r\n    \tclass FileExtensionFilter implements FilenameFilter \r\n    \t{\r\n    \t\t@Override\r\n    \t\tpublic boolean accept(File dir, String name) {\r\n    \t\t\treturn (name.endsWith(&quot;.mp3&quot;) || name.endsWith(&quot;.MP3&quot;));\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nYou can filter any textfiles or any other extension ..just replace it with .MP3","title":"How to read all files in a folder from Java?","body":"<pre><code>/**\n * Function to read all mp3 files from sdcard and store the details in an\n * ArrayList\n */\n\n\npublic ArrayList&lt;HashMap&lt;String, String&gt;&gt; getPlayList() \n    {\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; songsList=new ArrayList&lt;&gt;();\n        File home = new File(MEDIA_PATH);\n\n        if (home.listFiles(new FileExtensionFilter()).length &gt; 0) {\n            for (File file : home.listFiles(new FileExtensionFilter())) {\n                HashMap&lt;String, String&gt; song = new HashMap&lt;String, String&gt;();\n                song.put(\n                        \"songTitle\",\n                        file.getName().substring(0,\n                                (file.getName().length() - 4)));\n                song.put(\"songPath\", file.getPath());\n\n                // Adding each song to SongList\n                songsList.add(song);\n            }\n        }\n        // return songs list array\n        return songsList;\n    }\n\n    /**\n     * Class to filter files which have a .mp3 extension\n     * */\n    class FileExtensionFilter implements FilenameFilter \n    {\n        @Override\n        public boolean accept(File dir, String name) {\n            return (name.endsWith(\".mp3\") || name.endsWith(\".MP3\"));\n        }\n    }\n</code></pre>\n\n<p>You can filter any textfiles or any other extension ..just replace it with .MP3</p>\n"},{"comments":[{"owner":{"account_id":2866071,"reputation":6012,"user_id":2460378,"accept_rate":81,"display_name":"Thomas S."},"score":0,"creation_date":1538847368,"post_id":23814217,"comment_id":92291545,"body_markdown":"Note, that this code will throw an exception (and **not** report any further files) if for some file or directory the file attributes could not be read, e.g. because of permissions. Easy to reproduce on `C:\\`.","body":"Note, that this code will throw an exception (and <b>not</b> report any further files) if for some file or directory the file attributes could not be read, e.g. because of permissions. Easy to reproduce on `C:`."}],"tags":[],"owner":{"account_id":1129042,"reputation":48154,"user_id":1115554,"accept_rate":100,"display_name":"micha"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1400782007,"creation_date":1400782007,"answer_id":23814217,"question_id":1844688,"body_markdown":"Just walk through all Files using `Files.walkFileTree` (Java 7)\r\n\r\n    Files.walkFileTree(Paths.get(dir), new SimpleFileVisitor&lt;Path&gt;() {\r\n    \t@Override\r\n    \tpublic FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n    \t\tSystem.out.println(&quot;file: &quot; + file);\r\n    \t\treturn FileVisitResult.CONTINUE;\r\n    \t}\r\n    });","title":"How to read all files in a folder from Java?","body":"<p>Just walk through all Files using <code>Files.walkFileTree</code> (Java 7)</p>\n\n<pre><code>Files.walkFileTree(Paths.get(dir), new SimpleFileVisitor&lt;Path&gt;() {\n    @Override\n    public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n        System.out.println(\"file: \" + file);\n        return FileVisitResult.CONTINUE;\n    }\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4419458,"reputation":1034,"user_id":3599960,"accept_rate":62,"display_name":"XaolingBao"},"score":3,"creation_date":1413174807,"post_id":26215931,"comment_id":41329483,"body_markdown":"Getting an error with \n\n.map(Path::toFile)\n\nAlso .forEach(path -&gt; System.out.println(path.toString());\n\nshould be .forEach(path -&gt; System.out.println(path.toString()));","body":"Getting an error with   .map(Path::toFile)  Also .forEach(path -&gt; System.out.println(path.toString());  should be .forEach(path -&gt; System.out.println(path.toString()));"},{"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"score":0,"creation_date":1413211136,"post_id":26215931,"comment_id":41347067,"body_markdown":"Thanks for the correction. What error do you get? I execute the exact code in a project of mine and do not get an error.","body":"Thanks for the correction. What error do you get? I execute the exact code in a project of mine and do not get an error."},{"owner":{"account_id":4419458,"reputation":1034,"user_id":3599960,"accept_rate":62,"display_name":"XaolingBao"},"score":2,"creation_date":1413235094,"post_id":26215931,"comment_id":41358906,"body_markdown":"It says &quot;Invalid method reference, cannot find symbol&quot;\n\n&quot;Method toFile&quot;\n\nis toFile supposed to be something else?","body":"It says &quot;Invalid method reference, cannot find symbol&quot;  &quot;Method toFile&quot;  is toFile supposed to be something else?"},{"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"score":2,"creation_date":1413279891,"post_id":26215931,"comment_id":41373665,"body_markdown":"Can u please paste your code in a PasteBin? Are you using `java.nio.file.Path`? I just checked the method toFile() should exist even prior to java 8 -&gt; http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile()","body":"Can u please paste your code in a PasteBin? Are you using <code>java.nio.file.Path</code>? I just checked the method toFile() should exist even prior to java 8 -&gt; <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#toFile()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a>"},{"owner":{"account_id":2167315,"reputation":1549,"user_id":1920149,"accept_rate":74,"display_name":"Ev0oD"},"score":0,"creation_date":1427046898,"post_id":26215931,"comment_id":46608149,"body_markdown":"I had the same problem, but automatic imports imported something else, not the java.nio.file.Path.","body":"I had the same problem, but automatic imports imported something else, not the java.nio.file.Path."},{"owner":{"account_id":1249289,"reputation":3789,"user_id":1422630,"accept_rate":55,"display_name":"Aquarius Power"},"score":0,"creation_date":1428196108,"post_id":26215931,"comment_id":47071645,"body_markdown":"and to apply a filename filter (like by extension, using String.endsWith()) after that is extremely easy too, thanks!","body":"and to apply a filename filter (like by extension, using String.endsWith()) after that is extremely easy too, thanks!"},{"owner":{"account_id":1969027,"reputation":581,"user_id":1768522,"accept_rate":56,"display_name":"Rg90"},"score":0,"creation_date":1434006902,"post_id":26215931,"comment_id":49598616,"body_markdown":"Looks like your Java compiler is set to 1.7. Bump it up to 1.8 and/or install new version of your IDE.","body":"Looks like your Java compiler is set to 1.7. Bump it up to 1.8 and/or install new version of your IDE."},{"owner":{"account_id":739058,"reputation":5786,"user_id":1730115,"accept_rate":60,"display_name":"Nadjib Mami"},"score":0,"creation_date":1439851947,"post_id":26215931,"comment_id":52020527,"body_markdown":"@JulianLiebl how do we skip hidden files?  `filter(Files::isHidden)` doesn&#39;t work. The error says: &quot;Unhandled exception type IOException&quot;, but the method already throws IOException.","body":"@JulianLiebl how do we skip hidden files?  <code>filter(Files::isHidden)</code> doesn&#39;t work. The error says: &quot;Unhandled exception type IOException&quot;, but the method already throws IOException."},{"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"score":2,"creation_date":1439980149,"post_id":26215931,"comment_id":52080406,"body_markdown":"@NadjibMami Please have a look here: http://razem.io/blog/posts/year2015/0819_try_catch_lambda\nWas to compilcated to answer in a comment. So I wrote a quick blog post.","body":"@NadjibMami Please have a look here: <a href=\"http://razem.io/blog/posts/year2015/0819_try_catch_lambda\" rel=\"nofollow noreferrer\">razem.io/blog/posts/year2015/0819_try_catch_lambda</a> Was to compilcated to answer in a comment. So I wrote a quick blog post."},{"owner":{"account_id":739058,"reputation":5786,"user_id":1730115,"accept_rate":60,"display_name":"Nadjib Mami"},"score":0,"creation_date":1439982291,"post_id":26215931,"comment_id":52081936,"body_markdown":"@JulianLiebl Whow, this is cool. Thanks for your effort, it really helps!","body":"@JulianLiebl Whow, this is cool. Thanks for your effort, it really helps!"},{"owner":{"account_id":1806699,"reputation":908,"user_id":1643670,"accept_rate":83,"display_name":"YingYang"},"score":0,"creation_date":1447311886,"post_id":26215931,"comment_id":55105039,"body_markdown":"You could write the forEach as `.forEach(System.out::println)`.\nAlso the `.collect(Collectors.toList())` is not needed in your first example.","body":"You could write the forEach as <code>.forEach(System.out::println)</code>. Also the <code>.collect(Collectors.toList())</code> is not needed in your first example."},{"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"score":0,"creation_date":1447672936,"post_id":26215931,"comment_id":55236717,"body_markdown":"@YingYang I updated the answer to address your concerns.","body":"@YingYang I updated the answer to address your concerns."},{"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"score":2,"creation_date":1449051436,"post_id":26215931,"comment_id":55834931,"body_markdown":"If anyone is still looking for the try catch lambda topic the url of my blog has been changed -&gt; https://razem.io/blog/y2015/0819_try_catch_lambda.html","body":"If anyone is still looking for the try catch lambda topic the url of my blog has been changed -&gt; <a href=\"https://razem.io/blog/y2015/0819_try_catch_lambda.html\" rel=\"nofollow noreferrer\">razem.io/blog/y2015/0819_try_catch_lambda.html</a>"},{"owner":{"account_id":474916,"reputation":298,"user_id":884929,"accept_rate":80,"display_name":"C J"},"score":0,"creation_date":1546964531,"post_id":26215931,"comment_id":95024089,"body_markdown":"How do you close the stream when your code is like the second example code:  \n\nList&lt;File&gt; filesInFolder = Files.walk(Paths.get(&quot;/path/to/folder&quot;))\n                                .filter(Files::isRegularFile)\n                                .map(Path::toFile)\n                                .collect(Collectors.toList());\n&lt;code&gt;","body":"How do you close the stream when your code is like the second example code:    List&lt;File&gt; filesInFolder = Files.walk(Paths.get(&quot;/path/to/folder&quot;))                                 .filter(Files::isRegularFile)                                 .map(Path::toFile)                                 .collect(Collectors.toList()); &lt;code&gt;"}],"tags":[],"owner":{"account_id":1018177,"reputation":3890,"user_id":1029251,"accept_rate":100,"display_name":"Julian Pieles"},"comment_count":14,"down_vote_count":1,"up_vote_count":172,"is_accepted":false,"score":171,"last_activity_date":1496309762,"creation_date":1412597312,"answer_id":26215931,"question_id":1844688,"body_markdown":"In Java 8 you can do this\r\n\r\n    Files.walk(Paths.get(&quot;/path/to/folder&quot;))\r\n         .filter(Files::isRegularFile)\r\n         .forEach(System.out::println);\r\n\r\nwhich will print all files in a folder while excluding all directories. If you need a list, the following will do:\r\n\r\n    Files.walk(Paths.get(&quot;/path/to/folder&quot;))\r\n         .filter(Files::isRegularFile)\r\n         .collect(Collectors.toList())\r\n\r\nIf you want to return `List&lt;File&gt;` instead of `List&lt;Path&gt;` just map it:\r\n\r\n    List&lt;File&gt; filesInFolder = Files.walk(Paths.get(&quot;/path/to/folder&quot;))\r\n                                    .filter(Files::isRegularFile)\r\n                                    .map(Path::toFile)\r\n                                    .collect(Collectors.toList());\r\n\r\nYou also need to make sure to close the stream! Otherwise you might run into an exception telling you that too many files are open. Read [here][1] for more information.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38698245/1029251","title":"How to read all files in a folder from Java?","body":"<p>In Java 8 you can do this</p>\n\n<pre><code>Files.walk(Paths.get(\"/path/to/folder\"))\n     .filter(Files::isRegularFile)\n     .forEach(System.out::println);\n</code></pre>\n\n<p>which will print all files in a folder while excluding all directories. If you need a list, the following will do:</p>\n\n<pre><code>Files.walk(Paths.get(\"/path/to/folder\"))\n     .filter(Files::isRegularFile)\n     .collect(Collectors.toList())\n</code></pre>\n\n<p>If you want to return <code>List&lt;File&gt;</code> instead of <code>List&lt;Path&gt;</code> just map it:</p>\n\n<pre><code>List&lt;File&gt; filesInFolder = Files.walk(Paths.get(\"/path/to/folder\"))\n                                .filter(Files::isRegularFile)\n                                .map(Path::toFile)\n                                .collect(Collectors.toList());\n</code></pre>\n\n<p>You also need to make sure to close the stream! Otherwise you might run into an exception telling you that too many files are open. Read <a href=\"https://stackoverflow.com/a/38698245/1029251\">here</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":5278285,"reputation":1,"user_id":4214452,"display_name":"shree"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415107535,"creation_date":1415107535,"answer_id":26736272,"question_id":1844688,"body_markdown":"&gt; list down files from Test folder present inside class path\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Hello {\r\n    \r\n        public static void main(final String[] args) throws IOException {\r\n    \r\n            System.out.println(&quot;List down all the files present on the server directory&quot;);\r\n            File file1 = new File(&quot;/prog/FileTest/src/Test&quot;);\r\n            File[] files = file1.listFiles();\r\n            if (null != files) {\r\n                for (int fileIntList = 0; fileIntList &lt; files.length; fileIntList++) {\r\n                    String ss = files[fileIntList].toString();\r\n                    if (null != ss &amp;&amp; ss.length() &gt; 0) {\r\n                        System.out.println(&quot;File: &quot; + (fileIntList + 1) + &quot; :&quot; + ss.substring(ss.lastIndexOf(&quot;\\\\&quot;) + 1, ss.length()));\r\n                    }\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    }","title":"How to read all files in a folder from Java?","body":"<blockquote>\n  <p>list down files from Test folder present inside class path</p>\n</blockquote>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\n\npublic class Hello {\n\n    public static void main(final String[] args) throws IOException {\n\n        System.out.println(\"List down all the files present on the server directory\");\n        File file1 = new File(\"/prog/FileTest/src/Test\");\n        File[] files = file1.listFiles();\n        if (null != files) {\n            for (int fileIntList = 0; fileIntList &lt; files.length; fileIntList++) {\n                String ss = files[fileIntList].toString();\n                if (null != ss &amp;&amp; ss.length() &gt; 0) {\n                    System.out.println(\"File: \" + (fileIntList + 1) + \" :\" + ss.substring(ss.lastIndexOf(\"\\\\\") + 1, ss.length()));\n                }\n            }\n        }\n\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5798502,"reputation":81,"user_id":4573489,"display_name":"Mohammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1424794874,"creation_date":1424794436,"answer_id":28700793,"question_id":1844688,"body_markdown":"I think this is good way to read all the files in a folder and sub folder&#39;s\r\n\r\n    private static void addfiles (File input,ArrayList&lt;File&gt; files)\r\n    {\r\n        if(input.isDirectory())\r\n        {\r\n            ArrayList &lt;File&gt; path = new ArrayList&lt;File&gt;(Arrays.asList(input.listFiles()));\r\n            for(int i=0 ; i&lt;path.size();++i)\r\n            {\r\n                if(path.get(i).isDirectory())\r\n                {\r\n                    addfiles(path.get(i),files);\r\n                }\r\n                if(path.get(i).isFile())\r\n                {\r\n                \tfiles.add(path.get(i));\r\n                }\r\n            }\r\n        }\r\n        if(input.isFile())\r\n        {\r\n    \t\tfiles.add(input);\r\n        }\r\n    }","title":"How to read all files in a folder from Java?","body":"<p>I think this is good way to read all the files in a folder and sub folder's</p>\n\n<pre><code>private static void addfiles (File input,ArrayList&lt;File&gt; files)\n{\n    if(input.isDirectory())\n    {\n        ArrayList &lt;File&gt; path = new ArrayList&lt;File&gt;(Arrays.asList(input.listFiles()));\n        for(int i=0 ; i&lt;path.size();++i)\n        {\n            if(path.get(i).isDirectory())\n            {\n                addfiles(path.get(i),files);\n            }\n            if(path.get(i).isFile())\n            {\n                files.add(path.get(i));\n            }\n        }\n    }\n    if(input.isFile())\n    {\n        files.add(input);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5264499,"reputation":131,"user_id":4657730,"display_name":"Subhojit Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441804699,"creation_date":1441804307,"answer_id":32480517,"question_id":1844688,"body_markdown":"    void getFiles(){\r\n    \t\tString dirPath = &quot;E:/folder_name&quot;;\r\n    \t\tFile dir = new File(dirPath);\r\n    \t\tString[] files = dir.list();\r\n    \t\tif (files.length == 0) {\r\n    \t\t    System.out.println(&quot;The directory is empty&quot;);\r\n    \t\t} else {\r\n    \t\t    for (String aFile : files) {\r\n    \t\t        System.out.println(aFile);\r\n    \t\t    }\r\n    \t\t}\r\n    \t}","title":"How to read all files in a folder from Java?","body":"<pre><code>void getFiles(){\n        String dirPath = \"E:/folder_name\";\n        File dir = new File(dirPath);\n        String[] files = dir.list();\n        if (files.length == 0) {\n            System.out.println(\"The directory is empty\");\n        } else {\n            for (String aFile : files) {\n                System.out.println(aFile);\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3104972,"reputation":2363,"user_id":2628048,"accept_rate":42,"display_name":"Rudolf Schmidt"},"score":0,"creation_date":1494953476,"post_id":34072431,"comment_id":75042762,"body_markdown":"You should never iterate with Stream. You take a Stream reference, use it and through it away.","body":"You should never iterate with Stream. You take a Stream reference, use it and through it away."},{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1495104451,"post_id":34072431,"comment_id":75116539,"body_markdown":"@RudolfSchmidt you mean &quot;throw it away&quot;?","body":"@RudolfSchmidt you mean &quot;throw it away&quot;?"},{"owner":{"account_id":3104972,"reputation":2363,"user_id":2628048,"accept_rate":42,"display_name":"Rudolf Schmidt"},"score":3,"creation_date":1495194294,"post_id":34072431,"comment_id":75162236,"body_markdown":"I mean the correct way is to use it in that way: Files.walk(Paths.get(&quot;/home/you/Desktop&quot;)).filter(Files::isRegularFile).forEach(filePath-&gt;...)","body":"I mean the correct way is to use it in that way: Files.walk(Paths.get(&quot;/home/you/Desktop&quot;)).filter(Files::isR&zwnj;&#8203;egularFile).forEach(&zwnj;&#8203;filePath-&gt;...)"}],"tags":[],"owner":{"account_id":401157,"reputation":1787,"user_id":767547,"accept_rate":50,"display_name":"Martin"},"comment_count":3,"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1449163633,"creation_date":1449163633,"answer_id":34072431,"question_id":1844688,"body_markdown":"All of the answers on this topic that make use of the new Java 8 functions are neglecting to close the stream. The example in the accepted answer should be:\r\n\r\n    try (Stream&lt;Path&gt; filePathStream=Files.walk(Paths.get(&quot;/home/you/Desktop&quot;))) {\r\n        filePathStream.forEach(filePath -&gt; {\r\n            if (Files.isRegularFile(filePath)) {\r\n                System.out.println(filePath);\r\n            }\r\n        });\r\n    }\r\nFrom the javadoc of the `Files.walk` method:\r\n\r\n&gt; The returned stream encapsulates one or more DirectoryStreams. If\r\n&gt; timely disposal of file system resources is required, the\r\n&gt; try-with-resources construct should be used to ensure that the\r\n&gt; stream&#39;s close method is invoked after the stream operations are completed.\r\n","title":"How to read all files in a folder from Java?","body":"<p>All of the answers on this topic that make use of the new Java 8 functions are neglecting to close the stream. The example in the accepted answer should be:</p>\n\n<pre><code>try (Stream&lt;Path&gt; filePathStream=Files.walk(Paths.get(\"/home/you/Desktop\"))) {\n    filePathStream.forEach(filePath -&gt; {\n        if (Files.isRegularFile(filePath)) {\n            System.out.println(filePath);\n        }\n    });\n}\n</code></pre>\n\n<p>From the javadoc of the <code>Files.walk</code> method:</p>\n\n<blockquote>\n  <p>The returned stream encapsulates one or more DirectoryStreams. If\n  timely disposal of file system resources is required, the\n  try-with-resources construct should be used to ensure that the\n  stream's close method is invoked after the stream operations are completed.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1531303,"reputation":4187,"user_id":3636464,"accept_rate":75,"display_name":"pdp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483726319,"creation_date":1483726319,"answer_id":41511741,"question_id":1844688,"body_markdown":"Simple example that works with Java 1.7 to recursively list files in directories specified on the command-line:\r\n\r\n    import java.io.File;\r\n\r\n    public class List {\r\n        public static void main(String[] args) {\r\n            for (String f : args) {\r\n                listDir(f);\r\n            }\r\n        }\r\n\r\n        private static void listDir(String dir) {\r\n            File f = new File(dir);\r\n            File[] list = f.listFiles();\r\n\r\n            if (list == null) {\r\n                return;\r\n            }\r\n\r\n            for (File entry : list) {\r\n                System.out.println(entry.getName());\r\n                if (entry.isDirectory()) {\r\n                    listDir(entry.getAbsolutePath());\r\n                }\r\n            }\r\n        }\r\n    }\r\n","title":"How to read all files in a folder from Java?","body":"<p>Simple example that works with Java 1.7 to recursively list files in directories specified on the command-line:</p>\n\n<pre><code>import java.io.File;\n\npublic class List {\n    public static void main(String[] args) {\n        for (String f : args) {\n            listDir(f);\n        }\n    }\n\n    private static void listDir(String dir) {\n        File f = new File(dir);\n        File[] list = f.listFiles();\n\n        if (list == null) {\n            return;\n        }\n\n        for (File entry : list) {\n            System.out.println(entry.getName());\n            if (entry.isDirectory()) {\n                listDir(entry.getAbsolutePath());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9746314,"reputation":356,"user_id":7226192,"display_name":"JamesC"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495182221,"creation_date":1495182221,"answer_id":44064976,"question_id":1844688,"body_markdown":"While I do agree with Rich, Orian and the rest for using:\r\n\r\n        final File keysFileFolder = new File(&lt;path&gt;); \r\n        File[] fileslist = keysFileFolder.listFiles();\r\n        \r\n        if(fileslist != null)\r\n        {\r\n            //Do your thing here...\r\n        }\r\n\r\nfor some reason all the examples here uses **absolute** path (i.e. all the way from root, or, say, drive letter (C:\\\\) for windows..)\r\n\r\nI&#39;d like to add that it is possible to use **relative** path as-well.\r\nSo, if you&#39;re pwd (current directory/folder) is folder1 and you want to parse folder1/subfolder, you simply write (in the code above instead of &lt;path&gt;):\r\n\r\n        final File keysFileFolder = new File(&quot;subfolder&quot;);\r\n","title":"How to read all files in a folder from Java?","body":"<p>While I do agree with Rich, Orian and the rest for using:</p>\n\n<pre><code>    final File keysFileFolder = new File(&lt;path&gt;); \n    File[] fileslist = keysFileFolder.listFiles();\n\n    if(fileslist != null)\n    {\n        //Do your thing here...\n    }\n</code></pre>\n\n<p>for some reason all the examples here uses <strong>absolute</strong> path (i.e. all the way from root, or, say, drive letter (C:\\) for windows..)</p>\n\n<p>I'd like to add that it is possible to use <strong>relative</strong> path as-well.\nSo, if you're pwd (current directory/folder) is folder1 and you want to parse folder1/subfolder, you simply write (in the code above instead of ):</p>\n\n<pre><code>    final File keysFileFolder = new File(\"subfolder\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495996832,"creation_date":1495996832,"answer_id":44230745,"question_id":1844688,"body_markdown":"Java 8 `Files.walk(..)` is good when you are soore it will not throw https://stackoverflow.com/questions/44007055/avoid-java-8-files-walk-termination-cause-of-java-nio-file-accessdeniedexc?noredirect=1&amp;lq=1 .\r\n\r\nHere is a safe solution , not though so elegant as Java 8`Files.walk(..)` :\r\n\r\n    int[] count = {0};\r\n    try {\r\n        Files.walkFileTree(Paths.get(dir.getPath()), new HashSet&lt;FileVisitOption&gt;(Arrays.asList(FileVisitOption.FOLLOW_LINKS)),\r\n                Integer.MAX_VALUE, new SimpleFileVisitor&lt;Path&gt;() {\r\n                    @Override\r\n                    public FileVisitResult visitFile(Path file , BasicFileAttributes attrs) throws IOException {\r\n                        System.out.printf(&quot;Visiting file %s\\n&quot;, file);\r\n                        ++count[0];\r\n    \r\n                        return FileVisitResult.CONTINUE;\r\n                    }\r\n    \r\n                    @Override\r\n                    public FileVisitResult visitFileFailed(Path file , IOException e) throws IOException {\r\n                        System.err.printf(&quot;Visiting failed for %s\\n&quot;, file);\r\n    \r\n                        return FileVisitResult.SKIP_SUBTREE;\r\n                    }\r\n    \r\n                    @Override\r\n                    public FileVisitResult preVisitDirectory(Path dir , BasicFileAttributes attrs) throws IOException {\r\n                         System.out.printf(&quot;About to visit directory %s\\n&quot;, dir);\r\n                        return FileVisitResult.CONTINUE;\r\n                    }\r\n                });\r\n    } catch (IOException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }","title":"How to read all files in a folder from Java?","body":"<p>Java 8 <code>Files.walk(..)</code> is good when you are soore it will not throw <a href=\"https://stackoverflow.com/questions/44007055/avoid-java-8-files-walk-termination-cause-of-java-nio-file-accessdeniedexc?noredirect=1&amp;lq=1\">Avoid Java 8 Files.walk(..) termination cause of ( java.nio.file.AccessDeniedException )</a> .</p>\n\n<p>Here is a safe solution , not though so elegant as Java 8<code>Files.walk(..)</code> :</p>\n\n<pre><code>int[] count = {0};\ntry {\n    Files.walkFileTree(Paths.get(dir.getPath()), new HashSet&lt;FileVisitOption&gt;(Arrays.asList(FileVisitOption.FOLLOW_LINKS)),\n            Integer.MAX_VALUE, new SimpleFileVisitor&lt;Path&gt;() {\n                @Override\n                public FileVisitResult visitFile(Path file , BasicFileAttributes attrs) throws IOException {\n                    System.out.printf(\"Visiting file %s\\n\", file);\n                    ++count[0];\n\n                    return FileVisitResult.CONTINUE;\n                }\n\n                @Override\n                public FileVisitResult visitFileFailed(Path file , IOException e) throws IOException {\n                    System.err.printf(\"Visiting failed for %s\\n\", file);\n\n                    return FileVisitResult.SKIP_SUBTREE;\n                }\n\n                @Override\n                public FileVisitResult preVisitDirectory(Path dir , BasicFileAttributes attrs) throws IOException {\n                     System.out.printf(\"About to visit directory %s\\n\", dir);\n                    return FileVisitResult.CONTINUE;\n                }\n            });\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":498110,"reputation":1330,"user_id":1377112,"accept_rate":57,"display_name":"Salvador Valencia"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500502830,"creation_date":1500501803,"answer_id":45201809,"question_id":1844688,"body_markdown":"Just to expand on the accepted answer I store the filenames to an ArrayList (instead of just dumping them to System.out.println) I created a helper class &quot;MyFileUtils&quot; so it could be imported by other projects:\r\n\r\n    class MyFileUtils {\r\n    \tpublic static void loadFilesForFolder(final File folder, List&lt;String&gt; fileList){\r\n    \t\tfor (final File fileEntry : folder.listFiles()) {\r\n    \t\t\tif (fileEntry.isDirectory()) {\r\n    \t\t\t\tloadFilesForFolder(fileEntry, fileList);\r\n    \t\t\t} else {\r\n    \t\t\t\tfileList.add( fileEntry.getParent() + File.separator + fileEntry.getName() );\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI added the full path to the file name. \r\nYou would use it like this:\r\n\r\n    import MyFileUtils;\r\n    \r\n    List&lt;String&gt; fileList = new ArrayList&lt;String&gt;();\r\n    final File folder = new File(&quot;/home/you/Desktop&quot;);\r\n    MyFileUtils.loadFilesForFolder(folder, fileList);\r\n    \r\n    // Dump file list values\r\n    for (String fileName : fileList){\r\n    \tSystem.out.println(fileName);\r\n    }\r\n\r\nThe ArrayList is passed by &quot;value&quot;, but the value is used to point to the same ArrayList object living in the JVM Heap. In this way, each recursion call adds filenames to the same ArrayList (we are NOT creating a new ArrayList on each recursive call).\r\n\r\n\r\n","title":"How to read all files in a folder from Java?","body":"<p>Just to expand on the accepted answer I store the filenames to an ArrayList (instead of just dumping them to System.out.println) I created a helper class \"MyFileUtils\" so it could be imported by other projects:</p>\n\n<pre><code>class MyFileUtils {\n    public static void loadFilesForFolder(final File folder, List&lt;String&gt; fileList){\n        for (final File fileEntry : folder.listFiles()) {\n            if (fileEntry.isDirectory()) {\n                loadFilesForFolder(fileEntry, fileList);\n            } else {\n                fileList.add( fileEntry.getParent() + File.separator + fileEntry.getName() );\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I added the full path to the file name. \nYou would use it like this:</p>\n\n<pre><code>import MyFileUtils;\n\nList&lt;String&gt; fileList = new ArrayList&lt;String&gt;();\nfinal File folder = new File(\"/home/you/Desktop\");\nMyFileUtils.loadFilesForFolder(folder, fileList);\n\n// Dump file list values\nfor (String fileName : fileList){\n    System.out.println(fileName);\n}\n</code></pre>\n\n<p>The ArrayList is passed by \"value\", but the value is used to point to the same ArrayList object living in the JVM Heap. In this way, each recursion call adds filenames to the same ArrayList (we are NOT creating a new ArrayList on each recursive call).</p>\n"},{"tags":[],"owner":{"account_id":929792,"reputation":3142,"user_id":959876,"display_name":"moldovean"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511184930,"creation_date":1511184930,"answer_id":47393326,"question_id":1844688,"body_markdown":"There are many good answers above, here&#39;s a different approach: In a maven project, everything you put in the resources folder is copied by default in the target/classes folder. To see what is available at runtime \r\n\r\n\r\n     ClassLoader contextClassLoader = \r\n     Thread.currentThread().getContextClassLoader();\r\n        URL resource = contextClassLoader.getResource(&quot;&quot;);\r\n        File file = new File(resource.toURI());\r\n        File[] files = file.listFiles();\r\n        for (File f : files) {\r\n            System.out.println(f.getName());\r\n        }\r\n\r\nNow to get the files from a specific folder, let&#39;s say you have a folder called &#39;res&#39; in your resources folder, just replace:\r\n\r\n    URL resource = contextClassLoader.getResource(&quot;res&quot;);\r\n\r\nIf you want to have access in your com.companyName package then:\r\n    \r\n    contextClassLoader.getResource(&quot;com.companyName&quot;);","title":"How to read all files in a folder from Java?","body":"<p>There are many good answers above, here's a different approach: In a maven project, everything you put in the resources folder is copied by default in the target/classes folder. To see what is available at runtime </p>\n\n<pre><code> ClassLoader contextClassLoader = \n Thread.currentThread().getContextClassLoader();\n    URL resource = contextClassLoader.getResource(\"\");\n    File file = new File(resource.toURI());\n    File[] files = file.listFiles();\n    for (File f : files) {\n        System.out.println(f.getName());\n    }\n</code></pre>\n\n<p>Now to get the files from a specific folder, let's say you have a folder called 'res' in your resources folder, just replace:</p>\n\n<pre><code>URL resource = contextClassLoader.getResource(\"res\");\n</code></pre>\n\n<p>If you want to have access in your com.companyName package then:</p>\n\n<pre><code>contextClassLoader.getResource(\"com.companyName\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7582860,"reputation":2153,"user_id":5753035,"accept_rate":55,"display_name":"Pramesh Bajracharya"},"score":0,"creation_date":1526892959,"post_id":50080730,"comment_id":87903964,"body_markdown":"Sorry if this a noob question but what should I pass as a `files container` ?","body":"Sorry if this a noob question but what should I pass as a <code>files container</code> ?"}],"tags":[],"owner":{"account_id":4674665,"reputation":1539,"user_id":3785433,"display_name":"Katta Nagarjuna"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524947074,"creation_date":1524947074,"answer_id":50080730,"question_id":1844688,"body_markdown":"This will Read Specified file extension files in given path(looks sub folders also)\r\n\r\n    public static Map&lt;String,List&lt;File&gt;&gt; getFileNames(String \r\n    dirName,Map&lt;String,List&lt;File&gt;&gt; filesContainer,final String fileExt){\r\n\t\tString dirPath = dirName;\r\n\t\tList&lt;File&gt;files = new ArrayList&lt;&gt;();\r\n\t\tMap&lt;String,List&lt;File&gt;&gt; completeFiles = filesContainer; \r\n\t\tif(completeFiles == null) {\r\n\t\t\tcompleteFiles = new HashMap&lt;&gt;();\r\n\t\t}\r\n\t\tFile file = new File(dirName);\r\n\t\t\r\n\t\tFileFilter fileFilter = new FileFilter() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean accept(File file) {\r\n\t\t\t\tboolean acceptFile = false;\r\n\t\t\t\tif(file.isDirectory()) {\r\n\t\t\t\t\tacceptFile = true;\r\n\t\t\t\t}else if (file.getName().toLowerCase().endsWith(fileExt))\r\n\t\t\t      {\r\n\t\t\t\t\tacceptFile = true;\r\n\t\t\t      }\r\n\t\t\t\treturn acceptFile;\r\n\t\t\t}\r\n\t\t};\r\n\t\tfor(File dirfile : file.listFiles(fileFilter)) {\r\n\t\t\tif(dirfile.isFile() &amp;&amp; \r\n    dirfile.getName().toLowerCase().endsWith(fileExt)) {\r\n\t\t\t\tfiles.add(dirfile);\r\n\t\t\t}else if(dirfile.isDirectory()) {\r\n\t\t\t\tif(!files.isEmpty()) {\r\n\t\t\t\t\tcompleteFiles.put(dirPath, files);\t\r\n\t\t\t\t}\r\n\t\t\t\t \r\n    getFileNames(dirfile.getAbsolutePath(),completeFiles,fileExt);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(!files.isEmpty()) {\r\n\t\t\tcompleteFiles.put(dirPath, files);\t\r\n\t\t}\r\n\t\treturn completeFiles;\r\n\t}","title":"How to read all files in a folder from Java?","body":"<p>This will Read Specified file extension files in given path(looks sub folders also)</p>\n\n<pre><code>public static Map&lt;String,List&lt;File&gt;&gt; getFileNames(String \ndirName,Map&lt;String,List&lt;File&gt;&gt; filesContainer,final String fileExt){\n    String dirPath = dirName;\n    List&lt;File&gt;files = new ArrayList&lt;&gt;();\n    Map&lt;String,List&lt;File&gt;&gt; completeFiles = filesContainer; \n    if(completeFiles == null) {\n        completeFiles = new HashMap&lt;&gt;();\n    }\n    File file = new File(dirName);\n\n    FileFilter fileFilter = new FileFilter() {\n        @Override\n        public boolean accept(File file) {\n            boolean acceptFile = false;\n            if(file.isDirectory()) {\n                acceptFile = true;\n            }else if (file.getName().toLowerCase().endsWith(fileExt))\n              {\n                acceptFile = true;\n              }\n            return acceptFile;\n        }\n    };\n    for(File dirfile : file.listFiles(fileFilter)) {\n        if(dirfile.isFile() &amp;&amp; \ndirfile.getName().toLowerCase().endsWith(fileExt)) {\n            files.add(dirfile);\n        }else if(dirfile.isDirectory()) {\n            if(!files.isEmpty()) {\n                completeFiles.put(dirPath, files);  \n            }\n\ngetFileNames(dirfile.getAbsolutePath(),completeFiles,fileExt);\n        }\n    }\n    if(!files.isEmpty()) {\n        completeFiles.put(dirPath, files);  \n    }\n    return completeFiles;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526596457,"creation_date":1526596154,"answer_id":50401353,"question_id":1844688,"body_markdown":"This will work fine:\r\n\r\n    private static void addfiles(File inputValVal, ArrayList&lt;File&gt; files)\r\n    {\r\n      if(inputVal.isDirectory())\r\n      {\r\n        ArrayList &lt;File&gt; path = new ArrayList&lt;File&gt;(Arrays.asList(inputVal.listFiles()));\r\n\r\n        for(int i=0; i&lt;path.size(); ++i)\r\n        {\r\n            if(path.get(i).isDirectory())\r\n            {\r\n                addfiles(path.get(i),files);\r\n            }\r\n            if(path.get(i).isFile())\r\n            {\r\n                files.add(path.get(i));\r\n            }\r\n         }\r\n\t\t\r\n\t\t/* \tOptional : if you need to have the counts of all the folders and files you can create 2 global arrays \r\n\t\t\tand store the results of the above 2 if loops inside these arrays */\r\n       }\r\n      \r\n       if(inputVal.isFile())\r\n       {\r\n         files.add(inputVal);\r\n       }\r\n\r\n    }","title":"How to read all files in a folder from Java?","body":"<p>This will work fine:</p>\n\n<pre><code>private static void addfiles(File inputValVal, ArrayList&lt;File&gt; files)\n{\n  if(inputVal.isDirectory())\n  {\n    ArrayList &lt;File&gt; path = new ArrayList&lt;File&gt;(Arrays.asList(inputVal.listFiles()));\n\n    for(int i=0; i&lt;path.size(); ++i)\n    {\n        if(path.get(i).isDirectory())\n        {\n            addfiles(path.get(i),files);\n        }\n        if(path.get(i).isFile())\n        {\n            files.add(path.get(i));\n        }\n     }\n\n    /*  Optional : if you need to have the counts of all the folders and files you can create 2 global arrays \n        and store the results of the above 2 if loops inside these arrays */\n   }\n\n   if(inputVal.isFile())\n   {\n     files.add(inputVal);\n   }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12466108,"reputation":89,"user_id":9075992,"display_name":"Aris Mist"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528367576,"creation_date":1528366964,"answer_id":50738842,"question_id":1844688,"body_markdown":"You can put the file path to argument and create a list with all the filepaths and not put it the list manually. Then use a for loop and a reader. Example for txt files:\r\n\r\n    public static void main(String[] args) throws IOException{    \r\n    File[] files = new File(args[0].replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;)).listFiles(new FilenameFilter() { @Override public boolean accept(File dir, String name) { return name.endsWith(&quot;.txt&quot;); } });\r\n        ArrayList&lt;String&gt; filedir = new ArrayList&lt;String&gt;();\r\n        String FILE_TEST = null;\r\n        for (i=0; i&lt;files.length; i++){\r\n                filedir.add(files[i].toString());\r\n                CSV_FILE_TEST=filedir.get(i) \r\n      \r\n            try(Reader testreader = Files.newBufferedReader(Paths.get(FILE_TEST));\r\n                ){\r\n                  //write your stuff\r\n                     }}}","title":"How to read all files in a folder from Java?","body":"<p>You can put the file path to argument and create a list with all the filepaths and not put it the list manually. Then use a for loop and a reader. Example for txt files:</p>\n\n<pre><code>public static void main(String[] args) throws IOException{    \nFile[] files = new File(args[0].replace(\"\\\\\", \"\\\\\\\\\")).listFiles(new FilenameFilter() { @Override public boolean accept(File dir, String name) { return name.endsWith(\".txt\"); } });\n    ArrayList&lt;String&gt; filedir = new ArrayList&lt;String&gt;();\n    String FILE_TEST = null;\n    for (i=0; i&lt;files.length; i++){\n            filedir.add(files[i].toString());\n            CSV_FILE_TEST=filedir.get(i) \n\n        try(Reader testreader = Files.newBufferedReader(Paths.get(FILE_TEST));\n            ){\n              //write your stuff\n                 }}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4134530,"reputation":395,"user_id":3391460,"display_name":"Manas Ranjan Mahapatra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537520269,"creation_date":1537520269,"answer_id":52440140,"question_id":1844688,"body_markdown":"    package com.commandline.folder;\r\n    \r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class FolderReadingDemo {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str = args[0];\r\n    \t\tfinal File folder = new File(str);\r\n    //\t\tlistFilesForFolder(folder);\r\n    \t\tlistFilesForFolder(str);\r\n    \t}\r\n    \r\n    \tpublic static void listFilesForFolder(String str) {\r\n    \t\ttry (Stream&lt;Path&gt; paths = Files.walk(Paths.get(str))) {\r\n    \t\t\tpaths.filter(Files::isRegularFile).forEach(System.out::println);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void listFilesForFolder(final File folder) {\r\n    \t\tfor (final File fileEntry : folder.listFiles()) {\r\n    \t\t\tif (fileEntry.isDirectory()) {\r\n    \t\t\t\tlistFilesForFolder(fileEntry);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(fileEntry.getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to read all files in a folder from Java?","body":"<pre><code>package com.commandline.folder;\n\nimport java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\n\npublic class FolderReadingDemo {\n    public static void main(String[] args) {\n        String str = args[0];\n        final File folder = new File(str);\n//      listFilesForFolder(folder);\n        listFilesForFolder(str);\n    }\n\n    public static void listFilesForFolder(String str) {\n        try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(str))) {\n            paths.filter(Files::isRegularFile).forEach(System.out::println);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void listFilesForFolder(final File folder) {\n        for (final File fileEntry : folder.listFiles()) {\n            if (fileEntry.isDirectory()) {\n                listFilesForFolder(fileEntry);\n            } else {\n                System.out.println(fileEntry.getName());\n            }\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3717619,"reputation":31,"user_id":3093415,"display_name":"WillDev10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1546982104,"creation_date":1546982104,"answer_id":54099812,"question_id":1844688,"body_markdown":"Given a baseDir, lists out all the files and directories below it, written iteratively.\r\n\r\n    \tpublic static List&lt;File&gt; listLocalFilesAndDirsAllLevels(File baseDir) {\r\n\t\t\r\n\t\tList&lt;File&gt;\tcollectedFilesAndDirs \t= new ArrayList&lt;&gt;();\r\n\t\tDeque&lt;File&gt;\tremainingDirs \t\t\t= new ArrayDeque&lt;&gt;();\r\n\t\t\r\n\t\tif(baseDir.exists()) {\r\n\t\t\tremainingDirs.add(baseDir);\r\n\t\t\t\r\n\t\t\twhile(!remainingDirs.isEmpty()) {\r\n\t\t\t\tFile dir = remainingDirs.removeLast();\r\n\t\t\t\tList&lt;File&gt; filesInDir = Arrays.asList(dir.listFiles());\r\n\t\t\t\tfor(File fileOrDir : filesInDir)  {\r\n\t\t\t\t\tcollectedFilesAndDirs.add(fileOrDir);\r\n\t\t\t\t\tif(fileOrDir.isDirectory()) {\r\n\t\t\t\t\t\tremainingDirs.add(fileOrDir);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn collectedFilesAndDirs;\r\n\t}","title":"How to read all files in a folder from Java?","body":"<p>Given a baseDir, lists out all the files and directories below it, written iteratively.</p>\n\n<pre><code>    public static List&lt;File&gt; listLocalFilesAndDirsAllLevels(File baseDir) {\n\n    List&lt;File&gt;  collectedFilesAndDirs   = new ArrayList&lt;&gt;();\n    Deque&lt;File&gt; remainingDirs           = new ArrayDeque&lt;&gt;();\n\n    if(baseDir.exists()) {\n        remainingDirs.add(baseDir);\n\n        while(!remainingDirs.isEmpty()) {\n            File dir = remainingDirs.removeLast();\n            List&lt;File&gt; filesInDir = Arrays.asList(dir.listFiles());\n            for(File fileOrDir : filesInDir)  {\n                collectedFilesAndDirs.add(fileOrDir);\n                if(fileOrDir.isDirectory()) {\n                    remainingDirs.add(fileOrDir);\n                }\n            }\n        }\n    }\n\n    return collectedFilesAndDirs;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1723820,"reputation":1226,"user_id":1578967,"accept_rate":100,"display_name":"Arka Mallick"},"score":2,"creation_date":1581610511,"post_id":54440601,"comment_id":106502255,"body_markdown":"This should be the only answer left for the question right now in 2020 :)","body":"This should be the only answer left for the question right now in 2020 :)"},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1584021797,"post_id":54440601,"comment_id":107313127,"body_markdown":"Upvote for the `Files.list` example. If you _do not_ want to search recursively, this can be the best option sometimes.","body":"Upvote for the <code>Files.list</code> example. If you <i>do not</i> want to search recursively, this can be the best option sometimes."},{"owner":{"account_id":170035,"reputation":6390,"user_id":396483,"accept_rate":68,"display_name":"john k"},"score":0,"creation_date":1598379820,"post_id":54440601,"comment_id":112438736,"body_markdown":"java.nio.file.Files doesnt exist for me for some reason","body":"java.nio.file.Files doesnt exist for me for some reason"},{"owner":{"account_id":1461157,"reputation":2027,"user_id":1375455,"accept_rate":93,"display_name":"FSm"},"score":0,"creation_date":1601975114,"post_id":54440601,"comment_id":113565990,"body_markdown":"AND, `Files.list` returns only files NOT folders","body":"AND, <code>Files.list</code> returns only files NOT folders"},{"owner":{"account_id":11809970,"reputation":97,"user_id":8641624,"display_name":"Serphentelm"},"score":0,"creation_date":1656584280,"post_id":54440601,"comment_id":128611027,"body_markdown":"what if i want to find, for example, amonst all the files, just the .pdf ones? how can I use the match function?","body":"what if i want to find, for example, amonst all the files, just the .pdf ones? how can I use the match function?"}],"tags":[],"owner":{"account_id":15177234,"reputation":925,"user_id":10951602,"display_name":"xxxception"},"comment_count":5,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1548851050,"creation_date":1548851050,"answer_id":54440601,"question_id":1844688,"body_markdown":"One remark according to get all files in the directory.  \r\nThe method `Files.walk(path)` will return all files by walking the file tree rooted at the given started file.\r\n\r\nFor instance, there is the next file tree:\r\n\r\n    \\---folder\r\n        |   file1.txt\r\n        |   file2.txt\r\n        |\r\n        \\---subfolder\r\n                file3.txt\r\n                file4.txt\r\n\r\nUsing the `java.nio.file.Files.walk(Path)`:\r\n\r\n    Files.walk(Paths.get(&quot;folder&quot;))\r\n            .filter(Files::isRegularFile)\r\n            .forEach(System.out::println);\r\nGives the following result:\r\n\r\n    folder\\file1.txt\r\n    folder\\file2.txt\r\n    folder\\subfolder\\file3.txt\r\n    folder\\subfolder\\file4.txt\r\n\r\nTo get all files only in the current directory use the `java.nio.file.Files.list(Path)`:\r\n\r\n    Files.list(Paths.get(&quot;folder&quot;))\r\n            .filter(Files::isRegularFile)\r\n            .forEach(System.out::println);\r\nResult:\r\n\r\n    folder\\file1.txt\r\n    folder\\file2.txt\r\n\r\n","title":"How to read all files in a folder from Java?","body":"<p>One remark according to get all files in the directory.<br>\nThe method <code>Files.walk(path)</code> will return all files by walking the file tree rooted at the given started file.</p>\n\n<p>For instance, there is the next file tree:</p>\n\n<pre><code>\\---folder\n    |   file1.txt\n    |   file2.txt\n    |\n    \\---subfolder\n            file3.txt\n            file4.txt\n</code></pre>\n\n<p>Using the <code>java.nio.file.Files.walk(Path)</code>:</p>\n\n<pre><code>Files.walk(Paths.get(\"folder\"))\n        .filter(Files::isRegularFile)\n        .forEach(System.out::println);\n</code></pre>\n\n<p>Gives the following result:</p>\n\n<pre><code>folder\\file1.txt\nfolder\\file2.txt\nfolder\\subfolder\\file3.txt\nfolder\\subfolder\\file4.txt\n</code></pre>\n\n<p>To get all files only in the current directory use the <code>java.nio.file.Files.list(Path)</code>:</p>\n\n<pre><code>Files.list(Paths.get(\"folder\"))\n        .filter(Files::isRegularFile)\n        .forEach(System.out::println);\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>folder\\file1.txt\nfolder\\file2.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2338182,"reputation":308,"user_id":2050055,"display_name":"Vishal Vijayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641314657,"creation_date":1606921131,"answer_id":65110544,"question_id":1844688,"body_markdown":"We can use org.apache.commons.io.FileUtils, use listFiles() mehtod to read all the files in a given folder.\r\n\r\neg:\r\n\r\n    FileUtils.listFiles(directory, new String[] {&quot;ext1&quot;, &quot;ext2&quot;}, true)\r\nThis read all the files in the given directory with given extensions, we can pass multiple extensions in the array and read recursively within the folder(true parameter).","title":"How to read all files in a folder from Java?","body":"<p>We can use org.apache.commons.io.FileUtils, use listFiles() mehtod to read all the files in a given folder.</p>\n<p>eg:</p>\n<pre><code>FileUtils.listFiles(directory, new String[] {&quot;ext1&quot;, &quot;ext2&quot;}, true)\n</code></pre>\n<p>This read all the files in the given directory with given extensions, we can pass multiple extensions in the array and read recursively within the folder(true parameter).</p>\n"},{"tags":[],"owner":{"account_id":8201651,"reputation":1736,"user_id":6172826,"display_name":"seunggabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641806369,"creation_date":1641806369,"answer_id":70650106,"question_id":1844688,"body_markdown":"```java\r\npublic static List&lt;File&gt; files(String dirname) {\r\n\tif (dirname == null) {\r\n\t\treturn Collections.emptyList();\r\n\t}\r\n\r\n\tFile dir = new File(dirname);\r\n\tif (!dir.exists()) {\r\n\t\treturn Collections.emptyList();\r\n\t}\r\n\r\n\tif (!dir.isDirectory()) {\r\n\t\treturn Collections.singletonList(file(dirname));\r\n\t}\r\n\r\n\treturn Arrays.stream(Objects.requireNonNull(dir.listFiles()))\r\n\t\t.collect(Collectors.toList());\r\n}\r\n```","title":"How to read all files in a folder from Java?","body":"<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;File&gt; files(String dirname) {\n    if (dirname == null) {\n        return Collections.emptyList();\n    }\n\n    File dir = new File(dirname);\n    if (!dir.exists()) {\n        return Collections.emptyList();\n    }\n\n    if (!dir.isDirectory()) {\n        return Collections.singletonList(file(dirname));\n    }\n\n    return Arrays.stream(Objects.requireNonNull(dir.listFiles()))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13210522,"reputation":414,"user_id":9540910,"display_name":"Collin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679071685,"creation_date":1679071685,"answer_id":75770168,"question_id":1844688,"body_markdown":"A one liner using .map to get all the filenames in `yourDirectory`:\r\n\r\n`List&lt;String&gt; files = Files.list(Paths.get(yourDirectory)).map(path -&gt; path.getFileName().toFile().getName()).collect(Collectors.toList());`","title":"How to read all files in a folder from Java?","body":"<p>A one liner using .map to get all the filenames in <code>yourDirectory</code>:</p>\n<p><code>List&lt;String&gt; files = Files.list(Paths.get(yourDirectory)).map(path -&gt; path.getFileName().toFile().getName()).collect(Collectors.toList());</code></p>\n"},{"tags":[],"owner":{"account_id":9066420,"reputation":174,"user_id":6751061,"display_name":"Nadav Ruskin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690502958,"creation_date":1690502958,"answer_id":76784124,"question_id":1844688,"body_markdown":"Here&#39;s a short one for getting a list of files in a directory:\r\n\r\n```java\r\n        File directory = new File(&quot;path&quot;);\r\n        File[] files = directory.listFiles(File::isFile);\r\n```","title":"How to read all files in a folder from Java?","body":"<p>Here's a short one for getting a list of files in a directory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        File directory = new File(&quot;path&quot;);\n        File[] files = directory.listFiles(File::isFile);\n</code></pre>\n"}],"owner":{"account_id":67639,"reputation":16346,"user_id":197831,"accept_rate":89,"display_name":"M.J."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1421484,"favorite_count":0,"down_vote_count":5,"up_vote_count":790,"accepted_answer_id":1846349,"answer_count":35,"score":785,"last_activity_date":1690502958,"creation_date":1259897977,"question_id":1844688,"body_markdown":"How to read all the files in a folder through Java? It doesn&#39;t matter which API.","title":"How to read all files in a folder from Java?","body":"<p>How to read all the files in a folder through Java? It doesn't matter which API.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690505482,"post_id":76784103,"comment_id":135366960,"body_markdown":"The `trace.bat` file is inside the JAR file for your application. You’ll need to write it onto the file system to use it in this way.","body":"The <code>trace.bat</code> file is inside the JAR file for your application. You’ll need to write it onto the file system to use it in this way."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690524631,"post_id":76784103,"comment_id":135368570,"body_markdown":"Print the value of the [URL] `res`, i.e. `System.out.println(res);` and you will see the problem. In any case you probably don&#39;t need to run the batch file. You can probably use class [ProcessBuilder](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ProcessBuilder.html)","body":"Print the value of the [URL] <code>res</code>, i.e. <code>System.out.println(res);</code> and you will see the problem. In any case you probably don&#39;t need to run the batch file. You can probably use class <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a>"}],"owner":{"account_id":23495866,"reputation":21,"user_id":17992692,"display_name":"Fezas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690502653,"creation_date":1690502653,"question_id":76784103,"body_markdown":"My project uses bat file in resources (tracert parser project):\r\n```\r\nURL res = getClass().getClassLoader().getResource(&quot;trace.bat&quot;);\r\n            File file = Paths.get(res.toURI()).toFile();\r\n            String absolutePath = file.getAbsolutePath();\r\n            scan = Runtime.getRuntime()\r\n                    .exec(&quot;cmd /c &quot; + absolutePath + &quot; &quot; + ip);\r\n```\r\nДалее я работаю с \r\n```\r\nInputStreamReader inputStreamReader = (new InputStreamReader(scan.getInputStream()));\r\n```\r\nEverything works fine in the IDE. After building in app-image I get an error:\r\n\r\n```\r\n2023-07-28 10:07:22,157 ERROR r.f.s.WorkerConnection [Thread-9] ERROR: \r\njava.nio.file.FileSystemNotFoundException: Provider &quot;jar&quot; not installed\r\n\tat java.nio.file.Path.of(Unknown Source) ~[?:?]\r\n\tat java.nio.file.Paths.get(Unknown Source) ~[?:?]\r\n\tat ru.fezas.scanet.WorkerConnection.runSystemCommand(WorkerConnection.java:130) [scanet-1.0-SNAPSHOT.jar:?]\r\n\tat ru.fezas.scanet.WorkerConnection.run(WorkerConnection.java:166) [scanet-1.0-SNAPSHOT.jar:?]\r\n```\r\nbat file content\r\n```\r\n@echo off\r\nchcp.com 65001\r\ntracert -w 1 %1\r\n```","title":"FileSystemNotFoundException: Provider &quot;jar&quot; not installed when working in a catalog &quot;resources&quot;","body":"<p>My project uses bat file in resources (tracert parser project):</p>\n<pre><code>URL res = getClass().getClassLoader().getResource(&quot;trace.bat&quot;);\n            File file = Paths.get(res.toURI()).toFile();\n            String absolutePath = file.getAbsolutePath();\n            scan = Runtime.getRuntime()\n                    .exec(&quot;cmd /c &quot; + absolutePath + &quot; &quot; + ip);\n</code></pre>\n<p>Далее я работаю с</p>\n<pre><code>InputStreamReader inputStreamReader = (new InputStreamReader(scan.getInputStream()));\n</code></pre>\n<p>Everything works fine in the IDE. After building in app-image I get an error:</p>\n<pre><code>2023-07-28 10:07:22,157 ERROR r.f.s.WorkerConnection [Thread-9] ERROR: \njava.nio.file.FileSystemNotFoundException: Provider &quot;jar&quot; not installed\n    at java.nio.file.Path.of(Unknown Source) ~[?:?]\n    at java.nio.file.Paths.get(Unknown Source) ~[?:?]\n    at ru.fezas.scanet.WorkerConnection.runSystemCommand(WorkerConnection.java:130) [scanet-1.0-SNAPSHOT.jar:?]\n    at ru.fezas.scanet.WorkerConnection.run(WorkerConnection.java:166) [scanet-1.0-SNAPSHOT.jar:?]\n</code></pre>\n<p>bat file content</p>\n<pre><code>@echo off\nchcp.com 65001\ntracert -w 1 %1\n</code></pre>\n"},{"tags":["java","string-formatting","string-concatenation","mud"],"comments":[{"owner":{"account_id":402910,"reputation":50810,"user_id":770361,"accept_rate":90,"display_name":"Luigi Plinge"},"score":9,"creation_date":1318658957,"post_id":7775394,"comment_id":9469042,"body_markdown":"Don&#39;t worry about performance unless you find it&#39;s an issue and that this is the bottleneck. Do whatever you think will lead to the most readable and maintainable code.","body":"Don&#39;t worry about performance unless you find it&#39;s an issue and that this is the bottleneck. Do whatever you think will lead to the most readable and maintainable code."}],"answers":[{"tags":[],"owner":{"account_id":185878,"reputation":7904,"user_id":422870,"display_name":"Saurabh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1566978907,"creation_date":1318646744,"answer_id":7775419,"question_id":7775394,"body_markdown":"I think String.format looks cleaner.\r\nHowever you can use StringBuilder and use append function to create the string you want","title":"Java concatenate to build string or format","body":"<p>I think String.format looks cleaner.\nHowever you can use StringBuilder and use append function to create the string you want</p>\n"},{"tags":[],"owner":{"account_id":950985,"reputation":1239,"user_id":977143,"display_name":"Tarc&#237;sio J&#250;nior"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318646746,"creation_date":1318646746,"answer_id":7775420,"question_id":7775394,"body_markdown":"Concateneting with plus, the compilet can transforms the code in performatic way. With string format i don t know. \r\n\r\nI prefer cocatenation with plus, i think that is easer to undersand. ","title":"Java concatenate to build string or format","body":"<p>Concateneting with plus, the compilet can transforms the code in performatic way. With string format i don t know. </p>\n\n<p>I prefer cocatenation with plus, i think that is easer to undersand. </p>\n"},{"comments":[{"owner":{"account_id":194764,"reputation":345,"user_id":437297,"accept_rate":75,"display_name":"two13"},"score":0,"creation_date":1318647577,"post_id":7775432,"comment_id":9468173,"body_markdown":"My reasoning behind it is more about readability.  I&#39;m pretty used to typing &quot; stuff &quot; + &quot; other stuff&quot; and will probably have to break myself from that habit if I go with another option.  What I was originally thinking was something like &quot;You [verb] to [user] [text]&quot; and do a replaceall (class driven, so I&#39;d add the variables like setElement(&quot;verb&quot;, verb) and then it would spit back a formatted string), but stumbled across .format and figured my original idea would be terrible with performance (but super easy to read).","body":"My reasoning behind it is more about readability.  I&#39;m pretty used to typing &quot; stuff &quot; + &quot; other stuff&quot; and will probably have to break myself from that habit if I go with another option.  What I was originally thinking was something like &quot;You [verb] to [user] [text]&quot; and do a replaceall (class driven, so I&#39;d add the variables like setElement(&quot;verb&quot;, verb) and then it would spit back a formatted string), but stumbled across .format and figured my original idea would be terrible with performance (but super easy to read)."}],"tags":[],"owner":{"account_id":974546,"reputation":6646,"user_id":996249,"accept_rate":98,"display_name":"nmagerko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318646871,"creation_date":1318646871,"answer_id":7775432,"question_id":7775394,"body_markdown":"I will be honest and suggest that you take the first one if you want less typing, or the latter one if you are looking for a more C-style way of doing it.\r\n\r\nI sat here for a minute or two pondering the idea of what could be a problem, but I think it comes down to how much you want to type.\r\n\r\nAnyone else have an idea?","title":"Java concatenate to build string or format","body":"<p>I will be honest and suggest that you take the first one if you want less typing, or the latter one if you are looking for a more C-style way of doing it.</p>\n\n<p>I sat here for a minute or two pondering the idea of what could be a problem, but I think it comes down to how much you want to type.</p>\n\n<p>Anyone else have an idea?</p>\n"},{"comments":[{"owner":{"account_id":973524,"reputation":301,"user_id":995518,"display_name":"Jake Thompson"},"score":1,"creation_date":1318646992,"post_id":7775437,"comment_id":9468131,"body_markdown":"Also you could support multiple languages:\nhttp://download.oracle.com/javase/tutorial/i18n/resbundle/concept.html","body":"Also you could support multiple languages: <a href=\"http://download.oracle.com/javase/tutorial/i18n/resbundle/concept.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/tutorial/i18n/resbundle/concept.h&zwnj;&#8203;tml</a>"}],"tags":[],"owner":{"account_id":973524,"reputation":301,"user_id":995518,"display_name":"Jake Thompson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1318646934,"creation_date":1318646934,"answer_id":7775437,"question_id":7775394,"body_markdown":"Assuming you are going to reuse base strings often  Store your templates like \r\n\r\nString mystring = &quot;You $1 to $2 \\&quot;$3\\&quot;&quot;\r\n\r\nThen just get a copy and do a replace $X with what you want.\r\n\r\nThis would work really well for a resource file too.","title":"Java concatenate to build string or format","body":"<p>Assuming you are going to reuse base strings often  Store your templates like </p>\n\n<p>String mystring = \"You $1 to $2 \\\"$3\\\"\"</p>\n\n<p>Then just get a copy and do a replace $X with what you want.</p>\n\n<p>This would work really well for a resource file too.</p>\n"},{"comments":[{"owner":{"account_id":434913,"reputation":3251,"user_id":821202,"display_name":"michael667"},"score":3,"creation_date":1318654365,"post_id":7775451,"comment_id":9468650,"body_markdown":"Disagree. From the [`StringBuilder`](http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html) javadoc: Where possible, it is recommended that this class be used in preference to `StringBuffer` as it will be faster under most implementations. --- Btw., I doubt that string concatenation is the bottleneck in such an application.","body":"Disagree. From the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/StringBuilder.html\" rel=\"nofollow noreferrer\"><code>StringBuilder</code></a> javadoc: Where possible, it is recommended that this class be used in preference to <code>StringBuffer</code> as it will be faster under most implementations. --- Btw., I doubt that string concatenation is the bottleneck in such an application."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1318680213,"post_id":7775451,"comment_id":9471057,"body_markdown":"Same difference, one synchronized, one not.  When synchronization is properly implemented the difference is negligible if there&#39;s no contention.  (And, obviously, one would not want to use StringBuilder if there is contention.)","body":"Same difference, one synchronized, one not.  When synchronization is properly implemented the difference is negligible if there&#39;s no contention.  (And, obviously, one would not want to use StringBuilder if there is contention.)"}],"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1318647057,"creation_date":1318647057,"answer_id":7775451,"question_id":7775394,"body_markdown":"The best, performance-wise, would probably be to use a StringBuffer.","title":"Java concatenate to build string or format","body":"<p>The best, performance-wise, would probably be to use a StringBuffer.</p>\n"},{"comments":[{"owner":{"account_id":194764,"reputation":345,"user_id":437297,"accept_rate":75,"display_name":"two13"},"score":1,"creation_date":1318732197,"post_id":7775598,"comment_id":9477379,"body_markdown":"Thanks for the detailed explanation, it helped me think things through. I&#39;m going to go with String.format as it&#39;s a) a built in solution and b) already making my life easier by making the strings much more readable.","body":"Thanks for the detailed explanation, it helped me think things through. I&#39;m going to go with String.format as it&#39;s a) a built in solution and b) already making my life easier by making the strings much more readable."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1690501249,"creation_date":1318650146,"answer_id":7775598,"question_id":7775394,"body_markdown":"If the strings are built using a single concatenation expression; e.g.\r\n\r\n    String s = &quot;You &quot; + verb + &quot; to &quot; + user + &quot; \\&quot;&quot; + text + &quot;\\&quot;&quot;;\r\n\r\nthen this is more or less equivalent to the more long winded:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    sb.append(&quot;You&quot;);\r\n    sb.append(verb);\r\n    sb.append(&quot; to &quot;);\r\n    sb.append(user);\r\n    sb.append(&quot; \\&quot;&quot;);\r\n    sb.append(text );\r\n    sb.append(&#39;&quot;&#39;);\r\n    String s = sb.toString();\r\n\r\nIn fact, a classic Java compiler will compile the former into the latter ... almost.  In Java 9, they implemented [JEP 280][1] which replaces the sequence of constructor and method calls in the bytecodes with a single `invokedynamic` bytecode.  The runtime system then optimizes this&lt;sup&gt;1&lt;/sup&gt;. \r\n\r\nThe efficiency issues arise when you start creating intermediate strings, or building strings using `+=` and so on.  In some cases,  using an explicit `StringBuilder` can be&lt;sup&gt;2&lt;/sup&gt; more efficient because you are reduce the amount of copying.\r\n\r\nNow when you use `String.format()`, it should be using a `StringBuilder` under the hood.  However, `format` also has to parse the format String each time you make the call, and that is an overhead you don&#39;t have if you do the string building optimally.\r\n\r\n----------\r\n\r\nHaving said this, My Advice would be to write the code in the way that is most readable.  Only worry about the most efficient way to build strings if *profiling* tells you that this is a real performance concern.  (Right now, you are spending time thinking about ways to address a performance issue that may turn out to be insignificant or irrelevant.)\r\n\r\nAnother answer mentions that using a format string may simplify support for multiple languages.  This is true, though there are limits as to what you can do with respect to such things as plurals, genders, and so on.\r\n\r\n--------------------\r\n\r\n\r\n&lt;sup&gt;1 - As a consequence, hand optimization as per the example above might actually have *negative* consequences, for Java 9 or later.  But this is a risk you take whenever you micro-optimize.&lt;br&gt;\r\n2 - Analyzing and predicting *when* this happens *in general* is difficult.&lt;/sup&gt;\r\n\r\n  [1]: http://openjdk.java.net/jeps/280","title":"Java concatenate to build string or format","body":"<p>If the strings are built using a single concatenation expression; e.g.</p>\n<pre><code>String s = &quot;You &quot; + verb + &quot; to &quot; + user + &quot; \\&quot;&quot; + text + &quot;\\&quot;&quot;;\n</code></pre>\n<p>then this is more or less equivalent to the more long winded:</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append(&quot;You&quot;);\nsb.append(verb);\nsb.append(&quot; to &quot;);\nsb.append(user);\nsb.append(&quot; \\&quot;&quot;);\nsb.append(text );\nsb.append('&quot;');\nString s = sb.toString();\n</code></pre>\n<p>In fact, a classic Java compiler will compile the former into the latter ... almost.  In Java 9, they implemented <a href=\"http://openjdk.java.net/jeps/280\" rel=\"nofollow noreferrer\">JEP 280</a> which replaces the sequence of constructor and method calls in the bytecodes with a single <code>invokedynamic</code> bytecode.  The runtime system then optimizes this<sup>1</sup>.</p>\n<p>The efficiency issues arise when you start creating intermediate strings, or building strings using <code>+=</code> and so on.  In some cases,  using an explicit <code>StringBuilder</code> can be<sup>2</sup> more efficient because you are reduce the amount of copying.</p>\n<p>Now when you use <code>String.format()</code>, it should be using a <code>StringBuilder</code> under the hood.  However, <code>format</code> also has to parse the format String each time you make the call, and that is an overhead you don't have if you do the string building optimally.</p>\n<hr />\n<p>Having said this, My Advice would be to write the code in the way that is most readable.  Only worry about the most efficient way to build strings if <em>profiling</em> tells you that this is a real performance concern.  (Right now, you are spending time thinking about ways to address a performance issue that may turn out to be insignificant or irrelevant.)</p>\n<p>Another answer mentions that using a format string may simplify support for multiple languages.  This is true, though there are limits as to what you can do with respect to such things as plurals, genders, and so on.</p>\n<hr />\n<p><sup>1 - As a consequence, hand optimization as per the example above might actually have <em>negative</em> consequences, for Java 9 or later.  But this is a risk you take whenever you micro-optimize.<br>\n2 - Analyzing and predicting <em>when</em> this happens <em>in general</em> is difficult.</sup></p>\n"},{"tags":[],"owner":{"account_id":900861,"reputation":2676,"user_id":937049,"accept_rate":50,"display_name":"Steve J"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1318653748,"creation_date":1318651732,"answer_id":7775676,"question_id":7775394,"body_markdown":"The key to keeping it simple is to never look at it.  Here is what I mean:\r\n\r\n    Joiner join = Joiner.on(&quot; &quot;);\r\n    \r\n    public void constructMessage(StringBuilder sb, Iterable&lt;String&gt; words) {\r\n      join.appendTo(sb, words);\r\n    }\r\n\r\nI&#39;m using the Guava Joiner class to make readability a non-issue.  What could be clearer than &quot;join&quot;?  All the nasty bits regarding concatenation are nicely hidden away.  By using Iterable&lt;String&gt;, I can use this method with all sorts of data structures, Lists being the most obvious.\r\n\r\nHere is an example of a call using a Guava ImmutableList (which is more efficient than a regular list, since any methods that modify the list just throw exceptions, and correctly represents the fact that constructMessage() cannot change the list of words, just consume it):\r\n\r\n    StringBuilder outputMessage = new StringBuilder();\r\n    constructMessage(outputMessage, \r\n             new ImmutableList.Builder&lt;String&gt;()\r\n                .add(&quot;You&quot;, verb, &quot;to&quot;, user, &quot;\\&quot;&quot;, text, &quot;\\&quot;&quot;)\r\n                .build());\r\n\r\n","title":"Java concatenate to build string or format","body":"<p>The key to keeping it simple is to never look at it.  Here is what I mean:</p>\n\n<pre><code>Joiner join = Joiner.on(\" \");\n\npublic void constructMessage(StringBuilder sb, Iterable&lt;String&gt; words) {\n  join.appendTo(sb, words);\n}\n</code></pre>\n\n<p>I'm using the Guava Joiner class to make readability a non-issue.  What could be clearer than \"join\"?  All the nasty bits regarding concatenation are nicely hidden away.  By using Iterable, I can use this method with all sorts of data structures, Lists being the most obvious.</p>\n\n<p>Here is an example of a call using a Guava ImmutableList (which is more efficient than a regular list, since any methods that modify the list just throw exceptions, and correctly represents the fact that constructMessage() cannot change the list of words, just consume it):</p>\n\n<pre><code>StringBuilder outputMessage = new StringBuilder();\nconstructMessage(outputMessage, \n         new ImmutableList.Builder&lt;String&gt;()\n            .add(\"You\", verb, \"to\", user, \"\\\"\", text, \"\\\"\")\n            .build());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"score":0,"creation_date":1562135398,"post_id":7779781,"comment_id":100277214,"body_markdown":"Seems to be the most neat &amp; convinent choice, and it&#39;s implemented via `java.util.Formatter`.","body":"Seems to be the most neat &amp; convinent choice, and it&#39;s implemented via <code>java.util.Formatter</code>."}],"tags":[],"owner":{"account_id":975919,"reputation":39,"user_id":997135,"display_name":"user997135"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1363197324,"creation_date":1318703292,"answer_id":7779781,"question_id":7775394,"body_markdown":"I think that concatenation with `+` is more readable than using `String.format`.\r\n\r\n`String.format` is good when you need to format number and dates.","title":"Java concatenate to build string or format","body":"<p>I think that concatenation with <code>+</code> is more readable than using <code>String.format</code>.</p>\n\n<p><code>String.format</code> is good when you need to format number and dates.</p>\n"}],"owner":{"account_id":194764,"reputation":345,"user_id":437297,"accept_rate":75,"display_name":"two13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51028,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":7775598,"answer_count":8,"score":16,"last_activity_date":1690501249,"creation_date":1318646414,"question_id":7775394,"body_markdown":"I&#39;m writing a MUD (text based game) at the moment using java.  One of the major aspects of a MUD is formatting strings and sending it back to the user.  How would this best be accomplished?\r\n\r\nSay I wanted to send the following string:\r\n\r\nYou say to Someone &quot;Hello!&quot; - where &quot;Someone&quot;, &quot;say&quot; and &quot;Hello!&quot; are all variables.  Which would be best performance wise?\r\n\r\n`&quot;You &quot; + verb + &quot; to &quot; + user + &quot; \\&quot;&quot; + text + &quot;\\&quot;&quot;`\r\n\r\nor\r\n\r\n`String.format(&quot;You %1$s to %2$s \\&quot;%3$s\\&quot;&quot;, verb, user, text)`\r\n\r\nor some other option?\r\n\r\nI&#39;m not sure which is going to be easier to use in the end (which is important because it&#39;ll be everywhere), but I&#39;m thinking about it at this point because concatenating with +&#39;s is getting a bit confusing with some of the bigger lines. I feel that using StringBuilder in this case will simply make it even less readable.\r\n\r\nAny suggestion here?","title":"Java concatenate to build string or format","body":"<p>I'm writing a MUD (text based game) at the moment using java.  One of the major aspects of a MUD is formatting strings and sending it back to the user.  How would this best be accomplished?</p>\n\n<p>Say I wanted to send the following string:</p>\n\n<p>You say to Someone \"Hello!\" - where \"Someone\", \"say\" and \"Hello!\" are all variables.  Which would be best performance wise?</p>\n\n<p><code>\"You \" + verb + \" to \" + user + \" \\\"\" + text + \"\\\"\"</code></p>\n\n<p>or</p>\n\n<p><code>String.format(\"You %1$s to %2$s \\\"%3$s\\\"\", verb, user, text)</code></p>\n\n<p>or some other option?</p>\n\n<p>I'm not sure which is going to be easier to use in the end (which is important because it'll be everywhere), but I'm thinking about it at this point because concatenating with +'s is getting a bit confusing with some of the bigger lines. I feel that using StringBuilder in this case will simply make it even less readable.</p>\n\n<p>Any suggestion here?</p>\n"},{"tags":["java","selenium-webdriver","webdriver","selenium4"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690496424,"post_id":76782505,"comment_id":135366055,"body_markdown":"Update the question with the complete error stacktrace.","body":"Update the question with the complete error stacktrace."}],"owner":{"account_id":28585881,"reputation":11,"user_id":21886109,"display_name":"Sateeshkumar Varma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690500856,"creation_date":1690482360,"question_id":76782505,"body_markdown":"I have updated my project from selenium 3 to 4 after that i am getting this warning after test execution completes.\r\n\r\n     org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n    WARNING: Connection reset\r\n    java.net.SocketException: Connection reset\r\n            at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\r\n            at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)\r\n            at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:256)\r\n            at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n            at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n            at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\r\n            at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\r\n            at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:1623)\r\n\r\n\r\nI have these capabilities added:\r\n```\r\n`ChromeOptions options = new ChromeOptions();\r\n\t\toptions.addArguments(&quot;window-size=1280x1024&quot;);\r\n\t\toptions.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n\t\toptions.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n\t\tDesiredCapabilities capabilities = new DesiredCapabilities();\r\n\t\tcapabilities.setCapability (CapabilityType.ACCEPT_INSECURE_CERTS, true);\r\n\t\tcapabilities.setCapability (ChromeOptions.CAPABILITY, options);\r\n\t\toptions.merge(capabilities);\r\n\t\t\r\n\t\tdriver = new ChromeDriver(options);`\r\n```\r\n\r\nAlso my POM is :\r\n\r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;webdriver.driver&gt;\r\ne&lt;/webdriver.driver&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.6&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gherkin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t\r\n    \t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;4.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;5.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.41.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--Cucumber report --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cucumber-reports&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.8.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-project&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-model&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.01&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xerces&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n&lt;!-- \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.xerces&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt; --&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t&lt;groupId&gt;xerces&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.8.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n```\r\n\r\n","title":"How i can fix this warning org.openqa.selenium.remote.http.WebSocket$Listener onError WARNING: Connection reset","body":"<p>I have updated my project from selenium 3 to 4 after that i am getting this warning after test execution completes.</p>\n<pre><code> org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n        at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:401)\n        at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:434)\n        at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:256)\n        at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n        at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:788)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:724)\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:650)\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:1623)\n</code></pre>\n<p>I have these capabilities added:</p>\n<pre><code>`ChromeOptions options = new ChromeOptions();\n        options.addArguments(&quot;window-size=1280x1024&quot;);\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n        options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability (CapabilityType.ACCEPT_INSECURE_CERTS, true);\n        capabilities.setCapability (ChromeOptions.CAPABILITY, options);\n        options.merge(capabilities);\n        \n        driver = new ChromeDriver(options);`\n</code></pre>\n<p>Also my POM is :</p>\n<pre><code>&lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;webdriver.driver&gt;\ne&lt;/webdriver.driver&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;gherkin&lt;/artifactId&gt;\n            &lt;version&gt;5.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;4.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            \n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n            &lt;version&gt;2.41.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Cucumber report --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.mkolisnyk&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-reports&lt;/artifactId&gt;\n            &lt;version&gt;1.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.15&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.8.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-project&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-model&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;version&gt;1.4.01&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;xerces&lt;/groupId&gt;\n            &lt;artifactId&gt;xerces&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n&lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.xerces&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n            &lt;version&gt;2.9.1&lt;/version&gt;\n        &lt;/dependency&gt; --&gt;\n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;xerces&lt;/groupId&gt;\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;version&gt;2.8.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1690365836,"post_id":76770089,"comment_id":135342261,"body_markdown":"A `LinkedHashMap` maintains order of insertion. `Map&lt;Character, Integer&gt; hashdata = new LinkedHashMap&lt;Character, Integer&gt;();\n`","body":"A <code>LinkedHashMap</code> maintains order of insertion. <code>Map&lt;Character, Integer&gt; hashdata = new LinkedHashMap&lt;Character, Integer&gt;(); </code>"},{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1690366024,"post_id":76770089,"comment_id":135342312,"body_markdown":"[HashMap: This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time.](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html) - Wanting a specific order form a HashMap is a futile exercise. If you want a deterministic order you need to use another implementation of Map","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">HashMap: This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time.</a> - Wanting a specific order form a HashMap is a futile exercise. If you want a deterministic order you need to use another implementation of Map"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":3,"creation_date":1690367375,"post_id":76770089,"comment_id":135342597,"body_markdown":"Your loop body can be `hashdata.compute(c, (k, v) -&gt; v == null? 1 : v+1);`","body":"Your loop body can be <code>hashdata.compute(c, (k, v) -&gt; v == null? 1 : v+1);</code>"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":2,"creation_date":1690370805,"post_id":76770089,"comment_id":135343259,"body_markdown":"Are you sure that the ordering is a requirement of your task?","body":"Are you sure that the ordering is a requirement of your task?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690502961,"post_id":76770089,"comment_id":135366724,"body_markdown":"1. `HashMap` has no ordering guarantee. 2. `toString()` has no format guarantee. If this is a genuine requirement send it back with these comments.","body":"1. <code>HashMap</code> has no ordering guarantee. 2. <code>toString()</code> has no format guarantee. If this is a genuine requirement send it back with these comments."}],"answers":[{"tags":[],"owner":{"account_id":8628424,"reputation":91,"user_id":6460906,"display_name":"Dmitrii Podlesnykh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690368395,"creation_date":1690368088,"answer_id":76770421,"question_id":76770089,"body_markdown":"You can use `LinkedHashMap` instead of `HashMap`.\r\n\r\n - `HashMap` is an unordered &amp; unsorted\r\n - `LinkedHashMap` is an ordered and sorted by insertion time of elements:\r\n`aaaaacccbbbbaaa` (**a** - first, **c** - second, **b** - third)\r\n\r\n\r\n\r\n\r\nExample:\r\n\r\n    Map&lt;Character, Integer&gt; hashdata = new LinkedHashMap&lt;Character, Integer&gt;();\r\n\r\n","title":"I have to exchange position from {a=8, b=4, c=3} to expecting {a=8, c=3, b=4} in hashmap","body":"<p>You can use <code>LinkedHashMap</code> instead of <code>HashMap</code>.</p>\n<ul>\n<li><code>HashMap</code> is an unordered &amp; unsorted</li>\n<li><code>LinkedHashMap</code> is an ordered and sorted by insertion time of elements:\n<code>aaaaacccbbbbaaa</code> (<strong>a</strong> - first, <strong>c</strong> - second, <strong>b</strong> - third)</li>\n</ul>\n<p>Example:</p>\n<pre><code>Map&lt;Character, Integer&gt; hashdata = new LinkedHashMap&lt;Character, Integer&gt;();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690400544,"creation_date":1690383663,"answer_id":76772632,"question_id":76770089,"body_markdown":"Maps are inherently unordered.  As has been suggested, `LinkedHashMap` preserves the insertion order.  There are many ways to accomplish this including yours.  Here are two of the same except one uses `Map&lt;String,Integer&gt;` the other uses `Map&lt;Character,Integer&gt;`\r\n\r\nThe Map.merge function takes the `key` (what your counting), and a value.  If the key is absent or the value is null, null is replaced by the value for the given key.  Otherwise, the value is remapped using the mapping function `(Integer::sum)` using the supplied value `(1)`.\r\n\r\nGiven\r\n```\r\n String value = &quot;aaaaacccbbbbaaa&quot;;\r\n```\r\nThe first example, uses a `Character` as the map key; iterating over the character array, and wrapping the existing `char` in a `Character` object.\r\n```\r\nMap&lt;Character, Integer&gt; freq4 = new LinkedHashMap&lt;&gt;();\r\nfor(char ch : value.toCharArray()) {\r\n   freq4.merge(Character.valueOf((char)ch), 1, Integer::sum);\r\n}\r\n \r\nSystem.out.println(freq);\r\n```\r\nThis splits the string on an empty string which essentially splits between each character, resulting in an array of single character strings.\r\n```\r\nMap&lt;String, Integer&gt; freq = new LinkedHashMap&lt;&gt;();\r\nfor(String chstr : value.split(&quot;&quot;)) {\r\n      freq3.merge(chstr, 1, Integer::sum);\r\n}\r\nSystem.out.println(freq);\r\n```\r\nBoth print\r\n```\r\n{a=8, c=3, b=4}\r\n ","title":"I have to exchange position from {a=8, b=4, c=3} to expecting {a=8, c=3, b=4} in hashmap","body":"<p>Maps are inherently unordered.  As has been suggested, <code>LinkedHashMap</code> preserves the insertion order.  There are many ways to accomplish this including yours.  Here are two of the same except one uses <code>Map&lt;String,Integer&gt;</code> the other uses <code>Map&lt;Character,Integer&gt;</code></p>\n<p>The Map.merge function takes the <code>key</code> (what your counting), and a value.  If the key is absent or the value is null, null is replaced by the value for the given key.  Otherwise, the value is remapped using the mapping function <code>(Integer::sum)</code> using the supplied value <code>(1)</code>.</p>\n<p>Given</p>\n<pre><code> String value = &quot;aaaaacccbbbbaaa&quot;;\n</code></pre>\n<p>The first example, uses a <code>Character</code> as the map key; iterating over the character array, and wrapping the existing <code>char</code> in a <code>Character</code> object.</p>\n<pre><code>Map&lt;Character, Integer&gt; freq4 = new LinkedHashMap&lt;&gt;();\nfor(char ch : value.toCharArray()) {\n   freq4.merge(Character.valueOf((char)ch), 1, Integer::sum);\n}\n \nSystem.out.println(freq);\n</code></pre>\n<p>This splits the string on an empty string which essentially splits between each character, resulting in an array of single character strings.</p>\n<pre><code>Map&lt;String, Integer&gt; freq = new LinkedHashMap&lt;&gt;();\nfor(String chstr : value.split(&quot;&quot;)) {\n      freq3.merge(chstr, 1, Integer::sum);\n}\nSystem.out.println(freq);\n</code></pre>\n<p>Both print</p>\n<pre><code>{a=8, c=3, b=4}\n \n</code></pre>\n"}],"owner":{"account_id":29093878,"reputation":27,"user_id":22287155,"display_name":"pradeep kumara.v"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1690498492,"creation_date":1690365735,"question_id":76770089,"body_markdown":"I am getting output {a=8, b=4, c=3} in hashmap:\r\n\r\n```java\r\nString value = &quot;aaaaacccbbbbaaa&quot;;\r\nHashMap&lt;Character, Integer&gt; hashdata=new HashMap&lt;Character, Integer&gt;();\r\n     \t \r\nchar[] data=value.toCharArray();\r\nfor (char c : data) {\r\n    if (hashdata.containsKey(c)) {\r\n        hashdata.put(c, hashdata.get(c)+1);\r\n    } else {\r\n        hashdata.put(c, 1);\r\n    }\r\n}\r\n\r\nSystem.out.println(hashdata);\r\n```\r\n\r\nBut I am expecting output {a=8, c=3, b=4}. How can I exchange position?\r\n","title":"I have to exchange position from {a=8, b=4, c=3} to expecting {a=8, c=3, b=4} in hashmap","body":"<p>I am getting output {a=8, b=4, c=3} in hashmap:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String value = &quot;aaaaacccbbbbaaa&quot;;\nHashMap&lt;Character, Integer&gt; hashdata=new HashMap&lt;Character, Integer&gt;();\n         \nchar[] data=value.toCharArray();\nfor (char c : data) {\n    if (hashdata.containsKey(c)) {\n        hashdata.put(c, hashdata.get(c)+1);\n    } else {\n        hashdata.put(c, 1);\n    }\n}\n\nSystem.out.println(hashdata);\n</code></pre>\n<p>But I am expecting output {a=8, c=3, b=4}. How can I exchange position?</p>\n"},{"tags":["java","apache-spark","kubernetes","spark-operator"],"answers":[{"comments":[{"owner":{"account_id":80680,"reputation":9514,"user_id":227986,"accept_rate":59,"display_name":"BillMan"},"score":0,"creation_date":1591723482,"post_id":62250594,"comment_id":110162275,"body_markdown":"Thanks, I did find an [example](https://medium.com/@rohaan/handling-kubernetes-custom-resources-in-java-using-fabric8-kubernetes-client-249c4fe01d27) using the Fabric client. I wasn&#39;t able to find the same with the java client, but did figure it out. I used the CustomObjectsApi.createNamespacedCustomObject() method.","body":"Thanks, I did find an <a href=\"https://medium.com/@rohaan/handling-kubernetes-custom-resources-in-java-using-fabric8-kubernetes-client-249c4fe01d27\" rel=\"nofollow noreferrer\">example</a> using the Fabric client. I wasn&#39;t able to find the same with the java client, but did figure it out. I used the CustomObjectsApi.createNamespacedCustomObject() method."}],"tags":[],"owner":{"account_id":10805094,"reputation":931,"user_id":7947644,"display_name":"Alex Sasnouskikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1591558333,"creation_date":1591558333,"answer_id":62250594,"question_id":62181136,"body_markdown":"I would recommend to look into [Fabric8 K8s client](https://github.com/fabric8io/kubernetes-client) used by Apache Spark in K8s or the official [Java K8s client](https://github.com/kubernetes-client/java). With these libs you can submit the K8s resources using the code.","title":"Calling Kubernetes Spark Operator with Java api","body":"<p>I would recommend to look into <a href=\"https://github.com/fabric8io/kubernetes-client\" rel=\"nofollow noreferrer\">Fabric8 K8s client</a> used by Apache Spark in K8s or the official <a href=\"https://github.com/kubernetes-client/java\" rel=\"nofollow noreferrer\">Java K8s client</a>. With these libs you can submit the K8s resources using the code.</p>\n"},{"tags":[],"owner":{"account_id":5868718,"reputation":300,"user_id":7800693,"display_name":"Bhargav Kosaraju"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613962208,"creation_date":1613962208,"answer_id":66309435,"question_id":62181136,"body_markdown":"I have written a Application to submit spark job to Kubernetes where all you need to pass is Config Map (key value pair for app)\r\n\r\nyou could find the same in [github][1] Under class `RunSparkJobInKube(jobConfiguration: Map[String,String]) `\r\n\r\nthis might help help you provide an idea for your requirement.\r\n\r\nthough this is scala you can call inside java as normal method.\r\n\r\nhere in this app I have integrated with IAM (aws specific) in case if you are interested in security.\r\n\r\n  [1]: https://github.com/bkosaraju/utils","title":"Calling Kubernetes Spark Operator with Java api","body":"<p>I have written a Application to submit spark job to Kubernetes where all you need to pass is Config Map (key value pair for app)</p>\n<p>you could find the same in <a href=\"https://github.com/bkosaraju/utils\" rel=\"nofollow noreferrer\">github</a> Under class <code>RunSparkJobInKube(jobConfiguration: Map[String,String]) </code></p>\n<p>this might help help you provide an idea for your requirement.</p>\n<p>though this is scala you can call inside java as normal method.</p>\n<p>here in this app I have integrated with IAM (aws specific) in case if you are interested in security.</p>\n"},{"tags":[],"owner":{"account_id":2169678,"reputation":611,"user_id":1922011,"display_name":"Mukhtiar Ahmed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651400224,"creation_date":1651400224,"answer_id":72075821,"question_id":62181136,"body_markdown":"I have generated the Spark operator Java client to submit the spark job to Kubernetes. I am sharing the Github URL of repository [client-java-spark-operator][1]\r\n\r\n\r\n  [1]: https://github.com/mukhtiarahmed/client-java-spark-operator-models","title":"Calling Kubernetes Spark Operator with Java api","body":"<p>I have generated the Spark operator Java client to submit the spark job to Kubernetes. I am sharing the Github URL of repository <a href=\"https://github.com/mukhtiarahmed/client-java-spark-operator-models\" rel=\"nofollow noreferrer\">client-java-spark-operator</a></p>\n"}],"owner":{"account_id":80680,"reputation":9514,"user_id":227986,"accept_rate":59,"display_name":"BillMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62250594,"answer_count":3,"score":2,"last_activity_date":1690498163,"creation_date":1591212467,"question_id":62181136,"body_markdown":"There are plenty of good examples creating Spark jobs using the Kubernetes Spark Operator and simply submitting a request like the following \r\n\r\n```\r\nkubectl apply -f spark-pi.yaml\r\n```\r\n\r\nWhere the spark-pi.yaml can be found at the this [here](https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/blob/master/examples/spark-pi.yaml)\r\n\r\nDoes anyone know the easiest way to submit a job like this with the Java K8s api? ","title":"Calling Kubernetes Spark Operator with Java api","body":"<p>There are plenty of good examples creating Spark jobs using the Kubernetes Spark Operator and simply submitting a request like the following</p>\n<pre><code>kubectl apply -f spark-pi.yaml\n</code></pre>\n<p>Where the spark-pi.yaml can be found at the this <a href=\"https://github.com/GoogleCloudPlatform/spark-on-k8s-operator/blob/master/examples/spark-pi.yaml\" rel=\"nofollow noreferrer\">here</a></p>\n<p>Does anyone know the easiest way to submit a job like this with the Java K8s api?</p>\n"},{"tags":["java","kotlin","gradle","input"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1690421640,"post_id":76775625,"comment_id":135352860,"body_markdown":"You forgot to add important information to your question: the complete errors (just an exception name does not qualify) and how do you execute your Java application.","body":"You forgot to add important information to your question: the complete errors (just an exception name does not qualify) and how do you execute your Java application."},{"owner":{"account_id":23278258,"reputation":82,"user_id":17362058,"display_name":"Confused"},"score":0,"creation_date":1690444993,"post_id":76775625,"comment_id":135355573,"body_markdown":"@aled have now added that info to question","body":"@aled have now added that info to question"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690457542,"post_id":76775625,"comment_id":135358150,"body_markdown":"How do you run it in the command line? What is the actual command line you execute?","body":"How do you run it in the command line? What is the actual command line you execute?"},{"owner":{"account_id":23278258,"reputation":82,"user_id":17362058,"display_name":"Confused"},"score":0,"creation_date":1690475664,"post_id":76775625,"comment_id":135362490,"body_markdown":"@aled added as well to bottom of question (gradle run)","body":"@aled added as well to bottom of question (gradle run)"}],"answers":[{"tags":[],"owner":{"account_id":23278258,"reputation":82,"user_id":17362058,"display_name":"Confused"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690497488,"creation_date":1690497488,"answer_id":76783818,"question_id":76775625,"body_markdown":"It was an issue with the way I was running it. Using the VSCODE gradle menu on the left sidebar was causing the error, when I ran with cmd line, it wasn&#39;t working either, but it worked in powershell. All with the same &quot;gradle run&quot; command. Thanks aled for pointing me in that direction. ","title":"Why does my Kotlin DSL code for Gradle not enable System.in in my Java project?","body":"<p>It was an issue with the way I was running it. Using the VSCODE gradle menu on the left sidebar was causing the error, when I ran with cmd line, it wasn't working either, but it worked in powershell. All with the same &quot;gradle run&quot; command. Thanks aled for pointing me in that direction.</p>\n"}],"owner":{"account_id":23278258,"reputation":82,"user_id":17362058,"display_name":"Confused"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690497488,"creation_date":1690413620,"question_id":76775625,"body_markdown":"I&#39;ve been trying to write a simple application using Scanner in Java and was having issues. I would constantly get the NoSuchElementException thrown by the scanner no matter what. \r\n\r\nHere is my full error, code, and my build.gradle.kts :\r\n\r\n    Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n        at App.main(App.java:11)\r\n\r\n\r\nCODE:\r\n\r\n```\r\npublic class App {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // creates an object of Scanner\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n\r\n        // takes input from the keyboard\r\n        String name = input.nextLine();\r\n\r\n        // prints the name\r\n        System.out.println(&quot;My name is &quot; + name);\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nBUILD.GRADLE.KTS :\r\n\r\n```\r\n/*\r\n * This file was generated by the Gradle &#39;init&#39; task.\r\n *\r\n * This generated file contains a sample Java application project to get you started.\r\n * For more details on building Java &amp; JVM projects, please refer to https://docs.gradle.org/8.2.1/userguide/building_java_projects.html in the Gradle documentation.\r\n */\r\n\r\nrepositories {\r\n    // Use Maven Central for resolving dependencies.\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    // Use JUnit Jupiter for testing.\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.2&quot;)\r\n\r\n    testRuntimeOnly(&quot;org.junit.platform:junit-platform-launcher&quot;)\r\n\r\n    // This dependency is used by the application.\r\n    implementation(&quot;com.google.guava:guava:31.1-jre&quot;)\r\n}\r\n\r\n// Apply a specific Java toolchain to ease working on different environments.\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n    }\r\n}\r\n\r\napplication {\r\n    // Define the main class for the application.\r\n    mainClass.set(&quot;project.App&quot;)\r\n}\r\n\r\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\r\n    // Use JUnit Platform for unit tests.\r\n    useJUnitPlatform()\r\n}\r\n\r\nplugins {\r\n    application\r\n}\r\n\r\ntasks.named&lt;JavaExec&gt;(&quot;run&quot;) {\r\n    standardInput = System.`in`\r\n}\r\n```\r\n\r\n\r\nI changed my code a few time, tried with Buffered Reader, but I couldn&#39;t get input. I expected it would be a problem with my code, but since I&#39;m new to Gradle, I started exploring the possibility that it&#39;s an issue with the way I set up Gradle. I found this [thread](https://stackoverflow.com/questions/13172137/console-application-with-java-and-gradle) and tried copy and pasting the kotlin code that other people said worked for them. Looking through the docs, it seems to be correct. Even with this new code snippet (at the bottom of the build.gradle.kts file), I still get NoSuchElementExceptions and cannot get user input. I am running my project with the gradle extension in vscode, but I get the same issue running it in the command prompt (gradle run) on the windows command line. ","title":"Why does my Kotlin DSL code for Gradle not enable System.in in my Java project?","body":"<p>I've been trying to write a simple application using Scanner in Java and was having issues. I would constantly get the NoSuchElementException thrown by the scanner no matter what.</p>\n<p>Here is my full error, code, and my build.gradle.kts :</p>\n<pre><code>Exception in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n    at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n    at App.main(App.java:11)\n</code></pre>\n<p>CODE:</p>\n<pre><code>public class App {\n\n    public static void main(String[] args) {\n\n        // creates an object of Scanner\n        Scanner input = new Scanner(System.in);\n\n        System.out.print(&quot;Enter your name: &quot;);\n\n        // takes input from the keyboard\n        String name = input.nextLine();\n\n        // prints the name\n        System.out.println(&quot;My name is &quot; + name);\n\n    }\n}\n\n</code></pre>\n<p>BUILD.GRADLE.KTS :</p>\n<pre><code>/*\n * This file was generated by the Gradle 'init' task.\n *\n * This generated file contains a sample Java application project to get you started.\n * For more details on building Java &amp; JVM projects, please refer to https://docs.gradle.org/8.2.1/userguide/building_java_projects.html in the Gradle documentation.\n */\n\nrepositories {\n    // Use Maven Central for resolving dependencies.\n    mavenCentral()\n}\n\ndependencies {\n    // Use JUnit Jupiter for testing.\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter:5.9.2&quot;)\n\n    testRuntimeOnly(&quot;org.junit.platform:junit-platform-launcher&quot;)\n\n    // This dependency is used by the application.\n    implementation(&quot;com.google.guava:guava:31.1-jre&quot;)\n}\n\n// Apply a specific Java toolchain to ease working on different environments.\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n\napplication {\n    // Define the main class for the application.\n    mainClass.set(&quot;project.App&quot;)\n}\n\ntasks.named&lt;Test&gt;(&quot;test&quot;) {\n    // Use JUnit Platform for unit tests.\n    useJUnitPlatform()\n}\n\nplugins {\n    application\n}\n\ntasks.named&lt;JavaExec&gt;(&quot;run&quot;) {\n    standardInput = System.`in`\n}\n</code></pre>\n<p>I changed my code a few time, tried with Buffered Reader, but I couldn't get input. I expected it would be a problem with my code, but since I'm new to Gradle, I started exploring the possibility that it's an issue with the way I set up Gradle. I found this <a href=\"https://stackoverflow.com/questions/13172137/console-application-with-java-and-gradle\">thread</a> and tried copy and pasting the kotlin code that other people said worked for them. Looking through the docs, it seems to be correct. Even with this new code snippet (at the bottom of the build.gradle.kts file), I still get NoSuchElementExceptions and cannot get user input. I am running my project with the gradle extension in vscode, but I get the same issue running it in the command prompt (gradle run) on the windows command line.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1637926572,"post_id":70123650,"comment_id":123959253,"body_markdown":"&quot;info&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false} --&gt; This field shows value, it should return {&quot;templated&quot;:false} value, do you see any error in log?  or just clear browser cache and hit again.","body":"&quot;info&quot;:{&quot;href&quot;:&quot;<a href=\"https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false\" rel=\"nofollow noreferrer\">localhost:8443/actuator/info&quot;,&quot;templated&quot;:fa&zwnj;&#8203;lse</a>} --&gt; This field shows value, it should return {&quot;templated&quot;:false} value, do you see any error in log?  or just clear browser cache and hit again."},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637929314,"post_id":70123650,"comment_id":123960208,"body_markdown":"I&#39;m making the call with curl no nho cache, and there is no error in the log.","body":"I&#39;m making the call with curl no nho cache, and there is no error in the log."},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1637929371,"post_id":70123650,"comment_id":123960230,"body_markdown":"if you hit the url in the browser, you get the expected response?","body":"if you hit the url in the browser, you get the expected response?"},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637929461,"post_id":70123650,"comment_id":123960257,"body_markdown":"not always an empty object","body":"not always an empty object"},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1637929599,"post_id":70123650,"comment_id":123960295,"body_markdown":"means you get ONLY some times empty object?","body":"means you get ONLY some times empty object?"},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637929814,"post_id":70123650,"comment_id":123960370,"body_markdown":"when i call / actuator / info i always get an empty json {}","body":"when i call / actuator / info i always get an empty json {}"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1637930430,"post_id":70123650,"comment_id":123960593,"body_markdown":"The info endpoint will return an empty object unless you have enabled one or more info contributors. What did you expect the response to contain?","body":"The info endpoint will return an empty object unless you have enabled one or more info contributors. What did you expect the response to contain?"},{"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"score":0,"creation_date":1637930935,"post_id":70123650,"comment_id":123960757,"body_markdown":"In my application.properties I entered info.app.name = @ project.name @, I expected actuator / info to return me {app: {name: name}}","body":"In my application.properties I entered info.app.name = @ project.name @, I expected actuator / info to return me {app: {name: name}}"}],"answers":[{"tags":[],"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1690497000,"creation_date":1637935437,"answer_id":70125660,"question_id":70123650,"body_markdown":"I solved the problem, just add in the application.properties file\r\n\r\n    management.info.env.enabled=true\r\n\r\nand the value of\r\n\r\n    info.app.name=@project.name@\r\n\r\nis returned by `/actuator/info`","title":"Spring boot 2.6 actuator info","body":"<p>I solved the problem, just add in the application.properties file</p>\n<pre><code>management.info.env.enabled=true\n</code></pre>\n<p>and the value of</p>\n<pre><code>info.app.name=@project.name@\n</code></pre>\n<p>is returned by <code>/actuator/info</code></p>\n"}],"owner":{"account_id":3811420,"reputation":491,"user_id":3162140,"display_name":"user3162140"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3838,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70125660,"answer_count":1,"score":6,"last_activity_date":1690497000,"creation_date":1637925896,"question_id":70123650,"body_markdown":"I am using actuator and in the application.properties file i have the following fields\r\n\r\n    management.endpoints.web.exposure.include=health,info\r\n    management.endpoint.info.enabled=true\r\n    management.info.defaults.enabled=true\r\n\r\nwhen I call the url `/actuator` I see\r\n\r\n    {&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator&quot;,&quot;templated&quot;:false},&quot;health&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health&quot;,&quot;templated&quot;:false},&quot;health-path&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health/{*path}&quot;,&quot;templated&quot;:true},&quot;info&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false}}}\r\n\r\nbut when I call `/actuator/info` it returns me `{}`\r\n\r\nWhat am I doing wrong?\r\n\r\nThanks","title":"Spring boot 2.6 actuator info","body":"<p>I am using actuator and in the application.properties file i have the following fields</p>\n<pre><code>management.endpoints.web.exposure.include=health,info\nmanagement.endpoint.info.enabled=true\nmanagement.info.defaults.enabled=true\n</code></pre>\n<p>when I call the url <code>/actuator</code> I see</p>\n<pre><code>{&quot;_links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator&quot;,&quot;templated&quot;:false},&quot;health&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health&quot;,&quot;templated&quot;:false},&quot;health-path&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/health/{*path}&quot;,&quot;templated&quot;:true},&quot;info&quot;:{&quot;href&quot;:&quot;https://localhost:8443/actuator/info&quot;,&quot;templated&quot;:false}}}\n</code></pre>\n<p>but when I call <code>/actuator/info</code> it returns me <code>{}</code></p>\n<p>What am I doing wrong?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","kotlin","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690392321,"post_id":76768266,"comment_id":135348488,"body_markdown":"Does this answer your question? [Is Spring Boot WebClient OAuth2 client\\_credentials supported?](https://stackoverflow.com/questions/55894460/is-spring-boot-webclient-oauth2-client-credentials-supported)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55894460/is-spring-boot-webclient-oauth2-client-credentials-supported\">Is Spring Boot WebClient OAuth2 client_credentials supported?</a>"}],"owner":{"account_id":22967541,"reputation":1,"user_id":20192552,"display_name":"Gl.k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690494506,"creation_date":1690349500,"question_id":76768266,"body_markdown":"I am trying to add authorization to the application using client credentials. \r\n\r\nConfiguration class:\r\n\r\n```\r\n@Configuration\r\nclass CompanyScoringAuthClient {\r\n    \r\n    @Bean\r\n    fun oAuth2ClientManager(clientRegistrations: ClientRegistrationRepository): OAuth2AuthorizedClientManager {\r\n        val clientService = InMemoryOAuth2AuthorizedClientService(clientRegistrations)\r\n        return AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrations, clientService)\r\n    }\r\n\r\n    @Bean\r\n    fun authRestTemplate(clientManager: OAuth2AuthorizedClientManager): RestTemplate {\r\n        val restTemplate = RestTemplate()\r\n        restTemplate.interceptors.add {  request, body, execution -&gt;\r\n            val authorizeRequest = OAuth2AuthorizeRequest\r\n                .withClientRegistrationId(&quot;siam&quot;)\r\n                .principal(&quot;anon&quot;)\r\n                .build()\r\n            val client = clientManager.authorize(authorizeRequest)\r\n\r\n            request.headers.add(&quot;Authorization&quot;, &quot;Bearer ${client!!.accessToken.tokenValue}&quot;)\r\n            execution.execute(request, body) }\r\n        return restTemplate\r\n    }\r\n\r\n}\r\n```\r\nProperties:\r\n\r\n```\r\nspring:\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          siam:\r\n            client-id: ***********\r\n            client-secret: ***********\r\n            provider: keycloak\r\n            authorization-grant-type: client_credentials\r\n\r\n        provider:\r\n          keycloak:\r\n            jwk-set-uri: ***********\r\n            token-uri: ***********\r\n```\r\n\r\nBut every time I get an error: \r\n\r\n    IllegalArgumentException: Invalid Authorization Grant Type (client_credentials) for Client Registration with Id: siam\r\n\r\n\r\nTried `webflux`, different configurations.","title":"Client credentials with Spring OAuth","body":"<p>I am trying to add authorization to the application using client credentials.</p>\n<p>Configuration class:</p>\n<pre><code>@Configuration\nclass CompanyScoringAuthClient {\n    \n    @Bean\n    fun oAuth2ClientManager(clientRegistrations: ClientRegistrationRepository): OAuth2AuthorizedClientManager {\n        val clientService = InMemoryOAuth2AuthorizedClientService(clientRegistrations)\n        return AuthorizedClientServiceOAuth2AuthorizedClientManager(clientRegistrations, clientService)\n    }\n\n    @Bean\n    fun authRestTemplate(clientManager: OAuth2AuthorizedClientManager): RestTemplate {\n        val restTemplate = RestTemplate()\n        restTemplate.interceptors.add {  request, body, execution -&gt;\n            val authorizeRequest = OAuth2AuthorizeRequest\n                .withClientRegistrationId(&quot;siam&quot;)\n                .principal(&quot;anon&quot;)\n                .build()\n            val client = clientManager.authorize(authorizeRequest)\n\n            request.headers.add(&quot;Authorization&quot;, &quot;Bearer ${client!!.accessToken.tokenValue}&quot;)\n            execution.execute(request, body) }\n        return restTemplate\n    }\n\n}\n</code></pre>\n<p>Properties:</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      client:\n        registration:\n          siam:\n            client-id: ***********\n            client-secret: ***********\n            provider: keycloak\n            authorization-grant-type: client_credentials\n\n        provider:\n          keycloak:\n            jwk-set-uri: ***********\n            token-uri: ***********\n</code></pre>\n<p>But every time I get an error:</p>\n<pre><code>IllegalArgumentException: Invalid Authorization Grant Type (client_credentials) for Client Registration with Id: siam\n</code></pre>\n<p>Tried <code>webflux</code>, different configurations.</p>\n"},{"tags":["java","selenium","selenium-webdriver","jsoup"],"answers":[{"tags":[],"owner":{"account_id":4874355,"reputation":74,"user_id":3929927,"display_name":"Pascal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1408003141,"creation_date":1408003141,"answer_id":25302878,"question_id":25295943,"body_markdown":"I couldn&#39;t exactly tell you why this mismatch is caused but I have an idea of how you could solve this problem. \r\n\r\nI had similar problems with javascript phrases on pages. Normally such elements have to be clicked to get into. But if this element isn&#39;t clickable or a click doesn&#39;t sole the problem you could also search the information you need by using unique Xpath&#39;s. \r\n\r\nI&#39;m not sure if you using Selenium IDE already but maybe you could record navigating to this element and use the thrown java code from the Selenium IDE to get the required Information.\r\n\r\n... I only have seen this problem while using Selenium remote control not the Selenium WebDriver...","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>I couldn't exactly tell you why this mismatch is caused but I have an idea of how you could solve this problem. </p>\n\n<p>I had similar problems with javascript phrases on pages. Normally such elements have to be clicked to get into. But if this element isn't clickable or a click doesn't sole the problem you could also search the information you need by using unique Xpath's. </p>\n\n<p>I'm not sure if you using Selenium IDE already but maybe you could record navigating to this element and use the thrown java code from the Selenium IDE to get the required Information.</p>\n\n<p>... I only have seen this problem while using Selenium remote control not the Selenium WebDriver...</p>\n"},{"tags":[],"owner":{"account_id":8813403,"reputation":23,"user_id":6585691,"display_name":"Charles Woodson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472053945,"creation_date":1472053945,"answer_id":39127877,"question_id":25295943,"body_markdown":"I think the problem could also be solved by using xpaths.  The easiest way to get the correct xpath is using firebug with firefox.  Right click on the element in developer tools and click copy xpath.  Firebug&#39;s incredibly accurate when producing xpaths.  It has solved many problems like that one for me.\r\n\r\n*Even if you aren&#39;t using firefox, most of the time you can use the same xpath from firebug in chrome webdriver testing.\r\n\r\nIt&#39;s a life saver.\r\n\r\nWarning though, sometimes the path is long like:\r\n\r\n    final static String planTitlePath = &quot;/html/body/div[1]/div[2]/div[1]/div[2]/div[5]/div/div/div/div/section/div/div[2]/div/ol/li/div[1]/plan-card/h4/span&quot;;","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>I think the problem could also be solved by using xpaths.  The easiest way to get the correct xpath is using firebug with firefox.  Right click on the element in developer tools and click copy xpath.  Firebug's incredibly accurate when producing xpaths.  It has solved many problems like that one for me.</p>\n\n<p>*Even if you aren't using firefox, most of the time you can use the same xpath from firebug in chrome webdriver testing.</p>\n\n<p>It's a life saver.</p>\n\n<p>Warning though, sometimes the path is long like:</p>\n\n<pre><code>final static String planTitlePath = \"/html/body/div[1]/div[2]/div[1]/div[2]/div[5]/div/div/div/div/section/div/div[2]/div/ol/li/div[1]/plan-card/h4/span\";\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3306323,"reputation":4878,"user_id":2781031,"accept_rate":69,"display_name":"Vasanth Nag K V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1477541499,"creation_date":1477541499,"answer_id":40275973,"question_id":25295943,"body_markdown":"i found the solution to this and now that huddle is crossed. actually what happened was , when i was trying to do getPageSource, selenium was actually getting the frame source of one of the frames (&quot;body&quot; - as mentioned above), i accidentally figured that out. Next to solve my problem i wanted to come one step back from where i was so i can select this iframe = (name=&quot;top&quot;) which was the target where i had the content as shown in the image. to Achieve this i used Selenium&#39;s defaultContent() function and came back one step then with switchTO().frame() went into the frame of my desire and accomplished the task\r\n\r\nhope this helps!! and thanks for everyone who tried to help me on this.","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>i found the solution to this and now that huddle is crossed. actually what happened was , when i was trying to do getPageSource, selenium was actually getting the frame source of one of the frames (\"body\" - as mentioned above), i accidentally figured that out. Next to solve my problem i wanted to come one step back from where i was so i can select this iframe = (name=\"top\") which was the target where i had the content as shown in the image. to Achieve this i used Selenium's defaultContent() function and came back one step then with switchTO().frame() went into the frame of my desire and accomplished the task</p>\n\n<p>hope this helps!! and thanks for everyone who tried to help me on this.</p>\n"}],"owner":{"account_id":3306323,"reputation":4878,"user_id":2781031,"accept_rate":69,"display_name":"Vasanth Nag K V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2345,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40275973,"answer_count":3,"score":5,"last_activity_date":1690494501,"creation_date":1407963264,"question_id":25295943,"body_markdown":"i am trying to navigate through pages using selenium web driver and i am stuck at one point\r\nplease refer to the image where i have shown the output of inspect element for that page that i am working on.\r\n\r\n\r\n\r\n\r\n![inspect element output][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bFFyG.png\r\n\r\n\r\n\r\n\r\nbut in the page source (which i saw on the browser and also using Jsoup) looks like this,\r\n\r\n    \r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;frameset rows=&quot;75,60,*&quot; resize=&quot;no&quot; SCROLLING=&quot;NO&quot; name=main border=&quot;0&quot;&gt;   \r\n    &lt;frame src=&quot;/frame/topnewprof.shtml&quot; name=&quot;top&quot; SCROLLING=NO&gt;\r\n    &lt;frame src=&quot;/frame/blank.html&quot; name=&quot;menu&quot; SCROLLING=NO &gt;\r\n    &lt;frame src=&quot;/itrade/user/welcome.exe?action=chk_seckey_stat&quot; name=&quot;body&quot; SCROLLING=AUTO&gt;\r\n    &lt;/frameset&gt;\r\n    &lt;body&gt;&amp;nbsp;\r\n    &lt;/BODY&gt;&lt;/html&gt;\r\n\r\n\r\nwhy is this mismatch? and the yellow stuff that i have highlight in the image above has the element that i need!! \r\nhow will i get there using selenium??\r\ni know that we can navigate into the iframe using selenium&#39;s `switchTo().frame()` but even if i get into any of the three frames as shown above in the page source information, i&#39;m not able to find the information i need, \r\ncan this be achieved ? is it even possible?","title":"Selenium Java - inspect element and page source shows different infiormation","body":"<p>i am trying to navigate through pages using selenium web driver and i am stuck at one point\nplease refer to the image where i have shown the output of inspect element for that page that i am working on.</p>\n<p><img src=\"https://i.stack.imgur.com/bFFyG.png\" alt=\"inspect element output\" /></p>\n<p>but in the page source (which i saw on the browser and also using Jsoup) looks like this,</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;frameset rows=&quot;75,60,*&quot; resize=&quot;no&quot; SCROLLING=&quot;NO&quot; name=main border=&quot;0&quot;&gt;   \n&lt;frame src=&quot;/frame/topnewprof.shtml&quot; name=&quot;top&quot; SCROLLING=NO&gt;\n&lt;frame src=&quot;/frame/blank.html&quot; name=&quot;menu&quot; SCROLLING=NO &gt;\n&lt;frame src=&quot;/itrade/user/welcome.exe?action=chk_seckey_stat&quot; name=&quot;body&quot; SCROLLING=AUTO&gt;\n&lt;/frameset&gt;\n&lt;body&gt;&amp;nbsp;\n&lt;/BODY&gt;&lt;/html&gt;\n</code></pre>\n<p>why is this mismatch? and the yellow stuff that i have highlight in the image above has the element that i need!!\nhow will i get there using selenium??\ni know that we can navigate into the iframe using selenium's <code>switchTo().frame()</code> but even if i get into any of the three frames as shown above in the page source information, i'm not able to find the information i need,\ncan this be achieved ? is it even possible?</p>\n"},{"tags":["python","java","python-3.x","databricks","azure-databricks"],"comments":[{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1652085541,"post_id":72166643,"comment_id":127511571,"body_markdown":"Does this answer your question? [How to run stored procedure on SQL server from Spark (Databricks) JDBC python?](https://stackoverflow.com/questions/66670313/how-to-run-stored-procedure-on-sql-server-from-spark-databricks-jdbc-python)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/66670313/how-to-run-stored-procedure-on-sql-server-from-spark-databricks-jdbc-python\">How to run stored procedure on SQL server from Spark (Databricks) JDBC python?</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1652089854,"post_id":72166643,"comment_id":127513027,"body_markdown":"`import java.sql.DriverManager` is for Java (and Scala), and implies running on the JVM (Java Virtual Machine).","body":"<code>import java.sql.DriverManager</code> is for Java (and Scala), and implies running on the JVM (Java Virtual Machine)."},{"owner":{"account_id":15647486,"reputation":561,"user_id":11289386,"display_name":"Phuri Chalermkiatsakul"},"score":0,"creation_date":1652242790,"post_id":72166643,"comment_id":127556224,"body_markdown":"Hello, it seems the code you are trying to run is for Scala notebook not Python.","body":"Hello, it seems the code you are trying to run is for Scala notebook not Python."},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1653315253,"post_id":72166643,"comment_id":127815390,"body_markdown":"JPype? https://stackoverflow.com/questions/46353440/connecting-and-testing-a-jdbc-driver-from-python","body":"JPype? <a href=\"https://stackoverflow.com/questions/46353440/connecting-and-testing-a-jdbc-driver-from-python\" title=\"connecting and testing a jdbc driver from python\">stackoverflow.com/questions/46353440/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1081265,"reputation":5264,"user_id":1078199,"accept_rate":86,"display_name":"charmoniumQ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690494294,"creation_date":1690494294,"answer_id":76783578,"question_id":72166643,"body_markdown":"There is no `java` package you can install for CPython (with no modifier, Python refers to CPython); Run the code in Jython rather than CPython.\r\n\r\nJython integrates with Java and lets you import packages in Java&#39;s `java.*` namespace, such as `java.sql.DriverManager`. See [here](https://jython.readthedocs.io/en/latest/ModulesPackages/) for more details.","title":"ModuleNotFoundError: No module named &#39;java&#39;","body":"<p>There is no <code>java</code> package you can install for CPython (with no modifier, Python refers to CPython); Run the code in Jython rather than CPython.</p>\n<p>Jython integrates with Java and lets you import packages in Java's <code>java.*</code> namespace, such as <code>java.sql.DriverManager</code>. See <a href=\"https://jython.readthedocs.io/en/latest/ModulesPackages/\" rel=\"nofollow noreferrer\">here</a> for more details.</p>\n"}],"owner":{"account_id":1277077,"reputation":22495,"user_id":1232087,"accept_rate":60,"display_name":"nam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1416,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690494294,"creation_date":1652066084,"question_id":72166643,"body_markdown":"In my Python notebook in Azure Databricks, the following import statement gives the error shown below. It seems I am missing some package.\r\n\r\nWhat package am I missing, and how can I install it?\r\n\r\n**Ref**: [This][1] post. Please note this linked post is using Scala, but I am using Python as I don&#39;t know Scala.\r\n\r\n    import java.sql.DriverManager\r\n\r\nError:\r\n&gt;ModuleNotFoundError: No module named &#39;java&#39;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/63065753/1232087","title":"ModuleNotFoundError: No module named &#39;java&#39;","body":"<p>In my Python notebook in Azure Databricks, the following import statement gives the error shown below. It seems I am missing some package.</p>\n<p>What package am I missing, and how can I install it?</p>\n<p><strong>Ref</strong>: <a href=\"https://stackoverflow.com/a/63065753/1232087\">This</a> post. Please note this linked post is using Scala, but I am using Python as I don't know Scala.</p>\n<pre><code>import java.sql.DriverManager\n</code></pre>\n<p>Error:</p>\n<blockquote>\n<p>ModuleNotFoundError: No module named 'java'</p>\n</blockquote>\n"},{"tags":["java","netty"],"answers":[{"comments":[{"owner":{"account_id":416171,"reputation":31427,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"score":1,"creation_date":1419299752,"post_id":26454764,"comment_id":43648263,"body_markdown":"Would you be so kind and clarify your answer?","body":"Would you be so kind and clarify your answer?"}],"tags":[],"owner":{"account_id":4995828,"reputation":4085,"user_id":4124076,"display_name":"Manish Maheshwari"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1690493791,"creation_date":1413748657,"answer_id":26454764,"question_id":26446922,"body_markdown":"The `handler`, which is defined in the AbstractBootstrap  is used when writing Netty based clients.\r\n\r\nWhen writing netty based servers, that can work upon multiple accepted channels, use a child handler which will handle I/O and data for the accepted channels, by using `childHandler` as defined in the ServerBootstrap. \r\n","title":"What is the difference between handler( ChannelHandler c) and childHandler( ChannelHandler c) for ServerBootstrap?","body":"<p>The <code>handler</code>, which is defined in the AbstractBootstrap  is used when writing Netty based clients.</p>\n<p>When writing netty based servers, that can work upon multiple accepted channels, use a child handler which will handle I/O and data for the accepted channels, by using <code>childHandler</code> as defined in the ServerBootstrap.</p>\n"},{"tags":[],"owner":{"account_id":11681394,"reputation":157,"user_id":8552977,"display_name":"Jacky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505930236,"creation_date":1505925469,"answer_id":46327458,"question_id":26446922,"body_markdown":"Handler method will be executed on ServerBootstrap initialization, however `childHandler` will be executed when connection completes.\r\n\r\n    b.group(bossGroup, workerGroup)\r\n        .channel(NioServerSocketChannel.class)\r\n        .handler(new LoggingHandler(LogLevel.INFO))\r\n        .childHandler(new ServerInitializer(this.hander));\r\n\r\nWhen you start the server, you can see the log as below:\r\n\r\n    2017-09-20 08:44:34,034\tINFO\tnioEventLoopGroup-2-1\tLoggingHandler:150   [id: 0x920c9647, L:/0:0:0:0:0:0:0:0:6030] ACTIVE\r\n    2017-09-20 08:44:34,034\tINFO\tnioEventLoopGroup-3-1\tLoggingHandler:150   [id: 0x048bb39e, L:/0:0:0:0:0:0:0:0:6031] ACTIVE\r\n\r\n","title":"What is the difference between handler( ChannelHandler c) and childHandler( ChannelHandler c) for ServerBootstrap?","body":"<p>Handler method will be executed on ServerBootstrap initialization, however <code>childHandler</code> will be executed when connection completes.</p>\n\n<pre><code>b.group(bossGroup, workerGroup)\n    .channel(NioServerSocketChannel.class)\n    .handler(new LoggingHandler(LogLevel.INFO))\n    .childHandler(new ServerInitializer(this.hander));\n</code></pre>\n\n<p>When you start the server, you can see the log as below:</p>\n\n<pre><code>2017-09-20 08:44:34,034 INFO    nioEventLoopGroup-2-1   LoggingHandler:150   [id: 0x920c9647, L:/0:0:0:0:0:0:0:0:6030] ACTIVE\n2017-09-20 08:44:34,034 INFO    nioEventLoopGroup-3-1   LoggingHandler:150   [id: 0x048bb39e, L:/0:0:0:0:0:0:0:0:6031] ACTIVE\n</code></pre>\n"}],"owner":{"account_id":1888031,"reputation":8546,"user_id":1706851,"accept_rate":76,"display_name":"JBT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3896,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26454764,"answer_count":2,"score":7,"last_activity_date":1690493791,"creation_date":1413688378,"question_id":26446922,"body_markdown":"I am new to Netty. One thing I find confusing is that ServerBootstrap has two methods: handler( ChannelHandler c), which is inherited from AbstractBootstrap, and childHandler( ChannelHandler c), both of which seem to be doing the same thing, based on the javadoc. So, is that true? Are there any differences between the two methods?","title":"What is the difference between handler( ChannelHandler c) and childHandler( ChannelHandler c) for ServerBootstrap?","body":"<p>I am new to Netty. One thing I find confusing is that ServerBootstrap has two methods: handler( ChannelHandler c), which is inherited from AbstractBootstrap, and childHandler( ChannelHandler c), both of which seem to be doing the same thing, based on the javadoc. So, is that true? Are there any differences between the two methods?</p>\n"},{"tags":["java","pdf","openpdf"],"answers":[{"tags":[],"owner":{"account_id":8347648,"reputation":656,"user_id":6270875,"accept_rate":100,"display_name":"hiaclibe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690489495,"creation_date":1690489495,"answer_id":76783180,"question_id":76783179,"body_markdown":"Hope that helps someone out there. I used following\r\n\r\n```\r\ncom.lowagie.text.pdf.PdfStamper.setFullCompression();\r\ncom.lowagie.text.pdf.PdfStamper.getWriter().setFullCompression();\r\ncom.lowagie.text.pdf.PdfWriter.setFullCompression();\r\ncom.lowagie.text.pdf.PdfWriter.setCompressionLevel(com.lowagie.text.pdf.PdfStream.BEST_COMPRESSION);\r\n```\r\n\r\nAnd instead using\r\n```\r\nImage image = Image.getInstance(((java.io.File) singlePageTiff).getAbsolutePath());\r\n//or\r\nImage image = Image.getInstance((java.awt.image.BufferedImage) pageImage, null, forceBlackAndWhite);\r\n```\r\n\r\nI used a compressed Image\r\n```\r\njava.awt.image.BufferedImage pageImage = ...\r\nint width = pageImage.getWidth(); \r\nint height  = pageImage.getHeight();\r\nboolean reverseBits = false;\r\nint typeCCITT = com.lowagie.text.Image.CCITTG4; \r\n//see com.lowagie.text.Image.CCITT_BLACKIS1; \r\nint parameters = 0;          \r\nbyte[] data = ((java.awt.image.DataBufferByte) pageImage.getRaster().getDataBuffer()).getData();\r\nObjects.requireNonNull(data);\r\nint[] transparency = null;\r\nbyte[] g4 = com.lowagie.text.pdf.codec.CCITTG4Encoder.compress(data, width, height);\r\ncom.lowagie.text.Image image = com.lowagie.text.Image.getInstance(width, height, reverseBits, typeCCITT, parameters, g4, transparency);\r\n```\r\n\r\n\r\n","title":"OpenPDF shrink PDF","body":"<p>Hope that helps someone out there. I used following</p>\n<pre><code>com.lowagie.text.pdf.PdfStamper.setFullCompression();\ncom.lowagie.text.pdf.PdfStamper.getWriter().setFullCompression();\ncom.lowagie.text.pdf.PdfWriter.setFullCompression();\ncom.lowagie.text.pdf.PdfWriter.setCompressionLevel(com.lowagie.text.pdf.PdfStream.BEST_COMPRESSION);\n</code></pre>\n<p>And instead using</p>\n<pre><code>Image image = Image.getInstance(((java.io.File) singlePageTiff).getAbsolutePath());\n//or\nImage image = Image.getInstance((java.awt.image.BufferedImage) pageImage, null, forceBlackAndWhite);\n</code></pre>\n<p>I used a compressed Image</p>\n<pre><code>java.awt.image.BufferedImage pageImage = ...\nint width = pageImage.getWidth(); \nint height  = pageImage.getHeight();\nboolean reverseBits = false;\nint typeCCITT = com.lowagie.text.Image.CCITTG4; \n//see com.lowagie.text.Image.CCITT_BLACKIS1; \nint parameters = 0;          \nbyte[] data = ((java.awt.image.DataBufferByte) pageImage.getRaster().getDataBuffer()).getData();\nObjects.requireNonNull(data);\nint[] transparency = null;\nbyte[] g4 = com.lowagie.text.pdf.codec.CCITTG4Encoder.compress(data, width, height);\ncom.lowagie.text.Image image = com.lowagie.text.Image.getInstance(width, height, reverseBits, typeCCITT, parameters, g4, transparency);\n</code></pre>\n"}],"owner":{"account_id":8347648,"reputation":656,"user_id":6270875,"accept_rate":100,"display_name":"hiaclibe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690491805,"creation_date":1690489495,"question_id":76783179,"body_markdown":"**Setup**:\r\nCreating OpenPDF from multipage TIFF with adding each TIFF page as com.lowagie.text.Image\r\n\r\n```\r\n...\r\ncom.lowagie.text.Document pdfDocument = new com.lowagie.text.Document();\r\ncom.lowagie.text.Image image01 = getPage(pageNumber);\r\ndocument.add(image01);\r\n...\r\n```\r\n\r\n**The Problem**: The file size\r\n\r\n**Question**: How to reduce file size?","title":"OpenPDF shrink PDF","body":"<p><strong>Setup</strong>:\nCreating OpenPDF from multipage TIFF with adding each TIFF page as com.lowagie.text.Image</p>\n<pre><code>...\ncom.lowagie.text.Document pdfDocument = new com.lowagie.text.Document();\ncom.lowagie.text.Image image01 = getPage(pageNumber);\ndocument.add(image01);\n...\n</code></pre>\n<p><strong>The Problem</strong>: The file size</p>\n<p><strong>Question</strong>: How to reduce file size?</p>\n"},{"tags":["java","spring-boot","spring-boot-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690473589,"creation_date":1690472579,"answer_id":76781424,"question_id":76781330,"body_markdown":"&gt; How does SpringBoot 2.7.x support multi-version JDK ?\r\n\r\nIt&#39;s called [Toolchains support][1]. Which allows you to specify a different JDK version for different builds for Spring Boot application, \r\nIt (almost not new) feature in Apache Maven that allows you to specify a different version of the JDK(s).\r\nTo do so you can simply add `toolchains.xml` file in your project&#39;s root directory which in that specifies the JDK version that you wish to use for building and running your application.\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;toolchains&gt;\r\n      &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;version&gt;11&lt;/version&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n          &lt;jdkHome&gt;/pathtojdk11/jdk11&lt;/jdkHome&gt;\r\n          ...\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n      &lt;toolchain&gt;\r\n        &lt;type&gt;jdk&lt;/type&gt;\r\n        &lt;provides&gt;\r\n          &lt;version&gt;17&lt;/version&gt;\r\n        &lt;/provides&gt;\r\n        &lt;configuration&gt;\r\n          &lt;jdkHome&gt;/pathtojdk17/jdk17&lt;/jdkHome&gt;\r\n          ...\r\n        &lt;/configuration&gt;\r\n      &lt;/toolchain&gt;\r\n    &lt;/toolchains&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\nGradle also does, see [here][2].\r\n\r\n&gt; Could anyone tell me how SpingBoot resolve `ClassNotFoundException` problem?  \r\n\r\nSpring does not,It&#39;s not related to framework actually it occur during `runtime` when the JVM is unable to find a class that is referenced in your code (same like JDK version changes) and they are many strategies to prevent it most of them are related to build tools and their plugins.\r\n\r\n\r\n  [1]: https://maven.apache.org/guides/mini/guide-using-toolchains.html\r\n  [2]: https://docs.gradle.org/current/userguide/toolchains.html","title":"How does SpringBoot 2.7.x support multi-version JDK","body":"<blockquote>\n<p>How does SpringBoot 2.7.x support multi-version JDK ?</p>\n</blockquote>\n<p>It's called <a href=\"https://maven.apache.org/guides/mini/guide-using-toolchains.html\" rel=\"nofollow noreferrer\">Toolchains support</a>. Which allows you to specify a different JDK version for different builds for Spring Boot application,\nIt (almost not new) feature in Apache Maven that allows you to specify a different version of the JDK(s).\nTo do so you can simply add <code>toolchains.xml</code> file in your project's root directory which in that specifies the JDK version that you wish to use for building and running your application.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;toolchains&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;11&lt;/version&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;/pathtojdk11/jdk11&lt;/jdkHome&gt;\n      ...\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n  &lt;toolchain&gt;\n    &lt;type&gt;jdk&lt;/type&gt;\n    &lt;provides&gt;\n      &lt;version&gt;17&lt;/version&gt;\n    &lt;/provides&gt;\n    &lt;configuration&gt;\n      &lt;jdkHome&gt;/pathtojdk17/jdk17&lt;/jdkHome&gt;\n      ...\n    &lt;/configuration&gt;\n  &lt;/toolchain&gt;\n&lt;/toolchains&gt;\n</code></pre>\n\n<p>Gradle also does, see <a href=\"https://docs.gradle.org/current/userguide/toolchains.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<blockquote>\n<p>Could anyone tell me how SpingBoot resolve <code>ClassNotFoundException</code> problem?</p>\n</blockquote>\n<p>Spring does not,It's not related to framework actually it occur during <code>runtime</code> when the JVM is unable to find a class that is referenced in your code (same like JDK version changes) and they are many strategies to prevent it most of them are related to build tools and their plugins.</p>\n"},{"comments":[{"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"score":0,"creation_date":1690511368,"post_id":76781883,"comment_id":135367392,"body_markdown":"Thanks a lot! But how SpirngBoot detect and avoid deprecated API when a new JDK is released? Are there any tool or plugin to automatic do so?","body":"Thanks a lot! But how SpirngBoot detect and avoid deprecated API when a new JDK is released? Are there any tool or plugin to automatic do so?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1690533019,"post_id":76781883,"comment_id":135370051,"body_markdown":"Deprecated APIs aren&#39;t such a concern, it&#39;s APIs that have been removed that we really need to avoid. Spring Boot has CI that, at the time of writing, tests Java 8, 11, 17, and 20. If we&#39;re using an API that doesn&#39;t exist in all those different JDKs, the build will fail.","body":"Deprecated APIs aren&#39;t such a concern, it&#39;s APIs that have been removed that we really need to avoid. Spring Boot has CI that, at the time of writing, tests Java 8, 11, 17, and 20. If we&#39;re using an API that doesn&#39;t exist in all those different JDKs, the build will fail."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690476429,"creation_date":1690476429,"answer_id":76781883,"question_id":76781330,"body_markdown":"Generally speaking, Java is very backwards compatible and APIs are rarely removed. This means that there are very few APIs that exist in Java 8 but don&#39;t exist in Java 17.\r\n\r\n&gt;  Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.\r\n\r\nThanks to the backwards compatibility described above, this is what Spring Boot is able to do at the moment with no real disadvantages.\r\n\r\nThis will change a little with Java 21. Spring Boot 3.2 will add support for virtual threads which are new, (other than earlier preview releases) in Java 21. Spring Framework&#39;s virtual thread support is implemented using a [multi-release jar](https://openjdk.org/jeps/238) with [Java 21-specific code](https://github.com/spring-projects/spring-framework/blob/7681200ee7b939ac9771f434c8ab9ae5ac482dd9/spring-core/src/main/java21/org/springframework/core/task/VirtualThreadDelegate.java) interacting with the JDK&#39;s virtual threads APIs. This will allow Spring Framework 6.1 and Spring Boot 3.2 to support virtual threads while also continuing to support earlier JDKs. Spring Boot will [enable Spring Framework&#39;s virtual thread support on Java 21 and later using its `@ConditionalOnJava` support](https://github.com/spring-projects/spring-boot/blob/96796cc9b508498443751b6c2f10a926a301d49f/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/ConditionalOnVirtualThreads.java#L38).\r\n","title":"How does SpringBoot 2.7.x support multi-version JDK","body":"<p>Generally speaking, Java is very backwards compatible and APIs are rarely removed. This means that there are very few APIs that exist in Java 8 but don't exist in Java 17.</p>\n<blockquote>\n<p>Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.</p>\n</blockquote>\n<p>Thanks to the backwards compatibility described above, this is what Spring Boot is able to do at the moment with no real disadvantages.</p>\n<p>This will change a little with Java 21. Spring Boot 3.2 will add support for virtual threads which are new, (other than earlier preview releases) in Java 21. Spring Framework's virtual thread support is implemented using a <a href=\"https://openjdk.org/jeps/238\" rel=\"nofollow noreferrer\">multi-release jar</a> with <a href=\"https://github.com/spring-projects/spring-framework/blob/7681200ee7b939ac9771f434c8ab9ae5ac482dd9/spring-core/src/main/java21/org/springframework/core/task/VirtualThreadDelegate.java\" rel=\"nofollow noreferrer\">Java 21-specific code</a> interacting with the JDK's virtual threads APIs. This will allow Spring Framework 6.1 and Spring Boot 3.2 to support virtual threads while also continuing to support earlier JDKs. Spring Boot will <a href=\"https://github.com/spring-projects/spring-boot/blob/96796cc9b508498443751b6c2f10a926a301d49f/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/condition/ConditionalOnVirtualThreads.java#L38\" rel=\"nofollow noreferrer\">enable Spring Framework's virtual thread support on Java 21 and later using its <code>@ConditionalOnJava</code> support</a>.</p>\n"}],"owner":{"account_id":22878710,"reputation":73,"user_id":17020613,"display_name":"ZYinNJU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76781883,"answer_count":2,"score":1,"last_activity_date":1690491540,"creation_date":1690471869,"question_id":76781330,"body_markdown":"SpringBoot 2.7.x is known to be developed using JDK 1.8, but when we introduce the Spring Boot 2.7.x dependency, we can develop and run on JDK 1.8, JDK 11, and JDK 17. \r\n\r\nI want to figure out how Spring Boot support multi-version JDK running, and how SpringBoot handle deprecated API or dependency(e.g if we use JDK 11, `rt.jar` will not inclued in classpath, how SpringBoot reslove this problem?). is SpringBoot avoid to use deprecated API or is there a way to choose an API based on the JDK version.\r\n\r\nIn my opinion, if SpringBoot 2.7.x use API which is removed in JDK 8+, users who use JDK 11 or JDK 17 will encounter `ClassNotFoundException` when start the application. Could anyone tell me how SpingBoot resolve this problem? Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.\r\n\r\nThanks in advance!","title":"How does SpringBoot 2.7.x support multi-version JDK","body":"<p>SpringBoot 2.7.x is known to be developed using JDK 1.8, but when we introduce the Spring Boot 2.7.x dependency, we can develop and run on JDK 1.8, JDK 11, and JDK 17.</p>\n<p>I want to figure out how Spring Boot support multi-version JDK running, and how SpringBoot handle deprecated API or dependency(e.g if we use JDK 11, <code>rt.jar</code> will not inclued in classpath, how SpringBoot reslove this problem?). is SpringBoot avoid to use deprecated API or is there a way to choose an API based on the JDK version.</p>\n<p>In my opinion, if SpringBoot 2.7.x use API which is removed in JDK 8+, users who use JDK 11 or JDK 17 will encounter <code>ClassNotFoundException</code> when start the application. Could anyone tell me how SpingBoot resolve this problem? Or are they just using APIs that can be used in JDK 1.8, JDK 11, and JDK 17.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","javadoc","checkstyle"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1541221800,"post_id":53125176,"comment_id":93151427,"body_markdown":"Where it says you must have a blank line?","body":"Where it says you must have a blank line?"},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1541435156,"post_id":53125176,"comment_id":93207210,"body_markdown":"&quot;... and one blank line before the at-clauses block if it is present.&quot;","body":"&quot;... and one blank line before the at-clauses block if it is present.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1541189826,"post_id":53125245,"comment_id":93145326,"body_markdown":"I applied your suggestion but I&#39;m still not getting that javadoc warning.","body":"I applied your suggestion but I&#39;m still not getting that javadoc warning."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1541189946,"post_id":53125245,"comment_id":93145383,"body_markdown":"I read through the docs and see &quot;There is one blank line between each of two paragraphs and one blank line before the at-clauses block if it is present.&quot; not sure why javadoc is not complaining about my example.","body":"I read through the docs and see &quot;There is one blank line between each of two paragraphs and one blank line before the at-clauses block if it is present.&quot; not sure why javadoc is not complaining about my example."},{"owner":{"account_id":1001793,"reputation":2131,"user_id":1016482,"accept_rate":50,"display_name":"rveach"},"score":2,"creation_date":1541436600,"post_id":53125245,"comment_id":93207970,"body_markdown":"This is currently a bug in checkstyle, see https://github.com/checkstyle/checkstyle/issues/6192 .","body":"This is currently a bug in checkstyle, see <a href=\"https://github.com/checkstyle/checkstyle/issues/6192\" rel=\"nofollow noreferrer\">github.com/checkstyle/checkstyle/issues/6192</a> ."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":1,"creation_date":1541709289,"post_id":53125245,"comment_id":93319109,"body_markdown":"I&#39;ve selected this answer since it&#39;s technically correct by following the documentation. Unfortunately, it doesn&#39;t work yet. I filed that bug against the checkstyle project on github.","body":"I&#39;ve selected this answer since it&#39;s technically correct by following the documentation. Unfortunately, it doesn&#39;t work yet. I filed that bug against the checkstyle project on github."},{"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"score":0,"creation_date":1690559931,"post_id":53125245,"comment_id":135375607,"body_markdown":"I&#39;ve switched the answer to RequireEmptyLineBeforeBlockTagGroup since that works.","body":"I&#39;ve switched the answer to RequireEmptyLineBeforeBlockTagGroup since that works."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1541189500,"creation_date":1541189500,"answer_id":53125245,"question_id":53125176,"body_markdown":"The [`JavadocParagraph`](http://checkstyle.sourceforge.net/config_javadoc.html#JavadocParagraph) check should ensure that. Just add the following to your checkstyle configuration:\r\n\r\n\r\n    &lt;module name=&quot;JavadocParagraph&quot;/&gt;","title":"How do I get checkstyle to fail when there is no blank line between javadoc and @param","body":"<p>The <a href=\"http://checkstyle.sourceforge.net/config_javadoc.html#JavadocParagraph\" rel=\"nofollow noreferrer\"><code>JavadocParagraph</code></a> check should ensure that. Just add the following to your checkstyle configuration:</p>\n\n<pre><code>&lt;module name=\"JavadocParagraph\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3064478,"reputation":558,"user_id":2596509,"display_name":"Aron Foster"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690491109,"creation_date":1690491109,"answer_id":76783342,"question_id":53125176,"body_markdown":"This is [now available](https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagGroupCheck.html) with\r\n\r\n    &lt;module name=&quot;RequireEmptyLineBeforeBlockTagGroup&quot;/&gt;","title":"How do I get checkstyle to fail when there is no blank line between javadoc and @param","body":"<p>This is <a href=\"https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagGroupCheck.html\" rel=\"nofollow noreferrer\">now available</a> with</p>\n<pre><code>&lt;module name=&quot;RequireEmptyLineBeforeBlockTagGroup&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":2025979,"reputation":2522,"user_id":1810962,"accept_rate":80,"display_name":"joseph"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76783342,"answer_count":2,"score":2,"last_activity_date":1690491109,"creation_date":1541189161,"question_id":53125176,"body_markdown":"For instance, I have the code below. I want checkstyle to complain because there is no blank line between my top level javadoc comment and my @ clauses.\r\n\r\n    /**\r\n     * This line or the next line should fail checkstyle.\r\n     * @param param is essential\r\n     * @throws Exception is thrown when something bad happens\r\n     */\r\n\r\nCheckstyle should not complain when the javadoc is changed to look like:\r\n\r\n\r\n    /**\r\n     * This line or the next line should no longer fail.\r\n     * \r\n     * @param param is essential\r\n     * @throws Exception is thrown when something bad happens\r\n     */\r\n\r\n\r\nI tried using @Mureinik &#39;s suggestion and it does not complain about my lack of blank line between the first paragraph and the @-clauses. I verified that eclipse has recognized that I enabled JavadocParagraph in the screenshot below.\r\n\r\n    &lt;module name=&quot;JavadocParagraph&quot;/&gt;\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6p1gR.png","title":"How do I get checkstyle to fail when there is no blank line between javadoc and @param","body":"<p>For instance, I have the code below. I want checkstyle to complain because there is no blank line between my top level javadoc comment and my @ clauses.</p>\n\n<pre><code>/**\n * This line or the next line should fail checkstyle.\n * @param param is essential\n * @throws Exception is thrown when something bad happens\n */\n</code></pre>\n\n<p>Checkstyle should not complain when the javadoc is changed to look like:</p>\n\n<pre><code>/**\n * This line or the next line should no longer fail.\n * \n * @param param is essential\n * @throws Exception is thrown when something bad happens\n */\n</code></pre>\n\n<p>I tried using @Mureinik 's suggestion and it does not complain about my lack of blank line between the first paragraph and the @-clauses. I verified that eclipse has recognized that I enabled JavadocParagraph in the screenshot below.</p>\n\n<pre><code>&lt;module name=\"JavadocParagraph\"/&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6p1gR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6p1gR.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring","release"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690480279,"post_id":76781854,"comment_id":135363389,"body_markdown":"There is no predefined interval (although it might seem like it) I think they strive to once a month. They release when they think it needs to be released. If there is nothing to release there will be no release. And yes all modules will be released and you should always use the same version for all modules and don&#39;t mix versions.","body":"There is no predefined interval (although it might seem like it) I think they strive to once a month. They release when they think it needs to be released. If there is nothing to release there will be no release. And yes all modules will be released and you should always use the same version for all modules and don&#39;t mix versions."}],"owner":{"account_id":17722379,"reputation":2112,"user_id":12867091,"display_name":"Tashkhisi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690491022,"creation_date":1690476209,"question_id":76781854,"body_markdown":"Could someone help me understand how the release process for [Spring][1] project works, as far as I can see in the project, the final artifacts of different modules of this project are released on some predefined interval. Does it mean that all the modules will be released with the same release version at those interval even if there is no changes in an specific module? what about bug fixes? Do they have new release for all the modules even if they are fixing a bug for a specific module?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework\r\n  [2]: https://i.stack.imgur.com/wXX3Y.png\r\n  [3]: https://i.stack.imgur.com/BvBuR.png","title":"Spring project release process","body":"<p>Could someone help me understand how the release process for <a href=\"https://github.com/spring-projects/spring-framework\" rel=\"nofollow noreferrer\">Spring</a> project works, as far as I can see in the project, the final artifacts of different modules of this project are released on some predefined interval. Does it mean that all the modules will be released with the same release version at those interval even if there is no changes in an specific module? what about bug fixes? Do they have new release for all the modules even if they are fixing a bug for a specific module?</p>\n<p><a href=\"https://i.stack.imgur.com/wXX3Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wXX3Y.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BvBuR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BvBuR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mongodb","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690483528,"post_id":76782606,"comment_id":135363976,"body_markdown":"The issue you&#39;re facing is related to MongoDB&#39;s object mapping and serialization. When you use the type `Object` for the payload property, MongoDB&#39;s default codec doesn&#39;t know how to handle it since `Object` **is a very generic type** that can represent various data types. Have you considered using the `Document` class?","body":"The issue you&#39;re facing is related to MongoDB&#39;s object mapping and serialization. When you use the type <code>Object</code> for the payload property, MongoDB&#39;s default codec doesn&#39;t know how to handle it since <code>Object</code> <b>is a very generic type</b> that can represent various data types. Have you considered using the <code>Document</code> class?"},{"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"score":0,"creation_date":1690485393,"post_id":76782606,"comment_id":135364309,"body_markdown":"I tried using Document, when the property value is an object it even works but when it&#39;s a String it throws an exception.\n\n&gt; javax.json.bind.JsonbException: Unable to deserialize property &#39;payload&#39; because of: Error deserialize JSON value into type: class org.bson.Document.","body":"I tried using Document, when the property value is an object it even works but when it&#39;s a String it throws an exception.  &gt; javax.json.bind.JsonbException: Unable to deserialize property &#39;payload&#39; because of: Error deserialize JSON value into type: class org.bson.Document."},{"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"score":0,"creation_date":1690486294,"post_id":76782606,"comment_id":135364456,"body_markdown":"@DiegoBorba, So can i create a codec where mongoDb learns to serialize and deserialize an object, right?","body":"@DiegoBorba, So can i create a codec where mongoDb learns to serialize and deserialize an object, right?"},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690486400,"post_id":76782606,"comment_id":135364479,"body_markdown":"Sure! You can use `MongoClientSettings.codecRegistry(*codecHere*)`.","body":"Sure! You can use <code>MongoClientSettings.codecRegistry(*codecHere*)</code>."},{"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"score":1,"creation_date":1690488966,"post_id":76782606,"comment_id":135364970,"body_markdown":"I did using RegisterForReflection to register my codec, I&#39;ll post an answer showing how it turned out. thanks @DiegoBorba for the tip.","body":"I did using RegisterForReflection to register my codec, I&#39;ll post an answer showing how it turned out. thanks @DiegoBorba for the tip."}],"answers":[{"tags":[],"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690490199,"creation_date":1690490199,"answer_id":76783254,"question_id":76782606,"body_markdown":"With @DiegoBorda&#39;s tip and after doing extensive research and discussion with ChatGPT I came up with a solution that worked for me.\r\n\r\nI am sharing this solution because other people might encounter the same issue.\r\n\r\nI created an `ObjectCodec` implemented as a `Codec`.\r\n\r\n```java\r\nimport java.lang.reflect.Field;\r\nimport java.math.BigDecimal;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.bson.BsonReader;\r\nimport org.bson.BsonType;\r\nimport org.bson.BsonWriter;\r\nimport org.bson.codecs.Codec;\r\nimport org.bson.codecs.DecoderContext;\r\nimport org.bson.codecs.EncoderContext;\r\nimport org.bson.types.Decimal128;\r\n\r\npublic class ObjectCodec implements Codec&lt;Object&gt; {\r\n\r\n    @Override\r\n    public void encode(BsonWriter writer, Object value, EncoderContext encoderContext) {\r\n        writeValue(writer, value);\r\n    }\r\n\r\n    @Override\r\n    public Class&lt;Object&gt; getEncoderClass() {\r\n        return Object.class;\r\n    }\r\n\r\n    @Override\r\n    public Object decode(BsonReader reader, DecoderContext decoderContext) {\r\n        return readValue(reader);\r\n    }\r\n\r\n    private static Object readValue(BsonReader bsonReader) {\r\n        var type = bsonReader.getCurrentBsonType();\r\n        switch (type) {\r\n            case ARRAY:\r\n                ArrayList&lt;Object&gt; array = new ArrayList&lt;&gt;();\r\n                bsonReader.readStartArray();\r\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\r\n                    array.add(readValue(bsonReader));\r\n                }\r\n                bsonReader.readEndArray();\r\n                return array;\r\n            case BINARY:\r\n                return bsonReader.readBinaryData();\r\n            case BOOLEAN:\r\n                return bsonReader.readBoolean();\r\n            case DATE_TIME:\r\n                return bsonReader.readDateTime();\r\n            case DB_POINTER:\r\n                return bsonReader.readDBPointer();\r\n            case DECIMAL128:\r\n                return bsonReader.readDecimal128();\r\n            case DOCUMENT:\r\n                HashMap&lt;String, Object&gt; nestedMap = new HashMap&lt;&gt;();\r\n                bsonReader.readStartDocument();\r\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\r\n                    nestedMap.put(bsonReader.readName(), readValue(bsonReader));\r\n                }\r\n                bsonReader.readEndDocument();\r\n                return nestedMap;\r\n            case DOUBLE:\r\n                return bsonReader.readDouble();\r\n            case INT32:\r\n                return bsonReader.readInt32();\r\n            case INT64:\r\n                return bsonReader.readInt64();\r\n            case NULL:\r\n                return null;\r\n            case OBJECT_ID:\r\n                return bsonReader.readObjectId();\r\n            case STRING:\r\n                return bsonReader.readString();\r\n            case TIMESTAMP:\r\n                return bsonReader.readTimestamp();\r\n            case UNDEFINED:\r\n                return null;\r\n            default:\r\n                return null;\r\n\r\n        }\r\n    }\r\n\r\n    private static void writeValue(BsonWriter bsonWriter, Object value) {\r\n        if (value instanceof String) {\r\n            bsonWriter.writeString(value.toString());\r\n        } else if (value instanceof Integer) {\r\n            bsonWriter.writeInt32((Integer) value);\r\n        } else if (value instanceof Long) {\r\n            bsonWriter.writeInt64((Long) value);\r\n        } else if (value instanceof BigDecimal) {\r\n            bsonWriter.writeDecimal128(Decimal128.parse(value.toString()));\r\n        } else if (value instanceof Double) {\r\n            bsonWriter.writeDouble((Double) value);\r\n        } else if (value instanceof Boolean) {\r\n            bsonWriter.writeBoolean((Boolean) value);\r\n        } else if (value instanceof HashMap) {\r\n            // Recursively handle HashMap for nesting\r\n            bsonWriter.writeStartDocument();\r\n            HashMap&lt;?, ?&gt; nestedMap = (HashMap&lt;?, ?&gt;) value;\r\n            for (Map.Entry&lt;?, ?&gt; entry : nestedMap.entrySet()) {\r\n                String key = entry.getKey().toString();\r\n                Object nestedValue = entry.getValue();\r\n                bsonWriter.writeName(key);\r\n                writeValue(bsonWriter, nestedValue);\r\n            }\r\n            bsonWriter.writeEndDocument();\r\n        } else if (value instanceof ArrayList) {\r\n            ArrayList&lt;?&gt; arrayList = (ArrayList&lt;?&gt;) value;\r\n            bsonWriter.writeStartArray();\r\n            for (Object item : arrayList) {\r\n                writeValue(bsonWriter, item);\r\n            }\r\n            bsonWriter.writeEndArray();\r\n        } else if (value.getClass().isArray()) {\r\n            bsonWriter.writeStartArray();\r\n            int length = java.lang.reflect.Array.getLength(value);\r\n            for (int i = 0; i &lt; length; i++) {\r\n                Object item = java.lang.reflect.Array.get(value, i);\r\n                writeValue(bsonWriter, item);\r\n            }\r\n            bsonWriter.writeEndArray();\r\n        } else {\r\n            try {\r\n                Class&lt;?&gt; clazz = value.getClass();\r\n                bsonWriter.writeStartDocument();\r\n                while (clazz != null) {\r\n                    Field[] fields = clazz.getDeclaredFields();\r\n                    for (Field field : fields) {\r\n                        int modifiers = field.getModifiers();\r\n                        if (!java.lang.reflect.Modifier.isFinal(modifiers)) {\r\n                            field.setAccessible(true);\r\n                            String fieldName = field.getName();\r\n                            if (fieldName.equals(&quot;id&quot;)) {\r\n                                fieldName = &quot;_id&quot;;\r\n                            }\r\n                            Object fieldValue = field.get(value);\r\n                            bsonWriter.writeName(fieldName);\r\n                            writeValue(bsonWriter, fieldValue);\r\n                        }\r\n                    }\r\n                    clazz = clazz.getSuperclass();\r\n                }\r\n                bsonWriter.writeEndDocument();\r\n\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen create a Custom Codec Provider by instantiating my ObjectCodec.\r\n\r\n```java\r\nimport io.quarkus.runtime.annotations.RegisterForReflection;\r\nimport org.bson.codecs.Codec;\r\nimport org.bson.codecs.configuration.CodecProvider;\r\nimport org.bson.codecs.configuration.CodecRegistry;\r\n\r\nimport javax.inject.Singleton;\r\n\r\n@Singleton\r\n@RegisterForReflection\r\npublic class CustomCodecProvider implements CodecProvider {\r\n    private final Codec&lt;Object&gt; objectCodec;\r\n\r\n    public CustomCodecProvider() {\r\n        // Create an instance of the custom ObjectCodec and pass the default CodecRegistry for internal use, if needed.\r\n        this.objectCodec = new ObjectCodec();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;T&gt; Codec&lt;T&gt; get(Class&lt;T&gt; clazz, CodecRegistry registry) {\r\n        // Check if the type is Object and return the custom ObjectCodec.\r\n        if (clazz == Object.class) {\r\n            return (Codec&lt;T&gt;) objectCodec;\r\n        }\r\n        return null; // If the type is not Object, return null to let other default MongoDB codecs be used.\r\n    }\r\n}\r\n```\r\n\r\nThen I had to register the CustomCodecProvider in my `application.properties`.\r\n\r\n```properties\r\nquarkus:\r\n  mongodb:\r\n    codec-providers: br.com.api.infra.crosscutting.ioc.config.CustomCodecProvider\r\n```\r\n\r\nThis is working for me, but if anyone has other solutions, I&#39;d like to try them out.","title":"Can&#39;t find a codec for class java.lang.Object","body":"<p>With @DiegoBorda's tip and after doing extensive research and discussion with ChatGPT I came up with a solution that worked for me.</p>\n<p>I am sharing this solution because other people might encounter the same issue.</p>\n<p>I created an <code>ObjectCodec</code> implemented as a <code>Codec</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.reflect.Field;\nimport java.math.BigDecimal;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.bson.BsonReader;\nimport org.bson.BsonType;\nimport org.bson.BsonWriter;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.DecoderContext;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.types.Decimal128;\n\npublic class ObjectCodec implements Codec&lt;Object&gt; {\n\n    @Override\n    public void encode(BsonWriter writer, Object value, EncoderContext encoderContext) {\n        writeValue(writer, value);\n    }\n\n    @Override\n    public Class&lt;Object&gt; getEncoderClass() {\n        return Object.class;\n    }\n\n    @Override\n    public Object decode(BsonReader reader, DecoderContext decoderContext) {\n        return readValue(reader);\n    }\n\n    private static Object readValue(BsonReader bsonReader) {\n        var type = bsonReader.getCurrentBsonType();\n        switch (type) {\n            case ARRAY:\n                ArrayList&lt;Object&gt; array = new ArrayList&lt;&gt;();\n                bsonReader.readStartArray();\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\n                    array.add(readValue(bsonReader));\n                }\n                bsonReader.readEndArray();\n                return array;\n            case BINARY:\n                return bsonReader.readBinaryData();\n            case BOOLEAN:\n                return bsonReader.readBoolean();\n            case DATE_TIME:\n                return bsonReader.readDateTime();\n            case DB_POINTER:\n                return bsonReader.readDBPointer();\n            case DECIMAL128:\n                return bsonReader.readDecimal128();\n            case DOCUMENT:\n                HashMap&lt;String, Object&gt; nestedMap = new HashMap&lt;&gt;();\n                bsonReader.readStartDocument();\n                while (bsonReader.readBsonType() != BsonType.END_OF_DOCUMENT) {\n                    nestedMap.put(bsonReader.readName(), readValue(bsonReader));\n                }\n                bsonReader.readEndDocument();\n                return nestedMap;\n            case DOUBLE:\n                return bsonReader.readDouble();\n            case INT32:\n                return bsonReader.readInt32();\n            case INT64:\n                return bsonReader.readInt64();\n            case NULL:\n                return null;\n            case OBJECT_ID:\n                return bsonReader.readObjectId();\n            case STRING:\n                return bsonReader.readString();\n            case TIMESTAMP:\n                return bsonReader.readTimestamp();\n            case UNDEFINED:\n                return null;\n            default:\n                return null;\n\n        }\n    }\n\n    private static void writeValue(BsonWriter bsonWriter, Object value) {\n        if (value instanceof String) {\n            bsonWriter.writeString(value.toString());\n        } else if (value instanceof Integer) {\n            bsonWriter.writeInt32((Integer) value);\n        } else if (value instanceof Long) {\n            bsonWriter.writeInt64((Long) value);\n        } else if (value instanceof BigDecimal) {\n            bsonWriter.writeDecimal128(Decimal128.parse(value.toString()));\n        } else if (value instanceof Double) {\n            bsonWriter.writeDouble((Double) value);\n        } else if (value instanceof Boolean) {\n            bsonWriter.writeBoolean((Boolean) value);\n        } else if (value instanceof HashMap) {\n            // Recursively handle HashMap for nesting\n            bsonWriter.writeStartDocument();\n            HashMap&lt;?, ?&gt; nestedMap = (HashMap&lt;?, ?&gt;) value;\n            for (Map.Entry&lt;?, ?&gt; entry : nestedMap.entrySet()) {\n                String key = entry.getKey().toString();\n                Object nestedValue = entry.getValue();\n                bsonWriter.writeName(key);\n                writeValue(bsonWriter, nestedValue);\n            }\n            bsonWriter.writeEndDocument();\n        } else if (value instanceof ArrayList) {\n            ArrayList&lt;?&gt; arrayList = (ArrayList&lt;?&gt;) value;\n            bsonWriter.writeStartArray();\n            for (Object item : arrayList) {\n                writeValue(bsonWriter, item);\n            }\n            bsonWriter.writeEndArray();\n        } else if (value.getClass().isArray()) {\n            bsonWriter.writeStartArray();\n            int length = java.lang.reflect.Array.getLength(value);\n            for (int i = 0; i &lt; length; i++) {\n                Object item = java.lang.reflect.Array.get(value, i);\n                writeValue(bsonWriter, item);\n            }\n            bsonWriter.writeEndArray();\n        } else {\n            try {\n                Class&lt;?&gt; clazz = value.getClass();\n                bsonWriter.writeStartDocument();\n                while (clazz != null) {\n                    Field[] fields = clazz.getDeclaredFields();\n                    for (Field field : fields) {\n                        int modifiers = field.getModifiers();\n                        if (!java.lang.reflect.Modifier.isFinal(modifiers)) {\n                            field.setAccessible(true);\n                            String fieldName = field.getName();\n                            if (fieldName.equals(&quot;id&quot;)) {\n                                fieldName = &quot;_id&quot;;\n                            }\n                            Object fieldValue = field.get(value);\n                            bsonWriter.writeName(fieldName);\n                            writeValue(bsonWriter, fieldValue);\n                        }\n                    }\n                    clazz = clazz.getSuperclass();\n                }\n                bsonWriter.writeEndDocument();\n\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then create a Custom Codec Provider by instantiating my ObjectCodec.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.runtime.annotations.RegisterForReflection;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.configuration.CodecProvider;\nimport org.bson.codecs.configuration.CodecRegistry;\n\nimport javax.inject.Singleton;\n\n@Singleton\n@RegisterForReflection\npublic class CustomCodecProvider implements CodecProvider {\n    private final Codec&lt;Object&gt; objectCodec;\n\n    public CustomCodecProvider() {\n        // Create an instance of the custom ObjectCodec and pass the default CodecRegistry for internal use, if needed.\n        this.objectCodec = new ObjectCodec();\n    }\n\n    @Override\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public &lt;T&gt; Codec&lt;T&gt; get(Class&lt;T&gt; clazz, CodecRegistry registry) {\n        // Check if the type is Object and return the custom ObjectCodec.\n        if (clazz == Object.class) {\n            return (Codec&lt;T&gt;) objectCodec;\n        }\n        return null; // If the type is not Object, return null to let other default MongoDB codecs be used.\n    }\n}\n</code></pre>\n<p>Then I had to register the CustomCodecProvider in my <code>application.properties</code>.</p>\n<pre><code>quarkus:\n  mongodb:\n    codec-providers: br.com.api.infra.crosscutting.ioc.config.CustomCodecProvider\n</code></pre>\n<p>This is working for me, but if anyone has other solutions, I'd like to try them out.</p>\n"}],"owner":{"account_id":5122641,"reputation":51,"user_id":4105739,"display_name":"Marcos Oliveira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76783254,"answer_count":1,"score":0,"last_activity_date":1690490199,"creation_date":1690483298,"question_id":76782606,"body_markdown":"I created a simple entity with a property of type Object, because I can&#39;t control its type, it can be String or an object.\r\n\r\n\r\n```\r\n@MongoEntity(collection = &quot;myCollection&quot;, clientName = &quot;mongoClient1&quot;)\r\npublic class MyClass extends EntityId {\r\n   private String name;\r\n   private Int age;\r\n   private Object payload;\r\n\r\n   //Getters and Setters\r\n   ...\r\n}\r\n```\r\n\r\nI am trying to insert but the following error is occurring:\r\n\r\n&gt; Caused by: org.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class java.lang.Object\r\n\r\n\r\n\r\nI tried to change the property to Document, BsonDocument and BsonValue but when its value is of type String another exception occurs because it is not possible to deserialize string for these types.\r\n\r\nDoes anyone have an idea how to solve this problem?","title":"Can&#39;t find a codec for class java.lang.Object","body":"<p>I created a simple entity with a property of type Object, because I can't control its type, it can be String or an object.</p>\n<pre><code>@MongoEntity(collection = &quot;myCollection&quot;, clientName = &quot;mongoClient1&quot;)\npublic class MyClass extends EntityId {\n   private String name;\n   private Int age;\n   private Object payload;\n\n   //Getters and Setters\n   ...\n}\n</code></pre>\n<p>I am trying to insert but the following error is occurring:</p>\n<blockquote>\n<p>Caused by: org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class java.lang.Object</p>\n</blockquote>\n<p>I tried to change the property to Document, BsonDocument and BsonValue but when its value is of type String another exception occurs because it is not possible to deserialize string for these types.</p>\n<p>Does anyone have an idea how to solve this problem?</p>\n"},{"tags":["java","java-8","java-11","java-6","lts"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":0,"creation_date":1690486661,"post_id":76782885,"comment_id":135364527,"body_markdown":"LTS (long-term support) is a version that is to be supported for up to n-years after release. Java 8 has the longest support up to 2030 (16 years after its release). See: [Oracle Java SE Support Roadmap](https://www.oracle.com/java/technologies/java-se-support-roadmap.html#:~:text=For%20product%20releases%20after%20Java,Java%2021%20in%20September%202023.) for all the support dates for all current (and upcoming) LTS releases. If you are using Java 8, try to upgrade to 11, before transitioning to 17 or 21.","body":"LTS (long-term support) is a version that is to be supported for up to n-years after release. Java 8 has the longest support up to 2030 (16 years after its release). See: <a href=\"https://www.oracle.com/java/technologies/java-se-support-roadmap.html#:~:text=For%20product%20releases%20after%20Java,Java%2021%20in%20September%202023.\" rel=\"nofollow noreferrer\">Oracle Java SE Support Roadmap</a> for all the support dates for all current (and upcoming) LTS releases. If you are using Java 8, try to upgrade to 11, before transitioning to 17 or 21."},{"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"score":0,"creation_date":1690486980,"post_id":76782885,"comment_id":135364590,"body_markdown":"Mr. Polywhirl, thank you, it is helpfull","body":"Mr. Polywhirl, thank you, it is helpfull"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1690489180,"post_id":76782885,"comment_id":135364997,"body_markdown":"In contrast, Oracle&#39;s current policy is to support non-LTS versions only until the next version is released.  And their current practice is to release a new version every six months.","body":"In contrast, Oracle&#39;s current policy is to support non-LTS versions only until the next version is released.  And their current practice is to release a new version every six months."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1690489598,"post_id":76782885,"comment_id":135365068,"body_markdown":"Please do not write &quot;JAVA&quot;. The name of the language is Java.","body":"Please do not write &quot;JAVA&quot;. The name of the language is Java."}],"owner":{"account_id":25387878,"reputation":29,"user_id":19199417,"display_name":"user502233"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690489914,"creation_date":1690486332,"question_id":76782885,"body_markdown":"am I rightly understand what means LTS for Java?\r\nmy understanding:\r\n\r\nA lot of time after the release of the LTS version, if the support period has not yet expired, this version may receive an update despite the fact that even a new LTS version has already been released, for example, can JDK 17.0.7 get an update to 17.0.8 in 2023 when JDK 20 was released?\r\n\r\nI just want to make sure of my understanding\r\n","title":"am I rightly understand what means LTS for Java?","body":"<p>am I rightly understand what means LTS for Java?\nmy understanding:</p>\n<p>A lot of time after the release of the LTS version, if the support period has not yet expired, this version may receive an update despite the fact that even a new LTS version has already been released, for example, can JDK 17.0.7 get an update to 17.0.8 in 2023 when JDK 20 was released?</p>\n<p>I just want to make sure of my understanding</p>\n"},{"tags":["java","spring-boot","jboss","multipart"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1505216632,"post_id":46174398,"comment_id":79313086,"body_markdown":"If you are actually using Spring Boot then why do you use a `web.xml`? Basically you are using a different config for development and production right now. Also if you really need this you would need the Spring Boot Legacy stuff to properly bootstrap things.","body":"If you are actually using Spring Boot then why do you use a <code>web.xml</code>? Basically you are using a different config for development and production right now. Also if you really need this you would need the Spring Boot Legacy stuff to properly bootstrap things."},{"owner":{"account_id":299660,"reputation":365,"user_id":606367,"display_name":"Rebelek"},"score":0,"creation_date":1505288570,"post_id":46174398,"comment_id":79345491,"body_markdown":"Without web.xml application is not deployed correctly to jboss even though main class extends SpringBootServletInitializer with configure method override, have @SpringBootApplication annotation and &lt;start-class&gt; is set in pom.xml. After finished deployment endpoints are not detected and each url gives me 404. But I&#39;m not giving up, still trying to make it consistent.","body":"Without web.xml application is not deployed correctly to jboss even though main class extends SpringBootServletInitializer with configure method override, have @SpringBootApplication annotation and &lt;start-class&gt; is set in pom.xml. After finished deployment endpoints are not detected and each url gives me 404. But I&#39;m not giving up, still trying to make it consistent."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1505289717,"post_id":46174398,"comment_id":79346149,"body_markdown":"As stated if you use a web.xml use the Spring Boot Legacy project for bootstrapping. You have different configurations for dev and prod you are bootstrapping NOT spring boot which basically disables everything.","body":"As stated if you use a web.xml use the Spring Boot Legacy project for bootstrapping. You have different configurations for dev and prod you are bootstrapping NOT spring boot which basically disables everything."},{"owner":{"account_id":299660,"reputation":365,"user_id":606367,"display_name":"Rebelek"},"score":0,"creation_date":1505303831,"post_id":46174398,"comment_id":79356149,"body_markdown":"After removing web.xml, and adding missing entries in servlet initializers onStartup() problem is solved. Thank you both for good direction.","body":"After removing web.xml, and adding missing entries in servlet initializers onStartup() problem is solved. Thank you both for good direction."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1506543365,"post_id":46174398,"comment_id":79868630,"body_markdown":"@Rebelek consider adding that as an answer","body":"@Rebelek consider adding that as an answer"}],"answers":[{"tags":[],"owner":{"account_id":8715595,"reputation":475,"user_id":6520338,"display_name":"Masud"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511861312,"creation_date":1506543158,"answer_id":46456456,"question_id":46174398,"body_markdown":"discussed here https://github.com/spring-projects/spring-boot/issues/2958 suggests if you are using `@EnableAutoConfiguration` then you need to do the following as because the springboot autoconfig causes issue:\r\n\r\n    @EnableAutoConfiguration(exclude = {MultipartAutoConfiguration.class})\r\n\r\ndefine the following beans\r\n\r\n    @Bean(name = &quot;multipartResolver&quot;) \r\n    public CommonsMultipartResolver commonsMultipartResolver(){ \r\n    CommonsMultipartResolver resolver = new CommonsMultipartResolver(); resolver.setMaxUploadSize(50*1024*1024); return resolver ; \r\n    }\r\n\r\n\r\n    @Bean @Order(0) public MultipartFilter multipartFilter()\r\n    { \r\n    MultipartFilter multipartFilter = new MultipartFilter(); \r\n    multipartFilter.setMultipartResolverBeanName(&quot;multipartResolver&quot;); \r\n    return multipartFilter; \r\n    }","title":"Multipart, spring-boot and JBoss - Required request part &#39;file&#39; is not present","body":"<p>discussed here <a href=\"https://github.com/spring-projects/spring-boot/issues/2958\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/2958</a> suggests if you are using <code>@EnableAutoConfiguration</code> then you need to do the following as because the springboot autoconfig causes issue:</p>\n\n<pre><code>@EnableAutoConfiguration(exclude = {MultipartAutoConfiguration.class})\n</code></pre>\n\n<p>define the following beans</p>\n\n<pre><code>@Bean(name = \"multipartResolver\") \npublic CommonsMultipartResolver commonsMultipartResolver(){ \nCommonsMultipartResolver resolver = new CommonsMultipartResolver(); resolver.setMaxUploadSize(50*1024*1024); return resolver ; \n}\n\n\n@Bean @Order(0) public MultipartFilter multipartFilter()\n{ \nMultipartFilter multipartFilter = new MultipartFilter(); \nmultipartFilter.setMultipartResolverBeanName(\"multipartResolver\"); \nreturn multipartFilter; \n}\n</code></pre>\n"}],"owner":{"account_id":299660,"reputation":365,"user_id":606367,"display_name":"Rebelek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2636,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690489567,"creation_date":1505213210,"question_id":46174398,"body_markdown":"I have an application that uses **spring-boot** and embedded **Tomcat** for development, and on production server it is deployed on **JBoss 6.4 EAP**.\r\nAfter adding support for JBoss, multipart file upload stopped working. On both containers it was throwing **MissingServletRequestPartException**.\r\n\r\nAdding *MultipartConfigElement* to *ServletRegistrationBean* fixed this issue on tomcat, but for JBoss it&#39;s still not working. Do you have any ideas where is the problem?\r\n\r\nConfiguration:\r\n\r\n    @Bean\r\n    public ServletRegistrationBean dispatcherRegistration(DispatcherServlet dispatcherServlet, MultipartConfigElement\r\n            multipartConfig) {\r\n        ServletRegistrationBean registration = new ServletRegistrationBean(dispatcherServlet);\r\n        registration.getUrlMappings().clear();\r\n        registration.addUrlMappings(&quot;/*&quot;);\r\n        registration.setMultipartConfig(multipartConfig);\r\n        return registration;\r\n    }\r\n\r\n\r\nEndpoint:\r\n\r\n    @RequestMapping(method = POST)\r\n    @ResponseBody\r\n    public SomeResponse uploadFileWithComment(\r\n        @RequestParam(value = &quot;file&quot;) final MultipartFile file,\r\n        @RequestParam(value = &quot;comment&quot;) String comment) {\r\n        ...\r\n    }\r\n\r\nweb.xml\r\n\r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n    \r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.rebelek.Application&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;contextClass&lt;/param-name&gt;\r\n                &lt;param-value&gt;\r\n                    org.springframework.web.context.support.AnnotationConfigWebApplicationContext\r\n                &lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;\r\n","title":"Multipart, spring-boot and JBoss - Required request part &#39;file&#39; is not present","body":"<p>I have an application that uses <strong>spring-boot</strong> and embedded <strong>Tomcat</strong> for development, and on production server it is deployed on <strong>JBoss 6.4 EAP</strong>.\nAfter adding support for JBoss, multipart file upload stopped working. On both containers it was throwing <strong>MissingServletRequestPartException</strong>.</p>\n\n<p>Adding <em>MultipartConfigElement</em> to <em>ServletRegistrationBean</em> fixed this issue on tomcat, but for JBoss it's still not working. Do you have any ideas where is the problem?</p>\n\n<p>Configuration:</p>\n\n<pre><code>@Bean\npublic ServletRegistrationBean dispatcherRegistration(DispatcherServlet dispatcherServlet, MultipartConfigElement\n        multipartConfig) {\n    ServletRegistrationBean registration = new ServletRegistrationBean(dispatcherServlet);\n    registration.getUrlMappings().clear();\n    registration.addUrlMappings(\"/*\");\n    registration.setMultipartConfig(multipartConfig);\n    return registration;\n}\n</code></pre>\n\n<p>Endpoint:</p>\n\n<pre><code>@RequestMapping(method = POST)\n@ResponseBody\npublic SomeResponse uploadFileWithComment(\n    @RequestParam(value = \"file\") final MultipartFile file,\n    @RequestParam(value = \"comment\") String comment) {\n    ...\n}\n</code></pre>\n\n<p>web.xml</p>\n\n<pre><code>&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.request.RequestContextListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;com.rebelek.Application&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextClass&lt;/param-name&gt;\n            &lt;param-value&gt;\n                org.springframework.web.context.support.AnnotationConfigWebApplicationContext\n            &lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;RestServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","json","regex","serenity"],"comments":[{"owner":{"account_id":5066786,"reputation":690,"user_id":4066708,"display_name":"Malcolm"},"score":0,"creation_date":1690399331,"post_id":76774381,"comment_id":135349851,"body_markdown":"If I am reading your notation correctly it looks like you regex is trying to match the word null within double quotes.  But in the actual JSON there are no double quotes around the word null.","body":"If I am reading your notation correctly it looks like you regex is trying to match the word null within double quotes.  But in the actual JSON there are no double quotes around the word null."},{"owner":{"account_id":29098078,"reputation":1,"user_id":22290549,"display_name":"osama saleem"},"score":0,"creation_date":1690399638,"post_id":76774381,"comment_id":135349908,"body_markdown":"yes, so how can I deal with that @Malcolm? \nThanks :)","body":"yes, so how can I deal with that @Malcolm?  Thanks :)"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1690399764,"post_id":76774381,"comment_id":135349932,"body_markdown":"Does `^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$` work for you? Check [demo](https://regex101.com/r/XMisgV/1).","body":"Does <code>^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$</code> work for you? Check <a href=\"https://regex101.com/r/XMisgV/1\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":29098078,"reputation":1,"user_id":22290549,"display_name":"osama saleem"},"score":0,"creation_date":1690400430,"post_id":76774381,"comment_id":135350045,"body_markdown":"if i write like &lt;&quot;${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$&quot;&gt; but was: &lt;null&gt; same error","body":"if i write like &lt;&quot;${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$&quot;&gt; but was: &lt;null&gt; same error"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690405378,"post_id":76774381,"comment_id":135350873,"body_markdown":"Can you provide some context, possibly the routine you&#39;re running.  Is this part of an _annotation_?","body":"Can you provide some context, possibly the routine you&#39;re running.  Is this part of an <i>annotation</i>?"}],"answers":[{"comments":[{"owner":{"account_id":29089971,"reputation":1,"user_id":22284085,"display_name":"TK421"},"score":0,"creation_date":1690405991,"post_id":76774476,"comment_id":135350982,"body_markdown":"You&#39;ve got some, uh, interesting notations in there - your use of $ and ^ in particular don&#39;t appear to follow the usual meaning. But you still had an additional double quote in addition to the other weirdness. Try: &lt;&quot;${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$&gt;","body":"You&#39;ve got some, uh, interesting notations in there - your use of $ and ^ in particular don&#39;t appear to follow the usual meaning. But you still had an additional double quote in addition to the other weirdness. Try: &lt;&quot;${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$&gt;"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690482216,"post_id":76774476,"comment_id":135363755,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76774476/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29089971,"reputation":1,"user_id":22284085,"display_name":"TK421"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690399811,"creation_date":1690399811,"answer_id":76774476,"question_id":76774381,"body_markdown":"The way it&#39;s written, isn&#39;t it looking for *&quot;null&quot;* instead of *null*? So by putting the double quotes with the character grouping instead of around both the character grouping and the null, it should match.","title":"Unable to create Regex for JSON value","body":"<p>The way it's written, isn't it looking for <em>&quot;null&quot;</em> instead of <em>null</em>? So by putting the double quotes with the character grouping instead of around both the character grouping and the null, it should match.</p>\n"},{"tags":[],"owner":{"account_id":5066786,"reputation":690,"user_id":4066708,"display_name":"Malcolm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690489134,"creation_date":1690489134,"answer_id":76783147,"question_id":76774381,"body_markdown":"I must say I am unfamiliar with the exact notation you are using.  You appear to be using some parser that has the embedded regex matching in it, rather than having a regex that matches the entire JSON string. It would appear that everything outside of your dollar-braced unit is being interpreted literally in which case you need to not have the double quotes when you are matching the null expression.  So, depending upon how your parser handles the embedded quotes in the regex, you either want\r\n\r\n    {&quot;name&quot;:${json-unit.matches:^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$}}\r\n\r\nor \r\n\r\n    {&quot;name&quot;:${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$}}\r\n\r\n\r\n","title":"Unable to create Regex for JSON value","body":"<p>I must say I am unfamiliar with the exact notation you are using.  You appear to be using some parser that has the embedded regex matching in it, rather than having a regex that matches the entire JSON string. It would appear that everything outside of your dollar-braced unit is being interpreted literally in which case you need to not have the double quotes when you are matching the null expression.  So, depending upon how your parser handles the embedded quotes in the regex, you either want</p>\n<pre><code>{&quot;name&quot;:${json-unit.matches:^(\\&quot;[A-Za-z0-9]+\\&quot;|null)$}}\n</code></pre>\n<p>or</p>\n<pre><code>{&quot;name&quot;:${json-unit.matches:^(\\\\\\&quot;[A-Za-z0-9]+\\\\\\&quot;|null)$}}\n</code></pre>\n"}],"owner":{"account_id":29098078,"reputation":1,"user_id":22290549,"display_name":"osama saleem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690489134,"creation_date":1690398888,"question_id":76774381,"body_markdown":"I have `JSON` for which I sometimes got some alphanumeric name in one key value name and sometimes it is `null` like below.\r\n\r\n    {&quot;name&quot;:&quot;77Watcher&quot;}\r\n    {&quot;name&quot;:null}\r\n\r\nI have to validate the data I am using like below. \r\n\r\n    {&quot;name&quot;:&quot;${json-unit.matches:^([A-Za-z0-9]+|null)$}&quot;}\r\n\r\nBut getting `Matcher &quot;^([A-Za-z0-9]+|null)$&quot;` not found.\r\n\r\nIf I use `{&quot;name&quot;:&quot;${json-unit.matches:[A-z0-9]|null&quot;}` then getting `&lt;&quot;${json-unit.matches:[A-z0-9]|null&quot;&gt; but was: &lt;null&gt;`.\r\n\r\nIs there any proper regex that I can put into my code for that?\r\n ","title":"Unable to create Regex for JSON value","body":"<p>I have <code>JSON</code> for which I sometimes got some alphanumeric name in one key value name and sometimes it is <code>null</code> like below.</p>\n<pre><code>{&quot;name&quot;:&quot;77Watcher&quot;}\n{&quot;name&quot;:null}\n</code></pre>\n<p>I have to validate the data I am using like below.</p>\n<pre><code>{&quot;name&quot;:&quot;${json-unit.matches:^([A-Za-z0-9]+|null)$}&quot;}\n</code></pre>\n<p>But getting <code>Matcher &quot;^([A-Za-z0-9]+|null)$&quot;</code> not found.</p>\n<p>If I use <code>{&quot;name&quot;:&quot;${json-unit.matches:[A-z0-9]|null&quot;}</code> then getting <code>&lt;&quot;${json-unit.matches:[A-z0-9]|null&quot;&gt; but was: &lt;null&gt;</code>.</p>\n<p>Is there any proper regex that I can put into my code for that?</p>\n"},{"tags":["java","swagger","swagger-ui","springfox"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1526043610,"post_id":50291301,"comment_id":87602060,"body_markdown":"Is this Springfox or some other framework?","body":"Is this Springfox or some other framework?"},{"owner":{"account_id":9170859,"reputation":1306,"user_id":6818430,"display_name":"Navin Gelot"},"score":1,"creation_date":1526045567,"post_id":50291301,"comment_id":87603294,"body_markdown":"no it is springfox","body":"no it is springfox"},{"owner":{"account_id":9170859,"reputation":1306,"user_id":6818430,"display_name":"Navin Gelot"},"score":4,"creation_date":1526045626,"post_id":50291301,"comment_id":87603335,"body_markdown":"return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n\n                .apis(RequestHandlerSelectors.basePackage((&quot;com.valens.compony&quot;)))\n\n                .paths(Predicates.or( PathSelectors.regex(&quot;/cart&quot;),PathSelectors.regex(&quot;/post&quot;)))\n\n                .build()\n\n                .pathMapping(&quot;/&quot;)\n\n\ni found this solution but it only works in java not in scala","body":"return new Docket(DocumentationType.SWAGGER_2)                 .select()                  .apis(RequestHandlerSelectors.basePackage((&quot;com.valens.compo&zwnj;&#8203;ny&quot;)))                  .paths(Predicates.or( PathSelectors.regex(&quot;/cart&quot;),PathSelectors.regex(&quot;/post&quot;)))                  .build()                  .pathMapping(&quot;/&quot;)   i found this solution but it only works in java not in scala"},{"owner":{"account_id":7241341,"reputation":121,"user_id":5524829,"display_name":"LoRe"},"score":0,"creation_date":1585567067,"post_id":50291301,"comment_id":107795757,"body_markdown":"Verify the endpoint root path.","body":"Verify the endpoint root path."}],"answers":[{"tags":[],"owner":{"account_id":14680226,"reputation":41,"user_id":14918839,"display_name":"Cesar Nicol&#225;s Cabo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1609421821,"creation_date":1609421821,"answer_id":65521633,"question_id":50291301,"body_markdown":"Another option is to use ***.paths(PathSelectors.any())*** instead of ***.paths(PathSelectors.ant(&quot;/cart&quot;))*** and ***.paths(PathSelectors.ant(&quot;/post&quot;))***","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>Another option is to use <em><strong>.paths(PathSelectors.any())</strong></em> instead of <em><strong>.paths(PathSelectors.ant(&quot;/cart&quot;))</strong></em> and <em><strong>.paths(PathSelectors.ant(&quot;/post&quot;))</strong></em></p>\n"},{"comments":[{"owner":{"account_id":6400795,"reputation":344,"user_id":4963534,"display_name":"tuan.dinh"},"score":0,"creation_date":1648170546,"post_id":71052199,"comment_id":126563199,"body_markdown":"This trick solves my problem. Can you elaborate how you came to this fix @Peyman ? I&#39;d be great if you can share the original doco/issue point this one out.","body":"This trick solves my problem. Can you elaborate how you came to this fix @Peyman ? I&#39;d be great if you can share the original doco/issue point this one out."}],"tags":[],"owner":{"account_id":4270891,"reputation":290,"user_id":3492714,"display_name":"Peyman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644419991,"creation_date":1644419991,"answer_id":71052199,"question_id":50291301,"body_markdown":"With Spring boot `2.6.x` you also need:\r\n\r\n```yaml\r\nspring:  \r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher\r\n```","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>With Spring boot <code>2.6.x</code> you also need:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:  \n  mvc:\n    pathmatch:\n      matching-strategy: ant_path_matcher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16785102,"reputation":122,"user_id":12134289,"display_name":"Arthur Gazizov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644856169,"creation_date":1644856169,"answer_id":71115127,"question_id":50291301,"body_markdown":"It because you use `AND` condition \r\n```\r\n  public ApiSelectorBuilder paths(Predicate&lt;String&gt; selector) {\r\n    pathSelector = pathSelector.and(selector);\r\n    return this;\r\n  }\r\n```\r\n\r\nyou can combine conditions by using `OR` clause \r\n```\r\n.paths(PathSelectors.ant(&quot;/cart&quot;).or(PathSelectors.ant(&quot;/post&quot;)))\r\n```","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>It because you use <code>AND</code> condition</p>\n<pre><code>  public ApiSelectorBuilder paths(Predicate&lt;String&gt; selector) {\n    pathSelector = pathSelector.and(selector);\n    return this;\n  }\n</code></pre>\n<p>you can combine conditions by using <code>OR</code> clause</p>\n<pre><code>.paths(PathSelectors.ant(&quot;/cart&quot;).or(PathSelectors.ant(&quot;/post&quot;)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4143607,"reputation":773,"user_id":3398044,"accept_rate":62,"display_name":"vuhoanghiep1993"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670398305,"creation_date":1670398305,"answer_id":74713141,"question_id":50291301,"body_markdown":"Please add package xxxx as root package so It can scan swagger config in all class\r\n    \r\n    public String getApplicationBasePath() {\r\n        \t\t\t\treturn swaggerPath;\r\n        \t\t\t}\r\n        \t\t}).select().apis(RequestHandlerSelectors.basePackage(&quot;xxxx&quot;)).build()\r\n        \t\t\t\t.securitySchemes(Arrays.asList(securitySchema()))\r\n        \t\t\t\t.securityContexts(Collections.singletonList(securityContext())).apiInfo(metaData());","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>Please add package xxxx as root package so It can scan swagger config in all class</p>\n<pre><code>public String getApplicationBasePath() {\n                    return swaggerPath;\n                }\n            }).select().apis(RequestHandlerSelectors.basePackage(&quot;xxxx&quot;)).build()\n                    .securitySchemes(Arrays.asList(securitySchema()))\n                    .securityContexts(Collections.singletonList(securityContext())).apiInfo(metaData());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4096496,"reputation":1292,"user_id":4085134,"accept_rate":50,"display_name":"Ait Friha Zaid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685542950,"creation_date":1685542576,"answer_id":76374465,"question_id":50291301,"body_markdown":" \r\nthis the solution : is add the the path where exactly you have the controllers classe \r\n\r\nexemple :\r\n&quot;org.zaid.aitfriha.controller.api&quot; is the path where exactly you have controllers \r\n\r\n    .apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\r\n\r\ndont use org.zaid.* or org.zaid.aitfriha.* or org.zaid.aitfriha.controller.*\r\n\r\nBe careful with  &quot;/api/AbsenceRequest&quot; dont works it must be &quot;/api/absenceRequest&quot;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/absenceRequest&quot;)\r\n    @CrossOrigin(&quot;*&quot;)","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>this the solution : is add the the path where exactly you have the controllers classe</p>\n<p>exemple :\n&quot;org.zaid.aitfriha.controller.api&quot; is the path where exactly you have controllers</p>\n<pre><code>.apis(RequestHandlerSelectors.basePackage(&quot;org.zaid.aitfriha.controller.api&quot;))\n</code></pre>\n<p>dont use org.zaid.* or org.zaid.aitfriha.* or org.zaid.aitfriha.controller.*</p>\n<p>Be careful with  &quot;/api/AbsenceRequest&quot; dont works it must be &quot;/api/absenceRequest&quot;</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/absenceRequest&quot;)\n@CrossOrigin(&quot;*&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13688182,"reputation":59,"user_id":9876769,"display_name":"Eduardo Toural"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690488648,"creation_date":1690488648,"answer_id":76783106,"question_id":50291301,"body_markdown":"You can try setting the base package to the RequestHandlerSelectors object in your Swagger Config class. You can point to the specific package where you have your OpenAPI annotations added, i.e. &quot;controller&quot;, or just leave it pointing to the root, spring will scan all the nested packages.\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.demo&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build().apiInfo(apiInfoMetaData());\r\n    }","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>You can try setting the base package to the RequestHandlerSelectors object in your Swagger Config class. You can point to the specific package where you have your OpenAPI annotations added, i.e. &quot;controller&quot;, or just leave it pointing to the root, spring will scan all the nested packages.</p>\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n            .select()\n            .apis(RequestHandlerSelectors.basePackage(&quot;com.example.demo&quot;))\n            .paths(PathSelectors.any())\n            .build().apiInfo(apiInfoMetaData());\n}\n</code></pre>\n"}],"owner":{"account_id":9170859,"reputation":1306,"user_id":6818430,"display_name":"Navin Gelot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25634,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":6,"score":10,"last_activity_date":1690488648,"creation_date":1526037988,"question_id":50291301,"body_markdown":"I want to display two REST API endpoints in Swagger ui: /cart and /post.\r\n\r\nWhen I specify either /cart or /post works fine but with both showing me error as \r\n\r\n&gt; No operations defined in spec!\r\n\r\n in swagger-ui\r\n   \r\n\r\n    @Bean\r\n    public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()\r\n            .apis(RequestHandlerSelectors.any())\r\n            .paths(PathSelectors.ant(&quot;/cart&quot;))\r\n            .paths(PathSelectors.ant(&quot;/post&quot;))\r\n            .build();\r\n    }","title":"No operations defined in spec! while specifying multiple paths in swagger ui","body":"<p>I want to display two REST API endpoints in Swagger ui: /cart and /post.</p>\n\n<p>When I specify either /cart or /post works fine but with both showing me error as </p>\n\n<blockquote>\n  <p>No operations defined in spec!</p>\n</blockquote>\n\n<p>in swagger-ui</p>\n\n<pre><code>@Bean\npublic Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.any())\n        .paths(PathSelectors.ant(\"/cart\"))\n        .paths(PathSelectors.ant(\"/post\"))\n        .build();\n}\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","annotations"],"answers":[{"comments":[{"owner":{"account_id":13865217,"reputation":93,"user_id":10009861,"display_name":"L.Th"},"score":0,"creation_date":1690487714,"post_id":76782923,"comment_id":135364744,"body_markdown":"The method in Util1 is void, it is just check if method in Class2 is correctly, if not get in exception. But the method in Class2 uses a @Value provider annotation to check if it is correct, how i mencioned. And that is my problem, because this value are returning null, not get the provider on application.properties(on test or main, wherever). In the other words, when you reach to the line of the method in Class1, where&#39;s called the void method in Util1, it will just check if the method in Class2 is correct. I will update my  question","body":"The method in Util1 is void, it is just check if method in Class2 is correctly, if not get in exception. But the method in Class2 uses a @Value provider annotation to check if it is correct, how i mencioned. And that is my problem, because this value are returning null, not get the provider on application.properties(on test or main, wherever). In the other words, when you reach to the line of the method in Class1, where&#39;s called the void method in Util1, it will just check if the method in Class2 is correct. I will update my  question"}],"tags":[],"owner":{"account_id":21895430,"reputation":1,"user_id":19147370,"display_name":"GuilhRib"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690486835,"creation_date":1690486835,"answer_id":76782923,"question_id":76782734,"body_markdown":"Mockito can&#39;t directly mock static methods, so you can use PowerMock along with Mockito. PowerMock is a library that extends Mockito and allows you to mock static methods.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({Util1.class, Class2.class})\r\n    public class Class1Test {\r\n\r\n        @Test\r\n        public void testClass1Method() {\r\n            // Mock the static method in Util1\r\n            PowerMockito.mockStatic(Util1.class);\r\n            Mockito.when(Util1.staticMethod()).thenReturn(someValue);\r\n\r\n            // Mock the @Value dependency in Class2\r\n            // Assuming you are using Spring and have the appropriate setup\r\n            @TestPropertySource(properties = {&quot;your.value.property=your_mocked_value&quot;})\r\n            @ContextConfiguration(classes = Class2.class)\r\n            public static class Class2Test {\r\n            }\r\n\r\n            // Now, test the method in Class1 that you want to test\r\n            // Make sure to pass any necessary dependencies or use Mockito.verify() to check interactions.\r\n        }\r\n    }\r\n\r\n","title":"How to set value for annotation - Java","body":"<p>Mockito can't directly mock static methods, so you can use PowerMock along with Mockito. PowerMock is a library that extends Mockito and allows you to mock static methods.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest({Util1.class, Class2.class})\npublic class Class1Test {\n\n    @Test\n    public void testClass1Method() {\n        // Mock the static method in Util1\n        PowerMockito.mockStatic(Util1.class);\n        Mockito.when(Util1.staticMethod()).thenReturn(someValue);\n\n        // Mock the @Value dependency in Class2\n        // Assuming you are using Spring and have the appropriate setup\n        @TestPropertySource(properties = {&quot;your.value.property=your_mocked_value&quot;})\n        @ContextConfiguration(classes = Class2.class)\n        public static class Class2Test {\n        }\n\n        // Now, test the method in Class1 that you want to test\n        // Make sure to pass any necessary dependencies or use Mockito.verify() to check interactions.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13865217,"reputation":93,"user_id":10009861,"display_name":"L.Th"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690487910,"creation_date":1690484780,"question_id":76782734,"body_markdown":"Let me explain my problem: I&#39;m trying to test with Mockito in JUnit4, a method of Class1, which calls a static void method in Util1, this method of Util1 calls another method of Class2, just to check if conditions are correct. If not, the method in Util1 enter in exception. In this method of Class2, has a @Value annotation instantiated which value are returning null, and thats my problem, i need the spring get @Value provider in application.properties(on test or main, wherever) or i can set a value for this variable. I&#39;ve tried several ways to pass this value to the class(or variable), but so far I can&#39;t change the value of this variable. How do I resolve this issue?\r\n\r\nWhat I already tried:\r\n\r\n1. Use ReflectionTestUtils.setField to set the variable in the class, mocking and not mocking the class in the test.\r\n2. Use the @SpringBootTest and @TestPropertySource annotations to get the test&#39;s application.properties\r\n3. PowerMocking\r\n\r\nBut none of these alternatives worked.","title":"How to set value for annotation - Java","body":"<p>Let me explain my problem: I'm trying to test with Mockito in JUnit4, a method of Class1, which calls a static void method in Util1, this method of Util1 calls another method of Class2, just to check if conditions are correct. If not, the method in Util1 enter in exception. In this method of Class2, has a @Value annotation instantiated which value are returning null, and thats my problem, i need the spring get @Value provider in application.properties(on test or main, wherever) or i can set a value for this variable. I've tried several ways to pass this value to the class(or variable), but so far I can't change the value of this variable. How do I resolve this issue?</p>\n<p>What I already tried:</p>\n<ol>\n<li>Use ReflectionTestUtils.setField to set the variable in the class, mocking and not mocking the class in the test.</li>\n<li>Use the @SpringBootTest and @TestPropertySource annotations to get the test's application.properties</li>\n<li>PowerMocking</li>\n</ol>\n<p>But none of these alternatives worked.</p>\n"},{"tags":["java","web-services","jakarta-ee","tomcat","jax-ws"],"answers":[{"comments":[{"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"score":2,"creation_date":1369202065,"post_id":16682009,"comment_id":24010135,"body_markdown":"Thanks for the answer. However, I don&#39;t want to use Endpoint.publish(..) infrastructure because it represents a lightweight HTTP server - if I wanted that, I wouldn&#39;t have used Tomcat. Next, Tomcat is a servlet container; in other words you cannot deploy EJBs on Tomcat. I&#39;m aware that works like a charm in Glassfish, but that&#39;s because Glassfish is JSR-109-compliant.","body":"Thanks for the answer. However, I don&#39;t want to use Endpoint.publish(..) infrastructure because it represents a lightweight HTTP server - if I wanted that, I wouldn&#39;t have used Tomcat. Next, Tomcat is a servlet container; in other words you cannot deploy EJBs on Tomcat. I&#39;m aware that works like a charm in Glassfish, but that&#39;s because Glassfish is JSR-109-compliant."},{"owner":{"account_id":2661562,"reputation":235,"user_id":2301108,"accept_rate":100,"display_name":"Michael Henrique"},"score":0,"creation_date":1369227452,"post_id":16682009,"comment_id":24023145,"body_markdown":"Tomcat does not supports EJB by default. You should consider using, for instance, TomEE. I mentioned EJB just to act as a example to demonstrate no needs of sun-jaxws.xml (It&#39;s not mandatory).","body":"Tomcat does not supports EJB by default. You should consider using, for instance, TomEE. I mentioned EJB just to act as a example to demonstrate no needs of sun-jaxws.xml (It&#39;s not mandatory)."},{"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"score":0,"creation_date":1369232525,"post_id":16682009,"comment_id":24026615,"body_markdown":"Personally, I would always prefer full application server (such as Glassfish) over servlet container (such as Tomcat). But, our clients use Tomcat and I am curious if it&#39;s possible to simplify a configuration needed for the deployment of Web services on Tomcat. Therefore, my question is specifically about Tomcat, not TomEE or Glassfish.","body":"Personally, I would always prefer full application server (such as Glassfish) over servlet container (such as Tomcat). But, our clients use Tomcat and I am curious if it&#39;s possible to simplify a configuration needed for the deployment of Web services on Tomcat. Therefore, my question is specifically about Tomcat, not TomEE or Glassfish."}],"tags":[],"owner":{"account_id":2661562,"reputation":235,"user_id":2301108,"accept_rate":100,"display_name":"Michael Henrique"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369185428,"creation_date":1369185428,"answer_id":16682009,"question_id":16537821,"body_markdown":"You have to publish the web service. You can implement a ServletContextListener and publish the endpoint:\r\n\r\n    @javax.servlet.annotation.WebListener \r\n    public class AppServletContextListener implements javax.servlet.ServletContextListener {\r\n    \r\n        public void contextInitialized(ServletContextEvent sce) { \r\n            Endpoint.publish(&quot;{protocol}://{host}:{port}/{context}/{wsName}&quot;, new MyHelloWorldWSImpl());\r\n        } \r\n\r\n        public void contextDestroyed(ServletContextEvent sce) { \r\n            .... \r\n        }\r\n    }\r\n\r\nsun-jaxws.xml is not mandatory by specs...If you note, for example, glassfish (metro) makes it optional. Also, if you expose a EJB 3.1 as webservice (with jaxws) you can see no sun-jaxws.xml file in the generated build.\r\n\r\n","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>You have to publish the web service. You can implement a ServletContextListener and publish the endpoint:</p>\n\n<pre><code>@javax.servlet.annotation.WebListener \npublic class AppServletContextListener implements javax.servlet.ServletContextListener {\n\n    public void contextInitialized(ServletContextEvent sce) { \n        Endpoint.publish(\"{protocol}://{host}:{port}/{context}/{wsName}\", new MyHelloWorldWSImpl());\n    } \n\n    public void contextDestroyed(ServletContextEvent sce) { \n        .... \n    }\n}\n</code></pre>\n\n<p>sun-jaxws.xml is not mandatory by specs...If you note, for example, glassfish (metro) makes it optional. Also, if you expose a EJB 3.1 as webservice (with jaxws) you can see no sun-jaxws.xml file in the generated build.</p>\n"},{"comments":[{"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"score":1,"creation_date":1369291805,"post_id":16702451,"comment_id":24050380,"body_markdown":"+1, didn&#39;t know that the location of `sun-jaxws.xml` is hard-coded :) What about default url-pattern that should make `sun-jaxws.xml` optional (see the blog I have cited in my question), do you know anything about it?","body":"+1, didn&#39;t know that the location of <code>sun-jaxws.xml</code> is hard-coded :) What about default url-pattern that should make <code>sun-jaxws.xml</code> optional (see the blog I have cited in my question), do you know anything about it?"},{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":0,"creation_date":1369327817,"post_id":16702451,"comment_id":24071790,"body_markdown":"@MiljenMikic reading that post carefully, it all seems like a lot of wishful thinking and not much of a reference: The link in his blog post is dead. I still managed to track down the sources he was referring to [here](http://jarvana.com/jarvana/inspect/com/sun/xml/ws/jaxws-ri/2.2.2-promoted-b03/jaxws-ri-2.2.2-promoted-b03.zip?folder=jaxws-ri/samples/optional_webxml/) and the [readme.txt](http://jarvana.com/jarvana/view/com/sun/xml/ws/jaxws-ri/2.2.2-promoted-b03/jaxws-ri-2.2.2-promoted-b03.zip!/jaxws-ri/samples/optional_webxml/Readme.txt) still indicates a sun-jaxws.xml is necessary","body":"@MiljenMikic reading that post carefully, it all seems like a lot of wishful thinking and not much of a reference: The link in his blog post is dead. I still managed to track down the sources he was referring to <a href=\"http://jarvana.com/jarvana/inspect/com/sun/xml/ws/jaxws-ri/2.2.2-promoted-b03/jaxws-ri-2.2.2-promoted-b03.zip?folder=jaxws-ri/samples/optional_webxml/\" rel=\"nofollow noreferrer\">here</a> and the <a href=\"http://jarvana.com/jarvana/view/com/sun/xml/ws/jaxws-ri/2.2.2-promoted-b03/jaxws-ri-2.2.2-promoted-b03.zip!/jaxws-ri/samples/optional_webxml/Readme.txt\" rel=\"nofollow noreferrer\">readme.txt</a> still indicates a sun-jaxws.xml is necessary"}],"tags":[],"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"comment_count":2,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1467031719,"creation_date":1369260689,"answer_id":16702451,"question_id":16537821,"body_markdown":"Sadly, the configuration **must** exist *somewhere*. That is mandatory, per the source. Believe it or not, [the location of the sun-jaxws.xml file is hard-coded](http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java#207) to /WEB-INF/sun-jaxws.xml (thanks, guys @ Metro). \r\n\r\n**Effectively, you need to take control of the following classes** \r\n\r\n- [`public final class WSServletContextListener`](http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java)\r\n\r\n- [` public class WSServlet`](http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServlet.java#WSServlet)\r\n\r\n\r\n----------\r\n\r\n\r\n**What needs to happen:**\r\n\r\n\r\n\r\n\r\n\r\n1. `WSServletContextListener` will obviously not be extended. This listener performs most of the initializations per the sun-jaxws.xml and jaxws-catalog file. Like I mentioned earlier, the location is hard coded. So your path of least resistance here is to \r\n\r\n\r\n- implement your own vanilla servlet listener (with `@WebListener`) and call a `new WSServletContextListener()`. You&#39;ll then delegate your own `contextInitialized(ServletContext ctxt)` and `contextDestroyed()` methods to the ones in your instance of `WSServletContextListener`. \r\n\r\n- Generate the file on instantiation of the listener, on the fly, using an `@XmlRootElement` class that&#39;ll represent the sun-jaxws file(I&#39;ll provide a sample of this in a short while, don&#39;t have the time right now :) ).\r\n\r\n\r\nIt&#39;s a lot of trouble for such a dispensable convenience, IMO, but it should work in theory. I&#39;ll write some samples and see how they play shortly.\r\n","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>Sadly, the configuration <strong>must</strong> exist <em>somewhere</em>. That is mandatory, per the source. Believe it or not, <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java#207\" rel=\"nofollow\">the location of the sun-jaxws.xml file is hard-coded</a> to /WEB-INF/sun-jaxws.xml (thanks, guys @ Metro). </p>\n\n<p><strong>Effectively, you need to take control of the following classes</strong> </p>\n\n<ul>\n<li><p><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServletContextListener.java\" rel=\"nofollow\"><code>public final class WSServletContextListener</code></a></p></li>\n<li><p><a href=\"http://grepcode.com/file/repo1.maven.org/maven2/com.sun.xml.ws/jaxws-rt/2.2.7/com/sun/xml/ws/transport/http/servlet/WSServlet.java#WSServlet\" rel=\"nofollow\"><code>public class WSServlet</code></a></p></li>\n</ul>\n\n<hr>\n\n<p><strong>What needs to happen:</strong></p>\n\n<ol>\n<li><p><code>WSServletContextListener</code> will obviously not be extended. This listener performs most of the initializations per the sun-jaxws.xml and jaxws-catalog file. Like I mentioned earlier, the location is hard coded. So your path of least resistance here is to </p>\n\n<ul>\n<li><p>implement your own vanilla servlet listener (with <code>@WebListener</code>) and call a <code>new WSServletContextListener()</code>. You'll then delegate your own <code>contextInitialized(ServletContext ctxt)</code> and <code>contextDestroyed()</code> methods to the ones in your instance of <code>WSServletContextListener</code>. </p></li>\n<li><p>Generate the file on instantiation of the listener, on the fly, using an <code>@XmlRootElement</code> class that'll represent the sun-jaxws file(I'll provide a sample of this in a short while, don't have the time right now :) ).</p></li>\n</ul></li>\n</ol>\n\n<p>It's a lot of trouble for such a dispensable convenience, IMO, but it should work in theory. I'll write some samples and see how they play shortly.</p>\n"},{"comments":[{"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"score":1,"creation_date":1434440230,"post_id":30619306,"comment_id":49765322,"body_markdown":"Thanks for the answer. I should have tagged my question with &quot;JAX-WS RI&quot; or &quot;Metro&quot; tags, since `sun-jaxws.xml` is related to these implementations. Apache CXF is different implementation of JAX-WS, so it does not have nothing with `sun-jaxws.xml`.","body":"Thanks for the answer. I should have tagged my question with &quot;JAX-WS RI&quot; or &quot;Metro&quot; tags, since <code>sun-jaxws.xml</code> is related to these implementations. Apache CXF is different implementation of JAX-WS, so it does not have nothing with <code>sun-jaxws.xml</code>."}],"tags":[],"owner":{"account_id":1706369,"reputation":879,"user_id":1565341,"accept_rate":57,"display_name":"yunus kula"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433332277,"creation_date":1433332277,"answer_id":30619306,"question_id":16537821,"body_markdown":"I have publised web services successfully by this way. I have used  apache cfx for publishing in servletContextListener.\r\n\r\n    @WebListener\r\n    public class WebServicePublisListener implements ServletContextListener {\r\n    \r\n        /**\r\n         * Default constructor. \r\n         */\r\n        public WebServicePublisListener() {\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n         * @see ServletContextListener#contextInitialized(ServletContextEvent)\r\n         */\r\n        public void contextInitialized(ServletContextEvent sce)  { \r\n        \tJaxWsServerFactoryBean srvFactory = new JaxWsServerFactoryBean();\r\n        \tsrvFactory.setServiceClass(RandService.class);\r\n        \tsrvFactory.setAddress(&quot;/RandService&quot;);\r\n        \tsrvFactory.setServiceBean(new RandServiceImplement());\r\n        \tsrvFactory.create();\r\n        }\r\n\r\n","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>I have publised web services successfully by this way. I have used  apache cfx for publishing in servletContextListener.</p>\n\n<pre><code>@WebListener\npublic class WebServicePublisListener implements ServletContextListener {\n\n    /**\n     * Default constructor. \n     */\n    public WebServicePublisListener() {\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see ServletContextListener#contextInitialized(ServletContextEvent)\n     */\n    public void contextInitialized(ServletContextEvent sce)  { \n        JaxWsServerFactoryBean srvFactory = new JaxWsServerFactoryBean();\n        srvFactory.setServiceClass(RandService.class);\n        srvFactory.setAddress(\"/RandService\");\n        srvFactory.setServiceBean(new RandServiceImplement());\n        srvFactory.create();\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"score":0,"creation_date":1511774224,"post_id":47507133,"comment_id":81970433,"body_markdown":"I am aware that we can omit `web.xml` file, that is already mentioned in the text of the question. The question is about omitting `sun-jaxws.xml` file.","body":"I am aware that we can omit <code>web.xml</code> file, that is already mentioned in the text of the question. The question is about omitting <code>sun-jaxws.xml</code> file."},{"owner":{"account_id":5521521,"reputation":101,"user_id":4384315,"display_name":"Adrian Malik"},"score":0,"creation_date":1511785517,"post_id":47507133,"comment_id":81977488,"body_markdown":"Ahh okay but I added the solution for other people that might not know how to omit web.xml file for this problem. For example I had that problem several weeks ago.","body":"Ahh okay but I added the solution for other people that might not know how to omit web.xml file for this problem. For example I had that problem several weeks ago."},{"owner":{"account_id":2125067,"reputation":547,"user_id":1887464,"accept_rate":80,"display_name":"user1887464"},"score":0,"creation_date":1628955106,"post_id":47507133,"comment_id":121561442,"body_markdown":"is there any way we can specify port in this xml configuration ?","body":"is there any way we can specify port in this xml configuration ?"},{"owner":{"account_id":951457,"reputation":605,"user_id":977528,"accept_rate":0,"display_name":"Andrew Niken"},"score":0,"creation_date":1659606778,"post_id":47507133,"comment_id":129336438,"body_markdown":"what is implementation=&quot;com.ws.ServiceImpl&quot;\nin this example?","body":"what is implementation=&quot;com.ws.ServiceImpl&quot; in this example?"}],"tags":[],"owner":{"account_id":5521521,"reputation":101,"user_id":4384315,"display_name":"Adrian Malik"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1511773405,"creation_date":1511773405,"answer_id":47507133,"question_id":16537821,"body_markdown":"To have JAX-WS support in Tomcat you must configure:\r\n\r\n - **WEB-INF/sun-jaxws.xml** \r\n - **WSServletContextListener** \r\n - **WSServlet** \r\n\r\nUnfortunately it is hard to omit the **WEB-INF/sun-jaxws.xml** file but there is easier way to omit **web.xml** configuration because of Servlet 3.0 API.\r\n\r\nYou can do something like this:\r\n\r\n    @WebServlet(name = &quot;ServiceServlet&quot; , urlPatterns = &quot;/service&quot;, loadOnStartup = 1)\r\n    public class Servlet extends WSServlet {\r\n\r\n    }\r\n\r\nand\r\n\r\n    @WebListener\r\n    public class Listener implements ServletContextAttributeListener, ServletContextListener {\r\n\r\n        private final WSServletContextListener listener;\r\n\r\n        public Listener() {\r\n            this.listener = new WSServletContextListener();\r\n        }\r\n\r\n        @Override\r\n        public void attributeAdded(ServletContextAttributeEvent event) {\r\n            listener.attributeAdded(event);\r\n        }\r\n\r\n        @Override\r\n        public void attributeRemoved(ServletContextAttributeEvent event) {\r\n            listener.attributeRemoved(event);\r\n        }\r\n\r\n        @Override\r\n        public void attributeReplaced(ServletContextAttributeEvent event) {\r\n            listener.attributeReplaced(event);\r\n        }\r\n\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent sce) {\r\n            listener.contextInitialized(sce);\r\n        }\r\n\r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent sce) {\r\n            listener.contextDestroyed(sce);\r\n        }\r\n    }\r\n\r\nI have tested it on Tomcat-8.5.23 version and it works. But remember that you still must have **WEB-INF/sun-jaxws.xml** file.\r\n\r\n    &lt;endpoints xmlns=&quot;http://java.sun.com/xml/ns/jax-ws/ri/runtime&quot;\r\n           version=&quot;2.0&quot;&gt;\r\n        &lt;endpoint name=&quot;SampleService&quot;\r\n              implementation=&quot;com.ws.ServiceImpl&quot;\r\n              url-pattern=&quot;/service&quot; /&gt;\r\n    &lt;/endpoints&gt;","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>To have JAX-WS support in Tomcat you must configure:</p>\n\n<ul>\n<li><strong>WEB-INF/sun-jaxws.xml</strong> </li>\n<li><strong>WSServletContextListener</strong> </li>\n<li><strong>WSServlet</strong> </li>\n</ul>\n\n<p>Unfortunately it is hard to omit the <strong>WEB-INF/sun-jaxws.xml</strong> file but there is easier way to omit <strong>web.xml</strong> configuration because of Servlet 3.0 API.</p>\n\n<p>You can do something like this:</p>\n\n<pre><code>@WebServlet(name = \"ServiceServlet\" , urlPatterns = \"/service\", loadOnStartup = 1)\npublic class Servlet extends WSServlet {\n\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@WebListener\npublic class Listener implements ServletContextAttributeListener, ServletContextListener {\n\n    private final WSServletContextListener listener;\n\n    public Listener() {\n        this.listener = new WSServletContextListener();\n    }\n\n    @Override\n    public void attributeAdded(ServletContextAttributeEvent event) {\n        listener.attributeAdded(event);\n    }\n\n    @Override\n    public void attributeRemoved(ServletContextAttributeEvent event) {\n        listener.attributeRemoved(event);\n    }\n\n    @Override\n    public void attributeReplaced(ServletContextAttributeEvent event) {\n        listener.attributeReplaced(event);\n    }\n\n    @Override\n    public void contextInitialized(ServletContextEvent sce) {\n        listener.contextInitialized(sce);\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent sce) {\n        listener.contextDestroyed(sce);\n    }\n}\n</code></pre>\n\n<p>I have tested it on Tomcat-8.5.23 version and it works. But remember that you still must have <strong>WEB-INF/sun-jaxws.xml</strong> file.</p>\n\n<pre><code>&lt;endpoints xmlns=\"http://java.sun.com/xml/ns/jax-ws/ri/runtime\"\n       version=\"2.0\"&gt;\n    &lt;endpoint name=\"SampleService\"\n          implementation=\"com.ws.ServiceImpl\"\n          url-pattern=\"/service\" /&gt;\n&lt;/endpoints&gt;\n</code></pre>\n"}],"owner":{"account_id":1573494,"reputation":14865,"user_id":1460628,"accept_rate":60,"display_name":"Miljen Mikic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15983,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":16702451,"answer_count":4,"score":14,"last_activity_date":1690487059,"creation_date":1368518052,"question_id":16537821,"body_markdown":"I am trying to minimize required configuration while deploying JAX-WS-based Web service on Tomcat. With the introduction of Servlet 3.0 (supported by Tomcat 7+), `web.xml` can be thrown out, but there is still `sun-jaxws.xml`. This [blog post][1] is interesting:\r\n\r\n&gt; Of course, with the use of jax-ws annotations, even configuration\r\n&gt; sun-jaxws.xml can be made optional making it completely descriptor\r\n&gt; free, but that requires specifying a default url-pattern like in\r\n&gt; JSR-109 or custom pattern like in Jersey REST services, in the JAX-WS\r\n&gt; specification.\r\n\r\nIs it possible to avoid `sun-jaxws.xml` on Tomcat, and how?\r\n\r\n  [1]: https://weblogs.java.net/blog/ramapulavarthi/archive/2010/08/13/jax-ws-ri-web-services-deployment-made-simplified","title":"JAX-WS Web service on Tomcat without sun-jaxws.xml","body":"<p>I am trying to minimize required configuration while deploying JAX-WS-based Web service on Tomcat. With the introduction of Servlet 3.0 (supported by Tomcat 7+), <code>web.xml</code> can be thrown out, but there is still <code>sun-jaxws.xml</code>. This <a href=\"https://weblogs.java.net/blog/ramapulavarthi/archive/2010/08/13/jax-ws-ri-web-services-deployment-made-simplified\">blog post</a> is interesting:</p>\n\n<blockquote>\n  <p>Of course, with the use of jax-ws annotations, even configuration\n  sun-jaxws.xml can be made optional making it completely descriptor\n  free, but that requires specifying a default url-pattern like in\n  JSR-109 or custom pattern like in Jersey REST services, in the JAX-WS\n  specification.</p>\n</blockquote>\n\n<p>Is it possible to avoid <code>sun-jaxws.xml</code> on Tomcat, and how?</p>\n"},{"tags":["c#","java","properties"],"comments":[{"owner":{"account_id":161781,"reputation":64575,"user_id":382818,"accept_rate":89,"display_name":"Zabba"},"score":1,"creation_date":1320025888,"post_id":2701077,"comment_id":9716254,"body_markdown":"[lombok](http://projectlombok.org/) could help you somewhat - though not property syntax, it does make dealing with getters/setters a lot easier.","body":"<a href=\"http://projectlombok.org/\" rel=\"nofollow noreferrer\">lombok</a> could help you somewhat - though not property syntax, it does make dealing with getters/setters a lot easier."},{"owner":{"account_id":212305,"reputation":24681,"user_id":465053,"accept_rate":83,"display_name":"RBT"},"score":0,"creation_date":1534845164,"post_id":2701077,"comment_id":90841380,"body_markdown":"Related post - [does java have something similar to C# properties?](https://stackoverflow.com/q/2963243/465053)","body":"Related post - <a href=\"https://stackoverflow.com/q/2963243/465053\">does java have something similar to C# properties?</a>"},{"owner":{"account_id":519146,"reputation":203,"user_id":11688856,"display_name":"Jayadevan Vijayan"},"score":0,"creation_date":1619318718,"post_id":2701077,"comment_id":118867612,"body_markdown":"@Scott That is not what OP asked. That functionality (something very similar) is already provided by Lombok soon after Java 5 came out.","body":"@Scott That is not what OP asked. That functionality (something very similar) is already provided by Lombok soon after Java 5 came out."},{"owner":{"account_id":519146,"reputation":203,"user_id":11688856,"display_name":"Jayadevan Vijayan"},"score":0,"creation_date":1619318909,"post_id":2701077,"comment_id":118867633,"body_markdown":"Traditional Java does not support, but Groovy supports it. Since they are compatible and approximately all Java is valid Groovy, that is a way to go if you need properties in Java.","body":"Traditional Java does not support, but Groovy supports it. Since they are compatible and approximately all Java is valid Groovy, that is a way to go if you need properties in Java."}],"answers":[{"comments":[{"owner":{"account_id":45002,"reputation":13531,"user_id":132374,"accept_rate":87,"display_name":"Jon Onstott"},"score":2,"creation_date":1272049819,"post_id":2701095,"comment_id":2724122,"body_markdown":"@Justin - I don&#39;t like the concept of using public fields, but it doesn&#39;t seem like it would be a breaking change; accessing a public field or a property of the same name would have the same syntax.","body":"@Justin - I don&#39;t like the concept of using public fields, but it doesn&#39;t seem like it would be a breaking change; accessing a public field or a property of the same name would have the same syntax."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1272049904,"post_id":2701095,"comment_id":2724134,"body_markdown":"and... a breaking change .. is... ? .. what? :P :P something that makes your code not compile anymore?  A get the point about reflection and somehow databind, they are C# specific problems don&#39;t they?","body":"and... a breaking change .. is... ? .. what? :P :P something that makes your code not compile anymore?  A get the point about reflection and somehow databind, they are C# specific problems don&#39;t they?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1272050100,"post_id":2701095,"comment_id":2724153,"body_markdown":"@Justin : on the original answer. The problem with Java getters and setters is that you can&#39;t use them as if they were attributes, I mean you have to type `int b = o.getX(); o.setX( 10 );`  I don&#39;t want to imply that make your answer wrong. Actually this is **the** correct answer and*unfotunately* the common idiom for Java. I would&#39;ve like much better something like: `int b = o.x(); o.x(10)` :P but much of the reflection code relies on the method name startWith &quot;set..&quot; and &quot;get..&quot;","body":"@Justin : on the original answer. The problem with Java getters and setters is that you can&#39;t use them as if they were attributes, I mean you have to type <code>int b = o.getX(); o.setX( 10 );</code>  I don&#39;t want to imply that make your answer wrong. Actually this is <b>the</b> correct answer and<i>unfotunately</i> the common idiom for Java. I would&#39;ve like much better something like: <code>int b = o.x(); o.x(10)</code> :P but much of the reflection code relies on the method name startWith &quot;set..&quot; and &quot;get..&quot;"},{"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"score":1,"creation_date":1272050386,"post_id":2701095,"comment_id":2724182,"body_markdown":"@Oscar A breaking change is something that would break any code calling yours. If you had a public field that changed to a public Property, the assembly calling your code would need to be re-compiled to continue working.","body":"@Oscar A breaking change is something that would break any code calling yours. If you had a public field that changed to a public Property, the assembly calling your code would need to be re-compiled to continue working."},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1544445762,"post_id":2701095,"comment_id":94266335,"body_markdown":"I somehow don&#39;t like this answer because at first glance it seems like the amount of lines is similar in C# and Java (even more in C#) - in fact, you&#39;ve shown two alternate versions of C# code and you should split it into two block of code, then it&#39;s more clear what is the difference. Or even remove old-way.","body":"I somehow don&#39;t like this answer because at first glance it seems like the amount of lines is similar in C# and Java (even more in C#) - in fact, you&#39;ve shown two alternate versions of C# code and you should split it into two block of code, then it&#39;s more clear what is the difference. Or even remove old-way."},{"owner":{"account_id":2546833,"reputation":3087,"user_id":2211479,"accept_rate":92,"display_name":"Felype"},"score":0,"creation_date":1560041704,"post_id":2701095,"comment_id":99609204,"body_markdown":"With properties in C# you can shove `{ get; set; }` and call it a day in most stuff because very often encapsulation is not that much important; If you ever need to add e11n, then you just go and add, no refactoring needed. Reflection works perfectly fine with Properties and you can shove properties into interfaces. It is the supreme way of doing &quot;properties&quot;. Java Beans is horrible and should be considered crime against humanity.","body":"With properties in C# you can shove <code>{ get; set; }</code> and call it a day in most stuff because very often encapsulation is not that much important; If you ever need to add e11n, then you just go and add, no refactoring needed. Reflection works perfectly fine with Properties and you can shove properties into interfaces. It is the supreme way of doing &quot;properties&quot;. Java Beans is horrible and should be considered crime against humanity."}],"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"comment_count":6,"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1690486903,"creation_date":1272047743,"answer_id":2701095,"question_id":2701077,"body_markdown":"No.\r\n\r\nThat&#39;s why Java has getters/setters.\r\n\r\nIn C# you typically have something like:\r\n\r\n    public class SomeObject\r\n    {\r\n        private string _title = &quot;&quot;;\r\n    \r\n        public string Title { get { return _title; } set { _title = value; } }\r\n    }\r\n\r\nor with Auto-Properties:\r\n\r\n    public class SomeObjectAutoProperties\r\n    {\r\n        public string Title { get; set; }\r\n    }\r\n\r\nThe Java getter/setter equivalent would be:\r\n\r\n    public class SomeObject\r\n    {\r\n        private String _title = &quot;&quot;;\r\n    \r\n        public string getTitle() { return _title; }\r\n    \r\n        public void setTitle(String value) { _title = value; }\r\n    }","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>No.</p>\n<p>That's why Java has getters/setters.</p>\n<p>In C# you typically have something like:</p>\n<pre><code>public class SomeObject\n{\n    private string _title = &quot;&quot;;\n\n    public string Title { get { return _title; } set { _title = value; } }\n}\n</code></pre>\n<p>or with Auto-Properties:</p>\n<pre><code>public class SomeObjectAutoProperties\n{\n    public string Title { get; set; }\n}\n</code></pre>\n<p>The Java getter/setter equivalent would be:</p>\n<pre><code>public class SomeObject\n{\n    private String _title = &quot;&quot;;\n\n    public string getTitle() { return _title; }\n\n    public void setTitle(String value) { _title = value; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7455,"reputation":23215,"user_id":12971,"accept_rate":100,"display_name":"Greg"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1272048940,"creation_date":1272047844,"answer_id":2701108,"question_id":2701077,"body_markdown":"Nope, you would use getter and setter methods instead. This is a Java convention.\r\n\r\n    public class newInt {\r\n    \r\n        public newInt() {...}\r\n\r\n        private int _x = 0;\r\n    \r\n        public int getX() {\r\n            return this._x;\r\n        }\r\n\r\n        public void setX(int x) {\r\n            this._x = isValid(x);\r\n        }\r\n    }","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>Nope, you would use getter and setter methods instead. This is a Java convention.</p>\n\n<pre><code>public class newInt {\n\n    public newInt() {...}\n\n    private int _x = 0;\n\n    public int getX() {\n        return this._x;\n    }\n\n    public void setX(int x) {\n        this._x = isValid(x);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22575,"reputation":1192,"user_id":55840,"accept_rate":70,"display_name":"xximjasonxx"},"score":1,"creation_date":1272053412,"post_id":2701136,"comment_id":2724557,"body_markdown":"And likewise C# borrowed from Java and Smalltalk :) Ohh what lovely cycles you have","body":"And likewise C# borrowed from Java and Smalltalk :) Ohh what lovely cycles you have"}],"tags":[],"owner":{"account_id":28712,"reputation":10652,"user_id":76941,"accept_rate":75,"display_name":"dustmachine"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1272048109,"creation_date":1272048109,"answer_id":2701136,"question_id":2701077,"body_markdown":"No. Java doesn&#39;t have properties.  The Java idiom is to use mutator/accessor (getter/setter).  Even though a lot of people are in favor of adding them, it is unlikely they will be included in the next version (Java 7).\r\n\r\nCuriously, JavaFX has properties.\r\n\r\nKeep in mind that when Java was born it borrowed a lot of ideas from C++.  Thus some of the syntax and idioms are very similar to that language.","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>No. Java doesn't have properties.  The Java idiom is to use mutator/accessor (getter/setter).  Even though a lot of people are in favor of adding them, it is unlikely they will be included in the next version (Java 7).</p>\n\n<p>Curiously, JavaFX has properties.</p>\n\n<p>Keep in mind that when Java was born it borrowed a lot of ideas from C++.  Thus some of the syntax and idioms are very similar to that language.</p>\n"},{"tags":[],"owner":{"account_id":110595,"reputation":25110,"user_id":292586,"accept_rate":100,"display_name":"F&#225;bio Batista"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1272048144,"creation_date":1272048144,"answer_id":2701141,"question_id":2701077,"body_markdown":"There&#39;s the Java platform, and there&#39;s the Java language.\r\n\r\nThe Java language does not support properties (and probably never will), but you are not forced to use the Java language to work with the Java platform (just as you don&#39;t need to stick to C# in order to work with .NET platform).\r\n\r\nCheck: \r\n\r\n - http://groovy.codehaus.org/\r\n - http://www.jython.org/\r\n\r\n\r\nAnd many others.","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>There's the Java platform, and there's the Java language.</p>\n\n<p>The Java language does not support properties (and probably never will), but you are not forced to use the Java language to work with the Java platform (just as you don't need to stick to C# in order to work with .NET platform).</p>\n\n<p>Check: </p>\n\n<ul>\n<li><a href=\"http://groovy.codehaus.org/\" rel=\"noreferrer\">http://groovy.codehaus.org/</a></li>\n<li><a href=\"http://www.jython.org/\" rel=\"noreferrer\">http://www.jython.org/</a></li>\n</ul>\n\n<p>And many others.</p>\n"},{"comments":[{"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"score":0,"creation_date":1272309513,"post_id":2701297,"comment_id":2741723,"body_markdown":"properties are not quite equivalent to public fields as accessing or mutating a property value in c# can be done as a method call.  You can include other code whilst getting or setting a property value.","body":"properties are not quite equivalent to public fields as accessing or mutating a property value in c# can be done as a method call.  You can include other code whilst getting or setting a property value."},{"owner":{"account_id":201478,"reputation":2167,"user_id":447948,"accept_rate":92,"display_name":"Rn222"},"score":0,"creation_date":1386971289,"post_id":2701297,"comment_id":30780219,"body_markdown":"An advantage of using C# properties or getters and setters (even if you don&#39;t put any code in them) is that: you have the option to add code to them without changing any code that depends on your API.","body":"An advantage of using C# properties or getters and setters (even if you don&#39;t put any code in them) is that: you have the option to add code to them without changing any code that depends on your API."}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1272050393,"creation_date":1272049657,"answer_id":2701297,"question_id":2701077,"body_markdown":"No, it hasn&#39;t. \r\n\r\nI really have a bit of a problem to understand this C# properties, because, I think one of the rules is to perform as less code as possible in them and since they are already public, why don&#39;t use public attributes instead?\r\n\r\n\r\n\r\nSo, your Java equivalent  ( and probably ugly ) would be: \r\n\r\n\r\n    public class NewInt { // In Java class names start with uppercase by convention \r\n         public int x; \r\n    }\r\n\r\nAnd you use it like: \r\n\r\n     NewInt ni = new NewInt();\r\n     ni.x = 50;\r\n     int b = ni.x;\r\n\r\nThere is something I&#39;m missing that&#39;s for sure, but, most of the times this would do ( BTW I never code like this :P ) \r\n\r\n**BTW**\r\n\r\nI don&#39;t really like getters and setters, but I accept them as part of the Java conventions. \r\n\r\nI just would like they have used this instead:\r\n\r\n\r\n     public class NewInt {\r\n         private int x;\r\n         public int x(){ \r\n             return this.x;\r\n         }\r\n         public void x(int value ) {\r\n             this.x=value;\r\n         }\r\n      }\r\n\r\nSo the usage would&#39;ve been:\r\n\r\n      NewInt a = new NewInt();\r\n      a.x(10);\r\n      int b = a.x();\r\n  \r\n\r\nProbably in the next Java life. ","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>No, it hasn't. </p>\n\n<p>I really have a bit of a problem to understand this C# properties, because, I think one of the rules is to perform as less code as possible in them and since they are already public, why don't use public attributes instead?</p>\n\n<p>So, your Java equivalent  ( and probably ugly ) would be: </p>\n\n<pre><code>public class NewInt { // In Java class names start with uppercase by convention \n     public int x; \n}\n</code></pre>\n\n<p>And you use it like: </p>\n\n<pre><code> NewInt ni = new NewInt();\n ni.x = 50;\n int b = ni.x;\n</code></pre>\n\n<p>There is something I'm missing that's for sure, but, most of the times this would do ( BTW I never code like this :P ) </p>\n\n<p><strong>BTW</strong></p>\n\n<p>I don't really like getters and setters, but I accept them as part of the Java conventions. </p>\n\n<p>I just would like they have used this instead:</p>\n\n<pre><code> public class NewInt {\n     private int x;\n     public int x(){ \n         return this.x;\n     }\n     public void x(int value ) {\n         this.x=value;\n     }\n  }\n</code></pre>\n\n<p>So the usage would've been:</p>\n\n<pre><code>  NewInt a = new NewInt();\n  a.x(10);\n  int b = a.x();\n</code></pre>\n\n<p>Probably in the next Java life. </p>\n"}],"owner":{"account_id":115029,"reputation":695,"user_id":302220,"display_name":"tyrone302"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7464,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":2701095,"answer_count":5,"score":26,"last_activity_date":1690486903,"creation_date":1272047626,"question_id":2701077,"body_markdown":"In C#, you can use properties to make a data field publicly accessible (allowing the user to directly access it), and yet retain the ability to perform data validation on those directly-accessed fields.  Does Java have something similar?  For Instance, suppose there exists a C# class with the following implementation(see below):\r\n\r\n    public class newInt{\r\n\r\n        public newInt(){...}\r\n\r\n        public int x{\r\n            get{ return this.x }\r\n            set{ this.x = isValid(value) }\r\n        }\r\n    }\r\n\r\n    private static int isValid(int value){...}\r\n\r\nThis definition in the class allows the user to &quot;naturally&quot; use the data field &#39;x&#39; when retrieving values from it and assigning values to it.  Below is how it would be used in main.\r\n\r\n    public class Test{\r\n\r\n        public static void main(String[] args){\r\n\r\n            newInt a = new newInt();\r\n            a.x = 50;\r\n\r\n            int b = a.x;\r\n        }\r\n    }\r\n\r\n\r\nThe question is... can java do this as well?  if so, what is it called?","title":"Does Java have &quot;properties&quot; that work the same way properties work in C#?","body":"<p>In C#, you can use properties to make a data field publicly accessible (allowing the user to directly access it), and yet retain the ability to perform data validation on those directly-accessed fields.  Does Java have something similar?  For Instance, suppose there exists a C# class with the following implementation(see below):</p>\n\n<pre><code>public class newInt{\n\n    public newInt(){...}\n\n    public int x{\n        get{ return this.x }\n        set{ this.x = isValid(value) }\n    }\n}\n\nprivate static int isValid(int value){...}\n</code></pre>\n\n<p>This definition in the class allows the user to \"naturally\" use the data field 'x' when retrieving values from it and assigning values to it.  Below is how it would be used in main.</p>\n\n<pre><code>public class Test{\n\n    public static void main(String[] args){\n\n        newInt a = new newInt();\n        a.x = 50;\n\n        int b = a.x;\n    }\n}\n</code></pre>\n\n<p>The question is... can java do this as well?  if so, what is it called?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":11317286,"reputation":317,"user_id":11013417,"display_name":"Matheus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690486549,"creation_date":1690486549,"question_id":76782903,"body_markdown":"I&#39;m trying to use spark connect and a I need a interceptor server to do things like authentication, logging etc. There is this parameter `spark.connect.grpc.interceptor.classes` that do this, but I don&#39;t know how to use it, the most basically interceptor that I wrote was:\r\n\r\n```\r\nimport io.grpc.Metadata;\r\nimport io.grpc.Metadata.Key;\r\nimport io.grpc.ServerCall;\r\nimport io.grpc.ServerCall.Listener;\r\nimport io.grpc.ServerCallHandler;\r\nimport io.grpc.ServerInterceptor;\r\nimport io.grpc.Status;\r\nimport io.grpc.StatusRuntimeException;\r\n\r\npublic class TestInterceptor implements ServerInterceptor {\r\n\r\n    public &lt;ReqT, RespT&gt; Listener&lt;ReqT&gt; interceptCall(final ServerCall&lt;ReqT, RespT&gt; serverCall, final Metadata metadata, final ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\r\n\r\n        System.out.println(&quot;Hello inside of interceptor&quot;);\r\n\r\n        return serverCallHandler.startCall(serverCall, metadata);\r\n    }\r\n}\r\n```\r\n\r\nand I&#39;m running spark connect with:\r\n\r\n```\r\n./start-connect-server.sh \\\r\n    --packages org.apache.spark:spark-connect_2.12:3.4.1 \\\r\n    --conf spark.connect.grpc.interceptor.classes=&lt;path-to-java-file&gt;\r\n```\r\n\r\nHowever when I execute this I&#39;m getting the following error:\r\n\r\n```\r\njava.lang.ClassNotFoundException: /opt/spark/sbin/TestInterceptor.java\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Unknown Source)\r\n\tat org.apache.spark.util.Utils$.classForName(Utils.scala:225)...\r\n```\r\n\r\nIs there any example on how to use this `spark.connect.grpc.interceptor.classes` parameter? I should provide the full path of my java file or something else? The interceptor that I wrote is correct?","title":"How to use spark.connect.grpc.interceptor.classes conf","body":"<p>I'm trying to use spark connect and a I need a interceptor server to do things like authentication, logging etc. There is this parameter <code>spark.connect.grpc.interceptor.classes</code> that do this, but I don't know how to use it, the most basically interceptor that I wrote was:</p>\n<pre><code>import io.grpc.Metadata;\nimport io.grpc.Metadata.Key;\nimport io.grpc.ServerCall;\nimport io.grpc.ServerCall.Listener;\nimport io.grpc.ServerCallHandler;\nimport io.grpc.ServerInterceptor;\nimport io.grpc.Status;\nimport io.grpc.StatusRuntimeException;\n\npublic class TestInterceptor implements ServerInterceptor {\n\n    public &lt;ReqT, RespT&gt; Listener&lt;ReqT&gt; interceptCall(final ServerCall&lt;ReqT, RespT&gt; serverCall, final Metadata metadata, final ServerCallHandler&lt;ReqT, RespT&gt; serverCallHandler) {\n\n        System.out.println(&quot;Hello inside of interceptor&quot;);\n\n        return serverCallHandler.startCall(serverCall, metadata);\n    }\n}\n</code></pre>\n<p>and I'm running spark connect with:</p>\n<pre><code>./start-connect-server.sh \\\n    --packages org.apache.spark:spark-connect_2.12:3.4.1 \\\n    --conf spark.connect.grpc.interceptor.classes=&lt;path-to-java-file&gt;\n</code></pre>\n<p>However when I execute this I'm getting the following error:</p>\n<pre><code>java.lang.ClassNotFoundException: /opt/spark/sbin/TestInterceptor.java\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Unknown Source)\n    at org.apache.spark.util.Utils$.classForName(Utils.scala:225)...\n</code></pre>\n<p>Is there any example on how to use this <code>spark.connect.grpc.interceptor.classes</code> parameter? I should provide the full path of my java file or something else? The interceptor that I wrote is correct?</p>\n"},{"tags":["java","weblogic","weblogic12c"],"answers":[{"tags":[],"owner":{"account_id":1028915,"reputation":2348,"user_id":1037626,"accept_rate":20,"display_name":"mgaert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479392251,"creation_date":1479392251,"answer_id":40657239,"question_id":40656935,"body_markdown":"If all fails, and independent of WebLogic, you can deploy a WAR that queries the JVM uptime in an init class and emits that to the log, and does nothing else. See https://stackoverflow.com/a/817835/1037626","title":"How to log WebLogic startup time?","body":"<p>If all fails, and independent of WebLogic, you can deploy a WAR that queries the JVM uptime in an init class and emits that to the log, and does nothing else. See <a href=\"https://stackoverflow.com/a/817835/1037626\">https://stackoverflow.com/a/817835/1037626</a></p>\n"},{"tags":[],"owner":{"account_id":2892394,"reputation":879,"user_id":2480869,"accept_rate":24,"display_name":"nomadus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616991243,"creation_date":1616991243,"answer_id":66848682,"question_id":40656935,"body_markdown":"In the WLS console, go to Environment--&gt; Servers --&gt; Admin Server. Click on Monitoring tab and then to General. You can see Activation time, which tells you when the server is started.\r\n\r\nMBean Attribute:\r\nServerRuntimeMBean.ActivationTime","title":"How to log WebLogic startup time?","body":"<p>In the WLS console, go to Environment--&gt; Servers --&gt; Admin Server. Click on Monitoring tab and then to General. You can see Activation time, which tells you when the server is started.</p>\n<p>MBean Attribute:\nServerRuntimeMBean.ActivationTime</p>\n"},{"tags":[],"owner":{"account_id":5742226,"reputation":31,"user_id":4534566,"display_name":"SJP"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690485774,"creation_date":1690485774,"answer_id":76782822,"question_id":40656935,"body_markdown":"You can find this in the weblogic console; even for the various managed instances.\r\n\r\nJust go under Domain Structure to: Environment &gt;&gt; Servers &gt;&gt; Monitoring.\r\n\r\nYou can see the details under: **Activation Time**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Tlh3e.png","title":"How to log WebLogic startup time?","body":"<p>You can find this in the weblogic console; even for the various managed instances.</p>\n<p>Just go under Domain Structure to: Environment &gt;&gt; Servers &gt;&gt; Monitoring.</p>\n<p>You can see the details under: <strong>Activation Time</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Tlh3e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tlh3e.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690485774,"creation_date":1479391439,"question_id":40656935,"body_markdown":"When Tomcat starts, its last log line is as following:\r\n\r\n    INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 20147 ms\r\n\r\nWhich is clearly a *feature* to log on purpose the startup time in milliseconds, really useful as official stat.\r\n\r\nWhen WebLogic starts however, its last log line is:\r\n\r\n    &lt;WebLogicServer&gt; &lt;CIS1405986&gt; &lt;AdminServer&gt; &lt;[STANDBY] ExecuteThread: \\\r\n    &#39;10&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; \\\r\n     &lt;5097d97d-cb6a-41aa-b418-717a3f768636-0000000d&gt; &lt;1479382972090&gt; \\\r\n    &lt;[severity-value: 32] [rid: 0] [partition-id: 0] [partition-name: DOMAIN] &gt; \\\r\n    &lt;BEA-000365&gt; &lt;Server state changed to RUNNING.&gt; \r\n\r\nAcknowledging the `RUNNING` status, but not providing any info concerning its startup time.\r\n\r\n**Question**: is there any way to make WebLogic log its startup time or find it anywhere in its console?\r\n\r\n","title":"How to log WebLogic startup time?","body":"<p>When Tomcat starts, its last log line is as following:</p>\n\n<pre><code>INFO [main] org.apache.catalina.startup.Catalina.start Server startup in 20147 ms\n</code></pre>\n\n<p>Which is clearly a <em>feature</em> to log on purpose the startup time in milliseconds, really useful as official stat.</p>\n\n<p>When WebLogic starts however, its last log line is:</p>\n\n<pre><code>&lt;WebLogicServer&gt; &lt;CIS1405986&gt; &lt;AdminServer&gt; &lt;[STANDBY] ExecuteThread: \\\n'10' for queue: 'weblogic.kernel.Default (self-tuning)'&gt; &lt;&lt;WLS Kernel&gt;&gt; &lt;&gt; \\\n &lt;5097d97d-cb6a-41aa-b418-717a3f768636-0000000d&gt; &lt;1479382972090&gt; \\\n&lt;[severity-value: 32] [rid: 0] [partition-id: 0] [partition-name: DOMAIN] &gt; \\\n&lt;BEA-000365&gt; &lt;Server state changed to RUNNING.&gt; \n</code></pre>\n\n<p>Acknowledging the <code>RUNNING</code> status, but not providing any info concerning its startup time.</p>\n\n<p><strong>Question</strong>: is there any way to make WebLogic log its startup time or find it anywhere in its console?</p>\n"},{"tags":["java","node.js","android-studio","websocket","socket.io"],"owner":{"account_id":26117103,"reputation":65,"user_id":19810048,"display_name":"CSAlex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690485772,"creation_date":1690485299,"question_id":76782785,"body_markdown":"i&#39;m trying to realize a client server application with websockets for android.\r\n\r\nThe Client Server communication works fine. So i can send and receive messages. But the acknowledgement is null. \r\n\r\nThe console log from the server:\r\n\r\n    Client connected [id=kTilWFoqr-gj8waEAAAL] with [userid=21]\r\n    SOCKET_ID SET\r\n    STATUS SET Online for USER &#39;21&#39;\r\n    SENT TO CLIENT\r\n    null //THIS SHOULD BE hi!\r\n\r\n\r\nOn Server side is a socket.io nodejs server like:\r\n\r\n    import { Server } from &quot;socket.io&quot;;\r\n    const server = new Server();\r\n    \r\n    import * as database from &#39;./DBController.js&#39;;\r\n    import * as dateTime from &#39;./DateTime.js&#39;;\r\n\r\n    server.on(&quot;connection&quot;, async (socket) =&gt; {\r\n    console.info(`Client connected [id=${socket.id}] with [userid=${socket.handshake.query.userID}]`);\r\n    socket.on(&quot;MessageClientToServer&quot;, async (object) =&gt; {  \r\n        const sqlQuerry = `insert into messages(...) values(...)`;\r\n        const result = await database.executeQuery(sqlQuerry);\r\n\r\n        const socketID = await findSocketID(object.incoming_msg_id);\r\n        if(socketID[0].Socket_ID != &#39;NULL&#39;){\r\n          socket.timeout(500).to(socketID[0].Socket_ID).emit(&quot;MessageServerToClient&quot;,object,(response) =&gt; {\r\n                console.log(response);\r\n            })\r\n            console.log(&quot;SENT TO CLIENT&quot;)\r\n        }else{\r\n            console.log(&quot;Client OFFLINE&quot;);\r\n        }\r\n        \r\n    });\r\n\r\n    // when socket disconnects, remove it from the list:\r\n    socket.on(&quot;disconnect&quot;, async() =&gt; {\r\n        console.info(`Client gone [id=${socket.id}]`);\r\n    });\r\n\r\n    server.listen(12123, () =&gt; {\r\n        console.log(&#39;listening on *:12123&#39;);\r\n    });\r\n\r\nThe Android Studio Client looks like:\r\n\r\n    public class SocketManager{\r\n        private static SocketManager instance;\r\n        private static Context context;\r\n        MessagesDbAdapter messagesDB = new MessagesDbAdapter(context);;\r\n    \r\n        private SocketManager() {\r\n        }\r\n        private Socket socket;\r\n        public void connectSocket(String userId) {\r\n            try {\r\n                if(socket==null){\r\n                    String serverAddress = &quot;http://ipADDRESS:12123&quot;;\r\n                    IO.Options opts = new IO.Options();\r\n                    opts.forceNew = true;\r\n                    opts.reconnection = true;\r\n                    opts.reconnectionAttempts=5;\r\n                    opts.secure = true;\r\n                    opts.query = &quot;userID=&quot; + userId;\r\n                    socket = IO.socket(serverAddress, opts);\r\n    \r\n                    socket.on(&quot;MessageServerToClient&quot;, args -&gt; {\r\n                        if(args[0].toString().charAt(0) == &#39;[&#39;) {\r\n                            //Response is JSONArray\r\n                        } else if(args[0].toString().charAt(0) == &#39;{&#39;) {\r\n                            //Response is JSONObject\r\n                            JSONObject data = (JSONObject) args[0];\r\n                            messagesDB.insertMsg(data);\r\n                        }\r\n\r\n                        if (args.length &gt; 1 &amp;&amp; args[1] instanceof Ack) {\r\n                            ((Ack) args[1]).call(&quot;hi!&quot;);\r\n                        }\r\n                    });\r\n                    socket.connect();\r\n                }else if(!socket.connected()){\r\n                    socket.connect();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        /**\r\n         * Destroy.\r\n         */\r\n        public void destroy(){\r\n            if (socket != null) {\r\n                socket.off();\r\n                socket.disconnect();\r\n                socket.close();\r\n                socket=null;\r\n            }\r\n        }\r\n    }","title":"Getting null as Acknowledgement from Socket.io","body":"<p>i'm trying to realize a client server application with websockets for android.</p>\n<p>The Client Server communication works fine. So i can send and receive messages. But the acknowledgement is null.</p>\n<p>The console log from the server:</p>\n<pre><code>Client connected [id=kTilWFoqr-gj8waEAAAL] with [userid=21]\nSOCKET_ID SET\nSTATUS SET Online for USER '21'\nSENT TO CLIENT\nnull //THIS SHOULD BE hi!\n</code></pre>\n<p>On Server side is a socket.io nodejs server like:</p>\n<pre><code>import { Server } from &quot;socket.io&quot;;\nconst server = new Server();\n\nimport * as database from './DBController.js';\nimport * as dateTime from './DateTime.js';\n\nserver.on(&quot;connection&quot;, async (socket) =&gt; {\nconsole.info(`Client connected [id=${socket.id}] with [userid=${socket.handshake.query.userID}]`);\nsocket.on(&quot;MessageClientToServer&quot;, async (object) =&gt; {  \n    const sqlQuerry = `insert into messages(...) values(...)`;\n    const result = await database.executeQuery(sqlQuerry);\n\n    const socketID = await findSocketID(object.incoming_msg_id);\n    if(socketID[0].Socket_ID != 'NULL'){\n      socket.timeout(500).to(socketID[0].Socket_ID).emit(&quot;MessageServerToClient&quot;,object,(response) =&gt; {\n            console.log(response);\n        })\n        console.log(&quot;SENT TO CLIENT&quot;)\n    }else{\n        console.log(&quot;Client OFFLINE&quot;);\n    }\n    \n});\n\n// when socket disconnects, remove it from the list:\nsocket.on(&quot;disconnect&quot;, async() =&gt; {\n    console.info(`Client gone [id=${socket.id}]`);\n});\n\nserver.listen(12123, () =&gt; {\n    console.log('listening on *:12123');\n});\n</code></pre>\n<p>The Android Studio Client looks like:</p>\n<pre><code>public class SocketManager{\n    private static SocketManager instance;\n    private static Context context;\n    MessagesDbAdapter messagesDB = new MessagesDbAdapter(context);;\n\n    private SocketManager() {\n    }\n    private Socket socket;\n    public void connectSocket(String userId) {\n        try {\n            if(socket==null){\n                String serverAddress = &quot;http://ipADDRESS:12123&quot;;\n                IO.Options opts = new IO.Options();\n                opts.forceNew = true;\n                opts.reconnection = true;\n                opts.reconnectionAttempts=5;\n                opts.secure = true;\n                opts.query = &quot;userID=&quot; + userId;\n                socket = IO.socket(serverAddress, opts);\n\n                socket.on(&quot;MessageServerToClient&quot;, args -&gt; {\n                    if(args[0].toString().charAt(0) == '[') {\n                        //Response is JSONArray\n                    } else if(args[0].toString().charAt(0) == '{') {\n                        //Response is JSONObject\n                        JSONObject data = (JSONObject) args[0];\n                        messagesDB.insertMsg(data);\n                    }\n\n                    if (args.length &gt; 1 &amp;&amp; args[1] instanceof Ack) {\n                        ((Ack) args[1]).call(&quot;hi!&quot;);\n                    }\n                });\n                socket.connect();\n            }else if(!socket.connected()){\n                socket.connect();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n    /**\n     * Destroy.\n     */\n    public void destroy(){\n        if (socket != null) {\n            socket.off();\n            socket.disconnect();\n            socket.close();\n            socket=null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","json-schema-validator","light-4j"],"comments":[{"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"score":0,"creation_date":1673567448,"post_id":75063085,"comment_id":132534696,"body_markdown":"So the solution is to downgrade the schema-version .. &quot;items&quot; has a new name in version &quot;2020-12&quot; and its not implemented yet. With &quot;http://json-schema.org/draft-07/schema&quot; and &quot;VersionFlag.V7&quot; it starts working.\n\nSee https://github.com/networknt/json-schema-validator/issues/633","body":"So the solution is to downgrade the schema-version .. &quot;items&quot; has a new name in version &quot;2020-12&quot; and its not implemented yet. With &quot;<a href=\"http://json-schema.org/draft-07/schema\" rel=\"nofollow noreferrer\">json-schema.org/draft-07/schema</a>&quot; and &quot;VersionFlag.V7&quot; it starts working.  See <a href=\"https://github.com/networknt/json-schema-validator/issues/633\" rel=\"nofollow noreferrer\">github.com/networknt/json-schema-validator/issues/633</a>"},{"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"score":1,"creation_date":1690484916,"post_id":75063085,"comment_id":135364214,"body_markdown":"the array &lt;items&gt; in the version 2020-12 are named &lt;prefixItems&gt; and are working fine","body":"the array &lt;items&gt; in the version 2020-12 are named &lt;prefixItems&gt; and are working fine"}],"answers":[{"tags":[],"owner":{"account_id":17602657,"reputation":189,"user_id":12772281,"display_name":"Marian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690485330,"creation_date":1690485330,"answer_id":76782787,"question_id":75063085,"body_markdown":"        JsonSchemaFactory jsonSchemaFactory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\n\r\n        SchemaValidatorsConfig schemaValidatorsConfig = new SchemaValidatorsConfig ();\r\n\r\n        //schemaValidatorsConfig.setFailFast(true);\r\n\t\tschemaValidatorsConfig.setHandleNullableField(true);\r\n\t\tschemaValidatorsConfig.setTypeLoose(false);\r\n\r\n        //build json schema node\r\n\t\tJsonNode schemaNode;\r\n\t\ttry {\r\n\t\t\tschemaNode = objectMapper.valueToTree(schema);\r\n\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//build input json node\r\n\t\tJsonNode jsonNode;\r\n\t\ttry {\r\n\t\t\tjsonNode = objectMapper.readTree(json);\r\n\t\t} catch (IOException e) {\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t//validate the json with the schema\r\n\t\tSet&lt;ValidationMessage&gt; validationErrors;\r\n\t\t\r\n\t\tJsonSchema jsonSchema = jsonSchemaFactory.getSchema(schemaNode, schemaValidatorsConfig);\r\n\t\t\r\n\t\tvalidationErrors = jsonSchema.validate(jsonNode);","title":"How to validate array item types with networknt/json-schema-validator?","body":"<pre><code>    JsonSchemaFactory jsonSchemaFactory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\n\n    SchemaValidatorsConfig schemaValidatorsConfig = new SchemaValidatorsConfig ();\n\n    //schemaValidatorsConfig.setFailFast(true);\n    schemaValidatorsConfig.setHandleNullableField(true);\n    schemaValidatorsConfig.setTypeLoose(false);\n\n    //build json schema node\n    JsonNode schemaNode;\n    try {\n        schemaNode = objectMapper.valueToTree(schema);\n        \n    } catch (Exception e) {\n        \n    }\n    \n    //build input json node\n    JsonNode jsonNode;\n    try {\n        jsonNode = objectMapper.readTree(json);\n    } catch (IOException e) {\n        \n    }\n    \n    //validate the json with the schema\n    Set&lt;ValidationMessage&gt; validationErrors;\n    \n    JsonSchema jsonSchema = jsonSchemaFactory.getSchema(schemaNode, schemaValidatorsConfig);\n    \n    validationErrors = jsonSchema.validate(jsonNode);\n</code></pre>\n"}],"owner":{"account_id":3001320,"reputation":71,"user_id":3194160,"display_name":"jdo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690485330,"creation_date":1673299548,"question_id":75063085,"body_markdown":"its probably a very simple thing that Im missing, but my json-schema-validator ([networknt/json-schema-validator](https://github.com/networknt/json-schema-validator)) doesnt validate the type of my items inside an array.\r\n\r\nThis Java-snippet should yield errors:\r\n\r\n```\r\nvar schema = &quot;{\\n&quot; +\r\n                    &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft/2020-12/schema#\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;type\\&quot;: \\&quot;array\\&quot;,\\n&quot; +\r\n                    &quot;  \\&quot;items\\&quot;: [\\n&quot; +\r\n                    &quot;    {\\n&quot; +\r\n                    &quot;      \\&quot;type\\&quot;: \\&quot;integer\\&quot;\\n&quot; +\r\n                    &quot;    }\\n&quot; +\r\n                    &quot;  ]\\n&quot; +\r\n                    &quot;}&quot;;\r\n\r\nvar input = &quot;[true,false,{},\\&quot;foo\\&quot;]&quot;;\r\n\r\nvar factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\r\nvar jSchema = factory.getSchema(schema);\r\nvar errors = jSchema.validate(new ObjectMapper().readTree(input));\r\nSystem.out.println(&quot;Errors: &#39;&quot;+errors.stream().map(ValidationMessage::getMessage).collect(joining(&quot;, &quot;)) +&quot;&#39;&quot;);\r\n```\r\nbut &#39;errors is empty. Over on [www.jsonschemavalidator.net](https://www.jsonschemavalidator.net/) this is invalid as expected.\r\n\r\nWhat obvious am I overlooking here ?\r\n\r\nThanks!","title":"How to validate array item types with networknt/json-schema-validator?","body":"<p>its probably a very simple thing that Im missing, but my json-schema-validator (<a href=\"https://github.com/networknt/json-schema-validator\" rel=\"nofollow noreferrer\">networknt/json-schema-validator</a>) doesnt validate the type of my items inside an array.</p>\n<p>This Java-snippet should yield errors:</p>\n<pre><code>var schema = &quot;{\\n&quot; +\n                    &quot;  \\&quot;$schema\\&quot;: \\&quot;http://json-schema.org/draft/2020-12/schema#\\&quot;,\\n&quot; +\n                    &quot;  \\&quot;type\\&quot;: \\&quot;array\\&quot;,\\n&quot; +\n                    &quot;  \\&quot;items\\&quot;: [\\n&quot; +\n                    &quot;    {\\n&quot; +\n                    &quot;      \\&quot;type\\&quot;: \\&quot;integer\\&quot;\\n&quot; +\n                    &quot;    }\\n&quot; +\n                    &quot;  ]\\n&quot; +\n                    &quot;}&quot;;\n\nvar input = &quot;[true,false,{},\\&quot;foo\\&quot;]&quot;;\n\nvar factory = JsonSchemaFactory.getInstance(SpecVersion.VersionFlag.V202012);\nvar jSchema = factory.getSchema(schema);\nvar errors = jSchema.validate(new ObjectMapper().readTree(input));\nSystem.out.println(&quot;Errors: '&quot;+errors.stream().map(ValidationMessage::getMessage).collect(joining(&quot;, &quot;)) +&quot;'&quot;);\n</code></pre>\n<p>but 'errors is empty. Over on <a href=\"https://www.jsonschemavalidator.net/\" rel=\"nofollow noreferrer\">www.jsonschemavalidator.net</a> this is invalid as expected.</p>\n<p>What obvious am I overlooking here ?</p>\n<p>Thanks!</p>\n"},{"tags":["java","gis","anylogic","agent","agent-based-modeling"],"comments":[{"owner":{"account_id":10408148,"reputation":1398,"user_id":7674438,"accept_rate":100,"display_name":"Lore"},"score":0,"creation_date":1690636977,"post_id":76782783,"comment_id":135383026,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":25753251,"reputation":1,"user_id":19505437,"display_name":"Kimon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690485285,"creation_date":1690485285,"question_id":76782783,"body_markdown":"I am working in AnyLogic and am quite new. Description: of &#39;Tract&#39; Country&gt;State&gt;County&gt;City&gt;Tract. I have census tract data of the different districts of a city. In this data each row is one &quot;tract&quot; which has a population associated with it. I have a shape file of the tracts within the city. That is then added to the GIS map and converted from the shape file to a space markup. That created GISRegions that represent each tract within the city. I am now trying to spawn the population amount of people agents on the GISRegion/tract associated with its population. So I am trying to link the GISRegions/tract to their respected row so that the population can be created and be different for each GISRegion/tract. I have created an agent that takes in all of the data from an excel file and makes it into parameters on the Person(Agent) home page. This I believe to be the problem as I can not convert the &#39;ANYLOGIC&#39; name column from a string to a GISRegion. This name column is a string version of the names of the tracts. The GISRegions have the same names as the data that populates &#39;ANYLOGICNAME&#39;. Example of the naming convention EX: _24_12. If i could convert the ANYLOGIC name column from a string to a GISRegion i beleive this would link the two and relate the GISRegion/tract to its respected row so that the population can be grabbed and used to produce agents at this GISRegion/tract. I am not the best at AnyLogic but am trying to learn and progress. Any help or advice would be greatly appreciated.\r\n\r\nI have tried to put put the GISRegions into a Collection and create a function to make that link but to no avail. What I expect to do is randomly generate in each tract/GISRegion the population size of people Agents","title":"Issue Linking DB Table to GISRegions in Anylogic/ Spawning Agents to the GISRegions","body":"<p>I am working in AnyLogic and am quite new. Description: of 'Tract' Country&gt;State&gt;County&gt;City&gt;Tract. I have census tract data of the different districts of a city. In this data each row is one &quot;tract&quot; which has a population associated with it. I have a shape file of the tracts within the city. That is then added to the GIS map and converted from the shape file to a space markup. That created GISRegions that represent each tract within the city. I am now trying to spawn the population amount of people agents on the GISRegion/tract associated with its population. So I am trying to link the GISRegions/tract to their respected row so that the population can be created and be different for each GISRegion/tract. I have created an agent that takes in all of the data from an excel file and makes it into parameters on the Person(Agent) home page. This I believe to be the problem as I can not convert the 'ANYLOGIC' name column from a string to a GISRegion. This name column is a string version of the names of the tracts. The GISRegions have the same names as the data that populates 'ANYLOGICNAME'. Example of the naming convention EX: _24_12. If i could convert the ANYLOGIC name column from a string to a GISRegion i beleive this would link the two and relate the GISRegion/tract to its respected row so that the population can be grabbed and used to produce agents at this GISRegion/tract. I am not the best at AnyLogic but am trying to learn and progress. Any help or advice would be greatly appreciated.</p>\n<p>I have tried to put put the GISRegions into a Collection and create a function to make that link but to no avail. What I expect to do is randomly generate in each tract/GISRegion the population size of people Agents</p>\n"},{"tags":["java","random","hash","hashcode"],"comments":[{"owner":{"account_id":1437198,"reputation":15519,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"score":2,"creation_date":1603292862,"post_id":64465953,"comment_id":113992402,"body_markdown":"why do you want to do this? i.e. as opposed to using the default implementation from `Object` which has the right invariants","body":"why do you want to do this? i.e. as opposed to using the default implementation from <code>Object</code> which has the right invariants"}],"answers":[{"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":1,"creation_date":1603291434,"post_id":64465984,"comment_id":113991589,"body_markdown":"Things can go wrong if the contract isn&#39;t followed as specified: https://stackoverflow.com/a/62477121/6099347","body":"Things can go wrong if the contract isn&#39;t followed as specified: <a href=\"https://stackoverflow.com/a/62477121/6099347\">stackoverflow.com/a/62477121/6099347</a>"},{"owner":{"account_id":1058077,"reputation":570,"user_id":3309694,"accept_rate":100,"display_name":"Vallerious"},"score":0,"creation_date":1603371118,"post_id":64465984,"comment_id":114020123,"body_markdown":"If we leave the &#39;contract&#39; behind and disregard it as a bad practice, what are the practical implications?\nYou can still implement the `equals` properly, but when using a HashMap you care mostly about the `hashCode` right? If there are less collisions then the map would work in an optimised way.","body":"If we leave the &#39;contract&#39; behind and disregard it as a bad practice, what are the practical implications? You can still implement the <code>equals</code> properly, but when using a HashMap you care mostly about the <code>hashCode</code> right? If there are less collisions then the map would work in an optimised way."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1603373600,"post_id":64465984,"comment_id":114021444,"body_markdown":"I frankly don&#39;t know. But the point is that you shouldn&#39;t care (and you should care about contracts, as these are assumptions other code will make about your code). If you *do* care the best thing you could do is try it yourself and see if you get better performance or if it breaks the whole concept.","body":"I frankly don&#39;t know. But the point is that you shouldn&#39;t care (and you should care about contracts, as these are assumptions other code will make about your code). If you <i>do</i> care the best thing you could do is try it yourself and see if you get better performance or if it breaks the whole concept."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1603446745,"post_id":64465984,"comment_id":114046415,"body_markdown":"@Vallerious Not following the contracts brings bugs in the system because people reading your code don&#39;t always have enough time to go through every line. If the system has 1m lines of code, nobody will read whole but make an assumption that the method names do what they claim to do and all contracts are followed. Suppose someone changed the concrete implementation for eg without going through the whole class which has 10k lines of code, in that case, the person will introduce bugs. The point being, following the contract is always better, don&#39;t worry about squeezing out the last CPU cycle.","body":"@Vallerious Not following the contracts brings bugs in the system because people reading your code don&#39;t always have enough time to go through every line. If the system has 1m lines of code, nobody will read whole but make an assumption that the method names do what they claim to do and all contracts are followed. Suppose someone changed the concrete implementation for eg without going through the whole class which has 10k lines of code, in that case, the person will introduce bugs. The point being, following the contract is always better, don&#39;t worry about squeezing out the last CPU cycle."},{"owner":{"account_id":6784603,"reputation":480,"user_id":5223814,"display_name":"Lubo Kanev"},"score":0,"creation_date":1644922575,"post_id":64465984,"comment_id":125727959,"body_markdown":"@Vallerious When using a HashMap you care about `equals` as much as you care about `hashCode`. The algorithm for retrieving an object is to get all that have the same hash, then iterate them and return the one that is equal.","body":"@Vallerious When using a HashMap you care about <code>equals</code> as much as you care about <code>hashCode</code>. The algorithm for retrieving an object is to get all that have the same hash, then iterate them and return the one that is equal."}],"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"comment_count":5,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1603291183,"creation_date":1603291183,"answer_id":64465984,"question_id":64465953,"body_markdown":"The [`hashCode` contract](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()) specifies, among other things, that\r\n\r\n&gt; If two objects are equal according to the `equals(Object)` method, then calling the `hashCode` method on each of the two objects must produce the same integer result.\r\n\r\nSo no, making it random is a bad idea.","title":"Random integer as hashCode","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"noreferrer\"><code>hashCode</code> contract</a> specifies, among other things, that</p>\n<blockquote>\n<p>If two objects are equal according to the <code>equals(Object)</code> method, then calling the <code>hashCode</code> method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n<p>So no, making it random is a bad idea.</p>\n"},{"comments":[{"owner":{"account_id":1896439,"reputation":663,"user_id":1713298,"display_name":"ankitkpd"},"score":0,"creation_date":1690467929,"post_id":64466464,"comment_id":135360743,"body_markdown":"`To sum up, you would be implementing one of the strategies behind Object.hashCode, but taking a risk of breaking the contract if you implement equals.` - very nice summary","body":"<code>To sum up, you would be implementing one of the strategies behind Object.hashCode, but taking a risk of breaking the contract if you implement equals.</code> - very nice summary"}],"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690484903,"creation_date":1603292687,"answer_id":64466464,"question_id":64465953,"body_markdown":"**Basic answer**\r\n\r\nIn the typical use case, you want to retrieve not with the same (in terms of identity) key object that was used to insert it in the hashing collection, but with an object which is logically equivalent (in terms of equal).\r\n\r\nThus, you want the following code to find the element in the map\r\n```\r\nKey k1 = new Key(&quot;param1&quot;, &quot;param2&quot;);\r\nKey k2 = new Key(&quot;param1&quot;, &quot;param2&quot;);\r\nValue val1 = new Value();\r\n\r\nmap.put(k1, value);\r\n\r\nValue val2 = map.get(k2);\r\n```\r\n\r\nIf hashCode is based solely on random number, than k1 and k2 have different hashes, and thus may point you to different buckets of the HashMap.\r\n\r\nWe showed that for objects implementing `equals`, random hashCode is a poor idea.\r\nThis is the reasoning behind the part of [hash code contract][1]:\r\n&gt; If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\r\n\r\n**A bit more advanced part:**\r\n\r\n[Let&#39;s take a look at Object.hashCode implementation][2].\r\nNote that the identity hashCode() implementation is dependant on the JVM.\r\n\r\nLooking at JDK sources, [`get_next_hash`][3] offers six methods to calculate hashCode:\r\n\r\n```none\r\n0. A randomly generated number.\r\n1. A function of memory address of the object.\r\n2. A hardcoded 1 (used for sensitivity testing.)\r\n3. A sequence.\r\n4. The memory address of the object, cast to int.\r\n5. Thread state combined with xorshift (https://en.wikipedia.org/wiki/Xorshift)\r\n```\r\n\r\nCode for reference:\r\n```lang-cpp\r\nstatic inline intptr_t get_next_hash(Thread * Self, oop obj) {\r\n  intptr_t value = 0 ;\r\n  if (hashCode == 0) {\r\n     // This form uses an unguarded global Park-Miller RNG,\r\n     // so it&#39;s possible for two threads to race and generate the same RNG.\r\n     // On MP system we&#39;ll have lots of RW access to a global, so the\r\n     // mechanism induces lots of coherency traffic.\r\n     value = os::random() ;\r\n  } else\r\n  if (hashCode == 1) {\r\n     // This variation has the property of being stable (idempotent)\r\n     // between STW operations.  This can be useful in some of the 1-0\r\n     // synchronization schemes.\r\n     intptr_t addrBits = cast_from_oop&lt;intptr_t&gt;(obj) &gt;&gt; 3 ;\r\n     value = addrBits ^ (addrBits &gt;&gt; 5) ^ GVars.stwRandom ;\r\n  } else\r\n  if (hashCode == 2) {\r\n     value = 1 ;            // for sensitivity testing\r\n  } else\r\n  if (hashCode == 3) {\r\n     value = ++GVars.hcSequence ;\r\n  } else\r\n  if (hashCode == 4) {\r\n     value = cast_from_oop&lt;intptr_t&gt;(obj) ;\r\n  } else {\r\n     // Marsaglia&#39;s xor-shift scheme with thread-specific state\r\n     // This is probably the best overall implementation -- we&#39;ll\r\n     // likely make this the default in future releases.\r\n     unsigned t = Self-&gt;_hashStateX ;\r\n     t ^= (t &lt;&lt; 11) ;\r\n     Self-&gt;_hashStateX = Self-&gt;_hashStateY ;\r\n     Self-&gt;_hashStateY = Self-&gt;_hashStateZ ;\r\n     Self-&gt;_hashStateZ = Self-&gt;_hashStateW ;\r\n     unsigned v = Self-&gt;_hashStateW ;\r\n     v = (v ^ (v &gt;&gt; 19)) ^ (t ^ (t &gt;&gt; 8)) ;\r\n     Self-&gt;_hashStateW = v ;\r\n     value = v ;\r\n  }\r\n\r\n  value &amp;= markOopDesc::hash_mask;\r\n  if (value == 0) value = 0xBAD ;\r\n  assert (value != markOopDesc::no_hash, &quot;invariant&quot;) ;\r\n  TEVENT (hashCode: GENERATE) ;\r\n  return value;\r\n}\r\n```\r\n\r\n**Both OpenJDK 7 and OpenJDK 6 use the first method, a random number generator.**\r\n\r\nOpenJDK 8 changed the default to 5 - Thread state combined with xorshift.\r\n\r\nNote that all of these implementations of Object.hashCode are consistent with Object.equals (in terms of hash code contract)\r\n\r\nTo sum up, you would be implementing one of the strategies behind Object.hashCode, but taking a risk of breaking the contract if you implement equals.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\r\n  [2]: https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html\r\n  [3]: http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/87ee5ee27509/src/share/vm/runtime/synchronizer.cpp#l555","title":"Random integer as hashCode","body":"<p><strong>Basic answer</strong></p>\n<p>In the typical use case, you want to retrieve not with the same (in terms of identity) key object that was used to insert it in the hashing collection, but with an object which is logically equivalent (in terms of equal).</p>\n<p>Thus, you want the following code to find the element in the map</p>\n<pre><code>Key k1 = new Key(&quot;param1&quot;, &quot;param2&quot;);\nKey k2 = new Key(&quot;param1&quot;, &quot;param2&quot;);\nValue val1 = new Value();\n\nmap.put(k1, value);\n\nValue val2 = map.get(k2);\n</code></pre>\n<p>If hashCode is based solely on random number, than k1 and k2 have different hashes, and thus may point you to different buckets of the HashMap.</p>\n<p>We showed that for objects implementing <code>equals</code>, random hashCode is a poor idea.\nThis is the reasoning behind the part of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">hash code contract</a>:</p>\n<blockquote>\n<p>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n<p><strong>A bit more advanced part:</strong></p>\n<p><a href=\"https://srvaroa.github.io/jvm/java/openjdk/biased-locking/2017/01/30/hashCode.html\" rel=\"nofollow noreferrer\">Let's take a look at Object.hashCode implementation</a>.\nNote that the identity hashCode() implementation is dependant on the JVM.</p>\n<p>Looking at JDK sources, <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/87ee5ee27509/src/share/vm/runtime/synchronizer.cpp#l555\" rel=\"nofollow noreferrer\"><code>get_next_hash</code></a> offers six methods to calculate hashCode:</p>\n<pre class=\"lang-none prettyprint-override\"><code>0. A randomly generated number.\n1. A function of memory address of the object.\n2. A hardcoded 1 (used for sensitivity testing.)\n3. A sequence.\n4. The memory address of the object, cast to int.\n5. Thread state combined with xorshift (https://en.wikipedia.org/wiki/Xorshift)\n</code></pre>\n<p>Code for reference:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>static inline intptr_t get_next_hash(Thread * Self, oop obj) {\n  intptr_t value = 0 ;\n  if (hashCode == 0) {\n     // This form uses an unguarded global Park-Miller RNG,\n     // so it's possible for two threads to race and generate the same RNG.\n     // On MP system we'll have lots of RW access to a global, so the\n     // mechanism induces lots of coherency traffic.\n     value = os::random() ;\n  } else\n  if (hashCode == 1) {\n     // This variation has the property of being stable (idempotent)\n     // between STW operations.  This can be useful in some of the 1-0\n     // synchronization schemes.\n     intptr_t addrBits = cast_from_oop&lt;intptr_t&gt;(obj) &gt;&gt; 3 ;\n     value = addrBits ^ (addrBits &gt;&gt; 5) ^ GVars.stwRandom ;\n  } else\n  if (hashCode == 2) {\n     value = 1 ;            // for sensitivity testing\n  } else\n  if (hashCode == 3) {\n     value = ++GVars.hcSequence ;\n  } else\n  if (hashCode == 4) {\n     value = cast_from_oop&lt;intptr_t&gt;(obj) ;\n  } else {\n     // Marsaglia's xor-shift scheme with thread-specific state\n     // This is probably the best overall implementation -- we'll\n     // likely make this the default in future releases.\n     unsigned t = Self-&gt;_hashStateX ;\n     t ^= (t &lt;&lt; 11) ;\n     Self-&gt;_hashStateX = Self-&gt;_hashStateY ;\n     Self-&gt;_hashStateY = Self-&gt;_hashStateZ ;\n     Self-&gt;_hashStateZ = Self-&gt;_hashStateW ;\n     unsigned v = Self-&gt;_hashStateW ;\n     v = (v ^ (v &gt;&gt; 19)) ^ (t ^ (t &gt;&gt; 8)) ;\n     Self-&gt;_hashStateW = v ;\n     value = v ;\n  }\n\n  value &amp;= markOopDesc::hash_mask;\n  if (value == 0) value = 0xBAD ;\n  assert (value != markOopDesc::no_hash, &quot;invariant&quot;) ;\n  TEVENT (hashCode: GENERATE) ;\n  return value;\n}\n</code></pre>\n<p><strong>Both OpenJDK 7 and OpenJDK 6 use the first method, a random number generator.</strong></p>\n<p>OpenJDK 8 changed the default to 5 - Thread state combined with xorshift.</p>\n<p>Note that all of these implementations of Object.hashCode are consistent with Object.equals (in terms of hash code contract)</p>\n<p>To sum up, you would be implementing one of the strategies behind Object.hashCode, but taking a risk of breaking the contract if you implement equals.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1603293022,"creation_date":1603293022,"answer_id":64466589,"question_id":64465953,"body_markdown":"If you do nothing and use `Object.hashCode()` (the &quot;memory address&quot; of the object), then you more or less have what you want to achieve. Hence you can have a HashMap/HashSet key of any class.\r\n\r\nStill have a safe `equals`.","title":"Random integer as hashCode","body":"<p>If you do nothing and use <code>Object.hashCode()</code> (the &quot;memory address&quot; of the object), then you more or less have what you want to achieve. Hence you can have a HashMap/HashSet key of any class.</p>\n<p>Still have a safe <code>equals</code>.</p>\n"}],"owner":{"account_id":1058077,"reputation":570,"user_id":3309694,"accept_rate":100,"display_name":"Vallerious"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64466464,"answer_count":3,"score":1,"last_activity_date":1690484903,"creation_date":1603291090,"question_id":64465953,"body_markdown":"Is it a good idea to generate a random number in the constructor and return this value from `hashCode` method?\r\nThere is a chance for collisions, but this applies when writing your own `hashCode` method. So what are the drawbacks?\r\nWhen using this object in a HashMap it will be stored with the random number as a hash and then retrieved by the same. If there are collisions they will be resolved by `equals`.","title":"Random integer as hashCode","body":"<p>Is it a good idea to generate a random number in the constructor and return this value from <code>hashCode</code> method?\nThere is a chance for collisions, but this applies when writing your own <code>hashCode</code> method. So what are the drawbacks?\nWhen using this object in a HashMap it will be stored with the random number as a hash and then retrieved by the same. If there are collisions they will be resolved by <code>equals</code>.</p>\n"},{"tags":["java","csv","jar","data-analysis"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690469964,"post_id":76781002,"comment_id":135361272,"body_markdown":"Did you recompile the java file? Java doesn&#39;t just run from source (usually, it&#39;s technically possible nowadays).","body":"Did you recompile the java file? Java doesn&#39;t just run from source (usually, it&#39;s technically possible nowadays)."},{"owner":{"account_id":29049565,"reputation":1,"user_id":22252696,"display_name":"Alexander Marshall"},"score":0,"creation_date":1690470598,"post_id":76781002,"comment_id":135361426,"body_markdown":"How would I go about doing that?","body":"How would I go about doing that?"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690470664,"post_id":76781002,"comment_id":135361449,"body_markdown":"Depends on how your script works. Easiest option is `javac &lt;filename&gt;` then copy over the resulting `.class` file(s). But if your script requires a `.jar` file, it&#39;s more complicated.","body":"Depends on how your script works. Easiest option is <code>javac &lt;filename&gt;</code> then copy over the resulting <code>.class</code> file(s). But if your script requires a <code>.jar</code> file, it&#39;s more complicated."}],"answers":[{"tags":[],"owner":{"account_id":21700457,"reputation":11,"user_id":16013706,"display_name":"Randika Geekiyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690484874,"creation_date":1690484874,"answer_id":76782746,"question_id":76781002,"body_markdown":"If you do not have a jar file:\r\n\r\n    javac file.java\r\n    java file\r\n\r\nIf your jar file and source code (.java) file are on the same dir you can run following command to compile it.\r\n\r\nIf you have a Mac :\r\n\r\n    javac -cp .:lib.jar Main.java\r\n\r\nIf you have a windows :\r\n\r\n    javac -cp .;lib.jar Main.java\r\n\r\nThis command will create byte code (.class file) for the specific .java file.\r\nThen executing,\r\n\r\n    java -cp .:external-library.jar Main\r\n\r\nwill execute that script. \r\n\r\n\r\nHere, \r\n\r\n-cp stands for class path which is the path to the .jar file location.\r\n\r\njavac stands for java compiler. it compiles the source code to byte code.\r\n\r\n","title":"How do I properly save changes to a .java file in a data analysis script?","body":"<p>If you do not have a jar file:</p>\n<pre><code>javac file.java\njava file\n</code></pre>\n<p>If your jar file and source code (.java) file are on the same dir you can run following command to compile it.</p>\n<p>If you have a Mac :</p>\n<pre><code>javac -cp .:lib.jar Main.java\n</code></pre>\n<p>If you have a windows :</p>\n<pre><code>javac -cp .;lib.jar Main.java\n</code></pre>\n<p>This command will create byte code (.class file) for the specific .java file.\nThen executing,</p>\n<pre><code>java -cp .:external-library.jar Main\n</code></pre>\n<p>will execute that script.</p>\n<p>Here,</p>\n<p>-cp stands for class path which is the path to the .jar file location.</p>\n<p>javac stands for java compiler. it compiles the source code to byte code.</p>\n"}],"owner":{"account_id":29049565,"reputation":1,"user_id":22252696,"display_name":"Alexander Marshall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1690484874,"creation_date":1690469766,"question_id":76781002,"body_markdown":"I&#39;m using a script to combine 2 .csv files containing data like onset and offset times in frames. There is a .java file that outputs the frame data to seconds for easier analysis. However, there appears to be some rounding issue, and after editing what I think is the problem in .java, none of the changes are reflected upon running the script again.\r\n\r\nI&#39;ve tried writing print statements to appear when running the script and changing the values of some variables, but nothing appeared and the conversion from frames to seconds was not affected. When removing the file from the folder entirely, the program still runs as intended. I&#39;m not sure where to go from here.","title":"How do I properly save changes to a .java file in a data analysis script?","body":"<p>I'm using a script to combine 2 .csv files containing data like onset and offset times in frames. There is a .java file that outputs the frame data to seconds for easier analysis. However, there appears to be some rounding issue, and after editing what I think is the problem in .java, none of the changes are reflected upon running the script again.</p>\n<p>I've tried writing print statements to appear when running the script and changing the values of some variables, but nothing appeared and the conversion from frames to seconds was not affected. When removing the file from the folder entirely, the program still runs as intended. I'm not sure where to go from here.</p>\n"},{"tags":["java","spring","jsp","spring-mvc","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":13293997,"reputation":129,"user_id":9597636,"display_name":"chandru"},"score":0,"creation_date":1636895333,"post_id":45255522,"comment_id":123674249,"body_markdown":"Not helped.. Still no response","body":"Not helped.. Still no response"}],"tags":[],"owner":{"account_id":8186124,"reputation":4869,"user_id":6161898,"display_name":"fg78nc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500732852,"creation_date":1500732852,"answer_id":45255522,"question_id":45255456,"body_markdown":"Do you have JSP and JSTL jars on your project?\r\n\r\nIf you use maven add\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot - JSP is not rendering","body":"<p>Do you have JSP and JSTL jars on your project?</p>\n\n<p>If you use maven add</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11389438,"reputation":13,"user_id":8350034,"display_name":"Dhaswanth Raj"},"score":1,"creation_date":1500733348,"post_id":45255540,"comment_id":77474944,"body_markdown":"After adding the Maven entries, it worked Fine. Thanks a lot","body":"After adding the Maven entries, it worked Fine. Thanks a lot"},{"owner":{"account_id":13293997,"reputation":129,"user_id":9597636,"display_name":"chandru"},"score":0,"creation_date":1636895236,"post_id":45255540,"comment_id":123674218,"body_markdown":"Nothing is working for me @Arpit Aggarwal","body":"Nothing is working for me @Arpit Aggarwal"}],"tags":[],"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1500732982,"creation_date":1500732982,"answer_id":45255540,"question_id":45255456,"body_markdown":"Can you try adding below dependencies in `pom.xml`?\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot - JSP is not rendering","body":"<p>Can you try adding below dependencies in <code>pom.xml</code>?</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28742462,"reputation":1,"user_id":22012307,"display_name":"Eshika Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690483340,"creation_date":1690483340,"answer_id":76782612,"question_id":45255456,"body_markdown":"In my case I have swaped the position of webapp folder and WEB-INF folder due to which the jsp page get delocated.\r\nAnd hence cannot get display on the server.\r\n\r\nThe right sequence is-\r\n    webapp-&gt;WEB-INF-&gt;views\r\n\r\nOnce check the folder sequence in your IDE.\r\nHope it helps!","title":"Spring Boot - JSP is not rendering","body":"<p>In my case I have swaped the position of webapp folder and WEB-INF folder due to which the jsp page get delocated.\nAnd hence cannot get display on the server.</p>\n<p>The right sequence is-\nwebapp-&gt;WEB-INF-&gt;views</p>\n<p>Once check the folder sequence in your IDE.\nHope it helps!</p>\n"}],"owner":{"account_id":11389438,"reputation":13,"user_id":8350034,"display_name":"Dhaswanth Raj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45255540,"answer_count":3,"score":1,"last_activity_date":1690483340,"creation_date":1500732388,"question_id":45255456,"body_markdown":"I am writing a Spring MVC application using Spring boot. I am trying to display a text and a list of Department object which is populated from the Controller class. when the boot application is run the values are getting populated in the Controller&#39;s List variable and the page is redirected to the mentioned JSP. \r\n\r\n\r\n\r\nThe problem is the output is something like this. \r\n[Screenshot of the output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kImMu.jpg\r\n\r\nI want the values to be populated in the designated EL. Any help is very much appreciated. \r\n\r\nFollowing are the codes used.\r\n\r\n**Department.jsp**\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div&gt;\r\n    \t\t&lt;div&gt;\r\n    \t\t\t&lt;h1&gt;${message}&lt;/h1&gt;\r\n    \t\t\t    &lt;ul&gt;\r\n            \t\t&lt;c:forEach var=&quot;listValue&quot; items=&quot;${DepartmentList}&quot; &gt;\r\n              \t\t\t  &lt;li&gt;${listValue.deptName}&lt;/li&gt;\r\n           \t\t\t &lt;/c:forEach&gt;\r\n       \t\t\t\t &lt;/ul&gt;\r\n    \t\t&lt;/div&gt;\r\n    \t&lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**SpringMVCApplication.java**\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.support.SpringBootServletInitializer;\r\n\r\n    @SpringBootApplication\r\n    public class SpringMVCApplication extends SpringBootServletInitializer{\r\n\r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\r\n    \t\treturn builder.sources(SpringMVCApplication.class);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringMVCApplication.class, args);\r\n    \t}\r\n\r\n    }\r\n\r\n**MVCConfiguration.java**\r\n\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\r\n    import org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\n    import org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\n    import org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\n    import org.springframework.web.servlet.view.InternalResourceViewResolver;\r\n\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    @ComponentScan(value = &quot;com.practices.spring.mvc&quot;)\r\n    public class MVCConfiguration extends WebMvcConfigurerAdapter {\r\n\r\n    \t@Override\r\n    \tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n    \t\tInternalResourceViewResolver resolver = new InternalResourceViewResolver();\r\n    \t\tresolver.setPrefix(&quot;/WEB-INF/view/&quot;);\r\n    \t\tresolver.setSuffix(&quot;.jsp&quot;);\r\n    \t\tresolver.setContentType(&quot;application/html&quot;);\r\n    \t\t\r\n    \t\tregistry.viewResolver(resolver);\r\n    \t}\r\n\r\n    \tpublic void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\r\n    \t\tconfigurer.enable();\r\n    \t}\r\n    \t\r\n\r\n    }\r\n\r\n**DepartmentController.java**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n\r\n    import com.practices.spring.mvc.valueobject.Department;\r\n\r\n    @Controller\r\n    public class DepartmentController {\r\n    \t\r\n\r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/depts&quot;)\r\n    \tpublic ModelAndView getAllDepartments(){\r\n    \t\tModelAndView mv = new ModelAndView(&quot;Department&quot;);\r\n    \t\tList&lt;Department&gt; deptList = populateDepartment();\r\n    \t\t\r\n    \t\tmv.addObject(&quot;DepartmentList&quot;, deptList);\r\n    \t\tmv.addObject(&quot;message&quot;, &quot;Hi&quot;);\r\n    \t\r\n    \t\t\r\n    \t\treturn mv;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \t\r\n    \tprivate List&lt;Department&gt; populateDepartment(){\r\n    \t\tList&lt;Department&gt; deptListTemp = new ArrayList&lt;&gt;();\r\n    \t\tDepartment dept1 = new Department(&quot;1&quot;, &quot;Finance&quot;);\r\n    \t\tDepartment dept2 = new Department(&quot;2&quot;, &quot;CRO&quot;);\r\n    \t\tdeptListTemp.add(dept1);\r\n    \t\tdeptListTemp.add(dept2);\r\n    \t\t\r\n    \t\treturn deptListTemp;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**Department.java**\r\n\r\n    package com.practices.spring.mvc.valueobject;\r\n\r\n    public class Department {\r\n    \tprivate String deptId;\r\n    \tprivate String deptName;\r\n    \t\r\n    \tpublic Department(){}\r\n    \t\r\n    \tpublic Department (String deptIdentification, String deptartmentName){\r\n    \t\tdeptId = deptIdentification;\r\n    \t\tdeptName = deptartmentName;\r\n    \t}\r\n    \t\r\n    \tpublic String getDeptId() {\r\n    \t\treturn deptId;\r\n    \t}\r\n    \tpublic void setDeptId(String deptId) {\r\n    \t\tthis.deptId = deptId;\r\n    \t}\r\n    \tpublic String getDeptName() {\r\n    \t\treturn deptName;\r\n    \t}\r\n    \tpublic void setDeptName(String deptName) {\r\n    \t\tthis.deptName = deptName;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String toString(){\r\n    \t\treturn &quot;[deptId : &quot;+deptId +&quot; ! deptName : &quot;+deptName+&quot;]&quot;;\r\n    \t}\r\n    \t\r\n    \t\r\n    }\r\n","title":"Spring Boot - JSP is not rendering","body":"<p>I am writing a Spring MVC application using Spring boot. I am trying to display a text and a list of Department object which is populated from the Controller class. when the boot application is run the values are getting populated in the Controller's List variable and the page is redirected to the mentioned JSP. </p>\n\n<p>The problem is the output is something like this. \n<a href=\"https://i.stack.imgur.com/kImMu.jpg\" rel=\"nofollow noreferrer\">Screenshot of the output</a></p>\n\n<p>I want the values to be populated in the designated EL. Any help is very much appreciated. </p>\n\n<p>Following are the codes used.</p>\n\n<p><strong>Department.jsp</strong></p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;%@ taglib prefix=\"c\" uri=\"http://java.sun.com/jsp/jstl/core\" %&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;div&gt;\n            &lt;h1&gt;${message}&lt;/h1&gt;\n                &lt;ul&gt;\n                &lt;c:forEach var=\"listValue\" items=\"${DepartmentList}\" &gt;\n                      &lt;li&gt;${listValue.deptName}&lt;/li&gt;\n                 &lt;/c:forEach&gt;\n                 &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>SpringMVCApplication.java</strong></p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class SpringMVCApplication extends SpringBootServletInitializer{\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder builder) {\n        return builder.sources(SpringMVCApplication.class);\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringMVCApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p><strong>MVCConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.DefaultServletHandlerConfigurer;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\nimport org.springframework.web.servlet.view.InternalResourceViewResolver;\n\n\n@Configuration\n@EnableWebMvc\n@ComponentScan(value = \"com.practices.spring.mvc\")\npublic class MVCConfiguration extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        InternalResourceViewResolver resolver = new InternalResourceViewResolver();\n        resolver.setPrefix(\"/WEB-INF/view/\");\n        resolver.setSuffix(\".jsp\");\n        resolver.setContentType(\"application/html\");\n\n        registry.viewResolver(resolver);\n    }\n\n    public void configureDefaultServletHandling(DefaultServletHandlerConfigurer configurer) {\n        configurer.enable();\n    }\n\n\n}\n</code></pre>\n\n<p><strong>DepartmentController.java</strong></p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport com.practices.spring.mvc.valueobject.Department;\n\n@Controller\npublic class DepartmentController {\n\n\n    @RequestMapping(method = RequestMethod.GET, value = \"/depts\")\n    public ModelAndView getAllDepartments(){\n        ModelAndView mv = new ModelAndView(\"Department\");\n        List&lt;Department&gt; deptList = populateDepartment();\n\n        mv.addObject(\"DepartmentList\", deptList);\n        mv.addObject(\"message\", \"Hi\");\n\n\n        return mv;\n    }\n\n\n\n\n    private List&lt;Department&gt; populateDepartment(){\n        List&lt;Department&gt; deptListTemp = new ArrayList&lt;&gt;();\n        Department dept1 = new Department(\"1\", \"Finance\");\n        Department dept2 = new Department(\"2\", \"CRO\");\n        deptListTemp.add(dept1);\n        deptListTemp.add(dept2);\n\n        return deptListTemp;\n\n    }\n\n}\n</code></pre>\n\n<p><strong>Department.java</strong></p>\n\n<pre><code>package com.practices.spring.mvc.valueobject;\n\npublic class Department {\n    private String deptId;\n    private String deptName;\n\n    public Department(){}\n\n    public Department (String deptIdentification, String deptartmentName){\n        deptId = deptIdentification;\n        deptName = deptartmentName;\n    }\n\n    public String getDeptId() {\n        return deptId;\n    }\n    public void setDeptId(String deptId) {\n        this.deptId = deptId;\n    }\n    public String getDeptName() {\n        return deptName;\n    }\n    public void setDeptName(String deptName) {\n        this.deptName = deptName;\n    }\n\n\n    public String toString(){\n        return \"[deptId : \"+deptId +\" ! deptName : \"+deptName+\"]\";\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1690477452,"post_id":76781754,"comment_id":135362836,"body_markdown":"Hava you tried starting from the Eclipse marketplace - https://marketplace.eclipse.org/content/codeium","body":"Hava you tried starting from the Eclipse marketplace - <a href=\"https://marketplace.eclipse.org/content/codeium\" rel=\"nofollow noreferrer\">marketplace.eclipse.org/content/codeium</a>"},{"owner":{"account_id":11069155,"reputation":23,"user_id":8127954,"display_name":"y.z"},"score":0,"creation_date":1690481286,"post_id":76781754,"comment_id":135363612,"body_markdown":"Yes, of course, but it didn&#180;t work.","body":"Yes, of course, but it didn&#180;t work."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1690529807,"post_id":76781754,"comment_id":135369427,"body_markdown":"The update site `https://exafunction.github.io/codeium-eclipse/` works for me (in a web browser it gives a NOT FOUND, but update site files like [`https://exafunction.github.io/codeium-eclipse/content.jar`](https://exafunction.github.io/codeium-eclipse/content.jar) are found). I get prompted &quot;Proceed with the installation anyways?&quot; only when installing it via Marketplace, not via _Help &gt; Install New Software..._ What happens if you just hit _Yes_ to proceed?","body":"The update site <code>https:&#47;&#47;exafunction.github.io&#47;codeium-eclipse&#47;</code> works for me (in a web browser it gives a NOT FOUND, but update site files like <a href=\"https://exafunction.github.io/codeium-eclipse/content.jar\" rel=\"nofollow noreferrer\"><code>https:&#47;&#47;exafunction.github.io&#47;codeium-eclipse&#47;content.jar</code></a> are found). I get prompted &quot;Proceed with the installation anyways?&quot; only when installing it via Marketplace, not via <i>Help &gt; Install New Software...</i> What happens if you just hit <i>Yes</i> to proceed?"},{"owner":{"account_id":1874899,"reputation":506,"user_id":1696307,"display_name":"PeterG"},"score":0,"creation_date":1691054950,"post_id":76781754,"comment_id":135440707,"body_markdown":"@howlger What about the license then? For me it says: &quot;Proprietary Software&quot; and &quot;Redistribution and use in source and binary forms, with or without modification, is not permitted in any form or by any means.&quot;","body":"@howlger What about the license then? For me it says: &quot;Proprietary Software&quot; and &quot;Redistribution and use in source and binary forms, with or without modification, is not permitted in any form or by any means.&quot;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1691056429,"post_id":76781754,"comment_id":135441061,"body_markdown":"You can use it for free, but you have to create an account: https://codeium.com/eclipse_tutorial Be aware that when you use it, [data is sent from you to Exafunction, which they use to improve their services](https://codeium.com/terms-of-service). You are not allowed to copy their update site `https://exafunction.github.io/codeium-eclipse` and provide it to others.","body":"You can use it for free, but you have to create an account: <a href=\"https://codeium.com/eclipse_tutorial\" rel=\"nofollow noreferrer\">codeium.com/eclipse_tutorial</a> Be aware that when you use it, <a href=\"https://codeium.com/terms-of-service\" rel=\"nofollow noreferrer\">data is sent from you to Exafunction, which they use to improve their services</a>. You are not allowed to copy their update site <code>https:&#47;&#47;exafunction.github.io&#47;codeium-eclipse</code> and provide it to others."}],"owner":{"account_id":11069155,"reputation":23,"user_id":8127954,"display_name":"y.z"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":413,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690482414,"creation_date":1690475391,"question_id":76781754,"body_markdown":"\r\nWhen I try to install eclipse plugin codeium in eclipse (4.28 and 4.27)\r\n\r\nit says &quot;The following solutions are not available: Codeium 0.1.0&quot;\r\n\r\n[![Warning][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d3c1I.png\r\n\r\n\r\nAlso the page https://exafunction.github.io/codeium-eclipse gives a NOT FOUND error.\r\n\r\nOn 27 july the plugin is broken for eclipse?\r\n\r\n\r\nReference page: https://codeium.com\r\n","title":"Eclipse Codeium Plugin broken?","body":"<p>When I try to install eclipse plugin codeium in eclipse (4.28 and 4.27)</p>\n<p>it says &quot;The following solutions are not available: Codeium 0.1.0&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/d3c1I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d3c1I.png\" alt=\"Warning\" /></a></p>\n<p>Also the page <a href=\"https://exafunction.github.io/codeium-eclipse\" rel=\"nofollow noreferrer\">https://exafunction.github.io/codeium-eclipse</a> gives a NOT FOUND error.</p>\n<p>On 27 july the plugin is broken for eclipse?</p>\n<p>Reference page: <a href=\"https://codeium.com\" rel=\"nofollow noreferrer\">https://codeium.com</a></p>\n"},{"tags":["javascript","java","eclipse","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":22041557,"reputation":33,"user_id":16307269,"display_name":"Martin P."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690482063,"creation_date":1690285921,"answer_id":76762434,"question_id":76720241,"body_markdown":"1) file is not executable\r\n\r\nOR\r\n\r\n2) file is not accessible\r\n\r\nReview your access rights to that folder and file.","title":"Faliure message : NoSuchDriver Unable to obtain: Capabilities {browserName: MicrosoftEdge, ms:edgeOptions","body":"<ol>\n<li>file is not executable</li>\n</ol>\n<p>OR</p>\n<ol start=\"2\">\n<li>file is not accessible</li>\n</ol>\n<p>Review your access rights to that folder and file.</p>\n"}],"owner":{"account_id":29016627,"reputation":1,"user_id":22226915,"display_name":"sagar mandla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690482063,"creation_date":1689761838,"question_id":76720241,"body_markdown":"While I&#39;m trying to execute the program, the program is getting failed also the following is the failure message I&#39;m getting and I&#39;m unable to resolve this :\r\n\r\n&quot; WARNING: IOException running command \\[C:\\\\Users\\\\RAZI\\\\AppData\\\\Local\\\\Temp\\\\selenium-manager105348031911200259374836408092303\\\\selenium-manager.exe, --browser, MicrosoftEdge, --output, json\\]: Cannot run program &quot;C:\\\\Users\\\\RAZI\\\\AppData\\\\Local\\\\Temp\\\\selenium-manager105348031911200259374836408092303\\\\selenium-manager.exe&quot;: CreateProcess error=5, Access is denied &quot;\r\nCould anyone help me to resolve this?\r\n\r\nI&#39;ve tried to execute the below code\r\n\r\nExpectation: Is that the code will execute","title":"Faliure message : NoSuchDriver Unable to obtain: Capabilities {browserName: MicrosoftEdge, ms:edgeOptions","body":"<p>While I'm trying to execute the program, the program is getting failed also the following is the failure message I'm getting and I'm unable to resolve this :</p>\n<p>&quot; WARNING: IOException running command [C:\\Users\\RAZI\\AppData\\Local\\Temp\\selenium-manager105348031911200259374836408092303\\selenium-manager.exe, --browser, MicrosoftEdge, --output, json]: Cannot run program &quot;C:\\Users\\RAZI\\AppData\\Local\\Temp\\selenium-manager105348031911200259374836408092303\\selenium-manager.exe&quot;: CreateProcess error=5, Access is denied &quot;\nCould anyone help me to resolve this?</p>\n<p>I've tried to execute the below code</p>\n<p>Expectation: Is that the code will execute</p>\n"},{"tags":["java","spring-boot","kafka-consumer-api","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":3479089,"reputation":818,"user_id":2911631,"accept_rate":23,"display_name":"kumarhimanshu449"},"score":0,"creation_date":1505990301,"post_id":46325909,"comment_id":79643205,"body_markdown":"Hi @Artem , I did the changes but now getting another bean error. I update my question with new Edit. The spring kafka documentation is not that much clear.","body":"Hi @Artem , I did the changes but now getting another bean error. I update my question with new Edit. The spring kafka documentation is not that much clear."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1506000571,"post_id":46325909,"comment_id":79650565,"body_markdown":"1. You still don&#39;t have `Acknowledgment` arg in your `receive()` method. So, I&#39;m not sure what is that `ack` var for. 2. You have some mix of raw Spring Kafka configuration and Spring Boot. You should consider to start from there: https://docs.spring.io/spring-boot/docs/1.5.7.RELEASE/reference/htmlsingle/#boot-features-kafka and just reconfigure out-of-the-box `kafkaListenerContainerFactory` bean via proper `ConsumerFactory` bean. In your case it is `ConsumerFactory&lt;String, String&gt;`, but has to be `ConsumerFactory&lt;?, ?&gt;`","body":"1. You still don&#39;t have <code>Acknowledgment</code> arg in your <code>receive()</code> method. So, I&#39;m not sure what is that <code>ack</code> var for. 2. You have some mix of raw Spring Kafka configuration and Spring Boot. You should consider to start from there: <a href=\"https://docs.spring.io/spring-boot/docs/1.5.7.RELEASE/reference/htmlsingle/#boot-features-kafka\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.5.7.RELEASE/reference/&hellip;</a> and just reconfigure out-of-the-box <code>kafkaListenerContainerFactory</code> bean via proper <code>ConsumerFactory</code> bean. In your case it is <code>ConsumerFactory&lt;String, String&gt;</code>, but has to be <code>ConsumerFactory&lt;?, ?&gt;</code>"},{"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"score":12,"creation_date":1549982024,"post_id":46325909,"comment_id":96096259,"body_markdown":"Saying &quot;you should follow the docs&quot; is unproductive; the docs here are wildly confusing and not beginner friendly. A link to a minimal working application would be nice.","body":"Saying &quot;you should follow the docs&quot; is unproductive; the docs here are wildly confusing and not beginner friendly. A link to a minimal working application would be nice."},{"owner":{"account_id":1741154,"reputation":836,"user_id":2515354,"accept_rate":100,"display_name":"Lakshmikant Deshpande"},"score":0,"creation_date":1560231188,"post_id":46325909,"comment_id":99656215,"body_markdown":"@ArtemBilan\nThe documentation link is broken.","body":"@ArtemBilan The documentation link is broken."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1586874631,"creation_date":1505920678,"answer_id":46325909,"question_id":46325540,"body_markdown":"You really should follow [documentation][1]:\r\n\r\n&gt; When using manual `AckMode`, the listener can also be provided with the `Acknowledgment`; this example also shows how to use a different container factory.\r\n\r\n    @KafkaListener(id = &quot;baz&quot;, topics = &quot;myTopic&quot;,\r\n              containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;)\r\n    public void listen(String data, Acknowledgment ack) {\r\n        ...\r\n        ack.acknowledge();\r\n    }\r\n\r\nThere is really nowhere noted that `Acknowledgment` is a bean. So, change your `receive()` `@KafkaListener` method signature appropriately and remove that `@Autowired` for suspicious  `Acknowledgment` bean - it just doesn&#39;t exists because this object is a part (header) of each received message.\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/#kafka-listener-annotation","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>You really should follow <a href=\"https://docs.spring.io/spring-kafka/reference/html/#kafka-listener-annotation\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>When using manual <code>AckMode</code>, the listener can also be provided with the <code>Acknowledgment</code>; this example also shows how to use a different container factory.</p>\n</blockquote>\n\n<pre><code>@KafkaListener(id = \"baz\", topics = \"myTopic\",\n          containerFactory = \"kafkaManualAckListenerContainerFactory\")\npublic void listen(String data, Acknowledgment ack) {\n    ...\n    ack.acknowledge();\n}\n</code></pre>\n\n<p>There is really nowhere noted that <code>Acknowledgment</code> is a bean. So, change your <code>receive()</code> <code>@KafkaListener</code> method signature appropriately and remove that <code>@Autowired</code> for suspicious  <code>Acknowledgment</code> bean - it just doesn't exists because this object is a part (header) of each received message.</p>\n"},{"comments":[{"owner":{"account_id":191619,"reputation":17552,"user_id":432294,"accept_rate":91,"display_name":"Jay Sullivan"},"score":0,"creation_date":1549981312,"post_id":54437729,"comment_id":96095773,"body_markdown":"Does anyone have a minimal working example of an entire working app using this pattern?","body":"Does anyone have a minimal working example of an entire working app using this pattern?"},{"owner":{"account_id":13944802,"reputation":341,"user_id":10069800,"display_name":"Zim8662"},"score":3,"creation_date":1550075370,"post_id":54437729,"comment_id":96139472,"body_markdown":"Sure thing, I created this simple project for you, take a look at my git page:\n\nhttps://github.com/zim8662/kafka-example\n\nJust run the zookeeper and kafka server locally, or if it&#39;s remote change the property in application.properties (along with group and topic properties of course) and try localhost:8080/test in your browser.","body":"Sure thing, I created this simple project for you, take a look at my git page:  <a href=\"https://github.com/zim8662/kafka-example\" rel=\"nofollow noreferrer\">github.com/zim8662/kafka-example</a>  Just run the zookeeper and kafka server locally, or if it&#39;s remote change the property in application.properties (along with group and topic properties of course) and try localhost:8080/test in your browser."},{"owner":{"account_id":7323670,"reputation":1945,"user_id":6393275,"display_name":"alex"},"score":1,"creation_date":1590103763,"post_id":54437729,"comment_id":109561884,"body_markdown":"Hi Zim - wondering what happens if you then set `props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true)`? Will kafka still autocommit? and will Spring try to commit again?","body":"Hi Zim - wondering what happens if you then set <code>props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, true)</code>? Will kafka still autocommit? and will Spring try to commit again?"},{"owner":{"account_id":13944802,"reputation":341,"user_id":10069800,"display_name":"Zim8662"},"score":0,"creation_date":1594730411,"post_id":54437729,"comment_id":111222853,"body_markdown":"@alex I think this is a simple yet good explanation on this property:\nhttps://medium.com/@danieljameskay/understanding-the-enable-auto-commit-kafka-consumer-property-12fa0ade7b65","body":"@alex I think this is a simple yet good explanation on this property: <a href=\"https://medium.com/@danieljameskay/understanding-the-enable-auto-commit-kafka-consumer-property-12fa0ade7b65\" rel=\"nofollow noreferrer\">medium.com/@danieljameskay/&hellip;</a>"},{"owner":{"account_id":556867,"reputation":558,"user_id":7398901,"display_name":"Jack Zhu"},"score":1,"creation_date":1619088669,"post_id":54437729,"comment_id":118801747,"body_markdown":"I think your answer is not good, since the change will affect all Kafka listeners bounded to the ListenerContainerFactory.","body":"I think your answer is not good, since the change will affect all Kafka listeners bounded to the ListenerContainerFactory."},{"owner":{"account_id":1460989,"reputation":147,"user_id":1375340,"display_name":"MR_K"},"score":0,"creation_date":1620924890,"post_id":54437729,"comment_id":119349082,"body_markdown":"When we are dealing acknowledgement manually, we need to set the ContainerProperties.AckMode.MANUAL_IMMEDIATE and map.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false) . Otherwise we will end up the below exception.\norg.springframework.messaging.handler.annotation.support.MethodArgumentNotValidException: Could not resolve method parameter at index 0 in public void com.demo.test.analytics.testanalytics.consumer.FLReservationKafkaConsumer.consumeReservation(java.lang.String, java.lang.String, java.lang.String): 1 error(s): [Error in object &#39;payload&#39;: codes[];arguments[];","body":"When we are dealing acknowledgement manually, we need to set the ContainerProperties.AckMode.MANUAL_IMMEDIATE and map.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false) . Otherwise we will end up the below exception. org.springframework.messaging.handler.annotation.support.Met&zwnj;&#8203;hodArgumentNotValidE&zwnj;&#8203;xception: Could not resolve method parameter at index 0 in public void com.demo.test.analytics.testanalytics.consumer.FLReservation&zwnj;&#8203;KafkaConsumer.consum&zwnj;&#8203;eReservation(java.la&zwnj;&#8203;ng.String, java.lang.String, java.lang.String): 1 error(s): [Error in object &#39;payload&#39;: codes[];arguments[];"},{"owner":{"account_id":252715,"reputation":6160,"user_id":530933,"accept_rate":97,"display_name":"owen gerig"},"score":0,"creation_date":1666186975,"post_id":54437729,"comment_id":130876291,"body_markdown":"auto commit is disabled by default now (spring kafka listeners).  so its really just setting that ackMode.  What im trying to figure out is the Acknowledgment piece because it seems NOT needed.  it seems you can throw kafka exceptions to control behavior of offset commit.","body":"auto commit is disabled by default now (spring kafka listeners).  so its really just setting that ackMode.  What im trying to figure out is the Acknowledgment piece because it seems NOT needed.  it seems you can throw kafka exceptions to control behavior of offset commit."}],"tags":[],"owner":{"account_id":13944802,"reputation":341,"user_id":10069800,"display_name":"Zim8662"},"comment_count":7,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1548842133,"creation_date":1548842133,"answer_id":54437729,"question_id":46325540,"body_markdown":"For those still looking for a solution to these errors concerning manual acknowledgment, you don&#39;t need to specify containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;, instead you can just add:\r\n\r\n    factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n\r\nto your receiver config just before you return the factory object.\r\n\r\nThen you also need:\r\n\r\n    props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\r\nin consumer config props.\r\n\r\nSo in the end your listener method can simply look like:\r\n\r\n    @KafkaListener(topics = &quot;${spring.kafka.topic}&quot;)\r\n        private void listen(@Payload String payload, Acknowledgment acknowledgment) {\r\n            //Whatever code you want to do with the payload\r\n            acknowledgement.acknowledge(); //or even pass the acknowledgment to a different method and acknowledge even later\r\n        }","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>For those still looking for a solution to these errors concerning manual acknowledgment, you don't need to specify containerFactory = \"kafkaManualAckListenerContainerFactory\", instead you can just add:</p>\n\n<pre><code>factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n</code></pre>\n\n<p>to your receiver config just before you return the factory object.</p>\n\n<p>Then you also need:</p>\n\n<pre><code>props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n</code></pre>\n\n<p>in consumer config props.</p>\n\n<p>So in the end your listener method can simply look like:</p>\n\n<pre><code>@KafkaListener(topics = \"${spring.kafka.topic}\")\n    private void listen(@Payload String payload, Acknowledgment acknowledgment) {\n        //Whatever code you want to do with the payload\n        acknowledgement.acknowledge(); //or even pass the acknowledgment to a different method and acknowledge even later\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8523194,"reputation":1574,"user_id":6389337,"display_name":"sapan prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1636469587,"creation_date":1636468638,"answer_id":69900057,"question_id":46325540,"body_markdown":"Those who are using spring boot application, simple add below to your application.yml (or environment specific file).\r\n\r\n    spring:\r\n      kafka:\r\n        listener:\r\n          ack-mode: manual\r\n\r\nAbove change will make `Acknowledgment ack` argument available inside  \r\n `receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack)` method automatically.","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>Those who are using spring boot application, simple add below to your application.yml (or environment specific file).</p>\n<pre><code>spring:\n  kafka:\n    listener:\n      ack-mode: manual\n</code></pre>\n<p>Above change will make <code>Acknowledgment ack</code> argument available inside<br />\n<code>receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack)</code> method automatically.</p>\n"},{"tags":[],"owner":{"account_id":8171302,"reputation":61,"user_id":6151652,"display_name":"Valery Putnin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690481748,"creation_date":1690481748,"answer_id":76782448,"question_id":46325540,"body_markdown":"Java code: \r\n\r\n    @Service\r\n    public class ServiceCallKafkaListener {\r\n    \r\n        @KafkaListener(id = &quot;listenerId&quot;,\r\n                groupId = &quot;groupListenerId&quot;,\r\n                topics = &quot;topicName&quot;)\r\n        public void listenServiceCall(@Payload String message,\r\n                                      Acknowledgment acknowledgment) {\r\n            //here is your logic for message processing\r\n            boolean logicForMessageProcessingCompleted = true;\r\n            if (logicForMessageProcessingCompleted) {\r\n                //manual commit\r\n                acknowledgment.acknowledge();\r\n            }\r\n        }\r\n    }\r\n\r\napplication.properties\r\n\r\n    #type of acknowledgment mode\r\n    spring.kafka.listener.ack-mode=MANUAL_IMMEDIATE\r\n\r\n    #property that turns off auto commit\r\n    spring.kafka.consumer.enable-auto-commit=false","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>Java code:</p>\n<pre><code>@Service\npublic class ServiceCallKafkaListener {\n\n    @KafkaListener(id = &quot;listenerId&quot;,\n            groupId = &quot;groupListenerId&quot;,\n            topics = &quot;topicName&quot;)\n    public void listenServiceCall(@Payload String message,\n                                  Acknowledgment acknowledgment) {\n        //here is your logic for message processing\n        boolean logicForMessageProcessingCompleted = true;\n        if (logicForMessageProcessingCompleted) {\n            //manual commit\n            acknowledgment.acknowledge();\n        }\n    }\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>#type of acknowledgment mode\nspring.kafka.listener.ack-mode=MANUAL_IMMEDIATE\n\n#property that turns off auto commit\nspring.kafka.consumer.enable-auto-commit=false\n</code></pre>\n"}],"owner":{"account_id":3479089,"reputation":818,"user_id":2911631,"accept_rate":23,"display_name":"kumarhimanshu449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73905,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":4,"score":19,"last_activity_date":1690481748,"creation_date":1505919698,"question_id":46325540,"body_markdown":"I am using Spring Kafka first time and I am not able to use Acknowledgement.acknowledge() method for manual commit in my consumer code as mentioned here [https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets][1]. Mine is spring-boot application. If I am not using manual commit process than my code is working fine. But when I use \r\nAcknowledgement.acknowledge() for manual commit it shows error related to bean. Also If I am not using manual commit properly please suggest me the right way to do it.\r\n\r\nError message:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field ack in Receiver required a bean of type &#39;org.springframework.kafka.support.Acknowledgment&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.springframework.kafka.support.Acknowledgment&#39; in your configuration.\r\n\r\n\r\nI googled this error I found that I need to add @Component but that is already there in my consumer code.\r\n\r\nMy consumer code looks like this: Receiver.java\r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.kafka.support.Acknowledgment;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Receiver {\r\n    \r\n    \t@Autowired\r\n    \tpublic Acknowledgment ack;\r\n    \t\r\n    \tprivate CountDownLatch latch = new CountDownLatch(1);\r\n    \t\r\n    \t@KafkaListener(topics = &quot;${kafka.topic.TestTopic}&quot;)\r\n    \tpublic void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord){\r\n    \t\t\tSystem.out.println(consumerRecord.value());\r\n    \t\t\tlatch.countDown();\r\n    \t\t\tack.acknowledge();\r\n    \t}\r\n    }\r\n\r\nMy producer code looks like this: Sender.java\r\n\r\n    import java.util.Map;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.kafka.core.KafkaTemplate;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Sender {\r\n    \r\n    \t@Autowired\r\n    \tprivate KafkaTemplate&lt;String, Map&lt;String, Object&gt;&gt; kafkaTemplate;\r\n    \r\n    \tpublic void send(Map&lt;String, Object&gt; map){\r\n    \t\t\tkafkaTemplate.send(&quot;TestTopic&quot;, map);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets\r\n\r\n**EDIT 1:**\r\n\r\nMy new consumer code looks like this: Receiver.java\r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.kafka.support.Acknowledgment;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class Receiver {\r\n    \r\n    \tprivate CountDownLatch latch = new CountDownLatch(1);\r\n    \t\r\n    \t@KafkaListener(topics = &quot;${kafka.topic.TestTopic}&quot;, containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot;)\r\n    \tpublic void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack){\r\n    \t\t\tSystem.out.println(consumerRecord.value());\r\n    \t\t\tlatch.countDown();\r\n    \t\t\tack.acknowledge();\r\n    \t}\r\n    }\r\n\r\nI changed my configuration class also:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.ConsumerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    \r\n    @Configuration\r\n    @EnableKafka\r\n    public class ReceiverConfig {\r\n    \r\n    \t@Value(&quot;${kafka.bootstrap-servers}&quot;)\r\n    \tprivate String bootstrapServers;\r\n    \r\n    \t@Value(&quot;${spring.kafka.consumer.group-id}&quot;)\r\n    \tprivate String consumerGroupId;\r\n    \r\n    \t@Bean\r\n    \tpublic Map&lt;String, Object&gt; consumerConfigs() throws SendGridException {\r\n    \t\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n    \t\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n    \t\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \t\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n    \t\t\tprops.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\r\n    \t\t\treturn props;\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic ConsumerFactory&lt;String, String&gt; consumerFactory(){\r\n    \t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    \t}\r\n    \r\n    \t/*@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(){\r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.setConsumerFactory(consumerFactory());\r\n    \r\n    \t\treturn factory;\r\n    \t}*/\r\n    \r\n    \t@Bean\r\n    \tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaManualAckListenerContainerFactory(){\r\n    \t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n    \t\tfactory.setConsumerFactory(consumerFactory());\r\n    \t\treturn factory;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Receiver receiver() {\r\n    \t\treturn new Receiver();\r\n    \t}\r\n    }\r\n\r\nAfter adding containerFactory = &quot;kafkaManualAckListenerContainerFactory&quot; to my receive() method I am getting the below error.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 1 of method kafkaListenerContainerFactory in org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration required a bean of type &#39;org.springframework.kafka.core.ConsumerFactory&#39; that could not be found.\r\n    \t- Bean method &#39;kafkaConsumerFactory&#39; in &#39;KafkaAutoConfiguration&#39; not loaded because @ConditionalOnMissingBean (types: org.springframework.kafka.core.ConsumerFactory; SearchStrategy: all) found bean &#39;consumerFactory&#39;\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider revisiting the conditions above or defining a bean of type &#39;org.springframework.kafka.core.ConsumerFactory&#39; in your configuration.","title":"How to use Spring Kafka&#39;s Acknowledgement.acknowledge() method for manual commit","body":"<p>I am using Spring Kafka first time and I am not able to use Acknowledgement.acknowledge() method for manual commit in my consumer code as mentioned here <a href=\"https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets\" rel=\"noreferrer\">https://docs.spring.io/spring-kafka/reference/html/_reference.html#committing-offsets</a>. Mine is spring-boot application. If I am not using manual commit process than my code is working fine. But when I use \nAcknowledgement.acknowledge() for manual commit it shows error related to bean. Also If I am not using manual commit properly please suggest me the right way to do it.</p>\n\n<p>Error message:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField ack in Receiver required a bean of type 'org.springframework.kafka.support.Acknowledgment' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.kafka.support.Acknowledgment' in your configuration.\n</code></pre>\n\n<p>I googled this error I found that I need to add @Component but that is already there in my consumer code.</p>\n\n<p>My consumer code looks like this: Receiver.java</p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.support.Acknowledgment;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Receiver {\n\n    @Autowired\n    public Acknowledgment ack;\n\n    private CountDownLatch latch = new CountDownLatch(1);\n\n    @KafkaListener(topics = \"${kafka.topic.TestTopic}\")\n    public void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord){\n            System.out.println(consumerRecord.value());\n            latch.countDown();\n            ack.acknowledge();\n    }\n}\n</code></pre>\n\n<p>My producer code looks like this: Sender.java</p>\n\n<pre><code>import java.util.Map;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.kafka.core.KafkaTemplate;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Sender {\n\n    @Autowired\n    private KafkaTemplate&lt;String, Map&lt;String, Object&gt;&gt; kafkaTemplate;\n\n    public void send(Map&lt;String, Object&gt; map){\n            kafkaTemplate.send(\"TestTopic\", map);\n\n    }\n\n}\n</code></pre>\n\n<p><strong>EDIT 1:</strong></p>\n\n<p>My new consumer code looks like this: Receiver.java</p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.support.Acknowledgment;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Receiver {\n\n    private CountDownLatch latch = new CountDownLatch(1);\n\n    @KafkaListener(topics = \"${kafka.topic.TestTopic}\", containerFactory = \"kafkaManualAckListenerContainerFactory\")\n    public void receive(ConsumerRecord&lt;?, ?&gt; consumerRecord, Acknowledgment ack){\n            System.out.println(consumerRecord.value());\n            latch.countDown();\n            ack.acknowledge();\n    }\n}\n</code></pre>\n\n<p>I changed my configuration class also:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\n\n@Configuration\n@EnableKafka\npublic class ReceiverConfig {\n\n    @Value(\"${kafka.bootstrap-servers}\")\n    private String bootstrapServers;\n\n    @Value(\"${spring.kafka.consumer.group-id}\")\n    private String consumerGroupId;\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() throws SendGridException {\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, consumerGroupId);\n            return props;\n\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory(){\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    /*@Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory(){\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n\n        return factory;\n    }*/\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaManualAckListenerContainerFactory(){\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n\n    @Bean\n    public Receiver receiver() {\n        return new Receiver();\n    }\n}\n</code></pre>\n\n<p>After adding containerFactory = \"kafkaManualAckListenerContainerFactory\" to my receive() method I am getting the below error.</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of method kafkaListenerContainerFactory in org.springframework.boot.autoconfigure.kafka.KafkaAnnotationDrivenConfiguration required a bean of type 'org.springframework.kafka.core.ConsumerFactory' that could not be found.\n    - Bean method 'kafkaConsumerFactory' in 'KafkaAutoConfiguration' not loaded because @ConditionalOnMissingBean (types: org.springframework.kafka.core.ConsumerFactory; SearchStrategy: all) found bean 'consumerFactory'\n\n\nAction:\n\nConsider revisiting the conditions above or defining a bean of type 'org.springframework.kafka.core.ConsumerFactory' in your configuration.\n</code></pre>\n"},{"tags":["java","if-statement","parameters","contains"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1690369963,"post_id":76770605,"comment_id":135343077,"body_markdown":"You need to ask a question or tell us what problem you are facing. Currently your post really doesn&#39;t tell us what your actual problem is.","body":"You need to ask a question or tell us what problem you are facing. Currently your post really doesn&#39;t tell us what your actual problem is."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1690370215,"post_id":76770605,"comment_id":135343138,"body_markdown":"and *if* you are getting an error, also write that together with the error message and location...","body":"and <i>if</i> you are getting an error, also write that together with the error message and location..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690370225,"post_id":76770605,"comment_id":135343140,"body_markdown":"You can use a regex: `if (nome.matches(&quot;.*[aeiou].*&quot;)) {`","body":"You can use a regex: <code>if (nome.matches(&quot;.*[aeiou].*&quot;)) {</code>"},{"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"score":0,"creation_date":1690378278,"post_id":76770605,"comment_id":135345115,"body_markdown":"Thanks a lot, I haven&#39;t researched this feature yet but it&#39;s what I was looking for @g00se","body":"Thanks a lot, I haven&#39;t researched this feature yet but it&#39;s what I was looking for @g00se"}],"answers":[{"comments":[{"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"score":0,"creation_date":1690373049,"post_id":76770713,"comment_id":135343764,"body_markdown":"Thank you very much for your explanation,\nthe only thing i don&#39;t understand is:\n|\nfor (String vocale : vocali) {\n|\nI have no vocale but only vocali","body":"Thank you very much for your explanation, the only thing i don&#39;t understand is: | for (String vocale : vocali) { | I have no vocale but only vocali"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1690373955,"post_id":76770713,"comment_id":135343978,"body_markdown":"The moment you do `String vocale` you now have `vocale` in that scope (that is, only inside the subsequent `for` block.","body":"The moment you do <code>String vocale</code> you now have <code>vocale</code> in that scope (that is, only inside the subsequent <code>for</code> block."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690379724,"post_id":76770713,"comment_id":135345465,"body_markdown":"@EmanueleSiragusa You might want to follow some basic tutorials first. `for (String x : someListyThing)` runs the loop once for every element in &#39;someListyThing&#39;, declares a variable named `x`, which exists inside that loop, and holds the value of someListyThing we are on. This is all basic java 101 and not appropriate for SO.","body":"@EmanueleSiragusa You might want to follow some basic tutorials first. <code>for (String x : someListyThing)</code> runs the loop once for every element in &#39;someListyThing&#39;, declares a variable named <code>x</code>, which exists inside that loop, and holds the value of someListyThing we are on. This is all basic java 101 and not appropriate for SO."},{"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"score":0,"creation_date":1690381752,"post_id":76770713,"comment_id":135345930,"body_markdown":"Could you adapt it to my code? @zwitserloot","body":"Could you adapt it to my code? @zwitserloot"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690382188,"post_id":76770713,"comment_id":135346043,"body_markdown":"@EmanueleSiragusa You should read what Stack Overflow is for. It&#39;s not &#39;please do my homework for me&#39; nor is it &#39;please explain first-steps java for me&#39;.","body":"@EmanueleSiragusa You should read what Stack Overflow is for. It&#39;s not &#39;please do my homework for me&#39; nor is it &#39;please explain first-steps java for me&#39;."},{"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"score":0,"creation_date":1690385732,"post_id":76770713,"comment_id":135346923,"body_markdown":"Indeed that&#39;s what I meant, seeing it integrated into a simple code I created for practice would help me understand, there is no homework or work to do here @rzwitserloot","body":"Indeed that&#39;s what I meant, seeing it integrated into a simple code I created for practice would help me understand, there is no homework or work to do here @rzwitserloot"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690370343,"creation_date":1690370343,"answer_id":76770713,"question_id":76770605,"body_markdown":"When I ask you: &quot;Hey, does this word contain an a, e, i, o, or u&quot; you know what I mean. But my question isn&#39;t actually clear, you just apply a lifetime of human knowledge to the situation and some empathy (you walk in my shoes and figure out what kinds of questions one might ask and use that as part of the process of understanding what I mean).\r\n\r\nComputers just aren&#39;t like that. They need to be told precisely what to do and will do precisely what you say no matter how stupid it is. [Here is a youtube video](https://www.youtube.com/watch?v=Ct-lOOUqmyY) of a dad asking his kids to write down the recipe for peanutbutter and jelly sandwiches and he follows it exactly (with disastrously hilarious results, of course). __Programming is exactly like that__.\r\n\r\nHence, this: `if (nome.contains(&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;)) {` doesn&#39;t work - it doesn&#39;t even make sense. Are you asking if it contains at least 1 of those letters? All of them?\r\n\r\nThe usual solution is - well, it&#39;s a programming language - program it. Instead of looking for a single &#39;method&#39; that does exactly what you want, treat methods as very simple verbs. There is no verb that means &#39;cook the rice for 8 minutes&#39;. There&#39;s a verb that means &#39;cook&#39;. There are additional words you can use to indicate &#39;.. for 8 minutes&#39;. No verb will ever exist that precisely means &#39;cook it for 8 minutes&#39;. Same here. There is no one method. Write code that does what you want:\r\n\r\n```\r\nboolean found = false;\r\nfor (String vocale : vocali) {\r\n  if (nome.contains(vocale)) {\r\n    found = true;\r\n    break;\r\n  }\r\n}\r\n\r\nif (found) {\r\n  System.out.println(&quot;Contiene vocali&quot;);\r\n}\r\n```\r\n\r\nAdditional complication is that the &#39;verb&#39; &quot;.contains(someChar)&quot; doesn&#39;t exist, only &quot;.contains(someString)&quot; exists, so change your `vocali` array to be of type `String[]` and to use double quotes to fix that. Or use `.indexOf(someChar) &gt; -1` instead (indexOf _does_ have an overload that works on chars).\r\n\r\nWith the stream API this works too:\r\n\r\n```\r\nboolean found = nome.chars()\r\n  .anyMatch(c -&gt; Arrays.binarySearch(vocali, c) &gt; -1);\r\n```\r\n\r\nThis requires that you write your `vocali` in alphabetical order (binary search __requires__ that the array you are searching through is sorted). I&#39;m assuming you haven&#39;t covered lambdas (also known as closures) in your course yet so you might want to forget about this `anyMatch` stuff until later.\r\n","title":"Check if parameter contains vowels in string","body":"<p>When I ask you: &quot;Hey, does this word contain an a, e, i, o, or u&quot; you know what I mean. But my question isn't actually clear, you just apply a lifetime of human knowledge to the situation and some empathy (you walk in my shoes and figure out what kinds of questions one might ask and use that as part of the process of understanding what I mean).</p>\n<p>Computers just aren't like that. They need to be told precisely what to do and will do precisely what you say no matter how stupid it is. <a href=\"https://www.youtube.com/watch?v=Ct-lOOUqmyY\" rel=\"nofollow noreferrer\">Here is a youtube video</a> of a dad asking his kids to write down the recipe for peanutbutter and jelly sandwiches and he follows it exactly (with disastrously hilarious results, of course). <strong>Programming is exactly like that</strong>.</p>\n<p>Hence, this: <code>if (nome.contains('a','e','i','o','u')) {</code> doesn't work - it doesn't even make sense. Are you asking if it contains at least 1 of those letters? All of them?</p>\n<p>The usual solution is - well, it's a programming language - program it. Instead of looking for a single 'method' that does exactly what you want, treat methods as very simple verbs. There is no verb that means 'cook the rice for 8 minutes'. There's a verb that means 'cook'. There are additional words you can use to indicate '.. for 8 minutes'. No verb will ever exist that precisely means 'cook it for 8 minutes'. Same here. There is no one method. Write code that does what you want:</p>\n<pre><code>boolean found = false;\nfor (String vocale : vocali) {\n  if (nome.contains(vocale)) {\n    found = true;\n    break;\n  }\n}\n\nif (found) {\n  System.out.println(&quot;Contiene vocali&quot;);\n}\n</code></pre>\n<p>Additional complication is that the 'verb' &quot;.contains(someChar)&quot; doesn't exist, only &quot;.contains(someString)&quot; exists, so change your <code>vocali</code> array to be of type <code>String[]</code> and to use double quotes to fix that. Or use <code>.indexOf(someChar) &gt; -1</code> instead (indexOf <em>does</em> have an overload that works on chars).</p>\n<p>With the stream API this works too:</p>\n<pre><code>boolean found = nome.chars()\n  .anyMatch(c -&gt; Arrays.binarySearch(vocali, c) &gt; -1);\n</code></pre>\n<p>This requires that you write your <code>vocali</code> in alphabetical order (binary search <strong>requires</strong> that the array you are searching through is sorted). I'm assuming you haven't covered lambdas (also known as closures) in your course yet so you might want to forget about this <code>anyMatch</code> stuff until later.</p>\n"},{"comments":[{"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"score":0,"creation_date":1690374915,"post_id":76770985,"comment_id":135344221,"body_markdown":"This is exactly what I was looking for, but how can I avoid doing many - if (name.contains(&quot;e&quot;)) - and search directly inside an array?","body":"This is exactly what I was looking for, but how can I avoid doing many - if (name.contains(&quot;e&quot;)) - and search directly inside an array?"},{"owner":{"account_id":22900420,"reputation":11,"user_id":17039223,"display_name":"Sachintha Dilshan"},"score":0,"creation_date":1690464405,"post_id":76770985,"comment_id":135359856,"body_markdown":"You can use the following code snippets for that. `for(int i=0; i&lt;nome.length(); i++) {\n            if(nome.charAt(i) == &#39;a&#39;|| nome.charAt(i) == &#39;e&#39;|| \n            nome.charAt(i) == &#39;i&#39; || nome.charAt(i) == &#39;o&#39; || \n            nome.charAt(i) == &#39;u&#39;)\n            System.out.println(&quot;Contiene vocali&quot;);\n    } `","body":"You can use the following code snippets for that. <code>for(int i=0; i&lt;nome.length(); i++) {             if(nome.charAt(i) == &#39;a&#39;|| nome.charAt(i) == &#39;e&#39;||              nome.charAt(i) == &#39;i&#39; || nome.charAt(i) == &#39;o&#39; ||              nome.charAt(i) == &#39;u&#39;)             System.out.println(&quot;Contiene vocali&quot;);     } </code>"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1690833277,"post_id":76770985,"comment_id":135405350,"body_markdown":"Please don&#39;t add comments to clarify; code is unreadable in comments. [Edit] your answer instead.","body":"Please don&#39;t add comments to clarify; code is unreadable in comments. <a href=\"https://stackoverflow.com/posts/76770985/edit\">Edit</a> your answer instead."}],"tags":[],"owner":{"account_id":22900420,"reputation":11,"user_id":17039223,"display_name":"Sachintha Dilshan"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690372255,"creation_date":1690372255,"answer_id":76770985,"question_id":76770605,"body_markdown":"    String nome = &quot;Leonardo&quot;;\r\n            int lunghezza = nome.length();\r\n            char[] vocali = {&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;};\r\n            System.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\r\n    \r\n            if (lunghezza &gt; 5) {\r\n                System.out.println(&quot;E&#39; una parola piu&#39; lunga di 5 lettere&quot;);\r\n            } else if (lunghezza &lt; 5) {\r\n                System.out.println(&quot;E&#39; una parola piu&#39; corta di 5 lettere&quot;);\r\n            }\r\n            //check whether a single character contains in nome\r\n            if (nome.contains(&quot;e&quot;)) {\r\n                System.out.println(&quot;Contiene vocali&quot;);\r\n            }","title":"Check if parameter contains vowels in string","body":"<pre><code>String nome = &quot;Leonardo&quot;;\n        int lunghezza = nome.length();\n        char[] vocali = {'a', 'e', 'i', 'o', 'u'};\n        System.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\n\n        if (lunghezza &gt; 5) {\n            System.out.println(&quot;E' una parola piu' lunga di 5 lettere&quot;);\n        } else if (lunghezza &lt; 5) {\n            System.out.println(&quot;E' una parola piu' corta di 5 lettere&quot;);\n        }\n        //check whether a single character contains in nome\n        if (nome.contains(&quot;e&quot;)) {\n            System.out.println(&quot;Contiene vocali&quot;);\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4257006,"reputation":694,"user_id":3482424,"accept_rate":80,"display_name":"Morten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690481602,"creation_date":1690481602,"answer_id":76782424,"question_id":76770605,"body_markdown":"You should avoid looping through the string one character at a time. It is error-prone and not an optimal way to do this.\r\n\r\nInstead, you can use &quot;regular expressions&quot;, which is a string matching framework with its own syntax. It is used in many different languages, including Java.\r\n\r\nTo get a quick introduction, you could check out this: https://www.w3schools.com/java/java_regex.asp\r\n\r\nIt is a very strong and widely used technology for string matching, and have many different features, depending on your needs.\r\n\r\nFor your particular example, the matching could be done like this:\r\n\r\n\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String nomo = &quot;Leonardo&quot;;\r\n\r\n            // Create a regex pattern which matches any of the listed vowels:\r\n            Pattern pattern = Pattern.compile(&quot;[aeiou]&quot;, Pattern.CASE_INSENSITIVE);\r\n\r\n            // Create a matcher which checks the pattern with the provided name:\r\n            Matcher matcher = pattern.matcher(nomo);\r\n\r\n            // Check if we have a match:\r\n            boolean matchFound = matcher.find();\r\n            if (matchFound) {\r\n                System.out.println(&#39;Contiene vocali&#39;);\r\n            }\r\n        }\r\n    }\r\n\r\nThere are many online testers where you can try out your regular expressions. For example, you could check out this: https://regex101.com/\r\n\r\nHappy coding. :-)","title":"Check if parameter contains vowels in string","body":"<p>You should avoid looping through the string one character at a time. It is error-prone and not an optimal way to do this.</p>\n<p>Instead, you can use &quot;regular expressions&quot;, which is a string matching framework with its own syntax. It is used in many different languages, including Java.</p>\n<p>To get a quick introduction, you could check out this: <a href=\"https://www.w3schools.com/java/java_regex.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/java_regex.asp</a></p>\n<p>It is a very strong and widely used technology for string matching, and have many different features, depending on your needs.</p>\n<p>For your particular example, the matching could be done like this:</p>\n<pre><code>import java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Main {\n    public static void main(String[] args) {\n        String nomo = &quot;Leonardo&quot;;\n\n        // Create a regex pattern which matches any of the listed vowels:\n        Pattern pattern = Pattern.compile(&quot;[aeiou]&quot;, Pattern.CASE_INSENSITIVE);\n\n        // Create a matcher which checks the pattern with the provided name:\n        Matcher matcher = pattern.matcher(nomo);\n\n        // Check if we have a match:\n        boolean matchFound = matcher.find();\n        if (matchFound) {\n            System.out.println('Contiene vocali');\n        }\n    }\n}\n</code></pre>\n<p>There are many online testers where you can try out your regular expressions. For example, you could check out this: <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n<p>Happy coding. :-)</p>\n"}],"owner":{"account_id":29094337,"reputation":1,"user_id":22287539,"display_name":"Emanuele Siragusa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690481602,"creation_date":1690369603,"question_id":76770605,"body_markdown":"I am kind of new to Java. I am trying to check if a given parameter contains vowels and if so, return a words. This is what I have so far:\r\n\r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString nome = &quot;Leonardo&quot;;\r\n    \t\tint lunghezza = nome.length();\r\n    \t\tchar[] vocali = {&#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39;};\t\r\n    \t\tSystem.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\r\n    \t\t\t\r\n    \t\tif (lunghezza &gt; 5) {\r\n    \t\t\tSystem.out.println(&quot;E&#39; una parola piu&#39; lunga di 5 lettere&quot;);\r\n    \t\t} else if (lunghezza &lt; 5) {\r\n    \t\t\tSystem.out.println(&quot;E&#39; una parola piu&#39; corta di 5 lettere&quot;);\r\n    \t\t}\r\n    \t\t\r\n    \t\tif (nome.contains(&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;)) {\r\n    \t\t\tSystem.out.println(&quot;Contiene vocali&quot;);\r\n    \t\t}\r\n    \r\n    \t\t//System.out.println(nome.contains(vocali));\r\n    \t}\r\n    }","title":"Check if parameter contains vowels in string","body":"<p>I am kind of new to Java. I am trying to check if a given parameter contains vowels and if so, return a words. This is what I have so far:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String nome = &quot;Leonardo&quot;;\n        int lunghezza = nome.length();\n        char[] vocali = {'a', 'e', 'i', 'o', 'u'};  \n        System.out.println(&quot;Lunghezza parola: &quot; + lunghezza);\n            \n        if (lunghezza &gt; 5) {\n            System.out.println(&quot;E' una parola piu' lunga di 5 lettere&quot;);\n        } else if (lunghezza &lt; 5) {\n            System.out.println(&quot;E' una parola piu' corta di 5 lettere&quot;);\n        }\n        \n        if (nome.contains('a','e','i','o','u')) {\n            System.out.println(&quot;Contiene vocali&quot;);\n        }\n\n        //System.out.println(nome.contains(vocali));\n    }\n}\n</code></pre>\n"},{"tags":["java","appium"],"answers":[{"tags":[],"owner":{"account_id":19483967,"reputation":13,"user_id":14253692,"display_name":"Clausewitz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690481588,"creation_date":1690481588,"answer_id":76782422,"question_id":76781078,"body_markdown":"If anyone wondering how to solve this, I&#39;ve written the code without a while or for loop as shown below and it worked. \r\n\r\n\t\tList &lt;WebElement&gt; elementsList = driver.findElements(By.xpath(&quot;//*[@text=&#39;7/5/23&#39;]&quot;));\r\n\t\t\r\n\t\tThread.sleep(1000);\r\n\t\t  \r\n\t\tdriver.findElements(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\r\n        \r\n\t\telementsList = driver.findElements(By.xpath(&quot;//*[@text=&#39;7/5/23&#39;]&quot;));","title":"How to scroll in a list and get all elements in Appium Java","body":"<p>If anyone wondering how to solve this, I've written the code without a while or for loop as shown below and it worked.</p>\n<pre><code>    List &lt;WebElement&gt; elementsList = driver.findElements(By.xpath(&quot;//*[@text='7/5/23']&quot;));\n    \n    Thread.sleep(1000);\n      \n    driver.findElements(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\n    \n    elementsList = driver.findElements(By.xpath(&quot;//*[@text='7/5/23']&quot;));\n</code></pre>\n"}],"owner":{"account_id":19483967,"reputation":13,"user_id":14253692,"display_name":"Clausewitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690481588,"creation_date":1690470265,"question_id":76781078,"body_markdown":"On a mobile application i want to get all elements of a list on the screen. There are 3 data in this list and only shown 2 without scrolling. \r\n\r\nMy code is scrolling but not getting the last element&#39;s data into my list which is an issue for me. \r\n\r\nI&#39;m scrolling till the text i gave is found on the screen and i want to get all the data with the date being 7/5/2023. The issue is my last element also has the 7/5/23 date. But even if i pick a text below that date the code stops and loop breaks. Since it can not go back to the beginning of the loop it can not get the last data into the list.\r\n\r\nI&#39;ve shared my code below. What can i do to fix my issue?\r\n\r\n```\r\nString searchText = &quot;7/5/23&quot;;\r\n\t\t\r\nList &lt;WebElement&gt; elementsWithText = new ArrayList&lt;&gt;();\r\n\r\nwhile (true) {\r\n    // Find all visible elements in the list\r\n    List&lt;WebElement&gt; visibleElements = driver.findElements(By.xpath(&quot;//*[@text=&#39;&quot; + searchText + &quot;&#39;]&quot;));\r\n\r\n    // Add visible elements with the desired text to the list\r\n    elementsWithText.addAll(visibleElements);\r\n\r\n    // Scroll to the next set of elements\r\n    driver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\r\n    \r\n    // Wait for a short while to let new elements load\r\n    Thread.sleep(1000);\r\n    \r\n    // Check if there are no more new elements loaded\r\n    if (elementsWithText.size() == visibleElements.size())\r\n        break;\r\n}\r\n\r\n// Print all elements with the desired text\r\nfor (WebElement element : elementsWithText)\r\n    System.out.println(element.getText());\r\n```","title":"How to scroll in a list and get all elements in Appium Java","body":"<p>On a mobile application i want to get all elements of a list on the screen. There are 3 data in this list and only shown 2 without scrolling.</p>\n<p>My code is scrolling but not getting the last element's data into my list which is an issue for me.</p>\n<p>I'm scrolling till the text i gave is found on the screen and i want to get all the data with the date being 7/5/2023. The issue is my last element also has the 7/5/23 date. But even if i pick a text below that date the code stops and loop breaks. Since it can not go back to the beginning of the loop it can not get the last data into the list.</p>\n<p>I've shared my code below. What can i do to fix my issue?</p>\n<pre><code>String searchText = &quot;7/5/23&quot;;\n        \nList &lt;WebElement&gt; elementsWithText = new ArrayList&lt;&gt;();\n\nwhile (true) {\n    // Find all visible elements in the list\n    List&lt;WebElement&gt; visibleElements = driver.findElements(By.xpath(&quot;//*[@text='&quot; + searchText + &quot;']&quot;));\n\n    // Add visible elements with the desired text to the list\n    elementsWithText.addAll(visibleElements);\n\n    // Scroll to the next set of elements\n    driver.findElement(AppiumBy.androidUIAutomator(&quot;new UiScrollable(new UiSelector()).scrollIntoView(text(\\&quot;Jacksonville Florida, Florida\\&quot;));&quot;));\n    \n    // Wait for a short while to let new elements load\n    Thread.sleep(1000);\n    \n    // Check if there are no more new elements loaded\n    if (elementsWithText.size() == visibleElements.size())\n        break;\n}\n\n// Print all elements with the desired text\nfor (WebElement element : elementsWithText)\n    System.out.println(element.getText());\n</code></pre>\n"},{"tags":["java","spring","jackson","jsr310"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1645103227,"post_id":71155136,"comment_id":125785188,"body_markdown":"Does this answer your question? [Java 8 date time types serialized as object with Spring Boot](https://stackoverflow.com/questions/47120363/java-8-date-time-types-serialized-as-object-with-spring-boot)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/47120363/java-8-date-time-types-serialized-as-object-with-spring-boot\">Java 8 date time types serialized as object with Spring Boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":20586516,"reputation":31,"user_id":15111268,"display_name":"Guilherme Pisco"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690480794,"creation_date":1690476895,"answer_id":76781937,"question_id":71155136,"body_markdown":"Objects which are not manage by Spring and use &quot;new ObjectMapper()&quot; instead of autowiring it, will still face that issue.\r\nI was facing this issue while configuring a MappingJackson2MessageConverter to use with JMS, so in this case I had to set the ObjectMapper explicitly to the MappingJackson2MessageConverter object, as shown below.\r\n\r\n        @Bean\r\n        public MessageConverter messageConverter(){\r\n            MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n    \r\n            converter.setTargetType(MessageType.TEXT);\r\n            converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n            converter.setObjectMapper(objectMapper());\r\n            return converter;\r\n        }\r\n    \r\n        public ObjectMapper objectMapper() {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.registerModule(new JavaTimeModule());\r\n            return objectMapper;\r\n        }\r\n\r\n&gt; Additionally, we can also add the @Bean annotation on top of the\r\n&gt; objectMapper method, this way Spring managed objects will use this\r\n&gt; mapper instead.\r\n\r\nIn case there is already an ObjectMapper managed by Spring, we can just inject the ObjectMapper in the messageConvert, like below.\r\n\r\n    @Bean\r\n    public MessageConverter messageConverter(ObjectMapper objectMapper) \r\n    {\r\n       MappingJackson2MessageConverter converter = new \r\n       MappingJackson2MessageConverter();\r\n\r\n       converter.setTargetType(MessageType.TEXT);\r\n       converter.setTypeIdPropertyName(&quot;_type&quot;);\r\n       converter.setObjectMapper(objectMapper);\r\n       return converter;\r\n    }","title":"Spring Boot: Java 8 date/time type `java.time.OffsetDateTime` not supported by default","body":"<p>Objects which are not manage by Spring and use &quot;new ObjectMapper()&quot; instead of autowiring it, will still face that issue.\nI was facing this issue while configuring a MappingJackson2MessageConverter to use with JMS, so in this case I had to set the ObjectMapper explicitly to the MappingJackson2MessageConverter object, as shown below.</p>\n<pre><code>    @Bean\n    public MessageConverter messageConverter(){\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n\n        converter.setTargetType(MessageType.TEXT);\n        converter.setTypeIdPropertyName(&quot;_type&quot;);\n        converter.setObjectMapper(objectMapper());\n        return converter;\n    }\n\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        return objectMapper;\n    }\n</code></pre>\n<blockquote>\n<p>Additionally, we can also add the @Bean annotation on top of the\nobjectMapper method, this way Spring managed objects will use this\nmapper instead.</p>\n</blockquote>\n<p>In case there is already an ObjectMapper managed by Spring, we can just inject the ObjectMapper in the messageConvert, like below.</p>\n<pre><code>@Bean\npublic MessageConverter messageConverter(ObjectMapper objectMapper) \n{\n   MappingJackson2MessageConverter converter = new \n   MappingJackson2MessageConverter();\n\n   converter.setTargetType(MessageType.TEXT);\n   converter.setTypeIdPropertyName(&quot;_type&quot;);\n   converter.setObjectMapper(objectMapper);\n   return converter;\n}\n</code></pre>\n"}],"owner":{"account_id":17698252,"reputation":121,"user_id":12848472,"display_name":"Nderim Bytyqi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12652,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1690480794,"creation_date":1645088718,"question_id":71155136,"body_markdown":"I have added the JavaTimeModule but still not able to get OffsetDateTime working on getting some data from RethinkDB\r\n@Configuration\r\npublic class JacksonOffsetDateTimeMapper{\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\r\n        return builder.build()\r\n                .registerModule(new JavaTimeModule());\r\n    }\r\n\r\n}\r\n\r\nGradle dependencies for jackson:\r\nimplementation group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.13.1&#39;\r\n\r\nimplementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&#39;\r\n    \r\nimplementation group: &#39;com.fasterxml.jackson.module&#39;, name: &#39;jackson-module-parameter-names&#39;, version: &#39;2.13.1&#39;","title":"Spring Boot: Java 8 date/time type `java.time.OffsetDateTime` not supported by default","body":"<p>I have added the JavaTimeModule but still not able to get OffsetDateTime working on getting some data from RethinkDB\n@Configuration\npublic class JacksonOffsetDateTimeMapper{</p>\n<pre><code>@Bean\n@Primary\npublic ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n    return builder.build()\n            .registerModule(new JavaTimeModule());\n}\n</code></pre>\n<p>}</p>\n<p>Gradle dependencies for jackson:\nimplementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.13.1'</p>\n<p>implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'</p>\n<p>implementation group: 'com.fasterxml.jackson.module', name: 'jackson-module-parameter-names', version: '2.13.1'</p>\n"},{"tags":["java","buffer","inputstream","fileinputstream","bufferedinputstream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690465505,"post_id":76780345,"comment_id":135360145,"body_markdown":"Read the Javadoc for `InputStream.read(byte[])`. It reads from the stream until the buffer passed to `read` is full, or EOF is reached. The buffer in a `BufferedInputStream` is a completely different buffer, used to improve performance by reducing the number of reads performed on the file.","body":"Read the Javadoc for <code>InputStream.read(byte[])</code>. It reads from the stream until the buffer passed to <code>read</code> is full, or EOF is reached. The buffer in a <code>BufferedInputStream</code> is a completely different buffer, used to improve performance by reducing the number of reads performed on the file."},{"owner":{"account_id":11122988,"reputation":473,"user_id":8165349,"display_name":"Paul Pazderski"},"score":0,"creation_date":1690471275,"post_id":76780345,"comment_id":135361578,"body_markdown":"@tgdavies Let me add a small but important detail: it can read until the buffer is full and usually does but it is not guaranteed. Even before reaching EOF. The return value has to be respected to check how many bytes were actually read. That&#39;s also why libraries like Apache Commons IO provide helper functions like [IOUtils.readFully](https://commons.apache.org/proper/commons-io/apidocs/index.html?org/apache/commons/io/package-summary.html)","body":"@tgdavies Let me add a small but important detail: it can read until the buffer is full and usually does but it is not guaranteed. Even before reaching EOF. The return value has to be respected to check how many bytes were actually read. That&#39;s also why libraries like Apache Commons IO provide helper functions like <a href=\"https://commons.apache.org/proper/commons-io/apidocs/index.html?org/apache/commons/io/package-summary.html\" rel=\"nofollow noreferrer\">IOUtils.readFully</a>"},{"owner":{"display_name":"user9035826"},"score":1,"creation_date":1690471284,"post_id":76780345,"comment_id":135361582,"body_markdown":"@tgdavies is correct. How come the array &quot;does&quot; dictates how many times the buffer reads the file? This is because b.read(does) is equivalent to b.read(does, 0, does.length). This means if does.length=1000, it will try to read 1000 bytes if available.","body":"@tgdavies is correct. How come the array &quot;does&quot; dictates how many times the buffer reads the file? This is because b.read(does) is equivalent to b.read(does, 0, does.length). This means if does.length=1000, it will try to read 1000 bytes if available."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1690483012,"post_id":76780345,"comment_id":135363900,"body_markdown":"Here is a question and answer on _BufferedInputStream_ use cases, which may shed some light on why it&#39;s set-up that way.  _https://stackoverflow.com/questions/3122422/usage-of-bufferedinputstream_.","body":"Here is a question and answer on <i>BufferedInputStream</i> use cases, which may shed some light on why it&#39;s set-up that way.  <i><a href=\"https://stackoverflow.com/questions/3122422/usage-of-bufferedinputstream\" title=\"usage of bufferedinputstream\">stackoverflow.com/questions/3122422/&hellip;</a></i>."}],"answers":[{"comments":[{"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"score":0,"creation_date":1690486662,"post_id":76780895,"comment_id":135364528,"body_markdown":"&quot; you specified size of the buffer to 1 and thats the reason you get one byte at a time&quot; But it doesn&#39;t get it one byte at a time. IT reads the entire file that consists of 464 byte all at once.","body":"&quot; you specified size of the buffer to 1 and thats the reason you get one byte at a time&quot; But it doesn&#39;t get it one byte at a time. IT reads the entire file that consists of 464 byte all at once."}],"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690470302,"creation_date":1690469013,"answer_id":76780895,"question_id":76780345,"body_markdown":"&gt; Differences of `read()` method within [BufferedInputStream][1] and [InputStream][2].\r\n\r\nLet&#39;s begin by `InputStream.read` which reads a single byte of data from the input stream and returns it as an `int` value which will be blocked in 2 condition, the end of the stream is being detected or an exception is thrown.\r\nWhile `BufferedInputStream` adds buffering to the passed input stream. \r\n\r\nThe difference is `BufferedInputStream` reads data from the underlying input stream in chunks and stores it in an internal buffer so when you call `read()` method it returns the next byte from its buffer instead so the difference is amount of data call overhead in which the `BufferedInputStream` reduce it by grouping multiple requests for data into a fewer calls from the underlying input stream.\r\n\r\n&gt; Why BufferedInputStream reads the entire file even when specifying buffer size ?\r\n\r\n**It will not actually**, `BufferedInputStream` does not necessarily read the entire file into the buffer even when a buffer size is specified actually it reads data from the file into the buffer in chunks or blocks whose size is at **most** the size of the buffer,The number of times the file is read depends on the size of the file and the size of the buffer used by, in you shared snippet you specified size of the **buffer to 1** and thats the reason you get **one byte at a time**, which should different, in your case some thing like\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    BufferedInputStream b = new BufferedInputStream(input, 1024);\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html","title":"BufferedInputStream reads the entire file once even though I set the buffer size to 1?","body":"<blockquote>\n<p>Differences of <code>read()</code> method within <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedInputStream.html\" rel=\"nofollow noreferrer\">BufferedInputStream</a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html\" rel=\"nofollow noreferrer\">InputStream</a>.</p>\n</blockquote>\n<p>Let's begin by <code>InputStream.read</code> which reads a single byte of data from the input stream and returns it as an <code>int</code> value which will be blocked in 2 condition, the end of the stream is being detected or an exception is thrown.\nWhile <code>BufferedInputStream</code> adds buffering to the passed input stream.</p>\n<p>The difference is <code>BufferedInputStream</code> reads data from the underlying input stream in chunks and stores it in an internal buffer so when you call <code>read()</code> method it returns the next byte from its buffer instead so the difference is amount of data call overhead in which the <code>BufferedInputStream</code> reduce it by grouping multiple requests for data into a fewer calls from the underlying input stream.</p>\n<blockquote>\n<p>Why BufferedInputStream reads the entire file even when specifying buffer size ?</p>\n</blockquote>\n<p><strong>It will not actually</strong>, <code>BufferedInputStream</code> does not necessarily read the entire file into the buffer even when a buffer size is specified actually it reads data from the file into the buffer in chunks or blocks whose size is at <strong>most</strong> the size of the buffer,The number of times the file is read depends on the size of the file and the size of the buffer used by, in you shared snippet you specified size of the <strong>buffer to 1</strong> and thats the reason you get <strong>one byte at a time</strong>, which should different, in your case some thing like</p>\n\n<pre><code>BufferedInputStream b = new BufferedInputStream(input, 1024);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"score":0,"creation_date":1690486342,"post_id":76782172,"comment_id":135364467,"body_markdown":"So it compares the internal buff to &quot;does&quot; and because &quot;does&quot; is 1000 it reads all the file? What is the purpose of the the internal buff if the buff in read dictates everything? Also, in this case I see no advantage of having  BufferInputStream over FileInputStream because both can use the buffer in method read(byte[]ba).","body":"So it compares the internal buff to &quot;does&quot; and because &quot;does&quot; is 1000 it reads all the file? What is the purpose of the the internal buff if the buff in read dictates everything? Also, in this case I see no advantage of having  BufferInputStream over FileInputStream because both can use the buffer in method read(byte[]ba)."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1690488343,"post_id":76782172,"comment_id":135364858,"body_markdown":"Correct. There is no point having BufferedInputStream if you always read directly to a byte[] that is larger than the default buffer size, in which case you could access `input` directly.","body":"Correct. There is no point having BufferedInputStream if you always read directly to a byte[] that is larger than the default buffer size, in which case you could access <code>input</code> directly."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1690532948,"post_id":76782172,"comment_id":135370031,"body_markdown":"Note that reading a character at a time such as `int ch = b.read()`, or reading into arrays smaller than internal buffer will use the internal buffer to get the benefit of buffering.","body":"Note that reading a character at a time such as <code>int ch = b.read()</code>, or reading into arrays smaller than internal buffer will use the internal buffer to get the benefit of buffering."}],"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690480792,"creation_date":1690478975,"answer_id":76782172,"question_id":76780345,"body_markdown":"Note that `BufferedInputStream` does **not** always read into it&#39;s own internal buffer.\r\n\r\nIf you view the source code of the constructor you will see that when you allocate as `new BufferedInputStream(input, 1)` internally it creates a internal buffer `buf = new byte[1];` :\r\n\r\n    BufferedInputStream b = new BufferedInputStream(input, 1);\r\n    // Internally causes b.buf = new byte[1];\r\n\r\nNothing has been read from underlying `input` file at the point you run your next lines:\r\n\r\n    byte[] does = new byte[1000];\r\n    int i = b.read(does);\r\n\r\nIf you view the source of `read(byte[]ba)` you will find it calls `BufferedInputStream.read(byte[] ba, int off, int len)`. Normally that read would use the contents of internal `buf` if available and copies `buf` into `ba`. But in your first read, `buf` is empty and so it uses the buffer which is largest of `buf.length / len` instead.  So that means that `buf` is either filled and is copied to `ba` or, as in your case (1000 &gt;= 1), so it fills `does` and does not fill the internal `buf`. \r\n\r\nThus the first access to the underlying file could be up to 1000 bytes (if available from `input`) even though you have specified the internal buffer size as just 1 byte.\r\n\r\nBy the way you shouldn&#39;t convert UTF8 stream as above because you may be corrupting the input stream part way through a UTF-8 character encoding - obviously use `Reader` instead.","title":"BufferedInputStream reads the entire file once even though I set the buffer size to 1?","body":"<p>Note that <code>BufferedInputStream</code> does <strong>not</strong> always read into it's own internal buffer.</p>\n<p>If you view the source code of the constructor you will see that when you allocate as <code>new BufferedInputStream(input, 1)</code> internally it creates a internal buffer <code>buf = new byte[1];</code> :</p>\n<pre><code>BufferedInputStream b = new BufferedInputStream(input, 1);\n// Internally causes b.buf = new byte[1];\n</code></pre>\n<p>Nothing has been read from underlying <code>input</code> file at the point you run your next lines:</p>\n<pre><code>byte[] does = new byte[1000];\nint i = b.read(does);\n</code></pre>\n<p>If you view the source of <code>read(byte[]ba)</code> you will find it calls <code>BufferedInputStream.read(byte[] ba, int off, int len)</code>. Normally that read would use the contents of internal <code>buf</code> if available and copies <code>buf</code> into <code>ba</code>. But in your first read, <code>buf</code> is empty and so it uses the buffer which is largest of <code>buf.length / len</code> instead.  So that means that <code>buf</code> is either filled and is copied to <code>ba</code> or, as in your case (1000 &gt;= 1), so it fills <code>does</code> and does not fill the internal <code>buf</code>.</p>\n<p>Thus the first access to the underlying file could be up to 1000 bytes (if available from <code>input</code>) even though you have specified the internal buffer size as just 1 byte.</p>\n<p>By the way you shouldn't convert UTF8 stream as above because you may be corrupting the input stream part way through a UTF-8 character encoding - obviously use <code>Reader</code> instead.</p>\n"}],"owner":{"account_id":7405799,"reputation":625,"user_id":5634777,"accept_rate":38,"display_name":"kaka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690480792,"creation_date":1690465132,"question_id":76780345,"body_markdown":"I was running the code below to try and understand how BufferedInputStream works in Java. I set the buffer size to 1 and was expecting the buffer to read the file 465 times because that is how much character is in the file. However, it reads the file once. What I found to change the number of times the buffer reads the file, you change the array of bytes, does, size to 1. In this case it reads the file 465 times. I do not understand why buffer reads the file once even though I set the buffer size 1. How come the array &quot;does&quot; dictates how many times the buffer reads the file?\r\n\r\n     File f = new File(&quot;runs&quot;);\r\n\t\t\r\n\t\tif(!f.exists()) {\r\n\t\t\tf.createNewFile();\r\n\t\t}\r\n\t\t\r\n\r\n\t\t\r\n\t\tFileInputStream input = new FileInputStream(f);\r\n\t\t\r\n\r\n\t\tBufferedInputStream b = new BufferedInputStream(input, 1);\r\n\t\t\r\n\t\tbyte[] does = new byte[1000];\r\n\t\t\r\n\t\tint i = b.read(does);\r\n\t\t\r\n\t\tint x = 0;\r\n\t\tString tmp;\r\n\t\twhile(i != -1) {\r\n\t\t\ttmp = new String(does, StandardCharsets.UTF_8);\r\n\t\t\tif(!tmp.equalsIgnoreCase(&quot;\\n&quot;)) {\r\n\t\t\t\tSystem.out.print(tmp);\r\n\t\t\t}else {\r\n\t\t\t\tSystem.out.println(tmp);\r\n\t\t\t}\r\n\r\n\t\t\tx++;\r\n\t\t\ti = b.read(does);\r\n\t\t}\r\n\t\tSystem.out.println(x);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}","title":"BufferedInputStream reads the entire file once even though I set the buffer size to 1?","body":"<p>I was running the code below to try and understand how BufferedInputStream works in Java. I set the buffer size to 1 and was expecting the buffer to read the file 465 times because that is how much character is in the file. However, it reads the file once. What I found to change the number of times the buffer reads the file, you change the array of bytes, does, size to 1. In this case it reads the file 465 times. I do not understand why buffer reads the file once even though I set the buffer size 1. How come the array &quot;does&quot; dictates how many times the buffer reads the file?</p>\n<pre><code> File f = new File(&quot;runs&quot;);\n    \n    if(!f.exists()) {\n        f.createNewFile();\n    }\n    \n\n    \n    FileInputStream input = new FileInputStream(f);\n    \n\n    BufferedInputStream b = new BufferedInputStream(input, 1);\n    \n    byte[] does = new byte[1000];\n    \n    int i = b.read(does);\n    \n    int x = 0;\n    String tmp;\n    while(i != -1) {\n        tmp = new String(does, StandardCharsets.UTF_8);\n        if(!tmp.equalsIgnoreCase(&quot;\\n&quot;)) {\n            System.out.print(tmp);\n        }else {\n            System.out.println(tmp);\n        }\n\n        x++;\n        i = b.read(does);\n    }\n    System.out.println(x);\n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","spring","hibernate"],"answers":[{"comments":[{"owner":{"account_id":3385949,"reputation":4061,"user_id":2841903,"accept_rate":64,"display_name":"Bart Bergmans"},"score":0,"creation_date":1644577570,"post_id":71079033,"comment_id":125649122,"body_markdown":"Isn&#39;t this considered an anti-pattern?","body":"Isn&#39;t this considered an anti-pattern?"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644577762,"post_id":71079033,"comment_id":125649179,"body_markdown":"Yes it is, as the last link refers. But sometimes there is no other option. The alternative is you to fetch (load) the necessary relations. But frequently you do not know exactly what relation need to be fetched. For example, if you use an API with filters.","body":"Yes it is, as the last link refers. But sometimes there is no other option. The alternative is you to fetch (load) the necessary relations. But frequently you do not know exactly what relation need to be fetched. For example, if you use an API with filters."}],"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1644577357,"creation_date":1644577357,"answer_id":71079033,"question_id":71078831,"body_markdown":"You need to activate in your `application.yml`\r\n\r\n    spring:\r\n      jpa:\r\n        properties:\r\n          hibernate:\r\n            enable_lazy_load_no_trans: true\r\n\r\n\r\nThis will allow lazy loading to work outside the session that created the object that has properties that are lazy loaded.\r\n\r\nReference: https://www.baeldung.com/hibernate-lazy-loading-workaround, https://stackoverflow.com/questions/25362831/solve-hibernate-lazy-init-issue-with-hibernate-enable-lazy-load-no-trans and https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/","title":"LazyInitializationException in a Spring Transaction","body":"<p>You need to activate in your <code>application.yml</code></p>\n<pre><code>spring:\n  jpa:\n    properties:\n      hibernate:\n        enable_lazy_load_no_trans: true\n</code></pre>\n<p>This will allow lazy loading to work outside the session that created the object that has properties that are lazy loaded.</p>\n<p>Reference: <a href=\"https://www.baeldung.com/hibernate-lazy-loading-workaround\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-lazy-loading-workaround</a>, <a href=\"https://stackoverflow.com/questions/25362831/solve-hibernate-lazy-init-issue-with-hibernate-enable-lazy-load-no-trans\">Solve Hibernate Lazy-Init issue with hibernate.enable_lazy_load_no_trans</a> and <a href=\"https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-hibernate-enable_lazy_load_no_trans-anti-pattern/</a></p>\n"},{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690481141,"post_id":76782322,"comment_id":135363576,"body_markdown":"Which is exactly what the accepted answer already proposes.","body":"Which is exactly what the accepted answer already proposes."}],"tags":[],"owner":{"account_id":15581436,"reputation":121,"user_id":11241086,"display_name":"theseventhsense"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690480397,"creation_date":1690480397,"answer_id":76782322,"question_id":71078831,"body_markdown":"Hibernate has one workaround, an enable_lazy_load_no_trans property. Turning this on means that each fetch of a lazy entity will open a temporary session and run inside a separate transaction\r\n\r\nTry adding the below property \r\n\r\n    System.setProperty(&quot;hibernate.enable_lazy_load_no_trans&quot;, &quot;true&quot;);","title":"LazyInitializationException in a Spring Transaction","body":"<p>Hibernate has one workaround, an enable_lazy_load_no_trans property. Turning this on means that each fetch of a lazy entity will open a temporary session and run inside a separate transaction</p>\n<p>Try adding the below property</p>\n<pre><code>System.setProperty(&quot;hibernate.enable_lazy_load_no_trans&quot;, &quot;true&quot;);\n</code></pre>\n"}],"owner":{"account_id":3385949,"reputation":4061,"user_id":2841903,"accept_rate":64,"display_name":"Bart Bergmans"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71079033,"answer_count":2,"score":0,"last_activity_date":1690480397,"creation_date":1644576431,"question_id":71078831,"body_markdown":"In a Spring Boot project I am working at I added the [Hibernate ORM plugin][1] to enable lazy loading for `@Lob` fields in my entity, this didn&#39;t work out of the box for DB2. The lazy loading works, when I retrieve the object the lob field isn&#39;t loaded yet. But now a new problem occurs, when I do want to get the blob field I get a `LazyInitializationException`. Now I did some debugging and Google searches. I tried to add `@Transactional` to the method and to the classes, I also tried multiple propagation options, but nothing works.\r\n\r\nI also tried to load the object directly using the EntityManager, but that also gives the same exception:\r\n\r\n\tObject object = entityManager.find(Object.class, id);\r\n\tobject.getLobField();\r\n\r\nThe full exception that is thrown is:\r\n\r\n    org.hibernate.LazyInitializationException: Unable to perform requested lazy initialization [package.Object.lobField] - no session and settings disallow loading outside the Session\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/tree/main/tooling/hibernate-gradle-plugin","title":"LazyInitializationException in a Spring Transaction","body":"<p>In a Spring Boot project I am working at I added the <a href=\"https://github.com/hibernate/hibernate-orm/tree/main/tooling/hibernate-gradle-plugin\" rel=\"nofollow noreferrer\">Hibernate ORM plugin</a> to enable lazy loading for <code>@Lob</code> fields in my entity, this didn't work out of the box for DB2. The lazy loading works, when I retrieve the object the lob field isn't loaded yet. But now a new problem occurs, when I do want to get the blob field I get a <code>LazyInitializationException</code>. Now I did some debugging and Google searches. I tried to add <code>@Transactional</code> to the method and to the classes, I also tried multiple propagation options, but nothing works.</p>\n<p>I also tried to load the object directly using the EntityManager, but that also gives the same exception:</p>\n<pre><code>Object object = entityManager.find(Object.class, id);\nobject.getLobField();\n</code></pre>\n<p>The full exception that is thrown is:</p>\n<pre><code>org.hibernate.LazyInitializationException: Unable to perform requested lazy initialization [package.Object.lobField] - no session and settings disallow loading outside the Session\n</code></pre>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":1223835,"reputation":75878,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1505580504,"post_id":46256162,"comment_id":79475962,"body_markdown":"It sounds that what you&#39;re wanting is something like Zipkin.","body":"It sounds that what you&#39;re wanting is something like Zipkin."}],"answers":[{"tags":[],"owner":{"account_id":6759218,"reputation":31,"user_id":5206763,"display_name":"Arbiter T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505580430,"creation_date":1505580430,"answer_id":46256200,"question_id":46256162,"body_markdown":"If these services/servers have a static IP you can possibly, tag them by their IP address?\r\n\r\n","title":"Find out which endpoint sent a REST call","body":"<p>If these services/servers have a static IP you can possibly, tag them by their IP address?</p>\n"},{"comments":[{"owner":{"account_id":5943054,"reputation":21,"user_id":4673554,"display_name":"Andrej Halaj"},"score":0,"creation_date":1505631632,"post_id":46260666,"comment_id":79486306,"body_markdown":"That looks very promising and I&#39;ll look into that. Thank you for the suggestion!","body":"That looks very promising and I&#39;ll look into that. Thank you for the suggestion!"}],"tags":[],"owner":{"account_id":10899779,"reputation":7224,"user_id":8012379,"display_name":"Indra Basak"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505622631,"creation_date":1505622631,"answer_id":46260666,"question_id":46256162,"body_markdown":"You can use *[Spring Sleuth][1]* to trace the relationship between different REST calls.\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-sleuth/","title":"Find out which endpoint sent a REST call","body":"<p>You can use <em><a href=\"https://cloud.spring.io/spring-cloud-sleuth/\" rel=\"nofollow noreferrer\">Spring Sleuth</a></em> to trace the relationship between different REST calls.</p>\n"},{"tags":[],"owner":{"account_id":21768446,"reputation":3,"user_id":16071937,"display_name":"fanis798"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690397143,"creation_date":1690293492,"answer_id":76763486,"question_id":46256162,"body_markdown":"I think this will do the trick\r\n\r\n```\r\n@Slf4j\r\npublic class LogsInterceptor implements HandlerInterceptor {\r\n\r\n    private static final ThreadLocal&lt;StopWatch&gt; STOPWATCH = new ThreadLocal&lt;&gt;();\r\n    protected static final String REQUEST_ID = &quot;requestId&quot;;\r\n    protected static final String REQUEST_URI = &quot;requestUri&quot;;\r\n    protected static final String REQUEST_METHOD = &quot;requestMethod&quot;;\r\n    protected static final String RESPONSE_TIME_MS = &quot;responseTimeMs&quot;;\r\n    protected static final String RESPONSE_STATUS_CODE = &quot;responseStatusCode&quot;;\r\n\r\n    @Override\r\n    public boolean preHandle(HttpServletRequest httpRequest, HttpServletResponse response, Object handler) {\r\n        try {\r\n            StopWatch sw = new StopWatch();\r\n            STOPWATCH.set(sw);\r\n            STOPWATCH.get().start();\r\n\r\n            String requestId = UUID.randomUUID().toString();\r\n            MDC.put(REQUEST_ID, requestId);\r\n            MDC.put(REQUEST_METHOD, httpRequest.getMethod());\r\n            MDC.put(REQUEST_URI, httpRequest.getRequestURI());\r\n            return true;\r\n        } catch (Exception exception) {\r\n            STOPWATCH.remove();\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) {\r\n        try {\r\n            STOPWATCH.get().stop();\r\n            long timeInMillis = STOPWATCH.get().getTotalTimeMillis();\r\n            MDC.put(RESPONSE_TIME_MS, String.valueOf(timeInMillis));\r\n            MDC.put(RESPONSE_STATUS_CODE, String.valueOf(response.getStatus()));\r\n            log.info(&quot;Request: {} {} Time taken: {}ms Status: {}&quot;, request.getMethod(), request.getRequestURI(), timeInMillis, response.getStatus());\r\n        } finally {\r\n            MDC.clear();\r\n            STOPWATCH.remove();\r\n            log.debug(&quot;afterCompletion called&quot;);\r\n        }\r\n    }\r\n\r\n    protected void startStopWatch() {\r\n        STOPWATCH.set(new StopWatch());\r\n    }\r\n}\r\n```\r\n\r\nTo explain as simply as I can, spring itself provides this interface to help you intercept execution of each thread, for whatever reason you want. In this case you just proceed to log basic info provided inside HttpServletRequest, without polluting your controller code.","title":"Find out which endpoint sent a REST call","body":"<p>I think this will do the trick</p>\n<pre><code>@Slf4j\npublic class LogsInterceptor implements HandlerInterceptor {\n\n    private static final ThreadLocal&lt;StopWatch&gt; STOPWATCH = new ThreadLocal&lt;&gt;();\n    protected static final String REQUEST_ID = &quot;requestId&quot;;\n    protected static final String REQUEST_URI = &quot;requestUri&quot;;\n    protected static final String REQUEST_METHOD = &quot;requestMethod&quot;;\n    protected static final String RESPONSE_TIME_MS = &quot;responseTimeMs&quot;;\n    protected static final String RESPONSE_STATUS_CODE = &quot;responseStatusCode&quot;;\n\n    @Override\n    public boolean preHandle(HttpServletRequest httpRequest, HttpServletResponse response, Object handler) {\n        try {\n            StopWatch sw = new StopWatch();\n            STOPWATCH.set(sw);\n            STOPWATCH.get().start();\n\n            String requestId = UUID.randomUUID().toString();\n            MDC.put(REQUEST_ID, requestId);\n            MDC.put(REQUEST_METHOD, httpRequest.getMethod());\n            MDC.put(REQUEST_URI, httpRequest.getRequestURI());\n            return true;\n        } catch (Exception exception) {\n            STOPWATCH.remove();\n            return false;\n        }\n    }\n\n    @Override\n    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) {\n        try {\n            STOPWATCH.get().stop();\n            long timeInMillis = STOPWATCH.get().getTotalTimeMillis();\n            MDC.put(RESPONSE_TIME_MS, String.valueOf(timeInMillis));\n            MDC.put(RESPONSE_STATUS_CODE, String.valueOf(response.getStatus()));\n            log.info(&quot;Request: {} {} Time taken: {}ms Status: {}&quot;, request.getMethod(), request.getRequestURI(), timeInMillis, response.getStatus());\n        } finally {\n            MDC.clear();\n            STOPWATCH.remove();\n            log.debug(&quot;afterCompletion called&quot;);\n        }\n    }\n\n    protected void startStopWatch() {\n        STOPWATCH.set(new StopWatch());\n    }\n}\n</code></pre>\n<p>To explain as simply as I can, spring itself provides this interface to help you intercept execution of each thread, for whatever reason you want. In this case you just proceed to log basic info provided inside HttpServletRequest, without polluting your controller code.</p>\n"}],"owner":{"account_id":5943054,"reputation":21,"user_id":4673554,"display_name":"Andrej Halaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690480006,"creation_date":1505580152,"question_id":46256162,"body_markdown":"I&#39;m trying to create a visualisation of REST calls among several internal and external services/servers. I&#39;d like to know which endpoint called which other endpoint. I figured that the only way to do this is to do this on the caller side, because the receiver does not have any information about the caller endpoint.\r\n\r\nHere&#39;s my thinking:\r\n\r\n1. I create an object like RestTemplate and call the method.\r\n2. I create an Interceptor or something like that, which will extract the information from the RestTemplate.\r\n\r\nMy problem is that I&#39;m not sure how to find out which REST endpoint called the RestTemplate method. The RestTemplate (or other similar object) call could be called in nested methods, so for example the endpoint could invoke a private method, which then calls the external service itself.\r\n\r\nIs there any way how to get this information? Or am I maybe just thinking too hard and there is an easier way to do this?\r\n\r\nExample:\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        methodThatCallsOtherEndpoint(&quot;something.com/weather&quot;); // this method inside itself calls an endpoint\r\n        logRestCall(&quot;localhost:8000/hello&quot;, &quot;something.com/weather&quot;); // how do I do this automatically without having to type it myself?\r\n\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\nThanks for any help.","title":"Find out which endpoint sent a REST call","body":"<p>I'm trying to create a visualisation of REST calls among several internal and external services/servers. I'd like to know which endpoint called which other endpoint. I figured that the only way to do this is to do this on the caller side, because the receiver does not have any information about the caller endpoint.</p>\n\n<p>Here's my thinking:</p>\n\n<ol>\n<li>I create an object like RestTemplate and call the method.</li>\n<li>I create an Interceptor or something like that, which will extract the information from the RestTemplate.</li>\n</ol>\n\n<p>My problem is that I'm not sure how to find out which REST endpoint called the RestTemplate method. The RestTemplate (or other similar object) call could be called in nested methods, so for example the endpoint could invoke a private method, which then calls the external service itself.</p>\n\n<p>Is there any way how to get this information? Or am I maybe just thinking too hard and there is an easier way to do this?</p>\n\n<p>Example:</p>\n\n<pre><code>@GetMapping(\"/hello\")\npublic String hello() {\n    methodThatCallsOtherEndpoint(\"something.com/weather\"); // this method inside itself calls an endpoint\n    logRestCall(\"localhost:8000/hello\", \"something.com/weather\"); // how do I do this automatically without having to type it myself?\n\n    return \"hello\";\n}\n</code></pre>\n\n<p>Thanks for any help.</p>\n"},{"tags":["java","swing","keylistener","cardlayout"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690485024,"post_id":76760577,"comment_id":135364235,"body_markdown":"There are lots of examples showing how to move shapes on the screen using _Swing_, for example my answer to [Move a rectangle when a key is pressed](https://stackoverflow.com/questions/74169630/move-a-rectangle-when-a-key-is-pressed). It uses key bindings.","body":"There are lots of examples showing how to move shapes on the screen using <i>Swing</i>, for example my answer to <a href=\"https://stackoverflow.com/questions/74169630/move-a-rectangle-when-a-key-is-pressed\">Move a rectangle when a key is pressed</a>. It uses key bindings."}],"answers":[{"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1690286970,"post_id":76761762,"comment_id":135329419,"body_markdown":"And this unfortunately is a brittle kludgy solution. *Much* better would be to use Key Bindings, in place of KeyListeners, since then 1) you&#39;d be using a higher level construct, one that the Swing library prefers, and 2) you wouldn&#39;t have to use focus kludges like you do with KeyListeners.","body":"And this unfortunately is a brittle kludgy solution. <i>Much</i> better would be to use Key Bindings, in place of KeyListeners, since then 1) you&#39;d be using a higher level construct, one that the Swing library prefers, and 2) you wouldn&#39;t have to use focus kludges like you do with KeyListeners."},{"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"score":0,"creation_date":1690291992,"post_id":76761762,"comment_id":135330712,"body_markdown":"@HovercraftFullOfEels is key bindings harder to implement? or is it rather simple?","body":"@HovercraftFullOfEels is key bindings harder to implement? or is it rather simple?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690298067,"post_id":76761762,"comment_id":135332201,"body_markdown":"It&#39;s a little more convoluted than a KeyListener, but again, a much better and more robust solution. The [Key Bindings Tutorial](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) is actually quite good.","body":"It&#39;s a little more convoluted than a KeyListener, but again, a much better and more robust solution. The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings Tutorial</a> is actually quite good."}],"tags":[],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690479730,"creation_date":1690280729,"answer_id":76761762,"question_id":76760577,"body_markdown":"Issue is solved. It was rather simple.\r\n\r\n```\r\n        btn1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 3;\r\n                crd.show(cPanel, &quot;&quot; + (currCard));\r\n\t\t\t\tboard.setFocusable(true);\r\n\t\t\t\tboard.requestFocusInWindow();\r\n            }\r\n        });\r\n```","title":"Java cardlayout setting focus on a panel so key listener will work in another class","body":"<p>Issue is solved. It was rather simple.</p>\n<pre><code>        btn1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 3;\n                crd.show(cPanel, &quot;&quot; + (currCard));\n                board.setFocusable(true);\n                board.requestFocusInWindow();\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":27957120,"reputation":19,"user_id":21349725,"display_name":"Jon doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690479730,"creation_date":1690271939,"question_id":76760577,"body_markdown":"I have an issue using Keylistener so I can have things move around on the screen, for now I just make so it print out text so it shows that it works. \r\n\r\nThe issue is that nothing happens when I press the keys and I do believe it is properly implemented on the board class and the Player class. \r\n\r\nI have located the issue to the main class itself where the menu is being set up with card layout. I believe the issue is there is lack of focus on the jPanel3 where the game is gonna be set up.\r\n\r\nAfter changing some of the code to make it runnable but still having the issue. It looks basic but it works for this.\r\n\r\nHow do I make so the focus is on what happens on/inside jPanel3? In the panel3 method I have left something I have tried but did not fix the issue. \r\n\r\n\r\n\r\n```\r\nimport javax.swing.JFrame;\r\nimport java.awt.*; \r\nimport javax.swing.*; \r\nimport java.awt.event.*; \r\n\r\npublic class Test extends JFrame implements ActionListener {\r\n    CardLayout crd;\r\n    JButton btn1, btn2, btn3, btn4;\r\n    Container cPane;\r\n    JPanel cPanel = new JPanel();\r\n    JPanel jPanel1,jPanel2,jPanel3;\r\n    Board board = new Board();\r\n    private int currCard = 1;\r\n    GridBagConstraints c = new GridBagConstraints();\r\n\r\n    Test() {\r\n        jPanel1 = new JPanel();\r\n        jPanel2 = new JPanel();\r\n        jPanel3 = new JPanel();\r\n\r\n        btn1 = new JButton(&quot;Start&quot;);\r\n        btn2 = new JButton(&quot;Help&quot;);\r\n        btn3 = new JButton(&quot;Back&quot;);\r\n        btn4 = new JButton(&quot;Exit&quot;);\r\n\r\n        cPane = getContentPane();\r\n        crd = new CardLayout();\r\n        cPanel.setLayout(crd);\r\n\r\n        buttons();\r\n        panel1();\r\n        panel2();\r\n        panel3();\r\n\r\n        cPanel.add(jPanel1, &quot;1&quot;);\r\n        cPanel.add(jPanel2, &quot;2&quot;);\r\n        cPanel.add(jPanel3, &quot;3&quot;);\r\n\r\n        btn1.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 3;\r\n                crd.show(cPanel, &quot;&quot; + (currCard));\r\n            }\r\n        });\r\n\r\n        btn2.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 2;\r\n                crd.show(cPanel, &quot;&quot; + (currCard));\r\n            }\r\n        });\r\n\r\n        btn3.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                currCard = 1;\r\n                crd.show(cPanel, &quot;&quot;+ (currCard));\r\n            }\r\n        });\r\n\r\n        btn4.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent ae) {\r\n                System.exit(0);\r\n            }\r\n        });\r\n\r\n        getContentPane().add(cPanel);\r\n    }\r\n\r\n    void panel1() {\r\n        jPanel1.setBackground(Color.black);\r\n        jPanel1.setLayout(new GridBagLayout());\r\n        // Set the layout to GridBagLayout\r\n        c.fill = GridBagConstraints.CENTER;\r\n        c.insets = new Insets(15, 0, 0, 0); // Add vertical padding\r\n        jPanel1.add(btn1, c);\r\n        c.gridy = 1;\r\n        jPanel1.add(btn2, c);\r\n        c.gridy = 2;\r\n        jPanel1.add(btn4, c);\r\n    }\r\n\r\n    void panel2() {\r\n        JTextArea textField = new JTextArea(&quot;Text text&quot;);\r\n        textField.setEditable(false);\r\n        textField.setHighlighter(null);\r\n        Font font = new Font(&quot;Courier&quot;, Font.BOLD, 35);\r\n        textField.setFont(font);      \r\n        textField.setPreferredSize(new Dimension(500, 940));\r\n        textField.setForeground(Color.WHITE);\r\n        textField.setBackground(Color.black);\r\n\r\n        jPanel2.setBackground(Color.black);\r\n        jPanel2.setLayout(new GridBagLayout());\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        gbc.anchor = GridBagConstraints.NORTHWEST; // Align component to the upper left corner\r\n        gbc.insets = new Insets(15, 0, 0, 0); // Add vertical padding\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 0;\r\n        gbc.weightx = 1.0; // Expand horizontally\r\n        gbc.weighty = 0.5; // Expand vertically\r\n        jPanel2.add(textField, gbc);\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1; // Set the grid position for btn3\r\n        gbc.anchor = GridBagConstraints.NORTH; // Align component to the upper left corner\r\n        jPanel2.add(btn3, gbc);\r\n    }\r\n\r\n    void panel3() {\r\n\r\n\t\tjPanel3.setFocusable(true);\r\n\t\tjPanel3.setRequestFocusEnabled(true);\r\n\t\tjPanel3.setLayout(new BorderLayout(0, 0));\r\n        jPanel3.add(board);\r\n\t\tjPanel3.grabFocus();\t\r\n\t}\r\n\r\n    void buttons() {\r\n        // make the buttons look better and make it so they look good with the background, chane the size of them \r\n        btn1.setPreferredSize(new Dimension(75, 50));\r\n        btn1.setBackground(Color.black);\r\n        btn1.setForeground(Color.WHITE);\r\n\r\n        btn2.setPreferredSize(new Dimension(75, 50));\r\n        btn2.setBackground(Color.black);\r\n        btn2.setForeground(Color.WHITE);\r\n\r\n        btn3.setPreferredSize(new Dimension(75, 50));\r\n        btn3.setBackground(Color.black);\r\n        btn3.setForeground(Color.WHITE);\r\n\r\n        btn4.setPreferredSize(new Dimension(75, 50));\r\n        btn4.setBackground(Color.black);\r\n        btn4.setForeground(Color.WHITE);\r\n    }\r\n\r\n   public static void main(String argvs[]) {\r\n        System.out.println(&quot;aaa&quot; + System.getProperty(&quot;user.dir&quot;)); \r\n        Test frame = new Test();\r\n        frame.setTitle(&quot;Space invaders&quot;);\r\n        frame.setSize(900, 900);\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent arg0) {\r\n        throw new UnsupportedOperationException(&quot;Unimplemented method &#39;actionPerformed&#39;&quot;);\r\n    }\r\n\r\n}\r\n```\r\nCrudly put together Board class.\r\n\r\n```\r\nimport java.awt.BasicStroke;\r\nimport java.awt.Color;\r\nimport java.awt.Font;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.Stroke;\r\nimport java.awt.event.KeyListener;\r\n\r\nimport javax.swing.JPanel;\r\n\r\npublic class Board extends JPanel {\r\n    Player player = new Player(50, 50, 50, 50);\r\n\r\n\r\n    public Board(){\r\n        addKeyListener((KeyListener) player);\r\n\r\n        setFocusable(true);\r\n    }\r\n\r\n\tpublic void paint(Graphics g) {\r\n\t    g.setColor(Color.DARK_GRAY);\r\n\t    g.fillRect(0, 0, 900, 900);\r\n\t    g.setColor(Color.WHITE);\t\t    \r\n\t    g.drawRect (20, 20, 864, 624);  \r\n\t\tg.setColor(Color.BLACK);\r\n\t\tg.fillRect (21, 21, 863, 623);\r\n\t    g.setColor(Color.WHITE);\t\r\n\t    g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\r\n        player.draw(g);\r\n        //repaint();\r\n    }\r\n\r\n    public void board(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        Stroke stroke1 = new BasicStroke(4f);\r\n        g2d.setColor(Color.white);\r\n        g2d.setStroke(stroke1);\r\n        g2d.drawRect(20, 50, 850, 600);\r\n        g2d.setColor(Color.white);\r\n        float[] dashingPattern2 = {10f, 4f};\r\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\r\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\r\n        g2d.setStroke(stroke2);\r\n        g2d.drawLine(448, 50, 448, 650);\r\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Rectangle;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Player extends JPanel implements KeyListener  {\r\n\r\n    public int playerXpos;\r\n    public int playerYpos;\r\n    public int playerWidth;\r\n    public int playerHeight;\r\n    public int speed = 2;\r\n    boolean down = false;\r\n    boolean up = false;\r\n    Rectangle player;\r\n\r\n    public Player(int playerXpos, int playerYpos, int playerWidth, int playerHeight){\r\n        this.playerXpos = playerXpos;\r\n        this.playerYpos = playerYpos;\r\n        this.playerWidth = playerWidth;\r\n        this.playerWidth = playerHeight;\r\n        player = new Rectangle(playerXpos, playerYpos, playerWidth, playerHeight);\r\n    } \r\n\r\n\r\n    protected void draw(Graphics g) {\r\n    \tplayerXpos = 500;\r\n    \tplayerYpos = 60;\r\n    \tplayerWidth = 50;\r\n    \tplayerHeight = 30;\r\n\t\tg.setColor(Color.CYAN);\r\n\t\tg.fillRect(playerXpos, playerYpos, playerWidth, playerHeight);\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent keyCode) {\r\n        if (keyCode.getKeyCode() == KeyEvent.VK_UP) {\r\n            System.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\r\n        }\r\n        else if (keyCode.getKeyCode() == KeyEvent.VK_DOWN) {\r\n            System.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\r\n        }\r\n        else if (keyCode.getKeyCode() == KeyEvent.VK_LEFT) {\r\n            System.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\r\n        }\r\n        else if (keyCode.getKeyCode() == KeyEvent.VK_RIGHT) {\r\n           System.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\r\n        }    \r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n        throw new UnsupportedOperationException(&quot;Unimplemented method &#39;keyReleased&#39;&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent arg0) {\r\n        // TODO Auto-generated method stub\r\n        throw new UnsupportedOperationException(&quot;Unimplemented method &#39;keyTyped&#39;&quot;);\r\n    }\r\n    \r\n}\r\n```\r\n","title":"Java cardlayout setting focus on a panel so key listener will work in another class","body":"<p>I have an issue using Keylistener so I can have things move around on the screen, for now I just make so it print out text so it shows that it works.</p>\n<p>The issue is that nothing happens when I press the keys and I do believe it is properly implemented on the board class and the Player class.</p>\n<p>I have located the issue to the main class itself where the menu is being set up with card layout. I believe the issue is there is lack of focus on the jPanel3 where the game is gonna be set up.</p>\n<p>After changing some of the code to make it runnable but still having the issue. It looks basic but it works for this.</p>\n<p>How do I make so the focus is on what happens on/inside jPanel3? In the panel3 method I have left something I have tried but did not fix the issue.</p>\n<pre><code>import javax.swing.JFrame;\nimport java.awt.*; \nimport javax.swing.*; \nimport java.awt.event.*; \n\npublic class Test extends JFrame implements ActionListener {\n    CardLayout crd;\n    JButton btn1, btn2, btn3, btn4;\n    Container cPane;\n    JPanel cPanel = new JPanel();\n    JPanel jPanel1,jPanel2,jPanel3;\n    Board board = new Board();\n    private int currCard = 1;\n    GridBagConstraints c = new GridBagConstraints();\n\n    Test() {\n        jPanel1 = new JPanel();\n        jPanel2 = new JPanel();\n        jPanel3 = new JPanel();\n\n        btn1 = new JButton(&quot;Start&quot;);\n        btn2 = new JButton(&quot;Help&quot;);\n        btn3 = new JButton(&quot;Back&quot;);\n        btn4 = new JButton(&quot;Exit&quot;);\n\n        cPane = getContentPane();\n        crd = new CardLayout();\n        cPanel.setLayout(crd);\n\n        buttons();\n        panel1();\n        panel2();\n        panel3();\n\n        cPanel.add(jPanel1, &quot;1&quot;);\n        cPanel.add(jPanel2, &quot;2&quot;);\n        cPanel.add(jPanel3, &quot;3&quot;);\n\n        btn1.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 3;\n                crd.show(cPanel, &quot;&quot; + (currCard));\n            }\n        });\n\n        btn2.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 2;\n                crd.show(cPanel, &quot;&quot; + (currCard));\n            }\n        });\n\n        btn3.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                currCard = 1;\n                crd.show(cPanel, &quot;&quot;+ (currCard));\n            }\n        });\n\n        btn4.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent ae) {\n                System.exit(0);\n            }\n        });\n\n        getContentPane().add(cPanel);\n    }\n\n    void panel1() {\n        jPanel1.setBackground(Color.black);\n        jPanel1.setLayout(new GridBagLayout());\n        // Set the layout to GridBagLayout\n        c.fill = GridBagConstraints.CENTER;\n        c.insets = new Insets(15, 0, 0, 0); // Add vertical padding\n        jPanel1.add(btn1, c);\n        c.gridy = 1;\n        jPanel1.add(btn2, c);\n        c.gridy = 2;\n        jPanel1.add(btn4, c);\n    }\n\n    void panel2() {\n        JTextArea textField = new JTextArea(&quot;Text text&quot;);\n        textField.setEditable(false);\n        textField.setHighlighter(null);\n        Font font = new Font(&quot;Courier&quot;, Font.BOLD, 35);\n        textField.setFont(font);      \n        textField.setPreferredSize(new Dimension(500, 940));\n        textField.setForeground(Color.WHITE);\n        textField.setBackground(Color.black);\n\n        jPanel2.setBackground(Color.black);\n        jPanel2.setLayout(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.anchor = GridBagConstraints.NORTHWEST; // Align component to the upper left corner\n        gbc.insets = new Insets(15, 0, 0, 0); // Add vertical padding\n        gbc.gridx = 0;\n        gbc.gridy = 0;\n        gbc.weightx = 1.0; // Expand horizontally\n        gbc.weighty = 0.5; // Expand vertically\n        jPanel2.add(textField, gbc);\n        gbc.gridx = 0;\n        gbc.gridy = 1; // Set the grid position for btn3\n        gbc.anchor = GridBagConstraints.NORTH; // Align component to the upper left corner\n        jPanel2.add(btn3, gbc);\n    }\n\n    void panel3() {\n\n        jPanel3.setFocusable(true);\n        jPanel3.setRequestFocusEnabled(true);\n        jPanel3.setLayout(new BorderLayout(0, 0));\n        jPanel3.add(board);\n        jPanel3.grabFocus();    \n    }\n\n    void buttons() {\n        // make the buttons look better and make it so they look good with the background, chane the size of them \n        btn1.setPreferredSize(new Dimension(75, 50));\n        btn1.setBackground(Color.black);\n        btn1.setForeground(Color.WHITE);\n\n        btn2.setPreferredSize(new Dimension(75, 50));\n        btn2.setBackground(Color.black);\n        btn2.setForeground(Color.WHITE);\n\n        btn3.setPreferredSize(new Dimension(75, 50));\n        btn3.setBackground(Color.black);\n        btn3.setForeground(Color.WHITE);\n\n        btn4.setPreferredSize(new Dimension(75, 50));\n        btn4.setBackground(Color.black);\n        btn4.setForeground(Color.WHITE);\n    }\n\n   public static void main(String argvs[]) {\n        System.out.println(&quot;aaa&quot; + System.getProperty(&quot;user.dir&quot;)); \n        Test frame = new Test();\n        frame.setTitle(&quot;Space invaders&quot;);\n        frame.setSize(900, 900);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent arg0) {\n        throw new UnsupportedOperationException(&quot;Unimplemented method 'actionPerformed'&quot;);\n    }\n\n}\n</code></pre>\n<p>Crudly put together Board class.</p>\n<pre><code>import java.awt.BasicStroke;\nimport java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.Stroke;\nimport java.awt.event.KeyListener;\n\nimport javax.swing.JPanel;\n\npublic class Board extends JPanel {\n    Player player = new Player(50, 50, 50, 50);\n\n\n    public Board(){\n        addKeyListener((KeyListener) player);\n\n        setFocusable(true);\n    }\n\n    public void paint(Graphics g) {\n        g.setColor(Color.DARK_GRAY);\n        g.fillRect(0, 0, 900, 900);\n        g.setColor(Color.WHITE);            \n        g.drawRect (20, 20, 864, 624);  \n        g.setColor(Color.BLACK);\n        g.fillRect (21, 21, 863, 623);\n        g.setColor(Color.WHITE);    \n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,14));\n        player.draw(g);\n        //repaint();\n    }\n\n    public void board(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        Stroke stroke1 = new BasicStroke(4f);\n        g2d.setColor(Color.white);\n        g2d.setStroke(stroke1);\n        g2d.drawRect(20, 50, 850, 600);\n        g2d.setColor(Color.white);\n        float[] dashingPattern2 = {10f, 4f};\n        Stroke stroke2 = new BasicStroke(4f, BasicStroke.CAP_BUTT,\n        BasicStroke.JOIN_MITER, 1.0f, dashingPattern2, 0.0f);\n        g2d.setStroke(stroke2);\n        g2d.drawLine(448, 50, 448, 650);\n        g.setFont(new Font(&quot;arial&quot;,Font.PLAIN,30));\n    }\n\n\n}\n</code></pre>\n<pre><code>import java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Rectangle;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport javax.swing.JPanel;\n\npublic class Player extends JPanel implements KeyListener  {\n\n    public int playerXpos;\n    public int playerYpos;\n    public int playerWidth;\n    public int playerHeight;\n    public int speed = 2;\n    boolean down = false;\n    boolean up = false;\n    Rectangle player;\n\n    public Player(int playerXpos, int playerYpos, int playerWidth, int playerHeight){\n        this.playerXpos = playerXpos;\n        this.playerYpos = playerYpos;\n        this.playerWidth = playerWidth;\n        this.playerWidth = playerHeight;\n        player = new Rectangle(playerXpos, playerYpos, playerWidth, playerHeight);\n    } \n\n\n    protected void draw(Graphics g) {\n        playerXpos = 500;\n        playerYpos = 60;\n        playerWidth = 50;\n        playerHeight = 30;\n        g.setColor(Color.CYAN);\n        g.fillRect(playerXpos, playerYpos, playerWidth, playerHeight);\n    }\n\n    @Override\n    public void keyPressed(KeyEvent keyCode) {\n        if (keyCode.getKeyCode() == KeyEvent.VK_UP) {\n            System.out.println(&quot;Up Arrrow-Key is pressed!&quot;);\n        }\n        else if (keyCode.getKeyCode() == KeyEvent.VK_DOWN) {\n            System.out.println(&quot;Down Arrrow-Key is pressed!&quot;);\n        }\n        else if (keyCode.getKeyCode() == KeyEvent.VK_LEFT) {\n            System.out.println(&quot;Left Arrrow-Key is pressed!&quot;);\n        }\n        else if (keyCode.getKeyCode() == KeyEvent.VK_RIGHT) {\n           System.out.println(&quot;Right Arrrow-Key is pressed!&quot;);\n        }    \n    }\n\n    @Override\n    public void keyReleased(KeyEvent arg0) {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException(&quot;Unimplemented method 'keyReleased'&quot;);\n    }\n\n    @Override\n    public void keyTyped(KeyEvent arg0) {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException(&quot;Unimplemented method 'keyTyped'&quot;);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","drools","kie"],"answers":[{"comments":[{"owner":{"account_id":6381890,"reputation":131,"user_id":4951026,"accept_rate":71,"display_name":"Deepak Kumar"},"score":0,"creation_date":1552402122,"post_id":55124217,"comment_id":96990115,"body_markdown":"Esteban Aliverti@ It&#39;s seems working do we have any other approach then this.","body":"Esteban Aliverti@ It&#39;s seems working do we have any other approach then this."},{"owner":{"account_id":1197384,"reputation":6314,"user_id":1168802,"display_name":"Esteban Aliverti"},"score":0,"creation_date":1552402342,"post_id":55124217,"comment_id":96990293,"body_markdown":"Java code before you insert your facts and fire your rules.","body":"Java code before you insert your facts and fire your rules."}],"tags":[],"owner":{"account_id":1197384,"reputation":6314,"user_id":1168802,"display_name":"Esteban Aliverti"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1552401718,"creation_date":1552401718,"answer_id":55124217,"question_id":55123580,"body_markdown":"The way you update a global from inside a rule is by using the automagic variable `kcontext`:\r\n\r\n```\r\nglobal Integer count;\r\n\r\nrule &quot;Initialize&quot;\r\nsalience 100\r\nwhen\r\nthen\r\n       kcontext.getKieRuntime().setGlobal(&quot;count&quot;, 1);\r\nend    \r\n```\r\n\r\nSome notes:\r\n\r\n - You should use a high salience in your rule so it gets executed before any other rule that is also using the global.\r\n - This method will not work if you are using the global in the LHS of your rules. If that&#39;s the case I would suggest to use a Fact instead of a global.\r\n\r\nHope it helps,","title":"Drool Global Variable Initialization in drl file","body":"<p>The way you update a global from inside a rule is by using the automagic variable <code>kcontext</code>:</p>\n\n<pre><code>global Integer count;\n\nrule \"Initialize\"\nsalience 100\nwhen\nthen\n       kcontext.getKieRuntime().setGlobal(\"count\", 1);\nend    \n</code></pre>\n\n<p>Some notes:</p>\n\n<ul>\n<li>You should use a high salience in your rule so it gets executed before any other rule that is also using the global.</li>\n<li>This method will not work if you are using the global in the LHS of your rules. If that's the case I would suggest to use a Fact instead of a global.</li>\n</ul>\n\n<p>Hope it helps,</p>\n"},{"comments":[{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1690479635,"post_id":76761162,"comment_id":135363273,"body_markdown":"Thank you for contributing an answer and welcome to Stackoverflow. To improve your answer, please include some text about how your answer works.","body":"Thank you for contributing an answer and welcome to Stackoverflow. To improve your answer, please include some text about how your answer works."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1690479873,"post_id":76761162,"comment_id":135363318,"body_markdown":"This does not answer the question. They want to know how to default the global value in the DRL. Your code doesn&#39;t do that and is borderline entirely irrelevant.","body":"This does not answer the question. They want to know how to default the global value in the DRL. Your code doesn&#39;t do that and is borderline entirely irrelevant."}],"tags":[],"owner":{"account_id":29086374,"reputation":9,"user_id":22281209,"display_name":"mahshid"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690479698,"creation_date":1690276189,"answer_id":76761162,"question_id":55123580,"body_markdown":"Java Code\r\n---------------\r\n```\r\n   public void loanApplication(LoanApplication loanApplication) {\r\n\r\n        KieSession kieSession = kieContainer.newKieSession();\r\n        kieSession.insert(loanApplication);\r\n        kieSession.fireAllRules();\r\n// get your variable from .drl file\r\n\r\n        kieSession.getGlobal(&quot;myString&quot;);\r\n\r\n\r\n    }\r\n```\r\n`.drl` file\r\n---------------\r\n```\r\nimport com.example.demo.LoanApplication\r\nglobal java.lang.String myString;\r\nrule &quot;Approval rule&quot;\r\nwhen\r\n    $loanApplication : LoanApplication()\r\n    LoanApplication(creditScore &gt;= 600, income &gt;= 30000, debtToIncomeRatio &lt;= 50, employmentStatus != EmploymentStatus.UNEMPLOYED)\r\nthen\r\n    System.out.println(&quot;Loan application approved!&quot;);\r\n\r\n     kcontext.getKieRuntime().setGlobal(&quot;myString&quot;, &quot;Loan application approved!&quot;);\r\n    $loanApplication.setLoan(true);\r\n    update($loanApplication);\r\nend\r\n```","title":"Drool Global Variable Initialization in drl file","body":"<h2>Java Code</h2>\n<pre><code>   public void loanApplication(LoanApplication loanApplication) {\n\n        KieSession kieSession = kieContainer.newKieSession();\n        kieSession.insert(loanApplication);\n        kieSession.fireAllRules();\n// get your variable from .drl file\n\n        kieSession.getGlobal(&quot;myString&quot;);\n\n\n    }\n</code></pre>\n<h2><code>.drl</code> file</h2>\n<pre><code>import com.example.demo.LoanApplication\nglobal java.lang.String myString;\nrule &quot;Approval rule&quot;\nwhen\n    $loanApplication : LoanApplication()\n    LoanApplication(creditScore &gt;= 600, income &gt;= 30000, debtToIncomeRatio &lt;= 50, employmentStatus != EmploymentStatus.UNEMPLOYED)\nthen\n    System.out.println(&quot;Loan application approved!&quot;);\n\n     kcontext.getKieRuntime().setGlobal(&quot;myString&quot;, &quot;Loan application approved!&quot;);\n    $loanApplication.setLoan(true);\n    update($loanApplication);\nend\n</code></pre>\n"}],"owner":{"account_id":6381890,"reputation":131,"user_id":4951026,"accept_rate":71,"display_name":"Deepak Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55124217,"answer_count":2,"score":0,"last_activity_date":1690479698,"creation_date":1552399993,"question_id":55123580,"body_markdown":"```\r\n package com.example.drools; \r\n\r\n global Integer count; // I want to initialize this count variable with some \r\n                         default value. \r\n\r\n   rule &quot;Initialize&quot;\r\n   when\r\n   then\r\n       count= 1; // Locally it&#39;s possible but want it to set globally which can \r\n                     be use in any other rules just simply by calling it.\r\n       System.out.println(&quot;count=&quot;+count);\r\n   end\r\n\r\n  rule &quot;Drools Introduction&quot;\r\n  when\r\n  then\r\n     System.out.println(&quot;count=&quot;+count); // Here output is coming null which in \r\n                                            want some default value set for \r\n                                            global value.\r\n  end\r\n\r\n```\r\nSo Want to Initialize Count variable in drl file only ? ","title":"Drool Global Variable Initialization in drl file","body":"<pre><code> package com.example.drools; \n\n global Integer count; // I want to initialize this count variable with some \n                         default value. \n\n   rule \"Initialize\"\n   when\n   then\n       count= 1; // Locally it's possible but want it to set globally which can \n                     be use in any other rules just simply by calling it.\n       System.out.println(\"count=\"+count);\n   end\n\n  rule \"Drools Introduction\"\n  when\n  then\n     System.out.println(\"count=\"+count); // Here output is coming null which in \n                                            want some default value set for \n                                            global value.\n  end\n\n</code></pre>\n\n<p>So Want to Initialize Count variable in drl file only ? </p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"comments":[{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1484895476,"post_id":41427280,"comment_id":70707303,"body_markdown":"Do you think you can provide me an example for queue or buffer example you gave me? I think this will suit me best in my scenario.","body":"Do you think you can provide me an example for queue or buffer example you gave me? I think this will suit me best in my scenario."},{"owner":{"account_id":1630071,"reputation":1032,"user_id":1515111,"accept_rate":50,"display_name":"rd22"},"score":0,"creation_date":1644475938,"post_id":41427280,"comment_id":125618063,"body_markdown":"I know it is an old question but I came across it and the latest best practices are documented here https://github.com/DataStax-Examples/concurrent-requests-java","body":"I know it is an old question but I came across it and the latest best practices are documented here <a href=\"https://github.com/DataStax-Examples/concurrent-requests-java\" rel=\"nofollow noreferrer\">github.com/DataStax-Examples/concurrent-requests-java</a>"}],"tags":[],"owner":{"account_id":40443,"reputation":1902,"user_id":117220,"accept_rate":67,"display_name":"Petr Gladkikh"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1690479204,"creation_date":1483361810,"answer_id":41427280,"question_id":41049753,"body_markdown":"Not an authoritative answer but maybe it would be helpful. First you should consider what would you do when query cannot be executed right away. No matter which rate limiting you chose if you get requests at higher rate than you can write to Cassandra eventually you&#39;ll get your process clogged with waiting requests. And at that moment you would need to tell your clients to hold their requests for a while (&quot;push back&quot;). E.g. if they are coming via HTTP then response status would be 429 &quot;Too Many Requests&quot;. If you generate requests in same process then decide what longest timeout is acceptable. That said if Cassandra cannot keep up then it&#39;s time to scale (or tune) it.\r\n\r\nMaybe before implementing rate limits it&#39;s worth to experiment a little and add artificial delays to your threads before call to `save` method (e.g. using Thread.sleep(...)) and see whether it is indeed your problem or something else is needed. \r\n\r\nQuery returning error _is_ back-pressure from Cassandra. But you may choose or implement [RetryPolicy](http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/policies/RetryPolicy.html) to determine when to retry failed queries.\r\n\r\nAlso you may look at [connection pool options](https://github.com/datastax/java-driver/tree/3.x/manual/pooling) (and especially [Monitoring and tuning the pool](https://github.com/datastax/java-driver/tree/3.x/manual/pooling#monitoring-and-tuning-the-pool)). One can tune number of asynchronous [requests per connection](http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/PoolingOptions.html#setMaxRequestsPerConnection-com.datastax.driver.core.HostDistance-int-). However documentation says that for Cassandra 2.x this parameter caps to 128 and one should not change it (I&#39;d experiment with it though :) \r\n\r\nImplementation with Semaphore looks like \r\n\r\n    /* Share it among all threads or associate with a thread for per-thread limits\r\n       Number of permits is to be tuned depending on acceptable load.\r\n    */\r\n    final Semaphore queryPermits = new Semaphore(20); \r\n    \r\n    \r\n    public void save(String process, int clientid, long deviceid) {\r\n      ....\r\n      queryPermits.acquire(); // Blocks until a permit is available\r\n    \r\n      ResultSetFuture future = session.executeAsync(bs);\r\n      Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\r\n        @Override\r\n        public void onSuccess(ResultSet result) {\r\n          queryPermits.release();\r\n          logger.logInfo(&quot;successfully written&quot;);\r\n        }\r\n        @Override\r\n        public void onFailure(Throwable t) {\r\n          queryPermits.release(); // Permit should be released in all cases.\r\n          logger.logError(&quot;error= &quot;, t);\r\n        }\r\n      }, executorService);\r\n      ....\r\n    }\r\n\r\n(In real code I&#39;d create a decorator that would call wrapped method and then release the permits.)\r\n\r\nGuava&#39;s RateLimiter is similar to semaphore but allows temporary bursts after underutilization periods and limits requests based on timing (not total number of active queries). \r\n\r\nHowever requests will fail for various reasons anyway so probably it&#39;s better to have a plan how to retry them (in case of intermittent errors).\r\n\r\nIt might not be appropriate in your case but I&#39;d try to use some queue or buffer to enqueue requests (e.g. `java.util.concurrent.ArrayBlockingQueue`). &quot;Buffer full&quot; would mean that clients should wait or give up the request. Buffer would also be used to re-enqueue failed requests. However to be more fair failed requests probably should be put to front of queue so they are retried first. Also one should somehow handle situation when queue is full and there are new failed requests at the same time. A single-threaded worker then would pick requests form queue and send them to Cassandra. Since it should not do much it&#39;s unlikely that it becomes a bottle-neck. This worker can also apply it&#39;s own rate limits, e.g. based on timing with `com.google.common.util.concurrent.RateLimiter`.\r\n\r\nIf one would want to avoid losing messages as much as possible they can put a message broker with persistence (e.g. Kafka) in front of Cassandra. This way incoming messages can survive even long outages of Cassandra. But, I guess, it&#39;s overkill in your case. \r\n","title":"How to throttle writes request to cassandra when working with &quot;executeAsync&quot;?","body":"<p>Not an authoritative answer but maybe it would be helpful. First you should consider what would you do when query cannot be executed right away. No matter which rate limiting you chose if you get requests at higher rate than you can write to Cassandra eventually you'll get your process clogged with waiting requests. And at that moment you would need to tell your clients to hold their requests for a while (&quot;push back&quot;). E.g. if they are coming via HTTP then response status would be 429 &quot;Too Many Requests&quot;. If you generate requests in same process then decide what longest timeout is acceptable. That said if Cassandra cannot keep up then it's time to scale (or tune) it.</p>\n<p>Maybe before implementing rate limits it's worth to experiment a little and add artificial delays to your threads before call to <code>save</code> method (e.g. using Thread.sleep(...)) and see whether it is indeed your problem or something else is needed.</p>\n<p>Query returning error <em>is</em> back-pressure from Cassandra. But you may choose or implement <a href=\"http://docs.datastax.com/en/drivers/java/2.0/com/datastax/driver/core/policies/RetryPolicy.html\" rel=\"nofollow noreferrer\">RetryPolicy</a> to determine when to retry failed queries.</p>\n<p>Also you may look at <a href=\"https://github.com/datastax/java-driver/tree/3.x/manual/pooling\" rel=\"nofollow noreferrer\">connection pool options</a> (and especially <a href=\"https://github.com/datastax/java-driver/tree/3.x/manual/pooling#monitoring-and-tuning-the-pool\" rel=\"nofollow noreferrer\">Monitoring and tuning the pool</a>). One can tune number of asynchronous <a href=\"http://docs.datastax.com/en/drivers/java/3.0/com/datastax/driver/core/PoolingOptions.html#setMaxRequestsPerConnection-com.datastax.driver.core.HostDistance-int-\" rel=\"nofollow noreferrer\">requests per connection</a>. However documentation says that for Cassandra 2.x this parameter caps to 128 and one should not change it (I'd experiment with it though :)</p>\n<p>Implementation with Semaphore looks like</p>\n<pre><code>/* Share it among all threads or associate with a thread for per-thread limits\n   Number of permits is to be tuned depending on acceptable load.\n*/\nfinal Semaphore queryPermits = new Semaphore(20); \n\n\npublic void save(String process, int clientid, long deviceid) {\n  ....\n  queryPermits.acquire(); // Blocks until a permit is available\n\n  ResultSetFuture future = session.executeAsync(bs);\n  Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\n    @Override\n    public void onSuccess(ResultSet result) {\n      queryPermits.release();\n      logger.logInfo(&quot;successfully written&quot;);\n    }\n    @Override\n    public void onFailure(Throwable t) {\n      queryPermits.release(); // Permit should be released in all cases.\n      logger.logError(&quot;error= &quot;, t);\n    }\n  }, executorService);\n  ....\n}\n</code></pre>\n<p>(In real code I'd create a decorator that would call wrapped method and then release the permits.)</p>\n<p>Guava's RateLimiter is similar to semaphore but allows temporary bursts after underutilization periods and limits requests based on timing (not total number of active queries).</p>\n<p>However requests will fail for various reasons anyway so probably it's better to have a plan how to retry them (in case of intermittent errors).</p>\n<p>It might not be appropriate in your case but I'd try to use some queue or buffer to enqueue requests (e.g. <code>java.util.concurrent.ArrayBlockingQueue</code>). &quot;Buffer full&quot; would mean that clients should wait or give up the request. Buffer would also be used to re-enqueue failed requests. However to be more fair failed requests probably should be put to front of queue so they are retried first. Also one should somehow handle situation when queue is full and there are new failed requests at the same time. A single-threaded worker then would pick requests form queue and send them to Cassandra. Since it should not do much it's unlikely that it becomes a bottle-neck. This worker can also apply it's own rate limits, e.g. based on timing with <code>com.google.common.util.concurrent.RateLimiter</code>.</p>\n<p>If one would want to avoid losing messages as much as possible they can put a message broker with persistence (e.g. Kafka) in front of Cassandra. This way incoming messages can survive even long outages of Cassandra. But, I guess, it's overkill in your case.</p>\n"},{"tags":[],"owner":{"account_id":3582639,"reputation":1972,"user_id":2990458,"accept_rate":38,"display_name":"Abhishek Anand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1483901969,"creation_date":1483901540,"answer_id":41536507,"question_id":41049753,"body_markdown":"Simply using a blocking queue should do it fine.\r\nFutures are threaded, and there callback (success and failure) will act as consumer, and wherever you call save method from will act as producer.\r\n\r\nEven better way will be, you put complete request itself in queue, and dequeue it one by one firing save on each dequeue.\r\n\r\n    private final ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n    \r\n    public void save(String process, int clientid, long deviceid, BlockingQueue&lt;Object&gt; queue) {\r\n        String sql = &quot;insert into storage (process, clientid, deviceid) values (?, ?, ?)&quot;;\r\n        try {\r\n          BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\r\n          bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\r\n          bs.setString(0, process);\r\n          bs.setInt(1, clientid);\r\n          bs.setLong(2, deviceid);\r\n    \r\n          ResultSetFuture future = session.executeAsync(bs);\r\n          Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\r\n            @Override\r\n            public void onSuccess(ResultSet result) {\r\n              logger.logInfo(&quot;successfully written&quot;);\r\n    \t\t  queue.take();\r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n              logger.logError(&quot;error= &quot;, t);\r\n    \t\t  queue.take();\r\n            }\r\n          }, executorService);\r\n        } catch (Exception ex) {\r\n          logger.logError(&quot;error= &quot;, ex);\r\n        }\r\n    }\r\n    \r\n    public void invokeSaveInLoop(){\r\n    \tObject dummyObj = new Object();\r\n    \tBlockingQueue&lt;Object&gt; queue = new ArrayBlockingQueue&lt;&gt;(20);;\r\n    \tfor(int i=0; i&lt; 1000; i++){\r\n    \t\tsave(&quot;process&quot;, clientid, deviceid, queue);\r\n    \t\tqueue.put(dummyObj);\r\n    \t}\r\n    }\r\n\r\nIf you want to go further and check load on cluster mid way\r\n\r\n    public static String getCurrentState(){    \r\n    StringBuilder response = new StringBuilder();\r\n                response.append(&quot;Current Database Connection Status &lt;br&gt;\\n ---------------------------------------------&lt;br&gt;\\n&quot;);\r\n                final LoadBalancingPolicy loadBalancingPolicy =\r\n                        cluster.getConfiguration().getPolicies().getLoadBalancingPolicy();\r\n                final PoolingOptions poolingOptions =\r\n                        cluster.getConfiguration().getPoolingOptions();\r\n                Session.State state = session.getState();\r\n                for (Host host : state.getConnectedHosts()) {\r\n                    HostDistance distance = loadBalancingPolicy.distance(host);\r\n                    int connections = state.getOpenConnections(host);\r\n                    int inFlightQueries = state.getInFlightQueries(host);\r\n                    response.append(String.format(&quot;%s current connections=%d, max allowed connections=%d, current load=%d, max load=%d%n&quot;,\r\n                                    host, connections, poolingOptions.getMaxConnectionsPerHost(distance), inFlightQueries,\r\n                                    connections *\r\n                                            poolingOptions.getMaxRequestsPerConnection(distance)))\r\n                            .append(&quot;&lt;br&gt;\\n&quot;);\r\n                }\r\n                return response.toString();\r\n    }","title":"How to throttle writes request to cassandra when working with &quot;executeAsync&quot;?","body":"<p>Simply using a blocking queue should do it fine.\nFutures are threaded, and there callback (success and failure) will act as consumer, and wherever you call save method from will act as producer.</p>\n\n<p>Even better way will be, you put complete request itself in queue, and dequeue it one by one firing save on each dequeue.</p>\n\n<pre><code>private final ExecutorService executorService = Executors.newFixedThreadPool(10);\n\npublic void save(String process, int clientid, long deviceid, BlockingQueue&lt;Object&gt; queue) {\n    String sql = \"insert into storage (process, clientid, deviceid) values (?, ?, ?)\";\n    try {\n      BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\n      bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\n      bs.setString(0, process);\n      bs.setInt(1, clientid);\n      bs.setLong(2, deviceid);\n\n      ResultSetFuture future = session.executeAsync(bs);\n      Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\n        @Override\n        public void onSuccess(ResultSet result) {\n          logger.logInfo(\"successfully written\");\n          queue.take();\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n          logger.logError(\"error= \", t);\n          queue.take();\n        }\n      }, executorService);\n    } catch (Exception ex) {\n      logger.logError(\"error= \", ex);\n    }\n}\n\npublic void invokeSaveInLoop(){\n    Object dummyObj = new Object();\n    BlockingQueue&lt;Object&gt; queue = new ArrayBlockingQueue&lt;&gt;(20);;\n    for(int i=0; i&lt; 1000; i++){\n        save(\"process\", clientid, deviceid, queue);\n        queue.put(dummyObj);\n    }\n}\n</code></pre>\n\n<p>If you want to go further and check load on cluster mid way</p>\n\n<pre><code>public static String getCurrentState(){    \nStringBuilder response = new StringBuilder();\n            response.append(\"Current Database Connection Status &lt;br&gt;\\n ---------------------------------------------&lt;br&gt;\\n\");\n            final LoadBalancingPolicy loadBalancingPolicy =\n                    cluster.getConfiguration().getPolicies().getLoadBalancingPolicy();\n            final PoolingOptions poolingOptions =\n                    cluster.getConfiguration().getPoolingOptions();\n            Session.State state = session.getState();\n            for (Host host : state.getConnectedHosts()) {\n                HostDistance distance = loadBalancingPolicy.distance(host);\n                int connections = state.getOpenConnections(host);\n                int inFlightQueries = state.getInFlightQueries(host);\n                response.append(String.format(\"%s current connections=%d, max allowed connections=%d, current load=%d, max load=%d%n\",\n                                host, connections, poolingOptions.getMaxConnectionsPerHost(distance), inFlightQueries,\n                                connections *\n                                        poolingOptions.getMaxRequestsPerConnection(distance)))\n                        .append(\"&lt;br&gt;\\n\");\n            }\n            return response.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3734,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":41427280,"answer_count":2,"score":18,"last_activity_date":1690479204,"creation_date":1481235131,"question_id":41049753,"body_markdown":"I am using datastax java driver 3.1.0 to connect to cassandra cluster and my cassandra cluster version is 2.0.10. I am writing asynchronously with QUORUM consistency.\r\n\r\n\t  private final ExecutorService executorService = Executors.newFixedThreadPool(10);\r\n\r\n\t  public void save(String process, int clientid, long deviceid) {\r\n\t\tString sql = &quot;insert into storage (process, clientid, deviceid) values (?, ?, ?)&quot;;\r\n\t\ttry {\r\n\t\t  BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\r\n\t\t  bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\r\n\t\t  bs.setString(0, process);\r\n\t\t  bs.setInt(1, clientid);\r\n\t\t  bs.setLong(2, deviceid);\r\n\r\n\t\t  ResultSetFuture future = session.executeAsync(bs);\r\n\t\t  Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void onSuccess(ResultSet result) {\r\n\t\t\t  logger.logInfo(&quot;successfully written&quot;);\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onFailure(Throwable t) {\r\n\t\t\t  logger.logError(&quot;error= &quot;, t);\r\n\t\t\t}\r\n\t\t  }, executorService);\r\n\t\t} catch (Exception ex) {\r\n\t\t  logger.logError(&quot;error= &quot;, ex);\r\n\t\t}\r\n\t  }\r\n  \r\nMy above save method will be called from multiple threads at very fast speed.\r\n\r\n**Question:**\r\n\r\nI want to throttle the request to `executeAsync` method which writes asynchronously into Cassandra. If I write at very high speed than my Cassandra cluster can handle then it will start throwing errors and I want  all my writes should go successfully into cassandra without any loss.\r\n\r\nI saw this [post](https://stackoverflow.com/a/34951429/5447339) where solution is to use `Semaphore` with fixed number of permits. But I am not sure how and what is the best way to implement that. I have never used Semaphor before. This is the logic. Can anyone provide an example with Semaphore basis on my code or if there is any better way/option, then let me know as well.\r\n\r\n&gt; In the context of writing a dataloader program, you could do something\r\n&gt; like the following:\r\n&gt; \r\n&gt; - To keep things simple use a Semaphore or some other construct with a fixed number of permits (that will be your maximum number of inflight\r\n&gt; requests). Whenever you go to submit a query using executeAsync,\r\n&gt; acquire a permit. You should really only need 1 thread (but may want\r\n&gt; to introduce a pool of # cpu cores size that does this) that acquires\r\n&gt; the permits from the Semaphore and executes queries. It will just\r\n&gt; block on acquire until there is an available permit.\r\n&gt; - Use Futures.addCallback for the future returned from executeAsync. The callback should call  Sempahore.release() in both onSuccess and\r\n&gt; onFailure cases. By releasing a permit, this should allow your thread\r\n&gt; in step 1 to continue and submit the next request.\r\n\r\nAlso I have seen couple of other [post](https://stackoverflow.com/questions/1407113/throttling-method-calls-to-m-requests-in-n-seconds) where they have talked about using `RingBuffer` or `Guava RateLimitter` so which one is better and I should be using? Below are the options I can think of:\r\n\r\n- Using Semaphore\r\n- Using Ring Buffer\r\n- Using Guava Rate Limiter\r\n\r\nCan anyone help me with an example of how we can throttle the request or get backpressure for cassandra writes and making sure all writes goes successfully into cassandra?","title":"How to throttle writes request to cassandra when working with &quot;executeAsync&quot;?","body":"<p>I am using datastax java driver 3.1.0 to connect to cassandra cluster and my cassandra cluster version is 2.0.10. I am writing asynchronously with QUORUM consistency.</p>\n\n<pre><code>  private final ExecutorService executorService = Executors.newFixedThreadPool(10);\n\n  public void save(String process, int clientid, long deviceid) {\n    String sql = \"insert into storage (process, clientid, deviceid) values (?, ?, ?)\";\n    try {\n      BoundStatement bs = CacheStatement.getInstance().getStatement(sql);\n      bs.setConsistencyLevel(ConsistencyLevel.QUORUM);\n      bs.setString(0, process);\n      bs.setInt(1, clientid);\n      bs.setLong(2, deviceid);\n\n      ResultSetFuture future = session.executeAsync(bs);\n      Futures.addCallback(future, new FutureCallback&lt;ResultSet&gt;() {\n        @Override\n        public void onSuccess(ResultSet result) {\n          logger.logInfo(\"successfully written\");\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n          logger.logError(\"error= \", t);\n        }\n      }, executorService);\n    } catch (Exception ex) {\n      logger.logError(\"error= \", ex);\n    }\n  }\n</code></pre>\n\n<p>My above save method will be called from multiple threads at very fast speed.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>I want to throttle the request to <code>executeAsync</code> method which writes asynchronously into Cassandra. If I write at very high speed than my Cassandra cluster can handle then it will start throwing errors and I want  all my writes should go successfully into cassandra without any loss.</p>\n\n<p>I saw this <a href=\"https://stackoverflow.com/a/34951429/5447339\">post</a> where solution is to use <code>Semaphore</code> with fixed number of permits. But I am not sure how and what is the best way to implement that. I have never used Semaphor before. This is the logic. Can anyone provide an example with Semaphore basis on my code or if there is any better way/option, then let me know as well.</p>\n\n<blockquote>\n  <p>In the context of writing a dataloader program, you could do something\n  like the following:</p>\n  \n  <ul>\n  <li>To keep things simple use a Semaphore or some other construct with a fixed number of permits (that will be your maximum number of inflight\n  requests). Whenever you go to submit a query using executeAsync,\n  acquire a permit. You should really only need 1 thread (but may want\n  to introduce a pool of # cpu cores size that does this) that acquires\n  the permits from the Semaphore and executes queries. It will just\n  block on acquire until there is an available permit.</li>\n  <li>Use Futures.addCallback for the future returned from executeAsync. The callback should call  Sempahore.release() in both onSuccess and\n  onFailure cases. By releasing a permit, this should allow your thread\n  in step 1 to continue and submit the next request.</li>\n  </ul>\n</blockquote>\n\n<p>Also I have seen couple of other <a href=\"https://stackoverflow.com/questions/1407113/throttling-method-calls-to-m-requests-in-n-seconds\">post</a> where they have talked about using <code>RingBuffer</code> or <code>Guava RateLimitter</code> so which one is better and I should be using? Below are the options I can think of:</p>\n\n<ul>\n<li>Using Semaphore</li>\n<li>Using Ring Buffer</li>\n<li>Using Guava Rate Limiter</li>\n</ul>\n\n<p>Can anyone help me with an example of how we can throttle the request or get backpressure for cassandra writes and making sure all writes goes successfully into cassandra?</p>\n"},{"tags":["java","android","android-11","kiosk-mode","kiosk"],"owner":{"account_id":21250348,"reputation":122,"user_id":15632630,"display_name":"Michu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690478808,"creation_date":1690270654,"question_id":76760416,"body_markdown":"I&#39;m developing a launcher in android 11 which use lock task but this function hide all status bar notifications, if the launcher isn&#39;t in task mode, the notification launcher can be seen. \r\nHow can I show the launcher notifications?","title":"How to show notifications only from launcher in kiosk mode (lock task) android 11","body":"<p>I'm developing a launcher in android 11 which use lock task but this function hide all status bar notifications, if the launcher isn't in task mode, the notification launcher can be seen.\nHow can I show the launcher notifications?</p>\n"},{"tags":["java","if-statement","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":16927447,"reputation":66,"user_id":12242700,"display_name":"Abidstic"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690478040,"creation_date":1690478040,"answer_id":76782075,"question_id":76782032,"body_markdown":"        import java.util.Scanner;\r\n    \r\n    public class TwentyOneQuestionsGame {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Think of a word: Food, Animal, or Object.&quot;);\r\n    \r\n            String[] questions = {\r\n                    &quot;Size: Small, Medium, or Large?&quot;,\r\n                    &quot;Where does it live? Land, Sky, or Water?&quot;,\r\n                    &quot;If Land, does it live in Mountains, Plains, Forests, Deserts, or Cities?&quot;,\r\n                    &quot;If Sky, does it have Wings? Yes or No?&quot;,\r\n                    &quot;If Land, how many Legs does it have?&quot;,\r\n                    &quot;If Water, what type of Skin does it have?&quot;,\r\n                    &quot;Is it Dangerous? Yes or No?&quot;,\r\n                    &quot;Is it a Common Pet? Yes or No?&quot;\r\n            };\r\n    \r\n            String[] answers = new String[questions.length];\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            for (int i = 0; i &lt; questions.length; i++) {\r\n                System.out.println(questions[i]);\r\n                String input = scanner.nextLine();\r\n                answers[i] = input.toLowerCase();\r\n            }\r\n    \r\n            if (answers[1].equals(&quot;land&quot;)) {\r\n                if (answers[0].equals(&quot;small&quot;)) {\r\n                    if (answers[2].equals(&quot;cities&quot;)) {\r\n                        if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\r\n                            if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\r\n                                System.out.println(&quot;It&#39;s a Cat!&quot;);\r\n                                return;\r\n                            }\r\n                        }\r\n                    } else if (answers[2].equals(&quot;cities&quot;)) {\r\n                        if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\r\n                            if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\r\n                                System.out.println(&quot;It&#39;s a Dog!&quot;);\r\n                                return;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    \r\n            System.out.println(&quot;Sorry! That&#39;s not something we recognize yet. Better luck next time!&quot;);\r\n        }\r\n    }\r\n\r\nTry using this refactored code. It may not be fully correct but I think you can get a idea.","title":"Is there an easier way to input a lot of possible parameters into an else if statement?","body":"<pre><code>    import java.util.Scanner;\n\npublic class TwentyOneQuestionsGame {\n    public static void main(String[] args) {\n        System.out.println(&quot;Think of a word: Food, Animal, or Object.&quot;);\n\n        String[] questions = {\n                &quot;Size: Small, Medium, or Large?&quot;,\n                &quot;Where does it live? Land, Sky, or Water?&quot;,\n                &quot;If Land, does it live in Mountains, Plains, Forests, Deserts, or Cities?&quot;,\n                &quot;If Sky, does it have Wings? Yes or No?&quot;,\n                &quot;If Land, how many Legs does it have?&quot;,\n                &quot;If Water, what type of Skin does it have?&quot;,\n                &quot;Is it Dangerous? Yes or No?&quot;,\n                &quot;Is it a Common Pet? Yes or No?&quot;\n        };\n\n        String[] answers = new String[questions.length];\n        Scanner scanner = new Scanner(System.in);\n\n        for (int i = 0; i &lt; questions.length; i++) {\n            System.out.println(questions[i]);\n            String input = scanner.nextLine();\n            answers[i] = input.toLowerCase();\n        }\n\n        if (answers[1].equals(&quot;land&quot;)) {\n            if (answers[0].equals(&quot;small&quot;)) {\n                if (answers[2].equals(&quot;cities&quot;)) {\n                    if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\n                        if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\n                            System.out.println(&quot;It's a Cat!&quot;);\n                            return;\n                        }\n                    }\n                } else if (answers[2].equals(&quot;cities&quot;)) {\n                    if (answers[3].equals(&quot;no&quot;) &amp;&amp; answers[4].equals(&quot;4&quot;) &amp;&amp; answers[7].equals(&quot;yes&quot;)) {\n                        if (answers[5].equals(&quot;fur&quot;) || answers[5].equals(&quot;hair&quot;)) {\n                            System.out.println(&quot;It's a Dog!&quot;);\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n\n        System.out.println(&quot;Sorry! That's not something we recognize yet. Better luck next time!&quot;);\n    }\n}\n</code></pre>\n<p>Try using this refactored code. It may not be fully correct but I think you can get a idea.</p>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690478506,"creation_date":1690478506,"answer_id":76782127,"question_id":76782032,"body_markdown":"Yes there is an easier way!\r\nUsing a Map System should give you what you want.\r\n\r\nHere is my solution:\r\n\r\n**Animal Class:**\r\n\r\n```java\r\npublic class Animal {\r\n\r\n    // Map variable gets created here\r\n    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n\r\n    // Constructor\r\n    public Animal(String size, String domain, String wings, int legs, String home, String skinType, String commonPet, String domesticated) {\r\n        properties.put(&quot;Size&quot;, size);\r\n        properties.put(&quot;Domain&quot;, domain);\r\n        properties.put(&quot;Wings&quot;, wings);\r\n        properties.put(&quot;Legs&quot;, String.valueOf(legs));\r\n        properties.put(&quot;Home&quot;, home);\r\n        properties.put(&quot;SkinType&quot;, skinType);\r\n        properties.put(&quot;CommonPet&quot;, commonPet);\r\n        properties.put(&quot;Domesticated&quot;, domesticated);\r\n    }\r\n}\r\n```\r\n\r\n**Main Class:**\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        // Variables of the animals. Here you use the Animals classes constructor to fill the Animal Class Object attributes with values\r\n        Animal mouse = new Animal(&quot;Small&quot;, &quot;Land&quot;, &quot;No&quot;, 4, &quot;Plains,Cities&quot;, &quot;Fur,Hair&quot;, &quot;Yes&quot;, &quot;No&quot;);\r\n        Animal fish = new Animal(&quot;Small&quot;, &quot;Water&quot;, &quot;No&quot;, 0, null, &quot;Scales&quot;, &quot;Yes&quot;, null);\r\n        // Here you can add all the animals!\r\n\r\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;(Arrays.asList(mouse, fish /*, other animals... */));\r\n\r\n        // foreach loop iterating thorugh the animals List\r\n        for (Animal animal : animals) {\r\n            if (animal.properties.get(&quot;Size&quot;).equals(aA1) /* &amp;&amp; other conditions... */ ) {\r\n                // Output: Animal Name\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Is there an easier way to input a lot of possible parameters into an else if statement?","body":"<p>Yes there is an easier way!\nUsing a Map System should give you what you want.</p>\n<p>Here is my solution:</p>\n<p><strong>Animal Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Animal {\n\n    // Map variable gets created here\n    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n\n    // Constructor\n    public Animal(String size, String domain, String wings, int legs, String home, String skinType, String commonPet, String domesticated) {\n        properties.put(&quot;Size&quot;, size);\n        properties.put(&quot;Domain&quot;, domain);\n        properties.put(&quot;Wings&quot;, wings);\n        properties.put(&quot;Legs&quot;, String.valueOf(legs));\n        properties.put(&quot;Home&quot;, home);\n        properties.put(&quot;SkinType&quot;, skinType);\n        properties.put(&quot;CommonPet&quot;, commonPet);\n        properties.put(&quot;Domesticated&quot;, domesticated);\n    }\n}\n</code></pre>\n<p><strong>Main Class:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        // Variables of the animals. Here you use the Animals classes constructor to fill the Animal Class Object attributes with values\n        Animal mouse = new Animal(&quot;Small&quot;, &quot;Land&quot;, &quot;No&quot;, 4, &quot;Plains,Cities&quot;, &quot;Fur,Hair&quot;, &quot;Yes&quot;, &quot;No&quot;);\n        Animal fish = new Animal(&quot;Small&quot;, &quot;Water&quot;, &quot;No&quot;, 0, null, &quot;Scales&quot;, &quot;Yes&quot;, null);\n        // Here you can add all the animals!\n\n        List&lt;Animal&gt; animals = new ArrayList&lt;&gt;(Arrays.asList(mouse, fish /*, other animals... */));\n\n        // foreach loop iterating thorugh the animals List\n        for (Animal animal : animals) {\n            if (animal.properties.get(&quot;Size&quot;).equals(aA1) /* &amp;&amp; other conditions... */ ) {\n                // Output: Animal Name\n            }\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":29089886,"reputation":31,"user_id":22284018,"display_name":"JustNeedHelp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76782127,"answer_count":2,"score":1,"last_activity_date":1690478506,"creation_date":1690477670,"question_id":76782032,"body_markdown":"I&#39;m creating a game kind of like twenty one questions. The user is asked to think of a word: Food, Animal, or Object. The computer then asks a bunch of questions before eventually coming to the conclusion of what the word should be.\r\n\r\nCurrently, I&#39;ve got the code for the most part worked out like this:\r\n\r\n\r\n```\r\n //Guesses the animal based on given answers\r\n        if (a1.equals(&quot;Animal&quot;)) {\r\n            if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Plains&quot;) | aAld1.equals(&quot;Cities&quot;)) &amp;&amp; (aA5.equals(&quot;Fur&quot;) | aA5.equals(&quot;Hair&quot;)) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; (aAld2.equals(&quot;No&quot;))) {\r\n                System.out.println(&quot;Mouse!&quot;);\r\n                /*\r\n                Size: Small, Small\r\n                Domain: Land\r\n                Wings: No\r\n                Legs: 4\r\n                Home: Plains | Cities\r\n                Skin Type: Fur | Hair\r\n                Common Pet: Yes\r\n                Domesticated: No\r\n                 */\r\n            } else if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; aAw1.equals(&quot;Most&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Scales&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;)) {\r\n                System.out.println(&quot;Fish!&quot;);\r\n                /*\r\n                Size: Small, Small\r\n                Domain: Water\r\n                Body of Water: Most\r\n                Wings: No\r\n                Legs: 0\r\n                Skin Types: Scales\r\n                Common Pet: Yes\r\n                 */\r\n            } else if (aA1.equals(&quot;Large&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; (aAw1.equals(&quot;Oceans&quot;) | aAw1.equals(&quot;Seas&quot;)) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Skin&quot;) &amp;&amp; aAl1.equals(&quot;Dangerous&quot;) &amp;&amp; aA6.equals(&quot;No&quot;)) {\r\n                System.out.println(&quot;Shark!&quot;);\r\n                /*\r\n                Size: Large\r\n                Domain: Water\r\n                Body of Water: Oceans | Seas\r\n                Wings: No\r\n                Legs: 0\r\n                Skin Type: Skin\r\n                Danger Level: Dangerous\r\n                Common Pet: No\r\n                 */\r\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; (aA2.equals(&quot;Land&quot;)) &amp;&amp; (aA3.equals(&quot;No&quot;)) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Cities&quot;)) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Feline&quot;)) {\r\n                System.out.println(&quot;Cat!&quot;);\r\n                /*\r\n                Size: Small | Medium, Small | !Small\r\n                Domain: Land\r\n                Wings: No\r\n                Legs: 4\r\n                Home: Cities\r\n                Domesticated: Yes\r\n                Skin Type: Fur\r\n                Common Pet: Yes\r\n                 */\r\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; aAld1.equals(&quot;Cities&quot;) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Canine&quot;)) {\r\n                System.out.println(&quot;Dog!&quot;);\r\n                /*\r\n                Size: Small | Medium, Small | !Small\r\n                Domain: Land\r\n                Wings: No\r\n                Legs: 4\r\n                Home: Cities\r\n                Domesticated: Yes\r\n                Skin Type: Fur\r\n                Common Pet: Yes\r\n                 */\r\n            }else {\r\n                System.out.println(&quot;Sorry! That&#39;s not an animal we recognize yet. Better luck next time!&quot;);\r\n                System.exit(1);\r\n            }\r\n        }\r\n```\r\nIt works fine for the most part, but entering in all of the possible parameters is exhausting, and takes a ridiculous amount of time. Plus, there&#39;s still some bugs, which include some questions outputs being &quot;null&quot; due to the fact that they&#39;re only asked based on the answer given beforehand. For example, the question &quot;Does it live in the Mountains, Plains, Forests, Deserts, or Cities?&quot; is only asked if the user enters &quot;Land&quot; when asking if it lives on Land, in the Sky, or in the Water. The problem here is that people describe things differently. If the word was &quot;penguin&quot;, one person might say water, while another might say land. This messes up the algorithm when guessing if the word is penguin. (Does this make sense? I&#39;m not sure how else to explain it)\r\n\r\nBasically, I need to find a way to make the code considerably shorter while also solving the possibly null question output.\r\n","title":"Is there an easier way to input a lot of possible parameters into an else if statement?","body":"<p>I'm creating a game kind of like twenty one questions. The user is asked to think of a word: Food, Animal, or Object. The computer then asks a bunch of questions before eventually coming to the conclusion of what the word should be.</p>\n<p>Currently, I've got the code for the most part worked out like this:</p>\n<pre><code> //Guesses the animal based on given answers\n        if (a1.equals(&quot;Animal&quot;)) {\n            if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Plains&quot;) | aAld1.equals(&quot;Cities&quot;)) &amp;&amp; (aA5.equals(&quot;Fur&quot;) | aA5.equals(&quot;Hair&quot;)) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; (aAld2.equals(&quot;No&quot;))) {\n                System.out.println(&quot;Mouse!&quot;);\n                /*\n                Size: Small, Small\n                Domain: Land\n                Wings: No\n                Legs: 4\n                Home: Plains | Cities\n                Skin Type: Fur | Hair\n                Common Pet: Yes\n                Domesticated: No\n                 */\n            } else if (aA1.equals(&quot;Small&quot;) &amp;&amp; aAs1.equals(&quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; aAw1.equals(&quot;Most&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Scales&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;)) {\n                System.out.println(&quot;Fish!&quot;);\n                /*\n                Size: Small, Small\n                Domain: Water\n                Body of Water: Most\n                Wings: No\n                Legs: 0\n                Skin Types: Scales\n                Common Pet: Yes\n                 */\n            } else if (aA1.equals(&quot;Large&quot;) &amp;&amp; aA2.equals(&quot;Water&quot;) &amp;&amp; (aAw1.equals(&quot;Oceans&quot;) | aAw1.equals(&quot;Seas&quot;)) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 0  &amp;&amp; aA5.equals(&quot;Skin&quot;) &amp;&amp; aAl1.equals(&quot;Dangerous&quot;) &amp;&amp; aA6.equals(&quot;No&quot;)) {\n                System.out.println(&quot;Shark!&quot;);\n                /*\n                Size: Large\n                Domain: Water\n                Body of Water: Oceans | Seas\n                Wings: No\n                Legs: 0\n                Skin Type: Skin\n                Danger Level: Dangerous\n                Common Pet: No\n                 */\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; (aA2.equals(&quot;Land&quot;)) &amp;&amp; (aA3.equals(&quot;No&quot;)) &amp;&amp; aA4 == 4 &amp;&amp; (aAld1.equals(&quot;Cities&quot;)) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Feline&quot;)) {\n                System.out.println(&quot;Cat!&quot;);\n                /*\n                Size: Small | Medium, Small | !Small\n                Domain: Land\n                Wings: No\n                Legs: 4\n                Home: Cities\n                Domesticated: Yes\n                Skin Type: Fur\n                Common Pet: Yes\n                 */\n            } else if ((aA1.equals(&quot;Small&quot;) | aA1.equals(&quot;Medium&quot;)) &amp;&amp; (aAs1.equals(&quot;Small&quot;) | aAs1 != &quot;Small&quot;) &amp;&amp; aA2.equals(&quot;Land&quot;) &amp;&amp; aA3.equals(&quot;No&quot;) &amp;&amp; aA4 == 4 &amp;&amp; aAld1.equals(&quot;Cities&quot;) &amp;&amp; aAld2.equals(&quot;Yes&quot;) &amp;&amp; aA5.equals(&quot;Fur&quot;) &amp;&amp; aA6.equals(&quot;Yes&quot;) &amp;&amp; aAfc.equals(&quot;Canine&quot;)) {\n                System.out.println(&quot;Dog!&quot;);\n                /*\n                Size: Small | Medium, Small | !Small\n                Domain: Land\n                Wings: No\n                Legs: 4\n                Home: Cities\n                Domesticated: Yes\n                Skin Type: Fur\n                Common Pet: Yes\n                 */\n            }else {\n                System.out.println(&quot;Sorry! That's not an animal we recognize yet. Better luck next time!&quot;);\n                System.exit(1);\n            }\n        }\n</code></pre>\n<p>It works fine for the most part, but entering in all of the possible parameters is exhausting, and takes a ridiculous amount of time. Plus, there's still some bugs, which include some questions outputs being &quot;null&quot; due to the fact that they're only asked based on the answer given beforehand. For example, the question &quot;Does it live in the Mountains, Plains, Forests, Deserts, or Cities?&quot; is only asked if the user enters &quot;Land&quot; when asking if it lives on Land, in the Sky, or in the Water. The problem here is that people describe things differently. If the word was &quot;penguin&quot;, one person might say water, while another might say land. This messes up the algorithm when guessing if the word is penguin. (Does this make sense? I'm not sure how else to explain it)</p>\n<p>Basically, I need to find a way to make the code considerably shorter while also solving the possibly null question output.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690470460,"post_id":76781092,"comment_id":135361390,"body_markdown":"The regex itself is fine. I&#39;d expect it to be in a Spring annotation in a Controller endpoint, though.","body":"The regex itself is fine. I&#39;d expect it to be in a Spring annotation in a Controller endpoint, though."}],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690471844,"creation_date":1690471477,"answer_id":76781278,"question_id":76781092,"body_markdown":"&gt; How to compare the URL with pathVariable in Java (with Regex) ?\r\n\r\nOne practice is to use combination of `Matcher.find()` and `Matcher.group()`, when you perform a match on a string using a regular expression pattern and a `Matcher` object, the `group()` method returns the substring that was matched by the entire pattern, as an instance i&#39;m interested in `request` (note that not `/request`)\r\n\r\n\r\n    String url = &quot;https://ireallydontcare.com/request&quot;;\r\n    String pathVariable = &quot;request&quot;;\r\n    String regex = &quot;^https:\\\\/\\\\/ireallydontcare\\\\.com\\\\/(.*)$&quot;;\r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(url);\r\n    return matcher.find() &amp;&amp; matcher.group(1).equals(pathVariable)\r\n           \r\n\r\nAlso the `@RequestMapping` can include regular expressions to match specific URL patterns.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n\r\n    @GetMapping(&quot;/{key:\\\\d(4,5)}/request&quot;)\r\n    public String getUserById(@PathVariable(&quot;key&quot;) String key) {\r\n        ...\r\n    }\r\n\r\n\r\n","title":"How to compare the URL with pathVariable in Java","body":"<blockquote>\n<p>How to compare the URL with pathVariable in Java (with Regex) ?</p>\n</blockquote>\n<p>One practice is to use combination of <code>Matcher.find()</code> and <code>Matcher.group()</code>, when you perform a match on a string using a regular expression pattern and a <code>Matcher</code> object, the <code>group()</code> method returns the substring that was matched by the entire pattern, as an instance i'm interested in <code>request</code> (note that not <code>/request</code>)</p>\n<pre><code>String url = &quot;https://ireallydontcare.com/request&quot;;\nString pathVariable = &quot;request&quot;;\nString regex = &quot;^https:\\\\/\\\\/ireallydontcare\\\\.com\\\\/(.*)$&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(url);\nreturn matcher.find() &amp;&amp; matcher.group(1).equals(pathVariable)\n       \n</code></pre>\n<p>Also the <code>@RequestMapping</code> can include regular expressions to match specific URL patterns.</p>\n\n<pre><code>@GetMapping(&quot;/{key:\\\\d(4,5)}/request&quot;)\npublic String getUserById(@PathVariable(&quot;key&quot;) String key) {\n    ...\n}\n</code></pre>\n"}],"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76781278,"answer_count":1,"score":-1,"last_activity_date":1690478492,"creation_date":1690470344,"question_id":76781092,"body_markdown":"I am keeping `/{id}/request` in the property file, and I will get `/3210/request` as a string value from the request. Could you please help to achieve this?\r\n\r\nI have tried the below pattern match, and it&#39;s working fine, but I want to know if there is any other better way to achieve this.\r\n\r\n    boolean regex=&quot;/1234/request&quot;.matches(&quot;/\\\\d{4,5}/request&quot;);\r\n\r\n","title":"How to compare the URL with pathVariable in Java","body":"<p>I am keeping <code>/{id}/request</code> in the property file, and I will get <code>/3210/request</code> as a string value from the request. Could you please help to achieve this?</p>\n<p>I have tried the below pattern match, and it's working fine, but I want to know if there is any other better way to achieve this.</p>\n<pre><code>boolean regex=&quot;/1234/request&quot;.matches(&quot;/\\\\d{4,5}/request&quot;);\n</code></pre>\n"},{"tags":["java","android","material-components-android"],"answers":[{"comments":[{"owner":{"account_id":9533601,"reputation":538,"user_id":13564911,"display_name":"Regex"},"score":0,"creation_date":1646668419,"post_id":71375488,"comment_id":126174684,"body_markdown":"Thanks for your answer but this doesn&#39;t seem to be working, I tested it on an Android 12 device (Pixel) but `primary` shows a purple color instead of the system color.","body":"Thanks for your answer but this doesn&#39;t seem to be working, I tested it on an Android 12 device (Pixel) but <code>primary</code> shows a purple color instead of the system color."},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":1,"creation_date":1646676630,"post_id":71375488,"comment_id":126177978,"body_markdown":"@IlyasseSalama it looks like issue was with style argument, I&#39;ve edited the answer and tested in on API32 emulator.","body":"@IlyasseSalama it looks like issue was with style argument, I&#39;ve edited the answer and tested in on API32 emulator."},{"owner":{"account_id":9533601,"reputation":538,"user_id":13564911,"display_name":"Regex"},"score":0,"creation_date":1646677423,"post_id":71375488,"comment_id":126178240,"body_markdown":"Awesome, it works very well. Much appreciated.","body":"Awesome, it works very well. Much appreciated."},{"owner":{"account_id":15355229,"reputation":424,"user_id":11077662,"display_name":"Max"},"score":0,"creation_date":1701115506,"post_id":71375488,"comment_id":136732858,"body_markdown":"@Pawel I got compile error because `R.attr.colorPrimary` and `R.style.ThemeOverlay_Material3_DynamicColors_DayNight` doesn&#39;t exists. What is the full class name?","body":"@Pawel I got compile error because <code>R.attr.colorPrimary</code> and <code>R.style.ThemeOverlay_Material3_DynamicColors_DayNight</code> doesn&#39;t exists. What is the full class name?"},{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":0,"creation_date":1701117688,"post_id":71375488,"comment_id":136733193,"body_markdown":"@Max those are resource attributes so they should be flattened and available using your modules package name. As for overlay it originates from `com.google.android.material`, you can try that but if you don&#39;t see it you probably have to double check your dependencies.","body":"@Max those are resource attributes so they should be flattened and available using your modules package name. As for overlay it originates from <code>com.google.android.material</code>, you can try that but if you don&#39;t see it you probably have to double check your dependencies."}],"tags":[],"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1646676467,"creation_date":1646615438,"answer_id":71375488,"question_id":71374425,"body_markdown":"First - bear in mind support for dynamic theming was added in Android 12 (**API 31**) and not all manufacturers support it yet, much less a compatibility implementation for lower versions.\r\n\r\nHere is the documentation on how to [use dynamic colors][1] in general, including theme overlay and activity color overlay.\r\n\r\nIf you want to create themed views it&#39;s easier to use appropriate `DynamicColor` theme or at least wrapped context to inflate them and let them get stylized accordingly.\r\n\r\nTo just get specific colors you need to use last step - wrap a context with `DynamicColors` theme:\r\n\r\n```java\r\nif (DynamicColors.isDynamicColorAvailable()) {\r\n    // if your base context is already using Material3 theme you can omit R.style argument\r\n    Context dynamicColorContext = DynamicColors.wrapContextIfAvailable(context, R.style.ThemeOverlay_Material3_DynamicColors_DayNight);\r\n    // define attributes to resolve in an array\r\n    int[] attrsToResolve = {\r\n            R.attr.colorPrimary,    // 0\r\n            R.attr.colorOnPrimary,  // 1\r\n            R.attr.colorSecondary,  // 2\r\n            R.attr.colorAccent      // 3\r\n    };\r\n    // now resolve them\r\n    TypedArray ta = dynamicColorContext.obtainStyledAttributes(attrsToResolve);\r\n    int primary   = ta.getColor(0, 0);\r\n    int onPrimary = ta.getColor(1, 0);\r\n    int secondary = ta.getColor(2, 0);\r\n    int accent    = ta.getColor(3, 0);\r\n    ta.recycle();   // recycle TypedArray\r\n\r\n    // here you can consume dynamic colors\r\n}\r\n```\r\n\r\n  [1]: https://m3.material.io/libraries/mdc-android/color-theming#using-dynamic-colors","title":"How to get Material3 primary/accent colors programmatically?","body":"<p>First - bear in mind support for dynamic theming was added in Android 12 (<strong>API 31</strong>) and not all manufacturers support it yet, much less a compatibility implementation for lower versions.</p>\n<p>Here is the documentation on how to <a href=\"https://m3.material.io/libraries/mdc-android/color-theming#using-dynamic-colors\" rel=\"noreferrer\">use dynamic colors</a> in general, including theme overlay and activity color overlay.</p>\n<p>If you want to create themed views it's easier to use appropriate <code>DynamicColor</code> theme or at least wrapped context to inflate them and let them get stylized accordingly.</p>\n<p>To just get specific colors you need to use last step - wrap a context with <code>DynamicColors</code> theme:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (DynamicColors.isDynamicColorAvailable()) {\n    // if your base context is already using Material3 theme you can omit R.style argument\n    Context dynamicColorContext = DynamicColors.wrapContextIfAvailable(context, R.style.ThemeOverlay_Material3_DynamicColors_DayNight);\n    // define attributes to resolve in an array\n    int[] attrsToResolve = {\n            R.attr.colorPrimary,    // 0\n            R.attr.colorOnPrimary,  // 1\n            R.attr.colorSecondary,  // 2\n            R.attr.colorAccent      // 3\n    };\n    // now resolve them\n    TypedArray ta = dynamicColorContext.obtainStyledAttributes(attrsToResolve);\n    int primary   = ta.getColor(0, 0);\n    int onPrimary = ta.getColor(1, 0);\n    int secondary = ta.getColor(2, 0);\n    int accent    = ta.getColor(3, 0);\n    ta.recycle();   // recycle TypedArray\n\n    // here you can consume dynamic colors\n}\n</code></pre>\n"}],"owner":{"account_id":9533601,"reputation":538,"user_id":13564911,"display_name":"Regex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71375488,"answer_count":1,"score":2,"last_activity_date":1690478492,"creation_date":1646602677,"question_id":71374425,"body_markdown":"Google introduced Material 3 which allows the user to choose a color to apply for the whole system theme, but their documentation isn&#39;t clear and didn&#39;t mention how to get current colors programmatically to use for the app such as changing a view&#39;s background color or text color.\r\n\r\nE.g.: `view.setBackgroundColor(Material3.getPrimaryColor());`\r\n\r\nOf course `Material3.getPrimaryColor()` doesn&#39;t exist and it is just an example of what I need.\r\n\r\nAny help is appreciated, thanks.","title":"How to get Material3 primary/accent colors programmatically?","body":"<p>Google introduced Material 3 which allows the user to choose a color to apply for the whole system theme, but their documentation isn't clear and didn't mention how to get current colors programmatically to use for the app such as changing a view's background color or text color.</p>\n<p>E.g.: <code>view.setBackgroundColor(Material3.getPrimaryColor());</code></p>\n<p>Of course <code>Material3.getPrimaryColor()</code> doesn't exist and it is just an example of what I need.</p>\n<p>Any help is appreciated, thanks.</p>\n"},{"tags":["java","android","switch-statement"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1328084286,"post_id":9092712,"comment_id":11419048,"body_markdown":"Can you provide the definition of `R.id.playbtn` etc.?  Is everything static and final?","body":"Can you provide the definition of <code>R.id.playbtn</code> etc.?  Is everything static and final?"},{"owner":{"account_id":342751,"reputation":3380,"user_id":674066,"display_name":"Vicente Plata"},"score":2,"creation_date":1328084397,"post_id":9092712,"comment_id":11419080,"body_markdown":"Probably you deleted/modified your layout and those ids don&#39;t exist anymore or something like that...","body":"Probably you deleted/modified your layout and those ids don&#39;t exist anymore or something like that..."},{"owner":{"account_id":124364,"reputation":85329,"user_id":319403,"accept_rate":75,"display_name":"cHao"},"score":0,"creation_date":1328084407,"post_id":9092712,"comment_id":11419083,"body_markdown":"The class `R` is typically generated by the IDE/dev tools, so it&#39;s usually correct for the version of Android in use.","body":"The class <code>R</code> is typically generated by the IDE/dev tools, so it&#39;s usually correct for the version of Android in use."},{"owner":{"account_id":1069128,"reputation":1797,"user_id":1068827,"accept_rate":80,"display_name":"HeartlessArchangel"},"score":0,"creation_date":1328087779,"post_id":9092712,"comment_id":11419884,"body_markdown":"my R.id.* are all fine and exist in the gen class of android.. and its also in the main layout.","body":"my R.id.* are all fine and exist in the gen class of android.. and its also in the main layout."}],"answers":[{"comments":[{"owner":{"account_id":1069128,"reputation":1797,"user_id":1068827,"accept_rate":80,"display_name":"HeartlessArchangel"},"score":0,"creation_date":1328087801,"post_id":9092751,"comment_id":11419890,"body_markdown":"yes i have read that on tools.android.com, i also tried to create a new project and used the code above and it works just fine.. how is that?","body":"yes i have read that on tools.android.com, i also tried to create a new project and used the code above and it works just fine.. how is that?"},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":1,"creation_date":1328715695,"post_id":9092751,"comment_id":11573626,"body_markdown":"http://tools.android.com/recent/buildchangesinrevision14 see the &quot;Library Project Revamp&quot; section","body":"<a href=\"http://tools.android.com/recent/buildchangesinrevision14\" rel=\"nofollow noreferrer\">tools.android.com/recent/buildchangesinrevision14</a> see the &quot;Library Project Revamp&quot; section"},{"owner":{"account_id":938093,"reputation":2857,"user_id":966656,"accept_rate":82,"display_name":"Andrew S"},"score":7,"creation_date":1369167827,"post_id":9092751,"comment_id":24000563,"body_markdown":"Why did they make this change is makes no sense.","body":"Why did they make this change is makes no sense."}],"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1328084448,"creation_date":1328084448,"answer_id":9092751,"question_id":9092712,"body_markdown":"R.id.*, since ADT 14 are not more declared as final static int so you can not use in switch case construct. You could use if else clause instead.","title":"switch case statement error: case expressions must be constant expression","body":"<p>R.id.*, since ADT 14 are not more declared as final static int so you can not use in switch case construct. You could use if else clause instead.</p>\n"},{"comments":[{"owner":{"account_id":1069128,"reputation":1797,"user_id":1068827,"accept_rate":80,"display_name":"HeartlessArchangel"},"score":1,"creation_date":1328091183,"post_id":9093594,"comment_id":11420926,"body_markdown":"i change my switch-case statement to else-if statement.. It just got me wondering  i create a new android project and used a switch-case statement and work fine..","body":"i change my switch-case statement to else-if statement.. It just got me wondering  i create a new android project and used a switch-case statement and work fine.."},{"owner":{"account_id":1131432,"reputation":25505,"user_id":1117415,"display_name":"Benito Bertoli"},"score":1,"creation_date":1328099537,"post_id":9093594,"comment_id":11423458,"body_markdown":"It could be that your first project is using a library project and your new project isn&#39;t.","body":"It could be that your first project is using a library project and your new project isn&#39;t."},{"owner":{"account_id":1069128,"reputation":1797,"user_id":1068827,"accept_rate":80,"display_name":"HeartlessArchangel"},"score":0,"creation_date":1328100067,"post_id":9093594,"comment_id":11423649,"body_markdown":"i dont understand that sorry im really a beginner here.. can you explain","body":"i dont understand that sorry im really a beginner here.. can you explain"},{"owner":{"account_id":889467,"reputation":15465,"user_id":928054,"display_name":"Carl"},"score":0,"creation_date":1340626000,"post_id":9093594,"comment_id":14684185,"body_markdown":"Your answer was exactly what I needed.\n\nI just converted an app project to a library project and was getting a few of these errors, and had not noticed that the final keyword had been dropped from the constant declarations.\n\nAfter reading your answer, saw right away that the old declaration for my constant btnSave was:\n\n        public static final int btnSave=0x7f0a001f;\n\nwhile the one for the library was:\n\n        public static int btnSave=0x7f0a001f;","body":"Your answer was exactly what I needed.  I just converted an app project to a library project and was getting a few of these errors, and had not noticed that the final keyword had been dropped from the constant declarations.  After reading your answer, saw right away that the old declaration for my constant btnSave was:          public static final int btnSave=0x7f0a001f;  while the one for the library was:          public static int btnSave=0x7f0a001f;"},{"owner":{"account_id":1800202,"reputation":8954,"user_id":1638739,"accept_rate":63,"display_name":"Muhammed Refaat"},"score":0,"creation_date":1433238385,"post_id":9093594,"comment_id":49253827,"body_markdown":"So, why `switch` specifically doesn&#39;t allow that?","body":"So, why <code>switch</code> specifically doesn&#39;t allow that?"},{"owner":{"account_id":1131432,"reputation":25505,"user_id":1117415,"display_name":"Benito Bertoli"},"score":3,"creation_date":1433239801,"post_id":9093594,"comment_id":49254742,"body_markdown":"The compiler needs the expression to be known at compile time. Without the `final` keyword, a variable can be changed at runtime.","body":"The compiler needs the expression to be known at compile time. Without the <code>final</code> keyword, a variable can be changed at runtime."},{"owner":{"account_id":1506497,"reputation":200,"user_id":1409758,"display_name":"Arglanir"},"score":0,"creation_date":1526628463,"post_id":9093594,"comment_id":87827157,"body_markdown":"Note that `final` is not sufficient. If the value of the `final` variable is created through a method, it will sadly not work either.","body":"Note that <code>final</code> is not sufficient. If the value of the <code>final</code> variable is created through a method, it will sadly not work either."},{"owner":{"account_id":905926,"reputation":502,"user_id":940837,"display_name":"FrankKrumnow"},"score":0,"creation_date":1530183865,"post_id":9093594,"comment_id":89150857,"body_markdown":"Special thanks for the shortcuts to auto convert switch/case to if/else!","body":"Special thanks for the shortcuts to auto convert switch/case to if/else!"},{"owner":{"account_id":392004,"reputation":4854,"user_id":753000,"accept_rate":38,"display_name":"Till - Appviewer.io"},"score":0,"creation_date":1690477694,"post_id":9093594,"comment_id":135362882,"body_markdown":"Note that as of Android Gradle Plugin 8.0.0, ALL project R.class resources are non-final by default","body":"Note that as of Android Gradle Plugin 8.0.0, ALL project R.class resources are non-final by default"}],"tags":[],"owner":{"account_id":1131432,"reputation":25505,"user_id":1117415,"display_name":"Benito Bertoli"},"comment_count":9,"down_vote_count":0,"up_vote_count":305,"is_accepted":true,"score":305,"last_activity_date":1432190134,"creation_date":1328089194,"answer_id":9093594,"question_id":9092712,"body_markdown":"In a regular Android project, constants in the resource R class are declared like this:\r\n\r\n    public static final int main=0x7f030004;\r\n\r\nHowever, as of ADT 14, in a library project, they will be declared like this:\r\n\r\n    public static int main=0x7f030004;\r\n\r\nIn other words, the constants are not final in a library project.\r\nTherefore your code would no longer compile.\r\n\r\nThe solution for this is simple: Convert the switch statement into an if-else statement.\r\n\r\n    public void onClick(View src)\r\n    {\r\n        int id = src.getId();\r\n        if (id == R.id.playbtn){\r\n            checkwificonnection();\r\n        } else if (id == R.id.stopbtn){\r\n            Log.d(TAG, &quot;onClick: stopping srvice&quot;);\r\n            Playbutton.setImageResource(R.drawable.playbtn1);\r\n            Playbutton.setVisibility(0); //visible\r\n            Stopbutton.setVisibility(4); //invisible\r\n            stopService(new Intent(RakistaRadio.this,myservice.class));\r\n            clearstatusbar();\r\n            timer.cancel();\r\n            Title.setText(&quot; &quot;);\r\n            Artist.setText(&quot; &quot;);\r\n        } else if (id == R.id.btnmenu){\r\n            openOptionsMenu();\r\n        }\r\n    }\r\n\r\nhttp://tools.android.com/tips/non-constant-fields\r\n\r\n\r\nYou can quickly convert a `switch` statement to an `if-else` statement using the following:\r\n\r\n**In Eclipse**&lt;br /&gt;\r\nMove your cursor to the `switch` keyword and press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;1&lt;/kbd&gt; then select \r\n&gt; Convert &#39;switch&#39; to &#39;if-else&#39;.\r\n\r\n**In Android Studio**&lt;br /&gt;\r\nMove your cursor to the `switch` keyword and press &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Enter&lt;/kbd&gt; then select \r\n&gt; Replace &#39;switch&#39; with &#39;if&#39;.","title":"switch case statement error: case expressions must be constant expression","body":"<p>In a regular Android project, constants in the resource R class are declared like this:</p>\n\n<pre><code>public static final int main=0x7f030004;\n</code></pre>\n\n<p>However, as of ADT 14, in a library project, they will be declared like this:</p>\n\n<pre><code>public static int main=0x7f030004;\n</code></pre>\n\n<p>In other words, the constants are not final in a library project.\nTherefore your code would no longer compile.</p>\n\n<p>The solution for this is simple: Convert the switch statement into an if-else statement.</p>\n\n<pre><code>public void onClick(View src)\n{\n    int id = src.getId();\n    if (id == R.id.playbtn){\n        checkwificonnection();\n    } else if (id == R.id.stopbtn){\n        Log.d(TAG, \"onClick: stopping srvice\");\n        Playbutton.setImageResource(R.drawable.playbtn1);\n        Playbutton.setVisibility(0); //visible\n        Stopbutton.setVisibility(4); //invisible\n        stopService(new Intent(RakistaRadio.this,myservice.class));\n        clearstatusbar();\n        timer.cancel();\n        Title.setText(\" \");\n        Artist.setText(\" \");\n    } else if (id == R.id.btnmenu){\n        openOptionsMenu();\n    }\n}\n</code></pre>\n\n<p><a href=\"http://tools.android.com/tips/non-constant-fields\" rel=\"noreferrer\">http://tools.android.com/tips/non-constant-fields</a></p>\n\n<p>You can quickly convert a <code>switch</code> statement to an <code>if-else</code> statement using the following:</p>\n\n<p><strong>In Eclipse</strong><br />\nMove your cursor to the <code>switch</code> keyword and press <kbd>Ctrl</kbd> + <kbd>1</kbd> then select </p>\n\n<blockquote>\n  <p>Convert 'switch' to 'if-else'.</p>\n</blockquote>\n\n<p><strong>In Android Studio</strong><br />\nMove your cursor to the <code>switch</code> keyword and press <kbd>Alt</kbd> + <kbd>Enter</kbd> then select </p>\n\n<blockquote>\n  <p>Replace 'switch' with 'if'.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":930737,"reputation":2842,"user_id":960668,"accept_rate":58,"display_name":"Muhammad Riyaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371580586,"creation_date":1371580586,"answer_id":17176354,"question_id":9092712,"body_markdown":"I would like to mention that, I came across the same situation when I tried adding a library into my project. All of a sudden all switch statements started to show errors!\r\n\r\nNow I tried to remove the library which I added, even then it did not work.\r\nhow ever &quot;**when I cleaned the project**&quot; all the errors just went off !\r\n\r\n","title":"switch case statement error: case expressions must be constant expression","body":"<p>I would like to mention that, I came across the same situation when I tried adding a library into my project. All of a sudden all switch statements started to show errors!</p>\n\n<p>Now I tried to remove the library which I added, even then it did not work.\nhow ever \"<strong>when I cleaned the project</strong>\" all the errors just went off !</p>\n"},{"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1378826553,"post_id":18720500,"comment_id":27589314,"body_markdown":"`enum` is a better alternative to `int` in this case. The caller of the method won&#39;t be able to call the function with invalid type.","body":"<code>enum</code> is a better alternative to <code>int</code> in this case. The caller of the method won&#39;t be able to call the function with invalid type."},{"owner":{"account_id":3280979,"reputation":1115,"user_id":2761599,"accept_rate":83,"display_name":"aimiliano"},"score":0,"creation_date":1378897325,"post_id":18720500,"comment_id":27617360,"body_markdown":"i have specific int types so its ok if i use ints.\nHowever i would like to know an example with enum :D","body":"i have specific int types so its ok if i use ints. However i would like to know an example with enum :D"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1378935675,"post_id":18720500,"comment_id":27640480,"body_markdown":"`i have specific int types so its ok if i use ints` Doesn&#39;t really make sense. Regarding enum example: http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","body":"<code>i have specific int types so its ok if i use ints</code> Doesn&#39;t really make sense. Regarding enum example: <a href=\"http://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a>"},{"owner":{"account_id":3280979,"reputation":1115,"user_id":2761599,"accept_rate":83,"display_name":"aimiliano"},"score":0,"creation_date":1378973971,"post_id":18720500,"comment_id":27652385,"body_markdown":"i mean that the incoming int variable type in the function will always be one of these 3 types so it won&#39;t break anything thanks for the enum example :)","body":"i mean that the incoming int variable type in the function will always be one of these 3 types so it won&#39;t break anything thanks for the enum example :)"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1378977258,"post_id":18720500,"comment_id":27654197,"body_markdown":"`i mean that the incoming int variable type in the function will always be one of these 3 types so it won&#39;t break anything` This is **your** assumption. Someone else can call the function incorrectly with arbitrary number. With `enum`, you don&#39;t need to assume, it is enforced by the language.","body":"<code>i mean that the incoming int variable type in the function will always be one of these 3 types so it won&#39;t break anything</code> This is <b>your</b> assumption. Someone else can call the function incorrectly with arbitrary number. With <code>enum</code>, you don&#39;t need to assume, it is enforced by the language."},{"owner":{"account_id":3280979,"reputation":1115,"user_id":2761599,"accept_rate":83,"display_name":"aimiliano"},"score":0,"creation_date":1378979413,"post_id":18720500,"comment_id":27655528,"body_markdown":"hmm ok your argument is true if someone else doesn&#39;t know how to call the function or pass wrong int input but someone could put in the default branch return false if he changes the return of the function also to Boolean.\nanyway i suppose its a better way to call a function with enum variables preset by the user.","body":"hmm ok your argument is true if someone else doesn&#39;t know how to call the function or pass wrong int input but someone could put in the default branch return false if he changes the return of the function also to Boolean. anyway i suppose its a better way to call a function with enum variables preset by the user."}],"tags":[],"owner":{"account_id":3280979,"reputation":1115,"user_id":2761599,"accept_rate":83,"display_name":"aimiliano"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378826457,"creation_date":1378820255,"answer_id":18720500,"question_id":9092712,"body_markdown":"It was throwing me this error when I using switch in a function with variables declared in my class:\r\n\r\n    private void ShowCalendar(final Activity context, Point p, int type) \r\n    {\r\n        switch (type) {\r\n            case type_cat:\r\n                break;\r\n\r\n            case type_region:\r\n                break;\r\n                \r\n            case type_city:\r\n                break;\r\n\r\n            default:\r\n                //sth\r\n                break;\r\n        }\r\n    }\r\n\r\nThe problem was solved when I declared `final` to the variables in the start of the class:\r\n\r\n    final int type_cat=1, type_region=2, type_city=3;","title":"switch case statement error: case expressions must be constant expression","body":"<p>It was throwing me this error when I using switch in a function with variables declared in my class:</p>\n\n<pre><code>private void ShowCalendar(final Activity context, Point p, int type) \n{\n    switch (type) {\n        case type_cat:\n            break;\n\n        case type_region:\n            break;\n\n        case type_city:\n            break;\n\n        default:\n            //sth\n            break;\n    }\n}\n</code></pre>\n\n<p>The problem was solved when I declared <code>final</code> to the variables in the start of the class:</p>\n\n<pre><code>final int type_cat=1, type_region=2, type_city=3;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1763916,"reputation":1705,"user_id":1610260,"accept_rate":25,"display_name":"VikingGlen"},"score":2,"creation_date":1415078737,"post_id":19811891,"comment_id":42044849,"body_markdown":"Right click on your project name. Then click on properties -&gt; Android. On the lower right of the popup is a section labled &quot;Library&quot;. Under it, if the &quot;is Library&quot; option is checked, uncheck it if you don&#39;t want your project to be a library project. Then clean and rebuild. If you want it to be a library project, then you have to change your switch to an if else conditional as stated elsewhere.","body":"Right click on your project name. Then click on properties -&gt; Android. On the lower right of the popup is a section labled &quot;Library&quot;. Under it, if the &quot;is Library&quot; option is checked, uncheck it if you don&#39;t want your project to be a library project. Then clean and rebuild. If you want it to be a library project, then you have to change your switch to an if else conditional as stated elsewhere."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":5,"creation_date":1426790037,"post_id":19811891,"comment_id":46526151,"body_markdown":"There are reasons why a library project is marked with &quot;Is Library&quot;. This is not a proper solution to the problem - it will break your Android project structure by making what should be libraries to behave like regular apps.","body":"There are reasons why a library project is marked with &quot;Is Library&quot;. This is not a proper solution to the problem - it will break your Android project structure by making what should be libraries to behave like regular apps."}],"tags":[],"owner":{"account_id":3543935,"reputation":529,"user_id":2960366,"display_name":"rick"},"comment_count":2,"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1383740119,"creation_date":1383740119,"answer_id":19811891,"question_id":9092712,"body_markdown":"Unchecking &quot;Is Library&quot; in the project Properties worked for me. ","title":"switch case statement error: case expressions must be constant expression","body":"<p>Unchecking \"Is Library\" in the project Properties worked for me. </p>\n"},{"comments":[{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1426789952,"post_id":22324238,"comment_id":46526104,"body_markdown":"Enums are discouraged in Android due to their memory bloat; and that is the major reason why they are never used in AOSP - and the reason why you see ints everywhere.","body":"Enums are discouraged in Android due to their memory bloat; and that is the major reason why they are never used in AOSP - and the reason why you see ints everywhere."},{"owner":{"account_id":208093,"reputation":14117,"user_id":458365,"accept_rate":75,"display_name":"pablisco"},"score":1,"creation_date":1429176505,"post_id":22324238,"comment_id":47479081,"body_markdown":"http://stackoverflow.com/questions/5143256/why-was-avoid-enums-where-you-only-need-ints-removed-from-androids-performanc","body":"<a href=\"http://stackoverflow.com/questions/5143256/why-was-avoid-enums-where-you-only-need-ints-removed-from-androids-performanc\" title=\"why was avoid enums where you only need ints removed from androids performanc\">stackoverflow.com/questions/5143256/&hellip;</a>"}],"tags":[],"owner":{"account_id":208093,"reputation":14117,"user_id":458365,"accept_rate":75,"display_name":"pablisco"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1394536897,"creation_date":1394536897,"answer_id":22324238,"question_id":9092712,"body_markdown":"How about this other solution to keep the nice switch instead of an if-else:\r\n\r\n    private enum LayoutElement {\r\n\t\tNONE(-1),\r\n\t\tPLAY_BUTTON(R.id.playbtn),\r\n\t\tSTOP_BUTTON(R.id.stopbtn),\r\n\t\tMENU_BUTTON(R.id.btnmenu);\r\n\r\n\t\tprivate static class _ {\r\n\t\t\tstatic SparseArray&lt;LayoutElement&gt; elements = new SparseArray&lt;LayoutElement&gt;();\r\n\t\t}\r\n\r\n\t\tLayoutElement(int id) {\r\n\t\t\t_.elements.put(id, this);\r\n\t\t}\r\n\r\n\t\tpublic static LayoutElement from(View view) {\r\n\t\t\treturn _.elements.get(view.getId(), NONE);\r\n\t\t}\r\n\r\n\t}\r\n\r\nSo in your code you can do this:\r\n\r\n    public void onClick(View src) {\r\n        switch(LayoutElement.from(src)) {\r\n        case PLAY_BUTTTON:\r\n            checkwificonnection();\r\n            break;\r\n\r\n        case STOP_BUTTON:\r\n            Log.d(TAG, &quot;onClick: stopping srvice&quot;);\r\n            Playbutton.setImageResource(R.drawable.playbtn1);\r\n            Playbutton.setVisibility(0); //visible\r\n            Stopbutton.setVisibility(4); //invisible\r\n            stopService(new Intent(RakistaRadio.this,myservice.class));\r\n            clearstatusbar();\r\n            timer.cancel();\r\n            Title.setText(&quot; &quot;);\r\n            Artist.setText(&quot; &quot;);\r\n            break;\r\n\r\n        case MENU_BUTTON:\r\n            openOptionsMenu();\r\n            break;\r\n        }\r\n    }\r\n\r\nEnums are static so this will have very limited impact. The only window for concern would be the double lookup involved (first on the internal SparseArray and later on the switch table)\r\n\r\nThat said, this enum can also be utilised to fetch the items in a fluent manner, if needed by keeping a reference to the id... but that&#39;s a story for some other time.","title":"switch case statement error: case expressions must be constant expression","body":"<p>How about this other solution to keep the nice switch instead of an if-else:</p>\n\n<pre><code>private enum LayoutElement {\n    NONE(-1),\n    PLAY_BUTTON(R.id.playbtn),\n    STOP_BUTTON(R.id.stopbtn),\n    MENU_BUTTON(R.id.btnmenu);\n\n    private static class _ {\n        static SparseArray&lt;LayoutElement&gt; elements = new SparseArray&lt;LayoutElement&gt;();\n    }\n\n    LayoutElement(int id) {\n        _.elements.put(id, this);\n    }\n\n    public static LayoutElement from(View view) {\n        return _.elements.get(view.getId(), NONE);\n    }\n\n}\n</code></pre>\n\n<p>So in your code you can do this:</p>\n\n<pre><code>public void onClick(View src) {\n    switch(LayoutElement.from(src)) {\n    case PLAY_BUTTTON:\n        checkwificonnection();\n        break;\n\n    case STOP_BUTTON:\n        Log.d(TAG, \"onClick: stopping srvice\");\n        Playbutton.setImageResource(R.drawable.playbtn1);\n        Playbutton.setVisibility(0); //visible\n        Stopbutton.setVisibility(4); //invisible\n        stopService(new Intent(RakistaRadio.this,myservice.class));\n        clearstatusbar();\n        timer.cancel();\n        Title.setText(\" \");\n        Artist.setText(\" \");\n        break;\n\n    case MENU_BUTTON:\n        openOptionsMenu();\n        break;\n    }\n}\n</code></pre>\n\n<p>Enums are static so this will have very limited impact. The only window for concern would be the double lookup involved (first on the internal SparseArray and later on the switch table)</p>\n\n<p>That said, this enum can also be utilised to fetch the items in a fluent manner, if needed by keeping a reference to the id... but that's a story for some other time.</p>\n"},{"tags":[],"owner":{"account_id":1663778,"reputation":10555,"user_id":1564065,"accept_rate":44,"display_name":"Pir Fahim Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1395562446,"creation_date":1395562446,"answer_id":22588489,"question_id":9092712,"body_markdown":"Simple solution for this problem is :\r\n\r\nClick on the **switch** and then press **CTL+1,** It will change your switch to if-else block statement, and will resolve your problem","title":"switch case statement error: case expressions must be constant expression","body":"<p>Simple solution for this problem is :</p>\n\n<p>Click on the <strong>switch</strong> and then press <strong>CTL+1,</strong> It will change your switch to if-else block statement, and will resolve your problem</p>\n"},{"tags":[],"owner":{"account_id":2075948,"reputation":52334,"user_id":4233197,"accept_rate":55,"display_name":"Hiren Patel"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1454319871,"creation_date":1454319871,"answer_id":35127281,"question_id":9092712,"body_markdown":"Solution can be done be this way:\r\n\r\n 1. Just **assign** the **value** to **Integer**\r\n 2. Make **variable** to **final**\r\n\r\n**Example:**\r\n\r\n    public static final int cameraRequestCode = 999;\r\n\r\nHope this will help you.\r\n\r\n\r\n","title":"switch case statement error: case expressions must be constant expression","body":"<p>Solution can be done be this way:</p>\n\n<ol>\n<li>Just <strong>assign</strong> the <strong>value</strong> to <strong>Integer</strong></li>\n<li>Make <strong>variable</strong> to <strong>final</strong></li>\n</ol>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>public static final int cameraRequestCode = 999;\n</code></pre>\n\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":3628416,"reputation":260,"user_id":4790495,"display_name":"Manoj Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603344893,"creation_date":1603344893,"answer_id":64475884,"question_id":9092712,"body_markdown":"Simply declare your variable to **final**","title":"switch case statement error: case expressions must be constant expression","body":"<p>Simply declare your variable to <strong>final</strong></p>\n"},{"tags":[],"owner":{"account_id":392004,"reputation":4854,"user_id":753000,"accept_rate":38,"display_name":"Till - Appviewer.io"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1690478404,"creation_date":1690478404,"answer_id":76782115,"question_id":9092712,"body_markdown":"Note for 2023+:\r\n==============\r\nWith Android Gradle Plugin 8.0.0 all your R-class resources [are by default no longer declared as final/constant][1] (hence won&#39;t work in switch statements).\r\nIf you use the AGP upgrade wizard in Android Studio, it will actually add this line to your gradle.properties to keep the old behavior:\r\n\r\n    android.nonFinalResIds=false\r\n\r\nBut if you don&#39;t use the wizard or start with a new project, this might come as a surprise. Add above&#39;s line manually or use if/else statements instead.\r\n\r\n  [1]: https://developer.android.com/build/optimize-your-build#use-non-constant-r-classes","title":"switch case statement error: case expressions must be constant expression","body":"<h1>Note for 2023+:</h1>\n<p>With Android Gradle Plugin 8.0.0 all your R-class resources <a href=\"https://developer.android.com/build/optimize-your-build#use-non-constant-r-classes\" rel=\"noreferrer\">are by default no longer declared as final/constant</a> (hence won't work in switch statements).\nIf you use the AGP upgrade wizard in Android Studio, it will actually add this line to your gradle.properties to keep the old behavior:</p>\n<pre><code>android.nonFinalResIds=false\n</code></pre>\n<p>But if you don't use the wizard or start with a new project, this might come as a surprise. Add above's line manually or use if/else statements instead.</p>\n"}],"owner":{"account_id":1069128,"reputation":1797,"user_id":1068827,"accept_rate":80,"display_name":"HeartlessArchangel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165187,"favorite_count":0,"down_vote_count":0,"up_vote_count":145,"accepted_answer_id":9093594,"answer_count":10,"score":145,"last_activity_date":1690478404,"creation_date":1328084143,"question_id":9092712,"body_markdown":"My switch-case statement works perfectly fine yesterday. But when I run the code earlier this morning eclipse gave me an error underlining the case statements in color red and says: case expressions must be constant expression, it is constant I don&#39;t know what happened. Here&#39;s my code below:\r\n\r\n    public void onClick(View src)\r\n        {\r\n        \tswitch(src.getId()) {\r\n        \tcase R.id.playbtn:\r\n    \t\t\tcheckwificonnection();\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n        \tcase R.id.stopbtn:\r\n        \t\tLog.d(TAG, &quot;onClick: stopping srvice&quot;);\r\n        \t\tPlaybutton.setImageResource(R.drawable.playbtn1);\r\n        \t\tPlaybutton.setVisibility(0); //visible\r\n    \t\t\tStopbutton.setVisibility(4); //invisible\r\n    \t\t\tstopService(new Intent(RakistaRadio.this,myservice.class));\r\n    \t\t\tclearstatusbar();\r\n    \t\t\ttimer.cancel();\r\n    \t\t\tTitle.setText(&quot; &quot;);\r\n    \t\t\tArtist.setText(&quot; &quot;);\r\n    \t\t\tbreak;\r\n    \t\t\t\r\n        \tcase R.id.btnmenu:\r\n        \t\topenOptionsMenu();\r\n        \t\tbreak;\r\n        \t}\r\n        }\r\n\r\nAll R.id.int are all underlined in red.","title":"switch case statement error: case expressions must be constant expression","body":"<p>My switch-case statement works perfectly fine yesterday. But when I run the code earlier this morning eclipse gave me an error underlining the case statements in color red and says: case expressions must be constant expression, it is constant I don't know what happened. Here's my code below:</p>\n\n<pre><code>public void onClick(View src)\n    {\n        switch(src.getId()) {\n        case R.id.playbtn:\n            checkwificonnection();\n            break;\n\n        case R.id.stopbtn:\n            Log.d(TAG, \"onClick: stopping srvice\");\n            Playbutton.setImageResource(R.drawable.playbtn1);\n            Playbutton.setVisibility(0); //visible\n            Stopbutton.setVisibility(4); //invisible\n            stopService(new Intent(RakistaRadio.this,myservice.class));\n            clearstatusbar();\n            timer.cancel();\n            Title.setText(\" \");\n            Artist.setText(\" \");\n            break;\n\n        case R.id.btnmenu:\n            openOptionsMenu();\n            break;\n        }\n    }\n</code></pre>\n\n<p>All R.id.int are all underlined in red.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1511989842,"creation_date":1511989842,"answer_id":47561875,"question_id":47561048,"body_markdown":"You can use `NoneNestedConditions` to negate one or more nested conditions. Something like this:\r\n\r\n    class NoSomePropertyCondition extends NoneNestedConditions {\r\n    \r\n        NoSomePropertyCondition() {\r\n            super(ConfigurationPhase.PARSE_CONFIGURATION);\r\n        }\r\n    \r\n        @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n        static class SomePropertyCondition {\r\n    \r\n        }\r\n    \r\n    }\r\n    \r\nYou can then use this custom condition on one of your bean methods:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n    public Apple createAppleX() {}\r\n\r\n    @Bean\r\n    @Conditional(NoSomePropertyCondition.class)\r\n    public Apple createAppleY() {}","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>You can use <code>NoneNestedConditions</code> to negate one or more nested conditions. Something like this:</p>\n\n<pre><code>class NoSomePropertyCondition extends NoneNestedConditions {\n\n    NoSomePropertyCondition() {\n        super(ConfigurationPhase.PARSE_CONFIGURATION);\n    }\n\n    @ConditionalOnProperty(\"some.property.text\")\n    static class SomePropertyCondition {\n\n    }\n\n}\n</code></pre>\n\n<p>You can then use this custom condition on one of your bean methods:</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\")\npublic Apple createAppleX() {}\n\n@Bean\n@Conditional(NoSomePropertyCondition.class)\npublic Apple createAppleY() {}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1367462,"reputation":1563,"user_id":1303612,"display_name":"jebeaudet"},"score":2,"creation_date":1595474836,"post_id":52621151,"comment_id":111489050,"body_markdown":"You are missing your `@Retention(RetentionPolicy.RUNTIME)` here and I would also add `@Target({ ElementType.TYPE, ElementType.METHOD })`. More importantly, your condition is wrong, it should be `allMissing &amp;= (StringUtils.isEmpty(propertyValue) &amp;&amp; StringUtils.isEmpty(propertyValueList))`.","body":"You are missing your <code>@Retention(RetentionPolicy.RUNTIME)</code> here and I would also add <code>@Target({ ElementType.TYPE, ElementType.METHOD })</code>. More importantly, your condition is wrong, it should be <code>allMissing &amp;= (StringUtils.isEmpty(propertyValue) &amp;&amp; StringUtils.isEmpty(propertyValueList))</code>."}],"tags":[],"owner":{"account_id":380946,"reputation":8180,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597010088,"creation_date":1538549031,"answer_id":52621151,"question_id":47561048,"body_markdown":"In the spirit of one-upmanship, Here is a more reusable annotation:\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ ElementType.TYPE, ElementType.METHOD })\r\n    @Conditional(ConditionalOnMissingProperty.MissingPropertyCondition.class)\r\n    public @interface ConditionalOnMissingProperty {\r\n\r\n        String PROPERTY_KEYS = &quot;propertyKeys&quot;;\r\n\r\n        @AliasFor(PROPERTY_KEYS)\r\n        String[] value() default {};\r\n\r\n        @AliasFor(&quot;value&quot;)\r\n        String[] propertyKeys() default {};\r\n\r\n        class MissingPropertyCondition extends SpringBootCondition {\r\n            @Override\r\n            public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n                String[] keys = (String[]) metadata.getAnnotationAttributes(ConditionalOnMissingProperty.class.getName()).get(PROPERTY_KEYS);\r\n                if (keys.length &gt; 0) {\r\n                    boolean allMissing = true;\r\n                    for (String key : keys) {\r\n                        String propertyValue = context.getEnvironment().getProperty(key);\r\n                        String propertyValueList = context.getEnvironment().getProperty(key + &quot;[0]&quot;); //in case of list\r\n                        allMissing &amp;= (StringUtils.isEmpty(propertyValue) &amp;&amp; StringUtils.isEmpty(propertyValueList));\r\n                    }\r\n                    if (allMissing) {\r\n                        return new ConditionOutcome(true, &quot;The following properties were all null or empty in the environment: &quot; + Arrays.toString(keys));\r\n                    }\r\n                    return new ConditionOutcome(false, &quot;one or more properties were found.&quot;);\r\n                } else {\r\n                    throw new RuntimeException(&quot;expected method annotated with &quot; + ConditionalOnMissingProperty.class.getName() + &quot; to include a non-empty &quot; + PROPERTY_KEYS + &quot; attribute&quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnnotated beans or configuration are activated when one or more mentioned properties __all__ do not exist:\r\n\r\n    @ConditionalOnMissingProperty({&quot;app.foo.bar&quot;})\r\n    @Configuration\r\n    public class SomeConfiguration {\r\n      //... won&#39;t run if there is an app.foo.bar property with non-empty contents.\r\n    }\r\n\r\nLater if I add more comprehensive reporting to the false outcome, I&#39;ll add it here.","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>In the spirit of one-upmanship, Here is a more reusable annotation:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.TYPE, ElementType.METHOD })\n@Conditional(ConditionalOnMissingProperty.MissingPropertyCondition.class)\npublic @interface ConditionalOnMissingProperty {\n\n    String PROPERTY_KEYS = &quot;propertyKeys&quot;;\n\n    @AliasFor(PROPERTY_KEYS)\n    String[] value() default {};\n\n    @AliasFor(&quot;value&quot;)\n    String[] propertyKeys() default {};\n\n    class MissingPropertyCondition extends SpringBootCondition {\n        @Override\n        public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\n            String[] keys = (String[]) metadata.getAnnotationAttributes(ConditionalOnMissingProperty.class.getName()).get(PROPERTY_KEYS);\n            if (keys.length &gt; 0) {\n                boolean allMissing = true;\n                for (String key : keys) {\n                    String propertyValue = context.getEnvironment().getProperty(key);\n                    String propertyValueList = context.getEnvironment().getProperty(key + &quot;[0]&quot;); //in case of list\n                    allMissing &amp;= (StringUtils.isEmpty(propertyValue) &amp;&amp; StringUtils.isEmpty(propertyValueList));\n                }\n                if (allMissing) {\n                    return new ConditionOutcome(true, &quot;The following properties were all null or empty in the environment: &quot; + Arrays.toString(keys));\n                }\n                return new ConditionOutcome(false, &quot;one or more properties were found.&quot;);\n            } else {\n                throw new RuntimeException(&quot;expected method annotated with &quot; + ConditionalOnMissingProperty.class.getName() + &quot; to include a non-empty &quot; + PROPERTY_KEYS + &quot; attribute&quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>Annotated beans or configuration are activated when one or more mentioned properties <strong>all</strong> do not exist:</p>\n<pre><code>@ConditionalOnMissingProperty({&quot;app.foo.bar&quot;})\n@Configuration\npublic class SomeConfiguration {\n  //... won't run if there is an app.foo.bar property with non-empty contents.\n}\n</code></pre>\n<p>Later if I add more comprehensive reporting to the false outcome, I'll add it here.</p>\n"},{"comments":[{"owner":{"account_id":14076324,"reputation":1403,"user_id":10168474,"display_name":"Ali Nasserzadeh"},"score":2,"creation_date":1578239430,"post_id":54056313,"comment_id":105367074,"body_markdown":"nice solution, for boolean cases this solution is pretty clean with havingValue=true for the first condition and havingValue=false for the second condition, this way you don&#39;t have to use a random values","body":"nice solution, for boolean cases this solution is pretty clean with havingValue=true for the first condition and havingValue=false for the second condition, this way you don&#39;t have to use a random values"},{"owner":{"account_id":2254844,"reputation":604,"user_id":1986241,"accept_rate":50,"display_name":"Attacktive"},"score":0,"creation_date":1692964803,"post_id":54056313,"comment_id":135700023,"body_markdown":"Thanks. I chose `havingValue=&quot;\\0&quot;` which seems to be an invalid value for a YAML property. &#128128;","body":"Thanks. I chose <code>havingValue=&quot;\\0&quot;</code> which seems to be an invalid value for a YAML property. 💀"}],"tags":[],"owner":{"account_id":14388066,"reputation":301,"user_id":10393457,"display_name":"SztefanWons"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1546722749,"creation_date":1546722749,"answer_id":54056313,"question_id":47561048,"body_markdown":"I was facing same problem and here is my solution:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n    public Apple createAppleX() {}\r\n    \r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;, matchIfMissing=true, havingValue=&quot;value_that_never_appears&quot;)\r\n    public Apple createAppleY() {}","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>I was facing same problem and here is my solution:</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\")\npublic Apple createAppleX() {}\n\n@Bean\n@ConditionalOnProperty(\"some.property.text\", matchIfMissing=true, havingValue=\"value_that_never_appears\")\npublic Apple createAppleY() {}\n</code></pre>\n"}],"owner":{"account_id":2259435,"reputation":275,"user_id":1989863,"accept_rate":55,"display_name":"XZen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30164,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"answer_count":3,"score":23,"last_activity_date":1690478355,"creation_date":1511986504,"question_id":47561048,"body_markdown":"I have two factory methods:\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;)\r\n    public Apple createAppleX() {}\r\n\r\nand\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(&quot;some.property.text&quot;, matchIfMissing=true)\r\n    public Apple createAppleY() {}\r\nIn case of not having &quot;some.property.text&quot; property at all - second method works fine and first one is ignored, which is desired behavior.\r\n\r\nIn case we have some string set to &quot;some.property.text&quot; - both methods are considered valid for producing Apple objects, which leads the application to fail with error &quot;No qualifying bean of type&quot;.\r\n\r\nIs it possible to avoid second method to be considered as factory method in case we have some value for the property? Especially, is it possible via annotations only? \r\n\r\n\r\n","title":"Spring @ConditionalOnProperty, how to match only if missing","body":"<p>I have two factory methods:</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\")\npublic Apple createAppleX() {}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Bean\n@ConditionalOnProperty(\"some.property.text\", matchIfMissing=true)\npublic Apple createAppleY() {}\n</code></pre>\n\n<p>In case of not having \"some.property.text\" property at all - second method works fine and first one is ignored, which is desired behavior.</p>\n\n<p>In case we have some string set to \"some.property.text\" - both methods are considered valid for producing Apple objects, which leads the application to fail with error \"No qualifying bean of type\".</p>\n\n<p>Is it possible to avoid second method to be considered as factory method in case we have some value for the property? Especially, is it possible via annotations only? </p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1411197719,"creation_date":1411197719,"answer_id":25946328,"question_id":25945900,"body_markdown":"You can tell exactly where this goes wrong. You cannot use File on such a path as it is not a path to a file on the file system. If the unzipper cannot be invoked by offering an InputStream then you have to copy the &#39;file&#39; from res/raw to the file system first. ","title":"apache poi error zip file is closed","body":"<p>You can tell exactly where this goes wrong. You cannot use File on such a path as it is not a path to a file on the file system. If the unzipper cannot be invoked by offering an InputStream then you have to copy the 'file' from res/raw to the file system first. </p>\n"},{"tags":[],"owner":{"account_id":29087172,"reputation":11,"user_id":22281864,"display_name":"vicky chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690478352,"creation_date":1690282015,"answer_id":76761947,"question_id":25945900,"body_markdown":"Try this: \r\ninstead of using `File`, use `InputStream`.\r\nFor example: \r\n```\r\nXSSFWorkbook workbook = new XSSFWorkbook(new ClassPathResource(&quot;/apiLogDtlsReport.xlsx&quot;).getInputStream());\r\n```","title":"apache poi error zip file is closed","body":"<p>Try this:\ninstead of using <code>File</code>, use <code>InputStream</code>.\nFor example:</p>\n<pre><code>XSSFWorkbook workbook = new XSSFWorkbook(new ClassPathResource(&quot;/apiLogDtlsReport.xlsx&quot;).getInputStream());\n</code></pre>\n"}],"owner":{"account_id":5057943,"reputation":221,"user_id":4060557,"accept_rate":45,"display_name":"Douglas Johgn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":25946328,"answer_count":2,"score":1,"last_activity_date":1690478352,"creation_date":1411194036,"question_id":25945900,"body_markdown":"I&#39;m trying to open an excel `.xlsx` file using the apache poi libs but am encountering the error below. \r\n\r\nHere&#39;s the code for the part where the error is occurring. The `xlsx` file is stored in res/raw. What&#39;s happening here that is causing the error?\r\n\r\n                String folderdir = &quot;android.resource://&quot; + getPackageName() + &quot;/&quot; + R.raw.register_template;\r\n    //Workbook wb = WorkbookFactory.create(new File(folderdir));\r\n            OPCPackage xlsx = OPCPackage.open(new File(folderdir));//must be .xlsx file type\r\n            XSSFWorkbook xlsxwb = new XSSFWorkbook(xlsx);\r\n\r\n            xlsx.save(jobno_file);\r\n            xlsx.close();\r\n\r\n**Error code :**\r\n \r\n       09-20 16:12:07.039    5694-5694/ E/AndroidRuntime﹕ FATAL EXCEPTION: main\r\n        Process: , PID: 5694\r\n        java.lang.IllegalStateException: Could not execute method of the activity\r\n                at android.view.View$1.onClick(View.java:3823)\r\n                at android.view.View.performClick(View.java:4438)\r\n                at android.view.View$PerformClick.run(View.java:18422)\r\n                at android.os.Handler.handleCallback(Handler.java:733)\r\n                at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                at android.os.Looper.loop(Looper.java:136)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5001)\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:515)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n                at dalvik.system.NativeStart.main(Native Method)\r\n         Caused by: java.lang.reflect.InvocationTargetException\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:515)\r\n                at android.view.View$1.onClick(View.java:3818)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View.performClick(View.java:4438)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View$PerformClick.run(View.java:18422)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.handleCallback(Handler.java:733)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:136)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5001)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:515)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at dalvik.system.NativeStart.main(Native Method)\r\n         Caused by: java.lang.IllegalStateException: Zip File is closed\r\n                at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getEntries(ZipFileZipEntrySource.java:45)\r\n                at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:182)\r\n                at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:665)\r\n                at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:253)\r\n                at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:200)\r\n                at au.com.prensa.prensa.generalinfo.save_register(generalinfo.java:83)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:515)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View$1.onClick(View.java:3818)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View.performClick(View.java:4438)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.view.View$PerformClick.run(View.java:18422)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.handleCallback(Handler.java:733)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Handler.dispatchMessage(Handler.java:95)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.Looper.loop(Looper.java:136)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.app.ActivityThread.main(ActivityThread.java:5001)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invokeNative(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.reflect.Method.invoke(Method.java:515)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at dalvik.system.NativeStart.main(Native Method)","title":"apache poi error zip file is closed","body":"<p>I'm trying to open an excel <code>.xlsx</code> file using the apache poi libs but am encountering the error below. </p>\n\n<p>Here's the code for the part where the error is occurring. The <code>xlsx</code> file is stored in res/raw. What's happening here that is causing the error?</p>\n\n<pre><code>            String folderdir = \"android.resource://\" + getPackageName() + \"/\" + R.raw.register_template;\n//Workbook wb = WorkbookFactory.create(new File(folderdir));\n        OPCPackage xlsx = OPCPackage.open(new File(folderdir));//must be .xlsx file type\n        XSSFWorkbook xlsxwb = new XSSFWorkbook(xlsx);\n\n        xlsx.save(jobno_file);\n        xlsx.close();\n</code></pre>\n\n<p><strong>Error code :</strong></p>\n\n<pre><code>   09-20 16:12:07.039    5694-5694/ E/AndroidRuntime﹕ FATAL EXCEPTION: main\n    Process: , PID: 5694\n    java.lang.IllegalStateException: Could not execute method of the activity\n            at android.view.View$1.onClick(View.java:3823)\n            at android.view.View.performClick(View.java:4438)\n            at android.view.View$PerformClick.run(View.java:18422)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:136)\n            at android.app.ActivityThread.main(ActivityThread.java:5001)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n            at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.reflect.InvocationTargetException\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at android.view.View$1.onClick(View.java:3818)\n            at android.view.View.performClick(View.java:4438)\n            at android.view.View$PerformClick.run(View.java:18422)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:136)\n            at android.app.ActivityThread.main(ActivityThread.java:5001)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n            at dalvik.system.NativeStart.main(Native Method)\n     Caused by: java.lang.IllegalStateException: Zip File is closed\n            at org.apache.poi.openxml4j.util.ZipFileZipEntrySource.getEntries(ZipFileZipEntrySource.java:45)\n            at org.apache.poi.openxml4j.opc.ZipPackage.getPartsImpl(ZipPackage.java:182)\n            at org.apache.poi.openxml4j.opc.OPCPackage.getParts(OPCPackage.java:665)\n            at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:253)\n            at org.apache.poi.openxml4j.opc.OPCPackage.open(OPCPackage.java:200)\n            at au.com.prensa.prensa.generalinfo.save_register(generalinfo.java:83)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at android.view.View$1.onClick(View.java:3818)\n            at android.view.View.performClick(View.java:4438)\n            at android.view.View$PerformClick.run(View.java:18422)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:136)\n            at android.app.ActivityThread.main(ActivityThread.java:5001)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:785)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:601)\n            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","android","resources","android-resources"],"comments":[{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":0,"creation_date":1330078616,"post_id":4427608,"comment_id":11923180,"body_markdown":"is it possible in similar way to getId of files saved to internal storage? I have problem cause I should supply array of ids instead of locations to my gallery (thought it&#39;s adapter).. thanks","body":"is it possible in similar way to getId of files saved to internal storage? I have problem cause I should supply array of ids instead of locations to my gallery (thought it&#39;s adapter).. thanks"},{"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"score":0,"creation_date":1330339420,"post_id":4427608,"comment_id":11973466,"body_markdown":"@Ewoks: They don&#39;t have IDs on internal storage. They&#39;re just images, if anything you need to load them into a bunch of Image objects and pass those, you might want to start a new question though.","body":"@Ewoks: They don&#39;t have IDs on internal storage. They&#39;re just images, if anything you need to load them into a bunch of Image objects and pass those, you might want to start a new question though."},{"owner":{"account_id":34325,"reputation":28826,"user_id":96944,"accept_rate":98,"display_name":"Jannie Theunissen"},"score":0,"creation_date":1434028630,"post_id":4427608,"comment_id":49613771,"body_markdown":"possible duplicate of [How to get a resource id with a known resource name?](http://stackoverflow.com/questions/3476430/how-to-get-a-resource-id-with-a-known-resource-name)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3476430/how-to-get-a-resource-id-with-a-known-resource-name\">How to get a resource id with a known resource name?</a>"}],"answers":[{"comments":[{"owner":{"account_id":2534527,"reputation":2902,"user_id":2202013,"accept_rate":68,"display_name":"Steve Waring"},"score":0,"creation_date":1406964937,"post_id":4427642,"comment_id":39045087,"body_markdown":"My answer below is the reverse of this. Pass in the resource id, and then use `getResourceEntryName(id)` to find the string name. No messing to find &quot;icon&quot; from the longer text.","body":"My answer below is the reverse of this. Pass in the resource id, and then use <code>getResourceEntryName(id)</code> to find the string name. No messing to find &quot;icon&quot; from the longer text."}],"tags":[],"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1292234325,"creation_date":1292234325,"answer_id":4427642,"question_id":4427608,"body_markdown":"You can use `Resources.getIdentifier()`, although you need to use the format for your string as you use it in your XML files, i.e. `package:drawable/icon`.","title":"Android, getting resource ID from string?","body":"<p>You can use <code>Resources.getIdentifier()</code>, although you need to use the format for your string as you use it in your XML files, i.e. <code>package:drawable/icon</code>.</p>\n"},{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":9,"creation_date":1292239975,"post_id":4428288,"comment_id":4832843,"body_markdown":"@Macarse: Presently, `getIdentifier()` has to do two reflection lookups. In your example above, `getIdentifier()` would use reflection to get `Drawable.class`, then another reflection lookup to get the resource ID. That would account for the speed difference. That being said, neither are especially quick and therefore really need to be cached (particularly if used in a loop, or for rows in a `ListView`). And the reflection approach&#39;s big problem is that it makes assumptions about the internals of Android that might change in some future release.","body":"@Macarse: Presently, <code>getIdentifier()</code> has to do two reflection lookups. In your example above, <code>getIdentifier()</code> would use reflection to get <code>Drawable.class</code>, then another reflection lookup to get the resource ID. That would account for the speed difference. That being said, neither are especially quick and therefore really need to be cached (particularly if used in a loop, or for rows in a <code>ListView</code>). And the reflection approach&#39;s big problem is that it makes assumptions about the internals of Android that might change in some future release."},{"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"score":1,"creation_date":1292241019,"post_id":4428288,"comment_id":4832994,"body_markdown":"@CommonsWare: That&#39;s right. I was checking how android implemented and it ends ups being a native call. http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/content/res/Resources.java#line1346 =&gt; http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/content/res/AssetManager.java#line609","body":"@CommonsWare: That&#39;s right. I was checking how android implemented and it ends ups being a native call. <a href=\"http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/content/res/Resources.java#line1346\" rel=\"nofollow noreferrer\">gitorious.org/android-eeepc/base/blobs/&hellip;</a> =&gt; <a href=\"http://gitorious.org/android-eeepc/base/blobs/3661101005c6527dfd384d0c88c4a3b68ee208af/core/java/android/content/res/AssetManager.java#line609\" rel=\"nofollow noreferrer\">gitorious.org/android-eeepc/base/blobs/&hellip;</a>"},{"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"score":0,"creation_date":1292241108,"post_id":4428288,"comment_id":4833007,"body_markdown":"Sorry guys, I still don&#39;t see an acceptable answer. I want to minimize parameters not increase them. how about if I pass the resource Id (R.drawable.icon) as an integer, can I then use the id to get the resource name and strip just the part I need to get &quot;icon&quot;?","body":"Sorry guys, I still don&#39;t see an acceptable answer. I want to minimize parameters not increase them. how about if I pass the resource Id (R.drawable.icon) as an integer, can I then use the id to get the resource name and strip just the part I need to get &quot;icon&quot;?"},{"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"score":0,"creation_date":1292241301,"post_id":4428288,"comment_id":4833041,"body_markdown":"@Hamid: If you can pass `R.drawable.icon` to your method you can just do it like you said: `methodName(int R.drawable.icon, &quot;icon&quot;);`. I don&#39;t know why you want to do that, thought.","body":"@Hamid: If you can pass <code>R.drawable.icon</code> to your method you can just do it like you said: <code>methodName(int R.drawable.icon, &quot;icon&quot;);</code>. I don&#39;t know why you want to do that, thought."},{"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"score":0,"creation_date":1292242868,"post_id":4428288,"comment_id":4833292,"body_markdown":"@Marcarse: I just want to pass the one, myMethod(int R.drawable.icon) and the method will use the int as the resource to load, and find &quot;icon&quot; as the string to identify it.","body":"@Marcarse: I just want to pass the one, myMethod(int R.drawable.icon) and the method will use the int as the resource to load, and find &quot;icon&quot; as the string to identify it."},{"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1292271748,"post_id":4428288,"comment_id":4838996,"body_markdown":"@Hamid: Well, maybe you should tell us exactly what you want? You wanted to convert a string to an ID, you got two solutions for that. Tell us what you&#39;re trying to do, what data you have and what you don&#39;t have, and we can adjust the answers. If you have the ID as an int, then why do you need to convert a string to an int?","body":"@Hamid: Well, maybe you should tell us exactly what you want? You wanted to convert a string to an ID, you got two solutions for that. Tell us what you&#39;re trying to do, what data you have and what you don&#39;t have, and we can adjust the answers. If you have the ID as an int, then why do you need to convert a string to an int?"},{"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"score":0,"creation_date":1292272373,"post_id":4428288,"comment_id":4839124,"body_markdown":"I&#39;m loading some images, I need a string to identify each image, and I need the id (int) that will let me get the image from the resources. I would like the identifying string to be the filename (minus extension) that is at the end of the R.drawable.filename (int) that I can pass to the method.","body":"I&#39;m loading some images, I need a string to identify each image, and I need the id (int) that will let me get the image from the resources. I would like the identifying string to be the filename (minus extension) that is at the end of the R.drawable.filename (int) that I can pass to the method."},{"owner":{"account_id":139856,"reputation":77162,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":3,"creation_date":1292277741,"post_id":4428288,"comment_id":4840076,"body_markdown":"I would use an integer array with the IDs instead. Using strings for IDs doesn&#39;t sound like the right approach.","body":"I would use an integer array with the IDs instead. Using strings for IDs doesn&#39;t sound like the right approach."},{"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"score":0,"creation_date":1305723350,"post_id":4428288,"comment_id":6993305,"body_markdown":"I accept this answer because of the solutions suggested in the comments by EboMike. Integer IDs was definately the way to go.","body":"I accept this answer because of the solutions suggested in the comments by EboMike. Integer IDs was definately the way to go."},{"owner":{"account_id":1217891,"reputation":4757,"user_id":1185136,"accept_rate":82,"display_name":"Rudey"},"score":9,"creation_date":1378031597,"post_id":4428288,"comment_id":27300608,"body_markdown":"Why the `context` parameter?","body":"Why the <code>context</code> parameter?"},{"owner":{"account_id":40851,"reputation":12705,"user_id":118562,"accept_rate":68,"display_name":"Bagusflyer"},"score":1,"creation_date":1431509566,"post_id":4428288,"comment_id":48526227,"body_markdown":"Always return -1 for me.","body":"Always return -1 for me."},{"owner":{"account_id":416843,"reputation":4066,"user_id":792480,"accept_rate":50,"display_name":"Smeet"},"score":14,"creation_date":1452596318,"post_id":4428288,"comment_id":57229193,"body_markdown":"Calling should be getId(&quot;icon&quot;, R.drawable.class); not getResId(&quot;icon&quot;, context, Drawable.class);","body":"Calling should be getId(&quot;icon&quot;, R.drawable.class); not getResId(&quot;icon&quot;, context, Drawable.class);"},{"owner":{"account_id":3039548,"reputation":14565,"user_id":2576903,"accept_rate":90,"display_name":"Kaloyan Roussev"},"score":0,"creation_date":1473241397,"post_id":4428288,"comment_id":66061233,"body_markdown":"How do I use this look up a string? Which class should I pass as the second parameter","body":"How do I use this look up a string? Which class should I pass as the second parameter"},{"owner":{"account_id":2901028,"reputation":1053,"user_id":5040556,"display_name":"Daniele"},"score":0,"creation_date":1568189306,"post_id":4428288,"comment_id":102191895,"body_markdown":"you should follow this https://stackoverflow.com/questions/3476430/how-to-get-a-resource-id-with-a-known-resource-name","body":"you should follow this <a href=\"https://stackoverflow.com/questions/3476430/how-to-get-a-resource-id-with-a-known-resource-name\" title=\"how to get a resource id with a known resource name\">stackoverflow.com/questions/3476430/&hellip;</a>"},{"owner":{"account_id":1186832,"reputation":625,"user_id":1160623,"accept_rate":75,"display_name":"steve"},"score":0,"creation_date":1638522628,"post_id":4428288,"comment_id":124116057,"body_markdown":"to help others: if this flexible solution works for a while but it starts to throw NoSuchFieldException, it can be caused by proguard obfuscator: the class in question is being obfuscated. (more resources are mapped to the same class/field). In my case the error happend only when installed from the play store (aab).\nSolution: in the catch try to get it by Resources.getIdentifier() or disable proguard.","body":"to help others: if this flexible solution works for a while but it starts to throw NoSuchFieldException, it can be caused by proguard obfuscator: the class in question is being obfuscated. (more resources are mapped to the same class/field). In my case the error happend only when installed from the play store (aab). Solution: in the catch try to get it by Resources.getIdentifier() or disable proguard."},{"owner":{"account_id":326511,"reputation":28843,"user_id":648313,"accept_rate":100,"display_name":"Volo"},"score":0,"creation_date":1690476670,"post_id":4428288,"comment_id":135362696,"body_markdown":"DON&#39;T use this! This solution might look neat, but it will come back to bite you. As mentioned by CommonsWare &quot;the reflection big problem is that it makes assumptions about the internals of Android that might change in some future release&quot;. And if you check SO comments that&#39;s already happened to quite a few people who discovered the method above fails in production, if minification is enabled. One should either map string names to int ids in the code, or **if absolutely needed** use the `Resources.getIdentifier` provided by the Android SDK combined with the `@SuppressLint(&quot;DiscouragedApi&quot;)`","body":"DON&#39;T use this! This solution might look neat, but it will come back to bite you. As mentioned by CommonsWare &quot;the reflection big problem is that it makes assumptions about the internals of Android that might change in some future release&quot;. And if you check SO comments that&#39;s already happened to quite a few people who discovered the method above fails in production, if minification is enabled. One should either map string names to int ids in the code, or <b>if absolutely needed</b> use the <code>Resources.getIdentifier</code> provided by the Android SDK combined with the <code>@SuppressLint(&quot;DiscouragedApi&quot;)</code>"}],"tags":[],"owner":{"account_id":41275,"reputation":92177,"user_id":119895,"accept_rate":92,"display_name":"Macarse"},"comment_count":16,"down_vote_count":4,"up_vote_count":202,"is_accepted":true,"score":198,"last_activity_date":1690477947,"creation_date":1292239300,"answer_id":4428288,"question_id":4427608,"body_markdown":"@EboMike: I didn&#39;t know that `Resources.getIdentifier()` existed.\r\n\r\nIn my projects I used the following code to do that:\r\n\r\n\tpublic static int getResId(String resName, Class&lt;?&gt; c) {\r\n\r\n\t\ttry {\r\n\t\t\tField idField = c.getDeclaredField(resName);\r\n\t\t\treturn idField.getInt(idField);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn -1;\r\n\t\t} \r\n\t}\r\n\r\nIt would be used like this for getting the value of `R.drawable.icon` resource integer value \r\n\r\n    int resID = getResId(&quot;icon&quot;, R.drawable.class); // or other resource class\r\n\r\n\r\nI just found a blog post saying that `Resources.getIdentifier()` is slower than using reflection like I did. [Check it out][1].\r\n\r\n**WARNING**: This solution will fail in the release build if code/resource shrinking is enabled as suggested by Google: https://developer.android.com/build/shrink-code  \r\nAlso, it might fail for some other cases, e.g. when you have `&lt;string name=&quot;string.name&quot;&gt;…&lt;/string&gt;` the actual field name will be `string_name` and not the `string.name` \r\n\r\n  [1]: http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html","title":"Android, getting resource ID from string?","body":"<p>@EboMike: I didn't know that <code>Resources.getIdentifier()</code> existed.</p>\n<p>In my projects I used the following code to do that:</p>\n<pre><code>public static int getResId(String resName, Class&lt;?&gt; c) {\n\n    try {\n        Field idField = c.getDeclaredField(resName);\n        return idField.getInt(idField);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return -1;\n    } \n}\n</code></pre>\n<p>It would be used like this for getting the value of <code>R.drawable.icon</code> resource integer value</p>\n<pre><code>int resID = getResId(&quot;icon&quot;, R.drawable.class); // or other resource class\n</code></pre>\n<p>I just found a blog post saying that <code>Resources.getIdentifier()</code> is slower than using reflection like I did. <a href=\"http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html\" rel=\"nofollow noreferrer\">Check it out</a>.</p>\n<p><strong>WARNING</strong>: This solution will fail in the release build if code/resource shrinking is enabled as suggested by Google: <a href=\"https://developer.android.com/build/shrink-code\" rel=\"nofollow noreferrer\">https://developer.android.com/build/shrink-code</a><br />\nAlso, it might fail for some other cases, e.g. when you have <code>&lt;string name=&quot;string.name&quot;&gt;…&lt;/string&gt;</code> the actual field name will be <code>string_name</code> and not the <code>string.name</code></p>\n"},{"tags":[],"owner":{"account_id":90221,"reputation":80129,"user_id":248432,"accept_rate":85,"display_name":"Peter Knego"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1305407296,"creation_date":1305407296,"answer_id":6004785,"question_id":4427608,"body_markdown":"If you need to pair a string and an int, then how about a Map?\r\n\r\n    static Map&lt;String, Integer&gt; icons = new HashMap&lt;String, Integer&gt;();\r\n\r\n    static {\r\n        icons.add(&quot;icon1&quot;, R.drawable.icon);\r\n        icons.add(&quot;icon2&quot;, R.drawable.othericon);\r\n        icons.add(&quot;someicon&quot;, R.drawable.whatever);\r\n    }","title":"Android, getting resource ID from string?","body":"<p>If you need to pair a string and an int, then how about a Map?</p>\n\n<pre><code>static Map&lt;String, Integer&gt; icons = new HashMap&lt;String, Integer&gt;();\n\nstatic {\n    icons.add(\"icon1\", R.drawable.icon);\n    icons.add(\"icon2\", R.drawable.othericon);\n    icons.add(\"someicon\", R.drawable.whatever);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":134485,"reputation":1165,"user_id":336658,"accept_rate":91,"display_name":"Evilripper"},"score":0,"creation_date":1460464393,"post_id":10116885,"comment_id":60745289,"body_markdown":"now .getResources().getDrawable is deprecated\n\n`if(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP){\n\t\t\t\treturn  mContext.getDrawable(resourceId);\n\t\t\t} else {\n\t\t\t\treturn mContext.getResources().getDrawable(resourceId);\n\t\t\t}`","body":"now .getResources().getDrawable is deprecated  <code>if(android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.LOLLIPOP){ \t\t\t\treturn  mContext.getDrawable(resourceId); \t\t\t} else { \t\t\t\treturn mContext.getResources().getDrawable(resourceId); \t\t\t}</code>"},{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":0,"creation_date":1675247254,"post_id":10116885,"comment_id":132885815,"body_markdown":"also use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code","body":"also use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code"}],"tags":[],"owner":{"account_id":436374,"reputation":592,"user_id":823502,"display_name":"Martin Pearman"},"comment_count":2,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1473181713,"creation_date":1334200218,"answer_id":10116885,"question_id":4427608,"body_markdown":"How to get an **application** resource id from the resource name is quite a common and well answered question.\r\n\r\nHow to get a **native Android** resource id from the resource name is less well answered.\r\nHere&#39;s my solution to get an Android drawable resource by resource name:\r\n\r\n    public static Drawable getAndroidDrawable(String pDrawableName){\r\n    \tint resourceId=Resources.getSystem().getIdentifier(pDrawableName, &quot;drawable&quot;, &quot;android&quot;);\r\n    \tif(resourceId==0){\r\n    \t\treturn null;\r\n    \t} else {\r\n    \t\treturn Resources.getSystem().getDrawable(resourceId);\r\n    \t}\r\n    }\r\n\r\nThe method can be modified to access other types of resources.\r\n","title":"Android, getting resource ID from string?","body":"<p>How to get an <strong>application</strong> resource id from the resource name is quite a common and well answered question.</p>\n\n<p>How to get a <strong>native Android</strong> resource id from the resource name is less well answered.\nHere's my solution to get an Android drawable resource by resource name:</p>\n\n<pre><code>public static Drawable getAndroidDrawable(String pDrawableName){\n    int resourceId=Resources.getSystem().getIdentifier(pDrawableName, \"drawable\", \"android\");\n    if(resourceId==0){\n        return null;\n    } else {\n        return Resources.getSystem().getDrawable(resourceId);\n    }\n}\n</code></pre>\n\n<p>The method can be modified to access other types of resources.</p>\n"},{"tags":[],"owner":{"account_id":954960,"reputation":13272,"user_id":980442,"accept_rate":25,"display_name":"Daniel De Le&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1424877368,"creation_date":1373656372,"answer_id":17622392,"question_id":4427608,"body_markdown":"*This is based on @Macarse answer.*\r\n\r\nUse this to get the resources Id in a more faster and code friendly way.\r\n\r\n\tpublic static int getId(String resourceName, Class&lt;?&gt; c) {\r\n\t\ttry {\r\n\t\t\tField idField = c.getDeclaredField(resourceName);\r\n\t\t\treturn idField.getInt(idField);\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new RuntimeException(&quot;No resource ID found for: &quot;\r\n\t\t\t\t\t+ resourceName + &quot; / &quot; + c, e);\r\n\t\t}\r\n\t}\r\n\r\nExample:\r\n\r\n    getId(&quot;icon&quot;, R.drawable.class);","title":"Android, getting resource ID from string?","body":"<p><em>This is based on @Macarse answer.</em></p>\n\n<p>Use this to get the resources Id in a more faster and code friendly way.</p>\n\n<pre><code>public static int getId(String resourceName, Class&lt;?&gt; c) {\n    try {\n        Field idField = c.getDeclaredField(resourceName);\n        return idField.getInt(idField);\n    } catch (Exception e) {\n        throw new RuntimeException(\"No resource ID found for: \"\n                + resourceName + \" / \" + c, e);\n    }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>getId(\"icon\", R.drawable.class);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":362929,"reputation":11172,"user_id":706387,"accept_rate":53,"display_name":"kosiara - Bartosz Kosarzycki"},"score":0,"creation_date":1614426394,"post_id":17883089,"comment_id":117385180,"body_markdown":"Thanks. Works as expected. I used the following: `view.context.resources.getIdentifier(&quot;drawable/item_car_$position&quot;, null, context.packageName)`.","body":"Thanks. Works as expected. I used the following: <code>view.context.resources.getIdentifier(&quot;drawable&#47;item_car_$pos&zwnj;&#8203;ition&quot;, null, context.packageName)</code>."},{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":0,"creation_date":1675247424,"post_id":17883089,"comment_id":132885865,"body_markdown":"Use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code","body":"Use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code"}],"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1374846548,"creation_date":1374846548,"answer_id":17883089,"question_id":4427608,"body_markdown":"I did like this, it is working for me:\r\n\r\n        imageView.setImageResource(context.getResources().\r\n             getIdentifier(&quot;drawable/apple&quot;, null, context.getPackageName()));","title":"Android, getting resource ID from string?","body":"<p>I did like this, it is working for me:</p>\n\n<pre><code>    imageView.setImageResource(context.getResources().\n         getIdentifier(\"drawable/apple\", null, context.getPackageName()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5929568,"reputation":414,"user_id":4664470,"accept_rate":60,"display_name":"Ricardo Meneghin Filho"},"score":13,"creation_date":1461360271,"post_id":19093447,"comment_id":61181005,"body_markdown":"What is the point of making a function that simply calls another one and &quot;handles&quot; a possible exception? Call getResources().getIdentifier() directly.","body":"What is the point of making a function that simply calls another one and &quot;handles&quot; a possible exception? Call getResources().getIdentifier() directly."},{"owner":{"account_id":5029606,"reputation":389,"user_id":4040267,"accept_rate":14,"display_name":"Shankari"},"score":0,"creation_date":1622905762,"post_id":19093447,"comment_id":119928331,"body_markdown":"Upvoted for clarifying how to pass in the type to get different kinds or resources. The android dev documentation does not have details and &quot;id&quot; from a prior answer does not work for strings.","body":"Upvoted for clarifying how to pass in the type to get different kinds or resources. The android dev documentation does not have details and &quot;id&quot; from a prior answer does not work for strings."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1632048377,"post_id":19093447,"comment_id":122383627,"body_markdown":"Is there also the opposite? Meaning from `R.string.some_string` to &quot;some_string&quot; ?","body":"Is there also the opposite? Meaning from <code>R.string.some_string</code> to &quot;some_string&quot; ?"},{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":0,"creation_date":1675247412,"post_id":19093447,"comment_id":132885863,"body_markdown":"Use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code","body":"Use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code"}],"tags":[],"owner":{"account_id":81032,"reputation":20540,"user_id":228755,"accept_rate":99,"display_name":"Azhar"},"comment_count":4,"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1385483051,"creation_date":1380541686,"answer_id":19093447,"question_id":4427608,"body_markdown":"You can use this function to get resource ID.\r\n\r\n    public static int getResourceId(String pVariableName, String pResourcename, String pPackageName) \r\n    {\r\n        try {\r\n            return getResources().getIdentifier(pVariableName, pResourcename, pPackageName);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return -1;\r\n        } \r\n    }\r\n\r\nSo if you want to get for **drawable** call function like this\r\n\r\n    getResourceId(&quot;myIcon&quot;, &quot;drawable&quot;, getPackageName());\r\n\r\nand for string you can call it like this\r\n\r\n    getResourceId(&quot;myAppName&quot;, &quot;string&quot;, getPackageName());\r\n\r\n[Read this][1]\r\n\r\n\r\n  [1]: http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html","title":"Android, getting resource ID from string?","body":"<p>You can use this function to get resource ID.</p>\n\n<pre><code>public static int getResourceId(String pVariableName, String pResourcename, String pPackageName) \n{\n    try {\n        return getResources().getIdentifier(pVariableName, pResourcename, pPackageName);\n    } catch (Exception e) {\n        e.printStackTrace();\n        return -1;\n    } \n}\n</code></pre>\n\n<p>So if you want to get for <strong>drawable</strong> call function like this</p>\n\n<pre><code>getResourceId(\"myIcon\", \"drawable\", getPackageName());\n</code></pre>\n\n<p>and for string you can call it like this</p>\n\n<pre><code>getResourceId(\"myAppName\", \"string\", getPackageName());\n</code></pre>\n\n<p><a href=\"http://daniel-codes.blogspot.com/2009/12/dynamically-retrieving-resources-in.html\">Read this</a></p>\n"},{"tags":[],"owner":{"account_id":2534527,"reputation":2902,"user_id":2202013,"accept_rate":68,"display_name":"Steve Waring"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1406964768,"creation_date":1406964768,"answer_id":25092792,"question_id":4427608,"body_markdown":"Since you said you only wanted to pass one parameter and it did not seem to matter which, you could pass the resource identifier in and then find out the string name for it, thus:\r\n\r\n    String name = getResources().getResourceEntryName(id);\r\n\r\nThis might be the most efficient way of obtaining both values. You  don&#39;t have to mess around finding just the &quot;icon&quot; part from a longer string.","title":"Android, getting resource ID from string?","body":"<p>Since you said you only wanted to pass one parameter and it did not seem to matter which, you could pass the resource identifier in and then find out the string name for it, thus:</p>\n\n<pre><code>String name = getResources().getResourceEntryName(id);\n</code></pre>\n\n<p>This might be the most efficient way of obtaining both values. You  don't have to mess around finding just the \"icon\" part from a longer string.</p>\n"},{"tags":[],"owner":{"account_id":5791282,"reputation":451,"user_id":4568661,"accept_rate":100,"display_name":"ExploringAI"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1463413058,"creation_date":1430156913,"answer_id":29902630,"question_id":4427608,"body_markdown":"&gt; A simple way to getting resource ID from string.\r\n&gt; Here **resourceName** is the name of resource ImageView in drawable folder which is included in XML file as well.\r\n\r\n         \r\n    int resID = getResources().getIdentifier(resourceName, &quot;id&quot;, getPackageName());\r\n    ImageView im = (ImageView) findViewById(resID);\r\n    Context context = im.getContext();\r\n    int id = context.getResources().getIdentifier(resourceName, &quot;drawable&quot;,\r\n    context.getPackageName());\r\n    im.setImageResource(id);","title":"Android, getting resource ID from string?","body":"<blockquote>\n  <p>A simple way to getting resource ID from string.\n  Here <strong>resourceName</strong> is the name of resource ImageView in drawable folder which is included in XML file as well.</p>\n</blockquote>\n\n<pre><code>int resID = getResources().getIdentifier(resourceName, \"id\", getPackageName());\nImageView im = (ImageView) findViewById(resID);\nContext context = im.getContext();\nint id = context.getResources().getIdentifier(resourceName, \"drawable\",\ncontext.getPackageName());\nim.setImageResource(id);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5626216,"reputation":2664,"user_id":4454567,"accept_rate":100,"display_name":"Daniele D."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464368600,"creation_date":1464368600,"answer_id":37488894,"question_id":4427608,"body_markdown":"In MonoDroid / Xamarin.Android you can do:\r\n\r\n     var resourceId = Resources.GetIdentifier(&quot;icon&quot;, &quot;drawable&quot;, PackageName);\r\n\r\nBut since GetIdentifier it&#39;s not recommended in Android - you can use Reflection like this:\r\n\r\n     var resourceId = (int)typeof(Resource.Drawable).GetField(&quot;icon&quot;).GetValue(null);\r\n\r\nwhere I suggest to put a try/catch or verify the strings you are passing.","title":"Android, getting resource ID from string?","body":"<p>In MonoDroid / Xamarin.Android you can do:</p>\n\n<pre><code> var resourceId = Resources.GetIdentifier(\"icon\", \"drawable\", PackageName);\n</code></pre>\n\n<p>But since GetIdentifier it's not recommended in Android - you can use Reflection like this:</p>\n\n<pre><code> var resourceId = (int)typeof(Resource.Drawable).GetField(\"icon\").GetValue(null);\n</code></pre>\n\n<p>where I suggest to put a try/catch or verify the strings you are passing.</p>\n"},{"tags":[],"owner":{"account_id":7077897,"reputation":1999,"user_id":5417224,"accept_rate":50,"display_name":"bitvale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1467197420,"creation_date":1467196910,"answer_id":38097226,"question_id":4427608,"body_markdown":"For getting Drawable id from String resource name I am using this code:\r\n\r\n    private int getResId(String resName) {\r\n        int defId = -1;\r\n        try {\r\n            Field f = R.drawable.class.getDeclaredField(resName);\r\n            Field def = R.drawable.class.getDeclaredField(&quot;transparent_flag&quot;);\r\n            defId = def.getInt(null);\r\n            return f.getInt(null);\r\n        } catch (NoSuchFieldException | IllegalAccessException e) {\r\n            return defId;\r\n        }\r\n    }","title":"Android, getting resource ID from string?","body":"<p>For getting Drawable id from String resource name I am using this code:</p>\n\n<pre><code>private int getResId(String resName) {\n    int defId = -1;\n    try {\n        Field f = R.drawable.class.getDeclaredField(resName);\n        Field def = R.drawable.class.getDeclaredField(\"transparent_flag\");\n        defId = def.getInt(null);\n        return f.getInt(null);\n    } catch (NoSuchFieldException | IllegalAccessException e) {\n        return defId;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3319010,"reputation":15167,"user_id":2790621,"accept_rate":69,"display_name":"xMRi"},"score":2,"creation_date":1507558528,"post_id":46645613,"comment_id":80246236,"body_markdown":"Would be better if you just give some more information to your answer.","body":"Would be better if you just give some more information to your answer."},{"owner":{"account_id":1420332,"reputation":2257,"user_id":1345089,"accept_rate":85,"display_name":"Darksymphony"},"score":0,"creation_date":1675246630,"post_id":46645613,"comment_id":132885578,"body_markdown":"Use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code","body":"Use of getIdentifier is discouraged because resource reflection makes it harder to perform build optimizations and compile-time verification of code"}],"tags":[],"owner":{"account_id":7811655,"reputation":949,"user_id":5950079,"display_name":"Ivan Vovk"},"comment_count":2,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1680679785,"creation_date":1507549345,"answer_id":46645613,"question_id":4427608,"body_markdown":"Simple method to get resource ID:\r\n\r\n    public int getDrawableName(Context ctx, String str){\r\n        return ctx.getResources().getIdentifier(str,&quot;drawable&quot;, ctx.getPackageName());\r\n    }","title":"Android, getting resource ID from string?","body":"<p>Simple method to get resource ID:</p>\n<pre><code>public int getDrawableName(Context ctx, String str){\n    return ctx.getResources().getIdentifier(str,&quot;drawable&quot;, ctx.getPackageName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522733131,"creation_date":1522733131,"answer_id":49622801,"question_id":4427608,"body_markdown":"In your res/layout/my_image_layout.xml\r\n\r\n    &lt;LinearLayout ...&gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/row_0_col_7&quot;\r\n          ...&gt;\r\n        &lt;/ImageView&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nTo grab that ImageView by its @+id value, inside your java code do this: \r\n\r\n    String row = &quot;0&quot;;\r\n    String column= &quot;7&quot;;\r\n    String tileID = &quot;row_&quot; + (row) + &quot;_col_&quot; + (column);\r\n    ImageView image = (ImageView) activity.findViewById(activity.getResources()\r\n                    .getIdentifier(tileID, &quot;id&quot;, activity.getPackageName()));\r\n    \r\n    /*Bottom code changes that ImageView to a different image. &quot;blank&quot; (R.mipmap.blank) is the name of an image I have in my drawable folder. */\r\n    image.setImageResource(R.mipmap.blank);  \r\n\r\n \r\n\r\n","title":"Android, getting resource ID from string?","body":"<p>In your res/layout/my_image_layout.xml</p>\n\n<pre><code>&lt;LinearLayout ...&gt;\n    &lt;ImageView\n        android:id=\"@+id/row_0_col_7\"\n      ...&gt;\n    &lt;/ImageView&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>To grab that ImageView by its @+id value, inside your java code do this: </p>\n\n<pre><code>String row = \"0\";\nString column= \"7\";\nString tileID = \"row_\" + (row) + \"_col_\" + (column);\nImageView image = (ImageView) activity.findViewById(activity.getResources()\n                .getIdentifier(tileID, \"id\", activity.getPackageName()));\n\n/*Bottom code changes that ImageView to a different image. \"blank\" (R.mipmap.blank) is the name of an image I have in my drawable folder. */\nimage.setImageResource(R.mipmap.blank);  \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3094293,"reputation":468,"user_id":2619824,"accept_rate":92,"display_name":"user2619824"},"score":0,"creation_date":1636676680,"post_id":55465964,"comment_id":123627270,"body_markdown":"This works but what exactly is this doing? It has a very weird syntax. How is it performance wise?","body":"This works but what exactly is this doing? It has a very weird syntax. How is it performance wise?"},{"owner":{"account_id":486111,"reputation":3782,"user_id":902832,"accept_rate":44,"display_name":"aaronmarino"},"score":1,"creation_date":1652890426,"post_id":55465964,"comment_id":127718292,"body_markdown":"This doesn&#39;t work with proguard/minify enabled.","body":"This doesn&#39;t work with proguard/minify enabled."}],"tags":[],"owner":{"account_id":3310029,"reputation":5220,"user_id":3278271,"accept_rate":0,"display_name":"Arsenius"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614530958,"creation_date":1554170935,"answer_id":55465964,"question_id":4427608,"body_markdown":"The Kotlin approach\r\n\r\n    inline fun &lt;reified T: Class&lt;*&gt;&gt; T.getId(resourceName: String): Int {\r\n                return try {\r\n                    val idField = getDeclaredField (resourceName)\r\n                    idField.getInt(idField)\r\n                } catch (e:Exception) {\r\n                    e.printStackTrace()\r\n                    -1\r\n                }\r\n            }\r\n\r\nUsage:\r\n\r\n    val resId = R.drawable::class.java.getId(&quot;icon&quot;)\r\nOr:\r\n      \r\n    val resId = R.id::class.java.getId(&quot;viewId&quot;)","title":"Android, getting resource ID from string?","body":"<p>The Kotlin approach</p>\n<pre><code>inline fun &lt;reified T: Class&lt;*&gt;&gt; T.getId(resourceName: String): Int {\n            return try {\n                val idField = getDeclaredField (resourceName)\n                idField.getInt(idField)\n            } catch (e:Exception) {\n                e.printStackTrace()\n                -1\n            }\n        }\n</code></pre>\n<p>Usage:</p>\n<pre><code>val resId = R.drawable::class.java.getId(&quot;icon&quot;)\n</code></pre>\n<p>Or:</p>\n<pre><code>val resId = R.id::class.java.getId(&quot;viewId&quot;)\n</code></pre>\n"}],"owner":{"account_id":144546,"reputation":4420,"user_id":353674,"accept_rate":76,"display_name":"Hamid"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190303,"favorite_count":0,"down_vote_count":0,"up_vote_count":183,"accepted_answer_id":4428288,"answer_count":14,"score":183,"last_activity_date":1690477947,"creation_date":1292234107,"question_id":4427608,"body_markdown":"I need to pass a resource ID to a method in one of my classes. It needs to use both the id that the reference points to and also it needs the string. How should I best achieve this?\r\n\r\nFor example:\r\n\r\n    R.drawable.icon\r\n\r\nI need to get the integer ID of this, but I also need access to the string &quot;icon&quot;.\r\n\r\nIt would be preferable if all I had to pass to the method is the &quot;icon&quot; string.","title":"Android, getting resource ID from string?","body":"<p>I need to pass a resource ID to a method in one of my classes. It needs to use both the id that the reference points to and also it needs the string. How should I best achieve this?</p>\n\n<p>For example:</p>\n\n<pre><code>R.drawable.icon\n</code></pre>\n\n<p>I need to get the integer ID of this, but I also need access to the string \"icon\".</p>\n\n<p>It would be preferable if all I had to pass to the method is the \"icon\" string.</p>\n"},{"tags":["java","spring","rabbitmq","spring-amqp","spring-rabbit"],"answers":[{"comments":[{"owner":{"account_id":317708,"reputation":9159,"user_id":634545,"accept_rate":73,"display_name":"user634545"},"score":0,"creation_date":1557076813,"post_id":55993227,"comment_id":98636442,"body_markdown":"Thanks for the reply.\n\nEven with setShutdownTimeout,  the last consumed message might not be acked. I believe the best option is to use setForceCloseChannel(false), but then I cannot determine if the canceled consumers has finished or not.\n\nI might have to extend the SimpleRabbitListenerContainerFactory, and re-implement/extend the SimpleMessageListenerContainer to get hold of the canceledConsumers.","body":"Thanks for the reply.  Even with setShutdownTimeout,  the last consumed message might not be acked. I believe the best option is to use setForceCloseChannel(false), but then I cannot determine if the canceled consumers has finished or not.  I might have to extend the SimpleRabbitListenerContainerFactory, and re-implement/extend the SimpleMessageListenerContainer to get hold of the canceledConsumers."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1557079749,"post_id":55993227,"comment_id":98637187,"body_markdown":"`&gt;Even with setShutdownTimeout, the last consumed message might not be acked` Why do you say that? Make the timeout a large value; `stop()` will block until the last consumer thread completes. You can add an `ApplicationListener&lt;AsyncConsumerStoppedEvent&gt;` (or an `@EventListener`method) to get an event as each consumer thread exits). See [Consumer Events](https://docs.spring.io/spring-amqp/reference/#consumer-events). You can also set the force close to false as extra protection if you want.","body":"<code>&gt;Even with setShutdownTimeout, the last consumed message might not be acked</code> Why do you say that? Make the timeout a large value; <code>stop()</code> will block until the last consumer thread completes. You can add an <code>ApplicationListener&lt;AsyncConsumerStoppedEvent&gt;</code> (or an <code>@EventListener</code>method) to get an event as each consumer thread exits). See <a href=\"https://docs.spring.io/spring-amqp/reference/#consumer-events\" rel=\"nofollow noreferrer\">Consumer Events</a>. You can also set the force close to false as extra protection if you want."},{"owner":{"account_id":317708,"reputation":9159,"user_id":634545,"accept_rate":73,"display_name":"user634545"},"score":0,"creation_date":1557084617,"post_id":55993227,"comment_id":98638472,"body_markdown":"No matter how high we set `setShutdownTimeout`, the consumer will continue to process newly arrived messages, until the timeout has been reached.\n\nSo, if the consumer start processing a message just before the timeout has been reached, the message won&#39;t be acked.\n\nI can put together an example on github.","body":"No matter how high we set <code>setShutdownTimeout</code>, the consumer will continue to process newly arrived messages, until the timeout has been reached.  So, if the consumer start processing a message just before the timeout has been reached, the message won&#39;t be acked.  I can put together an example on github."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1557086502,"post_id":55993227,"comment_id":98638896,"body_markdown":"No it will not; `doShutdown()` cancels the consumer so no more messages will arrive for it. Furthermore, the consumer runs in a loop `while(isActive()...` and `shutDown()` sets `active` to false before calling `doShutDown()`.","body":"No it will not; <code>doShutdown()</code> cancels the consumer so no more messages will arrive for it. Furthermore, the consumer runs in a loop <code>while(isActive()...</code> and <code>shutDown()</code> sets <code>active</code> to false before calling <code>doShutDown()</code>."},{"owner":{"account_id":317708,"reputation":9159,"user_id":634545,"accept_rate":73,"display_name":"user634545"},"score":0,"creation_date":1557087525,"post_id":55993227,"comment_id":98639210,"body_markdown":"You are correct, my mistake. The &quot;issue&quot; might only occur if the `setShutdownTimeout` is less than the initial `numberOfMessages` * `consumerExecutionTimePerMessage`. I&#39;m fine with that. Thanks.","body":"You are correct, my mistake. The &quot;issue&quot; might only occur if the <code>setShutdownTimeout</code> is less than the initial <code>numberOfMessages</code> * <code>consumerExecutionTimePerMessage</code>. I&#39;m fine with that. Thanks."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1690477796,"post_id":55993227,"comment_id":135362914,"body_markdown":"There is now a new property `forceStop` to stop the container after the current message is processed, requeueing other prefetched messages. https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop","body":"There is now a new property <code>forceStop</code> to stop the container after the current message is processed, requeueing other prefetched messages. <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop\" rel=\"nofollow noreferrer\">docs.spring.io/spring-amqp/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690477842,"creation_date":1557067881,"answer_id":55993227,"question_id":55991826,"body_markdown":"Increase the shutdown timeout.\r\n\r\nSee [Message Listener Container Configuration](https://docs.spring.io/spring-amqp/reference/#containerAttributes).\r\n\r\n&gt;**shutdownTimeout**\r\n\r\n&gt;When a container shuts down (for example, if its enclosing ApplicationContext is closed), it waits for in-flight messages to be processed up to this limit. Defaults to five seconds.\r\n\r\n\t/**\r\n\t * The time to wait for workers in milliseconds after the container is stopped. If any\r\n\t * workers are active when the shutdown signal comes they will be allowed to finish\r\n\t * processing as long as they can finish within this timeout. Defaults\r\n\t * to 5 seconds.\r\n\t * @param shutdownTimeout the shutdown timeout to set\r\n\t */\r\n\tpublic void setShutdownTimeout(long shutdownTimeout) {\r\n\r\n\r\n\r\n__EDIT__\r\n\r\nThere is now a new property `forceStop` to stop the container after the current message is processed, requeueing other prefetched messages. https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop","title":"How to gracefully stop consuming messages with @RabbitListener","body":"<p>Increase the shutdown timeout.</p>\n<p>See <a href=\"https://docs.spring.io/spring-amqp/reference/#containerAttributes\" rel=\"nofollow noreferrer\">Message Listener Container Configuration</a>.</p>\n<blockquote>\n<p><strong>shutdownTimeout</strong></p>\n</blockquote>\n<blockquote>\n<p>When a container shuts down (for example, if its enclosing ApplicationContext is closed), it waits for in-flight messages to be processed up to this limit. Defaults to five seconds.</p>\n</blockquote>\n<pre><code>/**\n * The time to wait for workers in milliseconds after the container is stopped. If any\n * workers are active when the shutdown signal comes they will be allowed to finish\n * processing as long as they can finish within this timeout. Defaults\n * to 5 seconds.\n * @param shutdownTimeout the shutdown timeout to set\n */\npublic void setShutdownTimeout(long shutdownTimeout) {\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>There is now a new property <code>forceStop</code> to stop the container after the current message is processed, requeueing other prefetched messages. <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop</a></p>\n"},{"comments":[{"owner":{"account_id":339778,"reputation":454,"user_id":669455,"accept_rate":92,"display_name":"Nischo"},"score":0,"creation_date":1646137119,"post_id":70125935,"comment_id":126044694,"body_markdown":"Shouldn&#39;t the formula be `prefetchCount &lt; (shutdownTimeout / consumerExecutionTimePerMessage)`?","body":"Shouldn&#39;t the formula be <code>prefetchCount &lt; (shutdownTimeout &#47; consumerExecutionTimePerMessage)</code>?"},{"owner":{"account_id":23460684,"reputation":21,"user_id":17515581,"display_name":"Alexandre D."},"score":0,"creation_date":1646226530,"post_id":70125935,"comment_id":126069942,"body_markdown":"Absolutely, you&#39;re rigtht, I edit the formula.","body":"Absolutely, you&#39;re rigtht, I edit the formula."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1690477802,"post_id":70125935,"comment_id":135362916,"body_markdown":"There is now a new property `forceStop` to stop the container after the current message is processed, requeueing other prefetched messages. https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop","body":"There is now a new property <code>forceStop</code> to stop the container after the current message is processed, requeueing other prefetched messages. <a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#forceStop\" rel=\"nofollow noreferrer\">docs.spring.io/spring-amqp/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":23460684,"reputation":21,"user_id":17515581,"display_name":"Alexandre D."},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646226484,"creation_date":1637936732,"answer_id":70125935,"question_id":55991826,"body_markdown":"To complete @user634545&#39;s last comment, we have to deal with 2 properties :\r\n\r\n - [shutdownTimeout](https://docs.spring.io/spring-amqp/reference/html/#shutdownTimeout)\r\n - [prefetchCount](https://docs.spring.io/spring-amqp/reference/html/#prefetchCount)\r\n\r\nThese parameters must be ajusted in order to validate the following :\r\n\r\n```\r\nprefetchCount &lt; (shutdownTimeout / consumerExecutionTimePerMessage)\r\n```\r\n\r\nIt would mean that after receiving the shutdown order, the consumer should be able to consume and aknowledge every prefetched messages.","title":"How to gracefully stop consuming messages with @RabbitListener","body":"<p>To complete @user634545's last comment, we have to deal with 2 properties :</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-amqp/reference/html/#shutdownTimeout\" rel=\"nofollow noreferrer\">shutdownTimeout</a></li>\n<li><a href=\"https://docs.spring.io/spring-amqp/reference/html/#prefetchCount\" rel=\"nofollow noreferrer\">prefetchCount</a></li>\n</ul>\n<p>These parameters must be ajusted in order to validate the following :</p>\n<pre><code>prefetchCount &lt; (shutdownTimeout / consumerExecutionTimePerMessage)\n</code></pre>\n<p>It would mean that after receiving the shutdown order, the consumer should be able to consume and aknowledge every prefetched messages.</p>\n"}],"owner":{"account_id":317708,"reputation":9159,"user_id":634545,"accept_rate":73,"display_name":"user634545"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4421,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55993227,"answer_count":2,"score":4,"last_activity_date":1690477842,"creation_date":1557058539,"question_id":55991826,"body_markdown":"Is there a way to gracefully stop a `ListenerContainer`, and its associated `Consumers`.\r\n\r\n**What I&#39;m trying to achieve.**\r\n\r\n1. Stop consuming messages.\r\n2. Gracefully stop `ListenerContainer`.\r\n3. Await long running consumers, and ack when finished.\r\n\r\nI&#39;m able to stop the `ListenerContainers` using `consumer.stop()`, but active long running consumers won&#39;t complete successfully, and processed messages won&#39;t be acked and will therefore be processed again, once the ListenerContainer has been resumed.\r\n\r\n\r\n**Output**\r\n\r\n    Waiting for workers to finish.\r\n    Workers not finished.\r\n    Closing channel for unresponsive consumer: Consumer@6d229b1c\r\n\r\nThe message was processed, but not acked.\r\n\r\n\r\nI might be able to achieve a graceful shutdown using `setForceCloseChannel(false)`, but is it possible to verify if the cancelled consumers has finished? SimpleMessageListenerContainer.doShutDown() has a local scoped List &quot;canceledConsumers&quot;.\r\n","title":"How to gracefully stop consuming messages with @RabbitListener","body":"<p>Is there a way to gracefully stop a <code>ListenerContainer</code>, and its associated <code>Consumers</code>.</p>\n\n<p><strong>What I'm trying to achieve.</strong></p>\n\n<ol>\n<li>Stop consuming messages.</li>\n<li>Gracefully stop <code>ListenerContainer</code>.</li>\n<li>Await long running consumers, and ack when finished.</li>\n</ol>\n\n<p>I'm able to stop the <code>ListenerContainers</code> using <code>consumer.stop()</code>, but active long running consumers won't complete successfully, and processed messages won't be acked and will therefore be processed again, once the ListenerContainer has been resumed.</p>\n\n<p><strong>Output</strong></p>\n\n<pre><code>Waiting for workers to finish.\nWorkers not finished.\nClosing channel for unresponsive consumer: Consumer@6d229b1c\n</code></pre>\n\n<p>The message was processed, but not acked.</p>\n\n<p>I might be able to achieve a graceful shutdown using <code>setForceCloseChannel(false)</code>, but is it possible to verify if the cancelled consumers has finished? SimpleMessageListenerContainer.doShutDown() has a local scoped List \"canceledConsumers\".</p>\n"},{"tags":["java","spring-boot","soap","java-11"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1534526738,"post_id":51892528,"comment_id":90751615,"body_markdown":"Few points that I could collect, trying to debug a similar setup... 1. a transitive dependency of `com.sun.xml.ws:jaxws-ri:2.3.0.2` which is `javax.jws:jsr181-api:jar:1.0-MR1` brings in the interface `WebMethod` which does have the method `exclude`... 2. Can you make sure no other dependency is bringing in the same interface with a different implementation? 3. Also, could you detail out in the question, how you are building/executing your application?","body":"Few points that I could collect, trying to debug a similar setup... 1. a transitive dependency of <code>com.sun.xml.ws:jaxws-ri:2.3.0.2</code> which is <code>javax.jws:jsr181-api:jar:1.0-MR1</code> brings in the interface <code>WebMethod</code> which does have the method <code>exclude</code>... 2. Can you make sure no other dependency is bringing in the same interface with a different implementation? 3. Also, could you detail out in the question, how you are building/executing your application?"},{"owner":{"account_id":14172223,"reputation":311,"user_id":10238493,"display_name":"amjr"},"score":0,"creation_date":1534746536,"post_id":51892528,"comment_id":90799601,"body_markdown":"ad 3) @SpringBootTest","body":"ad 3) @SpringBootTest"},{"owner":{"account_id":14172223,"reputation":311,"user_id":10238493,"display_name":"amjr"},"score":0,"creation_date":1534746876,"post_id":51892528,"comment_id":90799727,"body_markdown":"ad 2) only spring-boot-starter-web spring-boot-starter-test 2.0.3. This is small application with small amount of dependencies and JAXWS is not necessary. I want also to open general discussion about migration, if application is more complex.","body":"ad 2) only spring-boot-starter-web spring-boot-starter-test 2.0.3. This is small application with small amount of dependencies and JAXWS is not necessary. I want also to open general discussion about migration, if application is more complex."},{"owner":{"account_id":6402290,"reputation":12678,"user_id":4964553,"display_name":"jonashackt"},"score":0,"creation_date":1610033881,"post_id":51892528,"comment_id":116010232,"body_markdown":"Simply use https://github.com/codecentric/cxf-spring-boot-starter - it does the integration of Apache CXF and Spring Boot without any hassle for the developer. And it solves your upgrade problems to Java 11 (and 15 :) ). It also adds capabilities of handling all the JAX-B class generation automatically using the https://github.com/codecentric/cxf-spring-boot-starter-maven-plugin - and also generates every Spring Boot classes 100% only from your `.wsdl` file (implementing the contract first concept). But it also works in client-only mode.","body":"Simply use <a href=\"https://github.com/codecentric/cxf-spring-boot-starter\" rel=\"nofollow noreferrer\">github.com/codecentric/cxf-spring-boot-starter</a> - it does the integration of Apache CXF and Spring Boot without any hassle for the developer. And it solves your upgrade problems to Java 11 (and 15 :) ). It also adds capabilities of handling all the JAX-B class generation automatically using the <a href=\"https://github.com/codecentric/cxf-spring-boot-starter-maven-plugin\" rel=\"nofollow noreferrer\">github.com/codecentric/cxf-spring-boot-starter-maven-plugin</a> - and also generates every Spring Boot classes 100% only from your <code>.wsdl</code> file (implementing the contract first concept). But it also works in client-only mode."}],"answers":[{"comments":[{"owner":{"account_id":6193930,"reputation":2587,"user_id":4825845,"display_name":"Juan Moreno"},"score":0,"creation_date":1543901258,"post_id":52865705,"comment_id":94074321,"body_markdown":"If you need to generate clients from wsdl check this question https://stackoverflow.com/questions/52857820/cxf-codegen-maven-plugin-doesnt-work-openjdk-11","body":"If you need to generate clients from wsdl check this question <a href=\"https://stackoverflow.com/questions/52857820/cxf-codegen-maven-plugin-doesnt-work-openjdk-11\" title=\"cxf codegen maven plugin doesnt work openjdk 11\">stackoverflow.com/questions/52857820/&hellip;</a>"},{"owner":{"account_id":9162680,"reputation":3767,"user_id":6813506,"accept_rate":22,"display_name":"Rohit Gaikwad"},"score":3,"creation_date":1575078013,"post_id":52865705,"comment_id":104456020,"body_markdown":"The jaxws-rt.jar uses 3 jdk internal APIs which are removed in java 11.0.5. Is there any other alternative library to use for this jar? Any other jar which is compatible with Java 11?","body":"The jaxws-rt.jar uses 3 jdk internal APIs which are removed in java 11.0.5. Is there any other alternative library to use for this jar? Any other jar which is compatible with Java 11?"},{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":0,"creation_date":1590415875,"post_id":52865705,"comment_id":109663642,"body_markdown":"for wsdl generation, if found a workable solution combining Cassian&#39;s [answer](https://stackoverflow.com/questions/18338196/how-to-generate-classes-from-wsdl-using-maven-and-wsimport) with this one","body":"for wsdl generation, if found a workable solution combining Cassian&#39;s <a href=\"https://stackoverflow.com/questions/18338196/how-to-generate-classes-from-wsdl-using-maven-and-wsimport\">answer</a> with this one"}],"tags":[],"owner":{"account_id":1999797,"reputation":328,"user_id":1791121,"display_name":"user1791121"},"comment_count":3,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1609829878,"creation_date":1539826283,"answer_id":52865705,"question_id":51892528,"body_markdown":"Note sure about sprint boot, but to get JAXWS working in Java 11, I used\r\n\r\n    &lt;profiles&gt;\r\n        &lt;!-- add back the jaxws SOAP dependendies which were removed in JDK11 --&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;jdk11&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;jdk&gt;[11,)&lt;/jdk&gt;\r\n            &lt;/activation&gt;\r\n            &lt;!-- tested working with OpenJDK 11.0.8 --&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.3&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;rt&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.3.3&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>Note sure about sprint boot, but to get JAXWS working in Java 11, I used</p>\n<pre><code>&lt;profiles&gt;\n    &lt;!-- add back the jaxws SOAP dependendies which were removed in JDK11 --&gt;\n    &lt;profile&gt;\n        &lt;id&gt;jdk11&lt;/id&gt;\n        &lt;activation&gt;\n            &lt;jdk&gt;[11,)&lt;/jdk&gt;\n        &lt;/activation&gt;\n        &lt;!-- tested working with OpenJDK 11.0.8 --&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n                &lt;version&gt;2.3.3&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n                &lt;artifactId&gt;rt&lt;/artifactId&gt;\n                &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10641186,"reputation":221,"user_id":8581765,"display_name":"Max Lich"},"score":1,"creation_date":1574081799,"post_id":56957182,"comment_id":104091877,"body_markdown":"I have a similar problem, and I still can’t find a solution. May you show the whole list of dependencies for SOAP that are in your pom.xml?","body":"I have a similar problem, and I still can’t find a solution. May you show the whole list of dependencies for SOAP that are in your pom.xml?"},{"owner":{"account_id":2055939,"reputation":2208,"user_id":1833705,"display_name":"Rafael Renan Pacheco"},"score":0,"creation_date":1574173389,"post_id":56957182,"comment_id":104131141,"body_markdown":"We changed from that specific dependency to jaxb2-maven-plugin 2.5.0+, which has that dependency among some new others. Check this answer https://stackoverflow.com/a/56972713/1833705 and try the newest version of jaxb2-maven-plugin.","body":"We changed from that specific dependency to jaxb2-maven-plugin 2.5.0+, which has that dependency among some new others. Check this answer <a href=\"https://stackoverflow.com/a/56972713/1833705\">stackoverflow.com/a/56972713/1833705</a> and try the newest version of jaxb2-maven-plugin."}],"tags":[],"owner":{"account_id":2055939,"reputation":2208,"user_id":1833705,"display_name":"Rafael Renan Pacheco"},"comment_count":2,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1562690590,"creation_date":1562690590,"answer_id":56957182,"question_id":51892528,"body_markdown":"The documentation regarding this removal ([JEP 320][1]) has a topic called **Risks and Assumptions** followed by **Java EE modules** in which they suggest alternatives for the removals, like [jaxws-ri][2] and [jaxb-ri][3].\r\n\r\nIn my case I was using the **javax.jws** package in Java 8 and it got removed in Java 11. So as the JEP suggests, I just had to add the following dependency to get it working again on Java 11:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn your case you may need other dependencies as well, just take a look at the JEP suggestions.\r\n\r\n  [1]: http://openjdk.java.net/jeps/320\r\n  [2]: https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-ri\r\n  [3]: https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-ri","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>The documentation regarding this removal (<a href=\"http://openjdk.java.net/jeps/320\" rel=\"noreferrer\">JEP 320</a>) has a topic called <strong>Risks and Assumptions</strong> followed by <strong>Java EE modules</strong> in which they suggest alternatives for the removals, like <a href=\"https://mvnrepository.com/artifact/com.sun.xml.ws/jaxws-ri\" rel=\"noreferrer\">jaxws-ri</a> and <a href=\"https://mvnrepository.com/artifact/com.sun.xml.bind/jaxb-ri\" rel=\"noreferrer\">jaxb-ri</a>.</p>\n\n<p>In my case I was using the <strong>javax.jws</strong> package in Java 8 and it got removed in Java 11. So as the JEP suggests, I just had to add the following dependency to get it working again on Java 11:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n    &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In your case you may need other dependencies as well, just take a look at the JEP suggestions.</p>\n"},{"tags":[],"owner":{"account_id":29105217,"reputation":21,"user_id":22296186,"display_name":"SideX"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690477702,"creation_date":1690477702,"answer_id":76782039,"question_id":51892528,"body_markdown":"You can use Jakarta instead:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>You can use Jakarta instead:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14172223,"reputation":311,"user_id":10238493,"display_name":"amjr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93585,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"answer_count":3,"score":31,"last_activity_date":1690477702,"creation_date":1534498711,"question_id":51892528,"body_markdown":"I am looking for compatible combination of `org.apache.cxf:cxf-spring-boot-starter-jaxws` with `jaxws-api`/`jaxws-ri` on Java 10+.\r\n\r\nOur application works fine on Java 8. \r\n\r\nAlso on Java 9 &amp; 10 with `--add-modules=java.se.ee`.\r\n\r\nBut, when i remove this option and add following dependecies:\r\n\r\n    compile group: &#39;javax.xml.ws&#39;, name: &#39;jaxws-api&#39;, version: &#39;2.3.0&#39;\r\n    compile group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-ri&#39;, version: &#39;2.3.0.2&#39;, ext: &#39;pom&#39;\r\n    compile group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-rt&#39;, version: &#39;2.3.0.2&#39;, ext: &#39;pom&#39;\r\n\r\ncommon dependencies (with/without --add-modules in java 9/10, or java 8):\r\n\r\n    compile(&#39;org.apache.cxf:cxf-spring-boot-starter-jaxws:3.2.6&#39;)\r\n\r\nI become:\r\n\r\n    Caused by: java.lang.NoSuchMethodError: javax.jws.WebMethod.exclude()Z\r\n    \tat org.apache.cxf.jaxws.support.JaxWsServiceConfiguration.isOperation(JaxWsServiceConfiguration.java:190)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.isValidMethod(ReflectionServiceFactoryBean.java:1962)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.createInterface(ReflectionServiceFactoryBean.java:999)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.buildServiceFromClass(ReflectionServiceFactoryBean.java:461)\r\n    \tat org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.buildServiceFromClass(JaxWsServiceFactoryBean.java:695)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:530)\r\n    \tat org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:263)\r\n    \tat org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:199)\r\n    \tat org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:103)\r\n    \tat org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:168)\r\n    \tat org.apache.cxf.jaxws.JaxWsServerFactoryBean.create(JaxWsServerFactoryBean.java:211)\r\n    \tat org.apache.cxf.jaxws.EndpointImpl.getServer(EndpointImpl.java:460)\r\n    \tat org.apache.cxf.jaxws.EndpointImpl.doPublish(EndpointImpl.java:338)\r\n    \tat org.apache.cxf.jaxws.EndpointImpl.publish(EndpointImpl.java:255)\r\n    \tat .....\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 44 more\r\n\r\n","title":"Migration JAXWS application from Java 8 to Java 11","body":"<p>I am looking for compatible combination of <code>org.apache.cxf:cxf-spring-boot-starter-jaxws</code> with <code>jaxws-api</code>/<code>jaxws-ri</code> on Java 10+.</p>\n<p>Our application works fine on Java 8.</p>\n<p>Also on Java 9 &amp; 10 with <code>--add-modules=java.se.ee</code>.</p>\n<p>But, when i remove this option and add following dependecies:</p>\n<pre><code>compile group: 'javax.xml.ws', name: 'jaxws-api', version: '2.3.0'\ncompile group: 'com.sun.xml.ws', name: 'jaxws-ri', version: '2.3.0.2', ext: 'pom'\ncompile group: 'com.sun.xml.ws', name: 'jaxws-rt', version: '2.3.0.2', ext: 'pom'\n</code></pre>\n<p>common dependencies (with/without --add-modules in java 9/10, or java 8):</p>\n<pre><code>compile('org.apache.cxf:cxf-spring-boot-starter-jaxws:3.2.6')\n</code></pre>\n<p>I become:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodError: javax.jws.WebMethod.exclude()Z\n    at org.apache.cxf.jaxws.support.JaxWsServiceConfiguration.isOperation(JaxWsServiceConfiguration.java:190)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.isValidMethod(ReflectionServiceFactoryBean.java:1962)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.createInterface(ReflectionServiceFactoryBean.java:999)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.buildServiceFromClass(ReflectionServiceFactoryBean.java:461)\n    at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.buildServiceFromClass(JaxWsServiceFactoryBean.java:695)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.initializeServiceModel(ReflectionServiceFactoryBean.java:530)\n    at org.apache.cxf.wsdl.service.factory.ReflectionServiceFactoryBean.create(ReflectionServiceFactoryBean.java:263)\n    at org.apache.cxf.jaxws.support.JaxWsServiceFactoryBean.create(JaxWsServiceFactoryBean.java:199)\n    at org.apache.cxf.frontend.AbstractWSDLBasedEndpointFactory.createEndpoint(AbstractWSDLBasedEndpointFactory.java:103)\n    at org.apache.cxf.frontend.ServerFactoryBean.create(ServerFactoryBean.java:168)\n    at org.apache.cxf.jaxws.JaxWsServerFactoryBean.create(JaxWsServerFactoryBean.java:211)\n    at org.apache.cxf.jaxws.EndpointImpl.getServer(EndpointImpl.java:460)\n    at org.apache.cxf.jaxws.EndpointImpl.doPublish(EndpointImpl.java:338)\n    at org.apache.cxf.jaxws.EndpointImpl.publish(EndpointImpl.java:255)\n    at .....\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 44 more\n</code></pre>\n"},{"tags":["java","selenium-webdriver","firefox"],"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690498310,"post_id":76782037,"comment_id":135366294,"body_markdown":"_Webelement is actually inside a shadow dom_: is possibly the root cause of all the mess around. See: [this](https://stackoverflow.com/a/55763793/7429447), [this](https://stackoverflow.com/a/73242476/7429447) and [this discussion](https://stackoverflow.com/q/56380091/7429447)","body":"<i>Webelement is actually inside a shadow dom</i>: is possibly the root cause of all the mess around. See: <a href=\"https://stackoverflow.com/a/55763793/7429447\">this</a>, <a href=\"https://stackoverflow.com/a/73242476/7429447\">this</a> and <a href=\"https://stackoverflow.com/q/56380091/7429447\">this discussion</a>"}],"owner":{"account_id":12619826,"reputation":249,"user_id":9175771,"accept_rate":29,"display_name":"shivam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690477687,"creation_date":1690477687,"question_id":76782037,"body_markdown":"I am running the below code snippet in Firefox Browser:\r\n\r\n\r\n    WebElement uploadControl = driver.findElement(By.cssSelector(&quot;input[type=&#39;file&#39;]&quot;));\r\n    String file = &quot;C:\\\\other\\\\abc.jpg&quot;;\r\n    uploadControl.sendKeys(file);\r\n\r\n\r\nTo note the Webelement is actually inside a shadow dom which I am fetching using JavascriptExecutor and storing it as &#39;uploadControl&#39;.\r\n\r\nWhen executing this code in Firefox browser, it gives error: \r\n\r\n\r\n    Org.openqa.selenium.ElementNotInteractableException: Element &lt;input typ=&quot;file&quot;&gt; is not reachable by keyboard.\r\n\r\n\r\nI tried to use JavascriptExecutor in place of sendKeys but it does not work.\r\n\r\nNote: I already saw this question: https://stackoverflow.com/questions/49864965/org-openqa-selenium-elementnotinteractableexception-element-is-not-reachable-by/49872160#49872160 as well and tried different solutions but nothing works.\r\n\r\n","title":"Selenium Java Webdriver: Org.openqa.selenium.ElementNotInteractableException: Element &lt;input typ=&quot;file&quot;&gt; is not reachable by keyboard","body":"<p>I am running the below code snippet in Firefox Browser:</p>\n<pre><code>WebElement uploadControl = driver.findElement(By.cssSelector(&quot;input[type='file']&quot;));\nString file = &quot;C:\\\\other\\\\abc.jpg&quot;;\nuploadControl.sendKeys(file);\n</code></pre>\n<p>To note the Webelement is actually inside a shadow dom which I am fetching using JavascriptExecutor and storing it as 'uploadControl'.</p>\n<p>When executing this code in Firefox browser, it gives error:</p>\n<pre><code>Org.openqa.selenium.ElementNotInteractableException: Element &lt;input typ=&quot;file&quot;&gt; is not reachable by keyboard.\n</code></pre>\n<p>I tried to use JavascriptExecutor in place of sendKeys but it does not work.</p>\n<p>Note: I already saw this question: <a href=\"https://stackoverflow.com/questions/49864965/org-openqa-selenium-elementnotinteractableexception-element-is-not-reachable-by/49872160#49872160\">org.openqa.selenium.ElementNotInteractableException: Element is not reachable by keyboard: while sending text to FirstName field in Facebook</a> as well and tried different solutions but nothing works.</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":12869604,"reputation":158,"user_id":9308543,"display_name":"Hosten"},"score":0,"creation_date":1630315884,"post_id":68981681,"comment_id":121913952,"body_markdown":"Thank you So much. Changing to\n WebClient.post()\n            .uri(&quot;example.com&quot;)\n            .body(.fromValue(&lt;T&gt; object); \ndid the trick","body":"Thank you So much. Changing to  WebClient.post()             .uri(&quot;example.com&quot;)             .body(.fromValue(&lt;T&gt; object);  did the trick"}],"tags":[],"owner":{"account_id":2538516,"reputation":540,"user_id":5662508,"display_name":"Nagaraju Chitimilla"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1630315206,"creation_date":1630315206,"answer_id":68981681,"question_id":68981567,"body_markdown":"The javadoc clearly says to use `fromValue`.\r\n\r\n    public static &lt;T&gt; BodyInserter&lt;T,ReactiveHttpOutputMessage&gt; fromValue(T body)\r\n\r\nInserter to write the given value.\r\nAlternatively, consider using the bodyValue(Object) shortcuts on WebClient and ServerResponse.\r\n\r\n**Type Parameters:**\r\n\r\n`T` - the type of the body\r\n\r\n**Parameters:**\r\n`body` - the value to write\r\n\r\n**Returns:**\r\n\r\nthe inserter to write a single value\r\n\r\n**Throws:**\r\n\r\n`IllegalArgumentException` - if body is a Publisher or an instance of a type supported by `ReactiveAdapterRegistry.getSharedInstance()`, for which `fromPublisher(Publisher, Class)` or `fromProducer(Object, Class)` should be used.","title":"BodyInserters.fromObject is deprecated, what is the alternative?","body":"<p>The javadoc clearly says to use <code>fromValue</code>.</p>\n<pre><code>public static &lt;T&gt; BodyInserter&lt;T,ReactiveHttpOutputMessage&gt; fromValue(T body)\n</code></pre>\n<p>Inserter to write the given value.\nAlternatively, consider using the bodyValue(Object) shortcuts on WebClient and ServerResponse.</p>\n<p><strong>Type Parameters:</strong></p>\n<p><code>T</code> - the type of the body</p>\n<p><strong>Parameters:</strong>\n<code>body</code> - the value to write</p>\n<p><strong>Returns:</strong></p>\n<p>the inserter to write a single value</p>\n<p><strong>Throws:</strong></p>\n<p><code>IllegalArgumentException</code> - if body is a Publisher or an instance of a type supported by <code>ReactiveAdapterRegistry.getSharedInstance()</code>, for which <code>fromPublisher(Publisher, Class)</code> or <code>fromProducer(Object, Class)</code> should be used.</p>\n"},{"tags":[],"owner":{"account_id":14333934,"reputation":21,"user_id":10353997,"display_name":"Marco Antonio Zaragocin Arrobo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690477173,"creation_date":1690477173,"answer_id":76781972,"question_id":68981567,"body_markdown":"I use this way, and it worked\r\n\r\nServerResponse.ok().contentType(MediaType.TEXT_PLAIN)\r\n                .body(BodyInserters.fromPublisher(Mono.just(&quot;Hello World!&quot;),String.class));","title":"BodyInserters.fromObject is deprecated, what is the alternative?","body":"<p>I use this way, and it worked</p>\n<p>ServerResponse.ok().contentType(MediaType.TEXT_PLAIN)\n.body(BodyInserters.fromPublisher(Mono.just(&quot;Hello World!&quot;),String.class));</p>\n"}],"owner":{"account_id":12869604,"reputation":158,"user_id":9308543,"display_name":"Hosten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4452,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68981681,"answer_count":2,"score":5,"last_activity_date":1690477173,"creation_date":1630314776,"question_id":68981567,"body_markdown":"Helllo.\r\nI am trying to use Spring webclient to send post requests and fill the body with an object. But I receive the following &quot; &#39;fromObject(T)&#39; is deprecate&quot;.\r\nWhat is the alternative then ?\r\n \r\n\r\n    WebClient.post()\r\n                .uri(&quot;example.com&quot;)\r\n                .body(BodyInserters.fromObject(newObject);","title":"BodyInserters.fromObject is deprecated, what is the alternative?","body":"<p>Helllo.\nI am trying to use Spring webclient to send post requests and fill the body with an object. But I receive the following &quot; 'fromObject(T)' is deprecate&quot;.\nWhat is the alternative then ?</p>\n<pre><code>WebClient.post()\n            .uri(&quot;example.com&quot;)\n            .body(BodyInserters.fromObject(newObject);\n</code></pre>\n"},{"tags":["java","spring","mongodb"],"answers":[{"comments":[{"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"score":0,"creation_date":1690475922,"post_id":76781706,"comment_id":135362546,"body_markdown":"One correction though @Diego Borba, This class Class is there in Java since 1.0 , not from Java 8. Please verify and correct, and also thanks for your answer.","body":"One correction though @Diego Borba, This class Class is there in Java since 1.0 , not from Java 8. Please verify and correct, and also thanks for your answer."},{"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"score":0,"creation_date":1690476295,"post_id":76781706,"comment_id":135362620,"body_markdown":"@NaseerMohammad I know, but what I wanted to say is that my knowledge is from Java 8, the class can be modified in newer versions. But it is really open to bad interpretation, I have made some changes. Thanks for the recommendation!","body":"@NaseerMohammad I know, but what I wanted to say is that my knowledge is from Java 8, the class can be modified in newer versions. But it is really open to bad interpretation, I have made some changes. Thanks for the recommendation!"}],"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690476021,"creation_date":1690474967,"answer_id":76781706,"question_id":76781585,"body_markdown":"The class `Class` refers to the representation of a Java class at runtime. It is a fundamental part of the Java reflection API, which **allows you to examine and interact with the structure and behavior of classes and objects** dynamically, at runtime.\r\n\r\nThe class `Class` is part of the java.lang package and is itself a class. It provides various methods that allow you to **access information about a class**, such as its name, modifiers, fields, methods, constructors, superclasses, interfaces, annotations, etc.\r\n\r\nFor example:\r\n```java\r\nClass&lt;String&gt; clazz = String.class;\r\nSystem.out.println(clazz.getName());       // Output: java.lang.String\r\nSystem.out.println(clazz.getSimpleName()); // Output: String\r\n```\r\n\r\nCheck this out:\r\n - [What is the Class object (java.lang.Class)?][1]\r\n - [Class (Java Platform SE 8)][2]\r\n - [Java.lang.Class class in Java][3]\r\n\r\n  [1]: https://stackoverflow.com/questions/4453349/what-is-the-class-object-java-lang-class\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\r\n  [3]: https://www.geeksforgeeks.org/java-lang-class-class-java-set-1/","title":"Class type in java -spring mongodb source code","body":"<p>The class <code>Class</code> refers to the representation of a Java class at runtime. It is a fundamental part of the Java reflection API, which <strong>allows you to examine and interact with the structure and behavior of classes and objects</strong> dynamically, at runtime.</p>\n<p>The class <code>Class</code> is part of the java.lang package and is itself a class. It provides various methods that allow you to <strong>access information about a class</strong>, such as its name, modifiers, fields, methods, constructors, superclasses, interfaces, annotations, etc.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Class&lt;String&gt; clazz = String.class;\nSystem.out.println(clazz.getName());       // Output: java.lang.String\nSystem.out.println(clazz.getSimpleName()); // Output: String\n</code></pre>\n<p>Check this out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4453349/what-is-the-class-object-java-lang-class\">What is the Class object (java.lang.Class)?</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\">Class (Java Platform SE 8)</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/java-lang-class-class-java-set-1/\" rel=\"nofollow noreferrer\">Java.lang.Class class in Java</a></li>\n</ul>\n"}],"owner":{"account_id":7375742,"reputation":409,"user_id":5614434,"accept_rate":60,"display_name":"Naseer Mohammad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76781706,"answer_count":1,"score":0,"last_activity_date":1690476021,"creation_date":1690473993,"question_id":76781585,"body_markdown":"I was going through the source code of Spring-MongoDB project. Here &lt;https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/aggregation/TypedAggregation.java&gt;\r\n\r\nI found a Type called Class like below\r\n\r\n    private final Class&lt;I&gt; inputType;\r\n\r\nI became curious as to what is this Class type , I looked up if there is any keyword of java which pertains to any Type Class, I haven&#39;t found any, Then I looked upon in the package if there is a Interface or Class of with name \r\n\r\n&gt; Class\r\n\r\nBut I haven&#39;t found any, Those are the only possibilities of my set of assumptions I can make. Can someone help with what is Class here?","title":"Class type in java -spring mongodb source code","body":"<p>I was going through the source code of Spring-MongoDB project. Here <a href=\"https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/aggregation/TypedAggregation.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-data-mongodb/blob/main/spring-data-mongodb/src/main/java/org/springframework/data/mongodb/core/aggregation/TypedAggregation.java</a></p>\n<p>I found a Type called Class like below</p>\n<pre><code>private final Class&lt;I&gt; inputType;\n</code></pre>\n<p>I became curious as to what is this Class type , I looked up if there is any keyword of java which pertains to any Type Class, I haven't found any, Then I looked upon in the package if there is a Interface or Class of with name</p>\n<blockquote>\n<p>Class</p>\n</blockquote>\n<p>But I haven't found any, Those are the only possibilities of my set of assumptions I can make. Can someone help with what is Class here?</p>\n"},{"tags":["java","configuration","akka","typesafe-config"],"comments":[{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1690455283,"post_id":76778236,"comment_id":135357680,"body_markdown":"Did you consider to use standard, ie built-in, principle of sharing defaults via a `reference.conf`? If yes, please update your question why it doesn&#39;t suit you","body":"Did you consider to use standard, ie built-in, principle of sharing defaults via a <code>reference.conf</code>? If yes, please update your question why it doesn&#39;t suit you"},{"owner":{"account_id":1753350,"reputation":13,"user_id":1601936,"display_name":"andre.nunes"},"score":0,"creation_date":1690463519,"post_id":76778236,"comment_id":135359624,"body_markdown":"I don&#39;t see how to handle hierarchy in that way, do you have an example? Like a parent node with config that child nodes can overwrite or use the default from the parent","body":"I don&#39;t see how to handle hierarchy in that way, do you have an example? Like a parent node with config that child nodes can overwrite or use the default from the parent"},{"owner":{"account_id":430698,"reputation":7180,"user_id":4803842,"display_name":"Ivan Stanislavciuc"},"score":0,"creation_date":1690465544,"post_id":76778236,"comment_id":135360157,"body_markdown":"See my answer [here](https://stackoverflow.com/a/76635447/4803842)","body":"See my answer <a href=\"https://stackoverflow.com/a/76635447/4803842\">here</a>"}],"answers":[{"comments":[{"owner":{"account_id":1753350,"reputation":13,"user_id":1601936,"display_name":"andre.nunes"},"score":0,"creation_date":1690531534,"post_id":76781546,"comment_id":135369720,"body_markdown":"Thanks a lot, this is the part of hierarchy that I was missing. It might not be ideal but at least I won&#39;t have to repeat the whole parent structure in all the child configs.","body":"Thanks a lot, this is the part of hierarchy that I was missing. It might not be ideal but at least I won&#39;t have to repeat the whole parent structure in all the child configs."}],"tags":[],"owner":{"account_id":181329,"reputation":4496,"user_id":415251,"accept_rate":83,"display_name":"David Ogren"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690475429,"creation_date":1690473610,"answer_id":76781546,"question_id":76778236,"body_markdown":"In general I agree with Ivan and the link to [his other answer regarding reference configs](https://stackoverflow.com/a/76635447/4803842). (Or any type of base config.) \r\n\r\nThe part that I think you are missing is the &quot;hierarchy&quot;. You can do that, in a non-programmatic way, using inheritance. Here is the docs: https://github.com/lightbend/config#inheritance . You can have a generic config in your reference and then inherit and override in your hierarchy. The docs have an example very similar to yours.\r\n\r\nThe gist would be to reference the generic config with something like:\r\n\r\n```\r\napplication.streams.stream1 = ${application.streams}\r\napplication.streams.stream1.retry.attempts = 2\r\n\r\napplication.streams.stream2 = ${application.streams}\r\napplication.streams.stream2.retry.poll-interval = 5s\r\n\r\n```","title":"Is it possible to non-programmatically merge config objects that are at different hierarchical levels?","body":"<p>In general I agree with Ivan and the link to <a href=\"https://stackoverflow.com/a/76635447/4803842\">his other answer regarding reference configs</a>. (Or any type of base config.)</p>\n<p>The part that I think you are missing is the &quot;hierarchy&quot;. You can do that, in a non-programmatic way, using inheritance. Here is the docs: <a href=\"https://github.com/lightbend/config#inheritance\" rel=\"nofollow noreferrer\">https://github.com/lightbend/config#inheritance</a> . You can have a generic config in your reference and then inherit and override in your hierarchy. The docs have an example very similar to yours.</p>\n<p>The gist would be to reference the generic config with something like:</p>\n<pre><code>application.streams.stream1 = ${application.streams}\napplication.streams.stream1.retry.attempts = 2\n\napplication.streams.stream2 = ${application.streams}\napplication.streams.stream2.retry.poll-interval = 5s\n\n</code></pre>\n"}],"owner":{"account_id":1753350,"reputation":13,"user_id":1601936,"display_name":"andre.nunes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76781546,"answer_count":1,"score":0,"last_activity_date":1690475429,"creation_date":1690449386,"question_id":76778236,"body_markdown":"I&#39;m using TypeSafe Config. Imagine I want to have application wide defaults for resilience patterns but override them specifically at lower config level. I would prefer to have a generic solution instead of manually coding the config creation for each and every stream. Please see example configs:\r\n\r\napplication.conf\r\n``` \r\napplication {\r\n  streams {\r\n    retry {\r\n      attempts = 100\r\n      poll-interval = 5s\r\n      minBackoff = 200 ms\r\n      maxBackoff = 2s\r\n      randomFactor = 0.25\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nservice1.conf\r\n``` \r\napplication {\r\n  streams {\r\n    stream1 {\r\n      retry {\r\n        attempts = 2\r\n      }\r\n    }\r\n    stream2 {\r\n      retry {\r\n        poll-interval = 5s\r\n      }\r\n    }\r\n  }\r\n```\r\n\r\n**Is there a way to non-programmatically merge these configs? Use the defaults from application.conf and override if the value exists in the lower level?** \r\n\r\n**What&#39;s the best practice here?**\r\n\r\nI can&#39;t use:\r\n\r\n\r\n```java\r\nvar defaultConf = ConfigFactory.load(&quot;application.conf&quot;);\r\nvar conf = ConfigFactory.load(&quot;service1.conf&quot;).withFallback(defaultConf);\r\n```\r\nBecause the configs are not at the same hierarchical level.","title":"Is it possible to non-programmatically merge config objects that are at different hierarchical levels?","body":"<p>I'm using TypeSafe Config. Imagine I want to have application wide defaults for resilience patterns but override them specifically at lower config level. I would prefer to have a generic solution instead of manually coding the config creation for each and every stream. Please see example configs:</p>\n<p>application.conf</p>\n<pre><code>application {\n  streams {\n    retry {\n      attempts = 100\n      poll-interval = 5s\n      minBackoff = 200 ms\n      maxBackoff = 2s\n      randomFactor = 0.25\n    }\n  }\n}\n</code></pre>\n<p>service1.conf</p>\n<pre><code>application {\n  streams {\n    stream1 {\n      retry {\n        attempts = 2\n      }\n    }\n    stream2 {\n      retry {\n        poll-interval = 5s\n      }\n    }\n  }\n</code></pre>\n<p><strong>Is there a way to non-programmatically merge these configs? Use the defaults from application.conf and override if the value exists in the lower level?</strong></p>\n<p><strong>What's the best practice here?</strong></p>\n<p>I can't use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var defaultConf = ConfigFactory.load(&quot;application.conf&quot;);\nvar conf = ConfigFactory.load(&quot;service1.conf&quot;).withFallback(defaultConf);\n</code></pre>\n<p>Because the configs are not at the same hierarchical level.</p>\n"},{"tags":["java","thymeleaf","micronaut"],"answers":[{"comments":[{"owner":{"account_id":29098703,"reputation":21,"user_id":22291024,"display_name":"Dimitri-Bit"},"score":0,"creation_date":1690469378,"post_id":76775542,"comment_id":135361121,"body_markdown":"I&#39;m having some trouble setting this up. I&#39;m not planning on using react with micronaut. I just have a simple html. css and js website. Currently I&#39;m accessing all the website frontend files from the static resources folder that is in the frontend folder that gets created when you run the .jar file for the first time. I would like to use views so that I can access the html files without the .html extension. I believe this solution still only works for files inside of the resources folder and not files that are able to be changed after build. Am I wrong? Thank you!","body":"I&#39;m having some trouble setting this up. I&#39;m not planning on using react with micronaut. I just have a simple html. css and js website. Currently I&#39;m accessing all the website frontend files from the static resources folder that is in the frontend folder that gets created when you run the .jar file for the first time. I would like to use views so that I can access the html files without the .html extension. I believe this solution still only works for files inside of the resources folder and not files that are able to be changed after build. Am I wrong? Thank you!"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1690475252,"post_id":76775542,"comment_id":135362412,"body_markdown":"Hi. Added a screen-shot that may clarify. As you can see, the SPA-app ends up under target/classes/static. I never tried the case where files are going to change after build, sorry. BR","body":"Hi. Added a screen-shot that may clarify. As you can see, the SPA-app ends up under target/classes/static. I never tried the case where files are going to change after build, sorry. BR"}],"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690475023,"creation_date":1690412236,"answer_id":76775542,"question_id":76775246,"body_markdown":"Yes, you can. I believe you are going to use e.g. React with Micronaut. You can use the below config with Micronaut. You will also need `maven-resources-plugin` and e.g. `frontend-maven-plugin` as well. \r\n\r\n[This repo][1] contains a Micronaut 4.0.1 example-app with the required config along with a very basic React app.\r\n\r\nDisclosure: I&#39;m the owner of the linked Github repo.\r\n\r\n```\r\nmicronaut:\r\n  application:\r\n    name: micronaut-plus-react\r\n\r\n  views:\r\n    folder: static\r\n\r\n  router:\r\n    static-resources:\r\n      default:\r\n        enabled: true\r\n        mapping: /**/*\r\n        paths:\r\n          - classpath:static\r\n```\r\n\r\nYou will need a controller like this to serve requests for your SPA-app. \r\n```\r\nimport io.micronaut.http.HttpResponse;\r\nimport io.micronaut.http.annotation.Controller;\r\nimport io.micronaut.http.annotation.Get;\r\nimport io.micronaut.views.View;\r\n\r\n@Controller(&quot;/&quot;)\r\npublic class ViewsController {\r\n\r\n    @View(&quot;index&quot;)\r\n    @Get\r\n    public HttpResponse&lt;?&gt; index() {\r\n        return HttpResponse.ok();\r\n    }\r\n}\r\n```\r\n\r\nExample config, `frontend-maven-plugin`. Runs the npm-targets.\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.13.4&lt;/version&gt;\r\n\r\n    &lt;configuration&gt;\r\n        &lt;workingDirectory&gt;src/main/vite-project&lt;/workingDirectory&gt;\r\n        &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\r\n        &lt;nodeVersion&gt;v19.0.0&lt;/nodeVersion&gt;\r\n        &lt;npmVersion&gt;8.19.2&lt;/npmVersion&gt;\r\n    &lt;/configuration&gt;\r\n\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;install node and npm&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;npm ci&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;arguments&gt;ci&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;execution&gt;\r\n            &lt;id&gt;npx vitest&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;npx&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;arguments&gt;vitest run&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n\r\n        &lt;execution&gt;\r\n            &lt;id&gt;npm run build&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;npm&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;arguments&gt;run build&lt;/arguments&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nExample config, `maven-resources-plugin`. \r\n\r\n`${frontend-src-dir}`\r\ncan be defined as `&lt;frontend-src-dir&gt;${project.basedir}/src/main/vite-project&lt;/frontend-src-dir&gt;`\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;position-react-build&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\r\n                &lt;resources&gt;\r\n                    &lt;resource&gt;\r\n                        &lt;directory&gt;${frontend-src-dir}/dist&lt;/directory&gt;\r\n                        &lt;filtering&gt;false&lt;/filtering&gt;\r\n                    &lt;/resource&gt;\r\n                &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAfter running `mvn clean install`, your target folder should look like this when using the example repo:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/roar-skinderviken/micronaut-plus-react\r\n  [2]: https://i.stack.imgur.com/y5q6V.png","title":"Can I use Micronaut thymeleaf views from a external folder","body":"<p>Yes, you can. I believe you are going to use e.g. React with Micronaut. You can use the below config with Micronaut. You will also need <code>maven-resources-plugin</code> and e.g. <code>frontend-maven-plugin</code> as well.</p>\n<p><a href=\"https://github.com/roar-skinderviken/micronaut-plus-react\" rel=\"nofollow noreferrer\">This repo</a> contains a Micronaut 4.0.1 example-app with the required config along with a very basic React app.</p>\n<p>Disclosure: I'm the owner of the linked Github repo.</p>\n<pre><code>micronaut:\n  application:\n    name: micronaut-plus-react\n\n  views:\n    folder: static\n\n  router:\n    static-resources:\n      default:\n        enabled: true\n        mapping: /**/*\n        paths:\n          - classpath:static\n</code></pre>\n<p>You will need a controller like this to serve requests for your SPA-app.</p>\n<pre><code>import io.micronaut.http.HttpResponse;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.micronaut.views.View;\n\n@Controller(&quot;/&quot;)\npublic class ViewsController {\n\n    @View(&quot;index&quot;)\n    @Get\n    public HttpResponse&lt;?&gt; index() {\n        return HttpResponse.ok();\n    }\n}\n</code></pre>\n<p>Example config, <code>frontend-maven-plugin</code>. Runs the npm-targets.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n    &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.13.4&lt;/version&gt;\n\n    &lt;configuration&gt;\n        &lt;workingDirectory&gt;src/main/vite-project&lt;/workingDirectory&gt;\n        &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\n        &lt;nodeVersion&gt;v19.0.0&lt;/nodeVersion&gt;\n        &lt;npmVersion&gt;8.19.2&lt;/npmVersion&gt;\n    &lt;/configuration&gt;\n\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;install node and npm&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;npm ci&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;arguments&gt;ci&lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;id&gt;npx vitest&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npx&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;arguments&gt;vitest run&lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n\n        &lt;execution&gt;\n            &lt;id&gt;npm run build&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;npm&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;arguments&gt;run build&lt;/arguments&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Example config, <code>maven-resources-plugin</code>.</p>\n<p><code>${frontend-src-dir}</code>\ncan be defined as <code>&lt;frontend-src-dir&gt;${project.basedir}/src/main/vite-project&lt;/frontend-src-dir&gt;</code></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;position-react-build&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-resources&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.outputDirectory}/static&lt;/outputDirectory&gt;\n                &lt;resources&gt;\n                    &lt;resource&gt;\n                        &lt;directory&gt;${frontend-src-dir}/dist&lt;/directory&gt;\n                        &lt;filtering&gt;false&lt;/filtering&gt;\n                    &lt;/resource&gt;\n                &lt;/resources&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>After running <code>mvn clean install</code>, your target folder should look like this when using the example repo:</p>\n<p><a href=\"https://i.stack.imgur.com/y5q6V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5q6V.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":29098703,"reputation":21,"user_id":22291024,"display_name":"Dimitri-Bit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1690475023,"creation_date":1690408039,"question_id":76775246,"body_markdown":"I want to use .html view files located in a folder in the same directory as the jar. I managed to do this with static resources but I haven&#39;t had any luck with views using thymeleaf or any other template engine.\r\n\r\n\r\n\r\nI tried doing something like this inside of my application.yml:\r\n`micronaut:\r\n  views:\r\n    folder: &quot;file:frontend&quot;`\r\n\r\nIs it even possible to load views from a external folder other then the resources folder?\r\n\r\nThank you.","title":"Can I use Micronaut thymeleaf views from a external folder","body":"<p>I want to use .html view files located in a folder in the same directory as the jar. I managed to do this with static resources but I haven't had any luck with views using thymeleaf or any other template engine.</p>\n<p>I tried doing something like this inside of my application.yml:\n<code>micronaut: views: folder: &quot;file:frontend&quot;</code></p>\n<p>Is it even possible to load views from a external folder other then the resources folder?</p>\n<p>Thank you.</p>\n"},{"tags":["java","html","selenium-webdriver","xpath"],"answers":[{"comments":[{"owner":{"account_id":19483967,"reputation":13,"user_id":14253692,"display_name":"Clausewitz"},"score":1,"creation_date":1689849660,"post_id":76728975,"comment_id":135272944,"body_markdown":"This solved my issue. Thank you a lot!","body":"This solved my issue. Thank you a lot!"}],"tags":[],"owner":{"account_id":1244297,"reputation":4258,"user_id":1206062,"accept_rate":55,"display_name":"Harshavardhan Konakanchi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689849052,"creation_date":1689849052,"answer_id":76728975,"question_id":76728915,"body_markdown":"\r\n\r\n    By locator = By.xpath(&quot;//span[contains(@class, &#39;pagination-summary&#39;)]&quot;);\r\n    \r\n    WebElement element = driver.findElement(locator);\r\n    \r\n    String text = element.getText();\r\n    \r\n    System.out.println(text);\r\n\r\nIn one single line\r\n\r\n    System.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, &#39;pagination-summary&#39;)]&quot;)).getText());","title":"How to get a dynamic text in span element in Java Selenium?","body":"<pre><code>By locator = By.xpath(&quot;//span[contains(@class, 'pagination-summary')]&quot;);\n\nWebElement element = driver.findElement(locator);\n\nString text = element.getText();\n\nSystem.out.println(text);\n</code></pre>\n<p>In one single line</p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, 'pagination-summary')]&quot;)).getText());\n</code></pre>\n"}],"owner":{"account_id":19483967,"reputation":13,"user_id":14253692,"display_name":"Clausewitz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76728975,"answer_count":1,"score":0,"last_activity_date":1690474332,"creation_date":1689848595,"question_id":76728915,"body_markdown":"I am searching on a site by selecting a date filter over the filter. I&#39;m trying to get the total number of records shown in the filter result.\r\n\r\nThere is a phrase &quot;Showing 1 to 50 of 130&quot; under the records shown on the site, and I want to dynamically take this phrase and display it on the console. \r\n\r\nI tried many things but none of them were successful.\r\n\r\nWhen I take it with InnerHTML it shows the data but all records before filtering. The value of the field changes as I filter, and I want the changed value to be retrieved when I filter.\r\n\r\n\r\nI tried to get this data with xpath and CSS selector but it didn&#39;t work.\r\n\r\n**I am sharing the final version of my code below.**\r\n\r\n````\r\nSystem.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, &#39;pagination-summary&#39;)]/xpath[1]&quot;)));\r\n````\r\n\r\n**That&#39;s the error message i got:**\r\n````\r\nException in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[contains(@class, &#39;pagination-summary&#39;)]/xpath[1]&quot;}\r\n````","title":"How to get a dynamic text in span element in Java Selenium?","body":"<p>I am searching on a site by selecting a date filter over the filter. I'm trying to get the total number of records shown in the filter result.</p>\n<p>There is a phrase &quot;Showing 1 to 50 of 130&quot; under the records shown on the site, and I want to dynamically take this phrase and display it on the console.</p>\n<p>I tried many things but none of them were successful.</p>\n<p>When I take it with InnerHTML it shows the data but all records before filtering. The value of the field changes as I filter, and I want the changed value to be retrieved when I filter.</p>\n<p>I tried to get this data with xpath and CSS selector but it didn't work.</p>\n<p><strong>I am sharing the final version of my code below.</strong></p>\n<pre><code>System.out.println(driver.findElement(By.xpath(&quot;//span[contains(@class, 'pagination-summary')]/xpath[1]&quot;)));\n</code></pre>\n<p><strong>That's the error message i got:</strong></p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//span[contains(@class, 'pagination-summary')]/xpath[1]&quot;}\n</code></pre>\n"},{"tags":["java","apache-kafka","base64"],"answers":[{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690474313,"creation_date":1690474313,"answer_id":76781625,"question_id":76781405,"body_markdown":"&gt; Apache kafka-client Uuid input differs from output (usage of `toString()` or `fromString()` methods)\r\n\r\nDifferent UUID formats in short, depending to the version of used artifact in Kafka prior to 2.6.x the `toString()` method of the UUID class returned a string in the format `xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx`, where each `x` represents a [hexadecimal digit][1]. Which is most common UUID format in my experiences.\r\nHowever, from Kafka 2.6.x, the `toString()` method of the UUID class returns a string in the format  `xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx` where each `x` represents a hexadecimal digit. This format is known as the [canonical][2]  UUID format, how convert them ? see [here][3].\r\n\r\n\r\n  [1]: https://www.uuidtools.com/decode\r\n  [2]: https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/using-uuid-data-type.html#GUID-D2BEE2A1-BF6D-4F4A-8EF4-059A6C8FBAA6\r\n  [3]: https://stackoverflow.com/questions/10687505/uuid-format-8-4-4-4-12-why","title":"Java - Apache kafka-client Uuid input differs from output","body":"<blockquote>\n<p>Apache kafka-client Uuid input differs from output (usage of <code>toString()</code> or <code>fromString()</code> methods)</p>\n</blockquote>\n<p>Different UUID formats in short, depending to the version of used artifact in Kafka prior to 2.6.x the <code>toString()</code> method of the UUID class returned a string in the format <code>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>, where each <code>x</code> represents a <a href=\"https://www.uuidtools.com/decode\" rel=\"nofollow noreferrer\">hexadecimal digit</a>. Which is most common UUID format in my experiences.\nHowever, from Kafka 2.6.x, the <code>toString()</code> method of the UUID class returns a string in the format  <code>xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</code> where each <code>x</code> represents a hexadecimal digit. This format is known as the <a href=\"https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/using-uuid-data-type.html#GUID-D2BEE2A1-BF6D-4F4A-8EF4-059A6C8FBAA6\" rel=\"nofollow noreferrer\">canonical</a>  UUID format, how convert them ? see <a href=\"https://stackoverflow.com/questions/10687505/uuid-format-8-4-4-4-12-why\">here</a>.</p>\n"}],"owner":{"account_id":7084092,"reputation":473,"user_id":5421408,"display_name":"quantumferret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76781625,"answer_count":1,"score":1,"last_activity_date":1690474313,"creation_date":1690472437,"question_id":76781405,"body_markdown":"I need to specify kafka_cluster_ids, and when testing strings with the `org.apache.kafka.common.Uuid` class&#39; `fromString` method, I noticed that the last character of the resulting `Uuid` differs from the input string, but if you use the string returned by `Uuid.toString` to create another `Uuid`, the input and output are the same.\r\n\r\n```java\r\nimport org.apache.commons.text.CharacterPredicates;\r\nimport org.apache.commons.text.RandomStringGenerator;\r\nimport org.apache.kafka.common.Uuid;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        RandomStringGenerator rsg = new RandomStringGenerator.Builder()\r\n                .withinRange(&#39;0&#39;, &#39;z&#39;)\r\n                .filteredBy(CharacterPredicates.LETTERS, CharacterPredicates.DIGITS)\r\n                .build();\r\n        String unique = rsg.generate(22);\r\n        System.out.println(unique);  // prints MHAQTegTj687qceJKFx0gB\r\n        Uuid id = Uuid.fromString(unique);\r\n        System.out.println(id); // prints MHAQTegTj687qceJKFx0gA\r\n\r\n        Uuid id2 = Uuid.fromString(id.toString());\r\n        System.out.println(id2); // prints MHAQTegTj687qceJKFx0gA\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s a minor thing, but it bugs me a bit. I&#39;d like to know why that last character is changing. Thanks in advance!\r\n\r\nEdit: For reference, the relevant source code from `Uuid`:\r\n\r\n```java\r\n    /**\r\n     * Returns a base64 string encoding of the UUID.\r\n     */\r\n    @Override\r\n    public String toString() {\r\n        return Base64.getUrlEncoder().withoutPadding().encodeToString(getBytesFromUuid());\r\n    }\r\n\r\n    /**\r\n     * Creates a UUID based on a base64 string encoding used in the toString() method.\r\n     */\r\n    public static Uuid fromString(String str) {\r\n        if (str.length() &gt; 24) {\r\n            throw new IllegalArgumentException(&quot;Input string with prefix `&quot;\r\n                    + str.substring(0, 24) + &quot;` is too long to be decoded as a base64 UUID&quot;);\r\n        }\r\n\r\n        ByteBuffer uuidBytes = ByteBuffer.wrap(Base64.getUrlDecoder().decode(str));\r\n        if (uuidBytes.remaining() != 16) {\r\n            throw new IllegalArgumentException(&quot;Input string `&quot; + str + &quot;` decoded as &quot;\r\n                    + uuidBytes.remaining() + &quot; bytes, which is not equal to the expected 16 bytes &quot;\r\n                    + &quot;of a base64-encoded UUID&quot;);\r\n        }\r\n\r\n        return new Uuid(uuidBytes.getLong(), uuidBytes.getLong());\r\n    }\r\n\r\n    private byte[] getBytesFromUuid() {\r\n        // Extract bytes for uuid which is 128 bits (or 16 bytes) long.\r\n        ByteBuffer uuidBytes = ByteBuffer.wrap(new byte[16]);\r\n        uuidBytes.putLong(this.mostSignificantBits);\r\n        uuidBytes.putLong(this.leastSignificantBits);\r\n        return uuidBytes.array();\r\n    }\r\n\r\n```","title":"Java - Apache kafka-client Uuid input differs from output","body":"<p>I need to specify kafka_cluster_ids, and when testing strings with the <code>org.apache.kafka.common.Uuid</code> class' <code>fromString</code> method, I noticed that the last character of the resulting <code>Uuid</code> differs from the input string, but if you use the string returned by <code>Uuid.toString</code> to create another <code>Uuid</code>, the input and output are the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.text.CharacterPredicates;\nimport org.apache.commons.text.RandomStringGenerator;\nimport org.apache.kafka.common.Uuid;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        RandomStringGenerator rsg = new RandomStringGenerator.Builder()\n                .withinRange('0', 'z')\n                .filteredBy(CharacterPredicates.LETTERS, CharacterPredicates.DIGITS)\n                .build();\n        String unique = rsg.generate(22);\n        System.out.println(unique);  // prints MHAQTegTj687qceJKFx0gB\n        Uuid id = Uuid.fromString(unique);\n        System.out.println(id); // prints MHAQTegTj687qceJKFx0gA\n\n        Uuid id2 = Uuid.fromString(id.toString());\n        System.out.println(id2); // prints MHAQTegTj687qceJKFx0gA\n    }\n}\n</code></pre>\n<p>It's a minor thing, but it bugs me a bit. I'd like to know why that last character is changing. Thanks in advance!</p>\n<p>Edit: For reference, the relevant source code from <code>Uuid</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Returns a base64 string encoding of the UUID.\n     */\n    @Override\n    public String toString() {\n        return Base64.getUrlEncoder().withoutPadding().encodeToString(getBytesFromUuid());\n    }\n\n    /**\n     * Creates a UUID based on a base64 string encoding used in the toString() method.\n     */\n    public static Uuid fromString(String str) {\n        if (str.length() &gt; 24) {\n            throw new IllegalArgumentException(&quot;Input string with prefix `&quot;\n                    + str.substring(0, 24) + &quot;` is too long to be decoded as a base64 UUID&quot;);\n        }\n\n        ByteBuffer uuidBytes = ByteBuffer.wrap(Base64.getUrlDecoder().decode(str));\n        if (uuidBytes.remaining() != 16) {\n            throw new IllegalArgumentException(&quot;Input string `&quot; + str + &quot;` decoded as &quot;\n                    + uuidBytes.remaining() + &quot; bytes, which is not equal to the expected 16 bytes &quot;\n                    + &quot;of a base64-encoded UUID&quot;);\n        }\n\n        return new Uuid(uuidBytes.getLong(), uuidBytes.getLong());\n    }\n\n    private byte[] getBytesFromUuid() {\n        // Extract bytes for uuid which is 128 bits (or 16 bytes) long.\n        ByteBuffer uuidBytes = ByteBuffer.wrap(new byte[16]);\n        uuidBytes.putLong(this.mostSignificantBits);\n        uuidBytes.putLong(this.leastSignificantBits);\n        return uuidBytes.array();\n    }\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7885,"page":283,"page_size":100}
